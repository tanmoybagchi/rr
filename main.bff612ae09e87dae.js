(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{789:(rl,il,Ni)=>{"use strict";function Kn(n){return"function"==typeof n}function $o(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const St=$o(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function He(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class L{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Kn(r))try{r()}catch(o){t=o instanceof St?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{d(o)}catch(l){t=t??[],l instanceof St?t=[...t,...l.errors]:t.push(l)}}if(t)throw new St(t)}}add(t){var e;if(t&&t!==this)if(this.closed)d(t);else{if(t instanceof L){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&He(e,t)}remove(t){const{_finalizers:e}=this;e&&He(e,t),t instanceof L&&t._removeParent(this)}}L.EMPTY=(()=>{const n=new L;return n.closed=!0,n})();const be=L.EMPTY;function P(n){return n instanceof L||n&&"closed"in n&&Kn(n.remove)&&Kn(n.add)&&Kn(n.unsubscribe)}function d(n){Kn(n)?n():n.unsubscribe()}const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},N={setTimeout(n,t,...e){const{delegate:r}=N;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=N;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function T(n){N.setTimeout(()=>{const{onUnhandledError:t}=f;if(!t)throw n;t(n)})}function g(){}const S=v("C",void 0,void 0);function v(n,t,e){return{kind:n,value:t,error:e}}let w=null;function q(n){if(f.useDeprecatedSynchronousErrorHandling){const t=!w;if(t&&(w={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=w;if(w=null,e)throw r}}else n()}class ie extends L{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,P(t)&&t.add(this)):this.destination=ze}static create(t,e,r){return new k(t,e,r)}next(t){this.isStopped?ce(function h(n){return v("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ce(function x(n){return v("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ce(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const J=Function.prototype.bind;function le(n,t){return J.call(n,t)}class Z{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){K(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){K(r)}else K(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){K(e)}}}class k extends ie{constructor(t,e,r){let i;if(super(),Kn(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&f.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&le(t.next,o),error:t.error&&le(t.error,o),complete:t.complete&&le(t.complete,o)}):i=t}this.destination=new Z(i)}}function K(n){f.useDeprecatedSynchronousErrorHandling?function W(n){f.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=n)}(n):T(n)}function ce(n,t){const{onStoppedNotification:e}=f;e&&N.setTimeout(()=>e(n,t))}const ze={closed:!0,next:g,error:function de(n){throw n},complete:g},st="function"==typeof Symbol&&Symbol.observable||"@@observable";function pe(n){return n}function je(n){return 0===n.length?pe:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let Ye=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function rt(n){return n&&n instanceof ie||function Ve(n){return n&&Kn(n.next)&&Kn(n.error)&&Kn(n.complete)}(n)&&P(n)}(e)?e:new k(e,r,i);return q(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Ne(r))((i,o)=>{const l=new k({next:c=>{try{e(c)}catch(u){o(u),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[st](){return this}pipe(...e){return je(e)(this)}toPromise(e){return new(e=Ne(e))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return n.create=t=>new n(t),n})();function Ne(n){var t;return null!==(t=n??f.Promise)&&void 0!==t?t:Promise}const It=$o(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ft=(()=>{class n extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Pe(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new It}next(e){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?be:(this.currentObservers=null,o.push(e),new L(()=>{this.currentObservers=null,He(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new Ye;return e.source=this,e}}return n.create=(t,e)=>new Pe(t,e),n})();class Pe extends ft{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:be}}class pt extends ft{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Pt(n){return Kn(n?.lift)}function $e(n){return t=>{if(Pt(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(n,t,e,r,i){return new Se(n,t,e,r,i)}class Se extends ie{constructor(t,e,r,i,o,l){super(t),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=e?function(c){try{e(c)}catch(u){t.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ye(n,t){return $e((e,r)=>{let i=0;e.subscribe(ut(r,o=>{r.next(n.call(t,o,i++))}))})}function Tn(n){return this instanceof Tn?(this.v=n,this):new Tn(n)}function Zn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Xe(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(l){return new Promise(function(c,u){!function i(o,l,c,u){Promise.resolve(u).then(function(p){o({value:p,done:c})},l)}(c,u,(l=n[o](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Vt(n){return Kn(n?.then)}function jt(n){return Kn(n[st])}function lt(n){return Symbol.asyncIterator&&Kn(n?.[Symbol.asyncIterator])}function Rt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const At=function _t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Jt(n){return Kn(n?.[At])}function tn(n){return function vn(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(Ee){r[Ee]&&(i[Ee]=function(De){return new Promise(function(xe,qe){o.push([Ee,De,xe,qe])>1||c(Ee,De)})})}function c(Ee,De){try{!function u(Ee){Ee.value instanceof Tn?Promise.resolve(Ee.value.v).then(p,D):H(o[0][2],Ee)}(r[Ee](De))}catch(xe){H(o[0][3],xe)}}function p(Ee){c("next",Ee)}function D(Ee){c("throw",Ee)}function H(Ee,De){Ee(De),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield Tn(e.read());if(i)return yield Tn(void 0);yield yield Tn(r)}}finally{e.releaseLock()}})}function En(n){return Kn(n?.getReader)}function hn(n){if(n instanceof Ye)return n;if(null!=n){if(jt(n))return function sn(n){return new Ye(t=>{const e=n[st]();if(Kn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Zt(n))return function Ut(n){return new Ye(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Vt(n))return function gn(n){return new Ye(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,T)})}(n);if(lt(n))return Un(n);if(Jt(n))return function pn(n){return new Ye(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(En(n))return function rr(n){return Un(tn(n))}(n)}throw Rt(n)}function Un(n){return new Ye(t=>{(function Or(n,t){var e,r,i,o;return function et(n,t,e,r){return new(e||(e=Promise))(function(o,l){function c(D){try{p(r.next(D))}catch(H){l(H)}}function u(D){try{p(r.throw(D))}catch(H){l(H)}}function p(D){D.done?o(D.value):function i(o){return o instanceof e?o:new e(function(l){l(o)})}(D.value).then(c,u)}p((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Zn(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Rn(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function kt(n,t,e=1/0){return Kn(t)?kt((r,i)=>ye((o,l)=>t(r,o,i,l))(hn(n(r,i))),e):("number"==typeof t&&(e=t),$e((r,i)=>function zt(n,t,e,r,i,o,l,c){const u=[];let p=0,D=0,H=!1;const Ee=()=>{H&&!u.length&&!p&&t.complete()},De=qe=>p<r?xe(qe):u.push(qe),xe=qe=>{o&&t.next(qe),p++;let vt=!1;hn(e(qe,D++)).subscribe(ut(t,Nt=>{i?.(Nt),o?De(Nt):t.next(Nt)},()=>{vt=!0},void 0,()=>{if(vt)try{for(p--;u.length&&p<r;){const Nt=u.shift();l?Rn(t,l,()=>xe(Nt)):xe(Nt)}Ee()}catch(Nt){t.error(Nt)}}))};return n.subscribe(ut(t,De,()=>{H=!0,Ee()})),()=>{c?.()}}(r,i,n,e)))}function nn(n=1/0){return kt(pe,n)}const Pn=new Ye(n=>n.complete());function Dr(n){return n&&Kn(n.schedule)}function Ii(n){return n[n.length-1]}function Si(n){return Kn(Ii(n))?n.pop():void 0}function Lr(n){return Dr(Ii(n))?n.pop():void 0}function ii(n,t=0){return $e((e,r)=>{e.subscribe(ut(r,i=>Rn(r,n,()=>r.next(i),t),()=>Rn(r,n,()=>r.complete(),t),i=>Rn(r,n,()=>r.error(i),t)))})}function Vi(n,t=0){return $e((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Bl(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ye(e=>{Rn(e,t,()=>{const r=n[Symbol.asyncIterator]();Rn(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Mi(n,t){return t?function Ul(n,t){if(null!=n){if(jt(n))return function Da(n,t){return hn(n).pipe(Vi(t),ii(t))}(n,t);if(Zt(n))return function Vo(n,t){return new Ye(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Vt(n))return function Ks(n,t){return hn(n).pipe(Vi(t),ii(t))}(n,t);if(lt(n))return Bl(n,t);if(Jt(n))return function oo(n,t){return new Ye(e=>{let r;return Rn(e,t,()=>{r=n[At](),Rn(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void e.error(l)}o?e.complete():e.next(i)},0,!0)}),()=>Kn(r?.return)&&r.return()})}(n,t);if(En(n))return function Lc(n,t){return Bl(tn(n),t)}(n,t)}throw Rt(n)}(n,t):hn(n)}function Io(...n){const t=Lr(n),e=function vi(n,t){return"number"==typeof Ii(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?hn(r[0]):nn(e)(Mi(r,t)):Pn}function Qn(...n){return Mi(n,Lr(n))}function Wt(n={}){const{connector:t=(()=>new ft),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let l,c,u,p=0,D=!1,H=!1;const Ee=()=>{c?.unsubscribe(),c=void 0},De=()=>{Ee(),l=u=void 0,D=H=!1},xe=()=>{const qe=l;De(),qe?.unsubscribe()};return $e((qe,vt)=>{p++,!H&&!D&&Ee();const Nt=u=u??t();vt.add(()=>{p--,0===p&&!H&&!D&&(c=On(xe,i))}),Nt.subscribe(vt),!l&&p>0&&(l=new k({next:Ct=>Nt.next(Ct),error:Ct=>{H=!0,Ee(),c=On(De,e,Ct),Nt.error(Ct)},complete:()=>{D=!0,Ee(),c=On(De,r),Nt.complete()}}),hn(qe).subscribe(l))})(o)}}function On(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new k({next:()=>{r.unsubscribe(),n()}});return hn(t(...e)).subscribe(r)}function Yn(n,t){return $e((e,r)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&r.complete();e.subscribe(ut(r,u=>{i?.unsubscribe();let p=0;const D=o++;hn(n(u,D)).subscribe(i=ut(r,H=>r.next(t?t(u,H,D,p++):H),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function ci(n,t=pe){return n=n??ei,$e((e,r)=>{let i,o=!0;e.subscribe(ut(r,l=>{const c=t(l);(o||!n(i,c))&&(o=!1,i=c,r.next(l))}))})}function ei(n,t){return n===t}function ir(n){for(let t in n)if(n[t]===ir)return t;throw Error("Could not find renamed property on target object.")}function Pr(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ir(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ir).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function ui(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Yr=ir({__forward_ref__:ir});function Sr(n){return n.__forward_ref__=Sr,n.toString=function(){return Ir(this())},n}function Vn(n){return Wo(n)?n():n}function Wo(n){return"function"==typeof n&&n.hasOwnProperty(Yr)&&n.__forward_ref__===Sr}function ho(n){return n&&!!n.\u0275providers}const fs="https://g.co/ng/security#xss";class Gt extends Error{constructor(t,e){super(function hs(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function or(n){return"string"==typeof n?n:null==n?"":String(n)}function Xs(n,t){throw new Gt(-201,!1)}function Ci(n,t){null==n&&function Mr(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function bn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jr(n){return{providers:n.providers||[],imports:n.imports||[]}}function sl(n){return hd(n,Vl)||hd(n,Ah)}function hd(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ch(n){return n&&(n.hasOwnProperty(pd)||n.hasOwnProperty(Dh))?n[pd]:null}const Vl=ir({\u0275prov:ir}),pd=ir({\u0275inj:ir}),Ah=ir({ngInjectableDef:ir}),Dh=ir({ngInjectorDef:ir});var br=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(br||{});let Vc;function Ih(){return Vc}function go(n){const t=Vc;return Vc=n,t}function jl(n,t,e){const r=sl(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&br.Optional?null:void 0!==t?t:void Xs(Ir(n))}const $r=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),al={},jc="__NG_DI_FLAG__",Hc="ngTempTokenPath",jg=/\n/gm,xh="__source";let xa;function Ps(n){const t=xa;return xa=n,t}function Zg(n,t=br.Default){if(void 0===xa)throw new Gt(-203,!1);return null===xa?jl(n,void 0,t):xa.get(n,t&br.Optional?null:void 0,t)}function Xt(n,t=br.Default){return(Ih()||Zg)(Vn(n),t)}function $t(n,t=br.Default){return Xt(n,ll(t))}function ll(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gd(n){const t=[];for(let e=0;e<n.length;e++){const r=Vn(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Gt(900,!1);let i,o=br.Default;for(let l=0;l<r.length;l++){const c=r[l],u=Oh(c);"number"==typeof u?-1===u?i=c.token:o|=u:i=c}t.push(Xt(i,o))}else t.push(Xt(r))}return t}function Js(n,t){return n[jc]=t,n.prototype[jc]=t,n}function Oh(n){return n[jc]}function ms(n){return{toString:n}.toString()}var ks=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ks||{}),Mo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mo||{});const gs={},Cr=[],Hl=ir({\u0275cmp:ir}),_d=ir({\u0275dir:ir}),yd=ir({\u0275pipe:ir}),cl=ir({\u0275mod:ir}),Xo=ir({\u0275fac:ir}),Br=ir({__NG_ELEMENT_ID__:ir}),Zc=ir({__NG_ENV_ID__:ir});function kh(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}function ul(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],l=e[r++],c=e[r++];n.setAttribute(t,l,c,o)}else{const o=i,l=e[++r];zc(o)?n.setProperty(t,o,l):n.setAttribute(t,o,l),r++}}return r}function Fh(n){return 3===n||4===n||6===n}function zc(n){return 64===n.charCodeAt(0)}function Na(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Lh(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Lh(n,t,e,r,i){let o=0,l=n.length;if(-1===t)l=-1;else for(;o<n.length;){const c=n[o++];if("number"==typeof c){if(c===t){l=-1;break}if(c>t){l=o-1;break}}}for(;o<n.length;){const c=n[o];if("number"==typeof c)break;if(c===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(n.splice(l,0,t),o=l+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const Zl="ng-template";function Bh(n,t,e){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const l=n[r++];if(e&&"class"===o&&-1!==kh(l.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Uh(n){return 4===n.type&&n.value!==Zl}function vd(n,t,e){return t===(4!==n.type||e?n.value:Zl)}function bd(n,t,e){let r=4;const i=n.attrs||[],o=function wd(n){for(let t=0;t<n.length;t++)if(Fh(n[t]))return t;return n.length}(i);let l=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!l)if(4&r){if(r=2|1&r,""!==u&&!vd(n,u,e)||""===u&&1===t.length){if(Qo(r))return!1;l=!0}}else{const p=8&r?u:t[++c];if(8&r&&null!==n.attrs){if(!Bh(n.attrs,p,e)){if(Qo(r))return!1;l=!0}continue}const H=Gc(8&r?"class":u,i,Uh(n),e);if(-1===H){if(Qo(r))return!1;l=!0;continue}if(""!==p){let Ee;Ee=H>o?"":i[H+1].toLowerCase();const De=8&r?Ee:null;if(De&&-1!==kh(De,p,0)||2&r&&p!==Ee){if(Qo(r))return!1;l=!0}}}}else{if(!l&&!Qo(r)&&!Qo(u))return!1;if(l&&Qo(u))continue;l=!1,r=u|1&r}}return Qo(r)||l}function Qo(n){return 0==(1&n)}function Gc(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const l=t[i];if(l===n)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=t[++i];for(;"string"==typeof c;)c=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function Td(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Ed(n,t,e=!1){for(let r=0;r<t.length;r++)if(bd(n,t[r],e))return!0;return!1}function qg(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function zl(n,t){return n?":not("+t.trim()+")":t}function Yg(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let l=n[e];if("string"==typeof l)if(2&r){const c=n[++e];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!Qo(l)&&(t+=zl(o,i),i=""),r=l,o=o||!Qo(r);e++}return""!==i&&(t+=zl(o,i)),t}function ur(n){return ms(()=>{const t=Yc(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ks.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mo.Emulated,styles:n.styles||Cr,_:null,schemas:n.schemas||null,tView:null,id:""};$c(e);const r=n.dependencies;return e.directiveDefs=Wc(r,!1),e.pipeDefs=Wc(r,!0),e.id=function Xg(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Wg(n){return Fr(n)||ji(n)}function qc(n){return null!==n}function di(n){return ms(()=>({type:n.type,bootstrap:n.bootstrap||Cr,declarations:n.declarations||Cr,imports:n.imports||Cr,exports:n.exports||Cr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Vh(n,t){if(null==n)return gs;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}function Bn(n){return ms(()=>{const t=Yc(n);return $c(t),t})}function bi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Fr(n){return n[Hl]||null}function ji(n){return n[_d]||null}function _o(n){return n[yd]||null}function Ro(n,t){const e=n[cl]||null;if(!e&&!0===t)throw new Error(`Type ${Ir(n)} does not have '\u0275mod' property.`);return e}function Yc(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||gs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Cr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vh(n.inputs,t),outputs:Vh(n.outputs)}}function $c(n){n.features?.forEach(t=>t(n))}function Wc(n,t){if(!n)return null;const e=t?_o:Wg;return()=>("function"==typeof n?n():n).map(r=>e(r)).filter(qc)}const Ri=0,Fn=1,dr=2,yi=3,jo=4,Gl=5,Ki=6,Oa=7,Ai=8,dl=9,ea=10,fr=11,fl=12,jh=13,ta=14,Ei=15,ql=16,hl=17,Jo=18,pl=19,Yl=20,Ls=21,Bs=22,$l=23,Xc=24,Tr=25,Wl=1,Qc=2,_s=7,Pa=9,ao=11;function yo(n){return Array.isArray(n)&&"object"==typeof n[Wl]}function Oi(n){return Array.isArray(n)&&!0===n[Wl]}function eu(n){return 0!=(4&n.flags)}function na(n){return n.componentOffset>-1}function Xl(n){return 1==(1&n.flags)}function es(n){return!!n.template}function Ad(n){return 0!=(512&n[dr])}function ka(n,t){return n.hasOwnProperty(Xo)?n[Xo]:null}const $h=Symbol("SIGNAL");function Id(n,t,e={}){return t[$h]=n,Object.assign(t,e)}function Wh(n,t){return(null===n||"object"!=typeof n)&&Object.is(n,t)}let o_=$r.WeakRef??class i_{constructor(t){this.ref=t}deref(){return this.ref}},s_=0,ys=null,tu=!1;function Hi(n){const t=ys;return ys=n,t}class Ql{constructor(){this.id=s_++,this.ref=function Md(n){return new o_(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,e]of this.producers){const r=e.producerNode.deref();if(null!=r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=tu;tu=!0;try{for(const[e,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{tu=t}}producerAccessed(){if(tu)throw new Error("");if(null===ys)return;let t=ys.producers.get(this.id);void 0===t?(t={consumerNode:ys.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ys.trackingVersion},ys.producers.set(this.id,t),this.consumers.set(ys.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=ys.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ys?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}function Fa(n,t){const e=new a_(n,t?.equal??Wh);return Id(e,e.signal.bind(e))}const nu=Symbol("UNSET"),Rd=Symbol("COMPUTING"),Jl=Symbol("ERRORED");class a_ extends Ql{constructor(t,e){super(),this.computation=t,this.equal=e,this.value=nu,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==nu&&this.value!==Rd&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===Rd)throw new Error("Detected cycle in computations.");const t=this.value;this.value=Rd,this.trackingVersion++;const e=Hi(this);let r;try{r=this.computation()}catch(i){r=Jl,this.error=i}finally{Hi(e)}this.stale=!1,t!==nu&&t!==Jl&&r!==Jl&&this.equal(t,r)?this.value=t:(this.value=r,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===Jl)throw this.error;return this.value}}let ec=function xd(){throw new Error};function tc(){ec()}class iu extends Ql{constructor(t,e){super(),this.value=t,this.equal=e,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(t){this.producerUpdatesAllowed||tc(),this.equal(this.value,t)||(this.value=t,this.valueVersion++,this.producerMayHaveChanged())}update(t){this.producerUpdatesAllowed||tc(),this.set(t(this.value))}mutate(t){this.producerUpdatesAllowed||tc(),t(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=Id(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function vs(n,t){const e=new iu(n,t?.equal??Wh);return Id(e,e.signal.bind(e),{set:e.set.bind(e),update:e.update.bind(e),mutate:e.mutate.bind(e),asReadonly:e.asReadonly.bind(e)})}function Ho(n){const t=Hi(null);try{return n()}finally{Hi(t)}}const Kh=()=>{};class Xh extends Ql{constructor(t,e,r){super(),this.watch=t,this.schedule=e,this.dirty=!1,this.cleanupFn=Kh,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=Hi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Kh,this.watch(this.registerOnCleanup)}finally{Hi(t)}}cleanup(){this.cleanupFn()}}class l_{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function lo(){return Od}function Od(n){return n.type.prototype.ngOnChanges&&(n.setInput=Qh),c_}function c_(){const n=Pd(this),t=n?.current;if(t){const e=n.previous;if(e===gs)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function Qh(n,t,e,r){const i=this.declaredInputs[e],o=Pd(n)||function u_(n,t){return n[Jh]=t}(n,{previous:gs,current:null}),l=o.current||(o.current={}),c=o.previous,u=c[i];l[i]=new l_(u&&u.currentValue,t,c===gs),n[r]=t}lo.ngInherit=!0;const Jh="__ngSimpleChanges__";function Pd(n){return n[Jh]||null}const ts=function(n,t,e){},ep="svg";function fi(n){for(;Array.isArray(n);)n=n[Ri];return n}function La(n,t){return fi(t[n])}function vo(n,t){return fi(t[n.index])}function m(n,t){return n.data[t]}function b(n,t){return n[t]}function I(n,t){const e=t[n];return yo(e)?e:e[Ri]}function B(n,t){return null==t?null:n[t]}function ee(n){n[hl]=0}function se(n){1024&n[dr]||(n[dr]|=1024,U(n,1))}function te(n){1024&n[dr]&&(n[dr]&=-1025,U(n,-1))}function U(n,t){let e=n[yi];if(null===e)return;e[Gl]+=t;let r=e;for(e=e[yi];null!==e&&(1===t&&1===r[Gl]||-1===t&&0===r[Gl]);)e[Gl]+=t,r=e,e=e[yi]}function oe(n,t){if(256==(256&n[dr]))throw new Gt(911,!1);null===n[Ls]&&(n[Ls]=[]),n[Ls].push(t)}const _e={lFrame:er(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fe(){return _e.bindingsEnabled}function ve(){return null!==_e.skipHydrationRootTNode}function G(){return _e.lFrame.lView}function re(){return _e.lFrame.tView}function he(n){return _e.lFrame.contextLView=n,n[Ai]}function j(n){return _e.lFrame.contextLView=null,n}function X(){let n=Re();for(;null!==n&&64===n.type;)n=n.parent;return n}function Re(){return _e.lFrame.currentTNode}function Ue(n,t){const e=_e.lFrame;e.currentTNode=n,e.isParent=t}function Qe(){return _e.lFrame.isParent}function ke(){_e.lFrame.isParent=!1}function Tt(){const n=_e.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Le(){return _e.lFrame.bindingIndex++}function Te(n){const t=_e.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function nt(n,t){const e=_e.lFrame;e.bindingIndex=e.bindingRootIndex=n,ht(t)}function ht(n){_e.lFrame.currentDirectiveIndex=n}function qt(){return _e.lFrame.currentQueryIndex}function Sn(n){_e.lFrame.currentQueryIndex=n}function In(n){const t=n[Fn];return 2===t.type?t.declTNode:1===t.type?n[Ki]:null}function yn(n,t,e){if(e&br.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&br.Host||(i=In(o),null===i||(o=o[ta],10&i.type))););if(null===i)return!1;t=i,n=o}const r=_e.lFrame=Nn();return r.currentTNode=t,r.lView=n,!0}function Cn(n){const t=Nn(),e=n[Fn];_e.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Nn(){const n=_e.lFrame,t=null===n?null:n.child;return null===t?er(n):t}function er(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function sr(){const n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $n=sr;function hr(){const n=sr();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ot(){return _e.lFrame.selectedIndex}function _n(n){_e.lFrame.selectedIndex=n}function an(){const n=_e.lFrame;return m(n.tView,n.selectedIndex)}function mn(){_e.lFrame.currentNamespace=ep}let we=!0;function ot(){return we}function Dt(n){we=n}function fn(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:p,ngOnDestroy:D}=o;l&&(n.contentHooks??=[]).push(-e,l),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),u&&(n.viewHooks??=[]).push(-e,u),p&&((n.viewHooks??=[]).push(e,p),(n.viewCheckHooks??=[]).push(e,p)),null!=D&&(n.destroyHooks??=[]).push(e,D)}}function Xn(n,t,e){Hr(n,t,3,e)}function Ur(n,t,e,r){(3&n[dr])===e&&Hr(n,t,e,r)}function Pi(n,t){let e=n[dr];(3&e)===t&&(e&=8191,e+=1,n[dr]=e)}function Hr(n,t,e,r){const o=r??-1,l=t.length-1;let c=0;for(let u=void 0!==r?65535&n[hl]:0;u<l;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=r&&c>=r)break}else t[u]<0&&(n[hl]+=65536),(c<o||-1==o)&&(Zi(n,e,t,u),n[hl]=(4294901760&n[hl])+u+2),u++}function Xi(n,t){ts(4,n,t);const e=Hi(null);try{t.call(n)}finally{Hi(e),ts(5,n,t)}}function Zi(n,t,e,r){const i=e[r]<0,o=e[r+1],c=n[i?-e[r]:e[r]];i?n[dr]>>13<n[hl]>>16&&(3&n[dr])===t&&(n[dr]+=8192,Xi(c,o)):Xi(c,o)}const bo=-1;class ns{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function nc(n){return n!==bo}function Us(n){return 32767&n}function aa(n,t){let e=function ml(n){return n>>16}(n),r=t;for(;e>0;)r=r[ta],e--;return r}let Ua=!0;function bt(n){const t=Ua;return Ua=n,t}const xn=255,jn=5;let gr=0;const ar={};function Zr(n,t){const e=bs(n,t);if(-1!==e)return e;const r=t[Fn];r.firstCreatePass&&(n.injectorIndex=t.length,Vr(r.data,n),Vr(t,null),Vr(r.blueprint,null));const i=la(n,t),o=n.injectorIndex;if(nc(i)){const l=Us(i),c=aa(i,t),u=c[Fn].data;for(let p=0;p<8;p++)t[o+p]=c[l+p]|u[l+p]}return t[o+8]=i,o}function Vr(n,t){n.push(0,0,0,0,0,0,0,0,t)}function bs(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function la(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=R0(i),null===r)return bo;if(e++,i=i[ta],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return bo}function f_(n,t,e){!function Jn(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Br)&&(r=e[Br]),null==r&&(r=e[Br]=gr++);const i=r&xn;t.data[n+(i>>jn)]|=1<<i}(n,t,e)}function S0(n,t,e){if(e&br.Optional||void 0!==n)return n;Xs()}function C0(n,t,e,r){if(e&br.Optional&&void 0===r&&(r=null),!(e&(br.Self|br.Host))){const i=n[dl],o=go(void 0);try{return i?i.get(t,r,e&br.Optional):jl(t,r,e&br.Optional)}finally{go(o)}}return S0(r,0,e)}function A0(n,t,e,r=br.Default,i){if(null!==n){if(2048&t[dr]&&!(r&br.Self)){const l=function V1(n,t,e,r,i){let o=n,l=t;for(;null!==o&&null!==l&&2048&l[dr]&&!(512&l[dr]);){const c=D0(o,l,e,r|br.Self,ar);if(c!==ar)return c;let u=o.parent;if(!u){const p=l[Yl];if(p){const D=p.get(e,ar,r);if(D!==ar)return D}u=R0(l),l=l[ta]}o=u}return i}(n,t,e,r,ar);if(l!==ar)return l}const o=D0(n,t,e,r,ar);if(o!==ar)return o}return C0(t,e,r,i)}function D0(n,t,e,r,i){const o=function B1(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Br)?n[Br]:void 0;return"number"==typeof t?t>=0?t&xn:U1:t}(e);if("function"==typeof o){if(!yn(t,n,r))return r&br.Host?S0(i,0,r):C0(t,e,r,i);try{const l=o(r);if(null!=l||r&br.Optional)return l;Xs()}finally{$n()}}else if("number"==typeof o){let l=null,c=bs(n,t),u=bo,p=r&br.Host?t[Ei][Ki]:null;for((-1===c||r&br.SkipSelf)&&(u=-1===c?la(n,t):t[c+8],u!==bo&&M0(r,!1)?(l=t[Fn],c=Us(u),t=aa(u,t)):c=-1);-1!==c;){const D=t[Fn];if(I0(o,c,D.data)){const H=L1(c,t,e,l,r,p);if(H!==ar)return H}u=t[c+8],u!==bo&&M0(r,t[Fn].data[c+8]===p)&&I0(o,c,t)?(l=D,c=Us(u),t=aa(u,t)):c=-1}}return i}function L1(n,t,e,r,i,o){const l=t[Fn],c=l.data[n+8],D=tp(c,l,e,null==r?na(c)&&Ua:r!=l&&0!=(3&c.type),i&br.Host&&o===c);return null!==D?rc(t,l,D,c):ar}function tp(n,t,e,r,i){const o=n.providerIndexes,l=t.data,c=1048575&o,u=n.directiveStart,D=o>>20,Ee=i?c+D:n.directiveEnd;for(let De=r?c:c+D;De<Ee;De++){const xe=l[De];if(De<u&&e===xe||De>=u&&xe.type===e)return De}if(i){const De=l[u];if(De&&es(De)&&De.type===e)return u}return null}function rc(n,t,e,r){let i=n[e];const o=t.data;if(function rs(n){return n instanceof ns}(i)){const l=i;l.resolving&&function Bc(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Gt(-200,`Circular dependency in DI detected for ${n}${e}`)}(function kr(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():or(n)}(o[e]));const c=bt(l.canSeeViewProviders);l.resolving=!0;const u=l.injectImpl?go(l.injectImpl):null;yn(n,r,br.Default);try{i=n[e]=l.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function en(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const l=Od(t);(e.preOrderHooks??=[]).push(n,l),(e.preOrderCheckHooks??=[]).push(n,l)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==u&&go(u),bt(c),l.resolving=!1,$n()}}return i}function I0(n,t,e){return!!(e[t+(n>>jn)]&1<<n)}function M0(n,t){return!(n&br.Self||n&br.Host&&t)}class au{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return A0(this._tNode,this._lView,t,ll(r),e)}}function U1(){return new au(X(),G())}function Qi(n){return ms(()=>{const t=n.prototype.constructor,e=t[Xo]||h_(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Xo]||h_(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function h_(n){return Wo(n)?()=>{const t=h_(Vn(n));return t&&t()}:ka(n)}function R0(n){const t=n[Fn],e=t.type;return 2===e?t.declTNode:1===e?n[Ki]:null}function ic(n){return function F1(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(Fh(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(X(),n)}const cu="__parameters__";function du(n,t,e){return ms(()=>{const r=function p_(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const l=new i(...o);return c.annotation=l,c;function c(u,p,D){const H=u.hasOwnProperty(cu)?u[cu]:Object.defineProperty(u,cu,{value:[]})[cu];for(;H.length<=D;)H.push(null);return(H[D]=H[D]||[]).push(l),u}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Bd(n,t){n.forEach(e=>Array.isArray(e)?Bd(e,t):t(e))}function N0(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function np(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ud(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function is(n,t,e){let r=hu(n,t);return r>=0?n[1|r]=e:(r=~r,function Y1(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function m_(n,t){const e=hu(n,t);if(e>=0)return n[1|e]}function hu(n,t){return function O0(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),l=n[o<<e];if(t===l)return o<<e;l>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const pu=Js(du("Optional"),8),ip=Js(du("SkipSelf"),4);function cp(n){return 128==(128&n.flags)}var gl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(gl||{});const pN=/^>|^->|<!--|-->|--!>|<!-$/g,mN=/(<|>)/,gN="\u200b$1\u200b";const b_=new Map;let _N=0;const w_="__ngContext__";function Eo(n,t){yo(t)?(n[w_]=t[pl],function vN(n){b_.set(n[pl],n)}(t)):n[w_]=t}let T_;function S_(n,t){return T_(n,t)}function Hd(n){const t=n[yi];return Oi(t)?t[yi]:t}function J0(n){return tw(n[fl])}function ew(n){return tw(n[jo])}function tw(n){for(;null!==n&&!Oi(n);)n=n[jo];return n}function _u(n,t,e,r,i){if(null!=r){let o,l=!1;Oi(r)?o=r:yo(r)&&(l=!0,r=r[Ri]);const c=fi(r);0===n&&null!==e?null==i?sw(t,e,c):oc(t,e,c,i||null,!0):1===n&&null!==e?oc(t,e,c,i||null,!0):2===n?function mp(n,t,e){const r=hp(n,t);r&&function BN(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,c,l):3===n&&t.destroyNode(c),null!=o&&function jN(n,t,e,r,i){const o=e[_s];o!==fi(e)&&_u(t,n,r,o,i);for(let c=ao;c<e.length;c++){const u=e[c];zd(u[Fn],u,n,t,r,o)}}(t,n,o,e,i)}}function C_(n,t){return n.createComment(function G0(n){return n.replace(pN,t=>t.replace(mN,gN))}(t))}function fp(n,t,e){return n.createElement(t,e)}function rw(n,t){const e=n[Pa],r=e.indexOf(t);te(t),e.splice(r,1)}function A_(n,t){if(n.length<=ao)return;const e=ao+t,r=n[e];if(r){const i=r[ql];null!==i&&i!==n&&rw(i,r),t>0&&(n[e-1][jo]=r[jo]);const o=np(n,ao+t);!function RN(n,t){zd(n,t,t[fr],2,null,null),t[Ri]=null,t[Ki]=null}(r[Fn],r);const l=o[Jo];null!==l&&l.detachView(o[Fn]),r[yi]=null,r[jo]=null,r[dr]&=-129}return r}function iw(n,t){if(!(256&t[dr])){const e=t[fr];t[$l]?.destroy(),t[Xc]?.destroy(),e.destroyNode&&zd(n,t,e,3,null,null),function ON(n){let t=n[fl];if(!t)return D_(n[Fn],n);for(;t;){let e=null;if(yo(t))e=t[fl];else{const r=t[ao];r&&(e=r)}if(!e){for(;t&&!t[jo]&&t!==n;)yo(t)&&D_(t[Fn],t),t=t[yi];null===t&&(t=n),yo(t)&&D_(t[Fn],t),e=t&&t[jo]}t=e}}(t)}}function D_(n,t){if(!(256&t[dr])){t[dr]&=-129,t[dr]|=256,function LN(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof ns)){const o=e[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],u=o[l+1];ts(4,c,u);try{u.call(c)}finally{ts(5,c,u)}}else{ts(4,i,o);try{o.call(i)}finally{ts(5,i,o)}}}}}(n,t),function FN(n,t){const e=n.cleanup,r=t[Oa];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const l=e[o+3];l>=0?r[l]():r[-l].unsubscribe(),o+=2}else e[o].call(r[e[o+1]]);null!==r&&(t[Oa]=null);const i=t[Ls];if(null!==i){t[Ls]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,t),1===t[Fn].type&&t[fr].destroy();const e=t[ql];if(null!==e&&Oi(t[yi])){e!==t[yi]&&rw(e,t);const r=t[Jo];null!==r&&r.detachView(n)}!function bN(n){b_.delete(n[pl])}(t)}}function I_(n,t,e){return function ow(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[Ri];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Mo.None||o===Mo.Emulated)return null}return vo(r,e)}}(n,t.parent,e)}function oc(n,t,e,r,i){n.insertBefore(t,e,r,i)}function sw(n,t,e){n.appendChild(t,e)}function aw(n,t,e,r,i){null!==r?oc(n,t,e,r,i):sw(n,t,e)}function hp(n,t){return n.parentNode(t)}function lw(n,t,e){return uw(n,t,e)}let M_,gp,O_,_p,uw=function cw(n,t,e){return 40&n.type?vo(n,e):null};function pp(n,t,e,r){const i=I_(n,r,t),o=t[fr],c=lw(r.parent||t[Ki],r,t);if(null!=i)if(Array.isArray(e))for(let u=0;u<e.length;u++)aw(o,i,e[u],c,!1);else aw(o,i,e,c,!1);void 0!==M_&&M_(o,r,t,e,i)}function Zd(n,t){if(null!==t){const e=t.type;if(3&e)return vo(t,n);if(4&e)return R_(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Zd(n,r);{const i=n[t.index];return Oi(i)?R_(-1,i):fi(i)}}if(32&e)return S_(t,n)()||fi(n[t.index]);{const r=fw(n,t);return null!==r?Array.isArray(r)?r[0]:Zd(Hd(n[Ei]),r):Zd(n,t.next)}}return null}function fw(n,t){return null!==t?n[Ei][Ki].projection[t.projection]:null}function R_(n,t){const e=ao+n+1;if(e<t.length){const r=t[e],i=r[Fn].firstChild;if(null!==i)return Zd(r,i)}return t[_s]}function x_(n,t,e,r,i,o,l){for(;null!=e;){const c=r[e.index],u=e.type;if(l&&0===t&&(c&&Eo(fi(c),r),e.flags|=2),32!=(32&e.flags))if(8&u)x_(n,t,e.child,r,i,o,!1),_u(t,n,i,c,o);else if(32&u){const p=S_(e,r);let D;for(;D=p();)_u(t,n,i,D,o);_u(t,n,i,c,o)}else 16&u?pw(n,t,r,e,i,o):_u(t,n,i,c,o);e=l?e.projectionNext:e.next}}function zd(n,t,e,r,i,o){x_(e,r,n.firstChild,t,i,o,!1)}function pw(n,t,e,r,i,o){const l=e[Ei],u=l[Ki].projection[r.projection];if(Array.isArray(u))for(let p=0;p<u.length;p++)_u(t,n,i,u[p],o);else{let p=u;const D=l[yi];cp(r)&&(p.flags|=128),x_(n,t,p,D,i,o,!0)}}function mw(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function gw(n,t,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&ul(n,t,r),null!==i&&mw(n,t,i),null!==o&&function ZN(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function yu(n){return function N_(){if(void 0===gp&&(gp=null,$r.trustedTypes))try{gp=$r.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return gp}()?.createHTML(n)||n}function Gd(){if(void 0!==O_)return O_;if(typeof document<"u")return document;throw new Gt(210,!1)}function P_(){if(void 0===_p&&(_p=null,$r.trustedTypes))try{_p=$r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _p}function _w(n){return P_()?.createHTML(n)||n}function vw(n){return P_()?.createScriptURL(n)||n}class sc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fs})`}}class $N extends sc{getTypeName(){return"HTML"}}class WN extends sc{getTypeName(){return"Style"}}class KN extends sc{getTypeName(){return"Script"}}class XN extends sc{getTypeName(){return"URL"}}class QN extends sc{getTypeName(){return"ResourceURL"}}function os(n){return n instanceof sc?n.changingThisBreaksApplicationSecurity:n}function ca(n,t){const e=function JN(n){return n instanceof sc&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${fs})`)}return e===t}class oO{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(yu(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class sO{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=yu(t),e}}const lO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yp(n){return(n=String(n)).match(lO)?n:"unsafe:"+n}function Va(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function qd(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const Ew=Va("area,br,col,hr,img,wbr"),ww=Va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tw=Va("rp,rt"),k_=qd(Ew,qd(ww,Va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qd(Tw,Va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qd(Tw,ww)),F_=Va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sw=qd(F_,Va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cO=Va("script,style,template");class uO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!k_.hasOwnProperty(e))return this.sanitizedSomething=!0,!cO.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),l=o.name,c=l.toLowerCase();if(!Sw.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;F_[c]&&(u=yp(u)),this.buf.push(" ",l,'="',Cw(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();k_.hasOwnProperty(e)&&!Ew.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Cw(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const dO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fO=/([^\#-~ |!])/g;function Cw(n){return n.replace(/&/g,"&amp;").replace(dO,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fO,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vp;function Aw(n,t){let e=null;try{vp=vp||function bw(n){const t=new sO(n);return function aO(){try{return!!(new window.DOMParser).parseFromString(yu(""),"text/html")}catch{return!1}}()?new oO(t):t}(n);let r=t?String(t):"";e=vp.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=vp.getInertBodyElement(r)}while(r!==o);return yu((new uO).sanitizeChildren(L_(e)||e))}finally{if(e){const r=L_(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function L_(n){return"content"in n&&function hO(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zi||{});function B_(n){const t=Yd();return t?_w(t.sanitize(zi.HTML,n)||""):ca(n,"HTML")?_w(os(n)):Aw(Gd(),or(n))}function Dw(n){const t=Yd();return t?t.sanitize(zi.STYLE,n)||"":ca(n,"Style")?os(n):or(n)}function ac(n){const t=Yd();return t?t.sanitize(zi.URL,n)||"":ca(n,"URL")?os(n):yp(or(n))}function Iw(n){const t=Yd();if(t)return vw(t.sanitize(zi.RESOURCE_URL,n)||"");if(ca(n,"ResourceURL"))return vw(os(n));throw new Gt(904,!1)}function Yd(){const n=G();return n&&n[ea].sanitizer}class ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=bn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $d=new ln("ENVIRONMENT_INITIALIZER"),Rw=new ln("INJECTOR",-1),xw=new ln("INJECTOR_DEF_TYPES");class Nw{get(t,e=al){if(e===al){const r=new Error(`NullInjectorError: No provider for ${Ir(t)}!`);throw r.name="NullInjectorError",r}return e}}function U_(n){return{\u0275providers:n}}function yO(...n){return{\u0275providers:Ow(0,n),\u0275fromNgModule:!0}}function Ow(n,...t){const e=[],r=new Set;let i;return Bd(t,o=>{const l=o;V_(l,e,[],r)&&(i||=[],i.push(l))}),void 0!==i&&Pw(i,e),e}function Pw(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];j_(i,o=>{t.push(o)})}}function V_(n,t,e,r){if(!(n=Vn(n)))return!1;let i=null,o=Ch(n);const l=!o&&Fr(n);if(o||l){if(l&&!l.standalone)return!1;i=n}else{const u=n.ngModule;if(o=Ch(u),!o)return!1;i=u}const c=r.has(i);if(l){if(c)return!1;if(r.add(i),l.dependencies){const u="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const p of u)V_(p,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let p;r.add(i);try{Bd(o.imports,D=>{V_(D,t,e,r)&&(p||=[],p.push(D))})}finally{}void 0!==p&&Pw(p,t)}if(!c){const p=ka(i)||(()=>new i);t.push({provide:i,useFactory:p,deps:Cr},{provide:xw,useValue:i,multi:!0},{provide:$d,useValue:()=>Xt(i),multi:!0})}const u=o.providers;null==u||c||j_(u,D=>{t.push(D)})}}return i!==n&&void 0!==n.providers}function j_(n,t){for(let e of n)ho(e)&&(e=e.\u0275providers),Array.isArray(e)?j_(e,t):t(e)}const vO=ir({provide:String,useValue:ir});function H_(n){return null!==n&&"object"==typeof n&&vO in n}function lc(n){return"function"==typeof n}const Z_=new ln("Set Injector scope."),bp={},EO={};let z_;function Ep(){return void 0===z_&&(z_=new Nw),z_}class _l{}class G_ extends _l{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Y_(t,l=>this.processProvider(l)),this.records.set(Rw,vu(void 0,this)),i.has("environment")&&this.records.set(_l,vu(void 0,this));const o=this.records.get(Z_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xw.multi,Cr,br.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Ps(this),r=go(void 0);try{return t()}finally{Ps(e),go(r)}}get(t,e=al,r=br.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Zc))return t[Zc](this);r=ll(r);const i=Ps(this),o=go(void 0);try{if(!(r&br.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function AO(n){return"function"==typeof n||"object"==typeof n&&n instanceof ln}(t)&&sl(t);c=u&&this.injectableDefInScope(u)?vu(q_(t),bp):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&br.Self?Ep():this.parent).get(t,e=r&br.Optional&&e===al?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[Hc]=l[Hc]||[]).unshift(Ir(t)),i)throw l;return function Ph(n,t,e,r){const i=n[Hc];throw t[xh]&&i.unshift(t[xh]),n.message=function zg(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ir(t);if(Array.isArray(t))i=t.map(Ir).join(" -> ");else if("object"==typeof t){let o=[];for(let l in t)if(t.hasOwnProperty(l)){let c=t[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):Ir(c)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(jg,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Hc]=null,n}(l,t,"R3InjectorError",this.source)}throw l}finally{go(o),Ps(i)}}resolveInjectorInitializers(){const t=Ps(this),e=go(void 0);try{const r=this.get($d.multi,Cr,br.Self);for(const i of r)i()}finally{Ps(t),go(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(Ir(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Gt(205,!1)}processProvider(t){let e=lc(t=Vn(t))?t:Vn(t&&t.provide);const r=function TO(n){return H_(n)?vu(void 0,n.useValue):vu(Lw(n),bp)}(t);if(lc(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=vu(void 0,bp,!0),i.factory=()=>gd(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===bp&&(e.value=EO,e.value=e.factory()),"object"==typeof e.value&&e.value&&function CO(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Vn(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function q_(n){const t=sl(n),e=null!==t?t.factory:ka(n);if(null!==e)return e;if(n instanceof ln)throw new Gt(204,!1);if(n instanceof Function)return function wO(n){const t=n.length;if(t>0)throw Ud(t,"?"),new Gt(204,!1);const e=function Sh(n){return n&&(n[Vl]||n[Ah])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Gt(204,!1)}function Lw(n,t,e){let r;if(lc(n)){const i=Vn(n);return ka(i)||q_(i)}if(H_(n))r=()=>Vn(n.useValue);else if(function Fw(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...gd(n.deps||[]));else if(function kw(n){return!(!n||!n.useExisting)}(n))r=()=>Xt(Vn(n.useExisting));else{const i=Vn(n&&(n.useClass||n.provide));if(!function SO(n){return!!n.deps}(n))return ka(i)||q_(i);r=()=>new i(...gd(n.deps))}return r}function vu(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Y_(n,t){for(const e of n)Array.isArray(e)?Y_(e,t):e&&ho(e)?Y_(e.\u0275providers,t):t(e)}const wp=new ln("AppId",{providedIn:"root",factory:()=>DO}),DO="ng",Bw=new ln("Platform Initializer"),cc=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ws=new ln("AnimationModuleType"),$_=new ln("CSP nonce",{providedIn:"root",factory:()=>Gd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Vw=(n,t)=>null;function jw(n,t){return Vw(n,t)}class FO{}class zw{}class BO{resolveComponentFactory(t){throw function LO(n){const t=Error(`No component factory found for ${Ir(n)}.`);return t.ngComponent=n,t}(t)}}let Xd=(()=>{class n{}return n.NULL=new BO,n})();function UO(){return Eu(X(),G())}function Eu(n,t){return new Rr(vo(n,t))}let Rr=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=UO,n})();function VO(n){return n instanceof Rr?n.nativeElement:n}class Qd{}let ja=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function jO(){const n=G(),e=I(X().index,n);return(yo(e)?e:n)[fr]}(),n})(),HO=(()=>{class n{}return n.\u0275prov=bn({token:n,providedIn:"root",factory:()=>null}),n})();class uc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ZO=new uc("16.1.7"),oy={};function Jd(n){for(;n;){n[dr]|=64;const t=Hd(n);if(Ad(n)&&!t)return n;n=t}return null}function sy(n){return n.ngOriginalError}class ua{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&sy(t);for(;e&&sy(e);)e=sy(e);return e||null}}const $w=new ln("",{providedIn:"root",factory:()=>!1});function Ha(n){return n instanceof Function?n():n}class Jw extends Ql{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Jd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,e,r){const i=Hi(this);this.trackingVersion++;try{t(e,r)}finally{Hi(i)}}destroy(){this.trackingVersion++}}let Ip=null;function eT(){return Ip??=new Jw,Ip}function tT(n,t){return n[t]??eT()}function nT(n,t){const e=eT();e.hasReadASignal&&(n[t]=Ip,e.lView=n,Ip=new Jw)}const _r={};function Qt(n){rT(re(),G(),Ot()+n,!1)}function rT(n,t,e,r){if(!r)if(3==(3&t[dr])){const o=n.preOrderCheckHooks;null!==o&&Xn(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Ur(t,o,0,e)}_n(e)}function iT(n){if(!Ih()&&!function Hg(){return xa}())throw new Gt(-203,!1)}function lT(n,t=null,e=null,r){const i=cT(n,t,e,r);return i.resolveInjectorInitializers(),i}function cT(n,t=null,e=null,r,i=new Set){const o=[e||Cr,yO(n)];return r=r||("object"==typeof n?void 0:Ir(n)),new G_(o,t||Ep(),r||null,i)}let Ts=(()=>{class n{static create(e,r){if(Array.isArray(e))return lT({name:""},r,e,"");{const i=e.name??"";return lT({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=al,n.NULL=new Nw,n.\u0275prov=bn({token:n,providedIn:"any",factory:()=>Xt(Rw)}),n.__NG_ELEMENT_ID__=-1,n})();function yt(n,t=br.Default){const e=G();return null===e?Xt(n,t):A0(X(),e,Vn(n),t)}function Mp(){throw new Error("invalid")}function Rp(n,t,e,r,i,o,l,c,u,p,D){const H=t.blueprint.slice();return H[Ri]=i,H[dr]=140|r,(null!==p||n&&2048&n[dr])&&(H[dr]|=2048),ee(H),H[yi]=H[ta]=n,H[Ai]=e,H[ea]=l||n&&n[ea],H[fr]=c||n&&n[fr],H[dl]=u||n&&n[dl]||null,H[Ki]=o,H[pl]=function yN(){return _N++}(),H[Bs]=D,H[Yl]=p,H[Ei]=2==t.type?n[Ei]:H,H}function Tu(n,t,e,r,i){let o=n.data[t];if(null===o)o=function ay(n,t,e,r,i){const o=Re(),l=Qe(),u=n.data[t]=function cP(n,t,e,r,i,o){let l=t?t.injectorIndex:-1,c=0;return ve()&&(c|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(l?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,t,e,r,i),function Je(){return _e.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const l=function Be(){const n=_e.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return Ue(o,!0),o}function ef(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function uT(n,t,e,r,i){const o=tT(t,$l),l=Ot(),c=2&r;try{if(_n(-1),c&&t.length>Tr&&rT(n,t,Tr,!1),ts(c?2:0,i),c)o.runInContext(e,r,i);else{const p=Hi(null);try{e(r,i)}finally{Hi(p)}}}finally{c&&null===t[$l]&&nT(t,$l),_n(l),ts(c?3:1,i)}}function ly(n,t,e){if(eu(t)){const r=Hi(null);try{const o=t.directiveEnd;for(let l=t.directiveStart;l<o;l++){const c=n.data[l];c.contentQueries&&c.contentQueries(1,e[l],l)}}finally{Hi(r)}}}function cy(n,t,e){fe()&&(function gP(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;na(e)&&function TP(n,t,e){const r=vo(t,n),i=dT(e);let l=16;e.signals?l=4096:e.onPush&&(l=64);const c=xp(n,Rp(n,i,null,l,r,t,null,n[ea].rendererFactory.createRenderer(r,e),null,null,null));n[t.index]=c}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Zr(e,t),Eo(r,t);const l=e.initialInputs;for(let c=i;c<o;c++){const u=n.data[c],p=rc(t,n,c,e);Eo(p,t),null!==l&&SP(0,c-i,p,u,0,l),es(u)&&(I(e.index,t)[Ai]=rc(t,n,c,e))}}(n,t,e,vo(e,t)),64==(64&e.flags)&&gT(n,t,e))}function uy(n,t,e=vo){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],c=-1===l?e(t,n):n[l];n[i++]=c}}}function dT(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=dy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function dy(n,t,e,r,i,o,l,c,u,p,D){const H=Tr+r,Ee=H+i,De=function rP(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:_r);return e}(H,Ee),xe="function"==typeof p?p():p;return De[Fn]={type:n,blueprint:De,template:e,queries:null,viewQuery:c,declTNode:t,data:De.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:u,consts:xe,incompleteFirstPass:!1,ssrId:D}}let fT=n=>null;function hT(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=null===e?{}:e;const o=n[i];null===r?pT(e,t,i,o):r.hasOwnProperty(i)&&pT(e,t,r[i],o)}return e}function pT(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function ss(n,t,e,r,i,o,l,c){const u=vo(t,e);let D,p=t.inputs;!c&&null!=p&&(D=p[r])?(gy(n,e,D,r,i),na(t)&&function fP(n,t){const e=I(t,n);16&e[dr]||(e[dr]|=64)}(e,t.index)):3&t.type&&(r=function dP(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=l?l(i,t.value||"",r):i,o.setProperty(u,r,i))}function fy(n,t,e,r){if(fe()){const i=null===r?null:{"":-1},o=function yP(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const l=e[o];if(Ed(t,l.selectors,!1))if(r||(r=[]),es(l))if(null!==l.findHostDirectiveDefs){const c=[];i=i||new Map,l.findHostDirectiveDefs(l,c,i),r.unshift(...c,l),hy(n,t,c.length)}else r.unshift(l),hy(n,t,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,r,i),r.push(l)}return null===r?null:[r,i]}(n,e);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&mT(n,t,e,l,i,c),i&&function vP(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new Gt(-301,!1);r.push(t[i],o)}}}(e,r,i)}e.mergedAttrs=Na(e.mergedAttrs,e.attrs)}function mT(n,t,e,r,i,o){for(let p=0;p<r.length;p++)f_(Zr(e,t),n,r[p].type);!function EP(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let p=0;p<r.length;p++){const D=r[p];D.providersResolver&&D.providersResolver(D)}let l=!1,c=!1,u=ef(n,t,r.length,null);for(let p=0;p<r.length;p++){const D=r[p];e.mergedAttrs=Na(e.mergedAttrs,D.hostAttrs),wP(n,e,t,u,D),bP(u,D,i),null!==D.contentQueries&&(e.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(e.flags|=64);const H=D.type.prototype;!l&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!c&&(H.ngOnChanges||H.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),c=!0),u++}!function uP(n,t,e){const i=t.directiveEnd,o=n.data,l=t.attrs,c=[];let u=null,p=null;for(let D=t.directiveStart;D<i;D++){const H=o[D],Ee=e?e.get(H):null,xe=Ee?Ee.outputs:null;u=hT(H.inputs,D,u,Ee?Ee.inputs:null),p=hT(H.outputs,D,p,xe);const qe=null===u||null===l||Uh(t)?null:CP(u,D,l);c.push(qe)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=p}(n,e,o)}function gT(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,l=function ct(){return _e.lFrame.currentDirectiveIndex}();try{_n(o);for(let c=r;c<i;c++){const u=n.data[c],p=t[c];ht(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&_P(u,p)}}finally{_n(-1),ht(l)}}function _P(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function hy(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function bP(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;es(t)&&(e[""]=n)}}function wP(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=ka(i.type)),l=new ns(o,es(i),yt);n.blueprint[r]=l,e[r]=l,function pP(n,t,e,r,i){const o=i.hostBindings;if(o){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~t.index;(function mP(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=c&&l.push(c),l.push(e,r,o)}}(n,t,r,ef(n,e,i.hostVars,_r),i)}function da(n,t,e,r,i,o){const l=vo(n,t);!function py(n,t,e,r,i,o,l){if(null==o)n.removeAttribute(t,i,e);else{const c=null==l?or(o):l(o,r||"",i);n.setAttribute(t,i,c,e)}}(t[fr],l,o,n.value,e,r,i)}function SP(n,t,e,r,i,o){const l=o[t];if(null!==l)for(let c=0;c<l.length;)_T(r,e,l[c++],l[c++],l[c++])}function _T(n,t,e,r,i){const o=Hi(null);try{const l=n.inputTransforms;null!==l&&l.hasOwnProperty(r)&&(i=l[r].call(t,i)),null!==n.setInput?n.setInput(t,i,e,r):t[r]=i}finally{Hi(o)}}function CP(n,t,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const l=n[o];for(let c=0;c<l.length;c+=2)if(l[c]===t){r.push(o,l[c+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function yT(n,t,e,r){return[n,!0,!1,t,null,0,r,e,null,null,null]}function vT(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const l=n.data[o];Sn(e[r]),l.contentQueries(2,t[o],o)}}}function xp(n,t){return n[fl]?n[jh][jo]=t:n[fl]=t,n[jh]=t,t}function my(n,t,e){Sn(0);const r=Hi(null);try{t(n,e)}finally{Hi(r)}}function bT(n){return n[Oa]||(n[Oa]=[])}function ET(n){return n.cleanup||(n.cleanup=[])}function TT(n,t){const e=n[dl],r=e?e.get(ua,null):null;r&&r.handleError(t)}function gy(n,t,e,r,i){for(let o=0;o<e.length;){const l=e[o++],c=e[o++];_T(n.data[l],t[l],r,c,i)}}function Za(n,t,e){const r=La(t,n);!function nw(n,t,e){n.setValue(t,e)}(n[fr],r,e)}function AP(n,t){const e=I(t,n),r=e[Fn];!function DP(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(r,e);const i=e[Ri];null!==i&&null===e[Bs]&&(e[Bs]=jw(i,e[dl])),_y(r,e,e[Ai])}function _y(n,t,e){Cn(t);try{const r=n.viewQuery;null!==r&&my(1,r,e);const i=n.template;null!==i&&uT(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&vT(n,t),n.staticViewQueries&&my(2,n.viewQuery,e);const o=n.components;null!==o&&function IP(n,t){for(let e=0;e<t.length;e++)AP(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[dr]&=-5,hr()}}let yy=(()=>{class n{}return n.__NG_ELEMENT_ID__=RP,n.__NG_ENV_ID__=t=>t,n})();class MP extends yy{constructor(t){super(),this._lView=t}onDestroy(t){return oe(this._lView,t),()=>function ne(n,t){if(null===n[Ls])return;const e=n[Ls].indexOf(t);-1!==e&&n[Ls].splice(e,1)}(this._lView,t)}}function RP(){return new MP(G())}let ST=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const o=typeof Zone>"u"?null:Zone.current,l=new Xh(e,p=>{this.all.has(p)&&this.queue.set(p,o)},i);let c;this.all.add(l),l.notify();const u=()=>{l.cleanup(),c?.(),this.all.delete(l),this.queue.delete(l)};return c=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=bn({token:n,providedIn:"root",factory:()=>new n}),n})();function vy(n,t){!t?.injector&&iT();const e=t?.injector??$t(Ts),r=e.get(ST),i=!0!==t?.manualCleanup?e.get(yy):null;return r.create(n,i,!!t?.allowSignalWrites)}function Np(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?o=c:1==o?i=ui(i,c):2==o&&(r=ui(r,c+": "+t[++l]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function tf(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(fi(o)),Oi(o)){for(let c=ao;c<o.length;c++){const u=o[c],p=u[Fn].firstChild;null!==p&&tf(u[Fn],u,p,r)}o[_s]!==o[Ri]&&r.push(o[_s])}const l=e.type;if(8&l)tf(n,t,e.child,r);else if(32&l){const c=S_(e,t);let u;for(;u=c();)r.push(u)}else if(16&l){const c=fw(t,e);if(Array.isArray(c))r.push(...c);else{const u=Hd(t[Ei]);tf(u[Fn],u,c,r,!0)}}e=i?e.projectionNext:e.next}return r}function Op(n,t,e,r=!0){const i=t[ea].rendererFactory;i.begin&&i.begin();try{CT(n,t,n.template,e)}catch(l){throw r&&TT(t,l),l}finally{i.end&&i.end(),t[ea].effectManager?.flush()}}function CT(n,t,e,r){const i=t[dr];if(256!=(256&i)){t[ea].effectManager?.flush(),Cn(t);try{ee(t),function on(n){return _e.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&uT(n,t,e,2,r);const l=3==(3&i);if(l){const p=n.preOrderCheckHooks;null!==p&&Xn(t,p,null)}else{const p=n.preOrderHooks;null!==p&&Ur(t,p,0,null),Pi(t,0)}if(function NP(n){for(let t=J0(n);null!==t;t=ew(t)){if(!t[Qc])continue;const e=t[Pa];for(let r=0;r<e.length;r++){se(e[r])}}}(t),AT(t,2),null!==n.contentQueries&&vT(n,t),l){const p=n.contentCheckHooks;null!==p&&Xn(t,p)}else{const p=n.contentHooks;null!==p&&Ur(t,p,1),Pi(t,1)}!function nP(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const r=tT(t,Xc);try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)_n(~o);else{const l=o,c=e[++i],u=e[++i];nt(c,l),r.runInContext(u,2,t[l])}}}finally{null===t[Xc]&&nT(t,Xc),_n(-1)}}(n,t);const c=n.components;null!==c&&IT(t,c,0);const u=n.viewQuery;if(null!==u&&my(2,u,r),l){const p=n.viewCheckHooks;null!==p&&Xn(t,p)}else{const p=n.viewHooks;null!==p&&Ur(t,p,2),Pi(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[dr]&=-73,te(t)}finally{hr()}}}function AT(n,t){for(let e=J0(n);null!==e;e=ew(e))for(let r=ao;r<e.length;r++)DT(e[r],t)}function OP(n,t,e){DT(I(t,n),e)}function DT(n,t){if(!function O(n){return 128==(128&n[dr])}(n))return;const e=n[Fn];if(80&n[dr]&&0===t||1024&n[dr]||2===t)CT(e,n,e.template,n[Ai]);else if(n[Gl]>0){AT(n,1);const i=n[Fn].components;null!==i&&IT(n,i,1)}}function IT(n,t,e){for(let r=0;r<t.length;r++)OP(n,t[r],e)}class nf{get rootNodes(){const t=this._lView,e=t[Fn];return tf(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ai]}set context(t){this._lView[Ai]=t}get destroyed(){return 256==(256&this._lView[dr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[yi];if(Oi(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(A_(t,r),np(e,r))}this._attachedToViewContainer=!1}iw(this._lView[Fn],this._lView)}onDestroy(t){oe(this._lView,t)}markForCheck(){Jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[dr]&=-129}reattach(){this._lView[dr]|=128}detectChanges(){Op(this._lView[Fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Gt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NN(n,t){zd(n,t,t[fr],2,null,null)}(this._lView[Fn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Gt(902,!1);this._appRef=t}}class PP extends nf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Op(t[Fn],t,t[Ai],!1)}checkNoChanges(){}get context(){return null}}class MT extends Xd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Fr(t);return new rf(e,this.ngModule)}}function RT(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class FP{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=ll(r);const i=this.injector.get(t,oy,r);return i!==oy||e===oy?i:this.parentInjector.get(t,e,r)}}class rf extends zw{get inputs(){const t=this.componentDef,e=t.inputTransforms,r=RT(t.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return RT(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function $g(n){return n.map(Yg).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof _l?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new FP(t,o):t,c=l.get(Qd,null);if(null===c)throw new Gt(407,!1);const D={rendererFactory:c,sanitizer:l.get(HO,null),effectManager:l.get(ST,null)},H=c.createRenderer(null,this.componentDef),Ee=this.componentDef.selectors[0][0]||"div",De=r?function iP(n,t,e,r){const o=r.get($w,!1)||e===Mo.ShadowDom,l=n.selectRootElement(t,o);return function oP(n){fT(n)}(l),l}(H,r,this.componentDef.encapsulation,l):fp(H,Ee,function kP(n){const t=n.toLowerCase();return"svg"===t?ep:"math"===t?"math":null}(Ee)),vt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Nt=dy(0,null,null,1,0,null,null,null,null,null,null),Ct=Rp(null,Nt,null,vt,null,null,D,H,l,null,null);let dn,Dn;Cn(Ct);try{const Ln=this.componentDef;let zr,Li=null;Ln.findHostDirectiveDefs?(zr=[],Li=new Map,Ln.findHostDirectiveDefs(Ln,zr,Li),zr.push(Ln)):zr=[Ln];const Ns=function BP(n,t){const e=n[Fn],r=Tr;return n[r]=t,Tu(e,r,2,"#host",null)}(Ct,De),Ws=function UP(n,t,e,r,i,o,l){const c=i[Fn];!function VP(n,t,e,r){for(const i of n)t.mergedAttrs=Na(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Np(t,t.mergedAttrs,!0),null!==e&&gw(r,e,t))}(r,n,t,l);let u=null;null!==t&&(u=jw(t,i[dl]));const p=o.rendererFactory.createRenderer(t,e);let D=16;e.signals?D=4096:e.onPush&&(D=64);const H=Rp(i,dT(e),null,D,i[n.index],n,o,p,null,null,u);return c.firstCreatePass&&hy(c,n,r.length-1),xp(i,H),i[n.index]=H}(Ns,De,Ln,zr,Ct,D,H);Dn=m(Nt,Tr),De&&function HP(n,t,e,r){if(r)ul(n,e,["ng-version",ZO.full]);else{const{attrs:i,classes:o}=function Sd(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!Qo(i))break;i=o}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&ul(n,e,i),o&&o.length>0&&mw(n,e,o.join(" "))}}(H,Ln,De,r),void 0!==e&&function ZP(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(Dn,this.ngContentSelectors,e),dn=function jP(n,t,e,r,i,o){const l=X(),c=i[Fn],u=vo(l,i);mT(c,i,l,e,null,r);for(let D=0;D<e.length;D++)Eo(rc(i,c,l.directiveStart+D,l),i);gT(c,i,l),u&&Eo(u,i);const p=rc(i,c,l.directiveStart+l.componentOffset,l);if(n[Ai]=i[Ai]=p,null!==o)for(const D of o)D(p,t);return ly(c,l,n),p}(Ws,Ln,zr,Li,Ct,[zP]),_y(Nt,Ct,null)}finally{hr()}return new LP(this.componentType,dn,Eu(Dn,Ct),Ct,Dn)}}class LP extends FO{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new PP(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;gy(o[Fn],o,i,t,e),this.previousInputValues.set(t,e),Jd(I(this._tNode.index,o))}}get injector(){return new au(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function zP(){const n=X();fn(G()[Fn],n)}function yr(n){let t=function xT(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(es(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Gt(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const l=n;l.inputs=Pp(n.inputs),l.inputTransforms=Pp(n.inputTransforms),l.declaredInputs=Pp(n.declaredInputs),l.outputs=Pp(n.outputs);const c=i.hostBindings;c&&$P(n,c);const u=i.viewQuery,p=i.contentQueries;if(u&&qP(n,u),p&&YP(n,p),Pr(n.inputs,i.inputs),Pr(n.declaredInputs,i.declaredInputs),Pr(n.outputs,i.outputs),null!==i.inputTransforms&&(null===l.inputTransforms&&(l.inputTransforms={}),Pr(l.inputTransforms,i.inputTransforms)),es(i)&&i.data.animation){const D=n.data;D.animation=(D.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(n),c===yr&&(e=!1)}}t=Object.getPrototypeOf(t)}!function GP(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Na(i.hostAttrs,e=Na(e,i.hostAttrs))}}(r)}function Pp(n){return n===gs?{}:n===Cr?[]:n}function qP(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function YP(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function $P(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}function kT(n){const t=n.inputConfig,e={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}n.inputTransforms=e}function kp(n){return!!by(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function by(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function fa(n,t,e){return n[t]=e}function wo(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function dc(n,t,e,r){const i=wo(n,t,e);return wo(n,t+1,r)||i}function oi(n,t,e,r){const i=G();return wo(i,Le(),t)&&(re(),da(an(),i,n,t,e,r)),oi}function Au(n,t,e,r,i,o){const c=dc(n,function Bt(){return _e.lFrame.bindingIndex}(),e,i);return Te(2),c?t+or(e)+r+or(i)+o:_r}function kn(n,t,e,r,i,o,l,c){const u=G(),p=re(),D=n+Tr,H=p.firstCreatePass?function vk(n,t,e,r,i,o,l,c,u){const p=t.consts,D=Tu(t,n,4,l||null,B(p,c));fy(t,e,D,B(p,u)),fn(t,D);const H=D.tView=dy(2,D,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,p,null);return null!==t.queries&&(t.queries.template(t,D),H.queries=t.queries.embeddedTView(D)),D}(D,p,u,t,e,r,i,o,l):p.data[D];Ue(H,!1);const Ee=$T(p,u,H,n);ot()&&pp(p,u,Ee,H),Eo(Ee,u),xp(u,u[D]=yT(Ee,u,Ee,H)),Xl(H)&&cy(p,u,H),null!=l&&uy(u,H,c)}let $T=function WT(n,t,e,r){return Dt(!0),t[fr].createComment("")};function Gi(n){return b(function tt(){return _e.lFrame.contextLView}(),Tr+n)}function Yt(n,t,e){const r=G();return wo(r,Le(),t)&&ss(re(),an(),r,n,t,r[fr],e,!1),Yt}function Ay(n,t,e,r,i){const l=i?"class":"style";gy(n,e,t.inputs[l],l,r)}function cn(n,t,e,r){const i=G(),o=re(),l=Tr+n,c=i[fr],u=o.firstCreatePass?function Tk(n,t,e,r,i,o){const l=t.consts,u=Tu(t,n,2,r,B(l,i));return fy(t,e,u,B(l,o)),null!==u.attrs&&Np(u,u.attrs,!1),null!==u.mergedAttrs&&Np(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(l,o,i,t,e,r):o.data[l],p=KT(o,i,u,c,t,n);i[l]=p;const D=Xl(u);return Ue(u,!0),gw(c,p,u),32!=(32&u.flags)&&ot()&&pp(o,i,p,u),0===function Ae(){return _e.lFrame.elementDepthCount}()&&Eo(p,i),function $(){_e.lFrame.elementDepthCount++}(),D&&(cy(o,i,u),ly(o,u,i)),null!==r&&uy(i,u),cn}function un(){let n=X();Qe()?ke():(n=n.parent,Ue(n,!1));const t=n;(function A(n){return _e.skipHydrationRootTNode===n})(t)&&function V(){_e.skipHydrationRootTNode=null}(),function ge(){_e.lFrame.elementDepthCount--}();const e=re();return e.firstCreatePass&&(fn(e,n),eu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function oa(n){return 0!=(8&n.flags)}(t)&&Ay(e,t,G(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function sa(n){return 0!=(16&n.flags)}(t)&&Ay(e,t,G(),t.stylesWithoutHost,!1),un}function Wn(n,t,e,r){return cn(n,t,e,r),un(),Wn}let KT=(n,t,e,r,i,o)=>(Dt(!0),fp(r,i,function Ze(){return _e.lFrame.currentNamespace}()));function za(n,t,e){const r=G(),i=re(),o=n+Tr,l=i.firstCreatePass?function Ak(n,t,e,r,i){const o=t.consts,l=B(o,r),c=Tu(t,n,8,"ng-container",l);return null!==l&&Np(c,l,!0),fy(t,e,c,B(o,i)),null!==t.queries&&t.queries.elementStart(t,c),c}(o,i,r,t,e):i.data[o];Ue(l,!0);const c=XT(i,r,l,n);return r[o]=c,ot()&&pp(i,r,c,l),Eo(c,r),Xl(l)&&(cy(i,r,l),ly(i,l,r)),null!=e&&uy(r,l),za}function Ga(){let n=X();const t=re();return Qe()?ke():(n=n.parent,Ue(n,!1)),t.firstCreatePass&&(fn(t,n),eu(n)&&t.queries.elementEnd(n)),Ga}function uf(n,t,e){return za(n,t,e),Ga(),uf}let XT=(n,t,e,r)=>(Dt(!0),C_(t[fr],""));function co(){return G()}function df(n){return!!n&&"function"==typeof n.then}function QT(n){return!!n&&"function"==typeof n.subscribe}function pr(n,t,e,r){const i=G(),o=re(),l=X();return function eS(n,t,e,r,i,o,l){const c=Xl(r),p=n.firstCreatePass&&ET(n),D=t[Ai],H=bT(t);let Ee=!0;if(3&r.type||l){const qe=vo(r,t),vt=l?l(qe):qe,Nt=H.length,Ct=l?Dn=>l(fi(Dn[r.index])):r.index;let dn=null;if(!l&&c&&(dn=function Mk(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===e&&i[o+1]===r){const c=t[Oa],u=i[o+2];return c.length>u?c[u]:null}"string"==typeof l&&(o+=2)}return null}(n,t,i,r.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=o,dn.__ngLastListenerFn__=o,Ee=!1;else{o=nS(r,t,D,o,!1);const Dn=e.listen(vt,i,o);H.push(o,Dn),p&&p.push(i,Ct,Nt,Nt+1)}}else o=nS(r,t,D,o,!1);const De=r.outputs;let xe;if(Ee&&null!==De&&(xe=De[i])){const qe=xe.length;if(qe)for(let vt=0;vt<qe;vt+=2){const Ln=t[xe[vt]][xe[vt+1]].subscribe(o),zr=H.length;H.push(o,Ln),p&&p.push(i,r.index,zr,-(zr+1))}}}(o,i,i[fr],l,n,t,r),pr}function tS(n,t,e,r){try{return ts(6,t,e),!1!==e(r)}catch(i){return TT(n,i),!1}finally{ts(7,t,e)}}function nS(n,t,e,r,i){return function o(l){if(l===Function)return r;Jd(n.componentOffset>-1?I(n.index,t):t);let u=tS(t,e,r,l),p=o.__ngNextListenerFn__;for(;p;)u=tS(t,e,p,l)&&u,p=p.__ngNextListenerFn__;return i&&!1===u&&l.preventDefault(),u}}function Hn(n=1){return function nr(n){return(_e.lFrame.contextLView=function mr(n,t){for(;n>0;)t=t[ta],n--;return t}(n,_e.lFrame.contextLView))[Ai]}(n)}function Rk(n,t){let e=null;const r=function Gg(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?Ed(n,o,!0):qg(r,o))return i}else e=i}return e}function ha(n){const t=G()[Ei][Ki];if(!t.projection){const r=t.projection=Ud(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const l=n?Rk(o,n):0;null!==l&&(i[l]?i[l].projectionNext=o:r[l]=o,i[l]=o),o=o.next}}}function xi(n,t=0,e){const r=G(),i=re(),o=Tu(i,Tr+n,16,null,e||null);null===o.projection&&(o.projection=t),ke(),(!r[Bs]||ve())&&32!=(32&o.flags)&&function VN(n,t,e){pw(t[fr],0,t,e,I_(n,e,t),lw(e.parent||t[Ki],e,t))}(i,r,o)}function Vp(n,t){return n<<17|t<<2}function yl(n){return n>>17&32767}function Iy(n){return 2|n}function fc(n){return(131068&n)>>2}function My(n,t){return-131069&n|t<<2}function Ry(n){return 1|n}function fS(n,t,e,r,i){const o=n[e+1],l=null===t;let c=r?yl(o):fc(o),u=!1;for(;0!==c&&(!1===u||l);){const D=n[c+1];Fk(n[c],t)&&(u=!0,n[c+1]=r?Ry(D):Iy(D)),c=r?yl(D):fc(D)}u&&(n[e+1]=r?Iy(o):Ry(o))}function Fk(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&hu(n,t)>=0}function Pu(n,t,e){return Vs(n,t,e,!1),Pu}function wi(n,t){return Vs(n,t,null,!0),wi}function Vs(n,t,e,r){const i=G(),o=re(),l=Te(2);o.firstUpdatePass&&function bS(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[Ot()],l=function vS(n,t){return t>=n.expandoStartIndex}(n,e);(function SS(n,t){return 0!=(n.flags&(t?8:16))})(o,r)&&null===t&&!l&&(t=!1),t=function Gk(n,t,e,r){const i=function Lt(n){const t=_e.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=ff(e=xy(null,n,t,e,r),t.attrs,r),o=null);else{const l=t.directiveStylingLast;if(-1===l||n[l]!==i)if(e=xy(i,n,t,e,r),null===o){let u=function qk(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==fc(r))return n[yl(r)]}(n,t,r);void 0!==u&&Array.isArray(u)&&(u=xy(null,n,t,u[1],r),u=ff(u,t.attrs,r),function Yk(n,t,e,r){n[yl(e?t.classBindings:t.styleBindings)]=r}(n,t,r,u))}else o=function $k(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ff(r,n[o].hostAttrs,e);return ff(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function Pk(n,t,e,r,i,o){let l=o?t.classBindings:t.styleBindings,c=yl(l),u=fc(l);n[r]=e;let D,p=!1;if(Array.isArray(e)?(D=e[1],(null===D||hu(e,D)>0)&&(p=!0)):D=e,i)if(0!==u){const Ee=yl(n[c+1]);n[r+1]=Vp(Ee,c),0!==Ee&&(n[Ee+1]=My(n[Ee+1],r)),n[c+1]=function Nk(n,t){return 131071&n|t<<17}(n[c+1],r)}else n[r+1]=Vp(c,0),0!==c&&(n[c+1]=My(n[c+1],r)),c=r;else n[r+1]=Vp(u,0),0===c?c=r:n[u+1]=My(n[u+1],r),u=r;p&&(n[r+1]=Iy(n[r+1])),fS(n,D,r,!0),fS(n,D,r,!1),function kk(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&hu(o,t)>=0&&(e[r+1]=Ry(e[r+1]))}(t,D,n,r,o),l=Vp(c,u),o?t.classBindings=l:t.styleBindings=l}(i,o,t,e,l,r)}}(o,n,l,r),t!==_r&&wo(i,l,t)&&function wS(n,t,e,r,i,o,l,c){if(!(3&t.type))return;const u=n.data,p=u[c+1],D=function Ok(n){return 1==(1&n)}(p)?TS(u,t,e,i,fc(p),l):void 0;jp(D)||(jp(o)||function xk(n){return 2==(2&n)}(p)&&(o=TS(u,null,e,i,c,l)),function HN(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:gl.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=gl.Important),n.setStyle(e,r,i,o))}}(r,l,La(Ot(),e),i,o))}(o,o.data[Ot()],i,i[fr],n,i[l+1]=function Qk(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ir(os(n)))),n}(t,e),r,l)}function xy(n,t,e,r,i){let o=null;const l=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<l&&(o=t[c],r=ff(r,o.hostAttrs,i),o!==n);)c++;return null!==n&&(e.directiveStylingLast=c),r}function ff(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?i=l:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),is(n,l,!!e||t[++o]))}return void 0===n?null:n}function TS(n,t,e,r,i,o){const l=null===t;let c;for(;i>0;){const u=n[i],p=Array.isArray(u),D=p?u[1]:u,H=null===D;let Ee=e[i+1];Ee===_r&&(Ee=H?Cr:void 0);let De=H?m_(Ee,r):D===r?Ee:void 0;if(p&&!jp(De)&&(De=m_(u,r)),jp(De)&&(c=De,l))return c;const xe=n[i+1];i=l?yl(xe):fc(xe)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(c=m_(u,r))}return c}function jp(n){return void 0!==n}function xr(n,t=""){const e=G(),r=re(),i=n+Tr,o=r.firstCreatePass?Tu(r,i,1,t,null):r.data[i],l=CS(r,e,o,t,n);e[i]=l,ot()&&pp(r,e,l,o),Ue(o,!1)}let CS=(n,t,e,r,i)=>(Dt(!0),function dp(n,t){return n.createText(t)}(t[fr],r));function xo(n){return To("",n,""),xo}function To(n,t,e){const r=G(),i=function Cu(n,t,e,r){return wo(n,Le(),e)?t+or(e)+r:_r}(r,n,t,e);return i!==_r&&Za(r,Ot(),i),To}function Hp(n,t,e,r,i){const o=G(),l=Au(o,n,t,e,r,i);return l!==_r&&Za(o,Ot(),l),Hp}function hf(n,t,e){const r=G();return wo(r,Le(),t)&&ss(re(),an(),r,n,t,r[fr],e,!0),hf}const Fu="en-US";let GS=Fu;function Py(n,t,e,r,i){if(n=Vn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Py(n[o],t,e,r,i);else{const o=re(),l=G();let c=lc(n)?n:Vn(n.provide),u=Lw(n);const p=X(),D=1048575&p.providerIndexes,H=p.directiveStart,Ee=p.providerIndexes>>20;if(lc(n)||!n.multi){const De=new ns(u,i,yt),xe=Fy(c,t,i?D:D+Ee,H);-1===xe?(f_(Zr(p,l),o,c),ky(o,n,t.length),t.push(c),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),e.push(De),l.push(De)):(e[xe]=De,l[xe]=De)}else{const De=Fy(c,t,D+Ee,H),xe=Fy(c,t,D,D+Ee),vt=xe>=0&&e[xe];if(i&&!vt||!i&&!(De>=0&&e[De])){f_(Zr(p,l),o,c);const Nt=function yL(n,t,e,r,i){const o=new ns(n,e,yt);return o.multi=[],o.index=t,o.componentProviders=0,gC(o,i,r&&!e),o}(i?_L:gL,e.length,i,r,u);!i&&vt&&(e[xe].providerFactory=Nt),ky(o,n,t.length,0),t.push(c),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),e.push(Nt),l.push(Nt)}else ky(o,n,De>-1?De:xe,gC(e[i?xe:De],u,!i&&r));!i&&r&&vt&&e[xe].componentProviders++}}}function ky(n,t,e,r){const i=lc(t),o=function bO(n){return!!n.useClass}(t);if(i||o){const u=(o?Vn(t.useClass):t).prototype.ngOnDestroy;if(u){const p=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const D=p.indexOf(e);-1===D?p.push(e,[r,u]):p[D+1].push(r,u)}else p.push(e,u)}}}function gC(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Fy(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function gL(n,t,e,r){return Ly(this.multi,[])}function _L(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=rc(e,e[Fn],this.providerFactory.index,r);o=c.slice(0,l),Ly(i,o);for(let u=l;u<c.length;u++)o.push(c[u])}else o=[],Ly(i,o);return o}function Ly(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Xr(n,t=[]){return e=>{e.providersResolver=(r,i)=>function mL(n,t,e){const r=re();if(r.firstCreatePass){const i=es(n);Py(e,r.data,r.blueprint,i,!0),Py(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Lu{}class _C{}class By extends Lu{constructor(t,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new MT(this);const i=Ro(t);this._bootstrapComponents=Ha(i.bootstrap),this._r3Injector=cT(t,e,[{provide:Lu,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver},...r],Ir(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Uy extends _C{constructor(t){super(),this.moduleType=t}create(t){return new By(this.moduleType,t,[])}}class yC extends Lu{constructor(t){super(),this.componentFactoryResolver=new MT(this),this.instance=null;const e=new G_([...t.providers,{provide:Lu,useValue:this},{provide:Xd,useValue:this.componentFactoryResolver}],t.parent||Ep(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function vC(n,t,e=null){return new yC({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let EL=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=Ow(0,e.type),i=r.length>0?vC([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=bn({token:n,providedIn:"environment",factory:()=>new n(Xt(_l))}),n})();function Qr(n){n.getStandaloneInjector=t=>t.get(EL).getOrCreateStandaloneInjector(n)}function ga(n,t,e,r){return AC(G(),Tt(),n,t,e,r)}function jy(n,t,e,r,i){return function DC(n,t,e,r,i,o,l){const c=t+e;return dc(n,c,i,o)?fa(n,c+2,l?r.call(l,i,o):r(i,o)):vf(n,c+2)}(G(),Tt(),n,t,e,r,i)}function vf(n,t){const e=n[t];return e===_r?void 0:e}function AC(n,t,e,r,i,o){const l=t+e;return wo(n,l,i)?fa(n,l+1,o?r.call(o,i):r(i)):vf(n,l+1)}function _a(n,t){const e=re();let r;const i=n+Tr;e.firstCreatePass?(r=function BL(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=ka(r.type)),l=go(yt);try{const c=bt(!1),u=o();return bt(c),function wk(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,G(),i,u),u}finally{go(l)}}function ya(n,t,e){const r=n+Tr,i=G(),o=b(i,r);return function bf(n,t){return n[Fn].data[t].pure}(i,r)?AC(i,Tt(),t,o.transform,e,o):o.transform(e)}function Hy(n){return t=>{setTimeout(n,void 0,t)}}const ni=class ZL extends ft{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),l=r;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),o=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(o=Hy(o),i&&(i=Hy(i)),l&&(l=Hy(l)));const c=super.subscribe({next:i,error:o,complete:l});return t instanceof L&&t.add(c),c}};function zL(){return this._results[Symbol.iterator]()}class Bu{get changes(){return this._changes||(this._changes=new ni)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Bu.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=zL)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=function Es(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function G1(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let va=(()=>{class n{}return n.__NG_ELEMENT_ID__=YL,n})();const GL=va,qL=class extends GL{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e,null)}createEmbeddedViewImpl(t,e,r){const l=this._declarationTContainer.tView,c=Rp(this._declarationLView,l,t,4096&this._declarationLView[dr]?4096:16,null,l.declTNode,null,null,null,e||null,r||null);c[ql]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[Jo];return null!==p&&(c[Jo]=p.createEmbeddedView(l)),_y(l,c,t),new nf(c)}};function YL(){return Yp(X(),G())}function Yp(n,t){return 4&n.type?new qL(t,n,Eu(n,t)):null}let as=(()=>{class n{}return n.__NG_ELEMENT_ID__=e2,n})();function e2(){return FC(X(),G())}const t2=as,PC=class extends t2{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Eu(this._hostTNode,this._hostLView)}get injector(){return new au(this._hostTNode,this._hostLView)}get parentInjector(){const t=la(this._hostTNode,this._hostLView);if(nc(t)){const e=aa(t,this._hostLView),r=Us(t);return new au(e[Fn].data[r+8],e)}return new au(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=kC(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ao}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const c=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(c,i,false),c}createComponent(t,e,r,i,o){const l=t&&!function Ld(n){return"function"==typeof n}(t);let c;if(l)c=e;else{const qe=e||{};c=qe.index,r=qe.injector,i=qe.projectableNodes,o=qe.environmentInjector||qe.ngModuleRef}const u=l?t:new rf(Fr(t)),p=r||this.parentInjector;if(!o&&null==u.ngModule){const vt=(l?p:this.parentInjector).get(_l,null);vt&&(o=vt)}Fr(u.componentType??{});const De=u.create(p,i,null,o);return this.insertImpl(De.hostView,c,false),De}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,r){const i=t._lView,o=i[Fn];if(function C(n){return Oi(n[yi])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const p=i[yi],D=new PC(p,p[Ki],p[yi]);D.detach(D.indexOf(t))}}const l=this._adjustIndex(e),c=this._lContainer;if(function PN(n,t,e,r){const i=ao+r,o=e.length;r>0&&(e[i-1][jo]=t),r<o-ao?(t[jo]=e[i],N0(e,ao+r,t)):(e.push(t),t[jo]=null),t[yi]=e;const l=t[ql];null!==l&&e!==l&&function kN(n,t){const e=n[Pa];t[Ei]!==t[yi][yi][Ei]&&(n[Qc]=!0),null===e?n[Pa]=[t]:e.push(t)}(l,t);const c=t[Jo];null!==c&&c.insertView(n),t[dr]|=128}(o,i,c,l),!r){const u=R_(l,c),p=i[fr],D=hp(p,c[_s]);null!==D&&function xN(n,t,e,r,i,o){r[Ri]=i,r[Ki]=t,zd(n,r,e,1,i,o)}(o,c[Ki],p,i,D,u)}return t.attachToViewContainerRef(),N0(zy(c),l,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=kC(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=A_(this._lContainer,e);r&&(np(zy(this._lContainer),e),iw(r[Fn],r))}detach(t){const e=this._adjustIndex(t,-1),r=A_(this._lContainer,e);return r&&null!=np(zy(this._lContainer),e)?new nf(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function kC(n){return n[8]}function zy(n){return n[8]||(n[8]=[])}function FC(n,t){let e;const r=t[n.index];return Oi(r)?e=r:(e=yT(r,t,null,n),t[n.index]=e,xp(t,e)),LC(e,t,n,r),new PC(e,n,t)}let LC=function BC(n,t,e,r){if(n[_s])return;let i;i=8&e.type?fi(r):function n2(n,t){const e=n[fr],r=e.createComment(""),i=vo(t,n);return oc(e,hp(e,i),r,function UN(n,t){return n.nextSibling(t)}(e,i),!1),r}(t,e),n[_s]=i};class Gy{constructor(t){this.queryList=t,this.matches=null}clone(){return new Gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class qy{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const l=e.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new qy(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ZC(t,e).matches&&this.queries[e].setDirty()}}class UC{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class Yy{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new Yy(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class $y{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new $y(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,s2(e,o)),this.matchTNodeWithReadOption(t,e,tp(e,t,o,!1,!1))}else r===va?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tp(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Rr||i===as||i===va&&4&e.type)this.addMatch(e.index,-2);else{const o=tp(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function s2(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function l2(n,t,e,r){return-1===e?function a2(n,t){return 11&n.type?Eu(n,t):4&n.type?Yp(n,t):null}(t,n):-2===e?function c2(n,t,e){return e===Rr?Eu(t,n):e===va?Yp(t,n):e===as?FC(t,n):void 0}(n,t,r):rc(n,n[Fn],e,t)}function VC(n,t,e,r){const i=t[Jo].queries[r];if(null===i.matches){const o=n.data,l=e.matches,c=[];for(let u=0;u<l.length;u+=2){const p=l[u];c.push(p<0?null:l2(t,o[p],l[u+1],e.metadata.read))}i.matches=c}return i.matches}function Wy(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const l=VC(n,t,i,e);for(let c=0;c<o.length;c+=2){const u=o[c];if(u>0)r.push(l[c/2]);else{const p=o[c+1],D=t[-u];for(let H=ao;H<D.length;H++){const Ee=D[H];Ee[ql]===Ee[yi]&&Wy(Ee[Fn],Ee,p,r)}if(null!==D[Pa]){const H=D[Pa];for(let Ee=0;Ee<H.length;Ee++){const De=H[Ee];Wy(De[Fn],De,p,r)}}}}}return r}function si(n){const t=G(),e=re(),r=qt();Sn(r+1);const i=ZC(e,r);if(n.dirty&&function F(n){return 4==(4&n[dr])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Wy(e,t,r,[]):VC(e,t,i,r);n.reset(o,VO),n.notifyOnChanges()}return!0}return!1}function Oo(n,t,e){const r=re();r.firstCreatePass&&(HC(r,new UC(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),jC(r,G(),t)}function Go(n,t,e,r){const i=re();if(i.firstCreatePass){const o=X();HC(i,new UC(t,e,r),o.index),function d2(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}jC(i,G(),e)}function ai(){return function u2(n,t){return n[Jo].queries[t].queryList}(G(),qt())}function jC(n,t,e){const r=new Bu(4==(4&e));(function lP(n,t,e,r){const i=bT(t);i.push(e),n.firstCreatePass&&ET(n).push(r,i.length-1)})(n,t,r,r.destroy),null===t[Jo]&&(t[Jo]=new qy),t[Jo].queries.push(new Gy(r))}function HC(n,t,e){null===n.queries&&(n.queries=new Yy),n.queries.track(new $y(t,e))}function ZC(n,t){return n.queries.getByIndex(t)}function Ky(n,t){return Yp(n,t)}const sA=new ln("Application Initializer");let nv=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=$t(sA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const o=i();if(df(o))e.push(o);else if(QT(o)){const l=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});e.push(l)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aA=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ba=new ln("LocaleId",{providedIn:"root",factory:()=>$t(ba,br.Optional|br.SkipSelf)||function N2(){return typeof $localize<"u"&&$localize.locale||Fu}()});let lA=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pt(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class k2{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let F2=(()=>{class n{compileModuleSync(e){return new Uy(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=Ha(Ro(e).declarations).reduce((l,c)=>{const u=Fr(c);return u&&l.push(new rf(u)),l},[]);return new k2(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dA(...n){}class cr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),typeof Zone>"u")throw new Gt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function U2(){const n="function"==typeof $r.requestAnimationFrame;let t=$r[n?"requestAnimationFrame":"setTimeout"],e=$r[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function H2(n){const t=()=>{!function j2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call($r,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,iv(n),n.isCheckStableRunning=!0,rv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),iv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,l,c)=>{try{return fA(n),e.invokeTask(i,o,l,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),hA(n)}},onInvoke:(e,r,i,o,l,c,u)=>{try{return fA(n),e.invoke(i,o,l,c,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),hA(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,iv(n),rv(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cr.isInAngularZone())throw new Gt(909,!1)}static assertNotInAngularZone(){if(cr.isInAngularZone())throw new Gt(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,t,V2,dA,dA);try{return o.runTask(l,e,r)}finally{o.cancelTask(l)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const V2={};function rv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function iv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function hA(n){n._nesting--,rv(n)}const pA=new ln("",{providedIn:"root",factory:mA});function mA(){const n=$t(cr);let t=!0;return Io(new Ye(i=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Ye(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{cr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const l=n.onUnstable.subscribe(()=>{cr.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),l.unsubscribe()}}).pipe(Wt()))}const gA=new ln("");let vl=null;const lv=new ln("PlatformDestroyListeners"),cv=new ln("appBootstrapListener");function W2(n){try{const{rootComponent:t,appProviders:e,platformProviders:r}=n,i=function $2(n=[]){if(vl)return vl;const t=function bA(n=[],t){return Ts.create({name:t,providers:[{provide:Z_,useValue:"platform"},{provide:lv,useValue:new Set([()=>vl=null])},...n]})}(n);return vl=t,function yA(){!function Nd(n){ec=n}(()=>{throw new Gt(600,!1)})}(),function vA(n){n.get(Bw,null)?.forEach(e=>e())}(t),t}(r),o=[eB(),...e||[]],c=new yC({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(cr);return u.run(()=>{c.resolveInjectorInitializers();const p=c.get(ua,null);let D;u.runOutsideAngular(()=>{D=u.onError.subscribe({next:De=>{p.handleError(De)}})});const H=()=>c.destroy(),Ee=i.get(lv);return Ee.add(H),c.onDestroy(()=>{D.unsubscribe(),Ee.delete(H)}),function TA(n,t,e){try{const r=e();return df(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(p,u,()=>{const De=c.get(nv);return De.runInitializers(),De.donePromise.then(()=>{!function qS(n){Ci(n,"Expected localeId to be defined"),"string"==typeof n&&(GS=n.toLowerCase().replace(/_/g,"-"))}(c.get(ba,Fu)||Fu);const qe=c.get(bl);return void 0!==t&&qe.bootstrap(t),qe})})})}catch(t){return Promise.reject(t)}}let bl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(AA),this.zoneIsStable=$t(pA),this.componentTypes=[],this.components=[],this.isStable=$t(lA).hasPendingTasks.pipe(Yn(e=>e?Qn(!1):this.zoneIsStable),ci(),Wt()),this._injector=$t(_l)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof zw;if(!this._injector.get(nv).done)throw!i&&function Fs(n){const t=Fr(n)||ji(n)||_o(n);return null!==t&&t.standalone}(e),new Gt(405,!1);let l;l=i?e:this._injector.get(Xd).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const c=function q2(n){return n.isBoundToModule}(l)?void 0:this._injector.get(Lu),p=l.create(Ts.NULL,[],r||l.selector,c),D=p.location.nativeElement,H=p.injector.get(gA,null);return H?.registerApplication(D),p.onDestroy(()=>{this.detachView(p.hostView),Kp(this.components,p),H?.unregisterApplication(D)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new Gt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Kp(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(cv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Kp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Gt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kp(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const AA=new ln("",{providedIn:"root",factory:()=>$t(ua).handleError.bind(void 0)});function Q2(){const n=$t(cr),t=$t(ua);return e=>n.runOutsideAngular(()=>t.handleError(e))}let J2=(()=>{class n{constructor(){this.zone=$t(cr),this.applicationRef=$t(bl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DA(n){return[{provide:cr,useFactory:n},{provide:$d,multi:!0,useFactory:()=>{const t=$t(J2,{optional:!0});return()=>t.initialize()}},{provide:AA,useFactory:Q2},{provide:pA,useFactory:mA}]}function eB(n){return U_([[],DA(()=>new cr(function wA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}let ko=(()=>{class n{}return n.__NG_ELEMENT_ID__=tB,n})();function tB(n){return function nB(n,t,e){if(na(n)&&!e){const r=I(n.index,t);return new nf(r,r)}return 47&n.type?new nf(t[Ei],t):null}(X(),G(),16==(16&n))}class xA{constructor(){}supports(t){return kp(t)}create(t){return new lB(t)}}const aB=(n,t)=>t;class lB{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aB}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const l=!r||e&&e.currentIndex<OA(r,i,o)?e:r,c=OA(l,i,o),u=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{o||(o=[]);const p=c-i,D=u-i;if(p!=D){for(let Ee=0;Ee<p;Ee++){const De=Ee<o.length?o[Ee]:o[Ee]=0,xe=De+Ee;D<=xe&&xe<p&&(o[Ee]=De+1)}o[l.previousIndex]=D-p}}c!==u&&t(l,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!kp(t))throw new Gt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,l,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],l=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,o,l,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,l,c),r=!0),e=e._next}else i=0,function tk(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,c=>{l=this._trackByFn(i,c),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,c,l,i)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new cB(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new NA),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class cB{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uB{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class NA{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new uB,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OA(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class PA{constructor(){}supports(t){return t instanceof Map||by(t)}create(){return new dB}}class dB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||by(t)))throw new Gt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const r=new fB(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class fB{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kA(){return new Jp([new xA])}let Jp=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||kA()),deps:[[n,new ip,new pu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Gt(901,!1)}}return n.\u0275prov=bn({token:n,providedIn:"root",factory:kA}),n})();function FA(){return new wf([new PA])}let wf=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||FA()),deps:[[n,new ip,new pu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Gt(901,!1)}}return n.\u0275prov=bn({token:n,providedIn:"root",factory:FA}),n})();function ju(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let _v=null;function El(){return _v}class CB{}const Ar=new ln("DocumentToken");let ZA=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:function(){return $t(AB)},providedIn:"platform"}),n})(),AB=(()=>{class n extends ZA{constructor(){super(),this._doc=$t(Ar),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return El().getBaseHref(this._doc)}onPopState(e){const r=El().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=El().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function zA(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function GA(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function mc(n){return n&&"?"!==n[0]?"?"+n:n}let tm=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:function(){return $t(IB)},providedIn:"root"}),n})();const DB=new ln("appBaseHref");let IB=(()=>{class n extends tm{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$t(Ar).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return zA(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+mc(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const l=this.prepareExternalUrl(i+mc(o));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){const l=this.prepareExternalUrl(i+mc(o));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(Xt(ZA),Xt(DB,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nm=(()=>{class n{constructor(e){this._subject=new ni,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function xB(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(GA(qA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+mc(r))}normalize(e){return n.stripTrailingSlash(function RB(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,qA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mc(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=mc,n.joinWithSlash=zA,n.stripTrailingSlash=GA,n.\u0275fac=function(e){return new(e||n)(Xt(tm))},n.\u0275prov=bn({token:n,factory:function(){return function MB(){return new nm(Xt(tm))}()},providedIn:"root"}),n})();function qA(n){return n.replace(/\/index.html$/,"")}const Dv=/\s+/,tD=[];let Zu=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=tD,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Dv):tD}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Dv):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Dv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(yt(Jp),yt(wf),yt(Rr),yt(ja))},n.\u0275dir=Bn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class _U{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wl=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _U(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===o?void 0:o);else if(null!==o){const c=r.get(o);r.move(c,l),rD(c,i)}});for(let i=0,o=r.length;i<o;i++){const c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{rD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(yt(as),yt(va),yt(Jp))},n.\u0275dir=Bn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function rD(n,t){n.context.$implicit=t.item}let to=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new yU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){iD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){iD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(yt(as),yt(va))},n.\u0275dir=Bn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yU{constructor(){this.$implicit=null,this.ngIf=null}}function iD(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ir(t)}'.`)}class Iv{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let hm=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Bn({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),oD=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Iv(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(yt(as),yt(va),yt(hm,9))},n.\u0275dir=Bn({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),pm=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split("."),l=-1===i.indexOf("-")?void 0:gl.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(wf),yt(ja))},n.\u0275dir=Bn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Mv=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(i,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(yt(as))},n.\u0275dir=Bn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[lo]}),n})(),Cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({}),n})();const lD="browser";function cD(n){return"server"===n}class _V extends CB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pv extends _V{static makeCurrent(){!function SB(n){_v||(_v=n)}(new Pv)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function yV(){return Df=Df||document.querySelector("base"),Df?Df.getAttribute("href"):null}();return null==e?null:function vV(n){_m=_m||document.createElement("a"),_m.setAttribute("href",n);const t=_m.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Df=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function mU(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let _m,Df=null,EV=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const kv=new ln("EventManagerPlugins");let mD=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new Gt(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return n.\u0275fac=function(e){return new(e||n)(Xt(kv),Xt(cr))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class gD{constructor(t){this._doc=t}}const Fv="ng-app-id";let _D=(()=>{class n{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cD(o),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Fv}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(Fv),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Fv,this.appId),l}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const o=this.styleRef,l=o.get(r)?.elements;l?l.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar),Xt(wp),Xt($_,8),Xt(cc))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const Lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bv=/%COMP%/g,CV=new ln("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function vD(n,t){return t.map(e=>e.replace(Bv,n))}let Uv=(()=>{class n{constructor(e,r,i,o,l,c,u,p=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=c,this.ngZone=u,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=cD(c),this.defaultRenderer=new Vv(e,l,u,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mo.ShadowDom&&(r={...r,encapsulation:Mo.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof ED?i.applyToHost(e):i instanceof jv&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const l=this.doc,c=this.ngZone,u=this.eventManager,p=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,H=this.platformIsServer;switch(r.encapsulation){case Mo.Emulated:o=new ED(u,p,r,this.appId,D,l,c,H);break;case Mo.ShadowDom:return new MV(u,p,e,r,l,c,this.nonce,H);default:o=new jv(u,p,r,D,l,c,H)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(Xt(mD),Xt(_D),Xt(wp),Xt(CV),Xt(Ar),Xt(cc),Xt(cr),Xt($_))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class Vv{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Lv[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(bD(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(bD(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Gt(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=Lv[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Lv[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(gl.DashCase|gl.Important)?t.style.setProperty(e,r,i&gl.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&gl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=El().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function bD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class MV extends Vv{constructor(t,e,r,i,o,l,c,u){super(t,o,l,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=vD(i.id,i.styles);for(const D of p){const H=document.createElement("style");c&&H.setAttribute("nonce",c),H.textContent=D,this.shadowRoot.appendChild(H)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jv extends Vv{constructor(t,e,r,i,o,l,c,u){super(t,o,l,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=u?vD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ED extends jv{constructor(t,e,r,i,o,l,c,u){const p=i+"-"+r.id;super(t,e,r,o,l,c,u,p),this.contentAttr=function AV(n){return"_ngcontent-%COMP%".replace(Bv,n)}(p),this.hostAttr=function DV(n){return"_nghost-%COMP%".replace(Bv,n)}(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}const wD=["alt","control","meta","shift"],xV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function TD(n){return{appProviders:[...VV,...n?.providers??[]],platformProviders:BV}}const BV=[{provide:cc,useValue:lD},{provide:Bw,useValue:function kV(){Pv.makeCurrent()},multi:!0},{provide:Ar,useFactory:function LV(){return function YN(n){O_=n}(document),document},deps:[]}],VV=[{provide:Z_,useValue:"root"},{provide:ua,useFactory:function FV(){return new ua},deps:[]},{provide:kv,useClass:(()=>{class n extends gD{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Ar,cr,cc]},{provide:kv,useClass:(()=>{class n extends gD{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),l=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>El().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let l="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),l="code."),wD.forEach(p=>{const D=r.indexOf(p);D>-1&&(r.splice(D,1),l+=p+".")}),l+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=l,u}static matchEventFullKeyCode(e,r){let i=xV[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wD.forEach(l=>{l!==i&&(0,NV[l])(e)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Ar]},Uv,_D,mD,{provide:Qd,useExisting:Uv},{provide:class $U{},useClass:EV,deps:[]},[]];let SD=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar))},n.\u0275prov=bn({token:n,factory:function(e){let r=null;return r=e?new e:function HV(){return new SD(Xt(Ar))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Gs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:function(e){let r=null;return r=e?new(e||n):Xt(DD),r},providedIn:"root"}),n})(),DD=(()=>{class n extends Gs{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case zi.NONE:return r;case zi.HTML:return ca(r,"HTML")?os(r):Aw(this._doc,String(r)).toString();case zi.STYLE:return ca(r,"Style")?os(r):r;case zi.SCRIPT:if(ca(r,"Script"))return os(r);throw new Gt(5200,!1);case zi.URL:return ca(r,"URL")?os(r):yp(String(r));case zi.RESOURCE_URL:if(ca(r,"ResourceURL"))return os(r);throw new Gt(5201,!1);default:throw new Gt(5202,!1)}}bypassSecurityTrustHtml(e){return function eO(n){return new $N(n)}(e)}bypassSecurityTrustStyle(e){return function tO(n){return new WN(n)}(e)}bypassSecurityTrustScript(e){return function nO(n){return new KN(n)}(e)}bypassSecurityTrustUrl(e){return function rO(n){return new XN(n)}(e)}bypassSecurityTrustResourceUrl(e){return function iO(n){return new QN(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar))},n.\u0275prov=bn({token:n,factory:function(e){let r=null;return r=e?new e:function qV(n){return new DD(n.get(Ar))}(Xt(Ts)),r},providedIn:"root"}),n})();function MD(n,t,e,r,i,o,l){try{var c=n[o](l),u=c.value}catch(p){return void e(p)}c.done?t(u):Promise.resolve(u).then(r,i)}function pi(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function l(u){MD(o,r,i,l,c,"next",u)}function c(u){MD(o,r,i,l,c,"throw",u)}l(void 0)})}}function RD(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function An(n,t,e){RD(n,t),t.set(n,e)}function xD(n,t,e){if(!t.has(n))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(n)}function gt(n,t){return function YV(n,t){return t.get?t.get.call(n):t.value}(n,xD(n,t,"get"))}const ym=$o(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:WV}=Array,{getPrototypeOf:KV,prototype:XV,keys:QV}=Object;function ND(n){if(1===n.length){const t=n[0];if(WV(t))return{args:t,keys:null};if(function JV(n){return n&&"object"==typeof n&&KV(n)===XV}(t)){const e=QV(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:e3}=Array;function Zv(n){return ye(t=>function t3(n,t){return e3(t)?n(...t):n(t)}(n,t))}function OD(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function zv(...n){const t=Lr(n),e=Si(n),{args:r,keys:i}=ND(n);if(0===r.length)return Mi([],t);const o=new Ye(function n3(n,t,e=pe){return r=>{PD(t,()=>{const{length:i}=n,o=new Array(i);let l=i,c=i;for(let u=0;u<i;u++)PD(t,()=>{const p=Mi(n[u],t);let D=!1;p.subscribe(ut(r,H=>{o[u]=H,D||(D=!0,c--),c||r.next(e(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,i?l=>OD(i,l):pe));return e?o.pipe(Zv(e)):o}function PD(n,t,e){n?Rn(e,n,t):t()}function If(...n){return function r3(){return nn(1)}()(Mi(n,Lr(n)))}function kD(n){return new Ye(t=>{hn(n()).subscribe(t)})}function zu(n,t){const e=Kn(n)?n:()=>n,r=i=>i.error(e());return new Ye(t?i=>t.schedule(r,0,i):r)}function Gv(){return $e((n,t)=>{let e=null;n._refCount++;const r=ut(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class FD extends Ye{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Pt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new L;const e=this.getSubject();t.add(this.source.subscribe(ut(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=L.EMPTY)}return t}refCount(){return Gv()(this)}}function Lo(n){return n<=0?()=>Pn:$e((t,e)=>{let r=0;t.subscribe(ut(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Mf(...n){const t=Lr(n);return $e((e,r)=>{(t?If(n,e,t):If(n,e)).subscribe(r)})}function uo(n,t){return $e((e,r)=>{let i=0;e.subscribe(ut(r,o=>n.call(t,o,i++)&&r.next(o)))})}function vm(n){return $e((t,e)=>{let r=!1;t.subscribe(ut(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function LD(n=o3){return $e((t,e)=>{let r=!1;t.subscribe(ut(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function o3(){return new ym}function gc(n,t){const e=arguments.length>=2;return r=>r.pipe(n?uo((i,o)=>n(i,o,r)):pe,Lo(1),e?vm(t):LD(()=>new ym))}function Rf(n,t){return Kn(t)?kt(n,t,1):kt(n,1)}function li(n,t,e){const r=Kn(n)||t||e?{next:n,error:t,complete:e}:n;return r?$e((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let c=!0;i.subscribe(ut(o,u=>{var p;null===(p=r.next)||void 0===p||p.call(r,u),o.next(u)},()=>{var u;c=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var p;c=!1,null===(p=r.error)||void 0===p||p.call(r,u),o.error(u)},()=>{var u,p;c&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(p=r.finalize)||void 0===p||p.call(r)}))}):pe}function Sl(n){return $e((t,e)=>{let o,r=null,i=!1;r=t.subscribe(ut(e,void 0,void 0,l=>{o=hn(n(l,Sl(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function qv(n){return n<=0?()=>Pn:$e((t,e)=>{let r=[];t.subscribe(ut(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function BD(n){return ye(()=>n)}function bm(n){return $e((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Er="primary",xf=Symbol("RouteTitle");class c3{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gu(n){return new c3(n)}function u3(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],c=n[o];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ea(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!UD(n[i],t[i]))return!1;return!0}function UD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function VD(n){return n.length>0?n[n.length-1]:null}function Cl(n){return function $V(n){return!!n&&(n instanceof Ye||Kn(n.lift)&&Kn(n.subscribe))}(n)?n:df(n)?Mi(Promise.resolve(n)):Qn(n)}const f3={exact:function ZD(n,t,e){if(!_c(n.segments,t.segments)||!Em(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!ZD(n.children[r],t.children[r],e))return!1;return!0},subset:zD},jD={exact:function h3(n,t){return Ea(n,t)},subset:function p3(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>UD(n[e],t[e]))},ignored:()=>!0};function HD(n,t,e){return f3[e.paths](n.root,t.root,e.matrixParams)&&jD[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function zD(n,t,e){return GD(n,t,t.segments,e)}function GD(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!_c(i,e)||t.hasChildren()||!Em(i,e,r))}if(n.segments.length===e.length){if(!_c(n.segments,e)||!Em(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!zD(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(_c(n.segments,i)&&Em(n.segments,i,r)&&n.children[Er])&&GD(n.children[Er],t,o,r)}}function Em(n,t,e){return t.every((r,i)=>jD[e](n[i].parameters,r.parameters))}class qu{constructor(t=new ri([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return _3.serialize(this)}}class ri{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wm(this)}}class Nf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gu(this.parameters)),this._parameterMap}toString(){return $D(this)}}function _c(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Of=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:function(){return new Yv},providedIn:"root"}),n})();class Yv{parse(t){const e=new I3(t);return new qu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Pf(t.root,!0)}`,r=function b3(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Tm(e)}=${Tm(i)}`).join("&"):`${Tm(e)}=${Tm(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function y3(n){return encodeURI(n)}(t.fragment)}`:""}`}}const _3=new Yv;function wm(n){return n.segments.map(t=>$D(t)).join("/")}function Pf(n,t){if(!n.hasChildren())return wm(n);if(t){const e=n.children[Er]?Pf(n.children[Er],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Er&&r.push(`${i}:${Pf(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function g3(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===Er&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Er&&(e=e.concat(t(i,r)))}),e}(n,(r,i)=>i===Er?[Pf(n.children[Er],!1)]:[`${i}:${Pf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Er]?`${wm(n)}/${e[0]}`:`${wm(n)}/(${e.join("//")})`}}function qD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tm(n){return qD(n).replace(/%3B/gi,";")}function $v(n){return qD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sm(n){return decodeURIComponent(n)}function YD(n){return Sm(n.replace(/\+/g,"%20"))}function $D(n){return`${$v(n.path)}${function v3(n){return Object.keys(n).map(t=>`;${$v(t)}=${$v(n[t])}`).join("")}(n.parameters)}`}const E3=/^[^\/()?;#]+/;function Wv(n){const t=n.match(E3);return t?t[0]:""}const w3=/^[^\/()?;=#]+/,S3=/^[^=?&#]+/,A3=/^[^&#]+/;class I3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ri([],{}):new ri([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Er]=new ri(t,e)),r}parseSegment(){const t=Wv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Gt(4009,!1);return this.capture(t),new Nf(Sm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function T3(n){const t=n.match(w3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Wv(this.remaining);i&&(r=i,this.capture(r))}t[Sm(e)]=Sm(r)}parseQueryParam(t){const e=function C3(n){const t=n.match(S3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function D3(n){const t=n.match(A3);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=YD(e),o=YD(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Gt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Er);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[Er]:new ri([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Gt(4011,!1)}}function WD(n){return n.segments.length>0?new ri([],{[Er]:n}):n}function KD(n){const t={};for(const r of Object.keys(n.children)){const o=KD(n.children[r]);if(r===Er&&0===o.segments.length&&o.hasChildren())for(const[l,c]of Object.entries(o.children))t[l]=c;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function M3(n){if(1===n.numberOfChildren&&n.children[Er]){const t=n.children[Er];return new ri(n.segments.concat(t.segments),t.children)}return n}(new ri(n.segments,t))}function yc(n){return n instanceof qu}function XD(n){let t;const i=WD(function e(o){const l={};for(const u of o.children){const p=e(u);l[u.outlet]=p}const c=new ri(o.url,l);return o===n&&(t=c),c}(n.root));return t??i}function QD(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return Kv(i,i,i,e,r);const o=function x3(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eI(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([u,p])=>{c[u]="string"==typeof p?p.split("/"):p}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?t++:""!=c&&i.push(c))}),i):[...i,o]},[]);return new eI(e,t,r)}(t);if(o.toRoot())return Kv(i,i,new ri([],{}),e,r);const l=function N3(n,t,e){if(n.isAbsolute)return new Am(t,!0,0);if(!e)return new Am(t,!1,NaN);if(null===e.parent)return new Am(e,!0,0);const r=Cm(n.commands[0])?0:1;return function O3(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Gt(4005,!1);i=r.segments.length}return new Am(r,!1,i-o)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),c=l.processChildren?Ff(l.segmentGroup,l.index,o.commands):tI(l.segmentGroup,l.index,o.commands);return Kv(i,l.segmentGroup,c,e,r)}function Cm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function kf(n){return"object"==typeof n&&null!=n&&n.outlets}function Kv(n,t,e,r,i){let l,o={};r&&Object.entries(r).forEach(([u,p])=>{o[u]=Array.isArray(p)?p.map(D=>`${D}`):`${p}`}),l=n===t?e:JD(n,t,e);const c=WD(KD(l));return new qu(c,o,i)}function JD(n,t,e){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===t?e:JD(o,t,e)}),new ri(n.segments,r)}class eI{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Cm(r[0]))throw new Gt(4003,!1);const i=r.find(kf);if(i&&i!==VD(r))throw new Gt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Am{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function tI(n,t,e){if(n||(n=new ri([],{})),0===n.segments.length&&n.hasChildren())return Ff(n,t,e);const r=function k3(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const l=n.segments[i],c=e[r];if(kf(c))break;const u=`${c}`,p=r<e.length-1?e[r+1]:null;if(i>0&&void 0===u)break;if(u&&p&&"object"==typeof p&&void 0===p.outlets){if(!rI(u,p,l))return o;r+=2}else{if(!rI(u,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ri(n.segments.slice(0,r.pathIndex),{});return o.children[Er]=new ri(n.segments.slice(r.pathIndex),n.children),Ff(o,0,i)}return r.match&&0===i.length?new ri(n.segments,{}):r.match&&!n.hasChildren()?Xv(n,t,e):r.match?Ff(n,0,i):Xv(n,t,e)}function Ff(n,t,e){if(0===e.length)return new ri(n.segments,{});{const r=function P3(n){return kf(n[0])?n[0].outlets:{[Er]:n}}(e),i={};if(!r[Er]&&n.children[Er]&&1===n.numberOfChildren&&0===n.children[Er].segments.length){const o=Ff(n.children[Er],t,e);return new ri(n.segments,o.children)}return Object.entries(r).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[o]=tI(n.children[o],t,l))}),Object.entries(n.children).forEach(([o,l])=>{void 0===r[o]&&(i[o]=l)}),new ri(n.segments,i)}}function Xv(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(kf(o)){const u=F3(o.outlets);return new ri(r,u)}if(0===i&&Cm(e[0])){r.push(new Nf(n.segments[t].path,nI(e[0]))),i++;continue}const l=kf(o)?o.outlets[Er]:`${o}`,c=i<e.length-1?e[i+1]:null;l&&c&&Cm(c)?(r.push(new Nf(l,nI(c))),i+=2):(r.push(new Nf(l,{})),i++)}return new ri(r,{})}function F3(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=Xv(new ri([],{}),0,r))}),t}function nI(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function rI(n,t,e){return n==e.path&&Ea(t,e.parameters)}const Lf="imperative";class wa{constructor(t,e){this.id=t,this.url=e}}class iI extends wa{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bf extends wa{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dm extends wa{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Im extends wa{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class Qv extends wa{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class L3 extends wa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B3 extends wa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U3 extends wa{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class V3 extends wa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j3 extends wa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H3{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z3{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z3{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G3{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q3{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y3{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $3{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uf,this.attachRef=null}}let Uf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new $3,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Jv(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Jv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=eb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return eb(t,this._root).map(e=>e.value)}}function Jv(n,t){if(n===t.value)return t;for(const e of t.children){const r=Jv(n,e);if(r)return r}return null}function eb(n,t){if(n===t.value)return[t];for(const e of t.children){const r=eb(n,e);if(r.length)return r.unshift(t),r}return[]}class $a{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class sI extends oI{constructor(t,e){super(t),this.snapshot=e,tb(this,t)}toString(){return this.snapshot.toString()}}function aI(n,t){const e=function W3(n,t){const l=new Mm([],{},{},"",{},Er,t,null,{});return new cI("",new $a(l,[]))}(0,t),r=new pt([new Nf("",{})]),i=new pt({}),o=new pt({}),l=new pt({}),c=new pt(""),u=new Ta(r,i,l,c,o,Er,t,e.root);return u.snapshot=e.root,new sI(new $a(u,[]),e)}class Ta{constructor(t,e,r,i,o,l,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ye(p=>p[xf]))??Qn(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(t=>Gu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(t=>Gu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lI(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function K3(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Mm{get title(){return this.data?.[xf]}constructor(t,e,r,i,o,l,c,u,p){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.routeConfig=u,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cI extends oI{constructor(t,e){super(e),this.url=t,tb(this,e)}toString(){return uI(this._root)}}function tb(n,t){t.value._routerState=n,t.children.forEach(e=>tb(n,e))}function uI(n){const t=n.children.length>0?` { ${n.children.map(uI).join(", ")} } `:"";return`${n.value}${t}`}function nb(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ea(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ea(t.params,e.params)||n.paramsSubject.next(e.params),function d3(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ea(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ea(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rb(n,t){const e=Ea(n.params,t.params)&&function m3(n,t){return _c(n,t)&&n.every((e,r)=>Ea(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||rb(n.parent,t.parent))}let ib=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Er,this.activateEvents=new ni,this.deactivateEvents=new ni,this.attachEvents=new ni,this.detachEvents=new ni,this.parentContexts=$t(Uf),this.location=$t(as),this.changeDetector=$t(ko),this.environmentInjector=$t(_l),this.inputBinder=$t(Rm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Gt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Gt(4013,!1);this._activatedRoute=e;const i=this.location,l=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new X3(e,c,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Bn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lo]}),n})();class X3{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ta?this.route:t===Uf?this.childContexts:this.parent.get(t,e)}}const Rm=new ln("");function Vf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function J3(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Vf(n,r,i);return Vf(n,r)})}(n,t,e);return new $a(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(c=>Vf(n,c)),l}}const r=function ej(n){return new Ta(new pt(n.url),new pt(n.params),new pt(n.queryParams),new pt(n.fragment),new pt(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>Vf(n,o));return new $a(r,i)}}const ob="ngNavigationCancelingError";function fI(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=yc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=hI(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function hI(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[ob]=!0,r.cancellationCode=t,e&&(r.url=e),r}function pI(n){return mI(n)&&yc(n.url)}function mI(n){return n&&n[ob]}let gI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:1,vars:0,template:function(e,r){1&e&&Wn(0,"router-outlet")},dependencies:[ib],encapsulation:2}),n})();function sb(n){const t=n.children&&n.children.map(sb),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Er&&(e.component=gI),e}function qs(n){return n.outlet||Er}function jf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class aj{constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),nb(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Yu(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Yu(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(r&&r.outlet){const l=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Yu(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const i=Yu(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Y3(o.value.snapshot))}),t.children.length&&this.forwardEvent(new G3(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(nb(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),nb(c.route.value),this.activateChildRoutes(t,null,l.children)}else{const c=jf(i.snapshot);l.attachRef=null,l.route=i,l.injector=c,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class _I{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xm{constructor(t,e){this.component=t,this.route=e}}function lj(n,t,e){const r=n._root;return Hf(r,t?t._root:null,e,[r.value])}function $u(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function Th(n){return null!==sl(n)}(n)?t.get(n):n:r}function Hf(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yu(t);return n.children.forEach(l=>{(function uj(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const u=function dj(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!_c(n.url,t.url);case"pathParamsOrQueryParamsChange":return!_c(n.url,t.url)||!Ea(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rb(n,t)||!Ea(n.queryParams,t.queryParams);default:return!rb(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _I(r)):(o.data=l.data,o._resolvedData=l._resolvedData),Hf(n,t,o.component?c?c.children:null:e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new xm(c.outlet.component,l))}else l&&Zf(t,c,i),i.canActivateChecks.push(new _I(r)),Hf(n,null,o.component?c?c.children:null:e,r,i)})(l,o[l.value.outlet],e,r.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,c])=>Zf(c,e.getContext(l),i)),i}function Zf(n,t,e){const r=Yu(n),i=n.value;Object.entries(r).forEach(([o,l])=>{Zf(l,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new xm(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function zf(n){return"function"==typeof n}function yI(n){return n instanceof ym||"EmptyError"===n?.name}const Nm=Symbol("INITIAL_VALUE");function Wu(){return Yn(n=>zv(n.map(t=>t.pipe(Lo(1),Mf(Nm)))).pipe(ye(t=>{for(const e of t)if(!0!==e){if(e===Nm)return Nm;if(!1===e||e instanceof qu)return e}return!0}),uo(t=>t!==Nm),Lo(1)))}function vI(n){return function Mt(...n){return je(n)}(li(t=>{if(yc(t))throw fI(0,t)}),ye(t=>!0===t))}class Om{constructor(t){this.segmentGroup=t||null}}class bI{constructor(t){this.urlTree=t}}function Ku(n){return zu(new Om(n))}function EI(n){return zu(new bI(n))}class xj{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new Gt(4002,!1)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qn(r);if(i.numberOfChildren>1||!i.children[Er])return zu(new Gt(4e3,!1));i=i.children[Er]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new qu(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const c=o.substring(1);r[i]=e[c]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let l={};return Object.entries(e.children).forEach(([c,u])=>{l[c]=this.createSegmentGroup(t,u,r,i)}),new ri(o,l)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Gt(4001,!1);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}const ab={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nj(n,t,e,r,i){const o=lb(n,t,e);return o.matched?(r=function tj(n,t){return n.providers&&!n._injector&&(n._injector=vC(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function Ij(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Qn(i.map(l=>{const c=$u(l,n);return Cl(function _j(n){return n&&zf(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(Wu(),vI()):Qn(!0)}(r,t,e).pipe(ye(l=>!0===l?o:{...ab}))):Qn(o)}function lb(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...ab}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||u3)(e,n,t);if(!i)return{...ab};const o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function wI(n,t,e,r){return e.length>0&&function kj(n,t,e){return e.some(r=>Pm(n,t,r)&&qs(r)!==Er)}(n,e,r)?{segmentGroup:new ri(t,Pj(r,new ri(e,n.children))),slicedSegments:[]}:0===e.length&&function Fj(n,t,e){return e.some(r=>Pm(n,t,r))}(n,e,r)?{segmentGroup:new ri(n.segments,Oj(n,0,e,r,n.children)),slicedSegments:e}:{segmentGroup:new ri(n.segments,n.children),slicedSegments:e}}function Oj(n,t,e,r,i){const o={};for(const l of r)if(Pm(n,e,l)&&!i[qs(l)]){const c=new ri([],{});o[qs(l)]=c}return{...i,...o}}function Pj(n,t){const e={};e[Er]=t;for(const r of n)if(""===r.path&&qs(r)!==Er){const i=new ri([],{});e[qs(r)]=i}return e}function Pm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Vj{constructor(t,e,r,i,o,l,c){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new xj(this.urlSerializer,this.urlTree)}noMatchError(t){return new Gt(4002,!1)}recognize(){const t=wI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Er).pipe(Sl(e=>{if(e instanceof bI)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Om?this.noMatchError(e):e}),ye(e=>{const r=new Mm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Er,this.rootComponentType,null,{}),i=new $a(r,e),o=new cI("",i),l=function R3(n,t,e=null,r=null){return QD(XD(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Er).pipe(Sl(r=>{throw r instanceof Om?this.noMatchError(r):r}))}inheritParamsAndData(t){const e=t.value,r=lI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i,!0)}processChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Mi(i).pipe(Rf(o=>{const l=r.children[o],c=function oj(n,t){const e=n.filter(r=>qs(r)===t);return e.push(...n.filter(r=>qs(r)!==t)),e}(e,o);return this.processSegmentGroup(t,c,l,o)}),function a3(n,t){return $e(function s3(n,t,e,r,i){return(o,l)=>{let c=e,u=t,p=0;o.subscribe(ut(l,D=>{const H=p++;u=c?n(u,D,H):(c=!0,D),r&&l.next(u)},i&&(()=>{c&&l.next(u),l.complete()})))}}(n,t,arguments.length>=2,!0))}((o,l)=>(o.push(...l),o)),vm(null),function l3(n,t){const e=arguments.length>=2;return r=>r.pipe(n?uo((i,o)=>n(i,o,r)):pe,qv(1),e?vm(t):LD(()=>new ym))}(),kt(o=>{if(null===o)return Ku(r);const l=TI(o);return function jj(n){n.sort((t,e)=>t.value.outlet===Er?-1:e.value.outlet===Er?1:t.value.outlet.localeCompare(e.value.outlet))}(l),Qn(l)}))}processSegment(t,e,r,i,o,l){return Mi(e).pipe(Rf(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,i,o,l).pipe(Sl(u=>{if(u instanceof Om)return Qn(null);throw u}))),gc(c=>!!c),Sl(c=>{if(yI(c))return function Bj(n,t,e){return 0===t.length&&!n.children[e]}(r,i,o)?Qn([]):Ku(r);throw c}))}processSegmentAgainstRoute(t,e,r,i,o,l,c){return function Lj(n,t,e,r){return!!(qs(n)===r||r!==Er&&Pm(t,e,n))&&("**"===n.path||lb(t,n,e).matched)}(r,i,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,l,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,l):Ku(i):Ku(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?EI(o):this.applyRedirects.lineralizeSegments(r,o).pipe(kt(l=>{const c=new ri(l,{});return this.processSegment(t,e,c,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){const{matched:c,consumedSegments:u,remainingSegments:p,positionalParamSegments:D}=lb(e,i,o);if(!c)return Ku(e);const H=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,D);return i.redirectTo.startsWith("/")?EI(H):this.applyRedirects.lineralizeSegments(i,H).pipe(kt(Ee=>this.processSegment(t,r,e,Ee.concat(p),l,!1)))}matchSegmentAgainstRoute(t,e,r,i,o,l){let c;if("**"===r.path){const u=i.length>0?VD(i).parameters:{};c=Qn({snapshot:new Mm(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,SI(r),qs(r),r.component??r._loadedComponent??null,r,CI(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else c=Nj(e,r,i,t).pipe(ye(({matched:u,consumedSegments:p,remainingSegments:D,parameters:H})=>u?{snapshot:new Mm(p,H,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,SI(r),qs(r),r.component??r._loadedComponent??null,r,CI(r)),consumedSegments:p,remainingSegments:D}:null));return c.pipe(Yn(u=>null===u?Ku(e):this.getChildConfig(t=r._injector??t,r,i).pipe(Yn(({routes:p})=>{const D=r._loadedInjector??t,{snapshot:H,consumedSegments:Ee,remainingSegments:De}=u,{segmentGroup:xe,slicedSegments:qe}=wI(e,Ee,De,p);if(0===qe.length&&xe.hasChildren())return this.processChildren(D,p,xe).pipe(ye(Nt=>null===Nt?null:[new $a(H,Nt)]));if(0===p.length&&0===qe.length)return Qn([new $a(H,[])]);const vt=qs(r)===o;return this.processSegment(D,p,xe,qe,vt?Er:o,!0).pipe(ye(Nt=>[new $a(H,Nt)]))}))))}getChildConfig(t,e,r){return e.children?Qn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Qn({routes:e._loadedRoutes,injector:e._loadedInjector}):function Dj(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Qn(!0):Qn(i.map(l=>{const c=$u(l,n);return Cl(function hj(n){return n&&zf(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(Wu(),vI())}(t,e,r).pipe(kt(i=>i?this.configLoader.loadChildren(t,e).pipe(li(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Rj(n){return zu(hI(!1,3))}())):Qn({routes:[],injector:t})}}function Hj(n){const t=n.value.routeConfig;return t&&""===t.path}function TI(n){const t=[],e=new Set;for(const r of n){if(!Hj(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=TI(r.children);t.push(new $a(r.value,i))}return t.filter(r=>!e.has(r))}function SI(n){return n.data||{}}function CI(n){return n.resolve||{}}function AI(n){return"string"==typeof n.title||null===n.title}function cb(n){return Yn(t=>{const e=n(t);return e?Mi(e).pipe(ye(()=>t)):Qn(t)})}const km=new ln("ROUTES");let DI=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$t(F2)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Qn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Cl(e.loadComponent()).pipe(ye(II),li(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),bm(()=>{this.componentLoaders.delete(e)})),i=new FD(r,()=>new ft).pipe(Gv());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ye(c=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,p;return Array.isArray(c)?p=c:(u=c.create(e).injector,p=u.get(km,[],br.Self|br.Optional).flat()),{routes:p.map(sb),injector:u}}),bm(()=>{this.childrenLoaders.delete(r)})),l=new FD(o,()=>new ft).pipe(Gv());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(e){return Cl(e()).pipe(ye(II),kt(r=>r instanceof _C||Array.isArray(r)?Qn(r):Mi(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function II(n){return function Wj(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Fm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ft,this.configLoader=$t(DI),this.environmentInjector=$t(_l),this.urlSerializer=$t(Of),this.rootContexts=$t(Uf),this.inputBindingEnabled=null!==$t(Rm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Qn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Z3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new H3(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new pt({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lf,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(uo(r=>0!==r.id),ye(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),Yn(r=>{let i=!1,o=!1;return Qn(r).pipe(li(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yn(l=>{const c=e.browserUrlTree.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==e.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const D="";return this.events.next(new Im(l.id,e.serializeUrl(r.rawUrl),D,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),Pn}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return MI(l.source)&&(e.browserUrlTree=l.extractedUrl),Qn(l).pipe(Yn(D=>{const H=this.transitions?.getValue();return this.events.next(new iI(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),H!==this.transitions?.getValue()?Pn:Promise.resolve(D)}),function Zj(n,t,e,r,i,o){return kt(l=>function Uj(n,t,e,r,i,o,l="emptyOnly"){return new Vj(n,t,e,r,i,l,o).recognize()}(n,t,e,r,l.extractedUrl,i,o).pipe(ye(({state:c,tree:u})=>({...l,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),li(D=>{if(r.targetSnapshot=D.targetSnapshot,r.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!D.extras.skipLocationChange){const Ee=e.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);e.setBrowserUrl(Ee,D)}e.browserUrlTree=D.urlAfterRedirects}const H=new L3(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(H)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:D,extractedUrl:H,source:Ee,restoredState:De,extras:xe}=l,qe=new iI(D,this.urlSerializer.serialize(H),Ee,De);this.events.next(qe);const vt=aI(0,this.rootComponentType).snapshot;return Qn(r={...l,targetSnapshot:vt,urlAfterRedirects:H,extras:{...xe,skipLocationChange:!1,replaceUrl:!1}})}{const D="";return this.events.next(new Im(l.id,e.serializeUrl(r.extractedUrl),D,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),Pn}}),li(l=>{const c=new B3(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ye(l=>r={...l,guards:lj(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function vj(n,t){return kt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?Qn({...e,guardsResult:!0}):function bj(n,t,e,r){return Mi(n).pipe(kt(i=>function Aj(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Qn(o.map(c=>{const u=jf(t)??i,p=$u(c,u);return Cl(function gj(n){return n&&zf(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,r):u.runInContext(()=>p(n,t,e,r))).pipe(gc())})).pipe(Wu()):Qn(!0)}(i.component,i.route,e,t,r)),gc(i=>!0!==i,!0))}(l,r,i,n).pipe(kt(c=>c&&function fj(n){return"boolean"==typeof n}(c)?function Ej(n,t,e,r){return Mi(t).pipe(Rf(i=>If(function Tj(n,t){return null!==n&&t&&t(new z3(n)),Qn(!0)}(i.route.parent,r),function wj(n,t){return null!==n&&t&&t(new q3(n)),Qn(!0)}(i.route,r),function Cj(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function cj(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>kD(()=>Qn(l.guards.map(u=>{const p=jf(l.node)??e,D=$u(u,p);return Cl(function mj(n){return n&&zf(n.canActivateChild)}(D)?D.canActivateChild(r,n):p.runInContext(()=>D(r,n))).pipe(gc())})).pipe(Wu())));return Qn(o).pipe(Wu())}(n,i.path,e),function Sj(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Qn(!0);const i=r.map(o=>kD(()=>{const l=jf(t)??e,c=$u(o,l);return Cl(function pj(n){return n&&zf(n.canActivate)}(c)?c.canActivate(t,n):l.runInContext(()=>c(t,n))).pipe(gc())}));return Qn(i).pipe(Wu())}(n,i.route,e))),gc(i=>!0!==i,!0))}(r,o,n,t):Qn(c)),ye(c=>({...e,guardsResult:c})))})}(this.environmentInjector,l=>this.events.next(l)),li(l=>{if(r.guardsResult=l.guardsResult,yc(l.guardsResult))throw fI(0,l.guardsResult);const c=new U3(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),uo(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),cb(l=>{if(l.guards.canActivateChecks.length)return Qn(l).pipe(li(c=>{const u=new V3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Yn(c=>{let u=!1;return Qn(c).pipe(function zj(n,t){return kt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Qn(e);let o=0;return Mi(i).pipe(Rf(l=>function Gj(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!AI(i)&&(o[xf]=i.title),function qj(n,t,e,r){const i=function Yj(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Qn({});const o={};return Mi(i).pipe(kt(l=>function $j(n,t,e,r){const i=jf(t)??r,o=$u(n,i);return Cl(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[l],t,e,r).pipe(gc(),li(c=>{o[l]=c}))),qv(1),BD(o),Sl(l=>yI(l)?Pn:zu(l)))}(o,n,t,r).pipe(ye(l=>(n._resolvedData=l,n.data=lI(n,e).resolve,i&&AI(i)&&(n.data[xf]=i.title),null)))}(l.route,r,n,t)),li(()=>o++),qv(1),kt(l=>o===i.length?Qn(e):Pn))})}(e.paramsInheritanceStrategy,this.environmentInjector),li({next:()=>u=!0,complete:()=>{u||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),li(c=>{const u=new j3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),cb(l=>{const c=u=>{const p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(li(D=>{u.component=D}),ye(()=>{})));for(const D of u.children)p.push(...c(D));return p};return zv(c(l.targetSnapshot.root)).pipe(vm(),Lo(1))}),cb(()=>this.afterPreactivation()),ye(l=>{const c=function Q3(n,t,e){const r=Vf(n,t._root,e?e._root:void 0);return new sI(r,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:c}}),li(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((n,t,e,r)=>ye(i=>(new aj(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Lo(1),li({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Bf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),bm(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Sl(l=>{if(o=!0,mI(l)){pI(l)||(e.navigated=!0,e.restoreHistory(r,!0));const c=new Dm(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(c),pI(l)){const u=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),p={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||MI(r.source)};e.scheduleNavigation(u,Lf,null,p,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const c=new Qv(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(c);try{r.resolve(e.errorHandler(l))}catch(u){r.reject(u)}}return Pn}))}))}cancelNavigationTransition(e,r,i){const o=new Dm(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MI(n){return n!==Lf}let RI=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Er);return r}getResolvedTitleForRoute(e){return e.data[xf]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:function(){return $t(Kj)},providedIn:"root"}),n})(),Kj=(()=>{class n extends RI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(Xt(SD))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:function(){return $t(Jj)},providedIn:"root"}),n})();class Qj{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Jj=(()=>{class n extends Qj{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qi(n)))(r||n)}}(),n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ub=new ln("",{providedIn:"root",factory:()=>({})});let eH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:function(){return $t(tH)},providedIn:"root"}),n})(),tH=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Gf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Gf||{});function nH(n){throw n}function rH(n,t,e){return t.parse("/")}const iH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=$t(aA),this.isNgZoneEnabled=!1,this.options=$t(ub,{optional:!0})||{},this.pendingTasks=$t(lA),this.errorHandler=this.options.errorHandler||nH,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rH,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=$t(eH),this.routeReuseStrategy=$t(Xj),this.titleStrategy=$t(RI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=$t(km,{optional:!0})?.flat()??[],this.navigationTransitions=$t(Fm),this.urlSerializer=$t(Of),this.location=$t(nm),this.componentInputBindingEnabled=!!$t(Rm,{optional:!0}),this.isNgZoneEnabled=$t(cr)instanceof cr&&cr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aI(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(sb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:c,preserveFragment:u}=r,p=u?this.currentUrlTree.fragment:l;let H,D=null;switch(c){case"merge":D={...this.currentUrlTree.queryParams,...o};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=o||null}null!==D&&(D=this.removeEmptyProps(D));try{H=XD(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),H=this.currentUrlTree.root}return QD(H,e,D,p??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=yc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Lf,null,r)}navigate(e,r={skipLocationChange:!1}){return function sH(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new Gt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...iH}:!1===r?{...oH}:r,yc(e))return HD(this.currentUrlTree,e,i);const o=this.parseUrl(e);return HD(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let c,u,p;l?(c=l.resolve,u=l.reject,p=l.promise):p=new Promise((H,Ee)=>{c=H,u=Ee});const D=this.pendingTasks.add();return function xI(n,t){n.events.pipe(uo(e=>e instanceof Bf||e instanceof Dm||e instanceof Qv||e instanceof Im),ye(e=>e instanceof Bf||e instanceof Im?Gf.COMPLETE:e instanceof Dm&&(0===e.code||1===e.code)?Gf.REDIRECTING:Gf.FAILED),uo(e=>e!==Gf.REDIRECTING),Lo(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(H=>Promise.reject(H))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wa=(()=>{class n{constructor(e,r,i,o,l,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ft,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(p=>{p instanceof Bf&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function Mw(n,t,e){return function _O(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?Iw:ac}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(yt(Bo),yt(Ta),ic("tabindex"),yt(ja),yt(Rr),yt(tm))},n.\u0275dir=Bn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&pr("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&oi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ju],skipLocationChange:["skipLocationChange","skipLocationChange",ju],replaceUrl:["replaceUrl","replaceUrl",ju],routerLink:"routerLink"},standalone:!0,features:[kT,lo]}),n})();const db=new ln("");function OI(n){return n.routerState.root}function PI(){const n=$t(Ts);return t=>{const e=n.get(bl);if(t!==e.components[0])return;const r=n.get(Bo),i=n.get(kI);1===n.get(fb)&&r.initialNavigation(),n.get(FI,null,br.Optional)?.setUpPreloading(),n.get(db,null,br.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const kI=new ln("",{factory:()=>new ft}),fb=new ln("",{providedIn:"root",factory:()=>1}),FI=new ln("");function Jr(n,t){RD(n,t),t.add(n)}function Nr(n,t,e){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return e}let mH=(()=>{var n=new WeakMap,t=new WeakSet;class e{constructor(){Jr(this,t),An(this,n,{writable:!0,value:$t(Gs)})}set data(o){this._data=o,Nr(this,t,r).call(this)}}function r(){const i=document.implementation.createHTMLDocument().createElement("p");i.innerHTML=this._data.embed,Array.from(i.getElementsByTagName("iframe")).forEach(o=>{o.setAttribute("loading","lazy"),o.style.position="relative",o.style.maxWidth="100vw"}),this._embed=gt(this,n).bypassSecurityTrustHtml(i.innerHTML)}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ur({type:e,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(o,l){1&o&&Wn(0,"div",0),2&o&&Yt("innerHTML",l._embed,B_)},changeDetection:0}),e})();function wn(n,t,e){return function gH(n,t,e){if(t.set)t.set.call(n,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}(n,xD(n,t,"set"),e),e}const _H=["gallery"];function yH(n,t){if(1&n){const e=co();cn(0,"figure")(1,"img",3),pr("load",function(){return he(e),j(Hn().onLoad())})("click",function(){const o=he(e).$implicit;return j(Hn().onClick(o.href))}),un()()}if(2&n){const e=t.$implicit,r=Hn();Qt(1),Yt("src",e.src,ac)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const vH=function(n){return{"set-scrollbar":n}};let bH=(()=>{var n=new WeakMap;class t{constructor(){An(this,n,{writable:!0,value:void 0})}set fig(r){r&&r.nativeElement&&wn(this,n,r.nativeElement)}onLoad(){gt(this,n)&&(gt(this,n).scrollLeft=0)}onClick(r){String.isNullOrWhitespace(r)||window.open(r,"_blank","noopener,noreferrer")}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ur({type:t,selectors:[["post-body-image"]],viewQuery:function(r,i){if(1&r&&Oo(_H,5),2&r){let o;si(o=ai())&&(i.fig=o.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(r,i){1&r&&(cn(0,"div",0,1),kn(2,yH,2,3,"figure",2),un()),2&r&&(Yt("ngClass",ga(2,vH,i.data.images.length>1)),Qt(2),Yt("ngForOf",i.data.images))},dependencies:[Zu,wl],changeDetection:0}),t})(),BI=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakSet;class r{constructor(){Jr(this,e),An(this,n,{writable:!0,value:""}),An(this,t,{writable:!0,value:$t(Gs)}),wn(this,n,document.baseURI.replace(window.location.origin,"")),gt(this,n).endsWith("/")&&wn(this,n,gt(this,n).slice(0,-1))}sanitizeHTML(l){if(String.isNullOrWhitespace(l))return"";const c=document.implementation.createHTMLDocument().createElement("p");return c.innerHTML=gt(this,t).sanitize(zi.HTML,l),Nr(this,e,i).call(this,c),c.innerHTML}sanitizeLink(l){if(String.isNullOrWhitespace(l))return{href:"",text:"",external:!1};let c=l;c.startsWith("/")&&(c=`${window.location.origin}${c}`),c=c.replace(window.location.origin,`${gt(this,n)}`).replace("http://www.reddit.com/",`${gt(this,n)}/`).replace("https://www.reddit.com/",`${gt(this,n)}/`).replace("http://np.reddit.com/",`${gt(this,n)}/`).replace("https://np.reddit.com/",`${gt(this,n)}/`).replace("http://reddit.com/",`${gt(this,n)}/`).replace("https://reddit.com/",`${gt(this,n)}/`).replace("http://old.reddit.com/",`${gt(this,n)}/`).replace("https://old.reddit.com/",`${gt(this,n)}/`);const u=!c.startsWith(gt(this,n));if(!u){const H=c.indexOf("?");H>-1&&(c=c.slice(0,H)),c.endsWith("/")&&(c=c.slice(0,-1))}const p=c.replace(gt(this,n),""),D=document.createElement("a");return D.href=c,D.innerText=p,u&&(D.setAttribute("target","_blank"),D.setAttribute("rel","noopener noreferrer nofollow")),{href:c,text:p,external:u,el:D}}}function i(o){const l=Array.from(o.getElementsByTagName("a"));0!==l.length&&l.forEach(c=>{const u=this.sanitizeLink(c.href);c.replaceWith(u.el)})}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=bn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Lm=(()=>{var n=new WeakMap,t=new WeakSet,e=new WeakSet;class r{constructor(){Jr(this,e),Jr(this,t),An(this,n,{writable:!0,value:{}})}save(c="",u=""){gt(this,n)[window.location.href]={yScroll:window.scrollY},Nr(this,t,i).call(this,c,u,gt(this,n)[window.location.href])}restore(){setTimeout(()=>{const c=gt(this,n)[window.location.href];c?(Nr(this,e,o).call(this,c),window.scrollTo(0,c.yScroll||0),delete gt(this,n)[window.location.href]):window.scrollTo(0,0)},50)}}function i(l,c,u){if(u.tag_name=l,u.element_id=c,u.element_heights=[],String.isNullOrWhitespace(c)||String.isNullOrWhitespace(l))return;const p=document.querySelectorAll(l);for(let D=0;D<p.length;D++){const H=p[D];if(u.element_heights.push({id:H.id,height:H.getBoundingClientRect().height}),H.id===c)break}}function o(l){if(String.isNullOrWhitespace(l.element_id)||String.isNullOrWhitespace(l.tag_name)||0===l.element_heights?.length)return l.element_id="",l.tag_name="",void(l.element_heights=[]);const c=document.querySelectorAll(l.tag_name);for(let u=0;u<c.length;u++){const p=c[u],D=l.element_heights.find(H=>H.id===p.id);if(null!=D&&(p.style.height=`${D.height}px`,p.id===l.element_id))break}l.element_id="",l.tag_name="",l.element_heights=[]}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=bn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function EH(n,t){if(1&n&&(cn(0,"a",4),xr(1),un()),2&n){const e=Hn(2);Yt("href",e.href,ac),Qt(1),xo(e.text)}}function wH(n,t){if(1&n){const e=co();cn(0,"a",5),pr("click",function(){return he(e),j(Hn(2).on_internal_click())}),xr(1),un()}if(2&n){const e=Hn(2);Yt("routerLink",e.text),Qt(1),xo(e.text)}}function TH(n,t){if(1&n&&(cn(0,"p",1),kn(1,EH,2,2,"a",2),kn(2,wH,2,2,"a",3),un()),2&n){const e=Hn();Qt(1),Yt("ngIf",e.is_external),Qt(1),Yt("ngIf",!e.is_external&&e.show_internal)}}let SH=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakSet;class o{set data(u){wn(this,r,u),Nr(this,i,l).call(this)}constructor(){Jr(this,i),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),wn(this,n,""),wn(this,t,$t(BI)),wn(this,e,$t(Lm)),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,wn(this,n,document.baseURI),gt(this,n).endsWith("/")&&wn(this,n,gt(this,n).slice(0,-1))}on_internal_click(){gt(this,e).save("post",gt(this,r).id)}}function l(){const c=gt(this,t).sanitizeLink(gt(this,r).url);if(this.href=c.href,this.is_external=c.external,this.is_external)return void(this.text=this.href);this.text=c.text;const u=this.text.indexOf("/r/")+3,p=this.text.indexOf("/",u),D=this.text.slice(u,p);this.show_internal=D.toLowerCase()!==gt(this,r).subreddit.toLowerCase()}return o.\u0275fac=function(u){return new(u||o)},o.\u0275cmp=ur({type:o,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(u,p){1&u&&kn(0,TH,3,2,"p",0),2&u&&Yt("ngIf",p.is_external||p.show_internal)},dependencies:[to,Wa],changeDetection:0}),o})();const CH=["textPost"],AH=function(n){return{masked:n}};let pb,hb=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,p=new WeakSet;class D{set data(De){null!=De&&(wn(this,c,De),Nr(this,p,H).call(this))}set post(De){De&&De.nativeElement&&wn(this,u,De.nativeElement)}constructor(De,xe,qe,vt,Nt){Jr(this,p),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),An(this,l,{writable:!0,value:void 0}),An(this,c,{writable:!0,value:void 0}),An(this,u,{writable:!0,value:void 0}),wn(this,n,!0),this._truncated=!0,wn(this,l,""),wn(this,c,""),wn(this,t,De),wn(this,e,xe),wn(this,r,qe),wn(this,i,vt),wn(this,o,Nt),wn(this,l,document.baseURI),gt(this,l).endsWith("/")&&wn(this,l,gt(this,l).slice(0,-1))}onClick(De){const xe=De.target;if(xe&&"A"===xe.tagName){const qe=xe.href;qe.startsWith(gt(this,l))&&(De.preventDefault(),De.stopImmediatePropagation(),De.stopPropagation(),gt(this,r).navigateByUrl(qe.replace(gt(this,l),"")))}else if(gt(this,n)){if(this._truncated)return this._truncated=!1,void gt(this,o).save();this._truncated=!0,gt(this,o).restore()}}}function H(){this._text=gt(this,e).bypassSecurityTrustHtml(gt(this,i).sanitizeHTML(gt(this,c))),setTimeout(()=>{this._truncated=gt(this,u).scrollHeight>gt(this,u).clientHeight,wn(this,n,this._truncated),gt(this,t).detectChanges()},0)}return D.\u0275fac=function(De){return new(De||D)(yt(ko),yt(Gs),yt(Bo),yt(BI),yt(Lm))},D.\u0275cmp=ur({type:D,selectors:[["text-block"]],viewQuery:function(De,xe){if(1&De&&Oo(CH,5),2&De){let qe;si(qe=ai())&&(xe.post=qe.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(De,xe){1&De&&(cn(0,"p",0,1),pr("click",function(vt){return xe.onClick(vt)}),un()),2&De&&Yt("ngClass",ga(2,AH,xe._truncated))("innerHTML",xe._text,B_)},dependencies:[Zu],changeDetection:0}),D})(),DH=(()=>{class n{constructor(){this.data=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"data"]],template:function(e,r){1&e&&Wn(0,"text-block",0),2&e&&Yt("data",null==r.data?null:r.data.selftext_html)},dependencies:[hb],changeDetection:0}),n})();try{pb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pb=!1}let Xu,no=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function qU(n){return n===lD}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Xt(cc))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function VI(){if(Xu)return Xu;if("object"!=typeof document||!document)return Xu=new Set(UI),Xu;let n=document.createElement("input");return Xu=new Set(UI.filter(t=>(n.setAttribute("type",t),n.type===t))),Xu}let qf,bc,mb;function vc(n){return function IH(){if(null==qf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qf=!0}))}finally{qf=qf||!1}return qf}()?n:!!n.capture}function MH(){if(null==bc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bc=!1,bc;if("scrollBehavior"in document.documentElement.style)bc=!0;else{const n=Element.prototype.scrollTo;bc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return bc}function Al(n){return n.composedPath?n.composedPath()[0]:n.target}function gb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function vb(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class $H extends L{constructor(t,e){super()}schedule(t,e=0){return this}}const Um={setInterval(n,t,...e){const{delegate:r}=Um;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Um;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class bb extends $H{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Um.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Um.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,He(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Eb={now:()=>(Eb.delegate||Date).now(),delegate:void 0};class Yf{constructor(t,e=Yf.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Yf.now=Eb.now;class wb extends Yf{constructor(t,e=Yf.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const Vm=new wb(bb),WH=Vm;function Tb(n,t=Vm){return $e((e,r)=>{let i=null,o=null,l=null;const c=()=>{if(i){i.unsubscribe(),i=null;const p=o;o=null,r.next(p)}};function u(){const p=l+n,D=t.now();if(D<p)return i=this.schedule(void 0,p-D),void r.add(i);c()}e.subscribe(ut(r,p=>{o=p,l=t.now(),i||(i=t.schedule(u,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function zI(n){return uo((t,e)=>n<=e)}function ro(n){return $e((t,e)=>{hn(n).subscribe(ut(e,()=>e.complete(),g)),!e.closed&&t.subscribe(e)})}function So(n){return null!=n&&"false"!=`${n}`}function Ec(n,t=0){return function KH(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function jm(n){return Array.isArray(n)?n:[n]}function Yi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Dl(n){return n instanceof Rr?n.nativeElement:n}let XH=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({providers:[XH]}),n})();const qI=new Set;let wc,QH=(()=>{class n{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eZ}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function JH(n,t){if(!qI.has(n))try{wc||(wc=document.createElement("style"),t&&(wc.nonce=t),wc.setAttribute("type","text/css"),document.head.appendChild(wc)),wc.sheet&&(wc.sheet.insertRule(`@media ${n} {body{ }}`,0),qI.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(Xt(no),Xt($_,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eZ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let tZ=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new ft}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return YI(jm(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=zv(YI(jm(e)).map(l=>this._registerQuery(l).observable));return o=If(o.pipe(Lo(1)),o.pipe(zI(1),Tb(0))),o.pipe(ye(l=>{const c={matches:!1,breakpoints:{}};return l.forEach(({matches:u,query:p})=>{c.matches=c.matches||u,c.breakpoints[p]=u}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new Ye(l=>{const c=u=>this._zone.run(()=>l.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Mf(r),ye(({matches:l})=>({query:e,matches:l})),ro(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(Xt(QH),Xt(cr))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YI(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Hm(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const WI="cdk-describedby-message",Zm="cdk-describedby-host";let Sb=0,iZ=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Sb++,this._document=e,this._id=$t(wp)+"-"+Sb++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=Cb(r,i);"string"!=typeof r?(KI(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=Cb(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Zm}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(Zm);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");KI(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Cb(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=Hm(e,"aria-describedby").filter(i=>0!=i.indexOf(WI));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function nZ(n,t,e){const r=Hm(n,t);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(Zm,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function rZ(n,t,e){const i=Hm(n,t).filter(o=>o!=e.trim());i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(Zm)}_isElementDescribedByMessage(e,r){const i=Hm(e,"aria-describedby"),o=this._messageRegistry.get(r),l=o&&o.messageElement.id;return!!l&&-1!=i.indexOf(l)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar),Xt(no))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cb(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function KI(n,t){n.id||(n.id=`${WI}-${t}-${Sb++}`)}class oZ{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ft,this._typeaheadSubscription=L.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ft,this.change=new ft,t instanceof Bu&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(li(e=>this._pressedLetters.push(e)),Tb(t),uo(()=>this._pressedLetters.length>0),ye(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,l=r[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((i||vb(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Bu?this._items.toArray():this._items}}class sZ extends oZ{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Ab(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Db(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const fZ=new ln("cdk-input-modality-detector-options"),hZ={ignoreKeys:[18,17,224,91,16]},Qu=vc({passive:!0,capture:!0});let pZ=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new pt(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(c=>c===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Al(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ab(l)?"keyboard":"mouse"),this._mostRecentTarget=Al(l))},this._onTouchstart=l=>{Db(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Al(l))},this._options={...hZ,...o},this.modalityDetected=this._modality.pipe(zI(1)),this.modalityChanged=this.modalityDetected.pipe(ci()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Qu),i.addEventListener("mousedown",this._onMousedown,Qu),i.addEventListener("touchstart",this._onTouchstart,Qu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qu),document.removeEventListener("mousedown",this._onMousedown,Qu),document.removeEventListener("touchstart",this._onTouchstart,Qu))}}return n.\u0275fac=function(e){return new(e||n)(Xt(no),Xt(cr),Xt(Ar),Xt(fZ,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gZ=new ln("cdk-focus-monitor-default-options"),zm=vc({passive:!0,capture:!0});let $f=(()=>{class n{constructor(e,r,i,o,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ft,this._rootNodeFocusAndBlurListener=c=>{for(let p=Al(c);p;p=p.parentElement)"focus"===c.type?this._onFocus(c,p):this._onBlur(c,p)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){const i=Dl(e);if(!this._platform.isBrowser||1!==i.nodeType)return Qn();const o=function xH(n){if(function RH(){if(null==mb){const n=typeof document<"u"?document.head:null;mb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mb}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const c={checkChildren:r,subject:new ft,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const r=Dl(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=Dl(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=Al(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,zm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,zm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ro(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(Xt(cr),Xt(no),Xt(pZ),Xt(Ar,8),Xt(gZ,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JI="cdk-high-contrast-black-on-white",eM="cdk-high-contrast-white-on-black",Ib="cdk-high-contrast-active";let tM=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=$t(tZ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ib,JI,eM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Ib,JI):2===r&&e.add(Ib,eM)}}}return n.\u0275fac=function(e){return new(e||n)(Xt(no),Xt(Ar))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_Z=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(Xt(tM))},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[GI]}),n})();const yZ=new ln("cdk-dir-doc",{providedIn:"root",factory:function vZ(){return $t(Ar)}}),bZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Gm=(()=>{class n{constructor(e){this.value="ltr",this.change=new ni,e&&(this.value=function EZ(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?bZ.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Xt(yZ,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({}),n})();const TZ=new ln("mat-sanity-checks",{providedIn:"root",factory:function wZ(){return!0}});let io=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!gb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(Xt(tM),Xt(TZ,8),Xt(Ar))},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[Wf,Wf]}),n})();function iM(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=So(t)}constructor(...t){super(...t),this._disabled=!1}}}function qm(n,t){return class extends n{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function Mb(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=So(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function SZ(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ec(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function CZ(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let oM=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DZ{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const sM=vc({passive:!0,capture:!0});class IZ{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Al(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,r,i){const o=this._events.get(e);if(o){const l=o.get(r);l?l.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,sM)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,sM)))}}const aM={enterDuration:225,exitDuration:150},lM=vc({passive:!0,capture:!0}),cM=["mousedown","touchstart"],uM=["mouseup","mouseleave","touchend","touchcancel"];class Ju{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Dl(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...aM,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const l=r.radius||function RZ(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),c=t-i.left,u=e-i.top,p=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=c-l+"px",D.style.top=u-l+"px",D.style.height=2*l+"px",D.style.width=2*l+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(D);const H=window.getComputedStyle(D),De=H.transitionDuration,xe="none"===H.transitionProperty||"0s"===De||"0s, 0s"===De||0===i.width&&0===i.height,qe=new DZ(this,D,r,xe);D.style.transform="scale3d(1, 1, 1)",qe.state=0,r.persistent||(this._mostRecentTransientRipple=qe);let vt=null;return!xe&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Nt=()=>this._finishRippleTransition(qe),Ct=()=>this._destroyRipple(qe);D.addEventListener("transitionend",Nt),D.addEventListener("transitioncancel",Ct),vt={onTransitionEnd:Nt,onTransitionCancel:Ct}}),this._activeRipples.set(qe,vt),(xe||!p)&&this._finishRippleTransition(qe),qe}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...aM,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Dl(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,cM.forEach(r=>{Ju._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uM.forEach(e=>{this._triggerElement.addEventListener(e,this,lM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Ab(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Db(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(cM.forEach(e=>Ju._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&uM.forEach(e=>t.removeEventListener(e,this,lM)))}}Ju._eventManager=new IZ;const dM=new ln("mat-ripple-global-options");let Rb=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Ju(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(cr),yt(no),yt(dM,8),yt(ws,8))},n.\u0275dir=Bn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&wi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ed=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[io,io]}),n})();function fM(...n){const t=Si(n),{args:e,keys:r}=ND(n),i=new Ye(o=>{const{length:l}=e;if(!l)return void o.complete();const c=new Array(l);let u=l,p=l;for(let D=0;D<l;D++){let H=!1;hn(e[D]).subscribe(ut(o,Ee=>{H||(H=!0,p--),c[D]=Ee},()=>u--,void 0,()=>{(!u||!H)&&(p||o.next(r?OD(r,c):c),o.complete())}))}});return t?i.pipe(Zv(t)):i}class xb{}class Xa{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Xa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Xa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Xa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(c=>-1===o.indexOf(c)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class xZ{encodeKey(t){return hM(t)}encodeValue(t){return hM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const OZ=/%(\d[a-f0-9])/gi,PZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hM(n){return encodeURIComponent(n).replace(OZ,(t,e)=>PZ[e]??t)}function Ym(n){return`${n}`}class Il{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new xZ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function NZ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,c]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],u=e.get(l)||[];u.push(c),e.set(l,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(Ym):[Ym(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Il({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ym(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Ym(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class kZ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function pM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mM(n){return typeof Blob<"u"&&n instanceof Blob}function gM(n){return typeof FormData<"u"&&n instanceof FormData}class Xf{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function FZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Xa),this.context||(this.context=new kZ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+l}}else this.params=new Il,this.urlWithParams=e}serializeBody(){return null===this.body?null:pM(this.body)||mM(this.body)||gM(this.body)||function LZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Il?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gM(this.body)?null:mM(this.body)?this.body.type||null:pM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Il?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,p=t.params||this.params;const D=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((H,Ee)=>H.set(Ee,t.setHeaders[Ee]),u)),t.setParams&&(p=Object.keys(t.setParams).reduce((H,Ee)=>H.set(Ee,t.setParams[Ee]),p)),new Xf(e,r,o,{params:p,headers:u,context:D,reportProgress:c,responseType:i,withCredentials:l})}}var Ob=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ob||{});class BZ{constructor(t,e=200,r="OK"){this.headers=t.headers||new Xa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Qf extends BZ{constructor(t={}){super(t),this.type=Ob.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Pb(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kb=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Xf)o=e;else{let u,p;u=i.headers instanceof Xa?i.headers:new Xa(i.headers),i.params&&(p=i.params instanceof Il?i.params:new Il({fromObject:i.params})),o=new Xf(e,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:p,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=Qn(o).pipe(Rf(u=>this.handler.handle(u)));if(e instanceof Xf||"events"===i.observe)return l;const c=l.pipe(uo(u=>u instanceof Qf));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ye(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(ye(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(ye(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(ye(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Il).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Pb(i,r))}post(e,r,i={}){return this.request("POST",e,Pb(i,r))}put(e,r,i={}){return this.request("PUT",e,Pb(i,r))}}return n.\u0275fac=function(e){return new(e||n)(Xt(xb))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();const i4=["*"];let Km;function Jf(n){return function o4(){if(void 0===Km&&(Km=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Km=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Km}()?.createHTML(n)||n}function AM(n){return Error(`Unable to find icon with the name "${n}"`)}function DM(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function IM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Sc{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let eh=(()=>{class n{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Sc(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const l=this._sanitizer.sanitize(zi.HTML,i);if(!l)throw IM(i);const c=Jf(l);return this._addSvgIconConfig(e,r,new Sc("",c,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Sc(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize(zi.HTML,r);if(!o)throw IM(r);const l=Jf(o);return this._addSvgIconSetConfig(e,new Sc("",l,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(zi.RESOURCE_URL,e);if(!r)throw DM(e);const i=this._cachedIconsByUrl.get(r);return i?Qn(Xm(i)):this._loadSvgIconFromConfig(new Sc(e,null)).pipe(li(o=>this._cachedIconsByUrl.set(r,o)),ye(o=>Xm(o)))}getNamedSvgIcon(e,r=""){const i=MM(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):zu(AM(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Qn(Xm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ye(r=>Xm(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Qn(i):fM(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Sl(c=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(zi.RESOURCE_URL,l.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(p)),Qn(null)})))).pipe(ye(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw AM(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(l,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(li(r=>e.svgText=r),ye(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Qn(null):this._fetchIcon(e).pipe(li(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const c=this._svgElementFromString(Jf("<svg></svg>"));return c.appendChild(l),this._setSvgAttributes(c,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(Jf("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:l,value:c}=i[o];"id"!==l&&r.setAttribute(l,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function s4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(zi.RESOURCE_URL,r);if(!l)throw DM(r);const c=this._inProgressUrlFetches.get(l);if(c)return c;const u=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe(ye(p=>Jf(p)),bm(()=>this._inProgressUrlFetches.delete(l)),Wt());return this._inProgressUrlFetches.set(l,u),u}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(MM(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return l4(o)?new Sc(o.url,null,o.options):new Sc(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(Xt(kb,8),Xt(Gs),Xt(Ar,8),Xt(ua))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xm(n){return n.cloneNode(!0)}function MM(n,t){return n+":"+t}function l4(n){return!(!n.url||!n.options)}const c4=qm(class{constructor(n){this._elementRef=n}}),u4=new ln("MAT_ICON_DEFAULT_OPTIONS"),d4=new ln("mat-icon-location",{providedIn:"root",factory:function f4(){const n=$t(Ar),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),RM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],h4=RM.map(n=>`[${n}]`).join(", "),p4=/^url\(['"]?#(.*?)['"]?\)$/;let Qa=(()=>{class n extends c4{get inline(){return this._inline}set inline(e){this._inline=So(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,o,l,c){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=L.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(h4),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)RM.forEach(l=>{const c=r[o],u=c.getAttribute(l),p=u?u.match(p4):null;if(p){let D=i.get(c);D||(D=[],i.set(c,D)),D.push({name:l,value:p[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Lo(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(eh),ic("aria-hidden"),yt(d4),yt(ua),yt(u4,8))},n.\u0275cmp=ur({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(oi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),wi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[yr],ngContentSelectors:i4,decls:1,vars:0,template:function(e,r){1&e&&(ha(),xi(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[io,io]}),n})(),m4=(()=>{class n{transform(e){const r=new Date(0);r.setUTCSeconds(e||0);const i=r.toISOString().substring(11,19);return r.getUTCHours()>0?i:r.getUTCMinutes()>0?i.substring(3):i.substring(4)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=bi({name:"time",type:n,pure:!0,standalone:!0}),n})();var g4=Ni(584);const _4=["video"];function y4(n,t){if(1&n){const e=co();cn(0,"mat-icon",12),pr("click",function(){return he(e),Hn(),j(Gi(4).play())}),un()}}function v4(n,t){if(1&n){const e=co();cn(0,"mat-icon",13),pr("click",function(){return he(e),Hn(),j(Gi(4).pause())}),un()}}function b4(n,t){if(1&n){const e=co();cn(0,"mat-icon",16),pr("click",function(){he(e),Hn(2);const i=Gi(4);return j(i.muted=!i.muted)}),un()}}function E4(n,t){if(1&n){const e=co();cn(0,"mat-icon",17),pr("click",function(){he(e),Hn(2);const i=Gi(4);return j(i.muted=!i.muted)}),un()}}function w4(n,t){if(1&n&&(za(0),kn(1,b4,1,0,"mat-icon",14),kn(2,E4,1,0,"mat-icon",15),Ga()),2&n){Hn();const e=Gi(4);Qt(1),Yt("ngIf",e.muted),Qt(1),Yt("ngIf",!e.muted)}}const T4=function(n){return{"--p":n}};let S4=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakSet,u=new WeakSet;class p{constructor(){Jr(this,u),Jr(this,c),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),An(this,l,{writable:!0,value:void 0}),wn(this,n,new IntersectionObserver((xe,qe)=>Nr(this,c,D).call(this,xe,qe),{root:null,rootMargin:"32px",threshold:0})),wn(this,e,!1),wn(this,r,0),wn(this,i,!1),wn(this,o,""),this.has_audio=!0,this.cd=$t(ko)}set value(xe){xe&&xe.nativeElement&&wn(this,l,xe.nativeElement)}ngOnInit(){var xe=this;return pi(function*(){const qe=xe.data.videos.find(vt=>"application/dash+xml"===vt.type);wn(xe,o,qe?.url||xe.data.videos[xe.data.videos.length-1].url),null!=qe?(wn(xe,i,!0),yield Nr(xe,u,H).call(xe,gt(xe,o)),wn(xe,t,(0,g4.MediaPlayer)().create()),gt(xe,t).initialize(gt(xe,l),"",!1),gt(xe,t).setMute(!0),gt(xe,t).updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:gt(xe,r)-1}}}}),gt(xe,n).observe(gt(xe,l))):gt(xe,n).observe(gt(xe,l))})()}ngOnDestroy(){gt(this,t)?.destroy()}onLoadeddata(){gt(this,i)||(this.has_audio="mozHasAudio"in gt(this,l)&&gt(this,l).mozHasAudio||"webkitAudioDecodedByteCount"in gt(this,l)&&gt(this,l).webkitAudioDecodedByteCount>0||"audioTracks"in gt(this,l)&&gt(this,l).audioTracks.length>0,gt(this,l).muted=!0)}skip(xe,qe,vt){const Nt=qe.getBoundingClientRect();vt.currentTime=(xe.pageX-Nt.left)/qe.offsetWidth*vt.duration}}function D(De,xe){De[0].isIntersecting?gt(this,e)||(gt(this,i)?gt(this,t).attachSource(gt(this,o)):gt(this,l).src=gt(this,o),wn(this,e,!0)):gt(this,e)&&(gt(this,l).paused||gt(this,l).ended||gt(this,l).pause())}function H(De){return Ee.apply(this,arguments)}function Ee(){return(Ee=pi(function*(De){try{const xe=yield fetch(De);if(!xe.ok)return;const qe=yield xe.text();if(String.isNullOrWhitespace(qe))return;const vt=(new DOMParser).parseFromString(qe,"application/xml");if(null==vt)return;const Nt=vt.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=Nt;const Ct=vt.querySelector('AdaptationSet[contentType="video"]');if(null==Ct)return;const dn=Ct.querySelectorAll("Representation");if(null==dn||0===dn.length)return;const Dn=Array.from(dn).map(Ln=>Number(Ln.getAttribute("bandwidth"))).filter(Ln=>!isNaN(Ln));if(null==Dn||0===Dn.length)return;wn(this,r,Math.max(...Dn))}catch{return}})).apply(this,arguments)}return p.\u0275fac=function(xe){return new(xe||p)},p.\u0275cmp=ur({type:p,selectors:[["post-body-video"]],viewQuery:function(xe,qe){if(1&xe&&Oo(_4,7),2&xe){let vt;si(vt=ai())&&(qe.value=vt.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","disableremoteplayback","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(xe,qe){if(1&xe){const vt=co();cn(0,"div",0),Wn(1,"mat-icon",1)(2,"mat-icon",2),un(),cn(3,"video",3,4),pr("loadeddata",function(){return qe.onLoadeddata()})("click",function(){he(vt);const Ct=Gi(4);return j(Ct.paused||Ct.ended?Ct.play():Ct.pause())})("timeupdate",function(){return qe.cd.detectChanges()}),un(),cn(5,"div",5),kn(6,y4,1,0,"mat-icon",6),kn(7,v4,1,0,"mat-icon",7),cn(8,"div",8,9),pr("click",function(Ct){he(vt);const dn=Gi(9),Dn=Gi(4);return j(qe.skip(Ct,dn,Dn))}),cn(10,"div",10),xr(11),_a(12,"time"),_a(13,"time"),un()(),kn(14,w4,3,2,"ng-container",11),un()}if(2&xe){const vt=Gi(4);Qt(6),Yt("ngIf",vt.paused||vt.ended),Qt(1),Yt("ngIf",!vt.paused&&!vt.ended),Qt(1),Yt("ngStyle",ga(10,T4,100*((null==vt?null:vt.currentTime)||0)/vt.duration+"%")),Qt(3),Hp("",ya(12,6,vt.currentTime)," / ",ya(13,8,vt.duration)," "),Qt(3),Yt("ngIf",qe.has_audio)}},dependencies:[qo,Qa,to,pm,m4],changeDetection:0}),p})();function C4(n,t){1&n&&Wn(0,"post-body-embed",1),2&n&&Yt("data",Hn()._data)}function A4(n,t){1&n&&Wn(0,"post-body-image",1),2&n&&Yt("data",Hn()._data)}function D4(n,t){1&n&&Wn(0,"post-body-text",1),2&n&&Yt("data",Hn()._data)}function I4(n,t){1&n&&Wn(0,"post-body-video",1),2&n&&Yt("data",Hn()._data)}function M4(n,t){1&n&&Wn(0,"post-body-link",1),2&n&&Yt("data",Hn()._data)}let R4=(()=>{class n{set data(e){this._data=e.is_crosspost?e.crosspost:e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(e,r){1&e&&(kn(0,C4,1,1,"post-body-embed",0),kn(1,A4,1,1,"post-body-image",0),kn(2,D4,1,1,"post-body-text",0),kn(3,I4,1,1,"post-body-video",0),kn(4,M4,1,1,"post-body-link",0)),2&e&&(Yt("ngIf",null==r._data?null:r._data.has_embed),Qt(1),Yt("ngIf",null==r._data?null:r._data.has_image),Qt(1),Yt("ngIf",null==r._data?null:r._data.has_text),Qt(1),Yt("ngIf",null==r._data?null:r._data.has_video),Qt(1),Yt("ngIf",null==r._data?null:r._data.has_link))},dependencies:[to,mH,bH,SH,DH,S4],changeDetection:0}),n})();class Rl{}class xM extends Rl{}var Ds=function(n){return n.Listing="Listing",n.Comment="t1",n.Account="t2",n.Link="t3",n.Message="t4",n.Subreddit="t5",n.Award="t6",n.More="more",n}(Ds||{});const x4=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function Lb(n,t){let e={};return function N4(n,t){if(t.is_crosspost=String.hasData(n.crosspost_parent)&&Array.isArray(n.crosspost_parent_list)&&n.crosspost_parent_list.length>0,n.media?.reddit_video)t.has_video=!0;else if(n.preview?.reddit_video_preview)t.has_video=!0;else if(n.preview&&Array.isArray(n.preview.images)&&n.preview.images[0].variants&&"mp4"in n.preview.images[0].variants)t.has_video=!0;else if(n.media_embed?.content)t.has_embed=!0;else{if(String.hasData(n.selftext_html)&&(t.has_text=!0),n.thumbnail&&"default"===n.thumbnail&&(t.has_link=!0),n.post_hint&&"link"===n.post_hint&&"imgur.com"!==n.domain&&(t.has_link=!0),!n.preview||!Array.isArray(n.preview.images))return n.gallery_data?(t.has_image=!0,void(t.has_image_gallery=!0)):void(x4.some(e=>n.url.endsWith(e))?t.has_image=!0:!t.has_image&&!t.has_text&&(t.has_link=!0));t.has_image=!0}}(n,e),function O4(n,t){t.author=n.author,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.num_comments=n.num_comments,t.stickied=n.stickied,t.subreddit=n.subreddit,t.title=n.title,t.ups=n.ups,t.url=n.url}(n,e),function P4(n,t,e){t.is_crosspost&&(t.crosspost=Lb(n.crosspost_parent_list[0],e))}(n,e,t),function k4(n,t){t.has_embed&&(t.embed=n.media_embed.content)}(n,e),function F4(n,t){t.has_image&&(t.images=null!=n.gallery_data?function L4(n){return n.gallery_data.items.map(t=>{const e=n.media_metadata[t.media_id];return"valid"!==e.status?{src:"",srcset:"",href:n.url}:{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:n.url}})}(n):null!=n.preview?function B4(n){const t=n.preview.images[0];return[{src:t.source.url,srcset:t.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:n.url}]}(n):function U4(n){return[{src:n.url,srcset:n.url,href:n.url}]}(n))}(n,e),function z4(n,t){t.has_link&&(t.url=n.url)}(n,e),function G4(n,t){t.has_text&&(t.selftext_html=n.selftext_html)}(n,e),function V4(n,t,e){t.has_video&&(t.videos=n.media&&n.media.reddit_video?function j4(n){return[{url:n.media.reddit_video.dash_url,type:"application/dash+xml"},{url:n.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:n.media.reddit_video.fallback_url,type:"video/mp4"}]}(n):n.preview&&n.preview.reddit_video_preview?function H4(n){return[{url:n.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:n.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:n.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}(n):function Z4(n){return[{url:n.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(n),!e&&(t.videos=t.videos.filter(r=>"video/mp4"==r.type)))}(n,e,t),e}let NM=(()=>{class n{transform(e){if(null==e)return"-";const r=new Date(Date.now()-1e3*e);return r.getUTCFullYear()>1970?r.getUTCFullYear()-1970+"y":r.getUTCMonth()>0?`${r.getUTCMonth()}mo`:r.getUTCDate()>1?r.getUTCDate()-1+"d":r.getUTCHours()>0?`${r.getUTCHours()}h`:`${r.getUTCMinutes()}m`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=bi({name:"age",type:n,pure:!0,standalone:!0}),n})(),OM=(()=>{class n{transform(e){if(isNaN(+`${e}`)||0===e)return"0";const r=Math.log10(e);return r<3?`${e}`:r<6?`${Math.floor(e/1e3)}K`:r<9?`${Math.floor(e/1e6)}M`:"lots"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=bi({name:"count",type:n,pure:!0,standalone:!0}),n})();class PM{constructor(t,e){this.storage=t,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(t,e,r){const i=this.createItemKey(t),o=new q4;o.value=e,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(t){const e=this.createItemKey(t),r=this.storage.getItem(e);return null===r?null:JSON.parse(r).value}remove(t){this.storage.removeItem(this.createItemKey(t))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const t=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const l=this.storage.getItem(o);if(!l)continue;const c=JSON.parse(l);c.expiresOn&&e>c.expiresOn&&t.push(o)}t.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(t){return`${this.keyPrefix}.${t}`}}class q4{}class Bb{constructor(){this.keyPrefix=""}}let Y4=(()=>{class n extends PM{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,e.keyPrefix)}}return n.\u0275fac=function(e){return new(e||n)(Xt(Bb))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$4=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakSet;class u{constructor(){Jr(this,c),An(this,n,{writable:!0,value:"profile"}),An(this,t,{writable:!0,value:$t(Y4)}),An(this,e,{writable:!0,value:{}}),An(this,r,{writable:!0,value:JSON.stringify(gt(this,e))}),An(this,i,{writable:!0,value:new ft}),An(this,o,{writable:!0,value:gt(this,i).pipe(Tb(300)).subscribe(()=>Nr(this,c,p).call(this))}),An(this,l,{writable:!0,value:!1})}get(H){return gt(this,e)[H]}set(H,Ee){gt(this,e)[H]=Ee,gt(this,i).next("")}load(){var H=this;return pi(function*(){if(gt(H,l))return;const Ee=gt(H,t).get(gt(H,n));null!=Ee&&(wn(H,e,Ee),wn(H,r,JSON.stringify(gt(H,e))),wn(H,l,!0))})()}ngOnDestroy(){gt(this,o).unsubscribe()}}function p(){const D=JSON.stringify(gt(this,e));D!==gt(this,r)&&(wn(this,r,D),gt(this,t).set(gt(this,n),gt(this,e)))}return u.\u0275fac=function(H){return new(H||u)},u.\u0275prov=bn({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),kM=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap;class r{constructor(){An(this,n,{writable:!0,value:"subreddits"}),An(this,t,{writable:!0,value:[]}),An(this,e,{writable:!0,value:$t($4)})}add(o){String.isNullOrWhitespace(o)||gt(this,t).includes(o)||(gt(this,t).push(o),gt(this,t).sort(),gt(this,e).set(gt(this,n),gt(this,t)))}get(){return[...gt(this,t)]}remove(o){String.isNullOrWhitespace(o)||(wn(this,t,gt(this,t).filter(l=>l!==o)),gt(this,e).set(gt(this,n),gt(this,t)))}loadAsync(){var o=this;return pi(function*(){yield gt(o,e).load(),wn(o,t,["algotrading","android","angular","angular2","angularjs","artificial","askreddit","askscience","bestof","ChatGPT","ChatGPTCoding","ChatGPTPromptGenius","coding","computing","csharp","deeplearning","desmoines","dotnet","funny","futurology","GooglePixel","interestingasfuck","javascript","mademesmile","microsoft","nextfuckinglevel","personalfinance","picard","pixel_phones","programming","science","space","starshipporn","startrek","technology","typescript","web_design","worldnews"])})()}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=bn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Is=(()=>{var n=new WeakMap;class t{constructor(){An(this,n,{writable:!0,value:new ft})}raise(r){if(null==r)throw new Error("domainEvent missing");let i="function"==typeof r?new r:"object"==typeof r?r:null;if(!(i&&i instanceof Rl))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");gt(this,n).next(i)}handle(r){return gt(this,n).pipe(uo(i=>i instanceof r),ye(i=>i))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Cc extends Rl{}var Ub=new WeakMap;class Ac extends Rl{get kill(){return gt(this,Ub)}constructor(t=!1){super(),An(this,Ub,{writable:!0,value:void 0}),wn(this,Ub,t)}}function td(n){n||(iT(),n=$t(yy));const t=new Ye(e=>n.onDestroy(e.next.bind(e)));return e=>e.pipe(ro(t))}const s5=["determinateSpinner"];function a5(n,t){if(1&n&&(mn(),cn(0,"svg",11),Wn(1,"circle",12),un()),2&n){const e=Hn();oi("viewBox",e._viewBox()),Qt(1),Pu("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),oi("r",e._circleRadius())}}const l5=qm(class{constructor(n){this._elementRef=n}},"primary"),c5=new ln("mat-progress-spinner-default-options",{providedIn:"root",factory:function u5(){return{diameter:jM}}}),jM=100;let f5=(()=>{class n extends l5{constructor(e,r,i){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=jM,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Ec(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=Ec(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=Ec(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(ws,8),yt(c5))},n.\u0275cmp=ur({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,r){if(1&e&&Oo(s5,5),2&e){let i;si(i=ai())&&(r._determinateCircle=i.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(e,r){2&e&&(oi("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Pu("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),wi("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[yr],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,r){if(1&e&&(kn(0,a5,2,8,"ng-template",null,0,Ky),cn(2,"div",1,2),mn(),cn(4,"svg",3),Wn(5,"circle",4),un()(),function Ht(){!function dt(){_e.lFrame.currentNamespace=null}()}(),cn(6,"div",5)(7,"div",6)(8,"div",7),uf(9,8),un(),cn(10,"div",9),uf(11,8),un(),cn(12,"div",10),uf(13,8),un()()()),2&e){const i=Gi(1);Qt(4),oi("viewBox",r._viewBox()),Qt(1),Pu("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),oi("r",r._circleRadius()),Qt(4),Yt("ngTemplateOutlet",i),Qt(2),Yt("ngTemplateOutlet",i),Qt(2),Yt("ngTemplateOutlet",i)}},dependencies:[Mv],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[Cf,io]}),n})();function p5(n,t){1&n&&(cn(0,"div",1),Wn(1,"mat-spinner",2),un())}let m5=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakSet,r=new WeakSet;class i{constructor(u){Jr(this,r),Jr(this,e),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),wn(this,n,0),wn(this,t,250),this.show=vs(!1),u.handle(Cc).pipe(td()).subscribe(p=>Nr(this,e,o).call(this)),u.handle(Ac).pipe(td()).subscribe(p=>Nr(this,r,l).call(this,p))}}function o(){var c;wn(this,n,(c=gt(this,n),++c)),window.setTimeout(()=>{0!==gt(this,n)&&this.show.set(!0)},gt(this,t))}function l(c){var u;c.kill?wn(this,n,0):gt(this,n)>0&&wn(this,n,(u=gt(this,n),--u)),0===gt(this,n)&&this.show.set(!1)}return i.\u0275fac=function(u){return new(u||i)(yt(Is))},i.\u0275cmp=ur({type:i,selectors:[["throbber"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(u,p){1&u&&kn(0,p5,2,0,"div",0),2&u&&Yt("ngIf",p.show())},dependencies:[h5,f5,to],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"],changeDetection:0}),i})(),g5=(()=>{var n=new WeakMap,t=new WeakMap;class e{constructor(){An(this,n,{writable:!0,value:$t(Is)}),An(this,t,{writable:!0,value:$t(kM)})}ngOnInit(){var i=this;return pi(function*(){const o=[gt(i,t).loadAsync()];gt(i,n).raise(Cc);try{yield Promise.allSettled(o)}finally{gt(i,n).raise(Ac)}})()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ur({type:e,selectors:[["app-root"]],standalone:!0,features:[Qr],decls:2,vars:0,template:function(i,o){1&i&&Wn(0,"throbber")(1,"router-outlet")},dependencies:[ib,m5],encapsulation:2}),e})();class HM{}class _5{}const Ja="*";function th(n,t){return{type:7,name:n,definitions:t,options:{}}}function xl(n,t=null){return{type:4,styles:t,timings:n}}function ZM(n,t=null){return{type:2,steps:n,options:t}}function Yo(n){return{type:6,styles:n,offset:null}}function Dc(n,t,e){return{type:0,name:n,styles:t,options:e}}function Nl(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class nh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class zM{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++r==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function GM(n){return new Gt(3e3,!1)}function Ol(n){switch(n.length){case 0:return new nh;case 1:return n[0];default:return new zM(n)}}function qM(n,t,e=new Map,r=new Map){const i=[],o=[];let l=-1,c=null;if(t.forEach(u=>{const p=u.get("offset"),D=p==l,H=D&&c||new Map;u.forEach((Ee,De)=>{let xe=De,qe=Ee;if("offset"!==De)switch(xe=n.normalizePropertyName(xe,i),qe){case"!":qe=e.get(De);break;case Ja:qe=r.get(De);break;default:qe=n.normalizeStyleValue(De,xe,qe,i)}H.set(xe,qe)}),D||o.push(H),c=H,l=p}),i.length)throw function V5(n){return new Gt(3502,!1)}();return o}function Gb(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&qb(e,"start",n)));break;case"done":n.onDone(()=>r(e&&qb(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&qb(e,"destroy",n)))}}function qb(n,t,e){const o=Yb(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function Yb(n,t,e,r,i="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function cs(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function YM(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Q5=(()=>typeof document>"u"?null:document.documentElement)();function $b(n){const t=n.parentNode||n.host||null;return t===Q5?null:t}let Ic=null,$M=!1;function WM(n,t){for(;t;){if(t===n)return!0;t=$b(t)}return!1}function KM(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]}let XM=(()=>{class n{validateStyleProperty(e){return function e8(n){Ic||(Ic=function t8(){return typeof document<"u"?document.body:null}()||{},$M=!!Ic.style&&"WebkitAppearance"in Ic.style);let t=!0;return Ic.style&&!function J5(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ic.style,!t&&$M&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ic.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return WM(e,r)}getParentElement(e){return $b(e)}query(e,r,i){return KM(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,l,c=[],u){return new nh(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})(),Wb=(()=>{class n{}return n.NOOP=new XM,n})();const n8=1e3,Kb="ng-enter",tg="ng-leave",ng="ng-trigger",rg=".ng-trigger",JM="ng-animating",Xb=".ng-animating";function el(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Qb(parseFloat(t[1]),t[2])}function Qb(n,t){return"s"===t?n*n8:n}function ig(n,t,e){return n.hasOwnProperty("duration")?n:function i8(n,t,e){let i,o=0,l="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(GM()),{duration:0,delay:0,easing:""};i=Qb(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(o=Qb(parseFloat(u),c[4]));const p=c[5];p&&(l=p)}else i=n;if(!e){let c=!1,u=t.length;i<0&&(t.push(function y5(){return new Gt(3100,!1)}()),c=!0),o<0&&(t.push(function v5(){return new Gt(3101,!1)}()),c=!0),c&&t.splice(u,0,GM())}return{duration:i,delay:o,easing:l}}(n,t,e)}function rh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function eR(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Pl(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function Ca(n,t,e){t.forEach((r,i)=>{const o=eE(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function Mc(n,t){t.forEach((e,r)=>{const i=eE(r);n.style[i]=""})}function ih(n){return Array.isArray(n)?1==n.length?n[0]:ZM(n):n}const Jb=new RegExp("{{\\s*(.+?)\\s*}}","g");function nR(n){let t=[];if("string"==typeof n){let e;for(;e=Jb.exec(n);)t.push(e[1]);Jb.lastIndex=0}return t}function oh(n,t,e){const r=n.toString(),i=r.replace(Jb,(o,l)=>{let c=t[l];return null==c&&(e.push(function E5(n){return new Gt(3003,!1)}()),c=""),c.toString()});return i==r?n:i}function og(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const a8=/-+([a-z0-9])/g;function eE(n){return n.replace(a8,(...t)=>t[1].toUpperCase())}function us(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function w5(n){return new Gt(3004,!1)}()}}function rR(n,t){return window.getComputedStyle(n)[t]}const sg="*";function u8(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function d8(n,t,e){if(":"==n[0]){const u=function f8(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function F5(n){return new Gt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function k5(n){return new Gt(3015,!1)}()),t;const i=r[1],o=r[2],l=r[3];t.push(iR(i,l));"<"==o[0]&&!(i==sg&&l==sg)&&t.push(iR(l,i))}(r,e,t)):e.push(n),e}const ag=new Set(["true","1"]),lg=new Set(["false","0"]);function iR(n,t){const e=ag.has(n)||lg.has(n),r=ag.has(t)||lg.has(t);return(i,o)=>{let l=n==sg||n==i,c=t==sg||t==o;return!l&&e&&"boolean"==typeof i&&(l=i?ag.has(n):lg.has(n)),!c&&r&&"boolean"==typeof o&&(c=o?ag.has(t):lg.has(t)),l&&c}}const h8=new RegExp("s*:selfs*,?","g");function tE(n,t,e,r){return new p8(n).build(t,e,r)}class p8{constructor(t){this._driver=t}build(t,e,r){const i=new _8(e);return this._resetContextStyleTimingState(i),us(this,ih(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function S5(){return new Gt(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const u=c,p=u.name;p.toString().split(/\s*,\s*/).forEach(D=>{u.name=D,o.push(this.visitState(u,e))}),u.name=p}else if(1==c.type){const u=this.visitTransition(c,e);r+=u.queryCount,i+=u.depCount,l.push(u)}else e.errors.push(function C5(){return new Gt(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,l=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{nR(u).forEach(p=>{l.hasOwnProperty(p)||o.add(p)})})}),o.size&&(og(o.values()),e.errors.push(function A5(n,t){return new Gt(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=us(this,ih(t.animation),e);return{type:1,matchers:u8(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Rc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>us(this,r,e)),options:Rc(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(l=>{e.currentTime=r;const c=us(this,l,e);return i=Math.max(i,e.currentTime),c});return e.currentTime=i,{type:3,steps:o,options:Rc(t.options)}}visitAnimate(t,e){const r=function v8(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return nE(ig(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=nE(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=ig(e,t);return nE(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Yo({});if(5==o.type)i=this.visitKeyframes(o,e);else{let l=t.styles,c=!1;if(!l){c=!0;const p={};r.easing&&(p.easing=r.easing),l=Yo(p)}e.currentTime+=r.duration+r.delay;const u=this.visitStyle(l,e);u.isEmptyStep=c,i=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of i)"string"==typeof c?c===Ja?r.push(c):e.errors.push(new Gt(3002,!1)):r.push(eR(c));let o=!1,l=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!o))for(let u of c.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,u)=>{const p=e.collectedStyles.get(e.currentQuerySelector),D=p.get(u);let H=!0;D&&(o!=i&&o>=D.startTime&&i<=D.endTime&&(e.errors.push(function I5(n,t,e,r,i){return new Gt(3010,!1)}()),H=!1),o=D.startTime),H&&p.set(u,{startTime:o,endTime:i}),e.options&&function s8(n,t,e){const r=t.params||{},i=nR(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function b5(n){return new Gt(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function M5(){return new Gt(3011,!1)}()),r;let o=0;const l=[];let c=!1,u=!1,p=0;const D=t.steps.map(Nt=>{const Ct=this._makeStyleAst(Nt,e);let dn=null!=Ct.offset?Ct.offset:function y8(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ct.styles),Dn=0;return null!=dn&&(o++,Dn=Ct.offset=dn),u=u||Dn<0||Dn>1,c=c||Dn<p,p=Dn,l.push(Dn),Ct});u&&e.errors.push(function R5(){return new Gt(3012,!1)}()),c&&e.errors.push(function x5(){return new Gt(3200,!1)}());const H=t.steps.length;let Ee=0;o>0&&o<H?e.errors.push(function N5(){return new Gt(3202,!1)}()):0==o&&(Ee=1/(H-1));const De=H-1,xe=e.currentTime,qe=e.currentAnimateTimings,vt=qe.duration;return D.forEach((Nt,Ct)=>{const dn=Ee>0?Ct==De?1:Ee*Ct:l[Ct],Dn=dn*vt;e.currentTime=xe+qe.delay+Dn,qe.duration=Dn,this._validateStyleAst(Nt,e),Nt.offset=dn,r.styles.push(Nt)}),r}visitReference(t,e){return{type:8,animation:us(this,ih(t.animation),e),options:Rc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Rc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Rc(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function m8(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(h8,"")),n=n.replace(/@\*/g,rg).replace(/@\w+/g,e=>rg+"-"+e.slice(1)).replace(/:animating/g,Xb),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,cs(e.collectedStyles,e.currentQuerySelector,new Map);const c=us(this,ih(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:c,originalSelector:t.selector,options:Rc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function O5(){return new Gt(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:ig(t.timings,e.errors,!0);return{type:12,animation:us(this,ih(t.animation),e),timings:r,options:null}}}class _8{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rc(n){return n?(n=rh(n)).params&&(n.params=function g8(n){return n?rh(n):null}(n.params)):n={},n}function nE(n,t,e){return{duration:n,delay:t,easing:e}}function rE(n,t,e,r,i,o,l=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:c}}class cg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const w8=new RegExp(":enter","g"),S8=new RegExp(":leave","g");function iE(n,t,e,r,i,o=new Map,l=new Map,c,u,p=[]){return(new C8).buildKeyframes(n,t,e,r,i,o,l,c,u,p)}class C8{buildKeyframes(t,e,r,i,o,l,c,u,p,D=[]){p=p||new cg;const H=new oE(t,e,p,i,o,D,[]);H.options=u;const Ee=u.delay?el(u.delay):0;H.currentTimeline.delayNextStep(Ee),H.currentTimeline.setStyles([l],null,H.errors,u),us(this,r,H);const De=H.timelines.filter(xe=>xe.containsAnimation());if(De.length&&c.size){let xe;for(let qe=De.length-1;qe>=0;qe--){const vt=De[qe];if(vt.element===e){xe=vt;break}}xe&&!xe.allowOnlyTimelineStyles()&&xe.setStyles([c],null,H.errors,u)}return De.length?De.map(xe=>xe.buildKeyframes()):[rE(e,[],[],[],0,Ee,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const l="number"==typeof o?o:el(oh(o,i?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const l=null!=r.duration?el(r.duration):null,c=null!=r.delay?el(r.delay):null;return 0!==l&&t.forEach(u=>{const p=e.appendInstructionToTimeline(u,l,c);o=Math.max(o,p.duration+p.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),us(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ug);const l=el(o.delay);i.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>us(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?el(t.options.delay):0;t.steps.forEach(l=>{const c=e.createSubContext(t.options);o&&c.delayNextStep(o),us(this,l,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return ig(e.params?oh(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,c=e.createSubContext().currentTimeline;c.easing=r.easing,t.styles.forEach(u=>{c.forwardTime((u.offset||0)*o),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?el(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ug);let l=r;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((p,D)=>{e.currentQueryIndex=D;const H=e.createSubContext(t.options,p);o&&H.delayNextStep(o),p===e.element&&(u=H.currentTimeline),us(this,t.animation,H),H.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,H.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),c=l*(e.currentQueryTotal-1);let u=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=r.currentStaggerTime}const D=e.currentTimeline;u&&D.delayNextStep(u);const H=D.currentTime;us(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-H+(i.startTime-r.currentTimeline.startTime)}}const ug={};class oE{constructor(t,e,r,i,o,l,c,u){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ug,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new dg(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=el(r.duration)),null!=r.delay&&(i.delay=el(r.delay));const o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!l.hasOwnProperty(c))&&(l[c]=oh(o[c],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new oE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=ug,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new A8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,l){let c=[];if(i&&c.push(this.element),t.length>0){t=(t=t.replace(w8,"."+this._enterClassName)).replace(S8,"."+this._leaveClassName);let p=this._driver.query(this.element,t,1!=r);0!==r&&(p=r<0?p.slice(p.length+r,p.length):p.slice(0,r)),c.push(...p)}return!o&&0==c.length&&l.push(function P5(n){return new Gt(3014,!1)}()),c}}class dg{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dg(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Ja),this._currentKeyframe.set(e,Ja);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},l=function D8(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,Ja)}else Pl(i,e)}),e}(t,this._globalTimelineStyles);for(let[c,u]of l){const p=oh(u,o,r);this._pendingStyles.set(c,p),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Ja),this._updateStyle(c,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,u)=>{const p=Pl(c,new Map,this._backFill);p.forEach((D,H)=>{"!"===D?t.add(H):D===Ja&&e.add(H)}),r||p.set("offset",u/this.duration),i.push(p)});const o=t.size?og(t.values()):[],l=e.size?og(e.values()):[];if(r){const c=i[0],u=new Map(c);c.set("offset",0),u.set("offset",1),i=[c,u]}return rE(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class A8 extends dg{constructor(t,e,r,i,o,l,c=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=r+e,c=e/l,u=Pl(t[0]);u.set("offset",0),o.push(u);const p=Pl(t[0]);p.set("offset",aR(c)),o.push(p);const D=t.length-1;for(let H=1;H<=D;H++){let Ee=Pl(t[H]);const De=Ee.get("offset");Ee.set("offset",aR((e+De*r)/l)),o.push(Ee)}r=l,e=0,i="",t=o}return rE(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function aR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class sE{}const I8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class M8 extends sE{normalizePropertyName(t,e){return eE(t)}normalizeStyleValue(t,e,r,i){let o="";const l=r.toString().trim();if(I8.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function T5(n,t){return new Gt(3005,!1)}())}return l+o}}function lR(n,t,e,r,i,o,l,c,u,p,D,H,Ee){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:l,timelines:c,queriedElements:u,preStyleProps:p,postStyleProps:D,totalTime:H,errors:Ee}}const aE={};class cR{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function R8(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,l,c,u,p,D){const H=[],Ee=this.ast.options&&this.ast.options.params||aE,xe=this.buildStyles(r,c&&c.params||aE,H),qe=u&&u.params||aE,vt=this.buildStyles(i,qe,H),Nt=new Set,Ct=new Map,dn=new Map,Dn="void"===i,Ln={params:x8(qe,Ee),delay:this.ast.options?.delay},zr=D?[]:iE(t,e,this.ast.animation,o,l,xe,vt,Ln,p,H);let Li=0;if(zr.forEach(Ws=>{Li=Math.max(Ws.duration+Ws.delay,Li)}),H.length)return lR(e,this._triggerName,r,i,Dn,xe,vt,[],[],Ct,dn,Li,H);zr.forEach(Ws=>{const nl=Ws.element,N1=cs(Ct,nl,new Set);Ws.preStyleProps.forEach(kc=>N1.add(kc));const bh=cs(dn,nl,new Set);Ws.postStyleProps.forEach(kc=>bh.add(kc)),nl!==e&&Nt.add(nl)});const Ns=og(Nt.values());return lR(e,this._triggerName,r,i,Dn,xe,vt,zr,Ns,Ct,dn,Li)}}function x8(n,t){const e=rh(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class N8{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=rh(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,c)=>{l&&(l=oh(l,i,e));const u=this.normalizer.normalizePropertyName(c,e);l=this.normalizer.normalizeStyleValue(c,u,l,e),r.set(c,l)})}),r}}class P8{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new N8(i.style,i.options&&i.options.params||{},r))}),uR(this.states,"true","1"),uR(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new cR(t,i,this.states))}),this.fallbackTransition=function k8(n,t,e){return new cR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(l=>l.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function uR(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const F8=new cg;class L8{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=tE(this._driver,e,r,[]);if(r.length)throw function j5(n){return new Gt(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=qM(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let l;const c=new Map;if(o?(l=iE(this._driver,e,o,Kb,tg,new Map,new Map,r,F8,i),l.forEach(D=>{const H=cs(c,D.element,new Map);D.postStyleProps.forEach(Ee=>H.set(Ee,null))})):(i.push(function H5(){return new Gt(3300,!1)}()),l=[]),i.length)throw function Z5(n){return new Gt(3504,!1)}();c.forEach((D,H)=>{D.forEach((Ee,De)=>{D.set(De,this._driver.computeStyle(H,De,Ja))})});const p=Ol(l.map(D=>{const H=c.get(D.element);return this._buildPlayer(D,new Map,H)}));return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function z5(n){return new Gt(3301,!1)}();return e}listen(t,e,r,i){const o=Yb(e,"","","");return Gb(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const dR="ng-animate-queued",lE="ng-animate-disabled",H8=[],fR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Z8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ys="__ng_removed";class cE{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function Y8(n){return n??null}(r?t.value:t),r){const o=rh(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const sh="void",uE=new cE(sh);class z8{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ms(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function G5(n,t){return new Gt(3302,!1)}();if(null==r||0==r.length)throw function q5(n){return new Gt(3303,!1)}();if(!function $8(n){return"start"==n||"done"==n}(r))throw function Y5(n,t){return new Gt(3400,!1)}();const o=cs(this._elementListeners,t,[]),l={name:e,phase:r,callback:i};o.push(l);const c=cs(this._engine.statesByElement,t,new Map);return c.has(e)||(Ms(t,ng),Ms(t,ng+"-"+e),c.set(e,uE)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(l);u>=0&&o.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $5(n){return new Gt(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),l=new dE(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(Ms(t,ng),Ms(t,ng+"-"+e),this._engine.statesByElement.set(t,c=new Map));let u=c.get(e);const p=new cE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&p.absorbOptions(u.options),c.set(e,p),u||(u=uE),p.value!==sh&&u.value===p.value){if(!function X8(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(u.params,p.params)){const qe=[],vt=o.matchStyles(u.value,u.params,qe),Nt=o.matchStyles(p.value,p.params,qe);qe.length?this._engine.reportError(qe):this._engine.afterFlush(()=>{Mc(t,vt),Ca(t,Nt)})}return}const Ee=cs(this._engine.playersByElement,t,[]);Ee.forEach(qe=>{qe.namespaceId==this.id&&qe.triggerName==e&&qe.queued&&qe.destroy()});let De=o.matchTransition(u.value,p.value,t,p.params),xe=!1;if(!De){if(!i)return;De=o.fallbackTransition,xe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:De,fromState:u,toState:p,player:l,isFallbackTransition:xe}),xe||(Ms(t,dR),l.onStart(()=>{rd(t,dR)})),l.onDone(()=>{let qe=this.players.indexOf(l);qe>=0&&this.players.splice(qe,1);const vt=this._engine.playersByElement.get(t);if(vt){let Nt=vt.indexOf(l);Nt>=0&&vt.splice(Nt,1)}}),this.players.push(l),Ee.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,rg,!0);r.forEach(i=>{if(i[Ys])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const c=[];if(o.forEach((u,p)=>{if(l.set(p,u.value),this._triggers.has(p)){const D=this.trigger(t,p,sh,i);D&&c.push(D)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),r&&Ol(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const u=this._triggers.get(l).fallbackTransition,p=r.get(l)||uE,D=new cE(sh),H=new dE(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:u,fromState:p,toState:D,player:H,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ys];(!o||o===fR)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Ms(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,l=this._elementListeners.get(o);l&&l.forEach(c=>{if(c.name==r.triggerName){const u=Yb(o,r.triggerName,r.fromState.value,r.toState.value);u._data=t,Gb(r.player,c.phase,u,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class G8{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new z8(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,c=this.driver.getParentElement(e);for(;c;){const u=i.get(c);if(u){const p=r.indexOf(u);r.splice(p+1,0,t),l=!0;break}c=this.driver.getParentElement(c)}l||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(fg(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!fg(e))return;const o=e[Ys];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ms(t,lE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),rd(t,lE))}removeNode(t,e,r){if(fg(e)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Ys]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return fg(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,rg,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Xb,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ol(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ys];if(e&&e.setForRemoval){if(t[Ys]=fR,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(lE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ms(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ol(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function W5(n){return new Gt(3402,!1)}()}_flushAnimations(t,e){const r=new cg,i=[],o=new Map,l=[],c=new Map,u=new Map,p=new Map,D=new Set;this.disabledNodes.forEach(zn=>{D.add(zn);const tr=this.driver.query(zn,".ng-animate-queued",!0);for(let lr=0;lr<tr.length;lr++)D.add(tr[lr])});const H=this.bodyNode,Ee=Array.from(this.statesByElement.keys()),De=mR(Ee,this.collectedEnterElements),xe=new Map;let qe=0;De.forEach((zn,tr)=>{const lr=Kb+qe++;xe.set(tr,lr),zn.forEach(Gr=>Ms(Gr,lr))});const vt=[],Nt=new Set,Ct=new Set;for(let zn=0;zn<this.collectedLeaveElements.length;zn++){const tr=this.collectedLeaveElements[zn],lr=tr[Ys];lr&&lr.setForRemoval&&(vt.push(tr),Nt.add(tr),lr.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(Gr=>Nt.add(Gr)):Ct.add(tr))}const dn=new Map,Dn=mR(Ee,Array.from(Nt));Dn.forEach((zn,tr)=>{const lr=tg+qe++;dn.set(tr,lr),zn.forEach(Gr=>Ms(Gr,lr))}),t.push(()=>{De.forEach((zn,tr)=>{const lr=xe.get(tr);zn.forEach(Gr=>rd(Gr,lr))}),Dn.forEach((zn,tr)=>{const lr=dn.get(tr);zn.forEach(Gr=>rd(Gr,lr))}),vt.forEach(zn=>{this.processLeaveNode(zn)})});const Ln=[],zr=[];for(let zn=this._namespaceList.length-1;zn>=0;zn--)this._namespaceList[zn].drainQueuedTransitions(e).forEach(lr=>{const Gr=lr.player,fo=lr.element;if(Ln.push(Gr),this.collectedEnterElements.length){const Ao=fo[Ys];if(Ao&&Ao.setForMove){if(Ao.previousTriggersValues&&Ao.previousTriggersValues.has(lr.triggerName)){const Fc=Ao.previousTriggersValues.get(lr.triggerName),Os=this.statesByElement.get(lr.element);if(Os&&Os.has(lr.triggerName)){const Lg=Os.get(lr.triggerName);Lg.value=Fc,Os.set(lr.triggerName,Lg)}}return void Gr.destroy()}}const Aa=!H||!this.driver.containsElement(H,fo),ds=dn.get(fo),Ll=xe.get(fo),Di=this._buildInstruction(lr,r,Ll,ds,Aa);if(Di.errors&&Di.errors.length)return void zr.push(Di);if(Aa)return Gr.onStart(()=>Mc(fo,Di.fromStyles)),Gr.onDestroy(()=>Ca(fo,Di.toStyles)),void i.push(Gr);if(lr.isFallbackTransition)return Gr.onStart(()=>Mc(fo,Di.fromStyles)),Gr.onDestroy(()=>Ca(fo,Di.toStyles)),void i.push(Gr);const k1=[];Di.timelines.forEach(Ao=>{Ao.stretchStartingKeyframe=!0,this.disabledNodes.has(Ao.element)||k1.push(Ao)}),Di.timelines=k1,r.append(fo,Di.timelines),l.push({instruction:Di,player:Gr,element:fo}),Di.queriedElements.forEach(Ao=>cs(c,Ao,[]).push(Gr)),Di.preStyleProps.forEach((Ao,Fc)=>{if(Ao.size){let Os=u.get(Fc);Os||u.set(Fc,Os=new Set),Ao.forEach((Lg,o0)=>Os.add(o0))}}),Di.postStyleProps.forEach((Ao,Fc)=>{let Os=p.get(Fc);Os||p.set(Fc,Os=new Set),Ao.forEach((Lg,o0)=>Os.add(o0))})});if(zr.length){const zn=[];zr.forEach(tr=>{zn.push(function K5(n,t){return new Gt(3505,!1)}())}),Ln.forEach(tr=>tr.destroy()),this.reportError(zn)}const Li=new Map,Ns=new Map;l.forEach(zn=>{const tr=zn.element;r.has(tr)&&(Ns.set(tr,tr),this._beforeAnimationBuild(zn.player.namespaceId,zn.instruction,Li))}),i.forEach(zn=>{const tr=zn.element;this._getPreviousPlayers(tr,!1,zn.namespaceId,zn.triggerName,null).forEach(Gr=>{cs(Li,tr,[]).push(Gr),Gr.destroy()})});const Ws=vt.filter(zn=>_R(zn,u,p)),nl=new Map;pR(nl,this.driver,Ct,p,Ja).forEach(zn=>{_R(zn,u,p)&&Ws.push(zn)});const bh=new Map;De.forEach((zn,tr)=>{pR(bh,this.driver,new Set(zn),u,"!")}),Ws.forEach(zn=>{const tr=nl.get(zn),lr=bh.get(zn);nl.set(zn,new Map([...tr?.entries()??[],...lr?.entries()??[]]))});const kc=[],O1=[],P1={};l.forEach(zn=>{const{element:tr,player:lr,instruction:Gr}=zn;if(r.has(tr)){if(D.has(tr))return lr.onDestroy(()=>Ca(tr,Gr.toStyles)),lr.disabled=!0,lr.overrideTotalTime(Gr.totalTime),void i.push(lr);let fo=P1;if(Ns.size>1){let ds=tr;const Ll=[];for(;ds=ds.parentNode;){const Di=Ns.get(ds);if(Di){fo=Di;break}Ll.push(ds)}Ll.forEach(Di=>Ns.set(Di,fo))}const Aa=this._buildAnimation(lr.namespaceId,Gr,Li,o,bh,nl);if(lr.setRealPlayer(Aa),fo===P1)kc.push(lr);else{const ds=this.playersByElement.get(fo);ds&&ds.length&&(lr.parentPlayer=Ol(ds)),i.push(lr)}}else Mc(tr,Gr.fromStyles),lr.onDestroy(()=>Ca(tr,Gr.toStyles)),O1.push(lr),D.has(tr)&&i.push(lr)}),O1.forEach(zn=>{const tr=o.get(zn.element);if(tr&&tr.length){const lr=Ol(tr);zn.setRealPlayer(lr)}}),i.forEach(zn=>{zn.parentPlayer?zn.syncPlayerEvents(zn.parentPlayer):zn.destroy()});for(let zn=0;zn<vt.length;zn++){const tr=vt[zn],lr=tr[Ys];if(rd(tr,tg),lr&&lr.hasAnimation)continue;let Gr=[];if(c.size){let Aa=c.get(tr);Aa&&Aa.length&&Gr.push(...Aa);let ds=this.driver.query(tr,Xb,!0);for(let Ll=0;Ll<ds.length;Ll++){let Di=c.get(ds[Ll]);Di&&Di.length&&Gr.push(...Di)}}const fo=Gr.filter(Aa=>!Aa.destroyed);fo.length?W8(this,tr,fo):this.processLeaveNode(tr)}return vt.length=0,kc.forEach(zn=>{this.players.push(zn),zn.onDone(()=>{zn.destroy();const tr=this.players.indexOf(zn);this.players.splice(tr,1)}),zn.play()}),kc}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let l=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(l=c)}else{const c=this.playersByElement.get(t);if(c){const u=!o||o==sh;c.forEach(p=>{p.queued||!u&&p.triggerName!=i||l.push(p)})}}return(r||i)&&(l=l.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),l}_beforeAnimationBuild(t,e,r){const o=e.element,l=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const p=u.element,D=p!==o,H=cs(r,p,[]);this._getPreviousPlayers(p,D,l,c,e.toState).forEach(De=>{const xe=De.getRealPlayer();xe.beforeDestroy&&xe.beforeDestroy(),De.destroy(),H.push(De)})}Mc(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,l){const c=e.triggerName,u=e.element,p=[],D=new Set,H=new Set,Ee=e.timelines.map(xe=>{const qe=xe.element;D.add(qe);const vt=qe[Ys];if(vt&&vt.removedBeforeQueried)return new nh(xe.duration,xe.delay);const Nt=qe!==u,Ct=function K8(n){const t=[];return gR(n,t),t}((r.get(qe)||H8).map(Li=>Li.getRealPlayer())).filter(Li=>!!Li.element&&Li.element===qe),dn=o.get(qe),Dn=l.get(qe),Ln=qM(this._normalizer,xe.keyframes,dn,Dn),zr=this._buildPlayer(xe,Ln,Ct);if(xe.subTimeline&&i&&H.add(qe),Nt){const Li=new dE(t,c,qe);Li.setRealPlayer(zr),p.push(Li)}return zr});p.forEach(xe=>{cs(this.playersByQueriedElement,xe.element,[]).push(xe),xe.onDone(()=>function q8(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,xe.element,xe))}),D.forEach(xe=>Ms(xe,JM));const De=Ol(Ee);return De.onDestroy(()=>{D.forEach(xe=>rd(xe,JM)),Ca(u,e.toStyles)}),H.forEach(xe=>{cs(i,xe,[]).push(De)}),De}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new nh(t.duration,t.delay)}}class dE{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new nh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Gb(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){cs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function fg(n){return n&&1===n.nodeType}function hR(n,t){const e=n.style.display;return n.style.display=t??"none",e}function pR(n,t,e,r,i){const o=[];e.forEach(u=>o.push(hR(u)));const l=[];r.forEach((u,p)=>{const D=new Map;u.forEach(H=>{const Ee=t.computeStyle(p,H,i);D.set(H,Ee),(!Ee||0==Ee.length)&&(p[Ys]=Z8,l.push(p))}),n.set(p,D)});let c=0;return e.forEach(u=>hR(u,o[c++])),l}function mR(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const i=new Set(t),o=new Map;function l(c){if(!c)return 1;let u=o.get(c);if(u)return u;const p=c.parentNode;return u=e.has(p)?p:i.has(p)?1:l(p),o.set(c,u),u}return t.forEach(c=>{const u=l(c);1!==u&&e.get(u).push(c)}),e}function Ms(n,t){n.classList?.add(t)}function rd(n,t){n.classList?.remove(t)}function W8(n,t,e){Ol(e).onDone(()=>n.processLeaveNode(t))}function gR(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof zM?gR(r.players,t):t.push(r)}}function _R(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class hg{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new G8(t,e,r),this._timelineEngine=new L8(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const l=t+"-"+i;let c=this._triggerCache[l];if(!c){const u=[],D=tE(this._driver,o,u,[]);if(u.length)throw function U5(n,t){return new Gt(3404,!1)}();c=function O8(n,t,e){return new P8(n,t,e)}(i,D,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(e,i,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,l]=YM(r);this._timelineEngine.command(o,e,l,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[l,c]=YM(r);return this._timelineEngine.listen(l,e,c,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let J8=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ca(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ca(this._element,this._initialStyles),this._endStyles&&(Ca(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mc(this._element,this._endStyles),this._endStyles=null),Ca(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fE(n){let t=null;return n.forEach((e,r)=>{(function ez(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class yR{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:rR(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class tz{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return WM(t,e)}getParentElement(t){return $b(t)}query(t,e,r){return KM(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,l=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const p=new Map,D=l.filter(De=>De instanceof yR);(function l8(n,t){return 0===n||0===t})(r,i)&&D.forEach(De=>{De.currentSnapshot.forEach((xe,qe)=>p.set(qe,xe))});let H=function o8(n){return n.length?n[0]instanceof Map?n:n.map(t=>eR(t)):[]}(e).map(De=>Pl(De));H=function c8(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<t.length;o++){let l=t[o];i.forEach(c=>l.set(c,rR(n,c)))}}return t}(t,H,p);const Ee=function Q8(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=fE(t[0]),t.length>1&&(r=fE(t[t.length-1]))):t instanceof Map&&(e=fE(t)),e||r?new J8(n,e,r):null}(t,H);return new yR(t,H,u,Ee)}}let nz=(()=>{class n extends HM{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:Mo.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?ZM(e):e;return vR(this._renderer,null,r,"register",[i]),new rz(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Xt(Qd),Xt(Ar))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class rz extends _5{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new iz(this._id,t,e||{},this._renderer)}}class iz{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vR(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const bR="@.disabled";let oz=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,l)=>{const c=l?.parentNode(o);c&&l.removeChild(c,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(o);return D||(D=new ER("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,D)),D}const l=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const u=D=>{Array.isArray(D)?D.forEach(u):this.engine.registerTrigger(l,c,e,D.name,D)};return r.data.animation.forEach(u),new sz(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,c]=o;l(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Xt(Qd),Xt(hg),Xt(cr))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})();class ER{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==bR?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class sz extends ER{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==bR?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function az(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function lz(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(t,e,r)}}const fz=[{provide:Wb,useFactory:()=>new tz},{provide:ws,useValue:"BrowserAnimations"},...[{provide:HM,useClass:nz},{provide:sE,useFactory:function uz(){return new M8}},{provide:hg,useClass:(()=>{class n extends hg{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar),Xt(Wb),Xt(sE),Xt(bl))},n.\u0275prov=bn({token:n,factory:n.\u0275fac}),n})()},{provide:Qd,useFactory:function dz(n,t,e){return new oz(n,t,e)},deps:[Uv,hg,cr]}]];function hE(){return(hE=pi(function*(n){const t=document.baseURI.includes("localhost")?"https://localhost:4200/":document.baseURI,e=yield fetch(new URL(`${t}${n}`));return e.ok?yield e.text():""})).apply(this,arguments)}class yz extends ft{constructor(t=1/0,e=1/0,r=Eb){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:l}=this;e||(r.push(t),!i&&r.push(o.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let l=0;l<o.length&&!t.closed;l+=r?1:2)t.next(o[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const l=e.now();let c=0;for(let u=1;u<r.length&&r[u]<=l;u+=2)c=u;c&&r.splice(0,c+1)}}}class bz{constructor(t){this._box=t,this._destroyed=new ft,this._resizeSubject=new ft,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Ye(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe(uo(e=>e.some(r=>r.target===t)),function vz(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,Wt({connector:()=>new yz(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}),ro(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Ez=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=$t(cr)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new bz(i)),this._observers.get(i).observe(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wz=["notch"],Tz=["matFormFieldNotchedOutline",""],Sz=["*"],Cz=["textField"],Az=["iconPrefixContainer"],Dz=["textPrefixContainer"];function Iz(n,t){1&n&&Wn(0,"span",19)}function Mz(n,t){if(1&n&&(cn(0,"label",17),xi(1,1),kn(2,Iz,1,0,"span",18),un()),2&n){const e=Hn(2);Yt("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),oi("for",e._control.id),Qt(2),Yt("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Rz(n,t){1&n&&kn(0,Mz,3,5,"label",16),2&n&&Yt("ngIf",Hn()._hasFloatingLabel())}function xz(n,t){1&n&&Wn(0,"div",20)}function Nz(n,t){}function Oz(n,t){1&n&&kn(0,Nz,0,0,"ng-template",22),2&n&&(Hn(2),Yt("ngTemplateOutlet",Gi(1)))}function Pz(n,t){if(1&n&&(cn(0,"div",21),kn(1,Oz,1,1,"ng-template",9),un()),2&n){const e=Hn();Yt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),Qt(1),Yt("ngIf",!e._forceDisplayInfixLabel())}}function kz(n,t){1&n&&(cn(0,"div",23,24),xi(2,2),un())}function Fz(n,t){1&n&&(cn(0,"div",25,26),xi(2,3),un())}function Lz(n,t){}function Bz(n,t){1&n&&kn(0,Lz,0,0,"ng-template",22),2&n&&(Hn(),Yt("ngTemplateOutlet",Gi(1)))}function Uz(n,t){1&n&&(cn(0,"div",27),xi(1,4),un())}function Vz(n,t){1&n&&(cn(0,"div",28),xi(1,5),un())}function jz(n,t){1&n&&Wn(0,"div",29)}function Hz(n,t){1&n&&(cn(0,"div",30),xi(1,6),un()),2&n&&Yt("@transitionMessages",Hn()._subscriptAnimationState)}function Zz(n,t){if(1&n&&(cn(0,"mat-hint",34),xr(1),un()),2&n){const e=Hn(2);Yt("id",e._hintLabelId),Qt(1),xo(e.hintLabel)}}function zz(n,t){if(1&n&&(cn(0,"div",31),kn(1,Zz,2,2,"mat-hint",32),xi(2,7),Wn(3,"div",33),xi(4,8),un()),2&n){const e=Hn();Yt("@transitionMessages",e._subscriptAnimationState),Qt(1),Yt("ngIf",e.hintLabel)}}const Gz=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],qz=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let pE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Bn({type:n,selectors:[["mat-label"]]}),n})(),Yz=0;const TR=new ln("MatError");let $z=(()=>{class n{constructor(e,r){this.id="mat-mdc-error-"+Yz++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(ic("aria-live"),yt(Rr))},n.\u0275dir=Bn({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,r){2&e&&hf("id",r.id)},inputs:{id:"id"},features:[Xr([{provide:TR,useExisting:n}])]}),n})(),Wz=0,mE=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Wz++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Bn({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,r){2&e&&(hf("id",r.id),oi("align",null),wi("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const Kz=new ln("MatPrefix"),SR=new ln("MatSuffix");let Xz=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Bn({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Xr([{provide:SR,useExisting:n}])]}),n})();const CR=new ln("FloatingLabelParent");let AR=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=$t(Ez),this._ngZone=$t(cr),this._parent=$t(CR),this._resizeSubscription=new L}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Qz(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr))},n.\u0275dir=Bn({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,r){2&e&&wi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),n})();const DR="mdc-line-ripple--active",mg="mdc-line-ripple--deactivating";let IR=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,l=o.contains(mg);"opacity"===i.propertyName&&l&&o.remove(DR,mg)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(mg),e.add(DR)}deactivate(){this._elementRef.nativeElement.classList.add(mg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(cr))},n.\u0275dir=Bn({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),MR=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(cr))},n.\u0275cmp=ur({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(e,r){if(1&e&&Oo(wz,5),2&e){let i;si(i=ai())&&(r._notch=i.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,r){2&e&&wi("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Tz,ngContentSelectors:Sz,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(e,r){1&e&&(ha(),Wn(0,"div",0),cn(1,"div",1,2),xi(3),un(),Wn(4,"div",3))},encapsulation:2,changeDetection:0}),n})();const Jz={transitionMessages:th("transitionMessages",[Dc("enter",Yo({opacity:1,transform:"translateY(0%)"})),Nl("void => enter",[Yo({opacity:0,transform:"translateY(-5px)"}),xl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let RR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Bn({type:n}),n})();const xR=new ln("MatFormField"),NR=new ln("MAT_FORM_FIELD_DEFAULT_OPTIONS");let OR=0,nG=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=So(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,o,l,c,u,p){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=l,this._defaults=c,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+OR++,this._hintLabelId="mat-mdc-hint-"+OR++,this._subscriptAnimationState="",this._destroyed=new ft,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ro(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Io(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ro(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ro(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(ko),yt(cr),yt(Gm),yt(no),yt(NR,8),yt(ws,8),yt(Ar))},n.\u0275cmp=ur({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(Go(i,pE,5),Go(i,pE,7),Go(i,RR,5),Go(i,Kz,5),Go(i,SR,5),Go(i,TR,5),Go(i,mE,5)),2&e){let o;si(o=ai())&&(r._labelChildNonStatic=o.first),si(o=ai())&&(r._labelChildStatic=o.first),si(o=ai())&&(r._formFieldControl=o.first),si(o=ai())&&(r._prefixChildren=o),si(o=ai())&&(r._suffixChildren=o),si(o=ai())&&(r._errorChildren=o),si(o=ai())&&(r._hintChildren=o)}},viewQuery:function(e,r){if(1&e&&(Oo(Cz,5),Oo(Az,5),Oo(Dz,5),Oo(AR,5),Oo(MR,5),Oo(IR,5)),2&e){let i;si(i=ai())&&(r._textField=i.first),si(i=ai())&&(r._iconPrefixContainer=i.first),si(i=ai())&&(r._textPrefixContainer=i.first),si(i=ai())&&(r._floatingLabel=i.first),si(i=ai())&&(r._notchedOutline=i.first),si(i=ai())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,r){2&e&&wi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Xr([{provide:xR,useExisting:n},{provide:CR,useExisting:n}])],ngContentSelectors:qz,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,r){1&e&&(ha(Gz),kn(0,Rz,1,1,"ng-template",null,0,Ky),cn(2,"div",1,2),pr("click",function(o){return r._control.onContainerClick(o)}),kn(4,xz,1,0,"div",3),cn(5,"div",4),kn(6,Pz,2,2,"div",5),kn(7,kz,3,0,"div",6),kn(8,Fz,3,0,"div",7),cn(9,"div",8),kn(10,Bz,1,1,"ng-template",9),xi(11),un(),kn(12,Uz,2,0,"div",10),kn(13,Vz,2,0,"div",11),un(),kn(14,jz,1,0,"div",12),un(),cn(15,"div",13),kn(16,Hz,2,1,"div",14),kn(17,zz,5,2,"div",15),un()),2&e&&(Qt(2),wi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Qt(2),Yt("ngIf",!r._hasOutline()&&!r._control.disabled),Qt(2),Yt("ngIf",r._hasOutline()),Qt(1),Yt("ngIf",r._hasIconPrefix),Qt(1),Yt("ngIf",r._hasTextPrefix),Qt(2),Yt("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),Qt(2),Yt("ngIf",r._hasTextSuffix),Qt(1),Yt("ngIf",r._hasIconSuffix),Qt(1),Yt("ngIf",!r._hasOutline()),Qt(1),wi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Yt("ngSwitch",r._getDisplayedMessages()),Qt(1),Yt("ngSwitchCase","error"),Qt(1),Yt("ngSwitchCase","hint"))},dependencies:[to,Mv,hm,oD,mE,AR,MR,IR],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Jz.transitionMessages]},changeDetection:0}),n})(),gE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[io,Cf,GI,io]}),n})();class iG{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const sG=new ln("mat-snack-bar-default-options",{providedIn:"root",factory:function oG(){return new iG}}),lG=["mat-button",""],cG=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],uG=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],fG=["mat-icon-button",""],hG=["*"],FR={capture:!0},LR=["focus","click","mouseenter","touchstart"],ah="mat-button-ripple-uninitialized";let pG=(()=>{class n{constructor(){this._document=$t(Ar,{optional:!0}),this._animationMode=$t(ws,{optional:!0}),this._globalRippleOptions=$t(dM,{optional:!0}),this._platform=$t(no),this._ngZone=$t(cr),this._onInteraction=e=>{if(e.target===this._document)return;const i=e.target.closest(`[${ah}]`);i&&(i.removeAttribute(ah),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const e of LR)this._document?.addEventListener(e,this._onInteraction,FR)})}ngOnDestroy(){for(const e of LR)this._document?.removeEventListener(e,this._onInteraction,FR)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new mG(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new Ju(i,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(ah);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new Rb(new Rr(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,e.append(r),i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mG{constructor(t,e,r){this._button=t,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(t,e){this.rippleConfig=t||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const gG=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],_G=qm(iM(Mb(class{constructor(n){this._elementRef=n}})));let _E,BR=(()=>{class n extends _G{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,i,o){super(e),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=$t($f),this._rippleLoader=$t(pG),this._isFab=!1;const l=e.nativeElement.classList;for(const c of gG)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(u=>{l.add(u)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return n.\u0275fac=function(e){Mp()},n.\u0275dir=Bn({type:n,features:[yr,lo]}),n})(),lh=(()=>{class n extends BR{constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(no),yt(cr),yt(ws,8))},n.\u0275cmp=ur({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(oi("disabled",r.disabled||null),wi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[yr],attrs:lG,ngContentSelectors:uG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(ha(cG),Wn(0,"span",0),xi(1),cn(2,"span",1),xi(3,1),un(),xi(4,2),Wn(5,"span",2)(6,"span",3)),2&e&&wi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),gg=(()=>{class n extends BR{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(no),yt(cr),yt(ws,8))},n.\u0275cmp=ur({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,r){2&e&&(oi("disabled",r.disabled||null),wi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[yr],attrs:fG,ngContentSelectors:hG,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(ha(),Wn(0,"span",0),xi(1),Wn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Rs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[io,ed,io]}),n})(),bG=1;const _g={};function UR(n){return n in _g&&(delete _g[n],!0)}const EG={setImmediate(n){const t=bG++;return _g[t]=!0,_E||(_E=Promise.resolve()),_E.then(()=>UR(t)&&n()),t},clearImmediate(n){UR(n)}},{setImmediate:wG,clearImmediate:TG}=EG,yg={setImmediate(...n){const{delegate:t}=yg;return(t?.setImmediate||wG)(...n)},clearImmediate(n){const{delegate:t}=yg;return(t?.clearImmediate||TG)(n)},delegate:void 0},yE=new class CG extends wb{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class SG extends bb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=yg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(yg.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function VR(n,t){return t?e=>If(t.pipe(Lo(1),function AG(){return $e((n,t)=>{n.subscribe(ut(t,g))})}()),e.pipe(VR(n))):kt((e,r)=>hn(n(e,r)).pipe(Lo(1),BD(e)))}function jR(n=0,t,e=WH){let r=-1;return null!=t&&(Dr(t)?e=t:r=t),new Ye(i=>{let o=function DG(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function HR(n,t=Vm){const e=jR(n,t);return VR(()=>e)}class vE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ZR extends vE{constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class zR extends vE{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class IG extends vE{constructor(t){super(),this.element=t instanceof Rr?t.nativeElement:t}}class MG{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ZR?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof zR?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof IG?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class RG extends MG{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Ts.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let xG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({}),n})();const NG=["addListener","removeListener"],OG=["addEventListener","removeEventListener"],PG=["on","off"];function bE(n,t,e,r){if(Kn(e)&&(r=e,e=void 0),r)return bE(n,t,e).pipe(Zv(r));const[i,o]=function LG(n){return Kn(n.addEventListener)&&Kn(n.removeEventListener)}(n)?OG.map(l=>c=>n[l](t,c,e)):function kG(n){return Kn(n.addListener)&&Kn(n.removeListener)}(n)?NG.map(GR(n,t)):function FG(n){return Kn(n.on)&&Kn(n.off)}(n)?PG.map(GR(n,t)):[];if(!i&&Zt(n))return kt(l=>bE(l,t,e))(hn(n));if(!i)throw new TypeError("Invalid event target");return new Ye(l=>{const c=(...u)=>l.next(1<u.length?u:u[0]);return i(c),()=>o(c)})}function GR(n,t){return e=>r=>n[e](t,r)}const ch={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ch;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new L(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=ch;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ch;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class UG extends wb{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class BG extends bb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=ch.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(ch.cancelAnimationFrame(e),t._scheduled=void 0)}});function qR(n,t=Vm){return function jG(n){return $e((t,e)=>{let r=!1,i=null,o=null,l=!1;const c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const p=i;i=null,e.next(p)}l&&e.complete()},u=()=>{o=null,l&&e.complete()};t.subscribe(ut(e,p=>{r=!0,i=p,o||hn(n(p)).subscribe(o=ut(e,c,u))},()=>{l=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>jR(n,t))}let YR=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new ft,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ye(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(qR(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(uo(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Dl(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(Xt(cr),Xt(no),Xt(Ar,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$R=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new ft,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Xt(no),Xt(cr),Xt(Ar,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({}),n})(),WR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[Wf,vg,Wf,vg]}),n})();const KR=MH();class zG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Yi(-this._previousScrollPosition.left),t.style.top=Yi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),KR&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),KR&&(r.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class GG{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(uo(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class XR{enable(){}disable(){}attach(){}}function EE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function QR(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class qG{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();EE(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YG=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new XR,this.close=l=>new GG(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new zG(this._viewportRuler,this._document),this.reposition=l=>new qG(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(Xt(YR),Xt($R),Xt(cr),Xt(Ar))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JR{constructor(t){if(this.scrollStrategy=new XR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class $G{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let ex=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WG=(()=>{class n extends ex{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const c=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar),Xt(cr,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KG=(()=>{class n extends ex{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Al(o)},this._clickListener=o=>{const l=Al(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let p=u.length-1;p>-1;p--){const D=u[p];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(l)||D.overlayElement.contains(c))break;const H=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>H.next(o)):H.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar),Xt(no),Xt(cr,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tx=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||gb()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),gb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(Xt(Ar),Xt(no))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XG{constructor(t,e,r,i,o,l,c,u,p,D=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=c,this._location=u,this._outsideClickDispatcher=p,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new ft,this._attachments=new ft,this._detachments=new ft,this._locationChanges=L.EMPTY,this._backdropClickHandler=H=>this._backdropClick.next(H),this._backdropTransitionendHandler=H=>{this._disposeBackdrop(H.target)},this._keydownEvents=new ft,this._outsidePointerEvents=new ft,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Lo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Yi(this._config.width),t.height=Yi(this._config.height),t.minWidth=Yi(this._config.minWidth),t.minHeight=Yi(this._config.minHeight),t.maxWidth=Yi(this._config.maxWidth),t.maxHeight=Yi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=jm(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ro(Io(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const nx="cdk-overlay-connected-position-bounding-box",QG=/([A-Za-z%]+)$/;class JG{get positions(){return this._preferredPositions}constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ft,this._resizeSubscription=L.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(nx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let l;for(let c of this._preferredPositions){let u=this._getOriginPoint(t,i,c),p=this._getOverlayPoint(u,e,c),D=this._getOverlayFit(p,e,r,c);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(D,p,r)?o.push({position:c,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!l||l.overlayFit.visibleArea<D.visibleArea)&&(l={overlayFit:D,overlayPoint:p,originPoint:u,position:c,overlayRect:e})}if(o.length){let c=null,u=-1;for(const p of o){const D=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);D>u&&(u=D,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i="start"==r.originX?l:c}return e.left<0&&(i-=e.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){const o=ix(e);let{x:l,y:c}=t,u=this._getOffset(i,"x"),p=this._getOffset(i,"y");u&&(l+=u),p&&(c+=p);let Ee=0-c,De=c+o.height-r.height,xe=this._subtractOverflows(o.width,0-l,l+o.width-r.width),qe=this._subtractOverflows(o.height,Ee,De),vt=xe*qe;return{visibleArea:vt,isCompletelyWithinViewport:o.width*o.height===vt,fitsInViewportVertically:qe===o.height,fitsInViewportHorizontally:xe==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,l=rx(this._overlayRef.getConfig().minHeight),c=rx(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=i)&&(t.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=ix(e),o=this._viewportRect,l=Math.max(t.x+i.width-o.width,0),c=Math.max(t.y+i.height-o.height,0),u=Math.max(o.top-r.top-t.y,0),p=Math.max(o.left-r.left-t.x,0);let D=0,H=0;return D=i.width<=o.width?p||-l:t.x<this._viewportMargin?o.left-r.left-t.x:0,H=i.height<=o.height?u||-c:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:D,y:H},{x:t.x+D,y:t.y+H}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new $G(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let o,l,c,D,H,Ee;if("top"===e.overlayY)l=t.y,o=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)c=r.height-t.y+2*this._viewportMargin,o=r.height-c+this._viewportMargin;else{const De=Math.min(r.bottom-t.y+r.top,t.y),xe=this._lastBoundingBoxSize.height;o=2*De,l=t.y-De,o>xe&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-xe/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)Ee=r.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)H=t.x,D=r.right-t.x;else{const De=Math.min(r.right-t.x+r.left,t.x),xe=this._lastBoundingBoxSize.width;D=2*De,H=t.x-De,D>xe&&!this._isInitialRender&&!this._growAfterOpen&&(H=t.x-xe/2)}return{top:l,left:H,bottom:c,right:Ee,width:D,height:o}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Yi(r.height),i.top=Yi(r.top),i.bottom=Yi(r.bottom),i.width=Yi(r.width),i.left=Yi(r.left),i.right=Yi(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Yi(o)),l&&(i.maxWidth=Yi(l))}this._lastBoundingBoxSize=r,xc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){xc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const D=this._viewportRuler.getViewportScrollPosition();xc(r,this._getExactOverlayY(e,t,D)),xc(r,this._getExactOverlayX(e,t,D))}else r.position="static";let c="",u=this._getOffset(e,"x"),p=this._getOffset(e,"y");u&&(c+=`translateX(${u}px) `),p&&(c+=`translateY(${p}px)`),r.transform=c.trim(),l.maxHeight&&(i?r.maxHeight=Yi(l.maxHeight):o&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Yi(l.maxWidth):o&&(r.maxWidth="")),xc(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Yi(o.y),i}_getExactOverlayX(t,e,r){let l,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Yi(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:QR(t,r),isOriginOutsideView:EE(t,r),isOverlayClipped:QR(e,r),isOverlayOutsideView:EE(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&jm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Rr)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function xc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function rx(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(QG);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ix(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ox="cdk-global-overlay-wrapper";class e6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ox),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:c}=r,u=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),p=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),D=this._xPosition,H=this._xOffset,Ee="rtl"===this._overlayRef.getConfig().direction;let De="",xe="",qe="";u?qe="flex-start":"center"===D?(qe="center",Ee?xe=H:De=H):Ee?"left"===D||"end"===D?(qe="flex-end",De=H):("right"===D||"start"===D)&&(qe="flex-start",xe=H):"left"===D||"start"===D?(qe="flex-start",De=H):("right"===D||"end"===D)&&(qe="flex-end",xe=H),t.position=this._cssPosition,t.marginLeft=u?"0":De,t.marginTop=p?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=u?"0":xe,e.justifyContent=qe,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(ox),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let t6=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new e6}flexibleConnectedTo(e){return new JG(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(Xt($R),Xt(Ar),Xt(no),Xt(tx))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n6=0,id=(()=>{class n{constructor(e,r,i,o,l,c,u,p,D,H,Ee,De){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=c,this._ngZone=u,this._document=p,this._directionality=D,this._location=H,this._outsideClickDispatcher=Ee,this._animationsModuleType=De}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),l=new JR(e);return l.direction=l.direction||this._directionality.value,new XG(o,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+n6++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(bl)),new RG(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(Xt(YG),Xt(tx),Xt(Xd),Xt(t6),Xt(WG),Xt(Ts),Xt(cr),Xt(Ar),Xt(Gm),Xt(nm),Xt(KG),Xt(ws,8))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o6={provide:new ln("cdk-connected-overlay-scroll-strategy"),deps:[id],useFactory:function i6(n){return()=>n.scrollStrategies.reposition()}};let sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({providers:[id,o6],imports:[Wf,xG,WR,WR]}),n})();const s6=["mat-menu-item",""];function a6(n,t){1&n&&(mn(),cn(0,"svg",3),Wn(1,"polygon",4),un())}const l6=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],c6=["mat-icon, [matMenuItemIcon]","*"];function u6(n,t){if(1&n){const e=co();cn(0,"div",0),pr("keydown",function(i){return he(e),j(Hn()._handleKeydown(i))})("click",function(){return he(e),j(Hn().closed.emit("click"))})("@transformMenu.start",function(i){return he(e),j(Hn()._onAnimationStart(i))})("@transformMenu.done",function(i){return he(e),j(Hn()._onAnimationDone(i))}),cn(1,"div",1),xi(2),un()()}if(2&n){const e=Hn();Yt("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),oi("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const d6=["*"],wE=new ln("MAT_MENU_PANEL"),f6=Mb(iM(class{}));let uh=(()=>{class n extends f6{constructor(e,r,i,o,l){super(),this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new ft,this._focused=new ft,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(Ar),yt($f),yt(wE,8),yt(ko))},n.\u0275cmp=ur({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(e,r){1&e&&pr("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(oi("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),wi("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[yr],attrs:s6,ngContentSelectors:c6,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(ha(l6),xi(0),cn(1,"span",0),xi(2,1),un(),Wn(3,"div",1),kn(4,a6,2,0,"svg",2)),2&e&&(Qt(3),Yt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Qt(1),Yt("ngIf",r._triggersSubmenu))},dependencies:[to,Rb],encapsulation:2,changeDetection:0}),n})();const h6=new ln("MatMenuContent"),bg={transformMenu:th("transformMenu",[Dc("void",Yo({opacity:0,transform:"scale(0.8)"})),Nl("void => enter",xl("120ms cubic-bezier(0, 0, 0.2, 1)",Yo({opacity:1,transform:"scale(1)"}))),Nl("* => void",xl("100ms 25ms linear",Yo({opacity:0})))]),fadeInItems:th("fadeInItems",[Dc("showing",Yo({opacity:1})),Nl("void => *",[Yo({opacity:0}),xl("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let p6=0;const ax=new ln("mat-menu-default-options",{providedIn:"root",factory:function m6(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let dh=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=So(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=So(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=o,this._directDescendantItems=new Bu,this._classList={},this._panelAnimationState="void",this._animationDone=new ft,this.closed=new ni,this.close=this.closed,this.panelId="mat-menu-panel-"+p6++,this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this._overlapTrigger=i.overlapTrigger,this._hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new sZ(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Mf(this._directDescendantItems),Yn(e=>Io(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Mf(this._directDescendantItems),Yn(r=>Io(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:vb(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Lo(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Mf(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(cr),yt(ax),yt(ko))},n.\u0275dir=Bn({type:n,contentQueries:function(e,r,i){if(1&e&&(Go(i,h6,5),Go(i,uh,5),Go(i,uh,4)),2&e){let o;si(o=ai())&&(r.lazyContent=o.first),si(o=ai())&&(r._allItems=o),si(o=ai())&&(r.items=o)}},viewQuery:function(e,r){if(1&e&&Oo(va,5),2&e){let i;si(i=ai())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),TE=(()=>{class n extends dh{constructor(e,r,i,o){super(e,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(cr),yt(ax),yt(ko))},n.\u0275cmp=ur({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(e,r){2&e&&oi("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Xr([{provide:wE,useExisting:n}]),yr],ngContentSelectors:d6,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(e,r){1&e&&(ha(),kn(0,u6,3,6,"ng-template"))},dependencies:[Zu],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[bg.transformMenu,bg.fadeInItems]},changeDetection:0}),n})();const lx=new ln("mat-menu-scroll-strategy"),_6={provide:lx,deps:[id],useFactory:function g6(n){return()=>n.scrollStrategies.reposition()}},cx=vc({passive:!0});let y6=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,o,l,c,u,p,D){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=c,this._dir=u,this._focusMonitor=p,this._ngZone=D,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=L.EMPTY,this._hoverSubscription=L.EMPTY,this._menuCloseSubscription=L.EMPTY,this._changeDetectorRef=$t(ko),this._handleTouchStart=H=>{Db(H)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ni,this.onMenuOpen=this.menuOpened,this.menuClosed=new ni,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=l instanceof dh?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,cx)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,cx),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof dh&&(e._startAnimation(),e._directDescendantItems.changes.pipe(ro(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof dh?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(uo(i=>"void"===i.toState),Lo(1),ro(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new JR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",l="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,l)):e.setPositionClasses(o,l)})}_setPosition(e,r){let[i,o]="before"===e.xPosition?["end","start"]:["start","end"],[l,c]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[u,p]=[l,c],[D,H]=[i,o],Ee=0;if(this.triggersSubmenu()){if(H=i="before"===e.xPosition?"start":"end",o=D="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const De=this._parentMaterialMenu.items.first;this._parentInnerPadding=De?De._getHostElement().offsetTop:0}Ee="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(u="top"===l?"bottom":"top",p="top"===c?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:D,overlayY:l,offsetY:Ee},{originX:o,originY:u,overlayX:H,overlayY:l,offsetY:Ee},{originX:i,originY:p,overlayX:D,overlayY:c,offsetY:-Ee},{originX:o,originY:p,overlayX:H,overlayY:c,offsetY:-Ee}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return Io(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:Qn(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(uo(l=>l!==this._menuItemInstance),uo(()=>this._menuOpen)):Qn(),r)}_handleMousedown(e){Ab(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(uo(e=>e===this._menuItemInstance&&!e.disabled),HR(0,yE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof dh&&this.menu._isAnimating?this.menu._animationDone.pipe(Lo(1),HR(0,yE),ro(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new zR(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(yt(id),yt(Rr),yt(as),yt(lx),yt(wE,8),yt(uh,10),yt(Gm,8),yt($f),yt(cr))},n.\u0275dir=Bn({type:n,hostVars:3,hostBindings:function(e,r){1&e&&pr("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&e&&oi("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),SE=(()=>{class n extends y6{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qi(n)))(r||n)}}(),n.\u0275dir=Bn({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[yr]}),n})(),Nc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({providers:[_6],imports:[Cf,ed,io,sx,vg,io]}),n})();class ux extends Rl{constructor(t){super(),this.sort_requested=t}}const v6=["hot","top","new","controversial","rising"];let b6=(()=>{class n extends PM{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,e.keyPrefix)}}return n.\u0275fac=function(e){return new(e||n)(Xt(Bb))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CE=(()=>{class n{constructor(e){this.sessionStorageService=e,this.key="UniqueId"}getUniqueId(){let e=this.sessionStorageService.get(this.key);return null==e&&(e=0),this.sessionStorageService.set(this.key,++e),e}}return n.\u0275fac=function(e){return new(e||n)(Xt(b6))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();String.isNullOrWhitespace||(String.isNullOrWhitespace=function(n){return null==n||n.trim().length<1}),String.hasData||(String.hasData=n=>!String.isNullOrWhitespace(n)),String.toDate||(String.toDate=function(n){if(null==n||""===n)return null;if(n instanceof Date)return n;if(!(n instanceof String))return null;const t=n.split("/");if(3!==t.length)return null;const e=Number(t[0]),r=Number(t[1]);let i=Number(t[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o});class AE{}Object.trimUnusedProperties||(Object.trimUnusedProperties=function(n){if(null==n)return;if(null==n)return null;let t={...n};for(var e in t){const r=t[e];(null==r||Array.isArray(r)&&0===r.length)&&delete t[e],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete t[e],"number"==typeof r&&0===r&&delete t[e]}return t});class DE{}function E6(n,t,e,r){return IE.apply(this,arguments)}function IE(){return(IE=pi(function*(n,t,e,r){this.set_posts({items:[],subreddit:""}),this.set_errors({});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(n)&&l.set("after",n),String.hasData(t)&&l.set("modhash",t);const c=new URL(`https://www.reddit.com/r/${o}/${e}.json`);c.search=`${l}`;try{const u=yield fetch(c);if(!u.ok){let Ee=u.statusText||"Not Found";try{const De=yield u.json();De&&"reason"in De&&(Ee=De.reason)}catch{}return void this.set_errors(Ee)}const p=yield u.json();if(p.kind!==Ds.Listing)return void this.set_errors(`Listing's kind isn't ${Ds.Listing}, its ${p.kind} instead`);if(p.data?.children.some(Ee=>Ee.kind!==Ds.Link))return void this.set_errors(`Not all of Listing's children are of kind ${Ds.Link}`);const D=p.data,H=D.children.filter(Ee=>null!=Ee.data).map(Ee=>Lb(Ee.data,this.is_MSE_supported()));H.forEach(Ee=>Ee.subreddit_subscribed=i.includes(Ee.subreddit)),this.set_posts({after:D.after,items:H,modhash:D.modhash,sort:e,subreddit:o})}catch(u){this.set_errors(u)}})).apply(this,arguments)}function w6(n){return ME.apply(this,arguments)}function ME(){return(ME=pi(function*(n){this.subscriptionService.add(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}function T6(n){return RE.apply(this,arguments)}function RE(){return(RE=pi(function*(n){this.subscriptionService.remove(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}let Eg=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakSet;class l{constructor(){Jr(this,o),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),this.domSanitizer=$t(Gs),this.subscriptionService=$t(kM),this.uniqueIdService=$t(CE),wn(this,n,new AE),wn(this,t,new DE),wn(this,e,vs({posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""}})),wn(this,r,vs({})),this.errors=gt(this,r).asReadonly(),wn(this,i,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported),this.posts=Fa(()=>{const p=gt(this,e).call(this).posts;return null==p?null:{after:p.after,items:p.items?.map(D=>Nr(this,o,c).call(this,D)),modhash:p.modhash,sort:p.sort,subreddit:p.subreddit}}),this.actions={listPostAsync:E6.bind(this),subscribe:w6.bind(this),unsubscribe:T6.bind(this)}}set_errors(p){null!=p&&gt(this,r).set(p||{})}is_MSE_supported(){return gt(this,i)}get_posts(){return Ho(gt(this,e)).posts}set_posts(p){gt(this,e).mutate(D=>{const H=D.posts;H.after=String.hasData(p.after)?p.after:"",null!=p.items&&(H.items=p.items),H.modhash=String.hasData(p.modhash)?p.modhash:"",null!=p.sort&&(H.sort=p.sort),null!=p.subreddit&&(H.subreddit=p.subreddit)}),this.set_errors(null)}}function c(u){const p=JSON.parse(JSON.stringify(u));return p.images&&(p.images=p.images.map(D=>Object.freeze(D))),p.videos&&(p.videos=p.videos.map(D=>Object.freeze(D))),Object.freeze(p)}return l.\u0275fac=function(p){return new(p||l)},l.\u0275prov=bn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const S6=function(n){return{display:n}};function C6(n,t){if(1&n){const e=co();cn(0,"a",14),pr("click",function(){const o=he(e).$implicit;return j(Hn(2).change_sort(o))}),xr(1),un()}if(2&n){const e=t.$implicit,r=Hn().ngIf;Yt("ngStyle",ga(2,S6,r.sort===e?"none":"inherit")),Qt(1),To(" ",e," ")}}function A6(n,t){if(1&n){const e=co();za(0),cn(1,"div",1)(2,"div",2),xr(3),un(),cn(4,"button",3),xr(5),Wn(6,"mat-icon",4),un(),cn(7,"button",5),Wn(8,"mat-icon",6),un()(),cn(9,"mat-menu",null,7),kn(11,C6,2,4,"a",8),un(),cn(12,"mat-menu",9,10)(14,"mat-icon",11),pr("click",function(){return he(e),j(Hn().back_to_home())}),un(),Wn(15,"mat-icon",12)(16,"mat-icon",13),un(),Ga()}if(2&n){const e=t.ngIf,r=Gi(10),i=Gi(13),o=Hn();Qt(3),To(" ",e.subreddit.includes("+")?"multi":e.subreddit," "),Qt(1),Yt("matMenuTriggerFor",r),Qt(1),To(" ",e.sort," "),Qt(2),Yt("matMenuTriggerFor",i),Qt(4),Yt("ngForOf",o.POST_SORT)}}let D6=(()=>{var n=new WeakMap;class t{constructor(){An(this,n,{writable:!0,value:void 0}),wn(this,n,$t(Is)),this.POST_SORT=v6,this.controller=$t(Eg)}change_sort(r){var i=this;return pi(function*(){gt(i,n).raise(new ux(r))})()}back_to_home(){gt(this,n).raise(xM)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ur({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){1&r&&kn(0,A6,17,5,"ng-container",0),2&r&&Yt("ngIf",i.controller.posts())},dependencies:[to,wl,pm,Rs,lh,gg,qo,Qa,Nc,TE,uh,SE,Wa],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0}),t})();const I6=["*",[["mat-toolbar-row"]]],M6=["*","mat-toolbar-row"],R6=qm(class{constructor(n){this._elementRef=n}});let dx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Bn({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),x6=(()=>{class n extends R6{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(no),yt(Ar))},n.\u0275cmp=ur({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&Go(i,dx,5),2&e){let o;si(o=ai())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&wi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[yr],ngContentSelectors:M6,decls:2,vars:0,template:function(e,r){1&e&&(ha(I6),xi(0),xi(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),n})(),fh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[io,io]}),n})();class fx extends Rl{constructor(t){super(),this.article=t}}function N6(n,t){if(1&n){const e=co();cn(0,"button",4),pr("click",function(){return he(e),j(Hn().on_share_click())}),Wn(1,"mat-icon",5),un()}}function O6(n,t){if(1&n&&(cn(0,"button",6),Wn(1,"mat-icon",7),xr(2),_a(3,"count"),un()),2&n){const e=Hn();Qt(2),To(" ",ya(3,1,e.data.ups),"\n")}}function P6(n,t){if(1&n&&(cn(0,"button",6),Wn(1,"mat-icon",8),xr(2),_a(3,"count"),un()),2&n){const e=Hn();Qt(2),To(" ",ya(3,1,e.data.downs),"\n")}}let k6=(()=>{var n=new WeakMap,t=new WeakMap;class e{constructor(){An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),wn(this,n,$t(Is)),wn(this,t,""),this._can_share="share"in window.navigator,this.controller=$t(Eg),wn(this,t,document.baseURI),gt(this,t).endsWith("/")&&wn(this,t,gt(this,t).slice(0,-1))}on_share_click(){const i=`${gt(this,t)}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:i})}on_comment_click(){gt(this,n).raise(new fx(this.data.id))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ur({type:e,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(i,o){1&i&&(kn(0,N6,2,0,"button",0),cn(1,"button",1),pr("click",function(){return o.on_comment_click()}),Wn(2,"mat-icon",2),xr(3),_a(4,"count"),un(),kn(5,O6,4,3,"button",3),kn(6,P6,4,3,"button",3)),2&i&&(Yt("ngIf",o._can_share),Qt(3),To(" ",ya(4,4,o.data.num_comments),"\n"),Qt(2),Yt("ngIf",o.data.ups>0),Qt(1),Yt("ngIf",o.data.downs>0))},dependencies:[OM,Rs,lh,gg,qo,Qa,Nc,ed,fh,to],changeDetection:0}),e})();class hh extends Rl{constructor(t){super(),this.subreddit_requested=t}}function F6(n,t){if(1&n){const e=co();cn(0,"a",9),pr("click",function(i){he(e);const o=Hn();return j(o.change_subreddit(i,o.post.subreddit))}),xr(1),un()}if(2&n){const e=Hn();Yt("href","/r/"+e.post.subreddit,ac),Qt(1),To(" r/",e.post.subreddit," ")}}function L6(n,t){if(1&n){const e=co();cn(0,"mat-icon",12),pr("click",function(){he(e);const i=Hn(2);return j(i.controller.actions.subscribe(i.post.subreddit))}),un()}}function B6(n,t){if(1&n){const e=co();cn(0,"mat-icon",13),pr("click",function(){he(e);const i=Hn(2);return j(i.controller.actions.unsubscribe(i.post.subreddit))}),un()}}function U6(n,t){if(1&n&&(za(0),kn(1,L6,1,0,"mat-icon",10),kn(2,B6,1,0,"mat-icon",11),Ga()),2&n){const e=Hn();Qt(1),Yt("ngIf",!e.post.subreddit_subscribed),Qt(1),Yt("ngIf",e.post.subreddit_subscribed)}}function V6(n,t){1&n&&Wn(0,"mat-icon",14)}function j6(n,t){1&n&&Wn(0,"mat-icon",15)}function H6(n,t){1&n&&(cn(0,"a",16),xr(1,"x-post"),un())}const Z6=function(n){return["/u",n]};let z6=(()=>{var n=new WeakMap,t=new WeakSet;class e{constructor(){Jr(this,t),An(this,n,{writable:!0,value:void 0}),wn(this,n,$t(Is)),this.controller=$t(Eg),this.has_image_gallery=!1,this.part_of_multi=!1}set data(o){this.post=o.post,Nr(this,t,r).call(this,o.subreddit)}change_subreddit(o,l){o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),gt(this,n).raise(new hh(l))}}function r(i){this.part_of_multi=this.post.subreddit.toLowerCase()!==i.toLowerCase();const o=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=o.has_image&&o.has_image_gallery}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ur({type:e,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(o,l){1&o&&(cn(0,"section",0)(1,"div",1),xr(2),un(),cn(3,"section",2),kn(4,F6,2,2,"a",3),cn(5,"a",4),xr(6),un(),cn(7,"span"),xr(8),_a(9,"age"),un(),kn(10,U6,3,2,"ng-container",5),kn(11,V6,1,0,"mat-icon",6),kn(12,j6,1,0,"mat-icon",7),kn(13,H6,2,0,"a",8),un()()),2&o&&(Qt(2),xo(l.post.title),Qt(2),Yt("ngIf",l.part_of_multi),Qt(1),Yt("routerLink",ga(11,Z6,l.post.author)),Qt(1),To("u/",l.post.author,""),Qt(2),xo(ya(9,9,l.post.created_utc)),Qt(2),Yt("ngIf",l.part_of_multi),Qt(1),Yt("ngIf",!l.part_of_multi&&l.post.stickied),Qt(1),Yt("ngIf",l.has_image_gallery),Qt(1),Yt("ngIf",l.post.is_crosspost))},dependencies:[NM,Rs,qo,Qa,Nc,ed,fh,to,Wa],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0}),e})();function G6(n,t){1&n&&Wn(0,"post-body",0),2&n&&Yt("data",Hn().post)}const q6=function(n,t){return{post:n,subreddit:t}};let hx=(()=>{class n{constructor(){this.subreddit="",this.show_body=!0}set data(e){this.post=e.item,this.subreddit=e.subreddit,this.show_body=!e.item.stickied||!e.hide_stickied}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(e,r){1&e&&(Wn(0,"post-header",0),kn(1,G6,1,1,"post-body",1),Wn(2,"post-footer",0)),2&e&&(Yt("data",jy(3,q6,r.post,r.subreddit)),Qt(1),Yt("ngIf",r.show_body),Qt(1),Yt("data",r.post))},dependencies:[to,R4,k6,z6],changeDetection:0}),n})();function od(n,t,e){return function Y6(n,t){if(n!==t)throw new TypeError("Private static access of wrong provenance")}(n,t),e}Ni(307);class $6{}class xs{static sort(t,e,r){let i;t.sort((o,l)=>{let c=0,u=o[e],p=l[e];return null==u&&null==p?0:(null==u&&(void 0===i&&(i=od(this,xs,px).call(this,p)),u=i),null==p&&(void 0===i&&(i=od(this,xs,px).call(this,u)),p=i),"string"==typeof u&&(c=u.localeCompare(p)),"number"==typeof u&&(c=u-p),"boolean"==typeof u&&(c=u===p?0:u?1:-1),u instanceof Date&&(c=u.valueOf()-p.valueOf()),"desc"===r&&(c=-c),c)})}static fromParamMap(t,e){const r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);const i=xs.adapt(t,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;const l=e.getAll(o);i[o]="string"!=typeof l?1!==l.length?l:l[0].split(","):l.split(",")}),i}static adapt(t,e){if(null==t)return null;"function"==typeof t&&(t=new t);const r="string"==typeof e?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{const l=o[0].toLowerCase()+o.slice(1);i[l]=r[o]}),od(this,xs,W6).call(this,t,i),Object.keys(t).filter(o=>"object"==typeof t[o]&&t[o]instanceof $6).forEach(o=>this.adapt(t[o],o in i?i[o]:od(this,xs,Q6).call(this,i,`${o}_`))),t}}function px(n){switch(typeof n){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return n instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}function W6(n,t){null==n||null==t||od(this,xs,X6).call(this,n).forEach(e=>{if(void 0===t[e])return;let r=typeof n[e];if("object"===r)switch(Reflect.getMetadata("design:type",n,e)){case String:r="string";break;case Boolean:r="boolean";break;case Number:r="number"}switch(r){case"string":n[e]=null===t[e]?n[e]:"string"==typeof t[e]?t[e]:t[e].toString();break;case"boolean":n[e]=null===t[e]?n[e]:od(this,xs,K6).call(this,t[e]);break;case"number":n[e]=null===t[e]?n[e]:"number"==typeof t[e]?t[e]:Number(t[e]);break;case"object":if((n[e]instanceof Date||Reflect.getMetadata("design:type",n,e)===Date)&&(n[e]=t[e]instanceof Date?t[e]:String.hasData(t[e])?new Date(t[e]):null),Array.isArray(n[e])&&Array.isArray(t[e])&&Reflect.hasMetadata("design:type",n,e)){const i=Reflect.getMetadata("design:type",n,e);t[e].forEach(o=>n[e].push(xs.adapt(i,o)))}}})}function K6(n){const t=typeof n;return"boolean"===t?n:"string"===t?"true"===n.toLowerCase():!!n}function X6(n){let t=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const e=[];do{Object.getOwnPropertyNames(n).forEach(r=>!e.includes(r)&&e.push(r))}while((n=Object.getPrototypeOf(n))&&!t.includes(n));return e}function Q6(n,t){const e={};return Object.keys(n).filter(r=>r.startsWith(t)).forEach(r=>e[r.replace(t,"")]=n[r]),e}class ph{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(t,e){const r=new ph;return r.addError(t,e),r}addError(t,e){if(e&&String.hasData(e)){const i=e.split(".");let o=this.errors;for(let l=0;l<i.length;l++){const c=i[l],u=c[0].toLowerCase()+c.slice(1);l<i.length-1?(o[u]={},o=o[u]):o[u]=t}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),t.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(t),void(this.hasErrors=!0);const r=t[0].toLowerCase()+t.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}function J6(n,t){1&n&&(cn(0,"mat-toolbar-row")(1,"span"),xr(2,"You are not authorized."),un()())}function eq(n,t){1&n&&(cn(0,"mat-toolbar-row")(1,"span"),xr(2,"Not found."),un()())}function tq(n,t){if(1&n&&(cn(0,"mat-toolbar-row")(1,"span",4),xr(2),un()()),2&n){const e=t.$implicit;Qt(2),xo(e)}}function nq(n,t){if(1&n&&(cn(0,"mat-toolbar",1),kn(1,J6,3,0,"mat-toolbar-row",2),kn(2,eq,3,0,"mat-toolbar-row",2),kn(3,tq,3,1,"mat-toolbar-row",3),un()),2&n){const e=Hn();Qt(1),Yt("ngIf",null==e._errors.general?null:e._errors.general.forbidden),Qt(1),Yt("ngIf",null==e._errors.general?null:e._errors.general.notFound),Qt(1),Yt("ngForOf",null==e._errors.general?null:e._errors.general.default)}}let xE=(()=>{class n{set errors(e){this._errors=e instanceof Error?ph.CreateErrorResult(`${e.message} `).errors:e instanceof ph?e.errors:"string"!=typeof e&&"number"!=typeof e?e:ph.CreateErrorResult(`${e} `).errors}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(e,r){1&e&&kn(0,nq,4,3,"mat-toolbar",0),2&e&&Yt("ngIf",null==r._errors?null:r._errors.general)},dependencies:[fh,x6,dx,wl,to],styles:["[_nghost-%COMP%]{width:100%}"]}),n})();class mx extends Rl{constructor(t){super(),this.sort_requested=t}}const rq=["best","confidence","top","new","controversial","old"];function sq(n,t){return NE.apply(this,arguments)}function NE(){return(NE=pi(function*(n,t,e=""){this.set_post_comments({items:[],post:null});let r=new URLSearchParams;r.set("sort",`${t}`),r.set("limit","100"),r.set("raw_json","1"),r.set("threaded","false"),String.hasData(e)&&r.set("comment",e);const i=new URL(`https://www.reddit.com/comments/${n}.json`);i.search=`${r}`;try{const o=yield fetch(i);if(!o.ok)return void this.set_errors(o.statusText);const l=yield o.json(),c=l[0],u=l[1];if(u.kind!==Ds.Listing)return void this.set_errors(`Comment listing's kind isn't ${Ds.Listing}, its ${u.kind} instead`);if(u.data?.children.some(H=>H.kind!==Ds.Comment&&H.kind!==Ds.More))return void this.set_errors(`Not all of comment listing's children are of kind ${Ds.Comment} or ${Ds.More}`);const p=u.data.children.filter(H=>H.kind==Ds.Comment&&null!=H.data).map(H=>function iq(n){let t={};return function oq(n,t){t.author=n.author,t.body_html=n.body_html,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.stickied=n.stickied,t.ups=n.ups}(n,t),t}(H.data)),D=Lb(c.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:n,items:p,sort:t,post:D})}catch(o){this.set_errors(o)}})).apply(this,arguments)}let gx=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakSet;class l{constructor(){Jr(this,o),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),this.domSanitizer=$t(Gs),this.uniqueIdService=$t(CE),wn(this,n,new AE),wn(this,t,new DE),wn(this,e,vs({post_comments:{article:"",items:null,sort:"best",post:null}})),wn(this,r,vs({})),this.errors=gt(this,r).asReadonly(),wn(this,i,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported),this.post_comments=Fa(()=>{const p=gt(this,e).call(this).post_comments;return null==p||null==p.items?null:{items:p.items?.map(D=>Nr(this,o,c).call(this,D)),sort:p.sort,post:p.post}}),this.actions={listCommentAsync:sq.bind(this)}}set_errors(p){null!=p&&gt(this,r).set(p||{})}is_MSE_supported(){return gt(this,i)}set_post_comments(p){gt(this,e).mutate(D=>{const H=D.post_comments;H.article=String.hasData(p.article)?p.article:"",void 0!==p.items&&(H.items=p.items),null!=p.sort&&(H.sort=p.sort),void 0!==p.post&&(H.post=p.post)}),this.set_errors(null)}}function c(u){const p=JSON.parse(JSON.stringify(u));return Object.freeze(p)}return l.\u0275fac=function(p){return new(p||l)},l.\u0275prov=bn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const aq=function(n){return{display:n}};function lq(n,t){if(1&n){const e=co();cn(0,"a",13),pr("click",function(){const o=he(e).$implicit;return j(Hn(2).change_sort(o))}),xr(1),un()}if(2&n){const e=t.$implicit,r=Hn().ngIf;Yt("ngStyle",ga(2,aq,r.sort===e?"none":"inherit")),Qt(1),To(" ",e," ")}}function cq(n,t){if(1&n&&(za(0),cn(1,"div",1)(2,"span"),xr(3,"Comments"),un(),cn(4,"button",2),xr(5),Wn(6,"mat-icon",3),un(),cn(7,"button",4),Wn(8,"mat-icon",5),un()(),cn(9,"mat-menu",null,6),kn(11,lq,2,4,"a",7),un(),cn(12,"mat-menu",8,9),Wn(14,"mat-icon",10)(15,"mat-icon",11)(16,"mat-icon",12),un(),Ga()),2&n){const e=t.ngIf,r=Gi(10),i=Gi(13),o=Hn();Qt(4),Yt("matMenuTriggerFor",r),Qt(1),To(" ",e.sort," "),Qt(2),Yt("matMenuTriggerFor",i),Qt(4),Yt("ngForOf",o.POST_COMMENT_SORT)}}let uq=(()=>{var n=new WeakMap;class t{constructor(){An(this,n,{writable:!0,value:void 0}),wn(this,n,$t(Is)),this.POST_COMMENT_SORT=rq,this.controller=$t(gx)}change_sort(r){var i=this;return pi(function*(){gt(i,n).raise(new mx(r))})()}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ur({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){1&r&&kn(0,cq,17,4,"ng-container",0),2&r&&Yt("ngIf",i.controller.post_comments())},dependencies:[Rs,lh,gg,qo,Qa,Nc,TE,uh,SE,wl,to,pm,Wa],changeDetection:0}),t})(),dq=(()=>{class n{constructor(){this.data=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"data"]],template:function(e,r){1&e&&Wn(0,"text-block",0),2&e&&Yt("data",null==r.data?null:r.data.body_html)},dependencies:[hb],changeDetection:0}),n})();function fq(n,t){if(1&n&&(cn(0,"button",1),Wn(1,"mat-icon",2),xr(2),_a(3,"count"),un()),2&n){const e=Hn();Qt(2),To(" ",ya(3,1,e.data.ups),"\n")}}function hq(n,t){if(1&n&&(cn(0,"button",1),Wn(1,"mat-icon",3),xr(2),_a(3,"count"),un()),2&n){const e=Hn();Qt(2),To(" ",ya(3,1,e.data.downs),"\n")}}let pq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["post-comment-footer"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:2,vars:2,consts:[["mat-button","","disableRipple","",4,"ngIf"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(e,r){1&e&&(kn(0,fq,4,3,"button",0),kn(1,hq,4,3,"button",0)),2&e&&(Yt("ngIf",r.data.ups>0),Qt(1),Yt("ngIf",r.data.downs>0))},dependencies:[OM,Rs,lh,qo,Qa,Nc,ed,fh,to],changeDetection:0}),n})();function mq(n,t){1&n&&Wn(0,"mat-icon",3)}const gq=function(n){return["/u",n]};let _q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(e,r){1&e&&(cn(0,"section",0)(1,"a",1),xr(2),un(),cn(3,"span"),xr(4),_a(5,"age"),un(),kn(6,mq,1,0,"mat-icon",2),un()),2&e&&(Qt(1),Yt("routerLink",ga(6,gq,r.data.author)),Qt(1),To("u/",r.data.author,""),Qt(2),xo(ya(5,4,r.data.created_utc)),Qt(2),Yt("ngIf",r.data.stickied))},dependencies:[NM,qo,Qa,to,Wa],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0}),n})(),yq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:3,consts:[[3,"data"]],template:function(e,r){1&e&&Wn(0,"post-comment-header",0)(1,"post-comment-body",0)(2,"post-comment-footer",0),2&e&&(Yt("data",r.data),Qt(1),Yt("data",r.data),Qt(1),Yt("data",r.data))},dependencies:[_q,dq,pq],changeDetection:0}),n})();const vq=function(n){return{item:n,subreddit:"",hide_stickied:!1,show_comments:!1}};function bq(n,t){if(1&n&&Wn(0,"post",5),2&n){const e=Hn().ngIf;Yt("data",ga(1,vq,e.post))}}function Eq(n,t){1&n&&Wn(0,"post-comment",5),2&n&&Yt("data",t.$implicit)}function wq(n,t){if(1&n&&(cn(0,"div",2),kn(1,bq,1,3,"post",3),kn(2,Eq,1,1,"post-comment",4),un()),2&n){const e=t.ngIf,r=Hn();Qt(1),Yt("ngIf",e.post),Qt(1),Yt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}let _x=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakSet,o=new WeakSet,l=new WeakSet,c=new WeakSet;class u{constructor(){var qe=this;Jr(this,c),Jr(this,l),Jr(this,o),Jr(this,i),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),wn(this,n,$t(Is)),wn(this,t,$t(Bo)),wn(this,e,$t(Ta)),wn(this,r,{a:"",i:"",so:"best"}),this.controller=$t(gx),Io(gt(this,n).handle(mx).pipe(li(vt=>Nr(this,i,p).call(this,vt))),gt(this,n).handle(hh).pipe(li(vt=>Nr(this,o,D).call(this,vt))),gt(this,e).paramMap.pipe(li(function(){var vt=pi(function*(Nt){return yield Nr(qe,c,Ee).call(qe,Nt)});return function(Nt){return vt.apply(this,arguments)}}()))).pipe(td()).subscribe()}trackByFn(qe,vt){return vt.id}go_to_top(){window.scrollTo(0,0)}}function p(xe){gt(this,r).so=xe.sort_requested,Nr(this,l,H).call(this,!0)}function D(xe){gt(this,t).navigate(["r",xe.subreddit_requested])}function H(xe=!1){let qe=Object.trimUnusedProperties(gt(this,r));delete qe.a,gt(this,t).navigate(["comments",gt(this,r).a,qe],{replaceUrl:xe})}function Ee(xe){return De.apply(this,arguments)}function De(){return(De=pi(function*(xe){try{gt(this,n).raise(Cc),wn(this,r,{a:"",i:"",so:"best"}),xs.fromParamMap(gt(this,r),xe),yield this.controller.actions.listCommentAsync(gt(this,r).a,gt(this,r).so,gt(this,r).i),setTimeout(()=>window.scrollTo(0,0),0)}finally{gt(this,n).raise(Ac)}})).apply(this,arguments)}return u.\u0275fac=function(qe){return new(qe||u)},u.\u0275cmp=ur({type:u,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"]],template:function(qe,vt){1&qe&&(Wn(0,"page-header")(1,"general-error",0),kn(2,wq,3,3,"div",1)),2&qe&&(Qt(1),Yt("errors",vt.controller.errors()),Qt(1),Yt("ngIf",vt.controller.post_comments()))},dependencies:[xE,Rs,qo,wl,to,yq,uq,hx],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0}),u})();const Tq=function(n,t){return{item:n,subreddit:t,hide_stickied:!0,show_comments:!0}};function Sq(n,t){if(1&n&&Wn(0,"post",6),2&n){const e=t.$implicit,r=Hn().ngIf;Yt("id",e.id)("data",jy(2,Tq,e,r.subreddit))}}function Cq(n,t){if(1&n){const e=co();cn(0,"div",2),kn(1,Sq,1,5,"post",3),cn(2,"div",4)(3,"button",5),pr("click",function(){const o=he(e).ngIf;return j(Hn().next_page(o.after,o.modhash))}),xr(4,"Next"),un()()()}if(2&n){const e=t.ngIf,r=Hn();Qt(1),Yt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}let Aq=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakSet,l=new WeakSet,c=new WeakSet,u=new WeakSet,p=new WeakSet,D=new WeakSet;class H{constructor(){var Dn=this;Jr(this,D),Jr(this,p),Jr(this,u),Jr(this,c),Jr(this,l),Jr(this,o),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),wn(this,n,$t(Is)),wn(this,t,$t(Bo)),wn(this,e,$t(Ta)),wn(this,r,$t(Lm)),wn(this,i,{a:"",m:"",so:"hot",su:""}),this.controller=$t(Eg),this.id="",Io(gt(this,n).handle(xM).pipe(li(Ln=>Nr(this,o,Ee).call(this))),gt(this,n).handle(ux).pipe(li(Ln=>Nr(this,l,De).call(this,Ln))),gt(this,n).handle(hh).pipe(li(Ln=>Nr(this,c,xe).call(this,Ln))),gt(this,n).handle(fx).pipe(li(Ln=>Nr(this,u,qe).call(this,Ln))),gt(this,e).paramMap.pipe(li(function(){var Ln=pi(function*(zr){return yield Nr(Dn,D,Nt).call(Dn,zr)});return function(zr){return Ln.apply(this,arguments)}}()))).pipe(td()).subscribe()}trackByFn(Dn,Ln){return`${Ln.id}${Ln.subreddit_subscribed}`}next_page(Dn,Ln){gt(this,i).a=Dn,gt(this,i).m=Ln,this.go_to_top(),setTimeout(()=>{gt(this,r).save(),Nr(this,p,vt).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}function Ee(){gt(this,i).a="",gt(this,i).m="",gt(this,i).so="hot",gt(this,i).su="frontpage",Nr(this,p,vt).call(this)}function De(dn){gt(this,i).a="",gt(this,i).m="",gt(this,i).so=dn.sort_requested,Nr(this,p,vt).call(this)}function xe(dn){gt(this,i).a="",gt(this,i).m="",gt(this,i).su=dn.subreddit_requested,Nr(this,p,vt).call(this)}function qe(dn){this.id=dn.article,gt(this,r).save("post",dn.article),gt(this,t).navigate(["comments",dn.article])}function vt(){let dn=Object.trimUnusedProperties(gt(this,i));delete dn.su,gt(this,t).navigate(["r",gt(this,i).su,dn])}function Nt(dn){return Ct.apply(this,arguments)}function Ct(){return(Ct=pi(function*(dn){gt(this,n).raise(Cc),wn(this,i,{a:"",m:"",so:"hot",su:""}),xs.fromParamMap(gt(this,i),dn),yield this.controller.actions.listPostAsync(gt(this,i).a,gt(this,i).m,gt(this,i).so,gt(this,i).su),gt(this,r).restore(),gt(this,n).raise(Ac)})).apply(this,arguments)}return H.\u0275fac=function(Dn){return new(Dn||H)},H.\u0275cmp=ur({type:H,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],[1,"mat-elevation-z5",3,"id","data"]],template:function(Dn,Ln){1&Dn&&(Wn(0,"page-header")(1,"general-error",0),kn(2,Cq,5,2,"div",1)),2&Dn&&(Qt(1),Yt("errors",Ln.controller.errors()),Qt(1),Yt("ngIf",Ln.controller.posts()))},dependencies:[xE,Rs,lh,qo,wl,to,hx,D6],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0}),H})(),Dq=(()=>{var n=new WeakMap,t=new WeakSet;class e{constructor(){Jr(this,t),An(this,n,{writable:!0,value:'input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select'})}focusFirst(){window.setTimeout(()=>{const o=document.querySelectorAll(gt(this,n));0!==o.length&&o[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const o=Array.from(document.querySelectorAll(gt(this,n))).filter(l=>Nr(this,t,r).call(this,l));0!==o.length&&o[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const o=Array.from(document.querySelectorAll(gt(this,n)));if(0===o.length)return;let l=o.findIndex(c=>c===document.activeElement);for(l<0&&(l=0);l<o.length;){if(Nr(this,t,r).call(this,o[l]))return void o[l].focus();l++}},50)}}function r(i){return i instanceof HTMLInputElement||i instanceof HTMLSelectElement||i instanceof HTMLTextAreaElement?!i.disabled&&String.isNullOrWhitespace(i.value):"MAT-SELECT"===i.nodeName&&String.isNullOrWhitespace(i.innerText)}return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=bn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Iq=(()=>{class n{scrollIntoView(){window.setTimeout(()=>{let e=document.querySelector(".generalError");if(e)return void e.scrollIntoView({behavior:"smooth"});if(e=document.querySelector(".mat-form-field-invalid,.has-error"),!e)return;e.scrollIntoView({behavior:"smooth",block:"nearest"});const r=e.querySelector("input");if(r)return r.select(),void r.focus();const i=e.querySelector("select,mat-select");i&&i.focus()},50)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yx=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(yt(ja),yt(Rr))},n.\u0275dir=Bn({type:n}),n})(),Oc=(()=>{class n extends yx{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qi(n)))(r||n)}}(),n.\u0275dir=Bn({type:n,features:[yr]}),n})();const $s=new ln("NgValueAccessor"),Rq={provide:$s,useExisting:Sr(()=>wg),multi:!0},Nq=new ln("CompositionEventMode");let wg=(()=>{class n extends yx{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xq(){const n=El()?El().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(yt(ja),yt(Rr),yt(Nq,8))},n.\u0275dir=Bn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&pr("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Xr([Rq]),yr]}),n})();function kl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function bx(n){return null!=n&&"number"==typeof n.length}const Co=new ln("NgValidators"),Fl=new ln("NgAsyncValidators"),Oq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pq{static min(t){return function Ex(n){return t=>{if(kl(t.value)||kl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function wx(n){return t=>{if(kl(t.value)||kl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Tx(t)}static requiredTrue(t){return function Sx(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Cx(n){return kl(n.value)||Oq.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Ax(n){return t=>kl(t.value)||!bx(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Dx(n){return t=>bx(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Ix(n){if(!n)return Tg;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(kl(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Px(t)}static composeAsync(t){return kx(t)}}function Tx(n){return kl(n.value)?{required:!0}:null}function Tg(n){return null}function Mx(n){return null!=n}function Rx(n){return df(n)?Mi(n):n}function xx(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Nx(n,t){return t.map(e=>e(n))}function Ox(n){return n.map(t=>function kq(n){return!n.validate}(t)?t:e=>t.validate(e))}function Px(n){if(!n)return null;const t=n.filter(Mx);return 0==t.length?null:function(e){return xx(Nx(e,t))}}function OE(n){return null!=n?Px(Ox(n)):null}function kx(n){if(!n)return null;const t=n.filter(Mx);return 0==t.length?null:function(e){return fM(Nx(e,t).map(Rx)).pipe(ye(xx))}}function PE(n){return null!=n?kx(Ox(n)):null}function Fx(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Lx(n){return n._rawValidators}function Bx(n){return n._rawAsyncValidators}function kE(n){return n?Array.isArray(n)?n:[n]:[]}function Sg(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ux(n,t){const e=kE(t);return kE(n).forEach(i=>{Sg(e,i)||e.push(i)}),e}function Vx(n,t){return kE(t).filter(e=>!Sg(n,e))}class jx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=OE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=PE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Uo extends jx{get formDirective(){return null}get path(){return null}}class tl extends jx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hx{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let FE=(()=>{class n extends Hx{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(yt(tl,2))},n.\u0275dir=Bn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&wi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[yr]}),n})();const mh="VALID",Ag="INVALID",sd="PENDING",gh="DISABLED";function UE(n){return(Dg(n)?n.validators:n)||null}function VE(n,t){return(Dg(t)?t.asyncValidators:n)||null}function Dg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class qx{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===mh}get invalid(){return this.status===Ag}get pending(){return this.status==sd}get disabled(){return this.status===gh}get enabled(){return this.status!==gh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ux(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ux(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Vx(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Vx(t,this._rawAsyncValidators))}hasValidator(t){return Sg(this._rawValidators,t)}hasAsyncValidator(t){return Sg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=sd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gh,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mh||this.status===sd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gh:mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=sd,this._hasOwnPendingAsyncValidator=!0;const e=Rx(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ni,this.statusChanges=new ni}_calculateStatus(){return this._allControlsDisabled()?gh:this.errors?Ag:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sd)?sd:this._anyControlsHaveStatus(Ag)?Ag:mh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Dg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Vq(n){return Array.isArray(n)?OE(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function jq(n){return Array.isArray(n)?PE(n):n||null}(this._rawAsyncValidators)}}class jE extends qx{constructor(t,e,r){super(UE(e),VE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Gx(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new Gt(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function zx(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new Gt(1e3,"");if(!r[e])throw new Gt(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ad=new ln("CallSetDisabledState",{providedIn:"root",factory:()=>Ig}),Ig="always";function _h(n,t,e=Ig){HE(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function zq(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Yx(n,t)})}(n,t),function qq(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Gq(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Yx(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Zq(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Rg(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ng(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xg(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function HE(n,t){const e=Lx(n);null!==t.validator?n.setValidators(Fx(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Bx(n);null!==t.asyncValidator?n.setAsyncValidators(Fx(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xg(t._rawValidators,i),xg(t._rawAsyncValidators,i)}function Ng(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=Lx(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=Bx(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return xg(t._rawValidators,r),xg(t._rawAsyncValidators,r),e}function Yx(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $x(n,t){HE(n,t)}function Wx(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Xq={provide:Uo,useExisting:Sr(()=>Og)},yh=(()=>Promise.resolve())();let Og=(()=>{class n extends Uo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ni,this.form=new jE({},OE(e),PE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){yh.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),_h(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){yh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){yh.then(()=>{const r=this._findContainer(e.path),i=new jE({});$x(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){yh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){yh.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Wx(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(yt(Co,10),yt(Fl,10),yt(ad,8))},n.\u0275dir=Bn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&pr("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xr([Xq]),yr]}),n})();function Kx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Xx(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Qx=class extends qx{constructor(t=null,e,r){super(UE(e),VE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Xx(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Kx(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Kx(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Xx(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},eY={provide:tl,useExisting:Sr(()=>Pg)},t1=(()=>Promise.resolve())();let Pg=(()=>{class n extends tl{constructor(e,r,i,o,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this.control=new Qx,this._registered=!1,this.name="",this.update=new ni,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function GE(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===wg?e=o:function Wq(n){return Object.getPrototypeOf(n.constructor)===Oc}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function zE(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_h(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){t1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&ju(r);t1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Mg(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(yt(Uo,9),yt(Co,10),yt(Fl,10),yt($s,10),yt(ko,8),yt(ad,8))},n.\u0275dir=Bn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xr([eY]),yr,lo]}),n})(),r1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({}),n})();const aY={provide:Uo,useExisting:Sr(()=>kg)};let kg=(()=>{class n extends Uo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ni,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ng(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return _h(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Rg(e.control||null,e,!1),function Kq(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,Wx(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Rg(r||null,e),(n=>n instanceof Qx)(i)&&(_h(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);$x(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Yq(n,t){return Ng(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){HE(this.form,this),this._oldForm&&Ng(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(yt(Co,10),yt(Fl,10),yt(ad,8))},n.\u0275dir=Bn({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&pr("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xr([aY]),yr,lo]}),n})(),Pc=(()=>{class n{constructor(){this._validator=Tg}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tg,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Bn({type:n,features:[lo]}),n})();const vY={provide:Co,useExisting:Sr(()=>Fg),multi:!0};let Fg=(()=>{class n extends Pc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ju,this.createValidator=e=>Tx}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qi(n)))(r||n)}}(),n.\u0275dir=Bn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&oi("required",r._enabled?"":null)},inputs:{required:"required"},features:[Xr([vY]),yr]}),n})(),CY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[r1]}),n})(),w1=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ad,useValue:e.callSetDisabledState??Ig}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[CY]}),n})(),DY=(()=>{class n{constructor(){this._listeners=[]}notify(e,r){for(let i of this._listeners)i(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IY=["input"],MY=["*"];let T1=0;class S1{constructor(t,e){this.source=t,this.value=e}}const RY={provide:$s,useExisting:Sr(()=>A1),multi:!0},C1=new ln("MatRadioGroup"),xY=new ln("mat-radio-default-options",{providedIn:"root",factory:function NY(){return{color:"accent"}}});let OY=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=So(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=So(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+T1++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new ni}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new S1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(yt(ko))},n.\u0275dir=Bn({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class PY{constructor(t){this._elementRef=t}}const kY=Mb(SZ(PY));let FY=(()=>{class n extends kY{get checked(){return this._checked}set checked(e){const r=So(e);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(So(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=So(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,r,i,o,l,c,u,p){super(r),this._changeDetector=i,this._focusMonitor=o,this._radioDispatcher=l,this._providerOverride=u,this._uniqueId="mat-radio-"+ ++T1,this.id=this._uniqueId,this.change=new ni,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===c,p&&(this.tabIndex=Ec(p,0))}focus(e,r){r?this._focusMonitor.focusVia(this._inputElement,r,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,r)=>{e!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new S1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let r;if(r=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}}return n.\u0275fac=function(e){Mp()},n.\u0275dir=Bn({type:n,viewQuery:function(e,r){if(1&e&&Oo(IY,5),2&e){let i;si(i=ai())&&(r._inputElement=i.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[yr]}),n})(),A1=(()=>{class n extends OY{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qi(n)))(r||n)}}(),n.\u0275dir=Bn({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,r,i){if(1&e&&Go(i,D1,5),2&e){let o;si(o=ai())&&(r._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[Xr([RY,{provide:C1,useExisting:n}]),yr]}),n})(),D1=(()=>{class n extends FY{constructor(e,r,i,o,l,c,u,p){super(e,r,i,o,l,c,u,p)}}return n.\u0275fac=function(e){return new(e||n)(yt(C1,8),yt(Rr),yt(ko),yt($f),yt(DY),yt(ws,8),yt(xY,8),ic("tabindex"))},n.\u0275cmp=ur({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(e,r){1&e&&pr("focus",function(){return r._inputElement.nativeElement.focus()}),2&e&&(oi("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),wi("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[yr],ngContentSelectors:MY,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(e,r){if(1&e&&(ha(),cn(0,"div",0,1)(2,"div",2)(3,"div",3),pr("click",function(o){return r._onTouchTargetClick(o)}),un(),cn(4,"input",4,5),pr("change",function(o){return r._onInputInteraction(o)}),un(),cn(6,"div",6),Wn(7,"div",7)(8,"div",8),un(),cn(9,"div",9),Wn(10,"div",10),un()(),cn(11,"label",11),xi(12),un()()),2&e){const i=Gi(1);wi("mdc-form-field--align-end","before"==r.labelPosition),Qt(2),wi("mdc-radio--disabled",r.disabled),Qt(2),Yt("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),oi("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),Qt(5),Yt("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),Qt(2),Yt("for",r.inputId)}},dependencies:[Rb],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),LY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[io,Cf,ed,io]}),n})();function BY(n){Ho(this.request)!=n&&this.update_state({request:n,search_result_reddit:null,search_result_reddit_names:null})}function UY(n){Ho(this.search_kind)!=n&&this.update_state({search_kind:n})}function VY(){return KE.apply(this,arguments)}function KE(){return(KE=pi(function*(){const n=Ho(this.request);try{const t=yield jY.call(this,n);this.update_state({request:n,search_result_reddit:t})}catch(t){this.update_state({errors:t})}})).apply(this,arguments)}function jY(n){return XE.apply(this,arguments)}function XE(){return(XE=pi(function*(n){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -wiki`)}&num=40`,i=yield fetch(r);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const p=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:p})}else l.innerHTML=this.domSanitizer.sanitize(zi.HTML,o);const c=[],u=l.querySelectorAll('a[href*="reddit.com/r/"]');for(let p=0;p<u.length;p++){const D=u[p];if(!D.hasChildNodes()||!Array.from(D.childNodes).some(dn=>dn.textContent?.includes("reddit.com")))continue;const H=D.href.indexOf("reddit.com/r/")+13,Ee=D.href.indexOf("?",H);let De=D.href.slice(H,Ee);if(De.endsWith("/")&&(De=De.slice(0,-1)),null!=c.find(dn=>dn.url==De))continue;const qe=D.href.indexOf("/",H),vt=D.href.slice(H,qe),Nt=D.childNodes.length-1,Ct=D.childNodes[Nt].textContent?.split(" : r/")[0]||"";c.push({text:Ct,display_name:vt,url:De})}return c})).apply(this,arguments)}function HY(){return QE.apply(this,arguments)}function QE(){return(QE=pi(function*(){const n=Ho(this.request);try{const e=(yield ZY.call(this,n)).filter(r=>null!=r).map(r=>({accounts_active:0,display_name:r,public_description_html:"",subscribers:0,title:"",url:"",id:""}));this.update_state({request:n,search_result_reddit_names:e})}catch(t){this.update_state({errors:t})}})).apply(this,arguments)}function ZY(n){return JE.apply(this,arguments)}function JE(){return(JE=pi(function*(n){const t=[zY.call(this,n),GY.call(this,n)],r=(yield Promise.allSettled(t)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function zY(n){return e0.apply(this,arguments)}function e0(){return(e0=pi(function*(n){const t=new URLSearchParams;t.set("query",n),t.set("exact","false"),t.set("include_over_18","true"),t.set("typeahead_active","false"),t.set("include_unadvertisable","true");const e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${t}`;try{const r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function GY(n){return t0.apply(this,arguments)}function t0(){return(t0=pi(function*(n){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -comments -wiki`)}&num=60`,i=yield fetch(r);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const u=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:u})}else l.innerHTML=this.domSanitizer.sanitize(zi.HTML,o);const c=[];return l.querySelectorAll('a[href*="reddit.com/r/"]').forEach(u=>{const p=u,D=p.href.indexOf("reddit.com/r/")+13,H=p.href.indexOf("/",D),Ee=decodeURIComponent(p.href.slice(D,H));Ee.includes("+")?Ee.split("+").forEach(De=>!c.includes(De)&&c.push(De)):!c.includes(Ee)&&c.push(Ee)}),c})).apply(this,arguments)}function qY(){return r0.apply(this,arguments)}function r0(){return(r0=pi(function*(){const n=Ho(this.request);if(String.isNullOrWhitespace(n))return;const t=Ho(this.search_kind);"Reddit"!=t?"RedditNames"!=t||null==Ho(this.search_result_reddit_names)&&(yield HY.call(this)):null==Ho(this.search_result_reddit)&&(yield VY.call(this))})).apply(this,arguments)}let vh=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap;class r{constructor(){An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),this.domSanitizer=$t(Gs),wn(this,n,new AE),wn(this,t,new DE),wn(this,e,{errors:vs({}),request:vs(""),search_kind:vs("RedditNames"),search_result_reddit_names:vs(null),search_result_reddit:vs(null)}),this.errors=Fa(()=>Object.freeze(structuredClone(gt(this,e).errors()))),this.request=Fa(()=>gt(this,e).request()),this.search_kind=Fa(()=>gt(this,e).search_kind()),this.search_result_reddit_names=Fa(()=>gt(this,e).search_result_reddit_names()),this.search_result_reddit=Fa(()=>gt(this,e).search_result_reddit()),this.actions={updateSearchKind:UY.bind(this),updateRequest:BY.bind(this),searchAsync:qY.bind(this)}}update_state(o){void 0!==o.errors&&gt(this,e).errors.set(o.errors||{}),void 0!==o.request&&gt(this,e).request.set(o.request||""),void 0!==o.search_kind&&gt(this,e).search_kind.set(o.search_kind||"RedditNames"),void 0!==o.search_result_reddit&&gt(this,e).search_result_reddit.set(o.search_result_reddit),void 0!==o.search_result_reddit_names&&gt(this,e).search_result_reddit_names.set(o.search_result_reddit_names)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=bn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),YY=(()=>{var n=new WeakMap;class t{constructor(){An(this,n,{writable:!0,value:void 0}),wn(this,n,$t(Is)),this.store=$t(vh)}onSearchKindChangeAsync(r){var i=this;return pi(function*(){gt(i,n).raise(Cc),i.store.actions.updateSearchKind(r.value),yield i.store.actions.searchAsync(),gt(i,n).raise(Ac)})()}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ur({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:14,vars:2,consts:[[1,"toolbar"],[3,"ngModel","change"],["value","RedditNames"],["value","Reddit"],["type","button","mat-icon-button","","aria-label","menu",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"]],template:function(r,i){if(1&r&&(cn(0,"div",0),xr(1," Search "),cn(2,"mat-radio-group",1),pr("change",function(l){return i.onSearchKindChangeAsync(l)}),cn(3,"mat-radio-button",2),xr(4,"Reddit Names"),un(),cn(5,"mat-radio-button",3),xr(6,"Reddit"),un()(),cn(7,"button",4),Wn(8,"mat-icon",5),un()(),cn(9,"mat-menu",6,7),Wn(11,"mat-icon",8)(12,"mat-icon",9)(13,"mat-icon",10),un()),2&r){const o=Gi(10);Qt(2),Yt("ngModel",i.store.search_kind()),Qt(5),Yt("matMenuTriggerFor",o)}},dependencies:[w1,FE,Pg,Rs,gg,qo,Qa,Nc,TE,SE,LY,A1,D1,Wa],changeDetection:0}),t})();const I1=vc({passive:!0});let $Y=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Pn;const r=Dl(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new ft,l="cdk-text-field-autofilled",c=u=>{"cdk-text-field-autofill-start"!==u.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===u.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",c,I1),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",c,I1)}}),o}stopMonitoring(e){const r=Dl(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(Xt(no),Xt(cr))},n.\u0275prov=bn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({}),n})();const KY=new ln("MAT_INPUT_VALUE_ACCESSOR"),XY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let QY=0;const JY=CZ(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new ft}});let e$=(()=>{class n extends JY{get disabled(){return this._disabled}set disabled(e){this._disabled=So(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Pq.required)??!1}set required(e){this._required=So(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&VI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=So(e)}constructor(e,r,i,o,l,c,u,p,D,H){super(c,o,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=p,this._formField=H,this._uid="mat-input-"+QY++,this.focused=!1,this.stateChanges=new ft,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(xe=>VI().has(xe)),this._iOSKeyupListener=xe=>{const qe=xe.target;!qe.value&&0===qe.selectionStart&&0===qe.selectionEnd&&(qe.setSelectionRange(1,1),qe.setSelectionRange(0,0))};const Ee=this._elementRef.nativeElement,De=Ee.nodeName.toLowerCase();this._inputValueAccessor=u||Ee,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===De,this._isTextarea="textarea"===De,this._isInFormField=!!H,this._isNativeSelect&&(this.controlType=Ee.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){XY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(yt(Rr),yt(no),yt(tl,10),yt(Og,8),yt(kg,8),yt(oM),yt(KY,10),yt($Y),yt(cr),yt(xR,8))},n.\u0275dir=Bn({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,r){1&e&&pr("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(hf("id",r.id)("disabled",r.disabled)("required",r.required),oi("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),wi("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Xr([{provide:RR,useExisting:n}]),yr,lo]}),n})(),t$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({imports:[io,gE,gE,WY,io]}),n})();const n$=["tooltip"],M1=new ln("mat-tooltip-scroll-strategy"),o$={provide:M1,deps:[id],useFactory:function i$(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},a$=new ln("mat-tooltip-default-options",{providedIn:"root",factory:function s$(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),R1="tooltip-panel",x1=vc({passive:!0});let h$=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=So(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=So(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ec(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ec(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,i,o,l,c,u,p,D,H,Ee,De){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=l,this._platform=c,this._ariaDescriber=u,this._focusMonitor=p,this._dir=H,this._defaultOptions=Ee,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ft,this._scrollStrategy=D,this._document=De,Ee&&(this._showDelay=Ee.showDelay,this._hideDelay=Ee.hideDelay,Ee.position&&(this.position=Ee.position),Ee.positionAtOrigin&&(this.positionAtOrigin=Ee.positionAtOrigin),Ee.touchGestures&&(this.touchGestures=Ee.touchGestures)),H.change.pipe(ro(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ro(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,x1)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new ZR(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(ro(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Rr)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(ro(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${R1}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ro(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ro(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ro(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!vb(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Lo(1),ro(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let l;if(l="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",l!==this._currentPosition){const c=this._overlayRef;if(c){const u=`${this._cssClassPrefix}-${R1}-`;c.removePanelClass(u+this._currentPosition),c.addPanelClass(u+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(r=e),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const r=e.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,x1)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Mp()},n.\u0275dir=Bn({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),p$=(()=>{class n extends h${constructor(e,r,i,o,l,c,u,p,D,H,Ee,De){super(e,r,i,o,l,c,u,p,D,H,Ee,De),this._tooltipComponent=g$,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const i=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=i?-8:8:"end"===e.originX&&(e.offsetX=i?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(yt(id),yt(Rr),yt(YR),yt(as),yt(cr),yt(no),yt(iZ),yt($f),yt(M1),yt(Gm,8),yt(a$,8),yt(Ar))},n.\u0275dir=Bn({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,r){2&e&&wi("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[yr]}),n})(),m$=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ft,this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(r);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(yt(ko),yt(ws,8))},n.\u0275dir=Bn({type:n}),n})(),g$=(()=>{class n extends m${constructor(e,r,i){super(e,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(yt(ko),yt(Rr),yt(ws,8))},n.\u0275cmp=ur({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&Oo(n$,7),2&e){let i;si(i=ai())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&pr("mouseleave",function(o){return r._handleMouseLeave(o)}),2&e&&Pu("zoom",r.isVisible()?1:null)},features:[yr],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,r){1&e&&(cn(0,"div",0,1),pr("animationend",function(o){return r._handleAnimationEnd(o)}),cn(2,"div",2),xr(3),un()()),2&e&&(wi("mdc-tooltip--multiline",r._isMultiline),Yt("ngClass",r.tooltipClass),Qt(3),xo(r.message))},dependencies:[Zu],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),_$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=di({type:n}),n.\u0275inj=jr({providers:[o$],imports:[_Z,Cf,sx,io,io,vg]}),n})();class y${static debounce(t,e=300){let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>t(...o),e)}}}function v$(n,t){if(1&n){const e=co();cn(0,"mat-icon",7),pr("click",function(){return he(e),j(Hn().onClear())}),un()}}function b$(n,t){if(1&n&&(cn(0,"mat-hint",8),xr(1),un()),2&n){const e=Hn();Qt(1),xo(e.hint)}}function E$(n,t){if(1&n&&(cn(0,"mat-hint",9),xr(1),un()),2&n){const e=Hn(),r=Gi(4);Qt(1),Hp("",r.value.length," / ",e._maxlength," ")}}function w$(n,t){if(1&n&&(cn(0,"mat-error"),xr(1),un()),2&n){const e=Hn();Qt(1),xo(e.errMsg)}}const T$=function(n){return{readonly:n}};let S$=(()=>{var n=new WeakMap,t=new WeakSet;class e{set model(o){this._model=o??""}set maxlength(o){!isNaN(o)&&o>0&&(this._maxlength=o)}set style(o){this._style=this.sanitizer.bypassSecurityTrustStyle(o)}constructor(o,l){Jr(this,t),An(this,n,{writable:!0,value:void 0}),this.sanitizer=o,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.updateOnInput=!1,this._model="",this._maxlength=256,this.inputName=l.getUniqueId().toString(),this.modelChange=new ni,this.errorStateMatcher=new oM,this.errorStateMatcher.isErrorState=()=>!this.disabled&&!this.readonly&&String.hasData(this.errMsg),wn(this,n,y$.debounce(()=>Nr(this,t,r).call(this)))}onClear(){this._model="",Nr(this,t,r).call(this)}onChange(){!this.updateOnInput&&Nr(this,t,r).call(this)}onInput(){this.updateOnInput&&gt(this,n).call(this)}}function r(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}return e.\u0275fac=function(o){return new(o||e)(yt(Gs),yt(CE))},e.\u0275cmp=ur({type:e,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",updateOnInput:"updateOnInput",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[Qr],decls:9,vars:17,consts:[[2,"width","100%",3,"ngClass"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","input"],["inp",""],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start",4,"ngIf"],["align","end",4,"ngIf"],[4,"ngIf"],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click"],["align","start"],["align","end"]],template:function(o,l){1&o&&(cn(0,"mat-form-field",0)(1,"mat-label"),xr(2),un(),cn(3,"input",1,2),pr("ngModelChange",function(u){return l._model=u})("change",function(){return l.onChange()})("input",function(){return l.onInput()}),un(),kn(5,v$,1,0,"mat-icon",3),kn(6,b$,2,1,"mat-hint",4),kn(7,E$,2,2,"mat-hint",5),kn(8,w$,2,1,"mat-error",6),un()),2&o&&(Yt("ngClass",ga(15,T$,l.readonly)),Qt(2),xo(l.label),Qt(1),Yt("placeholder",l.placeholder)("readonly",l.readonly)("disabled",l.disabled)("required",l.required)("ngModel",l._model)("errorStateMatcher",l.errorStateMatcher),oi("name",l.inputName)("maxlength",l._maxlength)("style",l._style,Dw),Qt(2),Yt("ngIf",!l.readonly&&!l.disabled),Qt(1),Yt("ngIf",!l.readonly&&!l.disabled),Qt(1),Yt("ngIf",!l.readonly&&!l.disabled&&l._maxlength),Qt(1),Yt("ngIf",!l.readonly&&!l.disabled))},dependencies:[w1,wg,FE,Fg,Pg,qo,Qa,gE,nG,pE,mE,$z,Xz,t$,e$,_$,p$,Zu,to],encapsulation:2}),e})(),C$=(()=>{var n=new WeakMap;class t{constructor(){An(this,n,{writable:!0,value:void 0}),wn(this,n,$t(Is)),this.store=$t(vh)}ngOnInit(){}onModelChange(r){var i=this;return pi(function*(){gt(i,n).raise(Cc),i.store.actions.updateRequest(r),yield i.store.actions.searchAsync(),gt(i,n).raise(Ac)})()}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ur({type:t,selectors:[["search-input"]],standalone:!0,features:[Qr],decls:3,vars:1,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10","top","50px"],[3,"model","modelChange"],["inp",""]],template:function(r,i){1&r&&(cn(0,"div",0)(1,"input-text",1,2),pr("modelChange",function(l){return i.onModelChange(l)}),un()()),2&r&&(Qt(1),Yt("model",i.store.request()))},dependencies:[S$,Rs,qo,Nc,fh],changeDetection:0}),t})(),A$=(()=>{var n=new WeakMap,t=new WeakMap;class e{constructor(){An(this,n,{writable:!0,value:$t(Ta)}),An(this,t,{writable:!0,value:$t(Bo)})}on_click(i,o){i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),gt(this,t).navigate(["/r"].concat(o.url.split("/")),{relativeTo:gt(this,n)})}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ur({type:e,selectors:[["search-result-reddit"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:4,vars:3,consts:[[3,"href","click"],[3,"data"]],template:function(i,o){1&i&&(cn(0,"header")(1,"a",0),pr("click",function(c){return o.on_click(c,o.data)}),xr(2),un()(),Wn(3,"text-block",1)),2&i&&(Qt(1),Yt("href","/r"+o.data.display_name,ac),Qt(1),xo(o.data.display_name),Qt(1),Yt("data",o.data.text))},dependencies:[Rs,qo,hb],changeDetection:0}),e})(),D$=(()=>{var n=new WeakMap;class t{constructor(){An(this,n,{writable:!0,value:void 0}),wn(this,n,$t(Is)),this.store=$t(vh)}change_subreddit(r,i){r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation(),gt(this,n).raise(new hh(i))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ur({type:t,selectors:[["search-result-reddit-names"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"href","click"]],template:function(r,i){1&r&&(cn(0,"header")(1,"a",0),pr("click",function(l){return i.change_subreddit(l,i.data.display_name)}),xr(2),un()()),2&r&&(Qt(1),Yt("href","/r"+i.data.display_name,ac),Qt(1),xo(i.data.display_name))},dependencies:[Rs,qo],changeDetection:0}),t})();function I$(n,t){if(1&n&&Wn(0,"search-result-reddit-names",4),2&n){const e=t.$implicit;Yt("id",e.display_name)("data",e)}}function M$(n,t){if(1&n&&(cn(0,"div",2),kn(1,I$,1,2,"search-result-reddit-names",3),un()),2&n){const e=t.ngIf,r=Hn(2);Qt(1),Yt("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function R$(n,t){if(1&n&&(za(0),kn(1,M$,2,2,"div",1),Ga()),2&n){const e=Hn();Qt(1),Yt("ngIf",e.store.search_result_reddit_names())}}function x$(n,t){if(1&n&&Wn(0,"search-result-reddit",6),2&n){const e=t.$implicit;Yt("id",e.display_name)("data",e)}}function N$(n,t){if(1&n&&(cn(0,"div",2),kn(1,x$,1,2,"search-result-reddit",5),un()),2&n){const e=t.ngIf,r=Hn(2);Qt(1),Yt("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function O$(n,t){if(1&n&&(za(0),kn(1,N$,2,2,"div",1),Ga()),2&n){const e=Hn();Qt(1),Yt("ngIf",e.store.search_result_reddit())}}let P$=(()=>{class n{constructor(){this.store=$t(vh)}trackByFn(e,r){return r.display_name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ur({type:n,selectors:[["search-result"]],standalone:!0,features:[Qr],decls:2,vars:2,consts:[[4,"ngIf"],["class","layout",4,"ngIf"],[1,"layout"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","data"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(e,r){1&e&&(kn(0,R$,2,1,"ng-container",0),kn(1,O$,2,1,"ng-container",0)),2&e&&(Yt("ngIf","RedditNames"===r.store.search_kind()),Qt(1),Yt("ngIf","Reddit"===r.store.search_kind()))},dependencies:[wl,to,A$,D$],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0}),n})();class k${constructor(){this.q="",this.k=0}}const F$=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:Aq},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a",component:_x},{path:"comments/:a/:i",component:_x},{path:"s",component:(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakSet,u=new WeakSet,p=new WeakSet,D=new WeakSet;class H{constructor(){Jr(this,D),Jr(this,p),Jr(this,u),Jr(this,c),An(this,n,{writable:!0,value:void 0}),An(this,t,{writable:!0,value:void 0}),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),An(this,l,{writable:!0,value:void 0}),wn(this,n,$t(Dq)),wn(this,t,$t(Iq)),wn(this,e,$t(Is)),wn(this,r,!0),wn(this,i,$t(Ta)),wn(this,o,$t(Bo)),wn(this,l,$t(Lm)),this.pageState=new k$,this.store=$t(vh),vy(()=>{const Nt=this.store.errors();Object.keys(Nt).length>0&&gt(this,t).scrollIntoView()}),vy(()=>{const Nt=this.store.request(),Ct=this.store.search_kind();gt(this,r)?wn(this,r,!1):(Nr(this,p,xe).call(this,Nt,Ct),Nr(this,D,qe).call(this))}),Io(gt(this,e).handle(hh).pipe(li(Nt=>Nr(this,c,Ee).call(this,Nt)))).pipe(td()).subscribe()}ngOnInit(){var Nt=this;return pi(function*(){gt(Nt,e).raise(Cc),xs.adapt(Nt.pageState,gt(Nt,i).snapshot.queryParams),Nr(Nt,u,De).call(Nt),yield Nt.store.actions.searchAsync(),gt(Nt,l).restore(),gt(Nt,n).focusFirst(),gt(Nt,e).raise(Ac)})()}}function Ee(vt){gt(this,l).save(),gt(this,o).navigate(["r",vt.subreddit_requested])}function De(){this.store.actions.updateRequest(this.pageState.q),this.store.actions.updateSearchKind(1==this.pageState.k?"Reddit":"RedditNames")}function xe(vt,Nt){this.pageState.k="Reddit"===Nt?1:0,this.pageState.q=vt}function qe(){const vt=Object.trimUnusedProperties(Object.assign({},this.pageState));gt(this,o).navigate([],{queryParams:vt,replaceUrl:!0})}return H.\u0275fac=function(Nt){return new(Nt||H)},H.\u0275cmp=ur({type:H,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:4,vars:1,consts:[[3,"errors"]],template:function(Nt,Ct){1&Nt&&Wn(0,"page-header")(1,"general-error",0)(2,"search-input")(3,"search-result"),2&Nt&&(Qt(1),Yt("errors",Ct.store.errors()))},dependencies:[xE,Rs,C$,YY,P$],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0}),H})()}];(function PV(n,t){return W2({rootComponent:n,...TD(t)})})(g5,{providers:[[{provide:sA,useFactory:function mz(n,t){return pi(function*(){const r=[{name:"arrow_downward",url:"assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"arrow_upward",url:"assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"clear",url:"assets/cancel_FILL0_wght400_GRAD0_opsz24.svg"},{name:"comment",url:"assets/comment_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_more",url:"assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg"},{name:"favorite_filled",url:"assets/favorite_FILL1_wght400_GRAD0_opsz24.svg"},{name:"favorite",url:"assets/favorite_FILL0_wght400_GRAD0_opsz24.svg"},{name:"groups",url:"assets/groups_FILL0_wght400_GRAD0_opsz24.svg"},{name:"home",url:"assets/home_FILL0_wght400_GRAD0_opsz24.svg"},{name:"more_vert",url:"assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg"},{name:"pause",url:"assets/pause_FILL0_wght400_GRAD0_opsz24.svg"},{name:"person",url:"assets/person_FILL0_wght400_GRAD0_opsz24.svg"},{name:"photo_library",url:"assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg"},{name:"play_arrow",url:"assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg"},{name:"push_pin",url:"assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg"},{name:"search",url:"assets/search_FILL0_wght400_GRAD0_opsz24.svg"},{name:"share",url:"assets/share_FILL0_wght400_GRAD0_opsz24.svg"},{name:"trending_up",url:"assets/trending_up_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_mute",url:"assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_off",url:"assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"}].map(i=>function gz(n){return hE.apply(this,arguments)}(i.url).then(o=>n.addSvgIconLiteral(i.name,t.bypassSecurityTrustHtml(o))));yield Promise.allSettled(r)})},multi:!0,deps:[eh,Gs]}],[{provide:Bb,useValue:{keyPrefix:"RedditReader"}}],[{provide:NR,useValue:{subscriptSizing:"dynamic"}},{provide:sG,useValue:{duration:3e3}}],function pz(){return[...fz]}(),function dH(n,...t){return U_([{provide:km,multi:!0,useValue:n},[],{provide:Ta,useFactory:OI,deps:[Bo]},{provide:cv,multi:!0,useFactory:PI},t.map(e=>e.\u0275providers)])}(F$)]}).catch(n=>console.error(n))},584:rl=>{self,rl.exports=(()=>{var il={4593:(St,He)=>{var L,be,P,d,f,g={};L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",be=function(S){for(var x=0,h=[],v=0|S.length/3;0<v--;){var w=(S[x]<<16)+(S[x+1]<<8)+S[x+2];x+=3,h.push(L.charAt(63&w>>18)),h.push(L.charAt(63&w>>12)),h.push(L.charAt(63&w>>6)),h.push(L.charAt(63&w))}return S.length-x==2?(h.push(L.charAt(63&(w=(S[x]<<16)+(S[x+1]<<8))>>18)),h.push(L.charAt(63&w>>12)),h.push(L.charAt(63&w>>6)),h.push("=")):S.length-x==1&&(h.push(L.charAt(63&(w=S[x]<<16)>>18)),h.push(L.charAt(63&w>>12)),h.push("==")),h.join("")},P=function(){for(var S=[],x=0;x<64;++x)S[L.charCodeAt(x)]=x;return S["=".charCodeAt(0)]=0,S}(),d=function(S){for(var x=0,h=[],v=0|S.length/4;0<v--;){var w=(P[S.charCodeAt(x)]<<18)+(P[S.charCodeAt(x+1)]<<12)+(P[S.charCodeAt(x+2)]<<6)+P[S.charCodeAt(x+3)];h.push(255&w>>16),h.push(255&w>>8),h.push(255&w),x+=4}return h&&("="==S.charAt(x-2)?(h.pop(),h.pop()):"="==S.charAt(x-1)&&h.pop()),h},f={encode:function(S){for(var x=[],h=0;h<S.length;++h)x.push(S.charCodeAt(h));return x},decode:function(S){for(var x=0;x<s.length;++x)a[x]=String.fromCharCode(a[x]);return a.join("")}},g.decodeArray=function(S){var x=d(S);return new Uint8Array(x)},g.encodeASCII=function(S){var x=f.encode(S);return be(x)},g.decodeASCII=function(S){var x=d(S);return f.decode(x)},g.encode=function(S){var x=function(S){for(var x=[],h=0;h<S.length;++h){var v=S.charCodeAt(h);v<128?x.push(v):v<2048?(x.push(192|v>>6),x.push(128|63&v)):v<65536?(x.push(224|v>>12),x.push(128|63&v>>6),x.push(128|63&v)):(x.push(240|v>>18),x.push(128|63&v>>12),x.push(128|63&v>>6),x.push(128|63&v))}return x}(S);return be(x)},g.decode=function(S){return function(S){for(var x=[],h=0;h<S.length;){var v=S[h++];v<128||(v<224?(v=(31&v)<<6,v|=63&S[h++]):v<240?(v=(15&v)<<12,v|=(63&S[h++])<<6,v|=63&S[h++]):(v=(7&v)<<18,v|=(63&S[h++])<<12,v|=(63&S[h++])<<6,v|=63&S[h++])),x.push(String.fromCharCode(v))}return x.join("")}(d(S))},He.decode=g.decode,He.decodeArray=g.decodeArray,He.encode=g.encode,He.encodeASCII=g.encodeASCII},452:(St,He)=>{!function(L){"use strict";var be={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},P=function(Z){var k=Z;return be.hasOwnProperty(Z)&&(k=be[Z]),String.fromCharCode(k)},d=15,f=32,N={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},T={17:2,18:4,21:6,22:8,23:10,19:13,20:15},g={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},S={25:2,26:4,29:6,30:8,31:10,27:13,28:15},x=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(Z){this.time=Z},log:function(Z,k){this.verboseLevel>=this.verboseFilter[Z]&&console.log(this.time+" ["+Z+"] "+k)}},v=function(Z){for(var k=[],K=0;K<Z.length;K++)k.push(Z[K].toString(16));return k},w=function(Z,k,K,de,ce){this.foreground=Z||"white",this.underline=k||!1,this.italics=K||!1,this.background=de||"black",this.flash=ce||!1};w.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(Z){for(var k=["foreground","underline","italics","background","flash"],K=0;K<k.length;K++){var de=k[K];Z.hasOwnProperty(de)&&(this[de]=Z[de])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(Z){return this.foreground===Z.foreground&&this.underline===Z.underline&&this.italics===Z.italics&&this.background===Z.background&&this.flash===Z.flash},copy:function(Z){this.foreground=Z.foreground,this.underline=Z.underline,this.italics=Z.italics,this.background=Z.background,this.flash=Z.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var q=function(Z,k,K,de,ce,ze){this.uchar=Z||" ",this.penState=new w(k,K,de,ce,ze)};q.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(Z,k){this.uchar=Z,this.penState.copy(k)},setPenState:function(Z){this.penState.copy(Z)},equals:function(Z){return this.uchar===Z.uchar&&this.penState.equals(Z.penState)},copy:function(Z){this.uchar=Z.uchar,this.penState.copy(Z.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var W=function(){this.chars=[];for(var Z=0;Z<f;Z++)this.chars.push(new q);this.pos=0,this.currPenState=new w};W.prototype={equals:function(Z){for(var k=!0,K=0;K<f;K++)if(!this.chars[K].equals(Z.chars[K])){k=!1;break}return k},copy:function(Z){for(var k=0;k<f;k++)this.chars[k].copy(Z.chars[k])},isEmpty:function(){for(var Z=!0,k=0;k<f;k++)if(!this.chars[k].isEmpty()){Z=!1;break}return Z},setCursor:function(Z){this.pos!==Z&&(this.pos=Z),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>f&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=f)},moveCursor:function(Z){var k=this.pos+Z;if(Z>1)for(var K=this.pos+1;K<k+1;K++)this.chars[K].setPenState(this.currPenState);this.setCursor(k)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(Z){Z>=144&&this.backSpace();var k=P(Z);this.pos>=f?h.log("ERROR","Cannot insert "+Z.toString(16)+" ("+k+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(k,this.currPenState),this.moveCursor(1))},clearFromPos:function(Z){var k;for(k=Z;k<f;k++)this.chars[k].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var Z=[],k=!0,K=0;K<f;K++){var de=this.chars[K].uchar;" "!==de&&(k=!1),Z.push(de)}return k?"":Z.join("")},setPenStyles:function(Z){this.currPenState.setStyles(Z),this.chars[this.pos].setPenState(this.currPenState)}};var ie=function(){this.rows=[];for(var Z=0;Z<d;Z++)this.rows.push(new W);this.currRow=14,this.nrRollUpRows=null,this.reset()};ie.prototype={reset:function(){for(var Z=0;Z<d;Z++)this.rows[Z].clear();this.currRow=14},equals:function(Z){for(var k=!0,K=0;K<d;K++)if(!this.rows[K].equals(Z.rows[K])){k=!1;break}return k},copy:function(Z){for(var k=0;k<d;k++)this.rows[k].copy(Z.rows[k])},isEmpty:function(){for(var Z=!0,k=0;k<d;k++)if(!this.rows[k].isEmpty()){Z=!1;break}return Z},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(Z){this.rows[this.currRow].insertChar(Z)},setPen:function(Z){this.rows[this.currRow].setPenStyles(Z)},moveCursor:function(Z){this.rows[this.currRow].moveCursor(Z)},setCursor:function(Z){h.log("INFO","setCursor: "+Z),this.rows[this.currRow].setCursor(Z)},setPAC:function(Z){h.log("INFO","pacData = "+JSON.stringify(Z));var k=Z.row-1;this.nrRollUpRows&&k<this.nrRollUpRows-1&&(k=this.nrRollUpRows-1),this.currRow=k;var K=this.rows[this.currRow];if(null!==Z.indent){var ce=Math.max(Z.indent-1,0);K.setCursor(Z.indent),Z.color=K.chars[ce].penState.foreground}this.setPen({foreground:Z.color,underline:Z.underline,italics:Z.italics,background:"black",flash:!1})},setBkgData:function(Z){h.log("INFO","bkgData = "+JSON.stringify(Z)),this.backSpace(),this.setPen(Z),this.insertChar(32)},setRollUpRows:function(Z){this.nrRollUpRows=Z},rollUp:function(){if(null!==this.nrRollUpRows){h.log("TEXT",this.getDisplayText());var k=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];k.clear(),this.rows.splice(this.currRow,0,k),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(Z){Z=Z||!1;for(var k=[],K="",ce=0;ce<d;ce++){var ze=this.rows[ce].getTextString();ze&&k.push(Z?"Row "+(ce+1)+': "'+ze+'"':ze.trim())}return k.length>0&&(K=Z?"["+k.join(" | ")+"]":k.join("\n")),K},getTextAndFormat:function(){return this.rows}};var J=function(Z,k){this.chNr=Z,this.outputFilter=k,this.mode=null,this.verbose=0,this.displayedMemory=new ie,this.nonDisplayedMemory=new ie,this.lastOutputScreen=new ie,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};J.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(Z){this.outputFilter=Z},setPAC:function(Z){this.writeScreen.setPAC(Z)},setBkgData:function(Z){this.writeScreen.setBkgData(Z)},setMode:function(Z){Z!==this.mode&&(this.mode=Z,h.log("INFO","MODE="+Z),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=Z)},insertChars:function(Z){for(var k=0;k<Z.length;k++)this.writeScreen.insertChar(Z[k]);h.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){h.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(Z){h.log("INFO","RU("+Z+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(Z)},cc_FON:function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(h.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var Z=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=Z,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(Z){h.log("INFO","TO("+Z+") - Tab Offset"),this.writeScreen.moveCursor(Z)},cc_MIDROW:function(Z){var k={flash:!1};if(k.underline=Z%2==1,k.italics=Z>=46,k.italics)k.foreground="white";else{var K=Math.floor(Z/2)-16;k.foreground=["white","green","blue","cyan","red","yellow","magenta"][K]}h.log("INFO","MIDROW: "+JSON.stringify(k)),this.writeScreen.setPen(k)},outputDataUpdate:function(){var Z=h.time;null!==Z&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(Z,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,Z,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:Z):this.cueStartTime=Z,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(Z){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,Z,this.displayedMemory),this.cueStartTime=Z))}};var le=function(Z,k,K){this.field=Z||1,this.outputs=[k,K],this.channels=[new J(1,k),new J(2,K)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};le.prototype={getHandler:function(Z){return this.channels[Z].getHandler()},setHandler:function(Z,k){this.channels[Z].setHandler(k)},addData:function(Z,k){var K,de,ce,ze=!1;this.lastTime=Z,h.setTime(Z);for(var st=0;st<k.length;st+=2)ce=127&k[st+1],(de=127&k[st])>=16&&de<=31&&de===this.lastCmdA&&ce===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+v([de,ce])+") is dropped")):0!==de||0!==ce?(h.log("DATA","["+v([k[st],k[st+1]])+"] -> ("+v([de,ce])+")"),(K=this.parseCmd(de,ce))||(K=this.parseMidrow(de,ce)),K||(K=this.parsePAC(de,ce)),K||(K=this.parseBackgroundAttributes(de,ce)),K||(ze=this.parseChars(de,ce))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(ze):h.log("WARNING","No channel found yet. TEXT-MODE?")),K?this.dataCounters.cmd+=2:ze?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+v([de,ce])+" orig: "+v([k[st],k[st+1]])))):this.dataCounters.padding+=2},parseCmd:function(Z,k){var K;if(!((20===Z||21===Z||28===Z||29===Z)&&32<=k&&k<=47||(23===Z||31===Z)&&33<=k&&k<=35))return!1;var de=this.channels[(K=20===Z||21===Z||23===Z?1:2)-1];return 20===Z||21===Z||28===Z||29===Z?32===k?de.cc_RCL():33===k?de.cc_BS():34===k?de.cc_AOF():35===k?de.cc_AON():36===k?de.cc_DER():37===k?de.cc_RU(2):38===k?de.cc_RU(3):39===k?de.cc_RU(4):40===k?de.cc_FON():41===k?de.cc_RDC():42===k?de.cc_TR():43===k?de.cc_RTD():44===k?de.cc_EDM():45===k?de.cc_CR():46===k?de.cc_ENM():47===k&&de.cc_EOC():de.cc_TO(k-32),this.lastCmdA=Z,this.lastCmdB=k,this.currChNr=K,!0},parseMidrow:function(Z,k){var K=null;if((17===Z||25===Z)&&32<=k&&k<=47){if((K=17===Z?1:2)!==this.currChNr)return h.log("ERROR","Mismatch channel in midrow parsing"),!1;var de=this.channels[K-1];return de.insertChars([32]),de.cc_MIDROW(k),h.log("DEBUG","MIDROW ("+v([Z,k])+")"),this.lastCmdA=Z,this.lastCmdB=k,!0}return!1},parsePAC:function(Z,k){var K;if(!((17<=Z&&Z<=23||25<=Z&&Z<=31)&&64<=k&&k<=127||(16===Z||24===Z)&&64<=k&&k<=95))return!1;K=Z<=23?1:2;var ce=this.interpretPAC(64<=k&&k<=95?1===K?N[Z]:g[Z]:1===K?T[Z]:S[Z],k);return this.channels[K-1].setPAC(ce),this.lastCmdA=Z,this.lastCmdB=k,this.currChNr=K,!0},interpretPAC:function(Z,k){var K,de={color:null,italics:!1,indent:null,underline:!1,row:Z};return de.underline=1==(1&(K=k>95?k-96:k-64)),K<=13?de.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(K/2)]:K<=15?(de.italics=!0,de.color="white"):de.indent=4*Math.floor((K-16)/2),de},parseChars:function(Z,k){var ze,K=null,de=null,ce=null;if(Z>=25?(K=2,ce=Z-8):(K=1,ce=Z),17<=ce&&ce<=19?(h.log("INFO","Special char '"+P(ze=17===ce?k+80:18===ce?k+112:k+144)+"' in channel "+K),de=[ze],this.lastCmdA=Z,this.lastCmdB=k):32<=Z&&Z<=127&&(de=0===k?[Z]:[Z,k],this.lastCmdA=null,this.lastCmdB=null),de){var st=v(de);h.log("DEBUG","Char codes =  "+st.join(","))}return de},parseBackgroundAttributes:function(Z,k){var K,de;return((16===Z||24===Z)&&32<=k&&k<=47||(23===Z||31===Z)&&45<=k&&k<=47)&&(K={},16===Z||24===Z?(de=Math.floor((k-32)/2),K.background=x[de],k%2==1&&(K.background=K.background+"_semi")):45===k?K.background="transparent":(K.foreground="black",47===k&&(K.underline=!0)),this.channels[(Z<24?1:2)-1].setBkgData(K),this.lastCmdA=Z,this.lastCmdB=k,!0)},reset:function(){for(var Z=0;Z<this.channels.length;Z++)this.channels[Z]&&this.channels[Z].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(Z){for(var k=0;k<this.channels.length;k++)this.channels[k]&&this.channels[k].cueSplitAtTime(Z)}},L.logger=h,L.PenState=w,L.CaptionScreen=ie,L.Cea608Parser=le,L.findCea608Nalus=function(Z,k,K){for(var de=0,ce=k,ze=[],st=function(Ne,Ve,rt,It){if(4!==Ne||Ve<8)return null;var ft=rt.getUint8(It),Pe=rt.getUint16(It+1),pt=rt.getUint32(It+3),Pt=rt.getUint8(It+7);return 181==ft&&49==Pe&&1195456820==pt&&3==Pt};ce<k+K;){if(de=Z.getUint32(ce),6==(31&Z.getUint8(ce+4)))for(var pe=ce+5,Mt=-1;pe<ce+4+de-1;){Mt=0;for(var je=255;255===je;)Mt+=je=Z.getUint8(pe),pe++;var Ye=0;for(je=255;255===je;)Ye+=je=Z.getUint8(pe),pe++;st(Mt,Ye,Z,pe)&&ze.push([pe,Ye]),pe+=Ye}ce+=de+4}return ze},L.extractCea608DataFromRange=function(Z,k){var K=k[0],de=[[],[]],ce=31&Z.getUint8(K+=8);K+=2;for(var ze=0;ze<ce;ze++){var st=Z.getUint8(K),pe=4&st,Mt=3&st;K++;var je=Z.getUint8(K);K++;var Ye=Z.getUint8(K);K++,pe&&(127&je)+(127&Ye)!=0&&(0===Mt?(de[0].push(je),de[0].push(Ye)):1===Mt&&(de[1].push(je),de[1].push(Ye)))}return de}}(He)},8416:(St,He,L)=>{"use strict";var be=L(7688),P=L(5448),d=L(6398),f=L(2032),N=(L(5530),typeof window<"u"&&window||L.g),T=N.dashjs;T||(T=N.dashjs={}),T.MediaPlayer=be.Z,T.FactoryMaker=P.Z,T.Debug=d.Z,T.Version=(0,f.e)()},6398:(St,He,L)=>{"use strict";L.d(He,{Z:()=>v});var be=L(5595),P=L(8512),d=L(5448),f=1,N=2,T=3,g=4,S=5;function x(w){w=w||{};var q,W,ie,J,Z=(0,be.Z)(this.context).getInstance(),k=w.settings,K=[];function de(Ye){return Ye&&Ye.bind?Ye.bind(window.console):window.console.log.bind(window.console)}function ce(){for(var Ye=arguments.length,Ne=new Array(Ye),Ve=0;Ve<Ye;Ve++)Ne[Ve]=arguments[Ve];je.apply(void 0,[f,this].concat(Ne))}function ze(){for(var Ye=arguments.length,Ne=new Array(Ye),Ve=0;Ve<Ye;Ve++)Ne[Ve]=arguments[Ve];je.apply(void 0,[N,this].concat(Ne))}function st(){for(var Ye=arguments.length,Ne=new Array(Ye),Ve=0;Ve<Ye;Ve++)Ne[Ve]=arguments[Ve];je.apply(void 0,[T,this].concat(Ne))}function pe(){for(var Ye=arguments.length,Ne=new Array(Ye),Ve=0;Ve<Ye;Ve++)Ne[Ve]=arguments[Ve];je.apply(void 0,[g,this].concat(Ne))}function Mt(){for(var Ye=arguments.length,Ne=new Array(Ye),Ve=0;Ve<Ye;Ve++)Ne[Ve]=arguments[Ve];je.apply(void 0,[S,this].concat(Ne))}function je(Ye,Ne){var Ve="",rt=null;W&&(rt=(new Date).getTime(),Ve+="["+(rt-J)+"]"),ie&&Ne&&Ne.getClassName&&(Ve+="["+Ne.getClassName()+"]",Ne.getType&&(Ve+="["+Ne.getType()+"]")),Ve.length>0&&(Ve+=" ");for(var It=arguments.length,ft=new Array(It>2?It-2:0),Pe=2;Pe<It;Pe++)ft[Pe-2]=arguments[Pe];Array.apply(null,ft).forEach(function(pt){Ve+=pt+" "}),K[Ye]&&k&&k.get().debug.logLevel>=Ye&&K[Ye](Ve),k&&k.get().debug.dispatchEvent&&Z.trigger(P.Z.LOG,{message:Ve,level:Ye})}return q={getLogger:function(Ye){return{fatal:ce.bind(Ye),error:ze.bind(Ye),warn:st.bind(Ye),info:pe.bind(Ye),debug:Mt.bind(Ye)}},setLogTimestampVisible:function(Ye){W=Ye},setCalleeNameVisible:function(Ye){ie=Ye}},W=!0,ie=!0,J=(new Date).getTime(),typeof window<"u"&&window.console&&(K[f]=de(window.console.error),K[N]=de(window.console.error),K[T]=de(window.console.warn),K[g]=de(window.console.info),K[S]=de(window.console.debug)),q}x.__dashjs_factory_name="Debug";var h=d.Z.getSingletonFactory(x);h.LOG_LEVEL_NONE=0,h.LOG_LEVEL_FATAL=f,h.LOG_LEVEL_ERROR=N,h.LOG_LEVEL_WARNING=T,h.LOG_LEVEL_INFO=g,h.LOG_LEVEL_DEBUG=S,d.Z.updateSingletonFactory(x.__dashjs_factory_name,h);const v=h},5595:(St,He,L)=>{"use strict";L.d(He,{Z:()=>N});var be=L(5448),P=L(8825);function d(){var T={};function g(x,h,v){var w=-1;return T[x]&&T[x].some(function(q,W){if(q&&q.callback===h&&(!v||v===q.scope))return w=W,!0}),w}var S={on:function(x,h,v){var w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!x)throw new Error("event type cannot be null or undefined");if(!h||"function"!=typeof h)throw new Error("listener must be a function: "+h);var q=w.priority||0;if(!(g(x,h,v)>=0)){T[x]=T[x]||[];var W={callback:h,scope:v,priority:q};v&&v.getStreamId&&(W.streamId=v.getStreamId()),v&&v.getType&&(W.mediaType=v.getType()),w&&w.mode&&(W.mode=w.mode),T[x].some(function(J,le){if(J&&q>J.priority)return T[x].splice(le,0,W),!0})||T[x].push(W)}},off:function(x,h,v){if(x&&h&&T[x]){var w=g(x,h,v);w<0||(T[x][w]=null)}},trigger:function(x){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(x&&T[x]){if((h=h||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");h.type=x,v.streamId&&(h.streamId=v.streamId),v.mediaType&&(h.mediaType=v.mediaType),T[x].filter(function(w){return!(!w||v.streamId&&w.streamId&&w.streamId!==v.streamId||v.mediaType&&w.mediaType&&w.mediaType!==v.mediaType||v.mode&&w.mode&&w.mode!==v.mode||!w.mode&&v.mode&&v.mode===P.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(w){return w&&w.callback.call(w.scope,h)})}},reset:function(){T={}}};return S}d.__dashjs_factory_name="EventBus";var f=be.Z.getSingletonFactory(d);f.EVENT_PRIORITY_LOW=0,f.EVENT_PRIORITY_HIGH=5e3,be.Z.updateSingletonFactory(d.__dashjs_factory_name,f);const N=f},5448:(St,He,L)=>{"use strict";L.d(He,{Z:()=>be});const be=function(){var P,d=[],f={},N={};function T(h,v){for(var w in d){var q=d[w];if(q.context===h&&q.name===v)return q.instance}return null}function g(h,v){return v[h]}function S(h,v,w){h in w&&(w[h]=v)}function x(h,v,w){var q,W=h.__dashjs_factory_name,ie=v[W];if(ie){var J=ie.instance;if(!ie.override)return J.apply({context:v,factory:P},w);for(var le in q=h.apply({context:v},w),J=J.apply({context:v,factory:P,parent:q},w))q.hasOwnProperty(le)&&(q[le]=J[le])}else q=h.apply({context:v},w);return q.getClassName=function(){return W},q}return P={extend:function(h,v,w,q){!q[h]&&v&&(q[h]={instance:v,override:w})},getSingletonInstance:T,setSingletonInstance:function(h,v,w){for(var q in d){var W=d[q];if(W.context===h&&W.name===v)return void(d[q].instance=w)}d.push({name:v,context:h,instance:w})},deleteSingletonInstances:function(h){d=d.filter(function(v){return v.context!==h})},getSingletonFactory:function(h){var v=g(h.__dashjs_factory_name,f);return v||(v=function(w){var q;return void 0===w&&(w={}),{getInstance:function(){return q||(q=T(w,h.__dashjs_factory_name)),q||(q=x(h,w,arguments),d.push({name:h.__dashjs_factory_name,context:w,instance:q})),q}}},f[h.__dashjs_factory_name]=v),v},getSingletonFactoryByName:function(h){return g(h,f)},updateSingletonFactory:function(h,v){S(h,v,f)},getClassFactory:function(h){var v=g(h.__dashjs_factory_name,N);return v||(v=function(w){return void 0===w&&(w={}),{create:function(){return x(h,w,arguments)}}},N[h.__dashjs_factory_name]=v),v},getClassFactoryByName:function(h){return g(h,N)},updateClassFactory:function(h,v){S(h,v,N)}},P}()},1264:(St,He,L)=>{"use strict";L.d(He,{Z:()=>v});var be=L(5448),P=L(703),d=L(6398),f=L(3393),N=L(7855),T=L(5595),g=L(8512);function S(w){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(w)}function x(w,q,W){return q in w?Object.defineProperty(w,q,{value:W,enumerable:!0,configurable:!0,writable:!0}):w[q]=W,w}function h(){var w,q,ie=(0,T.Z)(this.context).getInstance(),J={"streaming.delay.liveDelay":g.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":g.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},le={debug:{logLevel:d.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:f.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:f.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:f.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:f.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(w={},x(w,N.w.MPD_TYPE,500),x(w,N.w.XLINK_EXPANSION_TYPE,500),x(w,N.w.MEDIA_SEGMENT_TYPE,1e3),x(w,N.w.INIT_SEGMENT_TYPE,1e3),x(w,N.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),x(w,N.w.INDEX_SEGMENT_TYPE,1e3),x(w,N.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),x(w,N.w.LICENSE,1e3),x(w,N.w.OTHER_TYPE,1e3),x(w,"lowLatencyReductionFactor",10),w),retryAttempts:(q={},x(q,N.w.MPD_TYPE,3),x(q,N.w.XLINK_EXPANSION_TYPE,1),x(q,N.w.MEDIA_SEGMENT_TYPE,3),x(q,N.w.INIT_SEGMENT_TYPE,3),x(q,N.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),x(q,N.w.INDEX_SEGMENT_TYPE,3),x(q,N.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),x(q,N.w.LICENSE,3),x(q,N.w.OTHER_TYPE,3),x(q,"lowLatencyMultiplyFactor",5),q),abr:{movingAverageMethod:f.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:f.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:f.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},Z=P.Z.clone(le);function k(K,de,ce){for(var ze in K)K.hasOwnProperty(ze)&&(de.hasOwnProperty(ze)?"object"!==S(K[ze])||K[ze]instanceof Array||null===K[ze]?(de[ze]=P.Z.clone(K[ze]),J[ce+ze]&&ie.trigger(J[ce+ze])):k(K[ze],de[ze],ce.slice()+ze+"."):console.error("Settings parameter "+ce+ze+" is not supported"))}return{get:function(){return Z},update:function(K){"object"===S(K)&&k(K,Z,"")},reset:function(){Z=P.Z.clone(le)}}}h.__dashjs_factory_name="Settings";const v=be.Z.getSingletonFactory(h)},703:(St,He,L)=>{"use strict";L.d(He,{Z:()=>T});var be=L(3875),P=L.n(be),d=L(1067);function f(g){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(g)}const T=function(){function g(){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g)}var x;return x=[{key:"mixin",value:function(h,v,w){var q,W={};if(h)for(var ie in v)v.hasOwnProperty(ie)&&(q=v[ie],ie in h&&(h[ie]===q||ie in W&&W[ie]===q)||(h[ie]="object"===f(h[ie])&&null!==h[ie]?g.mixin(h[ie],q,w):w(q)));return h}},{key:"clone",value:function(h){if(!h||"object"!==f(h))return h;var v;if(h instanceof Array){v=[];for(var w=0,q=h.length;w<q;++w)w in h&&v.push(g.clone(h[w]))}else v={};return g.mixin(v,h,g.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(h,v){try{if(!v||0===v.length)return h;var w=new URL(h);return v.forEach(function(q){q.key&&q.value&&w.searchParams.set(q.key,q.value)}),w.href}catch{return h}}},{key:"parseHttpHeaders",value:function(h){var v={};if(!h)return v;for(var w=h.trim().split("\r\n"),q=0,W=w.length;q<W;q++){var ie=w[q],J=ie.indexOf(": ");J>0&&(v[ie.substring(0,J)]=ie.substring(J+2))}return v}},{key:"generateUuid",value:function(){var h=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var w=(h+16*Math.random())%16|0;return h=Math.floor(h/16),("x"==v?w:3&w|8).toString(16)})}},{key:"generateHashCode",value:function(h){var v=0;if(0===h.length)return v;for(var w=0;w<h.length;w++)v=(v<<5)-v+h.charCodeAt(w),v|=0;return v}},{key:"getRelativeUrl",value:function(h,v){try{var w=new URL(h),q=new URL(v);if(w.protocol=q.protocol,w.origin!==q.origin)return v;var W=P().relative(w.pathname.substr(0,w.pathname.lastIndexOf("/")),q.pathname.substr(0,q.pathname.lastIndexOf("/"))),ie=0===W.length?1:0;return W+=q.pathname.substr(q.pathname.lastIndexOf("/")+ie,q.pathname.length-1),q.pathname.length<W.length?q.pathname:W}catch{return v}}},{key:"parseUserAgent",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var v=null===h&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,d.UAParser)(v)}catch{return{}}}},{key:"stringHasProtocol",value:function(h){return/(http(s?)):\/\//i.test(h)}}],x&&function N(g,S){for(var x=0;x<S.length;x++){var h=S[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,h.key,h)}}(g,x),g}()},2032:(St,He,L)=>{"use strict";function be(){return"4.7.1"}L.d(He,{e:()=>be})},2230:(St,He,L)=>{"use strict";L.d(He,{Z:()=>P});const P=function(){function d(){!function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")}(this,d)}var N;return(N=[{key:"extend",value:function(T,g){if(T){var S=!!g&&g.override,x=!!g&&g.publicOnly;for(var h in T)!T.hasOwnProperty(h)||this[h]&&!S||x&&-1===T[h].indexOf("public_")||(this[h]=T[h])}}}])&&function be(d,f){for(var N=0;N<f.length;N++){var T=f[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}(d.prototype,N),d}()},4351:(St,He,L)=>{"use strict";function be(T){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(T)}function P(T,g){return(P=Object.setPrototypeOf||function(S,x){return S.__proto__=x,S})(T,g)}function f(T){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(T)}L.d(He,{Z:()=>N});const N=function(T){!function(v,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&P(v,w)}(h,T);var g,S,x=(g=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,w=f(g);if(S){var q=f(this).constructor;v=Reflect.construct(w,arguments,q)}else v=w.apply(this,arguments);return function d(T,g){return!g||"object"!==be(g)&&"function"!=typeof g?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(T):g}(this,v)});function h(){var v;return function(w,q){if(!(w instanceof q))throw new TypeError("Cannot call a class as a function")}(this,h),(v=x.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",v.BUFFERING_COMPLETED="bufferingCompleted",v.BUFFER_CLEARED="bufferCleared",v.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",v.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",v.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",v.CMSD_STATIC_HEADER="cmsdStaticHeader",v.CURRENT_TRACK_CHANGED="currentTrackChanged",v.DATA_UPDATE_COMPLETED="dataUpdateCompleted",v.INBAND_EVENTS="inbandEvents",v.INITIAL_STREAM_SWITCH="initialStreamSwitch",v.INIT_FRAGMENT_LOADED="initFragmentLoaded",v.INIT_FRAGMENT_NEEDED="initFragmentNeeded",v.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",v.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",v.LOADING_COMPLETED="loadingCompleted",v.LOADING_PROGRESS="loadingProgress",v.LOADING_DATA_PROGRESS="loadingDataProgress",v.LOADING_ABANDONED="loadingAborted",v.MANIFEST_UPDATED="manifestUpdated",v.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",v.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",v.QUOTA_EXCEEDED="quotaExceeded",v.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",v.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",v.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",v.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",v.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",v.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",v.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",v.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",v.SOURCE_BUFFER_ERROR="sourceBufferError",v.STREAMS_COMPOSED="streamsComposed",v.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",v.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",v.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",v.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",v.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",v.URL_RESOLUTION_FAILED="urlResolutionFailed",v.VIDEO_CHUNK_RECEIVED="videoChunkReceived",v.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",v.XLINK_ELEMENT_LOADED="xlinkElementLoaded",v.XLINK_READY="xlinkReady",v.SEEK_TARGET="seekTarget",v.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",v.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",v.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",v.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",v.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",v}return h}(L(8342).Z)},8512:(St,He,L)=>{"use strict";function be(g){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(g)}function d(g,S){return(d=Object.setPrototypeOf||function(x,h){return x.__proto__=h,x})(g,S)}function N(g){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(g)}L.d(He,{Z:()=>T});const T=new(function(g){!function(w,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(q&&q.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),q&&d(w,q)}(v,g);var S,x,h=(S=v,x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var w,q=N(S);if(x){var W=N(this).constructor;w=Reflect.construct(q,arguments,W)}else w=q.apply(this,arguments);return function f(g,S){return!S||"object"!==be(S)&&"function"!=typeof S?function(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(g):S}(this,w)});function v(){return function P(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,v),h.apply(this,arguments)}return v}(L(4351).Z))},8342:(St,He,L)=>{"use strict";L.d(He,{Z:()=>P});const P=function(){function d(){!function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")}(this,d)}var N;return(N=[{key:"extend",value:function(T,g){if(T){var S=!!g&&g.override,x=!!g&&g.publicOnly;for(var h in T)!T.hasOwnProperty(h)||this[h]&&!S||x&&-1===T[h].indexOf("public_")||(this[h]=T[h])}}}])&&function be(d,f){for(var N=0;N<f.length;N++){var T=f[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}(d.prototype,N),d}()},9326:(St,He,L)=>{"use strict";L.d(He,{Z:()=>S});var be=L(3186),P=L(7855),d=L(5448),f=L(8825),N=L(7387),T=L(1553);function g(x){var h,v,w,q,W,ie=(x=x||{}).eventBus,le=x.urlUtils,Z=x.type,k=x.streamInfo,K=x.segmentsController,de=x.timelineConverter,ce=x.baseURLController;function ze(){return Z}function st(){w=null}function pe(Ne,Ve,rt){var It,ft,Pe=ce.resolve(rt.path),pt={};return Pe&&Ve!==Pe.url&&le.isRelative(Ve)?(It=Pe.url,ft=Pe.serviceLocation,pt=Pe.queryParams,Ve&&(It=le.resolve(Ve,It))):It=Ve,!le.isRelative(It)&&(Ne.url=It,Ne.serviceLocation=ft,Ne.queryParams=pt,!0)}function Mt(Ne,Ve){if(null==Ve)return null;var rt=new be.Z,It=Ve.representation,ft=It.adaptation.period.mpd.manifest.Period_asArray[It.adaptation.period.index].AdaptationSet_asArray[It.adaptation.index].Representation_asArray[It.index].bandwidth,Pe=Ve.media;return Pe=(0,N.vi)(Pe,"Number",Ve.replacementNumber),Pe=(0,N.vi)(Pe,"Time",Ve.replacementTime),Pe=(0,N.vi)(Pe,"Bandwidth",ft),Pe=(0,N.Aj)(Pe,It.id),Pe=(0,N.eR)(Pe),rt.mediaType=ze(),rt.type=P.w.MEDIA_SEGMENT_TYPE,rt.range=Ve.mediaRange,rt.startTime=Ve.presentationStartTime,rt.mediaStartTime=Ve.mediaStartTime,rt.duration=Ve.duration,rt.timescale=It.timescale,rt.availabilityStartTime=Ve.availabilityStartTime,rt.availabilityEndTime=Ve.availabilityEndTime,rt.availabilityTimeComplete=It.availabilityTimeComplete,rt.wallStartTime=Ve.wallStartTime,rt.quality=It.index,rt.index=Ve.index,rt.mediaInfo=Ne,rt.adaptationIndex=It.adaptation.index,rt.representationId=It.id,pe(rt,Pe,It)?rt:void 0}function je(Ne,Ve,rt){var It=null;if(!Ve||!Ve.segmentInfoType)return It;var ft=K.getSegmentByTime(Ve,rt);return ft&&(w=ft,v.debug("Index for time "+rt+" is "+ft.index),It=Mt(Ne,ft)),It}function Ye(){v.debug("Dynamic stream complete"),W=!0}return h={initialize:function(Ne){q=Ne,W=!1,K.initialize(Ne)},getStreamId:function(){return k.id},getType:ze,getStreamInfo:function(){return k},getInitRequest:function(Ne,Ve){return Ve?function(rt,It,ft){var Pe=new be.Z,pt=It.adaptation.period,Pt=pt.start;if(Pe.mediaType=ft,Pe.type=P.w.INIT_SEGMENT_TYPE,Pe.range=It.range,Pe.availabilityStartTime=de.calcAvailabilityStartTimeFromPresentationTime(Pt,It,q),Pe.availabilityEndTime=de.calcAvailabilityEndTimeFromPresentationTime(Pt+pt.duration,It,q),Pe.quality=It.index,Pe.mediaInfo=rt,Pe.representationId=It.id,pe(Pe,It.initialization,It))return Pe.url=(0,N.vi)(Pe.url,"Bandwidth",It.bandwidth),Pe}(Ne,Ve,ze()):null},getSegmentRequestForTime:je,getCurrentIndex:function(){return w?w.index:-1},getNextSegmentRequest:function(Ne,Ve){var rt=null;if(!Ve||!Ve.segmentInfoType)return null;var It=w?w.index+1:0,ft=K.getSegmentByIndex(Ve,It,w?w.mediaStartTime:-1);if(ft)rt=Mt(Ne,ft),w=ft;else{if(q&&!W)return v.debug(ze()+" No segment found at index: "+It+". Wait for next loop"),null;W=!0}return rt},isLastSegmentRequested:function(Ne,Ve){return!(!Ne||!w||!W&&(!isFinite(Ne.adaptation.period.duration)||w.presentationStartTime+w.duration>Ve||!(Ne.mediaFinishedInformation&&!isNaN(Ne.mediaFinishedInformation.numberOfSegments)&&!isNaN(w.index)&&w.index>=Ne.mediaFinishedInformation.numberOfSegments-1&&(!q||Ne.segmentInfoType===T.Z.SEGMENT_TEMPLATE||q&&Ne.segmentInfoType===T.Z.SEGMENT_LIST&&Ne.adaptation.period.nextPeriodId)||q&&Ne.adaptation.period.nextPeriodId&&Ne.segmentInfoType===T.Z.SEGMENT_TIMELINE&&Ne.mediaFinishedInformation&&!isNaN(Ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&w&&!isNaN(w.mediaStartTime)&&!isNaN(w.duration)&&w.mediaStartTime+w.duration>=Ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)))},reset:function(){st(),ie.off(f.Z.DYNAMIC_TO_STATIC,Ye,h)},getNextSegmentRequestIdempotent:function(Ne,Ve){var It=K.getSegmentByIndex(Ve,w?w.index+1:0,w?w.mediaStartTime:-1);return It?Mt(Ne,It):null},getValidTimeAheadOfTargetTime:function(Ne,Ve,rt,It){try{if(isNaN(Ne)||!Ve||!rt)return NaN;if(Ne<0&&(Ne=0),isNaN(It)&&(It=.5),je(Ve,rt,Ne))return Ne;if(rt.adaptation.period.start+rt.adaptation.period.duration<Ne)return NaN;for(var ft=isFinite(rt.adaptation.period.duration)?rt.adaptation.period.start+rt.adaptation.period.duration:Ne+30,Pe=Math.min(Ne+It,ft),pt=NaN,Pt=null;Pe<=ft;){var $e=null;if(Pe<=ft&&($e=je(Ve,rt,Pe)),$e){pt=Pe,Pt=$e;break}Pe+=It}if(Pt){var ut=Pt.startTime+Pt.duration;return Ne>Pt.startTime&&ut-Ne>It?Ne:!isNaN(Pt.startTime)&&Ne<Pt.startTime&&pt>Pt.startTime?Pt.startTime+.001:Math.min(ut-It,pt)}return pt}catch{return NaN}}},v=x.debug.getLogger(h),st(),ie.on(f.Z.DYNAMIC_TO_STATIC,Ye,h),h}g.__dashjs_factory_name="DashHandler";const S=d.Z.getClassFactory(g)},1553:(St,He,L)=>{"use strict";L.d(He,{Z:()=>P});const P=new(function(){function d(){(function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}var N;return(N=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&function be(d,f){for(var N=0;N<f.length;N++){var T=f[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}(d.prototype,N),d}())},7802:(St,He,L)=>{"use strict";L.d(He,{Z:()=>g});var be=L(5448),P=L(1724),d=L(3636),f=L(1736),N=L(5246);function T(S){var x,h,v=this.context,w=(S=S||{}).dashConstants,q=S.type,W=S.segmentBaseController;function ie(J){return J?J.segments?h[w.SEGMENT_BASE]:h[J.segmentInfoType]:null}return x={initialize:function(J){h[w.SEGMENT_TIMELINE]=(0,P.Z)(v).create(S,J),h[w.SEGMENT_TEMPLATE]=(0,d.Z)(v).create(S,J),h[w.SEGMENT_LIST]=(0,f.Z)(v).create(S,J),h[w.SEGMENT_BASE]=(0,N.Z)(v).create(S,J)},updateInitData:function(J,le){return le?Promise.resolve():W.getSegmentBaseInitSegment({representation:J,mediaType:q})},updateSegmentData:function(J,le){return le?Promise.resolve():W.getSegmentList({mimeType:J.mimeType,representation:J,mediaType:q})},getSegmentByIndex:function(J,le,Z){var k=ie(J);return k?k.getSegmentByIndex(J,le,Z):null},getSegmentByTime:function(J,le){var Z=ie(J);return Z?Z.getSegmentByTime(J,le):null},getMediaFinishedInformation:function(J){var le=ie(J);return le?le.getMediaFinishedInformation(J):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},h={},x}T.__dashjs_factory_name="SegmentsController";const g=be.Z.getClassFactory(T)},1736:(St,He,L)=>{"use strict";L.d(He,{Z:()=>N});var be=L(5448),P=L(3393),d=L(7387);function f(T,g){var S=(T=T||{}).timelineConverter;function x(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function h(v,w){if(x(),!v)return null;var q=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentList,W=q.SegmentURL_asArray.length,ie=v&&!isNaN(v.startNumber)?v.startNumber:1,J=Math.max(ie-1,0),le=Math.max(w-J,0),Z=null;if(le<W){var k=q.SegmentURL_asArray[le];(Z=(0,d.NF)(S,g,v,w))&&(Z.replacementTime=(ie+w-1)*v.segmentDuration,Z.media=k.media?k.media:"",Z.mediaRange=k.mediaRange,Z.indexRange=k.indexRange)}return Z}return{getSegmentByIndex:h,getSegmentByTime:function(v,w){if(x(),!v)return null;var q=v.segmentDuration;if(isNaN(q))return null;var W=S.calcPeriodRelativeTimeFromMpdRelativeTime(v,w);return h(v,Math.floor(W/q))},getMediaFinishedInformation:function(v){var w={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!v)return w;var q=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentList,W=v&&!isNaN(v.startNumber)?v.startNumber:1,ie=Math.max(W-1,0);return w.numberOfSegments=ie+q.SegmentURL_asArray.length,w}}}f.__dashjs_factory_name="ListSegmentsGetter";const N=be.Z.getClassFactory(f)},5246:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f});var be=L(5448),P=L(3393);function d(N){var T=(N=N||{}).timelineConverter;function g(){if(!T||!T.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function S(x,h){if(g(),!x)return null;var v,w=x.segments?x.segments.length:-1;if(h<w&&(v=x.segments[h])&&v.index===h)return v;for(var q=0;q<w;q++)if((v=x.segments[q])&&v.index===h)return v;return null}return{getSegmentByIndex:S,getSegmentByTime:function(x,h){return g(),S(x,function(w,q){if(!w)return-1;var W,ie,J,le,Z,k=w.segments,K=k?k.length:null,de=-1;if(k&&K>0)for(Z=0;Z<K;Z++)if(J=(ie=k[Z]).presentationStartTime,q+(W=(le=ie.duration)/2)>=J&&q-W<J+le){de=ie.index;break}return de}(x,h))},getMediaFinishedInformation:function(x){var h={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return x&&x.segments&&(h.numberOfSegments=x.segments.length),h}}}d.__dashjs_factory_name="SegmentBaseGetter";const f=be.Z.getClassFactory(d)},7387:(St,He,L)=>{"use strict";L.d(He,{Aj:()=>f,NF:()=>S,TJ:()=>x,eR:()=>d,vi:()=>N});var be=L(2011);function P(h,v){for(;h.length<v;)h="0"+h;return h}function d(h){return h&&h.split("$$").join("$")}function f(h,v){if(!v||!h||-1===h.indexOf("$RepresentationID$"))return h;var w=v.toString();return h.split("$RepresentationID$").join(w)}function N(h,v,w){var q,W,ie,J,le,Z,k=v.length;if(!h)return h;for(;;){if((q=h.indexOf("$"+v))<0||(W=h.indexOf("$",q+k))<0)return h;if((ie=h.indexOf("%0",q+k))>q&&ie<W)switch(J=h.charAt(W-1),le=parseInt(h.substring(ie+2,W-1),10),J){case"d":case"i":case"u":Z=P(w.toString(),le);break;case"x":Z=P(w.toString(16),le);break;case"X":Z=P(w.toString(16),le).toUpperCase();break;case"o":Z=P(w.toString(8),le);break;default:return h}else Z=w;h=h.substring(0,q)+Z+h.substring(W+1)}}function T(h,v,w,q,W,ie,J,le){var k=new be.Z;return k.representation=h,k.duration=v,k.presentationStartTime=w,k.mediaStartTime=q,k.availabilityStartTime=W.calcAvailabilityStartTimeFromPresentationTime(ie,h,J),k.availabilityEndTime=W.calcAvailabilityEndTimeFromPresentationTime(ie+v,h,J),k.wallStartTime=W.calcWallTimeForSegment(k,J),k.replacementNumber=k.representation.startNumber+le,k.index=le,k}function g(h,v,w,q){var W=v.adaptation.period;if(isFinite(W.duration)&&W.start+W.duration<=w.presentationStartTime)return!1;if(q){if("INF"===v.availabilityTimeOffset)return!0;var ie=h.getClientReferenceTime();return w.availabilityStartTime.getTime()<=ie&&(!isFinite(w.availabilityEndTime)||w.availabilityEndTime.getTime()>=ie)}return!0}function S(h,v,w,q){var W,ie,J;W=w.segmentDuration,isNaN(W)&&(W=w.adaptation.period.duration),ie=parseFloat((w.adaptation.period.start+q*W).toFixed(5)),J=parseFloat((ie+W).toFixed(5));var le=T(w,W,ie,h.calcMediaTimeFromPresentationTime(ie,w),h,J,v,q);return g(h,w,le,v)?le:null}function x(h,v,w,q,W,ie,J,le,Z,k){var K,de,ce=q/ie,ze=W/ie;return K=h.calcPresentationTimeFromMediaTime(ce,w),g(h,w,de=T(w,ze,K,ce,h,K+ze,v,Z),v)?(de.replacementTime=k||q,J=N(J,"Number",de.replacementNumber),J=N(J,"Time",de.replacementTime),de.media=J,de.mediaRange=le,de):null}},3636:(St,He,L)=>{"use strict";L.d(He,{Z:()=>N});var be=L(5448),P=L(3393),d=L(7387);function f(T,g){var S=(T=T||{}).timelineConverter;function x(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function h(v,w){if(x(),!v)return null;var q=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentTemplate;w=Math.max(w,0);var W=(0,d.NF)(S,g,v,w);if(W){W.replacementTime=Math.round((w-1)*v.segmentDuration*v.timescale,10);var ie=q.media;ie=(0,d.vi)(ie,"Number",W.replacementNumber),ie=(0,d.vi)(ie,"Time",W.replacementTime),W.media=ie}return W}return{getSegmentByIndex:h,getSegmentByTime:function(v,w){if(x(),!v)return null;var q=v.segmentDuration;if(isNaN(q))return null;var W=S.calcPeriodRelativeTimeFromMpdRelativeTime(v,w);return h(v,Math.floor(W/q))},getMediaFinishedInformation:function(v){var w={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!v)return w;var q=v.segmentDuration;return w.numberOfSegments=isNaN(q)?1:Math.ceil(v.adaptation.period.duration/q),w}}}f.__dashjs_factory_name="TemplateSegmentsGetter";const N=be.Z.getClassFactory(f)},1724:(St,He,L)=>{"use strict";L.d(He,{Z:()=>N});var be=L(5448),P=L(3393),d=L(7387);function f(T,g){var S=(T=T||{}).timelineConverter,x=T.dashMetrics;function h(){if(!S)throw new Error(P.Z.MISSING_CONFIG_ERROR)}function v(q,W){var ie,J,le,Z,k,K,de,ce=q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentTemplate||q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentList,st=ce.SegmentURL_asArray,pe=0,Mt=-1;de=q.timescale;var je=!1;for(le=0,Z=(ie=ce.SegmentTimeline.S_asArray).length;le<Z&&!je;le++)for(K=0,(J=ie[le]).hasOwnProperty("r")&&(K=J.r),J.hasOwnProperty("t")&&(pe=J.t),K<0&&(K=w(q,ie[le+1],J,de,pe/de)),k=0;k<=K&&!je;k++)(je=W(pe,ce,st,J,de,++Mt,le))&&(q.segmentDuration=J.d/de),pe+=J.d}function w(q,W,ie,J,le){var Z;if(W&&W.hasOwnProperty("t"))Z=W.t/J;else try{var k=0;if(isNaN(q.adaptation.period.start)||isNaN(q.adaptation.period.duration)||!isFinite(q.adaptation.period.duration)){var K=x.getCurrentDVRInfo();k=isNaN(K.end)?0:K.end}else k=q.adaptation.period.start+q.adaptation.period.duration;Z=S.calcMediaTimeFromPresentationTime(k,q),q.segmentDuration=ie.d/J}catch{Z=0}return Math.max(Math.ceil((Z-le)/(ie.d/J))-1,0)}return{getSegmentByIndex:function(q,W,ie){if(h(),!q)return null;var J=null,le=!1;return v(q,function(Z,k,K,de,ce,ze,st){if(le||ie<0){var pe=k.media,Mt=de.mediaRange;return K&&(pe=K[st].media||"",Mt=K[st].mediaRange),J=(0,d.TJ)(S,g,q,Z,de.d,ce,pe,Mt,ze,de.tManifest),!0}return Z>=ie*ce-.5*de.d&&(le=!0),!1}),J},getSegmentByTime:function(q,W){if(h(),!q)return null;void 0===W&&(W=null);var ie=null,J=S.calcMediaTimeFromPresentationTime(W,q);return v(q,function(le,Z,k,K,de,ce,ze){var st=parseFloat((J*de).toPrecision(15));if(st<le+K.d&&st>=le){var pe=Z.media,Mt=K.mediaRange;return k&&(pe=k[ze].media||"",Mt=k[ze].mediaRange),ie=(0,d.TJ)(S,g,q,le,K.d,de,pe,Mt,ce,K.tManifest),!0}return!1}),ie},getMediaFinishedInformation:function(q){if(!q)return 0;var W,ie,J,le,Z,k,K,ce=0,ze=0,st=0;for(K=q.timescale,le=(W=(q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentTemplate||q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentList).SegmentTimeline.S_asArray).length,J=0;J<le;J++)for(k=0,(ie=W[J]).hasOwnProperty("r")&&(k=ie.r),ie.hasOwnProperty("t")&&(ze=(ce=ie.t)/K),k<0&&(k=w(q,W[J+1],ie,K,ze)),Z=0;Z<=k;Z++)st++,ze=(ce+=ie.d)/K;return{numberOfSegments:st,mediaTimeOfLastSignaledSegment:ze}}}}f.__dashjs_factory_name="TimelineSegmentsGetter";const N=be.Z.getClassFactory(f)},2011:(St,He,L)=>{"use strict";L.d(He,{Z:()=>be});const be=function P(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,P),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:(St,He,L)=>{"use strict";L.d(He,{Z:()=>be});const be=function P(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,P),this.schemeIdUri="",this.value=""}},7688:(St,He,L)=>{"use strict";L.d(He,{Z:()=>vo});var be=L(452),P=L.n(be),d=L(3393),f=L(1553),N=L(3860),T=L(5595),g=L(8512),S=L(5448),x=L(6398),h=L(8825);function v(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ae,$,ge,fe,ve,A,Y,Q=this.context,z=(0,T.Z)(Q).getInstance();function V(){j(),ne=!1,se=0,te=0,me=0,ve=!1,Ae=!1,A=!1,$=NaN,C&&(z.off(g.Z.DATA_UPDATE_COMPLETED,Je,y),z.off(g.Z.LOADING_PROGRESS,_n,y),z.off(g.Z.MANIFEST_UPDATED,Ht,y),z.off(g.Z.STREAMS_COMPOSED,dt,y),z.off(h.Z.PLAYBACK_ENDED,mr,y),z.off(h.Z.STREAM_INITIALIZING,mn,y),z.off(h.Z.REPRESENTATION_SWITCH,mt,y),z.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,ct,y),Te(),C.removeEventListener("canplay",Oe),C.removeEventListener("canplaythrough",nt),C.removeEventListener("play",ht),C.removeEventListener("waiting",Lt),C.removeEventListener("playing",qt),C.removeEventListener("pause",Sn),C.removeEventListener("error",Ot),C.removeEventListener("seeking",In),C.removeEventListener("seeked",yn),C.removeEventListener("timeupdate",Cn),C.removeEventListener("progress",Nn),C.removeEventListener("ratechange",er),C.removeEventListener("loadedmetadata",sr),C.removeEventListener("loadeddata",$n),C.removeEventListener("stalled",an),C.removeEventListener("ended",hr),C.removeEventListener("volumechange",nr)),ee=null,C=null,U=null,oe=null}function G(){return parseFloat((re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-Ue()).toFixed(5))}function re(Ze){var we=Ze||U;return we.start+we.duration}function he(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U&&C&&C.getElement()?(Ze&&oe&&Be(Ue()),C.play()):ne=!0}function j(){U&&C&&C.pause()}function X(Ze){var we=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Dt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];U&&C&&C.getElement()&&Ze!==(isNaN($)?C.getTime():$)&&((ge=!0===ot)||($=Ze),m.info("Requesting seek to time: "+Ze+(ge?" (internal)":"")),oe&&Dt&&Be(Ze),C.setCurrentTime(Ze,we))}function Re(){if(U&&C&&oe){var Ze=b&&b.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,we=F.getCurrentDVRInfo(Ze);return we&&we.range?we.range.end:0}}function Be(Ze){var we=new Date(B.getClientReferenceTime()),ot=O.getRegularPeriods()[0],Dt=B.calcPresentationTimeFromWallTime(we,ot);se=Dt-Ze}function Ue(){return U&&C?C.getTime():null}function Qe(){return U&&C?C.isPaused():null}function ke(){return U&&C?C.isSeeking():null}function tt(){return U&&C?C.isStalled():null}function Ft(){return U&&C?C.getPlaybackRate():null}function wt(){return U&&C?C.getEnded():null}function Tt(){return oe}function Bt(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Qe()&&oe&&0!==C.getReadyState()&&!ke()&&!ve){Ze||(Ze=b.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO);var we=Ue(),ot=function on(Ze,we){var ot=F.getCurrentDVRInfo(we),Dt=ot?ot.range:null;return Dt?Ze>Dt.end?Math.max(Dt.end-se,Dt.start):Ze>0&&Ze+.25<Dt.start&&Math.abs(Ze-Dt.start)<31536e4?Ae?Math.max(Dt.end-se,Dt.start):Dt.start:Ze:NaN}(we,Ze);!isNaN(ot)&&ot!==we&&!ke()&&(tt()||fe||1===C.getReadyState())&&(m.debug("UpdateCurrentTime: Seek to actual time: ".concat(ot," from currentTime: ").concat(we)),X(ot,!1,!1))}}function Le(){null===ee&&(ee=setInterval(function(){var Ze;z.trigger(g.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:oe,time:new Date}),Tt()&&(b.addDVRMetric(),Qe()?(Ze=Date.now(),(!_e||Ze>_e+500)&&(_e=Ze,Cn())):Bt())},Y.get().streaming.wallclockTimeUpdateInterval))}function Te(){clearInterval(ee),ee=null}function Je(Ze){var we=O.convertRepresentationToRepresentationInfo(Ze.currentRepresentation),ot=we?we.mediaInfo.streamInfo:null;null!==ot&&U.id===ot.id&&(U=ot)}function Oe(){z.trigger(g.Z.CAN_PLAY)}function nt(){z.trigger(g.Z.CAN_PLAY_THROUGH)}function ct(Ze){Ze.streamId===b.getActiveStreamInfo().id&&(fe=Ze.state===N.Z.BUFFER_EMPTY,Y.get().streaming.buffer.setStallState&&C.setStallState(Ze.mediaType,Ze.state===N.Z.BUFFER_EMPTY))}function ht(){m.info("Native video element event: play"),Bt(),Le(),z.trigger(g.Z.PLAYBACK_STARTED,{startTime:Ue()})}function Lt(){m.info("Native video element event: waiting"),z.trigger(g.Z.PLAYBACK_WAITING,{playingTime:Ue()})}function qt(){m.info("Native video element event: playing"),ge=!1,z.trigger(g.Z.PLAYBACK_PLAYING,{playingTime:Ue()})}function Sn(){m.info("Native video element event: pause"),z.trigger(g.Z.PLAYBACK_PAUSED,{ended:wt()})}function In(){if(!ge){var Ze=Ue();isNaN($)||$===Ze||(Ze=$),$=NaN,m.info("Seeking to: "+Ze),Le(),z.trigger(g.Z.PLAYBACK_SEEKING,{seekTime:Ze,streamId:U.id})}}function yn(){m.info("Native video element event: seeked"),ge=!1,z.trigger(g.Z.PLAYBACK_SEEKED)}function Cn(){U&&z.trigger(g.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:G(),time:Ue(),streamId:U.id})}function Nn(){z.trigger(g.Z.PLAYBACK_PROGRESS,{streamId:U.id})}function er(){var Ze=Ft();m.info("Native video element event: ratechange: ",Ze),z.trigger(g.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Ze})}function sr(){m.info("Native video element event: loadedmetadata"),z.trigger(g.Z.PLAYBACK_METADATA_LOADED),Le()}function $n(){m.info("Native video element event: loadeddata"),z.trigger(g.Z.PLAYBACK_LOADED_DATA)}function hr(){m.info("Native video element event: ended"),j(),Te();var Ze=b?b.getActiveStreamInfo():null;Ze&&z.trigger(g.Z.PLAYBACK_ENDED,{isLast:Ze.isLast})}function nr(){z.trigger(g.Z.PLAYBACK_VOLUME_CHANGED)}function mr(Ze){if(ee&&Ze.isLast){m.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var we=Ze.seekTime?Ze.seekTime:re();C.setCurrentTime(we),j(),Te()}}function Ot(Ze){z.trigger(g.Z.PLAYBACK_ERROR,{error:(Ze.target||Ze.srcElement).error})}function _n(Ze){if(!1===Ze.stream&&Ae&&!isNaN(Ze.request.duration)){var we=1.2*Ze.request.duration;we>se&&(m.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",we.toFixed(2)),se=we,te=we)}}function an(Ze){z.trigger(g.Z.PLAYBACK_STALLED,{e:Ze})}function mn(Ze){var we;(we=Ze.mediaInfo)&&we.supplementalProperties&&"true"===we.supplementalProperties[d.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(m.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),Ae=!0)}function mt(Ze){var we=b.getActiveStreamInfo();Ze&&we&&Ze.currentRepresentation&&Ze.streamId&&Ze.streamId===we.id&&Ze.mediaType&&(Ze.mediaType===d.Z.VIDEO||Ze.mediaType===d.Z.AUDIO)&&(Ae=!Ze.currentRepresentation.availabilityTimeComplete)&&!A&&(A=!0)}function Ht(){ve=!0}function dt(){ve=!1}return y={initialize:function(Ze,we){U=Ze,!0!==we&&(C.addEventListener("canplay",Oe),C.addEventListener("canplaythrough",nt),C.addEventListener("play",ht),C.addEventListener("waiting",Lt),C.addEventListener("playing",qt),C.addEventListener("pause",Sn),C.addEventListener("error",Ot),C.addEventListener("seeking",In),C.addEventListener("seeked",yn),C.addEventListener("timeupdate",Cn),C.addEventListener("progress",Nn),C.addEventListener("ratechange",er),C.addEventListener("loadedmetadata",sr),C.addEventListener("loadeddata",$n),C.addEventListener("stalled",an),C.addEventListener("ended",hr),C.addEventListener("volumechange",nr),oe=U.manifestInfo.isDynamic,fe=!1,ge=!1,z.on(g.Z.DATA_UPDATE_COMPLETED,Je,y),z.on(g.Z.LOADING_PROGRESS,_n,y),z.on(g.Z.MANIFEST_UPDATED,Ht,y),z.on(g.Z.STREAMS_COMPOSED,dt,y),z.on(h.Z.PLAYBACK_ENDED,mr,y,{priority:T.Z.EVENT_PRIORITY_HIGH}),z.on(h.Z.STREAM_INITIALIZING,mn,y),z.on(h.Z.REPRESENTATION_SWITCH,mt,y),z.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,ct,y),ne&&(ne=!1,he()))},setConfig:function(Ze){Ze&&(Ze.streamController&&(b=Ze.streamController),Ze.serviceDescriptionController&&(I=Ze.serviceDescriptionController),Ze.dashMetrics&&(F=Ze.dashMetrics),Ze.adapter&&(O=Ze.adapter),Ze.videoModel&&(C=Ze.videoModel),Ze.timelineConverter&&(B=Ze.timelineConverter),Ze.settings&&(Y=Ze.settings))},getTimeToStreamEnd:G,getBufferLevel:function(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,we=null;return b.getActiveStreamProcessors().forEach(function(ot){if(!Ze||0===Ze.length||-1===Ze.indexOf(ot.getType())){var Dt=ot.getBufferLevel();we=null===we?Dt:Math.min(we,Dt)}}),we},getPlaybackStalled:function(){return fe},getTime:Ue,getLowLatencyModeEnabled:function(){return Ae},getInitialCatchupModeActivated:function(){return A},getIsManifestUpdateInProgress:function(){return ve},getPlaybackRate:Ft,getPlayedRanges:function(){return U&&C?C.getPlayedRanges():null},getEnded:wt,getIsDynamic:Tt,getStreamController:function(){return b},computeAndSetLiveDelay:function(Ze,we){var ot,Dt,en,fn=!isNaN(Ze)&&isFinite(Ze)?Ze:NaN,Xn=O.getSuggestedPresentationDelay(),Ur=I.getServiceDescriptionSettings();return ot=isNaN(Y.get().streaming.delay.liveDelay)?null===Y.get().streaming.delay.liveDelayFragmentCount||isNaN(Y.get().streaming.delay.liveDelayFragmentCount)||isNaN(fn)?Ur&&!isNaN(Ur.liveDelay)&&Ur.liveDelay>0?Ur.liveDelay:!0===Y.get().streaming.delay.useSuggestedPresentationDelay&&null!==Xn&&!isNaN(Xn)&&Xn>0?Xn:isNaN(fn)?we&&!isNaN(we.minBufferTime)?4*we.minBufferTime:4*U.manifestInfo.minBufferTime:4*fn:fn*Y.get().streaming.delay.liveDelayFragmentCount:Y.get().streaming.delay.liveDelay,null!==(en=O.getAvailabilityStartTime())&&(me=en),Dt=we&&we.dvrWindowSize>0?Math.min(ot,we.dvrWindowSize):ot,se=Dt,te=Dt,Dt},getLiveDelay:function(){return se},getOriginalLiveDelay:function(){return te},getCurrentLiveLatency:function(){if(!oe||isNaN(me))return NaN;var Ze=Ue();if(isNaN(Ze)||0===Ze)return 0;var we=(new Date).getTime()+1e3*B.getClientTimeOffset();return Math.max(((we-me-1e3*Ze)/1e3).toFixed(3),0)},play:he,isPaused:Qe,isStalled:tt,pause:j,isSeeking:ke,getStreamEndTime:re,seek:X,seekToOriginalLive:function(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],we=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Dt=Re();0!==Dt&&X(Dt-(se=te),Ze,we,ot)},seekToCurrentLive:function(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],we=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Dt=Re();0!==Dt&&X(Dt-se,Ze,we,ot)},reset:V,updateCurrentTime:Bt,getAvailabilityStartTime:function(){return me}},m=(0,x.Z)(Q).getInstance().getLogger(y),V(),y}v.__dashjs_factory_name="PlaybackController";const w=S.Z.getSingletonFactory(v);var q=L(3186),W="loading",ie="executed",J="failed";function le(y){var m,b,I,F,O=(y=y||{}).eventBus,C=y.events,B=y.dashMetrics,ee=y.fragmentLoader,te=y.streamInfo,U=y.type;function oe(A){var Y;return!!A&&(Y=!1,I.some(function(Q){if(z=A,V=Q,!isNaN(z.index)&&z.startTime===V.startTime&&z.adaptationIndex===V.adaptationIndex&&z.type===V.type||(G=A,re=Q,isNaN(G.index)&&isNaN(re.index)&&G.quality===re.quality)||function(G,re){return G.action===q.Z.ACTION_COMPLETE&&G.action===re.action}(A,Q))return Y=!0;var G,re,z,V}),Y)}function ne(A){return isNaN(A.duration)?.25:Math.min(A.duration/8,.5)}function _e(A){I=I.filter(function(Y){var Q=ne(Y);return isNaN(Y.startTime)||void 0!==A&&Y.startTime>=A-Q})}function me(A,Y){Y<=A+.5||(I=I.filter(function(Q){var z=ne(Q);return isNaN(Q.startTime)||Q.startTime>=Y-z||isNaN(Q.duration)||Q.startTime+Q.duration<=A+z}))}function Ce(A,Y,Q){for(var z=A.length-1;z>=0;z--){var V=A[z],G=V.startTime,re=G+V.duration;if(Q=isNaN(Q)?ne(V):Q,!isNaN(G)&&!isNaN(re)&&Y+Q>=G&&Y-Q<re||isNaN(G)&&isNaN(Y))return V}return null}function Ae(A,Y){B.addSchedulingInfo(A,Y),B.addRequestsQueue(A.mediaType,F,I)}function $(A){A.sender===ee&&(F.splice(F.indexOf(A.request),1),A.response&&!A.error&&I.push(A.request),Ae(A.request,A.error?J:ie),O.trigger(C.FRAGMENT_LOADING_COMPLETED,{request:A.request,response:A.response,error:A.error,sender:this},{streamId:te.id,mediaType:U}))}function ge(A){A.sender===ee&&O.trigger(C.FRAGMENT_LOADING_PROGRESS,{request:A.request,response:A.response,error:A.error,sender:this},{streamId:te.id,mediaType:U})}function fe(A){A.sender===ee&&O.trigger(C.FRAGMENT_LOADING_ABANDONED,{request:A.request},{streamId:te.id,mediaType:U})}function ve(){I=[],F=[]}return m={getStreamId:function(){return te.id},getType:function(){return U},getRequests:function(A){var Q=[];return(A?A.state instanceof Array?A.state:[A.state]:[]).forEach(function(z){var G,re,V=function(G){var re;switch(G){case W:re=F;break;case ie:re=I;break;default:re=[]}return re}(z);Q=Q.concat((G=V,(re=A).hasOwnProperty("time")?[Ce(G,re.time,re.threshold)]:G.filter(function(he){for(var j in re)if("state"!==j&&re.hasOwnProperty(j)&&he[j]!=re[j])return!1;return!0})))}),Q},isFragmentLoaded:oe,isFragmentLoadedOrPending:function(A){var Y,Q=!1,z=0;if(!(Q=oe(A)))for(z=0;z<F.length;z++)A.url===(Y=F[z]).url&&A.startTime===Y.startTime&&(Q=!0);return Q},removeExecutedRequestsBeforeTime:_e,removeExecutedRequestsAfterTime:function(A){I=I.filter(function(Y){return isNaN(Y.startTime)||void 0!==A&&Y.startTime<A})},syncExecutedRequestsWithBufferedRange:function(A,Y){if(A&&0!==A.length){for(var Q=0,z=0,V=A.length;z<V;z++)me(Q,A.start(z)),Q=A.end(z);Y>0&&me(Q,Y)}else _e()},abortRequests:function(){b.debug("abort requests"),ee.abort(),F=[]},executeRequest:function(A){var Y;A.action===q.Z.ACTION_DOWNLOAD?(Ae(A,W),F.push(A),O.trigger(C.FRAGMENT_LOADING_STARTED,{request:Y=A},{streamId:te.id,mediaType:U}),ee.load(Y)):b.warn("Unknown request action.")},reset:function(){O.off(C.LOADING_COMPLETED,$,this),O.off(C.LOADING_DATA_PROGRESS,ge,this),O.off(C.LOADING_ABANDONED,fe,this),ee&&ee.reset(),ve()},resetInitialSettings:ve,addExecutedRequest:function(A){I.push(A)}},b=y.debug.getLogger(m),ve(),O.on(C.LOADING_COMPLETED,$,m),O.on(C.LOADING_DATA_PROGRESS,ge,m),O.on(C.LOADING_ABANDONED,fe,m),m}le.__dashjs_factory_name="FragmentModel";var Z=S.Z.getClassFactory(le);Z.FRAGMENT_MODEL_LOADING=W,Z.FRAGMENT_MODEL_EXECUTED=ie,Z.FRAGMENT_MODEL_CANCELED="canceled",Z.FRAGMENT_MODEL_FAILED=J,S.Z.updateClassFactory(le.__dashjs_factory_name,Z);const k=Z;var K=L(5459);function de(y){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function ce(y,m){return(ce=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function st(y){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}const pe=new(function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&ce(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=st(m);if(b){var B=st(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function ze(y,m){return!m||"object"!==de(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){var O;return function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}(this,F),(O=I.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,O.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,O.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,O.SEGMENT_BASE_LOADER_ERROR_CODE=15,O.TIME_SYNC_FAILED_ERROR_CODE=16,O.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,O.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,O.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,O.APPEND_ERROR_CODE=20,O.REMOVE_ERROR_CODE=21,O.DATA_UPDATE_FAILED_ERROR_CODE=22,O.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,O.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,O.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,O.DOWNLOAD_ERROR_ID_SIDX_CODE=26,O.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,O.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,O.DOWNLOAD_ERROR_ID_XLINK_CODE=29,O.MANIFEST_ERROR_ID_PARSE_CODE=31,O.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,O.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,O.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,O.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,O.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",O.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",O.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",O.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",O.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",O.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",O.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",O.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",O.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",O.APPEND_ERROR_MESSAGE="chunk is not defined",O.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",O.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",O.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",O.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",O.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",O.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",O}return F}(L(2230).Z));var Mt=L(1264),je=L(7855);function Ye(y){var m,b,I,F,O,C,B=this.context,ee=(0,Mt.Z)(B).getInstance(),se=y.textController,te=y.eventBus,U=[],oe=[],ne=!1,_e=y.mediaSource,me=null;function Ce(V){return new Promise(function(G){z(function(){F.changeType&&F.changeType(V),G()})})}function Ae(V){return F=se.getTextSourceBuffer(V),Promise.resolve()}function $(){if("function"==typeof F.addEventListener)try{F.addEventListener("updateend",Y,!1),F.addEventListener("error",Q,!1),F.addEventListener("abort",Q,!1)}catch{C=setInterval(Y,50)}else C=setInterval(Y,50)}function ge(V){return new Promise(function(G){F&&ee.get().streaming.buffer.useAppendWindow?z(function(){try{if(!F)return void G();var re=_e.duration,he=0;V&&!isNaN(V.start)&&!isNaN(V.duration)&&isFinite(V.duration)&&(re=V.start+V.duration),V&&!isNaN(V.start)&&(he=V.start),F.appendWindowEnd===re&&F.appendWindowStart===he||(F.appendWindowStart=0,F.appendWindowEnd=re+.01,F.appendWindowStart=Math.max(he-.1,0),I.debug("Updated append window for ".concat(O.type,". Set start to ").concat(F.appendWindowStart," and end to ").concat(F.appendWindowEnd))),G()}catch{I.warn("Failed to set append window"),G()}}):G()})}function fe(V){return new Promise(function(G){F?z(function(){try{F.timestampOffset===V||isNaN(V)||(F.timestampOffset=V,I.debug("Set MSE timestamp offset to ".concat(V))),G()}catch{G()}}):G()})}function ve(){if(!ne&&oe.length>0){ne=!0;var V=oe[0];oe.splice(0,1);var G=function(){ne=!1,oe.length>0&&ve.call(this),V&&V.data&&V.data.segmentType&&V.data.segmentType!==je.w.INIT_SEGMENT_TYPE&&delete V.data.bytes,V.promise.resolve({chunk:V.data})};try{me=V.request,0===V.data.bytes.byteLength?G.call(this):(F.appendBuffer?F.appendBuffer(V.data.bytes):F.append(V.data.bytes,V.data),z(G.bind(this)))}catch(re){I.fatal('SourceBuffer append failed "'+re+'"'),oe.length>0?ve():ne=!1,delete V.data.bytes,V.promise.reject({chunk:V.data,error:new K.Z(re.code,re.message)})}}}function A(){U.length>0&&(F.updating||(U.shift()(),A()))}function Y(){F.updating||A()}function Q(V){te.trigger(g.Z.SOURCE_BUFFER_ERROR,{error:V.target||{},lastRequestAppended:me},{streamId:O.streamInfo.id,mediaType:b})}function z(V){U.push(V),F.updating||A()}return m={getType:function(){return b},getAllBufferRanges:function(){try{return F.buffered}catch(V){return I.error("getAllBufferRanges exception: "+V.message),null}},getBuffer:function(){return F},append:function(V){var G=this,re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(he,j){V?(oe.push({data:V,promise:{resolve:he,reject:j},request:re}),z(ve.bind(G))):j({chunk:V,error:new K.Z(pe.APPEND_ERROR_CODE,pe.APPEND_ERROR_MESSAGE)})})},remove:function(V){return new Promise(function(G,re){var he=V.start,j=V.end;he>=0&&j>he?z(function(){try{F.remove(he,j),z(function(){G({from:he,to:j,unintended:!1}),V.resolve&&V.resolve()})}catch(X){re({from:he,to:j,unintended:!1,error:new K.Z(pe.REMOVE_ERROR_CODE,pe.REMOVE_ERROR_MESSAGE)}),V.reject&&V.reject(X)}}):G()})},abort:function(){return new Promise(function(V){try{oe=[],"open"===_e.readyState?z(function(){try{F&&F.abort(),V()}catch{V()}}):(F&&F.setTextTrack&&"ended"===_e.readyState&&F.abort(),V())}catch{V()}})},reset:function(){if(F){try{U=[],function(){try{"function"==typeof F.removeEventListener&&(F.removeEventListener("updateend",Y,!1),F.removeEventListener("error",Q,!1),F.removeEventListener("abort",Q,!1)),clearInterval(C)}catch(V){I.error(V)}}(),ne=!1,oe=[],F.getClassName&&"TextSourceBuffer"===F.getClassName()||(I.debug("Removing sourcebuffer from media source"),_e.removeSourceBuffer(F))}catch{}F=null}me=null},updateTimestampOffset:fe,initializeForStreamSwitch:function(V,G,re){b=(O=V).type;var he=O.codec;F=re.getBuffer(),$();var j=[];return j.push(new Promise(function(X){z(function(){var Re=F.appendWindowStart,Be=F.appendWindowEnd;F&&(F.abort(),F.appendWindowStart=Re,F.appendWindowEnd=Be),X()})})),j.push(ge(O.streamInfo)),ee.get().streaming.buffer.useChangeTypeForTrackSwitch&&j.push(Ce(he)),G&&void 0!==G.MSETimeOffset&&j.push(fe(G.MSETimeOffset)),Promise.all(j)},initializeForFirstUse:function(V,G,re){b=(O=G).type;var he=O.codec;try{if(he.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ae(V);F=_e.addSourceBuffer(he),$();var j=[];return j.push(ge(O.streamInfo)),re&&void 0!==re.MSETimeOffset&&j.push(fe(re.MSETimeOffset)),Promise.all(j)}catch(X){return O.type==d.Z.TEXT&&!O.isFragmented||-1!==he.indexOf('codecs="stpp')||-1!==he.indexOf('codecs="vtt')?Ae(V):Promise.reject(X)}},updateAppendWindow:ge,changeType:Ce},I=(0,x.Z)(B).getInstance().getLogger(m),m}Ye.__dashjs_factory_name="SourceBufferSink";const Ne=S.Z.getClassFactory(Ye);function Ve(y){var m,b,I,O=[],C=y;function B(ee,se){return O=O.filter(function(te){return!((isNaN(se)||te.start<se)&&(isNaN(ee)||te.end>ee))}),Promise.resolve()}return m={getAllBufferRanges:function(){for(var ee=[],se=0;se<O.length;se++){var te=O[se];0===ee.length||te.start>ee[ee.length-1].end?ee.push({start:te.start,end:te.end}):ee[ee.length-1].end=te.end}var U={start:function(oe){return ee[oe].start},end:function(oe){return ee[oe].end}};return Object.defineProperty(U,"length",{get:function(){return ee.length}}),U},append:function(ee){return"InitializationSegment"!==ee.segmentType?(O.push(ee),O.sort(function(se,te){return se.start-te.start}),I=null):I=ee,b.debug("PreBufferSink appended chunk s: "+ee.start+"; e: "+ee.end),C&&C({chunk:ee}),Promise.resolve()},remove:B,abort:function(){return Promise.resolve()},discharge:function(ee,se){var U,oe,te=(U=ee,oe=se,O.filter(function(ne){return(isNaN(oe)||ne.start<oe)&&(isNaN(U)||ne.end>U)}));return I&&(te.push(I),I=null),B(ee,se),te},reset:function(){O=[],I=null,C=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(ee){ee()},getBuffer:function(){return this}},b=(0,x.Z)(this.context).getInstance().getLogger(m),m}Ve.__dashjs_factory_name="PreBufferSink";const rt=S.Z.getClassFactory(Ve);function It(){var y={};return{save:function(m){var b=m.streamId,I=m.representationId;y[b]=y[b]||{},y[b][I]=m},extract:function(m,b){return y&&y[m]&&y[m][b]?y[m][b]:null},reset:function(){y={}}}}It.__dashjs_factory_name="InitCache";const ft=S.Z.getSingletonFactory(It);var pt="BufferController";function Pt(y){y=y||{};var m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ce,Ae,$,ge,fe,ve,A=this.context,Y=(0,T.Z)(A).getInstance(),Q=y.errHandler,z=y.fragmentModel,V=y.representationController,G=y.adapter,re=y.textController,he=y.abrController,j=y.playbackController,X=y.streamInfo,Re=y.type,Be=y.settings;function Ue(dt){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(we,ot){C=dt,se&&Ze&&"function"==typeof se.discharge?(te=se,ke(Ze).then(function(){we()}).catch(function(Dt){ot(Dt)})):we()})}function Qe(dt){return G.convertRepresentationToRepresentationInfo(V.getRepresentationForQuality(dt))}function ke(dt){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(we,ot){$&&dt?C?(U=!1,function Ft(dt,Ze){return new Promise(function(we,ot){var en,fn,Xn,Ur,Dt=he.getQualityFor(Re,X.id);se=Ne(A).create({mediaSource:C,textController:re,eventBus:Y}),(en=dt,fn=Ze,Xn=Dt,Ur=Qe(Xn),fn&&fn[Re]&&(Re===d.Z.VIDEO||Re===d.Z.AUDIO)?se.initializeForStreamSwitch(en,Ur,fn[Re]):se.initializeForFirstUse(X,en,Ur)).then(function(){return $n(Qe(Dt))}).then(function(){we(se)}).catch(function(en){b.fatal("Caught error on create SourceBuffer: "+en),Q.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Re)),ot(en)})})}(dt,Ze).then(function(Dt){we(Dt)}).catch(function(Dt){ot(Dt)})):(U=!0,function tt(){var dt=this;return new Promise(function(Ze,we){var ot=he.getQualityFor(Re,X.id);se=rt(A).create(Le.bind(dt)),$n(Qe(ot)).then(function(){Ze(se)}).catch(function(){we()})})}().then(function(Dt){we(Dt)}).catch(function(Dt){ot(Dt)})):we(null)})}function wt(dt){Be.get().streaming.cacheInitSegments&&(b.info("Init fragment finished loading saving to",Re+"'s init cache"),$.save(dt.chunk)),b.debug("Append Init fragment",Re," with representationId:",dt.chunk.representationId," and quality:",dt.chunk.quality,", data size:",dt.chunk.bytes.byteLength),Bt(dt.chunk)}function Tt(dt){Bt(dt.chunk,dt.request)}function Bt(dt){se.append(dt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(we){Le(we)}).catch(function(we){Le(we)}),dt.mediaInfo.type===d.Z.VIDEO&&mt(g.Z.VIDEO_CHUNK_RECEIVED,{chunk:dt})}function on(dt){if(dt&&dt.length>0)for(var Ze=0,we=dt.length;Ze<we;Ze++)b.debug("Buffered range: "+dt.start(Ze)+" - "+dt.end(Ze)+", currentTime = ",j.getTime())}function Le(dt){if(dt.error)return 22===dt.error.code&&function(){if(Ae=!0,O=.8*_n(),b.warn("Quota exceeded, Critical Buffer: "+O),O>0){var ot=Math.max(.2*O,1),Dt=O-ot,en=Math.min(Be.get().streaming.buffer.bufferTimeAtTopQuality,.9*Dt),fn=Math.min(Be.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Dt),Xn={streaming:{buffer:{bufferToKeep:parseFloat(ot.toFixed(5)),bufferTimeAtTopQuality:parseFloat(en.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(fn.toFixed(5))}}};Be.update(Xn)}}(),void(22!==dt.error.code&&mn()||(b.warn("Clearing playback buffer to overcome quota exceed situation"),mt(g.Z.QUOTA_EXCEEDED,{criticalBufferLevel:O,quotaExceededTime:dt.chunk.start}),Nn(Cn())));if(se&&(Lt(),Ae=!1,(_e=dt.chunk)&&_e.endFragment)){_e&&!isNaN(_e.index)&&(B=Math.max(_e.index,B),qt());var Ze=se.getAllBufferRanges();_e.segmentType===je.w.MEDIA_SEGMENT_TYPE&&(on(Ze),Oe(),function(){if(!isNaN(ve)&&!U)if(Re===d.Z.AUDIO||Re===d.Z.VIDEO){var ot=j.getTime(),Dt=ht(ot,0),en=ht(ve,0);if(Dt&&en&&Dt.start===en.start)ve=NaN;else{var fn=V.getCurrentRepresentation().segmentDuration,Xn=ht(ve,fn);Xn&&(Be.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(ot-ve)>fn?ve<=Xn.end&&j.seek(Math.max(ve,Xn.start),!1,!0):ot<Xn.start&&j.seek(Xn.start,!1,!0))}}else ve=NaN}());var we=!1;oe&&(oe.indexOf(_e)>0&&(we=!0),oe=null),_e&&!we&&mt(g.Z.BYTES_APPENDED_END_FRAGMENT,{quality:_e.quality,startTime:_e.start,index:_e.index,bufferedRanges:Ze,segmentType:_e.segmentType,mediaType:Re})}}function Te(){return new Promise(function(dt,Ze){var we=Je();if(!we||0===we.length)return Oe(),void dt();Nn(we).then(function(){dt()}).catch(function(ot){Ze(ot)})})}function Je(dt){var Ze=[],we=se.getAllBufferRanges();if(!we||0===we.length)return Ze;if(!dt&&0!==dt||isNaN(dt))Ze.push({start:we.start(0),end:we.end(we.length-1)+.5});else{var ot=function(en,fn){var Xn=Be.get().streaming.buffer.bufferToKeep,Ur=fn.start(0);if(en-Ur>Xn){var Pi=Math.max(0,en-Xn),Hr=z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:en,threshold:.01})[0];if(Hr&&(Pi=Math.min(Hr.startTime,Pi)),Pi>0)return{start:Ur,end:Pi}}return null}(dt,we),Dt=function(en,fn){var Xn=fn.end(fn.length-1)+.5,Ur=an(en),Pi=X.manifestInfo.duration>=Be.get().streaming.buffer.longFormContentDurationThreshold?Be.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Be.get().streaming.buffer.bufferTimeAtTopQuality,Hr=isNaN(Ur)?en:Math.min(Ur,en+Pi);if(Hr>=fn.end(fn.length-1))return null;var Xi=z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:en,threshold:.01})[0];if(Xi&&(Hr=Math.max(Xi.startTime+Xi.duration,Hr)),Be.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Zi=0;Zi<fn.length;Zi++)if(fn.start(Zi)<=en&&en<=fn.end(Zi)&&fn.start(Zi)<=Hr&&Hr<=fn.end(Zi)){var bo=Hr;Hr=Zi+1<fn.length?fn.start(Zi+1):fn.end(Zi)+1,b.debug("Buffered range ["+fn.start(Zi)+", "+fn.end(Zi)+"] overlaps with targetTime "+en+" and range to be pruned ["+bo+", "+Xn+"], using ["+Hr+", "+Xn+"] instead"+(Hr<Xn?"":" (no actual pruning)"));break}return Hr<fn.end(fn.length-1)?{start:Hr,end:Xn}:null}(dt,we);ot&&Ze.push(ot),Dt&&Ze.push(Dt)}return Ze}function Oe(){(!fe||Re===d.Z.TEXT&&re.isTextEnabled())&&Lt()}function nt(){Sn()}function ct(){Sn(),ve=NaN}function ht(dt,Ze){var we,ot,Dt=se.getAllBufferRanges(),en=0,fn=0,Xn=null,Ur=null,Pi=0,Hr=isNaN(Ze)?.15:Ze;if(null!=Dt){for(ot=0,we=Dt.length;ot<we;ot++)if(en=Dt.start(ot),fn=Dt.end(ot),null===Xn)Pi=Math.abs(en-dt),(dt>=en&&dt<fn||Pi<=Hr)&&(Xn=en,Ur=fn);else{if(!((Pi=en-Ur)<=Hr))break;Ur=fn}if(null!==Xn)return{start:Xn,end:Ur}}return null}function Lt(){if(j){var dt=j.getTime()||0;U&&(dt=isNaN(ve)?0:ve);var Ze=Be.get().streaming.gaps.jumpGaps&&!isNaN(Be.get().streaming.gaps.smallGapLimit)?Be.get().streaming.gaps.smallGapLimit:NaN;F=Math.max((we=dt,ot=Ze,Be.get().streaming.gaps.jumpGaps&&(ot=Be.get().streaming.gaps.smallGapLimit),null===(Dt=ht(we,ot))?0:Dt.end-we),0),mt(g.Z.BUFFER_LEVEL_UPDATED,{mediaType:Re,bufferLevel:F}),Sn()}var we,ot,Dt}function qt(){var dt=B>=ee-1,Ze=j.getTimeToStreamEnd(X)-F<1e-5;!dt&&!Ze||I||(Ot(!0),b.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(X.id," and type ").concat(Re)))}function Sn(){Re!==d.Z.AUDIO&&Re!==d.Z.VIDEO||((!j.getLowLatencyModeEnabled()&&F<Be.get().streaming.buffer.stallThreshold||0===F)&&!I?In(N.Z.BUFFER_EMPTY):(I||F>=Be.get().streaming.buffer.stallThreshold||j.getLowLatencyModeEnabled()&&F>0)&&In(N.Z.BUFFER_LOADED))}function In(dt){ne===dt||dt===N.Z.BUFFER_EMPTY&&0===j.getTime()||Re===d.Z.TEXT&&!re.isTextEnabled()||(ne=dt,mt(g.Z.BUFFER_LEVEL_STATE_CHANGED,{state:dt}),mt(dt===N.Z.BUFFER_LOADED?g.Z.BUFFER_LOADED:g.Z.BUFFER_EMPTY),b.debug(dt===N.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function yn(){se&&Re!==d.Z.TEXT&&(I||Nn(Cn()))}function Cn(){var dt=[],Ze=se.getAllBufferRanges();if(!Ze||0===Ze.length)return dt;var we=j.getTime(),ot=Math.max(0,we-Be.get().streaming.buffer.bufferToKeep),Dt=z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:we,threshold:.01})[0];if(Dt)ot=Math.min(Dt.startTime,ot);else if(0===we&&j.getIsDynamic())return[];if(Ze.start(0)<=ot){for(var en={start:0,end:ot},fn=0;fn<Ze.length&&Ze.end(fn)<=ot;fn++)en.end=Ze.end(fn);en.start<en.end&&dt.push(en)}return dt}function Nn(dt){return new Promise(function(Ze,we){if(dt&&se&&0!==dt.length){var ot=[];dt.forEach(function(Dt){var en;ot.push((en=Dt,new Promise(function(fn,Xn){en.resolve=fn,en.reject=Xn,ge.push(en)})))}),Ce||er(),Promise.all(ot).then(function(){Ze()}).catch(function(Dt){we(Dt)})}else Ze()})}function er(){try{if(0===ge.length||!se)return b.debug("Nothing to prune, halt pruning"),ge=[],void(Ce=!1);var dt=se.getBuffer();if(!dt||!dt.buffered||0===dt.buffered.length)return b.debug("SourceBuffer is empty (or does not exist), halt pruning"),ge=[],void(Ce=!1);var Ze=ge.shift();b.debug("".concat(Re,": Removing buffer from: ").concat(Ze.start," to ").concat(Ze.end)),Ce=!0,j.getTime()<Ze.end&&Ot(!1),se.remove(Ze).then(function(we){sr(we)}).catch(function(we){sr(we)})}catch{Ce=!1}}function sr(dt){b.debug("onRemoved buffer from:",dt.from,"to",dt.to),on(se.getAllBufferRanges()),0===ge.length&&(Ce=!1,Lt()),dt.unintended&&(b.warn("Detected unintended removal from:",dt.from,"to",dt.to,"setting streamprocessor time to",dt.from),mt(g.Z.SEEK_TARGET,{time:dt.from})),Ce?er():(fe?fe=!1:Lt(),mt(g.Z.BUFFER_CLEARED,{from:dt.from,to:dt.to,unintended:dt.unintended,hasEnoughSpaceToAppend:mn(),quotaExceeded:Ae}))}function $n(dt){return new Promise(function(Ze){dt&&void 0!==dt.MSETimeOffset&&se&&se.updateTimestampOffset?se.updateTimestampOffset(dt.MSETimeOffset).then(function(){Ze()}).catch(function(){Ze()}):Ze()})}function hr(){return se&&!I?se.updateAppendWindow(X):Promise.resolve()}function nr(){++me*(Be.get().streaming.wallclockTimeUpdateInterval/1e3)>=Be.get().streaming.buffer.bufferPruningInterval&&(me=0,yn())}function mr(){Sn()}function Ot(dt){(I=dt)?mt(g.Z.BUFFERING_COMPLETED):ee=Number.POSITIVE_INFINITY}function _n(){try{var dt,Ze,we=se.getAllBufferRanges(),ot=0;if(!we)return ot;for(Ze=0,dt=we.length;Ze<dt;Ze++)ot+=we.end(Ze)-we.start(Ze);return ot}catch{return 0}}function an(dt){try{var Ze=dt,we=se.getAllBufferRanges();if(!we||0===we.length)return NaN;for(var ot=0;Ze===dt&&ot<we.length;){var Dt=we.start(ot),en=we.end(ot);Ze>=Dt&&Ze<=en&&(Ze=en),ot+=1}return Ze===dt?NaN:Ze}catch{}}function mn(){var dt=_n();return isNaN(dt)||dt<O}function mt(dt,Ze){Y.trigger(dt,Ze||{},{streamId:X.id,mediaType:Re})}function Ht(dt,Ze){if(O=Number.POSITIVE_INFINITY,ne=void 0,ee=Number.POSITIVE_INFINITY,B=0,_e=null,I=!1,Ce=!1,Ae=!1,F=0,me=0,ge=[],ve=NaN,U=!1,se){var we=se;se=null,dt||Ze||we.abort().then(function(){we.reset(Ze),we=null})}fe=!1}return m={initialize:function(dt){Ue(dt),Y.on(g.Z.INIT_FRAGMENT_LOADED,wt,m),Y.on(g.Z.MEDIA_FRAGMENT_LOADED,Tt,m),Y.on(g.Z.WALLCLOCK_TIME_UPDATED,nr,m),Y.on(h.Z.PLAYBACK_PLAYING,ct,m),Y.on(h.Z.PLAYBACK_PROGRESS,Oe,m),Y.on(h.Z.PLAYBACK_TIME_UPDATED,Oe,m),Y.on(h.Z.PLAYBACK_RATE_CHANGED,mr,m),Y.on(h.Z.PLAYBACK_STALLED,nt,m)},getStreamId:function(){return X.id},getType:function(){return Re},getBufferControllerType:function(){return pt},createBufferSink:ke,dischargePreBuffer:function(){if(se&&te&&"function"==typeof te.discharge){var dt=te.getAllBufferRanges();if(dt.length>0){for(var Ze="Beginning "+Re+"PreBuffer discharge, adding buffer for:",we=0;we<dt.length;we++)Ze+=" start: "+dt.start(we)+", end: "+dt.end(we)+";";b.debug(Ze)}else b.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");oe=[];for(var ot=te.discharge(),Dt=null,en=0;en<ot.length;en++){var fn=ot[en];if(fn.segmentType!==je.w.INIT_SEGMENT_TYPE){var Xn=$.extract(fn.streamId,fn.representationId);Xn&&Dt!==Xn&&(oe.push(Xn),se.append(Xn),Dt=Xn)}oe.push(fn),se.append(fn)}te.reset(),te=null}},getBuffer:function(){return se},getBufferLevel:function(){return F},getRangeAt:ht,hasBufferAtTime:function(dt){try{var Ze=se.getAllBufferRanges();if(!Ze||0===Ze.length)return!1;for(var we=0;we<Ze.length;){var ot=Ze.start(we),Dt=Ze.end(we);if(dt>=ot&&dt<=Dt)return!0;we+=1}return!1}catch(en){return b.error(en),!1}},pruneBuffer:yn,setMediaSource:Ue,getMediaSource:function(){return C},appendInitSegmentFromCache:function(dt){var Ze=$.extract(X.id,dt);return!!Ze&&(b.info("Append Init fragment",Re," with representationId:",Ze.representationId," and quality:",Ze.quality,", data size:",Ze.bytes.byteLength),Bt(Ze),!0)},getIsBufferingCompleted:function(){return I},setIsBufferingCompleted:Ot,getIsPruningInProgress:function(){return Ce},reset:function(dt,Ze){Y.off(g.Z.INIT_FRAGMENT_LOADED,wt,this),Y.off(g.Z.MEDIA_FRAGMENT_LOADED,Tt,this),Y.off(g.Z.WALLCLOCK_TIME_UPDATED,nr,this),Y.off(h.Z.PLAYBACK_PLAYING,ct,this),Y.off(h.Z.PLAYBACK_PROGRESS,Oe,this),Y.off(h.Z.PLAYBACK_TIME_UPDATED,Oe,this),Y.off(h.Z.PLAYBACK_RATE_CHANGED,mr,this),Y.off(h.Z.PLAYBACK_STALLED,nt,this),Ht(dt,Ze)},prepareForPlaybackSeek:function(){return I&&Ot(!1),se.abort()},prepareForReplacementTrackSwitch:function(dt){return new Promise(function(Ze,we){se.abort().then(function(){return hr()}).then(function(){return Be.get().streaming.buffer.useChangeTypeForTrackSwitch?se.changeType(dt):Promise.resolve()}).then(function(){return Te()}).then(function(){Ot(!1),Ze()}).catch(function(ot){we(ot)})})},prepareForNonReplacementTrackSwitch:function(dt){return new Promise(function(Ze,we){hr().then(function(){return Be.get().streaming.buffer.useChangeTypeForTrackSwitch?se.changeType(dt):Promise.resolve()}).then(function(){Ze()}).catch(function(ot){we(ot)})})},prepareForForceReplacementQualitySwitch:function(dt){return new Promise(function(Ze,we){se.abort().then(function(){return hr()}).then(function(){return Te()}).then(function(){return $n(dt)}).then(function(){Ot(!1),Ze()}).catch(function(ot){we(ot)})})},updateAppendWindow:hr,getAllRangesWithSafetyFactor:Je,getContinuousBufferTimeForTargetTime:an,clearBuffers:Nn,pruneAllSafely:Te,updateBufferTimestampOffset:$n,setSeekTarget:function(dt){ve=dt},segmentRequestingCompleted:function(dt){isNaN(dt)||(ee=dt,qt())}},b=(0,x.Z)(A).getInstance().getLogger(m),$=ft(A).getInstance(),Ht(),m}Pt.__dashjs_factory_name=pt;const $e=S.Z.getClassFactory(Pt);var ut="NotFragmentedTextBufferController";function Se(y){y=y||{};var m,b,I,F,O,C,B=this.context,ee=(0,T.Z)(B).getInstance(),se=y.textController,te=y.errHandler,U=y.streamInfo,oe=y.type;function ne(Ce){F=Ce}function _e(Ce){b!==Ce&&(b=Ce)&&ee.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:U.id,mediaType:oe})}function me(Ce){Ce.chunk.bytes&&!b&&(C.save(Ce.chunk),O.append(Ce.chunk),_e(!0))}return m={initialize:function(Ce){ne(Ce)},getStreamId:function(){return U.id},getType:function(){return oe},getBufferControllerType:function(){return ut},createBufferSink:function(Ce){return new Promise(function(Ae,$){try{(O=Ne(B).create({mediaSource:F,textController:se,eventBus:ee})).initializeForFirstUse(U,Ce),I||(O.getBuffer()&&"function"==typeof O.getBuffer().initialize&&O.getBuffer().initialize(),I=!0),Ae(O)}catch(ge){te.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+oe)),$(ge)}})},dischargePreBuffer:function(){},getBuffer:function(){return O},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:ne,getMediaSource:function(){return F},appendInitSegmentFromCache:function(Ce){return null!==C.extract(U.id,Ce)},getIsBufferingCompleted:function(){return b},setIsBufferingCompleted:_e,getIsPruningInProgress:function(){return!1},reset:function(Ce){ee.off(g.Z.INIT_FRAGMENT_LOADED,me,m),!Ce&&O&&(O.abort(),O.reset(),O=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return b=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},I=!1,F=null,b=!1,C=ft(B).getInstance(),ee.on(g.Z.INIT_FRAGMENT_LOADED,me,m),m}Se.__dashjs_factory_name=ut;const ye=S.Z.getClassFactory(Se);function at(y){y=y||{};var m,b,I,F,O,C,B,ee,se,te,U,oe,ne=this.context,_e=(0,T.Z)(ne).getInstance(),me=y.dashMetrics,Ce=y.mediaPlayerModel,Ae=y.fragmentModel,$=y.abrController,ge=y.playbackController,fe=y.textController,ve=y.type,A=y.bufferController,Y=y.representationController,Q=y.settings;function z(Qe){if(!A.getIsBufferingCompleted()){V();var ke=isNaN(Qe)?0:Qe;O=setTimeout(G,ke)}}function V(){O&&(clearTimeout(O),O=null)}function G(){try{if(function(){try{return ve===d.Z.TEXT&&!fe.isTextEnabled()||ge.isPaused()&&(!ge.getStreamController().getInitialPlayback()||!ge.getStreamController().getAutoPlay())&&!Q.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void V();if(function(){try{return Y.getCurrentRepresentationInfo()&&(isNaN(se)||te||(Ft=$.getMaxAllowedIndexFor(ve,b.id),!(!isNaN(ee)&&ee==Ft||(I.info("Top quality "+ve+" index has changed from "+ee+" to "+Ft),ee=Ft,0)))||(wt=Y.getCurrentRepresentationInfo(),!ve||!wt||me.getCurrentBufferLevel(ve)<re()))}catch{return!1}var wt,Ft}()){var Qe=!1;oe&&(Qe=$.checkPlaybackQuality(ve,b.id)),Qe||(ke=Y.getCurrentRepresentationInfo(),U||ke.quality!==se||te?(te?(I.debug("Switch track for "+ve+", representation id = "+ke.id),te=!1):I.debug("Quality has changed, get init request for representationid = "+ke.id),_e.trigger(g.Z.INIT_FRAGMENT_NEEDED,{representationId:ke.id,sender:m},{streamId:b.id,mediaType:ve}),oe=!1,U=!1):(I.debug("Media segment needed for ".concat(ve," and stream id ").concat(b.id)),_e.trigger(g.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:b.id,mediaType:ve}),oe=!0))}else z(ge.getLowLatencyModeEnabled()?Q.get().streaming.scheduling.lowLatencyTimeout:Q.get().streaming.scheduling.defaultTimeout)}catch{z(ge.getLowLatencyModeEnabled()?Q.get().streaming.scheduling.lowLatencyTimeout:Q.get().streaming.scheduling.defaultTimeout)}var ke}function re(){var Qe=NaN,ke=Y.getCurrentRepresentationInfo();return ve&&ke&&(Qe=ve===d.Z.TEXT?function(){try{if(fe.isTextEnabled()){var tt=Y.getCurrentRepresentationInfo();if(isNaN(tt.fragmentDuration)){var Ft=me.getCurrentSchedulingInfo(N.Z.SCHEDULING_INFO);return Ft?Ft.duration:0}return tt.fragmentDuration}return 0}catch{return 0}}():ve===d.Z.AUDIO&&C?function(){try{var tt=me.getCurrentBufferLevel(d.Z.VIDEO),Ft=Y.getCurrentRepresentationInfo();return isNaN(Ft.fragmentDuration)?tt+1:Math.max(tt+1,Ft.fragmentDuration)}catch{return 0}}():function(){try{var tt=Y.getCurrentRepresentationInfo().mediaInfo.streamInfo;return $.isPlayingAtTopQuality(tt)?tt.manifestInfo.duration>=Q.get().streaming.buffer.longFormContentDurationThreshold?Q.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Q.get().streaming.buffer.bufferTimeAtTopQuality:Ce.getStableBufferTime()}catch{return Ce.getStableBufferTime()}}()),Qe}function he(){j(!0)}function j(Qe){if(ge&&Ae){var ke=Ae.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:ge.getTime(),threshold:0})[0];ke&&ge.getTime()>=ke.startTime&&((!B.mediaInfo||ke.mediaInfo.type===B.mediaInfo.type&&ke.mediaInfo.id!==B.mediaInfo.id)&&Qe&&_e.trigger(g.Z.TRACK_CHANGE_RENDERED,{mediaType:ve,oldMediaInfo:B.mediaInfo,newMediaInfo:ke.mediaInfo,streamId:b.id}),ke.quality===B.quality&&ke.adaptationIndex===B.adaptationIndex||!Qe||(I.debug("Quality change rendered for streamId ".concat(b.id," and type ").concat(ve)),_e.trigger(g.Z.QUALITY_CHANGE_RENDERED,{mediaType:ve,oldQuality:B.quality,newQuality:ke.quality,streamId:b.id})),B={mediaInfo:ke.mediaInfo,quality:ke.quality,adaptationIndex:ke.adaptationIndex})}}function X(){Ae.abortRequests(),V()}function Re(){Q.get().streaming.scheduling.scheduleWhilePaused||z()}function Be(Qe){me.updatePlayListTraceMetrics({playbackspeed:Qe.playbackRate.toString()})}function Ue(){oe=!0,F=0,se=NaN,B={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},ee=NaN,te=!1,U=!1}return m={initialize:function(Qe){C=Qe,_e.on(g.Z.URL_RESOLUTION_FAILED,X,m),_e.on(h.Z.PLAYBACK_STARTED,Re,m),_e.on(h.Z.PLAYBACK_RATE_CHANGED,Be,m),_e.on(h.Z.PLAYBACK_TIME_UPDATED,he,m)},getType:function(){return ve},getStreamId:function(){return b.id},setTimeToLoadDelay:function(Qe){F=Qe},getTimeToLoadDelay:function(){return F},setSwitchTrack:function(Qe){te=Qe},getSwitchTrack:function(){return te},startScheduleTimer:z,clearScheduleTimer:V,reset:function(){_e.off(g.Z.URL_RESOLUTION_FAILED,X,m),_e.off(h.Z.PLAYBACK_STARTED,Re,m),_e.off(h.Z.PLAYBACK_RATE_CHANGED,Be,m),_e.off(h.Z.PLAYBACK_TIME_UPDATED,he,m),V(),j(!1),Ue(),b=null},getBufferTarget:re,getPlaybackController:function(){return ge},setCheckPlaybackQuality:function(Qe){oe=Qe},setInitSegmentRequired:function(Qe){U=Qe},setLastInitializedQuality:function(Qe){se=Qe}},I=(0,x.Z)(ne).getInstance().getLogger(m),Ue(),b=y.streamInfo,m}at.__dashjs_factory_name="ScheduleController";const E=S.Z.getClassFactory(at);var _=L(7387);function R(y){var m,b,I,F,O,C,B=(y=y||{}).eventBus,ee=y.events,se=y.abrController,te=y.dashMetrics,U=y.playbackController,oe=y.timelineConverter,ne=y.type,_e=y.streamInfo,me=y.dashConstants,Ce=y.segmentsController,Ae=y.isDynamic,$=y.adapter;function ge(){return ne}function fe(){return I}function ve(){return C}function A(){b=null,I=!0,F=[],O=null}function Y(he){return new Promise(function(j,X){var Re=he.hasInitialization(),Be=he.hasSegments(),Ue=[];Ue.push(Ce.updateInitData(he,Re)),Ue.push(Ce.updateSegmentData(he,Be)),Promise.all(Ue).then(function(Qe){var ke,Ft;Qe[0]&&!Qe[0].error&&(he=(Ft=Qe[0])&&!Ft.error&&Ft.representation?Ft.representation:he),Qe[1]&&!Qe[1].error&&(he=function(tt,Ft){if(Ft&&!Ft.error){var wt,Tt,Bt,on,Le=Ft.segments,Te=[],Je=0;for(wt=0,Tt=Le?Le.length:0;wt<Tt;wt++)(on=(0,_.TJ)(oe,Ae,tt,(Bt=Le[wt]).startTime,Bt.duration,Bt.timescale,Bt.media,Bt.mediaRange,Je))&&(Te.push(on),on=null,Je++);return Te.length>0&&(tt.segments=Te),tt}}(he,Qe[1])),(ke=he).mediaFinishedInformation=Ce.getMediaFinishedInformation(ke),function(tt){if(fe()){var Ft,Tt=te.getCurrentManifestUpdate(),Bt=!1;if(Tt){for(var on=0;on<Tt.representationInfo.length;on++)if((Ft=Tt.representationInfo[on]).index===tt.index&&Ft.mediaType===ge()){Bt=!0;break}Bt||te.addManifestUpdateRepresentationInfo(tt,ge())}if(function(){for(var Te=0,Je=F.length;Te<Je;Te++){var Oe=F[Te].segmentInfoType;if(!F[Te].hasInitialization()||(Oe===me.SEGMENT_BASE||Oe===me.BASE_URL)&&!F[Te].segments)return!1}return!0}()){se.setPlaybackQuality(ne,_e,F.indexOf(C));var Le=te.getCurrentDVRInfo(ne);Le&&te.updateManifestUpdateInfo({latency:Le.range.end-U.getTime()}),te.getCurrentRepresentationSwitch(ve().adaptation.type)||Q(),V()}}}(he),j()}).catch(function(Qe){X(Qe)})})}function Q(){!function(){if(!(se&&te&&U&&oe))throw new Error(d.Z.MISSING_CONFIG_ERROR)}();var he=new Date,j=ve(),X=1e3*U.getTime();j&&te.addRepresentationSwitch(j.adaptation.type,he,X,j.id),B.trigger(h.Z.REPRESENTATION_SWITCH,{mediaType:ne,streamId:_e.id,currentRepresentation:j,numberOfRepresentations:F.length},{streamId:_e.id,mediaType:ne})}function z(he){return null==he||he>=F.length?null:F[he]}function V(he){I=!1,B.trigger(ee.DATA_UPDATE_COMPLETED,{data:b,currentRepresentation:C,error:he},{streamId:_e.id,mediaType:ne})}function G(he){O=$.convertRepresentationToRepresentationInfo(C=he)}function re(he){if(he.newDuration){var j=ve();j&&j.adaptation.period&&(j.adaptation.period.duration=he.newDuration)}}return m={getStreamId:function(){return _e.id},getType:ge,getData:function(){return b},isUpdating:fe,updateData:function(he,j,X,Re,Be){return new Promise(function(Ue,Qe){if(I=!0,F=j,b=he,G(z(Be)),X!==d.Z.VIDEO&&X!==d.Z.AUDIO&&(X!==d.Z.TEXT||!Re))return V(),void Ue();for(var ke=[],tt=0,Ft=F.length;tt<Ft;tt++)ke.push(Y(F[tt]));Promise.all(ke).then(function(){G(z(Be)),Ue()}).catch(function(Tt){Qe(Tt)})})},getCurrentRepresentation:ve,getCurrentRepresentationInfo:function(){return O},getRepresentationForQuality:z,prepareQualityChange:function(he){G(z(he)),Q()},reset:function(){B.off(h.Z.MANIFEST_VALIDITY_CHANGED,re,m),A()}},A(),B.on(h.Z.MANIFEST_VALIDITY_CHANGED,re,m),m}R.__dashjs_factory_name="RepresentationController";const M=S.Z.getClassFactory(R);var ue=L(3106),ae=L(9326),Ie=L(7473),Ge=L(2594);function We(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}var Fe=function y(){We(this,y),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Fe.INITIAL_PLAYOUT_START_REASON="initial_playout",Fe.SEEK_START_REASON="seek",Fe.RESUME_FROM_PAUSE_START_REASON="resume",Fe.METRICS_COLLECTION_START_REASON="metrics_collection_start";var et=function y(){We(this,y),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};et.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",et.REBUFFERING_REASON="rebuffering",et.USER_REQUEST_STOP_REASON="user_request",et.END_OF_PERIOD_STOP_REASON="end_of_period",et.END_OF_CONTENT_STOP_REASON="end_of_content",et.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",et.FAILURE_STOP_REASON="failure";var it=L(7802);function Me(){return{ntpToUTC:function(y){var m=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(m.getTime()+y).getTime()}}}Me.__dashjs_factory_name="TimeUtils";const Ke=S.Z.getSingletonFactory(Me);function Xe(y){y=y||{};var m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me=this.context,Ce=(0,T.Z)(me).getInstance(),Ae=y.streamInfo,$=y.type,ge=y.errHandler,fe=y.mimeType,ve=y.timelineConverter,A=y.adapter,Y=y.manifestModel,Q=y.mediaPlayerModel,z=y.fragmentModel,V=y.abrController,G=y.playbackController,re=y.mediaController,he=y.textController,j=y.dashMetrics,X=y.settings,Re=y.boxParser,Be=y.segmentBlacklistController;function Ue(){return Ae.id}function Qe(){return $}function ke(){return A.getIsTextTrack(ee.getData())}function tt(){O=[],F=null,ne=0,se=!1,te=!1,_e=null}function Ft(mt){return!isNaN(mt)&&!isNaN(Ae.duration)&&isFinite(Ae.duration)&&mt>=Ae.start+Ae.duration}function wt(mt){var Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(mt.sender)if(G.getIsManifestUpdateInProgress())Te();else if((!ke()||he.isTextEnabled())&&C&&mt.representationId&&!C.appendInitSegmentFromCache(mt.representationId)){var dt=ee.getCurrentRepresentation();if(0===dt.range)return void Tt();var Ze=U?U.getInitRequest(F,dt):null;Ze?z.executeRequest(Ze):Ht&&(B.setInitSegmentRequired(!0),Te())}}function Tt(mt){var Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(G.getIsManifestUpdateInProgress()||C.getIsPruningInProgress())Te();else{var dt=function Le(){var mt,Ht=$n();if(isNaN(ne)||Qe()===d.Z.TEXT&&!he.isTextEnabled())return null;if(U){var dt=ee&&Ht?ee.getRepresentationForQuality(Ht.quality):null;mt=se?U.getSegmentRequestForTime(F,dt,ne):U.getNextSegmentRequest(F,dt)}return mt}();dt?(se=!1,function Bt(mt){isNaN(mt.startTime+mt.duration)||(ne=mt.startTime+mt.duration),mt.delayLoadingTime=(new Date).getTime()+B.getTimeToLoadDelay(),B.setTimeToLoadDelay(0),function(Ht){var dt=Ht.url;return Ht.range&&(dt=dt.concat("_",Ht.range)),Be.contains(dt)}(mt)?(b.warn("Fragment request url ".concat(mt.url," for stream id ").concat(Ae.id," and media type ").concat($," is on the ignore list and will be skipped")),Te()):(b.debug("Next fragment request url for stream id ".concat(Ae.id," and media type ").concat($," is ").concat(mt.url)),z.executeRequest(mt))}(dt)):function on(mt){var Ht,dt=ee.getCurrentRepresentation();if(!X.get().streaming.gaps.enableSeekFix||!se&&0!==G.getTime()||(I?I&&dt.segmentInfoType===f.Z.SEGMENT_TIMELINE&&(Ht=U.getValidTimeAheadOfTargetTime(ne,F,dt,X.get().streaming.gaps.threshold)):Ht=U.getValidTimeAheadOfTargetTime(ne,F,dt,X.get().streaming.gaps.threshold),isNaN(Ht)||Ht===ne)){if(U.isLastSegmentRequested(dt,ne)){var Ze=U.getCurrentIndex();return b.debug("Segment requesting for stream ".concat(Ae.id," has finished")),Ce.trigger(g.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ze},{streamId:Ae.id,mediaType:$}),C.segmentRequestingCompleted(Ze),void B.clearScheduleTimer()}mt&&Te()}else G.isSeeking()||0===G.getTime()?(b.warn("Adjusting playback time ".concat(Ht," because of gap in the manifest. Seeking by ").concat(Ht-ne)),G.seek(Ht,!1,!1)):(b.warn("Adjusting buffering time ".concat(Ht," because of gap in the manifest. Adjusting time by ").concat(Ht-ne)),mn(Ht),mt&&Te())}(Ht)}}function Te(){B.startScheduleTimer(G.getLowLatencyModeEnabled()?X.get().streaming.scheduling.lowLatencyTimeout:X.get().streaming.scheduling.defaultTimeout)}function Je(mt){mt.error||C.getIsBufferingCompleted()||C.updateBufferTimestampOffset(mt.currentRepresentation)}function Oe(mt){j.addBufferState($,mt.state,B.getBufferTarget()),mt.state!==N.Z.BUFFER_EMPTY||G.isSeeking()||(b.info("Buffer is empty! Stalling!"),j.pushPlayListTraceMetrics(new Date,et.REBUFFERING_REASON))}function nt(mt){z.syncExecutedRequestsWithBufferedRange(C.getBuffer().getAllBufferRanges(),Ae.duration),mt.quotaExceeded&&mt.from>G.getTime()&&mn(mt.from),mt.hasEnoughSpaceToAppend&&mt.quotaExceeded&&B.startScheduleTimer()}function ct(mt){if(mt&&mt.lastRequestAppended&&mt.lastRequestAppended.url){var Ht=mt.lastRequestAppended.url;mt.lastRequestAppended.range&&(Ht=Ht.concat("_",mt.lastRequestAppended.range)),b.warn("Blacklisting segment with url ".concat(Ht)),Be.add(Ht)}}function ht(mt){b.debug("Appended bytes for ".concat(mt.mediaType," and stream id ").concat(mt.streamId)),mt.segmentType===je.w.INIT_SEGMENT_TYPE&&(B.setLastInitializedQuality(mt.quality),b.info("["+$+"] lastInitializedRepresentationInfo changed to "+mt.quality)),_e?Lt(_e):B.startScheduleTimer(0)}function Lt(mt){var Ht=z.getRequests({state:k.FRAGMENT_MODEL_LOADING});if(Ht&&Ht.length>0)return b.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(_e=mt);C.updateBufferTimestampOffset(mt).then(function(){F.segmentAlignment||F.subSegmentAlignment?B.startScheduleTimer():_n(),_e=null,te=!1}).catch(function(){_e=null,te=!1})}function qt(mt){b.info("onFragmentLoadingAbandoned request: "+mt.request.url+" has been aborted"),G.isSeeking()||B.getSwitchTrack()||te||(b.info("onFragmentLoadingAbandoned request: "+mt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),mt.request&&mt.request.isInitializationRequest()?B.setInitSegmentRequired(!0):mn(mt.request.startTime+mt.request.duration/2),B.startScheduleTimer(0))}function Sn(mt){var Ht;b.info("OnFragmentLoadingCompleted for stream id "+Ae.id+" and media type "+$+" - Url:",mt.request?mt.request.url:"undefined",mt.request.range?", Range:"+mt.request.range:""),ke()&&B.startScheduleTimer(0),mt.error&&mt.request.serviceLocation&&(Ht=mt,b.info("Fragment loading completed with an error"),Ht&&Ht.request&&Ht.request.type&&(Ht.request.type===je.w.INIT_SEGMENT_TYPE?wt({representationId:Ht.request.representationId,sender:{}},!1):Ht.request.type===je.w.MEDIA_SEGMENT_TYPE&&(mn(Ht.request.startTime+Ht.request.duration/2),Tt({},!1))))}function In(){mn(G.getTime()),sr().startScheduleTimer()}function yn(mt){var Ht=mt.currentTrackInfo;if(Ht){var dt=O.find(function(Ze){return Ze.index===Ht.index&&Ze.lang===Ht.lang});dt&&er(dt).then(function(){C.setIsBufferingCompleted(!1),mn(G.getTime()),B.setInitSegmentRequired(!0),B.startScheduleTimer()})}}function Cn(mt){mn(mt.quotaExceededTime),B.clearScheduleTimer()}function Nn(){return C?C.getBuffer():null}function er(mt){mt===F||mt&&F&&mt.type!==F.type||(F=mt);var Ht=A.getRealAdaptation(Ae,F),dt=A.getVoRepresentations(F);if(ee){var Ze,we=ee.getData(),ot=V.getMaxAllowedIndexFor($,Ae.id),Dt=V.getMinAllowedIndexFor($,Ae.id),en=null;return null!==we&&we.id===Ht.id||$===d.Z.TEXT?Ze=V.getQualityFor($,Ae.id):(en=V.getThroughputHistory().getAverageThroughput($,I)||V.getInitialBitrateFor($,Ae.id),Ze=V.getQualityForBitrate(F,en,Ae.id)),void 0!==Dt&&Ze<Dt&&(Ze=Dt),Ze>ot&&(Ze=ot),ee.updateData(Ht,dt,$,F.isFragmented,Ze)}return Promise.resolve()}function sr(){return B}function $n(mt){var Ht;return void 0!==mt?((0,ue.SE)(mt),Ht=ee?ee.getRepresentationForQuality(mt):null):Ht=ee?ee.getCurrentRepresentation():null,A.convertRepresentationToRepresentationInfo(Ht)}function hr(){return!!C&&C.getIsBufferingCompleted()}function nr(mt){if(X.get().streaming.enableManifestTimescaleMismatchFix){var Ht=mt.chunk,dt=Ht.bytes,Ze=$n(Ht.quality),we=ee&&Ze?ee.getRepresentationForQuality(Ze.quality):null;Ze&&we&&(we.timescale=Re.getMediaTimescaleFromMoov(dt))}}function mr(mt){var Hr,Xi,Zi,bo,Ht=mt.chunk,dt=Ht.bytes,Ze=Ht.quality,we=$n(Ze),ot=ee&&we?ee.getRepresentationForQuality(we.quality):null;if(we&&ot){var Dt;if(X.get().streaming.parseInbandPrft&&mt.request.type===je.w.MEDIA_SEGMENT_TYPE){var en=(Hr=Dt=Dt||Re.parse(dt),Xi=ot.timescale,Zi=Hr.getBoxes("prft"),bo=[],Zi.forEach(function(ns){bo.push(function(rs,ra){var po="unknown";switch(rs.flags){case 0:po=f.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:po=f.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:po=f.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var ia=1e3*rs.ntp_timestamp_sec+rs.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:po,ntpTimestamp:ia=Ke(me).getInstance().ntpToUTC(ia),mediaTime:rs.media_time/ra}}(ns,Xi))}),bo);en&&en.length&&Ce.trigger(h.Z.INBAND_PRFT,{data:en},{streamId:Ae.id,mediaType:$})}var fn=A.getEventsFor(we.mediaInfo,null,Ae),Xn=A.getEventsFor(we,ot,Ae);if(fn&&fn.length>0||Xn&&Xn.length>0){var Ur=z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,quality:Ze,index:Ht.index})[0],Pi=function(Hr,Xi,Zi,bo){try{for(var ns={},rs=[],ra=Zi.concat(bo),po=0,ia=ra.length;po<ia;po++)ns[ra[po].schemeIdUri+"/"+ra[po].value]=ra[po];var oa=Hr.getBoxes("emsg");if(!oa||0===oa.length)return rs;for(var sa=Hr.getBox("sidx"),Ba=!sa||isNaN(sa.earliest_presentation_time)||isNaN(sa.timescale)?Xi&&!isNaN(Xi.mediaStartTime)?Xi.mediaStartTime:0:sa.earliest_presentation_time/sa.timescale,su=Math.max(Ba,0),nc=ee.getCurrentRepresentation(),Us=0,ml=oa.length;Us<ml;Us++){var aa=A.getEvent(oa[Us],ns,su,nc);aa&&rs.push(aa)}return rs}catch{return[]}}(Dt=Dt||Re.parse(dt),Ur,fn,Xn);Ce.trigger(g.Z.INBAND_EVENTS,{events:Pi},{streamId:Ae.id})}}}function Ot(){var mt=G.getTime();X.get().streaming.buffer.flushBufferAtTrackSwitch&&G.seek(mt+.001,!1,!0),mn(mt),C.setSeekTarget(mt),B.startScheduleTimer()}function _n(){var mt=G.getTime(),Ht=C.getContinuousBufferTimeForTargetTime(mt);mn(isNaN(Ht)?mt:Ht),B.startScheduleTimer()}function an(mt){mt&&!isNaN(mt.time)&&(mn(mt.time),C.setSeekTarget(mt.time))}function mn(mt){ne=mt,se=!0}return m={initialize:function(mt,Ht,dt){var Ze;oe=(0,it.Z)(me).create({events:g.Z,eventBus:Ce,streamInfo:Ae,timelineConverter:ve,dashConstants:f.Z,segmentBaseController:y.segmentBaseController,type:$}),(U=(0,ae.Z)(me).create({streamInfo:Ae,type:$,timelineConverter:ve,dashMetrics:j,mediaPlayerModel:Q,baseURLController:y.baseURLController,errHandler:ge,segmentsController:oe,settings:X,boxParser:Re,events:g.Z,eventBus:Ce,errors:pe,debug:(0,x.Z)(me).getInstance(),requestModifier:(0,Ie.Z)(me).getInstance(),dashConstants:f.Z,constants:d.Z,urlUtils:(0,Ge.Z)(me).getInstance()})).initialize(I=Ae.manifestInfo.isDynamic),V.registerStreamType($,m),ee=M(me).create({streamInfo:Ae,type:$,abrController:V,dashMetrics:j,playbackController:G,timelineConverter:ve,dashConstants:f.Z,events:g.Z,eventBus:Ce,errors:pe,isDynamic:I,adapter:A,segmentsController:oe}),(C=(Ze=$)?Ze!==d.Z.TEXT||dt?$e(me).create({streamInfo:Ae,type:Ze,mediaPlayerModel:Q,manifestModel:Y,fragmentModel:z,errHandler:ge,mediaController:re,representationController:ee,adapter:A,textController:he,abrController:V,playbackController:G,settings:X}):ye(me).create({streamInfo:Ae,type:Ze,mimeType:fe,fragmentModel:z,textController:he,errHandler:ge,settings:X}):(ge.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null))&&C.initialize(mt),(B=E(me).create({streamInfo:Ae,type:$,mimeType:fe,adapter:A,dashMetrics:j,mediaPlayerModel:Q,fragmentModel:z,abrController:V,playbackController:G,textController:he,mediaController:re,bufferController:C,representationController:ee,settings:X})).initialize(Ht),ne=0,se=!1},getStreamId:Ue,getType:Qe,isUpdating:function(){return!!ee&&ee.isUpdating()},getBufferController:function(){return C},dischargePreBuffer:function(){C.dischargePreBuffer()},getFragmentModel:function(){return z},getScheduleController:sr,getRepresentationController:function(){return ee},getRepresentationInfo:$n,getBufferLevel:function(){return C?C.getBufferLevel():0},isBufferingCompleted:hr,createBufferSinks:function(mt){var Ht=Nn();return Ht?Promise.resolve(Ht):C?C.createBufferSink(F,mt):Promise.resolve(null)},updateStreamInfo:function(mt){return Ae=mt,hr()?Promise.resolve():C.updateAppendWindow()},getStreamInfo:function(){return Ae},selectMediaInfo:er,clearMediaInfoArray:function(){O=[]},addMediaInfo:function(mt){-1===O.indexOf(mt)&&O.push(mt)},prepareTrackSwitch:function(){return new Promise(function(mt){b.debug("Preparing track switch for type ".concat($));var Ht=$===d.Z.TEXT||X.get().streaming.trackSwitchMode[$]===d.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&G.getTimeToStreamEnd(Ae)>X.get().streaming.buffer.stallThreshold;if(C.getIsBufferingCompleted()&&!Ht)return C.prepareForNonReplacementTrackSwitch(F.codec).then(function(){Ce.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:Ae.id,mediaType:$})}).catch(function(){Ce.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:Ae.id,mediaType:$})}),void mt();B.clearScheduleTimer(),B.setSwitchTrack(!0),Ht?(Ce.trigger(g.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:$,streamId:Ae.id},{mediaType:$,streamId:Ae.id}),z.abortRequests(),C.prepareForReplacementTrackSwitch(F.codec).then(function(){var dt=$n();return C.updateBufferTimestampOffset(dt)}).then(function(){Ot(),mt()}).catch(function(){Ot(),mt()})):C.prepareForNonReplacementTrackSwitch(F.codec).then(function(){_n(),mt()}).catch(function(){_n(),mt()})})},prepareQualityChange:function(mt){_e&&b.warning("Canceling queued representation switch to ".concat(_e.quality," for ").concat($)),b.debug("Preparing quality switch for type ".concat($));var Ht=mt.newQuality;te=!0,B.clearScheduleTimer(),ee.prepareQualityChange(Ht);var Ze,dt=$n(Ht);mt.reason&&mt.reason.forceReplace?(Ze=dt,z.abortRequests(),Ce.trigger(g.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:$,streamId:Ae.id},{mediaType:$,streamId:Ae.id}),C.prepareForForceReplacementQualitySwitch(Ze).then(function(){Ot(),te=!1}).catch(function(){Ot(),te=!1})):X.get().streaming.buffer.fastSwitchEnabled?function(Ze){var we=G.getTime(),ot=1.5*(isNaN(Ze.fragmentDuration)?1:Ze.fragmentDuration),Dt=z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:we+ot,threshold:0})[0];if(Dt&&!ke()){var en=C.getBufferLevel(),fn=V.getAbandonmentStateFor(Ae.id,$);Dt.quality<Ze.quality&&en>=ot&&fn!==N.Z.ABANDON_LOAD?C.updateBufferTimestampOffset(Ze).then(function(){z.abortRequests(),mn(we+ot),B.setCheckPlaybackQuality(!1),B.startScheduleTimer(),te=!1}).catch(function(){te=!1}):Lt(Ze)}else B.startScheduleTimer(),te=!1}(dt):Lt(dt),j.pushPlayListTraceMetrics(new Date,et.REPRESENTATION_SWITCH_STOP_REASON),j.createPlaylistTraceMetrics(dt.id,1e3*G.getTime(),G.getPlaybackRate())},getMediaInfo:function(){return F},getMediaSource:function(){return C.getMediaSource()},setMediaSource:function(mt){return C.setMediaSource(mt,F)},getBuffer:Nn,setExplicitBufferingTime:mn,finalisePlayList:function(mt,Ht){j.pushPlayListTraceMetrics(mt,Ht)},probeNextRequest:function(){var mt=$n(),Ht=ee&&mt?ee.getRepresentationForQuality(mt.quality):null;return U.getNextSegmentRequestIdempotent(F,Ht)},prepareInnerPeriodPlaybackSeeking:function(mt){return new Promise(function(Ht){if(C.hasBufferAtTime(mt.seekTime))return C.pruneBuffer(),Ft(C.getContinuousBufferTimeForTargetTime(mt.seekTime))&&C.setIsBufferingCompleted(!0),void Ht();B.clearScheduleTimer(),z.abortRequests(),C.prepareForPlaybackSeek().then(function(){var dt=C.getAllRangesWithSafetyFactor(mt.seekTime);return C.clearBuffers(dt)}).then(function(){var dt=C.getContinuousBufferTimeForTargetTime(mt.seekTime);if(Ft(dt))C.setIsBufferingCompleted(!0),Ht();else{var Ze=isNaN(dt)?mt.seekTime:dt;mn(Ze),C.setSeekTarget(Ze);var we=[];we.push(C.updateAppendWindow());var ot=$n();we.push(C.updateBufferTimestampOffset(ot)),Promise.all(we).then(function(){B.setInitSegmentRequired(!0),B.setCheckPlaybackQuality(!1),B.startScheduleTimer(),Ht()})}}).catch(function(dt){b.error(dt)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(mt,Ht){try{B.clearScheduleTimer(),z.abortRequests(),C.prepareForPlaybackSeek().then(function(){return C.pruneAllSafely()}).then(function(){mt()})}catch(dt){Ht(dt)}})},reset:function(mt,Ht){U&&U.reset(),C&&(C.reset(mt,Ht),C=null),B&&(B.reset(),B=null),ee&&(ee.reset(),ee=null),oe&&(oe=null),V&&V.unRegisterStreamType(Ue(),$),Ce.off(g.Z.DATA_UPDATE_COMPLETED,Je,m),Ce.off(g.Z.INIT_FRAGMENT_NEEDED,wt,m),Ce.off(g.Z.MEDIA_FRAGMENT_NEEDED,Tt,m),Ce.off(g.Z.INIT_FRAGMENT_LOADED,nr,m),Ce.off(g.Z.MEDIA_FRAGMENT_LOADED,mr,m),Ce.off(g.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,m),Ce.off(g.Z.BUFFER_CLEARED,nt,m),Ce.off(g.Z.SEEK_TARGET,an,m),Ce.off(g.Z.FRAGMENT_LOADING_ABANDONED,qt,m),Ce.off(g.Z.FRAGMENT_LOADING_COMPLETED,Sn,m),Ce.off(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,In,m),Ce.off(g.Z.SET_NON_FRAGMENTED_TEXT,yn,m),Ce.off(g.Z.QUOTA_EXCEEDED,Cn,m),Ce.off(g.Z.SOURCE_BUFFER_ERROR,ct,m),Ce.off(g.Z.BYTES_APPENDED_END_FRAGMENT,ht,m),tt(),$=null,Ae=null}},b=(0,x.Z)(me).getInstance().getLogger(m),tt(),Ce.on(g.Z.DATA_UPDATE_COMPLETED,Je,m,{priority:T.Z.EVENT_PRIORITY_HIGH}),Ce.on(g.Z.INIT_FRAGMENT_NEEDED,wt,m),Ce.on(g.Z.MEDIA_FRAGMENT_NEEDED,Tt,m),Ce.on(g.Z.INIT_FRAGMENT_LOADED,nr,m),Ce.on(g.Z.MEDIA_FRAGMENT_LOADED,mr,m),Ce.on(g.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,m),Ce.on(g.Z.BUFFER_CLEARED,nt,m),Ce.on(g.Z.SEEK_TARGET,an,m),Ce.on(g.Z.FRAGMENT_LOADING_ABANDONED,qt,m),Ce.on(g.Z.FRAGMENT_LOADING_COMPLETED,Sn,m),Ce.on(g.Z.QUOTA_EXCEEDED,Cn,m),Ce.on(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,In,m),Ce.on(g.Z.SET_NON_FRAGMENTED_TEXT,yn,m),Ce.on(g.Z.SOURCE_BUFFER_ERROR,ct,m),Ce.on(g.Z.BYTES_APPENDED_END_FRAGMENT,ht,m),m}Xe.__dashjs_factory_name="StreamProcessor";const Et=S.Z.getClassFactory(Xe),xt=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};var rn=L(9032);function Mn(y,m){if(y){if("string"==typeof y)return Tn(y,m);var b=Object.prototype.toString.call(y).slice(8,-1);return"Object"===b&&y.constructor&&(b=y.constructor.name),"Map"===b||"Set"===b?Array.from(y):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?Tn(y,m):void 0}}function Tn(y,m){(null==m||m>y.length)&&(m=y.length);for(var b=0,I=new Array(m);b<m;b++)I[b]=y[b];return I}function vn(y){var b,F=(y=y||{}).requestModifier,O=y.lowLatencyThroughputModel,C=y.boxParser,B=(0,Mt.Z)(this.context).getInstance();function ee(U){var oe,ne=new Date,_e=U.request,me=new Headers;if(_e.range&&me.append("Range","bytes="+_e.range),U.headers)for(var Ce in U.headers){var Ae=U.headers[Ce];Ae&&me.append(Ce,Ae)}_e.requestStartDate||(_e.requestStartDate=ne),F&&F.modifyRequestHeader&&F.modifyRequestHeader({setRequestHeader:function(A,Y){me.append(A,Y)}},{url:U.url}),"function"==typeof window.AbortController&&(oe=new AbortController,U.abortController=oe,oe.signal.onabort=U.onabort);var $={method:U.method,headers:me,credentials:U.withCredentials?"include":void 0,signal:oe?oe.signal:void 0},ge=B.get().streaming.abr.fetchThroughputCalculationMode,fe=Date.now(),ve=0;new Promise(function(A){if(ge===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(ve=O.getThroughputCapacityDelayMS(_e,1e3*b.getCurrentBufferLevel(_e.mediaType))))return setTimeout(A,ve);A()}).then(function(){var A=Date.now();fetch(U.url,$).then(function(Y){U.response||(U.response={}),U.response.status=Y.status,U.response.statusText=Y.statusText,U.response.responseURL=Y.url,Y.ok||U.onerror();var Q,z="",V=function(Oe,nt){var ct;if(typeof Symbol>"u"||null==Oe[Symbol.iterator]){if(Array.isArray(Oe)||(ct=Mn(Oe))){ct&&(Oe=ct);var ht=0,Lt=function(){};return{s:Lt,n:function(){return ht>=Oe.length?{done:!0}:{done:!1,value:Oe[ht++]}},e:function(yn){throw yn},f:Lt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var qt,Sn=!0,In=!1;return{s:function(){ct=Oe[Symbol.iterator]()},n:function(){var yn=ct.next();return Sn=yn.done,yn},e:function(yn){In=!0,qt=yn},f:function(){try{Sn||null==ct.return||ct.return()}finally{if(In)throw qt}}}}(Y.headers.keys());try{for(V.s();!(Q=V.n()).done;){var G=Q.value;z+=G+": "+Y.headers.get(G)+"\r\n"}}catch(Oe){V.e(Oe)}finally{V.f()}if(U.response.responseHeaders=z,!Y.body)return Y.arrayBuffer().then(function(Oe){U.response.response=Oe,U.progress({loaded:Oe.byteLength,total:Oe.byteLength,stream:!1}),U.onload(),U.onend()});var re,he,j,Re=parseInt(Y.headers.get("Content-Length"),10),Be=0,Ue=!1,Qe=new Uint8Array,ke=0;if(ge===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var tt=A,Ft=0,wt=function(Oe){if(Array.isArray(Oe))return Oe}(j=Y.body.tee())||function(Oe,nt){if(typeof Symbol<"u"&&Symbol.iterator in Object(Oe)){var ct=[],ht=!0,Lt=!1,qt=void 0;try{for(var Sn,In=Oe[Symbol.iterator]();!(ht=(Sn=In.next()).done)&&(ct.push(Sn.value),2!==ct.length);ht=!0);}catch(yn){Lt=!0,qt=yn}finally{try{ht||null==In.return||In.return()}finally{if(Lt)throw qt}}return ct}}(j)||Mn(j,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Bt=wt[1];re=wt[0].getReader(),he=[],re.read().then(function Oe(nt){var ct=nt.value,ht=nt.done;if(Ft=Date.now(),ct&&ct.length){var Lt=Ft-tt,qt=ct.length;he.push({chunkDownloadTimeRelativeMS:Ft-A,chunkDownloadDurationMS:Lt,chunkBytes:qt,kbps:Math.round(8*qt/(Lt/1e3)),bufferLevel:b.getCurrentBufferLevel(_e.mediaType)})}if(ht){var Sn=Ft-A,In=he.reduce(function(yn,Cn){return yn+Cn.chunkBytes},0);return O.addMeasurement(_e,Sn,he,fe,ve,z),void U.progress({loaded:In,total:In,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(_e),stream:!0})}return tt=Date.now(),re.read().then(Oe)}),U.reader=Bt.getReader()}else U.reader=Y.body.getReader();var on=[],Le=[],Te=[],Je=!0;se(U,function Oe(nt){var ct=nt.value;if(nt.done){if(Qe){if(ge!==d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var ht=null,Lt=null;ge===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(ht=function(yn,Cn){try{var Nn,er;Nn=yn.filter(function(_n,an){return an<yn.length-1}),er=Cn.filter(function(_n,an){return an<Cn.length-1});var sr=[];if(Nn.length>1){for(var $n=0,hr=0,nr=0;nr<Nn.length;nr++)if(Nn[nr]&&er[nr]){var mr=er[nr].ts-Nn[nr].ts;if(mr>1)sr.push(8*er[nr].bytes/mr),hr=0;else{0===hr&&(hr=Nn[nr].ts,$n=0);var Ot=er[nr].ts-hr;Ot>1?(sr.push(8*($n+=er[nr].bytes)/Ot),hr=0):$n+=er[nr].bytes}}if(sr.length>0)return sr.reduce(function(_n,an){return _n+an},0)/sr.length}return null}catch{return null}}(Le,Te))&&(Lt=8*Be/ht):ge===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Lt=te(on,Be)),U.progress({loaded:Be,total:isNaN(Re)?Be:Re,lengthComputable:!0,time:Lt,stream:!0})}U.response.response=Qe.buffer}return U.onload(),void U.onend()}if(ct&&ct.length>0){Qe=function(yn,Cn){if(0===yn.length)return Cn;var Nn=new Uint8Array(yn.length+Cn.length);return Nn.set(yn),Nn.set(Cn,yn.length),Nn}(Qe,ct),Be+=ct.length,on.push({ts:Date.now(),bytes:ct.length}),ge===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Je&&C.findLastTopIsoBoxCompleted(["moof"],Qe,ke).found&&(Je=!1,Le.push({ts:performance.now(),bytes:ct.length}));var qt=C.findLastTopIsoBoxCompleted(["moov","mdat"],Qe,ke);if(qt.found){var Sn,In=qt.lastCompletedOffset+qt.size;ge!==d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||Je||(Je=!0,Te.push({ts:performance.now(),bytes:Qe.length})),In===Qe.length?(Sn=Qe,Qe=new Uint8Array):(Sn=new Uint8Array(Qe.subarray(0,In)),Qe=Qe.subarray(In)),U.progress({data:Sn.buffer,lengthComputable:!1,noTrace:!0}),ke=0}else ke=qt.lastCompletedOffset,Ue||(U.progress({lengthComputable:!1,noTrace:!0}),Ue=!0)}se(U,Oe)})}).catch(function(Y){U.onerror&&U.onerror(Y)})})}function se(U,oe){U.reader.read().then(oe).catch(function(ne){U.onerror&&200===U.response.status&&U.onerror(ne)})}function te(U,oe){try{if((U=U.filter(function(me){return me.bytes>oe/4/U.length})).length>1){var ne=0,_e=(U[U.length-1].ts-U[0].ts)/U.length;return U.forEach(function(me,Ce){var Ae=U[Ce+1];if(Ae){var $=Ae.ts-me.ts;ne+=$<_e?$:0}}),ne}return null}catch{return null}}return{load:function(U){F&&F.modifyRequest?(0,Ie.k)(U,F).then(function(){return ee(U)}):ee(U)},abort:function(U){if(U.abortController)U.abortController.abort();else if(U.reader)try{U.reader.cancel(),U.onabort()}catch{}},calculateDownloadedTime:te,setup:function(U){b=U.dashMetrics}}}vn.__dashjs_factory_name="FetchLoader";const Gn=S.Z.getClassFactory(vn);var Zn=L(1180);const mi=function(){function y(){(function(I,F){if(!(I instanceof F))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var b;return(b=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==f.Z.BASE_URL&&this.segmentInfoType!==f.Z.SEGMENT_BASE&&!this.indexRange}}])&&function vr(y,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}(),Ti=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.period=null,this.index=-1,this.type=null};var qr=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};qr.DEFAULT_ID="defaultId";const Bi=qr,Ui=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};var $i=L(2610);const Wi=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};var Do=function y(m,b,I,F){(function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=m||"",this.serviceLocation=b||m||"",this.dvb_priority=I||1,this.dvb_weight=F||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};Do.DEFAULT_DVB_PRIORITY=1,Do.DEFAULT_DVB_WEIGHT=1;const mo=Do,ol=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Zt=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Vt=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0},lt=function(){function y(){(function(I,F){if(!(I instanceof F))throw new TypeError("Cannot call a class as a function")})(this,y),this.schemeIdUri=null,this.value=null,this.id=null}var b;return(b=[{key:"init",value:function(I){return I&&(this.schemeIdUri=I.schemeIdUri?I.schemeIdUri:null,this.value=I.value?I.value:null,this.id=I.id?I.id:null),this}}])&&function jt(y,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}();var Rt=L(3101),_t=L.n(Rt);function At(){return{areEqual:function(y,m){return _t()(y,m)}}}At.__dashjs_factory_name="ObjectUtils";const Jt=S.Z.getSingletonFactory(At);var tn=L(7803);const En=function y(m,b){(function(I,F){if(!(I instanceof F))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=m||"",this.serviceLocation=b||null,this.queryParams={}},hn=function y(m,b,I){(function(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=m||"",this.serviceLocation=b||null,this.ttl=I||NaN,this.queryParams={}};function sn(y,m){var b;if(typeof Symbol>"u"||null==y[Symbol.iterator]){if(Array.isArray(y)||(b=Ut(y))||m&&y&&"number"==typeof y.length){b&&(y=b);var I=0,F=function(){};return{s:F,n:function(){return I>=y.length?{done:!0}:{done:!1,value:y[I++]}},e:function(ee){throw ee},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,C=!0,B=!1;return{s:function(){b=y[Symbol.iterator]()},n:function(){var ee=b.next();return C=ee.done,ee},e:function(ee){B=!0,O=ee},f:function(){try{C||null==b.return||b.return()}finally{if(B)throw O}}}}function Ut(y,m){if(y){if("string"==typeof y)return gn(y,m);var b=Object.prototype.toString.call(y).slice(8,-1);return"Object"===b&&y.constructor&&(b=y.constructor.name),"Map"===b||"Set"===b?Array.from(y):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?gn(y,m):void 0}}function gn(y,m){(null==m||m>y.length)&&(m=y.length);for(var b=0,I=new Array(m);b<m;b++)I[b]=y[b];return I}function pn(){var y,m,b,I,F=this.context,O=(0,Ge.Z)(F).getInstance(),C=Number.isInteger||function(A){return"number"==typeof A&&isFinite(A)&&Math.floor(A)===A};function B(A,Y){if(!A)throw new Error("adaptation is not defined");if(!Y)throw new Error("type is not defined");if(A.Representation_asArray&&A.Representation_asArray.length){var Q=Ce(A.Representation_asArray[0]);if(Q&&Q.length>0&&tn.Y.indexOf(Q[0].schemeIdUri)>=0)return Y===d.Z.IMAGE}if(A.ContentComponent_asArray&&A.ContentComponent_asArray.length>0){if(A.ContentComponent_asArray.length>1)return Y===d.Z.MUXED;if(A.ContentComponent_asArray[0].contentType===Y)return!0}var z=Y===d.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(Y);if(A.Representation_asArray&&A.Representation_asArray.length&&z.test(A.Representation_asArray[0].codecs))return!0;if(A.hasOwnProperty(f.Z.MIME_TYPE))return z.test(A.mimeType);if(A.Representation_asArray)for(var G,re=0;re<A.Representation_asArray.length;re++)if((G=A.Representation_asArray[re]).hasOwnProperty(f.Z.MIME_TYPE))return z.test(G.mimeType);return!1}function ee(A){if(!A)throw new Error("adaptation is not defined");if(A.hasOwnProperty(f.Z.SEGMENT_TEMPLATE)||A.hasOwnProperty(f.Z.SEGMENT_TIMELINE)||A.hasOwnProperty(f.Z.SEGMENT_LIST)||A.hasOwnProperty(f.Z.SEGMENT_BASE))return!0;if(A.Representation_asArray&&A.Representation_asArray.length>0){var Y=A.Representation_asArray[0];if(Y.hasOwnProperty(f.Z.SEGMENT_TEMPLATE)||Y.hasOwnProperty(f.Z.SEGMENT_TIMELINE)||Y.hasOwnProperty(f.Z.SEGMENT_LIST)||Y.hasOwnProperty(f.Z.SEGMENT_BASE))return!0}return!1}function se(A){return B(A,d.Z.VIDEO)}function te(A){return B(A,d.Z.TEXT)}function U(A){return B(A,d.Z.IMAGE)}function oe(A){return A&&Array.isArray(A.Representation_asArray)&&A.Representation_asArray.sort(function(Y,Q){return Y.bandwidth-Q.bandwidth}),A}function ne(A,Y){return A&&A.Period_asArray&&C(Y)&&A.Period_asArray[Y]?A.Period_asArray[Y].AdaptationSet_asArray:[]}function _e(A){return A&&A.Period_asArray?A.Period_asArray:[]}function me(A){var Y=!1;return A&&A.hasOwnProperty("type")&&(Y=A.type===f.Z.DYNAMIC),Y}function Ce(A){return A&&A.EssentialProperty_asArray&&A.EssentialProperty_asArray.length?A.EssentialProperty_asArray.map(function(Y){return{schemeIdUri:Y.schemeIdUri,value:Y.value}}):null}function Ae(A){if(!A||!A.S_asArray)return NaN;var Y=A.S_asArray[0],Q=A.S_asArray[1];return Y.hasOwnProperty("d")?Y.d:Q.t-Y.t}function $(A,Y){if(!A)throw new Error("Period cannot be null or undefined");var Q=Bi.DEFAULT_ID+"_"+Y;return A.hasOwnProperty(f.Z.ID)&&A.id.length>0&&"__proto__"!==A.id&&(Q=A.id),Q}function ge(A,Y,Q){var z,V=[];if(!A)return V;for(z=0;z<A.length;z++){var G=new ol;if(G.timescale=1,G.representation=Y,!A[z].hasOwnProperty(d.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");G.schemeIdUri=A[z].schemeIdUri,A[z].hasOwnProperty(f.Z.TIMESCALE)&&(G.timescale=A[z].timescale),A[z].hasOwnProperty(f.Z.VALUE)&&(G.value=A[z].value),V.push(G),G.period=Q}return V}function fe(A){var Y=[],z=!1;return(A.BaseURL_asArray||[A.baseUri]).some(function(V){if(V){var G=new mo,re=V.__text||V;return O.isRelative(re)&&(z=!0,A.baseUri&&(re=O.resolve(re,A.baseUri))),G.url=re,G.serviceLocation=V.hasOwnProperty(f.Z.SERVICE_LOCATION)&&V.serviceLocation.length?V.serviceLocation:re,V.hasOwnProperty(f.Z.DVB_PRIORITY)&&(G.dvb_priority=V[f.Z.DVB_PRIORITY]),V.hasOwnProperty(f.Z.DVB_WEIGHT)&&(G.dvb_weight=V[f.Z.DVB_WEIGHT]),V.hasOwnProperty(f.Z.AVAILABILITY_TIME_OFFSET)&&(G.availabilityTimeOffset=V[f.Z.AVAILABILITY_TIME_OFFSET]),V.hasOwnProperty(f.Z.AVAILABILITY_TIME_COMPLETE)&&(G.availabilityTimeComplete="false"!==V[f.Z.AVAILABILITY_TIME_COMPLETE]),Y.push(G),z}}),Y}function ve(A){var Y=new Vt;return Y.serverUrl=A.__text,A.hasOwnProperty(f.Z.DEFAULT_SERVICE_LOCATION)&&(Y.defaultServiceLocation=A[f.Z.DEFAULT_SERVICE_LOCATION],Y.defaultServiceLocationArray=Y.defaultServiceLocation.split(" ")),A.hasOwnProperty(f.Z.QUERY_BEFORE_START)&&(Y.queryBeforeStart="true"===A[f.Z.QUERY_BEFORE_START].toLowerCase()),A.hasOwnProperty(f.Z.CLIENT_REQUIREMENT)&&(Y.clientRequirement="false"!==A[f.Z.CLIENT_REQUIREMENT].toLowerCase()),Y}return y={getIsTypeOf:B,getIsText:te,getIsFragmented:ee,getProducerReferenceTimesForAdaptation:function(A){var Y=A&&A.hasOwnProperty(f.Z.PRODUCERREFERENCETIME_ASARRAY)?A[f.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(A&&A.hasOwnProperty(f.Z.REPRESENTATION_ASARRAY)?A[f.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(z){var V;z.hasOwnProperty(f.Z.PRODUCERREFERENCETIME_ASARRAY)&&Y.push.apply(Y,function(G){if(Array.isArray(G))return gn(G)}(V=z[f.Z.PRODUCERREFERENCETIME_ASARRAY])||function(G){if(typeof Symbol<"u"&&Symbol.iterator in Object(G))return Array.from(G)}(V)||Ut(V)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});var Q=[];return Y.forEach(function(z){var V=new Zt;z.hasOwnProperty(f.Z.ID)&&(V[f.Z.ID]=z[f.Z.ID],z.hasOwnProperty(f.Z.WALL_CLOCK_TIME)&&(V[f.Z.WALL_CLOCK_TIME]=z[f.Z.WALL_CLOCK_TIME],z.hasOwnProperty(f.Z.PRESENTATION_TIME)&&(V[f.Z.PRESENTATION_TIME]=z[f.Z.PRESENTATION_TIME],z.hasOwnProperty(f.Z.INBAND)&&(V[f.Z.INBAND]="false"!==z[f.Z.INBAND]),z.hasOwnProperty(f.Z.TYPE)&&(V[f.Z.TYPE]=z[f.Z.TYPE]),Q.push(V))))}),Q},getLanguageForAdaptation:function(A){var Y="";return A&&A.hasOwnProperty(f.Z.LANG)&&(Y=A.lang),Y},getViewpointForAdaptation:function(A){return A&&A.hasOwnProperty(f.Z.VIEWPOINT_ASARRAY)&&A[f.Z.VIEWPOINT_ASARRAY].length?A[f.Z.VIEWPOINT_ASARRAY].map(function(Y){return(new lt).init(Y)}):[]},getRolesForAdaptation:function(A){return A&&A.hasOwnProperty(f.Z.ROLE_ASARRAY)&&A[f.Z.ROLE_ASARRAY].length?A[f.Z.ROLE_ASARRAY].map(function(Y){return(new lt).init(Y)}):[]},getAccessibilityForAdaptation:function(A){return A&&A.hasOwnProperty(f.Z.ACCESSIBILITY_ASARRAY)&&A[f.Z.ACCESSIBILITY_ASARRAY].length?A[f.Z.ACCESSIBILITY_ASARRAY].map(function(Y){return(new lt).init(Y)}):[]},getAudioChannelConfigurationForAdaptation:function(A){return A&&A.hasOwnProperty(f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&A[f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?A[f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(Y){return(new lt).init(Y)}):[]},getAudioChannelConfigurationForRepresentation:function(A){return A&&A.hasOwnProperty(f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&A[f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?A[f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(Y){return(new lt).init(Y)}):[]},getAdaptationForIndex:function(A,Y,Q){var z=ne(Y,Q);return z.length>0&&C(A)?z[A]:null},getIndexForAdaptation:function(A,Y,Q){if(!A)return-1;for(var z=ne(Y,Q),V=0;V<z.length;V++)if(Jt(F).getInstance().areEqual(z[V],A))return V;return-1},getAdaptationForId:function(A,Y,Q){var z,V,G=ne(Y,Q);for(z=0,V=G.length;z<V;z++)if(G[z].hasOwnProperty(f.Z.ID)&&G[z].id===A)return G[z];return null},getAdaptationsForType:function(A,Y,Q){var z,V,G=ne(A,Y),re=[];for(z=0,V=G.length;z<V;z++)B(G[z],Q)&&re.push(oe(G[z]));return re},getRealPeriods:_e,getRealPeriodForIndex:function(A,Y){var Q=_e(Y);return Q.length>0&&C(A)?Q[A]:null},getCodec:function(A,Y,Q){var z=null;if(A&&A.Representation_asArray&&A.Representation_asArray.length>0){var V=C(Y)&&Y>=0&&Y<A.Representation_asArray.length?A.Representation_asArray[Y]:A.Representation_asArray[0];V&&(z=V.mimeType+';codecs="'+V.codecs+'"',Q&&void 0!==V.width&&(z+=';width="'+V.width+'";height="'+V.height+'"'))}return z&&(z=z.replace(/\sprofiles=[^;]*/g,"")),z},getSelectionPriority:function(A){try{var Y=A&&void 0!==A.selectionPriority?parseInt(A.selectionPriority):1;return isNaN(Y)?1:Y}catch{return 1}},getMimeType:function(A){return A&&A.Representation_asArray&&A.Representation_asArray.length>0?A.Representation_asArray[0].mimeType:null},getKID:function(A){return A&&A.hasOwnProperty(f.Z.CENC_DEFAULT_KID)?A[f.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(A){if(!A||!Array.isArray(A.Label_asArray))return[];for(var Y=[],Q=0;Q<A.Label_asArray.length;Q++)Y.push({lang:A.Label_asArray[Q].lang,text:A.Label_asArray[Q].__text||A.Label_asArray[Q]});return Y},getContentProtectionData:function(A){return A&&A.hasOwnProperty(f.Z.CONTENTPROTECTION_ASARRAY)&&0!==A.ContentProtection_asArray.length?A.ContentProtection_asArray:null},getIsDynamic:me,getId:function(A){return A&&A[f.Z.ID]||null},hasProfile:function(A,Y){var Q=!1;return A&&A.profiles&&A.profiles.length>0&&(Q=-1!==A.profiles.indexOf(Y)),Q},getDuration:function(A){return A&&A.hasOwnProperty(f.Z.MEDIA_PRESENTATION_DURATION)?A.mediaPresentationDuration:A&&"dynamic"==A.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(A){return A&&A.bandwidth?A.bandwidth:NaN},getManifestUpdatePeriod:function(A){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=NaN;return A&&A.hasOwnProperty(f.Z.MINIMUM_UPDATE_PERIOD)&&(Q=A.minimumUpdatePeriod),isNaN(Q)?Q:Math.max(Q-Y,1)},getPublishTime:function(A){return A&&A.hasOwnProperty(f.Z.PUBLISH_TIME)?new Date(A[f.Z.PUBLISH_TIME]):null},getRepresentationCount:function(A){return A&&Array.isArray(A.Representation_asArray)?A.Representation_asArray.length:0},getBitrateListForAdaptation:function(A){var Y=oe(A);return(Y&&Array.isArray(Y.Representation_asArray)?Y.Representation_asArray:[]).map(function(Q){return{bandwidth:Q.bandwidth,width:Q.width||0,height:Q.height||0,scanType:Q.scanType||null,id:Q.id||null}})},getRepresentationFor:function(A,Y){return Y&&Y.Representation_asArray&&Y.Representation_asArray.length>0&&C(A)?Y.Representation_asArray[A]:null},getRepresentationsForAdaptation:function(A){var Y,Q,z,V,G=[],re=function(Qe){if(Qe&&Qe.period&&C(Qe.period.index)){var ke=Qe.period.mpd.manifest.Period_asArray[Qe.period.index];if(ke&&ke.AdaptationSet_asArray&&C(Qe.index))return oe(ke.AdaptationSet_asArray[Qe.index])}}(A);if(re&&re.Representation_asArray){if(A&&A.period&&C(A.period.index)){var he=fe(A.period.mpd.manifest);he&&(Q=he[0])}for(var j=0,X=re.Representation_asArray.length;j<X;++j){var Re=re.Representation_asArray[j],Be=new mi;if(Be.index=j,Be.adaptation=A,Re.hasOwnProperty(f.Z.ID)&&(Be.id=Re.id),Re.hasOwnProperty(f.Z.CODECS)&&(Be.codecs=Re.codecs),Re.hasOwnProperty(f.Z.MIME_TYPE)&&(Be.mimeType=Re[f.Z.MIME_TYPE]),Re.hasOwnProperty(f.Z.CODEC_PRIVATE_DATA)&&(Be.codecPrivateData=Re.codecPrivateData),Re.hasOwnProperty(f.Z.BANDWITH)&&(Be.bandwidth=Re.bandwidth),Re.hasOwnProperty(f.Z.WIDTH)&&(Be.width=Re.width),Re.hasOwnProperty(f.Z.HEIGHT)&&(Be.height=Re.height),Re.hasOwnProperty(f.Z.SCAN_TYPE)&&(Be.scanType=Re.scanType),Re.hasOwnProperty(f.Z.MAX_PLAYOUT_RATE)&&(Be.maxPlayoutRate=Re.maxPlayoutRate),Re.hasOwnProperty(f.Z.SEGMENT_BASE)?(Y=Re.SegmentBase,Be.segmentInfoType=f.Z.SEGMENT_BASE):Re.hasOwnProperty(f.Z.SEGMENT_LIST)?Be.segmentInfoType=(Y=Re.SegmentList).hasOwnProperty(f.Z.SEGMENT_TIMELINE)?f.Z.SEGMENT_TIMELINE:f.Z.SEGMENT_LIST:Re.hasOwnProperty(f.Z.SEGMENT_TEMPLATE)?(Be.segmentInfoType=(Y=Re.SegmentTemplate).hasOwnProperty(f.Z.SEGMENT_TIMELINE)?f.Z.SEGMENT_TIMELINE:f.Z.SEGMENT_TEMPLATE,Y.hasOwnProperty(f.Z.INITIALIZATION_MINUS)&&(Be.initialization=Y.initialization.split("$Bandwidth$").join(Re.bandwidth).split("$RepresentationID$").join(Re.id))):Be.segmentInfoType=f.Z.BASE_URL,Be.essentialProperties=Ce(Re),Y){if(Y.hasOwnProperty(f.Z.INITIALIZATION)){var Ue=Y.Initialization;Ue.hasOwnProperty(f.Z.SOURCE_URL)&&(Be.initialization=Ue.sourceURL),Ue.hasOwnProperty(f.Z.RANGE)&&(Be.range=Ue.range)}else te(re)&&ee(re)&&re.mimeType&&-1===re.mimeType.indexOf("application/mp4")&&(Be.range=0);Y.hasOwnProperty(f.Z.TIMESCALE)&&(Be.timescale=Y.timescale),Y.hasOwnProperty(f.Z.DURATION)?Be.segmentDuration=Y.duration/Be.timescale:Re.hasOwnProperty(f.Z.SEGMENT_TEMPLATE)&&(Y=Re.SegmentTemplate).hasOwnProperty(f.Z.SEGMENT_TIMELINE)&&(Be.segmentDuration=Ae(Y.SegmentTimeline)/Be.timescale),Y.hasOwnProperty(f.Z.MEDIA)&&(Be.media=Y.media),Y.hasOwnProperty(f.Z.START_NUMBER)&&(Be.startNumber=Y.startNumber),Y.hasOwnProperty(f.Z.INDEX_RANGE)&&(Be.indexRange=Y.indexRange),Y.hasOwnProperty(f.Z.PRESENTATION_TIME_OFFSET)&&(Be.presentationTimeOffset=Y.presentationTimeOffset/Be.timescale),Y.hasOwnProperty(f.Z.AVAILABILITY_TIME_OFFSET)?Be.availabilityTimeOffset=Y.availabilityTimeOffset:Q&&void 0!==Q.availabilityTimeOffset&&(Be.availabilityTimeOffset=Q.availabilityTimeOffset),Y.hasOwnProperty(f.Z.AVAILABILITY_TIME_COMPLETE)?Be.availabilityTimeComplete="false"!==Y.availabilityTimeComplete:Q&&void 0!==Q.availabilityTimeComplete&&(Be.availabilityTimeComplete=Q.availabilityTimeComplete)}Be.MSETimeOffset=(V=(z=Be).presentationTimeOffset,z.adaptation.period.start-V),Be.path=[A.period.index,A.index,j],G.push(Be)}}return G},getAdaptationsForPeriod:function(A){var Y,Q,z,V=A&&C(A.index)?A.mpd.manifest.Period_asArray[A.index]:null,G=[];if(V&&V.AdaptationSet_asArray)for(z=0;z<V.AdaptationSet_asArray.length;z++)Q=V.AdaptationSet_asArray[z],Y=new Ti,Q.hasOwnProperty(f.Z.ID)&&(Y.id=Q.id),Y.index=z,Y.period=A,B(Q,d.Z.MUXED)?Y.type=d.Z.MUXED:B(Q,d.Z.AUDIO)?Y.type=d.Z.AUDIO:se(Q)?Y.type=d.Z.VIDEO:te(Q)?Y.type=d.Z.TEXT:U(Q)?Y.type=d.Z.IMAGE:m.warn("Unknown Adaptation stream type"),G.push(Y);return G},getRegularPeriods:function(A){var Y,Q,z=!!A&&me(A.manifest),V=[],G=null,re=null,he=null,j=null;for(Q=0,Y=A&&A.manifest&&A.manifest.Period_asArray?A.manifest.Period_asArray.length:0;Q<Y;Q++)(re=A.manifest.Period_asArray[Q]).hasOwnProperty(f.Z.START)?(j=new Bi).start=re.start:null!==G&&G.hasOwnProperty(f.Z.DURATION)&&null!==he?(j=new Bi).start=parseFloat((he.start+he.duration).toFixed(5)):0!==Q||z||((j=new Bi).start=0),null!==he&&isNaN(he.duration)&&(null!==j?he.duration=parseFloat((j.start-he.start).toFixed(5)):m.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==j&&(j.id=$(re,Q),j.index=Q,j.mpd=A,re.hasOwnProperty(f.Z.DURATION)&&(j.duration=re.duration),he&&(he.nextPeriodId=j.id),V.push(j),G=re,he=j),re=null,j=null;return 0===V.length||null!==he&&isNaN(he.duration)&&(he.duration=parseFloat((function(X){!function(){if(!b||!b.hasOwnProperty("error"))throw new Error(d.Z.MISSING_CONFIG_ERROR)}();var Re,Be=me(X.mpd.manifest);return X.mpd.manifest.mediaPresentationDuration?Re=X.mpd.manifest.mediaPresentationDuration:X.duration?Re=X.duration:Be?Re=Number.POSITIVE_INFINITY:b.error(new K.Z(pe.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",X)),Re}(he)-he.start).toFixed(5))),V},getMpd:function(A){var Y=new Ui;return A&&(Y.manifest=A,A.hasOwnProperty(f.Z.AVAILABILITY_START_TIME)?Y.availabilityStartTime=new Date(A.availabilityStartTime.getTime()):A.loadedTime&&(Y.availabilityStartTime=new Date(A.loadedTime.getTime())),A.hasOwnProperty(f.Z.AVAILABILITY_END_TIME)&&(Y.availabilityEndTime=new Date(A.availabilityEndTime.getTime())),A.hasOwnProperty(f.Z.MINIMUM_UPDATE_PERIOD)&&(Y.minimumUpdatePeriod=A.minimumUpdatePeriod),A.hasOwnProperty(f.Z.MEDIA_PRESENTATION_DURATION)&&(Y.mediaPresentationDuration=A.mediaPresentationDuration),A.hasOwnProperty(f.Z.SUGGESTED_PRESENTATION_DELAY)&&(Y.suggestedPresentationDelay=A.suggestedPresentationDelay),A.hasOwnProperty(f.Z.TIMESHIFT_BUFFER_DEPTH)&&(Y.timeShiftBufferDepth=A.timeShiftBufferDepth),A.hasOwnProperty(f.Z.MAX_SEGMENT_DURATION)&&(Y.maxSegmentDuration=A.maxSegmentDuration),A.hasOwnProperty(f.Z.PUBLISH_TIME)&&(Y.publishTime=new Date(A.publishTime))),Y},getEventsForPeriod:function(A){var Y,Q,z=A&&A.mpd&&A.mpd.manifest?A.mpd.manifest:null,V=z?z.Period_asArray:null,G=V&&A&&C(A.index)?V[A.index].EventStream_asArray:null,re=[];if(G)for(Y=0;Y<G.length;Y++){var he=new ol;if(he.period=A,he.timescale=1,!G[Y].hasOwnProperty(d.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(he.schemeIdUri=G[Y][d.Z.SCHEME_ID_URI],G[Y].hasOwnProperty(f.Z.TIMESCALE)&&(he.timescale=G[Y][f.Z.TIMESCALE]),G[Y].hasOwnProperty(f.Z.VALUE)&&(he.value=G[Y][f.Z.VALUE]),G[Y].hasOwnProperty(f.Z.PRESENTATION_TIME_OFFSET)&&(he.presentationTimeOffset=G[Y][f.Z.PRESENTATION_TIME_OFFSET]),Q=0;G[Y].Event_asArray&&Q<G[Y].Event_asArray.length;Q++){var j=G[Y].Event_asArray[Q],X=new Wi;X.presentationTime=0,X.eventStream=he,j.hasOwnProperty(f.Z.PRESENTATION_TIME)&&(X.presentationTime=j.presentationTime),X.calculatedPresentationTime=X.presentationTime/he.timescale+A.start-(he.presentationTimeOffset?he.presentationTimeOffset/he.timescale:0),j.hasOwnProperty(f.Z.DURATION)&&(X.duration=j.duration/he.timescale),X.id=j.hasOwnProperty(f.Z.ID)?j.id:null,X.messageData=j.Signal&&j.Signal.Binary?I.decodeArray(j.Signal.Binary.toString()):j.messageData||j.__cdata||j.__text,re.push(X)}}return re},getEssentialPropertiesForRepresentation:Ce,getEventStreamForAdaptationSet:function(A,Y,Q){var z,V,G;return A&&A.Period_asArray&&Y&&Y.period&&C(Y.period.index)&&(V=A.Period_asArray[Y.period.index])&&V.AdaptationSet_asArray&&C(Y.index)&&(G=V.AdaptationSet_asArray[Y.index])&&(z=G.InbandEventStream_asArray),ge(z,null,Q)},getEventStreamForRepresentation:function(A,Y,Q){var z,V,G,re;return A&&A.Period_asArray&&Y&&Y.adaptation&&Y.adaptation.period&&C(Y.adaptation.period.index)&&(V=A.Period_asArray[Y.adaptation.period.index])&&V.AdaptationSet_asArray&&C(Y.adaptation.index)&&(G=V.AdaptationSet_asArray[Y.adaptation.index])&&G.Representation_asArray&&C(Y.index)&&(re=G.Representation_asArray[Y.index])&&(z=re.InbandEventStream_asArray),ge(z,Y,Q)},getUTCTimingSources:function(A){var Y=me(A),Q=!!A&&A.hasOwnProperty(f.Z.AVAILABILITY_START_TIME),z=A?A.UTCTiming_asArray:null,V=[];return(Y||Q)&&z&&z.forEach(function(G){var re=new $i.Z;G.hasOwnProperty(d.Z.SCHEME_ID_URI)&&(re.schemeIdUri=G.schemeIdUri,G.hasOwnProperty(f.Z.VALUE)&&(re.value=G.value.toString(),V.push(re)))}),V},getBaseURLsFromElement:fe,getRepresentationSortFunction:function(){return function(A,Y){return A.bandwidth-Y.bandwidth}},getContentSteering:function(A){if(A&&A.hasOwnProperty(f.Z.CONTENT_STEERING_AS_ARRAY))return ve(A[f.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(A){return A&&A.hasOwnProperty(f.Z.LOCATION_AS_ARRAY)?A[f.Z.LOCATION_AS_ARRAY].map(function(Y){var Q=Y.__text||Y,z=Y.hasOwnProperty(f.Z.SERVICE_LOCATION)?Y[f.Z.SERVICE_LOCATION]:null;return new En(Q,z)}):[]},getPatchLocation:function(A){return A&&A.hasOwnProperty(f.Z.PATCH_LOCATION_AS_ARRAY)?A[f.Z.PATCH_LOCATION_AS_ARRAY].map(function(Y){var Q=Y.__text||Y,z=Y.hasOwnProperty(f.Z.SERVICE_LOCATION)?Y[f.Z.SERVICE_LOCATION]:null,V=Y.hasOwnProperty(f.Z.TTL)?1e3*parseFloat(Y[f.Z.TTL]):NaN;return new hn(Q,z,V)}):[]},getSuggestedPresentationDelay:function(A){return A&&A.hasOwnProperty(f.Z.SUGGESTED_PRESENTATION_DELAY)?A.suggestedPresentationDelay:null},getAvailabilityStartTime:function(A){return A&&A.hasOwnProperty(f.Z.AVAILABILITY_START_TIME)&&null!==A.availabilityStartTime?A.availabilityStartTime.getTime():null},getServiceDescriptions:function(A){var Y=[];if(A&&A.hasOwnProperty(f.Z.SERVICE_DESCRIPTION)){var Q,z=sn(A.ServiceDescription_asArray);try{for(z.s();!(Q=z.n()).done;){var V=Q.value,G=null,re=null,he=null,j=null,X=null,Re=null,Be=null;for(var Ue in V)V.hasOwnProperty(Ue)&&(Ue===f.Z.ID?G=V[Ue]:Ue===f.Z.SERVICE_DESCRIPTION_SCOPE?re=V[Ue].schemeIdUri:Ue===f.Z.SERVICE_DESCRIPTION_LATENCY?he={target:parseInt(V[Ue].target),max:parseInt(V[Ue].max),min:parseInt(V[Ue].min),referenceId:parseInt(V[Ue].referenceId)}:Ue===f.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?j={max:parseFloat(V[Ue].max),min:parseFloat(V[Ue].min)}:Ue===f.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?X={mediaType:V[Ue].mediaType,max:parseInt(V[Ue].max),min:parseInt(V[Ue].min),target:parseInt(V[Ue].target),type:V[Ue].type,maxQualityDifference:parseInt(V[Ue].maxQualityDifference)}:Ue===f.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?Re={mediaType:V[Ue].mediaType,max:parseInt(V[Ue].max),min:parseInt(V[Ue].min),target:parseInt(V[Ue].target)}:Ue===f.Z.CONTENT_STEERING&&(Be=ve(V[Ue])));Y.push({id:G,schemeIdUri:re,latency:he,playbackRate:j,operatingQuality:X,operatingBandwidth:Re,contentSteering:Be})}}catch(Qe){z.e(Qe)}finally{z.f()}}return Y},getSegmentAlignment:function(A){return!(!A||!A.hasOwnProperty(f.Z.SEGMENT_ALIGNMENT))&&"true"===A[f.Z.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(A){return!(!A||!A.hasOwnProperty(f.Z.SUB_SEGMENT_ALIGNMENT))&&"true"===A[f.Z.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(A){var Y={};if(A&&A.hasOwnProperty(f.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var Q,z=sn(A.SupplementalProperty_asArray);try{for(z.s();!(Q=z.n()).done;){var V=Q.value;V.hasOwnProperty(d.Z.SCHEME_ID_URI)&&V.hasOwnProperty(f.Z.VALUE)&&(Y[V[d.Z.SCHEME_ID_URI]]=V[f.Z.VALUE])}}catch(G){z.e(G)}finally{z.f()}}return Y},getSupplementalPropertiesAsArrayForAdaptation:function(A){return A&&A.hasOwnProperty(f.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&A.SupplementalProperty_asArray.length?A.SupplementalProperty_asArray.map(function(Y){return(new lt).init(Y)}):[]},getSupplementalPropertiesForRepresentation:function(A){var Y={};if(A&&A.hasOwnProperty(f.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var Q,z=sn(A.SupplementalProperty_asArray);try{for(z.s();!(Q=z.n()).done;){var V=Q.value;V.hasOwnProperty(d.Z.SCHEME_ID_URI)&&V.hasOwnProperty(f.Z.VALUE)&&(Y[V[d.Z.SCHEME_ID_URI]]=V[f.Z.VALUE])}}catch(G){z.e(G)}finally{z.f()}}return Y},getSupplementalPropertiesAsArrayForRepresentation:function(A){return A&&A.hasOwnProperty(f.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&A.SupplementalProperty_asArray.length?A.SupplementalProperty_asArray.map(function(Y){return(new lt).init(Y)}):[]},setConfig:function(A){A&&(A.errHandler&&(b=A.errHandler),A.BASE64&&(I=A.BASE64))}},m=(0,x.Z)(F).getInstance().getLogger(y),y}pn.__dashjs_factory_name="DashManifestModel";const Un=S.Z.getSingletonFactory(pn);var rr=L(703);function Or(y,m){var b;if(typeof Symbol>"u"||null==y[Symbol.iterator]){if(Array.isArray(y)||(b=function(ee,se){if(ee){if("string"==typeof ee)return Rn(ee,void 0);var te=Object.prototype.toString.call(ee).slice(8,-1);return"Object"===te&&ee.constructor&&(te=ee.constructor.name),"Map"===te||"Set"===te?Array.from(ee):"Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Rn(ee,void 0):void 0}}(y))||m&&y&&"number"==typeof y.length){b&&(y=b);var I=0,F=function(){};return{s:F,n:function(){return I>=y.length?{done:!0}:{done:!1,value:y[I++]}},e:function(ee){throw ee},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,C=!0,B=!1;return{s:function(){b=y[Symbol.iterator]()},n:function(){var ee=b.next();return C=ee.done,ee},e:function(ee){B=!0,O=ee},f:function(){try{C||null==b.return||b.return()}finally{if(B)throw O}}}}function Rn(y,m){(null==m||m>y.length)&&(m=y.length);for(var b=0,I=new Array(m);b<m;b++)I[b]=y[b];return I}function zt(){var y,m,b,I,F,O,C,B,ee,se,te=this.context,U=(0,T.Z)(te).getInstance(),oe=(0,Mt.Z)(te).getInstance();function ne(){b={pr:1,nor:null,st:null,sf:null,sid:"".concat(rr.Z.generateUuid()),cid:null},ee={},B={},se={},me()}function _e(){me()}function me(){if(O){var V=O.getStreamController();if(V&&"function"==typeof V.getActiveStream){var G=V.getActiveStream();G&&(C=G.getProcessors())}}}function Ce(V,G){var re,he={},j=Or(G);try{for(j.s();!(re=j.n()).done;){var X=re.value;V[X]&&(he[X]=V[X])}}catch(Re){j.e(Re)}finally{j.f()}return he}function Ae(V){var G=oe.get().streaming.cmcd.enabledKeys;return V.filter(function(re){return G.includes(re)})}function $(V){try{return V.type===je.w.MPD_TYPE?((re=ge()).ot="m",re):V.type===je.w.MEDIA_SEGMENT_TYPE?(se.hasOwnProperty(G=V.mediaType)||(se[G]=!1),B.hasOwnProperty(G)||(B[G]=!1),ee.hasOwnProperty(G)||(ee[G]=!1),function(he){var j,X=ge(),Re=function(Bt){try{return parseInt(Bt.mediaInfo.bitrateList[Bt.quality].bandwidth/1e3)}catch{return null}}(he),Be=function(Bt){try{return isNaN(Bt.duration)?NaN:Math.round(1e3*Bt.duration)}catch{return null}}(he),Ue=function(Bt){try{return 100*parseInt(I.getThroughputHistory().getSafeAverageThroughput(Bt)/100)}catch{return null}}(he.mediaType),Qe=function(Bt){try{var on=b.pr,Le=F.getCurrentBufferLevel(Bt);return isNaN(on)||isNaN(Le)?null:100*parseInt(Le/on*10)}catch{return null}}(he.mediaType),ke=fe(he.mediaType),tt=function(Bt){try{var on=I.getTopBitrateInfoFor(Bt);return Math.round(on.bitrate/1e3)}catch{return null}}(he.mediaType),Ft=b.pr,wt=function(Bt){if(C&&0!==C.length){var on,Le=Or(C);try{for(Le.s();!(on=Le.n()).done;){var Te=on.value;if(Te.getType()===Bt)return Te.probeNextRequest()}}catch(Je){Le.e(Je)}finally{Le.f()}}}(he.mediaType);he.mediaType===d.Z.VIDEO&&(j="v"),he.mediaType===d.Z.AUDIO&&(j="a"),he.mediaType===d.Z.TEXT&&(j="application/mp4"===he.mediaInfo.mimeType?"tt":"c");var Tt=oe.get().streaming.cmcd.rtp;return Tt||(Tt=function(Bt){try{var on=O.getPlaybackRate();on||(on=1);var Le=Bt.quality,Je=Bt.mediaInfo,Oe=Bt.duration;if(!Je)return NaN;var nt=fe(Bt.mediaType);0===nt&&(nt=500);var ct=Je.bitrateList[Le].bandwidth*Oe/1e3/(nt/on/1e3),ht=oe.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(oe.get().streaming.cmcd.rtpSafetyFactor)?oe.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(ct*ht/100)+1)}catch{return NaN}}(he)),isNaN(Tt)||(X.rtp=Tt),wt&&(he.url!==wt.url?X.nor=encodeURIComponent(rr.Z.getRelativeUrl(he.url,wt.url)):wt.range&&(X.nrr=wt.range)),Re&&(X.br=Re),j&&(X.ot=j),isNaN(Be)||(X.d=Be),isNaN(Ue)||(X.mtp=Ue),isNaN(Qe)||(X.dl=Qe),isNaN(ke)||(X.bl=ke),isNaN(tt)||(X.tb=tt),isNaN(Ft)||1===Ft||(X.pr=Ft),ee[he.mediaType]&&(X.bs=!0,ee[he.mediaType]=!1),!B[he.mediaType]&&se[he.mediaType]||(X.su=!0,B[he.mediaType]=!1,se[he.mediaType]=!0),X}(V)):V.type===je.w.INIT_SEGMENT_TYPE?((he=ge()).ot="i",he.su=!0,he):V.type===je.w.OTHER_TYPE||V.type===je.w.XLINK_EXPANSION_TYPE?function(){var he=ge();return he.ot="o",he}():V.type===je.w.LICENSE?((j=ge()).ot="k",j):null}catch{return null}var j,he,G,re}function ge(){var V={},G=oe.get().streaming.cmcd.cid?oe.get().streaming.cmcd.cid:b.cid;return V.v=1,V.sid=oe.get().streaming.cmcd.sid?oe.get().streaming.cmcd.sid:b.sid,V.sid="".concat(V.sid),G&&(V.cid="".concat(G)),isNaN(b.pr)||1===b.pr||null===b.pr||(V.pr=b.pr),b.st&&(V.st=b.st),b.sf&&(V.sf=b.sf),V}function fe(V){try{var G=F.getCurrentBufferLevel(V);return isNaN(G)?null:100*parseInt(10*G)}catch{return null}}function ve(V){try{b.pr=V.playbackRate}catch{}}function A(V){try{var G=y.getIsDynamic(V.data)?"l":"v",re=V.protocol&&"MSS"===V.protocol?"s":"d";b.st="".concat(G),b.sf="".concat(re)}catch{}}function Y(V){try{V.state&&V.mediaType&&V.state===h.Z.BUFFER_EMPTY&&(ee[V.mediaType]||(ee[V.mediaType]=!0),B[V.mediaType]||(B[V.mediaType]=!0))}catch{}}function Q(){for(var V in ee)ee.hasOwnProperty(V)&&(ee[V]=!0);for(var G in B)B.hasOwnProperty(G)&&(B[G]=!0)}function z(V){try{if(!V)return null;var G=Object.keys(V).sort(function(j,X){return j.localeCompare(X)}),re=G.length,he=G.reduce(function(j,X,Re){return"v"===X&&1===V[X]||(j+="string"==typeof V[X]&&"ot"!==X&&"sf"!==X&&"st"!==X?"".concat(X,"=").concat(JSON.stringify(V[X])):"".concat(X,"=").concat(V[X]),Re<re-1&&(j+=",")),j},"");return(he=he.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return m={getQueryParameter:function(V){try{if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled){var G=$(V),he=z(function(j){try{var X=oe.get().streaming.cmcd.enabledKeys;return Object.keys(j).filter(function(Re){return X.includes(Re)}).reduce(function(Re,Be){return Re[Be]=j[Be],Re},{})}catch{return j}}(G));return U.trigger(Zn.Z.CMCD_DATA_GENERATED,{url:V.url,mediaType:V.mediaType,cmcdData:G,cmcdString:he}),{key:"CMCD",value:he}}return null}catch{return null}},getHeaderParameters:function(V){try{if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled){var G=$(V),re=Ce(G,Ae(["br","d","ot","tb"])),he=Ce(G,Ae(["bl","dl","mtp","nor","nrr","su"])),j=Ce(G,Ae(["bs","rtp"])),X=Ce(G,Ae(["cid","pr","sf","sid","st","v"])),Re={"CMCD-Object":z(re),"CMCD-Request":z(he),"CMCD-Status":z(j),"CMCD-Session":z(X)};return U.trigger(Zn.Z.CMCD_DATA_GENERATED,{url:V.url,mediaType:V.mediaType,cmcdData:G,headers:Re}),Re}return null}catch{return null}},setConfig:function(V){V&&(V.abrController&&(I=V.abrController),V.dashMetrics&&(F=V.dashMetrics),V.playbackController&&(O=V.playbackController))},reset:function(){U.off(h.Z.PLAYBACK_RATE_CHANGED,ve,this),U.off(h.Z.MANIFEST_LOADED,A,this),U.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,Y,m),U.off(h.Z.PLAYBACK_SEEKED,Q,m),ne()},initialize:function(){U.on(h.Z.PLAYBACK_RATE_CHANGED,ve,m),U.on(h.Z.MANIFEST_LOADED,A,m),U.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,Y,m),U.on(h.Z.PLAYBACK_SEEKED,Q,m),U.on(h.Z.PERIOD_SWITCH_COMPLETED,_e,m)}},y=Un(te).getInstance(),ne(),m}zt.__dashjs_factory_name="CmcdModel";const kt=S.Z.getSingletonFactory(zt);function nn(y){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function Pn(y,m){Pn=function(B,ee){return new O(B,void 0,ee)};var b=wr(RegExp),I=RegExp.prototype,F=new WeakMap;function O(B,ee,se){var te=b.call(this,B,ee);return F.set(te,se||F.get(B)),te}function C(B,ee){var se=F.get(ee);return Object.keys(se).reduce(function(te,U){return te[U]=B[se[U]],te},Object.create(null))}return function qn(y,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),m&&Si(y,m)}(O,b),O.prototype.exec=function(B){var ee=I.exec.call(this,B);return ee&&(ee.groups=C(ee,this)),ee},O.prototype[Symbol.replace]=function(B,ee){if("string"==typeof ee){var se=F.get(this);return I[Symbol.replace].call(this,B,ee.replace(/\$<([^>]+)>/g,function(U,oe){return"$"+se[oe]}))}if("function"==typeof ee){var te=this;return I[Symbol.replace].call(this,B,function(){var U=[];return U.push.apply(U,arguments),"object"!==nn(U[U.length-1])&&U.push(C(U,te)),ee.apply(this,U)})}return I[Symbol.replace].call(this,B,ee)},Pn.apply(this,arguments)}function wr(y){var m="function"==typeof Map?new Map:void 0;return wr=function(b){if(null===b||-1===Function.toString.call(b).indexOf("[native code]"))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==m){if(m.has(b))return m.get(b);m.set(b,F)}function F(){return Dr(b,arguments,Lr(this).constructor)}return F.prototype=Object.create(b.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),Si(F,b)},wr(y)}function Dr(y,m,b){return(Dr=function Ii(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(I,F,O){var C=[null];C.push.apply(C,F);var B=new(Function.bind.apply(I,C));return O&&Si(B,O.prototype),B}).apply(null,arguments)}function Si(y,m){return(Si=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function Lr(y){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}var ii="dynamic",Ks="cmsd-"+ii,Vo="stream",oo=["mb","st","sf","v"],Bl={video:"v",audio:"a",text:"tt",stream:Vo},Lc=/^[-0-9]/;function Ul(){var y,m,b,I,F=this.context,O=(0,T.Z)(F).getInstance();function C(){b={},I={}}function B(ne){ne&&Object.keys(ne).forEach(function(_e){oo.includes(_e)||delete ne[_e]})}function ee(ne){return!ne||"false"!==ne.toLowerCase()&&(Lc.test(ne)?parseInt(ne,10):ne.replace(/["]+/g,""))}function se(ne){try{for(var _e={},me=ne.split(","),Ce=0;Ce<me.length;Ce++){var Ae=me[Ce].split("="),$=Ae[0],ge=ee(Ae[1]);_e[$]=ge}return _e}catch(fe){m.error("Failed to parse CMSD-Static response header value:",fe)}}function te(ne){try{for(var _e={},me=ne.split(","),Ce=me[me.length-1].split(";"),Ae=1;Ae<Ce.length;Ae++){var $=Ce[Ae].split("="),ge=$[0],fe=ee($[1]);_e[ge]=fe}return _e}catch(ve){return m.error("Failed to parse CMSD-Dynamic response header value:",ve),[]}}function U(ne){return Bl[ne]||"o"}function oe(ne,_e,me){var Ce="static"===ne?b:I;return(Ce[_e]||{})[me]||(Ce[Vo]||{})[me]}return y={setConfig:function(){},initialize:function(){},reset:function(){C()},parseResponseHeaders:function(ne,_e){for(var me=null,Ce=null,Ae=ne.split("\r\n"),$=Ae.length-1;$>=0;$--){var ge=Ae[$].match(Pn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(ge&&ge.groups){var fe=ge.groups.key.toLowerCase(),ve=ge.groups.value;switch(fe){case"cmsd-static":me=se(ve),O.trigger(g.Z.CMSD_STATIC_HEADER,me);break;case Ks:Ce||(Ce=te(ve))}}}var A=Vo;return me&&me.ot?A=me.ot:_e&&(A=U(_e)),B(b[A]),B(I[A]),me&&(b[A]=Object.assign(b[A]||{},me)),Ce&&(I[A]=Object.assign(I[A]||{},Ce)),{static:me,dynamic:Ce}},getMaxBitrate:function(ne){var _e=U(ne);return oe(ii,_e,"mb")||-1},getEstimatedThroughput:function(ne){var _e=U(ne);return oe(ii,_e,"etp")||null},getResponseDelay:function(ne){var _e=U(ne);return oe(ii,_e,"rd")||null},getRoundTripTime:function(ne){var _e=U(ne);return oe(ii,_e,"rtt")||null}},m=(0,x.Z)(F).getInstance().getLogger(y),C(),y}Ul.__dashjs_factory_name="CmsdModel";const Mi=S.Z.getSingletonFactory(Ul);function Io(){var y,m,b=this.context,I={};function F(){m=(0,x.Z)(b).getInstance().getLogger(y)}function O(B){for(var ee={},se=0,te=0,U=0,oe=0,ne=B.length,_e=0;_e<ne;++_e)se+=B[_e].chunkDownloadTimeRelativeMS,te+=B[_e].bufferLevel,U+=B[_e].chunkDownloadTimeRelativeMS*B[_e].bufferLevel,oe+=B[_e].chunkDownloadTimeRelativeMS*B[_e].chunkDownloadTimeRelativeMS;return ee.m=(U-se*te/ne)/(oe-se*se/ne),ee.b=te/ne-ee.m*se/ne,function(me){return ee.m*me+ee.b}}function C(B){var ee,se=!0,te=B.reduce(function(U,oe){return U+oe.bufferLevelAtSegmentEnd},0)/B.length;return B.forEach(function(U){Math.abs(U.bufferLevelAtSegmentEnd/U.bufferLevelAtSegmentStart)<.95&&(se=!1),U.bufferLevelAtSegmentEnd/te<.8&&(se=!1),ee?ee>U.bitrate&&(se=!1):ee=U.bitrate}),se}return y={setup:F,addMeasurement:function(B,ee,se,te,U){B&&B.mediaType&&!I[B.mediaType]&&(I[B.mediaType]=[]);var oe=B.mediaInfo.bitrateList.find(function(ne){return ne.id===B.representationId});I[B.mediaType].push({index:B.index,repId:B.representationId,mediaType:B.mediaType,requestTimeMS:te,adjustedAvailabilityStartTimeMS:B.availabilityStartTime.getTime(),segDurationMS:1e3*B.duration,chunksDurationMS:se.reduce(function(ne,_e){return ne+_e.chunkDownloadDurationMS},0),segmentBytes:se.reduce(function(ne,_e){return ne+_e.chunkBytes},0),bitrate:oe&&oe.bandwidth,bitrateList:B.mediaInfo.bitrateList,chunkMeasurements:se,fetchDownloadDurationMS:ee,throughputCapacityDelayMS:U,getEstimatedBufferLevel:O(se.slice(1))}),I[B.mediaType].length>10&&I[B.mediaType].shift()},getThroughputCapacityDelayMS:function(B,ee){var se=I[B.mediaType]&&I[B.mediaType].slice(-3);return!se||se.length<3?0:C(se)?ee/4>250?250:ee/4:0},getEstimatedDownloadDurationMS:function(B){var ee=I[B.mediaType].slice(-1).pop(),se=I[B.mediaType].slice(-3),te=ee.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;ee.bufferLevelAtSegmentStart=ee.getEstimatedBufferLevel(te/2),ee.bufferLevelAtSegmentEnd=ee.getEstimatedBufferLevel(te);var U=C(se),oe=U?.6:.8;if(ee.isBufferStable&&1.05*ee.segDurationMS<ee.fetchDownloadDurationMS)return ee.fetchDownloadDurationMS;if(!U||ee.segDurationMS<ee.fetchDownloadDurationMS||ee.adjustedAvailabilityStartTimeMS<=ee.requestTimeMS+ee.throughputCapacityDelayMS-ee.segDurationMS)return.8*ee.fetchDownloadDurationMS;for(var ne=ee.requestTimeMS+ee.throughputCapacityDelayMS-ee.adjustedAvailabilityStartTimeMS,_e=0,me=0,Ce=0,Ae=0;Ae<ee.chunkMeasurements.length;Ae++){var $=ee.chunkMeasurements[Ae];if(ne<me+$.chunkDownloadDurationMS)break;me+=$.chunkDownloadDurationMS,_e+=$.chunkBytes,Ce++}if(ne<0&&m.warn("request time was before adjusted availibitly start time"),_e&&me&&Ce>.2*ee.chunkMeasurements.length){var fe=ee.segmentBytes/(_e/me);return ee.fetchDownloadDurationMS<fe?ee.fetchDownloadDurationMS*oe:fe*oe}var ve=ee.bitrate;return ee.bitrateList.some(function(A){if(A.bandwidth>ee.bitrate)return ve=A.bandwidth,!0}),ve===ee.bitrate?ee.fetchDownloadDurationMS*oe:oe*ee.segmentBytes*8*1e3/ve}},F(),y}Io.__dashjs_factory_name="LowLatencyThroughputModel";const Qn=S.Z.getSingletonFactory(Io);var Wt=L(5717);function On(y,m,b){return m in y?Object.defineProperty(y,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[m]=b,y}function Yn(y){var m,b,I,F,O,C,B,ee,se,te,U,oe=this.context,ne=(y=y||{}).errHandler,_e=y.dashMetrics,me=y.mediaPlayerModel,Ce=y.requestModifier,Ae=y.boxParser,$=y.errors,ge=y.requestTimeout||0,fe=(0,T.Z)(oe).getInstance(),ve=(0,Mt.Z)(oe).getInstance();function A(Y,Q){var z,V=Y.request,G=[],re=!0,he=!0,j=new Date,X=j,Re=0,Be=null,Ue=null;if(!Ce||!_e||!ne)throw new Error("config object is not correct or missing");var Qe,ke=function(nt){V.requestStartDate=j,V.requestEndDate=new Date,V.firstByteDate=V.firstByteDate||j,V.fileLoaderType=Ue;var ct=z.response?z.response.responseURL:null,ht=z.response?z.response.status:null,Lt=z.response&&z.response.getAllResponseHeaders?z.response.getAllResponseHeaders():z.response?z.response.responseHeaders:null,qt=Lt&&ve.get().streaming.cmsd&&ve.get().streaming.cmsd.enabled?B.parseResponseHeaders(Lt,V.mediaType):null;_e.addHttpRequest(V,ct,ht,Lt,nt?G:null,qt)},tt=function(nt){he=!1,ke(nt),V.type===je.w.MPD_TYPE&&(_e.addManifestUpdate(V),fe.trigger(g.Z.MANIFEST_LOADING_FINISHED,{request:V}))},Ft=function(){if(Be&&(clearTimeout(Be),Be=null),-1!==b.indexOf(z)&&(b.splice(b.indexOf(z),1),he))if(tt(!1),Q>0){try{ve.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&V.type===je.w.MEDIA_SEGMENT_TYPE&&me.getRetryAttemptsForType(je.w.MEDIA_SEGMENT_TYPE)===Q&&fe.trigger(g.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}Q--;var nt={config:Y};F.push(nt),nt.timeout=setTimeout(function(){-1!==F.indexOf(nt)&&(F.splice(F.indexOf(nt),1),A(Y,Q))},me.getRetryIntervalsForType(V.type))}else{if(V.type===je.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;ne.error(new K.Z(O[V.type],V.url+" is not available",{request:V,response:z.response})),Y.error&&Y.error(V,"error",z.response.statusText,z.response),Y.complete&&Y.complete(V,z.response.statusText)}};V.hasOwnProperty("availabilityTimeComplete")&&!1===V.availabilityTimeComplete&&window.fetch&&"arraybuffer"===V.responseType&&V.type===je.w.MEDIA_SEGMENT_TYPE?((Qe=Gn(oe).create({requestModifier:Ce,lowLatencyThroughputModel:se,boxParser:Ae})).setup({dashMetrics:_e}),Ue=d.Z.FILE_LOADER_TYPES.FETCH):(Qe=(0,rn.Z)(oe).create({requestModifier:Ce}),Ue=d.Z.FILE_LOADER_TYPES.XHR);var wt=null,Tt=Ce.modifyRequestURL?Ce.modifyRequestURL(V.url):V.url;if(ve.get().streaming.cmcd&&ve.get().streaming.cmcd.enabled){var Bt=ve.get().streaming.cmcd.mode;if(Bt===d.Z.CMCD_MODE_QUERY){var on=function(nt){try{var ct=[],ht=C.getQueryParameter(nt);return ht&&ct.push(ht),ct}catch{return[]}}(V);Tt=rr.Z.addAditionalQueryParameterToUrl(Tt,on)}else Bt===d.Z.CMCD_MODE_HEADER&&(wt=C.getHeaderParameters(V))}var Le=ee.getXHRWithCredentialsForType(V.type);if(V.queryParams){var Te=Object.keys(V.queryParams).map(function(nt){return{key:nt,value:V.queryParams[nt]}});Tt=rr.Z.addAditionalQueryParameterToUrl(Tt,Te)}V.url=Tt,z={url:Tt,method:je.w.GET,withCredentials:Le,request:V,onload:function(){z.response.status>=200&&z.response.status<=299&&(tt(!0),Y.success&&Y.success(z.response.response,z.response.statusText,z.response.responseURL),Y.complete&&Y.complete(V,z.response.statusText))},onend:Ft,onerror:Ft,progress:function(nt){var ct=new Date;re&&(re=!1,(!nt.lengthComputable||nt.lengthComputable&&nt.total!==nt.loaded)&&(V.firstByteDate=ct)),nt.lengthComputable&&(V.bytesLoaded=nt.loaded,V.bytesTotal=nt.total),nt.noTrace||(G.push({s:X,d:nt.time?nt.time:ct.getTime()-X.getTime(),b:[nt.loaded?nt.loaded-Re:0]}),X=ct,Re=nt.loaded),Be&&(clearTimeout(Be),Be=null),ve.get().streaming.fragmentRequestProgressTimeout>0&&(Be=setTimeout(function(){te.warn("Abort request "+z.url+" due to progress timeout"),z.response.onabort=null,z.loader.abort(z),Ft()},ve.get().streaming.fragmentRequestProgressTimeout)),Y.progress&&nt&&Y.progress(nt)},onabort:function(){ke(!0),Be&&(clearTimeout(Be),Be=null),Y.abort&&Y.abort(V)},ontimeout:function(nt){var ct;ct=nt.lengthComputable?"Request timeout: loaded: "+nt.loaded+", out of: "+nt.total+" : "+(nt.loaded/nt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",te.warn(ct)},loader:Qe,timeout:ge,headers:wt};var Je=(new Date).getTime();if(isNaN(V.delayLoadingTime)||Je>=V.delayLoadingTime)b.push(z),Qe.load(z);else{var Oe={httpRequest:z};I.push(Oe),Oe.delayTimeout=setTimeout(function(){if(-1!==I.indexOf(Oe)){I.splice(I.indexOf(Oe),1);try{X=j=new Date,b.push(Oe.httpRequest),Qe.load(Oe.httpRequest)}catch{Oe.httpRequest.onerror()}}},V.delayLoadingTime-Je)}}return m={load:function(Y){Y.request?A(Y,me.getRetryAttemptsForType(Y.request.type)):Y.error&&Y.error(Y.request,"error")},abort:function(){F.forEach(function(Y){clearTimeout(Y.timeout),Y.config.request&&Y.config.abort&&Y.config.abort(Y.config.request)}),F=[],I.forEach(function(Y){return clearTimeout(Y.delayTimeout)}),I=[],b.forEach(function(Y){Y.request.type!==je.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Y.onloadend=Y.onerror=Y.onprogress=void 0,Y.loader.abort(Y))}),b=[]}},te=(0,x.Z)(oe).getInstance().getLogger(m),b=[],I=[],F=[],C=kt(oe).getInstance(),B=Mi(oe).getInstance(),se=Qn(oe).getInstance(),ee=(0,Wt.Z)(oe).getInstance(),On(U={},je.w.MPD_TYPE,$.DOWNLOAD_ERROR_ID_MANIFEST_CODE),On(U,je.w.XLINK_EXPANSION_TYPE,$.DOWNLOAD_ERROR_ID_XLINK_CODE),On(U,je.w.INIT_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),On(U,je.w.MEDIA_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),On(U,je.w.INDEX_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),On(U,je.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),On(U,je.w.OTHER_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),O=U,m}Yn.__dashjs_factory_name="HTTPLoader";const ci=S.Z.getClassFactory(Yn);function ei(){var y;function m(){y={}}function b(){m()}return b(),{getLoader:function(I){for(var F in y)if(y.hasOwnProperty(F)&&I.startsWith(F))return y[F];return ci},registerLoader:function(I,F){y[I]=F},unregisterLoader:function(I){y[I]&&delete y[I]},unregisterAllLoader:m,reset:b}}ei.__dashjs_factory_name="SchemeLoaderFactory";const ir=S.Z.getSingletonFactory(ei);function Pr(y){y=y||{};var m,b,I=this.context;return m=ir(I).getInstance(),{load:function(F){if(!b){var O=m.getLoader(F&&F.request?F.request.url:null);b=O(I).create({errHandler:y.errHandler,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,dashMetrics:y.dashMetrics,boxParser:y.boxParser?y.boxParser:null,constants:y.constants?y.constants:null,dashConstants:y.dashConstants?y.dashConstants:null,urlUtils:y.urlUtils?y.urlUtils:null,requestTimeout:isNaN(y.requestTimeout)?0:y.requestTimeout,errors:y.errors})}b.load(F)},abort:function(){b&&b.abort()}}}Pr.__dashjs_factory_name="URLLoader";const Ir=S.Z.getClassFactory(Pr);function ui(y){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function Yr(y,m){return(Yr=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function Vn(y){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}const Wo=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Yr(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=Vn(m);if(b){var B=Vn(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function Sr(y,m){return!m||"object"!==ui(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(O){var C;return function(B,ee){if(!(B instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,F),(C=I.call(this,O)).checkForExistenceOnly=!0,C}return F}(q.Z);function ho(y){var m,b,F=(y=y||{}).eventBus,O=y.events,C=y.urlUtils,B=y.errors,ee=y.streamId;return m={checkForExistence:function(se){var te=function(oe){F.trigger(O.CHECK_FOR_EXISTENCE_COMPLETED,{request:se,exists:oe})};if(se){var U=new Wo(se.url);b.load({request:U,success:function(){te(!0)},error:function(){te(!1)}})}else te(!1)},load:function(se){var te=function(U,oe){F.trigger(O.LOADING_COMPLETED,{request:se,response:U||null,error:oe||null,sender:m})};se?b.load({request:se,progress:function(U){F.trigger(O.LOADING_PROGRESS,{request:se,stream:U.stream,streamId:ee}),U.data&&F.trigger(O.LOADING_DATA_PROGRESS,{request:se,response:U.data||null,error:null,sender:m})},success:function(U){te(U)},error:function(U,oe,ne){te(void 0,new K.Z(B.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ne,oe))},abort:function(U){U&&F.trigger(O.LOADING_ABANDONED,{mediaType:U.mediaType,request:U,sender:m})}}):te(void 0,new K.Z(B.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,B.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){b&&b.abort()},reset:function(){b&&(b.abort(),b=null)}},b=Ir(this.context).create({errHandler:y.errHandler,errors:B,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,urlUtils:C,constants:d.Z,boxParser:y.boxParser,dashConstants:y.dashConstants,requestTimeout:y.settings.get().streaming.fragmentRequestTimeout}),m}ho.__dashjs_factory_name="FragmentLoader";const Ia=S.Z.getClassFactory(ho);function fs(){return{modifyResponseAsync:function(y){return Promise.resolve(y)}}}fs.__dashjs_factory_name="SegmentResponseModifier";const Gt=S.Z.getSingletonFactory(fs);function hs(y){y=y||{};var m,b,I,F=this.context,O=(0,T.Z)(F).getInstance(),C=y.errHandler,B=y.mediaPlayerModel,ee=y.dashMetrics,se=(0,x.Z)(F).getInstance(),te=Gt(F).getInstance(),U=y.streamInfo;function oe(){return U.id}function ne(){for(var me in I)I[me].reset();I={}}function _e(me){if(me.sender){var Ce=me.request,Ae=me.response,$=Ce.isInitializationRequest(),ge=Ce.mediaInfo.streamInfo;if(me.error&&(Ce.mediaType===d.Z.AUDIO||Ce.mediaType===d.Z.VIDEO||Ce.mediaType===d.Z.TEXT&&Ce.mediaInfo.isFragmented)&&O.trigger(g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:me.request.serviceLocation}),Ae&&ge){var fe=(ve=Ae,A=Ce,Y=U.id,Q=me.type!==g.Z.FRAGMENT_LOADING_PROGRESS,(z=new xt).streamId=Y,z.mediaInfo=A.mediaInfo,z.segmentType=A.type,z.start=A.startTime,z.duration=A.duration,z.end=z.start+z.duration,z.bytes=ve,z.index=A.index,z.quality=A.quality,z.representationId=A.representationId,z.endFragment=Q,z);te.modifyResponseAsync(fe).then(function(ve){O.trigger($?g.Z.INIT_FRAGMENT_LOADED:g.Z.MEDIA_FRAGMENT_LOADED,{chunk:ve,request:Ce},{streamId:ge.id,mediaType:Ce.mediaType})}).catch(function(ve){b.error(ve),O.trigger($?g.Z.INIT_FRAGMENT_LOADED:g.Z.MEDIA_FRAGMENT_LOADED,{chunk:fe,request:Ce},{streamId:ge.id,mediaType:Ce.mediaType})})}else b.warn("No "+Ce.mediaType+" bytes to push or stream is inactive.")}var ve,A,Y,Q,z}return b=se.getLogger(m={getStreamId:oe,getModel:function(me){var Ce=I[me];return Ce||(Ce=k(F).create({streamInfo:U,type:me,dashMetrics:ee,fragmentLoader:Ia(F).create({dashMetrics:ee,mediaPlayerModel:B,errHandler:C,requestModifier:(0,Ie.Z)(F).getInstance(),settings:y.settings,boxParser:y.boxParser,eventBus:O,events:g.Z,errors:pe,dashConstants:y.dashConstants,urlUtils:y.urlUtils,streamId:oe()}),debug:se,eventBus:O,events:g.Z}),I[me]=Ce),Ce},reset:function(){O.off(h.Z.FRAGMENT_LOADING_COMPLETED,_e,this),O.off(h.Z.FRAGMENT_LOADING_PROGRESS,_e,this),ne()}}),ne(),O.on(h.Z.FRAGMENT_LOADING_COMPLETED,_e,m),O.on(h.Z.FRAGMENT_LOADING_PROGRESS,_e,m),m}hs.__dashjs_factory_name="FragmentController";const or=S.Z.getClassFactory(hs),kr=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},Bc=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function ld(y){var m,b,I=this.context,F=y.streamInfo;function O(B){b.setTrackByIndex(B)}function C(){b&&b.reset()}return m={getStreamId:function(){return F.id},initialize:function(){b.addTracks();var B=b.getTracks();B&&B.length>0&&O(0)},provide:function(B,ee){if("function"==typeof ee){var te,U=b.getCurrentTrack();if(!U||U.segmentDuration<=0||null==B)ee(null);else{(te=b.getThumbnailRequestForTime(B))&&(U.segmentDuration=te.duration);var oe=Math.floor(B%U.segmentDuration*U.tilesHor*U.tilesVert/U.segmentDuration),ne=new kr;if(ne.width=Math.floor(U.widthPerTile),ne.height=Math.floor(U.heightPerTile),ne.x=Math.floor(oe%U.tilesHor)*U.widthPerTile,ne.y=Math.floor(oe/U.tilesHor)*U.heightPerTile,"readThumbnail"in U)return U.readThumbnail(B,function(me){ne.url=me,ee(ne)});if(te)ne.url=te.url,U.segmentDuration=NaN;else{var _e=Math.floor(B/U.segmentDuration);ne.url=($=(0,_.vi)((me=U).templateUrl,"Number",Ae=_e+me.startNumber),$=(0,_.vi)($,"Time",(Ae-1)*me.segmentDuration*me.timescale),$=(0,_.vi)($,"Bandwidth",me.bandwidth),(0,_.eR)($))}ee(ne)}}var me,Ae,$},setTrackByIndex:O,getCurrentTrackIndex:function(){return b.getCurrentTrackIndex()},getBitrateList:function(){var B=b.getTracks(),ee=0;return B.map(function(se){var te=new Bc;return te.mediaType=d.Z.IMAGE,te.qualityIndex=ee++,te.bitrate=se.bitrate,te.width=se.width,te.height=se.height,te})},reset:C},C(),b=(0,tn.Z)(I).create({streamInfo:F,adapter:y.adapter,baseURLController:y.baseURLController,timelineConverter:y.timelineConverter,debug:y.debug,eventBus:y.eventBus,events:y.events,dashConstants:y.dashConstants,dashMetrics:y.dashMetrics,segmentBaseController:y.segmentBaseController}),m}ld.__dashjs_factory_name="ThumbnailController";const cd=S.Z.getClassFactory(ld);var Xs=L(7417);function so(y){var m;y=y||{};var b=[],I=(0,T.Z)(this.context).getInstance(),F=y.updateEventName,O=y.addBlacklistEventName;function C(B){-1===b.indexOf(B)&&(b.push(B),I.trigger(F,{entry:B}))}return m={add:C,contains:function(B){return!!(b.length&&B&&B.length)&&-1!==b.indexOf(B)},reset:function(){b=[]}},O&&I.on(O,function(B){C(B.entry)},m),m}so.__dashjs_factory_name="BlackListController";const Uc=S.Z.getClassFactory(so);var ud=[d.Z.VIDEO,d.Z.AUDIO,d.Z.TEXT,d.Z.MUXED,d.Z.IMAGE];function dd(y){y=y||{};var m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ce,Ae,$,ge=this.context,fe=(0,T.Z)(ge).getInstance(),ve=(0,Ge.Z)(ge).getInstance(),A=y.manifestModel,Y=y.mediaPlayerModel,Q=y.dashMetrics,z=y.manifestUpdater,V=y.adapter,G=y.timelineConverter,re=y.capabilities,he=y.errHandler,j=y.abrController,X=y.playbackController,Re=y.eventController,Be=y.mediaController,Ue=y.protectionController,Qe=y.textController,ke=y.videoModel,tt=y.streamInfo,Ft=y.settings;function wt(Ot,_n){return new Promise(function(an,mn){ct(),te=!0,Lt();var mt=ke.getElement(),Ht=[];ud.forEach(function(dt){(dt!==d.Z.TEXT||Ot)&&(dt!==d.Z.VIDEO||!mt||mt&&/^VIDEO$/i.test(mt.nodeName))&&Ht.push(Tt(dt,Ot))}),Promise.all(Ht).then(function(){return dt=_n,new Promise(function(Ze){var we={},ot=I.map(function(Dt){return Dt.createBufferSinks(dt)});Promise.all(ot).then(function(Dt){Dt.forEach(function(en){en&&(we[en.getType()]=en)}),Ze(we)}).catch(function(){Ze(we)})});var dt}).then(function(dt){if(te=!1,0===I.length){var Ze="No streams to play.";he.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ze,A.getValue())),b.fatal(Ze)}else qt();Ot&&Qe.createTracks(tt),an(dt)}).catch(function(dt){mn(dt)})})}function Tt(Ot,_n){var an,mn=V.getAllMediaInfoForType(tt,Ot),mt=[],Ht=null;if(!mn||0===mn.length)return b.info("No "+Ot+" data."),Promise.resolve();Ot===d.Z.VIDEO&&(B=!0),Ot===d.Z.AUDIO&&(ee=!0);for(var dt=0,Ze=mn.length;dt<Ze;dt++)Ht=mn[dt],Ot===d.Z.TEXT&&Ht.isEmbedded&&(Qe.addEmbeddedTrack(tt,Ht),mt.push(Ht)),Bt(Ht)&&Be.addTrack(Ht);if(mt.length>0&&(Be.setInitialMediaSettingsForType(Ot,tt),Qe.addMediaInfosToBuffer(tt,Ot,mt)),0===(mn=mn.filter(function(ot){return!ot.isEmbedded})).length)return Promise.resolve();if(Ot===d.Z.IMAGE)return(oe=cd(ge).create({streamInfo:tt,adapter:V,baseURLController:y.baseURLController,timelineConverter:y.timelineConverter,debug:Ce,eventBus:fe,events:g.Z,dashConstants:f.Z,dashMetrics:y.dashMetrics,segmentBaseController:y.segmentBaseController})).initialize(),Promise.resolve();fe.trigger(g.Z.STREAM_INITIALIZING,{streamInfo:tt,mediaInfo:Ht}),Be.setInitialMediaSettingsForType(Ot,tt);var we=function(ot,Dt){var en=ot&&ot.length>0?ot[0]:null,fn=U.getModel(en?en.type:null),Xn=en?en.type:null,Ur=en?en.mimeType:null,Pi=en?en.isFragmented:null,Hr=Et(ge).create({streamInfo:tt,type:Xn,mimeType:Ur,timelineConverter:G,adapter:V,manifestModel:A,mediaPlayerModel:Y,fragmentModel:fn,dashMetrics:y.dashMetrics,baseURLController:y.baseURLController,segmentBaseController:y.segmentBaseController,abrController:j,playbackController:X,mediaController:Be,textController:Qe,errHandler:he,settings:Ft,boxParser:me,segmentBlacklistController:ne});Hr.initialize(Dt,B,Pi),I.push(Hr);for(var Xi=0;Xi<ot.length;Xi++)Hr.addMediaInfo(ot[Xi]);return Xn===d.Z.TEXT&&Qe.addMediaInfosToBuffer(tt,Xn,ot,fn),Hr}(mn,_n);return(an=Be.getCurrentTrackFor(Ot,tt.id))?(j.updateTopQualityIndex(an),we.selectMediaInfo(Ot===d.Z.TEXT&&an.isEmbedded?mn[0]:an)):Promise.resolve()}function Bt(Ot){var an=Ot?Ot.type:null;return an===d.Z.MUXED?(b.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),he.error(new K.Z(pe.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",A.getValue())),!1):!(an!==d.Z.TEXT&&an!==d.Z.IMAGE&&Ot.contentProtection&&!re.supportsEncryptedMedia()&&(he.error(new K.Z(pe.CAPABILITY_MEDIAKEYS_ERROR_CODE,pe.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function on(Ot){for(var _n=I?I.length:0,an=0;an<_n;an++){var mn=I[an].getFragmentModel();mn.abortRequests(),mn.resetInitialSettings(),I[an].reset(!1,Ot)}Qe&&Qe.deactivateStream(tt),I=[],O=!1,C=!1,nr(!1),Te(!1),fe.trigger(g.Z.STREAM_DEACTIVATED,{streamInfo:tt})}function Le(Ot){on(Ot),F=!1,B=!1,ee=!1,se={},te=!1,Ae=!1,$=[]}function Te(Ot){Ae=Ot}function Je(){return tt?tt.start:NaN}function Oe(){return tt?tt.id:null}function nt(){return tt}function ct(){if(!ke||!j)throw new Error(d.Z.MISSING_CONFIG_ERROR)}function ht(Ot){Ot.error&&(he.error(Ot.error),b.fatal(Ot.error.message))}function Lt(){if(Re){var Ot=V.getEventsFor(tt);Ot&&Ot.length>0&&Re.addInlineEvents(Ot,tt.id)}}function qt(){for(var Ot=I.length,_n=se.audio||se.video?new K.Z(pe.DATA_UPDATE_FAILED_ERROR_CODE,pe.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,an=0;an<Ot;an++)if(I[an].isUpdating()||te)return;if(Ue){Ue.clearMediaInfoArray();for(var mn=0;mn<Ot&&I[mn];mn++){var mt=I[mn].getType(),Ht=I[mn].getMediaInfo();if(mt===d.Z.AUDIO||mt===d.Z.VIDEO||mt===d.Z.TEXT&&Ht.isFragmented){var dt=I[mn].getMediaInfo();dt&&Ue.initializeForMedia(dt)}}Ue.handleKeySystemFromManifest()}_n?he.error(_n):F||(F=!0,ke.waitForReadyState(d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){fe.trigger(g.Z.STREAM_INITIALIZED,{streamInfo:tt})}))}function Sn(){var Ot=er(),_n=Ot.length;if(0!==_n){for(var an=0;an<_n;an++)if(!Ot[an].isBufferingCompleted()&&(Ot[an].getType()===d.Z.AUDIO||Ot[an].getType()===d.Z.VIDEO))return void b.debug("onBufferingCompleted - One streamProcessor has finished but",Ot[an].getType(),"one is not buffering completed");b.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),C=!0,fe.trigger(g.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:tt},{streamInfo:tt})}else b.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function In(Ot){se[Ot.mediaType]=Ot.error,qt()}function yn(Ot){Re&&Re.addInbandEvents(Ot.events,tt.id)}function Cn(Ot){return Ot&&Ot.type?Nn(Ot.type):null}function Nn(Ot){return Ot?er().filter(function(_n){return _n.getType()===Ot})[0]:null}function er(){for(var Ot,_n,an=[],mn=0;mn<I.length;mn++)(Ot=(_n=I[mn]).getType())!==d.Z.AUDIO&&Ot!==d.Z.VIDEO&&Ot!==d.Z.TEXT||an.push(_n);return an}function sr(Ot,_n){var an=nt(),mn=_n.getStreamInfo();if(!mn||!an)return!0;var mt=V.getAdaptationForType(mn.index,Ot,mn),Ht=V.getAdaptationForType(an.index,Ot,an);return mt&&Ht?!(!$n(Ht)&&$n(mt)):!mt&&!Ht}function $n(Ot){return!!Ot&&!!(Ot.ContentProtection||Ot.Representation_asArray&&Ot.Representation_asArray.length>0&&Ot.Representation_asArray[0].ContentProtection)}function hr(Ot,_n){var an=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Ot||!Ot.hasOwnProperty("getStreamInfo"))return!1;var mn=Ot.getStreamInfo(),mt=an?an.getStreamInfo():nt();if(!mn||!mt)return!1;var Ht=V.getAdaptationForType(mn.index,_n,mn),dt=V.getAdaptationForType(mt.index,_n,mt);if(!Ht||!dt)return!Ht&&!dt;var Ze=Ht&&dt&&Ht.mimeType===dt.mimeType,we=dt.Representation_asArray.map(function(fn){return fn.codecs}),ot=Ht.Representation_asArray.map(function(fn){return fn.codecs}),Dt=ot.some(function(fn){return we.indexOf(fn)>-1}),en=ot.some(function(fn){return we.some(function(Xn){return re.codecRootCompatibleWithCodec(Xn,fn)})});return Dt||en&&Ze}function nr(Ot){_e=Ot}function mr(){return _e}return m={initialize:function(){fe.on(g.Z.BUFFERING_COMPLETED,Sn,m),fe.on(g.Z.DATA_UPDATE_COMPLETED,In,m),fe.on(g.Z.INBAND_EVENTS,yn,m),Ue&&(fe.on(g.Z.KEY_ERROR,ht,m),fe.on(g.Z.SERVER_CERTIFICATE_UPDATED,ht,m),fe.on(g.Z.LICENSE_REQUEST_COMPLETE,ht,m),fe.on(g.Z.KEY_SYSTEM_SELECTED,ht,m),fe.on(g.Z.KEY_SESSION_CREATED,ht,m),fe.on(g.Z.KEY_STATUSES_CHANGED,ht,m)),Qe.initializeForStream(tt),fe.trigger(g.Z.STREAM_UPDATED,{streamInfo:tt})},getStreamId:function(){return tt?tt.id:null},activate:function(Ot,_n){return new Promise(function(an,mn){if(!O)return mr()?(O=!0,fe.trigger(g.Z.STREAM_ACTIVATED,{streamInfo:tt}),void an(_n)):void(mt=Ot,Ht=_n,wt(mt,Ht)).then(function(mt){O=!0,fe.trigger(g.Z.STREAM_ACTIVATED,{streamInfo:tt}),an(mt)}).catch(function(mt){mn(mt)});var mt,Ht;an(_n)})},deactivate:on,getIsActive:function(){return O},getDuration:function(){return tt?tt.duration:NaN},getStartTime:Je,getId:Oe,getStreamInfo:nt,getHasAudioTrack:function(){return ee},getHasVideoTrack:function(){return B},startPreloading:function(Ot,_n){return new Promise(function(an,mn){mr()?mn():(b.info("[startPreloading] Preloading next stream with id ".concat(Oe())),nr(!0),wt(Ot,_n).then(function(){for(var mt=0;mt<I.length&&I[mt];mt++)I[mt].setExplicitBufferingTime(Je()),I[mt].getScheduleController().startScheduleTimer();an()}).catch(function(){nr(!1),mn()}))})},initializeForTextWithMediaSource:function(Ot){return new Promise(function(_n,an){Tt(d.Z.TEXT,Ot).then(function(){return(mn=Nn(d.Z.TEXT))?mn.createBufferSinks():Promise.resolve();var mn}).then(function(){Qe.createTracks(tt),_n()}).catch(function(mn){an(mn)})})},getThumbnailController:function(){return oe},getBitrateListFor:function(Ot){if(ct(),Ot===d.Z.IMAGE)return oe?oe.getBitrateList():[];var _n=function(an){for(var mn=null,mt=0;mt<I.length;mt++)if((mn=I[mt]).getType()===an)return mn.getMediaInfo();return null}(Ot);return j.getBitrateList(_n)},updateData:function(Ot){return new Promise(function(_n){te=!0,tt=Ot,Re&&Lt();for(var an=[],mn=0,mt=I.length;mn<mt;mn++){var Ht=I[mn],dt=Ht.getMediaInfo();an.push(Ht.updateStreamInfo(tt));var Ze=V.getAllMediaInfoForType(tt,Ht.getType());if(Ze=Ze.filter(function(Dt){return!Dt.isEmbedded})){Ht.clearMediaInfoArray();for(var we=0;we<Ze.length;we++){var ot=Ze[we];Ht.addMediaInfo(Ze[we]),V.areMediaInfosEqual(dt,ot)&&(j.updateTopQualityIndex(ot),an.push(Ht.selectMediaInfo(ot)))}}}Promise.all(an).then(function(){for(an=[];$.length>0;){var Dt=$.pop(),en=Dt.newMediaInfo,fn=Cn(Dt.oldMediaInfo);if(!fn)return;an.push(fn.prepareTrackSwitch()),an.push(fn.selectMediaInfo(en))}return Promise.all(an)}).then(function(){te=!1,qt(),fe.trigger(g.Z.STREAM_UPDATED,{streamInfo:tt}),_n()})})},reset:function(Ot){U&&(U.reset(),U=null),j&&tt&&j.clearDataForStream(tt.id),ne&&(ne.reset(),ne=null),Le(Ot),tt=null,fe.off(g.Z.DATA_UPDATE_COMPLETED,In,m),fe.off(g.Z.BUFFERING_COMPLETED,Sn,m),fe.off(g.Z.INBAND_EVENTS,yn,m),Ue&&(fe.off(g.Z.KEY_ERROR,ht,m),fe.off(g.Z.SERVER_CERTIFICATE_UPDATED,ht,m),fe.off(g.Z.LICENSE_REQUEST_COMPLETE,ht,m),fe.off(g.Z.KEY_SYSTEM_SELECTED,ht,m),fe.off(g.Z.KEY_SESSION_CREATED,ht,m),fe.off(g.Z.KEY_STATUSES_CHANGED,ht,m))},getProcessors:er,setMediaSource:function(Ot){return new Promise(function(_n,an){for(var mn=[],mt=0;mt<I.length;)Bt(I[mt].getMediaInfo())?(mn.push(I[mt].setMediaSource(Ot)),mt++):(I[mt].reset(),I.splice(mt,1));Promise.all(mn).then(function(){for(var Ht=0;Ht<I.length;Ht++)I[Ht].dischargePreBuffer();if(0===I.length){var dt="No streams to play.";he.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,dt+"nostreams",A.getValue())),b.fatal(dt)}_n()}).catch(function(Ht){b.error(Ht),an(Ht)})})},isMediaCodecCompatible:function(Ot){var _n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return hr(Ot,d.Z.VIDEO,_n)&&hr(Ot,d.Z.AUDIO,_n)},isProtectionCompatible:function(Ot){return!Ot||sr(d.Z.VIDEO,Ot)&&sr(d.Z.AUDIO,Ot)},getPreloaded:mr,getIsEndedEventSignaled:function(){return Ae},setIsEndedEventSignaled:Te,getAdapter:function(){return V},getHasFinishedBuffering:function(){return C},setPreloaded:nr,startScheduleControllers:function(){for(var Ot=I.length,_n=0;_n<Ot&&I[_n];_n++)I[_n].getScheduleController().startScheduleTimer()},prepareTrackChange:function(Ot){if(O&&tt){C=!1;var _n=Ot.newMediaInfo,an=A.getValue();V.setCurrentMediaInfo(tt.id,_n.type,_n);var mn=Cn(_n);if(mn){var mt=X.getTime();b.info("Stream -  Process track changed at current time "+mt),an.refreshManifestOnSwitchTrack?($.push(Ot),z.getIsUpdating()||(b.debug("Stream -  Refreshing manifest for switch track"),z.refreshManifest())):mn.selectMediaInfo(_n).then(function(){_n.type!==d.Z.VIDEO&&_n.type!==d.Z.AUDIO||j.updateTopQualityIndex(_n),mn.prepareTrackSwitch()})}}},prepareQualityChange:function(Ot){var _n=Nn(Ot.mediaType);_n&&_n.prepareQualityChange(Ot)}},function(){try{Ce=(0,x.Z)(ge).getInstance(),b=Ce.getLogger(m),Le(),me=(0,Xs.Z)(ge).getInstance(),ne=Uc(ge).create({updateEventName:g.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),U=or(ge).create({streamInfo:tt,mediaPlayerModel:Y,dashMetrics:Q,errHandler:he,settings:Ft,boxParser:me,dashConstants:f.Z,urlUtils:ve})}catch(Ot){throw Ot}}(),m}dd.__dashjs_factory_name="Stream";const ps=S.Z.getClassFactory(dd),Eh=function y(m){(function(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=m||null,this.type=je.w.CONTENT_STEERING_TYPE,this.responseType="json"},ti=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Ma(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me=this.context,Ce=(0,Ge.Z)(me).getInstance();function Ae(j){A(j,"baseUrl")}function $(j){A(j,"location")}function ge(j){if(j&&j.request&&j.request.serviceLocation&&j.request.requestStartDate&&j.request.requestEndDate&&!isNaN(j.request.bytesTotal)){var X=j.request.serviceLocation,Re=j.request.requestEndDate.getTime()-j.request.requestStartDate.getTime();ve(X,parseInt(8*j.request.bytesTotal/Re*1e3))}}function fe(j){j&&j.httpRequest&&j.httpRequest._serviceLocation&&!isNaN(j.throughput)&&ve(j.httpRequest._serviceLocation,1e3*j.throughput)}function ve(j,X){F[j]||(F[j]=[]),F[j].push(X),F[j].length>4&&F[j].shift()}function A(j,X){if(j&&j.request&&j.request.serviceLocation){var Re=j.request.serviceLocation;-1===I[X].all.indexOf(Re)&&I[X].all.push(Re),I[X].current=Re}}function Y(){var j=te.getValue(),X=_e.getContentSteering(j);return X||(X=oe.getServiceDescriptionSettings().contentSteering),X}function Q(){return new Promise(function(j){try{var X=Y();if(!X||!X.serverUrl)return void j();var Re=function(Ue){var Qe=Ue.serverUrl;b&&b.reloadUri&&(Qe=Ce.isRelative(b.reloadUri)?Ce.resolve(b.reloadUri,Ue.serverUrl):b.reloadUri);var ke=[],tt=I.baseUrl.all.concat(I.location.all);if(tt.length>0){var Ft=tt.map(function(Bt){return{serviceLocation:Bt,throughput:function(Le){if(!Le||!F[Le]||0===F[Le].length)return-1;var Te=F[Le].reduce(function(Je,Oe){return Je+Oe})/F[Le].length;return parseInt(Te)}(Bt)}});Ft.sort(function(Bt,on){return on.throughput-Bt.throughput});var wt="",Tt="";Ft.forEach(function(Bt,on){0!==on&&(wt="".concat(wt,","),Bt.throughput>-1&&(Tt="".concat(Tt,","))),wt="".concat(wt).concat(Bt.serviceLocation),Bt.throughput>-1&&(Tt="".concat(Tt).concat(Bt.throughput))}),ke.push({key:"_DASH_pathway",value:'"'.concat(wt,'"')}),ke.push({key:"_DASH_throughput",value:Tt})}return rr.Z.addAditionalQueryParameterToUrl(Qe,ke)}(X),Be=new Eh(Re);C.load({request:Be,success:function(Ue){var Qe;(Qe=Ue)&&Qe[f.Z.CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(Qe[f.Z.CONTENT_STEERING_RESPONSE.VERSION])&&((b=new ti).version=Qe[f.Z.CONTENT_STEERING_RESPONSE.VERSION],Qe[f.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Qe[f.Z.CONTENT_STEERING_RESPONSE.TTL])&&(b.ttl=Qe[f.Z.CONTENT_STEERING_RESPONSE.TTL]),Qe[f.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(b.reloadUri=Qe[f.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Qe[f.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(b.pathwayPriority=Qe[f.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Qe[f.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(b.pathwayClones=Qe[f.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],b.pathwayClones=b.pathwayClones.filter(function(ke){return(tt=ke)[f.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&tt[f.Z.CONTENT_STEERING_RESPONSE.ID]&&tt[f.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&tt[f.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][f.Z.CONTENT_STEERING_RESPONSE.HOST];var tt})),G()),ne.trigger(h.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:b,url:Re}),j()},error:function(Ue,Qe,ke,tt){(function(Ft,wt){try{switch(m.warn("Error fetching data from content steering server",Ft),wt.status){case 410:break;case 429:var Tt=wt&&wt.getResponseHeader?wt.getResponseHeader("retry-after"):null;null!==Tt&&(b||(b={}),b.ttl=parseInt(Tt)),G();break;default:G()}}catch(Bt){m.error(Bt)}})(Ue,tt),j(Ue)},complete:function(){I.baseUrl.all=z(I.baseUrl),I.location.all=z(I.location)}})}catch(Ue){j(Ue)}})}function z(j){return j.all&&0!==j.all.length&&j.current?j.all.filter(function(X){return X===j.current}):[]}function V(j){try{var X=[];return j&&0!==j.length&&b&&b.pathwayClones&&0!==b.pathwayClones.length&&b.pathwayClones.forEach(function(Re){var Be=j.filter(function(Ft){return Re[f.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===Ft.serviceLocation}),Ue=null;if(Be&&Be.length>0&&(Ue=Be[0]),Ue){var Qe=new URL(Ue.url),ke=Re[f.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][f.Z.CONTENT_STEERING_RESPONSE.HOST];ke=rr.Z.stringHasProtocol(ke)?ke:"".concat(Qe.protocol,"//").concat(ke);var tt={synthesizedUrl:"".concat(ke).concat(Qe.pathname),serviceLocation:Re[f.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:Re[f.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][f.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Ue};X.push(tt)}}),X}catch(Re){return m.error(Re),[]}}function G(){b&&b.ttl&&!isNaN(b.ttl)&&(O&&clearTimeout(O),O=setTimeout(function(){Q()},1e3*b.ttl))}function re(){O&&clearTimeout(O),O=null}function he(){b=null,F={},I={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},re()}return y={reset:function(){he(),ne.off(h.Z.FRAGMENT_LOADING_STARTED,Ae,y),ne.off(h.Z.MANIFEST_LOADING_STARTED,$,y),ne.off(h.Z.MANIFEST_LOADING_FINISHED,ge,y),ne.off(h.Z.THROUGHPUT_MEASUREMENT_STORED,fe,y)},setConfig:function(j){j&&(j.adapter&&(_e=j.adapter),j.errHandler&&(B=j.errHandler),j.dashMetrics&&(ee=j.dashMetrics),j.mediaPlayerModel&&(se=j.mediaPlayerModel),j.requestModifier&&(U=j.requestModifier),j.manifestModel&&(te=j.manifestModel),j.serviceDescriptionController&&(oe=j.serviceDescriptionController),j.eventBus&&(ne=j.eventBus))},loadSteeringData:Q,getCurrentSteeringResponseData:function(){return b},shouldQueryBeforeStart:function(){var j=Y();return!!j&&j.queryBeforeStart},getSteeringDataFromManifest:Y,stopSteeringRequestTimer:re,getSynthesizedBaseUrlElements:function(j){try{return V(j).map(function(X){var Re=new mo(X.synthesizedUrl,X.serviceLocation);return Re.queryParams=X.queryParams,Re.dvb_priority=X.reference.dvb_priority,Re.dvb_weight=X.reference.dvb_weight,Re.availabilityTimeOffset=X.reference.availabilityTimeOffset,Re.availabilityTimeComplete=X.reference.availabilityTimeComplete,Re})}catch(X){return m.error(X),[]}},getSynthesizedLocationElements:function(j){try{return V(j).map(function(X){var Re=new En(X.synthesizedUrl,X.serviceLocation);return Re.queryParams=X.queryParams,Re})}catch(X){return m.error(X),[]}},initialize:function(){C=Ir(me).create({errHandler:B,dashMetrics:ee,mediaPlayerModel:se,requestModifier:U,errors:pe}),ne.on(h.Z.FRAGMENT_LOADING_STARTED,Ae,y),ne.on(h.Z.MANIFEST_LOADING_STARTED,$,y),ne.on(h.Z.MANIFEST_LOADING_FINISHED,ge,y),ne.on(h.Z.THROUGHPUT_MEASUREMENT_STORED,fe,y)}},m=(0,x.Z)(me).getInstance().getLogger(y),he(),y}Ma.__dashjs_factory_name="ContentSteeringController";const Ra=S.Z.getSingletonFactory(Ma);function Qs(){var y,m,b,I=this.context,F=(0,Mt.Z)(I).getInstance();return y={select:function(O){if(!O||0===O.length)return null;var B,ee,C=null;return F.get().streaming.applyContentSteering&&(B=O,C=(ee=b.getCurrentSteeringResponseData())&&ee.pathwayPriority&&ee.pathwayPriority.length>0?function(){for(var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],U=0,oe=null,ne=function(){var _e=se[U],me=te.findIndex(function(Ce){return Ce.serviceLocation&&Ce.serviceLocation===_e});if(-1!==me&&!m.contains(te[me].serviceLocation))return oe=te[me],"break";U+=1};U<se.length&&"break"!==ne(););return oe}(ee.pathwayPriority,B):null),C||(C=function(B){return B[0]}(O)),C},setConfig:function(O){O.blacklistController&&(m=O.blacklistController),O.contentSteeringController&&(b=O.contentSteeringController)},reset:function(){m.reset()}},m=Uc(I).create({updateEventName:g.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),b=Ra(I).getInstance(),y}Qs.__dashjs_factory_name="LocationSelector";const wh=S.Z.getClassFactory(Qs);function Ko(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e=this.context,me=(0,T.Z)(_e).getInstance(),Ce=(0,Ge.Z)(_e).getInstance();function Ae(){b=NaN,C=!1,F=!0,O=!1,$()}function $(){null!==I&&(clearTimeout(I),I=null)}function ge(re){$(),O||(isNaN(re)&&!isNaN(b)&&(re=1e3*b),isNaN(re)||(m.debug("Refresh manifest in "+re+" milliseconds."),I=setTimeout(Y,re)))}function fe(){var re=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C=!0;var he=ee.getValue(),j=he.url,X=null,Re=te.getPatchLocation(he),Be=se.select(Re),Ue=null;if(Be&&!re)j=Be.url,X=Be.serviceLocation,Ue=Be.queryParams;else{var Qe=function ve(re){var he=te.getLocation(re),j=oe.getSynthesizedLocationElements(he);return he.concat(j)}(he),ke=se.select(Qe);ke&&(j=ke.url,X=ke.serviceLocation,Ue=ke.queryParams)}Ce.isRelative(j)&&(j=Ce.resolve(j,he.url)),B.load(j,X,Ue)}function A(re){if(re){if(te.getIsPatch(re)){var he=re;re=ee.getValue();var j=te.isPatchValid(re,he),X=j;if(j){var Re=te.getPublishTime(re);X=te.applyPatchToManifest(re,he);var Be=te.getPublishTime(re);X=Re.getTime()!=Be.getTime()}if(!X)return m.debug("Patch provided is invalid, performing full manifest refresh"),void fe(!0);re.loadedTime=new Date}}else(re=ee.getValue()).loadedTime=new Date;if(ee.getValue()&&ee.getValue().type===f.Z.DYNAMIC&&re.type===f.Z.STATIC)return me.trigger(g.Z.DYNAMIC_TO_STATIC),C=!1,void(O=!0);ee.setValue(re);var Ue=new Date,Qe=(Ue.getTime()-re.loadedTime.getTime())/1e3;1e3*(b=te.getManifestUpdatePeriod(re,Qe))>2147483647&&(b=2147483.647),me.trigger(g.Z.MANIFEST_UPDATED,{manifest:re}),m.info("Manifest has been refreshed at "+Ue+"["+Ue.getTime()/1e3+"] "),F||ge()}function Y(){F||(C?ge(ne.get().streaming.manifestUpdateRetryInterval):fe())}function Q(re){re.error?re.error.code===pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&U.error(re.error):A(re.manifest)}function z(){F=!1,ge()}function V(){(F=!ne.get().streaming.scheduling.scheduleWhilePaused)&&$()}function G(){C=!1}return y={initialize:function(){Ae(),me.on(g.Z.STREAMS_COMPOSED,G,this),me.on(h.Z.PLAYBACK_STARTED,z,this),me.on(h.Z.PLAYBACK_PAUSED,V,this),me.on(g.Z.INTERNAL_MANIFEST_LOADED,Q,this)},setManifest:function(re){A(re)},refreshManifest:fe,getIsUpdating:function(){return C},setConfig:function(re){re&&(re.manifestModel&&(ee=re.manifestModel),re.adapter&&(te=re.adapter),re.manifestLoader&&(B=re.manifestLoader),re.errHandler&&(U=re.errHandler),re.locationSelector&&(se=re.locationSelector),re.settings&&(ne=re.settings),re.contentSteeringController&&(oe=re.contentSteeringController))},reset:function(){me.off(h.Z.PLAYBACK_STARTED,z,this),me.off(h.Z.PLAYBACK_PAUSED,V,this),me.off(g.Z.STREAMS_COMPOSED,G,this),me.off(g.Z.INTERNAL_MANIFEST_LOADED,Q,this),Ae()}},m=(0,x.Z)(_e).getInstance().getLogger(y),se=wh(_e).create(),y}Ko.__dashjs_factory_name="ManifestUpdater";const fd=S.Z.getClassFactory(Ko);function Ci(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ce=this.context,Ae=(0,T.Z)(Ce).getInstance(),$=(0,Ge.Z)(Ce).getInstance();function ge(){B=[],ee=[],se=null,te=null,oe=null,U=NaN,b=!1,I=!1,ne=F.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function fe(){F.get().streaming.utcSynchronization.enabled&&!b&&!I&&oe&&oe.value&&oe.schemeIdUri&&!isNaN(U)&&!isNaN(F.get().streaming.utcSynchronization.backgroundAttempts)&&(te&&(Date.now()-te)/1e3<30||(B=[],I=!0,ve(isNaN(F.get().streaming.utcSynchronization.backgroundAttempts)?2:F.get().streaming.utcSynchronization.backgroundAttempts)))}function ve(ke){try{if(ke<=0)return void Ue();var tt=Date.now();O[oe.schemeIdUri](oe.value,function(Ft){var wt=Date.now(),Tt=Y(tt,wt,Ft);B.push(Tt),ve(ke-1)},function(){Ue()})}catch{Ue()}}function A(){var tt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!ee||0===ee.length||tt>=ee.length)Q();else{var Ft=ee[tt];if(Ft)if(O.hasOwnProperty(Ft.schemeIdUri)){var wt=(new Date).getTime();O[Ft.schemeIdUri](Ft.value,function(Tt){var Bt=(new Date).getTime(),on=Y(wt,Bt,Tt);oe=Ft,Q(on)},function(){A(tt+1)})}else A(tt+1);else Q()}}function Y(ke,tt,Ft){return Ft-(tt-(tt-ke)/2)}function Q(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,tt=isNaN(ke);tt&&F.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function Re(){var ke=C.getLatestMPDRequestHeaderValueByID("Date"),tt=null!==ke?new Date(ke).getTime():Number.NaN;isNaN(tt)?Be(!0):Be(!1,tt-Date.now())}():Be(tt,ke)}function z(ke){var wt,Tt,Bt,tt=Date.parse(ke);return isNaN(tt)&&(Bt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(ke),wt=Date.UTC(parseInt(Bt[1],10),parseInt(Bt[2],10)-1,parseInt(Bt[3],10),parseInt(Bt[4],10),parseInt(Bt[5],10),Bt[6]&&(parseInt(Bt[6],10)||0),Bt[7]&&1e3*parseFloat(Bt[7])||0),Bt[9]&&Bt[10]&&(Tt=60*parseInt(Bt[9],10)+parseInt(Bt[10],10),wt+=("+"===Bt[8]?-1:1)*Tt*60*1e3),tt=new Date(wt).getTime()),tt}function V(ke){return Date.parse(ke)}function G(ke){return Date.parse(ke)}function re(ke,tt,Ft){Ft()}function he(ke,tt,Ft){var wt=z(ke);isNaN(wt)?Ft():tt(wt)}function j(ke,tt,Ft,wt,Tt){var Bt,on,Le=!1,Te=new XMLHttpRequest,Je=Tt?je.w.HEAD:je.w.GET,Oe=tt.match(/\S+/g);if(tt=Oe.shift(),Bt=function(){Le||(Le=!0,Oe.length?j(ke,Oe.join(" "),Ft,wt,Tt):wt())},on=function(){var ct,ht;200===Te.status&&(ct=Tt?Te.getResponseHeader("Date"):Te.response,ht=ke(ct),isNaN(ht)||(Ft(ht),Le=!0))},$.isRelative(tt)){var nt=me.resolve();nt&&(tt=$.resolve(tt,nt.url))}Te.open(Je,tt),Te.timeout=5e3,Te.onload=on,Te.onloadend=Bt,Te.send()}function X(ke,tt,Ft){j(G,ke,tt,Ft,!0)}function Be(ke,tt){if(isNaN(U)||isNaN(tt)||ke||function(wt){try{var Tt,Bt=Qe(wt),on=isNaN(ne)?30:ne,Le=isNaN(F.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:F.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Te=isNaN(F.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:F.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Je=isNaN(F.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:F.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Bt?(Tt=Math.min(on*Le,Te),m.debug("Increasing timeBetweenSyncAttempts to ".concat(Tt))):(Tt=Math.max(on/Le,Je),m.debug("Decreasing timeBetweenSyncAttempts to ".concat(Tt))),ne=Tt}catch{}}(tt),!ke&&!isNaN(tt)){se=Date.now(),b=!1;var Ft=isNaN(U);U=tt,Ft&&fe(),m.debug("Completed UTC sync. Setting client - server offset to ".concat(tt))}ke&&(oe=null,b=!1,_e.error(new K.Z(pe.TIME_SYNC_FAILED_ERROR_CODE,pe.TIME_SYNC_FAILED_ERROR_MESSAGE))),Ae.trigger(g.Z.UPDATE_TIME_SYNC_OFFSET,{offset:tt}),Ae.trigger(g.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Ue(){if(B&&0!==B.length){var ke=B.reduce(function(tt,Ft){return tt+Ft},0)/B.length;Qe(ke)?m.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(m.debug("Completed background UTC sync. Setting client - server offset to ".concat(ke)),Ae.trigger(g.Z.UPDATE_TIME_SYNC_OFFSET,{offset:U=ke})),I=!1,te=Date.now()}}function Qe(ke){try{if(isNaN(U))return!0;var tt=F.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(F.get().streaming.utcSynchronization.maximumAllowedDrift)?F.get().streaming.utcSynchronization.maximumAllowedDrift:100;return ke>=U-tt&&ke<=U+tt}catch{return!0}}return y={initialize:function(){ge(),O={"urn:mpeg:dash:utc:http-head:2014":X,"urn:mpeg:dash:utc:http-xsdate:2014":j.bind(null,z),"urn:mpeg:dash:utc:http-iso:2014":j.bind(null,V),"urn:mpeg:dash:utc:direct:2014":he,"urn:mpeg:dash:utc:http-head:2012":X,"urn:mpeg:dash:utc:http-xsdate:2012":j.bind(null,z),"urn:mpeg:dash:utc:http-iso:2012":j.bind(null,V),"urn:mpeg:dash:utc:direct:2012":he,"urn:mpeg:dash:utc:http-ntp:2014":re,"urn:mpeg:dash:utc:ntp:2014":re,"urn:mpeg:dash:utc:sntp:2014":re}},attemptSync:function(ke,tt){ee=ke,b||(function(Ft){try{if(!Ft||!F.get().streaming.utcSynchronization.enabled)return!1;var wt=isNaN(ne)?30:ne;return!(se&&wt&&!isNaN(wt))||(Date.now()-se)/1e3>=wt}catch{return!0}}(tt)?(b=!0,A()):Ae.trigger(g.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(ke){ke&&(ke.dashMetrics&&(C=ke.dashMetrics),ke.baseURLController&&(me=ke.baseURLController),ke.errHandler&&(_e=ke.errHandler),ke.settings&&(F=ke.settings))},reset:function(){ge(),Ae.off(g.Z.ATTEMPT_BACKGROUND_SYNC,fe,y)}},m=(0,x.Z)(Ce).getInstance().getLogger(y),Ae.on(g.Z.ATTEMPT_BACKGROUND_SYNC,fe,y),y}Ci.__dashjs_factory_name="TimeSyncController";var Mr=S.Z.getSingletonFactory(Ci);Mr.HTTP_TIMEOUT_MS=5e3,S.Z.updateSingletonFactory(Ci.__dashjs_factory_name,Mr);const s0=Mr;function Bg(){var y,m,b;return y={createMediaSource:function(){var F="WebKitMediaSource"in window;return"MediaSource"in window?m=new MediaSource:F&&(m=new WebKitMediaSource),m},attachMediaSource:function(F){var O=window.URL.createObjectURL(m);return F.setSource(O),O},detachMediaSource:function(F){F.setSource(null)},setDuration:function F(O){m&&"open"===m.readyState&&(null===O&&isNaN(O)||m.duration!==O&&(function(C){for(var B=C.sourceBuffers,ee=0;ee<B.length;ee++)if(B[ee].updating)return!0;return!1}(m)?setTimeout(F.bind(null,O),50):(b.info("Set MediaSource duration:"+O),m.duration=O)))},setSeekable:function(F,O){m&&"function"==typeof m.setLiveSeekableRange&&"function"==typeof m.clearLiveSeekableRange&&"open"===m.readyState&&F>=0&&F<O&&(m.clearLiveSeekableRange(),m.setLiveSeekableRange(F,O))},signalEndOfStream:function(F){if(F&&"open"===F.readyState){for(var O=F.sourceBuffers,C=0;C<O.length;C++)if(O[C].updating||0===O[C].buffered.length)return;b.info("call to mediaSource endOfStream"),F.endOfStream()}}},b=(0,x.Z)(this.context).getInstance().getLogger(y),y}Bg.__dashjs_factory_name="MediaSourceController";const a0=S.Z.getSingletonFactory(Bg);function bn(){var y,m,b,I,F,O,C,B,ee,se,te,U="urn:mpeg:dash:event:2012",ne="updated",_e="added",me=this.context,Ce=(0,T.Z)(me).getInstance();function Ae(){if(!C||!B)throw new Error("setConfig function has to be called previously")}function $(){te=!1,b={},I={},F=null,se=!1,O=Date.now()/1e3}function ge(){try{if(!se){se=!0;var re=B.getTime(),he=re-O;he=O>0?Math.max(0,he):0,fe(I,he,re),fe(b,he,re),ve(I),ve(b),O=re,se=!1}}catch(j){se=!1,m.error(j)}}function fe(re,he,j){try{z(re,function(X){if(void 0!==X){var Re=isNaN(X.duration)?0:X.duration;X.calculatedPresentationTime<=j&&X.calculatedPresentationTime+he+Re>=j?G(X,h.Z.EVENT_MODE_ON_START):(V(j,Re+he,X.calculatedPresentationTime)||function(Be){try{return Be.calculatedPresentationTime>Be.eventStream.period.start+Be.eventStream.period.duration}catch(Qe){return m.error(Qe),!1}}(X))&&(m.debug("Removing event ".concat(X.id," from period ").concat(X.eventStream.period.id," as it is expired or invalid")),function(Be,Ue){try{var Qe=Ue.eventStream.schemeIdUri,ke=Ue.eventStream.period.id,tt=Ue.eventStream.value,Ft=Ue.id;Be[ke][Qe]=Be[ke][Qe].filter(function(wt){return tt&&wt.eventStream.value&&wt.eventStream.value!==tt||wt.id!==Ft}),0===Be[ke][Qe].length&&delete Be[ke][Qe]}catch(wt){m.error(wt)}}(re,X))}})}catch(X){m.error(X)}}function ve(re){try{for(var he in re)re.hasOwnProperty(he)&&0===Object.keys(re[he]).length&&delete re[he]}catch(j){m.error(j)}}function A(re,he){var j=arguments.length>2&&void 0!==arguments[2]&&arguments[2],X=re.eventStream.schemeIdUri,Re=re.eventStream.value,Be=re.id,Ue="discarded";he[X]||(he[X]=[]);var Qe=he[X].findIndex(function(tt){return(!Re||tt.eventStream.value&&tt.eventStream.value===Re)&&tt.id===Be});if(-1===Qe)he[X].push(re),re.triggeredReceivedEvent=!1,re.triggeredStartEvent=!1,Ue=_e;else if(j){var ke=he[X][Qe];re.triggeredReceivedEvent=ke.triggeredReceivedEvent,re.triggeredStartEvent=ke.triggeredStartEvent,he[X][Qe]=re,Ue=ne}return Ue}function Y(re){try{1==re.eventStream.value&&Ce.trigger(h.Z.MANIFEST_VALIDITY_CHANGED,{id:re.id,validUntil:re.calculatedPresentationTime,newDuration:4294967295==re.calculatedPresentationTime?NaN:re.calculatedPresentationTime+re.duration,newManifestValidAfter:NaN},{mode:h.Z.EVENT_MODE_ON_START})}catch(X){m.error(X)}}function Q(re){try{var he=B.getTime();z(re,function(j){var X=j.eventStream&&j.eventStream.period&&!isNaN(j.eventStream.period.duration)?j.eventStream.period.duration:NaN,Re=j.eventStream&&j.eventStream.period&&!isNaN(j.eventStream.period.start)?j.eventStream.period.start:NaN;isNaN(X)||isNaN(Re)||Math.abs(j.calculatedPresentationTime-he)<300&&G(j,h.Z.EVENT_MODE_ON_START)})}catch(j){m.error(j)}}function z(re,he){try{if(re)for(var j=Object.keys(re),X=0;X<j.length;X++)for(var Re=re[j[X]],Be=Object.keys(Re),Ue=0;Ue<Be.length;Ue++)Re[Be[Ue]].forEach(function(Qe){void 0!==Qe&&he(Qe)})}catch(Qe){m.error(Qe)}}function V(re,he,j){try{return re-he>j}catch(X){return m.error(X),!1}}function G(re,he){try{var j=B.getTime(),X=re.id;if(he===h.Z.EVENT_MODE_ON_RECEIVE&&!re.triggeredReceivedEvent)return m.debug("Received event ".concat(X)),re.triggeredReceivedEvent=!0,void Ce.trigger(re.eventStream.schemeIdUri,{event:re},{mode:he});re.triggeredStartEvent||(re.eventStream.schemeIdUri===U&&1==re.eventStream.value?0===re.duration&&0===re.presentationTimeDelta||(m.debug("Starting manifest refresh event ".concat(X," at ").concat(j)),function(){try{Ae(),C.refreshManifest()}catch(Re){m.error(Re)}}()):"urn:mpeg:dash:event:callback:2015"===re.eventStream.schemeIdUri&&1==re.eventStream.value?(m.debug("Starting callback event ".concat(X," at ").concat(j)),function(Re){try{(0,rn.Z)(me).create({}).load({method:"get",url:Re,request:{responseType:"arraybuffer"}})}catch(Be){m.error(Be)}}(re.messageData)):(m.debug("Starting event ".concat(X," from period ").concat(re.eventStream.period.id," at ").concat(j)),Ce.trigger(re.eventStream.schemeIdUri,{event:re},{mode:he})),re.triggeredStartEvent=!0)}catch(Re){m.error(Re)}}return y={addInlineEvents:function(re,he){try{if(Ae(),b[he]||(b[he]={}),re)for(var j=0;j<re.length;j++){var X=re[j];if(!V(B.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)){var Re=A(X,b[he],!0);Re===_e?(m.debug("Added inline event with id ".concat(X.id," from period ").concat(he)),G(X,h.Z.EVENT_MODE_ON_RECEIVE)):Re===ne&&m.debug("Updated inline event with id ".concat(X.id," from period ").concat(he))}}}catch(Be){throw Be}},addInbandEvents:function(re,he){try{Ae(),I[he]||(I[he]={});for(var j=0;j<re.length;j++){var X=re[j];V(B.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)||(A(X,I[he],!1)===_e?(X.eventStream.schemeIdUri===U&&Y(X),m.debug("Added inband event with id ".concat(X.id," from period ").concat(he)),G(X,h.Z.EVENT_MODE_ON_RECEIVE)):m.debug("Inband event with scheme_id_uri ".concat(X.eventStream.schemeIdUri,", value ").concat(X.eventStream.value,", period id ").concat(he," and event id ").concat(X.id," was ignored because it has been added before.")))}ge()}catch(Re){throw Re}},getInbandEvents:function(){return I},getInlineEvents:function(){return b},start:function(){try{Ae(),m.debug("Start Event Controller");var re=ee.get().streaming.eventControllerRefreshDelay;te||isNaN(re)||(te=!0,F=setInterval(ge,re))}catch(he){throw he}},setConfig:function(re){try{if(!re)return;re.manifestUpdater&&(C=re.manifestUpdater),re.playbackController&&(B=re.playbackController),re.settings&&(ee=re.settings)}catch(he){throw he}},reset:function(){(function(){try{null!==F&&te&&(clearInterval(F),F=null,te=!1,function(){try{Q(I),Q(b)}catch(re){m.error(re)}}())}catch(re){throw re}})(),$()}},m=(0,x.Z)(me).getInstance().getLogger(y),$(),y}bn.__dashjs_factory_name="EventController";const l0=S.Z.getSingletonFactory(bn),jr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function sl(y,m){(null==m||m>y.length)&&(m=y.length);for(var b=0,I=new Array(m);b<m;b++)I[b]=y[b];return I}function Th(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ce,Ae,$,ge,fe,ve,A,Y,Q,z,V,G,re,he,j,X,Re,Be,Ue,Qe,ke,tt,Ft,wt,Tt,Bt,on,Le,Te,Je,Oe,nt,ct=this.context,ht=(0,T.Z)(ct).getInstance();function Lt(){if(!(O&&O.hasOwnProperty("load")&&fe&&fe.hasOwnProperty("initialize")&&fe.hasOwnProperty("reset")&&fe.hasOwnProperty("getClientTimeOffset")&&C&&ge&&ee&&Re))throw new Error(d.Z.MISSING_CONFIG_ERROR)}function Sn(){!function(){try{var bt=B.getStreamsInfo();if(!A&&0===bt.length)throw new Error("There are no periods in the MPD");A&&bt.length>0&&ee.updateManifestUpdateInfo({currentTime:Re.getTime(),buffered:X.getBufferRange(),presentationStartTime:bt[0].start,clientTimeOffset:fe.getClientTimeOffset()}),ve.length>0&&(0!==(ar=bt).length?ve=ve.filter(function(Jn){var Zr=ar.filter(function(Vr){return Vr.id===Jn.getId()}).length>0||Jn.getId()===A.getId();return Zr||(m.debug("Removing stream ".concat(Jn.getId())),Jn.reset(!0)),Zr}):m.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects."));for(var Kt=[],xn=0,jn=bt.length;xn<jn;xn++){var gr=bt[xn];Kt.push(yn(gr)),ee.addManifestUpdateStreamInfo(gr)}Promise.all(Kt).then(function(){return new Promise(function(ar,Jn){A?ar():Cn(bt,ar,Jn)})}).then(function(){ht.trigger(g.Z.STREAMS_COMPOSED),fn()}).catch(function(ar){throw ar})}catch(ar){ge.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ar.message+" nostreamscomposed",C.getValue())),he=!0,ml()}var ar}()}function In(){Te=!0}function yn(bt){var Kt=su(bt.id);return Kt?Kt.updateData(bt):(Kt=ps(ct).create({manifestModel:C,mediaPlayerModel:Ue,dashMetrics:ee,manifestUpdater:F,adapter:B,timelineConverter:fe,capabilities:b,capabilitiesFilter:I,errHandler:ge,baseURLController:oe,segmentBaseController:ne,textController:Q,abrController:me,playbackController:Re,eventController:Ae,mediaController:Ce,protectionController:Y,videoModel:X,streamInfo:bt,settings:Le}),ve.push(Kt),Kt.initialize(),Promise.resolve())}function Cn(bt,Kt,xn){try{mt();var jn=ee.getCurrentDVRInfo().range;if(jn.end<jn.start){Je&&clearTimeout(Je);var gr=Math.min(1e3*(-1*(jn.end-jn.start)+2),2147483647);return m.debug("Waiting for ".concat(gr," ms before playback can start")),ht.trigger(g.Z.AST_IN_FUTURE,{delay:gr}),void(Je=setTimeout(function(){Cn(bt,Kt,xn)},gr))}Le.get().streaming.applyProducerReferenceTime&&Be.calculateProducerReferenceTimeOffsets(bt);var ar=bt[0].manifestInfo;if(Le.get().streaming.applyServiceDescription&&Be.applyServiceDescription(ar),B.getIsDynamic()){var Jn=ns(bt,ar);Re.computeAndSetLiveDelay(Jn,ar)}(Le.get().streaming.applyContentSteering&&U.shouldQueryBeforeStart()?U.loadSteeringData():Promise.resolve()).then(function(){var Zr=C.getValue();Zr&&oe.update(Zr),Nn(),Kt()}).catch(function(Zr){m.error(Zr),Nn(),Kt()})}catch(Zr){xn(Zr)}}function Nn(){var bt=function(){var jn;if(B.getIsDynamic()){var gr=ee.getCurrentDVRInfo();jn=(gr&&gr.range?gr.range.end:0)-Re.getOriginalLiveDelay();var ar=gr?gr.range:null;if(ar){if(isNaN(Oe)&&-1===Oe.toString().indexOf("posix:")){var Jn=Xi(!0);isNaN(Jn)||(m.info("Start time from URI parameters: ".concat(Jn)),jn=Math.min(jn,Jn))}else{m.info("Start time provided by the app: ".concat(Oe));var Zr=Zi(!0,Oe);isNaN(Zr)||(jn=Math.min(jn,Zr))}var Vr=Le.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;jn=Math.max(jn,ar.start+Vr)}}else if(jn=Ua()[0].getStreamInfo().start,isNaN(Oe)){var bs=Xi(!1);isNaN(bs)||(m.info("Start time from URI parameters: ".concat(bs)),jn=Math.max(jn,bs))}else{m.info("Start time provided by the app: ".concat(Oe));var la=Zi(!1,Oe);isNaN(la)||(jn=Math.max(jn,la))}return jn}(),Kt=mn(bt),xn=null!==Kt?Kt:ve[0];ht.trigger(g.Z.INITIAL_STREAM_SWITCH,{startTime:bt}),er(xn,null,bt),wt||(wt=setInterval(function(){!G&&Re.getTimeToStreamEnd()<=0&&!Re.isSeeking()&&ht.trigger(g.Z.PLAYBACK_ENDED,{isLast:Ba().isLast})},200))}function er(bt,Kt,xn){try{if(G||!bt||Kt===bt&&bt.getIsActive())return;G=!0,ht.trigger(g.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:Kt?Kt.getStreamInfo():null,toStreamInfo:bt.getStreamInfo()});var jn=!1;A=bt,Kt&&(jn=_n(bt,Kt),Kt.deactivate(jn)),xn=isNaN(xn)?!jn&&Kt?bt.getStreamInfo().start:NaN:xn,m.info("Switch to stream ".concat(bt.getId(),". Seektime is ").concat(xn,", current playback time is ").concat(Re.getTime(),". Seamless period switch is set to ").concat(jn)),Bt=Bt.filter(function(gr){return gr.getId()!==A.getId()}),Re.initialize(Ba(),!!Kt),X.getElement()?sr(xn,jn,!1):$n(xn,jn)}catch{G=!1}}function sr(bt,Kt){var xn,jn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function gr(){if(j&&"open"===j.readyState){m.debug("MediaSource is open!"),window.URL.revokeObjectURL(xn),j.removeEventListener("sourceopen",gr),j.removeEventListener("webkitsourceopen",gr),Hr();var Jn=ee.getCurrentDVRInfo();se.setSeekable(Jn.range.start,Jn.range.end),jn?(isNaN(bt)||Re.seek(bt,!0,!0),A.setMediaSource(j).then(function(){A.initializeForTextWithMediaSource(j)})):$n(bt,Kt)}}function ar(){j.addEventListener("sourceopen",gr,!1),j.addEventListener("webkitsourceopen",gr,!1),xn=se.attachMediaSource(X),m.debug("MediaSource attached to element.  Waiting on open...")}j?Kt?$n(bt,Kt):(se.detachMediaSource(X),ar()):(j=se.createMediaSource(),ar())}function $n(bt,Kt){A.activate(j,Kt?Tt:void 0,bt).then(function(xn){if(xn){var jn=Object.keys(xn);jn.length>0&&xn[jn[0]].getBuffer().changeType&&(on=!0),Tt=xn}isNaN(bt)||(ht.trigger(g.Z.SEEK_TARGET,{time:bt},{streamId:A.getId()}),Re.seek(bt,!1,!0),A.startScheduleControllers()),G=!1,ht.trigger(g.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Ba()})})}function hr(bt){var xn,jn,gr,ar,Kt=mn(bt.seekTime);Kt&&Kt!==A?Kt&&Kt!==A&&(nr(),jn=Kt,gr=(xn=bt)&&!isNaN(xn.seekTime)?xn.seekTime:NaN,ar=A.getProcessors().map(function(Jn){return Jn.prepareOuterPeriodPlaybackSeeking(xn)}),Promise.all(ar).then(function(){er(jn,A,gr)}).catch(function(Jn){ge.error(Jn)})):(nr(),function(xn){A.getProcessors().forEach(function(jn){return jn.prepareInnerPeriodPlaybackSeeking(xn)}),ia(et.USER_REQUEST_STOP_REASON)}(bt)),oa(Fe.SEEK_START_REASON)}function nr(){mr()}function mr(){Bt&&Bt.length>0&&(Bt.forEach(function(bt){bt.deactivate(!0)}),Bt=[])}function Ot(bt){bt.newMediaInfo.streamInfo.id===A.getId()&&(mr(),A.prepareTrackChange(bt))}function _n(bt,Kt){try{return Le.get().streaming.buffer.reuseExistingSourceBuffers&&(Kt.isProtectionCompatible(bt)||Te)&&(on&&Le.get().streaming.buffer.useChangeTypeForTrackSwitch||Kt.isMediaCodecCompatible(bt,Kt))}catch{return!1}}function an(bt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;j&&!bt.getPreloaded()&&_n(bt,Kt)&&bt.startPreloading(j,Tt).then(function(){Bt.push(bt)})}function mn(bt){if(isNaN(bt))return null;for(var Kt=ve.length,xn=0;xn<Kt;xn++){var jn=ve[xn];if(bt<parseFloat((jn.getStartTime()+jn.getDuration()).toFixed(5)))return jn}return null}function mt(){try{var bt=B.getIsDynamic(),Kt=B.getStreamsInfo()[0].manifestInfo,xn=Re.getTime(),jn=fe.calcTimeShiftBufferWindow(ve,bt),gr=Ur();if(void 0===jn.start||void 0===jn.end)return;gr&&0!==gr.length?gr.forEach(function(ar){ee.addDVRInfo(ar.getType(),xn,Kt,jn)}):ee.addDVRInfo(d.Z.VIDEO,xn,Kt,jn)}catch{}}function Ht(bt){if(tt&&V){var Kt=Ue.getInitialBufferLevel(),xn=[d.Z.TEXT];(isNaN(Kt)||Kt<=Re.getBufferLevel(xn)||B.getIsDynamic()&&Kt>Re.getLiveDelay())&&(tt=!1,oa(Fe.INITIAL_PLAYOUT_START_REASON),Re.play())}bt&&bt.mediaType&&ee.addBufferLevel(bt.mediaType,new Date,1e3*bt.bufferLevel)}function dt(bt){bt.streamInfo.id===A.getId()&&bt.reason&&bt.reason.forceReplace&&mr(),su(bt.streamInfo.id).prepareQualityChange(bt)}function Ze(){if(B.getIsDynamic()&&0!==Re.getOriginalLiveDelay()&&A){var bt=B.getStreamsInfo();if(bt.length>0){var Kt=bt[0].manifestInfo,xn=ns(bt,Kt);Re.computeAndSetLiveDelay(xn,Kt)}}}function we(){if(ra()){var bt=X.getPlaybackQuality();bt&&ee.addDroppedFrames(bt)}}function ot(){m.debug("[onPlaybackStarted]"),!tt&&ke&&oa(Fe.RESUME_FROM_PAUSE_START_REASON),tt&&(tt=!1),Ft&&(Ft=!1,Le.get().streaming.applyContentSteering&&!U.shouldQueryBeforeStart()&&U.loadSteeringData()),ke=!1}function Dt(bt){m.debug("[onPlaybackPaused]"),bt.ended||(ke=!0,ia(et.USER_REQUEST_STOP_REASON))}function en(bt){m.debug("Stream with id ".concat(bt.streamInfo.id," finished buffering")),j&&bt.streamInfo.isLast?(m.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),se.signalEndOfStream(j)):fn()}function fn(){if(A&&A.getHasFinishedBuffering())for(var bt=function(){var gr=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var ar=gr||A||null;if(ar){var Jn=ar.getStreamInfo();return ve.filter(function(Zr){var Vr=Zr.getStreamInfo();return Vr.start>Jn.start&&Jn.id!==Vr.id})}}catch{return[]}}(A),Kt=0;Kt<bt.length;){var xn=bt[Kt],jn=0===Kt?A:bt[Kt-1];!xn.getPreloaded()&&jn.getHasFinishedBuffering()&&j&&an(xn,jn),Kt+=1}}function Xn(){wt&&(clearInterval(wt),wt=null)}function Ur(){return A?A.getProcessors():[]}function Pi(bt){if(A&&!A.getIsEndedEventSignaled()){A.setIsEndedEventSignaled(!0);var Kt=function(){var jn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||A||null;if(!jn)return null;for(var gr=jn.getStreamInfo(),ar=gr.start,Jn=0,Zr=-1,Vr=NaN;Jn<ve.length;){var bs=ve[Jn].getStreamInfo(),la=bs.start-ar;la>0&&(isNaN(Vr)||la<Vr)&&gr.id!==bs.id&&(Vr=la,Zr=Jn),Jn+=1}return Zr>=0?ve[Zr]:null}();Kt?(m.debug("StreamController onEnded, found next stream with id ".concat(Kt.getStreamInfo().id,". Switching from ").concat(A.getStreamInfo().id," to ").concat(Kt.getStreamInfo().id)),er(Kt,A,NaN)):(m.debug("StreamController no next stream found"),A.setIsEndedEventSignaled(!1)),ia(Kt?et.END_OF_PERIOD_STOP_REASON:et.END_OF_CONTENT_STOP_REASON)}bt&&bt.isLast&&(Xn(),U.stopSteeringRequestTimer())}function Hr(bt){var Kt=bt||Ba().manifestInfo.duration;se.setDuration(Kt)}function Xi(bt){var Kt=_e.getURIFragmentData();if(!Kt||!Kt.t)return NaN;var xn=Ua()[0].getStreamInfo().start;return Kt.t=Kt.t.split(",")[0],bo(bt,Kt.t,xn)}function Zi(bt,Kt){var xn=0;return bt||(xn=Ua()[0].getStreamInfo().start),bo(bt,Kt,xn)}function bo(bt,Kt,xn){var jn=B.getRegularPeriods()[0],gr=Kt.toString(),ar=-1!==gr.indexOf("posix:")?"now"===gr.substring(6)?Date.now()/1e3:parseFloat(gr.substring(6)):NaN;return bt&&!isNaN(ar)?fe.calcPresentationTimeFromWallTime(new Date(1e3*ar),jn):parseFloat(gr)+xn}function ns(bt,Kt){try{var xn=NaN;if(Kt&&!isNaN(Kt.maxFragmentDuration)&&isFinite(Kt.maxFragmentDuration))return Kt.maxFragmentDuration;if(bt&&1===bt.length){var jn=bt[0],gr=[d.Z.VIDEO,d.Z.AUDIO,d.Z.TEXT].reduce(function(Jn,Zr){var Vr=B.getMediaInfoForType(jn,Zr);return Vr&&!1!==Vr.isFragmented&&Jn.push(Vr),Jn},[]).reduce(function(Jn,Zr){var Vr=B.getVoRepresentations(Zr);return Vr&&Vr.length>0&&Vr.forEach(function(bs){bs&&Jn.push(bs)}),Jn},[]).reduce(function(Jn,Zr){var Vr=B.convertRepresentationToRepresentationInfo(Zr);return Vr&&Vr.fragmentDuration&&!isNaN(Vr.fragmentDuration)&&Jn.push(Vr.fragmentDuration),Jn},[]);xn=Math.max.apply(Math,function(Jn){if(Array.isArray(Jn))return sl(Jn)}(ar=gr)||function(Jn){if(typeof Symbol<"u"&&Symbol.iterator in Object(Jn))return Array.from(Jn)}(ar)||function(Jn,Zr){if(Jn){if("string"==typeof Jn)return sl(Jn,void 0);var Vr=Object.prototype.toString.call(Jn).slice(8,-1);return"Object"===Vr&&Jn.constructor&&(Vr=Jn.constructor.name),"Map"===Vr||"Set"===Vr?Array.from(Jn):"Arguments"===Vr||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Vr)?sl(Jn,void 0):void 0}}(ar)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return isFinite(xn)?xn:NaN}catch{return NaN}var ar}function rs(bt){if(bt.error)he=!0,ml();else{m.info("Manifest updated... updating data system wide.");var Kt=bt.manifest;B.updatePeriods(Kt);var xn=B.getUTCTimingSources();!B.getIsDynamic()||xn&&0!==xn.length||ht.trigger(h.Z.CONFORMANCE_VIOLATION,{level:jr.LEVELS.WARNING,event:jr.EVENTS.NO_UTC_TIMING_ELEMENT});var jn=B.getIsDynamic()?xn.concat(Qe.getUTCTimingSources()):xn;I.filterUnsupportedFeatures(Kt).then(function(){oe.initialize(Kt),te.attemptSync(jn,B.getIsDynamic())})}}function ra(){return!!A&&A.getHasVideoTrack()}function po(){return!!A&&A.getHasAudioTrack()}function ia(bt,Kt){Kt=Kt||new Date,Ur().forEach(function(xn){xn.finalisePlayList(Kt,bt)}),ee.addPlayList()}function oa(bt){ee.createPlaylistMetrics(1e3*Re.getTime(),bt)}function sa(bt){if(bt.error){var Kt="";switch(bt.error.code){case 1:Kt="MEDIA_ERR_ABORTED";break;case 2:Kt="MEDIA_ERR_NETWORK";break;case 3:Kt="MEDIA_ERR_DECODE",nt.counts.mediaErrorDecode+=1;break;case 4:Kt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Kt="MEDIA_ERR_ENCRYPTED";break;default:Kt="UNKNOWN"}"MEDIA_ERR_DECODE"===Kt&&Le.get().errors.recoverAttempts.mediaErrorDecode>=nt.counts.mediaErrorDecode?function(){m.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var xn=Re.getTime();A.deactivate(!1),m.warn("MediaSource has been resetted. Resuming playback from time ".concat(xn)),sr(xn,!1,!1)}():(re=!0,bt.error.message&&(Kt+=" ("+bt.error.message+")"),bt.error.msExtendedCode&&(Kt+=" (0x"+(bt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),m.fatal("Video Element Error: "+Kt),bt.error&&m.fatal(bt.error),ge.error(new K.Z(bt.error.code,Kt)),ml())}}function Ba(){return A?A.getStreamInfo():null}function su(bt){for(var Kt=0,xn=ve.length;Kt<xn;Kt++)if(ve[Kt].getId()===bt)return ve[Kt];return null}function nc(bt){isNaN(bt.newDuration)||Hr(bt.newDuration)}function Us(){ve=[],Oe=NaN,Y=null,G=!1,A=null,re=!1,he=!1,tt=!0,Ft=!0,ke=!1,V=!0,wt=null,Te=!1,on=!1,Bt=[],Je=null,nt={counts:{mediaErrorDecode:0}}}function ml(){Lt(),te.reset(),ia(re||he?et.FAILURE_STOP_REASON:et.USER_REQUEST_STOP_REASON);for(var bt=0,Kt=ve?ve.length:0;bt<Kt;bt++)ve[bt].reset(re);ht.off(h.Z.PLAYBACK_TIME_UPDATED,we,y),ht.off(h.Z.PLAYBACK_SEEKING,hr,y),ht.off(h.Z.PLAYBACK_ERROR,sa,y),ht.off(h.Z.PLAYBACK_STARTED,ot,y),ht.off(h.Z.PLAYBACK_PAUSED,Dt,y),ht.off(h.Z.PLAYBACK_ENDED,Pi,y),ht.off(h.Z.METRIC_ADDED,aa,y),ht.off(h.Z.MANIFEST_VALIDITY_CHANGED,nc,y),ht.off(h.Z.BUFFER_LEVEL_UPDATED,Ht,y),ht.off(h.Z.QUALITY_CHANGE_REQUESTED,dt,y),g.Z.KEY_SESSION_UPDATED&&ht.off(g.Z.KEY_SESSION_UPDATED,In,y),ht.off(g.Z.MANIFEST_UPDATED,rs,y),ht.off(g.Z.STREAM_BUFFERING_COMPLETED,en,y),ht.off(g.Z.TIME_SYNCHRONIZATION_COMPLETED,Sn,y),ht.off(g.Z.CURRENT_TRACK_CHANGED,Ot,y),ht.off(g.Z.SETTING_UPDATED_LIVE_DELAY,Ze,y),ht.off(g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ze,y),oe.reset(),F.reset(),Ae.reset(),ee.clearAllCurrentMetrics(),C.setValue(null),O.reset(),fe.reset(),$.reset(),j&&(se.detachMediaSource(X),j=null),X=null,Y&&(Y=null,z=null,C.getValue()&&ht.trigger(g.Z.PROTECTION_DESTROYED,{data:C.getValue().url})),Xn(),ht.trigger(g.Z.STREAM_TEARDOWN_COMPLETE),Us()}function aa(bt){if(bt.metric===N.Z.DVR_INFO){var Kt=po()?d.Z.AUDIO:d.Z.VIDEO;bt.mediaType===Kt&&se.setSeekable(bt.value.range.start,bt.value.range.end)}}function Ua(){return ve}return y={initialize:function(bt,Kt){Lt(),V=bt,z=Kt,fe.initialize(),(F=fd(ct).create()).setConfig({manifestModel:C,adapter:B,manifestLoader:O,errHandler:ge,settings:Le,contentSteeringController:U}),F.initialize(),(Ae=l0(ct).getInstance()).setConfig({manifestUpdater:F,playbackController:Re,settings:Le}),Ae.start(),te.setConfig({dashMetrics:ee,baseURLController:oe,errHandler:ge,settings:Le}),te.initialize(),Y&&(ht.trigger(g.Z.PROTECTION_CREATED,{controller:Y}),Y.setMediaElement(X.getElement()),z&&Y.setProtectionData(z)),ht.on(h.Z.PLAYBACK_TIME_UPDATED,we,y),ht.on(h.Z.PLAYBACK_SEEKING,hr,y),ht.on(h.Z.PLAYBACK_ERROR,sa,y),ht.on(h.Z.PLAYBACK_STARTED,ot,y),ht.on(h.Z.PLAYBACK_PAUSED,Dt,y),ht.on(h.Z.PLAYBACK_ENDED,Pi,y),ht.on(h.Z.METRIC_ADDED,aa,y),ht.on(h.Z.MANIFEST_VALIDITY_CHANGED,nc,y),ht.on(h.Z.BUFFER_LEVEL_UPDATED,Ht,y),ht.on(h.Z.QUALITY_CHANGE_REQUESTED,dt,y),g.Z.KEY_SESSION_UPDATED&&ht.on(g.Z.KEY_SESSION_UPDATED,In,y),ht.on(g.Z.MANIFEST_UPDATED,rs,y),ht.on(g.Z.STREAM_BUFFERING_COMPLETED,en,y),ht.on(g.Z.TIME_SYNCHRONIZATION_COMPLETED,Sn,y),ht.on(g.Z.CURRENT_TRACK_CHANGED,Ot,y),ht.on(g.Z.SETTING_UPDATED_LIVE_DELAY,Ze,y),ht.on(g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ze,y)},getActiveStreamInfo:Ba,addDVRMetric:mt,hasVideoTrack:ra,hasAudioTrack:po,getStreamById:su,getStreamForTime:mn,getTimeRelativeToStreamId:function(bt,Kt){for(var xn=null,jn=0,gr=0,ar=null,Jn=0;Jn<ve.length;Jn++){if(gr=(xn=ve[Jn]).getStartTime(),ar=xn.getDuration(),Number.isFinite(gr)&&(jn=gr),xn.getId()===Kt)return bt-jn;Number.isFinite(ar)&&(jn+=ar)}return null},load:function(bt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Lt(),Oe=Kt,O.load(bt)},loadWithManifest:function(bt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function qt(){if(!F||!F.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Oe=Kt,F.setManifest(bt)},getActiveStreamProcessors:Ur,setConfig:function(bt){bt&&(bt.capabilities&&(b=bt.capabilities),bt.capabilitiesFilter&&(I=bt.capabilitiesFilter),bt.manifestLoader&&(O=bt.manifestLoader),bt.manifestModel&&(C=bt.manifestModel),bt.mediaPlayerModel&&(Ue=bt.mediaPlayerModel),bt.customParametersModel&&(Qe=bt.customParametersModel),bt.protectionController&&(Y=bt.protectionController),bt.adapter&&(B=bt.adapter),bt.dashMetrics&&(ee=bt.dashMetrics),bt.errHandler&&(ge=bt.errHandler),bt.timelineConverter&&(fe=bt.timelineConverter),bt.videoModel&&(X=bt.videoModel),bt.playbackController&&(Re=bt.playbackController),bt.serviceDescriptionController&&(Be=bt.serviceDescriptionController),bt.contentSteeringController&&(U=bt.contentSteeringController),bt.textController&&(Q=bt.textController),bt.abrController&&(me=bt.abrController),bt.mediaController&&(Ce=bt.mediaController),bt.settings&&(Le=bt.settings),bt.baseURLController&&(oe=bt.baseURLController),bt.uriFragmentModel&&(_e=bt.uriFragmentModel),bt.segmentBaseController&&(ne=bt.segmentBaseController))},setProtectionData:function(bt){z=bt,Y&&Y.setProtectionData(z)},getIsStreamSwitchInProgress:function(){return G},switchToVideoElement:function(bt){A&&(Re.initialize(Ba()),sr(bt,!1,!0))},getHasMediaOrInitialisationError:function(){return re||he},getStreams:Ua,getActiveStream:function(){return A},getInitialPlayback:function(){return tt},getAutoPlay:function(){return V},reset:ml},m=(0,x.Z)(ct).getInstance().getLogger(y),te=s0(ct).getInstance(),se=a0(ct).getInstance(),$=ft(ct).getInstance(),Us(),y}Th.__dashjs_factory_name="StreamController";const hd=S.Z.getSingletonFactory(Th);function Sh(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe=this.context,ne=(0,T.Z)(oe).getInstance();function _e(){U.debug("Stopping the gap controller"),F&&(clearInterval(F),F=null),function(){ne.off(g.Z.WALLCLOCK_TIME_UPDATED,ge,this),ne.off(g.Z.INITIAL_STREAM_SWITCH,$,this),ne.off(g.Z.PLAYBACK_SEEKING,me,this),ne.off(g.Z.BUFFER_REPLACEMENT_STARTED,Ce,y),ne.off(g.Z.TRACK_CHANGE_RENDERED,Ae,y)}(),F=null,O=NaN,I=0,se=null,te={}}function me(){se&&(clearTimeout(se),se=null)}function Ce(z){try{if(z.streamId!==B.getActiveStreamInfo().id||z.mediaType!==d.Z.VIDEO&&z.mediaType!==d.Z.AUDIO)return;z.streamId===B.getActiveStreamInfo().id&&(te[z.mediaType]=!0)}catch(V){U.error(V)}}function Ae(z){z&&z.mediaType&&(te[z.mediaType]=!1)}function $(){F||function(){try{F||(U.debug("Starting the gap controller"),F=setInterval(function(){fe()&&Q(C.getTime())},100))}catch{}}()}function ge(){if(fe(b.get().streaming.gaps.enableSeekFix)&&++I>=10){var z=C.getTime();m===z?Q(z,!0):(m=z,O=NaN),I=0}}function fe(){var z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!B.getActiveStream())return!1;var V=Object.keys(te).some(function(re){return te[re]}),G=!!z&&function ve(){var z=B.getActiveStream(),V=parseFloat((z.getStartTime()+z.getDuration()).toFixed(5));return C.getTime()+b.get().streaming.gaps.threshold>=V}();return!V&&b.get().streaming.gaps.jumpGaps&&B.getActiveStreamProcessors().length>0&&(!C.isSeeking()||G)&&!C.isPaused()&&!B.getIsStreamSwitchInProgress()&&!B.getHasMediaOrInitialisationError()}function Q(z){var V,G=arguments.length>1&&void 0!==arguments[1]&&arguments[1],re=b.get().streaming.gaps.enableStallFix,he=b.get().streaming.gaps.stallSeek,j=b.get().streaming.gaps.smallGapLimit,X=b.get().streaming.gaps.jumpLargeGaps,Re=ee.getBufferRange(),Be=NaN,Ue=!1;if(V=function A(z,V){try{if(!z||z.length<=1&&V>0)return NaN;for(var G=NaN,re=0;isNaN(G)&&re<z.length;){var he=re>0?z.end(re-1):0;V<z.start(re)&&he-V<b.get().streaming.gaps.threshold&&(G=re),re+=1}return G}catch{return null}}(Re,z),!isNaN(V)){var Qe=Re.start(V),ke=Qe-z;ke>0&&(ke<=j||X)&&(Be=Qe)}var tt=C.getTimeToStreamEnd();if(isNaN(Be)&&G&&isFinite(tt)&&!isNaN(tt)&&tt<j&&(Be=parseFloat(C.getStreamEndTime().toFixed(5)),Ue=!0),re&&isNaN(Be)&&G&&isNaN(V)&&function Y(z,V){for(var G=0,re=z.length;G<re;G++)if(V>=z.start(G)&&V<=z.end(G))return!0;return!1}(Re,z)&&(0===he?(U.warn("Toggle play pause to break stall"),ee.pause(),ee.play()):(U.warn("Jumping ".concat(he,"s to break stall")),Be=z+he)),Be>0&&O!==Be&&Be>z&&!se){var Ft=Be-z;if(Ue){var wt=B.getStreamForTime(Be),Tt=wt&&!!wt.getPreloaded();U.warn("Jumping to end of stream because of gap from ".concat(z," to ").concat(Be,". Gap duration: ").concat(Ft)),C.seek(Be,!0,Tt)}else{var Bt=C.getIsDynamic(),on=V>0?Re.end(V-1):z,Le=Bt?1e3*Math.max(0,Ft-.1):0;se=window.setTimeout(function(){C.seek(Be,!0,!0),U.warn("Jumping gap occuring in period ".concat(B.getActiveStream().getStreamId()," starting at ").concat(on," and ending at ").concat(Be,". Jumping by: ").concat(Be-on)),se=null},Le)}O=Be}}return y={reset:_e,setConfig:function(z){z&&(z.settings&&(b=z.settings),z.playbackController&&(C=z.playbackController),z.streamController&&(B=z.streamController),z.videoModel&&(ee=z.videoModel))},initialize:function(){!function(){ne.on(g.Z.WALLCLOCK_TIME_UPDATED,ge,this),ne.on(g.Z.INITIAL_STREAM_SWITCH,$,this),ne.on(g.Z.PLAYBACK_SEEKING,me,this),ne.on(g.Z.BUFFER_REPLACEMENT_STARTED,Ce,y),ne.on(g.Z.TRACK_CHANGE_RENDERED,Ae,y)}()}},U=(0,x.Z)(oe).getInstance().getLogger(y),_e(),y}Sh.__dashjs_factory_name="GapController";const Ch=S.Z.getSingletonFactory(Sh);function Vl(){var y,m,b,I,F,O,C,B,ee,se,te=this.context,U=(0,T.Z)(te).getInstance();function oe(){m=!1;var ve=rr.Z.parseUserAgent();b=ve&&ve.browser&&ve.browser.name&&"safari"===ve.browser.name.toLowerCase()}function ne(){m=!1}function _e(ve){if(ve.streamId===O.getActiveStreamInfo().id&&ee){var A=C.getLiveDelay();C.getBufferLevel()>A/2&&(ee=!1)}}function me(ve){ve.streamId===O.getActiveStreamInfo().id&&(ee=ve.state===N.Z.BUFFER_EMPTY)}function Ce(){B.getCatchupModeEnabled()||I.setPlaybackRate(1)}function Ae(){C.getIsDynamic()&&B.getCatchupModeEnabled()&&(B.getCatchupPlaybackRates().max>0||B.getCatchupPlaybackRates().min<0)&&!C.isPaused()&&!C.isSeeking()&&function(){try{return!(!C.getTime()>0||m)&&(ge()===d.Z.LIVE_CATCHUP_MODE_LOLP?function(ve,A){try{return Math.abs($())>0||ve<A}catch{return!1}}(C.getBufferLevel(),F.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs($())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!m&&I){var ve,A=I.getPlaybackRate(),Y=B.getCatchupPlaybackRates(),Q=C.getBufferLevel(),z=$(),V=B.getCatchupMaxDrift();if(!isNaN(V)&&V>0&&z>V)se.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),m=!0,C.seekToCurrentLive(!0,!1);else{var G=C.getCurrentLiveLatency(),re=C.getLiveDelay();ve=ge()===d.Z.LIVE_CATCHUP_MODE_LOLP?function(j,X,Re,Be,Ue){var Qe;if(Ue<Be){var ke=Math.abs(j.min);Qe=1-ke+2*ke/(1+Math.pow(Math.E,-5*(Ue-Be))),se.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Ue+", newRate: "+Qe)}else{var Ft=j.max;Qe=Math.abs(X-Re)<=.02*Re?1:1-Ft+2*Ft/(1+Math.pow(Math.E,-5*(X-Re))),se.debug("[LoL+ playback control_latency-based] latency: "+X+", newRate: "+Qe)}return Qe}(Y,G,re,F.get().streaming.liveCatchup.playbackBufferMin,Q):function(j,X,Re,Be){if(ee)return 1;var Ue=X-Re,Qe=Ue<0?Math.abs(j.min):j.max,tt=1-Qe+2*Qe/(1+Math.pow(Math.E,-5*Ue));return C.getPlaybackStalled()&&Be<=Re/2&&Ue>0&&(tt=1),tt}(Y,G,re,Q);var he=b?.25:.02/(.5/Y.max);ve&&Math.abs(A-ve)>=he&&(se.debug("[CatchupController]: Setting playback rate to ".concat(ve)),I.setPlaybackRate(ve))}}}()}function $(){return C.getCurrentLiveLatency()-C.getLiveDelay()}function ge(){var ve=F.get().streaming.liveCatchup.playbackBufferMin;return F.get().streaming.liveCatchup.mode!==d.Z.LIVE_CATCHUP_MODE_LOLP||null===ve||isNaN(ve)?d.Z.LIVE_CATCHUP_MODE_DEFAULT:d.Z.LIVE_CATCHUP_MODE_LOLP}function fe(){B.getCatchupPlaybackRates(!0)}return y={reset:function(){U.off(h.Z.BUFFER_LEVEL_UPDATED,_e,y),U.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,me,y),U.off(h.Z.PLAYBACK_PROGRESS,Ae,y),U.off(h.Z.PLAYBACK_TIME_UPDATED,Ae,y),U.off(h.Z.PLAYBACK_SEEKED,ne,y),U.off(g.Z.SETTING_UPDATED_CATCHUP_ENABLED,Ce,y),U.off(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,fe,y),U.off(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,fe,y),U.off(h.Z.STREAM_INITIALIZED,fe,y),oe(),I.setPlaybackRate(1,!0)},setConfig:function(ve){ve&&(ve.settings&&(F=ve.settings),ve.videoModel&&(I=ve.videoModel),ve.streamController&&(O=ve.streamController),ve.playbackController&&(C=ve.playbackController),ve.mediaPlayerModel&&(B=ve.mediaPlayerModel))},initialize:function(){U.on(h.Z.BUFFER_LEVEL_UPDATED,_e,y),U.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,me,y),U.on(h.Z.PLAYBACK_PROGRESS,Ae,y),U.on(h.Z.PLAYBACK_TIME_UPDATED,Ae,y),U.on(h.Z.PLAYBACK_SEEKED,ne,y),U.on(g.Z.SETTING_UPDATED_CATCHUP_ENABLED,Ce,y),U.on(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,fe,y),U.on(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,fe,y),U.on(h.Z.STREAM_INITIALIZED,fe,y),fe()}},se=(0,x.Z)(te).getInstance().getLogger(y),oe(),y}Vl.__dashjs_factory_name="CatchupController";const pd=S.Z.getSingletonFactory(Vl);var Ah=[d.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME];function Vc(){var y,m,b,I,F;function C(){m={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},b=[]}function B(ee,se,te){try{m[ee][se]=te/1e3}catch(U){I.error(U)}}return y={getServiceDescriptionSettings:function(){return m},getProducerReferenceTimeOffsets:function(){return b},calculateProducerReferenceTimeOffsets:function(ee){try{var se=[];if(ee&&ee.length>0){var te=[d.Z.VIDEO,d.Z.AUDIO,d.Z.TEXT],U=F.getAvailabilityStartTime()/1e3;ee.forEach(function(oe){var ne=te.reduce(function(_e,me){return _e.concat(F.getAllMediaInfoForType(oe,me))},[]).reduce(function(_e,me){return F.getProducerReferenceTimes(oe,me).forEach(function(Ce){var Ae=F.getVoRepresentations(me);if(Ae&&Ae.length>0&&Ae[0].adaptation&&Ae[0].segmentInfoType===f.Z.SEGMENT_TEMPLATE){var $=Ae[0],ge=new Date(Ce[f.Z.WALL_CLOCK_TIME]).getTime()/1e3-(Ce[f.Z.PRESENTATION_TIME]/$[f.Z.TIMESCALE]-$[f.Z.PRESENTATION_TIME_OFFSET]+oe.start);_e.push({id:Ce[f.Z.ID],to:U-ge})}}),_e},[]);se=se.concat(ne)})}b=se}catch(oe){I.error(oe),b=[]}},applyServiceDescription:function(ee){if(ee&&ee.serviceDescriptions){var se=ee.serviceDescriptions.filter(function(oe){return Ah.includes(oe.schemeIdUri)}),te=ee.serviceDescriptions.filter(function(oe){return null==oe.schemeIdUri}),U=se.length>0?se[se.length-1]:te[te.length-1];U&&(U.latency&&U.latency.target>0&&function(oe){var ne,Ae;if(ne={liveDelay:(Ae=oe).latency.target/1e3,maxDrift:!isNaN(Ae.latency.max)&&Ae.latency.max>Ae.latency.target?(Ae.latency.max-Ae.latency.target+500)/1e3:NaN,referenceId:Ae.latency.referenceId||NaN},b.length>0){var _e=function(Ae){var $,ge=0,fe=b.filter(function(ve){return ve.id===Ae.referenceId});return 0===fe.length?(ge=b.length>0?b[0].to:0,$=b[0].id||NaN):(ge=fe[0].to||0,$=fe[0].id||NaN),{to:ge,id:$}}(ne),me=_e.to,Ce=_e.id;m.liveDelay=ne.liveDelay-me,m.liveCatchup.maxDrift=ne.maxDrift,I.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(me," from ProducerReferenceTime element with id ").concat(Ce,".\n                Live Delay: ").concat(ne.liveDelay-me,", Live catchup max drift: ").concat(ne.maxDrift,"\n            "))}else m.liveDelay=ne.liveDelay,m.liveCatchup.maxDrift=ne.maxDrift,I.debug("Found latency properties coming from service description: Live Delay: ".concat(ne.liveDelay,", Live catchup max drift: ").concat(ne.maxDrift))}(U),U.playbackRate&&(ne=(oe=U).playbackRate.min?Math.round(1e3*(oe.playbackRate.min-1))/1e3:NaN,_e=oe.playbackRate.max?Math.round(1e3*(oe.playbackRate.max-1))/1e3:NaN,m.liveCatchup.playbackRate.min=ne,m.liveCatchup.playbackRate.max=_e,I.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(ne)),I.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(_e))),U.operatingBandwidth&&function(oe){if(oe&&oe.operatingBandwidth&&oe.operatingBandwidth.mediaType&&"all"!==oe.operatingBandwidth.mediaType){var ne={};ne.minBandwidth=oe.operatingBandwidth.min,ne.maxBandwidth=oe.operatingBandwidth.max,ne.targetBandwidth=oe.operatingBandwidth.target;var _e=[];"video"===oe.operatingBandwidth.mediaType||"audio"===oe.operatingBandwidth.mediaType?_e.push(oe.operatingBandwidth.mediaType):"any"===oe.operatingBandwidth.mediaType&&(_e.push("audio"),_e.push("video")),_e.forEach(function(me){isNaN(ne.minBandwidth)||B("minBitrate",me,ne.minBandwidth),isNaN(ne.maxBandwidth)||B("maxBitrate",me,ne.maxBandwidth),isNaN(ne.targetBandwidth)||B("initialBitrate",me,ne.targetBandwidth)})}}(U),U.contentSteering&&function(oe){m.contentSteering=oe.contentSteering}(U))}var oe,ne,_e},reset:function(){C()},setConfig:function(ee){ee&&ee.adapter&&(F=ee.adapter)}},I=(0,x.Z)(this.context).getInstance().getLogger(y),C(),y}Vc.__dashjs_factory_name="ServiceDescriptionController";const Ih=S.Z.getSingletonFactory(Vc);var go=L(3973),jl=L.n(go),Ug=L(3039);function $r(){var y,m,b,I,F,O,C,B,ee=this.context,se=(0,T.Z)(ee).getInstance();function te(j,X){return j&&b[X]&&b[X][j]?b[X][j].list:[]}function U(j,X){return j&&b[X]&&b[X][j]?b[X][j].current:null}function oe(j){var X=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(j&&j.streamInfo){var Re=j.type,Ue=j.streamInfo.id,Qe=U(Re,Ue);if(b[Ue]&&b[Ue][Re]&&(b[Ue][Re].current=j,b[Ue][Re].current&&(Re!==d.Z.TEXT&&!me(j,Qe)||Re===d.Z.TEXT&&j.isFragmented)&&se.trigger(g.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Qe,newMediaInfo:j,switchMode:I.get().streaming.trackSwitchMode[Re]},{streamId:Ue}),!X)){var ke=function Ae(j){var X={lang:j.lang,viewpoint:j.viewpoint,roles:j.roles,accessibility:j.accessibility,audioChannelConfiguration:j.audioChannelConfiguration};return X.lang||X.viewpoint||X.role&&X.role.length>0||X.accessibility&&X.accessibility.length>0||X.audioChannelConfiguration&&X.audioChannelConfiguration.length>0?X:null}(j);if(!ke||!b[Ue][Re].storeLastSettings)return;ke.roles&&(ke.role=ke.roles[0],delete ke.roles),ke.accessibility&&(ke.accessibility=ke.accessibility[0]),ke.audioChannelConfiguration&&(ke.audioChannelConfiguration=ke.audioChannelConfiguration[0]),O[Re]=ke,B.setSavedMediaSettings(Re,ke)}}}function ne(j,X){j&&X&&(F[j]=X)}function _e(j){return j?F[j]:null}function me(j,X){if(!j&&!X)return!0;if(!j||!X)return!1;var Re=j.id===X.id,Be=j.viewpoint===X.viewpoint,Ue=JSON.stringify(j.viewpointsWithSchemeIdUri)===JSON.stringify(X.viewpointsWithSchemeIdUri),Qe=j.lang===X.lang,ke=j.codec===X.codec,tt=j.roles.toString()===X.roles.toString(),Ft=JSON.stringify(j.rolesWithSchemeIdUri)===JSON.stringify(X.rolesWithSchemeIdUri),wt=j.accessibility.toString()===X.accessibility.toString(),Tt=JSON.stringify(j.accessibilitiesWithSchemeIdUri)===JSON.stringify(X.accessibilitiesWithSchemeIdUri),Bt=j.audioChannelConfiguration.toString()===X.audioChannelConfiguration.toString(),on=JSON.stringify(j.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(X.audioChannelConfigurationsWithSchemeIdUri);return Re&&ke&&Be&&Ue&&Qe&&tt&&Ft&&wt&&Tt&&Bt&&on}function Ce(){b={},O={},F={audio:null,video:null,text:null}}function $(j,X,Re){var Be=[];return j.forEach(function(Ue){X(Re,Ue)&&Be.push(Ue)}),0!==Be.length?Be:j}function ge(j,X){return!j.lang||j.lang instanceof RegExp?X.lang.match(j.lang):""!==X.lang&&(0,Ug.extendedFilter)(X.lang,jl()(j.lang)).length>0}function fe(j,X){return null==j.index||X.index===j.index}function ve(j,X){return!j.viewpoint||j.viewpoint===X.viewpoint}function A(j,X){var Re=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!j.role||!!X.roles.filter(function(Ue){return Ue===j.role})[0]||X.type===d.Z.AUDIO&&Re}function Y(j,X){return j.accessibility?!!X.accessibility.filter(function(Re){return Re===j.accessibility})[0]:!X.accessibility.length}function Q(j,X){return!j.audioChannelConfiguration||!!X.audioChannelConfiguration.filter(function(Re){return Re===j.audioChannelConfiguration})[0]}function z(j){var X,Re=0,Be=[];return j.forEach(function(Ue){(X=Math.max.apply(Math,Ue.bitrateList.map(function(Qe){return Qe.bandwidth})))>Re?(Re=X,Be=[Ue]):X===Re&&Be.push(Ue)}),Be}function V(j){var X,Re=1/0,Be=[];return j.forEach(function(Ue){var Qe=Ue.bitrateList.reduce(function(ke,tt){var Ft=Math.max(1,tt.width*tt.height);return ke+tt.bandwidth/Ft},0);(X=Qe/Ue.bitrateList.length)<Re?(Re=X,Be=[Ue]):X===Re&&Be.push(Ue)}),Be}function G(j){var X,Re=0,Be=[];return j.forEach(function(Ue){(X=Ue.representationCount)>Re?(Re=X,Be=[Ue]):X===Re&&Be.push(Ue)}),Be}function re(j,X){if(j===d.Z.TEXT)return X[0];var Re,ke,tt,Ft,Be=I.get().streaming.selectionModeForInitialTrack,Ue=C.getCustomInitialTrackSelectionFunction();if(Ue&&"function"==typeof Ue)Re=Ue(X);else switch(Be){case d.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ke=0,tt=[],X.forEach(function(wt){isNaN(wt.selectionPriority)||(wt.selectionPriority>ke?(ke=wt.selectionPriority,tt=[wt]):wt.selectionPriority===ke&&tt.push(wt))}),(Ft=tt).length>1&&(Ft=z(Ft)),Ft.length>1&&(Ft=G(Ft)),Re=Ft;break;case d.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Re=function(Qe){var ke=z(Qe);return ke.length>1&&(ke=G(ke)),ke}(X);break;case d.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Re=he(X);break;case d.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Re=function(Qe){var ke=V(Qe);return ke.length>1&&(ke=z(ke)),ke}(X);break;case d.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Re=function(Qe){var ke=G(Qe);return ke.length>1&&(ke=z(Qe)),ke}(X);break;default:m.warn("Track selection mode ".concat(Be," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Re=he(X)}return Re.length>0?Re[0]:X[0]}function he(j){return j[0]}return y={setInitialMediaSettingsForType:function(j,X){var Re=O[j]||_e(j),Be=te(j,X.id),Ue=[];Re||ne(j,Re=B.getSavedMediaSettings(j)),Be&&0!==Be.length&&(Re&&(Ue=$(Ue=Array.from(Be),ge,Re),Ue=$(Ue,fe,Re),Ue=$(Ue,ve,Re),j===d.Z.AUDIO&&O[j]||(Ue=$(Ue,A,Re)),Ue=$(Ue,Y,Re),Ue=$(Ue,Q,Re)),0===Ue.length?oe(re(j,Be),!0):oe(Ue.length>1?re(j,Ue):Ue[0]))},addTrack:function(j){if(j){var X=j.type;if((Re=X)===d.Z.AUDIO||Re===d.Z.VIDEO||Re===d.Z.TEXT||Re===d.Z.IMAGE){var Re,Be=j.streamInfo.id;b[Be]||(b[Be]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var Ue=b[Be][X].list,Qe=0,ke=Ue.length;Qe<ke;++Qe)if(me(Ue[Qe],j))return;Ue.push(j)}}},getTracksFor:te,getCurrentTrackFor:U,isCurrentTrack:function(j){if(!j)return!1;var X=j.type,Re=j.streamInfo.id;return b[Re]&&b[Re][X]&&me(b[Re][X].current,j)},setTrack:oe,selectInitialTrack:re,setInitialSettings:ne,getInitialSettings:_e,getTracksWithHighestBitrate:z,getTracksWithHighestEfficiency:V,getTracksWithWidestRange:G,isTracksEqual:me,matchSettings:function(j,X){var Re=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Be=!1;if(j.lang){if(j.lang instanceof RegExp)Be=X.lang.match(j.lang);else if(""!==X.lang){var Ue=jl()(j.lang);Ue&&(Be=(0,Ug.extendedFilter)(X.lang,Ue).length>0)}}else Be=!0;var Qe=null==j.index||X.index===j.index,ke=!j.viewpoint||j.viewpoint===X.viewpoint,tt=!j.role||!!X.roles.filter(function(Tt){return Tt===j.role})[0],Ft=!j.accessibility||!!X.accessibility.filter(function(Tt){return Tt===j.accessibility})[0],wt=!j.audioChannelConfiguration||!!X.audioChannelConfiguration.filter(function(Tt){return Tt===j.audioChannelConfiguration})[0];return Be&&Qe&&ke&&(tt||X.type===d.Z.AUDIO&&Re)&&Ft&&wt}catch{return!1}},matchSettingsLang:ge,matchSettingsIndex:fe,matchSettingsViewPoint:ve,matchSettingsRole:A,matchSettingsAccessibility:Y,matchSettingsAudioChannelConfig:Q,saveTextSettingsDisabled:function(){B.setSavedMediaSettings(d.Z.TEXT,null)},setConfig:function(j){j&&(j.domStorage&&(B=j.domStorage),j.settings&&(I=j.settings),j.customParametersModel&&(C=j.customParametersModel))},reset:Ce},m=(0,x.Z)(ee).getInstance().getLogger(y),Ce(),y}$r.__dashjs_factory_name="MediaController";var Vg=S.Z.getSingletonFactory($r);S.Z.updateSingletonFactory($r.__dashjs_factory_name,Vg);const c0=Vg;var al=function y(m,b){(function(I,F){if(!(I instanceof F))throw new TypeError("Cannot call a class as a function")})(this,y),this.data={baseUrls:m||null,selectedIdx:b||NaN},this.children=[]};function jc(){var y,m,b,I,O=Jt(this.context).getInstance();function C(te,U,oe){var ne=B(oe);te[U]?O.areEqual(ne,te[U].data.baseUrls)||(te[U].data.baseUrls=ne,te[U].data.selectedIdx=NaN):te[U]=new al(ne)}function B(te){var U=b.getBaseURLsFromElement(te),oe=I.getSynthesizedBaseUrlElements(U);return oe&&oe.length>0&&(U=U.concat(oe)),U}function ee(te,U){var oe=U||m;te(oe.data),oe.children&&oe.children.forEach(function(ne){return ee(te,ne)})}function se(){m=new al}return y={reset:se,update:function(te){!function(U){!function(){if(!b||!b.hasOwnProperty("getBaseURLsFromElement")||!b.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var oe=B(U);O.areEqual(oe,m.data.baseUrls)||(m.data.baseUrls=oe,m.data.selectedIdx=NaN),U&&U.Period_asArray&&U.Period_asArray.forEach(function(ne,_e){C(m.children,_e,ne),ne.AdaptationSet_asArray&&ne.AdaptationSet_asArray.forEach(function(me,Ce){C(m.children[_e].children,Ce,me),me.Representation_asArray&&me.Representation_asArray.sort(b.getRepresentationSortFunction()).forEach(function(Ae,$){C(m.children[_e].children[Ce].children,$,Ae)})})})}(te)},getForPath:function(te){var U=m,oe=[U.data];return te&&te.forEach(function(ne){(U=U.children[ne])&&oe.push(U.data)}),oe.filter(function(ne){return ne.baseUrls.length})},invalidateSelectedIndexes:function(te){ee(function(U){isNaN(U.selectedIdx)||te===U.baseUrls[U.selectedIdx].serviceLocation&&(U.selectedIdx=NaN)})},setConfig:function(te){te.adapter&&(b=te.adapter),te.contentSteeringController&&(I=te.contentSteeringController)},getBaseUrls:function(te){return B(te)}},se(),y}jc.__dashjs_factory_name="BaseURLTreeModel";const Hc=S.Z.getClassFactory(jc);function Mh(y){var m=(y=y||{}).blacklistController;return{select:function(b){return b&&function(F){var O,C,B=0,ee=[],se=0;if((C=F.sort(function(te,U){var oe=te.dvb_priority-U.dvb_priority;return isNaN(oe)?0:oe}).filter(function(te,U,oe){return!U||oe[0].dvb_priority&&te.dvb_priority&&oe[0].dvb_priority===te.dvb_priority})).length)return C.length>1&&(C.forEach(function(te){ee.push(B+=te.dvb_weight)}),O=Math.floor(Math.random()*(B-1)),ee.every(function(te,U){return se=U,!(O<te)})),C[se]}((I=[],b.filter(function(F){return!m.contains(F.serviceLocation)||(F.dvb_priority&&I.push(F.dvb_priority),!1)}).filter(function(F){return!I.length||!F.dvb_priority||-1===I.indexOf(F.dvb_priority)})));var I}}}Mh.__dashjs_factory_name="DVBSelector";const jg=S.Z.getClassFactory(Mh);function Rh(y){var m=(y=y||{}).blacklistController;return{select:function(b){var I,F=0;return b&&b.some(function(O,C){return F=C,!m.contains(O.serviceLocation)})&&(I=b[F]),I}}}Rh.__dashjs_factory_name="BasicSelector";const xh=S.Z.getClassFactory(Rh);function xa(){var y,m,b;function F(){for(var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],B=0,ee=NaN,se=function(){var U=O[B],oe=C.findIndex(function(ne){return ne.serviceLocation&&ne.serviceLocation===U});if(-1!==oe&&!b.contains(C[oe].serviceLocation))return ee=oe,"break";B+=1};B<O.length&&"break"!==se(););return ee}return y={selectBaseUrlIndex:function(O){var C=NaN;if(isNaN(O.selectedIdx)){var B=m.getSteeringDataFromManifest();B&&B.defaultServiceLocationArray.length>0&&(C=F(B.defaultServiceLocationArray,O.baseUrls))}var ee=m.getCurrentSteeringResponseData();return O.baseUrls&&O.baseUrls.length&&ee&&ee.pathwayPriority&&ee.pathwayPriority.length&&(C=F(ee.pathwayPriority,O.baseUrls)),C},setConfig:function(O){O.blacklistController&&(b=O.blacklistController),O.contentSteeringController&&(m=O.contentSteeringController)}},m=Ra(this.context).getInstance(),y}xa.__dashjs_factory_name="ContentSteeringSelector";const Hg=S.Z.getClassFactory(xa);function Ps(){var y,m,b,I,F,O,C=this.context,B=(0,T.Z)(C).getInstance(),ee=(0,Mt.Z)(C).getInstance();function se(){m.reset()}return y={chooseSelector:function(te){(0,ue.PS)(te,"boolean"),O=te?I:b},select:function(te){if(te){if(ee.get().streaming.applyContentSteering){var U=F.selectBaseUrlIndex(te);isNaN(U)||-1===U||(te.selectedIdx=U)}if(!isNaN(te.selectedIdx))return te.baseUrls[te.selectedIdx];var oe=O.select(te.baseUrls);return oe?(te.selectedIdx=te.baseUrls.indexOf(oe),oe):(B.trigger(g.Z.URL_RESOLUTION_FAILED,{error:new K.Z(pe.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,pe.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(O===b&&se()))}},reset:se,setConfig:function(te){te.selector&&(O=te.selector),te.contentSteeringSelector&&(F=te.contentSteeringSelector)}},m=Uc(C).create({updateEventName:g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),b=xh(C).create({blacklistController:m}),I=jg(C).create({blacklistController:m}),(F=Hg(C).create()).setConfig({blacklistController:m}),O=b,y}Ps.__dashjs_factory_name="BaseURLSelector";const Zg=S.Z.getClassFactory(Ps);function Xt(){var y,m,b,I,F,O=this.context,C=(0,T.Z)(O).getInstance(),B=(0,Ge.Z)(O).getInstance();function ee(te){b.update(te),I.chooseSelector(m.getIsDVB(te)),C.trigger(h.Z.BASE_URLS_UPDATED,{baseUrls:se(te)})}function se(te){return b.getBaseUrls(te)}return y={reset:function(){b.reset(),I.reset()},initialize:function(te){b.setConfig({adapter:m,contentSteeringController:F}),ee(te)},resolve:function(te){var U=b.getForPath(te).reduce(function(oe,ne){var _e=I.select(ne);return _e?(B.isRelative(_e.url)?oe.url=B.resolve(_e.url,oe.url):(oe.url=_e.url,oe.serviceLocation=_e.serviceLocation),oe.availabilityTimeOffset=_e.availabilityTimeOffset,oe.availabilityTimeComplete=_e.availabilityTimeComplete,oe.queryParams=_e.queryParams,oe):new mo},new mo);if(!B.isRelative(U.url))return U},setConfig:function(te){te.baseURLTreeModel&&(b=te.baseURLTreeModel),te.baseURLSelector&&(I=te.baseURLSelector),te.adapter&&(m=te.adapter),te.contentSteeringController&&(F=te.contentSteeringController)},getBaseUrls:se,update:ee},b=Hc(O).create(),I=Zg(O).create(),C.on(g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(te){b.invalidateSelectedIndexes(te.entry)},y),y}Xt.__dashjs_factory_name="BaseURLController";const Nh=S.Z.getClassFactory(Xt);function $t(y){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function ll(y,m){return(ll=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function Js(y){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}const Oh=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&ll(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=Js(m);if(b){var B=Js(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function gd(y,m){return!m||"object"!==$t(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(O,C){var B;return function(ee,se){if(!(ee instanceof se))throw new TypeError("Cannot call a class as a function")}(this,F),(B=I.call(this)).url=O||null,B.type=C||null,B.mediaType=d.Z.STREAM,B.responseType="",B}return F}(q.Z);function Ph(y){y=y||{};var m=this.context,b=(0,T.Z)(m).getInstance(),I=Ir(m).create({errHandler:y.errHandler,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,errors:pe});return{load:function(F,O,C){var B=function(se,te){O.resolved=!0,O.resolvedContent=se||null,b.trigger(g.Z.XLINK_ELEMENT_LOADED,{element:O,resolveObject:C,error:se||te?null:new K.Z(pe.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,pe.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+F)})};if("urn:mpeg:dash:resolve-to-zero:2013"===F)B(null,!0);else{var ee=new Oh(F,je.w.XLINK_EXPANSION_TYPE);I.load({request:ee,success:function(se){B(se)},error:function(){B(null)}})}},reset:function(){I&&(I.abort(),I=null)}}}Ph.__dashjs_factory_name="XlinkLoader";const zg=S.Z.getClassFactory(Ph),ms=function(y){function m($){var ge=$.localName;return null==ge&&(ge=$.baseName),null!=ge&&""!=ge||(ge=$.nodeName),ge}function b($){return"string"==typeof $?$.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):$}function I($,ge,fe,ve){for(var A=0;A<$.length;A++){var Y=$[A];if("string"==typeof Y){if(Y==ve)break}else if(Y instanceof RegExp){if(Y.test(ve))break}else if("function"==typeof Y&&Y(ge,fe,ve))break}return A!=$.length}function F($,ge,fe){"property"===y.arrayAccessForm&&($[ge+"_asArray"]=$[ge]instanceof Array?$[ge]:[$[ge]]),!($[ge]instanceof Array)&&y.arrayAccessFormPaths.length>0&&I(y.arrayAccessFormPaths,$,ge,fe)&&($[ge]=[$[ge]])}function O($){var ge=$.split(/[-T:+Z]/g),fe=new Date(ge[0],ge[1]-1,ge[2]),ve=ge[5].split(".");if(fe.setHours(ge[3],ge[4],ve[0]),ve.length>1&&fe.setMilliseconds(ve[1]),ge[6]&&ge[7]){var A=60*ge[6]+Number(ge[7]);A=0+("-"==(/\d\d-\d\d:\d\d$/.test($)?"-":"+")?-1*A:A),fe.setMinutes(fe.getMinutes()-A-fe.getTimezoneOffset())}else-1!==$.indexOf("Z",$.length-1)&&(fe=new Date(Date.UTC(fe.getFullYear(),fe.getMonth(),fe.getDate(),fe.getHours(),fe.getMinutes(),fe.getSeconds(),fe.getMilliseconds())));return fe}function C($,ge,fe,ve){return!(1==ge&&y.xmlElementsFilter.length>0)||I(y.xmlElementsFilter,$,fe,ve)}function B($,ge){if(9==$.nodeType){for(var fe=new Object,ve=$.childNodes,A=0;A<ve.length;A++)1==(Q=ve[A]).nodeType&&(y.ignoreRoot?fe=B(Q):(fe={})[z=m(Q)]=B(Q));return fe}if(1==$.nodeType){(fe=new Object).__cnt=0;var Y=[];for(ve=$.childNodes,A=0;A<ve.length;A++){var Q,z=m(Q=ve[A]);if(8!=Q.nodeType){var V=ge+"."+z;if(C(fe,Q.nodeType,z,V))if(fe.__cnt++,null==fe[z]){var G=B(Q,V);("#text"!=z||/[^\s]/.test(G))&&((re={})[z]=G,Y.push(re)),fe[z]=G,F(fe,z,V)}else{var re;null!=fe[z]&&(fe[z]instanceof Array||(fe[z]=[fe[z]],F(fe,z,V))),G=B(Q,V),("#text"!=z||/[^\s]/.test(G))&&((re={})[z]=G,Y.push(re)),fe[z][fe[z].length]=G}}}fe.__children=Y;for(var he=m($),j=0;j<$.attributes.length;j++){var X=$.attributes[j];fe.__cnt++;for(var Re=X.value,Be=0,Ue=y.matchers.length;Be<Ue;Be++){var Qe=y.matchers[Be];Qe.test(X,he)&&(Re=Qe.converter(X.value))}fe[y.attributePrefix+X.name]=Re}var ke=$.prefix;return null!=ke&&""!=ke&&(fe.__cnt++,fe.__prefix=ke),null!=fe["#text"]&&(fe.__text=fe["#text"],fe.__text instanceof Array&&(fe.__text=fe.__text.join("\n")),y.stripWhitespaces&&(fe.__text=fe.__text.trim()),delete fe["#text"],"property"==y.arrayAccessForm&&delete fe["#text_asArray"],fe.__text=function(tt,Ft,wt){if(y.datetimeAccessFormPaths.length>0){var Tt=wt.split(".#")[0];return I(y.datetimeAccessFormPaths,tt,Ft,Tt)?O(tt):tt}return tt}(fe.__text,z,ge+"."+z)),null!=fe["#cdata-section"]&&(fe.__cdata=fe["#cdata-section"],delete fe["#cdata-section"],"property"==y.arrayAccessForm&&delete fe["#cdata-section_asArray"]),0==fe.__cnt&&"text"==y.emptyNodeForm?fe="":1==fe.__cnt&&null!=fe.__text?fe=fe.__text:1!=fe.__cnt||null==fe.__cdata||y.keepCData?fe.__cnt>1&&null!=fe.__text&&y.skipEmptyTextNodesForObj&&(y.stripWhitespaces&&""==fe.__text||""==fe.__text.trim())&&delete fe.__text:fe=fe.__cdata,delete fe.__cnt,!y.enableToStringFunc||null==fe.__text&&null==fe.__cdata||(fe.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),fe}if(3==$.nodeType||4==$.nodeType)return $.nodeValue}function ee($,ge,fe,ve){var A="<"+(null!=$&&null!=$.__prefix?$.__prefix+":":"")+ge;if(null!=fe)for(var Y=0;Y<fe.length;Y++){var Q=fe[Y],z=$[Q];y.escapeMode&&(z=b(z)),A+=" "+Q.substr(y.attributePrefix.length)+"=",A+=y.useDoubleQuotes?'"'+z+'"':"'"+z+"'"}return A+(ve?"/>":">")}function se($,ge){return"</"+(null!=$.__prefix?$.__prefix+":":"")+ge+">"}function te($,ge){return"property"==y.arrayAccessForm&&-1!==(fe=ge.toString()).indexOf("_asArray",fe.length-8)||0==ge.toString().indexOf(y.attributePrefix)||0==ge.toString().indexOf("__")||$[ge]instanceof Function;var fe}function U($){var ge=0;if($ instanceof Object)for(var fe in $)te($,fe)||ge++;return ge}function oe($,ge,fe){return 0==y.jsonPropertiesFilter.length||""==fe||I(y.jsonPropertiesFilter,$,ge,fe)}function ne($){var ge=[];if($ instanceof Object)for(var fe in $)-1==fe.toString().indexOf("__")&&0==fe.toString().indexOf(y.attributePrefix)&&ge.push(fe);return ge}function _e($){var fe,ve,ge="";return $ instanceof Object?ge+=(ve="",null!=(fe=$).__cdata&&(ve+="<![CDATA["+fe.__cdata+"]]>"),null!=fe.__text&&(ve+=y.escapeMode?b(fe.__text):fe.__text),ve):null!=$&&(ge+=y.escapeMode?b($):$),ge}function me($,ge){return""===$?ge:$+"."+ge}function Ce($,ge,fe,ve){var A="";if(0==$.length)A+=ee($,ge,fe,!0);else for(var Y=0;Y<$.length;Y++)A+=ee($[Y],ge,ne($[Y]),!1),A+=Ae($[Y],me(ve,ge)),A+=se($[Y],ge);return A}function Ae($,ge){var fe="";if(U($)>0)for(var ve in $)if(!te($,ve)&&(""==ge||oe($,ve,me(ge,ve)))){var A=$[ve],Y=ne(A);null==A||null==A?fe+=ee(A,ve,Y,!0):A instanceof Object?A instanceof Array?fe+=Ce(A,ve,Y,ge):A instanceof Date?(fe+=ee(A,ve,Y,!1),fe+=A.toISOString(),fe+=se(A,ve)):U(A)>0||null!=A.__text||null!=A.__cdata?(fe+=ee(A,ve,Y,!1),fe+=Ae(A,me(ge,ve)),fe+=se(A,ve)):fe+=ee(A,ve,Y,!0):(fe+=ee(A,ve,Y,!1),fe+=_e(A),fe+=se(A,ve))}return fe+_e($)}void 0===(y=y||{}).escapeMode&&(y.escapeMode=!0),void 0===y.attributePrefix&&(y.attributePrefix="_"),y.arrayAccessForm=y.arrayAccessForm||"none",y.emptyNodeForm=y.emptyNodeForm||"text",void 0===y.enableToStringFunc&&(y.enableToStringFunc=!0),y.arrayAccessFormPaths=y.arrayAccessFormPaths||[],void 0===y.skipEmptyTextNodesForObj&&(y.skipEmptyTextNodesForObj=!0),void 0===y.stripWhitespaces&&(y.stripWhitespaces=!0),y.datetimeAccessFormPaths=y.datetimeAccessFormPaths||[],void 0===y.useDoubleQuotes&&(y.useDoubleQuotes=!1),y.xmlElementsFilter=y.xmlElementsFilter||[],y.jsonPropertiesFilter=y.jsonPropertiesFilter||[],void 0===y.keepCData&&(y.keepCData=!1),void 0===y.ignoreRoot&&(y.ignoreRoot=!1),this.parseXmlString=function($){var ge;if(window,void 0===$)return null;if(window.DOMParser){var fe=new window.DOMParser;try{(ge=fe.parseFromString($,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ge=null)}catch{ge=null}}else 0==$.indexOf("<?")&&($=$.substr($.indexOf("?>")+2)),(ge=new ActiveXObject("Microsoft.XMLDOM")).async="false",ge.loadXML($);return ge},this.asArray=function($){return void 0===$||null==$?[]:$ instanceof Array?$:[$]},this.toXmlDateTime=function($){return $ instanceof Date?$.toISOString():"number"==typeof $?new Date($).toISOString():null},this.asDateTime=function($){return"string"==typeof $?O($):$},this.xml2json=function($){return B($)},this.xml_str2json=function($){var ge=this.parseXmlString($);return null!=ge?this.xml2json(ge):null},this.json2xml_str=function($){return Ae($,"")},this.json2xml=function($){var ge=this.json2xml_str($);return this.parseXmlString(ge)},this.getVersion=function(){return"1.2.0"}};var ks="onLoad";function Mo(y){y=y||{};var m,b,I,F,O,C,B=this.context,ee=(0,T.Z)(B).getInstance(),se=(0,Ge.Z)(B).getInstance();function te(me,Ce,Ae){var $,ge,fe={};fe.elements=me,fe.type=Ce,fe.resolveType=Ae,0===fe.elements.length&&oe(fe);for(var ve=0;ve<fe.elements.length;ve++)ge=se.isHTTPURL(($=fe.elements[ve]).url)?$.url:$.originalContent.BaseURL+$.url,C.load(ge,$,fe)}function U(me){var Ce,Ae,$="";if(Ae=me.resolveObject,(Ce=me.element).resolvedContent){var ge=0;0===Ce.resolvedContent.indexOf("<?xml")&&(ge=Ce.resolvedContent.indexOf("?>")+2),$=Ce.resolvedContent.substr(0,ge)+"<response>"+Ce.resolvedContent.substr(ge)+"</response>",Ce.resolvedContent=O.xml_str2json($)}(function(fe){var ve;for(ve=0;ve<fe.elements.length;ve++)if(!1===fe.elements[ve].resolved)return!1;return!0})(Ae)&&oe(Ae)}function oe(me){var Ce,Ae,$=[];if(function(ge){var fe,ve,Y,Q,z,V=[];for(Y=ge.elements.length-1;Y>=0;Y--){if(ve=(fe=ge.elements[Y]).type+"_asArray",fe.resolvedContent){if(fe.resolvedContent)for(Q=0;Q<fe.resolvedContent[ve].length;Q++)V.push(fe.resolvedContent[ve][Q])}else delete fe.originalContent["xlink:actuate"],delete fe.originalContent["xlink:href"],V.push(fe.originalContent);for(fe.parentElement[ve].splice(fe.index,1),z=0;z<V.length;z++)fe.parentElement[ve].splice(fe.index+z,0,V[z]);V=[]}ge.elements.length>0&&I.run(F)}(me),"onActuate"===me.resolveType&&ee.trigger(g.Z.XLINK_READY,{manifest:F}),me.resolveType===ks)switch(me.type){case f.Z.PERIOD:for(Ce=0;Ce<F[f.Z.PERIOD+"_asArray"].length;Ce++)(Ae=F[f.Z.PERIOD+"_asArray"][Ce]).hasOwnProperty(f.Z.ADAPTATION_SET+"_asArray")&&($=$.concat(ne(Ae[f.Z.ADAPTATION_SET+"_asArray"],Ae,f.Z.ADAPTATION_SET,ks))),Ae.hasOwnProperty(f.Z.EVENT_STREAM+"_asArray")&&($=$.concat(ne(Ae[f.Z.EVENT_STREAM+"_asArray"],Ae,f.Z.EVENT_STREAM,ks)));te($,f.Z.ADAPTATION_SET,ks);break;case f.Z.ADAPTATION_SET:ee.trigger(g.Z.XLINK_READY,{manifest:F})}}function ne(me,Ce,Ae,$){var ge,fe,ve,A=[];for(fe=me.length-1;fe>=0;fe--)(ge=me[fe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===ge["xlink:href"]&&me.splice(fe,1);for(fe=0;fe<me.length;fe++)(ge=me[fe]).hasOwnProperty("xlink:href")&&ge.hasOwnProperty("xlink:actuate")&&ge["xlink:actuate"]===$&&(ve=_e(ge["xlink:href"],Ce,Ae,fe,$,ge),A.push(ve));return A}function _e(me,Ce,Ae,$,ge,fe){return{url:me,parentElement:Ce,type:Ae,index:$,resolveType:ge,originalContent:fe,resolvedContent:null,resolved:!1}}return m={resolveManifestOnLoad:function(me){O=new ms({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:b}),(F=me).Period_asArray?te(ne(F.Period_asArray,F,f.Z.PERIOD,ks),f.Z.PERIOD,ks):ee.trigger(g.Z.XLINK_READY,{manifest:F})},setMatchers:function(me){me&&(b=me)},setIron:function(me){me&&(I=me)},reset:function(){ee.off(g.Z.XLINK_ELEMENT_LOADED,U,m),C&&(C.reset(),C=null)}},ee.on(g.Z.XLINK_ELEMENT_LOADED,U,m),C=zg(B).create({errHandler:y.errHandler,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,settings:y.settings}),m}Mo.__dashjs_factory_name="XlinkController";const gs=S.Z.getClassFactory(Mo);function Cr(y){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function Hl(y){function m(F,O){for(var C in F)O.hasOwnProperty(C)||(O[C]=F[C])}function b(F,O,C){for(var B=0,ee=F.length;B<ee;++B){var se=F[B];if(O[se.name])if(C[se.name]){if(se.merge){var te=O[se.name],U=C[se.name];"object"===Cr(te)&&"object"===Cr(U)?m(te,U):C[se.name]=te+U}}else C[se.name]=O[se.name]}}function I(F,O){for(var C=0,B=F.children.length;C<B;++C){var ee=F.children[C],se=O[ee.name+"_asArray"];if(se)for(var te=0,U=se.length;te<U;++te){var oe=se[te];b(F.properties,O,oe),I(ee,oe)}}}return{run:function(F){if(null===F||"object"!==Cr(F))return F;if(F.Period_asArray&&"period"in y)for(var O=y.period,C=F.Period_asArray,B=0,ee=C.length;B<ee;++B){var se=C[B];if(I(O,se),"adaptationset"in y){var te=se.AdaptationSet_asArray;if(te)for(var U=y.adaptationset,oe=0,ne=te.length;oe<ne;++oe)I(U,te[oe])}}return F}}}Hl.__dashjs_factory_name="ObjectIron";const _d=S.Z.getClassFactory(Hl),cl=function(){function y(I,F){(function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")})(this,y),this._test=I,this._converter=F}var b;return(b=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&function yd(y,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}();function Xo(y){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function Br(y,m,b){return m in y?Object.defineProperty(y,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[m]=b,y}function Zc(y,m){return(Zc=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function ul(y){return(ul=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}const Fh=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Zc(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=ul(m);if(b){var B=ul(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function kh(y,m){return!m||"object"!==Xo(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){return function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),I.call(this,function(O,C){var B,ee=(Br(B={},f.Z.MPD,[f.Z.ID,f.Z.PROFILES]),Br(B,f.Z.PERIOD,[f.Z.ID]),Br(B,f.Z.BASE_URL,[f.Z.SERVICE_LOCATION,f.Z.BYTE_RANGE]),Br(B,f.Z.SEGMENT_BASE,[f.Z.INDEX_RANGE]),Br(B,f.Z.INITIALIZATION,[f.Z.RANGE]),Br(B,f.Z.REPRESENTATION_INDEX,[f.Z.RANGE]),Br(B,f.Z.SEGMENT_LIST,[f.Z.INDEX_RANGE]),Br(B,f.Z.BITSTREAM_SWITCHING,[f.Z.RANGE]),Br(B,f.Z.SEGMENT_URL,[f.Z.MEDIA_RANGE,f.Z.INDEX_RANGE]),Br(B,f.Z.SEGMENT_TEMPLATE,[f.Z.INDEX_RANGE,f.Z.MEDIA,f.Z.INDEX,f.Z.INITIALIZATION_MINUS,f.Z.BITSTREAM_SWITCHING_MINUS]),Br(B,f.Z.ASSET_IDENTIFIER,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.EVENT_STREAM,[f.Z.VALUE]),Br(B,f.Z.ADAPTATION_SET,[f.Z.PROFILES,f.Z.MIME_TYPE,f.Z.SEGMENT_PROFILES,f.Z.CODECS,f.Z.CONTENT_TYPE]),Br(B,f.Z.FRAME_PACKING,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.AUDIO_CHANNEL_CONFIGURATION,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.CONTENT_PROTECTION,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.ESSENTIAL_PROPERTY,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.SUPPLEMENTAL_PROPERTY,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.INBAND_EVENT_STREAM,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.ACCESSIBILITY,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.ROLE,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.RATING,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.VIEWPOINT,[f.Z.VALUE,f.Z.ID]),Br(B,f.Z.CONTENT_COMPONENT,[f.Z.CONTENT_TYPE]),Br(B,f.Z.REPRESENTATION,[f.Z.ID,f.Z.DEPENDENCY_ID,f.Z.MEDIA_STREAM_STRUCTURE_ID]),Br(B,f.Z.SUBSET,[f.Z.ID]),Br(B,f.Z.METRICS,[f.Z.METRICS_MINUS]),Br(B,f.Z.REPORTING,[f.Z.VALUE,f.Z.ID]),B);if(ee.hasOwnProperty(C)){var se=ee[C];return void 0!==se&&se.indexOf(O.name)>=0}return!1},function(O){return String(O)})}return F}(cl);function zc(y){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function Na(y,m){return(Na=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function Zl(y){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}var Bh=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;const Uh=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Na(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=Zl(m);if(b){var B=Zl(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function Lh(y,m){return!m||"object"!==zc(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){return function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),I.call(this,function(O){for(var C=[f.Z.MIN_BUFFER_TIME,f.Z.MEDIA_PRESENTATION_DURATION,f.Z.MINIMUM_UPDATE_PERIOD,f.Z.TIMESHIFT_BUFFER_DEPTH,f.Z.MAX_SEGMENT_DURATION,f.Z.MAX_SUBSEGMENT_DURATION,f.Z.SUGGESTED_PRESENTATION_DELAY,f.Z.START,d.Z.START_TIME,f.Z.DURATION],B=C.length,ee=0;ee<B;ee++)if(O.nodeName===C[ee])return Bh.test(O.value);return!1},function(O){var C=Bh.exec(O),B=31536e3*parseFloat(C[3]||0)+2592e3*parseFloat(C[5]||0)+86400*parseFloat(C[7]||0)+3600*parseFloat(C[9]||0)+60*parseFloat(C[11]||0)+parseFloat(C[13]||0);return void 0!==C[1]&&(B=-B),B})}return F}(cl);function vd(y){return(vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function bd(y,m){return(bd=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function Gc(y){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}var Ed=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;const Gg=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&bd(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=Gc(m);if(b){var B=Gc(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function Qo(y,m){return!m||"object"!==vd(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){return function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),I.call(this,function(O){return Ed.test(O.value)},function(O){var C,B=Ed.exec(O);if(C=Date.UTC(parseInt(B[1],10),parseInt(B[2],10)-1,parseInt(B[3],10),parseInt(B[4],10),parseInt(B[5],10),B[6]&&parseInt(B[6],10)||0,B[7]&&1e3*parseFloat(B[7])||0),B[9]&&B[10]){var ee=60*parseInt(B[9],10)+parseInt(B[10],10);C+=("+"===B[8]?-1:1)*ee*60*1e3}return new Date(C)})}return F}(cl);function wd(y){return(wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function Td(y,m){return(Td=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function zl(y){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}var Yg=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;const $g=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Td(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=zl(m);if(b){var B=zl(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function qg(y,m){return!m||"object"!==wd(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){return function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),I.call(this,function(O){return Yg.test(O.value)},function(O){return parseFloat(O)})}return F}(cl);function Sd(y){return(Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function ur(y,m,b){return m in y?Object.defineProperty(y,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[m]=b,y}function Cd(y,m){return(Cd=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function qc(y){return(qc=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}const di=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Cd(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=qc(m);if(b){var B=qc(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function Wg(y,m){return!m||"object"!==Sd(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){return function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),I.call(this,function(O,C){var B,ee=(ur(B={},f.Z.ADAPTATION_SET,[f.Z.LANG]),ur(B,f.Z.REPRESENTATION,[f.Z.LANG]),ur(B,f.Z.CONTENT_COMPONENT,[f.Z.LANG]),ur(B,f.Z.LABEL,[f.Z.LANG]),ur(B,f.Z.GROUP_LABEL,[f.Z.LANG]),B);if(ee.hasOwnProperty(C)){var se=ee[C];return void 0!==se&&se.indexOf(O.name)>=0}return!1},function(O){var C=jl()(O);return void 0!==C?C:String(O)})}return F}(cl),Vh=function(){function y(I){var F;(function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")})(this,y),this._name=I,this._merge=(F=I)&&F.length&&F.charAt(0)===F.charAt(0).toUpperCase()}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&function Kg(y,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}(),bi=function(){function y(I,F,O){var C=this;(function(B,ee){if(!(B instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,y),this._name=I||"",this._properties=[],this._children=O||[],Array.isArray(F)&&F.forEach(function(B){C._properties.push(new Vh(B))})}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&function Bn(y,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}();function Fr(y){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function ji(y,m){return(ji=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function Fs(y){return(Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}const Ro=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&ji(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=Fs(m);if(b){var B=Fs(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function _o(y,m){return!m||"object"!==Fr(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){!function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}(this,F);var O=[f.Z.PROFILES,f.Z.WIDTH,f.Z.HEIGHT,f.Z.SAR,f.Z.FRAMERATE,f.Z.AUDIO_SAMPLING_RATE,f.Z.MIME_TYPE,f.Z.SEGMENT_PROFILES,f.Z.CODECS,f.Z.MAXIMUM_SAP_PERIOD,f.Z.START_WITH_SAP,f.Z.MAX_PLAYOUT_RATE,f.Z.CODING_DEPENDENCY,f.Z.SCAN_TYPE,f.Z.FRAME_PACKING,f.Z.AUDIO_CHANNEL_CONFIGURATION,f.Z.CONTENT_PROTECTION,f.Z.ESSENTIAL_PROPERTY,f.Z.ESSENTIAL_PROPERTY+"_asArray",f.Z.SUPPLEMENTAL_PROPERTY,f.Z.INBAND_EVENT_STREAM];return I.call(this,f.Z.ADAPTATION_SET,O,[new bi(f.Z.REPRESENTATION,O,[new bi(f.Z.SUB_REPRESENTATION,O)])])}return F}(bi);function Yc(y){return(Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function $c(y,m){return($c=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function Kc(y){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}const Xg=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&$c(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=Kc(m);if(b){var B=Kc(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function Wc(y,m){return!m||"object"!==Yc(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){!function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}(this,F);var O=[f.Z.SEGMENT_BASE,f.Z.SEGMENT_TEMPLATE,f.Z.SEGMENT_LIST];return I.call(this,f.Z.PERIOD,O,[new bi(f.Z.ADAPTATION_SET,O,[new bi(f.Z.REPRESENTATION,O)])])}return F}(bi);function Ri(y){var m,b,I,F,O,C=this.context;return m={parse:function(ee){var se,te=window.performance.now();if(!(se=F.xml_str2json(ee)))throw new Error("parsing the manifest failed");var U=window.performance.now();se.Patch?((se=se.Patch).add_asArray&&se.add_asArray.forEach(function(ne){return O.run(ne)}),se.replace_asArray&&se.replace_asArray.forEach(function(ne){return O.run(ne)})):O.run(se=se.MPD);var oe=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(U-te).toPrecision(3)+"ms, objectiron: "+(oe-U).toPrecision(3)+"ms, total: "+((oe-te)/1e3).toPrecision(3)+"s)"),se.protocol="DASH",se},getMatchers:function(){return I},getIron:function(){return O}},b=(y=y||{}).debug.getLogger(m),I=[new Uh,new Gg,new $g,new di,new Fh],F=new ms({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:I}),O=_d(C).create({adaptationset:new Ro,period:new Xg}),m}Ri.__dashjs_factory_name="DashParser";const Fn=S.Z.getClassFactory(Ri);function dr(y){var m,b,I,F,O,C=this.context,B=(y=y||{}).debug,ee=y.settings,se=(0,T.Z)(C).getInstance(),te=(0,Ge.Z)(C).getInstance(),U=y.mssHandler,oe=y.errHandler;function ne(me){se.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:me.manifest})}return m={load:function(me){var Ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,$=new Date,ge=new Oh(me,je.w.MPD_TYPE);Ce&&(ge.serviceLocation=Ce),Ae&&(ge.queryParams=Ae),ge.requestStartDate||(ge.requestStartDate=$),se.trigger(g.Z.MANIFEST_LOADING_STARTED,{request:ge}),I.load({request:ge,success:function(fe,ve,A){var Y,Q,z;if(F)if(A&&A!==me?(Q=te.parseBaseUrl(A),Y=A):(te.isRelative(me)&&(me=te.resolve(me,window.location.href)),Q=te.parseBaseUrl(me)),"No Content"!=ve)if(null===O&&(O=function _e(me){var Ce=null;return me.indexOf("SmoothStreamingMedia")>-1?(U&&(Ce=U.createMssParser(),U.createMssFragmentProcessor(),U.registerEvents()),Ce):me.indexOf("MPD")>-1||me.indexOf("Patch")>-1?Fn(C).create({debug:B}):Ce}(fe)),null!==O){F.setMatchers(O.getMatchers()),F.setIron(O.getIron());try{z=O.parse(fe)}catch{return void se.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))})}if(z){if(z.url=Y||me,z.originalUrl||(z.originalUrl=z.url),ee&&ee.get().streaming.enableManifestDurationMismatchFix&&z.mediaPresentationDuration&&z.Period_asArray.length>1){var V=z.Period_asArray.reduce(function(G,re){return G+re.duration},0);!isNaN(V)&&z.mediaPresentationDuration>V&&(b.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),z.mediaPresentationDuration=V)}z.baseUri=Q,z.loadedTime=new Date,F.resolveManifestOnLoad(z),se.trigger(g.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:fe})}else se.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))})}else se.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))});else se.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(fe,ve,A){se.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(me,", ").concat(A))})}})},reset:function(){se.off(g.Z.XLINK_READY,ne,m),U&&U.reset(),F&&(F.reset(),F=null),I&&(I.abort(),I=null)}},b=B.getLogger(m),se.on(g.Z.XLINK_READY,ne,m),I=Ir(C).create({errHandler:y.errHandler,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,urlUtils:te,constants:d.Z,dashConstants:f.Z,errors:pe,requestTimeout:y.settings.get().streaming.manifestRequestTimeout}),F=gs(C).create({errHandler:oe,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,settings:y.settings}),O=null,m}dr.__dashjs_factory_name="ManifestLoader";const yi=S.Z.getClassFactory(dr);function jo(){var m=(0,T.Z)(this.context).getInstance();return{error:function(b){m.trigger(g.Z.ERROR,{error:b})}}}jo.__dashjs_factory_name="ErrorHandler";const Gl=S.Z.getSingletonFactory(jo);var Ki=L(1715);function Oa(){var y,m,b,I,F,O,C=this.context,B=(0,T.Z)(C).getInstance();function ee(se,te){if(!te||!te.Period_asArray||0===te.Period_asArray.length)return Promise.resolve();var U=[];return te.Period_asArray.forEach(function(oe){var ne,_e;U.push((ne=oe,_e=se,new Promise(function(me){if(ne&&ne.AdaptationSet_asArray&&0!==ne.AdaptationSet_asArray.length){var Ce=[];ne.AdaptationSet_asArray.forEach(function(Ae){var $,ge;m.getIsTypeOf(Ae,_e)&&Ce.push(($=Ae,ge=_e,new Promise(function(fe){if($.Representation_asArray&&0!==$.Representation_asArray.length){var ve=[],A=[];$.Representation_asArray.forEach(function(Y,Q){var z=m.getCodec($,Q,!1),V=function(G,re,he){switch(G){case d.Z.VIDEO:return{codec:he,width:(j=re).width||null,height:j.height||null,framerate:j.frameRate||null,bitrate:j.bandwidth||null};case d.Z.AUDIO:return function(j,X){return{codec:X,bitrate:j.bandwidth||null,samplerate:j.audioSamplingRate||null}}(re,he);default:return null}var j}(ge,Y,z);A.push(V),ve.push(b.supportsCodec(V,ge))}),Promise.all(ve).then(function(Y){$.Representation_asArray=$.Representation_asArray.filter(function(Q,z){return Y[z]||O.debug("[Stream] Codec ".concat(A[z].codec," not supported ")),Y[z]}),fe()}).catch(function(){fe()})}else fe()})))}),Promise.all(Ce).then(function(){ne.AdaptationSet_asArray=ne.AdaptationSet_asArray.filter(function(Ae){var $=Ae.Representation_asArray&&Ae.Representation_asArray.length>0;return $||(B.trigger(g.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Ae}),O.warn("AdaptationSet has been removed because of no supported Representation")),$}),me()}).catch(function(){me()})}else me()})))}),Promise.all(U)}return y={setConfig:function(se){se&&(se.adapter&&(m=se.adapter),se.capabilities&&(b=se.capabilities),se.settings&&(I=se.settings),se.customParametersModel&&(F=se.customParametersModel))},filterUnsupportedFeatures:function(se){return new Promise(function(te){var U=[];U.push(ee(d.Z.VIDEO,se)),U.push(ee(d.Z.AUDIO,se)),Promise.all(U).then(function(){var oe;I.get().streaming.capabilities.filterUnsupportedEssentialProperties&&(oe=se)&&oe.Period_asArray&&0!==oe.Period_asArray.length&&oe.Period_asArray.forEach(function(ne){ne.AdaptationSet_asArray=ne.AdaptationSet_asArray.filter(function(_e){return!_e.Representation_asArray||0===_e.Representation_asArray.length||(_e.Representation_asArray=_e.Representation_asArray.filter(function(me){var Ce=m.getEssentialPropertiesForRepresentation(me);if(Ce&&Ce.length>0)for(var Ae=0;Ae<Ce.length;){if(!b.supportsEssentialProperty(Ce[Ae]))return O.debug("[Stream] EssentialProperty not supported: "+Ce[Ae].schemeIdUri),!1;Ae+=1}return!0}),_e.Representation_asArray&&_e.Representation_asArray.length>0)})}),function(oe){var ne=F.getCustomCapabilitiesFilters();ne&&0!==ne.length&&oe&&oe.Period_asArray&&0!==oe.Period_asArray.length&&oe.Period_asArray.forEach(function(_e){_e.AdaptationSet_asArray=_e.AdaptationSet_asArray.filter(function(me){return!me.Representation_asArray||0===me.Representation_asArray.length||(me.Representation_asArray=me.Representation_asArray.filter(function(Ce){return!ne.some(function(Ae){return!Ae(Ce)})}),me.Representation_asArray&&me.Representation_asArray.length>0)})})}(se),te()}).catch(function(){te()})})}},O=(0,x.Z)(C).getInstance().getLogger(y),y}Oa.__dashjs_factory_name="CapabilitiesFilter";const Ai=S.Z.getSingletonFactory(Oa),dl=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function ea(){var y;return{initialize:function(m){if(y=new dl,!m)return null;var b=m.indexOf("#");if(-1!==b)for(var I=m.substr(b+1).split("&"),F=0,O=I.length;F<O;++F){var C=I[F],B=C.indexOf("=");if(-1!==B){var ee=C.substring(0,B);y.hasOwnProperty(ee)&&(y[ee]=C.substr(B+1))}}},getURIFragmentData:function(){return y}}}ea.__dashjs_factory_name="URIFragmentModel";const fr=S.Z.getSingletonFactory(ea);function fl(){var y,b=(0,T.Z)(this.context).getInstance();return{getValue:function(){return y},setValue:function(I){y=I,I&&b.trigger(g.Z.MANIFEST_LOADED,{data:I})}}}fl.__dashjs_factory_name="ManifestModel";const jh=S.Z.getSingletonFactory(fl);function Ei(){var y,m,b,I,F=this.context,O=(0,Mt.Z)(F).getInstance();function C(se,te){return isNaN(se)?0:se>0?(te&&m.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):se<-.5?(te&&m.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(-.5,": ").concat(-50,"% playback speed.")),-.5):se}function B(se,te){return isNaN(se)?0:se<0?(te&&m.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):se>1?(te&&m.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):se}function ee(){var se=O.get().streaming.buffer.stableBufferTime>0?O.get().streaming.buffer.stableBufferTime:O.get().streaming.buffer.fastSwitchEnabled?20:12,te=b.getLiveDelay();return!isNaN(te)&&te>0?Math.min(se,te):se}return y={getCatchupMaxDrift:function(){if(!isNaN(O.get().streaming.liveCatchup.maxDrift)&&O.get().streaming.liveCatchup.maxDrift>0)return O.get().streaming.liveCatchup.maxDrift;var se=I.getServiceDescriptionSettings();return se&&se.liveCatchup&&!isNaN(se.liveCatchup.maxDrift)&&se.liveCatchup.maxDrift>0?se.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==O.get().streaming.liveCatchup.enabled?O.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:ee,getInitialBufferLevel:function(){var se=O.get().streaming.buffer.initialBufferLevel;return isNaN(se)||se<0?0:Math.min(ee(),se)},getRetryAttemptsForType:function(se){var te=isNaN(O.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:O.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?O.get().streaming.retryAttempts[se]*te:O.get().streaming.retryAttempts[se]},getRetryIntervalsForType:function(se){var te=isNaN(O.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:O.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?O.get().streaming.retryIntervals[se]/te:O.get().streaming.retryIntervals[se]},getCatchupPlaybackRates:function(se){var te=O.get().streaming.liveCatchup.playbackRate;if(!isNaN(te.min)||!isNaN(te.max))return{min:C(te.min,se),max:B(te.max,se)};var U=I.getServiceDescriptionSettings();if(U&&U.liveCatchup&&(!isNaN(U.liveCatchup.playbackRate.min)||!isNaN(U.liveCatchup.playbackRate.max))){var oe=U.liveCatchup.playbackRate;return{min:C(oe.min,se),max:B(oe.max,se)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(se,te){try{var U=O.get().streaming.abr[se][te];if(!isNaN(U)&&-1!==U)return U;var oe=I.getServiceDescriptionSettings();return oe&&oe[se]&&!isNaN(oe[se][te])?oe[se][te]:-1}catch{return-1}},setConfig:function(se){se.playbackController&&(b=se.playbackController),se.serviceDescriptionController&&(I=se.serviceDescriptionController)},reset:function(){}},m=(0,x.Z)(F).getInstance().getLogger(y),y}Ei.__dashjs_factory_name="MediaPlayerModel";const ql=S.Z.getSingletonFactory(Ei);var hl=L(1767);function Jo(y){var m=(y=y||{}).abrController,b=y.switchHistory,I=y.droppedFramesHistory,F=y.currentRequest,O=y.useBufferOccupancyABR,C=y.useL2AABR,B=y.useLoLPABR,ee=y.streamProcessor?y.streamProcessor.getScheduleController():null,se=y.streamProcessor?y.streamProcessor.getRepresentationInfo():null,te=y.videoModel?y.videoModel:null;function U(){return se?se.mediaInfo:null}return{getMediaType:function(){var oe=U();return oe?oe.type:null},getMediaInfo:U,getDroppedFramesHistory:function(){return I},getCurrentRequest:function(){return F},getSwitchHistory:function(){return b},getStreamInfo:function(){var oe=U();return oe?oe.streamInfo:null},getScheduleController:function(){return ee},getAbrController:function(){return m},getRepresentationInfo:function(){return se},useBufferOccupancyABR:function(){return O},useL2AABR:function(){return C},useLoLPABR:function(){return B},getVideoModel:function(){return te}}}Jo.__dashjs_factory_name="RulesContext";const pl=S.Z.getClassFactory(Jo);var Yl=L(2068);function Ls(){var y=[],m=[];return{push:function(b){b.newValue===Yl.Z.NO_CHANGE&&(b.newValue=b.oldValue),y[b.oldValue]||(y[b.oldValue]={noDrops:0,drops:0,dropSize:0});var I=b.newValue-b.oldValue,F=I<0?1:0,O=F?-I:0,C=F?0:1;if(y[b.oldValue].drops+=F,y[b.oldValue].dropSize+=O,y[b.oldValue].noDrops+=C,m.push({idx:b.oldValue,noDrop:C,drop:F,dropSize:O}),m.length>8){var B=m.shift();y[B.idx].drops-=B.drop,y[B.idx].dropSize-=B.dropSize,y[B.idx].noDrops-=B.noDrop}},getSwitchRequests:function(){return y},reset:function(){y=[],m=[]}}}Ls.__dashjs_factory_name="SwitchRequestHistory";const Bs=S.Z.getClassFactory(Ls);function $l(){var y={},m={},b={};return{push:function(I,F,O){if(F){y[I]||(y[I]=[],m[I]=0,b[I]=0);var C=O&&O.droppedVideoFrames?O.droppedVideoFrames:0,B=O&&O.totalVideoFrames?O.totalVideoFrames:0,ee=C-m[I];m[I]=C;var se=B-b[I];b[I]=B;var te=y[I];isNaN(F)||(te[F]?(te[F].droppedVideoFrames+=ee,te[F].totalVideoFrames+=se):te[F]={droppedVideoFrames:ee,totalVideoFrames:se})}},getFrameHistory:function(I){return y[I]},clearForStream:function(I){try{delete y[I],delete m[I],delete b[I]}catch{}},reset:function(){y={},m={},b={}}}}$l.__dashjs_factory_name="DroppedFramesHistory";const Xc=S.Z.getClassFactory($l);function Tr(y){var m,b,I,F,O,B=(y=y||{}).settings,ee=(0,T.Z)(this.context).getInstance();function se(me,Ce,Ae,$){var ge=Math.pow(.5,Ae/$.fast);me.fastEstimate=(1-ge)*Ce+ge*me.fastEstimate;var fe=Math.pow(.5,Ae/$.slow);me.slowEstimate=(1-fe)*Ce+fe*me.slowEstimate,me.totalWeight+=Ae}function te(me,Ce,Ae){return B.get().streaming.abr.movingAverageMethod!==d.Z.MOVING_AVERAGE_SLIDING_WINDOW?function($,ge){var fe=$?O.throughputHalfLife:O.latencyHalfLife,ve=$?I[ge]:F[ge];if(!ve||ve.totalWeight<=0)return NaN;var A=ve.fastEstimate/(1-Math.pow(.5,ve.totalWeight/fe.fast)),Y=ve.slowEstimate/(1-Math.pow(.5,ve.totalWeight/fe.slow));return $?Math.min(A,Y):Math.max(A,Y)}(me,Ce):(ve=function(Y,Q,z){var V,G;if(Y?(V=m[Q],G=z?3:4):(V=b[Q],G=4),V){if(G>=V.length)G=V.length;else if(Y)for(var re=1;re<G;++re){var he=V[V.length-re]/V[V.length-re-1];if((he>=1.3||he<=.7692307692307692)&&(G+=1)===V.length)break}}else G=0;return G}($=me,ge=Ce,Ae),A=($?m:b)[ge],0!==ve&&A&&0!==A.length?(A=A.slice(-ve)).reduce(function(Y,Q){return Y+Q})/A.length:NaN);var $,ge,ve,A}function U(me,Ce){return te(!0,me,Ce)}function oe(me){m[me]=m[me]||[],b[me]=b[me]||[],I[me]=I[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0},F[me]=F[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function ne(){m={},b={},I={},F={}}var _e={push:function(me,Ce,Ae){if(Ce.trace&&Ce.trace.length){var $,ge=Ce.tresponse.getTime()-Ce.trequest.getTime()||1,fe=Ce._tfinish.getTime()-Ce.tresponse.getTime()||1,ve=Ce.trace.reduce(function(z,V){return z+V.b[0]},0),A=0;if(0!==($=Ce._fileLoaderType&&Ce._fileLoaderType===d.Z.FILE_LOADER_TYPES.FETCH?Ce.trace.reduce(function(z,V){return z+V.d},0):Ae?fe:ge+fe)&&(A=Math.round(8*ve/$)),Ce.cmsd){var Y=Ce.cmsd.dynamic&&Ce.cmsd.dynamic.etp?Ce.cmsd.dynamic.etp:null;if(Y){var Q=B.get().streaming.cmsd.abr.etpWeightRatio;Q>0&&Q<=1&&(A=A*(1-Q)+Y*Q)}}if(oe(me),G=fe,(z=me)===d.Z.VIDEO?G<B.get().streaming.cacheLoadThresholds[d.Z.VIDEO]:z===d.Z.AUDIO?G<B.get().streaming.cacheLoadThresholds[d.Z.AUDIO]:void 0){if(m[me].length>0&&!m[me].hasCachedEntries)return;m[me].hasCachedEntries=!0}else m[me]&&m[me].hasCachedEntries&&function(z){delete m[z],delete b[z],delete I[z],delete F[z],oe(z)}(me);m[me].push(A),ee.trigger(h.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:A,mediaType:me,httpRequest:Ce}),m[me].length>20&&m[me].shift(),b[me].push(ge),b[me].length>20&&b[me].shift(),se(I[me],A,.001*fe,O.throughputHalfLife),se(F[me],ge,1,O.latencyHalfLife)}var z,G},getAverageThroughput:U,getSafeAverageThroughput:function(me,Ce){var Ae=U(me,Ce);return isNaN(Ae)||(Ae*=B.get().streaming.abr.bandwidthSafetyFactor),Ae},getAverageLatency:function(me){return te(!1,me)},reset:ne};return O={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},ne(),_e}Tr.__dashjs_factory_name="ThroughputHistory";const u0=S.Z.getClassFactory(Tr);function Wl(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ce,Ae,$,ge,fe,ve,A,Y,Q,z,V,G=this.context,re=(0,x.Z)(G).getInstance(),he=(0,T.Z)(G).getInstance();function j(){F={},O={},B={},C={},ge={},A={},Y={},Q={},void 0===se&&(se=!1),fe&&fe.reset(),$=void 0,fe=void 0,ve=void 0,clearTimeout(ee),ee=null}function X(Le){var Te=Le.request.mediaType,Je=Le.streamId;if(Te&&Je&&C[Je]&&V.get().streaming.abr.autoSwitchBitrate[Te]){var Oe=C[Je][Te];if(Oe){var nt=pl(G).create({abrController:y,streamProcessor:Oe,currentRequest:Le.request,useBufferOccupancyABR:A[Te],useL2AABR:Y[Te],useLoLPABR:Q[Te],videoModel:ne}),ct=b.shouldAbandonFragment(nt,Je);ct.quality>Yl.Z.NO_CHANGE&&Oe.getFragmentModel().getRequests({state:k.FRAGMENT_MODEL_LOADING,index:Le.request.index})[0]&&(B[Je][Te].state=N.Z.ABANDON_LOAD,ge[Je][Te].reset(),ge[Je][Te].push({oldValue:ke(Te,Je),newValue:ct.quality,confidence:1,reason:ct.reason}),tt(Te,I.getActiveStreamInfo(),ct.quality,ct.reason),clearTimeout(ee),ee=setTimeout(function(){B[Je][Te].state=N.Z.ALLOW_LOAD,ee=null},V.get().streaming.abandonLoadTimeout))}}}function Re(Le){Le.mediaType===d.Z.VIDEO&&(void 0!==$&&fe.push(Le.streamId,$,ne.getPlaybackQuality()),$=Le.newQuality)}function Be(Le){var Te,Je;Le.metric!==N.Z.HTTP_REQUEST||!Le.value||Le.value.type!==je.w.MEDIA_SEGMENT_TYPE||Le.mediaType!==d.Z.AUDIO&&Le.mediaType!==d.Z.VIDEO||ve.push(Le.mediaType,Le.value,V.get().streaming.abr.useDeadTimeLatency),Le.metric!==N.Z.BUFFER_LEVEL||Le.mediaType!==d.Z.AUDIO&&Le.mediaType!==d.Z.VIDEO||(Te=Le.mediaType,Je=.001*Le.value.level,V.get().streaming.abr.ABRStrategy===d.Z.ABR_STRATEGY_DYNAMIC&&function(Oe,nt){try{var ct=_e.getStableBufferTime(),qt=A[Oe],Sn=nt>(qt?.5*ct:ct);A[Oe]=Sn,Sn!==qt&&m.info(Sn?"["+Oe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+nt.toFixed(3)+").":"["+Oe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+nt.toFixed(3)+").")}catch(In){m.error(In)}}(Te,Je))}function Ue(Le,Te){try{var Je;return F[Te]=F[Te]||{},F[Te].hasOwnProperty(Le)||(F[Te][Le]=0),Je=function(Oe,nt){var ct=F[nt][Oe],ht=ct;if(!C[nt]||!C[nt][Oe])return ht;var Lt=Qe(Oe,nt);void 0!==Lt&&(ht=Math.max(ct,Lt));var qt=function(Sn,In){try{var yn=_e.getAbrBitrateParameter("maxBitrate",Sn);return yn>-1?Tt(C[In][Sn].getMediaInfo(),yn,In):void 0}catch{return}}(Oe,nt);return void 0!==qt&&(ht=Math.min(ht,qt)),ht}(Le,Te),Oe=Je,ht=F[Te][nt=Le],Lt=V.get().streaming.abr.maxRepresentationRatio[nt],Je=function(Oe,nt,ct){if(nt!==d.Z.VIDEO||!V.get().streaming.abr.limitBitrateByPortal||!C[ct]||!C[ct][nt])return Oe;se||on();var ht=C[ct][nt].getStreamInfo(),Lt=oe.getAdaptationForType(ht.index,nt,ht).Representation_asArray,qt=Oe;if(te>0&&U>0){for(;qt>0&&Lt[qt]&&te<Lt[qt].width&&te-Lt[qt-1].width<Lt[qt].width-te;)qt-=1;for(;qt<Lt.length-1&&Lt[qt].width===Lt[qt+1].width;)qt+=1}return qt}(Je=isNaN(Lt)||Lt>=1||Lt<0?Oe:Math.min(Oe,Math.round(ht*Lt)),Le,Te),V.get().streaming.cmsd.enabled&&V.get().streaming.cmsd.abr.applyMb&&(Je=function(Oe,nt,ct){if("video"!==nt)return Oe;var ht=Ce.getMaxBitrate(nt);if(ht<0)return Oe;var Lt=wt(ct,"audio",ke("audio",ct));ht-=Lt?Lt.bitrate/1e3:0;var qt=Tt(C[ct][nt].getMediaInfo(),ht,ct);return m.debug("Stream ID: "+ct+" ["+nt+"] Apply max bit rate from CMSD: "+ht),Math.min(Oe,qt)}(Je,Le,Te)),Je}catch{return}var Oe,nt,ht,Lt}function Qe(Le,Te){try{return function(Je,Oe){try{var nt=_e.getAbrBitrateParameter("minBitrate",Je);if(nt>-1){var ct=C[Oe][Je].getMediaInfo(),ht=Bt(ct),Lt=Tt(ct,nt,Oe);return ht[Lt]&&Lt<ht.length-1&&ht[Lt].bitrate<1e3*nt&&Lt++,Lt}return}catch{return}}(Le,Te)}catch{return}}function ke(Le){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Te||(Te=I.getActiveStreamInfo().id),Le&&C[Te]&&C[Te][Le]&&Te?(O[Te]=O[Te]||{},O[Te].hasOwnProperty(Le)||(O[Te][Le]=0),O[Te][Le]):0}catch{return 0}}function tt(Le,Te,Je){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Te&&Te.id&&Le){var nt=Te.id,ct=ke(Le,nt);(0,ue.SE)(Je);var ht=Ue(Le,nt);Je!==ct&&Je>=0&&Je<=ht&&Ft(Le,ct,Je,ht,Oe,nt)}}function Ft(Le,Te,Je,Oe,nt,ct){if(Le&&C[ct]&&C[ct][Le]){var ht=C[ct][Le].getStreamInfo(),Lt=ht&&ht.manifestInfo&&ht.manifestInfo.isDynamic,qt=z.getCurrentBufferLevel(Le);m.info("Stream ID: "+ct+" ["+Le+"] switch from "+Te+" to "+Je+"/"+Oe+" (buffer: "+qt+") "+(nt?JSON.stringify(nt):".")),O[ct]=O[ct]||{},O[ct][Le]=Je;var Sn=wt(ct,Le,Je);he.trigger(g.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:Te,newQuality:Je,reason:nt,streamInfo:ht,bitrateInfo:Sn,maxIdx:Oe,mediaType:Le},{streamId:ht.id,mediaType:Le});var In=ve.getAverageThroughput(Le,Lt);isNaN(In)||Ae.setSavedBitrateSettings(Le,In)}}function wt(Le,Te,Je){if(Te&&C&&C[Le]&&C[Le][Te]){var Oe=Bt(C[Le][Te].getMediaInfo());return Oe[Je]?Oe[Je]:null}return null}function Tt(Le,Te,Je){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,nt=Le&&Le.type?C[Je][Le.type].getRepresentationInfo():null;if(V.get().streaming.abr.useDeadTimeLatency&&Oe&&nt&&nt.fragmentDuration){var ct=nt.fragmentDuration;if((Oe/=1e3)>ct)return 0;Te*=1-Oe/ct}for(var Lt=Bt(Le),qt=Lt.length-1;qt>=0;qt--)if(1e3*Te>=Lt[qt].bitrate)return qt;return 0}function Bt(Le){var Te=[];if(!Le||!Le.bitrateList)return Te;for(var Je,Oe=Le.bitrateList,nt=Le.type,ct=0,ht=Oe.length;ct<ht;ct++)(Je=new Bc).mediaType=nt,Je.qualityIndex=ct,Je.bitrate=Oe[ct].bandwidth,Je.width=Oe[ct].width,Je.height=Oe[ct].height,Je.scanType=Oe[ct].scanType,Te.push(Je);return Te}function on(){if(ne){var Le=V.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;te=ne.getClientWidth()*Le,U=ne.getClientHeight()*Le}}return y={initialize:function(){fe=Xc(G).create(),ve=u0(G).create({settings:V}),(b=(0,hl.Z)(G).create({dashMetrics:z,customParametersModel:me,mediaPlayerModel:_e,settings:V})).initialize(),he.on(h.Z.QUALITY_CHANGE_RENDERED,Re,y),he.on(h.Z.METRIC_ADDED,Be,y),he.on(g.Z.LOADING_PROGRESS,X,y)},isPlayingAtTopQuality:function(Le){var Te=Le?Le.id:null,Je=ke(d.Z.AUDIO,Te),Oe=ke(d.Z.VIDEO,Te);return Je===Ue(d.Z.AUDIO,Te)&&Oe===Ue(d.Z.VIDEO,Te)},updateTopQualityIndex:function(Le){var Te=Le.type,Je=Le.streamInfo.id,Oe=Le.representationCount-1;return F[Je]=F[Je]||{},F[Je][Te]=Oe,Oe},clearDataForStream:function(Le){fe&&fe.clearForStream(Le),C[Le]&&delete C[Le],ge[Le]&&delete ge[Le],B[Le]&&delete B[Le]},getThroughputHistory:function(){return ve},getBitrateList:Bt,getQualityForBitrate:Tt,getTopBitrateInfoFor:function(Le){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Te||(Te=I.getActiveStreamInfo().id),Le&&C&&C[Te]&&C[Te][Le]){var Je=Ue(Le,Te),Oe=Bt(C[Te][Le].getMediaInfo());return Oe[Je]?Oe[Je]:null}return null},getMinAllowedIndexFor:Qe,getMaxAllowedIndexFor:Ue,getInitialBitrateFor:function(Le,Te){if(function(){if(!Ae||!Ae.hasOwnProperty("getSavedBitrateSettings"))throw new Error(d.Z.MISSING_CONFIG_ERROR)}(),Le===d.Z.TEXT)return NaN;var Je=Ae.getSavedBitrateSettings(Le),Oe=_e.getAbrBitrateParameter("initialBitrate",Le),nt=V.get().streaming.abr.initialRepresentationRatio[Le];if(-1===Oe)if(nt>-1){var ct=C[Te][Le].getStreamInfo(),ht=oe.getAdaptationForType(ct.index,Le,ct).Representation_asArray;Oe=Array.isArray(ht)?ht[Math.max(Math.round(ht.length*nt)-1,0)].bandwidth/1e3:0}else Oe=isNaN(Je)?Le===d.Z.VIDEO?1e3:100:Je;return Oe},getQualityFor:ke,getAbandonmentStateFor:function(Le,Te){return B[Le]&&B[Le][Te]?B[Le][Te].state:null},setPlaybackQuality:tt,checkPlaybackQuality:function(Le,Te){try{if(!(Le&&C&&C[Te]&&C[Te][Le]))return!1;if(fe){var Je=ne.getPlaybackQuality();Je&&fe.push(Te,$,Je)}if(!V.get().streaming.abr.autoSwitchBitrate[Le])return!1;var Oe=ke(Le,Te),nt=pl(G).create({abrController:y,switchHistory:ge[Te][Le],droppedFramesHistory:fe,streamProcessor:C[Te][Le],currentValue:Oe,useBufferOccupancyABR:A[Le],useL2AABR:Y[Le],useLoLPABR:Q[Le],videoModel:ne}),ct=Qe(Le,Te),ht=Ue(Le,Te),Lt=b.getMaxQuality(nt),qt=Lt.quality;return void 0!==ct&&(qt>Yl.Z.NO_CHANGE?qt:Oe)<ct&&(qt=ct),qt>ht&&(qt=ht),ge[Te][Le].push({oldValue:Oe,newValue:qt}),qt>Yl.Z.NO_CHANGE&&qt!==Oe&&(B[Te][Le].state===N.Z.ALLOW_LOAD||qt<Oe)&&(Ft(Le,Oe,qt,ht,Lt.reason,Te),!0)}catch{return!1}},setElementSize:on,setWindowResizeEventCalled:function(Le){se=Le},registerStreamType:function(Le,Te){var Oe,nt,Je=Te.getStreamInfo().id;C[Je]||(C[Je]={}),ge[Je]||(ge[Je]={}),B[Je]||(B[Je]={}),ge[Je][Le]=Bs(G).create(),C[Je][Le]=Te,B[Je][Le]={},B[Je][Le].state=N.Z.ALLOW_LOAD,Oe=Le,(nt=V.get().streaming.abr.ABRStrategy)===d.Z.ABR_STRATEGY_L2A?(A[Oe]=!1,Q[Oe]=!1,Y[Oe]=!0):nt===d.Z.ABR_STRATEGY_LoLP?(A[Oe]=!1,Q[Oe]=!0,Y[Oe]=!1):nt===d.Z.ABR_STRATEGY_BOLA?(A[Oe]=!0,Q[Oe]=!1,Y[Oe]=!1):nt===d.Z.ABR_STRATEGY_THROUGHPUT?(A[Oe]=!1,Q[Oe]=!1,Y[Oe]=!1):nt===d.Z.ABR_STRATEGY_DYNAMIC&&(A[Oe]=!(!A||!A[Oe])&&A[Oe],Q[Oe]=!1,Y[Oe]=!1),Le===d.Z.VIDEO&&on()},unRegisterStreamType:function(Le,Te){try{C[Le]&&C[Le][Te]&&delete C[Le][Te],ge[Le]&&ge[Le][Te]&&delete ge[Le][Te],B[Le]&&B[Le][Te]&&delete B[Le][Te]}catch{}},setConfig:function(Le){Le&&(Le.streamController&&(I=Le.streamController),Le.domStorage&&(Ae=Le.domStorage),Le.mediaPlayerModel&&(_e=Le.mediaPlayerModel),Le.customParametersModel&&(me=Le.customParametersModel),Le.cmsdModel&&(Ce=Le.cmsdModel),Le.dashMetrics&&(z=Le.dashMetrics),Le.adapter&&(oe=Le.adapter),Le.videoModel&&(ne=Le.videoModel),Le.settings&&(V=Le.settings))},reset:function(){j(),he.off(g.Z.LOADING_PROGRESS,X,y),he.off(h.Z.QUALITY_CHANGE_RENDERED,Re,y),he.off(h.Z.METRIC_ADDED,Be,y),b&&b.reset()}},m=re.getLogger(y),j(),y}Wl.__dashjs_factory_name="AbrController";var Qc=S.Z.getSingletonFactory(Wl);Qc.QUALITY_DEFAULT=0,S.Z.updateSingletonFactory(Wl.__dashjs_factory_name,Qc);const _s=Qc;var Jc=new Map([[d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Pa(){var y,m,b,I,F,O,C=this.context,B=(0,T.Z)(C).getInstance(),ee=[];function se(){b&&(b.playbackRate=1,b.removeEventListener("canplay",se))}function te(){return ee.length>0}function U(){if(b&&te()&&0===b.playbackRate){var $=document.createEvent("Event");$.initEvent("waiting",!0,!1),b.dispatchEvent($)}}function oe($,ge){b&&b.addEventListener($,ge)}function ne($,ge){b&&b.removeEventListener($,ge)}function _e(){return b?b.readyState:NaN}function me(){return b?b.buffered:null}function Ce($,ge,fe,ve,A){if(b)for(var Y=0;Y<b.textTracks.length;Y++)if(b.textTracks[Y].kind===$&&(!ge||b.textTracks[Y].label==ge)&&b.textTracks[Y].language===fe&&b.textTracks[Y].isTTML===ve&&b.textTracks[Y].isEmbedded===A)return b.textTracks[Y];return null}function Ae($,ge){var fe,ve;$===d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||_e()>=$?ge():(fe=Jc.get($),ve=ge,oe(fe,function A(){ne(fe,A),ve(fe)}))}return y={initialize:function(){B.on(g.Z.PLAYBACK_PLAYING,U,this)},setCurrentTime:function($,ge){b&&(I=$,Ae(d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(b.currentTime!==I)try{I=ge?function(fe){var ve=me(),A=fe,Y=9999999999;if(ve)for(var Q=0;Q<ve.length;Q++){var z=ve.start(Q),V=ve.end(Q),G=Math.abs(z-fe),re=Math.abs(V-fe);if(fe>=z&&fe<=V)return fe;G<Y&&(Y=G,A=z),re<Y&&(Y=re,A=V)}return A}(I):I,b.currentTime=I,I=NaN}catch(fe){0===b.readyState&&fe.code===fe.INVALID_STATE_ERR&&setTimeout(function(){b.currentTime=I,I=NaN},400)}else I=NaN}))},play:function(){if(b){b.autoplay=!0;var $=b.play();$&&$.catch&&typeof Promise<"u"&&$.catch(function(ge){"NotAllowedError"===ge.name&&B.trigger(g.Z.PLAYBACK_NOT_ALLOWED),m.warn("Caught pending play exception - continuing (".concat(ge,")"))})}},isPaused:function(){return b?b.paused:null},pause:function(){b&&(b.pause(),b.autoplay=!1)},isStalled:te,isSeeking:function(){return b?b.seeking||!isNaN(I):null},getTime:function(){return b?isNaN(I)?b.currentTime:I:null},getPlaybackRate:function(){return b?b.playbackRate:null},setPlaybackRate:function($){b&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&b.readyState<=2&&$>0?b.addEventListener("canplay",se):b.playbackRate=$)},getPlayedRanges:function(){return b?b.played:null},getEnded:function(){return b?b.ended:null},setStallState:function($,ge){var fe,A;fe=$,ge?null!==(A=fe)&&b&&!b.seeking&&-1===ee.indexOf(A)&&ee.push(A):function(A){var Y=ee.indexOf(A);null!==A&&-1!==Y&&ee.splice(Y,1)}(fe)},getElement:function(){return b},setElement:function($){if(!(null==$||$&&/^(VIDEO|AUDIO)$/i.test($.nodeName)))throw"element is not video or audio DOM type!";(b=$)&&(b.preload="auto")},setSource:function($){b&&($?b.src=$:(b.removeAttribute("src"),b.load()))},getSource:function(){return b?b.src:null},getTTMLRenderingDiv:function(){return F},setTTMLRenderingDiv:function($){(F=$).style.position="absolute",F.style.display="flex",F.style.overflow="hidden",F.style.pointerEvents="none",F.style.top=0,F.style.left=0},getVttRenderingDiv:function(){return O},setVttRenderingDiv:function($){O=$},getPlaybackQuality:function(){if(!b)return null;var $="webkitDroppedFrameCount"in b&&"webkitDecodedFrameCount"in b,ge=null;return"getVideoPlaybackQuality"in b?ge=b.getVideoPlaybackQuality():$&&(ge={droppedVideoFrames:b.webkitDroppedFrameCount,totalVideoFrames:b.webkitDroppedFrameCount+b.webkitDecodedFrameCount,creationTime:new Date}),ge},addEventListener:oe,removeEventListener:ne,getReadyState:_e,getBufferRange:me,getClientWidth:function(){return b?b.clientWidth:NaN},getClientHeight:function(){return b?b.clientHeight:NaN},getTextTracks:function(){return b?b.textTracks:[]},getTextTrack:Ce,addTextTrack:function($,ge,fe,ve,A){if(!b)return null;var Y=Ce($,ge,fe,ve,A);return Y||((Y=b.addTextTrack($,ge,fe)).isEmbedded=A,Y.isTTML=ve),Y},appendChild:function($){b&&(b.appendChild($),void 0!==$.isTTML&&(b.textTracks[b.textTracks.length-1].isTTML=$.isTTML,b.textTracks[b.textTracks.length-1].isEmbedded=$.isEmbedded))},removeChild:function($){b&&b.removeChild($)},getVideoWidth:function(){return b?b.videoWidth:NaN},getVideoHeight:function(){return b?b.videoHeight:NaN},getVideoRelativeOffsetTop:function(){if(b){var $=b.parentNode.host||b.parentNode;return $?b.getBoundingClientRect().top-$.getBoundingClientRect().top:NaN}return NaN},getVideoRelativeOffsetLeft:function(){if(b){var $=b.parentNode.host||b.parentNode;return $?b.getBoundingClientRect().left-$.getBoundingClientRect().left:NaN}return NaN},waitForReadyState:Ae,reset:function(){B.off(g.Z.PLAYBACK_PLAYING,U,this)}},m=(0,x.Z)(C).getInstance().getLogger(y),I=NaN,y}Pa.__dashjs_factory_name="VideoModel";const Kl=S.Z.getSingletonFactory(Pa);var ao=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Qg="dashjs_?_bitrate",yo="dashjs_?_settings",Oi="localStorage",eu="lastBitrate",na="lastMediaSettings";function Xl(y){var m,b,I,O=(y=y||{}).settings;function C(te){if(void 0!==I)return I;var U;I=!1;try{typeof window<"u"&&(U=window[te])}catch(oe){return b.warn("DOMStorage access denied: "+oe.message),I}if(!U||te!==Oi&&"sessionStorage"!==te)return I;try{U.setItem("1","1"),U.removeItem("1"),I=!0}catch(oe){b.warn("DOMStorage is supported, but cannot be used: "+oe.message)}return I}function B(){return 6e5*Math.round((new Date).getTime()/6e5)}function ee(te,U){return C(te)&&O.get().streaming[U+"CachingInfo"].enabled}function se(){if(!O)throw new Error(d.Z.MISSING_CONFIG_ERROR)}return m={getSavedBitrateSettings:function(te){if(se(),!O.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var U=NaN;if(ee(Oi,eu)){var oe=Qg.replace(/\?/,te);try{var ne=JSON.parse(localStorage.getItem(oe))||{},_e=(new Date).getTime()-parseInt(ne.timestamp,10)>=O.get().streaming.lastBitrateCachingInfo.ttl||!1,me=parseFloat(ne.bitrate);isNaN(me)||_e?_e&&localStorage.removeItem(oe):(U=me,b.debug("Last saved bitrate for "+te+" was "+me))}catch{return null}}return U},setSavedBitrateSettings:function(te,U){if(ee(Oi,eu)&&U){var oe=Qg.replace(/\?/,te);try{localStorage.setItem(oe,JSON.stringify({bitrate:U.toFixed(3),timestamp:B()}))}catch(ne){b.error(ne.message)}}},getSavedMediaSettings:function(te){if(se(),!O.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var U=null;if(ee(Oi,na)){var oe=yo.replace(/\?/,te);try{var ne=JSON.parse(localStorage.getItem(oe))||{},_e=(new Date).getTime()-parseInt(ne.timestamp,10)>=O.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;U=ne.settings,_e&&(localStorage.removeItem(oe),U=null)}catch{return null}}return U},setSavedMediaSettings:function(te,U){if(ee(Oi,na)){var oe=yo.replace(/\?/,te);try{localStorage.setItem(oe,JSON.stringify({settings:U,timestamp:B()}))}catch(ne){b.error(ne.message)}}}},b=(0,x.Z)(this.context).getInstance().getLogger(m),C(Oi)&&ao.forEach(function(te){var U=localStorage.getItem(te.oldKey);if(U){localStorage.removeItem(te.oldKey);try{localStorage.setItem(te.newKey,U)}catch(oe){b.error(oe.message)}}}),m}Xl.__dashjs_factory_name="DOMStorage";const es=S.Z.getSingletonFactory(Xl);var Ad=L(2032),Hh=L(2011);function Zh(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe,ne=this.context;function _e($,ge,fe,ve){var A=null,Y=$?oe.resolve($.path):null,Q=ve||{init:!0,url:Y?Y.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ge};m.debug("Start searching for initialization.");var z=Ae(Q);B.load({request:z,success:function(V){if(Q.bytesLoaded=Q.range.end,!(A=I.findInitRange(V)))return Q.range.end=Q.bytesLoaded+Q.bytesToLoad,_e($,ge,fe,Q);$.range=A,fe($)},error:function(){fe($)}}),m.debug("Perform init search: "+Q.url)}function me($,ge,fe,ve,A,Y){if(fe&&(void 0===fe.start||void 0===fe.end)){var Q=fe?fe.toString().split("-"):null;fe=Q?{start:parseFloat(Q[0]),end:parseFloat(Q[1])}:null}A=A||Ce;var z=null,V=null,G=!!fe,re=$?oe.resolve($.path):null,he={init:!1,url:re?re.url:void 0,range:G?fe:{start:0,end:1500},searching:!G,bytesLoaded:Y?Y.bytesLoaded:0,bytesToLoad:1500,mediaType:ge},j=Ae(he);B.load({request:j,success:function(X){var Re=he.bytesToLoad,Be=X.byteLength;if(he.bytesLoaded=he.range.end-he.range.start,z=I.parse(X),(V=z.getBox("sidx"))&&V.isComplete){var Ue,Qe,ke=V.references;if(null!=ke&&ke.length>0&&(Ue=1===ke[0].reference_type),Ue){var tt,Ft,wt,Tt;m.debug("Initiate multiple SIDX load."),he.range.end=he.range.start+V.size;var Bt=[],on=0,Le=(V.offset||he.range.start)+V.size,Te=function(Oe){Oe?(Bt=Bt.concat(Oe),++on>=Ft&&(Bt.sort(function(nt,ct){return nt.startTime-ct.startTime<0?-1:0}),A(Bt,$,ve))):A(null,$,ve)};for(tt=0,Ft=ke.length;tt<Ft;tt++)wt=Le,Tt=Le+ke[tt].referenced_size-1,Le+=ke[tt].referenced_size,me($,ge,{start:wt,end:Tt},ve,Te,he)}else m.debug("Parsing segments from SIDX. representation "+ge+" - id: "+$.id+" for range : "+he.range.start+" - "+he.range.end),Qe=function(Oe,nt){for(var ct,Lt,qt,Sn=Oe.references,In=Sn.length,yn=Oe.timescale,Cn=Oe.earliest_presentation_time,Nn=nt.range.start+Oe.offset+Oe.first_offset+Oe.size,er=[],sr=0;sr<In;sr++)Lt=Sn[sr].subsegment_duration,qt=Sn[sr].referenced_size,(ct=new Hh.Z).duration=Lt,ct.startTime=Cn,ct.timescale=yn,ct.mediaRange=Nn+"-"+(Nn+qt-1),er.push(ct),Cn+=Lt,Nn+=qt;return er}(V,he),A(Qe,$,ve)}else{if(V)he.range.start=V.offset||he.range.start,he.range.end=he.range.start+(V.size||Re);else{if(Be<he.bytesLoaded)return void A(null,$,ve);var Je=z.getLastBox();Je&&Je.size?(he.range.start=Je.offset+Je.size,he.range.end=he.range.start+Re):he.range.end+=Re}me($,ge,he.range,ve,null,he)}},error:function(){A(null,$,ve)}}),m.debug("Perform SIDX load for type ".concat(ge," : ").concat(he.url," with range ").concat(he.range.start," - ").concat(he.range.end))}function Ce($,ge,fe){fe({segments:$,representation:ge,error:$?void 0:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Ae($){if($.url){var ge=new q.Z;return ge.setInfo($),ge}}return y={setConfig:function($){$.baseURLController&&(oe=$.baseURLController),$.dashMetrics&&(O=$.dashMetrics),$.mediaPlayerModel&&(C=$.mediaPlayerModel),$.errHandler&&(b=$.errHandler),$.boxParser&&(I=$.boxParser),$.debug&&(m=$.debug.getLogger(y)),$.requestModifier&&(F=$.requestModifier),$.errors&&(ee=$.errors),$.urlUtils&&(U=$.urlUtils),$.constants&&(se=$.constants),$.dashConstants&&(te=$.dashConstants)},initialize:function(){B=Ir(ne).create({errHandler:b,dashMetrics:O,mediaPlayerModel:C,requestModifier:F,boxParser:I,errors:ee,urlUtils:U,constants:se,dashConstants:te})},loadInitialization:function($,ge){return new Promise(function(fe){_e($,ge,fe)})},loadSegments:function($,ge,fe){return new Promise(function(ve){me($,ge,fe,ve)})},reset:function(){B&&(B.abort(),B=null)}}}Zh.__dashjs_factory_name="SegmentBaseLoader";const d0=S.Z.getSingletonFactory(Zh);function zh(y){var m;y=y||{};var b=new DataView(y.data),I=0;function F(C,B){var ee=!0,se=0;if(void 0===B&&(B=!1),C.tag>16777215?(b.getUint32(I)!==C.tag&&(ee=!1),se=4):C.tag>65535?(256*b.getUint16(I)+b.getUint8(I+2)!==C.tag&&(ee=!1),se=3):C.tag>255?(b.getUint16(I)!==C.tag&&(ee=!1),se=2):(b.getUint8(I)!==C.tag&&(ee=!1),se=1),!ee&&C.required&&!B)throw new Error("required tag not found");return ee&&(I+=se),ee}function O(C){var B=1,ee=128,se=-1,te=0,U=b.getUint8(I),oe=0;for(oe=0;oe<8;oe+=1){if((U&ee)===ee){te=void 0===C?U&~ee:U,se=oe;break}ee>>=1}for(oe=0;oe<se;oe+=1,B+=1)te=te<<8|255&b.getUint8(I+B);return I+=B,te}return m={getPos:function(){return I},setPos:function(C){I=C},consumeTag:F,consumeTagAndSize:function(C,B){var ee=F(C,B);return ee&&O(),ee},parseTag:function(C){var B;return F(C),B=O(),m[C.parse](B)},skipOverElement:function(C,B){var ee,se=F(C,B);return se&&(ee=O(),I+=ee),se},getMatroskaCodedNum:O,getMatroskaFloat:function(C){var B;switch(C){case 4:B=b.getFloat32(I),I+=4;break;case 8:B=b.getFloat64(I),I+=8}return B},getMatroskaUint:function(C){if(C>4)return function(se){for(var te=Math.floor(Number.MAX_SAFE_INTEGER/256),U=0,oe=0;oe<se;oe+=1){if(U>te)throw new Error("Value exceeds safe integer limit");U*=256;var ne=b.getUint8(I+oe);if(U>Number.MAX_SAFE_INTEGER-ne)throw new Error("Value exceeds safe integer limit");U+=ne}return I+=se,U}(C);for(var B=0,ee=0;ee<C;ee+=1)B<<=8,B|=255&b.getUint8(I+ee);return I+=C,B>>>0},moreData:function(){return I<b.byteLength}}}zh.__dashjs_factory_name="EBMLParser";const Gh=S.Z.getClassFactory(zh);function Jg(){var y,m,b,I,F,O,C,B,ee,se,te=this.context;function U(oe){var ne=new q.Z;return ne.setInfo(oe),ne}return y={setConfig:function(oe){if(!(oe.baseURLController&&oe.dashMetrics&&oe.mediaPlayerModel&&oe.errHandler))throw new Error(d.Z.MISSING_CONFIG_ERROR);se=oe.baseURLController,O=oe.dashMetrics,C=oe.mediaPlayerModel,I=oe.errHandler,ee=oe.errors,m=oe.debug.getLogger(y),F=oe.requestModifier},initialize:function(){B=Ir(te).create({errHandler:I,dashMetrics:O,mediaPlayerModel:C,requestModifier:F,errors:ee})},loadInitialization:function(oe,ne){return new Promise(function(_e){var me=null,Ce=oe?se.resolve(oe.path):null,Ae=oe?oe.range.split("-"):null,$={range:{start:Ae?parseFloat(Ae[0]):null,end:Ae?parseFloat(Ae[1]):null},request:me,url:Ce?Ce.url:void 0,init:!0,mediaType:ne};m.info("Start loading initialization."),me=U($),B.load({request:me,success:function(){_e(oe)},error:function(){_e(oe)}}),m.debug("Perform init load: "+$.url)})},loadSegments:function(oe,ne,_e){return new Promise(function(me){var Ce=null,Ae=oe?se.resolve(oe.path):null,$=Ae?Ae.url:void 0;Ce=U({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Ce,url:$,init:!1,mediaType:ne}),m.debug("Parsing ebml header"),B.load({request:Ce,success:function(ge){!function(fe,ve,A,Y){if(fe&&0!==fe.byteLength){var Q,z,V,G,re=Gh(te).create({data:fe}),he=A?A.split("-"):null,j=null,X={url:ve,range:{start:he?parseFloat(he[0]):null,end:he?parseFloat(he[1]):null},request:j};for(m.debug("Parse EBML header: "+X.url),re.skipOverElement(b.EBML),re.consumeTag(b.Segment),V=re.getMatroskaCodedNum(),V+=re.getPos(),G=re.getPos();re.moreData()&&!re.consumeTagAndSize(b.Segment.Info,!0);)if(!(re.skipOverElement(b.Segment.SeekHead,!0)||re.skipOverElement(b.Segment.Tracks,!0)||re.skipOverElement(b.Segment.Cues,!0)||re.skipOverElement(b.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Q;){var Re=re.getMatroskaCodedNum(!0),Be=re.getMatroskaCodedNum();Re===b.Segment.Info.Duration.tag?Q=re[b.Segment.Info.Duration.parse](Be):re.setPos(re.getPos()+Be)}j=U(X),B.load({request:j,success:function(Ue){z=function(Qe,ke,tt,Ft){var Tt,Bt,on,Le,Te;for(Bt=[],Le=0,Te=(Tt=function(nt){var ct,ht,Lt=[],qt=Gh(te).create({data:nt});for(qt.consumeTagAndSize(b.Segment.Cues);qt.moreData()&&qt.consumeTagAndSize(b.Segment.Cues.CuePoint,!0);){for((ct={}).CueTime=qt.parseTag(b.Segment.Cues.CuePoint.CueTime),ct.CueTracks=[];qt.moreData()&&qt.consumeTag(b.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Sn=qt.getMatroskaCodedNum(),In=qt.getPos();if((ht={}).Track=qt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===ht.Track)throw new Error("Cue track cannot be 0");ht.ClusterPosition=qt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ct.CueTracks.push(ht),qt.setPos(In+Sn)}if(0===ct.CueTracks.length)throw new Error("Mandatory cuetrack not found");Lt.push(ct)}if(0===Lt.length)throw new Error("mandatory cuepoint not found");return Lt}(Qe)).length;Le<Te;Le+=1)(on=new Hh.Z).duration=Le<Tt.length-1?Tt[Le+1].CueTime-Tt[Le].CueTime:Ft-Tt[Le].CueTime,on.startTime=Tt[Le].CueTime,on.timescale=1e3,on.mediaRange=Tt[Le].CueTracks[0].ClusterPosition+ke+"-"+(Le<Tt.length-1?Tt[Le+1].CueTracks[0].ClusterPosition+ke-1:tt-1),Bt.push(on);return m.debug("Parsed cues: "+Bt.length+" cues."),Bt}(Ue,G,V,Q),Y(z)},error:function(){m.error("Download Error: Cues "+X.url),Y(null)}}),m.debug("Perform cues load: "+X.url+" bytes="+X.range.start+"-"+X.range.end)}else Y(null)}(ge,$,_e,function(fe){me({segments:fe,representation:oe,error:fe?void 0:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){me({representation:oe,error:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){B&&(B.abort(),B=null)}},b={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},y}Jg.__dashjs_factory_name="WebmSegmentBaseLoader";const f0=S.Z.getSingletonFactory(Jg);function e_(y){var m,b,I,F=this.context,O=(y=y||{}).eventBus,C=y.events,B=y.dashMetrics,ee=y.mediaPlayerModel,se=y.errHandler,te=y.baseURLController,U=y.debug,oe=y.boxParser,ne=y.requestModifier,_e=y.errors;function me(Ce){return"webm"===(Ce?Ce.split("/")[1]:"").toLowerCase()}return m={initialize:function(){b.initialize(),I.initialize()},getSegmentBaseInitSegment:function(Ce){return me(Ce.representation.mimeType)?I.loadInitialization(Ce.representation,Ce.mediaType):b.loadInitialization(Ce.representation,Ce.mediaType)},getSegmentList:function(Ce){return me(Ce.mimeType)?I.loadSegments(Ce.representation,Ce.mediaType,Ce.representation?Ce.representation.indexRange:null):b.loadSegments(Ce.representation,Ce.mediaType,Ce.representation?Ce.representation.indexRange:null)},reset:function(){b.reset(),I.reset()}},b=d0(F).getInstance(),I=f0(F).getInstance(),b.setConfig({baseURLController:te,dashMetrics:B,mediaPlayerModel:ee,errHandler:se,eventBus:O,events:C,errors:_e,debug:U,boxParser:oe,requestModifier:ne}),I.setConfig({baseURLController:te,dashMetrics:B,mediaPlayerModel:ee,errHandler:se,eventBus:O,events:C,errors:_e,debug:U,requestModifier:ne}),m}e_.__dashjs_factory_name="SegmentBaseController";const h0=S.Z.getSingletonFactory(e_),t_=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},qh=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},n_=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},p0=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null},g0=function(){function y(I){var F=this;(function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")})(this,y),this.valid="/"==I[0],this.path=I.split("/").filter(function(O){return 0!==O.length}).map(function(O){var C={name:O},B=O.indexOf("[");if(-1!=B){C.name=O.substring(0,B);var ee=O.substring(B+1,O.length-1);F.valid=F.valid&&-1==ee.indexOf("[");var se=ee.indexOf("=");-1!=se?(C.attribute={name:ee.substring(1,se),value:ee.substring(se+1)},-1!=["'",'"'].indexOf(C.attribute.value[0])&&(C.attribute.value=C.attribute.value.substring(1,C.attribute.value.length-1))):C.position=parseInt(ee,10)-1}return C})}var b;return(b=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(I,F){for(var O=null,C=I,B=1,ee="MPD";B<this.path.length&&null!==C;){O=C;var se=this.path[B];if(ee=se.name,B!==this.path.length-1||!ee.startsWith("@")){var te=O[ee+"_asArray"]||[];0===te.length&&O[ee]&&te.push(O[ee]),se.position?C=te[se.position]||null:se.attribute?function(){var U=se.attribute;C=te.filter(function(oe){return oe[U.name]==U.value})[0]||null}():C=te[0]||null}B++}return null===C?null:ee.startsWith("@")?{name:ee.substring(1),leaf:C,target:C}:{name:ee,leaf:C,target:F?O:C}}}])&&function m0(y,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}(),y0=function(){function y(I,F,O){(function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")})(this,y),this.action=I,this.xpath=F,this.value=O,this.position=null}var b;return(b=[{key:"getMpdTarget",value:function(I){return this.xpath.getMpdTarget(I,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}])&&function _0(y,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}();function Dd(){var y,m;return y={getIsPatch:function(I){return I&&I.hasOwnProperty(f.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(I){return I&&I.hasOwnProperty(f.Z.PUBLISH_TIME)?new Date(I[f.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(I){return I&&I.hasOwnProperty(f.Z.ORIGINAL_PUBLISH_TIME)?new Date(I[f.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(I){return I&&I[f.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(I){return I?(I.__children||[]).map(function(F){var O=Object.keys(F)[0];if("add"!==O&&"remove"!==O&&"replace"!==O)return m.warn("Ignoring node of invalid action: ".concat(O)),null;var C=F[O],B=C.sel;if("add"===O&&C.type){if(!C.type.startsWith("@"))return m.warn("Ignoring add action for prefixed namespace declaration: ".concat(C.type,"=").concat(C.__text)),null;B="".concat(B,"/").concat(C.type)}var ee=new g0(B);if(!ee.isValid())return m.warn("Ignoring action with invalid selector: ".concat(O," - ").concat(B)),null;var se=null;ee.findsAttribute()?se=C.__text||"":"remove"!==O&&(se=C.__children.reduce(function(U,oe){var ne=Object.keys(oe)[0];return"#text"!==ne&&(U[ne]=U[ne]||[],U[ne].push(oe[ne])),U},{}));var te=new y0(O,ee,se);return"add"===O&&(te.position=C.pos),te}).filter(function(F){return!!F}):[]}},m=(0,x.Z)(this.context).getInstance().getLogger(y),y}Dd.__dashjs_factory_name="PatchManifestModel";const Yh=S.Z.getSingletonFactory(Dd);function r_(){var y,m,b,I,F,O,C,B=this.context;function ee(Q,z,V){var re=m.getAdaptationsForType(I[0].mpd.manifest,Q,z);if(!re||0===re.length)return null;if(re.length>1&&V){var he=U(V,z);if(F[V.id]&&F[V.id][z])for(var j=0,X=re.length;j<X;j++)if(se(F[V.id][z],he[j]))return re[j];for(var Re=0,Be=re.length;Re<Be;Re++)if(m.getRolesForAdaptation(re[Re]).filter(function(Ue){return Ue.value===f.Z.MAIN})[0])return re[Re]}return re[0]}function se(Q,z){if(!Q||!z)return!1;var V=Q.id===z.id,G=Q.codec===z.codec,re=Q.viewpoint===z.viewpoint,he=JSON.stringify(Q.viewpointsWithSchemeIdUri)===JSON.stringify(z.viewpointsWithSchemeIdUri),j=Q.lang===z.lang,X=Q.roles.toString()===z.roles.toString(),Re=JSON.stringify(Q.rolesWithSchemeIdUri)===JSON.stringify(z.rolesWithSchemeIdUri),Be=Q.accessibility.toString()===z.accessibility.toString(),Ue=JSON.stringify(Q.accessibilitiesWithSchemeIdUri)===JSON.stringify(z.accessibilitiesWithSchemeIdUri),Qe=Q.audioChannelConfiguration.toString()===z.audioChannelConfiguration.toString(),ke=JSON.stringify(Q.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(z.audioChannelConfigurationsWithSchemeIdUri);return V&&G&&re&&he&&j&&X&&Re&&Be&&Ue&&Qe&&ke}function te(Q,z,V,G,re,he){var X,Re,Be,Ue,Qe,ke=[];if(!G||0===G.length)return[];var tt=m.getAdaptationsForPeriod(z);for(Be=0,Qe=G.length;Be<Qe;Be++)if(X=$(tt[Re=m.getIndexForAdaptation(G[Be],Q,V.index)]),he){var Ft=X.accessibility.length;for(Ue=0;Ue<Ft;Ue++)if(X){var wt=X.accessibility[Ue];if(0===wt.indexOf("cea-608:")){var Tt=wt.substring(8).split(";");if("CC"===Tt[0].substring(0,2))for(Ue=0;Ue<Tt.length;Ue++)X||(X=$.call(this,tt[Re])),ge(X,Tt[Ue].substring(0,3),Tt[Ue].substring(4)),ke.push(X),X=null;else for(Ue=0;Ue<Tt.length;Ue++)X||(X=$.call(this,tt[Re])),ge(X,"CC"+(Ue+1),Tt[Ue]),ke.push(X),X=null}else 0===wt.indexOf("cea-608")&&(ge(X,O.CC1,"eng"),ke.push(X),X=null)}}else re===O.IMAGE?(X.type=O.IMAGE,ke.push(X),X=null):X&&ke.push(X);return ke}function U(Q,z,V){var G=I,re=V,he=[];if(re)ve(),G=oe(re);else{if(!(I.length>0))return he;re=I[0].mpd.manifest}var j=Ae(Q,G),X=m.getAdaptationsForType(re,Q?Q.index:null,z);return he=te(re,j,Q,X,z),z===O.TEXT&&(X=m.getAdaptationsForType(re,Q?Q.index:null,O.VIDEO),he=he.concat(te(re,j,Q,X,z,!0))),he}function oe(Q){var z=ne(Q);return m.getRegularPeriods(z)}function ne(Q){var z=me(Q);return m.getMpd(z)}function _e(){I=[],F={}}function me(Q){return Q||(I.length>0?I[0].mpd.manifest:null)}function Ce(Q){try{var z=Ae(Q.streamInfo,I),V=m.getAdaptationsForPeriod(z);return Q&&Q.streamInfo&&void 0!==Q.streamInfo.id&&V?V[Q.index]:null}catch{return null}}function Ae(Q,z){for(var V=z.length,G=0;G<V;G++){var re=z[G];if(Q&&Q.id===re.id)return re}return null}function $(Q){if(!Q)return null;var z,V,G,re,he,j=new qh,X=Q.period.mpd.manifest.Period_asArray[Q.period.index].AdaptationSet_asArray[Q.index];if(j.id=Q.id,j.index=Q.index,j.type=Q.type,j.streamInfo=fe(Q.period),j.representationCount=m.getRepresentationCount(X),j.labels=m.getLabelsForAdaptation(X),j.lang=m.getLanguageForAdaptation(X),j.segmentAlignment=m.getSegmentAlignment(X),j.subSegmentAlignment=m.getSubSegmentAlignment(X),z=m.getViewpointForAdaptation(X),j.viewpoint=z.length?z[0].value:void 0,j.viewpointsWithSchemeIdUri=z,he=m.getAccessibilityForAdaptation(X),j.accessibility=he.map(function(ke){var tt=ke.value,Ft=tt;return ke.schemeIdUri&&ke.schemeIdUri.search("cea-608")>=0&&void 0!==C&&(Ft=tt?"cea-608:"+tt:"cea-608",j.embeddedCaptions=!0),Ft}),j.accessibilitiesWithSchemeIdUri=he,V=m.getAudioChannelConfigurationForAdaptation(X),j.audioChannelConfiguration=V.map(function(ke){return ke.value}),j.audioChannelConfigurationsWithSchemeIdUri=V,0===j.audioChannelConfiguration.length&&Array.isArray(X.Representation_asArray)&&X.Representation_asArray.length>0&&(G=m.getAudioChannelConfigurationForRepresentation(X.Representation_asArray[0]),j.audioChannelConfiguration=G.map(function(ke){return ke.value}),j.audioChannelConfigurationsWithSchemeIdUri=G),re=m.getRolesForAdaptation(X),j.roles=re.map(function(ke){return ke.value}),j.rolesWithSchemeIdUri=re,j.codec=m.getCodec(X),j.mimeType=m.getMimeType(X),j.contentProtection=m.getContentProtectionData(X),j.bitrateList=m.getBitrateListForAdaptation(X),j.selectionPriority=m.getSelectionPriority(X),j.contentProtection){var Re=j.contentProtection.map(function(ke){return m.getKID(ke)}).filter(function(ke){return null!==ke});if(Re.length){var Be=Re[0];j.contentProtection.forEach(function(ke){ke.keyId=Be})}}if(j.isText=m.getIsText(X),j.supplementalProperties=m.getSupplementalPropertiesForAdaptation(X),(!j.supplementalProperties||0===Object.keys(j.supplementalProperties).length)&&Array.isArray(X.Representation_asArray)&&X.Representation_asArray.length>0){var Ue=X.Representation_asArray.map(function(ke){return m.getSupplementalPropertiesForRepresentation(ke)});Ue.every(function(ke){return JSON.stringify(ke)===JSON.stringify(Ue[0])})&&(j.supplementalProperties=Ue[0])}if(j.supplementalPropertiesAsArray=m.getSupplementalPropertiesAsArrayForAdaptation(X),(!j.supplementalPropertiesAsArray||0===j.supplementalPropertiesAsArray.length)&&Array.isArray(X.Representation_asArray)&&X.Representation_asArray.length>0){var Qe=X.Representation_asArray.map(function(ke){return m.getSupplementalPropertiesAsArrayForRepresentation(ke)});Qe.every(function(ke){return JSON.stringify(ke)===JSON.stringify(Qe[0])})&&(j.supplementalPropertiesAsArray=Qe[0])}return j.isFragmented=m.getIsFragmented(X),j.isEmbedded=!1,j}function ge(Q,z,V){Q.id=z,Q.index=100+parseInt(z.substring(2,3)),Q.type=O.TEXT,Q.codec="cea-608-in-SEI",Q.isEmbedded=!0,Q.isFragmented=!1,Q.lang=jl()(V),Q.roles=["caption"],Q.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function fe(Q){var z,V,G=new n_;return G.id=Q.id,G.index=Q.index,G.start=Q.start,G.duration=Q.duration,G.manifestInfo=(z=Q.mpd,(V=new p0).dvrWindowSize=z.timeShiftBufferDepth,V.loadedTime=z.manifest.loadedTime,V.availableFrom=z.availabilityStartTime,V.minBufferTime=z.manifest.minBufferTime,V.maxFragmentDuration=z.maxSegmentDuration,V.duration=m.getDuration(z.manifest),V.isDynamic=m.getIsDynamic(z.manifest),V.serviceDescriptions=m.getServiceDescriptions(z.manifest),V.protocol=z.manifest.protocol,V),G.isLast=1===Q.mpd.manifest.Period_asArray.length||Math.abs(G.start+G.duration-G.manifestInfo.duration)<1,G}function ve(){if(!O)throw new Error("setConfig function has to be called previously")}function A(Q){return I.length>0?I[0].mpd.manifest.Period_asArray[Q]:null}function Y(Q,z,V){var G,re,he,j,X;if(Q)for(G=Q.AdaptationSet_asArray,j=0;j<G.length;j+=1)for(he=G[j].Representation_asArray,X=0;X<he.length;X+=1)if(z===(re=he[X]).id)return V?X:re;return null}return y={getBandwidthForRepresentation:function(Q,z){var V;return(V=Y(A(z),Q))?V.bandwidth:null},getIndexForRepresentation:function(Q,z){return null!==(re=Y(A(z),Q,!0))?re:-1;var re},getMaxIndexForBufferType:function(Q,z){return function(V,G){var re,he,j,X;if(!V||!G)return-1;for(he=V.AdaptationSet_asArray,X=0;X<he.length;X+=1)if(j=(re=he[X]).Representation_asArray,m.getIsTypeOf(re,G))return j.length;return-1}(A(z),Q)},convertRepresentationToRepresentationInfo:function(Q){if(Q){var z=new t_,G=m.getRepresentationFor(Q.index,Q.adaptation.period.mpd.manifest.Period_asArray[Q.adaptation.period.index].AdaptationSet_asArray[Q.adaptation.index]);return z.id=Q.id,z.quality=Q.index,z.bandwidth=m.getBandwidth(G),z.fragmentDuration=Q.segmentDuration||(Q.segments&&Q.segments.length>0?Q.segments[0].duration:NaN),z.MSETimeOffset=Q.MSETimeOffset,z.mediaInfo=$(Q.adaptation),z}return null},getStreamsInfo:function(Q,z){var V=[],G=I;if(Q&&(ve(),G=oe(Q)),G.length>0){(!z||z>G.length)&&(z=G.length);for(var re=0;re<z;re++)V.push(fe(G[re]))}return V},getMediaInfoForType:function(Q,z){if(0===I.length||!Q)return null;var V=Ae(Q,I);if(!V)return null;var G=m.getAdaptationsForPeriod(V),re=ee(Q.index,z,Q);return re?$(G[m.getIndexForAdaptation(re,I[0].mpd.manifest,Q.index)]):null},getAllMediaInfoForType:U,getAdaptationForType:ee,getRealAdaptation:function(Q,z){var V,G,re=Ae(Q,I);return V=z?z.id:null,I.length>0&&re&&(G=V?m.getAdaptationForId(V,I[0].mpd.manifest,re.index):m.getAdaptationForIndex(z?z.index:null,I[0].mpd.manifest,re.index)),G},getProducerReferenceTimes:function(Q,z){var V,G,re=Ae(Q,I);return V=z?z.id:null,I.length>0&&re&&(G=V?m.getAdaptationForId(V,I[0].mpd.manifest,re.index):m.getAdaptationForIndex(z?z.index:null,I[0].mpd.manifest,re.index)),G?m.getProducerReferenceTimesForAdaptation(G):[]},getRealPeriodByIndex:function(Q){return m.getRealPeriodForIndex(Q,I[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(Q){try{return m.getEssentialPropertiesForRepresentation(Q)}catch{return[]}},getVoRepresentations:function(Q){var z=Ce(Q);return m.getRepresentationsForAdaptation(z)},getEventsFor:function(Q,z,V){var G=[];if(I.length>0){var re=I[0].mpd.manifest;if(Q instanceof n_){var he=Ae(Q,I);G=m.getEventsForPeriod(he)}else if(Q instanceof qh){var j=Ae(V,I);G=m.getEventStreamForAdaptationSet(re,Ce(Q),j)}else if(Q instanceof t_){var X=Ae(V,I);G=m.getEventStreamForRepresentation(re,z,X)}}return G},getEvent:function(Q,z,V,G){try{if(!Q||!z||isNaN(V)||!G)return null;var re=Q.scheme_id_uri,he=Q.value;if(!z[re+"/"+he])return null;var j,X=new Wi,Re=Q.timescale||1,Be=G.adaptation.period.start,Ue=z[re+"/"+he],Qe=isNaN(G.presentationTimeOffset)?isNaN(Ue.presentationTimeOffset)?0:Ue.presentationTimeOffset:G.presentationTimeOffset,ke=Q.presentation_time_delta/Re;j=0===Q.version?Be+V-Qe+ke:Be-Qe+ke;var tt=Q.event_duration/Re,Ft=Q.id,wt=Q.message_data;return X.eventStream=Ue,X.eventStream.value=he,X.eventStream.timescale=Re,X.duration=tt,X.id=Ft,X.calculatedPresentationTime=j,X.messageData=wt,X.presentationTimeDelta=ke,X}catch{return null}},getMpd:ne,setConfig:function(Q){Q&&(Q.constants&&(O=Q.constants),Q.cea608parser&&(C=Q.cea608parser),Q.errHandler&&m.setConfig({errHandler:Q.errHandler}),Q.BASE64&&m.setConfig({BASE64:Q.BASE64}))},updatePeriods:function(Q){if(!Q)return null;ve(),I=oe(Q)},getIsTextTrack:function(Q){return m.getIsText(Q)},getUTCTimingSources:function(){var Q=me();return m.getUTCTimingSources(Q)},getSuggestedPresentationDelay:function(){return m.getSuggestedPresentationDelay(I.length>0?I[0].mpd:null)},getAvailabilityStartTime:function(Q){var z=ne(Q);return m.getAvailabilityStartTime(z)},getIsTypeOf:function(Q,z){return m.getIsTypeOf(Q,z)},getIsDynamic:function(Q){var z=me(Q);return m.getIsDynamic(z)},getDuration:function(Q){var z=me(Q);return m.getDuration(z)},getRegularPeriods:oe,getContentSteering:function(Q){return m.getContentSteering(Q)},getLocation:function(Q){return m.getLocation(Q)},getPatchLocation:function(Q){var z=m.getPatchLocation(Q),V=m.getPublishTime(Q);return z&&0!==z.length&&V?z.filter(function(G){return isNaN(G.ttl)||V.getTime()+G.ttl>(new Date).getTime()}):[]},getManifestUpdatePeriod:function(Q){return m.getManifestUpdatePeriod(Q,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function(Q){return m.getPublishTime(Q)},getIsDVB:function(Q){return m.hasProfile(Q,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(Q){return b.getIsPatch(Q)},getBaseURLsFromElement:function(Q){return m.getBaseURLsFromElement(Q)},getRepresentationSortFunction:function(){return m.getRepresentationSortFunction()},getCodec:function(Q,z,V){return m.getCodec(Q,z,V)},getPeriodById:function(Q){if(!Q||0===I.length)return null;var z=I.filter(function(V){return V.id===Q});return z&&z.length>0?z[0]:null},setCurrentMediaInfo:function(Q,z,V){F[Q]=F[Q]||{},F[Q][z]=F[Q][z]||{},F[Q][z]=V},isPatchValid:function(Q,z){var V=m.getId(Q),G=b.getMpdId(z),re=m.getPublishTime(Q),he=b.getPublishTime(z),j=b.getOriginalPublishTime(z);return!!(V&&G&&V==G&&re&&j&&re.getTime()==j.getTime()&&he&&re.getTime()<he.getTime())},applyPatchToManifest:function(Q,z){b.getPatchOperations(z).forEach(function(V){var G=V.getMpdTarget(Q);if(null!==G){var re=G.name,he=G.target,j=G.leaf;if(V.xpath.findsAttribute())switch(V.action){case"add":case"replace":he[re]=V.value;break;case"remove":delete he[re]}else{var X=(he[re+"_asArray"]||[]).indexOf(j),Re="prepend"===V.position||"before"===V.position;if(("remove"===V.action||"replace"===V.action)&&(delete he[re],-1!=X)){var Be=he[re+"_asArray"];Be.splice(X,1),Be.length>1?he[re]=Be:1==Be.length?he[re]=Be[0]:delete he[re+"_asArray"]}"add"!==V.action&&"replace"!==V.action||Object.keys(V.value).forEach(function(Ue){var Qe=V.value[Ue],ke=he[Ue+"_asArray"]||[];0===ke.length&&he[Ue]&&ke.push(he[Ue]),0===ke.length?ke=Qe:ke.splice.apply(ke,[Ue==re&&-1!=X?X+(Re?0:1)+("replace"==V.action?-1:0):Re?0:ke.length,0].concat(Qe)),he[Ue+"_asArray"]=ke,he[Ue]=1==ke.length?ke[0]:ke})}}})},areMediaInfosEqual:se,reset:_e},m=Un(B).getInstance(),b=Yh(B).getInstance(),_e(),y}r_.__dashjs_factory_name="DashAdapter";const v0=S.Z.getSingletonFactory(r_);var ka=function(){function y(){!function(I,F){if(!(I instanceof F))throw new TypeError("Cannot call a class as a function")}(this,y)}var b;return(b=[{key:"round10",value:function(I,F){return O="round",C=I,void 0===(B=F)||0==+B?Math[O](C):(B=+B,null===(C=+C)||isNaN(C)||"number"!=typeof B||B%1!=0?NaN:(C=C.toString().split("e"),+((C=(C=Math[O](+(C[0]+"e"+(C[1]?+C[1]-B:-B)))).toString().split("e"))[0]+"e"+(C[1]?+C[1]+B:B))));var O,C,B}}])&&function b0(y,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y,b),y}();const $h=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},E0=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.t=null,this.mt=null,this.to=null,this.lto=null},Id=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.t=null,this.level=null},Wh=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.target=null,this.state=N.Z.BUFFER_EMPTY},i_=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.time=null,this.range=null,this.manifestInfo=null},o_=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.time=null,this.droppedFrames=null};function Md(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}var w0=function y(){Md(this,y),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},s_=function y(){Md(this,y),this.id=null,this.index=null,this.start=null,this.duration=null},ys=function y(){Md(this,y),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};const tu=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},Hi=function y(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.loadingRequests=[],this.executedRequests=[]};function Ql(y){var m,b,I=(y=y||{}).settings,O=(0,T.Z)(this.context).getInstance();function C(){O.trigger(g.Z.METRICS_CHANGED)}function B(ne){O.trigger(g.Z.METRIC_CHANGED,{mediaType:ne}),C()}function ee(ne,_e,me){O.trigger(g.Z.METRIC_UPDATED,{mediaType:ne,metric:_e,value:me}),B(ne)}function se(ne,_e,me){O.trigger(g.Z.METRIC_ADDED,{mediaType:ne,metric:_e,value:me}),B(ne)}function te(ne,_e){var me=null;return ne&&(b.hasOwnProperty(ne)?me=b[ne]:_e||(me=new $h,b[ne]=me)),me}function U(ne,_e,me){var Ce=te(ne);null!==Ce&&(Ce[_e].push(me),Ce[_e].length>I.get().streaming.metrics.maxListDepth&&Ce[_e].shift())}function oe(ne,_e,me){U(ne,_e,me),se(ne,_e,me)}return m={clearCurrentMetricsForType:function(ne){delete b[ne],B(ne)},clearAllCurrentMetrics:function(){b={},C()},getMetricsFor:te,addHttpRequest:function ne(_e,me,Ce,Ae,$,ge,fe,ve,A,Y,Q,z,V,G,re,he,j){var X=new je.w;ge&&ge!==Ae&&(ne(_e,null,Ce,Ae,$,null,null,ve,A,null,null,null,V,null,null,he,j),X.actualurl=ge),X.tcpid=me,X.type=Ce,X.url=Ae,X.range=ve,X.trequest=A,X.tresponse=Y,X.responsecode=z,X.cmsd=j,X._tfinish=Q,X._stream=_e,X._mediaduration=V,X._quality=$,X._responseHeaders=G,X._serviceLocation=fe,X._fileLoaderType=he,re?re.forEach(function(Re){var Be,Ue,Qe,ke,tt;Be=X,Ue=Re.s,Qe=Re.d,ke=Re.b,(tt=new je.O).s=Ue,tt.d=Qe,tt.b=ke,Be.trace.push(tt),Be.interval||(Be.interval=0),Be.interval+=Qe}):(delete X.interval,delete X.trace),oe(_e,N.Z.HTTP_REQUEST,X)},addRepresentationSwitch:function(ne,_e,me,Ce,Ae){var $=new E0;$.t=_e,$.mt=me,$.to=Ce,Ae?$.lto=Ae:delete $.lto,oe(ne,N.Z.TRACK_SWITCH,$)},addBufferLevel:function(ne,_e,me){var Ce=new Id;Ce.t=_e,Ce.level=me,oe(ne,N.Z.BUFFER_LEVEL,Ce)},addBufferState:function(ne,_e,me){var Ce=new Wh;Ce.target=me,Ce.state=_e,oe(ne,N.Z.BUFFER_STATE,Ce)},addDVRInfo:function(ne,_e,me,Ce){var Ae=new i_;Ae.time=_e,Ae.range=Ce,Ae.manifestInfo=me,oe(ne,N.Z.DVR_INFO,Ae)},addDroppedFrames:function(ne,_e){var me=new o_,Ce=te(ne).DroppedFrames;_e&&(me.time=_e.creationTime,me.droppedFrames=_e.droppedVideoFrames,Ce.length>0&&Ce[Ce.length-1]==me||oe(ne,N.Z.DROPPED_FRAMES,me))},addSchedulingInfo:function(ne,_e,me,Ce,Ae,$,ge,fe,ve){var A=new tu;A.mediaType=ne,A.t=_e,A.type=me,A.startTime=Ce,A.availabilityStartTime=Ae,A.duration=$,A.quality=ge,A.range=fe,A.state=ve,oe(ne,N.Z.SCHEDULING_INFO,A)},addRequestsQueue:function(ne,_e,me){var Ce=new Hi;Ce.loadingRequests=_e,Ce.executedRequests=me,te(ne).RequestsQueue=Ce,se(ne,N.Z.REQUESTS_QUEUE,Ce)},addManifestUpdate:function(ne,_e,me,Ce,Ae,$,ge,fe,ve,A){var Y=new w0;Y.mediaType=ne,Y.type=_e,Y.requestTime=me,Y.fetchTime=Ce,Y.availabilityStartTime=Ae,Y.presentationStartTime=$,Y.clientTimeOffset=ge,Y.currentTime=fe,Y.buffered=ve,Y.latency=A,U(d.Z.STREAM,N.Z.MANIFEST_UPDATE,Y),se(ne,N.Z.MANIFEST_UPDATE,Y)},updateManifestUpdateInfo:function(ne,_e){if(ne){for(var me in _e)ne[me]=_e[me];ee(ne.mediaType,N.Z.MANIFEST_UPDATE,ne)}},addManifestUpdateStreamInfo:function(ne,_e,me,Ce,Ae){if(ne){var $=new s_;$.id=_e,$.index=me,$.start=Ce,$.duration=Ae,ne.streamInfo.push($),ee(ne.mediaType,N.Z.MANIFEST_UPDATE_STREAM_INFO,ne)}},addManifestUpdateRepresentationInfo:function(ne,_e,me,Ce,Ae,$,ge,fe){if(ne&&ne.representationInfo){var ve=new ys;ve.id=_e,ve.index=me,ve.streamIndex=Ce,ve.mediaType=Ae,ve.startNumber=ge,ve.fragmentInfoType=fe,ve.presentationTimeOffset=$,ne.representationInfo.push(ve),ee(ne.mediaType,N.Z.MANIFEST_UPDATE_TRACK_INFO,ne)}},addPlayList:function(ne){ne.trace&&Array.isArray(ne.trace)?ne.trace.forEach(function(_e){_e.hasOwnProperty("subreplevel")&&!_e.subreplevel&&delete _e.subreplevel}):delete ne.trace,oe(d.Z.STREAM,N.Z.PLAY_LIST,ne)},addDVBErrors:function(ne){oe(d.Z.STREAM,N.Z.DVB_ERRORS,ne)}},b={},m}Ql.__dashjs_factory_name="MetricsModel";const Fa=S.Z.getSingletonFactory(Ql);function nu(y){var m,b,I,F,C=(y=y||{}).metricsModel;function B(te){var U=C.getMetricsFor(te,!0);if(!U)return null;var oe,ne=U.HttpList,_e=null;if(!ne||ne.length<=0)return null;for(oe=ne.length-1;oe>=0;){if(ne[oe].responsecode){_e=ne[oe];break}oe--}return _e}function ee(te){var U=C.getMetricsFor(te,!0);return U&&U.HttpList?U.HttpList:[]}function se(te,U){if(!te)return null;var oe=te[U];return oe&&0!==oe.length?oe[oe.length-1]:null}return m={getCurrentRepresentationSwitch:function(te){return se(C.getMetricsFor(te,!0),N.Z.TRACK_SWITCH)},getCurrentBufferState:function(te){return se(C.getMetricsFor(te,!0),N.Z.BUFFER_STATE)},getCurrentBufferLevel:function(te){var U=se(C.getMetricsFor(te,!0),N.Z.BUFFER_LEVEL);return U?ka.round10(U.level/1e3,-3):0},getCurrentHttpRequest:B,getHttpRequests:ee,getCurrentDroppedFrames:function(){return se(C.getMetricsFor(d.Z.VIDEO,!0),N.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(te){return se(C.getMetricsFor(te,!0),N.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(te){return se(te?C.getMetricsFor(te,!0):C.getMetricsFor(d.Z.VIDEO,!0)||C.getMetricsFor(d.Z.AUDIO,!0),N.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return se(C.getMetricsFor(d.Z.STREAM),N.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(te,U){if(!U)return null;var oe={},ne=B(te);ne&&(oe=rr.Z.parseHttpHeaders(ne._responseHeaders));var _e=oe[U.toLowerCase()];return void 0===_e?null:_e},getLatestMPDRequestHeaderValueByID:function(te){if(!te)return null;var U,oe,ne,_e={};for(ne=(U=ee(d.Z.STREAM)).length-1;ne>=0;ne--)if((oe=U[ne]).type===je.w.MPD_TYPE){_e=rr.Z.parseHttpHeaders(oe._responseHeaders);break}var me=_e[te.toLowerCase()];return void 0===me?null:me},addRepresentationSwitch:function(te,U,oe,ne,_e){C.addRepresentationSwitch(te,U,oe,ne,_e)},addDVRInfo:function(te,U,oe,ne){C.addDVRInfo(te,U,oe,ne)},updateManifestUpdateInfo:function(te){var U=this.getCurrentManifestUpdate();C.updateManifestUpdateInfo(U,te)},addManifestUpdateStreamInfo:function(te){if(te){var U=this.getCurrentManifestUpdate();C.addManifestUpdateStreamInfo(U,te.id,te.index,te.start,te.duration)}},addManifestUpdateRepresentationInfo:function(te,U){if(te){var oe=this.getCurrentManifestUpdate();C.addManifestUpdateRepresentationInfo(oe,te.id,te.index,te.streamIndex,U,te.presentationTimeOffset,te.startNumber,te.fragmentInfoType)}},addManifestUpdate:function(te){C.addManifestUpdate(d.Z.STREAM,te.type,te.requestStartDate,te.requestEndDate)},addHttpRequest:function(te,U,oe,ne,_e,me){C.addHttpRequest(te.mediaType,null,te.type,te.url,te.quality,U,te.serviceLocation||null,te.range||null,te.requestStartDate,te.firstByteDate,te.requestEndDate,oe,te.duration,ne,_e,te.fileLoaderType,me)},addSchedulingInfo:function(te,U){C.addSchedulingInfo(te.mediaType,new Date,te.type,te.startTime,te.availabilityStartTime,te.duration,te.quality,te.range,U)},addRequestsQueue:function(te,U,oe){C.addRequestsQueue(te,U,oe)},addBufferLevel:function(te,U,oe){C.addBufferLevel(te,U,oe)},addBufferState:function(te,U,oe){C.addBufferState(te,U,oe)},addDroppedFrames:function(te){C.addDroppedFrames(d.Z.VIDEO,te)},addPlayList:function(){F&&(C.addPlayList(F),F=null)},addDVBErrors:function(te){C.addDVBErrors(te)},createPlaylistMetrics:function(te,U){(F=new Fe).start=new Date,F.mstart=te,F.starttype=U},createPlaylistTraceMetrics:function(te,U,oe){!0===b&&(b=!1,(I=new et).representationid=te,I.start=new Date,I.mstart=U,I.playbackspeed=null!==oe?oe.toString():null)},updatePlayListTraceMetrics:function(te){if(I)for(var U in I)I[U]=te[U]},pushPlayListTraceMetrics:function(te,U){if(!1===b&&F&&I&&I.start){var oe=I.start,ne=te.getTime()-oe.getTime();I.duration=ne,I.stopreason=U,F.trace.push(I),b=!0}},clearAllCurrentMetrics:function(){C.clearAllCurrentMetrics()}},C=C||Fa(this.context).getInstance({settings:y.settings}),b=!0,I=null,F=null,m}nu.__dashjs_factory_name="DashMetrics";const Rd=S.Z.getSingletonFactory(nu);function Jl(){var y,m,b,I,F=this.context,O=(0,T.Z)(F).getInstance(),C=(0,Mt.Z)(F).getInstance();function B(Ae){I=Ae}function ee(Ae,$,ge,fe){var ve,A=$.adaptation.period.mpd,Y=A.availabilityStartTime;if(fe)ve=ge&&A.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Y.getTime()+1e3*(Ae+A.timeShiftBufferDepth)):A.availabilityEndTime;else if(ge){var Q=$.availabilityTimeOffset;ve=new Date(Y.getTime()+1e3*(Ae-Q))}else ve=Y;return ve}function se(Ae,$){return(Ae.getTime()-$.mpd.availabilityStartTime.getTime()+1e3*I)/1e3}function te(Ae,$){return Ae+($.adaptation.period.start-$.presentationTimeOffset)}function U(Ae){var $={start:NaN,end:NaN},ge=Ae[0].getAdapter().getRegularPeriods()[0],fe=se(new Date,ge);if(!Ae||0===Ae.length)return{range:$,now:fe};Ae.forEach(function(A){var Y=A.getAdapter(),Q=Y.getMediaInfoForType(A.getStreamInfo(),d.Z.VIDEO)||Y.getMediaInfoForType(A.getStreamInfo(),d.Z.AUDIO),z=Y.getVoRepresentations(Q)[0],V={start:NaN,end:NaN};if(z)if(z.segmentInfoType===f.Z.SEGMENT_TIMELINE)V=function(re){var he,j,X,Re,Ue=m.getRepresentationFor(re.index,re.adaptation.period.mpd.manifest.Period_asArray[re.adaptation.period.index].AdaptationSet_asArray[re.adaptation.index]),Qe=Ue.SegmentTemplate||Ue.SegmentList,tt=Qe.timescale,Ft=Qe.SegmentTimeline.S_asArray,wt={start:0,end:0},Tt=Ft[0].t,Bt=!isNaN(Tt),on=Bt?Tt:0,Le=0;for(Bt&&(wt.start=te(on/tt,re)),X=0,Re=Ft.length;X<Re;X++)j=0,(he=Ft[X]).hasOwnProperty("r")&&(j=he.r),Le+=he.d*(1+j);return wt.end=te((on+Le)/tt,re),wt}(z);else{var G=z.adaptation.period;V.start=G.start,V.end=Math.max(fe,G.start+G.duration)}!isNaN(V.start)&&(isNaN($.start)||$.start>V.start)&&($.start=V.start),!isNaN(V.end)&&(isNaN($.end)||$.end<V.end)&&($.end=V.end)}),$.end=Math.min(fe,$.end);var ve=ne(Ae,$.end,!0);return $.end=isNaN(ve)?$.end:ve,$.start=ge&&ge.mpd&&ge.mpd.timeShiftBufferDepth&&!isNaN(ge.mpd.timeShiftBufferDepth)&&!isNaN($.end)?Math.max($.end-ge.mpd.timeShiftBufferDepth,$.start):$.start,$.start=ne(Ae,$.start),{range:$,now:fe}}function oe(Ae,$){b=Ae-$.end}function ne(Ae,$){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var fe=0,ve=!1,A=NaN;!ve&&fe<Ae.length;){var Y=Ae[fe].getStreamInfo();Y.start<=$&&(!isFinite(Y.duration)||Y.start+Y.duration>=$)?(A=$,ve=!0):!ge&&Y.start>$&&(isNaN(A)||Y.start<A)?A=Y.start:ge&&Y.start+Y.duration<$&&(isNaN(A)||Y.start+Y.duration>A)&&(A=Y.start+Y.duration),fe+=1}return A}catch{return $}}function _e(Ae){void 0===Ae.offset||isNaN(Ae.offset)||B(Ae.offset/1e3)}function me(){I=0,b=0}function Ce(){O.off(g.Z.UPDATE_TIME_SYNC_OFFSET,_e,this),me()}return y={initialize:function(){me(),O.on(g.Z.UPDATE_TIME_SYNC_OFFSET,_e,this)},getClientTimeOffset:function(){return I},setClientTimeOffset:B,getClientReferenceTime:function(){return Date.now()-1e3*b+1e3*I},calcAvailabilityStartTimeFromPresentationTime:function(Ae,$,ge){return ee(Ae,$,ge)},calcAvailabilityEndTimeFromPresentationTime:function(Ae,$,ge){return ee(Ae,$,ge,!0)},calcPresentationTimeFromWallTime:se,calcPresentationTimeFromMediaTime:te,calcPeriodRelativeTimeFromMpdRelativeTime:function(Ae,$){return $-Ae.adaptation.period.start},calcMediaTimeFromPresentationTime:function(Ae,$){return Ae-$.adaptation.period.start+$.presentationTimeOffset},calcWallTimeForSegment:function(Ae,$){var fe,ve;return $&&(fe=Ae.presentationStartTime+Ae.representation.adaptation.period.mpd.suggestedPresentationDelay,ve=new Date(Ae.availabilityStartTime.getTime()+1e3*fe)),ve},calcTimeShiftBufferWindow:function(Ae,$){if(!$)return ve={start:NaN,end:NaN},A=0,Y=NaN,Ae.forEach(function(Q){var z=Q.getStreamInfo();A+=z.duration,(isNaN(Y)||z.start<Y)&&(Y=z.start)}),ve.start=Y,ve.end=Y+A,ve;var ve,A,Y;if(C.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var ge=U(Ae);return oe(ge.now,ge.range),ge.range}return function(fe){var ve={start:NaN,end:NaN};if(!fe||0===fe.length)return ve;var A=fe[0].getAdapter().getRegularPeriods()[0],Y=se(new Date,A),Q=A.mpd.timeShiftBufferDepth,z=isNaN(Q)?0:Y-Q;if(ve.start=ne(fe,z),ve.end=!isNaN(ve.start)&&Y<ve.start?Y:ne(fe,Y,!0),!isNaN(Q)&&ve.end<Y-Q&&(ve.end=NaN),C.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var V=U(fe);if(V.range.end<ve.start)return O.trigger(h.Z.CONFORMANCE_VIOLATION,{level:jr.LEVELS.WARNING,event:jr.EVENTS.INVALID_DVR_WINDOW}),oe(V.now,V.range),V.range}return ve}(Ae)},reset:Ce},m=Un(F).getInstance(),Ce(),y}Jl.__dashjs_factory_name="TimelineConverter";const a_=S.Z.getSingletonFactory(Jl);var xd=L(4593),ec=L(6934);function tc(y){return(tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function Nd(y,m){return(Nd=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,m)}function iu(y){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}const vs=function(y){!function(O,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Nd(O,C)}(F,y);var m,b,I=(m=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,C=iu(m);if(b){var B=iu(this).constructor;O=Reflect.construct(C,arguments,B)}else O=C.apply(this,arguments);return function ru(y,m){return!m||"object"!==tc(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):m}(this,O)});function F(){var O;return function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}(this,F),(O=I.call(this)).captionData=null,O.label=null,O.defaultTrack=!1,O.kind=null,O.isFragmented=!1,O.isEmbedded=!1,O.isTTML=null,O}return F}(qh);var T0=L(2295);function Ho(){var y=0;function m(B){for(var ee="",se=0;se<B.length;++se)ee+=B[se].uchar;return ee.length-ee.replace(/^\s+/,"").length}function b(B){return"left: "+3.125*B.x+"%; top: "+6.66*B.y1+"%; width: "+(100-3.125*B.x)+"%; height: "+6.66*Math.max(B.y2-1-B.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function I(B){return"red"===B?"rgb(255, 0, 0)":"green"===B?"rgb(0, 255, 0)":"blue"===B?"rgb(0, 0, 255)":"cyan"===B?"rgb(0, 255, 255)":"magenta"===B?"rgb(255, 0, 255)":"yellow"===B?"rgb(255, 255, 0)":"white"===B?"rgb(255, 255, 255)":"black"===B?"rgb(0, 0, 0)":B}function F(B,ee){var se=B.videoHeight/15;return ee?"font-size: "+se+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(ee.foreground?I(ee.foreground):"rgb(255, 255, 255)")+"; font-style: "+(ee.italics?"italic":"normal")+"; text-decoration: "+(ee.underline?"underline":"none")+"; white-space: pre; background-color: "+(ee.background?I(ee.background):"transparent")+";":"font-size: "+se+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function O(B){return B.replace(/^\s+/g,"")}function C(B){return B.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(B,ee,se,te){var U,oe,ne=null,_e=!1,me=-1,Ce={start:ee,end:se,spans:[]},Ae="style_cea608_white_black",$={},ge={},fe=[];for(U=0;U<15;++U){var ve=te.rows[U],A="",Y=null;if(!1===ve.isEmpty()){var Q=m(ve.chars);null===ne&&(ne={x:Q,y1:U,y2:U+1,p:[]}),Q!==me&&_e&&(ne.p.push(Ce),Ce={start:ee,end:se,spans:[]},ne.y2=U,ne.name="region_"+ne.x+"_"+ne.y1+"_"+ne.y2,!1===$.hasOwnProperty(ne.name)?(fe.push(ne),$[ne.name]=ne):$[ne.name].p.contat(ne.p),ne={x:Q,y1:U,y2:U+1,p:[]});for(var z=0;z<ve.chars.length;++z){var V=ve.chars[z],G=V.penState;if(null===Y||!G.equals(Y)){A.trim().length>0&&(Ce.spans.push({name:Ae,line:A,row:U}),A="");var re="style_cea608_"+G.foreground+"_"+G.background;G.underline&&(re+="_underline"),G.italics&&(re+="_italics"),ge.hasOwnProperty(re)||(ge[re]=JSON.parse(JSON.stringify(G))),Y=G,Ae=re}A+=V.uchar}A.trim().length>0&&Ce.spans.push({name:Ae,line:A,row:U}),_e=!0,me=Q}else _e=!1,me=-1,ne&&(ne.p.push(Ce),Ce={start:ee,end:se,spans:[]},ne.y2=U,ne.name="region_"+ne.x+"_"+ne.y1+"_"+ne.y2,!1===$.hasOwnProperty(ne.name)?(fe.push(ne),$[ne.name]=ne):$[ne.name].p.contat(ne.p),ne=null)}ne&&(ne.p.push(Ce),ne.y2=U+1,ne.name="region_"+ne.x+"_"+ne.y1+"_"+ne.y2,!1===$.hasOwnProperty(ne.name)?(fe.push(ne),$[ne.name]=ne):$[ne.name].p.contat(ne.p),ne=null);var he=[];for(U=0;U<fe.length;++U){var j=fe[U],X="sub_cea608_"+y++,Re=document.createElement("div");Re.id=X;var Be=b(j);Re.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Be;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=F(B);var Qe=document.createElement("div");Qe.className="cueUniWrapper",Qe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var ke=0;ke<j.p.length;++ke){var tt=j.p[ke],Ft=0;for(oe=0;oe<tt.spans.length;++oe){var wt=tt.spans[oe];if(wt.line.length>0){if(0!==oe&&Ft!=wt.row){var Tt=document.createElement("br");Tt.className="lineBreak",Qe.appendChild(Tt)}var Bt=!1;Ft===wt.row&&(Bt=!0),Ft=wt.row;var on=ge[wt.name],Le=document.createElement("span");Le.className="spanPadding "+wt.name+" customSpanColor",Le.style.cssText=F(B,on),Le.textContent=0!==oe&&Bt?oe===tt.spans.length-1?C(wt.line):wt.line:tt.spans.length>1&&oe<tt.spans.length-1&&wt.row===tt.spans[oe+1].row?O(wt.line):wt.line.trim(),Qe.appendChild(Le)}}}Ue.appendChild(Qe),Re.appendChild(Ue);var Te={bodyStyle:["%",90]};for(var Je in ge)ge.hasOwnProperty(Je)&&(Te[Je]=["%",90]);he.push({type:"html",start:ee,end:se,cueHTMLElement:Re,cueID:X,cellResolution:[32,15],isFromCEA608:!0,fontSize:Te,lineHeight:{},linePadding:{}})}return he}}}Ho.__dashjs_factory_name="EmbeddedTextHtmlRender";const Kh=S.Z.getSingletonFactory(Ho);function Xh(y){var m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ce,Ae=y.errHandler,$=y.manifestModel,ge=y.mediaController,fe=y.videoModel,ve=y.textTracks,A=y.vttParser,Y=y.vttCustomRenderingParser,Q=y.ttmlParser,z=y.streamInfo,V=y.settings,G=this.context,re=(0,T.Z)(G).getInstance(),he=!1;function j(){C=null,ee=NaN,se=[],te=null,B=!1,O=[],F=null}function X(wt){var on,Le,Tt=new vs;for(var Bt in wt)Tt[Bt]=wt[Bt];Tt.labels=wt.labels,Tt.defaultTrack=(on=wt,Le=!1,oe.length>1&&on.isEmbedded?Le=on.id&&on.id===d.Z.CC1:1===oe.length?on.id&&"string"==typeof on.id&&"CC"===on.id.substring(0,2)&&(Le=!0):0===oe.length&&(Le=on.index===O[0].index),Le),Tt.isFragmented=wt.isFragmented,Tt.isEmbedded=!!wt.isEmbedded,Tt.isTTML=function(on){return on.codec&&on.codec.search(d.Z.STPP)>=0||on.mimeType&&on.mimeType.search(d.Z.TTML)>=0}(wt),Tt.kind=function(on,Le){var Te=on.roles&&on.roles.length>0?Le[on.roles[0]]:Le.caption;return Te===Le.caption||Te===Le.subtitle?Te:Le.caption}(wt,{subtitle:"subtitles",caption:"captions"}),ve.addTextTrack(Tt)}function Re(wt){var Tt=wt.chunk;Tt.mediaInfo.embeddedCaptions&&Ue(Tt.bytes,Tt)}function Be(wt){U=wt}function Ue(wt,Tt){var Bt=Tt.mediaInfo,on=Bt.type,Te=Bt.codec||Bt.mimeType;Te?-1!==Bt.codec.indexOf("application/mp4")?function(Je,Oe,nt){var ct;if("InitializationSegment"===Oe.segmentType)B=!0,ee=I.getMediaTimescaleFromMoov(Je);else{if(!B)return;(ct=I.getSamplesInfo(Je).sampleList).length>0&&(te=ct[0].cts-Oe.start*ee),nt.search(d.Z.STPP)>=0?function(ht,Lt,qt){var Sn,In;for(F=null!==F?F:tt(qt),Sn=0;Sn<Lt.length;Sn++){var yn=Lt[Sn],Cn=yn.cts,Nn=ke(),er=Nn+Cn/ee;m.buffered.add(er,er+yn.duration/ee);var $n=new DataView(ht,yn.offset,yn.subSizes[0]),hr=ec.Utils.dataViewToString($n,d.Z.UTF8),nr=[],mr=yn.offset+yn.subSizes[0];for(In=1;In<yn.subSizes.length;In++){var Ot=new Uint8Array(ht,mr,yn.subSizes[In]),_n=String.fromCharCode.apply(null,Ot);nr.push(_n),mr+=yn.subSizes[In]}try{var an=$.getValue().ttmlTimeIsRelative?Cn/ee:0,mn=F.parse(hr,an,Cn/ee,(Cn+yn.duration)/ee,nr);ve.addCaptions(U,Nn,mn)}catch(mt){C.removeExecutedRequestsBeforeTime(),this.remove(),b.error("TTML parser error: "+mt.message)}}}(Je,ct,nt):function(ht,Lt){var qt,Sn,In,yn=[];for(qt=0;qt<Lt.length;qt++){var Cn=Lt[qt];Cn.cts-=te;var Nn=ke()+Cn.cts/ee;m.buffered.add(Nn,Nn+Cn.duration/ee);var sr=ht.slice(Cn.offset,Cn.offset+Cn.size),$n=ec.parseBuffer(sr);for(Sn=0;Sn<$n.boxes.length;Sn++){var hr=$n.boxes[Sn];if(b.debug("VTT box1: "+hr.type),"vtte"!==hr.type&&"vttc"===hr.type){b.debug("VTT vttc boxes.length = "+hr.boxes.length);var nr={styles:{}};for(In=0;In<hr.boxes.length;In++){var mr=hr.boxes[In];if(b.debug("VTT box2: "+mr.type),"payl"===mr.type)nr.start=Cn.cts/ee,nr.end=(Cn.cts+Cn.duration)/ee,nr.data=mr.cue_text;else if("sttg"===mr.type&&mr.settings&&""!==mr.settings)try{var Ot=mr.settings.split(" ");nr.styles=A.getCaptionStyles(Ot)}catch{}}nr&&nr.data&&(yn.push(nr),b.debug("VTT  ".concat(nr.start," - ").concat(nr.end," :  ").concat(nr.data)))}}}yn.length>0&&ve.addCaptions(U,0,yn)}(Je,ct)}}(wt,Tt,Te):on===d.Z.VIDEO?function(Je,Oe){var nt,ct;if(Oe.segmentType===je.w.INIT_SEGMENT_TYPE)0===ne&&(ne=I.getMediaTimescaleFromMoov(Je));else if(Oe.segmentType===je.w.MEDIA_SEGMENT_TYPE){if(0===ne)return void b.warn("CEA-608: No timescale for embeddedTextTrack yet");var ht=(ct=I.getSamplesInfo(Je)).lastSequenceNumber;if(me[0]||me[1]||function(){for(var yn,Cn=0;Cn<oe.length;Cn++){if(-1===(yn=ve.getTrackIdxForId(oe[Cn].id)))return void b.warn("CEA-608: data before track is ready.");var Nn=Qe(yn);me[Cn]=new(P().Cea608Parser)(Cn+1,{newCue:Nn},null)}}(),ne){if(null!==_e&&ht!==_e+ct.numSequences)for(nt=0;nt<me.length;nt++)me[nt]&&me[nt].reset();for(var Lt=function(yn,Cn){if(0===Cn.length)return null;for(var Nn={splits:[],fields:[[],[]]},er=new DataView(yn),sr=0;sr<Cn.length;sr++)for(var $n=Cn[sr],hr=P().findCea608Nalus(er,$n.offset,$n.size),nr=null,mr=0,Ot=0;Ot<hr.length;Ot++)for(var _n=P().extractCea608DataFromRange(er,hr[Ot]),an=0;an<2;an++)if(_n[an].length>0){$n.cts!==nr?mr=0:mr+=1;var mn=ke();Nn.fields[an].push([$n.cts+mn*ne,_n[an],mr]),nr=$n.cts}return Nn.fields.forEach(function(mt){mt.sort(function(Ht,dt){return Ht[0]===dt[0]?Ht[2]-dt[2]:Ht[0]-dt[0]})}),Nn}(Je,ct.sampleList),qt=0;qt<me.length;qt++){var Sn=Lt.fields[qt],In=me[qt];if(In)for(nt=0;nt<Sn.length;nt++)In.addData(Sn[nt][0]/ne,Sn[nt][1])}_e=ht}}}(wt,Tt):function(Je,Oe,nt){var ct,ht,Lt=new DataView(Je,0,Je.byteLength);ht=ec.Utils.dataViewToString(Lt,d.Z.UTF8);try{ct=tt(nt).parse(ht,0),ve.addCaptions(ve.getCurrentTrackIdx(),0,ct),m.buffered&&m.buffered.add(Oe.start,Oe.end)}catch(qt){Ae.error(new K.Z(pe.TIMED_TEXT_ERROR_ID_PARSE_CODE,pe.TIMED_TEXT_ERROR_MESSAGE_PARSE+qt.message,ht))}}(wt,Tt,Te):b.error("No text type defined")}function Qe(wt){return function(Tt,Bt,on){var Le;(Le=fe.getTTMLRenderingDiv()?Ce.createHTMLCaptionsFromScreen(fe.getElement(),Tt,Bt,on):[{start:Tt,end:Bt,data:on.getDisplayText(),styles:{}}])&&ve.addCaptions(wt,0,Le)}}function ke(){return isNaN(m.timestampOffset)?0:m.timestampOffset}function tt(wt){var Tt;return wt.search(d.Z.VTT)>=0?Tt=V.get().streaming.text.webvtt.customRenderingEnabled&&Y?Y:A:(wt.search(d.Z.TTML)>=0||wt.search(d.Z.STPP)>=0)&&(Tt=Q),Tt}function Ft(wt){oe.forEach(function(Tt){var Bt=ve.getTrackIdxForId(Tt.id);Bt>=0&&ve.deleteCuesFromTrackIdx(Bt,wt.from,wt.to)})}return m={initialize:function(){he||(oe=[],U=null,ne=0,me=[],_e=null,he=!0,Ce=Kh(G).getInstance(),re.on(g.Z.VIDEO_CHUNK_RECEIVED,Re,m),re.on(g.Z.BUFFER_CLEARED,Ft,m))},addMediaInfos:function(wt,Tt,Bt){if(O=O.concat(Tt),wt===d.Z.TEXT&&Tt[0].isFragmented&&!Tt[0].isEmbedded){C=Bt,m.buffered=(0,T0.Z)(G).create(),se=ge.getTracksFor(d.Z.TEXT,z.id).filter(function(Je){return Je.isFragmented});for(var on=ge.getCurrentTrackFor(d.Z.TEXT,z.id),Le=0;Le<se.length;Le++)if(se[Le]===on){Be(Le);break}}for(var Te=0;Te<Tt.length;Te++)X(Tt[Te])},resetMediaInfos:function(){O=[]},getStreamId:function(){return z.id},append:Ue,abort:function(){},addEmbeddedTrack:function(wt){if(he&&wt)if(wt.id===d.Z.CC1||wt.id===d.Z.CC3){for(var Tt=0;Tt<oe.length;Tt++)if(oe[Tt].id===wt.id)return;oe.push(wt)}else b.warn("Embedded track "+wt.id+" not supported!")},resetEmbedded:function(){re.off(g.Z.VIDEO_CHUNK_RECEIVED,Re,m),re.off(g.Z.BUFFER_CLEARED,Ft,m),ve&&ve.deleteAllTextTracks(),he=!1,oe=[],me=[null,null],_e=null},getConfig:function(){return{fragmentModel:C,fragmentedTracks:se,videoModel:fe}},setCurrentFragmentedTrackIdx:Be,remove:function(wt,Tt){void 0===wt&&wt===Tt&&(wt=m.buffered.start(0),Tt=m.buffered.end(m.buffered.length-1)),m.buffered.remove(wt,Tt),ve.deleteCuesFromTrackIdx(U,wt,Tt)},reset:function(){j(),O=[],I=null}},b=(0,x.Z)(G).getInstance().getLogger(m),I=(0,Xs.Z)(G).getInstance(),j(),m}Xh.__dashjs_factory_name="TextSourceBuffer";const l_=S.Z.getClassFactory(Xh);var lo=L(4403);function Od(y,m){(null==m||m>y.length)&&(m=y.length);for(var b=0,I=new Array(m);b<m;b++)I[b]=y[b];return I}var c_=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function Qh(y){var m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ce,Ae,$,ge=this.context,fe=(0,T.Z)(ge).getInstance(),ve=y.videoModel,A=y.streamInfo,Y=y.settings;function Q(Te,Je,Oe,nt,ct,ht){var Lt=0,qt=0;Te/Je>Oe/nt?Lt=(qt=Je)/nt*Oe:qt=(Lt=Te)/Oe*nt;var Sn,In,yn=0,Cn=0;return Lt/qt>ct?(Cn=qt,yn=qt*ct):(yn=Lt,Cn=Lt/ct),Sn=(Te-yn)/2,In=(Je-Cn)/2,ht?{x:Sn+.1*yn,y:In+.1*Cn,w:.8*yn,h:.8*Cn}:{x:Sn,y:In,w:yn,h:Cn}}function z(Te,Je){var Oe=ve.getClientWidth(),nt=ve.getClientHeight(),ct=ve.getVideoWidth(),ht=ve.getVideoHeight(),Lt=ve.getVideoRelativeOffsetTop(),qt=ve.getVideoRelativeOffsetLeft();if(0!==ct&&0!==ht){var Sn=ct/ht,In=!1;Te.isFromCEA608&&(Sn=1.1666666666666667,In=!0);var yn=Q.call(this,Oe,nt,ct,ht,Sn,In),Cn=yn.w,Nn=yn.h,er=yn.x,sr=yn.y;if(Cn!=se||Nn!=te||er!=B||sr!=ee||Je){if(B=er+qt,ee=sr+Lt,se=Cn,te=Nn,U){var $n=U.style;$n&&($n.left=B+"px",$n.top=ee+"px",$n.width=se+"px",$n.height=te+"px",$n.zIndex=_e&&document[_e]||me?Ae:null,fe.trigger(h.Z.CAPTION_CONTAINER_RESIZE))}var hr=Te.activeCues;if(hr)for(var nr=hr.length,mr=0;mr<nr;++mr){var Ot=hr[mr];Ot.scaleCue(Ot)}}}}function V(Te){var Je,Oe,nt,ct,ht;if(Te.cellResolution){var Sn=[se/Te.cellResolution[0],te/Te.cellResolution[1]];if(Te.linePadding)for(Je in Te.linePadding)if(Te.linePadding.hasOwnProperty(Je)){Oe=(Te.linePadding[Je]*Sn[0]).toString();for(var In=document.getElementsByClassName("spanPadding"),yn=0;yn<In.length;yn++)In[yn].style.cssText=In[yn].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe),In[yn].style.cssText=In[yn].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}if(Te.fontSize){for(Je in Te.fontSize)if(Te.fontSize.hasOwnProperty(Je)){"%"===Te.fontSize[Je][0]?nt=Te.fontSize[Je][1]/100:"c"===Te.fontSize[Je][0]&&(nt=Te.fontSize[Je][1]),Oe=(nt*Sn[1]).toString(),ht="defaultFontSize"!==Je?document.getElementsByClassName(Je):document.getElementsByClassName("paragraph");for(var Cn=0;Cn<ht.length;Cn++)ht[Cn].style.cssText=ht[Cn].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}if(Te.lineHeight)for(Je in Te.lineHeight)if(Te.lineHeight.hasOwnProperty(Je)){"%"===Te.lineHeight[Je][0]?ct=Te.lineHeight[Je][1]/100:"c"===Te.fontSize[Je][0]&&(ct=Te.lineHeight[Je][1]),Oe=(ct*Sn[1]).toString(),ht=document.getElementsByClassName(Je);for(var Nn=0;Nn<ht.length;Nn++)ht[Nn].style.cssText=ht[Nn].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}}}if(Te.isd){var er=document.getElementById(Te.cueID);er&&U.removeChild(er),re(Te)}}function G(Te,Je){var Oe=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,nt=/^#(.*)$/;if(Oe.test(Je)){var ct=Oe.exec(Je),ht=parseInt(ct[4],10)-1;return"data:image/png;base64,"+btoa(Te.images[ht])}if(nt.test(Je)){var Lt=nt.exec(Je)[1];return"data:image/png;base64,"+Te.embeddedImages[Lt]}return Je}function re(Te){if(U){var Je=document.createElement("div");U.appendChild(Je),Ce=(0,lo.renderHTML)(Te.isd,Je,function(Oe){return G(Te,Oe)},U.clientHeight,U.clientWidth,!1,function(Oe){b.info("renderCaption :",Oe)},Ce,!0),Je.id=Te.cueID,fe.trigger(h.Z.CAPTION_RENDERED,{captionDiv:Je,currentTrackIdx:C})}}function he(Te,Je){if(!Y.get().streaming.text.extendSegmentedCues||!Je.cues||0===Je.cues.length)return!1;var Oe=Je.cues[Je.cues.length-1];return!(Oe.endTime<Te.startTime||!function(nt,ct,ht){for(var Lt=0;Lt<ht.length;Lt++){var qt=ht[Lt];if(JSON.stringify(nt[qt])!==JSON.stringify(ct[qt]))return!1}return!0}(Oe,Te,c_)||(Oe.endTime=Math.max(Oe.endTime,Te.endTime),0))}function j(Te,Je){Je&&Je.forEach(function(Oe){Oe.kind&&"image"===Oe.kind&&(Oe.src=G(Te,Oe.src)),j(Te,Oe.contents)})}function X(Te,Je,Oe){var nt=Qe(Te);if(nt&&Array.isArray(Oe)&&0!==Oe.length)for(var ct=0;ct<Oe.length;ct++){var ht=void 0,Lt=Oe[ct];nt.cellResolution=Lt.cellResolution,nt.isFromCEA608=Lt.isFromCEA608,isNaN(Lt.start)||isNaN(Lt.end)||(ht="html"===Lt.type&&U?Re(Lt,Je,nt):Lt.data?Be(Lt,Je,nt):null);try{ht?Ft(nt,ht)||(Y.get().streaming.text.webvtt.customRenderingEnabled?(nt.manualCueList||(nt.manualCueList=[]),nt.manualCueList.push(ht)):he(ht,nt)||nt.addCue(ht)):b.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(qt){throw Tt(nt),nt.addCue(ht),qt}}}function Re(Te,Je,Oe){var nt=this,ct=new I(Te.start+Je,Te.end+Je,"");return ct.cueHTMLElement=Te.cueHTMLElement,ct.isd=Te.isd,ct.images=Te.images,ct.embeddedImages=Te.embeddedImages,ct.cueID=Te.cueID,ct.scaleCue=V.bind(nt),ct.cellResolution=Te.cellResolution,ct.lineHeight=Te.lineHeight,ct.linePadding=Te.linePadding,ct.fontSize=Te.fontSize,U.style.left=B+"px",U.style.top=ee+"px",U.style.width=se+"px",U.style.height=te+"px",ct.isd&&j(ct,ct.isd.contents),ct.onenter=function(){Oe.mode===d.Z.TEXT_SHOWING&&(this.isd?(re(this),b.debug("Cue enter id:"+this.cueID)):(U.appendChild(this.cueHTMLElement),V.call(nt,this),fe.trigger(h.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:C})))},ct.onexit=function(){if(U)for(var ht=U.childNodes,Lt=0;Lt<ht.length;++Lt)ht[Lt].id===this.cueID&&(b.debug("Cue exit id:"+ht[Lt].id),U.removeChild(ht[Lt]),--Lt)},ct}function Be(Te,Je,Oe){var nt=new I(Te.start-Je,Te.end-Je,Te.data);if(nt.cueID="".concat(nt.startTime,"_").concat(nt.endTime),nt.isActive=!1,Te.styles)try{void 0!==Te.styles.align&&"align"in nt&&(nt.align=Te.styles.align),void 0!==Te.styles.line&&"line"in nt&&(nt.line=Te.styles.line),void 0!==Te.styles.snapToLines&&"snapToLines"in nt&&(nt.snapToLines=Te.styles.snapToLines),void 0!==Te.styles.position&&"position"in nt&&(nt.position=Te.styles.position),void 0!==Te.styles.size&&"size"in nt&&(nt.size=Te.styles.size)}catch(ct){b.error(ct)}return nt.onenter=function(){Oe.mode===d.Z.TEXT_SHOWING&&fe.trigger(h.Z.CAPTION_RENDERED,{currentTrackIdx:C})},nt}function Ue(){var Te,Je=[],Oe=function(ct,ht){var Lt;if(typeof Symbol>"u"||null==ct[Symbol.iterator]){if(Array.isArray(ct)||(Lt=function(Nn,er){if(Nn){if("string"==typeof Nn)return Od(Nn,void 0);var sr=Object.prototype.toString.call(Nn).slice(8,-1);return"Object"===sr&&Nn.constructor&&(sr=Nn.constructor.name),"Map"===sr||"Set"===sr?Array.from(Nn):"Arguments"===sr||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sr)?Od(Nn,void 0):void 0}}(ct))){Lt&&(ct=Lt);var qt=0,Sn=function(){};return{s:Sn,n:function(){return qt>=ct.length?{done:!0}:{done:!1,value:ct[qt++]}},e:function(Nn){throw Nn},f:Sn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var In,yn=!0,Cn=!1;return{s:function(){Lt=ct[Symbol.iterator]()},n:function(){var Nn=Lt.next();return yn=Nn.done,Nn},e:function(Nn){Cn=!0,In=Nn},f:function(){try{yn||null==Lt.return||Lt.return()}finally{if(Cn)throw In}}}}(ve.getTextTracks());try{for(Oe.s();!(Te=Oe.n()).done;){var nt=Te.value;nt.manualMode===d.Z.TEXT_SHOWING&&Je.push(nt)}}catch(ct){Oe.e(ct)}finally{Oe.f()}return Je}function Qe(Te){return Te>=0&&F[Te]?ve.getTextTrack(F[Te].kind,F[Te].id,F[Te].lang,F[Te].isTTML,F[Te].isEmbedded):null}function ke(Te){var Je=this;if(Te!==C){var Oe=Qe(C=Te);tt.call(this,Oe),ne&&(clearInterval(ne),ne=null),Oe&&"html"===Oe.renderingType&&(z.call(this,Oe,!0),window.ResizeObserver?($=new window.ResizeObserver(function(){z.call(Je,Oe,!0)})).observe(ve.getElement()):ne=setInterval(z.bind(this,Oe),500))}}function tt(Te){Le.call(this),Te&&"html"===Te.renderingType?Bt.call(this):on.call(this)}function Ft(Te,Je){if(!Te.cues)return!1;for(var Oe=0;Oe<Te.cues.length;Oe++)if(Te.cues[Oe].startTime===Je.startTime&&Te.cues[Oe].endTime===Je.endTime)return!0;return!1}function wt(Te,Je,Oe){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Je)||(nt?Te.startTime:Te.endTime)>=Je)&&(isNaN(Oe)||(nt?Te.endTime:Te.startTime)<=Oe)}function Tt(Te,Je,Oe){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Te.cues)for(var ct=Te.cues,Lt=ct.length-1;Lt>=0;Lt--)wt(ct[Lt],Je,Oe,nt)&&(ct[Lt].onexit&&ct[Lt].onexit(),Te.removeCue(ct[Lt]))}function Bt(){var Te=document.getElementById("native-cue-style");if(!Te){(Te=document.createElement("style")).id="native-cue-style",document.head.appendChild(Te);var Je=Te.sheet,Oe=ve.getElement();try{Oe&&Je.insertRule(Oe.id?"#"+Oe.id+"::cue {background: transparent}":0!==Oe.classList.length?"."+Oe.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(nt){b.info(""+nt.message)}}}function on(){var Te=document.getElementById("native-cue-style");Te&&document.head.removeChild(Te)}function Le(){if(U)for(;U.firstChild;)U.removeChild(U.firstChild)}return m={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(I=window.VTTCue||window.TextTrackCue,F=[],O=[],C=-1,B=0,ee=0,se=0,te=0,U=null,oe=null,ne=null,me=!1,Ae=2147483647,Ce=null,void 0!==document.fullscreenElement?_e="fullscreenElement":void 0!==document.webkitIsFullScreen?_e="webkitIsFullScreen":document.msFullscreenElement?_e="msFullscreenElement":document.mozFullScreen&&(_e="mozFullScreen"))},getStreamId:function(){return A.id},addTextTrack:function(Te){F.push(Te)},addCaptions:X,createTracks:function(){F.sort(function(Nn,er){return Nn.index-er.index}),U=ve.getTTMLRenderingDiv(),oe=ve.getVttRenderingDiv();for(var Te,Je,Lt=-1,qt=0;qt<F.length;qt++){var Sn=(Je=(Te=F[qt]).kind,ve.addTextTrack(Je,void 0!==Te.id?Te.id:Te.lang,Te.lang,Te.isTTML,Te.isEmbedded));O.push(Sn),F[qt].defaultTrack&&(Sn.default=!0,Lt=qt);var In=Qe(qt);In&&(In.mode=d.Z.TEXT_SHOWING,In.renderingType=U&&(F[qt].isTTML||F[qt].isEmbedded)?"html":"default"),X(qt,0,F[qt].captionData),fe.trigger(h.Z.TEXT_TRACK_ADDED)}if(ke.call(this,Lt),Lt>=0){fe.on(h.Z.PLAYBACK_METADATA_LOADED,function Nn(){var er=Qe(Lt);er&&"html"===er.renderingType&&z.call(this,er,!0),fe.off(h.Z.PLAYBACK_METADATA_LOADED,Nn,this)},this);for(var yn=0;yn<F.length;yn++){var Cn=Qe(yn);Cn&&(Cn.mode=yn===Lt?d.Z.TEXT_SHOWING:d.Z.TEXT_HIDDEN,Cn.manualMode=yn===Lt?d.Z.TEXT_SHOWING:d.Z.TEXT_HIDDEN)}}fe.trigger(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:C,tracks:F,streamId:A.id})},getCurrentTrackIdx:function(){return C},setCurrentTrackIdx:ke,getTrackIdxForId:function(Te){for(var Je=-1,Oe=0;Oe<F.length;Oe++)if(F[Oe].id===Te){Je=Oe;break}return Je},getCurrentTrackInfo:function(){return F[C]},setModeForTrackIdx:function(Te,Je){var Oe=Qe(Te);Oe&&Oe.mode!==Je&&(Oe.mode=Je),Oe&&Oe.manualMode!==Je&&(Oe.manualMode=Je)},deleteCuesFromTrackIdx:function(Te,Je,Oe){var nt=Qe(Te);nt&&Tt(nt,Je,Oe)},deleteAllTextTracks:function(){for(var Te=O?O.length:0,Je=0;Je<Te;Je++){var Oe=Qe(Je);Oe&&Tt.call(this,Oe,A.start,A.start+A.duration,!1)}O=[],F=[],ne&&(clearInterval(ne),ne=null),$&&ve&&($.unobserve(ve.getElement()),$=null),C=-1,Le.call(this)},deleteTextTrack:function(Te){ve.removeChild(O[Te]),O.splice(Te,1)},manualCueProcessing:function(Te){var Je=Ue();if(Je&&Je.length>0){var Oe=Je[0].manualCueList;Oe&&Oe.length>0&&Oe.forEach(function(nt){if(nt.startTime<=Te&&nt.endTime>=Te&&!nt.isActive)nt.isActive=!0,WebVTT.processCues(window,[nt],oe,nt.cueID);else if(nt.isActive&&(nt.startTime>Te||nt.endTime<Te)&&(nt.isActive=!1,oe))for(var ct=oe.childNodes,ht=0;ht<ct.length;++ht)ct[ht].id===nt.cueID&&(oe.removeChild(ct[ht]),--ht)})}},disableManualTracks:function(){var Te=Ue();if(Te&&Te.length>0){var Je=Te[0].manualCueList;Je&&Je.length>0&&Je.forEach(function(Oe){if(Oe.isActive&&(Oe.isActive=!1,oe))for(var nt=oe.childNodes,ct=0;ct<nt.length;++ct)nt[ct].id===Oe.cueID&&(oe.removeChild(nt[ct]),--ct)})}}},b=(0,x.Z)(ge).getInstance().getLogger(m),m}Qh.__dashjs_factory_name="TextTracks";const Jh=S.Z.getClassFactory(Qh);function Pd(){var y,m,b,I,F,O;function B(U){var oe=U.split(":"),ne=oe.length-1;return U=60*parseInt(oe[ne-1],10)+parseFloat(oe[ne]),2===ne&&(U+=3600*parseInt(oe[0],10)),U}function ee(U){var oe=U.split(I),ne=oe[1].split(O);return ne.shift(),oe[1]=ne[0],ne.shift(),{cuePoints:oe,styles:se(ne)}}function se(U){var oe={};return U.forEach(function(ne){if(ne.split(/:/).length>1){var _e=ne.split(/:/)[1],me=!1;_e&&-1!=_e.search(/%/)&&(me=!0,_e=parseInt(_e.replace(/%/,""),10)),(ne.match(/align/)||ne.match(/A/))&&(oe.align=_e),(ne.match(/line/)||ne.match(/L/))&&(oe.line="auto"===_e?_e:parseInt(_e,10),me&&(oe.snapToLines=!1)),(ne.match(/position/)||ne.match(/P/))&&(oe.position=_e),(ne.match(/size/)||ne.match(/S/))&&(oe.size=_e)}}),oe}function te(U,oe){for(var ne,_e=oe,me="",Ce="";""!==U[_e]&&_e<U.length;)_e++;if((ne=_e-oe)>1)for(var Ae=0;Ae<ne;Ae++){if((Ce=U[oe+Ae]).match(I)){me="";break}me+=Ce,Ae!==ne-1&&(me+="\n")}else(Ce=U[oe]).match(I)||(me=Ce);return me}return y={parse:function(U){var oe,ne,_e=[];if(!U)return _e;oe=(U=U.split(b)).length,ne=-1;for(var me=0;me<oe;me++){var Ce=U[me];if(Ce.length>0&&"WEBVTT"!==Ce&&Ce.match(I)){var Ae=ee(Ce),$=Ae.cuePoints,ge=Ae.styles,fe=te(U,me+1),ve=B($[0].replace(F,"")),A=B($[1].replace(F,""));!isNaN(ve)&&!isNaN(A)&&ve>=ne&&A>ve?""!==fe?(ne=ve,_e.push({start:ve,end:A,data:fe,styles:ge})):m.error("Skipping cue due to empty/malformed cue text"):m.error("Skipping cue due to incorrect cue timing")}}return _e},getCaptionStyles:se},m=(0,x.Z)(this.context).getInstance().getLogger(y),b=/(?:\r\n|\r|\n)/gm,I=/-->/,F=/(^[\s]+|[\s]+$)/g,O=/\s\b/g,y}Pd.__dashjs_factory_name="VTTParser";const u_=S.Z.getSingletonFactory(Pd);function ou(){var y,m;return y={parse:function(b){var I=[];return m.oncue=function(F){F.start=F.startTime,F.end=F.endTime,F.data=F.text,F.styles={align:F.align,line:F.line,position:F.position,size:F.size},I.push(F)},m.parse(b),I}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(m=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),y}ou.__dashjs_factory_name="VttCustomRenderingParser";const d_=S.Z.getSingletonFactory(ou);function ts(){var y,m,b=this.context,I=(0,T.Z)(b).getInstance(),F=0;return y={parse:function(O,C,B,ee,se){var te,U,oe,ne="",_e=[],me={},Ce={},Ae="",$="",ge={onOpenTag:function(Q,z,V){if(V[" imagetype"]&&!V[" imageType"]&&(I.trigger(h.Z.CONFORMANCE_VIOLATION,{level:jr.LEVELS.ERROR,event:jr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),V[" imageType"]=V[" imagetype"]),"image"===z&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Q||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Q)){if(!V[" imageType"]||"PNG"!==V[" imageType"].value)return void m.warn("smpte-tt imageType != PNG. Discarded");Ae=V["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Ae&&(Ce[Ae]=$.trim()),$="",Ae=""},onText:function(Q){Ae&&($+=Q)}};if(!O)throw ne="no ttml data to parse",new Error(ne);me.data=O,I.trigger(g.Z.TTML_TO_PARSE,me);var fe=(0,lo.fromXML)(me.data,function(Q){ne=Q},ge);I.trigger(g.Z.TTML_PARSED,{ttmlString:me.data,ttmlDoc:fe});var ve,A=fe.getMediaTimeEvents();for(oe=0;oe<A.length;oe++){var Y=(0,lo.generateISD)(fe,A[oe],function(Q){ne=Q});Y.contents.some(function(Q){return Q.contents.length})&&(te=A[oe]+C)<(U=A[oe+1]+C)&&_e.push({start:te,end:U,type:"html",cueID:(ve="cue_TTML_"+F,F++,ve),isd:Y,images:se,embeddedImages:Ce})}if(""!==ne)throw m.error(ne),new Error(ne);return _e}},m=(0,x.Z)(b).getInstance().getLogger(y),y}ts.__dashjs_factory_name="TTMLParser";const ep=S.Z.getSingletonFactory(ts);function kd(y){var m,b,I,F,O,C,B,ee,se,te,U,oe,ne=this.context,_e=y.adapter,me=y.errHandler,Ce=y.manifestModel,Ae=y.mediaController,$=y.videoModel,ge=y.settings;function fe(G){var re=G.tracks,he=G.index,j=G.streamId;if(!1===ge.get().streaming.text.defaultEnabled&&!Y()||oe)Q(j,-1);else{var X=Ae.getCurrentTrackFor(d.Z.TEXT,j);if(X){var Re={lang:X.lang,role:X.roles[0],index:X.index,codec:X.codec,accessibility:X.accessibility[0]};re.some(function(Be,Ue){if(Ae.matchSettings(Re,Be))return Q(j,Ue),he=Ue,!0})}se=!1}b[j].lastEnabledIndex=he,ee.trigger(h.Z.TEXT_TRACKS_ADDED,{enabled:Y(),index:he,tracks:re,streamId:j}),U=!0}function ve(G){try{var re=G.streamId;if(!F[re]||isNaN(G.time))return;F[re].manualCueProcessing(G.time)}catch{}}function A(G){try{var re=G.streamId;if(!F[re])return;F[re].disableManualTracks()}catch{}}function Y(){var G=!0;return se&&!te&&(G=!1),G}function Q(G,re){(se=-1===re)&&Ae&&Ae.saveTextSettingsDisabled();var he=z(G);if(he!==re&&F[G]){F[G].disableManualTracks(),F[G].setModeForTrackIdx(he,d.Z.TEXT_HIDDEN),F[G].setCurrentTrackIdx(re),F[G].setModeForTrackIdx(re,d.Z.TEXT_SHOWING);var j=F[G].getCurrentTrackInfo();j&&j.isFragmented&&!j.isEmbedded?function(X,Re,Be){if(I[X])for(var Ue=I[X].getConfig().fragmentedTracks,Qe=0;Qe<Ue.length;Qe++){var ke=Ue[Qe];if(Re.lang===ke.lang&&(ke.id?Re.id===ke.id:Re.index===ke.index)){var tt=Ae.getCurrentTrackFor(d.Z.TEXT,X);(ke.id?tt.id!==ke.id:tt.index!==ke.index)?(F[X].deleteCuesFromTrackIdx(Be),I[X].setCurrentFragmentedTrackIdx(Qe)):-1===Be&&ee.trigger(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:X,mediaType:d.Z.TEXT})}}}(G,j,he):j&&!j.isFragmented&&ee.trigger(g.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:j},{streamId:G,mediaType:d.Z.TEXT}),Ae.setTrack(j)}}function z(G){return F[G].getCurrentTrackIdx()}function V(){I={},F={},b={},se=!0,U=!1,oe=!1}return m={deactivateStream:function(G){if(G){var re=G.id;I[re]&&I[re].resetMediaInfos(),F[re]&&F[re].deleteAllTextTracks()}},initialize:function(){ee.on(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,fe,m),ge.get().streaming.text.webvtt.customRenderingEnabled&&(ee.on(g.Z.PLAYBACK_TIME_UPDATED,ve,m),ee.on(g.Z.PLAYBACK_SEEKING,A,m))},initializeForStream:function(G){var re=G.id,he=Jh(ne).create({videoModel:$,settings:ge,streamInfo:G});he.initialize(),F[re]=he;var j=l_(ne).create({errHandler:me,adapter:_e,manifestModel:Ce,mediaController:Ae,videoModel:$,textTracks:he,vttParser:O,vttCustomRenderingParser:C,ttmlParser:B,streamInfo:G,settings:ge});j.initialize(),I[re]=j,b[re]={},b[re].lastEnabledIndex=-1},createTracks:function(G){var re=G.id;F[re]&&F[re].createTracks()},getTextSourceBuffer:function(G){var re=G.id;if(I&&I[re])return I[re]},getAllTracksAreDisabled:function(){return se},addEmbeddedTrack:function(G,re){var he=G.id;I[he]&&I[he].addEmbeddedTrack(re)},enableText:function(G,re){return(0,ue.PS)(re,"boolean"),Y()!==re&&(re&&Q(G,b[G].lastEnabledIndex),re||(b[G].lastEnabledIndex=z(G),U?Q(G,-1):oe=!0)),!0},isTextEnabled:Y,setTextTrack:Q,getCurrentTrackIdx:z,enableForcedTextStreaming:function(G){return(0,ue.PS)(G,"boolean"),te=G,!0},addMediaInfosToBuffer:function(G,re,he){var X=G.id;I[X]&&I[X].addMediaInfos(re,he,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function(){V(),ee.off(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,fe,m),ge.get().streaming.text.webvtt.customRenderingEnabled&&(ee.off(g.Z.PLAYBACK_TIME_UPDATED,ve,m),ee.off(g.Z.PLAYBACK_SEEKING,A,m)),Object.keys(I).forEach(function(G){I[G].resetEmbedded(),I[G].reset()})}},te=!1,U=!1,oe=!1,O=u_(ne).getInstance(),C=d_(ne).getInstance(),B=ep(ne).getInstance(),ee=(0,T.Z)(ne).getInstance(),V(),m}kd.__dashjs_factory_name="TextController";const fi=S.Z.getClassFactory(kd);function Fd(){var y,m,b,I,F,O,C,B,ee,se,te,U,oe,ne,_e,me,Ce,Ae,$,ge,fe,ve,A,Y,Q,z,V,G,re,he,j,X,Re,Be,Ue,Qe,ke,tt,Ft,wt="You must first call initialize() and set a source before calling this method",Tt="You must first call initialize() and set a valid source and view before calling this method",Bt="You must first call attachView() to set the video element before calling this method",on="You must first call attachSource() with a valid source before calling this method",Le="MediaPlayer not initialized!",Te=this.context,Je=(0,T.Z)(Te).getInstance(),Oe=(0,Mt.Z)(Te).getInstance(),nt=(0,x.Z)(Te).getInstance({settings:Oe});function ct(){mr(null),hr(null),I=null,ne&&(ne.reset(),ne=null),_e&&(_e.reset(),_e=null),ge&&ge.reset(),Oe.reset(),Ce&&(Ce.reset(),Ce=null)}function ht(){return!!b&&!!Qe.getElement()}function Lt(){return(0,Ad.e)()}function qt(){if(!C)throw Tt;return G.isPaused()}function Sn(){if(!C)throw Tt;return G.getIsDynamic()}function In(we){var ot=Q&&Q.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,Dt=X.getCurrentDVRInfo(ot);if(!Dt)return 0;var en=G.getOriginalLiveDelay(),fn=Dt.range.start+we;return fn>Dt.range.end-en&&(fn=Dt.range.end-en),fn}function yn(we){if(!C)throw Tt;var ot=$n().currentTime;if(void 0!==we)ot=Q.getTimeRelativeToStreamId(ot,we);else if(G.getIsDynamic()){var Dt=Q&&Q.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,en=X.getCurrentDVRInfo(Dt);ot=null===en||0===ot?0:Math.max(0,ot-en.range.start)}return ot}function Cn(){if(!C)throw Tt;var we=$n().duration;if(G.getIsDynamic()){var ot=Q&&Q.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,Dt=X.getCurrentDVRInfo(ot);we=Dt?Dt.range.end-Dt.range.start:0}return we}function Nn(we){(0,ue.PS)(we,"boolean"),B=we}function er(){ge.restoreDefaultUTCTimingSources()}function sr(){return X}function $n(){if(!Qe.getElement())throw Bt;return Qe.getElement()}function hr(we){if(!F)throw Le;Qe.setElement(we),we&&(mt(),function(){if(!_e){var ot=dashjs.MetricsReporting;if("function"==typeof ot){var Dt=ot(Te).create();_e=Dt.createMetricsReporting({debug:nt,eventBus:Je,mediaElement:$n(),adapter:Ae,dashMetrics:X,mediaPlayerModel:$,events:g.Z,constants:d.Z,metricsConstants:N.Z})}}}(),function(){if(!me){var ot=dashjs.MssHandler;"function"==typeof ot&&(pe.extend(ot.errors),me=ot(Te).create({eventBus:Je,mediaPlayerModel:$,dashMetrics:X,manifestModel:Re,playbackController:G,streamController:Q,protectionController:ne,baseURLController:ve,errHandler:fe,events:g.Z,constants:d.Z,debug:nt,initSegmentType:je.w.INIT_SEGMENT_TYPE,BASE64:xd,ISOBoxer:ec,settings:Oe}))}}(),Q&&Q.switchToVideoElement(ee)),C&&_n(),Ze(ee)}function nr(we){if(!O)throw wt;var ot=Q.getActiveStreamInfo();return ot?oe.getTracksFor(we,ot.id):[]}function mr(we){var ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!F)throw Le;"string"==typeof we&&ke.initialize(we),null==ot&&(ot=NaN),isNaN(ot)||(ot=Math.max(0,ot)),ee=ot,b=we,(O||C)&&_n(),ht()&&Ze(ee)}function Ot(){if(!O)throw wt;var we=Q.getActiveStreamInfo();return we?Q.getStreamById(we.id):null}function _n(){C=!1,O=!1,Ae.reset(),Q.reset(),V.reset(),j.reset(),G.reset(),re.reset(),he.reset(),se.reset(),oe.reset(),Ft.reset(),ne&&(Oe.get().streaming.protection.keepProtectionMediaKeys?ne.stop():(ne.reset(),ne=null,mt())),z.reset(),Be.reset(),Ue.reset()}function mn(){return yi(Te).create({debug:nt,errHandler:fe,dashMetrics:X,mediaPlayerModel:$,requestModifier:(0,Ie.Z)(Te).getInstance(),mssHandler:me,settings:Oe})}function mt(){if(ne)return ne;var we=dashjs.Protection;if("function"==typeof we){var ot=we(Te).create();return g.Z.extend(we.events),h.Z.extend(we.events,{publicOnly:!0}),pe.extend(we.errors),A||(A=(0,Ki.Z)(Te).getInstance()),ne=ot.createProtectionSystem({debug:nt,errHandler:fe,videoModel:Qe,customParametersModel:ge,capabilities:A,eventBus:Je,events:g.Z,BASE64:xd,constants:d.Z,cmcdModel:Be,settings:Oe})}return null}function Ht(){if(!F)throw Le;if(Ce)return Ce;var we=dashjs.OfflineController;if("function"==typeof we){g.Z.extend(we.events),h.Z.extend(we.events,{publicOnly:!0}),pe.extend(we.errors);var ot=mn(),Dt=fd(Te).create();return Dt.setConfig({manifestModel:Re,adapter:Ae,manifestLoader:ot,errHandler:fe,contentSteeringController:he}),Ce=we(Te).create({debug:nt,manifestUpdater:Dt,baseURLController:ve,manifestLoader:ot,manifestModel:Re,mediaPlayerModel:$,abrController:se,playbackController:G,adapter:Ae,errHandler:fe,dashMetrics:X,timelineConverter:U,segmentBaseController:Ft,schemeLoaderFactory:te,eventBus:Je,events:g.Z,errors:pe,constants:d.Z,settings:Oe,dashConstants:f.Z,urlUtils:(0,Ge.Z)(Te).getInstance()})}return null}function dt(we){var ot=Q&&Q.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,Dt=X.getCurrentDVRInfo(ot);return Dt?we+(Dt.manifestInfo.availableFrom.getTime()/1e3+Dt.range.start):0}function Ze(){var we=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Ce&&Ce.resetRecords(),!O&&b&&(O=!0,m.info("Streaming Initialized"),function an(){var we=mn();Q||(Q=hd(Te).getInstance()),z||(z=fi(Te).create({errHandler:fe,manifestModel:Re,adapter:Ae,mediaController:oe,videoModel:Qe,settings:Oe})),Y.setConfig({capabilities:A,customParametersModel:ge,adapter:Ae,settings:Oe,manifestModel:Re,errHandler:fe}),Q.setConfig({capabilities:A,capabilitiesFilter:Y,manifestLoader:we,manifestModel:Re,mediaPlayerModel:$,customParametersModel:ge,protectionController:ne,textController:z,adapter:Ae,dashMetrics:X,errHandler:fe,timelineConverter:U,videoModel:Qe,playbackController:G,serviceDescriptionController:re,contentSteeringController:he,abrController:se,mediaController:oe,settings:Oe,baseURLController:ve,uriFragmentModel:ke,segmentBaseController:Ft}),V.setConfig({settings:Oe,playbackController:G,streamController:Q,videoModel:Qe,timelineConverter:U,adapter:Ae}),G.setConfig({streamController:Q,serviceDescriptionController:re,dashMetrics:X,adapter:Ae,videoModel:Qe,timelineConverter:U,settings:Oe}),j.setConfig({streamController:Q,playbackController:G,mediaPlayerModel:$,videoModel:Qe,settings:Oe}),se.setConfig({streamController:Q,domStorage:tt,mediaPlayerModel:$,customParametersModel:ge,cmsdModel:Ue,dashMetrics:X,adapter:Ae,videoModel:Qe,settings:Oe}),Be.setConfig({abrController:se,dashMetrics:X,playbackController:G}),Ue.setConfig({}),se.initialize(),Q.initialize(B,I),z.initialize(),V.initialize(),j.initialize(),Be.initialize(),Ue.initialize(),he.initialize(),Ft.initialize()}(),"string"==typeof b?Q.load(b,we):Q.loadWithManifest(b,we)),!C&&ht()&&(C=!0,m.info("Playback Initialized"))}return y={initialize:function(we,ot,Dt){var en=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;A||(A=(0,Ki.Z)(Te).getInstance()).setConfig({settings:Oe}),fe||(fe=Gl(Te).getInstance()),A.supportsMediaSource()?(F||(F=!0,U=a_(Te).getInstance(),se||(se=_s(Te).getInstance()).setConfig({settings:Oe}),te||(te=ir(Te).getInstance()),G||(G=w(Te).getInstance()),oe||(oe=c0(Te).getInstance()),Q||(Q=hd(Te).getInstance()),V||(V=Ch(Te).getInstance()),j||(j=pd(Te).getInstance()),re||(re=Ih(Te).getInstance()),he||(he=Ra(Te).getInstance()),Y||(Y=Ai(Te).getInstance()),Ae=v0(Te).getInstance(),Re=jh(Te).getInstance(),Be=kt(Te).getInstance(),Ue=Mi(Te).getInstance(),X=Rd(Te).getInstance({settings:Oe}),tt=es(Te).getInstance({settings:Oe}),Ae.setConfig({constants:d.Z,cea608parser:P(),errHandler:fe,BASE64:xd}),ve||(ve=Nh(Te).create()),ve.setConfig({adapter:Ae,contentSteeringController:he}),re.setConfig({adapter:Ae}),Ft||(Ft=h0(Te).getInstance({dashMetrics:X,mediaPlayerModel:$,errHandler:fe,baseURLController:ve,events:g.Z,eventBus:Je,debug:nt,boxParser:(0,Xs.Z)(Te).getInstance(),requestModifier:(0,Ie.Z)(Te).getInstance(),errors:pe})),oe.setConfig({domStorage:tt,settings:Oe,customParametersModel:ge}),$.setConfig({playbackController:G,serviceDescriptionController:re}),he.setConfig({adapter:Ae,errHandler:fe,dashMetrics:X,mediaPlayerModel:$,manifestModel:Re,serviceDescriptionController:re,eventBus:Je,requestModifier:(0,Ie.Z)(Te).getInstance()}),er(),Nn(void 0===Dt||Dt),Ht()),we&&hr(we),ot&&mr(ot,en),m.info("[dash.js "+Lt()+"] MediaPlayer has been initialized")):fe.error(new K.Z(pe.CAPABILITY_MEDIASOURCE_ERROR_CODE,pe.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(we){we&&(we.capabilities&&(A=we.capabilities),we.capabilitiesFilter&&(Y=we.capabilitiesFilter),we.streamController&&(Q=we.streamController),we.textController&&(z=we.textController),we.gapController&&(V=we.gapController),we.playbackController&&(G=we.playbackController),we.serviceDescriptionController&&(re=we.serviceDescriptionController),we.contentSteeringController&&(he=we.contentSteeringController),we.catchupController&&(j=we.catchupController),we.mediaPlayerModel&&($=we.mediaPlayerModel),we.customParametersModel&&(ge=we.customParametersModel),we.abrController&&(se=we.abrController),we.schemeLoaderFactory&&(te=we.schemeLoaderFactory),we.mediaController&&(oe=we.mediaController),we.settings&&(Oe=we.settings))},on:function(we,ot,Dt,en){Je.on(we,ot,Dt,en)},off:function(we,ot,Dt){Je.off(we,ot,Dt)},extend:function(we,ot,Dt){S.Z.extend(we,ot,Dt,Te)},attachView:hr,attachSource:mr,isReady:ht,preload:function(){if(!Qe.getElement()&&!O){if(!b)throw on;Ze(ee)}},play:function(){if(!C)throw Tt;(!B||qt()&&C)&&G.play(!0)},isPaused:qt,pause:function(){if(!C)throw Tt;G.pause()},isSeeking:function(){if(!C)throw Tt;return G.isSeeking()},isDynamic:Sn,getLowLatencyModeEnabled:function(){if(!C)throw Tt;return G.getLowLatencyModeEnabled()},seek:function(we){if(!C)throw Tt;if((0,ue.PS)(we,"number"),isNaN(we))throw d.Z.BAD_ARGUMENT_ERROR;we<0&&(we=0);var ot=G.getIsDynamic()?In(we):we,Dt=$n();!G.getIsDynamic()&&Dt.duration&&(ot=Math.min(Dt.duration,ot)),G.seek(ot,!1,!1,!0)},seekToOriginalLive:function(){C&&Sn()&&G.seekToOriginalLive()},setPlaybackRate:function(we){$n().playbackRate=we},getPlaybackRate:function(){return $n().playbackRate},setMute:function(we){(0,ue.PS)(we,"boolean"),$n().muted=we},isMuted:function(){return $n().muted},setVolume:function(we){if("number"!=typeof we||isNaN(we)||we<0||we>1)throw d.Z.BAD_ARGUMENT_ERROR;$n().volume=we},getVolume:function(){return $n().volume},time:yn,duration:Cn,timeAsUTC:function(){if(!C)throw Tt;return yn()<0?NaN:dt(yn())},durationAsUTC:function(){if(!C)throw Tt;return dt(Cn())},getActiveStream:Ot,getDVRWindowSize:function(){var we=Q&&Q.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,ot=X.getCurrentDVRInfo(we);return ot?ot.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:In,getAvailableBaseUrls:function(){var we=Re.getValue();return we?ve.getBaseUrls(we):[]},getAvailableLocations:function(){var we=Re.getValue();if(!we)return[];var ot=Ae.getLocation(we),Dt=he.getSynthesizedLocationElements(ot);return ot.concat(Dt)},getTargetLiveDelay:function(){if(!C)throw Tt;return G.getOriginalLiveDelay()},convertToTimeCode:function(we){we=Math.max(we,0);var ot=Math.floor(we/3600),Dt=Math.floor(we%3600/60),en=Math.floor(we%3600%60);return(0===ot?"":ot<10?"0"+ot.toString()+":":ot.toString()+":")+(Dt<10?"0"+Dt.toString():Dt.toString())+":"+(en<10?"0"+en.toString():en.toString())},formatUTC:function(we,ot,Dt){var en=arguments.length>3&&void 0!==arguments[3]&&arguments[3],fn=new Date(1e3*we),Xn=fn.toLocaleDateString(ot),Ur=fn.toLocaleTimeString(ot,{hour12:Dt});return en?Ur+" "+Xn:Ur},getVersion:Lt,getDebug:function(){return nt},getBufferLength:function(we){var ot=[d.Z.VIDEO,d.Z.AUDIO,d.Z.TEXT];if(we)return-1!==ot.indexOf(we)?sr().getCurrentBufferLevel(we)||NaN:(m.warn("getBufferLength requested for invalid type"),NaN);var Dt=ot.map(function(en){return nr(en).length>0?sr().getCurrentBufferLevel(en):Number.MAX_VALUE}).reduce(function(en,fn){return Math.min(en,fn)});return Dt===Number.MAX_VALUE?NaN:Dt},getTTMLRenderingDiv:function(){return Qe?Qe.getTTMLRenderingDiv():null},getVideoElement:$n,getSource:function(){if(!b)throw on;return b},updateSource:function(we){Q.load(b=we)},getCurrentLiveLatency:function(){if(!F)throw Le;return C?G.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(we){if(!O)throw wt;return se.getTopBitrateInfoFor(we)},setAutoPlay:Nn,getAutoPlay:function(){return B},getDashMetrics:sr,getQualityFor:function(we){if(!O)throw wt;if(we===d.Z.IMAGE){var ot=Ot();if(!ot)return-1;var Dt=ot.getThumbnailController();return Dt?Dt.getCurrentTrackIndex():-1}return se.getQualityFor(we)},setQualityFor:function(we,ot){var Dt=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!O)throw wt;if(we===d.Z.IMAGE){var en=Ot();if(!en)return;var fn=en.getThumbnailController();fn&&fn.setTrackByIndex(ot)}se.setPlaybackQuality(we,Q.getActiveStreamInfo(),ot,{forceReplace:Dt})},updatePortalSize:function(){se.setElementSize(),se.setWindowResizeEventCalled(!0)},enableText:function(we){var ot=Q.getActiveStreamInfo();return!(!ot||!z)&&z.enableText(ot.id,we)},enableForcedTextStreaming:function(we){return!(!Q.getActiveStreamInfo()||!z)&&z.enableForcedTextStreaming(we)},isTextEnabled:function(){var we=Q.getActiveStreamInfo();return!(!we||!z)&&z.isTextEnabled(we)},setTextTrack:function(we){if(!C)throw Tt;var ot=Q.getActiveStreamInfo();ot&&z&&z.setTextTrack(ot.id,we)},getBitrateInfoListFor:function(we){if(!O)throw wt;var ot=Ot();return ot?ot.getBitrateListFor(we):[]},getStreamsFromManifest:function(we){if(!O)throw wt;return Ae.getStreamsInfo(we)},getTracksFor:nr,getTracksForTypeFromManifest:function(we,ot,Dt){if(!O)throw wt;return(Dt=Dt||Ae.getStreamsInfo(ot,1)[0])?Ae.getAllMediaInfoForType(Dt,we,ot):[]},getCurrentTrackFor:function(we){if(!O)throw wt;var ot=Q.getActiveStreamInfo();return oe.getCurrentTrackFor(we,ot.id)},setInitialMediaSettingsFor:function(we,ot){if(!F)throw Le;oe.setInitialSettings(we,ot)},getInitialMediaSettingsFor:function(we){if(!F)throw Le;return oe.getInitialSettings(we)},setCurrentTrack:function(we){if(!O)throw wt;oe.setTrack(we)},addABRCustomRule:function(we,ot,Dt){ge.addAbrCustomRule(we,ot,Dt)},removeABRCustomRule:function(we){ge.removeAbrCustomRule(we)},removeAllABRCustomRule:function(){ge.removeAllAbrCustomRule()},getABRCustomRules:function(){return ge.getAbrCustomRules()},getAverageThroughput:function(we){var ot=se.getThroughputHistory(),Dt=G.getIsDynamic();return ot?ot.getAverageThroughput(we,Dt):0},retrieveManifest:function(we,ot){var Dt=mn(),en=this;Je.on(g.Z.INTERNAL_MANIFEST_LOADED,function fn(Xn){Xn.error?ot(null,Xn.error):ot(Xn.manifest),Je.off(g.Z.INTERNAL_MANIFEST_LOADED,fn,en),Dt.reset()},en),ke.initialize(we),Dt.load(we)},addUTCTimingSource:function(we,ot){ge.addUTCTimingSource(we,ot)},removeUTCTimingSource:function(we,ot){ge.removeUTCTimingSource(we,ot)},clearDefaultUTCTimingSources:function(){ge.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:er,setXHRWithCredentialsForType:function(we,ot){ge.setXHRWithCredentialsForType(we,ot)},getXHRWithCredentialsForType:function(we){return ge.getXHRWithCredentialsForType(we)},getProtectionController:function(){return mt()},attachProtectionController:function(we){ne=we},setProtectionData:function(we){I=we,Q&&Q.setProtectionData(I)},registerLicenseRequestFilter:function(we){ge.registerLicenseRequestFilter(we)},registerLicenseResponseFilter:function(we){ge.registerLicenseResponseFilter(we)},unregisterLicenseRequestFilter:function(we){ge.unregisterLicenseRequestFilter(we)},unregisterLicenseResponseFilter:function(we){ge.unregisterLicenseResponseFilter(we)},registerCustomCapabilitiesFilter:function(we){ge.registerCustomCapabilitiesFilter(we)},unregisterCustomCapabilitiesFilter:function(we){ge.unregisterCustomCapabilitiesFilter(we)},setCustomInitialTrackSelectionFunction:function(we){ge.setCustomInitialTrackSelectionFunction(we)},resetCustomInitialTrackSelectionFunction:function(){ge.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(we){if(!Qe.getElement())throw Bt;Qe.setTTMLRenderingDiv(we)},attachVttRenderingDiv:function(we){if(!Qe.getElement())throw Bt;Qe.setVttRenderingDiv(we)},getCurrentTextTrackIndex:function(){var we=Q.getActiveStreamInfo();if(we&&z)return z.getCurrentTrackIdx(we.id)},provideThumbnail:function(we,ot){if("function"==typeof ot)if(we<0)ot(null);else{var Dt=G.getIsDynamic()?In(we):we,en=Q.getStreamForTime(Dt);if(null!==en){var fn=en.getThumbnailController();if(fn)return fn.provide(Dt,ot);ot(null)}else ot(null)}},getDashAdapter:function(){return Ae},getOfflineController:function(){return Ht()},triggerSteeringRequest:function(){if(he)return he.loadSteeringData()},getCurrentSteeringResponseData:function(){if(he)return he.getCurrentSteeringResponseData()},getSettings:function(){return Oe.get()},updateSettings:function(we){Oe.update(we)},resetSettings:function(){Oe.reset()},reset:ct,destroy:function(){ct(),S.Z.deleteSingletonInstances(Te)}},m=nt.getLogger(y),F=!1,C=!1,O=!1,B=!0,ee=NaN,ne=null,Ce=null,I=null,Ae=null,Ft=null,g.Z.extend(h.Z),$=ql(Te).getInstance(),ge=(0,Wt.Z)(Te).getInstance(),Qe=Kl(Te).getInstance(),ke=fr(Te).getInstance(),y}Fd.__dashjs_factory_name="MediaPlayer";var La=S.Z.getClassFactory(Fd);La.events=h.Z,La.errors=pe,S.Z.updateClassFactory(Fd.__dashjs_factory_name,La);const vo=La},8825:(St,He,L)=>{"use strict";function be(T){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(T)}function P(T,g){return(P=Object.setPrototypeOf||function(S,x){return S.__proto__=x,S})(T,g)}function f(T){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(T)}L.d(He,{Z:()=>N});const N=new(function(T){!function(v,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&P(v,w)}(h,T);var g,S,x=(g=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,w=f(g);if(S){var q=f(this).constructor;v=Reflect.construct(w,arguments,q)}else v=w.apply(this,arguments);return function d(T,g){return!g||"object"!==be(g)&&"function"!=typeof g?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(T):g}(this,v)});function h(){var v;return function(w,q){if(!(w instanceof q))throw new TypeError("Cannot call a class as a function")}(this,h),(v=x.call(this)).AST_IN_FUTURE="astInFuture",v.BASE_URLS_UPDATED="baseUrlsUpdated",v.BUFFER_EMPTY="bufferStalled",v.BUFFER_LOADED="bufferLoaded",v.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",v.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",v.DYNAMIC_TO_STATIC="dynamicToStatic",v.ERROR="error",v.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",v.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",v.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",v.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",v.LOG="log",v.MANIFEST_LOADING_STARTED="manifestLoadingStarted",v.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",v.MANIFEST_LOADED="manifestLoaded",v.METRICS_CHANGED="metricsChanged",v.METRIC_CHANGED="metricChanged",v.METRIC_ADDED="metricAdded",v.METRIC_UPDATED="metricUpdated",v.PERIOD_SWITCH_STARTED="periodSwitchStarted",v.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",v.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",v.QUALITY_CHANGE_RENDERED="qualityChangeRendered",v.TRACK_CHANGE_RENDERED="trackChangeRendered",v.STREAM_INITIALIZING="streamInitializing",v.STREAM_UPDATED="streamUpdated",v.STREAM_ACTIVATED="streamActivated",v.STREAM_DEACTIVATED="streamDeactivated",v.STREAM_INITIALIZED="streamInitialized",v.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",v.TEXT_TRACKS_ADDED="allTextTracksAdded",v.TEXT_TRACK_ADDED="textTrackAdded",v.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",v.TTML_PARSED="ttmlParsed",v.TTML_TO_PARSE="ttmlToParse",v.CAPTION_RENDERED="captionRendered",v.CAPTION_CONTAINER_RESIZE="captionContainerResize",v.CAN_PLAY="canPlay",v.CAN_PLAY_THROUGH="canPlayThrough",v.PLAYBACK_ENDED="playbackEnded",v.PLAYBACK_ERROR="playbackError",v.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",v.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",v.PLAYBACK_LOADED_DATA="playbackLoadedData",v.PLAYBACK_PAUSED="playbackPaused",v.PLAYBACK_PLAYING="playbackPlaying",v.PLAYBACK_PROGRESS="playbackProgress",v.PLAYBACK_RATE_CHANGED="playbackRateChanged",v.PLAYBACK_SEEKED="playbackSeeked",v.PLAYBACK_SEEKING="playbackSeeking",v.PLAYBACK_STALLED="playbackStalled",v.PLAYBACK_STARTED="playbackStarted",v.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",v.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",v.PLAYBACK_WAITING="playbackWaiting",v.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",v.EVENT_MODE_ON_START="eventModeOnStart",v.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",v.CONFORMANCE_VIOLATION="conformanceViolation",v.REPRESENTATION_SWITCH="representationSwitch",v.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",v.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",v.INBAND_PRFT="inbandPrft",v}return h}(L(8342).Z))},3393:(St,He,L)=>{"use strict";L.d(He,{Z:()=>P});const P=new(function(){function d(){(function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}var N;return(N=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&function be(d,f){for(var N=0;N<f.length;N++){var T=f[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}(d.prototype,N),d}())},3860:(St,He,L)=>{"use strict";L.d(He,{Z:()=>P});const P=new(function(){function d(){(function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}var N;return(N=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&function be(d,f){for(var N=0;N<f.length;N++){var T=f[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}(d.prototype,N),d}())},8080:(St,He,L)=>{"use strict";L.d(He,{default:()=>R});var be=function M(){(function(ue,ae){if(!(ue instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,M),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};be.SSL_CONNECTION_FAILED_PREFIX="SSL",be.DNS_RESOLUTION_FAILED="C00",be.HOST_UNREACHABLE="C01",be.CONNECTION_REFUSED="C02",be.CONNECTION_ERROR="C03",be.CORRUPT_MEDIA_ISOBMFF="M00",be.CORRUPT_MEDIA_OTHER="M01",be.BASE_URL_CHANGED="F00",be.BECAME_REPORTER="S00";const P=be;var d=L(1180);function f(M){var ue,ae,Ie=(M=M||{}).eventBus,Ge=M.dashMetrics,We=M.metricsConstants,Fe=M.events;function et(xt){var rn=new P;if(ae){for(var Mn in xt)xt.hasOwnProperty(Mn)&&(rn[Mn]=xt[Mn]);rn.mpdurl||(rn.mpdurl=ae.originalUrl||ae.url),rn.terror||(rn.terror=new Date),Ge.addDVBErrors(rn)}}function it(xt){xt.error||(ae=xt.manifest)}function Me(xt){et({errorcode:P.BASE_URL_CHANGED,servicelocation:xt.entry})}function Ke(){et({errorcode:P.BECAME_REPORTER})}function Xe(xt){var rn;xt.metric===We.HTTP_REQUEST&&(0===(rn=xt.value).responsecode||null==rn.responsecode||rn.responsecode>=400||rn.responsecode<100||rn.responsecode>=600)&&et({errorcode:rn.responsecode||P.CONNECTION_ERROR,url:rn.url,terror:rn.tresponse,servicelocation:rn._serviceLocation})}function Et(xt){var rn;switch(xt.error?xt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:rn=P.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:rn=P.CORRUPT_MEDIA_OTHER;break;default:return}et({errorcode:rn})}return ue={initialize:function(){Ie.on(Fe.MANIFEST_UPDATED,it,ue),Ie.on(Fe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Me,ue),Ie.on(Fe.METRIC_ADDED,Xe,ue),Ie.on(Fe.METRIC_UPDATED,Xe,ue),Ie.on(Fe.PLAYBACK_ERROR,Et,ue),Ie.on(d.Z.BECAME_REPORTING_PLAYER,Ke,ue)},reset:function(){Ie.off(Fe.MANIFEST_UPDATED,it,ue),Ie.off(Fe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Me,ue),Ie.off(Fe.METRIC_ADDED,Xe,ue),Ie.off(Fe.METRIC_UPDATED,Xe,ue),Ie.off(Fe.PLAYBACK_ERROR,Et,ue),Ie.off(d.Z.BECAME_REPORTING_PLAYER,Ke,ue)}}}f.__dashjs_factory_name="DVBErrorsTranslator";const N=dashjs.FactoryMaker.getSingletonFactory(f);var T=L(2295);function g(M){var ue,ae,Ie=!1,We=(M=M||{}).mediaElement;return ue={initialize:function(Fe){Fe&&Fe.length&&(Fe.forEach(function(et){var it=et.starttime;ae.add(it,it+et.duration)}),Ie=!!Fe[0]._useWallClockTime)},reset:function(){ae.clear()},isEnabled:function(){var Fe,et=ae.length;if(!et)return!0;Fe=Ie?(new Date).getTime()/1e3:We.currentTime;for(var it=0;it<et;it+=1){var Me=ae.start(it),Ke=ae.end(it);if(Me<=Fe&&Fe<Ke)return!0}return!1}},ae=(0,T.Z)(this.context).create(),ue}g.__dashjs_factory_name="RangeController";const S=dashjs.FactoryMaker.getClassFactory(g);function x(){return{serialise:function M(ue){var ae,Ie,Ge=[],We=[];for(ae in ue)if(ue.hasOwnProperty(ae)&&0!==ae.indexOf("_")){if(null==(Ie=ue[ae])&&(Ie=""),Array.isArray(Ie)){if(!Ie.length)continue;We=[],Ie.forEach(function(Fe){var et="Object"!==Object.prototype.toString.call(Fe).slice(8,-1);We.push(et?Fe:M(Fe))}),Ie=We.map(encodeURIComponent).join(",")}else"string"==typeof Ie?Ie=encodeURIComponent(Ie):Ie instanceof Date?Ie=Ie.toISOString():"number"==typeof Ie&&(Ie=Math.round(Ie));Ge.push(ae+"="+Ie)}return Ge.join("&")}}}x.__dashjs_factory_name="MetricSerialiser";const h=dashjs.FactoryMaker.getSingletonFactory(x);function v(){var M,ue,ae,Ie=window.crypto||window.msCrypto,Ge=Uint32Array,We=Math.pow(2,8*Ge.BYTES_PER_ELEMENT)-1;function Fe(){Ie&&(M||(M=new Ge(10)),Ie.getRandomValues(M),ue=0)}return ae={random:function(et,it){var Me;return et||(et=0),it||(it=1),Ie?(ue===M.length&&Fe(),Me=M[ue]/We,ue+=1):Me=Math.random(),Me*(it-et)+et}},Fe(),ae}v.__dashjs_factory_name="RNG";const w=dashjs.FactoryMaker.getSingletonFactory(v);var q=L(5717);function W(M){var ue,ae,Ie,Ge,We,Fe,et,it,Me=this.context,Ke=[],Xe=(M=M||{}).metricsConstants;function Et(){We=!1,Fe=!1,et=null,it=null}return ue={report:function(xt,rn){Array.isArray(rn)||(rn=[rn]),Fe&&it.isEnabled()&&rn.forEach(function(Mn){var Tn=ae.serialise(Mn);xt!==Xe.DVB_ERRORS&&(Tn="metricname=".concat(xt,"&").concat(Tn)),function(vn,Gn,Zn){var vr=new XMLHttpRequest;vr.withCredentials=Ie.getXHRWithCredentialsForType(Xe.HTTP_REQUEST_DVB_REPORTING_TYPE);var mi=function(){var Ti=Ke.indexOf(vr);-1!==Ti&&(Ke.splice(Ti,1),!(vr.status>=200&&vr.status<300)&&Zn&&Zn())};Ke.push(vr);try{vr.open("GET",vn),vr.onloadend=mi,vr.onerror=mi,vr.send()}catch{vr.onerror()}}(Tn="".concat(et,"?").concat(Tn),0,function(){Fe=!1})})},initialize:function(xt,rn){var Mn;if(it=rn,!(et=xt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");We||((Mn=xt.dvb_probability)&&(1e3===Mn||Mn/1e3>=Ge.random())&&(Fe=!0),We=!0)},reset:function(){Et()}},ae=h(Me).getInstance(),Ge=w(Me).getInstance(),Ie=(0,q.Z)(Me).getInstance(),Et(),ue}W.__dashjs_factory_name="DVBReporting";const ie=dashjs.FactoryMaker.getClassFactory(W);function J(M){var ae={"urn:dvb:dash:reporting:2014":ie},Ie=this.context,Ge=(M=M||{}).debug?M.debug.getLogger(void 0):{},We=M.metricsConstants,Fe=M.mediaPlayerModel||{};return{create:function(et,it){var Me;try{(Me=ae[et.schemeIdUri](Ie).create({metricsConstants:We,mediaPlayerModel:Fe})).initialize(et,it)}catch(Ke){Me=null,Ge.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(et.schemeIdUri," (").concat(Ke.message,")"))}return Me},register:function(et,it){ae[et]=it},unregister:function(et){delete ae[et]}}}J.__dashjs_factory_name="ReportingFactory";const le=dashjs.FactoryMaker.getSingletonFactory(J);function Z(M){var ue=[],ae=le(this.context).getInstance(M);return{initialize:function(Ie,Ge){Ie.some(function(We){var Fe=ae.create(We,Ge);if(Fe)return ue.push(Fe),!0})},reset:function(){ue.forEach(function(Ie){return Ie.reset()}),ue=[]},report:function(Ie,Ge){ue.forEach(function(We){return We.report(Ie,Ge)})}}}Z.__dashjs_factory_name="ReportingController";const k=dashjs.FactoryMaker.getClassFactory(Z);function K(){return{reconstructFullMetricName:function(M,ue,ae){var Ie=M;return ue&&(Ie+="("+ue,ae&&ae.length&&(Ie+=","+ae),Ie+=")"),Ie},validateN:function(M){if(!M)throw new Error("missing n");if(isNaN(M))throw new Error("n is NaN");if(M<0)throw new Error("n must be positive");return M}}}K.__dashjs_factory_name="HandlerHelpers";const de=dashjs.FactoryMaker.getSingletonFactory(K);function ce(M){var ue,ae,Ie,Ge,We;M=M||{};var et=de(this.context).getInstance(),it=[],Me=M.metricsConstants;function Ke(){var Xe=function(){try{return Object.keys(it).map(function(Et){return it[Et]}).reduce(function(Et,xt){return Et.level<xt.level?Et:xt})}catch{return}}();Xe&&We!==Xe.t&&(We=Xe.t,ue.report(Ie,Xe))}return{initialize:function(Xe,Et,xt){Et&&(ae=et.validateN(xt),ue=Et,Ie=et.reconstructFullMetricName(Xe,xt),Ge=setInterval(Ke,ae))},reset:function(){clearInterval(Ge),Ge=null,ae=0,ue=null,We=null},handleNewMetric:function(Xe,Et,xt){Xe===Me.BUFFER_LEVEL&&(it[xt]=Et)}}}ce.__dashjs_factory_name="BufferLevelHandler";const ze=dashjs.FactoryMaker.getClassFactory(ce),st=dashjs.FactoryMaker.getClassFactory(function(M){var ue,ae=(M=M||{}).eventBus,Ie=M.metricsConstants;function Ge(){ae.off(d.Z.METRICS_INITIALISATION_COMPLETE,Ge,this),ae.trigger(d.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(We,Fe){Fe&&(ue=Fe,ae.on(d.Z.METRICS_INITIALISATION_COMPLETE,Ge,this))},reset:function(){ue=null},handleNewMetric:function(We,Fe){We===Ie.DVB_ERRORS&&ue&&ue.report(We,Fe)}}});function pe(M){var ue,ae,Ie,Ge,We;M=M||{};var Fe=[],et=de(this.context).getInstance(),it=M.metricsConstants;function Me(){Fe.length&&ue&&ue.report(Ge,Fe),Fe=[]}return{initialize:function(Ke,Xe,Et,xt){Xe&&(ae=et.validateN(Et),ue=Xe,xt&&xt.length&&(Ie=xt),Ge=et.reconstructFullMetricName(Ke,Et,xt),We=setInterval(Me,ae))},reset:function(){clearInterval(We),We=null,ae=null,Ie=null,Fe=[],ue=null},handleNewMetric:function(Ke,Xe){Ke===it.HTTP_REQUEST&&(Ie&&Ie!==Xe.type||Fe.push(Xe))}}}pe.__dashjs_factory_name="HttpListHandler";const Mt=dashjs.FactoryMaker.getClassFactory(pe);function je(){var M,ue;return{initialize:function(ae,Ie){M=ae,ue=Ie},reset:function(){ue=null,M=void 0},handleNewMetric:function(ae,Ie){ae===M&&ue&&ue.report(M,Ie)}}}je.__dashjs_factory_name="GenericMetricHandler";const Ye=dashjs.FactoryMaker.getClassFactory(je);function Ne(M){var ae=(M=M||{}).debug?M.debug.getLogger(void 0):{},Ie=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,Ge=this.context,We={BufferLevel:ze,DVBErrors:st,HttpList:Mt,PlayList:Ye,RepSwitchList:Ye,TcpList:Ye};return{create:function(Fe,et){var it,Me=Fe.match(Ie);if(Me){try{(it=We[Me[1]](Ge).create({eventBus:M.eventBus,metricsConstants:M.metricsConstants})).initialize(Me[1],et,Me[3],Me[5])}catch(Ke){it=null,ae.error("MetricsHandlerFactory: Could not create handler for type ".concat(Me[1]," with args ").concat(Me[3],", ").concat(Me[5]," (").concat(Ke.message,")"))}return it}},register:function(Fe,et){We[Fe]=et},unregister:function(Fe){delete We[Fe]}}}Ne.__dashjs_factory_name="MetricsHandlerFactory";const Ve=dashjs.FactoryMaker.getSingletonFactory(Ne);function rt(M){var ue,ae=[],Ge=(M=M||{}).eventBus,We=M.events,Fe=Ve(this.context).getInstance({debug:M.debug,eventBus:M.eventBus,metricsConstants:M.metricsConstants});function et(it){ae.forEach(function(Me){Me.handleNewMetric(it.metric,it.value,it.mediaType)})}return ue={initialize:function(it,Me){it.split(",").forEach(function(Ke,Xe,Et){var xt;if(-1!==Ke.indexOf("(")&&-1===Ke.indexOf(")")){var rn=Et[Xe+1];rn&&-1===rn.indexOf("(")&&-1!==rn.indexOf(")")&&(Ke+=","+rn,delete Et[Xe+1])}(xt=Fe.create(Ke,Me))&&ae.push(xt)}),Ge.on(We.METRIC_ADDED,et,ue),Ge.on(We.METRIC_UPDATED,et,ue)},reset:function(){Ge.off(We.METRIC_ADDED,et,ue),Ge.off(We.METRIC_UPDATED,et,ue),ae.forEach(function(it){return it.reset()}),ae=[]}}}rt.__dashjs_factory_name="MetricsHandlersController";const It=dashjs.FactoryMaker.getClassFactory(rt);function ft(M){var ue,ae,Ie;M=M||{};var Ge=this.context;function We(){ue&&ue.reset(),ae&&ae.reset(),Ie&&Ie.reset()}return{initialize:function(Fe){try{(Ie=S(Ge).create({mediaElement:M.mediaElement})).initialize(Fe.Range),(ae=k(Ge).create({debug:M.debug,metricsConstants:M.metricsConstants,mediaPlayerModel:M.mediaPlayerModel})).initialize(Fe.Reporting,Ie),(ue=It(Ge).create({debug:M.debug,eventBus:M.eventBus,metricsConstants:M.metricsConstants,events:M.events})).initialize(Fe.metrics,ae)}catch(et){throw We(),et}},reset:We}}ft.__dashjs_factory_name="MetricsController";const Pe=dashjs.FactoryMaker.getClassFactory(ft),pt=function M(){(function(ue,ae){if(!(ue instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,M),this.metrics="",this.Range=[],this.Reporting=[]},Pt=function M(){(function(ue,ae){if(!(ue instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,M),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},$e=function M(){(function(ue,ae){if(!(ue instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,M),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function ut(M){var ue=(M=M||{}).adapter,ae=M.constants;return{getMetrics:function(Ie){var Ge=[];return Ie&&Ie.Metrics_asArray&&Ie.Metrics_asArray.forEach(function(We){var Fe=new pt,et=ue.getIsDynamic(Ie);We.hasOwnProperty("metrics")&&(Fe.metrics=We.metrics,We.Range_asArray&&We.Range_asArray.forEach(function(it){var Ke,Et,xt,rn,Mn,Me=new Pt;Me.starttime=(Ke=Ie,Et=it,Mn=0,et?Mn=ue.getAvailabilityStartTime(Ke)/1e3:(xt=ue.getRegularPeriods(Ke)).length&&(Mn=xt[0].start),rn=Mn,Et&&Et.hasOwnProperty(ae.START_TIME)&&(rn+=Et.starttime),rn),Me.duration=it.hasOwnProperty("duration")?it.duration:ue.getDuration(Ie),Me._useWallClockTime=et,Fe.Range.push(Me)}),We.Reporting_asArray&&(We.Reporting_asArray.forEach(function(it){var Me=new $e;it.hasOwnProperty(ae.SCHEME_ID_URI)&&(Me.schemeIdUri=it.schemeIdUri,it.hasOwnProperty("value")&&(Me.value=it.value),it.hasOwnProperty(ae.DVB_REPORTING_URL)&&(Me.dvb_reportingUrl=it[ae.DVB_REPORTING_URL]),it.hasOwnProperty(ae.DVB_PROBABILITY)&&(Me.dvb_probability=it[ae.DVB_PROBABILITY]),Fe.Reporting.push(Me))}),Ge.push(Fe)))}),Ge}}}ut.__dashjs_factory_name="ManifestParsing";const Se=dashjs.FactoryMaker.getSingletonFactory(ut);function ye(M){var ue,ae={},Ie=this.context,Ge=(M=M||{}).eventBus,We=M.events;function Fe(it){if(!it.error){var Me=Object.keys(ae);Se(Ie).getInstance({adapter:M.adapter,constants:M.constants}).getMetrics(it.manifest).forEach(function(Ke){var Xe=JSON.stringify(Ke);if(ae.hasOwnProperty(Xe))Me.splice(Xe,1);else try{var Et=Pe(Ie).create(M);Et.initialize(Ke),ae[Xe]=Et}catch{}}),Me.forEach(function(Ke){ae[Ke].reset(),delete ae[Ke]}),Ge.trigger(d.Z.METRICS_INITIALISATION_COMPLETE)}}function et(){Object.keys(ae).forEach(function(it){ae[it].reset()}),ae={}}return ue={reset:function(){Ge.off(We.MANIFEST_UPDATED,Fe,ue),Ge.off(We.STREAM_TEARDOWN_COMPLETE,et,ue)}},Ge.on(We.MANIFEST_UPDATED,Fe,ue),Ge.on(We.STREAM_TEARDOWN_COMPLETE,et,ue),ue}ye.__dashjs_factory_name="MetricsCollectionController";const at=dashjs.FactoryMaker.getClassFactory(ye);function E(){var M=this.context;return{createMetricsReporting:function(ue){return N(M).getInstance({eventBus:ue.eventBus,dashMetrics:ue.dashMetrics,metricsConstants:ue.metricsConstants,events:ue.events}).initialize(),at(M).create(ue)},getReportingFactory:function(){return le(M).getInstance()},getMetricsHandlerFactory:function(){return Ve(M).getInstance()}}}E.__dashjs_factory_name="MetricsReporting";var _=dashjs.FactoryMaker.getClassFactory(E);_.events=d.Z,dashjs.FactoryMaker.updateClassFactory(E.__dashjs_factory_name,_);const R=_},1180:(St,He,L)=>{"use strict";function be(T){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(T)}function P(T,g){return(P=Object.setPrototypeOf||function(S,x){return S.__proto__=x,S})(T,g)}function f(T){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(T)}L.d(He,{Z:()=>N});const N=new(function(T){!function(v,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&P(v,w)}(h,T);var g,S,x=(g=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,w=f(g);if(S){var q=f(this).constructor;v=Reflect.construct(w,arguments,q)}else v=w.apply(this,arguments);return function d(T,g){return!g||"object"!==be(g)&&"function"!=typeof g?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(T):g}(this,v)});function h(){var v;return function(w,q){if(!(w instanceof q))throw new TypeError("Cannot call a class as a function")}(this,h),(v=x.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",v.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",v.CMCD_DATA_GENERATED="cmcdDataGenerated",v}return h}(L(8342).Z))},5717:(St,He,L)=>{"use strict";L.d(He,{Z:()=>S});var be=L(2610),P=L(5448),d=L(1264),f=L(3106),N=L(1767),T=L(3393);function g(){var x,h,v,w,q,W,ie,J,Z=(0,d.Z)(this.context).getInstance();function k(){w=[],q=[],W=[],J=[],ie=null,h=[]}function K(st,pe){var Mt=-1;st.some(function(je,Ye){if(je===pe)return Mt=Ye,!0}),Mt<0||st.splice(Mt,1)}function de(st){var pe;for(pe=0;pe<J.length;pe++)if(J[pe].rulename===st)return pe;return-1}function ce(st,pe){ze(st,pe);var Mt=new be.Z;Mt.schemeIdUri=st,Mt.value=pe,h.push(Mt)}function ze(st,pe){(0,f.PS)(st,"string"),(0,f.PS)(pe,"string"),h.forEach(function(Mt,je){Mt.schemeIdUri===st&&Mt.value===pe&&h.splice(je,1)})}return x={getCustomInitialTrackSelectionFunction:function(){return ie},setCustomInitialTrackSelectionFunction:function(st){ie=st},resetCustomInitialTrackSelectionFunction:function(){ie=null},getLicenseResponseFilters:function(){return q},getLicenseRequestFilters:function(){return w},getCustomCapabilitiesFilters:function(){return W},registerCustomCapabilitiesFilter:function(st){W.push(st)},registerLicenseResponseFilter:function(st){q.push(st)},registerLicenseRequestFilter:function(st){w.push(st)},unregisterCustomCapabilitiesFilter:function(st){K(W,st)},unregisterLicenseResponseFilter:function(st){K(q,st)},unregisterLicenseRequestFilter:function(st){K(w,st)},addAbrCustomRule:function(st,pe,Mt){if("string"!=typeof st||st!==N.Z.ABANDON_FRAGMENT_RULES&&st!==N.Z.QUALITY_SWITCH_RULES||"string"!=typeof pe)throw T.Z.BAD_ARGUMENT_ERROR;var je=de(pe);-1===je?J.push({type:st,rulename:pe,rule:Mt}):(J[je].type=st,J[je].rule=Mt)},removeAllAbrCustomRule:function(){J=[]},removeAbrCustomRule:function(st){if(st){var pe=de(st);-1!==pe&&J.splice(pe,1)}else J=[]},getAbrCustomRules:function(){return J},addUTCTimingSource:ce,removeUTCTimingSource:ze,getUTCTimingSources:function(){return h},clearDefaultUTCTimingSources:function(){h=[]},restoreDefaultUTCTimingSources:function(){var st=Z.get().streaming.utcSynchronization.defaultTimingSource;ce(st.scheme,st.value)},setXHRWithCredentialsForType:function st(pe,Mt){pe?v[pe]=!!Mt:Object.keys(v).forEach(function(je){st(je,Mt)})},getXHRWithCredentialsForType:function(st){var pe=v[st];return void 0===pe?v.default:pe},setConfig:function(){},reset:function(){k()}},v={default:!1},k(),x}g.__dashjs_factory_name="CustomParametersModel";const S=P.Z.getSingletonFactory(g)},9032:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f});var be=L(5448),P=L(7473);function d(N){var T=(N=N||{}).requestModifier;function g(S){var x=new Date,h=S.request,v=new XMLHttpRequest;if(v.open(S.method,S.url,!0),h.responseType&&(v.responseType=h.responseType),h.range&&v.setRequestHeader("Range","bytes="+h.range),h.requestStartDate||(h.requestStartDate=x),T&&T.modifyRequestHeader&&(v=T.modifyRequestHeader(v,{url:S.url})),S.headers)for(var w in S.headers){var q=S.headers[w];q&&v.setRequestHeader(w,q)}v.withCredentials=S.withCredentials,v.onload=S.onload,v.onloadend=S.onend,v.onerror=S.onerror,v.onprogress=S.progress,v.onabort=S.onabort,v.ontimeout=S.ontimeout,v.timeout=S.timeout,v.send(),S.response=v}return{load:function(S){T&&T.modifyRequest?(0,P.k)(S,T).then(function(){return g(S)}):g(S)},abort:function(S){var x=S.response;x.onloadend=x.onerror=x.onprogress=void 0,x.abort()}}}d.__dashjs_factory_name="XHRLoader";const f=be.Z.getClassFactory(d)},1737:(St,He,L)=>{"use strict";L.d(He,{default:()=>ol});var P={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};const d=function(){function Zt(){!function(lt,Rt){if(!(lt instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this,Zt)}var jt;return(jt=[{key:"findCencContentProtection",value:function(lt){for(var Rt=null,_t=0;_t<lt.length;++_t){var At=lt[_t];"urn:mpeg:dash:mp4protection:2011"!==At.schemeIdUri.toLowerCase()||"cenc"!==At.value.toLowerCase()&&"cbcs"!==At.value.toLowerCase()||(Rt=At)}return Rt}},{key:"getPSSHData",value:function(lt){var Rt=8,_t=new DataView(lt),At=_t.getUint8(Rt);return Rt+=20,At>0&&(Rt+=4+16*_t.getUint32(Rt)),lt.slice(Rt+=4)}},{key:"getPSSHForKeySystem",value:function(lt,Rt){var _t=Zt.parsePSSHList(Rt);return lt&&_t.hasOwnProperty(lt.uuid.toLowerCase())?_t[lt.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(lt,Rt){return"pssh"in lt?(lt.pssh.__text=lt.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),Rt.decodeArray(lt.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(lt){if(null==lt)return[];for(var Rt=new DataView(lt.buffer||lt),_t={},At=0;;){var Jt,tn,En=void 0,hn=At;if(At>=Rt.buffer.byteLength)break;if(Jt=At+Rt.getUint32(At),1886614376===Rt.getUint32(At+=4))if(0===(tn=Rt.getUint8(At+=4))||1===tn){At++,At+=3,En="";var sn=void 0,Ut=void 0;for(sn=0;sn<4;sn++)En+=1===(Ut=Rt.getUint8(At+sn).toString(16)).length?"0"+Ut:Ut;for(At+=4,En+="-",sn=0;sn<2;sn++)En+=1===(Ut=Rt.getUint8(At+sn).toString(16)).length?"0"+Ut:Ut;for(At+=2,En+="-",sn=0;sn<2;sn++)En+=1===(Ut=Rt.getUint8(At+sn).toString(16)).length?"0"+Ut:Ut;for(At+=2,En+="-",sn=0;sn<2;sn++)En+=1===(Ut=Rt.getUint8(At+sn).toString(16)).length?"0"+Ut:Ut;for(At+=2,En+="-",sn=0;sn<6;sn++)En+=1===(Ut=Rt.getUint8(At+sn).toString(16)).length?"0"+Ut:Ut;At+=6,At+=4,_t[En=En.toLowerCase()]=Rt.buffer.slice(hn,Jt),At=Jt}else At=Jt;else At=Jt}return _t}},{key:"getLicenseServerUrlFromMediaInfo",value:function(lt,Rt){try{if(!lt||0===lt.length)return null;for(var _t=0,At=null;_t<lt.length&&!At;){var Jt=lt[_t];if(Jt&&Jt.contentProtection&&Jt.contentProtection.length>0){var tn=Jt.contentProtection.filter(function(Un){return Un.schemeIdUri&&Un.schemeIdUri===Rt});if(tn&&tn.length>0)for(var En=0;En<tn.length&&!At;){for(var hn=tn[En],sn=0;sn<P.attributes.length&&!At;){for(var Ut=0,gn=P.attributes[sn];Ut<P.prefixes.length&&!At;)hn[gn]&&hn[gn].__prefix&&hn[gn].__prefix===P.prefixes[Ut]&&hn[gn].__text&&(At=hn[gn].__text),Ut+=1;sn+=1}En+=1}}_t+=1}return At}catch{return null}}}])&&function be(Zt,Vt){for(var jt=0;jt<Vt.length;jt++){var lt=Vt[jt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Zt,lt.key,lt)}}(Zt,jt),Zt}(),f=function Zt(Vt,jt){(function(lt,Rt){if(!(lt instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.contentType=Vt,this.robustness=jt},N=function Zt(Vt,jt,lt,Rt,_t){(function(At,Jt){if(!(At instanceof Jt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.initDataTypes=["cenc"],Vt&&Vt.length&&(this.audioCapabilities=Vt),jt&&jt.length&&(this.videoCapabilities=jt),this.distinctiveIdentifier=lt,this.persistentState=Rt,this.sessionTypes=_t};function T(Zt){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Vt){return typeof Vt}:function(Vt){return Vt&&"function"==typeof Symbol&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt})(Zt)}function g(Zt,Vt){return(g=Object.setPrototypeOf||function(jt,lt){return jt.__proto__=lt,jt})(Zt,Vt)}function x(Zt){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(Vt){return Vt.__proto__||Object.getPrototypeOf(Vt)})(Zt)}const h=new(function(Zt){!function(_t,At){if("function"!=typeof At&&null!==At)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(At&&At.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),At&&g(_t,At)}(Rt,Zt);var Vt,jt,lt=(Vt=Rt,jt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _t,At=x(Vt);if(jt){var Jt=x(this).constructor;_t=Reflect.construct(At,arguments,Jt)}else _t=At.apply(this,arguments);return function S(Zt,Vt){return!Vt||"object"!==T(Vt)&&"function"!=typeof Vt?function(jt){if(void 0===jt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jt}(Zt):Vt}(this,_t)});function Rt(){var _t;return function(At,Jt){if(!(At instanceof Jt))throw new TypeError("Cannot call a class as a function")}(this,Rt),(_t=lt.call(this)).MEDIA_KEYERR_CODE=100,_t.MEDIA_KEYERR_UNKNOWN_CODE=101,_t.MEDIA_KEYERR_CLIENT_CODE=102,_t.MEDIA_KEYERR_SERVICE_CODE=103,_t.MEDIA_KEYERR_OUTPUT_CODE=104,_t.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,_t.MEDIA_KEYERR_DOMAIN_CODE=106,_t.MEDIA_KEY_MESSAGE_ERROR_CODE=107,_t.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,_t.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,_t.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,_t.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,_t.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,_t.KEY_SESSION_CREATED_ERROR_CODE=113,_t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,_t.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",_t.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",_t.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",_t.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",_t.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",_t.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",_t.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",_t.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",_t.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",_t.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",_t.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",_t.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",_t.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",_t.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",_t}return Rt}(L(2230).Z));var v=L(5459);const w=function Zt(Vt,jt,lt,Rt,_t,At,Jt,tn){(function(En,hn){if(!(En instanceof hn))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.url=Vt,this.method=jt,this.responseType=lt,this.headers=Rt,this.withCredentials=_t,this.messageType=At,this.sessionId=Jt,this.data=tn},q=function Zt(Vt,jt,lt){(function(Rt,_t){if(!(Rt instanceof _t))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.url=Vt,this.headers=jt,this.data=lt};var W=L(7855),ie=L(703),J=L(3393),le=L(5448);function Z(Zt){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Vt){return typeof Vt}:function(Vt){return Vt&&"function"==typeof Symbol&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt})(Zt)}function k(Zt){var Vt,jt,lt,Rt,_t,At,Jt,tn,En,hn,sn,Ut=(Zt=Zt||{}).protectionKeyController,gn=Zt.protectionModel,pn=Zt.eventBus,Un=Zt.events,Or=Zt.BASE64,Rn=Zt.constants,zt=[],kt=Zt.cmcdModel,nn=Zt.settings,Pn=Zt.customParametersModel;function qn(){if(!(pn&&pn.hasOwnProperty("on")&&Ut&&Ut.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function wr(Wt,On){tn||En?tn&&Dr():function(Yn,ci){if(!En){En=!0;var ei,ir=[];Yn=Yn.sort(function(ui,Yr){return(_t&&_t[ui.ks.systemString]&&_t[ui.ks.systemString].priority>=0?_t[ui.ks.systemString].priority:Yn.length)-(_t&&_t[Yr.ks.systemString]&&_t[Yr.ks.systemString].priority>=0?_t[Yr.ks.systemString].priority:Yn.length)});for(var Pr=0;Pr<Yn.length;Pr++){var Ir=Da(Yn[Pr]);ir.push({ks:Yn[Pr].ks,configs:[Ir],protData:Yn[Pr].protData})}gn.requestKeySystemAccess(ir).then(function(ui){var Yr=(ei=ui.data).mksa&&ei.mksa.selectedSystemString?ei.mksa.selectedSystemString:ei.keySystem.systemString;return jt.info("DRM: KeySystem Access Granted for system string ("+Yr+")!  Selecting key system..."),gn.selectKeySystem(ei)}).then(function(ui){if(tn=ui,En=!1,gn){pn.trigger(Un.KEY_SYSTEM_SELECTED,{data:ei});var Yr=vi(tn);Yr&&Yr.serverCertificate&&Yr.serverCertificate.length>0&&gn.setServerCertificate(Or.decodeArray(Yr.serverCertificate).buffer),Dr()}}).catch(function(ui){tn=null,En=!1,ci||pn.trigger(Un.KEY_SYSTEM_SELECTED,{data:null,error:new v.Z(h.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,h.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+ui.error)})})}}(Wt,On)}function Dr(){for(var Wt,On=0;On<lt.length;On++)for(Wt=0;Wt<lt[On].length;Wt++)if(tn===lt[On][Wt].ks){Ii(lt[On][Wt]);break}lt=[]}function Ii(Wt){if(Ut.isClearKey(tn)&&Wt.protData&&Wt.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Wt.protData.clearkeys).length){var On={kids:Object.keys(Wt.protData.clearkeys)};Wt.initData=(new TextEncoder).encode(JSON.stringify(On))}Wt.sessionId?Si(Wt):null!==Wt.initData&&Lr(Wt)}function Si(Wt){qn(),gn.loadKeySession(Wt)}function Lr(Wt){var On=d.getPSSHForKeySystem(tn,Wt?Wt.initData:null);if(On){if(function(Yn){if(!Yn)return!1;try{for(var ci=gn.getSessions(),ei=0;ei<ci.length;ei++)if(ci[ei].getKeyId()===Yn)return!0;return!1}catch{return!1}}(Wt.keyId)||ii(On))return;try{Wt.initData=On,gn.createKeySession(Wt)}catch(Yn){pn.trigger(Un.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+Yn.message)})}}else Wt&&Wt.initData?gn.createKeySession(Wt):pn.trigger(Un.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(tn?tn.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function vi(Wt){if(Wt){var On=Wt.systemString;if(_t)return On in _t?_t[On]:null}return null}function ii(Wt){if(!Wt)return!1;try{for(var On=gn.getAllInitData(),Yn=0;Yn<On.length;Yn++)if(Ut.initDataEquals(Wt,On[Yn]))return jt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Vi(Wt){qn(),Wt?(gn.setMediaElement(Wt),pn.on(Un.NEED_KEY,Qn,Vt)):null===Wt&&(gn.setMediaElement(Wt),pn.off(Un.NEED_KEY,Qn,Vt))}function Da(Wt){var On=Wt.protData,Yn=[],ci=[],ei=On&&On.audioRobustness&&On.audioRobustness.length>0?On.audioRobustness:Jt,ir=On&&On.videoRobustness&&On.videoRobustness.length>0?On.videoRobustness:Jt,Pr=Wt.sessionType,Ir=On&&On.distinctiveIdentifier?On.distinctiveIdentifier:"optional",ui=On&&On.persistentState?On.persistentState:"temporary"===Pr?"optional":"required";return Rt.forEach(function(Yr){Yr.type===Rn.AUDIO?Yn.push(new f(Yr.codec,ei)):Yr.type===Rn.VIDEO&&ci.push(new f(Yr.codec,ir))}),new N(Yn,ci,Ir,ui,[Pr])}function Ks(Wt){Wt.error?pn.trigger(Un.KEY_STATUSES_CHANGED,{data:null,error:Wt.error}):jt.debug("DRM: key status = "+Wt.status)}function Vo(Wt){jt.debug("DRM: onKeyMessage");var On=Wt.data;pn.trigger(Un.KEY_MESSAGE,{data:On});var Yn=On.messageType?On.messageType:"license-request",ci=On.message,ei=On.sessionToken,ir=vi(tn),Pr=Ut.getLicenseServerModelInstance(tn,ir,Yn),Ir={sessionToken:ei,messageType:Yn};if(ci&&0!==ci.byteLength){if(!Pr)return jt.debug("DRM: License server request not required for this message (type = "+Wt.data.messageType+").  Session ID = "+ei.getSessionId()),void oo(Ir);if(Ut.isClearKey(tn)){var ui=Ut.processClearKeyLicenseRequest(tn,ir,ci);if(ui&&ui.keyPairs&&ui.keyPairs.length>0)return jt.debug("DRM: ClearKey license request handled by application!"),oo(Ir),void gn.updateKeySession(ei,ui)}!function(Yr,Sr,Vn){var Wo=Yr.sessionToken,ho=Yr.messageType?Yr.messageType:"license-request",Ia={sessionToken:Wo,messageType:ho},fs=tn?tn.systemString:null,Gt=function(ti,Ma,Ra,Qs,wh){var Ko=null,fd=Qs.message;if(ti&&ti.serverURL){var Ci=ti.serverURL;"string"==typeof Ci&&""!==Ci?Ko=Ci:"object"===Z(Ci)&&Ci.hasOwnProperty(Ma)&&(Ko=Ci[Ma])}else if(ti&&ti.laURL&&""!==ti.laURL)Ko=ti.laURL;else if(!(Ko=d.getLicenseServerUrlFromMediaInfo(Rt,tn.schemeIdURI))&&!Ut.isClearKey(tn)){var Mr=d.getPSSHData(Ra.initData);(Ko=tn.getLicenseServerURLFromInitData(Mr))||(Ko=Qs.laURL)}return wh.getServerURLFromMessage(Ko,fd,Ma)}(Vn,ho,Wo,Yr,Sr);if(Gt){var hs={},or=!1;Vn&&Ul(hs,Vn.httpRequestHeaders);var kr=Yr.message;Ul(hs,tn.getRequestHeadersFromMessage(kr)),Object.keys(hs).forEach(function(ti){"authorization"===ti.toLowerCase()&&(or=!0)}),Vn&&"boolean"==typeof Vn.withCredentials&&(or=Vn.withCredentials);var Bc=function(ti){if(gn)if(ti.status>=200&&ti.status<=299){var Ma=ie.Z.parseHttpHeaders(ti.getAllResponseHeaders?ti.getAllResponseHeaders():null),Ra=new q(ti.responseURL,Ma,ti.response);Io(Pn.getLicenseResponseFilters(),Ra).then(function(){var Qs=Sr.getLicenseMessage(Ra.data,fs,ho);null!==Qs?(oo(Ia),gn.updateKeySession(Wo,Qs)):Mi(ti,Ia,fs,ho,Sr)})}else Mi(ti,Ia,fs,ho,Sr)},ld=function(ti){oo(Ia,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fs+' update, XHR aborted. status is "'+ti.statusText+'" ('+ti.status+"), readyState is "+ti.readyState))},cd=function(ti){oo(Ia,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fs+' update, XHR error. status is "'+ti.statusText+'" ('+ti.status+"), readyState is "+ti.readyState))},Xs=tn.getLicenseRequestFromMessage(kr),so=Sr.getHTTPMethod(ho),Uc=Sr.getResponseType(fs,ho),ud=Vn&&!isNaN(Vn.httpTimeout)?Vn.httpTimeout:8e3,dd=Wo.getSessionId()||null,ps=new w(Gt,so,Uc,hs,or,ho,dd,Xs),Eh=isNaN(nn.get().streaming.retryAttempts[W.w.LICENSE])?3:nn.get().streaming.retryAttempts[W.w.LICENSE];Io(Pn.getLicenseRequestFilters(),ps).then(function(){Bl(ps,Eh,ud,Bc,ld,cd)})}else oo(Ia,new v.Z(h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(On,Pr,ir)}else oo(Ir,new v.Z(h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function oo(Wt,On){pn.trigger(Un.LICENSE_REQUEST_COMPLETE,{data:Wt,error:On})}function Bl(Wt,On,Yn,ci,ei,ir){var Pr=new XMLHttpRequest;if(nn.get().streaming.cmcd&&nn.get().streaming.cmcd.enabled&&nn.get().streaming.cmcd.mode===J.Z.CMCD_MODE_QUERY){var Ir=kt.getQueryParameter({url:Wt.url,type:W.w.LICENSE});Ir&&(Wt.url=ie.Z.addAditionalQueryParameterToUrl(Wt.url,[Ir]))}for(var ui in Pr.open(Wt.method,Wt.url,!0),Pr.responseType=Wt.responseType,Pr.withCredentials=Wt.withCredentials,Yn>0&&(Pr.timeout=Yn),Wt.headers)Pr.setRequestHeader(ui,Wt.headers[ui]);if(nn.get().streaming.cmcd&&nn.get().streaming.cmcd.enabled&&nn.get().streaming.cmcd.mode===J.Z.CMCD_MODE_HEADER){var Yr=kt.getHeaderParameters({url:Wt.url,type:W.w.LICENSE});if(Yr)for(var Sr in Yr){var Vn=Yr[Sr];Vn&&Pr.setRequestHeader(Sr,Vn)}}var Wo=function(){On--;var ho=isNaN(nn.get().streaming.retryIntervals[W.w.LICENSE])?1e3:nn.get().streaming.retryIntervals[W.w.LICENSE];sn=setTimeout(function(){Bl(Wt,On,Yn,ci,ei,ir)},ho)};Pr.onload=function(){hn=null,this.status>=200&&this.status<=299||On<=0?ci(this):(jt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+On),Wo())},Pr.ontimeout=Pr.onerror=function(){hn=null,On<=0?ir(this):(jt.warn("License request network request failed . Retrying it... Pending retries: "+On),Wo())},Pr.onabort=function(){ei(this)},pn.trigger(Un.LICENSE_REQUEST_SENDING,{url:Wt.url,headers:Wt.headers,payload:Wt.data,sessionId:Wt.sessionId}),hn=Pr,Pr.send(Wt.data)}function Lc(){hn&&(hn.onloadend=hn.onerror=hn.onprogress=void 0,hn.abort(),hn=null),sn&&(clearTimeout(sn),sn=null)}function Ul(Wt,On){if(On)for(var Yn in On)Wt[Yn]=On[Yn]}function Mi(Wt,On,Yn,ci,ei){var ir="NONE",Pr=null;Wt.response&&(ir=ei.getErrorResponse(Wt.response,Yn,ci),Pr={serverResponse:Wt.response||null,responseCode:Wt.status||null,responseText:Wt.statusText||null}),oo(On,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Yn+' update, XHR complete. status is "'+Wt.statusText+'" ('+Wt.status+"), readyState is "+Wt.readyState+".  Response is "+ir,Pr))}function Io(Wt,On){return Wt?Wt.reduce(function(Yn,ci){return Yn.then(function(){return ci(On)})},Promise.resolve()):Promise.resolve()}function Qn(Wt,On){if(!nn.get().streaming.protection.ignoreEmeEncryptedEvent){if(jt.debug("DRM: onNeedKey"),"cenc"!==Wt.key.initDataType)return void jt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Wt.key.initDataType);if(0===Rt.length&&(jt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(On=void 0===On?1:On+1)<5))return void zt.push(setTimeout(function(){Qn(Wt,On)},500));var Yn=Wt.key.initData;if(ArrayBuffer.isView(Yn)&&(Yn=Yn.buffer),tn){var ci=d.getPSSHForKeySystem(tn,Yn);if(ci&&ii(ci))return}jt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Yn)));var ei=Ut.getSupportedKeySystemsFromSegmentPssh(Yn,_t,At);if(0===ei.length)return void jt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");lt.push(ir=ei),wr(ir,!1)}var ir}return jt=Zt.debug.getLogger(Vt={initializeForMedia:function(Wt){if(!Wt)throw new Error("mediaInfo can not be null or undefined");qn(),Rt.push(Wt)},clearMediaInfoArray:function(){Rt=[]},handleKeySystemFromManifest:function(){if(Rt&&0!==Rt.length){var Wt=[];Rt.forEach(function(On){var Yn=Ut.getSupportedKeySystemsFromContentProtection(On.contentProtection,_t,At);Yn.length>0&&(0===Wt.length&&(Wt=Yn),lt.push(Yn))}),Wt&&Wt.length>0&&wr(Wt,!0)}},createKeySession:Lr,loadKeySession:Si,removeKeySession:function(Wt){qn(),gn.removeKeySession(Wt)},closeKeySession:function(Wt){qn(),gn.closeKeySession(Wt)},setServerCertificate:function(Wt){qn(),gn.setServerCertificate(Wt)},setMediaElement:Vi,setSessionType:function(Wt){At=Wt},setRobustnessLevel:function(Wt){Jt=Wt},setProtectionData:function(Wt){_t=Wt,Ut.setProtectionData(Wt)},getSupportedKeySystemsFromContentProtection:function(Wt){return qn(),Ut.getSupportedKeySystemsFromContentProtection(Wt,_t,At)},getKeySystems:function(){return Ut?Ut.getKeySystems():[]},setKeySystems:function(Wt){Ut&&Ut.setKeySystems(Wt)},stop:function(){Lc(),gn&&gn.stop()},reset:function(){pn.off(Un.INTERNAL_KEY_MESSAGE,Vo,Vt),pn.off(Un.INTERNAL_KEY_STATUS_CHANGED,Ks,Vt),qn(),Lc(),Vi(null),tn=null,En=!1,gn&&(gn.reset(),gn=null),zt.forEach(function(Wt){return clearTimeout(Wt)}),zt=[],Rt=[],lt=[]}}),lt=[],Rt=[],At="temporary",Jt="",hn=null,sn=null,pn.on(Un.INTERNAL_KEY_MESSAGE,Vo,Vt),pn.on(Un.INTERNAL_KEY_STATUS_CHANGED,Ks,Vt),Vt}k.__dashjs_factory_name="ProtectionController";const K=le.Z.getClassFactory(k),de=function Zt(Vt,jt){(function(lt,Rt){if(!(lt instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.keyID=Vt,this.key=jt},ze=function(){function Zt(lt,Rt){if(function(_t,At){if(!(_t instanceof At))throw new TypeError("Cannot call a class as a function")}(this,Zt),Rt&&"persistent"!==Rt&&"temporary"!==Rt)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=lt,this.type=Rt}var jt;return(jt=[{key:"toJWK",value:function(){var lt,Rt=this.keyPairs.length,_t={keys:[]};for(lt=0;lt<Rt;lt++)_t.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[lt].keyID,k:this.keyPairs[lt].key});this.type&&(_t.type=this.type);var Jt=JSON.stringify(_t),tn=Jt.length,En=new ArrayBuffer(tn),hn=new Uint8Array(En);for(lt=0;lt<tn;lt++)hn[lt]=Jt.charCodeAt(lt);return En}}])&&function ce(Zt,Vt){for(var jt=0;jt<Vt.length;jt++){var lt=Vt[jt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Zt,lt.key,lt)}}(Zt.prototype,jt),Zt}(),pe=new(function(){function Zt(){(function(lt,Rt){if(!(lt instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.init()}var jt;return(jt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&function st(Zt,Vt){for(var jt=0;jt<Vt.length;jt++){var lt=Vt[jt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Zt,lt.key,lt)}}(Zt.prototype,jt),Zt}());var Mt="e2719d58-a985-b3c9-781a-b030af78d30e",je=pe.CLEARKEY_KEYSTEM_STRING,Ye="urn:uuid:"+Mt;function Ne(Zt){var Vt=(Zt=Zt||{}).BASE64;return{uuid:Mt,schemeIdURI:Ye,systemString:je,getInitData:function(jt,lt){try{var Rt=d.parseInitDataFromContentProtection(jt,Vt);if(!Rt&&lt){var _t={kids:[function(At){try{var Jt=At.replace(/-/g,"");return(Jt=btoa(Jt.match(/\w{2}/g).map(function(tn){return String.fromCharCode(parseInt(tn,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(lt["cenc:default_KID"])]};Rt=(new TextEncoder).encode(JSON.stringify(_t))}return Rt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(jt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(jt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(jt,lt){var Rt=null;if(jt){for(var _t=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(lt))),At=[],Jt=0;Jt<_t.kids.length;Jt++){var tn=_t.kids[Jt],En=jt.clearkeys&&jt.clearkeys.hasOwnProperty(tn)?jt.clearkeys[tn]:null;if(!En)throw new Error("DRM: ClearKey keyID ("+tn+") is not known!");At.push(new de(tn,En))}Rt=new ze(At)}return Rt}}}Ne.__dashjs_factory_name="KeySystemClearKey";const Ve=dashjs.FactoryMaker.getSingletonFactory(Ne);var rt="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",It=pe.CLEARKEY_KEYSTEM_STRING,ft="urn:uuid:"+rt;function Pe(Zt){var jt=Zt.BASE64,lt=Zt.debug.getLogger(void 0);return{uuid:rt,schemeIdURI:ft,systemString:It,getInitData:function(Rt){return d.parseInitDataFromContentProtection(Rt,jt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Rt){return new Uint8Array(Rt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Rt,_t){var At=null;if(Rt){for(var Jt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(_t))),tn=[],En=0;En<Jt.kids.length;En++){var hn=Jt.kids[En],sn=Rt.clearkeys&&Rt.clearkeys.hasOwnProperty(hn)?Rt.clearkeys[hn]:null;if(!sn)throw new Error("DRM: ClearKey keyID ("+hn+") is not known!");tn.push(new de(hn,sn))}At=new ze(tn),lt.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return At}}}Pe.__dashjs_factory_name="KeySystemW3CClearKey";const pt=dashjs.FactoryMaker.getSingletonFactory(Pe);var Pt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",$e=pe.WIDEVINE_KEYSTEM_STRING,ut="urn:uuid:"+Pt;function Se(Zt){var Vt=(Zt=Zt||{}).BASE64;return{uuid:Pt,schemeIdURI:ut,systemString:$e,getInitData:function(jt){return d.parseInitDataFromContentProtection(jt,Vt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(jt){return new Uint8Array(jt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}Se.__dashjs_factory_name="KeySystemWidevine";const ye=dashjs.FactoryMaker.getSingletonFactory(Se);var at="9a04f079-9840-4286-ab92-e65be0885f95",E=pe.PLAYREADY_KEYSTEM_STRING,_="urn:uuid:"+at;function R(Zt){var Vt="utf-16",jt=(Zt=Zt||{}).BASE64,lt=Zt.settings;function Rt(){if(!jt||!jt.hasOwnProperty("decodeArray")||!jt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:at,schemeIdURI:_,systemString:E,getInitData:function(_t){var At,Jt,tn,En,hn,sn=new Uint8Array([112,115,115,104,0,0,0,0]),Ut=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),gn=0,pn=null;if(Rt(),!_t)return null;if("pssh"in _t)return d.parseInitDataFromContentProtection(_t,jt);if("pro"in _t)pn=jt.decodeArray(_t.pro.__text);else{if(!("prheader"in _t))return null;pn=jt.decodeArray(_t.prheader.__text)}return Jt=4+sn.length+Ut.length+4+(At=pn.length),tn=new ArrayBuffer(Jt),En=new Uint8Array(tn),(hn=new DataView(tn)).setUint32(gn,Jt),En.set(sn,gn+=4),En.set(Ut,gn+=sn.length),hn.setUint32(gn+=Ut.length,At),En.set(pn,gn+=4),gn+=At,En.buffer},getRequestHeadersFromMessage:function(_t){var At,Jt,tn={},En=new DOMParser;if(lt&&lt.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Vt&&_t&&_t.byteLength%2==1)return tn["Content-Type"]="text/xml; charset=utf-8",tn;var hn="utf-16"===Vt?new Uint16Array(_t):new Uint8Array(_t);At=String.fromCharCode.apply(null,hn);for(var sn=(Jt=En.parseFromString(At,"application/xml")).getElementsByTagName("name"),Ut=Jt.getElementsByTagName("value"),gn=0;gn<sn.length;gn++)tn[sn[gn].childNodes[0].nodeValue]=Ut[gn].childNodes[0].nodeValue;return tn.hasOwnProperty("Content")&&(tn["Content-Type"]=tn.Content,delete tn.Content),tn.hasOwnProperty("Content-Type")||(tn["Content-Type"]="text/xml; charset=utf-8"),tn},getLicenseRequestFromMessage:function(_t){var At=null,Jt=new DOMParser;if(lt&&lt.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Vt&&_t&&_t.byteLength%2==1)return _t;var tn="utf-16"===Vt?new Uint16Array(_t):new Uint8Array(_t);Rt();var En=String.fromCharCode.apply(null,tn),hn=Jt.parseFromString(En,"application/xml");if(!hn.getElementsByTagName("PlayReadyKeyMessage")[0])return _t;var sn=hn.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return sn&&(At=jt.decode(sn)),At},getLicenseServerURLFromInitData:function(_t){if(_t)for(var At=new DataView(_t),Jt=At.getUint16(4,!0),tn=6,En=new DOMParser,hn=0;hn<Jt;hn++){var sn=At.getUint16(tn,!0),Ut=At.getUint16(tn+=2,!0);if(tn+=2,1===sn){var gn=_t.slice(tn,tn+Ut),pn=String.fromCharCode.apply(null,new Uint16Array(gn)),Un=En.parseFromString(pn,"application/xml");if(Un.getElementsByTagName("LA_URL")[0]){var rr=Un.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(rr)return rr}if(Un.getElementsByTagName("LUI_URL")[0]){var Or=Un.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(Or)return Or}}else tn+=Ut}return null},getCDMData:function(_t){var At,Jt,tn,En;if(Rt(),!_t)return null;for(At=[],En=0;En<_t.length;++En)At.push(_t.charCodeAt(En)),At.push(0);for(At=String.fromCharCode.apply(null,At),At=jt.encode(At),Jt='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",At),tn=[],En=0;En<Jt.length;++En)tn.push(Jt.charCodeAt(En)),tn.push(0);return new Uint8Array(tn).buffer},setPlayReadyMessageFormat:function(_t){if("utf-8"!==_t&&"utf-16"!==_t)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Vt=_t}}}R.__dashjs_factory_name="KeySystemPlayReady";const M=dashjs.FactoryMaker.getSingletonFactory(R);function ue(Zt){var Vt=(Zt=Zt||{}).BASE64,jt={};return jt[pe.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(lt){return Vt.decodeArray(lt.license)},getErrorResponse:function(lt){return lt}},jt[pe.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(lt){return lt},getErrorResponse:function(lt){return String.fromCharCode.apply(null,new Uint8Array(lt))}},{getServerURLFromMessage:function(lt){return lt},getHTTPMethod:function(){return"POST"},getResponseType:function(lt){return jt[lt].responseType},getLicenseMessage:function(lt,Rt){return function(){if(!Vt||!Vt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),jt[Rt].getLicenseMessage(lt)},getErrorResponse:function(lt,Rt){return jt[Rt].getErrorResponse(lt)}}}ue.__dashjs_factory_name="DRMToday";const ae=dashjs.FactoryMaker.getSingletonFactory(ue);function Ie(){var Zt="http://schemas.xmlsoap.org/soap/envelope/";function Vt(Rt){var _t=String.fromCharCode.apply(null,new Uint8Array(Rt));return decodeURIComponent(escape(_t))}function jt(Rt){if(window.DOMParser){var _t=Vt(Rt),At=(new window.DOMParser).parseFromString(_t,"text/xml"),Jt=At?At.getElementsByTagNameNS(Zt,"Envelope")[0]:null,tn=Jt?Jt.getElementsByTagNameNS(Zt,"Body")[0]:null;if(tn&&tn.getElementsByTagNameNS(Zt,"Fault")[0])return null}return Rt}function lt(Rt){var _t="",At="",Jt="",tn=-1,En=-1;if(window.DOMParser){var hn=Vt(Rt),sn=(new window.DOMParser).parseFromString(hn,"text/xml"),Ut=sn?sn.getElementsByTagNameNS(Zt,"Envelope")[0]:null,gn=Ut?Ut.getElementsByTagNameNS(Zt,"Body")[0]:null,pn=gn?gn.getElementsByTagNameNS(Zt,"Fault")[0]:null,Un=pn?pn.getElementsByTagName("detail")[0]:null,rr=Un?Un.getElementsByTagName("Exception")[0]:null,Or=null;if(null===pn)return hn;_t=(Or=pn.getElementsByTagName("faultstring")[0].firstChild)?Or.nodeValue:null,null!==rr&&(At=(Or=rr.getElementsByTagName("StatusCode")[0])?Or.firstChild.nodeValue:null,tn=(Jt=(Or=rr.getElementsByTagName("Message")[0])?Or.firstChild.nodeValue:null)?Jt.lastIndexOf("[")+1:-1,En=Jt?Jt.indexOf("]"):-1,Jt=Jt?Jt.substring(tn,En):"")}var Rn="code: ".concat(At,", name: ").concat(_t);return Jt&&(Rn+=", message: ".concat(Jt)),Rn}return{getServerURLFromMessage:function(Rt){return Rt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Rt){return jt.call(this,Rt)},getErrorResponse:function(Rt){return lt.call(this,Rt)}}}Ie.__dashjs_factory_name="PlayReady";const Ge=le.Z.getSingletonFactory(Ie);function We(){return{getServerURLFromMessage:function(Zt){return Zt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Zt){return Zt},getErrorResponse:function(Zt){return String.fromCharCode.apply(null,new Uint8Array(Zt))}}}We.__dashjs_factory_name="Widevine";const Fe=dashjs.FactoryMaker.getSingletonFactory(We);function et(){return{getServerURLFromMessage:function(Zt){return Zt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Zt){if(!Zt.hasOwnProperty("keys"))return null;for(var Vt=[],jt=0;jt<Zt.keys.length;jt++){var lt=Zt.keys[jt],Rt=lt.kid.replace(/=/g,""),_t=lt.k.replace(/=/g,"");Vt.push(new de(Rt,_t))}return new ze(Vt)},getErrorResponse:function(Zt){return String.fromCharCode.apply(null,new Uint8Array(Zt))}}}et.__dashjs_factory_name="ClearKey";const it=dashjs.FactoryMaker.getSingletonFactory(et);function Me(){var Zt,Vt,jt,lt,Rt,_t,At,Jt,tn=this.context;function En(Ut,gn){return gn&&Ut in gn?gn[Ut]:null}function hn(Ut,gn){return Ut&&Ut.sessionId?Ut.sessionId:gn&&gn.sessionId?gn.sessionId:null}function sn(Ut,gn){return Ut&&Ut.sessionType?Ut.sessionType:gn}return Zt={initialize:function(){var Ut;lt=[],Ut=M(tn).getInstance({BASE64:Rt,settings:_t}),lt.push(Ut),Ut=ye(tn).getInstance({BASE64:Rt}),lt.push(Ut),Ut=Ve(tn).getInstance({BASE64:Rt}),lt.push(Ut),At=Ut,Ut=pt(tn).getInstance({BASE64:Rt,debug:Vt}),lt.push(Ut),Jt=Ut},setProtectionData:function(Ut){for(var gn,pn,Un=0;Un<lt.length;Un++){var rr=lt[Un];rr.hasOwnProperty("init")&&rr.init((gn=rr.systemString,pn=void 0,pn=null,Ut&&(pn=gn in Ut?Ut[gn]:null),pn))}},isClearKey:function(Ut){return Ut===At||Ut===Jt},initDataEquals:function(Ut,gn){if(Ut.byteLength===gn.byteLength){for(var pn=new Uint8Array(Ut),Un=new Uint8Array(gn),rr=0;rr<pn.length;rr++)if(pn[rr]!==Un[rr])return!1;return!0}return!1},getKeySystems:function(){return lt},setKeySystems:function(Ut){lt=Ut},getKeySystemBySystemString:function(Ut){for(var gn=0;gn<lt.length;gn++)if(lt[gn].systemString===Ut)return lt[gn];return null},getSupportedKeySystemsFromContentProtection:function(Ut,gn,pn){var Un,rr,Or,Rn,zt=[];if(Ut){var kt=d.findCencContentProtection(Ut);for(Or=0;Or<lt.length;++Or){var nn=En((rr=lt[Or]).systemString,gn);for(Rn=0;Rn<Ut.length;++Rn)if((Un=Ut[Rn]).schemeIdUri.toLowerCase()===rr.schemeIdURI){var Pn=rr.getInitData(Un,kt);zt.push({ks:lt[Or],keyId:Un.keyId,initData:Pn,protData:nn,cdmData:rr.getCDMData(nn?nn.cdmData:null),sessionId:hn(nn,Un),sessionType:sn(nn,pn)})}}}return zt},getSupportedKeySystemsFromSegmentPssh:function(Ut,gn,pn){for(var Un,rr=[],Or=d.parsePSSHList(Ut),Rn=0;Rn<lt.length;++Rn){var zt=En((Un=lt[Rn]).systemString,gn);Un.uuid in Or&&rr.push({ks:Un,initData:Or[Un.uuid],protData:zt,cdmData:Un.getCDMData(zt?zt.cdmData:null),sessionId:hn(zt),sessionType:sn(zt,pn)})}return rr},getLicenseServerModelInstance:function(Ut,gn,pn){if("license-release"===pn||"individualization-request"===pn)return null;var Un=null;return gn&&gn.hasOwnProperty("drmtoday")?Un=ae(tn).getInstance({BASE64:Rt}):Ut.systemString===pe.WIDEVINE_KEYSTEM_STRING?Un=Fe(tn).getInstance():Ut.systemString===pe.PLAYREADY_KEYSTEM_STRING?Un=Ge(tn).getInstance():Ut.systemString===pe.CLEARKEY_KEYSTEM_STRING&&(Un=it(tn).getInstance()),Un},processClearKeyLicenseRequest:function(Ut,gn,pn){try{return Ut.getClearKeysFromProtectionData(gn,pn)}catch{return jt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(Ut){Ut&&(Ut.debug&&(jt=(Vt=Ut.debug).getLogger(Zt)),Ut.BASE64&&(Rt=Ut.BASE64),Ut.settings&&(_t=Ut.settings))}}}Me.__dashjs_factory_name="ProtectionKeyController";const Ke=dashjs.FactoryMaker.getSingletonFactory(Me);function Xe(Zt){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Vt){return typeof Vt}:function(Vt){return Vt&&"function"==typeof Symbol&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt})(Zt)}function Et(Zt,Vt){return(Et=Object.setPrototypeOf||function(jt,lt){return jt.__proto__=lt,jt})(Zt,Vt)}function rn(Zt){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(Vt){return Vt.__proto__||Object.getPrototypeOf(Vt)})(Zt)}const Mn=new(function(Zt){!function(_t,At){if("function"!=typeof At&&null!==At)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(At&&At.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),At&&Et(_t,At)}(Rt,Zt);var Vt,jt,lt=(Vt=Rt,jt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _t,At=rn(Vt);if(jt){var Jt=rn(this).constructor;_t=Reflect.construct(At,arguments,Jt)}else _t=At.apply(this,arguments);return function xt(Zt,Vt){return!Vt||"object"!==Xe(Vt)&&"function"!=typeof Vt?function(jt){if(void 0===jt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jt}(Zt):Vt}(this,_t)});function Rt(){var _t;return function(At,Jt){if(!(At instanceof Jt))throw new TypeError("Cannot call a class as a function")}(this,Rt),(_t=lt.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",_t.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",_t.KEY_ADDED="public_keyAdded",_t.KEY_ERROR="public_keyError",_t.KEY_MESSAGE="public_keyMessage",_t.KEY_SESSION_CLOSED="public_keySessionClosed",_t.KEY_SESSION_CREATED="public_keySessionCreated",_t.KEY_SESSION_REMOVED="public_keySessionRemoved",_t.KEY_STATUSES_CHANGED="public_keyStatusesChanged",_t.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",_t.KEY_SYSTEM_SELECTED="public_keySystemSelected",_t.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",_t.LICENSE_REQUEST_SENDING="public_licenseRequestSending",_t.NEED_KEY="needkey",_t.PROTECTION_CREATED="public_protectioncreated",_t.PROTECTION_DESTROYED="public_protectiondestroyed",_t.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",_t.TEARDOWN_COMPLETE="protectionTeardownComplete",_t.VIDEO_ELEMENT_SELECTED="videoElementSelected",_t.KEY_SESSION_UPDATED="public_keySessionUpdated",_t}return Rt}(L(8342).Z)),Tn=function Zt(Vt,jt){(function(lt,Rt){if(!(lt instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.initData=Vt,this.initDataType=jt},vn=function Zt(Vt,jt,lt,Rt){(function(_t,At){if(!(_t instanceof At))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.sessionToken=Vt,this.message=jt,this.defaultURL=lt,this.messageType=Rt||"license-request"},Gn=function Zt(Vt,jt){(function(lt,Rt){if(!(lt instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.keySystem=Vt,this.ksConfiguration=jt};var Zn={};function vr(Zt){var Vt,jt,lt,Rt,_t,At,Jt,tn,En=this.context,hn=(Zt=Zt||{}).eventBus,sn=Zt.events;function gn(zt,kt,nn,Pn){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var qn="Insecure origins are not allowed";return hn.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{error:qn}),void Pn({error:qn})}var Lr,vi,Ii=zt[kt].ks,Si=Ii.systemString;(Lr=(zt[kt].protData&&zt[kt].protData.systemStringPriority?zt[kt].protData.systemStringPriority:null)||(Zn[Si]?Zn[Si]:[Si]),vi=zt[kt].configs,new Promise(function(ii,Vi){pn(Lr,vi,0,ii,Vi)})).then(function(Lr){var vi="function"==typeof Lr.getConfiguration?Lr.getConfiguration():null,ii=new Gn(Ii,vi);ii.mksa=Lr,hn.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{data:ii}),nn({data:ii})}).catch(function(Lr){if(kt+1<zt.length)gn(zt,kt+1,nn,Pn);else{var vi="Key system access denied! ";hn.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{error:vi+Lr.message}),Pn({error:vi+Lr.message})}})}function pn(zt,kt,nn,Pn,qn){var wr=zt[nn];jt.debug("Requesting key system access for system string ".concat(wr)),navigator.requestMediaKeySystemAccess(wr,kt).then(function(Dr){Dr.selectedSystemString=wr,Pn(Dr)}).catch(function(Dr){nn+1<zt.length?pn(zt,kt,nn+1,Pn,qn):qn(Dr)})}function Un(zt){var kt=zt.session;return kt.removeEventListener("keystatuseschange",zt),kt.removeEventListener("message",zt),kt.close()}function rr(zt){for(var kt=0;kt<At.length;kt++)if(At[kt]===zt){At.splice(kt,1);break}}function Or(zt){var kt,nn;return zt&&zt.length>0&&(zt[0]&&("string"==typeof zt[0]?kt=zt[0]:nn=zt[0]),zt[1]&&("string"==typeof zt[1]?kt=zt[1]:nn=zt[1])),{status:kt,keyId:nn}}function Rn(zt,kt){var nn={session:zt,keyId:kt.keyId,initData:kt.initData,sessionId:kt.sessionId,sessionType:kt.sessionType,handleEvent:function(Pn){switch(Pn.type){case"keystatuseschange":hn.trigger(sn.KEY_STATUSES_CHANGED,{data:this}),Pn.target.keyStatuses.forEach(function(){var wr=Or(arguments);hn.trigger(sn.INTERNAL_KEY_STATUS_CHANGED,"expired"===wr.status?{error:new v.Z(h.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,h.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:wr)});break;case"message":var qn=ArrayBuffer.isView(Pn.message)?Pn.message.buffer:Pn.message;hn.trigger(sn.INTERNAL_KEY_MESSAGE,{data:new vn(this,qn,void 0,Pn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return zt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return zt.expiration},getKeyStatuses:function(){return zt.keyStatuses},getUsable:function(){var Pn=!1;return zt.keyStatuses.forEach(function(){"usable"===Or(arguments).status&&(Pn=!0)}),Pn}};return zt.addEventListener("keystatuseschange",nn),zt.addEventListener("message",nn),zt.closed.then(function(){rr(nn),jt.debug("DRM: Session closed.  SessionID = "+nn.getSessionId()),hn.trigger(sn.KEY_SESSION_CLOSED,{data:nn.getSessionId()})}),At.push(nn),nn}return Vt={getAllInitData:function(){for(var zt=[],kt=0;kt<At.length;kt++)At[kt].initData&&zt.push(At[kt].initData);return zt},getSessions:function(){return At},requestKeySystemAccess:function(zt){return new Promise(function(kt,nn){gn(zt,0,kt,nn)})},selectKeySystem:function(zt){return new Promise(function(kt,nn){zt.mksa.createMediaKeys().then(function(Pn){return lt=zt.keySystem,_t=Pn,Rt?Rt.setMediaKeys(_t):Promise.resolve()}).then(function(){kt(lt)}).catch(function(){nn({error:"Error selecting keys system ("+zt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(zt){Rt!==zt&&(Rt&&(Rt.removeEventListener("encrypted",Jt),Rt.setMediaKeys&&Rt.setMediaKeys(null)),(Rt=zt)&&(Rt.addEventListener("encrypted",Jt),Rt.setMediaKeys&&_t&&Rt.setMediaKeys(_t)))},setServerCertificate:function(zt){if(!lt||!_t)throw new Error("Can not set server certificate until you have selected a key system");_t.setServerCertificate(zt).then(function(){jt.info("DRM: License server certificate successfully updated."),hn.trigger(sn.SERVER_CERTIFICATE_UPDATED)}).catch(function(kt){hn.trigger(sn.SERVER_CERTIFICATE_UPDATED,{error:new v.Z(h.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,h.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+kt.name)})})},createKeySession:function(zt){if(!lt||!_t)throw new Error("Can not create sessions until you have selected a key system");var kt=_t.createSession(zt.sessionType),nn=Rn(kt,zt);kt.generateRequest(lt.systemString===pe.CLEARKEY_KEYSTEM_STRING&&(zt.initData||zt.protData&&zt.protData.clearkeys)?pe.INITIALIZATION_DATA_TYPE_KEYIDS:pe.INITIALIZATION_DATA_TYPE_CENC,zt.initData).then(function(){jt.debug("DRM: Session created.  SessionID = "+nn.getSessionId()),hn.trigger(sn.KEY_SESSION_CREATED,{data:nn})}).catch(function(qn){rr(nn),hn.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+qn.name)})})},updateKeySession:function(zt,kt){var nn=zt.session;tn.isClearKey(lt)&&(kt=kt.toJWK()),nn.update(kt).then(function(){hn.trigger(sn.KEY_SESSION_UPDATED)}).catch(function(Pn){hn.trigger(sn.KEY_ERROR,{error:new v.Z(h.MEDIA_KEYERR_CODE,"Error sending update() message! "+Pn.name,zt)})})},loadKeySession:function(zt){if(!lt||!_t)throw new Error("Can not load sessions until you have selected a key system");for(var kt=zt.sessionId,nn=0;nn<At.length;nn++)if(kt===At[nn].sessionId)return void jt.warn("DRM: Ignoring session ID because we have already seen it!");var Pn=_t.createSession(zt.sessionType),qn=Rn(Pn,zt);Pn.load(kt).then(function(wr){wr?(jt.debug("DRM: Session loaded.  SessionID = "+qn.getSessionId()),hn.trigger(sn.KEY_SESSION_CREATED,{data:qn})):(rr(qn),hn.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+kt+")")}))}).catch(function(wr){rr(qn),hn.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+kt+")! "+wr.name)})})},removeKeySession:function(zt){zt.session.remove().then(function(){jt.debug("DRM: Session removed.  SessionID = "+zt.getSessionId()),hn.trigger(sn.KEY_SESSION_REMOVED,{data:zt.getSessionId()})},function(kt){hn.trigger(sn.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+zt.getSessionId()+"). "+kt.name})})},closeKeySession:function(zt){Un(zt).catch(function(kt){rr(zt),hn.trigger(sn.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+zt.getSessionId()+") "+kt.name})})},stop:function(){for(var zt,kt=0;kt<At.length;kt++)(zt=At[kt]).getUsable()||Un(zt).catch(function(){rr(zt)})},reset:function(){var zt,kt=At.length;0!==kt?function(){for(var nn=function(qn){rr(qn),0===At.length&&(Rt?(Rt.removeEventListener("encrypted",Jt),Rt.setMediaKeys(null).then(function(){hn.trigger(sn.TEARDOWN_COMPLETE)})):hn.trigger(sn.TEARDOWN_COMPLETE))},Pn=0;Pn<kt;Pn++)!function(qn){zt.session.closed.then(function(){nn(qn)}),Un(zt).catch(function(){nn(qn)})}(zt=At[Pn])}():hn.trigger(sn.TEARDOWN_COMPLETE)}},jt=Zt.debug.getLogger(Vt),lt=null,Rt=null,_t=null,At=[],tn=Ke(En).getInstance(),Jt={handleEvent:function(zt){if("encrypted"===zt.type&&zt.initData){var kt=ArrayBuffer.isView(zt.initData)?zt.initData.buffer:zt.initData;hn.trigger(sn.NEED_KEY,{key:new Tn(kt,zt.initDataType)})}}},Vt}Zn[pe.PLAYREADY_KEYSTEM_STRING]=[pe.PLAYREADY_KEYSTEM_STRING,pe.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Zn[pe.WIDEVINE_KEYSTEM_STRING]=[pe.WIDEVINE_KEYSTEM_STRING],Zn[pe.CLEARKEY_KEYSTEM_STRING]=[pe.CLEARKEY_KEYSTEM_STRING],vr.__dashjs_factory_name="ProtectionModel_21Jan2015";const mi=dashjs.FactoryMaker.getClassFactory(vr);function Ti(Zt){var Vt,jt,lt,Rt,_t,At,Jt,tn,En,hn=this.context,sn=(Zt=Zt||{}).eventBus,Ut=Zt.events,pn=Zt.api;function Un(){try{for(var Rn=0;Rn<Jt.length;Rn++)rr(Jt[Rn]);lt&&lt.removeEventListener(pn.needkey,tn),sn.trigger(Ut.TEARDOWN_COMPLETE)}catch(zt){sn.trigger(Ut.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+zt.message})}}function rr(Rn){var zt=Rn.session;zt.removeEventListener(pn.error,Rn),zt.removeEventListener(pn.message,Rn),zt.removeEventListener(pn.ready,Rn),zt.removeEventListener(pn.close,Rn);for(var kt=0;kt<Jt.length;kt++)if(Jt[kt]===Rn){Jt.splice(kt,1);break}zt[pn.release]()}function Or(){var Rn=null,zt=function(){lt.removeEventListener("loadedmetadata",Rn),lt[pn.setMediaKeys](_t),sn.trigger(Ut.VIDEO_ELEMENT_SELECTED)};lt.readyState>=1?zt():(Rn=zt.bind(this),lt.addEventListener("loadedmetadata",Rn))}return Vt={getAllInitData:function(){for(var Rn=[],zt=0;zt<Jt.length;zt++)Rn.push(Jt[zt].initData);return Rn},getSessions:function(){return Jt},requestKeySystemAccess:function(Rn){return new Promise(function(zt,kt){for(var nn=!1,Pn=0;Pn<Rn.length;Pn++)for(var qn=Rn[Pn].ks.systemString,wr=Rn[Pn].configs,Dr=null,Ii=null,Si=0;Si<wr.length;Si++){var Lr=wr[Si].audioCapabilities,vi=wr[Si].videoCapabilities;if(Lr&&0!==Lr.length){Dr=[];for(var ii=0;ii<Lr.length;ii++)window[pn.MediaKeys].isTypeSupported(qn,Lr[ii].contentType)&&Dr.push(Lr[ii])}if(vi&&0!==vi.length){Ii=[];for(var Vi=0;Vi<vi.length;Vi++)window[pn.MediaKeys].isTypeSupported(qn,vi[Vi].contentType)&&Ii.push(vi[Vi])}if(!(!Dr&&!Ii||Dr&&0===Dr.length||Ii&&0===Ii.length)){nn=!0;var Da=new N(Dr,Ii),Ks=En.getKeySystemBySystemString(qn),Vo=new Gn(Ks,Da);sn.trigger(Ut.KEY_SYSTEM_ACCESS_COMPLETE,{data:Vo}),zt({data:Vo});break}}if(!nn){var oo="Key system access denied! -- No valid audio/video content configurations detected!";sn.trigger(Ut.KEY_SYSTEM_ACCESS_COMPLETE,{error:oo}),kt({error:oo})}})},selectKeySystem:function(Rn){return new Promise(function(zt,kt){try{_t=Rn.mediaKeys=new window[pn.MediaKeys](Rn.keySystem.systemString),Rt=Rn.keySystem,At=Rn,lt&&Or(),zt(Rt)}catch{kt({error:"Error selecting keys system ("+Rt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Rn){lt!==Rn&&(lt&&lt.removeEventListener(pn.needkey,tn),(lt=Rn)&&(lt.addEventListener(pn.needkey,tn),_t&&Or()))},createKeySession:function(Rn){if(!Rt||!_t||!At)throw new Error("Can not create sessions until you have selected a key system");var zt=null;if(At.ksConfiguration.videoCapabilities&&At.ksConfiguration.videoCapabilities.length>0&&(zt=At.ksConfiguration.videoCapabilities[0]),null===zt&&At.ksConfiguration.audioCapabilities&&At.ksConfiguration.audioCapabilities.length>0&&(zt=At.ksConfiguration.audioCapabilities[0]),null===zt)throw new Error("Can not create sessions for unknown content types.");var wr,nn=_t.createSession(zt.contentType,new Uint8Array(Rn.initData),Rn.cdmData?new Uint8Array(Rn.cdmData):null),Pn={session:nn,keyId:(wr=Rn).keyId,initData:wr.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Dr){switch(Dr.type){case pn.error:sn.trigger(Ut.KEY_ERROR,{error:new v.Z(h.MEDIA_KEYERR_CODE,"KeyError",this)});break;case pn.message:var Ii=ArrayBuffer.isView(Dr.message)?Dr.message.buffer:Dr.message;sn.trigger(Ut.INTERNAL_KEY_MESSAGE,{data:new vn(this,Ii,Dr.destinationURL)});break;case pn.ready:jt.debug("DRM: Key added."),sn.trigger(Ut.KEY_ADDED);break;case pn.close:jt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),sn.trigger(Ut.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}};nn.addEventListener(pn.error,Pn),nn.addEventListener(pn.message,Pn),nn.addEventListener(pn.ready,Pn),nn.addEventListener(pn.close,Pn),Jt.push(Pn),jt.debug("DRM: Session created.  SessionID = "+Pn.getSessionId()),sn.trigger(Ut.KEY_SESSION_CREATED,{data:Pn})},updateKeySession:function(Rn,zt){var kt=Rn.session;En.isClearKey(Rt)?kt.update(new Uint8Array(zt.toJWK())):kt.update(new Uint8Array(zt)),sn.trigger(Ut.KEY_SESSION_UPDATED)},closeKeySession:rr,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Un,reset:Un},jt=Zt.debug.getLogger(Vt),lt=null,Rt=null,_t=null,At=null,Jt=[],En=Ke(hn).getInstance(),tn={handleEvent:function(Rn){if(Rn.type===pn.needkey&&Rn.initData){var zt=ArrayBuffer.isView(Rn.initData)?Rn.initData.buffer:Rn.initData;sn.trigger(Ut.NEED_KEY,{key:new Tn(zt,"cenc")})}}},Vt}Ti.__dashjs_factory_name="ProtectionModel_3Feb2014";const qr=dashjs.FactoryMaker.getClassFactory(Ti);function Bi(Zt){var Vt,jt,lt,Rt,_t,At,Jt,tn,En,hn=this.context,sn=(Zt=Zt||{}).eventBus,Ut=Zt.events,pn=Zt.api,Un=Zt.errHandler;function rr(){lt&&zt();for(var kt=0;kt<Jt.length;kt++)Or(Jt[kt]);sn.trigger(Ut.TEARDOWN_COMPLETE)}function Or(kt){try{lt[pn.cancelKeyRequest](Rt.systemString,kt.sessionId)}catch(nn){sn.trigger(Ut.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+kt.sessionId+") "+nn.message})}}function Rn(kt,nn){if(nn&&kt){for(var Pn=kt.length,qn=0;qn<Pn;qn++)if(kt[qn].sessionId==nn)return kt[qn];return null}return null}function zt(){lt.removeEventListener(pn.keyerror,En),lt.removeEventListener(pn.needkey,En),lt.removeEventListener(pn.keymessage,En),lt.removeEventListener(pn.keyadded,En)}return jt=Zt.debug.getLogger(Vt={getAllInitData:function(){for(var kt=[],nn=0;nn<At.length;nn++)kt.push(At[nn].initData);for(var Pn=0;Pn<Jt.length;Pn++)kt.push(Jt[Pn].initData);return kt},getSessions:function(){return Jt.concat(At)},requestKeySystemAccess:function(kt){return new Promise(function(nn,Pn){var qn=lt;qn||(qn=document.createElement("video"));for(var wr=!1,Dr=0;Dr<kt.length;Dr++)for(var Ii=kt[Dr].ks.systemString,Si=kt[Dr].configs,Lr=null,vi=0;vi<Si.length;vi++){var ii=Si[vi].videoCapabilities;if(ii&&0!==ii.length){Lr=[];for(var Vi=0;Vi<ii.length;Vi++)""!==qn.canPlayType(ii[Vi].contentType,Ii)&&Lr.push(ii[Vi])}if(Lr&&(!Lr||0!==Lr.length)){wr=!0;var Da=new N(null,Lr),Ks=_t.getKeySystemBySystemString(Ii),Vo=new Gn(Ks,Da);sn.trigger(Ut.KEY_SYSTEM_ACCESS_COMPLETE,{data:Vo}),nn({data:Vo});break}}if(!wr){var oo="Key system access denied! -- No valid audio/video content configurations detected!";sn.trigger(Ut.KEY_SYSTEM_ACCESS_COMPLETE,{error:oo}),Pn({error:oo})}})},selectKeySystem:function(kt){return Rt=kt.keySystem,Promise.resolve(Rt)},setMediaElement:function(kt){if(lt!==kt){if(lt){zt();for(var nn=0;nn<Jt.length;nn++)Or(Jt[nn]);Jt=[]}(lt=kt)&&(lt.addEventListener(pn.keyerror,En),lt.addEventListener(pn.needkey,En),lt.addEventListener(pn.keymessage,En),lt.addEventListener(pn.keyadded,En),sn.trigger(Ut.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(kt){if(!Rt)throw new Error("Can not create sessions until you have selected a key system");if(tn||0===Jt.length){var nn={sessionId:null,keyId:kt.keyId,initData:kt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return At.push(nn),lt[pn.generateKeyRequest](Rt.systemString,new Uint8Array(kt.initData)),nn}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(kt,nn){var Pn=kt.sessionId;if(_t.isClearKey(Rt))for(var qn=0;qn<nn.keyPairs.length;qn++)lt[pn.addKey](Rt.systemString,nn.keyPairs[qn].key,nn.keyPairs[qn].keyID,Pn);else lt[pn.addKey](Rt.systemString,new Uint8Array(nn),new Uint8Array(kt.initData),Pn);sn.trigger(Ut.KEY_SESSION_UPDATED)},closeKeySession:Or,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:rr,reset:rr}),lt=null,Rt=null,At=[],Jt=[],_t=Ke(hn).getInstance(),En={handleEvent:function(kt){var nn=null;switch(kt.type){case pn.needkey:var Pn=ArrayBuffer.isView(kt.initData)?kt.initData.buffer:kt.initData;sn.trigger(Ut.NEED_KEY,{key:new Tn(Pn,"cenc")});break;case pn.keyerror:if((nn=Rn(Jt,kt.sessionId))||(nn=Rn(At,kt.sessionId)),nn){var qn=h.MEDIA_KEYERR_CODE,wr="";switch(kt.errorCode.code){case 1:qn=h.MEDIA_KEYERR_UNKNOWN_CODE,wr+="MEDIA_KEYERR_UNKNOWN - "+h.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:qn=h.MEDIA_KEYERR_CLIENT_CODE,wr+="MEDIA_KEYERR_CLIENT - "+h.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:qn=h.MEDIA_KEYERR_SERVICE_CODE,wr+="MEDIA_KEYERR_SERVICE - "+h.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:qn=h.MEDIA_KEYERR_OUTPUT_CODE,wr+="MEDIA_KEYERR_OUTPUT - "+h.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:qn=h.MEDIA_KEYERR_HARDWARECHANGE_CODE,wr+="MEDIA_KEYERR_HARDWARECHANGE - "+h.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:qn=h.MEDIA_KEYERR_DOMAIN_CODE,wr+="MEDIA_KEYERR_DOMAIN - "+h.MEDIA_KEYERR_DOMAIN_MESSAGE}sn.trigger(Ut.KEY_ERROR,{error:new v.Z(qn,wr+="  System Code = "+kt.systemCode,nn)})}else jt.error("No session token found for key error");break;case pn.keyadded:(nn=Rn(Jt,kt.sessionId))||(nn=Rn(At,kt.sessionId)),nn?(jt.debug("DRM: Key added."),sn.trigger(Ut.KEY_ADDED,{data:nn})):jt.debug("No session token found for key added");break;case pn.keymessage:if((tn=null!=kt.sessionId)?!(nn=Rn(Jt,kt.sessionId))&&At.length>0&&(nn=At.shift(),Jt.push(nn),nn.sessionId=kt.sessionId,sn.trigger(Ut.KEY_SESSION_CREATED,{data:nn})):At.length>0&&(nn=At.shift(),Jt.push(nn),0!==At.length&&Un.error(new v.Z(h.MEDIA_KEY_MESSAGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),nn){var Dr=ArrayBuffer.isView(kt.message)?kt.message.buffer:kt.message;nn.keyMessage=Dr,sn.trigger(Ut.INTERNAL_KEY_MESSAGE,{data:new vn(nn,Dr,kt.defaultURL)})}else jt.warn("No session token found for key message")}}},Vt}Bi.__dashjs_factory_name="ProtectionModel_01b";const Ui=dashjs.FactoryMaker.getClassFactory(Bi);var $i=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Wi=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Do(){var Zt,Vt=this.context;function jt(lt,Rt){for(var _t=0;_t<Rt.length;_t++){var At=Rt[_t];if("function"==typeof lt[At[Object.keys(At)[0]]])return At}return null}return Zt={createProtectionSystem:function(lt){var Rt=null,_t=Ke(Vt).getInstance();_t.setConfig({debug:lt.debug,BASE64:lt.BASE64,settings:lt.settings}),_t.initialize();var Jt,tn,En,hn,sn,Ut,At=(En=(tn=(Jt=lt).debug).getLogger(Zt),hn=Jt.eventBus,sn=Jt.errHandler,(Ut=Jt.videoModel?Jt.videoModel.getElement():null)&&void 0===Ut.onencrypted||Ut&&void 0===Ut.mediaKeys?jt(Ut,Wi)?(En.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),qr(Vt).create({debug:tn,eventBus:hn,events:Jt.events,api:jt(Ut,Wi)})):jt(Ut,$i)?(En.info("EME detected on this user agent! (ProtectionModel_01b)"),Ui(Vt).create({debug:tn,eventBus:hn,errHandler:sn,events:Jt.events,api:jt(Ut,$i)})):(En.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(En.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),mi(Vt).create({debug:tn,eventBus:hn,events:Jt.events})));return!Rt&&At&&(Rt=K(Vt).create({protectionModel:At,protectionKeyController:_t,eventBus:lt.eventBus,debug:lt.debug,events:lt.events,BASE64:lt.BASE64,constants:lt.constants,cmcdModel:lt.cmcdModel,customParametersModel:lt.customParametersModel,settings:lt.settings}),lt.capabilities.setEncryptedMediaSupported(!0)),Rt}}}Do.__dashjs_factory_name="Protection";var mo=dashjs.FactoryMaker.getClassFactory(Do);mo.events=Mn,mo.errors=h,dashjs.FactoryMaker.updateClassFactory(Do.__dashjs_factory_name,mo);const ol=mo},2068:(St,He,L)=>{"use strict";L.d(He,{Z:()=>N});var be=L(5448),P={DEFAULT:.5,STRONG:1,WEAK:0};function d(T,g,S){var v,w;return w=P.DEFAULT,(v=S)!==P.DEFAULT&&v!==P.STRONG&&v!==P.WEAK||(w=v),{quality:void 0===T?-1:T,reason:void 0===g?null:g,priority:w}}d.__dashjs_factory_name="SwitchRequest";var f=be.Z.getClassFactory(d);f.NO_CHANGE=-1,f.PRIORITY=P,be.Z.updateClassFactory(d.__dashjs_factory_name,f);const N=f},1767:(St,He,L)=>{"use strict";L.d(He,{Z:()=>J});var be=L(5628),P=L(6535),d=L(7423),f=L(895),N=L(6070),T=L(3112),g=L(1914),S=L(5435),x=L(5448),h=L(2068),v=L(3393),w="qualitySwitchRules",q="abandonFragmentRules";function W(le){var Z,k,K=this.context,de=(le=le||{}).mediaPlayerModel,ce=le.customParametersModel,ze=le.dashMetrics,st=le.settings;function pe(je){return je.filter(function(Ye){return Ye.quality>h.Z.NO_CHANGE})}function Mt(je){var Ye,Ne,Ve,rt,It,ft={},Pe=null;if(0!==je.length){for(ft[h.Z.PRIORITY.STRONG]={quality:h.Z.NO_CHANGE,reason:null},ft[h.Z.PRIORITY.WEAK]={quality:h.Z.NO_CHANGE,reason:null},ft[h.Z.PRIORITY.DEFAULT]={quality:h.Z.NO_CHANGE,reason:null},Ye=0,Ne=je.length;Ye<Ne;Ye+=1)(Ve=je[Ye]).quality!==h.Z.NO_CHANGE&&(ft[Ve.priority].quality===h.Z.NO_CHANGE||ft[Ve.priority].quality>Ve.quality)&&(ft[Ve.priority].quality=Ve.quality,ft[Ve.priority].reason=Ve.reason||null);return ft[h.Z.PRIORITY.WEAK].quality!==h.Z.NO_CHANGE&&(Pe=ft[h.Z.PRIORITY.WEAK]),ft[h.Z.PRIORITY.DEFAULT].quality!==h.Z.NO_CHANGE&&(Pe=ft[h.Z.PRIORITY.DEFAULT]),ft[h.Z.PRIORITY.STRONG].quality!==h.Z.NO_CHANGE&&(Pe=ft[h.Z.PRIORITY.STRONG]),Pe&&(rt=Pe.quality,It=Pe.reason),(0,h.Z)(K).create(rt,It)}}return{initialize:function(){Z=[],k=[],st.get().streaming.abr.useDefaultABRRules&&(st.get().streaming.abr.ABRStrategy===v.Z.ABR_STRATEGY_L2A?Z.push((0,g.Z)(K).create({dashMetrics:ze,settings:st})):st.get().streaming.abr.ABRStrategy===v.Z.ABR_STRATEGY_LoLP?Z.push((0,S.Z)(K).create({dashMetrics:ze})):(Z.push((0,T.Z)(K).create({dashMetrics:ze,mediaPlayerModel:de,settings:st})),Z.push((0,be.Z)(K).create({dashMetrics:ze})),st.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&Z.push((0,P.Z)(K).create({dashMetrics:ze,settings:st})),st.get().streaming.abr.additionalAbrRules.switchHistoryRule&&Z.push((0,N.Z)(K).create()),st.get().streaming.abr.additionalAbrRules.droppedFramesRule&&Z.push((0,f.Z)(K).create()),st.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&k.push((0,d.Z)(K).create({dashMetrics:ze,mediaPlayerModel:de,settings:st})))),ce.getAbrCustomRules().forEach(function(je){je.type===w&&Z.push(je.rule(K).create()),je.type===q&&k.push(je.rule(K).create())})},reset:function(){[Z,k].forEach(function(je){je&&je.length&&je.forEach(function(Ye){return Ye.reset&&Ye.reset()})}),Z=[],k=[]},getMaxQuality:function(je){return Mt(pe(Z.map(function(Ye){return Ye.getMaxIndex(je)})))||(0,h.Z)(K).create()},getMinSwitchRequest:Mt,shouldAbandonFragment:function(je,Ye){return Mt(pe(k.map(function(Ne){return Ne.shouldAbandon(je,Ye)})))||(0,h.Z)(K).create()},getQualitySwitchRules:function(){return Z}}}W.__dashjs_factory_name="ABRRulesCollection";var ie=x.Z.getClassFactory(W);ie.QUALITY_SWITCH_RULES=w,ie.ABANDON_FRAGMENT_RULES=q,x.Z.updateSingletonFactory(W.__dashjs_factory_name,ie);const J=ie},7423:(St,He,L)=>{"use strict";L.d(He,{Z:()=>N});var be=L(2068),P=L(5448),d=L(6398);function f(T){var g,S,x,h,v,w=this.context,q=(T=T||{}).mediaPlayerModel,W=T.dashMetrics,ie=T.settings;function J(){x={},h={},v=[]}return g={shouldAbandon:function(le){var Z=(0,be.Z)(w).create(be.Z.NO_CHANGE,{name:f.__dashjs_factory_name});if(!(le&&le.hasOwnProperty("getMediaInfo")&&le.hasOwnProperty("getMediaType")&&le.hasOwnProperty("getCurrentRequest")&&le.hasOwnProperty("getRepresentationInfo")&&le.hasOwnProperty("getAbrController")))return Z;var k,K,pt,Pt,de=le.getMediaInfo(),ce=le.getMediaType(),ze=le.getStreamInfo(),st=ze?ze.id:null,pe=le.getCurrentRequest();if(!isNaN(pe.index)){K=pe.index,x[k=ce]=x[k]||{},x[k][K]=x[k][K]||{};var Mt=q.getStableBufferTime();if(W.getCurrentBufferLevel(ce)>Mt)return Z;var je=x[ce][pe.index];if(null===je||null===pe.firstByteDate||h.hasOwnProperty(je.id))return Z;if(void 0===je.firstByteTime&&(v[ce]=[],je.firstByteTime=pe.firstByteDate.getTime(),je.segmentDuration=pe.duration,je.bytesTotal=pe.bytesTotal,je.id=pe.index),je.bytesLoaded=pe.bytesLoaded,je.elapsedTime=(new Date).getTime()-je.firstByteTime,je.bytesLoaded>0&&je.elapsedTime>0&&(pt=ce,Pt=Math.round(8*je.bytesLoaded/je.elapsedTime),v[pt]=v[pt]||[],v[pt].push(Pt)),v[ce].length>=5&&je.elapsedTime>500&&je.bytesLoaded<je.bytesTotal){var Ye=v[ce].reduce(function(pt,Pt){return pt+Pt},0);if(je.measuredBandwidthInKbps=Math.round(Ye/v[ce].length),je.estimatedTimeOfDownload=+(8*je.bytesTotal/je.measuredBandwidthInKbps/1e3).toFixed(2),je.estimatedTimeOfDownload<1.8*je.segmentDuration||0===le.getRepresentationInfo().quality)return Z;if(!h.hasOwnProperty(je.id)){var Ne=le.getAbrController(),Ve=je.bytesTotal-je.bytesLoaded,rt=Ne.getBitrateList(de),It=Ne.getQualityForBitrate(de,je.measuredBandwidthInKbps*ie.get().streaming.abr.bandwidthSafetyFactor,st),ft=Ne.getMinAllowedIndexFor(ce,st),Pe=void 0!==ft?Math.max(ft,It):It;Ve>je.bytesTotal*rt[Pe].bitrate/rt[Ne.getQualityFor(ce,st)].bitrate&&(Z.quality=Pe,Z.reason.throughput=je.measuredBandwidthInKbps,Z.reason.fragmentID=je.id,Z.reason.rule=this.getClassName(),h[je.id]=je,S.debug("["+ce+"] frag id",je.id," is asking to abandon and switch to quality to ",Pe," measured bandwidth was",je.measuredBandwidthInKbps),delete x[ce][je.id])}}else je.bytesLoaded===je.bytesTotal&&delete x[ce][je.id]}return Z},reset:J},S=(0,d.Z)(w).getInstance().getLogger(g),J(),g}f.__dashjs_factory_name="AbandonRequestsRule";const N=P.Z.getClassFactory(f)},3112:(St,He,L)=>{"use strict";L.d(He,{Z:()=>w});var be=L(3860),P=L(2068),d=L(5448),f=L(7855),N=L(5595),T=L(8512),g=L(6398),S=L(8825),x=L(3393),h=10;function v(q){var W,ie,J,le=this.context,Z=(q=q||{}).dashMetrics,k=q.mediaPlayerModel,K=(0,N.Z)(le).getInstance();function de(Pe,pt,Pt){var $e=Pt.reduce(function(ye,at,E){return at>Pt[ye]?E:ye},0);if(0===$e)return null;var ut=Math.max(Pe,h+2*pt.length),Se=(Pt[$e]-1)/(ut/h-1);return{gp:Se,Vp:h/Se}}function ce(Pe){Pe.placeholderBuffer=0,Pe.mostAdvancedSegmentStart=NaN,Pe.lastSegmentWasReplacement=!1,Pe.lastSegmentStart=NaN,Pe.lastSegmentDurationS=NaN,Pe.lastSegmentRequestTimeMs=NaN,Pe.lastSegmentFinishTimeMs=NaN}function ze(Pe,pt){var Pt=k.getStableBufferTime();if(Pe.stableBufferTime!==Pt){var $e=de(Pt,Pe.bitrates,Pe.utilities);if($e.Vp!==Pe.Vp||$e.gp!==Pe.gp){var ut=Z.getCurrentBufferLevel(pt),Se=ut+Pe.placeholderBuffer;Se-=h,Se*=$e.Vp/Pe.Vp,Se+=h,Pe.stableBufferTime=Pt,Pe.Vp=$e.Vp,Pe.gp=$e.gp,Pe.placeholderBuffer=Math.max(0,Se-ut)}}}function st(Pe,pt){return Pe.Vp*(Pe.utilities[pt]+Pe.gp)}function pe(Pe,pt){for(var Pt=Pe.bitrates[pt],$e=Pe.utilities[pt],ut=0,Se=pt-1;Se>=0;--Se)if(Pe.utilities[Se]<Pe.utilities[pt]){var ye=Pe.bitrates[Se];ut=Math.max(ut,Pe.Vp*(Pe.gp+(Pt*Pe.utilities[Se]-ye*$e)/(Pt-ye)))}return ut}function Mt(Pe){var pt=Pe.mediaType===x.Z.AUDIO?[x.Z.AUDIO]:J;for(var Pt in pt)J.hasOwnProperty(Pt)&&2===J[Pt].state&&(J[Pt].placeholderBuffer=0)}function je(){for(var Pe in J)if(J.hasOwnProperty(Pe)){var pt=J[Pe];0!==pt.state&&(pt.state=1,ce(pt))}}function Ye(Pe){if(Pe&&Pe.chunk&&Pe.chunk.mediaInfo){var pt=J[Pe.chunk.mediaInfo.type];if(pt&&0!==pt.state){var Pt=Pe.chunk.start;isNaN(pt.mostAdvancedSegmentStart)||Pt>pt.mostAdvancedSegmentStart?(pt.mostAdvancedSegmentStart=Pt,pt.lastSegmentWasReplacement=!1):pt.lastSegmentWasReplacement=!0,pt.lastSegmentStart=Pt,pt.lastSegmentDurationS=Pe.chunk.duration,pt.lastQuality=Pe.chunk.quality,Ve(pt,Pe.chunk.mediaInfo.type)}}}function Ne(Pe){if(Pe&&Pe.metric===be.Z.HTTP_REQUEST&&Pe.value&&Pe.value.type===f.w.MEDIA_SEGMENT_TYPE&&Pe.value.trace&&Pe.value.trace.length){var pt=J[Pe.mediaType];pt&&0!==pt.state&&(pt.lastSegmentRequestTimeMs=Pe.value.trequest.getTime(),pt.lastSegmentFinishTimeMs=Pe.value._tfinish.getTime(),Ve(pt,Pe.mediaType))}}function Ve(Pe,pt){if(!isNaN(Pe.lastSegmentStart)&&!isNaN(Pe.lastSegmentRequestTimeMs)&&!isNaN(Pe.placeholderBuffer)){if(Pe.placeholderBuffer*=.99,!isNaN(Pe.lastSegmentFinishTimeMs)){var Pt=Z.getCurrentBufferLevel(pt)+.001*(Pe.lastSegmentFinishTimeMs-Pe.lastSegmentRequestTimeMs),$e=st(Pe,Pe.lastQuality),ut=Math.max(0,$e-Pt);Pe.placeholderBuffer=Math.min(ut,Pe.placeholderBuffer)}Pe.lastSegmentWasReplacement&&!isNaN(Pe.lastSegmentDurationS)&&(Pe.placeholderBuffer+=Pe.lastSegmentDurationS),Pe.lastSegmentStart=NaN,Pe.lastSegmentRequestTimeMs=NaN}}function rt(Pe){if(Pe){var pt=J[Pe.mediaType];pt&&0!==pt.state&&(pt.abrQuality=Pe.newQuality)}}function It(Pe){if(Pe){var pt=J[Pe.mediaType];if(pt&&0!==pt.state){var Pt,$e=Z.getCurrentBufferLevel(Pe.mediaType);Pt=pt.abrQuality>0?pe(pt,pt.abrQuality):h;var ut=Math.max(0,Pt-$e);pt.placeholderBuffer=Math.min(pt.placeholderBuffer,ut)}}}function ft(){J={}}return W={getMaxIndex:function(Pe){var pt=(0,P.Z)(le).create();if(!(Pe&&Pe.hasOwnProperty("getMediaInfo")&&Pe.hasOwnProperty("getMediaType")&&Pe.hasOwnProperty("getScheduleController")&&Pe.hasOwnProperty("getStreamInfo")&&Pe.hasOwnProperty("getAbrController")&&Pe.hasOwnProperty("useBufferOccupancyABR")))return pt;var Pt=Pe.getMediaInfo(),$e=Pe.getMediaType(),ut=Pe.getScheduleController(),Se=Pe.getStreamInfo(),ye=Pe.getAbrController(),at=ye.getThroughputHistory(),E=Se?Se.id:null,_=Se&&Se.manifestInfo&&Se.manifestInfo.isDynamic,R=Pe.useBufferOccupancyABR();if(pt.reason=pt.reason||{},!R)return pt;ut.setTimeToLoadDelay(0);var it,Me,Ke,M=(Me=(it=Pe).getMediaType(),(Ke=J[Me])?0!==Ke.state&&ze(Ke,Me):(Ke=function(Xe){var Et={},xt=Xe.getMediaInfo().bitrateList.map(function(vn){return vn.bandwidth}),rn=xt.map(function(Gn){return Math.log(Gn)});rn=rn.map(function(vn){return vn-rn[0]+1});var Mn=k.getStableBufferTime(),Tn=de(Mn,xt,rn);return Tn?(Et.state=1,Et.bitrates=xt,Et.utilities=rn,Et.stableBufferTime=Mn,Et.Vp=Tn.Vp,Et.gp=Tn.gp,Et.lastQuality=0,ce(Et)):Et.state=0,Et}(it),J[Me]=Ke),Ke);if(0===M.state)return pt;var ue,ae=Z.getCurrentBufferLevel($e),Ie=at.getAverageThroughput($e,_),Ge=at.getSafeAverageThroughput($e,_),We=at.getAverageLatency($e);if(pt.reason.state=M.state,pt.reason.throughput=Ie,pt.reason.latency=We,isNaN(Ie))return pt;switch(M.state){case 1:ue=ye.getQualityForBitrate(Pt,Ge,E,We),pt.quality=ue,pt.reason.throughput=Ge,M.placeholderBuffer=Math.max(0,pe(M,ue)-ae),M.lastQuality=ue,!isNaN(M.lastSegmentDurationS)&&ae>=M.lastSegmentDurationS&&(M.state=2);break;case 2:(function(it,Me){var Ke=Date.now();isNaN(it.lastSegmentFinishTimeMs)?isNaN(it.lastCallTimeMs)||(it.placeholderBuffer+=Math.max(0,.001*(Ke-it.lastCallTimeMs))):it.placeholderBuffer+=Math.max(0,.001*(Ke-it.lastSegmentFinishTimeMs)),it.lastCallTimeMs=Ke,it.lastSegmentStart=NaN,it.lastSegmentRequestTimeMs=NaN,it.lastSegmentFinishTimeMs=NaN,ze(it,Me)})(M,$e),ue=function(it,Me){for(var Ke=it.bitrates.length,Xe=NaN,Et=NaN,xt=0;xt<Ke;++xt){var rn=(it.Vp*(it.utilities[xt]+it.gp)-Me)/it.bitrates[xt];(isNaN(Et)||rn>=Et)&&(Et=rn,Xe=xt)}return Xe}(M,ae+M.placeholderBuffer);var Fe=ye.getQualityForBitrate(Pt,Ge,E,We);ue>M.lastQuality&&ue>Fe&&(ue=Math.max(Fe,M.lastQuality));var et=Math.max(0,ae+M.placeholderBuffer-st(M,ue));et<=M.placeholderBuffer?(M.placeholderBuffer-=et,et=0):(et-=M.placeholderBuffer,M.placeholderBuffer=0,ue<ye.getMaxAllowedIndexFor($e,E)?ut.setTimeToLoadDelay(1e3*et):et=0),pt.quality=ue,pt.reason.throughput=Ie,pt.reason.latency=We,pt.reason.bufferLevel=ae,pt.reason.placeholderBuffer=M.placeholderBuffer,pt.reason.delay=et,M.lastQuality=ue;break;default:ie.debug("BOLA ABR rule invoked in bad state."),pt.quality=ye.getQualityForBitrate(Pt,Ge,E,We),pt.reason.state=M.state,pt.reason.throughput=Ge,pt.reason.latency=We,M.state=1,ce(M)}return pt},reset:function(){ft(),K.off(S.Z.BUFFER_EMPTY,Mt,W),K.off(S.Z.PLAYBACK_SEEKING,je,W),K.off(S.Z.METRIC_ADDED,Ne,W),K.off(S.Z.QUALITY_CHANGE_REQUESTED,rt,W),K.off(S.Z.FRAGMENT_LOADING_ABANDONED,It,W),K.off(T.Z.MEDIA_FRAGMENT_LOADED,Ye,W)}},ie=(0,g.Z)(le).getInstance().getLogger(W),ft(),K.on(S.Z.BUFFER_EMPTY,Mt,W),K.on(S.Z.PLAYBACK_SEEKING,je,W),K.on(S.Z.METRIC_ADDED,Ne,W),K.on(S.Z.QUALITY_CHANGE_REQUESTED,rt,W),K.on(S.Z.FRAGMENT_LOADING_ABANDONED,It,W),K.on(T.Z.MEDIA_FRAGMENT_LOADED,Ye,W),W}v.__dashjs_factory_name="BolaRule";const w=d.Z.getClassFactory(v)},895:(St,He,L)=>{"use strict";L.d(He,{Z:()=>N});var be=L(5448),P=L(2068),d=L(6398);function f(){var T,g,S=this.context;return T={getMaxIndex:function(x){var h=(0,P.Z)(S).create();if(!x||!x.hasOwnProperty("getDroppedFramesHistory"))return h;var v=x.getDroppedFramesHistory(),w=x.getStreamInfo().id;if(v){var q=v.getFrameHistory(w);if(!q||0===q.length)return h;for(var W=0,ie=0,J=P.Z.NO_CHANGE,le=1;le<q.length;le++)if(q[le]&&(W=q[le].droppedVideoFrames,(ie=q[le].totalVideoFrames)>375&&W/ie>.15)){g.debug("index: "+(J=le-1)+" Dropped Frames: "+W+" Total Frames: "+ie);break}return(0,P.Z)(S).create(J,{droppedFrames:W})}return h}},g=(0,d.Z)(S).getInstance().getLogger(T),T}f.__dashjs_factory_name="DroppedFramesRule";const N=be.Z.getClassFactory(f)},6535:(St,He,L)=>{"use strict";L.d(He,{Z:()=>h});var be=L(5595),P=L(8512),d=L(5448),f=L(6398),N=L(2068),T=L(3393),g=L(3860),S=L(8825);function x(v){v=v||{};var w,q,W,ie=this.context,J=(0,be.Z)(ie).getInstance(),le=v.dashMetrics;function Z(){(W={})[T.Z.VIDEO]={ignoreCount:2},W[T.Z.AUDIO]={ignoreCount:2}}function k(){Z()}function K(de){isNaN(de.startTime)||de.mediaType!==T.Z.AUDIO&&de.mediaType!==T.Z.VIDEO||W[de.mediaType].ignoreCount>0&&W[de.mediaType].ignoreCount--}return w={getMaxIndex:function(de){var ce=(0,N.Z)(ie).create();if(!de||!de.hasOwnProperty("getMediaType"))return ce;!function(){if(!le||!le.hasOwnProperty("getCurrentBufferLevel")||!le.hasOwnProperty("getCurrentBufferState"))throw new Error(T.Z.MISSING_CONFIG_ERROR)}();var ze=de.getMediaType(),st=le.getCurrentBufferState(ze),pe=de.getRepresentationInfo().fragmentDuration,Mt=de.getStreamInfo(),je=Mt?Mt.id:null,Ye=de.getScheduleController(),Ne=Mt&&Mt.manifestInfo&&Mt.manifestInfo.isDynamic;if(!Ye.getPlaybackController().getLowLatencyModeEnabled()&&W[ze].ignoreCount>0||!pe)return ce;if(st&&st.state===g.Z.BUFFER_EMPTY)q.debug("["+ze+"] Switch to index 0; buffer is empty."),ce.quality=0,ce.reason="InsufficientBufferRule: Buffer is empty";else{var Ve=de.getMediaInfo(),rt=de.getAbrController(),It=rt.getThroughputHistory(),ft=le.getCurrentBufferLevel(ze),Pe=It.getAverageThroughput(ze,Ne),pt=It.getAverageLatency(ze);ce.quality=rt.getQualityForBitrate(Ve,Pe*(ft/pe)*.5,je,pt),ce.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ce},reset:function(){Z(),J.off(S.Z.PLAYBACK_SEEKING,k,w),J.off(P.Z.BYTES_APPENDED_END_FRAGMENT,K,w)}},q=(0,f.Z)(ie).getInstance().getLogger(w),Z(),J.on(S.Z.PLAYBACK_SEEKING,k,w),J.on(P.Z.BYTES_APPENDED_END_FRAGMENT,K,w),w}x.__dashjs_factory_name="InsufficientBufferRule";const h=d.Z.getClassFactory(x)},1914:(St,He,L)=>{"use strict";L.d(He,{Z:()=>h});var be=L(3860),P=L(2068),d=L(5448),f=L(7855),N=L(5595),T=L(8512),g=L(6398),S=L(3393);function x(v){var w,q,W,ie,J=this.context,le=(v=v||{}).dashMetrics,Z=(0,N.Z)(J).getInstance();function k(je){je.placeholderBuffer=0,je.mostAdvancedSegmentStart=NaN,je.lastSegmentWasReplacement=!1,je.lastSegmentStart=NaN,je.lastSegmentDurationS=NaN,je.lastSegmentRequestTimeMs=NaN,je.lastSegmentFinishTimeMs=NaN,je.lastSegmentUrl=""}function K(){for(var je in q)if(q.hasOwnProperty(je)){var Ye=q[je];0!==Ye.state&&(Ye.state=1,k(Ye))}}function de(je){if(je&&je.chunk&&je.chunk.mediaInfo){var Ye=q[je.chunk.mediaInfo.type],Ne=W[je.chunk.mediaInfo.type];if(Ye&&0!==Ye.state){var Ve=je.chunk.start;isNaN(Ye.mostAdvancedSegmentStart)||Ve>Ye.mostAdvancedSegmentStart?(Ye.mostAdvancedSegmentStart=Ve,Ye.lastSegmentWasReplacement=!1):Ye.lastSegmentWasReplacement=!0,Ye.lastSegmentStart=Ve,Ye.lastSegmentDurationS=je.chunk.duration,Ye.lastQuality=je.chunk.quality,ze(Ye,Ne)}}}function ce(je){if(je&&je.metric===be.Z.HTTP_REQUEST&&je.value&&je.value.type===f.w.MEDIA_SEGMENT_TYPE&&je.value.trace&&je.value.trace.length){var Ye=q[je.mediaType],Ne=W[je.mediaType];Ye&&0!==Ye.state&&(Ye.lastSegmentRequestTimeMs=je.value.trequest.getTime(),Ye.lastSegmentFinishTimeMs=je.value._tfinish.getTime(),ze(Ye,Ne))}}function ze(je,Ye){isNaN(je.lastSegmentStart)||isNaN(je.lastSegmentRequestTimeMs)||(Ye.segment_request_start_s=.001*je.lastSegmentRequestTimeMs,Ye.segment_download_finish_s=.001*je.lastSegmentFinishTimeMs,je.lastSegmentStart=NaN,je.lastSegmentRequestTimeMs=NaN)}function st(je){if(je&&je.mediaType){var Ye=q[je.mediaType];Ye&&0!==Ye.state&&(Ye.abrQuality=je.newQuality)}}function pe(je,Ye){if(je.length!==Ye.length)return-1;for(var Ne=0,Ve=0;Ve<je.length;Ve++)Ne+=je[Ve]*Ye[Ve];return Ne}function Mt(){q={},W={}}return w={getMaxIndex:function(je){var Ye,Ne=(0,P.Z)(J).create(),Ve=Math.pow(4,.99),rt=Math.max(Math.pow(4,1),Ve*Math.sqrt(4)),It=je.getMediaInfo(),ft=je.getMediaType(),Pe=It.bitrateList.map(function(Tn){return Tn.bandwidth}),pt=Pe.length,Pt=je.getScheduleController(),$e=je.getStreamInfo(),ut=je.getAbrController(),Se=ut.getThroughputHistory(),ye=$e&&$e.manifestInfo&&$e.manifestInfo.isDynamic,at=je.useL2AABR(),E=le.getCurrentBufferLevel(ft,!0),_=Se.getSafeAverageThroughput(ft,ye),R=Se.getAverageThroughput(ft,ye),M=Se.getAverageLatency(ft),ue=je.getVideoModel().getPlaybackRate();if(!(je&&je.hasOwnProperty("getMediaInfo")&&je.hasOwnProperty("getMediaType")&&je.hasOwnProperty("getScheduleController")&&je.hasOwnProperty("getStreamInfo")&&je.hasOwnProperty("getAbrController")&&je.hasOwnProperty("useL2AABR")&&(Ne.reason=Ne.reason||{},at&&ft!==S.Z.AUDIO)))return Ne;Pt.setTimeToLoadDelay(0);var Tn,qr,vr,mi,Ti,vn,Gn,ae=(vn=(Tn=je).getMediaType(),(Gn=q[vn])||(vr={},Ti=(mi=Tn.getMediaInfo()).bitrateList.map(function(qr){return qr.bandwidth/1e3}),vr.state=1,vr.bitrates=Ti,vr.lastQuality=0,(qr=mi)&&qr.type&&(W[qr.type]={},W[qr.type].w=[],W[qr.type].prev_w=[],W[qr.type].Q=0,W[qr.type].segment_request_start_s=0,W[qr.type].segment_download_finish_s=0,W[qr.type].B_target=1.5),k(vr),q[vn]=Gn=vr),Gn);if(0===ae.state)return Ne;var Ie=W[ft];if(!Ie||(Ne.reason.state=ae.state,Ne.reason.throughput=R,Ne.reason.latency=M,isNaN(R)))return Ne;switch(ae.state){case 1:if(Ye=ut.getQualityForBitrate(It,_,$e.id,M),Ne.quality=Ye,Ne.reason.throughput=_,ae.lastQuality=Ye,!isNaN(ae.lastSegmentDurationS)&&E>=Ie.B_target){ae.state=2,Ie.Q=Ve;for(var Ge=0;Ge<pt;++Ge)Ie.prev_w[Ge]=Ge===ae.lastQuality?1:0}break;case 2:var We=[],Fe=le.getCurrentHttpRequest(ft).trace.reduce(function(Tn,vn){return Tn+vn.d},0),et=le.getCurrentHttpRequest(ft).trace.reduce(function(Tn,vn){return Tn+vn.b[0]},0),it=Math.round(8*et/Fe),Me=le.getCurrentHttpRequest(ft);if(it<1&&(it=1),Me.url===ae.lastSegmentUrl||Me.type===f.w.INIT_SEGMENT_TYPE)Ye=ae.lastQuality;else{for(var Ke=ae.lastSegmentDurationS,Xe=1,Et=0;Et<pt;++Et)Pe[Et]=Pe[Et]/1e3,ue*Pe[Et]>it&&(Xe=-1),Ie.w[Et]=Ie.prev_w[Et]+Xe*(Ke/(2*rt))*((Ie.Q+Ve)*(ue*Pe[Et]/it));Ie.w=function(Tn){for(var vn=Tn.length,Gn=!1,Zn=[],vr=0;vr<vn;++vr)Zn[vr]=Tn[vr];for(var mi=Tn.sort(function(Wi,Do){return Do-Wi}),Ti=0,qr=0,Bi=[],Ui=0;Ui<vn-1;++Ui)if((qr=((Ti+=mi[Ui])-1)/(Ui+1))>=mi[Ui+1]){Gn=!0;break}Gn||(qr=(Ti+mi[vn-1]-1)/vn);for(var $i=0;$i<vn;++$i)Bi[$i]=Math.max(Zn[$i]-qr,0);return Bi}(Ie.w);for(var xt=0;xt<pt;++xt)We[xt]=Ie.w[xt]-Ie.prev_w[xt],Ie.prev_w[xt]=Ie.w[xt];Ie.Q=Math.max(0,Ie.Q-Ke+Ke*ue*((pe(Pe,Ie.prev_w)+pe(Pe,We))/it));for(var rn=[],Mn=0;Mn<pt;++Mn)rn[Mn]=Math.abs(Pe[Mn]-pe(Ie.w,Pe));(Ye=rn.indexOf(Math.min.apply(Math,rn)))>ae.lastQuality&&Pe[ae.lastQuality+1]<=it&&(Ye=ae.lastQuality+1),Pe[Ye]>=it&&(Ie.Q=2*Math.max(Ve,Ie.Q)),ae.lastSegment.url=Me.url}Ne.quality=Ye,Ne.reason.throughput=R,Ne.reason.latency=M,Ne.reason.bufferLevel=E,ae.lastQuality=Ne.quality;break;default:ie.debug("L2A ABR rule invoked in bad state."),Ne.quality=ut.getQualityForBitrate(It,_,$e.id,M),Ne.reason.state=ae.state,Ne.reason.throughput=_,Ne.reason.latency=M,ae.state=1,k(ae)}return Ne},reset:function(){Mt(),Z.off(T.Z.PLAYBACK_SEEKING,K,w),Z.off(T.Z.MEDIA_FRAGMENT_LOADED,de,w),Z.off(T.Z.METRIC_ADDED,ce,w),Z.off(T.Z.QUALITY_CHANGE_REQUESTED,st,w)}},ie=(0,g.Z)(J).getInstance().getLogger(w),Mt(),Z.on(T.Z.PLAYBACK_SEEKING,K,w),Z.on(T.Z.MEDIA_FRAGMENT_LOADED,de,w),Z.on(T.Z.METRIC_ADDED,ce,w),Z.on(T.Z.QUALITY_CHANGE_REQUESTED,st,w),w}x.__dashjs_factory_name="L2ARule";const h=d.Z.getClassFactory(x)},6070:(St,He,L)=>{"use strict";L.d(He,{Z:()=>N});var be=L(5448),P=L(6398),d=L(2068);function f(){var T,g,S=this.context;return T={getMaxIndex:function(x){for(var h=x?x.getSwitchHistory():null,v=h?h.getSwitchRequests():[],w=0,q=0,W=0,ie=(0,d.Z)(S).create(),J=0;J<v.length;J++)if(void 0!==v[J]&&(W+=v[J].dropSize,(w+=v[J].drops)+(q+=v[J].noDrops)>=6&&w/q>.075)){ie.quality=J>0&&v[J].drops>0?J-1:J,ie.reason={index:ie.quality,drops:w,noDrops:q,dropSize:W},g.debug("Switch history rule index: "+ie.quality+" samples: "+(w+q)+" drops: "+w);break}return ie}},g=(0,P.Z)(S).getInstance().getLogger(T),T}f.__dashjs_factory_name="SwitchHistoryRule";const N=be.Z.getClassFactory(f)},5628:(St,He,L)=>{"use strict";L.d(He,{Z:()=>T});var be=L(5448),P=L(2068),d=L(3393),f=L(3860);function N(g){var S=this.context,x=(g=g||{}).dashMetrics;return{getMaxIndex:function(h){var v=(0,P.Z)(S).create();if(!(h&&h.hasOwnProperty("getMediaInfo")&&h.hasOwnProperty("getMediaType")&&h.hasOwnProperty("useBufferOccupancyABR")&&h.hasOwnProperty("getAbrController")&&h.hasOwnProperty("getScheduleController")))return v;!function(){if(!x||!x.hasOwnProperty("getCurrentBufferState"))throw new Error(d.Z.MISSING_CONFIG_ERROR)}();var w=h.getMediaInfo(),q=h.getMediaType(),W=x.getCurrentBufferState(q),ie=h.getScheduleController(),J=h.getAbrController(),le=h.getStreamInfo(),Z=le?le.id:null,k=le&&le.manifestInfo?le.manifestInfo.isDynamic:null,K=J.getThroughputHistory(),de=K.getSafeAverageThroughput(q,k),ce=K.getAverageLatency(q),ze=h.useBufferOccupancyABR();return isNaN(de)||!W||ze||J.getAbandonmentStateFor(Z,q)!==f.Z.ABANDON_LOAD&&(W.state===f.Z.BUFFER_LOADED||k)&&(v.quality=J.getQualityForBitrate(w,de,Z,ce),ie.setTimeToLoadDelay(0),v.reason={throughput:de,latency:ce}),v},reset:function(){}}}N.__dashjs_factory_name="ThroughputRule";const T=be.Z.getClassFactory(N)},4722:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f});var be=L(5448),P=L(6398);function d(){var N,T,g,S,x,h,v,w,q;function ie(){g=null,S=1,x=100,h=0,v=null,w=null,q="dynamic_weight_selection"}function J(){var de=0;if(g)for(var ce=0;ce<g.length;ce++){var ze=g[ce];ze.state.throughput>de&&(de=ze.state.throughput)}return de}function le(de,ce,ze){var st=de.map(function(pe,Mt){return ze[Mt]*Math.pow(pe-ce[Mt],2)}).reduce(function(pe,Mt){return pe+Mt});return(st<0?-1:1)*Math.sqrt(Math.abs(st))}function Z(de,ce){return le([de.state.throughput,de.state.latency,de.state.rebuffer,de.state.switch],[ce.state.throughput,ce.state.latency,ce.state.rebuffer,ce.state.switch],[1,1,1,1])}function k(de,ce,ze){for(var st=0;st<ce.length;st++){var pe=ce[st],Mt=Z(pe,de);K(pe,ze,Math.exp(-1*Math.pow(Mt,2)/(2*Math.pow(.1,2))))}}function K(de,ce,ze){var st=de.state,pe=[.01,.01,.01,.01];st.throughput=st.throughput+(ce[0]-st.throughput)*pe[0]*ze,st.latency=st.latency+(ce[1]-st.latency)*pe[1]*ze,st.rebuffer=st.rebuffer+(ce[2]-st.rebuffer)*pe[2]*ze,st.switch=st.switch+(ce[3]-st.switch)*pe[3]*ze}return N={getNextQuality:function(de,ce,ze,st,pe,Mt,je){var Ye=ze,Ne=st,Ve=ce,rt=function(Ie){if(!g){g=[];var Ge=Ie.bitrateList,We=[];h=Ge[0].bandwidth,Ge.forEach(function(Me){We.push(Me.bandwidth),Me.bandwidth<h&&(h=Me.bandwidth)}),it=We.map(function(Me){return Math.pow(Me,2)}).reduce(function(Me,Ke){return Me+Ke}),S=Math.sqrt(it);for(var Fe=0;Fe<Ge.length;Fe++)g.push({qualityIndex:Fe,bitrate:Ge[Fe].bandwidth,state:{throughput:Ge[Fe].bandwidth/S,latency:0,rebuffer:0,switch:0}});w=function(Me){var Ke=[],Xe=function(Zt){for(var Vt=[],jt=0;jt<Zt;jt++){var lt=[Math.random()*J(),Math.random(),Math.random(),Math.random()];Vt.push(lt)}return Vt}(Math.pow(Me.length,2));Ke.push(Xe[0]);for(var Et=[1,1,1,1],xt=1;xt<Me.length;xt++){for(var rn=null,Mn=null,Tn=0;Tn<Xe.length;Tn++){for(var vn=Xe[Tn],Gn=null,Zn=0;Zn<Ke.length;Zn++){var vr=le(vn,Ke[Zn],Et);(null===Gn||vr<Gn)&&(Gn=vr)}(null===Mn||Gn>Mn)&&(rn=vn,Mn=Gn)}Ke.push(rn)}for(var mi=null,Ti=null,qr=0;qr<Ke.length;qr++){for(var Bi=0,Ui=0;Ui<Ke.length;Ui++)qr!==Ui&&(Bi+=le(Ke[qr],Ke[Ui],Et));(null===mi||Bi>mi)&&(mi=Bi,Ti=qr)}var $i=[];for($i.push(Ke[Ti]),Ke.splice(Ti,1);Ke.length>0;){for(var Wi=null,Do=null,mo=0;mo<Ke.length;mo++){var ol=le($i[0],Ke[mo],Et);(null===Wi||ol<Wi)&&(Wi=ol,Do=mo)}$i.push(Ke[Do]),Ke.splice(Do,1)}return $i}(g)}var it;return g}(de),It=ce/S;It>1&&(It=J()),ze/=x,T.debug("getNextQuality called throughput:".concat(It," latency:").concat(ze," bufferSize:").concat(st," currentQualityIndex:").concat(Mt," playbackRate:").concat(pe));var ft=rt[Mt],Pe=ft.bitrate*je.getSegmentDuration()/Ve,pt=Math.max(0,Pe-Ne);if(Ne-Pe<je.getMinBuffer())return T.debug("Buffer is low for bitrate= ".concat(ft.bitrate," downloadTime=").concat(Pe," currentBuffer=").concat(Ne," rebuffer=").concat(pt)),function(Ie,Ge){var We=0,Fe=Ie;if(g)for(var et=0;et<g.length;et++){var it=g[et];it.bitrate<Ie.bitrate&&it.bitrate>We&&Ge>it.bitrate&&(We=it.bitrate,Fe=it)}return Fe}(ft,Ve).qualityIndex;switch(q){case"manual_weight_selection":v=[.4,.4,.4,.4];break;case"random_weight_selection":v=function(Ge,We){for(var Fe=[],et=Math.sqrt(2/Ge),it=0;it<4;it++)Fe.push(Math.random()*et);return v=Fe}(rt.length);break;default:!function(Ie,Ge,We,Fe,et,it,Me){v||(v=w[w.length-1]);var Ke=Ie.findWeightVector(Ge,We,Fe,et,it,Me);null!==Ke&&-1!==Ke&&(v=Ke)}(je,rt,Ye,Ne,pt,Ve,pe)}for(var Pt=null,$e=null,ut=null,Se=0;Se<rt.length;Se++){var ye=rt[Se],at=ye.state,E=[at.throughput,at.latency,at.rebuffer,at.switch],_=v.slice(),R=je.getNextBufferWithBitrate(ye.bitrate,Ne,Ve),M=R<je.getMinBuffer();M&&T.debug("Buffer is low for bitrate=".concat(ye.bitrate," downloadTime=").concat(Pe," currentBuffer=").concat(Ne," nextBuffer=").concat(R)),(ye.bitrate>ce-1e4||M)&&ye.bitrate!==h&&(_[0]=100);var ue=le(E,[It,0,0,0],_);(null===Pt||ue<Pt)&&(Pt=ue,$e=ye.qualityIndex,ut=ye)}var ae=Math.abs(ft.bitrate-ut.bitrate)/S;return k(ft,rt,[It,ze,pt,ae]),k(ut,rt,[It,0,0,ae]),$e},reset:function(){ie()}},T=(0,P.Z)(this.context).getInstance().getLogger(N),ie(),N}d.__dashjs_factory_name="LearningAbrController";const f=be.Z.getClassFactory(d)},5317:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f});var be=L(5448),P=L(2298);function d(){var N,T,g,S,x;function h(){T=null,g=null,S=null,x=null}function v(q,W,ie,J){var le=new P.Z;return le.type=q,le.weights.bitrateReward=W||1,le.weights.bitrateSwitchPenalty=1,le.weights.rebufferPenalty=ie||1e3,le.weights.latencyPenalty=[],le.weights.latencyPenalty.push({threshold:1.1,penalty:.05*J}),le.weights.latencyPenalty.push({threshold:1e8,penalty:.1*ie}),le.weights.playbackSpeedPenalty=J||200,le}function w(q,W,ie,J,le){le.bitrateWSum+=le.weights.bitrateReward*q,le.lastBitrate&&(le.bitrateSwitchWSum+=le.weights.bitrateSwitchPenalty*Math.abs(q-le.lastBitrate)),le.lastBitrate=q,le.rebufferWSum+=le.weights.rebufferPenalty*W;for(var Z=0;Z<le.weights.latencyPenalty.length;Z++){var k=le.weights.latencyPenalty[Z];if(ie<=k.threshold){le.latencyWSum+=k.penalty*ie;break}}le.playbackSpeedWSum+=le.weights.playbackSpeedPenalty*Math.abs(1-J),le.totalQoe=le.bitrateWSum-le.bitrateSwitchWSum-le.rebufferWSum-le.latencyWSum-le.playbackSpeedWSum}return N={setupPerSegmentQoe:function(q,W,ie){T=v("segment",q,W,ie),g=q,S=W,x=ie},logSegmentMetrics:function(q,W,ie,J){T&&w(q,W,ie,J,T)},getPerSegmentQoe:function(){return T},calculateSingleUseQoe:function(q,W,ie,J){var le=null;return g&&S&&x&&(le=v("segment",g,S,x)),le?(w(q,W,ie,J,le),le.totalQoe):0},reset:function(){h()}},h(),N}d.__dashjs_factory_name="LoLpQoeEvaluator";const f=be.Z.getClassFactory(d)},5435:(St,He,L)=>{"use strict";L.d(He,{Z:()=>h});var be=L(6398),P=L(5448),d=L(4722),f=L(5317),N=L(2068),T=L(3860),g=L(6523),S=L(3393);function x(v){var w,q,W,ie,J=(v=v||{}).dashMetrics,le=this.context;return q={getMaxIndex:function(Z){try{var k=(0,N.Z)(le).create(),K=Z.getMediaInfo().type,de=Z.getAbrController(),ce=Z.getStreamInfo(),ze=de.getQualityFor(K,ce.id),st=Z.getMediaInfo(),pe=J.getCurrentBufferState(K),Mt=Z.getScheduleController(),je=J.getCurrentBufferLevel(K,!0),Ye=ce&&ce.manifestInfo?ce.manifestInfo.isDynamic:null,Ne=Mt.getPlaybackController(),Ve=Ne.getCurrentLiveLatency();if(!Z.useLoLPABR()||K===S.Z.AUDIO)return k;Ve||(Ve=0);var rt=Ne.getPlaybackRate(),It=de.getThroughputHistory().getSafeAverageThroughput(K,Ye);if(w.debug("Throughput ".concat(Math.round(It)," kbps")),isNaN(It)||!pe||de.getAbandonmentStateFor(ce.id,K)===T.Z.ABANDON_LOAD)return k;for(var ft=st.bitrateList,Pe=Z.getRepresentationInfo().fragmentDuration,pt=ft[0].bandwidth/1e3,Pt=ft[ft.length-1].bandwidth/1e3,$e=0;$e<ft.length;$e++){var ut=ft[$e].bandwidth/1e3;ut>Pt?Pt=ut:ut<pt&&(pt=ut)}var Se=ft[ze].bandwidth/1e3,ye=J.getCurrentHttpRequest(K,!0),at=(ye.tresponse.getTime()-ye.trequest.getTime())/1e3,E=at>Pe?at-Pe:0;ie.setupPerSegmentQoe(Pe,Pt,pt),ie.logSegmentMetrics(Se,E,Ve,rt);var _=(0,g.Z)(le).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Pe,qoeEvaluator:ie});return k.quality=W.getNextQuality(st,1e3*It,Ve,je,rt,ze,_),k.reason={throughput:It,latency:Ve},k.priority=N.Z.PRIORITY.STRONG,Mt.setTimeToLoadDelay(0),k.quality!==ze&&w.debug("[TgcLearningRule]["+K+"] requesting switch to index: ",k.quality,"Average throughput",Math.round(It),"kbps"),k}catch(R){throw R}},reset:function(){W.reset(),ie.reset()}},w=(0,be.Z)(le).getInstance().getLogger(q),W=(0,d.Z)(le).create(),ie=(0,f.Z)(le).create(),q}x.__dashjs_factory_name="LoLPRule";const h=P.Z.getClassFactory(x)},6523:(St,He,L)=>{"use strict";L.d(He,{Z:()=>d});var be=L(5448);function P(f){var N,T,g,S,x=f.targetLatency,h=f.bufferMin,v=f.segmentDuration,w=f.qoeEvaluator;function q(){return v}function W(ie,J){var le=q();return J>le?ie-le:ie+le-J}return N={getMinBuffer:function(){return h},getSegmentDuration:q,getNextBufferWithBitrate:function(ie,J,le){return W(J,ie*v/le)},getNextBuffer:W,findWeightVector:function(ie,J,le,Z,k,K){var de=null,ce=null,ze=null,st=Math.abs(J-g);return ie.forEach(function(pe){T.forEach(function(Mt){var je=Mt[1],Ye=Mt[2],Ne=pe.bitrate*v/k,Ve=W(le,Ne),rt=(0===Ye?10:1/Ye)*Math.max(1e-5,Ne-Ve),ft=w.calculateSingleUseQoe(pe.bitrate,rt,(0===je?10:1/je)*pe.state.latency,K);(null===de||ft>de)&&!(J>x+st)&&Ve>=h&&(de=ft,ce=Mt,ze=pe.bitrate)})}),null===ce&&null===ze&&(ce=-1),g=J,ce}},T=function ie(J,le,Z){if(Z===le)return J;for(var k=J.length,K=0;K<k;K++)for(var de=J.shift(),ce=0;ce<S.length;ce++)J.push(de.concat(S[ce]));return ie(J,le,Z+1)}((S=[.2,.4,.6,.8,1]).map(function(ie){return[ie]}),4,1),g=0,N}P.__dashjs_factory_name="LoLpWeightSelector";const d=be.Z.getClassFactory(P)},2298:(St,He,L)=>{"use strict";L.d(He,{Z:()=>be});const be=function P(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,P),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:(St,He,L)=>{"use strict";L.d(He,{Y:()=>v,Z:()=>q});var be=L(3393),P=L(1553),d=L(5448),f=L(2128),N=L(2594),T=L(7387),g=L(7417),S=L(9032),x=L(9326),h=L(7802),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function w(W){var ie,J,le,Z,k,K,de,ce,ze=this.context,st=W.adapter,pe=W.baseURLController,Mt=W.streamInfo,je=W.timelineConverter,Ye=W.debug,Ne=W.eventBus,Ve=W.events,rt=W.dashConstants,It=(0,N.Z)(ze).getInstance();function ft(pt,Pt){var ut,Se,$e=new f.Z;$e.id=pt.id,$e.bitrate=pt.bandwidth,$e.width=pt.width,$e.height=pt.height,$e.tilesHor=1,$e.tilesVert=1,pt.essentialProperties&&pt.essentialProperties.forEach(function(ut){if(v.indexOf(ut.schemeIdUri)>=0&&ut.value){var Se=ut.value.split("x");2!==Se.length||isNaN(Se[0])||isNaN(Se[1])||($e.tilesHor=parseInt(Se[0],10),$e.tilesVert=parseInt(Se[1],10))}}),Pt?K.updateSegmentData(pt).then(function(ut){var Se,ye,E,_;Se=$e,E=[],_=function(R,M){var ue,ae,Ie,Ge,We=[],Fe=0;for(ue=0,ae=R.segments.length;ue<ae;ue++)Ie=R.segments[ue],(Ge=(0,T.TJ)(je,st.getIsDynamic(),M,Ie.startTime,Ie.duration,Ie.timescale,Ie.media,Ie.mediaRange,Fe))&&(We.push(Ge),Ge=null,Fe++);return We}(ut,ye=pt),ye.segments=_,Se.segmentDuration=ye.segments[0].duration,Se.readThumbnail=function(R,M){var ue=null;E.some(function(ae){if(ae.start<=R&&ae.end>R)return ue=ae.url,!0}),ue?M(ue):ye.segments.some(function(ae){if(ae.mediaStartTime<=R&&ae.mediaStartTime+ae.duration>R){var Ie=pe.resolve(ye.path);return de.load({method:"get",url:Ie.url,request:{range:ae.mediaRange,responseType:"arraybuffer"},onload:function(Ge){var We=ce.getSamplesInfo(Ge.target.response),Fe=new Blob([Ge.target.response.slice(We.sampleList[0].offset,We.sampleList[0].offset+We.sampleList[0].size)],{type:"image/jpeg"}),et=window.URL.createObjectURL(Fe);E.push({start:ae.mediaStartTime,end:ae.mediaStartTime+ae.duration,url:et}),M&&M(et)}}),!0}})}}):($e.startNumber=pt.startNumber,$e.segmentDuration=pt.segmentDuration,$e.timescale=pt.timescale,$e.templateUrl=(Se=It.isRelative((ut=pt).media)?It.resolve(ut.media,pe.resolve(ut.path).url):ut.media)?(0,T.Aj)(Se,ut.id):""),$e.tilesHor>0&&$e.tilesVert>0&&($e.widthPerTile=$e.width/$e.tilesHor,$e.heightPerTile=$e.height/$e.tilesVert,J.push($e))}function Pe(){J=[],Z=-1,k=null}return ie={getTracks:function(){return J},addTracks:function(){if(Mt&&st&&(k=st.getMediaInfoForType(Mt,be.Z.IMAGE))){var pt=st.getVoRepresentations(k);pt&&pt.length>0&&pt.forEach(function(Pt){(Pt.segmentInfoType===P.Z.SEGMENT_TEMPLATE&&Pt.segmentDuration>0&&Pt.media||Pt.segmentInfoType===P.Z.SEGMENT_TIMELINE)&&ft(Pt),Pt.segmentInfoType===P.Z.SEGMENT_BASE&&ft(Pt,!0)}),J.length>0&&J.sort(function(Pt,$e){return Pt.bitrate-$e.bitrate})}},reset:Pe,setTrackByIndex:function(pt){J&&0!==J.length&&(pt>=J.length&&(pt=J.length-1),Z=pt)},getCurrentTrack:function(){return Z<0?null:J[Z]},getCurrentTrackIndex:function(){return Z},getThumbnailRequestForTime:function(pt){for(var Pt,$e=st.getVoRepresentations(k),ut=0;ut<$e.length;ut++)if(J[Z].id===$e[ut].id){Pt=$e[ut];break}return le.getSegmentRequestForTime(k,Pt,pt)}},Pe(),de=(0,S.Z)(ze).create({}),ce=(0,g.Z)(ze).getInstance(),K=(0,h.Z)(ze).create({events:Ve,eventBus:Ne,streamInfo:Mt,timelineConverter:je,dashConstants:rt,dashMetrics:W.dashMetrics,segmentBaseController:W.segmentBaseController,type:be.Z.IMAGE}),(le=(0,x.Z)(ze).create({streamInfo:Mt,type:be.Z.IMAGE,timelineConverter:je,segmentsController:K,baseURLController:pe,debug:Ye,eventBus:Ne,events:Ve,dashConstants:rt,urlUtils:It})).initialize(!!st&&st.getIsDynamic()),ie}w.__dashjs_factory_name="ThumbnailTracks";const q=d.Z.getClassFactory(w)},7417:(St,He,L)=>{"use strict";L.d(He,{Z:()=>g});var be=L(6398),P=L(8260),d=L(5448),f=L(6934),N=L(9597);function T(){var S,x,h=this.context;function v(W){if(!W)return null;void 0===W.fileStart&&(W.fileStart=0);var ie=f.parseBuffer(W),J=(0,P.Z)(h).create();return J.setData(ie),J}function w(W,ie){return W[ie+3]>>>0|W[ie+2]<<8>>>0|W[ie+1]<<16>>>0|W[ie]<<24>>>0}function q(W,ie){return String.fromCharCode(W[ie++])+String.fromCharCode(W[ie++])+String.fromCharCode(W[ie++])+String.fromCharCode(W[ie])}return x={parse:v,findLastTopIsoBoxCompleted:function(W,ie,J){if(void 0===J&&(J=0),!ie||J+8>=ie.byteLength)return new N.Z(0,!1);for(var le,Z=ie instanceof ArrayBuffer?new Uint8Array(ie):ie,k=0;J<Z.byteLength;){var K=w(Z,J),de=q(Z,J+4);if(0===K)break;J+K<=Z.byteLength&&(W.indexOf(de)>=0?le=new N.Z(J,!0,K):k=J+K),J+=K}return le||new N.Z(k,!1)},getMediaTimescaleFromMoov:function(W){var ie=v(W),J=ie?ie.getBox("mdhd"):void 0;return J?J.timescale:NaN},getSamplesInfo:function(W){if(!W||0===W.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var ie,J,le,Z,k,K,de,ce,ze,st,pe,Mt,je,Ye,Ne,Ve,rt=v(W),It=rt.getBoxes("moof"),ft=rt.getBoxes("mfhd");Ne=rt.getBoxes("moof").length,Ye=ft[ft.length-1].sequence_number,J=0,k=[];var Pe=-1,pt=-1;for(st=0;st<It.length;st++){var Pt=It[st],$e=Pt.getChildBoxes("traf");for(ce=0;ce<$e.length;ce++){var ut=$e[ce],Se=ut.getChildBox("tfhd"),ye=ut.getChildBox("tfdt");Z=ye.baseMediaDecodeTime;var at=ut.getChildBoxes("trun"),E=ut.getChildBoxes("subs");for(ze=0;ze<at.length;ze++){var _=at[ze];for(J=_.sample_count,je=(Se.base_data_offset||0)+(_.data_offset||0),de=0;de<J;de++){ie=void 0!==(K=_.samples[de]).sample_duration?K.sample_duration:Se.default_sample_duration;var R={dts:Z,cts:Z+(void 0!==K.sample_composition_time_offset?K.sample_composition_time_offset:0),duration:ie,offset:Pt.offset+je,size:le=void 0!==K.sample_size?K.sample_size:Se.default_sample_size,subSizes:[le]};if(E)for(pe=0;pe<E.length;pe++){var M=E[pe];if(Pe<M.entry_count-1&&de>pt&&(Pe++,pt+=M.entries[Pe].sample_delta),de==pt){R.subSizes=[];var ue=M.entries[Pe];for(Mt=0;Mt<ue.subsample_count;Mt++)R.subSizes.push(ue.subsamples[Mt].subsample_size)}}k.push(R),je+=le,Z+=ie}}Ve=Z-ye.baseMediaDecodeTime}}return{sampleList:k,lastSequenceNumber:Ye,totalDuration:Ve,numSequences:Ne}},findInitRange:function(W){var ie=null,J=v(W);if(!J)return ie;var le=J.getBox("ftyp"),Z=J.getBox("moov");return S.debug("Searching for initialization."),Z&&Z.isComplete&&S.debug("Found the initialization.  Range: "+(ie=(le?le.offset:Z.offset)+"-"+(Z.offset+Z.size-1))),ie},parsePayload:function(W,ie,J){if(void 0===J&&(J=0),!ie||J+8>=ie.byteLength)return new N.Z(0,!1);for(var le,Z=ie instanceof ArrayBuffer?new Uint8Array(ie):ie,k=0;J<Z.byteLength;){var K=w(Z,J),de=q(Z,J+4);if(0===K)break;J+K<=Z.byteLength&&(W.indexOf(de)>=0?le=new N.Z(J,!0,K,de):k=J+K),J+=K}return le||new N.Z(k,!1)}},S=(0,be.Z)(h).getInstance().getLogger(x),x}T.__dashjs_factory_name="BoxParser";const g=d.Z.getSingletonFactory(T)},1715:(St,He,L)=>{"use strict";L.d(He,{B:()=>N,Z:()=>g});var be=L(5448),P=L(7803),d=L(3393),f=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function N(){var S="WebKitMediaSource"in window,x="MediaSource"in window;return S||x}function T(){var S,x,h;return S={setConfig:function(v){v&&v.settings&&(x=v.settings)},supportsMediaSource:N,supportsEncryptedMedia:function(){return h},supportsCodec:function(v,w){return w!==d.Z.AUDIO&&w!==d.Z.VIDEO?Promise.resolve(!0):(q=v,W=w,x.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(q.codec&&W===d.Z.AUDIO||W===d.Z.VIDEO&&q.codec&&q.width&&q.height&&q.bitrate&&q.framerate)?function(q,W){return new Promise(function(ie){if(q&&q.codec){var J={type:"media-source"};J[W]={},J[W].contentType=q.codec,J[W].width=q.width,J[W].height=q.height,J[W].bitrate=parseInt(q.bitrate),J[W].framerate=parseFloat(q.framerate),navigator.mediaCapabilities.decodingInfo(J).then(function(le){ie(le.supported)}).catch(function(){ie(!1)})}else ie(!1)})}(v,w):function(q){return new Promise(function(W){if(q&&q.codec){var ie=q.codec;q.width&&q.height&&(ie+=';width="'+q.width+'";height="'+q.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(ie)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(ie)?W(!0):W(!1)}else W(!1)})}(v));var q,W},setEncryptedMediaSupported:function(v){h=v},supportsEssentialProperty:function(v){try{return-1!==P.Y.indexOf(v.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function(v,w){for(var q,W=v.split(".")[0],ie=0===w.indexOf(W),J=0;J<f.length;J++)if(f[J].codec===W){q=f[J];break}return q?ie||q.compatibleCodecs.some(function(le){return 0===w.indexOf(le)}):ie}},h=!1,S}T.__dashjs_factory_name="Capabilities";const g=be.Z.getSingletonFactory(T)},2295:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f});var be=L(5448),P=L(3106);function d(){return{customTimeRangeArray:[],length:0,add:function(N,T){var g;for(g=0;g<this.customTimeRangeArray.length&&N>this.customTimeRangeArray[g].start;g++);for(this.customTimeRangeArray.splice(g,0,{start:N,end:T}),g=0;g<this.customTimeRangeArray.length-1;g++)this.mergeRanges(g,g+1)&&g--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(N,T){for(var g=0;g<this.customTimeRangeArray.length;g++)if(N<=this.customTimeRangeArray[g].start&&T>=this.customTimeRangeArray[g].end)this.customTimeRangeArray.splice(g,1),g--;else{if(N>this.customTimeRangeArray[g].start&&T<this.customTimeRangeArray[g].end){this.customTimeRangeArray.splice(g+1,0,{start:T,end:this.customTimeRangeArray[g].end}),this.customTimeRangeArray[g].end=N;break}N>this.customTimeRangeArray[g].start&&N<this.customTimeRangeArray[g].end?this.customTimeRangeArray[g].end=N:T>this.customTimeRangeArray[g].start&&T<this.customTimeRangeArray[g].end&&(this.customTimeRangeArray[g].start=T)}this.length=this.customTimeRangeArray.length},mergeRanges:function(N,T){var g=this.customTimeRangeArray[N],S=this.customTimeRangeArray[T];return g.start<=S.start&&S.start<=g.end&&g.end<=S.end?(g.end=S.end,this.customTimeRangeArray.splice(T,1),!0):S.start<=g.start&&g.start<=S.end&&S.end<=g.end?(g.start=S.start,this.customTimeRangeArray.splice(T,1),!0):S.start<=g.start&&g.start<=S.end&&g.end<=S.end?(this.customTimeRangeArray.splice(N,1),!0):g.start<=S.start&&S.start<=g.end&&S.end<=g.end&&(this.customTimeRangeArray.splice(T,1),!0)},start:function(N){return(0,P.SE)(N),N>=this.customTimeRangeArray.length||N<0?NaN:this.customTimeRangeArray[N].start},end:function(N){return(0,P.SE)(N),N>=this.customTimeRangeArray.length||N<0?NaN:this.customTimeRangeArray[N].end}}}d.__dashjs_factory_name="CustomTimeRanges";const f=be.Z.getClassFactory(d)},5:(St,He,L)=>{"use strict";L.d(He,{Z:()=>d});var be=L(5448);function P(){var f,N=/^[a-z][a-z0-9+\-_.]*:/i,T=/^https?:\/\//i,g=/^https:\/\//i,S=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,x=function(le,Z){try{return new window.URL(le,Z).toString()}catch{return le}},h=function(le,Z){var k=v;if(!Z||!W(le))return le;ie(le)&&(k=w),J(le)&&(k=q);var K=k(Z),de="/"!==K.charAt(K.length-1)&&"/"!==le.charAt(0)?"/":"";return[K,le].join(de)};function v(le){var Z=le.indexOf("/"),k=le.lastIndexOf("/");return-1!==Z?k===Z+1?le:(-1!==le.indexOf("?")&&(le=le.substring(0,le.indexOf("?"))),le.substring(0,k+1)):""}function w(le){var Z=le.match(S);return Z?Z[1]:""}function q(le){var Z=le.match(N);return Z?Z[0]:""}function W(le){return!N.test(le)}function ie(le){return W(le)&&"/"===le.charAt(0)}function J(le){return 0===le.indexOf("//")}return function(){try{new window.URL("x","http://y"),f=x}catch{}finally{f=f||h}}(),{parseBaseUrl:v,parseOrigin:w,parseScheme:q,isRelative:W,isPathAbsolute:ie,isSchemeRelative:J,isHTTPURL:function(le){return T.test(le)},isHTTPS:function(le){return g.test(le)},removeHostname:function(le){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(le)[2].substring(1)},resolve:function(le,Z){return f(le,Z)}}}P.__dashjs_factory_name="DefaultURLUtils";const d=be.Z.getSingletonFactory(P)},8260:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f});var be=L(2839),P=L(5448);function d(){var N;function T(S){var x=[];if(!S||!N||"function"!=typeof N.fetchAll)return x;for(var h,v=N.fetchAll(S),w=0,q=v.length;w<q;w++)(h=g(v[w]))&&x.push(h);return x}function g(S){if(!S)return null;var x=new be.Z(S);return S.hasOwnProperty("_incomplete")&&(x.isComplete=!S._incomplete),x}return{getBox:function(S){return S&&N&&N.boxes&&0!==N.boxes.length&&"function"==typeof N.fetch?g(N.fetch(S)):null},getBoxes:T,setData:function(S){N=S},getLastBox:function(){if(!N||!N.boxes||!N.boxes.length)return null;var S=T(N.boxes[N.boxes.length-1].type);return S.length>0?S[S.length-1]:null}}}d.__dashjs_factory_name="IsoFile";const f=P.Z.getClassFactory(d)},7473:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f,k:()=>P});var be=L(5448);function P(N,T){var g={url:N.url,method:N.method,headers:Object.assign({},N.headers),credentials:N.withCredentials?"include":void 0};return Promise.resolve(T.modifyRequest(g)).then(function(){return Object.assign(N,g,{withCredentials:"include"===g.credentials})})}function d(){return{modifyRequest:null,modifyRequestURL:function(N){return N},modifyRequestHeader:function(N,T){return N}}}d.__dashjs_factory_name="RequestModifier";const f=be.Z.getSingletonFactory(d)},3106:(St,He,L)=>{"use strict";L.d(He,{PS:()=>d,SE:()=>f});var be=L(3393);function P(N){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(N)}function d(N,T){if(P(N)!==T)throw be.Z.BAD_ARGUMENT_ERROR}function f(N){if(null===N||isNaN(N)||N%1!=0)throw be.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f});var be=L(5448),P=L(5);function d(){var N,T=[];function S(x,h,v){var w=function(q){var W;for(W=0;W<T.length;W++)if(T[W].regex.test(q))return T[W].utils;return N}(v||h);return w&&"function"==typeof w[x]?w[x](h,v):N[x](h,v)}return N=(0,P.Z)(this.context).getInstance(),{registerUrlRegex:function(x,h){T.push({regex:x,utils:h})},parseBaseUrl:function(x){return S("parseBaseUrl",x)},parseOrigin:function(x){return S("parseOrigin",x)},parseScheme:function(x){return S("parseScheme",x)},isRelative:function(x){return S("isRelative",x)},isPathAbsolute:function(x){return S("isPathAbsolute",x)},isSchemeRelative:function(x){return S("isSchemeRelative",x)},isHTTPURL:function(x){return S("isHTTPURL",x)},isHTTPS:function(x){return S("isHTTPS",x)},removeHostname:function(x){return S("removeHostname",x)},resolve:function(x,h){return S("resolve",x,h)}}}d.__dashjs_factory_name="URLUtils";const f=be.Z.getSingletonFactory(d)},5459:(St,He,L)=>{"use strict";L.d(He,{Z:()=>be});const be=function P(d,f,N){(function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")})(this,P),this.code=d||null,this.message=f||null,this.data=N||null}},3186:(St,He,L)=>{"use strict";L.d(He,{Z:()=>f});var be=L(7855),d=function(){function N(S){(function(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")})(this,N),this.action=N.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=S||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var g;return(g=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===be.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(S){this.type=S&&S.init?be.w.INIT_SEGMENT_TYPE:be.w.MEDIA_SEGMENT_TYPE,this.url=S&&S.url?S.url:null,this.range=S&&S.range?S.range.start+"-"+S.range.end:null,this.mediaType=S&&S.mediaType?S.mediaType:null}}])&&function P(N,T){for(var g=0;g<T.length;g++){var S=T[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}(N.prototype,g),N}();d.ACTION_DOWNLOAD="download",d.ACTION_COMPLETE="complete";const f=d},2839:(St,He,L)=>{"use strict";L.d(He,{Z:()=>P});const P=function(){function d(T){if(function(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}(this,d),this.offset=T._offset,this.type=T.type,this.size=T.size,this.boxes=[],T.boxes)for(var g=0;g<T.boxes.length;g++)this.boxes.push(new d(T.boxes[g]));switch(this.isComplete=!0,T.type){case"sidx":if(this.timescale=T.timescale,this.earliest_presentation_time=T.earliest_presentation_time,this.first_offset=T.first_offset,this.references=T.references,T.references){this.references=[];for(var S=0;S<T.references.length;S++)this.references.push({reference_type:T.references[S].reference_type,referenced_size:T.references[S].referenced_size,subsegment_duration:T.references[S].subsegment_duration})}break;case"emsg":this.id=T.id,this.version=1===T.version?1:0,this.value=T.value,this.timescale=T.timescale,this.scheme_id_uri=T.scheme_id_uri,this.presentation_time_delta=1===T.version?T.presentation_time:T.presentation_time_delta,this.event_duration=T.event_duration,this.message_data=T.message_data;break;case"mdhd":this.timescale=T.timescale;break;case"mfhd":this.sequence_number=T.sequence_number;break;case"subs":this.entry_count=T.entry_count,this.entries=T.entries;break;case"tfhd":this.base_data_offset=T.base_data_offset,this.sample_description_index=T.sample_description_index,this.default_sample_duration=T.default_sample_duration,this.default_sample_size=T.default_sample_size,this.default_sample_flags=T.default_sample_flags,this.flags=T.flags;break;case"tfdt":this.version=T.version,this.baseMediaDecodeTime=T.baseMediaDecodeTime,this.flags=T.flags;break;case"trun":if(this.sample_count=T.sample_count,this.first_sample_flags=T.first_sample_flags,this.data_offset=T.data_offset,this.flags=T.flags,this.samples=T.samples,T.samples){this.samples=[];for(var h=0,v=T.samples.length;h<v;h++)this.samples.push({sample_size:T.samples[h].sample_size,sample_duration:T.samples[h].sample_duration,sample_composition_time_offset:T.samples[h].sample_composition_time_offset})}break;case"prft":this.version=T.version,this.reference_track_ID=T.reference_track_ID,this.ntp_timestamp_sec=T.ntp_timestamp_sec,this.ntp_timestamp_frac=T.ntp_timestamp_frac,this.media_time=T.media_time,this.flags=T.flags}}var N;return(N=[{key:"getChildBox",value:function(T){for(var g=0;g<this.boxes.length;g++)if(this.boxes[g].type===T)return this.boxes[g]}},{key:"getChildBoxes",value:function(T){for(var g=[],S=0;S<this.boxes.length;S++)this.boxes[S].type===T&&g.push(this.boxes[S]);return g}}])&&function be(d,f){for(var N=0;N<f.length;N++){var T=f[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}(d.prototype,N),d}()},9597:(St,He,L)=>{"use strict";L.d(He,{Z:()=>be});const be=function P(d,f,N){(function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")})(this,P),this.lastCompletedOffset=d,this.found=f,this.size=N}},2128:(St,He,L)=>{"use strict";L.d(He,{Z:()=>be});const be=function P(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,P),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:(St,He,L)=>{"use strict";function be(f,N){if(!(f instanceof N))throw new TypeError("Cannot call a class as a function")}L.d(He,{O:()=>d,w:()=>P});var P=function f(){be(this,f),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},d=function f(){be(this,f),this.s=null,this.d=null,this.b=[]};P.GET="GET",P.HEAD="HEAD",P.MPD_TYPE="MPD",P.XLINK_EXPANSION_TYPE="XLinkExpansion",P.INIT_SEGMENT_TYPE="InitializationSegment",P.INDEX_SEGMENT_TYPE="IndexSegment",P.MEDIA_SEGMENT_TYPE="MediaSegment",P.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",P.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",P.DVB_REPORTING_TYPE="DVBReporting",P.LICENSE="license",P.CONTENT_STEERING_TYPE="ContentSteering",P.OTHER_TYPE="other"},3039:(St,He)=>{"use strict";function L(P,d){return function(f,N){for(var T,g,S,x=be(f,"tag"),h=be(N??"*","range"),v=[],w=-1;++w<h.length;)if(T=h[w].toLowerCase(),d||"*"!==T){for(g=-1,S=[];++g<x.length;)if(P(x[g].toLowerCase(),T)){if(!d)return x[g];v.push(x[g])}else S.push(x[g]);x=S}return d?v:void 0}}function be(P,d){var f=P&&"string"==typeof P?[P]:P;if(!f||"object"!=typeof f||!("length"in f))throw new Error("Invalid "+d+" `"+f+"`, expected non-empty string");return f}He.basicFilter=L(function(P,d){return"*"===d||P===d||P.indexOf(d+"-")>-1},!0),He.extendedFilter=L(function(P,d){var f=P.split("-"),N=d.split("-"),T=0,g=0;if("*"!==N[g]&&f[T]!==N[g])return!1;for(T++,g++;g<N.length;)if("*"!==N[g]){if(!f[T])return!1;if(f[T]!==N[g]){if(1===f[T].length)return!1;T++}else T++,g++}else g++;return!0},!0),He.lookup=L(function(P,d){for(var f,N=d;;){if("*"===N||P===N)return!0;if((f=N.lastIndexOf("-"))<0)return!1;"-"===N.charAt(f-2)&&(f-=2),N=N.slice(0,f)}})},3973:(St,He,L)=>{"use strict";St.exports=L(3854)},3854:(St,He,L)=>{"use strict";var be=L(2415),P=L(3039),d=L(7778),f=L(5813),N=L(3165),T=L(9460);St.exports=function(W,ie){var J,le=ie||{},Z=be.parse(String(W||"").toLowerCase(),le),k=be.stringify(Z),K=-1;if(!k)return k;for(;++K<d.length;)P.extendedFilter(k,d[K].from).length&&(h(Z,d[K].from,d[K].to),k=be.stringify(Z));for(K=-1;++K<f.length;)v(Z,f[K].from.field,f[K].from.value)&&w(Z,f[K].to.field,f[K].to.value);for(k=be.stringify(Object.assign({},Z,x)),K=-1;++K<N.length;)k===N[K]&&(h(Z,N[K],N[K].split("-").slice(0,-1).join("-")),k=be.stringify(Object.assign({},Z,x)));if(Z.extensions.sort(q),le.warning)for(J in T)g.call(T[J],Z[J])&&le.warning("Deprecated "+J+" `"+Z[J]+"`, expected one of `"+T[J][Z[J]].join("`, `")+"`",null,7);return Z.script&&(Z.script=Z.script.charAt(0).toUpperCase()+Z.script.slice(1)),Z.region&&(Z.region=Z.region.toUpperCase()),be.stringify(Z)};var g={}.hasOwnProperty,S=new Intl.Collator,x={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function h(W,ie,J){var le,Z=be.parse(ie),k=be.parse(J),K=[];for(le in Z)Z[le]&&Z[le].length&&v(W,le,Z[le])&&K.push(le);for(le in k)k[le]&&k[le].length&&(K.indexOf(le)>-1||!W[le]||!W[le].length)&&w(W,le,k[le])}function v(W,ie,J){var le,Z,k,K,de=!1;if(J){if(Z=le=W[ie],le&&"object"==typeof le)for(Z=[],k=-1;++k<le.length;)J.indexOf(K=le[k])<0?Z.push(K):de=!0;else le===J&&(Z=null,de=!0);W[ie]=Z}return de}function w(W,ie,J){var le,Z,k,K=W[ie];if(K&&"object"==typeof K)for(le=[].concat(J),Z=-1;++Z<le.length;)K.indexOf(k=le[Z])<0&&K.push(k);else W[ie]=J}function q(W,ie){return S.compare(W.singleton,ie.singleton)}},2415:(St,He,L)=>{"use strict";He.parse=L(6903),He.stringify=L(6713)},6903:(St,He,L)=>{"use strict";var be=L(2219),P=L(3516),d=L(395),f=L(858),N=L(8589);St.exports=function g(S,x){var h,v,w,q=x||{},W={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},ie=String(S),J=ie.toLowerCase(),le=0;if(null==S)throw new Error("Expected string, got `"+S+"`");if(T.call(N,J))return(null==q.normalize||q.normalize)&&N[J]?g(N[J]):(W[-1===f.indexOf(J)?"irregular":"regular"]=ie,W);for(;P(J.charCodeAt(le))&&le<9;)le++;if(le>1&&le<9){if(W.language=ie.slice(0,le),le<4)for(v=0;45===J.charCodeAt(le)&&P(J.charCodeAt(le+1))&&P(J.charCodeAt(le+2))&&P(J.charCodeAt(le+3))&&!P(J.charCodeAt(le+4));){if(v>2)return Z(le,3,"Too many extended language subtags, expected at most 3 subtags");W.extendedLanguageSubtags.push(ie.slice(le+1,le+4)),le+=4,v++}for(45===J.charCodeAt(le)&&P(J.charCodeAt(le+1))&&P(J.charCodeAt(le+2))&&P(J.charCodeAt(le+3))&&P(J.charCodeAt(le+4))&&!P(J.charCodeAt(le+5))&&(W.script=ie.slice(le+1,le+5),le+=5),45===J.charCodeAt(le)&&(P(J.charCodeAt(le+1))&&P(J.charCodeAt(le+2))&&!P(J.charCodeAt(le+3))?(W.region=ie.slice(le+1,le+3),le+=3):d(J.charCodeAt(le+1))&&d(J.charCodeAt(le+2))&&d(J.charCodeAt(le+3))&&!d(J.charCodeAt(le+4))&&(W.region=ie.slice(le+1,le+4),le+=4));45===J.charCodeAt(le);){for(w=h=le+1;be(J.charCodeAt(w));){if(w-h>7)return Z(w,1,"Too long variant, expected at most 8 characters");w++}if(!(w-h>4||w-h>3&&d(J.charCodeAt(h))))break;W.variants.push(ie.slice(h,w)),le=w}for(;45===J.charCodeAt(le)&&120!==J.charCodeAt(le+1)&&be(J.charCodeAt(le+1))&&45===J.charCodeAt(le+2)&&be(J.charCodeAt(le+3));){for(w=le+2,v=0;45===J.charCodeAt(w)&&be(J.charCodeAt(w+1))&&be(J.charCodeAt(w+2));)for(w=(h=w+1)+2,v++;be(J.charCodeAt(w));){if(w-h>7)return Z(w,2,"Too long extension, expected at most 8 characters");w++}if(!v)return Z(w,4,"Empty extension, extensions must have at least 2 characters of content");W.extensions.push({singleton:ie.charAt(le+1),extensions:ie.slice(le+3,w).split("-")}),le=w}}else le=0;if(0===le&&120===J.charCodeAt(le)||45===J.charCodeAt(le)&&120===J.charCodeAt(le+1))for(w=le=le?le+2:1;45===J.charCodeAt(w)&&be(J.charCodeAt(w+1));){for(w=h=le+1;be(J.charCodeAt(w));){if(w-h>7)return Z(w,5,"Too long private-use area, expected at most 8 characters");w++}W.privateuse.push(ie.slice(le+1,w)),le=w}return le!==ie.length?Z(le,6,"Found superfluous content after tag"):W;function Z(k,K,de){return q.warning&&q.warning(de,K,k),q.forgiving?W:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var T={}.hasOwnProperty},6713:St=>{"use strict";St.exports=function(He){var L,be,P,d=He||{},f=[];if(d.irregular||d.regular)return d.irregular||d.regular;if(d.language)for(f=f.concat(d.language,d.extendedLanguageSubtags||[],d.script||[],d.region||[],d.variants||[]),L=d.extensions||[],be=-1;++be<L.length;)(P=L[be]).singleton&&P.extensions&&P.extensions.length&&(f=f.concat(P.singleton,P.extensions));return d.privateuse&&d.privateuse.length&&(f=f.concat("x",d.privateuse)),f.join("-")}},1549:(St,He,L)=>{"use strict";var be=L(6693),P=L(2165),d="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;He.Buffer=T,He.SlowBuffer=function(E){return+E!=E&&(E=0),T.alloc(+E)},He.INSPECT_MAX_BYTES=50;var f=2147483647;function N(E){if(E>f)throw new RangeError('The value "'+E+'" is invalid for option "size"');var _=new Uint8Array(E);return Object.setPrototypeOf(_,T.prototype),_}function T(E,_,R){if("number"==typeof E){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return x(E)}return g(E,_,R)}function g(E,_,R){if("string"==typeof E)return function(ae,Ie){if("string"==typeof Ie&&""!==Ie||(Ie="utf8"),!T.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);var Ge=0|q(ae,Ie),We=N(Ge),Fe=We.write(ae,Ie);return Fe!==Ge&&(We=We.slice(0,Fe)),We}(E,_);if(ArrayBuffer.isView(E))return function(ae){if(Se(ae,Uint8Array)){var Ie=new Uint8Array(ae);return v(Ie.buffer,Ie.byteOffset,Ie.byteLength)}return h(ae)}(E);if(null==E)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(Se(E,ArrayBuffer)||E&&Se(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(E,SharedArrayBuffer)||E&&Se(E.buffer,SharedArrayBuffer)))return v(E,_,R);if("number"==typeof E)throw new TypeError('The "value" argument must not be of type number. Received type number');var M=E.valueOf&&E.valueOf();if(null!=M&&M!==E)return T.from(M,_,R);var ue=function(ae){if(T.isBuffer(ae)){var Ie=0|w(ae.length),Ge=N(Ie);return 0===Ge.length||ae.copy(Ge,0,0,Ie),Ge}return void 0!==ae.length?"number"!=typeof ae.length||ye(ae.length)?N(0):h(ae):"Buffer"===ae.type&&Array.isArray(ae.data)?h(ae.data):void 0}(E);if(ue)return ue;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof E[Symbol.toPrimitive])return T.from(E[Symbol.toPrimitive]("string"),_,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}function S(E){if("number"!=typeof E)throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function x(E){return S(E),N(E<0?0:0|w(E))}function h(E){for(var _=E.length<0?0:0|w(E.length),R=N(_),M=0;M<_;M+=1)R[M]=255&E[M];return R}function v(E,_,R){if(_<0||E.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<_+(R||0))throw new RangeError('"length" is outside of buffer bounds');var M;return M=void 0===_&&void 0===R?new Uint8Array(E):void 0===R?new Uint8Array(E,_):new Uint8Array(E,_,R),Object.setPrototypeOf(M,T.prototype),M}function w(E){if(E>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|E}function q(E,_){if(T.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||Se(E,ArrayBuffer))return E.byteLength;if("string"!=typeof E)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);var R=E.length,M=arguments.length>2&&!0===arguments[2];if(!M&&0===R)return 0;for(var ue=!1;;)switch(_){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return Pt(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*R;case"hex":return R>>>1;case"base64":return $e(E).length;default:if(ue)return M?-1:Pt(E).length;_=(""+_).toLowerCase(),ue=!0}}function W(E,_,R){var M=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===R||R>this.length)&&(R=this.length),R<=0)||(R>>>=0)<=(_>>>=0))return"";for(E||(E="utf8");;)switch(E){case"hex":return Ye(this,_,R);case"utf8":case"utf-8":return st(this,_,R);case"ascii":return Mt(this,_,R);case"latin1":case"binary":return je(this,_,R);case"base64":return ze(this,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,_,R);default:if(M)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),M=!0}}function ie(E,_,R){var M=E[_];E[_]=E[R],E[R]=M}function J(E,_,R,M,ue){if(0===E.length)return-1;if("string"==typeof R?(M=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),ye(R=+R)&&(R=ue?0:E.length-1),R<0&&(R=E.length+R),R>=E.length){if(ue)return-1;R=E.length-1}else if(R<0){if(!ue)return-1;R=0}if("string"==typeof _&&(_=T.from(_,M)),T.isBuffer(_))return 0===_.length?-1:le(E,_,R,M,ue);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ue?Uint8Array.prototype.indexOf.call(E,_,R):Uint8Array.prototype.lastIndexOf.call(E,_,R):le(E,[_],R,M,ue);throw new TypeError("val must be string, number or Buffer")}function le(E,_,R,M,ue){var ae,Ie=1,Ge=E.length,We=_.length;if(void 0!==M&&("ucs2"===(M=String(M).toLowerCase())||"ucs-2"===M||"utf16le"===M||"utf-16le"===M)){if(E.length<2||_.length<2)return-1;Ie=2,Ge/=2,We/=2,R/=2}function Fe(Ke,Xe){return 1===Ie?Ke[Xe]:Ke.readUInt16BE(Xe*Ie)}if(ue){var et=-1;for(ae=R;ae<Ge;ae++)if(Fe(E,ae)===Fe(_,-1===et?0:ae-et)){if(-1===et&&(et=ae),ae-et+1===We)return et*Ie}else-1!==et&&(ae-=ae-et),et=-1}else for(R+We>Ge&&(R=Ge-We),ae=R;ae>=0;ae--){for(var it=!0,Me=0;Me<We;Me++)if(Fe(E,ae+Me)!==Fe(_,Me)){it=!1;break}if(it)return ae}return-1}function Z(E,_,R,M){R=Number(R)||0;var ue=E.length-R;M?(M=Number(M))>ue&&(M=ue):M=ue;var ae=_.length;M>ae/2&&(M=ae/2);for(var Ie=0;Ie<M;++Ie){var Ge=parseInt(_.substr(2*Ie,2),16);if(ye(Ge))return Ie;E[R+Ie]=Ge}return Ie}function k(E,_,R,M){return ut(Pt(_,E.length-R),E,R,M)}function K(E,_,R,M){return ut(function(ue){for(var ae=[],Ie=0;Ie<ue.length;++Ie)ae.push(255&ue.charCodeAt(Ie));return ae}(_),E,R,M)}function de(E,_,R,M){return ut($e(_),E,R,M)}function ce(E,_,R,M){return ut(function(ue,ae){for(var Ie,Ge,Fe=[],et=0;et<ue.length&&!((ae-=2)<0);++et)Ge=(Ie=ue.charCodeAt(et))>>8,Fe.push(Ie%256),Fe.push(Ge);return Fe}(_,E.length-R),E,R,M)}function ze(E,_,R){return be.fromByteArray(0===_&&R===E.length?E:E.slice(_,R))}function st(E,_,R){R=Math.min(E.length,R);for(var M=[],ue=_;ue<R;){var ae,Ie,Ge,We,Fe=E[ue],et=null,it=Fe>239?4:Fe>223?3:Fe>191?2:1;if(ue+it<=R)switch(it){case 1:Fe<128&&(et=Fe);break;case 2:128==(192&(ae=E[ue+1]))&&(We=(31&Fe)<<6|63&ae)>127&&(et=We);break;case 3:Ie=E[ue+2],128==(192&(ae=E[ue+1]))&&128==(192&Ie)&&(We=(15&Fe)<<12|(63&ae)<<6|63&Ie)>2047&&(We<55296||We>57343)&&(et=We);break;case 4:Ie=E[ue+2],Ge=E[ue+3],128==(192&(ae=E[ue+1]))&&128==(192&Ie)&&128==(192&Ge)&&(We=(15&Fe)<<18|(63&ae)<<12|(63&Ie)<<6|63&Ge)>65535&&We<1114112&&(et=We)}null===et?(et=65533,it=1):et>65535&&(M.push((et-=65536)>>>10&1023|55296),et=56320|1023&et),M.push(et),ue+=it}return function(Me){var Ke=Me.length;if(Ke<=pe)return String.fromCharCode.apply(String,Me);for(var Xe="",Et=0;Et<Ke;)Xe+=String.fromCharCode.apply(String,Me.slice(Et,Et+=pe));return Xe}(M)}He.kMaxLength=f,(T.TYPED_ARRAY_SUPPORT=function(){try{var E=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(E,_),42===E.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(T.prototype,"parent",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.buffer}}),Object.defineProperty(T.prototype,"offset",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.byteOffset}}),T.poolSize=8192,T.from=function(E,_,R){return g(E,_,R)},Object.setPrototypeOf(T.prototype,Uint8Array.prototype),Object.setPrototypeOf(T,Uint8Array),T.alloc=function(E,_,R){return ue=_,ae=R,S(M=E),M<=0?N(M):void 0!==ue?"string"==typeof ae?N(M).fill(ue,ae):N(M).fill(ue):N(M);var M,ue,ae},T.allocUnsafe=function(E){return x(E)},T.allocUnsafeSlow=function(E){return x(E)},T.isBuffer=function(E){return null!=E&&!0===E._isBuffer&&E!==T.prototype},T.compare=function(E,_){if(Se(E,Uint8Array)&&(E=T.from(E,E.offset,E.byteLength)),Se(_,Uint8Array)&&(_=T.from(_,_.offset,_.byteLength)),!T.isBuffer(E)||!T.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===_)return 0;for(var R=E.length,M=_.length,ue=0,ae=Math.min(R,M);ue<ae;++ue)if(E[ue]!==_[ue]){R=E[ue],M=_[ue];break}return R<M?-1:M<R?1:0},T.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},T.concat=function(E,_){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(0===E.length)return T.alloc(0);var R;if(void 0===_)for(_=0,R=0;R<E.length;++R)_+=E[R].length;var M=T.allocUnsafe(_),ue=0;for(R=0;R<E.length;++R){var ae=E[R];if(Se(ae,Uint8Array))ue+ae.length>M.length?T.from(ae).copy(M,ue):Uint8Array.prototype.set.call(M,ae,ue);else{if(!T.isBuffer(ae))throw new TypeError('"list" argument must be an Array of Buffers');ae.copy(M,ue)}ue+=ae.length}return M},T.byteLength=q,T.prototype._isBuffer=!0,T.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<E;_+=2)ie(this,_,_+1);return this},T.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<E;_+=4)ie(this,_,_+3),ie(this,_+1,_+2);return this},T.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<E;_+=8)ie(this,_,_+7),ie(this,_+1,_+6),ie(this,_+2,_+5),ie(this,_+3,_+4);return this},T.prototype.toLocaleString=T.prototype.toString=function(){var E=this.length;return 0===E?"":0===arguments.length?st(this,0,E):W.apply(this,arguments)},T.prototype.equals=function(E){if(!T.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||0===T.compare(this,E)},T.prototype.inspect=function(){var E="",_=He.INSPECT_MAX_BYTES;return E=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(E+=" ... "),"<Buffer "+E+">"},d&&(T.prototype[d]=T.prototype.inspect),T.prototype.compare=function(E,_,R,M,ue){if(Se(E,Uint8Array)&&(E=T.from(E,E.offset,E.byteLength)),!T.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(void 0===_&&(_=0),void 0===R&&(R=E?E.length:0),void 0===M&&(M=0),void 0===ue&&(ue=this.length),_<0||R>E.length||M<0||ue>this.length)throw new RangeError("out of range index");if(M>=ue&&_>=R)return 0;if(M>=ue)return-1;if(_>=R)return 1;if(this===E)return 0;for(var ae=(ue>>>=0)-(M>>>=0),Ie=(R>>>=0)-(_>>>=0),Ge=Math.min(ae,Ie),We=this.slice(M,ue),Fe=E.slice(_,R),et=0;et<Ge;++et)if(We[et]!==Fe[et]){ae=We[et],Ie=Fe[et];break}return ae<Ie?-1:Ie<ae?1:0},T.prototype.includes=function(E,_,R){return-1!==this.indexOf(E,_,R)},T.prototype.indexOf=function(E,_,R){return J(this,E,_,R,!0)},T.prototype.lastIndexOf=function(E,_,R){return J(this,E,_,R,!1)},T.prototype.write=function(E,_,R,M){if(void 0===_)M="utf8",R=this.length,_=0;else if(void 0===R&&"string"==typeof _)M=_,R=this.length,_=0;else{if(!isFinite(_))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_>>>=0,isFinite(R)?(R>>>=0,void 0===M&&(M="utf8")):(M=R,R=void 0)}var ue=this.length-_;if((void 0===R||R>ue)&&(R=ue),E.length>0&&(R<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");for(var ae=!1;;)switch(M){case"hex":return Z(this,E,_,R);case"utf8":case"utf-8":return k(this,E,_,R);case"ascii":case"latin1":case"binary":return K(this,E,_,R);case"base64":return de(this,E,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,E,_,R);default:if(ae)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),ae=!0}},T.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var pe=4096;function Mt(E,_,R){var M="";R=Math.min(E.length,R);for(var ue=_;ue<R;++ue)M+=String.fromCharCode(127&E[ue]);return M}function je(E,_,R){var M="";R=Math.min(E.length,R);for(var ue=_;ue<R;++ue)M+=String.fromCharCode(E[ue]);return M}function Ye(E,_,R){var M=E.length;(!_||_<0)&&(_=0),(!R||R<0||R>M)&&(R=M);for(var ue="",ae=_;ae<R;++ae)ue+=at[E[ae]];return ue}function Ne(E,_,R){for(var M=E.slice(_,R),ue="",ae=0;ae<M.length-1;ae+=2)ue+=String.fromCharCode(M[ae]+256*M[ae+1]);return ue}function Ve(E,_,R){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+_>R)throw new RangeError("Trying to access beyond buffer length")}function rt(E,_,R,M,ue,ae){if(!T.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ue||_<ae)throw new RangeError('"value" argument is out of bounds');if(R+M>E.length)throw new RangeError("Index out of range")}function It(E,_,R,M,ue,ae){if(R+M>E.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function ft(E,_,R,M,ue){return _=+_,R>>>=0,ue||It(E,0,R,4),P.write(E,_,R,M,23,4),R+4}function Pe(E,_,R,M,ue){return _=+_,R>>>=0,ue||It(E,0,R,8),P.write(E,_,R,M,52,8),R+8}T.prototype.slice=function(E,_){var R=this.length;(E=~~E)<0?(E+=R)<0&&(E=0):E>R&&(E=R),(_=void 0===_?R:~~_)<0?(_+=R)<0&&(_=0):_>R&&(_=R),_<E&&(_=E);var M=this.subarray(E,_);return Object.setPrototypeOf(M,T.prototype),M},T.prototype.readUintLE=T.prototype.readUIntLE=function(E,_,R){E>>>=0,_>>>=0,R||Ve(E,_,this.length);for(var M=this[E],ue=1,ae=0;++ae<_&&(ue*=256);)M+=this[E+ae]*ue;return M},T.prototype.readUintBE=T.prototype.readUIntBE=function(E,_,R){E>>>=0,_>>>=0,R||Ve(E,_,this.length);for(var M=this[E+--_],ue=1;_>0&&(ue*=256);)M+=this[E+--_]*ue;return M},T.prototype.readUint8=T.prototype.readUInt8=function(E,_){return E>>>=0,_||Ve(E,1,this.length),this[E]},T.prototype.readUint16LE=T.prototype.readUInt16LE=function(E,_){return E>>>=0,_||Ve(E,2,this.length),this[E]|this[E+1]<<8},T.prototype.readUint16BE=T.prototype.readUInt16BE=function(E,_){return E>>>=0,_||Ve(E,2,this.length),this[E]<<8|this[E+1]},T.prototype.readUint32LE=T.prototype.readUInt32LE=function(E,_){return E>>>=0,_||Ve(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},T.prototype.readUint32BE=T.prototype.readUInt32BE=function(E,_){return E>>>=0,_||Ve(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},T.prototype.readIntLE=function(E,_,R){E>>>=0,_>>>=0,R||Ve(E,_,this.length);for(var M=this[E],ue=1,ae=0;++ae<_&&(ue*=256);)M+=this[E+ae]*ue;return M>=(ue*=128)&&(M-=Math.pow(2,8*_)),M},T.prototype.readIntBE=function(E,_,R){E>>>=0,_>>>=0,R||Ve(E,_,this.length);for(var M=_,ue=1,ae=this[E+--M];M>0&&(ue*=256);)ae+=this[E+--M]*ue;return ae>=(ue*=128)&&(ae-=Math.pow(2,8*_)),ae},T.prototype.readInt8=function(E,_){return E>>>=0,_||Ve(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},T.prototype.readInt16LE=function(E,_){E>>>=0,_||Ve(E,2,this.length);var R=this[E]|this[E+1]<<8;return 32768&R?4294901760|R:R},T.prototype.readInt16BE=function(E,_){E>>>=0,_||Ve(E,2,this.length);var R=this[E+1]|this[E]<<8;return 32768&R?4294901760|R:R},T.prototype.readInt32LE=function(E,_){return E>>>=0,_||Ve(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},T.prototype.readInt32BE=function(E,_){return E>>>=0,_||Ve(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},T.prototype.readFloatLE=function(E,_){return E>>>=0,_||Ve(E,4,this.length),P.read(this,E,!0,23,4)},T.prototype.readFloatBE=function(E,_){return E>>>=0,_||Ve(E,4,this.length),P.read(this,E,!1,23,4)},T.prototype.readDoubleLE=function(E,_){return E>>>=0,_||Ve(E,8,this.length),P.read(this,E,!0,52,8)},T.prototype.readDoubleBE=function(E,_){return E>>>=0,_||Ve(E,8,this.length),P.read(this,E,!1,52,8)},T.prototype.writeUintLE=T.prototype.writeUIntLE=function(E,_,R,M){E=+E,_>>>=0,R>>>=0,M||rt(this,E,_,R,Math.pow(2,8*R)-1,0);var ue=1,ae=0;for(this[_]=255&E;++ae<R&&(ue*=256);)this[_+ae]=E/ue&255;return _+R},T.prototype.writeUintBE=T.prototype.writeUIntBE=function(E,_,R,M){E=+E,_>>>=0,R>>>=0,M||rt(this,E,_,R,Math.pow(2,8*R)-1,0);var ue=R-1,ae=1;for(this[_+ue]=255&E;--ue>=0&&(ae*=256);)this[_+ue]=E/ae&255;return _+R},T.prototype.writeUint8=T.prototype.writeUInt8=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,1,255,0),this[_]=255&E,_+1},T.prototype.writeUint16LE=T.prototype.writeUInt16LE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,2,65535,0),this[_]=255&E,this[_+1]=E>>>8,_+2},T.prototype.writeUint16BE=T.prototype.writeUInt16BE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,2,65535,0),this[_]=E>>>8,this[_+1]=255&E,_+2},T.prototype.writeUint32LE=T.prototype.writeUInt32LE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,4,4294967295,0),this[_+3]=E>>>24,this[_+2]=E>>>16,this[_+1]=E>>>8,this[_]=255&E,_+4},T.prototype.writeUint32BE=T.prototype.writeUInt32BE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,4,4294967295,0),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=255&E,_+4},T.prototype.writeIntLE=function(E,_,R,M){if(E=+E,_>>>=0,!M){var ue=Math.pow(2,8*R-1);rt(this,E,_,R,ue-1,-ue)}var ae=0,Ie=1,Ge=0;for(this[_]=255&E;++ae<R&&(Ie*=256);)E<0&&0===Ge&&0!==this[_+ae-1]&&(Ge=1),this[_+ae]=(E/Ie>>0)-Ge&255;return _+R},T.prototype.writeIntBE=function(E,_,R,M){if(E=+E,_>>>=0,!M){var ue=Math.pow(2,8*R-1);rt(this,E,_,R,ue-1,-ue)}var ae=R-1,Ie=1,Ge=0;for(this[_+ae]=255&E;--ae>=0&&(Ie*=256);)E<0&&0===Ge&&0!==this[_+ae+1]&&(Ge=1),this[_+ae]=(E/Ie>>0)-Ge&255;return _+R},T.prototype.writeInt8=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,1,127,-128),E<0&&(E=255+E+1),this[_]=255&E,_+1},T.prototype.writeInt16LE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,2,32767,-32768),this[_]=255&E,this[_+1]=E>>>8,_+2},T.prototype.writeInt16BE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,2,32767,-32768),this[_]=E>>>8,this[_+1]=255&E,_+2},T.prototype.writeInt32LE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,4,2147483647,-2147483648),this[_]=255&E,this[_+1]=E>>>8,this[_+2]=E>>>16,this[_+3]=E>>>24,_+4},T.prototype.writeInt32BE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=255&E,_+4},T.prototype.writeFloatLE=function(E,_,R){return ft(this,E,_,!0,R)},T.prototype.writeFloatBE=function(E,_,R){return ft(this,E,_,!1,R)},T.prototype.writeDoubleLE=function(E,_,R){return Pe(this,E,_,!0,R)},T.prototype.writeDoubleBE=function(E,_,R){return Pe(this,E,_,!1,R)},T.prototype.copy=function(E,_,R,M){if(!T.isBuffer(E))throw new TypeError("argument should be a Buffer");if(R||(R=0),M||0===M||(M=this.length),_>=E.length&&(_=E.length),_||(_=0),M>0&&M<R&&(M=R),M===R||0===E.length||0===this.length)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),E.length-_<M-R&&(M=E.length-_+R);var ue=M-R;return this===E&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(_,R,M):Uint8Array.prototype.set.call(E,this.subarray(R,M),_),ue},T.prototype.fill=function(E,_,R,M){if("string"==typeof E){if("string"==typeof _?(M=_,_=0,R=this.length):"string"==typeof R&&(M=R,R=this.length),void 0!==M&&"string"!=typeof M)throw new TypeError("encoding must be a string");if("string"==typeof M&&!T.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(1===E.length){var ue=E.charCodeAt(0);("utf8"===M&&ue<128||"latin1"===M)&&(E=ue)}}else"number"==typeof E?E&=255:"boolean"==typeof E&&(E=Number(E));if(_<0||this.length<_||this.length<R)throw new RangeError("Out of range index");if(R<=_)return this;var ae;if(_>>>=0,R=void 0===R?this.length:R>>>0,E||(E=0),"number"==typeof E)for(ae=_;ae<R;++ae)this[ae]=E;else{var Ie=T.isBuffer(E)?E:T.from(E,M),Ge=Ie.length;if(0===Ge)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(ae=0;ae<R-_;++ae)this[ae+_]=Ie[ae%Ge]}return this};var pt=/[^+/0-9A-Za-z-_]/g;function Pt(E,_){var R;_=_||1/0;for(var M=E.length,ue=null,ae=[],Ie=0;Ie<M;++Ie){if((R=E.charCodeAt(Ie))>55295&&R<57344){if(!ue){if(R>56319){(_-=3)>-1&&ae.push(239,191,189);continue}if(Ie+1===M){(_-=3)>-1&&ae.push(239,191,189);continue}ue=R;continue}if(R<56320){(_-=3)>-1&&ae.push(239,191,189),ue=R;continue}R=65536+(ue-55296<<10|R-56320)}else ue&&(_-=3)>-1&&ae.push(239,191,189);if(ue=null,R<128){if((_-=1)<0)break;ae.push(R)}else if(R<2048){if((_-=2)<0)break;ae.push(R>>6|192,63&R|128)}else if(R<65536){if((_-=3)<0)break;ae.push(R>>12|224,R>>6&63|128,63&R|128)}else{if(!(R<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;ae.push(R>>18|240,R>>12&63|128,R>>6&63|128,63&R|128)}}return ae}function $e(E){return be.toByteArray(function(_){if((_=(_=_.split("=")[0]).trim().replace(pt,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}(E))}function ut(E,_,R,M){for(var ue=0;ue<M&&!(ue+R>=_.length||ue>=E.length);++ue)_[ue+R]=E[ue];return ue}function Se(E,_){return E instanceof _||null!=E&&null!=E.constructor&&null!=E.constructor.name&&E.constructor.name===_.name}function ye(E){return E!=E}var at=function(){for(var E="0123456789abcdef",_=new Array(256),R=0;R<16;++R)for(var M=16*R,ue=0;ue<16;++ue)_[M+ue]=E[R]+E[ue];return _}()},6693:(St,He)=>{"use strict";He.byteLength=function(S){var x=T(S),v=x[1];return 3*(x[0]+v)/4-v},He.toByteArray=function(S){var x,h,k,v=T(S),w=v[0],q=v[1],W=new P(3*(w+(k=q))/4-k),ie=0,J=q>0?w-4:w;for(h=0;h<J;h+=4)x=be[S.charCodeAt(h)]<<18|be[S.charCodeAt(h+1)]<<12|be[S.charCodeAt(h+2)]<<6|be[S.charCodeAt(h+3)],W[ie++]=x>>16&255,W[ie++]=x>>8&255,W[ie++]=255&x;return 2===q&&(x=be[S.charCodeAt(h)]<<2|be[S.charCodeAt(h+1)]>>4,W[ie++]=255&x),1===q&&(x=be[S.charCodeAt(h)]<<10|be[S.charCodeAt(h+1)]<<4|be[S.charCodeAt(h+2)]>>2,W[ie++]=x>>8&255,W[ie++]=255&x),W},He.fromByteArray=function(S){for(var x,h=S.length,v=h%3,w=[],q=16383,W=0,ie=h-v;W<ie;W+=q)w.push(g(S,W,W+q>ie?ie:W+q));return 1===v?w.push(L[(x=S[h-1])>>2]+L[x<<4&63]+"=="):2===v&&w.push(L[(x=(S[h-2]<<8)+S[h-1])>>10]+L[x>>4&63]+L[x<<2&63]+"="),w.join("")};for(var L=[],be=[],P=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0;f<64;++f)L[f]=d[f],be[d.charCodeAt(f)]=f;function T(S){var x=S.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=S.indexOf("=");return-1===h&&(h=x),[h,h===x?0:4-h%4]}function g(S,x,h){for(var w,q=[],W=x;W<h;W+=3)q.push(L[(w=(S[W]<<16&16711680)+(S[W+1]<<8&65280)+(255&S[W+2]))>>18&63]+L[w>>12&63]+L[w>>6&63]+L[63&w]);return q.join("")}be["-".charCodeAt(0)]=62,be["_".charCodeAt(0)]=63},2165:(St,He)=>{He.read=function(L,be,P,d,f){var N,T,g=8*f-d-1,S=(1<<g)-1,x=S>>1,h=-7,v=P?f-1:0,w=P?-1:1,q=L[be+v];for(v+=w,N=q&(1<<-h)-1,q>>=-h,h+=g;h>0;N=256*N+L[be+v],v+=w,h-=8);for(T=N&(1<<-h)-1,N>>=-h,h+=d;h>0;T=256*T+L[be+v],v+=w,h-=8);if(0===N)N=1-x;else{if(N===S)return T?NaN:1/0*(q?-1:1);T+=Math.pow(2,d),N-=x}return(q?-1:1)*T*Math.pow(2,N-d)},He.write=function(L,be,P,d,f,N){var T,g,S,x=8*N-f-1,h=(1<<x)-1,v=h>>1,w=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,q=d?0:N-1,W=d?1:-1,ie=be<0||0===be&&1/be<0?1:0;for(be=Math.abs(be),isNaN(be)||be===1/0?(g=isNaN(be)?1:0,T=h):(T=Math.floor(Math.log(be)/Math.LN2),be*(S=Math.pow(2,-T))<1&&(T--,S*=2),(be+=T+v>=1?w/S:w*Math.pow(2,1-v))*S>=2&&(T++,S/=2),T+v>=h?(g=0,T=h):T+v>=1?(g=(be*S-1)*Math.pow(2,f),T+=v):(g=be*Math.pow(2,v-1)*Math.pow(2,f),T=0));f>=8;L[P+q]=255&g,q+=W,g/=256,f-=8);for(T=T<<f|g,x+=f;x>0;L[P+q]=255&T,q+=W,T/=256,x-=8);L[P+q-W]|=128*ie}},6934:(St,He)=>{var L={parseBuffer:function(d){return new be(d).parse()},addBoxProcessor:function(d,f){"string"==typeof d&&"function"==typeof f&&(P.prototype._boxProcessors[d]=f)},createFile:function(){return new be},createBox:function(d,f,N){var T=P.create(d);return f&&f.append(T,N),T},createFullBox:function(d,f,N){var T=L.createBox(d,f,N);return T.version=0,T.flags=0,T},Utils:{}};L.Utils.dataViewToString=function(d,f){var N=f||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(N).decode(d);var T=[],g=0;if("utf-8"===N)for(;g<d.byteLength;){var S=d.getUint8(g++);S<128||(S<224?(S=(31&S)<<6,S|=63&d.getUint8(g++)):S<240?(S=(15&S)<<12,S|=(63&d.getUint8(g++))<<6,S|=63&d.getUint8(g++)):(S=(7&S)<<18,S|=(63&d.getUint8(g++))<<12,S|=(63&d.getUint8(g++))<<6,S|=63&d.getUint8(g++))),T.push(String.fromCharCode(S))}else for(;g<d.byteLength;)T.push(String.fromCharCode(d.getUint8(g++)));return T.join("")},L.Utils.utf8ToByteArray=function(d){var f,N;if(typeof TextEncoder<"u")f=(new TextEncoder).encode(d);else for(f=[],N=0;N<d.length;++N){var T=d.charCodeAt(N);T<128?f.push(T):T<2048?(f.push(192|T>>6),f.push(128|63&T)):T<65536?(f.push(224|T>>12),f.push(128|63&T>>6),f.push(128|63&T)):(f.push(240|T>>18),f.push(128|63&T>>12),f.push(128|63&T>>6),f.push(128|63&T))}return f},L.Utils.appendBox=function(d,f,N){if(f._offset=d._cursor.offset,f._root=d._root?d._root:d,f._raw=d._raw,f._parent=d,-1!==N)if(null!=N){var T,g=-1;if("number"==typeof N)g=N;else{if("string"==typeof N)T=N;else{if("object"!=typeof N||!N.type)return void d.boxes.push(f);T=N.type}for(var S=0;S<d.boxes.length;S++)if(T===d.boxes[S].type){g=S+1;break}}d.boxes.splice(g,0,f)}else d.boxes.push(f)},He.parseBuffer=L.parseBuffer,He.addBoxProcessor=L.addBoxProcessor,He.createFile=L.createFile,He.createBox=L.createBox,He.createFullBox=L.createFullBox,He.Utils=L.Utils,L.Cursor=function(d){this.offset=void 0===d?0:d};var be=function(d){this._cursor=new L.Cursor,this.boxes=[],d&&(this._raw=new DataView(d))};be.prototype.fetch=function(d){var f=this.fetchAll(d,!0);return f.length?f[0]:null},be.prototype.fetchAll=function(d,f){var N=[];return be._sweep.call(this,d,N,f),N},be.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var d=P.parse(this);if(void 0===d.type)break;this.boxes.push(d)}return this},be._sweep=function(d,f,N){for(var T in this.type&&this.type==d&&f.push(this),this.boxes){if(f.length&&N)return;be._sweep.call(this.boxes[T],d,f,N)}},be.prototype.write=function(){var d,f=0;for(d=0;d<this.boxes.length;d++)f+=this.boxes[d].getLength(!1);var N=new Uint8Array(f);for(this._rawo=new DataView(N.buffer),this.bytes=N,this._cursor.offset=0,d=0;d<this.boxes.length;d++)this.boxes[d].write();return N.buffer},be.prototype.append=function(d,f){L.Utils.appendBox(this,d,f)};var P=function(){this._cursor=new L.Cursor};P.parse=function(d){var f=new P;return f._offset=d._cursor.offset,f._root=d._root?d._root:d,f._raw=d._raw,f._parent=d,f._parseBox(),d._cursor.offset=f._raw.byteOffset+f._raw.byteLength,f},P.create=function(d){var f=new P;return f.type=d,f.boxes=[],f},P.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],P.prototype._boxProcessors={},P.prototype._procField=function(d,f,N){this._parsing?this[d]=this._readField(f,N):this._writeField(f,N,this[d])},P.prototype._procFieldArray=function(d,f,N,T){var g;if(this._parsing)for(this[d]=[],g=0;g<f;g++)this[d][g]=this._readField(N,T);else for(g=0;g<this[d].length;g++)this._writeField(N,T,this[d][g])},P.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},P.prototype._procEntries=function(d,f,N){var T;if(this._parsing)for(this[d]=[],T=0;T<f;T++)this[d].push({}),N.call(this,this[d][T]);else for(T=0;T<f;T++)N.call(this,this[d][T])},P.prototype._procSubEntries=function(d,f,N,T){var g;if(this._parsing)for(d[f]=[],g=0;g<N;g++)d[f].push({}),T.call(this,d[f][g]);else for(g=0;g<N;g++)T.call(this,d[f][g])},P.prototype._procEntryField=function(d,f,N,T){this._parsing?d[f]=this._readField(N,T):this._writeField(N,T,d[f])},P.prototype._procSubBoxes=function(d,f){var N;if(this._parsing)for(this[d]=[],N=0;N<f;N++)this[d].push(P.parse(this));else for(N=0;N<f;N++)this._rawo?this[d][N].write():this.size+=this[d][N].getLength()},P.prototype._readField=function(d,f){switch(d){case"uint":return this._readUint(f);case"int":return this._readInt(f);case"template":return this._readTemplate(f);case"string":return-1===f?this._readTerminatedString():this._readString(f);case"data":return this._readData(f);case"utf8":return this._readUTF8String();default:return-1}},P.prototype._readInt=function(d){var f=null,N=this._cursor.offset-this._raw.byteOffset;switch(d){case 8:f=this._raw.getInt8(N);break;case 16:f=this._raw.getInt16(N);break;case 32:f=this._raw.getInt32(N);break;case 64:var T=this._raw.getInt32(N),g=this._raw.getInt32(N+4);f=T*Math.pow(2,32)+g}return this._cursor.offset+=d>>3,f},P.prototype._readUint=function(d){var f,N,T=null,g=this._cursor.offset-this._raw.byteOffset;switch(d){case 8:T=this._raw.getUint8(g);break;case 16:T=this._raw.getUint16(g);break;case 24:T=((f=this._raw.getUint16(g))<<8)+(N=this._raw.getUint8(g+2));break;case 32:T=this._raw.getUint32(g);break;case 64:f=this._raw.getUint32(g),N=this._raw.getUint32(g+4),T=f*Math.pow(2,32)+N}return this._cursor.offset+=d>>3,T},P.prototype._readString=function(d){for(var f="",N=0;N<d;N++){var T=this._readUint(8);f+=String.fromCharCode(T)}return f},P.prototype._readTemplate=function(d){return this._readUint(d/2)+this._readUint(d/2)/Math.pow(2,d/2)},P.prototype._readTerminatedString=function(){for(var d="";this._cursor.offset-this._offset<this._raw.byteLength;){var f=this._readUint(8);if(0===f)break;d+=String.fromCharCode(f)}return d},P.prototype._readData=function(d){var f=d>0?d:this._raw.byteLength-(this._cursor.offset-this._offset);if(f>0){var N=new Uint8Array(this._raw.buffer,this._cursor.offset,f);return this._cursor.offset+=f,N}return null},P.prototype._readUTF8String=function(){var d=this._raw.byteLength-(this._cursor.offset-this._offset),f=null;return d>0&&(f=new DataView(this._raw.buffer,this._cursor.offset,d),this._cursor.offset+=d),f&&L.Utils.dataViewToString(f)},P.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},P.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},P.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(P.parse(this))},P.prototype.append=function(d,f){L.Utils.appendBox(this,d,f)},P.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var d=0;d<this.boxes.length;d++)this.size+=this.boxes[d].getLength();return this._data&&this._writeData(this._data),this.size},P.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var d=0;d<this.boxes.length;d++)this.boxes[d].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},P.prototype._writeInt=function(d,f){if(this._rawo){var N=this._cursor.offset-this._rawo.byteOffset;switch(d){case 8:this._rawo.setInt8(N,f);break;case 16:this._rawo.setInt16(N,f);break;case 32:this._rawo.setInt32(N,f);break;case 64:var T=Math.floor(f/Math.pow(2,32)),g=f-T*Math.pow(2,32);this._rawo.setUint32(N,T),this._rawo.setUint32(N+4,g)}this._cursor.offset+=d>>3}else this.size+=d>>3},P.prototype._writeUint=function(d,f){if(this._rawo){var N,T,g=this._cursor.offset-this._rawo.byteOffset;switch(d){case 8:this._rawo.setUint8(g,f);break;case 16:this._rawo.setUint16(g,f);break;case 24:T=255&f,this._rawo.setUint16(g,N=(16776960&f)>>8),this._rawo.setUint8(g+2,T);break;case 32:this._rawo.setUint32(g,f);break;case 64:T=f-(N=Math.floor(f/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(g,N),this._rawo.setUint32(g+4,T)}this._cursor.offset+=d>>3}else this.size+=d>>3},P.prototype._writeString=function(d,f){for(var N=0;N<d;N++)this._writeUint(8,f.charCodeAt(N))},P.prototype._writeTerminatedString=function(d){if(0!==d.length){for(var f=0;f<d.length;f++)this._writeUint(8,d.charCodeAt(f));this._writeUint(8,0)}},P.prototype._writeTemplate=function(d,f){var N=Math.floor(f),T=(f-N)*Math.pow(2,d/2);this._writeUint(d/2,N),this._writeUint(d/2,T)},P.prototype._writeData=function(d){if(d)if(this._rawo){if(d instanceof Array){for(var f=this._cursor.offset-this._rawo.byteOffset,N=0;N<d.length;N++)this._rawo.setInt8(f+N,d[N]);this._cursor.offset+=d.length}d instanceof Uint8Array&&(this._root.bytes.set(d,this._cursor.offset),this._cursor.offset+=d.length)}else this.size+=d.length},P.prototype._writeUTF8String=function(d){var f=L.Utils.utf8ToByteArray(d);if(this._rawo)for(var N=new DataView(this._rawo.buffer,this._cursor.offset,f.length),T=0;T<f.length;T++)N.setUint8(T,f[T]);else this.size+=f.length},P.prototype._writeField=function(d,f,N){switch(d){case"uint":this._writeUint(f,N);break;case"int":this._writeInt(f,N);break;case"template":this._writeTemplate(f,N);break;case"string":-1==f?this._writeTerminatedString(N):this._writeString(f,N);break;case"data":this._writeData(N);break;case"utf8":this._writeUTF8String(N)}},P.prototype._boxProcessors.avc1=P.prototype._boxProcessors.avc2=P.prototype._boxProcessors.avc3=P.prototype._boxProcessors.avc4=P.prototype._boxProcessors.hvc1=P.prototype._boxProcessors.hev1=P.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},P.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_count","uint",32),this._procEntryField(d,"sample_offset",1===this.version?"int":"uint",32)})},P.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},P.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"segment_duration","uint",1===this.version?64:32),this._procEntryField(d,"media_time","int",1===this.version?64:32),this._procEntryField(d,"media_rate_integer","int",16),this._procEntryField(d,"media_rate_fraction","int",16)})},P.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},P.prototype._boxProcessors.free=P.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},P.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},P.prototype._boxProcessors.ftyp=P.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var d=-1;this._parsing&&(d=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",d,"string",4)},P.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},P.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},P.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},P.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},P.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},P.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},P.prototype._boxProcessors.mp4a=P.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},P.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},P.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},P.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},P.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},P.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},P.prototype._boxProcessors.sdtp=function(){this._procFullBox();var d=-1;this._parsing&&(d=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",d,"uint",8)},P.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(d){this._parsing||(d.reference=(1&d.reference_type)<<31,d.reference|=2147483647&d.referenced_size,d.sap=(1&d.starts_with_SAP)<<31,d.sap|=(3&d.SAP_type)<<28,d.sap|=268435455&d.SAP_delta_time),this._procEntryField(d,"reference","uint",32),this._procEntryField(d,"subsegment_duration","uint",32),this._procEntryField(d,"sap","uint",32),this._parsing&&(d.reference_type=d.reference>>31&1,d.referenced_size=2147483647&d.reference,d.starts_with_SAP=d.sap>>31&1,d.SAP_type=d.sap>>28&7,d.SAP_delta_time=268435455&d.sap)})},P.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},P.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(d){this._procEntryField(d,"ranges_count","uint",32),this._procSubEntries(d,"ranges",d.ranges_count,function(f){this._procEntryField(f,"level","uint",8),this._procEntryField(f,"range_size","uint",24)})})},P.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},P.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},P.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_count","uint",32),this._procEntryField(d,"sample_delta","uint",32)})},P.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_delta","uint",32),this._procEntryField(d,"subsample_count","uint",16),this._procSubEntries(d,"subsamples",d.subsample_count,function(f){this._procEntryField(f,"subsample_size","uint",1===this.version?32:16),this._procEntryField(f,"subsample_priority","uint",8),this._procEntryField(f,"discardable","uint",8),this._procEntryField(f,"codec_specific_parameters","uint",32)})})},P.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},P.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},P.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},P.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(d){this._procEntryField(d,"time","uint",1===this.version?64:32),this._procEntryField(d,"moof_offset","uint",1===this.version?64:32),this._procEntryField(d,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(d,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(d,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},P.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},P.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},P.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(d){256&this.flags&&this._procEntryField(d,"sample_duration","uint",32),512&this.flags&&this._procEntryField(d,"sample_size","uint",32),1024&this.flags&&this._procEntryField(d,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(d,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},P.prototype._boxProcessors["url "]=P.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},P.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},P.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},P.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},P.prototype._boxProcessors.vtte=function(){}},5530:(St,He,L)=>{"use strict";St.exports=L(6146).polyfill()},6146:function(St,He,L){St.exports=function(){"use strict";function be($e){return"function"==typeof $e}var P=Array.isArray?Array.isArray:function($e){return"[object Array]"===Object.prototype.toString.call($e)},d=0,f=void 0,N=void 0,T=function($e,ut){q[d]=$e,q[d+1]=ut,2===(d+=2)&&(N?N(W):k())},g=typeof window<"u"?window:void 0,S=g||{},x=S.MutationObserver||S.WebKitMutationObserver,h=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var $e=setTimeout;return function(){return $e(W,1)}}var q=new Array(1e3);function W(){for(var $e=0;$e<d;$e+=2)(0,q[$e])(q[$e+1]),q[$e]=void 0,q[$e+1]=void 0;d=0}var ie,J,le,Z,k=void 0;function K($e,ut){var Se=this,ye=new this.constructor(ze);void 0===ye[ce]&&Pe(ye);var at=Se._state;if(at){var E=arguments[at-1];T(function(){return It(at,ye,E,Se._result)})}else Ve(Se,ye,$e,ut);return ye}function de($e){if($e&&"object"==typeof $e&&$e.constructor===this)return $e;var ut=new this(ze);return Mt(ut,$e),ut}k=h?function(){return process.nextTick(W)}:x?(J=0,le=new x(W),Z=document.createTextNode(""),le.observe(Z,{characterData:!0}),function(){Z.data=J=++J%2}):v?((ie=new MessageChannel).port1.onmessage=W,function(){return ie.port2.postMessage(0)}):void 0===g?function(){try{var $e=Function("return this")().require("vertx");return void 0!==(f=$e.runOnLoop||$e.runOnContext)?function(){f(W)}:w()}catch{return w()}}():w();var ce=Math.random().toString(36).substring(2);function ze(){}var st=void 0;function pe($e,ut,Se){var ye,at;ut.constructor===$e.constructor&&Se===K&&ut.constructor.resolve===de?(ye=$e,1===(at=ut)._state?Ye(ye,at._result):2===at._state?Ne(ye,at._result):Ve(at,void 0,function(E){return Mt(ye,E)},function(E){return Ne(ye,E)})):void 0===Se?Ye($e,ut):be(Se)?function(ye,at,E){T(function(_){var R=!1,M=function(ue,ae,Ie,Ge){try{ue.call(ae,function(ue){R||(R=!0,at!==ue?Mt(_,ue):Ye(_,ue))},function(ue){R||(R=!0,Ne(_,ue))})}catch(We){return We}}(E,at);!R&&M&&(R=!0,Ne(_,M))},ye)}($e,ut,Se):Ye($e,ut)}function Mt($e,ut){if($e===ut)Ne($e,new TypeError("You cannot resolve a promise with itself"));else if(at=typeof(ye=ut),null===ye||"object"!==at&&"function"!==at)Ye($e,ut);else{var Se=void 0;try{Se=ut.then}catch(E){return void Ne($e,E)}pe($e,ut,Se)}var ye,at}function je($e){$e._onerror&&$e._onerror($e._result),rt($e)}function Ye($e,ut){$e._state===st&&($e._result=ut,$e._state=1,0!==$e._subscribers.length&&T(rt,$e))}function Ne($e,ut){$e._state===st&&($e._state=2,$e._result=ut,T(je,$e))}function Ve($e,ut,Se,ye){var at=$e._subscribers,E=at.length;$e._onerror=null,at[E]=ut,at[E+1]=Se,at[E+2]=ye,0===E&&$e._state&&T(rt,$e)}function rt($e){var ut=$e._subscribers,Se=$e._state;if(0!==ut.length){for(var ye=void 0,at=void 0,E=$e._result,_=0;_<ut.length;_+=3)at=ut[_+Se],(ye=ut[_])?It(Se,ye,at,E):at(E);$e._subscribers.length=0}}function It($e,ut,Se,ye){var at=be(Se),E=void 0,_=void 0,R=!0;if(at){try{E=Se(ye)}catch(M){R=!1,_=M}if(ut===E)return void Ne(ut,new TypeError("A promises callback cannot return that same promise."))}else E=ye;ut._state!==st||(at&&R?Mt(ut,E):!1===R?Ne(ut,_):1===$e?Ye(ut,E):2===$e&&Ne(ut,E))}var ft=0;function Pe($e){$e[ce]=ft++,$e._state=void 0,$e._result=void 0,$e._subscribers=[]}var pt=function(){function $e(ut,Se){this._instanceConstructor=ut,this.promise=new ut(ze),this.promise[ce]||Pe(this.promise),P(Se)?(this.length=Se.length,this._remaining=Se.length,this._result=new Array(this.length),0===this.length?Ye(this.promise,this._result):(this.length=this.length||0,this._enumerate(Se),0===this._remaining&&Ye(this.promise,this._result))):Ne(this.promise,new Error("Array Methods must be provided an Array"))}return $e.prototype._enumerate=function(ut){for(var Se=0;this._state===st&&Se<ut.length;Se++)this._eachEntry(ut[Se],Se)},$e.prototype._eachEntry=function(ut,Se){var ye=this._instanceConstructor,at=ye.resolve;if(at===de){var E=void 0,_=void 0,R=!1;try{E=ut.then}catch(ue){R=!0,_=ue}if(E===K&&ut._state!==st)this._settledAt(ut._state,Se,ut._result);else if("function"!=typeof E)this._remaining--,this._result[Se]=ut;else if(ye===Pt){var M=new ye(ze);R?Ne(M,_):pe(M,ut,E),this._willSettleAt(M,Se)}else this._willSettleAt(new ye(function(ue){return ue(ut)}),Se)}else this._willSettleAt(at(ut),Se)},$e.prototype._settledAt=function(ut,Se,ye){var at=this.promise;at._state===st&&(this._remaining--,2===ut?Ne(at,ye):this._result[Se]=ye),0===this._remaining&&Ye(at,this._result)},$e.prototype._willSettleAt=function(ut,Se){var ye=this;Ve(ut,void 0,function(at){return ye._settledAt(1,Se,at)},function(at){return ye._settledAt(2,Se,at)})},$e}(),Pt=function(){function $e(ut){this[ce]=ft++,this._result=this._state=void 0,this._subscribers=[],ze!==ut&&("function"!=typeof ut&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof $e?function(Se,ye){try{ye(function(at){Mt(Se,at)},function(at){Ne(Se,at)})}catch(at){Ne(Se,at)}}(this,ut):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return $e.prototype.catch=function(ut){return this.then(null,ut)},$e.prototype.finally=function(ut){var ye=this.constructor;return be(ut)?this.then(function(at){return ye.resolve(ut()).then(function(){return at})},function(at){return ye.resolve(ut()).then(function(){throw at})}):this.then(ut,ut)},$e}();return Pt.prototype.then=K,Pt.all=function($e){return new pt(this,$e).promise},Pt.race=function($e){var ut=this;return P($e)?new ut(function(Se,ye){for(var at=$e.length,E=0;E<at;E++)ut.resolve($e[E]).then(Se,ye)}):new ut(function(Se,ye){return ye(new TypeError("You must pass an array to race."))})},Pt.resolve=de,Pt.reject=function($e){var ut=new this(ze);return Ne(ut,$e),ut},Pt._setScheduler=function($e){N=$e},Pt._setAsap=function($e){T=$e},Pt._asap=T,Pt.polyfill=function(){var $e=void 0;if(void 0!==L.g)$e=L.g;else if(typeof self<"u")$e=self;else try{$e=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ut=$e.Promise;if(ut){var Se=null;try{Se=Object.prototype.toString.call(ut.resolve())}catch{}if("[object Promise]"===Se&&!ut.cast)return}$e.Promise=Pt},Pt.Promise=Pt,Pt}()},1159:St=>{"use strict";var He,L="object"==typeof Reflect?Reflect:null,be=L&&"function"==typeof L.apply?L.apply:function(W,ie,J){return Function.prototype.apply.call(W,ie,J)};He=L&&"function"==typeof L.ownKeys?L.ownKeys:Object.getOwnPropertySymbols?function(W){return Object.getOwnPropertyNames(W).concat(Object.getOwnPropertySymbols(W))}:function(W){return Object.getOwnPropertyNames(W)};var P=Number.isNaN||function(W){return W!=W};function d(){d.init.call(this)}St.exports=d,St.exports.once=function(W,ie){return new Promise(function(J,le){function Z(K){W.removeListener(ie,k),le(K)}function k(){"function"==typeof W.removeListener&&W.removeListener("error",Z),J([].slice.call(arguments))}var K;q(W,ie,k,{once:!0}),"error"!==ie&&"function"==typeof(K=W).on&&q(K,"error",Z,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var f=10;function N(W){if("function"!=typeof W)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}function T(W){return void 0===W._maxListeners?d.defaultMaxListeners:W._maxListeners}function g(W,ie,J,le){var Z,k,K;if(N(J),void 0===(k=W._events)?(k=W._events=Object.create(null),W._eventsCount=0):(void 0!==k.newListener&&(W.emit("newListener",ie,J.listener?J.listener:J),k=W._events),K=k[ie]),void 0===K)K=k[ie]=J,++W._eventsCount;else if("function"==typeof K?K=k[ie]=le?[J,K]:[K,J]:le?K.unshift(J):K.push(J),(Z=T(W))>0&&K.length>Z&&!K.warned){K.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(ie)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=W,ce.type=ie,ce.count=K.length,console&&console.warn&&console.warn(ce)}return W}function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x(W,ie,J){var le={fired:!1,wrapFn:void 0,target:W,type:ie,listener:J},Z=S.bind(le);return Z.listener=J,le.wrapFn=Z,Z}function h(W,ie,J){var le=W._events;if(void 0===le)return[];var Z=le[ie];return void 0===Z?[]:"function"==typeof Z?J?[Z.listener||Z]:[Z]:J?function(k){for(var K=new Array(k.length),de=0;de<K.length;++de)K[de]=k[de].listener||k[de];return K}(Z):w(Z,Z.length)}function v(W){var ie=this._events;if(void 0!==ie){var J=ie[W];if("function"==typeof J)return 1;if(void 0!==J)return J.length}return 0}function w(W,ie){for(var J=new Array(ie),le=0;le<ie;++le)J[le]=W[le];return J}function q(W,ie,J,le){if("function"==typeof W.on)le.once?W.once(ie,J):W.on(ie,J);else{if("function"!=typeof W.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W);W.addEventListener(ie,function Z(k){le.once&&W.removeEventListener(ie,Z),J(k)})}}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(W){if("number"!=typeof W||W<0||P(W))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+W+".");f=W}}),d.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(W){if("number"!=typeof W||W<0||P(W))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+W+".");return this._maxListeners=W,this},d.prototype.getMaxListeners=function(){return T(this)},d.prototype.emit=function(W){for(var ie=[],J=1;J<arguments.length;J++)ie.push(arguments[J]);var le="error"===W,Z=this._events;if(void 0!==Z)le=le&&void 0===Z.error;else if(!le)return!1;if(le){var k;if(ie.length>0&&(k=ie[0]),k instanceof Error)throw k;var K=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw K.context=k,K}var de=Z[W];if(void 0===de)return!1;if("function"==typeof de)be(de,this,ie);else{var ce=de.length,ze=w(de,ce);for(J=0;J<ce;++J)be(ze[J],this,ie)}return!0},d.prototype.on=d.prototype.addListener=function(W,ie){return g(this,W,ie,!1)},d.prototype.prependListener=function(W,ie){return g(this,W,ie,!0)},d.prototype.once=function(W,ie){return N(ie),this.on(W,x(this,W,ie)),this},d.prototype.prependOnceListener=function(W,ie){return N(ie),this.prependListener(W,x(this,W,ie)),this},d.prototype.off=d.prototype.removeListener=function(W,ie){var J,le,Z,k,K;if(N(ie),void 0===(le=this._events))return this;if(void 0===(J=le[W]))return this;if(J===ie||J.listener===ie)0==--this._eventsCount?this._events=Object.create(null):(delete le[W],le.removeListener&&this.emit("removeListener",W,J.listener||ie));else if("function"!=typeof J){for(Z=-1,k=J.length-1;k>=0;k--)if(J[k]===ie||J[k].listener===ie){K=J[k].listener,Z=k;break}if(Z<0)return this;0===Z?J.shift():function(de,ce){for(;ce+1<de.length;ce++)de[ce]=de[ce+1];de.pop()}(J,Z),1===J.length&&(le[W]=J[0]),void 0!==le.removeListener&&this.emit("removeListener",W,K||ie)}return this},d.prototype.removeAllListeners=function(W){var ie,J,le;if(void 0===(J=this._events))return this;if(void 0===J.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==J[W]&&(0==--this._eventsCount?this._events=Object.create(null):delete J[W]),this;if(0===arguments.length){var Z,k=Object.keys(J);for(le=0;le<k.length;++le)"removeListener"!==(Z=k[le])&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ie=J[W]))this.removeListener(W,ie);else if(void 0!==ie)for(le=ie.length-1;le>=0;le--)this.removeListener(W,ie[le]);return this},d.prototype.listeners=function(W){return h(this,W,!0)},d.prototype.rawListeners=function(W){return h(this,W,!1)},d.listenerCount=function(W,ie){return"function"==typeof W.listenerCount?W.listenerCount(ie):v.call(W,ie)},d.prototype.listenerCount=v,d.prototype.eventNames=function(){return this._eventsCount>0?He(this._events):[]}},3101:St=>{"use strict";var He=Array.isArray,L=Object.keys,be=Object.prototype.hasOwnProperty;St.exports=function P(d,f){if(d===f)return!0;if(d&&f&&"object"==typeof d&&"object"==typeof f){var N,T,g,S=He(d),x=He(f);if(S&&x){if((T=d.length)!=f.length)return!1;for(N=T;0!=N--;)if(!P(d[N],f[N]))return!1;return!0}if(S!=x)return!1;var h=d instanceof Date,v=f instanceof Date;if(h!=v)return!1;if(h&&v)return d.getTime()==f.getTime();var w=d instanceof RegExp,q=f instanceof RegExp;if(w!=q)return!1;if(w&&q)return d.toString()==f.toString();var W=L(d);if((T=W.length)!==L(f).length)return!1;for(N=T;0!=N--;)if(!be.call(f,W[N]))return!1;for(N=T;0!=N--;)if(!P(d[g=W[N]],f[g]))return!1;return!0}return d!=d&&f!=f}},3362:(St,He,L)=>{!function(be,P,d,f,N){function T(_){if("contents"in _)for(var R=("styleAttrs"in _?_.styleAttrs[f.byName.ruby.qname]:null),M="span"===_.kind&&("container"===R||"textContainer"===R||"baseContainer"===R),ue=_.contents.length-1;ue>=0;ue--)!M||"styleAttrs"in _.contents[ue]&&f.byName.ruby.qname in _.contents[ue].styleAttrs?T(_.contents[ue]):delete _.contents[ue]}function g(_,R,M,ue){var ae=ue&&"seq"===ue.timeContainer,Ie=0;ue&&(Ie=ae&&M?M.end:ue.begin),R.begin=R.explicit_begin?R.explicit_begin+Ie:Ie;var Ge=R.begin,We=null;if("sets"in R)for(var Fe=0;Fe<R.sets.length;Fe++)g(_,R.sets[Fe],We,R),Ge="seq"===R.timeContainer?R.sets[Fe].end:Math.max(Ge,R.sets[Fe].end),We=R.sets[Fe];if("contents"in R){if("contents"in R)for(var et=0;et<R.contents.length;et++)g(_,R.contents[et],We,R),Ge="seq"===R.timeContainer?R.contents[et].end:Math.max(Ge,R.contents[et].end),We=R.contents[et]}else Ge=ae?R.begin:Number.POSITIVE_INFINITY;R.end=null!==R.explicit_end&&null!==R.explicit_dur?Math.min(R.begin+R.explicit_dur,Ie+R.explicit_end):null===R.explicit_end&&null!==R.explicit_dur?R.begin+R.explicit_dur:null!==R.explicit_end&&null===R.explicit_dur?Ie+R.explicit_end:Ge,delete R.explicit_begin,delete R.explicit_dur,delete R.explicit_end,_._registerEvent(R)}function S(_){this.node=_}function x(){this.events=[],this.head=new h,this.body=null}function h(){this.styling=new v,this.layout=new W}function v(){this.styles={},this.initials={}}function w(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function q(){this.styleAttrs=null}function W(){this.regions={}}function ie(_,R){J.call(this,"image"),this.src=_,this.type=R}function J(_){this.kind=_}function le(_){this.id=_}function Z(_){this.regionID=_}function k(_){this.styleAttrs=_}function K(_){this.sets=_}function de(_){this.contents=_}function ce(_,R,M){this.explicit_begin=_,this.explicit_end=R,this.explicit_dur=M}function ze(){J.call(this,"body")}function st(){J.call(this,"div")}function pe(){J.call(this,"p")}function Mt(){J.call(this,"span")}function je(){J.call(this,"span")}function Ye(){J.call(this,"br")}function Ne(){}function Ve(){}function rt(_){return _&&"xml:id"in _.attributes&&_.attributes["xml:id"].value||null}function It(_){return _&&"style"in _.attributes?_.attributes.style.value.split(" "):[]}function ft(_,R){var M={};if(null!==_)for(var ue in _.attributes){var ae=_.attributes[ue].uri+" "+_.attributes[ue].local,Ie=f.byQName[ae];if(void 0!==Ie){var Ge=Ie.parse(_.attributes[ue].value);null!==Ge?(M[ae]=Ge,Ie===f.byName.zIndex&&Se(R,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):ye(R,"Cannot parse styling attribute "+ae+" --\x3e "+_.attributes[ue].value)}}return M}function Pe(_,R,M){for(var ue in _.attributes)if(_.attributes[ue].uri===R&&_.attributes[ue].local===M)return _.attributes[ue].value;return null}function pt(_,R,M){var ue,ae=null;return null!==(ue=/^(\d+(?:\.\d+)?)f$/.exec(M))?null!==R&&(ae=parseFloat(ue[1])/R):null!==(ue=/^(\d+(?:\.\d+)?)t$/.exec(M))?null!==_&&(ae=parseFloat(ue[1])/_):null!==(ue=/^(\d+(?:\.\d+)?)ms$/.exec(M))?ae=parseFloat(ue[1])/1e3:null!==(ue=/^(\d+(?:\.\d+)?)s$/.exec(M))?ae=parseFloat(ue[1]):null!==(ue=/^(\d+(?:\.\d+)?)h$/.exec(M))?ae=3600*parseFloat(ue[1]):null!==(ue=/^(\d+(?:\.\d+)?)m$/.exec(M))?ae=60*parseFloat(ue[1]):null!==(ue=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(M))?ae=3600*parseInt(ue[1])+60*parseInt(ue[2])+parseFloat(ue[3]):null!==(ue=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(M))&&null!==R&&(ae=3600*parseInt(ue[1])+60*parseInt(ue[2])+parseInt(ue[3])+(null===ue[4]?0:parseInt(ue[4])/R)),ae}function Pt(_,R,M){for(;R.styleRefs.length>0;){var ue=R.styleRefs.pop();ue in _.styles?(Pt(_,_.styles[ue],M),ut(_.styles[ue].styleAttrs,R.styleAttrs)):ye(M,"Non-existant style id referenced")}}function $e(_,R,M,ue){for(var ae=R.length-1;ae>=0;ae--){var Ie=R[ae];Ie in _.styles?ut(_.styles[Ie].styleAttrs,M):ye(ue,"Non-existant style id referenced")}}function ut(_,R){for(var M in _)_.hasOwnProperty(M)&&(M in R||(R[M]=_[M]))}function Se(_,R){if(_&&_.warn&&_.warn(R))throw R}function ye(_,R){if(_&&_.error&&_.error(R))throw R}function at(_,R){throw _&&_.fatal&&_.fatal(R),R}function E(_,R){for(var M,ue=0,ae=_.length-1;ue<=ae;){var Ie=_[M=Math.floor((ue+ae)/2)];if(Ie<R)ue=M+1;else{if(!(Ie>R))return{found:!0,index:M};ae=M-1}}return{found:!1,index:ue}}be.fromXML=function(_,R,M){var ue=P.parser(!0,{xmlns:!0}),ae=[],Ie=[],Ge=[],We=0,Fe=null;ue.onclosetag=function(Xe){if(ae[0]instanceof Ne)null!==Fe.head&&null!==Fe.head.styling&&$e(Fe.head.styling,ae[0].styleRefs,ae[0].styleAttrs,R),delete ae[0].styleRefs;else if(ae[0]instanceof v)for(var Et in ae[0].styles)ae[0].styles.hasOwnProperty(Et)&&Pt(ae[0],ae[0].styles[Et],R);else if(ae[0]instanceof pe||ae[0]instanceof Mt){if(ae[0].contents.length>1){var xt,rn=[ae[0].contents[0]];for(xt=1;xt<ae[0].contents.length;xt++)ae[0].contents[xt]instanceof je&&rn[rn.length-1]instanceof je?rn[rn.length-1].text+=ae[0].contents[xt].text:rn.push(ae[0].contents[xt]);ae[0].contents=rn}ae[0]instanceof Mt&&1===ae[0].contents.length&&ae[0].contents[0]instanceof je&&(ae[0].text=ae[0].contents[0].text,delete ae[0].contents)}else ae[0]instanceof S&&(ae[0].node.uri===d.ns_tt&&"metadata"===ae[0].node.local?We--:We>0&&M&&"onCloseTag"in M&&M.onCloseTag());Ge.shift(),Ie.shift(),ae.shift()},ue.ontext=function(Xe){if(void 0!==ae[0])if(ae[0]instanceof Mt||ae[0]instanceof pe){if(ae[0]instanceof Mt){var Et=ae[0].styleAttrs[f.byName.ruby.qname];if("container"===Et||"textContainer"===Et||"baseContainer"===Et)return}var xt=new je;xt.initFromText(Fe,ae[0],Xe,Ie[0],Ge[0],R),ae[0].contents.push(xt)}else ae[0]instanceof S&&We>0&&M&&"onText"in M&&M.onText(Xe)},ue.onopentag=function(Xe){var Et=Xe.attributes["xml:space"];Ge.unshift(Et?Et.value:0===Ge.length?"default":Ge[0]);var xt=Xe.attributes["xml:lang"];if(Ie.unshift(xt?xt.value:0===Ie.length?"":Ie[0]),Xe.uri===d.ns_tt)if("tt"===Xe.local)null!==Fe&&at(R,"Two <tt> elements at ("+this.line+","+this.column+")"),(Fe=new x).initFromNode(Xe,Ie[0],R),ae.unshift(Fe);else if("head"===Xe.local)ae[0]instanceof x||at(R,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ae.unshift(Fe.head);else if("styling"===Xe.local)ae[0]instanceof h||at(R,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ae.unshift(Fe.head.styling);else if("style"===Xe.local){var rn;ae[0]instanceof v?((rn=new w).initFromNode(Xe,R),rn.id?Fe.head.styling.styles[rn.id]=rn:ye(R,"<style> element missing @id attribute"),ae.unshift(rn)):ae[0]instanceof Ne?((rn=new w).initFromNode(Xe,R),ut(rn.styleAttrs,ae[0].styleAttrs),ae.unshift(rn)):at(R,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===Xe.local){var Mn;if(ae[0]instanceof v){for(var Tn in(Mn=new q).initFromNode(Xe,R),Mn.styleAttrs)Mn.styleAttrs.hasOwnProperty(Tn)&&(Fe.head.styling.initials[Tn]=Mn.styleAttrs[Tn]);ae.unshift(Mn)}else at(R,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===Xe.local)ae[0]instanceof h||at(R,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ae.unshift(Fe.head.layout);else if("region"===Xe.local){ae[0]instanceof W||at(R,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var vn=new Ne;vn.initFromNode(Fe,Xe,Ie[0],R),!vn.id||vn.id in Fe.head.layout.regions?ye(R,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Fe.head.layout.regions[vn.id]=vn,ae.unshift(vn)}else if("body"===Xe.local){ae[0]instanceof x||at(R,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Fe.body&&at(R,"Second <body> element at "+this.line+","+this.column+")");var Gn=new ze;Gn.initFromNode(Fe,Xe,Ie[0],R),Fe.body=Gn,ae.unshift(Gn)}else if("div"===Xe.local){ae[0]instanceof st||ae[0]instanceof ze||at(R,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Zn=new st;Zn.initFromNode(Fe,ae[0],Xe,Ie[0],R);var vr=Zn.styleAttrs[f.byName.backgroundImage.qname];vr&&(Zn.contents.push(new ie(vr)),delete Zn.styleAttrs[f.byName.backgroundImage.qname]),ae[0].contents.push(Zn),ae.unshift(Zn)}else if("image"===Xe.local){ae[0]instanceof st||at(R,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var mi=new ie;mi.initFromNode(Fe,ae[0],Xe,Ie[0],R),ae[0].contents.push(mi),ae.unshift(mi)}else if("p"===Xe.local){ae[0]instanceof st||at(R,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Ti=new pe;Ti.initFromNode(Fe,ae[0],Xe,Ie[0],R),ae[0].contents.push(Ti),ae.unshift(Ti)}else if("span"===Xe.local){ae[0]instanceof Mt||ae[0]instanceof pe||at(R,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var qr=new Mt;qr.initFromNode(Fe,ae[0],Xe,Ie[0],Ge[0],R),ae[0].contents.push(qr),ae.unshift(qr)}else if("br"===Xe.local){ae[0]instanceof Mt||ae[0]instanceof pe||at(R,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Bi=new Ye;Bi.initFromNode(Fe,ae[0],Xe,Ie[0],R),ae[0].contents.push(Bi),ae.unshift(Bi)}else if("set"===Xe.local){ae[0]instanceof Mt||ae[0]instanceof pe||ae[0]instanceof st||ae[0]instanceof ze||ae[0]instanceof Ne||ae[0]instanceof Ye||at(R,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Ui=new Ve;Ui.initFromNode(Fe,ae[0],Xe,R),ae[0].sets.push(Ui),ae.unshift(Ui)}else ae.unshift(new S(Xe));else ae.unshift(new S(Xe));if(ae[0]instanceof S)if(Xe.uri===d.ns_tt&&"metadata"===Xe.local)We++;else if(We>0&&M&&"onOpenTag"in M){var $i=[];for(var Wi in Xe.attributes)$i[Xe.attributes[Wi].uri+" "+Xe.attributes[Wi].local]={uri:Xe.attributes[Wi].uri,local:Xe.attributes[Wi].local,value:Xe.attributes[Wi].value};M.onOpenTag(Xe.uri,Xe.local,$i)}},ue.write(_).close(),delete Fe.head.styling.styles;var et=!1;for(var it in Fe.head.layout.regions)if(Fe.head.layout.regions.hasOwnProperty(it)){et=!0;break}if(!et){var Me=Ne.prototype.createDefaultRegion(Fe.lang);Fe.head.layout.regions[Me.id]=Me}for(var Ke in Fe.head.layout.regions)Fe.head.layout.regions.hasOwnProperty(Ke)&&g(Fe,Fe.head.layout.regions[Ke],null,null);return Fe.body&&g(Fe,Fe.body,null,null),Fe.body&&T(Fe.body),Fe},x.prototype.initFromNode=function(_,R,M){var ue=function(We,Fe){var et=Pe(We,d.ns_ttp,"cellResolution"),it=15,Me=32;if(null!==et){var Ke=/(\d+) (\d+)/.exec(et);null!==Ke?(Me=parseInt(Ke[1]),it=parseInt(Ke[2])):Se(Fe,"Malformed cellResolution value (using initial value instead)")}return{w:Me,h:it}}(_,M);this.cellLength={h:new N.ComputedLength(0,1/ue.h),w:new N.ComputedLength(1/ue.w,0)};var ae=function(We,Fe){var et,it=Pe(We,d.ns_ttp,"frameRate"),Me=30;null!==it&&(null!==(et=/(\d+)/.exec(it))?Me=parseInt(et[1]):Se(Fe,"Malformed frame rate attribute (using initial value instead)"));var Ke=Pe(We,d.ns_ttp,"frameRateMultiplier"),Xe=1;null!==Ke&&(null!==(et=/(\d+) (\d+)/.exec(Ke))?Xe=parseInt(et[1])/parseInt(et[2]):Se(Fe,"Malformed frame rate multiplier attribute (using initial value instead)"));var Et=Xe*Me,xt=1,rn=Pe(We,d.ns_ttp,"tickRate");return null===rn?null!==it&&(xt=Et):null!==(et=/(\d+)/.exec(rn))?xt=parseInt(et[1]):Se(Fe,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Et,tickRate:xt}}(_,M);this.effectiveFrameRate=ae.effectiveFrameRate,this.tickRate=ae.tickRate,this.aspectRatio=function(We,Fe){var et=Pe(We,d.ns_ittp,"aspectRatio");null===et&&(et=Pe(We,d.ns_ttp,"displayAspectRatio"));var it=null;if(null!==et){var Me=/(\d+)\s+(\d+)/.exec(et);if(null!==Me){var Ke=parseInt(Me[1]),Xe=parseInt(Me[2]);0!==Ke&&0!==Xe?it=Ke/Xe:ye(Fe,"Illegal aspectRatio values (ignoring)")}else ye(Fe,"Malformed aspectRatio attribute (ignoring)")}return it}(_,M);var Ie=Pe(_,d.ns_ttp,"timeBase");null!==Ie&&"media"!==Ie&&at(M,"Unsupported time base");var Ge=function(We,Fe){var et=Pe(We,d.ns_tts,"extent");if(null===et)return null;var it=et.split(" ");if(2!==it.length)return Se(Fe,"Malformed extent (ignoring)"),null;var Me=N.parseLength(it[0]),Ke=N.parseLength(it[1]);return Ke&&Me?{h:Ke,w:Me}:(Se(Fe,"Malformed extent values (ignoring)"),null)}(_,M);null===Ge?this.pxLength={h:null,w:null}:("px"===Ge.h.unit&&"px"===Ge.w.unit||at(M,"Extent on TT must be in px or absent"),this.pxLength={h:new N.ComputedLength(0,1/Ge.h.value),w:new N.ComputedLength(1/Ge.w.value,0)}),this.dimensions={h:new N.ComputedLength(0,1),w:new N.ComputedLength(1,0)},this.lang=R},x.prototype._registerEvent=function(_){if(!(_.end<=_.begin)){var R=E(this.events,_.begin);if(R.found||this.events.splice(R.index,0,_.begin),_.end!==Number.POSITIVE_INFINITY){var M=E(this.events,_.end);M.found||this.events.splice(M.index,0,_.end)}}},x.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},x.prototype.getMediaTimeEvents=function(){return this.events},w.prototype.initFromNode=function(_,R){this.id=rt(_),this.styleAttrs=ft(_,R),this.styleRefs=It(_)},q.prototype.initFromNode=function(_,R){for(var M in this.styleAttrs={},_.attributes)_.attributes[M].uri!==d.ns_itts&&_.attributes[M].uri!==d.ns_ebutts&&_.attributes[M].uri!==d.ns_tts||(this.styleAttrs[_.attributes[M].uri+" "+_.attributes[M].local]=_.attributes[M].value)},ie.prototype.initFromNode=function(_,R,M,ue,ae){this.src="src"in M.attributes?M.attributes.src.value:null,this.src||ye(ae,"Invalid image@src attribute"),this.type="type"in M.attributes?M.attributes.type.value:null,this.type||ye(ae,"Invalid image@type attribute"),k.prototype.initFromNode.call(this,_,R,M,ae),ce.prototype.initFromNode.call(this,_,R,M,ae),K.prototype.initFromNode.call(this,_,R,M,ae),Z.prototype.initFromNode.call(this,_,R,M,ae),this.lang=ue},le.prototype.initFromNode=function(_,R,M,ue){this.id=rt(M)},Z.prototype.initFromNode=function(_,R,M,ue){var ae;this.regionID=(ae=M)&&"region"in ae.attributes?ae.attributes.region.value:""},k.prototype.initFromNode=function(_,R,M,ue){this.styleAttrs=ft(M,ue),null!==_.head&&null!==_.head.styling&&$e(_.head.styling,It(M),this.styleAttrs,ue)},K.prototype.initFromNode=function(_,R,M,ue){this.sets=[]},de.prototype.initFromNode=function(_,R,M,ue){this.contents=[]},ce.prototype.initFromNode=function(_,R,M,ue){var Ie,We,ae=function(Ie,Ge,We,Fe){var et=null;We&&"begin"in We.attributes&&null===(et=pt(Ie.tickRate,Ie.effectiveFrameRate,We.attributes.begin.value))&&Se(Fe,"Malformed begin value "+We.attributes.begin.value+" (using 0)");var it=null;We&&"dur"in We.attributes&&null===(it=pt(Ie.tickRate,Ie.effectiveFrameRate,We.attributes.dur.value))&&Se(Fe,"Malformed dur value "+We.attributes.dur.value+" (ignoring)");var Me=null;return We&&"end"in We.attributes&&null===(Me=pt(Ie.tickRate,Ie.effectiveFrameRate,We.attributes.end.value))&&Se(Fe,"Malformed end value (ignoring)"),{explicit_begin:et,explicit_end:Me,explicit_dur:it}}(_,0,M,ue);this.explicit_begin=ae.explicit_begin,this.explicit_end=ae.explicit_end,this.explicit_dur=ae.explicit_dur,this.timeContainer=(We=(Ie=M)&&"timeContainer"in Ie.attributes?Ie.attributes.timeContainer.value:null)&&"par"!==We?"seq"===We?"seq":(ye(ue,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"},ze.prototype.initFromNode=function(_,R,M,ue){k.prototype.initFromNode.call(this,_,null,R,ue),ce.prototype.initFromNode.call(this,_,null,R,ue),K.prototype.initFromNode.call(this,_,null,R,ue),Z.prototype.initFromNode.call(this,_,null,R,ue),de.prototype.initFromNode.call(this,_,null,R,ue),this.lang=M},st.prototype.initFromNode=function(_,R,M,ue,ae){k.prototype.initFromNode.call(this,_,R,M,ae),ce.prototype.initFromNode.call(this,_,R,M,ae),K.prototype.initFromNode.call(this,_,R,M,ae),Z.prototype.initFromNode.call(this,_,R,M,ae),de.prototype.initFromNode.call(this,_,R,M,ae),this.lang=ue},pe.prototype.initFromNode=function(_,R,M,ue,ae){k.prototype.initFromNode.call(this,_,R,M,ae),ce.prototype.initFromNode.call(this,_,R,M,ae),K.prototype.initFromNode.call(this,_,R,M,ae),Z.prototype.initFromNode.call(this,_,R,M,ae),de.prototype.initFromNode.call(this,_,R,M,ae),this.lang=ue},Mt.prototype.initFromNode=function(_,R,M,ue,ae,Ie){k.prototype.initFromNode.call(this,_,R,M,Ie),ce.prototype.initFromNode.call(this,_,R,M,Ie),K.prototype.initFromNode.call(this,_,R,M,Ie),Z.prototype.initFromNode.call(this,_,R,M,Ie),de.prototype.initFromNode.call(this,_,R,M,Ie),this.space=ae,this.lang=ue},je.prototype.initFromText=function(_,R,M,ue,ae,Ie){ce.prototype.initFromNode.call(this,_,R,null,Ie),this.text=M,this.space=ae,this.lang=ue},Ye.prototype.initFromNode=function(_,R,M,ue,ae){Z.prototype.initFromNode.call(this,_,R,M,ae),ce.prototype.initFromNode.call(this,_,R,M,ae),this.lang=ue},Ne.prototype.createDefaultRegion=function(_){var R=new Ne;return le.call(R,""),k.call(R,{}),K.call(R,[]),ce.call(R,0,Number.POSITIVE_INFINITY,null),this.lang=_,R},Ne.prototype.initFromNode=function(_,R,M,ue){le.prototype.initFromNode.call(this,_,null,R,ue),ce.prototype.initFromNode.call(this,_,null,R,ue),K.prototype.initFromNode.call(this,_,null,R,ue),this.styleAttrs=ft(R,ue),this.styleRefs=It(R),this.lang=M},Ve.prototype.initFromNode=function(_,R,M,ue){ce.prototype.initFromNode.call(this,_,R,M,ue);var ae=ft(M,ue);for(var Ie in this.qname=null,this.value=null,ae)if(ae.hasOwnProperty(Ie)){if(this.qname){ye(ue,"More than one style specified on set");break}this.qname=Ie,this.value=ae[Ie]}}}(He,typeof sax>"u"?L(5378):sax,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles,typeof imscUtils>"u"?L(5926):imscUtils)},506:(St,He,L)=>{!function(be,P,d){function f(k,K,de,ce){var ze;if("region"===de.kind)(ze=document.createElement("div")).style.position="absolute";else if("body"===de.kind)ze=document.createElement("div");else if("div"===de.kind)ze=document.createElement("div");else if("image"===de.kind){if(ze=document.createElement("img"),null!==k.imgResolver&&null!==de.src){var st=k.imgResolver(de.src,ze);st&&(ze.src=st),ze.height=k.regionH,ze.width=k.regionW}}else if("p"===de.kind)ze=document.createElement("p");else if("span"===de.kind)if("container"===de.styleAttrs[d.byName.ruby.qname])ze=document.createElement("ruby"),k.ruby=!0;else if("base"===de.styleAttrs[d.byName.ruby.qname])ze=document.createElement("rb");else if("text"===de.styleAttrs[d.byName.ruby.qname])ze=document.createElement("rt");else if("baseContainer"===de.styleAttrs[d.byName.ruby.qname])ze=document.createElement("rbc");else if("textContainer"===de.styleAttrs[d.byName.ruby.qname])ze=document.createElement("rtc");else{if("delimiter"===de.styleAttrs[d.byName.ruby.qname])return;ze=document.createElement("span")}else"br"===de.kind&&(ze=document.createElement("br"));if(ze){if(de.lang&&("region"!==de.kind&&de.lang===ce.lang||(ze.lang=de.lang)),K.appendChild(ze),ze.style.margin="0","region"===de.kind){var pe=de.styleAttrs[d.byName.writingMode.qname];"lrtb"===pe||"lr"===pe?(k.ipd="lr",k.bpd="tb"):"rltb"===pe||"rl"===pe?(k.ipd="rl",k.bpd="tb"):"tblr"===pe?(k.ipd="tb",k.bpd="lr"):"tbrl"!==pe&&"tb"!==pe||(k.ipd="tb",k.bpd="rl")}else"p"===de.kind&&"tb"===k.bpd&&(k.ipd="ltr"===de.styleAttrs[d.byName.direction.qname]?"lr":"rl");for(var je=0;je<w.length;je++){var Ye=w[je],Ne=de.styleAttrs[Ye.qname];void 0!==Ne&&null!==Ye.map&&Ye.map(k,ze,de,Ne)}var Ve=ze,rt=de.styleAttrs[d.byName.linePadding.qname];if(rt&&!rt.isZero()){var It=rt.toUsedLength(k.w,k.h);if(It>0){var ft=Math.ceil(It)+"px";"tb"===k.bpd?(Ve.style.paddingLeft=ft,Ve.style.paddingRight=ft):(Ve.style.paddingTop=ft,Ve.style.paddingBottom=ft),k.lp=rt}}var Pe=de.styleAttrs[d.byName.multiRowAlign.qname];if(Pe&&"auto"!==Pe){var pt=document.createElement("span");pt.style.display="inline-block",pt.style.textAlign=Pe,ze.appendChild(pt),Ve=pt,k.mra=Pe}var Pt=de.styleAttrs[d.byName.rubyReserve.qname];if(Pt&&"none"!==Pt[0]&&(k.rubyReserve=Pt),de.styleAttrs[d.byName.fillLineGap.qname]&&(k.flg=!0),"span"===de.kind&&de.text){var $e=de.styleAttrs[d.byName.textEmphasis.qname];if($e&&"none"!==$e.style&&(k.textEmphasis=!0),d.byName.textCombine.qname in de.styleAttrs&&"all"===de.styleAttrs[d.byName.textCombine.qname])ze.textContent=de.text,$e&&h(k,ze,0,$e);else for(var ut="",Se=0;Se<de.text.length;Se++){ut+=de.text.charAt(Se);var ye=de.text.charCodeAt(Se);if(ye<55296||ye>56319||Se===de.text.length-1){var at=document.createElement("span");at.textContent=ut,$e&&h(k,at,0,$e),ze.appendChild(at),ut="",at._isd_element=de}}}if("contents"in de)for(var E=0;E<de.contents.length;E++)f(k,Ve,de.contents[E],de);var _=[];if("p"===de.kind&&(x(k,Ve,_,null),k.rubyReserve&&(function(Ie,Ge){for(var We=0;We<Ie.length;We++){var Fe,et,it=document.createElement("ruby"),Me=document.createElement("rb");Me.textContent="\u200b",it.appendChild(Me);var Xe=Ge.rubyReserve[1].toUsedLength(Ge.w,Ge.h)+"px";"both"===Ge.rubyReserve[0]||"outside"===Ge.rubyReserve[0]&&1==Ie.length?((Fe=document.createElement("rtc")).style[J]=ie?"after":"under",Fe.textContent="\u200b",Fe.style.fontSize=Xe,(et=document.createElement("rtc")).style[J]=ie?"before":"over",et.textContent="\u200b",et.style.fontSize=Xe,it.appendChild(Fe),it.appendChild(et)):((Fe=document.createElement("rtc")).textContent="\u200b",Fe.style.fontSize=Xe,Fe.style[J]="after"===Ge.rubyReserve[0]||"outside"===Ge.rubyReserve[0]&&We>0?ie?"after":"tb"===Ge.bpd||"rl"===Ge.bpd?"under":"over":ie?"before":"tb"===Ge.bpd||"rl"===Ge.bpd?"over":"under",it.appendChild(Fe));for(var Et=null,xt=0;xt<Ie[We].rbc.length;xt++)if("ruby"===Ie[We].rbc[xt].localName){Et=Ie[We].rbc[xt];for(var rn=0;rn<Et.style.length;rn++)it.style.setProperty(Et.style.item(rn),Et.style.getPropertyValue(Et.style.item(rn)));break}(Et=Et||Ie[We].elements[0].node).parentElement.insertBefore(it,Et)}}(_,k),k.rubyReserve=null),(k.ruby||k.rubyReserve)&&(function(Ie,Ge){for(var We=0;We<Ie.length;We++)for(var Fe=0;Fe<Ie[We].rbc.length;Fe++)Ie[We].rbc[Fe].style[J]||(Ie[We].rbc[Fe].style[J]=ie?0===We?"before":"after":"tb"===Ge.bpd||"rl"===Ge.bpd?0===We?"over":"under":0===We?"under":"over")}(_,k),k.ruby=null),k.textEmphasis&&(function(Ie,Ge){for(var We=0;We<Ie.length;We++)for(var Fe=0;Fe<Ie[We].te.length;Fe++)Ie[We].te[Fe].style[Z]&&"none"!==Ie[We].te[Fe].style[Z]||(Ie[We].te[Fe].style[Z]="tb"===Ge.bpd?0===We?"left over":"left under":"rl"===Ge.bpd?0===We?"right under":"left under":0===We?"left under":"right under")}(_,k),k.textEmphasis=null),k.mra&&(function(Ie){for(var Ge=0;Ge<Ie.length-1;Ge++){var We=Ie[Ge].elements.length;if(0!==We&&!1===Ie[Ge].br){var Fe=document.createElement("br"),et=Ie[Ge].elements[We-1].node;et.parentElement.insertBefore(Fe,et.nextSibling)}}}(_),k.mra=null),k.lp&&(function(Ie,Ge,We){if(null!==Ie)for(var Fe=0;Fe<Ie.length;Fe++){var et=Ie[Fe].elements.length,it=Math.ceil(Ge)+"px",Me="-"+Math.ceil(Ge)+"px";if(0!==et){var Ke=Ie[Fe].elements[Ie[Fe].start_elem],Xe=Ie[Fe].elements[Ie[Fe].end_elem];if(Ke===Xe&&(elementBoundingRect=Ke.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===We.ipd?(Ke.node.style.marginLeft=Me,Ke.node.style.paddingLeft=it):"rl"===We.ipd?(Ke.node.style.paddingRight=it,Ke.node.style.marginRight=Me):"tb"===We.ipd&&(Ke.node.style.paddingTop=it,Ke.node.style.marginTop=Me),"lr"===We.ipd?(Xe.node.style.marginRight=Me,Xe.node.style.paddingRight=it):"rl"===We.ipd?(Xe.node.style.paddingLeft=it,Xe.node.style.marginLeft=Me):"tb"===We.ipd&&(Xe.node.style.paddingBottom=it,Xe.node.style.marginBottom=Me)}}}(_,k.lp.toUsedLength(k.w,k.h),k),k.lp=null),function(Ie){for(var Ge=0;Ge<Ie.length;Ge++)for(var We=Ie[Ge],Fe=1;Fe<We.elements.length;)T(We.elements[Fe-1].node,We.elements[Fe].node)?We.elements.splice(Fe,1):Fe++;for(var Me,Ke,Xe=[],Et=0;Et<Ie.length;Et++)for(var xt=0;xt<Ie[Et].elements.length;xt++)(Ke=N(Me=Ie[Et].elements[xt].node,Xe,!1))&&(Me.style.backgroundColor=Ke);for(var rn=0;rn<Xe.length;rn++)Xe[rn].style.backgroundColor=""}(_),k.flg)){var R=S(Ve.getBoundingClientRect(),k);(function(Ie,Ge,We,Fe,et){for(var it=Math.sign(We-Ge),Me=0;Me<=Ie.length;Me++){var Ke,Xe,Et,xt;if(Ke=0===Me?Math.round(Ge):Me===Ie.length?Math.round(We):Math.round((Ie[Me-1].after+Ie[Me].before)/2),Me>0&&Ie[Me-1])for(Et=0;Et<Ie[Me-1].elements.length;Et++)Xe=it*(Ke-(xt=Ie[Me-1].elements[Et]).after)+"px","lr"===Fe.bpd?xt.node.style.paddingRight=Xe:"rl"===Fe.bpd?xt.node.style.paddingLeft=Xe:"tb"===Fe.bpd&&(xt.node.style.paddingBottom=Xe);if(Me<Ie.length)for(Et=0;Et<Ie[Me].elements.length;Et++)Xe=it*((xt=Ie[Me].elements[Et]).before-Ke)+"px","lr"===Fe.bpd?xt.node.style.paddingLeft=Xe:"rl"===Fe.bpd?xt.node.style.paddingRight=Xe:"tb"===Fe.bpd&&(xt.node.style.paddingTop=Xe)}})(_,R.before,R.after,k),k.flg=null}if("region"===de.kind&&"tb"===k.bpd&&k.enableRollUp&&de.contents.length>0&&"after"===de.styleAttrs[d.byName.displayAlign.qname]){x(k,Ve,_,null);var M=new g(""===de.id?"_":de.id,_);if(k.currentISDState[M.id]=M,k.previousISDState&&M.id in k.previousISDState&&k.previousISDState[M.id].plist.length>0&&M.plist.length>1&&M.plist[M.plist.length-2].text===k.previousISDState[M.id].plist[k.previousISDState[M.id].plist.length-1].text){var ue=ze.firstElementChild,ae=M.plist[M.plist.length-1].after-M.plist[M.plist.length-1].before;ue.style.bottom="-"+ae+"px",ue.style.transition="transform 0.4s",ue.style.position="relative",ue.style.transform="translateY(-"+ae+"px)"}}}else!function(Ie,Ge){if(Ie&&Ie.error&&Ie.error(Ge))throw Ge}(k.errorHandler,"Error processing ISD element kind: "+de.kind)}function N(k,K,de){return k.style.backgroundColor?(de&&!K.includes(k)&&K.push(k),k.style.backgroundColor):"SPAN"===k.parentElement.nodeName?N(k.parentElement,K,!0):void 0}function T(k,K){if("SPAN"===k.tagName&&"SPAN"===K.tagName&&k._isd_element===K._isd_element){k.textContent+=K.textContent;for(var de=0;de<K.style.length;de++){var ce=K.style[de];(ce.indexOf("border")>=0||ce.indexOf("padding")>=0||ce.indexOf("margin")>=0)&&(k.style[ce]=K.style[ce])}return K.parentElement.removeChild(K),!0}return!1}function g(k,K){this.id=k,this.plist=K}function S(k,K){var de={before:null,after:null,start:null,end:null};return"tb"===K.bpd?(de.before=k.top,de.after=k.bottom,"lr"===K.ipd?(de.start=k.left,de.end=k.right):(de.start=k.right,de.end=k.left)):"lr"===K.bpd?(de.before=k.left,de.after=k.right,de.start=k.top,de.end=k.bottom):"rl"===K.bpd&&(de.before=k.right,de.after=k.left,de.start=k.top,de.end=k.bottom),de}function x(k,K,de,ce){if("rt"!==K.localName&&"rtc"!==K.localName){var ze,st,pe,Mt,je=K.style.backgroundColor||ce;if(0===K.childElementCount)if("span"===K.localName||"rb"===K.localName){var Ye=S(K.getBoundingClientRect(),k);if(0!==de.length&&(ze=Ye.before,pe=de[de.length-1].before,(st=Ye.after)<(Mt=de[de.length-1].after)&&ze>pe||Mt<=st&&pe>=ze)){var Ne=Math.sign(Ye.after-Ye.before),Ve=Math.sign(Ye.end-Ye.start);Ne*(Ye.before-de[de.length-1].before)<0&&(de[de.length-1].before=Ye.before),Ne*(Ye.after-de[de.length-1].after)>0&&(de[de.length-1].after=Ye.after),Ve*(Ye.start-de[de.length-1].start)<0&&(de[de.length-1].start=Ye.start,de[de.length-1].start_elem=de[de.length-1].elements.length),Ve*(Ye.end-de[de.length-1].end)>0&&(de[de.length-1].end=Ye.end,de[de.length-1].end_elem=de[de.length-1].elements.length)}else de.push({before:Ye.before,after:Ye.after,start:Ye.start,end:Ye.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});de[de.length-1].text+=K.textContent,de[de.length-1].elements.push({node:K,bgcolor:je,before:Ye.before,after:Ye.after})}else"br"===K.localName&&0!==de.length&&(de[de.length-1].br=!0);else for(var rt=K.firstChild;rt;)rt.nodeType===Node.ELEMENT_NODE&&(x(k,rt,de,je),"ruby"===rt.localName||"rtc"===rt.localName?de.length>0&&de[de.length-1].rbc.push(rt):"span"===rt.localName&&rt.style[le]&&"none"!==rt.style[le]&&de.length>0&&de[de.length-1].te.push(rt)),rt=rt.nextSibling}}function h(k,K,de,ce){"none"!==ce.style&&(K.style[le]="auto"===ce.style?"filled":ce.style+" "+ce.symbol,("before"===ce.position||"after"===ce.position)&&(K.style[Z]="tb"===k.bpd?"before"===ce.position?"left over":"left under":"rl"===k.bpd?"before"===ce.position?"right under":"left under":"before"===ce.position?"left under":"right under"))}function v(k,K){this.qname=k,this.map=K}be.render=function(k,K,de,ce,ze,st,pe,Mt,je){var Ye=ce||K.clientHeight,Ne=ze||K.clientWidth;if(null!==k.aspectRatio){var Ve=Ye*k.aspectRatio;Ve>Ne?Ye=Math.round(Ne/k.aspectRatio):Ne=Ve}var rt=document.createElement("div");rt.style.position="relative",rt.style.width=Ne+"px",rt.style.height=Ye+"px",rt.style.margin="auto",rt.style.top=0,rt.style.bottom=0,rt.style.left=0,rt.style.right=0,rt.style.zIndex=0;var It={h:Ye,w:Ne,regionH:null,regionW:null,imgResolver:de,displayForcedOnlyMode:st||!1,isd:k,errorHandler:pe,previousISDState:Mt,enableRollUp:je||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(K.appendChild(rt),"contents"in k)for(var ft=0;ft<k.contents.length;ft++)f(It,rt,k.contents[ft],k);return It.currentISDState};for(var w=[new v("http://www.w3.org/ns/ttml#styling backgroundColor",function(k,K,de,ce){0!==ce[3]&&(K.style.backgroundColor="rgba("+ce[0].toString()+","+ce[1].toString()+","+ce[2].toString()+","+(ce[3]/255).toString()+")")}),new v("http://www.w3.org/ns/ttml#styling color",function(k,K,de,ce){K.style.color="rgba("+ce[0].toString()+","+ce[1].toString()+","+ce[2].toString()+","+(ce[3]/255).toString()+")"}),new v("http://www.w3.org/ns/ttml#styling direction",function(k,K,de,ce){K.style.direction=ce}),new v("http://www.w3.org/ns/ttml#styling display",function(k,K,de,ce){}),new v("http://www.w3.org/ns/ttml#styling displayAlign",function(k,K,de,ce){K.style.display="flex",K.style.flexDirection="column","before"===ce?K.style.justifyContent="flex-start":"center"===ce?K.style.justifyContent="center":"after"===ce&&(K.style.justifyContent="flex-end")}),new v("http://www.w3.org/ns/ttml#styling extent",function(k,K,de,ce){k.regionH=ce.h.toUsedLength(k.w,k.h),k.regionW=ce.w.toUsedLength(k.w,k.h);var ze=0,st=0,pe=de.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];pe&&(ze=pe[0].toUsedLength(k.w,k.h)+pe[2].toUsedLength(k.w,k.h),st=pe[1].toUsedLength(k.w,k.h)+pe[3].toUsedLength(k.w,k.h)),K.style.height=k.regionH-ze+"px",K.style.width=k.regionW-st+"px"}),new v("http://www.w3.org/ns/ttml#styling fontFamily",function(k,K,de,ce){for(var ze=[],st=0;st<ce.length;st++)"monospaceSerif"===ce[st]?(ze.push("Courier New"),ze.push('"Liberation Mono"'),ze.push("Courier"),ze.push("monospace")):"proportionalSansSerif"===ce[st]?(ze.push("Arial"),ze.push("Helvetica"),ze.push('"Liberation Sans"'),ze.push("sans-serif")):"monospace"===ce[st]?ze.push("monospace"):"sansSerif"===ce[st]?ze.push("sans-serif"):"serif"===ce[st]?ze.push("serif"):"monospaceSansSerif"===ce[st]?(ze.push("Consolas"),ze.push("monospace")):ze.push("proportionalSerif"===ce[st]?"serif":ce[st]);if(ze.length>0){for(var pe=[ze[0]],Mt=1;Mt<ze.length;Mt++)-1==pe.indexOf(ze[Mt])&&pe.push(ze[Mt]);ze=pe}K.style.fontFamily=ze.join(",")}),new v("http://www.w3.org/ns/ttml#styling shear",function(k,K,de,ce){if(0!==ce){var ze=-.9*ce;K.style.transform="tb"===k.bpd?"skewX("+ze+"deg)":"skewY("+ze+"deg)"}}),new v("http://www.w3.org/ns/ttml#styling fontSize",function(k,K,de,ce){K.style.fontSize=ce.toUsedLength(k.w,k.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling fontStyle",function(k,K,de,ce){K.style.fontStyle=ce}),new v("http://www.w3.org/ns/ttml#styling fontWeight",function(k,K,de,ce){K.style.fontWeight=ce}),new v("http://www.w3.org/ns/ttml#styling lineHeight",function(k,K,de,ce){K.style.lineHeight="normal"===ce?"normal":ce.toUsedLength(k.w,k.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling opacity",function(k,K,de,ce){K.style.opacity=ce}),new v("http://www.w3.org/ns/ttml#styling origin",function(k,K,de,ce){K.style.top=ce.h.toUsedLength(k.w,k.h)+"px",K.style.left=ce.w.toUsedLength(k.w,k.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling overflow",function(k,K,de,ce){K.style.overflow=ce}),new v("http://www.w3.org/ns/ttml#styling padding",function(k,K,de,ce){var ze=[];ze[0]=ce[0].toUsedLength(k.w,k.h)+"px",ze[1]=ce[3].toUsedLength(k.w,k.h)+"px",ze[2]=ce[2].toUsedLength(k.w,k.h)+"px",ze[3]=ce[1].toUsedLength(k.w,k.h)+"px",K.style.padding=ze.join(" ")}),new v("http://www.w3.org/ns/ttml#styling position",function(k,K,de,ce){K.style.top=ce.h.toUsedLength(k.w,k.h)+"px",K.style.left=ce.w.toUsedLength(k.w,k.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling rubyAlign",function(k,K,de,ce){K.style.rubyAlign="spaceAround"===ce?"space-around":"center"}),new v("http://www.w3.org/ns/ttml#styling rubyPosition",function(k,K,de,ce){"before"!==ce&&"after"!==ce||(K.parentElement.style[J]=ie?ce:"tb"===k.bpd||"rl"===k.bpd?"before"===ce?"over":"under":"before"===ce?"under":"over")}),new v("http://www.w3.org/ns/ttml#styling showBackground",null),new v("http://www.w3.org/ns/ttml#styling textAlign",function(k,K,de,ce){K.style.textAlign="start"===ce?"rl"===k.ipd?"right":"left":"end"===ce?"rl"===k.ipd?"left":"right":ce}),new v("http://www.w3.org/ns/ttml#styling textDecoration",function(k,K,de,ce){K.style.textDecoration=ce.join(" ").replace("lineThrough","line-through")}),new v("http://www.w3.org/ns/ttml#styling textOutline",function(k,K,de,ce){}),new v("http://www.w3.org/ns/ttml#styling textShadow",function(k,K,de,ce){var ze=de.styleAttrs[d.byName.textOutline.qname];if("none"===ce&&"none"===ze)K.style.textShadow="";else{var st=[];if("none"!==ze){var pe="rgba("+ze.color[0].toString()+","+ze.color[1].toString()+","+ze.color[2].toString()+","+(ze.color[3]/255).toString()+")";st.push("1px 1px 1px "+pe),st.push("-1px 1px 1px "+pe),st.push("1px -1px 1px "+pe),st.push("-1px -1px 1px "+pe)}if("none"!==ce)for(var Mt=0;Mt<ce.length;Mt++)st.push(ce[Mt].x_off.toUsedLength(k.w,k.h)+"px "+ce[Mt].y_off.toUsedLength(k.w,k.h)+"px "+ce[Mt].b_radius.toUsedLength(k.w,k.h)+"px rgba("+ce[Mt].color[0].toString()+","+ce[Mt].color[1].toString()+","+ce[Mt].color[2].toString()+","+(ce[Mt].color[3]/255).toString()+")");K.style.textShadow=st.join(",")}}),new v("http://www.w3.org/ns/ttml#styling textCombine",function(k,K,de,ce){K.style.textCombineUpright=ce}),new v("http://www.w3.org/ns/ttml#styling textEmphasis",function(k,K,de,ce){}),new v("http://www.w3.org/ns/ttml#styling unicodeBidi",function(k,K,de,ce){K.style.unicodeBidi="bidiOverride"===ce?"bidi-override":ce}),new v("http://www.w3.org/ns/ttml#styling visibility",function(k,K,de,ce){K.style.visibility=ce}),new v("http://www.w3.org/ns/ttml#styling wrapOption",function(k,K,de,ce){K.style.whiteSpace="wrap"===ce?"preserve"===de.space?"pre-wrap":"normal":"preserve"===de.space?"pre":"noWrap"}),new v("http://www.w3.org/ns/ttml#styling writingMode",function(k,K,de,ce){"lrtb"===ce||"lr"===ce||"rltb"===ce||"rl"===ce?K.style.writingMode="horizontal-tb":"tblr"===ce?K.style.writingMode="vertical-lr":"tbrl"!==ce&&"tb"!==ce||(K.style.writingMode="vertical-rl")}),new v("http://www.w3.org/ns/ttml#styling zIndex",function(k,K,de,ce){K.style.zIndex=ce}),new v("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(k,K,de,ce){k.displayForcedOnlyMode&&!1===ce&&(K.style.visibility="hidden")})],q={},W=0;W<w.length;W++)q[w[W].qname]=w[W];var ie="webkitRubyPosition"in window.getComputedStyle(document.documentElement),J=ie?"webkitRubyPosition":"rubyPosition",le="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",Z="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(He,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles,typeof imscUtils>"u"?L(5926):imscUtils)},4080:(St,He,L)=>{!function(be,P,d,f){be.generateISD=function(w,q,W){var ie,J=new x(w),le={},Z={},k=w.head.styling.initials[d.byName.showBackground.qname],K=w.head.styling.initials[d.byName.backgroundColor.qname];for(var de in w.head.layout.regions)if(w.head.layout.regions.hasOwnProperty(de)){var ce=w.head.layout.regions[de],ze=ce.styleAttrs[d.byName.showBackground.qname]||k;Z[ce.id]=("always"===ze||void 0===ze)&&void 0!==(ce.styleAttrs[d.byName.backgroundColor.qname]||K)&&!(q<ce.begin||q>=ce.end)}for(var pe in w.body&&w.body.regionID&&(Z[w.body.regionID]=!0),ie=null!==w.body?function je(Ye,Ne){if(Ne.contents){var Ve={};for(var rt in Ne)Ne.hasOwnProperty(rt)&&(Ve[rt]=Ne[rt]);return Ve.contents=[],Ne.contents.filter(function(It){return!(Ye<It.begin||Ye>=It.end)}).forEach(function(It){var ft=je(Ye,It);ft.regionID&&(Z[ft.regionID]=!0),null!==ft&&Ve.contents.push(ft)}),Ve}return Ne}(q,w.body):null,void 0!==Z[""]&&(Z[""]=!0),Z)if(Z[pe]){var Mt=T(w,q,w.head.layout.regions[pe],ie,null,"",w.head.layout.regions[pe],W,le);null!==Mt&&J.contents.push(Mt.element)}return J};var N=[d.byName.color.qname,d.byName.textCombine.qname,d.byName.textDecoration.qname,d.byName.textEmphasis.qname,d.byName.textOutline.qname,d.byName.textShadow.qname];function T(w,q,W,ie,J,le,Z,k,K){if(q<Z.begin||q>=Z.end)return null;var de="regionID"in Z&&""!==Z.regionID?Z.regionID:le;if(null!==J&&de!==W.id&&(!("contents"in Z)||"contents"in Z&&0===Z.contents.length||""!==de))return null;var ce=new h(Z);if("sets"in Z)for(var ze=0;ze<Z.sets.length;ze++)q<Z.sets[ze].begin||q>=Z.sets[ze].end||(ce.styleAttrs[Z.sets[ze].qname]=Z.sets[ze].value);var st={};for(var pe in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(pe)&&(st[pe]=!0,"region"===ce.kind&&pe===d.byName.writingMode.qname&&!(d.byName.direction.qname in ce.styleAttrs))){var Mt=ce.styleAttrs[pe];"lrtb"===Mt||"lr"===Mt?ce.styleAttrs[d.byName.direction.qname]="ltr":"rltb"!==Mt&&"rl"!==Mt||(ce.styleAttrs[d.byName.direction.qname]="rtl")}if(null!==J)for(var je=0;je<d.all.length;je++){var Ye=d.all[je];if(Ye.qname===d.byName.textDecoration.qname){var Ne=J.styleAttrs[Ye.qname],Ve=ce.styleAttrs[Ye.qname],rt=[];void 0===Ve?rt=Ne:-1===Ve.indexOf("none")?((-1===Ve.indexOf("noUnderline")&&-1!==Ne.indexOf("underline")||-1!==Ve.indexOf("underline"))&&rt.push("underline"),(-1===Ve.indexOf("noLineThrough")&&-1!==Ne.indexOf("lineThrough")||-1!==Ve.indexOf("lineThrough"))&&rt.push("lineThrough"),(-1===Ve.indexOf("noOverline")&&-1!==Ne.indexOf("overline")||-1!==Ve.indexOf("overline"))&&rt.push("overline")):rt.push("none"),ce.styleAttrs[Ye.qname]=rt}else if(Ye.qname!==d.byName.fontSize.qname||Ye.qname in ce.styleAttrs||"span"!==ce.kind||"textContainer"!==ce.styleAttrs[d.byName.ruby.qname])if(Ye.qname!==d.byName.fontSize.qname||Ye.qname in ce.styleAttrs||"span"!==ce.kind||"text"!==ce.styleAttrs[d.byName.ruby.qname])Ye.inherit&&Ye.qname in J.styleAttrs&&!(Ye.qname in ce.styleAttrs)&&(ce.styleAttrs[Ye.qname]=J.styleAttrs[Ye.qname]);else{var It=J.styleAttrs[d.byName.fontSize.qname];ce.styleAttrs[Ye.qname]="textContainer"===J.styleAttrs[d.byName.ruby.qname]?It:new f.ComputedLength(.5*It.rw,.5*It.rh)}else{var ft=J.styleAttrs[d.byName.fontSize.qname];ce.styleAttrs[Ye.qname]=new f.ComputedLength(.5*ft.rw,.5*ft.rh)}}for(var Pe=0;Pe<d.all.length;Pe++){var pt=d.all[Pe];if(!(pt.qname in ce.styleAttrs)&&!(pt.qname===d.byName.position.qname&&d.byName.origin.qname in ce.styleAttrs||pt.qname===d.byName.origin.qname&&d.byName.position.qname in ce.styleAttrs)){var Pt=w.head.styling.initials[pt.qname]||pt.initial;if(null!==Pt&&("region"===ce.kind||!1===pt.inherit&&null!==Pt)){var $e=pt.parse(Pt);null!==$e?(ce.styleAttrs[pt.qname]=$e,st[pt.qname]=!0):v(k,"Invalid initial value for '"+pt.qname+"' on element '"+ce.kind)}}}for(var ut=0;ut<d.all.length;ut++){var Se=d.all[ut];if(Se.qname in st&&null!==Se.compute){var ye=Se.compute(w,J,ce,ce.styleAttrs[Se.qname],K);null!==ye?ce.styleAttrs[Se.qname]=ye:(ce.styleAttrs[Se.qname]=Se.compute(w,J,ce,Se.parse(Se.initial),K),v(k,"Style '"+Se.qname+"' on element '"+ce.kind+"' cannot be computed"))}}if("none"===ce.styleAttrs[d.byName.display.qname])return null;var at=null;null===J?at=null===ie?[]:[ie]:"contents"in Z&&(at=Z.contents);for(var E=0;null!==at&&E<at.length;E++){var _=T(w,q,W,ie,ce,de,at[E],k,K);null!==_&&ce.contents.push(_.element)}for(var R in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(R)){var M=!1;if("span"===ce.kind){var ue=ce.styleAttrs[d.byName.ruby.qname];(M=("container"===ue||"textContainer"===ue||"baseContainer"===ue)&&-1!==N.indexOf(R))||(M="container"!==ue&&R===d.byName.rubyAlign.qname),M||(M=!("textContainer"===ue||"text"===ue)&&R===d.byName.rubyPosition.qname)}if(!M){var ae=d.byQName[R];"applies"in ae&&(M=-1===ae.applies.indexOf(ce.kind))}M&&delete ce.styleAttrs[R]}var Ie=ce.styleAttrs[d.byName.ruby.qname];if("p"===ce.kind||"span"===ce.kind&&("textContainer"===Ie||"text"===Ie)){var Ge=[];g(ce,Ge),function(We){for(var Fe,et=0;et<We.length;)if("br"!==(Fe=We[et]).kind&&"preserve"!==Fe.space){var it=Fe.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(it)&&(0===et||"br"===(Me=We[et-1]).kind||/[\r\n\t ]$/.test(Me.text))&&(it=it.substring(1)),Fe.text=it,0===it.length?We.splice(et,1):et++}else et++;var Me,Ke;for(et=0;et<We.length;et++)"br"!==(Fe=We[et]).kind&&"preserve"!==Fe.space?/[ ]$/.test(Fe.text)&&(et===We.length-1||"br"===(Ke=We[et+1]).kind||"preserve"===Ke.space&&/^[\r\n]/.test(Ke.text))&&(Fe.text=Fe.text.slice(0,-1)):et++}(Ge),S(ce)}return"div"===ce.kind&&d.byName.backgroundImage.qname in ce.styleAttrs||"br"===ce.kind||"image"===ce.kind||"contents"in ce&&ce.contents.length>0||"span"===ce.kind&&null!==ce.text||"region"===ce.kind&&"always"===ce.styleAttrs[d.byName.showBackground.qname]?{region_id:de,element:ce}:null}function g(w,q){if("contents"in w)for(var W=0;W<w.contents.length;W++){var ie=w.contents[W],J=ie.styleAttrs[d.byName.ruby.qname];("span"!==ie.kind||"textContainer"!==J&&"text"!==J)&&("contents"in ie?g(ie,q):("span"===ie.kind&&0!==ie.text.length||"br"===ie.kind)&&q.push(ie))}}function S(w){if("br"===w.kind)return!1;if("text"in w)return 0===w.text.length;if("contents"in w){for(var q=w.contents.length;q--;)S(w.contents[q])&&w.contents.splice(q,1);return 0===w.contents.length}}function x(w){this.contents=[],this.aspectRatio=w.aspectRatio,this.lang=w.lang}function h(w){for(var q in this.kind=w.kind||"region",this.lang=w.lang,w.id&&(this.id=w.id),this.styleAttrs={},w.styleAttrs)w.styleAttrs.hasOwnProperty(q)&&(this.styleAttrs[q]=w.styleAttrs[q]);"src"in w&&(this.src=w.src),"type"in w&&(this.type=w.type),"text"in w?this.text=w.text:("region"===this.kind||"contents"in w)&&(this.contents=[]),"space"in w&&(this.space=w.space)}function v(w,q){if(w&&w.error&&w.error(q))throw q}}(He,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles,typeof imscUtils>"u"?L(5926):imscUtils)},4403:(St,He,L)=>{He.generateISD=L(4080).generateISD,He.fromXML=L(3362).fromXML,He.renderHTML=L(506).render},210:(St,He)=>{var L;(L=He).ns_tt="http://www.w3.org/ns/ttml",L.ns_tts="http://www.w3.org/ns/ttml#styling",L.ns_ttp="http://www.w3.org/ns/ttml#parameter",L.ns_xml="http://www.w3.org/XML/1998/namespace",L.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",L.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",L.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",L.ns_ebutts="urn:ebu:tt:style"},6811:(St,He,L)=>{!function(be,P,d){function f(g,S,x,h,v,w,q,W){this.name=S,this.ns=g,this.qname=g+" "+S,this.inherit=v,this.animatable=w,this.initial=x,this.applies=h,this.parse=q,this.compute=W}for(var N in be.all=[new f(P.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,d.parseColor,null),new f(P.ns_tts,"color","white",["span"],!0,!0,d.parseColor,null),new f(P.ns_tts,"direction","ltr",["p","span"],!0,!0,function(g){return g},null),new f(P.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(g){return g},null),new f(P.ns_tts,"displayAlign","before",["region"],!1,!0,function(g){return g},null),new f(P.ns_tts,"extent","auto",["tt","region"],!1,!0,function(g){if("auto"===g)return g;var S=g.split(" ");if(2!==S.length)return null;var x=d.parseLength(S[0]),h=d.parseLength(S[1]);return h&&x?{h,w:x}:null},function(g,S,x,h,v){var w,q;if("auto"===h)w=new d.ComputedLength(0,1);else if(null===(w=d.toComputedLength(h.h.value,h.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===h)q=new d.ComputedLength(1,0);else if(null===(q=d.toComputedLength(h.w.value,h.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:w,w:q}}),new f(P.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(g){for(var S=g.split(","),x=[],h=0;h<S.length;h++)"'"!==S[h].charAt(0)&&'"'!==S[h].charAt(0)&&"default"===S[h]?x.push("monospaceSerif"):x.push(S[h]);return x},null),new f(P.ns_tts,"shear","0%",["p"],!0,!0,d.parseLength,function(g,S,x,h){return"%"!==h.unit?null:Math.abs(h.value)>100?100*Math.sign(h.value):h.value}),new f(P.ns_tts,"fontSize","1c",["span","p"],!0,!0,d.parseLength,function(g,S,x,h,v){return d.toComputedLength(h.value,h.unit,null!==S?S.styleAttrs[be.byName.fontSize.qname]:g.cellLength.h,null!==S?S.styleAttrs[be.byName.fontSize.qname]:g.cellLength.h,g.cellLength.h,g.pxLength.h)}),new f(P.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(g){return g},null),new f(P.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(g){return g},null),new f(P.ns_tts,"lineHeight","normal",["p"],!0,!0,function(g){return"normal"===g?g:d.parseLength(g)},function(g,S,x,h,v){var w;if("normal"===h)w=h;else if(null===(w=d.toComputedLength(h.value,h.unit,x.styleAttrs[be.byName.fontSize.qname],x.styleAttrs[be.byName.fontSize.qname],g.cellLength.h,g.pxLength.h)))return null;return w}),new f(P.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new f(P.ns_tts,"origin","auto",["region"],!1,!0,function(g){if("auto"===g)return g;var S=g.split(" ");if(2!==S.length)return null;var x=d.parseLength(S[0]),h=d.parseLength(S[1]);return h&&x?{h,w:x}:null},function(g,S,x,h,v){var w,q;if("auto"===h)w=new d.ComputedLength(0,0);else if(null===(w=d.toComputedLength(h.h.value,h.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===h)q=new d.ComputedLength(0,0);else if(null===(q=d.toComputedLength(h.w.value,h.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:w,w:q}}),new f(P.ns_tts,"overflow","hidden",["region"],!1,!0,function(g){return g},null),new f(P.ns_tts,"padding","0px",["region"],!1,!0,function(g){var S=g.split(" ");if(S.length>4)return null;for(var x=[],h=0;h<S.length;h++){var v=d.parseLength(S[h]);if(!v)return null;x.push(v)}return x},function(g,S,x,h,v){var w;if(1===h.length)w=[h[0],h[0],h[0],h[0]];else if(2===h.length)w=[h[0],h[1],h[0],h[1]];else if(3===h.length)w=[h[0],h[1],h[2],h[1]];else{if(4!==h.length)return null;w=[h[0],h[1],h[2],h[3]]}var q=x.styleAttrs[be.byName.writingMode.qname];if("lrtb"===q||"lr"===q)w=[w[0],w[3],w[2],w[1]];else if("rltb"===q||"rl"===q)w=[w[0],w[1],w[2],w[3]];else if("tblr"===q)w=[w[3],w[0],w[1],w[2]];else{if("tbrl"!==q&&"tb"!==q)return null;w=[w[3],w[2],w[1],w[0]]}for(var W=[],ie=0;ie<w.length;ie++)if(0===w[ie].value)W[ie]=new d.ComputedLength(0,0);else if(W[ie]=d.toComputedLength(w[ie].value,w[ie].unit,x.styleAttrs[be.byName.fontSize.qname],0===ie||2===ie?x.styleAttrs[be.byName.extent.qname].h:x.styleAttrs[be.byName.extent.qname].w,0===ie||2===ie?g.cellLength.h:g.cellLength.w,0===ie||2===ie?g.pxLength.h:g.pxLength.w),null===W[ie])return null;return W}),new f(P.ns_tts,"position","top left",["region"],!1,!0,function(g){return d.parsePosition(g)},function(g,S,x,h){var v,w;return null===(v=d.toComputedLength(h.v.offset.value,h.v.offset.unit,null,new d.ComputedLength(-x.styleAttrs[be.byName.extent.qname].h.rw,g.dimensions.h.rh-x.styleAttrs[be.byName.extent.qname].h.rh),null,g.pxLength.h))?null:("bottom"===h.v.edge&&(v=new d.ComputedLength(-v.rw-x.styleAttrs[be.byName.extent.qname].h.rw,g.dimensions.h.rh-v.rh-x.styleAttrs[be.byName.extent.qname].h.rh)),w=d.toComputedLength(h.h.offset.value,h.h.offset.unit,null,new d.ComputedLength(g.dimensions.w.rw-x.styleAttrs[be.byName.extent.qname].w.rw,-x.styleAttrs[be.byName.extent.qname].w.rh),null,g.pxLength.w),null===v?null:("right"===h.h.edge&&(w=new d.ComputedLength(g.dimensions.w.rw-w.rw-x.styleAttrs[be.byName.extent.qname].w.rw,-w.rh-x.styleAttrs[be.byName.extent.qname].w.rh)),{h:v,w}))}),new f(P.ns_tts,"ruby","none",["span"],!1,!0,function(g){return g},null),new f(P.ns_tts,"rubyAlign","center",["span"],!0,!0,function(g){return"center"!==g&&"spaceAround"!==g?null:g},null),new f(P.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(g){return g},null),new f(P.ns_tts,"rubyReserve","none",["p"],!0,!0,function(g){var S=g.split(" "),x=[null,null];if(0===S.length||S.length>2||"none"!==S[0]&&"both"!==S[0]&&"after"!==S[0]&&"before"!==S[0]&&"outside"!==S[0])return null;if(x[0]=S[0],2===S.length&&"none"!==S[0]){var h=d.parseLength(S[1]);if(!h)return null;x[1]=h}return x},function(g,S,x,h,v){return"none"===h[0]?h:null===(w=null===h[1]?new d.ComputedLength(.5*x.styleAttrs[be.byName.fontSize.qname].rw,.5*x.styleAttrs[be.byName.fontSize.qname].rh):d.toComputedLength(h[1].value,h[1].unit,x.styleAttrs[be.byName.fontSize.qname],x.styleAttrs[be.byName.fontSize.qname],g.cellLength.h,g.pxLength.h))?null:[h[0],w];var w}),new f(P.ns_tts,"showBackground","always",["region"],!1,!0,function(g){return g},null),new f(P.ns_tts,"textAlign","start",["p"],!0,!0,function(g){return g},function(g,S,x,h,v){return"left"===h?"start":"right"===h?"end":h}),new f(P.ns_tts,"textCombine","none",["span"],!0,!0,function(g){return"none"===g||"all"===g?g:null},null),new f(P.ns_tts,"textDecoration","none",["span"],!0,!0,function(g){return g.split(" ")},null),new f(P.ns_tts,"textEmphasis","none",["span"],!0,!0,function(g){for(var S=g.split(" "),x={style:null,symbol:null,color:null,position:null},h=0;h<S.length;h++)if("none"===S[h]||"auto"===S[h])x.style=S[h];else if("filled"===S[h]||"open"===S[h])x.style=S[h];else if("circle"===S[h]||"dot"===S[h]||"sesame"===S[h])x.symbol=S[h];else if("current"===S[h])x.color=S[h];else if("outside"===S[h]||"before"===S[h]||"after"===S[h])x.position=S[h];else if(x.color=d.parseColor(S[h]),null===x.color)return null;return null==x.style&&null==x.symbol?x.style="auto":(x.symbol=x.symbol||"circle",x.style=x.style||"filled"),x.position=x.position||"outside",x.color=x.color||"current",x},null),new f(P.ns_tts,"textOutline","none",["span"],!0,!0,function(g){if("none"===g)return g;var S={},x=g.split(" ");if(0===x.length||x.length>2)return null;var h=d.parseColor(x[0]);if(S.color=h,null!==h&&x.shift(),1!==x.length)return null;var v=d.parseLength(x[0]);return v?(S.thickness=v,S):null},function(g,S,x,h,v){if("none"===h)return h;var w={};return w.color=null===h.color?x.styleAttrs[be.byName.color.qname]:h.color,w.thickness=d.toComputedLength(h.thickness.value,h.thickness.unit,x.styleAttrs[be.byName.fontSize.qname],x.styleAttrs[be.byName.fontSize.qname],g.cellLength.h,g.pxLength.h),null===w.thickness?null:w}),new f(P.ns_tts,"textShadow","none",["span"],!0,!0,d.parseTextShadow,function(g,S,x,h){if("none"===h)return h;for(var v=[],w=0;w<h.length;w++){var q={};if(q.x_off=d.toComputedLength(h[w][0].value,h[w][0].unit,null,x.styleAttrs[be.byName.fontSize.qname],null,g.pxLength.w),null===q.x_off||(q.y_off=d.toComputedLength(h[w][1].value,h[w][1].unit,null,x.styleAttrs[be.byName.fontSize.qname],null,g.pxLength.h),null===q.y_off))return null;if(null===h[w][2])q.b_radius=0;else if(q.b_radius=d.toComputedLength(h[w][2].value,h[w][2].unit,null,x.styleAttrs[be.byName.fontSize.qname],null,g.pxLength.h),null===q.b_radius)return null;q.color=null===h[w][3]?x.styleAttrs[be.byName.color.qname]:h[w][3],v.push(q)}return v}),new f(P.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(g){return g},null),new f(P.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(g){return g},null),new f(P.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(g){return g},null),new f(P.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(g){return g},null),new f(P.ns_tts,"zIndex","auto",["region"],!1,!0,function(g){var S;return"auto"===g?S=g:(S=parseInt(g),isNaN(S)&&(S=null)),S},null),new f(P.ns_ebutts,"linePadding","0c",["p"],!0,!1,d.parseLength,function(g,S,x,h,v){return d.toComputedLength(h.value,h.unit,null,null,g.cellLength.w,null)}),new f(P.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(g){return g},null),new f(P.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(g){return g},null),new f(P.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(g){return"true"===g},null),new f(P.ns_itts,"fillLineGap","false",["p"],!0,!0,function(g){return"true"===g},null)],be.byQName={},be.all)be.byQName[be.all[N].qname]=be.all[N];for(var T in be.byName={},be.all)be.byName[be.all[T].name]=be.all[T]}(He,typeof imscNames>"u"?L(210):imscNames,typeof imscUtils>"u"?L(5926):imscUtils)},5926:(St,He)=>{!function(L){var be=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,P=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,d=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,f={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};L.parseColor=function(T){var g,S=null,x=f[T.toLowerCase()];return void 0!==x?S=x:null!==(g=be.exec(T))?S=[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16),void 0!==g[4]?parseInt(g[4],16):255]:null!==(g=P.exec(T))?S=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),255]:null!==(g=d.exec(T))&&(S=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),parseInt(g[4])]),S};var N=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;L.parseLength=function(T){var g,S=null;return null!==(g=N.exec(T))&&(S={value:parseFloat(g[1]),unit:g[2]}),S},L.parseTextShadow=function(T){for(var g=T.match(/([^\(,\)]|\([^\)]+\))+/g),S=[],x=0;x<g.length;x++){var h=g[x].split(" ");if(1===h.length&&"none"===h[0])return"none";if(h.length>1&&h.length<5){var v=[null,null,null,null],w=L.parseLength(h.shift());if(null===w||(v[0]=w,null===(w=L.parseLength(h.shift()))))return null;if(v[1]=w,0===h.length){S.push(v);continue}if(null!==(w=L.parseLength(h[0]))&&(v[2]=w,h.shift()),0===h.length){S.push(v);continue}var q=L.parseColor(h[0]);if(null===q)return null;v[3]=q,S.push(v)}}return S},L.parsePosition=function(T){var g=T.split(" "),S=function(ie){return"center"===ie||"left"===ie||"top"===ie||"bottom"===ie||"right"===ie};if(g.length>4)return null;for(var x=0;x<g.length;x++)if(!S(g[x])){var h=L.parseLength(g[x]);if(null===h)return null;g[x]=h}for(var v={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},w=0;w<g.length;){var q=g[w++];if(S(q)){var W={value:0,unit:"%"};2!==g.length&&w<g.length&&!S(g[w])&&(W=g[w++]),"right"===q?(v.h.edge=q,v.h.offset=W):"bottom"===q?(v.v.edge=q,v.v.offset=W):"left"===q?v.h.offset=W:"top"===q&&(v.v.offset=W)}else{if(1!==g.length&&2!==g.length)return null;1===w?v.h.offset=q:v.v.offset=q}}return v},L.ComputedLength=function(T,g){this.rw=T,this.rh=g},L.ComputedLength.prototype.toUsedLength=function(T,g){return T*this.rw+g*this.rh},L.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},L.toComputedLength=function(T,g,S,x,h,v){return"%"===g&&x?new L.ComputedLength(x.rw*T/100,x.rh*T/100):"em"===g&&S?new L.ComputedLength(S.rw*T,S.rh*T):"c"===g&&h?new L.ComputedLength(T*h.rw,T*h.rh):"px"===g&&v?new L.ComputedLength(T*v.rw,T*v.rh):"rh"===g?new L.ComputedLength(0,T/100):"rw"===g?new L.ComputedLength(T/100,0):null}}(He)},3516:St=>{"use strict";St.exports=function(He){var L="string"==typeof He?He.charCodeAt(0):He;return L>=97&&L<=122||L>=65&&L<=90}},2219:(St,He,L)=>{"use strict";var be=L(3516),P=L(395);St.exports=function(d){return be(d)||P(d)}},395:St=>{"use strict";St.exports=function(He){var L="string"==typeof He?He.charCodeAt(0):He;return L>=48&&L<=57}},3875:St=>{"use strict";function He(P){if("string"!=typeof P)throw new TypeError("Path must be a string. Received "+JSON.stringify(P))}function L(P,d){for(var f,N="",T=0,g=-1,S=0,x=0;x<=P.length;++x){if(x<P.length)f=P.charCodeAt(x);else{if(47===f)break;f=47}if(47===f){if(g!==x-1&&1!==S)if(g!==x-1&&2===S){if(N.length<2||2!==T||46!==N.charCodeAt(N.length-1)||46!==N.charCodeAt(N.length-2))if(N.length>2){var h=N.lastIndexOf("/");if(h!==N.length-1){-1===h?(N="",T=0):T=(N=N.slice(0,h)).length-1-N.lastIndexOf("/"),g=x,S=0;continue}}else if(2===N.length||1===N.length){N="",T=0,g=x,S=0;continue}d&&(N.length>0?N+="/..":N="..",T=2)}else N.length>0?N+="/"+P.slice(g+1,x):N=P.slice(g+1,x),T=x-g-1;g=x,S=0}else 46===f&&-1!==S?++S:S=-1}return N}var be={resolve:function(){for(var P,d="",f=!1,N=arguments.length-1;N>=-1&&!f;N--){var T;N>=0?T=arguments[N]:(void 0===P&&(P=process.cwd()),T=P),He(T),0!==T.length&&(d=T+"/"+d,f=47===T.charCodeAt(0))}return d=L(d,!f),f?d.length>0?"/"+d:"/":d.length>0?d:"."},normalize:function(P){if(He(P),0===P.length)return".";var d=47===P.charCodeAt(0),f=47===P.charCodeAt(P.length-1);return 0!==(P=L(P,!d)).length||d||(P="."),P.length>0&&f&&(P+="/"),d?"/"+P:P},isAbsolute:function(P){return He(P),P.length>0&&47===P.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var P,d=0;d<arguments.length;++d){var f=arguments[d];He(f),f.length>0&&(void 0===P?P=f:P+="/"+f)}return void 0===P?".":be.normalize(P)},relative:function(P,d){if(He(P),He(d),P===d||(P=be.resolve(P))===(d=be.resolve(d)))return"";for(var f=1;f<P.length&&47===P.charCodeAt(f);++f);for(var N=P.length,T=N-f,g=1;g<d.length&&47===d.charCodeAt(g);++g);for(var S=d.length-g,x=T<S?T:S,h=-1,v=0;v<=x;++v){if(v===x){if(S>x){if(47===d.charCodeAt(g+v))return d.slice(g+v+1);if(0===v)return d.slice(g+v)}else T>x&&(47===P.charCodeAt(f+v)?h=v:0===v&&(h=0));break}var w=P.charCodeAt(f+v);if(w!==d.charCodeAt(g+v))break;47===w&&(h=v)}var q="";for(v=f+h+1;v<=N;++v)v!==N&&47!==P.charCodeAt(v)||(q+=0===q.length?"..":"/..");return q.length>0?q+d.slice(g+h):(47===d.charCodeAt(g+=h)&&++g,d.slice(g))},_makeLong:function(P){return P},dirname:function(P){if(He(P),0===P.length)return".";for(var d=P.charCodeAt(0),f=47===d,N=-1,T=!0,g=P.length-1;g>=1;--g)if(47===(d=P.charCodeAt(g))){if(!T){N=g;break}}else T=!1;return-1===N?f?"/":".":f&&1===N?"//":P.slice(0,N)},basename:function(P,d){if(void 0!==d&&"string"!=typeof d)throw new TypeError('"ext" argument must be a string');He(P);var f,N=0,T=-1,g=!0;if(void 0!==d&&d.length>0&&d.length<=P.length){if(d.length===P.length&&d===P)return"";var S=d.length-1,x=-1;for(f=P.length-1;f>=0;--f){var h=P.charCodeAt(f);if(47===h){if(!g){N=f+1;break}}else-1===x&&(g=!1,x=f+1),S>=0&&(h===d.charCodeAt(S)?-1==--S&&(T=f):(S=-1,T=x))}return N===T?T=x:-1===T&&(T=P.length),P.slice(N,T)}for(f=P.length-1;f>=0;--f)if(47===P.charCodeAt(f)){if(!g){N=f+1;break}}else-1===T&&(g=!1,T=f+1);return-1===T?"":P.slice(N,T)},extname:function(P){He(P);for(var d=-1,f=0,N=-1,T=!0,g=0,S=P.length-1;S>=0;--S){var x=P.charCodeAt(S);if(47!==x)-1===N&&(T=!1,N=S+1),46===x?-1===d?d=S:1!==g&&(g=1):-1!==d&&(g=-1);else if(!T){f=S+1;break}}return-1===d||-1===N||0===g||1===g&&d===N-1&&d===f+1?"":P.slice(d,N)},format:function(P){if(null===P||"object"!=typeof P)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof P);return T=(f=P).base||(f.name||"")+(f.ext||""),(N=f.dir||f.root)?N===f.root?N+T:N+"/"+T:T;var f,N,T},parse:function(P){He(P);var d={root:"",dir:"",base:"",ext:"",name:""};if(0===P.length)return d;var f,N=P.charCodeAt(0),T=47===N;T?(d.root="/",f=1):f=0;for(var g=-1,S=0,x=-1,h=!0,v=P.length-1,w=0;v>=f;--v)if(47!==(N=P.charCodeAt(v)))-1===x&&(h=!1,x=v+1),46===N?-1===g?g=v:1!==w&&(w=1):-1!==g&&(w=-1);else if(!h){S=v+1;break}return-1===g||-1===x||0===w||1===w&&g===x-1&&g===S+1?-1!==x&&(d.base=d.name=P.slice(0===S&&T?1:S,x)):(0===S&&T?(d.name=P.slice(1,g),d.base=P.slice(1,x)):(d.name=P.slice(S,g),d.base=P.slice(S,x)),d.ext=P.slice(g,x)),S>0?d.dir=P.slice(0,S-1):T&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null};be.posix=be,St.exports=be},8387:(St,He,L)=>{var be=L(1549),P=be.Buffer;function d(N,T){for(var g in N)T[g]=N[g]}function f(N,T,g){return P(N,T,g)}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?St.exports=be:(d(be,He),He.Buffer=f),d(P,f),f.from=function(N,T,g){if("number"==typeof N)throw new TypeError("Argument must not be a number");return P(N,T,g)},f.alloc=function(N,T,g){if("number"!=typeof N)throw new TypeError("Argument must be a number");var S=P(N);return void 0!==T?"string"==typeof g?S.fill(T,g):S.fill(T):S.fill(0),S},f.allocUnsafe=function(N){if("number"!=typeof N)throw new TypeError("Argument must be a number");return P(N)},f.allocUnsafeSlow=function(N){if("number"!=typeof N)throw new TypeError("Argument must be a number");return be.SlowBuffer(N)}},5378:(St,He,L)=>{!function(be){be.parser=function(E,_){return new f(E,_)},be.SAXParser=f,be.SAXStream=T,be.createStream=function(E,_){return new T(E,_)},be.MAX_BUFFER_LENGTH=65536;var P,d=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function f(E,_){if(!(this instanceof f))return new f(E,_);var R=this;(function(M){for(var ue=0,ae=d.length;ue<ae;ue++)M[d[ue]]=""})(R),R.q=R.c="",R.bufferCheckPosition=be.MAX_BUFFER_LENGTH,R.opt=_||{},R.opt.lowercase=R.opt.lowercase||R.opt.lowercasetags,R.looseCase=R.opt.lowercase?"toLowerCase":"toUpperCase",R.tags=[],R.closed=R.closedRoot=R.sawRoot=!1,R.tag=R.error=null,R.strict=!!E,R.noscript=!(!E&&!R.opt.noscript),R.state=pe.BEGIN,R.strictEntities=R.opt.strictEntities,R.ENTITIES=Object.create(R.strictEntities?be.XML_ENTITIES:be.ENTITIES),R.attribList=[],R.opt.xmlns&&(R.ns=Object.create(W)),R.trackPosition=!1!==R.opt.position,R.trackPosition&&(R.position=R.line=R.column=0),je(R,"onready")}be.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(E){function _(){}return _.prototype=E,new _}),Object.keys||(Object.keys=function(E){var _=[];for(var R in E)E.hasOwnProperty(R)&&_.push(R);return _}),f.prototype={end:function(){It(this)},write:function(E){var _=this;if(this.error)throw this.error;if(_.closed)return rt(_,"Cannot write after close. Assign an onready handler.");if(null===E)return It(_);"object"==typeof E&&(E=E.toString());for(var R=0,M="";M=at(E,R++),_.c=M,M;)switch(_.trackPosition&&(_.position++,"\n"===M?(_.line++,_.column=0):_.column++),_.state){case pe.BEGIN:if(_.state=pe.BEGIN_WHITESPACE,"\ufeff"===M)continue;ye(_,M);continue;case pe.BEGIN_WHITESPACE:ye(_,M);continue;case pe.TEXT:if(_.sawRoot&&!_.closedRoot){for(var ue=R-1;M&&"<"!==M&&"&"!==M;)(M=at(E,R++))&&_.trackPosition&&(_.position++,"\n"===M?(_.line++,_.column=0):_.column++);_.textNode+=E.substring(ue,R-1)}"<"!==M||_.sawRoot&&_.closedRoot&&!_.strict?(!de(g,M)||_.sawRoot&&!_.closedRoot||ft(_,"Text data outside of root node."),"&"===M?_.state=pe.TEXT_ENTITY:_.textNode+=M):(_.state=pe.OPEN_WAKA,_.startTagPosition=_.position);continue;case pe.SCRIPT:"<"===M?_.state=pe.SCRIPT_ENDING:_.script+=M;continue;case pe.SCRIPT_ENDING:"/"===M?_.state=pe.CLOSE_TAG:(_.script+="<"+M,_.state=pe.SCRIPT);continue;case pe.OPEN_WAKA:"!"===M?(_.state=pe.SGML_DECL,_.sgmlDecl=""):K(g,M)||(K(ie,M)?(_.state=pe.OPEN_TAG,_.tagName=M):"/"===M?(_.state=pe.CLOSE_TAG,_.tagName=""):"?"===M?(_.state=pe.PROC_INST,_.procInstName=_.procInstBody=""):(ft(_,"Unencoded <"),_.startTagPosition+1<_.position&&(M=new Array(_.position-_.startTagPosition).join(" ")+M),_.textNode+="<"+M,_.state=pe.TEXT));continue;case pe.SGML_DECL:"[CDATA["===(_.sgmlDecl+M).toUpperCase()?(Ye(_,"onopencdata"),_.state=pe.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+M==="--"?(_.state=pe.COMMENT,_.comment="",_.sgmlDecl=""):"DOCTYPE"===(_.sgmlDecl+M).toUpperCase()?(_.state=pe.DOCTYPE,(_.doctype||_.sawRoot)&&ft(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):">"===M?(Ye(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=pe.TEXT):(K(h,M)&&(_.state=pe.SGML_DECL_QUOTED),_.sgmlDecl+=M);continue;case pe.SGML_DECL_QUOTED:M===_.q&&(_.state=pe.SGML_DECL,_.q=""),_.sgmlDecl+=M;continue;case pe.DOCTYPE:">"===M?(_.state=pe.TEXT,Ye(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=M,"["===M?_.state=pe.DOCTYPE_DTD:K(h,M)&&(_.state=pe.DOCTYPE_QUOTED,_.q=M));continue;case pe.DOCTYPE_QUOTED:_.doctype+=M,M===_.q&&(_.q="",_.state=pe.DOCTYPE);continue;case pe.DOCTYPE_DTD:_.doctype+=M,"]"===M?_.state=pe.DOCTYPE:K(h,M)&&(_.state=pe.DOCTYPE_DTD_QUOTED,_.q=M);continue;case pe.DOCTYPE_DTD_QUOTED:_.doctype+=M,M===_.q&&(_.state=pe.DOCTYPE_DTD,_.q="");continue;case pe.COMMENT:"-"===M?_.state=pe.COMMENT_ENDING:_.comment+=M;continue;case pe.COMMENT_ENDING:"-"===M?(_.state=pe.COMMENT_ENDED,_.comment=Ve(_.opt,_.comment),_.comment&&Ye(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+M,_.state=pe.COMMENT);continue;case pe.COMMENT_ENDED:">"!==M?(ft(_,"Malformed comment"),_.comment+="--"+M,_.state=pe.COMMENT):_.state=pe.TEXT;continue;case pe.CDATA:"]"===M?_.state=pe.CDATA_ENDING:_.cdata+=M;continue;case pe.CDATA_ENDING:"]"===M?_.state=pe.CDATA_ENDING_2:(_.cdata+="]"+M,_.state=pe.CDATA);continue;case pe.CDATA_ENDING_2:">"===M?(_.cdata&&Ye(_,"oncdata",_.cdata),Ye(_,"onclosecdata"),_.cdata="",_.state=pe.TEXT):"]"===M?_.cdata+="]":(_.cdata+="]]"+M,_.state=pe.CDATA);continue;case pe.PROC_INST:"?"===M?_.state=pe.PROC_INST_ENDING:K(g,M)?_.state=pe.PROC_INST_BODY:_.procInstName+=M;continue;case pe.PROC_INST_BODY:if(!_.procInstBody&&K(g,M))continue;"?"===M?_.state=pe.PROC_INST_ENDING:_.procInstBody+=M;continue;case pe.PROC_INST_ENDING:">"===M?(Ye(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=pe.TEXT):(_.procInstBody+="?"+M,_.state=pe.PROC_INST_BODY);continue;case pe.OPEN_TAG:K(J,M)?_.tagName+=M:(Pe(_),">"===M?$e(_):"/"===M?_.state=pe.OPEN_TAG_SLASH:(de(g,M)&&ft(_,"Invalid character in tag name"),_.state=pe.ATTRIB));continue;case pe.OPEN_TAG_SLASH:">"===M?($e(_,!0),ut(_)):(ft(_,"Forward-slash in opening tag not followed by >"),_.state=pe.ATTRIB);continue;case pe.ATTRIB:if(K(g,M))continue;">"===M?$e(_):"/"===M?_.state=pe.OPEN_TAG_SLASH:K(ie,M)?(_.attribName=M,_.attribValue="",_.state=pe.ATTRIB_NAME):ft(_,"Invalid attribute name");continue;case pe.ATTRIB_NAME:"="===M?_.state=pe.ATTRIB_VALUE:">"===M?(ft(_,"Attribute without value"),_.attribValue=_.attribName,Pt(_),$e(_)):K(g,M)?_.state=pe.ATTRIB_NAME_SAW_WHITE:K(J,M)?_.attribName+=M:ft(_,"Invalid attribute name");continue;case pe.ATTRIB_NAME_SAW_WHITE:if("="===M)_.state=pe.ATTRIB_VALUE;else{if(K(g,M))continue;ft(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",Ye(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",">"===M?$e(_):K(ie,M)?(_.attribName=M,_.state=pe.ATTRIB_NAME):(ft(_,"Invalid attribute name"),_.state=pe.ATTRIB)}continue;case pe.ATTRIB_VALUE:if(K(g,M))continue;K(h,M)?(_.q=M,_.state=pe.ATTRIB_VALUE_QUOTED):(ft(_,"Unquoted attribute value"),_.state=pe.ATTRIB_VALUE_UNQUOTED,_.attribValue=M);continue;case pe.ATTRIB_VALUE_QUOTED:if(M!==_.q){"&"===M?_.state=pe.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=M;continue}Pt(_),_.q="",_.state=pe.ATTRIB_VALUE_CLOSED;continue;case pe.ATTRIB_VALUE_CLOSED:K(g,M)?_.state=pe.ATTRIB:">"===M?$e(_):"/"===M?_.state=pe.OPEN_TAG_SLASH:K(ie,M)?(ft(_,"No whitespace between attributes"),_.attribName=M,_.attribValue="",_.state=pe.ATTRIB_NAME):ft(_,"Invalid attribute name");continue;case pe.ATTRIB_VALUE_UNQUOTED:if(de(v,M)){"&"===M?_.state=pe.ATTRIB_VALUE_ENTITY_U:_.attribValue+=M;continue}Pt(_),">"===M?$e(_):_.state=pe.ATTRIB;continue;case pe.CLOSE_TAG:if(_.tagName)">"===M?ut(_):K(J,M)?_.tagName+=M:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=pe.SCRIPT):(de(g,M)&&ft(_,"Invalid tagname in closing tag"),_.state=pe.CLOSE_TAG_SAW_WHITE);else{if(K(g,M))continue;de(ie,M)?_.script?(_.script+="</"+M,_.state=pe.SCRIPT):ft(_,"Invalid tagname in closing tag."):_.tagName=M}continue;case pe.CLOSE_TAG_SAW_WHITE:if(K(g,M))continue;">"===M?ut(_):ft(_,"Invalid characters in closing tag");continue;case pe.TEXT_ENTITY:case pe.ATTRIB_VALUE_ENTITY_Q:case pe.ATTRIB_VALUE_ENTITY_U:var Ie,Ge;switch(_.state){case pe.TEXT_ENTITY:Ie=pe.TEXT,Ge="textNode";break;case pe.ATTRIB_VALUE_ENTITY_Q:Ie=pe.ATTRIB_VALUE_QUOTED,Ge="attribValue";break;case pe.ATTRIB_VALUE_ENTITY_U:Ie=pe.ATTRIB_VALUE_UNQUOTED,Ge="attribValue"}";"===M?(_[Ge]+=Se(_),_.entity="",_.state=Ie):K(_.entity.length?Z:le,M)?_.entity+=M:(ft(_,"Invalid character in entity name"),_[Ge]+="&"+_.entity+M,_.entity="",_.state=Ie);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&function(We){for(var Fe=Math.max(be.MAX_BUFFER_LENGTH,10),et=0,it=0,Me=d.length;it<Me;it++){var Ke=We[d[it]].length;if(Ke>Fe)switch(d[it]){case"textNode":Ne(We);break;case"cdata":Ye(We,"oncdata",We.cdata),We.cdata="";break;case"script":Ye(We,"onscript",We.script),We.script="";break;default:rt(We,"Max buffer length exceeded: "+d[it])}et=Math.max(et,Ke)}We.bufferCheckPosition=be.MAX_BUFFER_LENGTH-et+We.position}(_),_},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var E;Ne(E=this),""!==E.cdata&&(Ye(E,"oncdata",E.cdata),E.cdata=""),""!==E.script&&(Ye(E,"onscript",E.script),E.script="")}};try{P=L(182).Stream}catch{P=function(){}}var N=be.EVENTS.filter(function(E){return"error"!==E&&"end"!==E});function T(E,_){if(!(this instanceof T))return new T(E,_);P.apply(this),this._parser=new f(E,_),this.writable=!0,this.readable=!0;var R=this;this._parser.onend=function(){R.emit("end")},this._parser.onerror=function(M){R.emit("error",M),R._parser.error=null},this._decoder=null,N.forEach(function(M){Object.defineProperty(R,"on"+M,{get:function(){return R._parser["on"+M]},set:function(ue){if(!ue)return R.removeAllListeners(M),R._parser["on"+M]=ue,ue;R.on(M,ue)},enumerable:!0,configurable:!1})})}(T.prototype=Object.create(P.prototype,{constructor:{value:T}})).write=function(E){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(E)){if(!this._decoder){var _=L(7503).s;this._decoder=new _("utf8")}E=this._decoder.write(E)}return this._parser.write(E.toString()),this.emit("data",E),!0},T.prototype.end=function(E){return E&&E.length&&this.write(E),this._parser.end(),!0},T.prototype.on=function(E,_){var R=this;return R._parser["on"+E]||-1===N.indexOf(E)||(R._parser["on"+E]=function(){var M=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);M.splice(0,0,E),R.emit.apply(R,M)}),P.prototype.on.call(R,E,_)};var g="\r\n\t ",S="0124356789",x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",h="'\"",v=g+">",w="http://www.w3.org/XML/1998/namespace",q="http://www.w3.org/2000/xmlns/",W={xml:w,xmlns:q};g=k(g),S=k(S),x=k(x);var ie=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,J=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,le=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function k(E){return E.split("").reduce(function(_,R){return _[R]=!0,_},{})}function K(E,_){return"[object RegExp]"===Object.prototype.toString.call(E)?!!_.match(E):E[_]}function de(E,_){return!K(E,_)}h=k(h),v=k(v);var ce,ze,st,pe=0;for(var Mt in be.STATE={BEGIN:pe++,BEGIN_WHITESPACE:pe++,TEXT:pe++,TEXT_ENTITY:pe++,OPEN_WAKA:pe++,SGML_DECL:pe++,SGML_DECL_QUOTED:pe++,DOCTYPE:pe++,DOCTYPE_QUOTED:pe++,DOCTYPE_DTD:pe++,DOCTYPE_DTD_QUOTED:pe++,COMMENT_STARTING:pe++,COMMENT:pe++,COMMENT_ENDING:pe++,COMMENT_ENDED:pe++,CDATA:pe++,CDATA_ENDING:pe++,CDATA_ENDING_2:pe++,PROC_INST:pe++,PROC_INST_BODY:pe++,PROC_INST_ENDING:pe++,OPEN_TAG:pe++,OPEN_TAG_SLASH:pe++,ATTRIB:pe++,ATTRIB_NAME:pe++,ATTRIB_NAME_SAW_WHITE:pe++,ATTRIB_VALUE:pe++,ATTRIB_VALUE_QUOTED:pe++,ATTRIB_VALUE_CLOSED:pe++,ATTRIB_VALUE_UNQUOTED:pe++,ATTRIB_VALUE_ENTITY_Q:pe++,ATTRIB_VALUE_ENTITY_U:pe++,CLOSE_TAG:pe++,CLOSE_TAG_SAW_WHITE:pe++,SCRIPT:pe++,SCRIPT_ENDING:pe++},be.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},be.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(be.ENTITIES).forEach(function(E){var _=be.ENTITIES[E],R="number"==typeof _?String.fromCharCode(_):_;be.ENTITIES[E]=R}),be.STATE)be.STATE[be.STATE[Mt]]=Mt;function je(E,_,R){E[_]&&E[_](R)}function Ye(E,_,R){E.textNode&&Ne(E),je(E,_,R)}function Ne(E){E.textNode=Ve(E.opt,E.textNode),E.textNode&&je(E,"ontext",E.textNode),E.textNode=""}function Ve(E,_){return E.trim&&(_=_.trim()),E.normalize&&(_=_.replace(/\s+/g," ")),_}function rt(E,_){return Ne(E),E.trackPosition&&(_+="\nLine: "+E.line+"\nColumn: "+E.column+"\nChar: "+E.c),_=new Error(_),E.error=_,je(E,"onerror",_),E}function It(E){return E.sawRoot&&!E.closedRoot&&ft(E,"Unclosed root tag"),E.state!==pe.BEGIN&&E.state!==pe.BEGIN_WHITESPACE&&E.state!==pe.TEXT&&rt(E,"Unexpected end"),Ne(E),E.c="",E.closed=!0,je(E,"onend"),f.call(E,E.strict,E.opt),E}function ft(E,_){if("object"!=typeof E||!(E instanceof f))throw new Error("bad call to strictFail");E.strict&&rt(E,_)}function Pe(E){E.strict||(E.tagName=E.tagName[E.looseCase]());var _=E.tags[E.tags.length-1]||E,R=E.tag={name:E.tagName,attributes:{}};E.opt.xmlns&&(R.ns=_.ns),E.attribList.length=0,Ye(E,"onopentagstart",R)}function pt(E,_){var R=E.indexOf(":")<0?["",E]:E.split(":"),M=R[0],ue=R[1];return _&&"xmlns"===E&&(M="xmlns",ue=""),{prefix:M,local:ue}}function Pt(E){if(E.strict||(E.attribName=E.attribName[E.looseCase]()),-1!==E.attribList.indexOf(E.attribName)||E.tag.attributes.hasOwnProperty(E.attribName))E.attribName=E.attribValue="";else{if(E.opt.xmlns){var _=pt(E.attribName,!0),M=_.local;if("xmlns"===_.prefix)if("xml"===M&&E.attribValue!==w)ft(E,"xml: prefix must be bound to "+w+"\nActual: "+E.attribValue);else if("xmlns"===M&&E.attribValue!==q)ft(E,"xmlns: prefix must be bound to "+q+"\nActual: "+E.attribValue);else{var ue=E.tag,ae=E.tags[E.tags.length-1]||E;ue.ns===ae.ns&&(ue.ns=Object.create(ae.ns)),ue.ns[M]=E.attribValue}E.attribList.push([E.attribName,E.attribValue])}else E.tag.attributes[E.attribName]=E.attribValue,Ye(E,"onattribute",{name:E.attribName,value:E.attribValue});E.attribName=E.attribValue=""}}function $e(E,_){if(E.opt.xmlns){var R=E.tag,M=pt(E.tagName);R.prefix=M.prefix,R.local=M.local,R.uri=R.ns[M.prefix]||"",R.prefix&&!R.uri&&(ft(E,"Unbound namespace prefix: "+JSON.stringify(E.tagName)),R.uri=M.prefix),R.ns&&(E.tags[E.tags.length-1]||E).ns!==R.ns&&Object.keys(R.ns).forEach(function(Et){Ye(E,"onopennamespace",{prefix:Et,uri:R.ns[Et]})});for(var ae=0,Ie=E.attribList.length;ae<Ie;ae++){var Ge=E.attribList[ae],We=Ge[0],Fe=Ge[1],et=pt(We,!0),it=et.prefix,Ke=""===it?"":R.ns[it]||"",Xe={name:We,value:Fe,prefix:it,local:et.local,uri:Ke};it&&"xmlns"!==it&&!Ke&&(ft(E,"Unbound namespace prefix: "+JSON.stringify(it)),Xe.uri=it),E.tag.attributes[We]=Xe,Ye(E,"onattribute",Xe)}E.attribList.length=0}E.tag.isSelfClosing=!!_,E.sawRoot=!0,E.tags.push(E.tag),Ye(E,"onopentag",E.tag),_||(E.state=E.noscript||"script"!==E.tagName.toLowerCase()?pe.TEXT:pe.SCRIPT,E.tag=null,E.tagName=""),E.attribName=E.attribValue="",E.attribList.length=0}function ut(E){if(!E.tagName)return ft(E,"Weird empty close tag."),E.textNode+="</>",void(E.state=pe.TEXT);if(E.script){if("script"!==E.tagName)return E.script+="</"+E.tagName+">",E.tagName="",void(E.state=pe.SCRIPT);Ye(E,"onscript",E.script),E.script=""}var _=E.tags.length,R=E.tagName;E.strict||(R=R[E.looseCase]());for(var M=R;_--&&E.tags[_].name!==M;)ft(E,"Unexpected close tag");if(_<0)return ft(E,"Unmatched closing tag: "+E.tagName),E.textNode+="</"+E.tagName+">",void(E.state=pe.TEXT);E.tagName=R;for(var ue=E.tags.length;ue-- >_;){var ae=E.tag=E.tags.pop();E.tagName=E.tag.name,Ye(E,"onclosetag",E.tagName);var Ie={};for(var Ge in ae.ns)Ie[Ge]=ae.ns[Ge];E.opt.xmlns&&ae.ns!==(E.tags[E.tags.length-1]||E).ns&&Object.keys(ae.ns).forEach(function(Fe){Ye(E,"onclosenamespace",{prefix:Fe,uri:ae.ns[Fe]})})}0===_&&(E.closedRoot=!0),E.tagName=E.attribValue=E.attribName="",E.attribList.length=0,E.state=pe.TEXT}function Se(E){var _,R=E.entity,M=R.toLowerCase(),ue="";return E.ENTITIES[R]?E.ENTITIES[R]:E.ENTITIES[M]?E.ENTITIES[M]:("#"===(R=M).charAt(0)&&("x"===R.charAt(1)?(R=R.slice(2),ue=(_=parseInt(R,16)).toString(16)):(R=R.slice(1),ue=(_=parseInt(R,10)).toString(10))),R=R.replace(/^0+/,""),ue.toLowerCase()!==R?(ft(E,"Invalid character entity"),"&"+E.entity+";"):String.fromCodePoint(_))}function ye(E,_){"<"===_?(E.state=pe.OPEN_WAKA,E.startTagPosition=E.position):de(g,_)&&(ft(E,"Non-whitespace before first tag."),E.textNode=_,E.state=pe.TEXT)}function at(E,_){var R="";return _<E.length&&(R=E.charAt(_)),R}pe=be.STATE,String.fromCodePoint||(ce=String.fromCharCode,ze=Math.floor,st=function(){var E,M=[],ue=-1,ae=arguments.length;if(!ae)return"";for(var Ie="";++ue<ae;){var Ge=Number(arguments[ue]);if(!isFinite(Ge)||Ge<0||Ge>1114111||ze(Ge)!==Ge)throw RangeError("Invalid code point: "+Ge);Ge<=65535?M.push(Ge):(E=55296+((Ge-=65536)>>10),M.push(E,Ge%1024+56320)),(ue+1===ae||M.length>16384)&&(Ie+=ce.apply(null,M),M.length=0)}return Ie},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:st,configurable:!0,writable:!0}):String.fromCodePoint=st)}(He)},182:(St,He,L)=>{St.exports=P;var be=L(1159).EventEmitter;function P(){be.call(this)}L(1765)(P,be),P.Readable=L(2846),P.Writable=L(8318),P.Duplex=L(6138),P.Transform=L(9798),P.PassThrough=L(5472),P.finished=L(8800),P.pipeline=L(7295),P.Stream=P,P.prototype.pipe=function(d,f){var N=this;function T(q){d.writable&&!1===d.write(q)&&N.pause&&N.pause()}function g(){N.readable&&N.resume&&N.resume()}N.on("data",T),d.on("drain",g),d._isStdio||f&&!1===f.end||(N.on("end",x),N.on("close",h));var S=!1;function x(){S||(S=!0,d.end())}function h(){S||(S=!0,"function"==typeof d.destroy&&d.destroy())}function v(q){if(w(),0===be.listenerCount(this,"error"))throw q}function w(){N.removeListener("data",T),d.removeListener("drain",g),N.removeListener("end",x),N.removeListener("close",h),N.removeListener("error",v),d.removeListener("error",v),N.removeListener("end",w),N.removeListener("close",w),d.removeListener("close",w)}return N.on("error",v),d.on("error",v),N.on("end",w),N.on("close",w),d.on("close",w),d.emit("pipe",N),d}},1765:St=>{St.exports="function"==typeof Object.create?function(He,L){L&&(He.super_=L,He.prototype=Object.create(L.prototype,{constructor:{value:He,enumerable:!1,writable:!0,configurable:!0}}))}:function(He,L){if(L){He.super_=L;var be=function(){};be.prototype=L.prototype,He.prototype=new be,He.prototype.constructor=He}}},3690:St=>{"use strict";var He={};function L(P,d,f){f||(f=Error);var N=function(T){var g,S;function x(h,v,w){return T.call(this,"string"==typeof d?d:d(h,v,w))||this}return S=T,(g=x).prototype=Object.create(S.prototype),g.prototype.constructor=g,g.__proto__=S,x}(f);N.prototype.name=f.name,N.prototype.code=P,He[P]=N}function be(P,d){if(Array.isArray(P)){var f=P.length;return P=P.map(function(N){return String(N)}),f>2?"one of ".concat(d," ").concat(P.slice(0,f-1).join(", "),", or ")+P[f-1]:2===f?"one of ".concat(d," ").concat(P[0]," or ").concat(P[1]):"of ".concat(d," ").concat(P[0])}return"of ".concat(d," ").concat(String(P))}L("ERR_INVALID_OPT_VALUE",function(P,d){return'The value "'+d+'" is invalid for option "'+P+'"'},TypeError),L("ERR_INVALID_ARG_TYPE",function(P,d,f){var N,g,S,x,v,q;if("string"==typeof d&&"not "===d.substr(0,4)?(N="must not be",d=d.replace(/^not /,"")):N="must be",v=P,(void 0===q||q>v.length)&&(q=v.length)," argument"===v.substring(q-9,q))g="The ".concat(P," ").concat(N," ").concat(be(d,"type"));else{var h=("number"!=typeof x&&(x=0),x+1>(S=P).length||-1===S.indexOf(".",x)?"argument":"property");g='The "'.concat(P,'" ').concat(h," ").concat(N," ").concat(be(d,"type"))}return g+". Received type ".concat(typeof f)},TypeError),L("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),L("ERR_METHOD_NOT_IMPLEMENTED",function(P){return"The "+P+" method is not implemented"}),L("ERR_STREAM_PREMATURE_CLOSE","Premature close"),L("ERR_STREAM_DESTROYED",function(P){return"Cannot call "+P+" after a stream was destroyed"}),L("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),L("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),L("ERR_STREAM_WRITE_AFTER_END","write after end"),L("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),L("ERR_UNKNOWN_ENCODING",function(P){return"Unknown encoding: "+P},TypeError),L("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),St.exports.q=He},6138:(St,He,L)=>{"use strict";var be=Object.keys||function(h){var v=[];for(var w in h)v.push(w);return v};St.exports=g;var P=L(2846),d=L(8318);L(1765)(g,P);for(var f=be(d.prototype),N=0;N<f.length;N++){var T=f[N];g.prototype[T]||(g.prototype[T]=d.prototype[T])}function g(h){if(!(this instanceof g))return new g(h);P.call(this,h),d.call(this,h),this.allowHalfOpen=!0,h&&(!1===h.readable&&(this.readable=!1),!1===h.writable&&(this.writable=!1),!1===h.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",S)))}function S(){this._writableState.ended||process.nextTick(x,this)}function x(h){h.end()}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},5472:(St,He,L)=>{"use strict";St.exports=P;var be=L(9798);function P(d){if(!(this instanceof P))return new P(d);be.call(this,d)}L(1765)(P,be),P.prototype._transform=function(d,f,N){N(null,d)}},2846:(St,He,L)=>{"use strict";var be;St.exports=ce,ce.ReadableState=de,L(1159);var P,d=function(Se,ye){return Se.listeners(ye).length},f=L(9299),N=L(1549).Buffer,T=L.g.Uint8Array||function(){},g=L(964);P=g&&g.debuglog?g.debuglog("stream"):function(){};var S,x,h,v=L(8393),w=L(6163),q=L(7269).getHighWaterMark,W=L(3690).q,ie=W.ERR_INVALID_ARG_TYPE,J=W.ERR_STREAM_PUSH_AFTER_EOF,le=W.ERR_METHOD_NOT_IMPLEMENTED,Z=W.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;L(1765)(ce,f);var k=w.errorOrDestroy,K=["error","close","destroy","pause","resume"];function de(Se,ye,at){be=be||L(6138),"boolean"!=typeof at&&(at=ye instanceof be),this.objectMode=!!(Se=Se||{}).objectMode,at&&(this.objectMode=this.objectMode||!!Se.readableObjectMode),this.highWaterMark=q(this,Se,"readableHighWaterMark",at),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Se.emitClose,this.autoDestroy=!!Se.autoDestroy,this.destroyed=!1,this.defaultEncoding=Se.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Se.encoding&&(S||(S=L(7503).s),this.decoder=new S(Se.encoding),this.encoding=Se.encoding)}function ce(Se){if(be=be||L(6138),!(this instanceof ce))return new ce(Se);this._readableState=new de(Se,this,this instanceof be),this.readable=!0,Se&&("function"==typeof Se.read&&(this._read=Se.read),"function"==typeof Se.destroy&&(this._destroy=Se.destroy)),f.call(this)}function ze(Se,ye,at,E,_){P("readableAddChunk",ye);var R,ue,ae,Ie,Ge,M=Se._readableState;if(null===ye)M.reading=!1,function(ue,ae){if(P("onEofChunk"),!ae.ended){if(ae.decoder){var Ie=ae.decoder.end();Ie&&Ie.length&&(ae.buffer.push(Ie),ae.length+=ae.objectMode?1:Ie.length)}ae.ended=!0,ae.sync?je(ue):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,Ye(ue)))}}(Se,M);else if(_||(ue=M,N.isBuffer(Ge=ae=ye)||Ge instanceof T||"string"==typeof ae||void 0===ae||ue.objectMode||(Ie=new ie("chunk",["string","Buffer","Uint8Array"],ae)),R=Ie),R)k(Se,R);else if(M.objectMode||ye&&ye.length>0)if("string"==typeof ye||M.objectMode||Object.getPrototypeOf(ye)===N.prototype||(ye=function(ue){return N.from(ue)}(ye)),E)M.endEmitted?k(Se,new Z):st(Se,M,ye,!0);else if(M.ended)k(Se,new J);else{if(M.destroyed)return!1;M.reading=!1,M.decoder&&!at?(ye=M.decoder.write(ye),M.objectMode||0!==ye.length?st(Se,M,ye,!1):Ne(Se,M)):st(Se,M,ye,!1)}else E||(M.reading=!1,Ne(Se,M));return!M.ended&&(M.length<M.highWaterMark||0===M.length)}function st(Se,ye,at,E){ye.flowing&&0===ye.length&&!ye.sync?(ye.awaitDrain=0,Se.emit("data",at)):(ye.length+=ye.objectMode?1:at.length,E?ye.buffer.unshift(at):ye.buffer.push(at),ye.needReadable&&je(Se)),Ne(Se,ye)}Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Se){this._readableState&&(this._readableState.destroyed=Se)}}),ce.prototype.destroy=w.destroy,ce.prototype._undestroy=w.undestroy,ce.prototype._destroy=function(Se,ye){ye(Se)},ce.prototype.push=function(Se,ye){var at,E=this._readableState;return E.objectMode?at=!0:"string"==typeof Se&&((ye=ye||E.defaultEncoding)!==E.encoding&&(Se=N.from(Se,ye),ye=""),at=!0),ze(this,Se,ye,!1,at)},ce.prototype.unshift=function(Se){return ze(this,Se,null,!0,!1)},ce.prototype.isPaused=function(){return!1===this._readableState.flowing},ce.prototype.setEncoding=function(Se){S||(S=L(7503).s);var ye=new S(Se);this._readableState.decoder=ye,this._readableState.encoding=this._readableState.decoder.encoding;for(var at=this._readableState.buffer.head,E="";null!==at;)E+=ye.write(at.data),at=at.next;return this._readableState.buffer.clear(),""!==E&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var pe=1073741824;function Mt(Se,ye){return Se<=0||0===ye.length&&ye.ended?0:ye.objectMode?1:Se!=Se?ye.flowing&&ye.length?ye.buffer.head.data.length:ye.length:(Se>ye.highWaterMark&&(ye.highWaterMark=((at=Se)>=pe?at=pe:(at--,at|=at>>>1,at|=at>>>2,at|=at>>>4,at|=at>>>8,at|=at>>>16,at++),at)),Se<=ye.length?Se:ye.ended?ye.length:(ye.needReadable=!0,0));var at}function je(Se){var ye=Se._readableState;P("emitReadable",ye.needReadable,ye.emittedReadable),ye.needReadable=!1,ye.emittedReadable||(P("emitReadable",ye.flowing),ye.emittedReadable=!0,process.nextTick(Ye,Se))}function Ye(Se){var ye=Se._readableState;P("emitReadable_",ye.destroyed,ye.length,ye.ended),ye.destroyed||!ye.length&&!ye.ended||(Se.emit("readable"),ye.emittedReadable=!1),ye.needReadable=!ye.flowing&&!ye.ended&&ye.length<=ye.highWaterMark,Pe(Se)}function Ne(Se,ye){ye.readingMore||(ye.readingMore=!0,process.nextTick(Ve,Se,ye))}function Ve(Se,ye){for(;!ye.reading&&!ye.ended&&(ye.length<ye.highWaterMark||ye.flowing&&0===ye.length);){var at=ye.length;if(P("maybeReadMore read 0"),Se.read(0),at===ye.length)break}ye.readingMore=!1}function rt(Se){var ye=Se._readableState;ye.readableListening=Se.listenerCount("readable")>0,ye.resumeScheduled&&!ye.paused?ye.flowing=!0:Se.listenerCount("data")>0&&Se.resume()}function It(Se){P("readable nexttick read 0"),Se.read(0)}function ft(Se,ye){P("resume",ye.reading),ye.reading||Se.read(0),ye.resumeScheduled=!1,Se.emit("resume"),Pe(Se),ye.flowing&&!ye.reading&&Se.read(0)}function Pe(Se){var ye=Se._readableState;for(P("flow",ye.flowing);ye.flowing&&null!==Se.read(););}function pt(Se,ye){return 0===ye.length?null:(ye.objectMode?at=ye.buffer.shift():!Se||Se>=ye.length?(at=ye.decoder?ye.buffer.join(""):1===ye.buffer.length?ye.buffer.first():ye.buffer.concat(ye.length),ye.buffer.clear()):at=ye.buffer.consume(Se,ye.decoder),at);var at}function Pt(Se){var ye=Se._readableState;P("endReadable",ye.endEmitted),ye.endEmitted||(ye.ended=!0,process.nextTick($e,ye,Se))}function $e(Se,ye){if(P("endReadableNT",Se.endEmitted,Se.length),!Se.endEmitted&&0===Se.length&&(Se.endEmitted=!0,ye.readable=!1,ye.emit("end"),Se.autoDestroy)){var at=ye._writableState;(!at||at.autoDestroy&&at.finished)&&ye.destroy()}}function ut(Se,ye){for(var at=0,E=Se.length;at<E;at++)if(Se[at]===ye)return at;return-1}ce.prototype.read=function(Se){P("read",Se),Se=parseInt(Se,10);var ye=this._readableState,at=Se;if(0!==Se&&(ye.emittedReadable=!1),0===Se&&ye.needReadable&&((0!==ye.highWaterMark?ye.length>=ye.highWaterMark:ye.length>0)||ye.ended))return P("read: emitReadable",ye.length,ye.ended),0===ye.length&&ye.ended?Pt(this):je(this),null;if(0===(Se=Mt(Se,ye))&&ye.ended)return 0===ye.length&&Pt(this),null;var E,_=ye.needReadable;return P("need readable",_),(0===ye.length||ye.length-Se<ye.highWaterMark)&&P("length less than watermark",_=!0),ye.ended||ye.reading?P("reading or ended",_=!1):_&&(P("do read"),ye.reading=!0,ye.sync=!0,0===ye.length&&(ye.needReadable=!0),this._read(ye.highWaterMark),ye.sync=!1,ye.reading||(Se=Mt(at,ye))),null===(E=Se>0?pt(Se,ye):null)?(ye.needReadable=ye.length<=ye.highWaterMark,Se=0):(ye.length-=Se,ye.awaitDrain=0),0===ye.length&&(ye.ended||(ye.needReadable=!0),at!==Se&&ye.ended&&Pt(this)),null!==E&&this.emit("data",E),E},ce.prototype._read=function(Se){k(this,new le("_read()"))},ce.prototype.pipe=function(Se,ye){var at=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=Se;break;case 1:E.pipes=[E.pipes,Se];break;default:E.pipes.push(Se)}E.pipesCount+=1,P("pipe count=%d opts=%j",E.pipesCount,ye);var _=ye&&!1===ye.end||Se===process.stdout||Se===process.stderr?Fe:R;function R(){P("onend"),Se.end()}E.endEmitted?process.nextTick(_):at.once("end",_),Se.on("unpipe",function et(it,Me){P("onunpipe"),it===at&&Me&&!1===Me.hasUnpiped&&(Me.hasUnpiped=!0,P("cleanup"),Se.removeListener("close",Ge),Se.removeListener("finish",We),Se.removeListener("drain",M),Se.removeListener("error",Ie),Se.removeListener("unpipe",et),at.removeListener("end",R),at.removeListener("end",Fe),at.removeListener("data",ae),ue=!0,!E.awaitDrain||Se._writableState&&!Se._writableState.needDrain||M())});var et,M=(et=at,function(){var it=et._readableState;P("pipeOnDrain",it.awaitDrain),it.awaitDrain&&it.awaitDrain--,0===it.awaitDrain&&d(et,"data")&&(it.flowing=!0,Pe(et))});Se.on("drain",M);var ue=!1;function ae(et){P("ondata");var it=Se.write(et);P("dest.write",it),!1===it&&((1===E.pipesCount&&E.pipes===Se||E.pipesCount>1&&-1!==ut(E.pipes,Se))&&!ue&&(P("false write response, pause",E.awaitDrain),E.awaitDrain++),at.pause())}function Ie(et){P("onerror",et),Fe(),Se.removeListener("error",Ie),0===d(Se,"error")&&k(Se,et)}function Ge(){Se.removeListener("finish",We),Fe()}function We(){P("onfinish"),Se.removeListener("close",Ge),Fe()}function Fe(){P("unpipe"),at.unpipe(Se)}return at.on("data",ae),function(et,it,Me){if("function"==typeof et.prependListener)return et.prependListener(it,Me);et._events&&et._events[it]?Array.isArray(et._events[it])?et._events[it].unshift(Me):et._events[it]=[Me,et._events[it]]:et.on(it,Me)}(Se,"error",Ie),Se.once("close",Ge),Se.once("finish",We),Se.emit("pipe",at),E.flowing||(P("pipe resume"),at.resume()),Se},ce.prototype.unpipe=function(Se){var ye=this._readableState,at={hasUnpiped:!1};if(0===ye.pipesCount)return this;if(1===ye.pipesCount)return Se&&Se!==ye.pipes||(Se||(Se=ye.pipes),ye.pipes=null,ye.pipesCount=0,ye.flowing=!1,Se&&Se.emit("unpipe",this,at)),this;if(!Se){var E=ye.pipes,_=ye.pipesCount;ye.pipes=null,ye.pipesCount=0,ye.flowing=!1;for(var R=0;R<_;R++)E[R].emit("unpipe",this,{hasUnpiped:!1});return this}var M=ut(ye.pipes,Se);return-1===M||(ye.pipes.splice(M,1),ye.pipesCount-=1,1===ye.pipesCount&&(ye.pipes=ye.pipes[0]),Se.emit("unpipe",this,at)),this},ce.prototype.addListener=ce.prototype.on=function(Se,ye){var at=f.prototype.on.call(this,Se,ye),E=this._readableState;return"data"===Se?(E.readableListening=this.listenerCount("readable")>0,!1!==E.flowing&&this.resume()):"readable"===Se&&(E.endEmitted||E.readableListening||(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,P("on readable",E.length,E.reading),E.length?je(this):E.reading||process.nextTick(It,this))),at},ce.prototype.removeListener=function(Se,ye){var at=f.prototype.removeListener.call(this,Se,ye);return"readable"===Se&&process.nextTick(rt,this),at},ce.prototype.removeAllListeners=function(Se){var ye=f.prototype.removeAllListeners.apply(this,arguments);return"readable"!==Se&&void 0!==Se||process.nextTick(rt,this),ye},ce.prototype.resume=function(){var at,Se=this._readableState;return Se.flowing||(P("resume"),Se.flowing=!Se.readableListening,(at=Se).resumeScheduled||(at.resumeScheduled=!0,process.nextTick(ft,this,at))),Se.paused=!1,this},ce.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ce.prototype.wrap=function(Se){var ye=this,at=this._readableState,E=!1;for(var _ in Se.on("end",function(){if(P("wrapped end"),at.decoder&&!at.ended){var M=at.decoder.end();M&&M.length&&ye.push(M)}ye.push(null)}),Se.on("data",function(M){P("wrapped data"),at.decoder&&(M=at.decoder.write(M)),at.objectMode&&null==M||(at.objectMode||M&&M.length)&&(ye.push(M)||(E=!0,Se.pause()))}),Se)void 0===this[_]&&"function"==typeof Se[_]&&(this[_]=function(M){return function(){return Se[M].apply(Se,arguments)}}(_));for(var R=0;R<K.length;R++)Se.on(K[R],this.emit.bind(this,K[R]));return this._read=function(M){P("wrapped _read",M),E&&(E=!1,Se.resume())},this},"function"==typeof Symbol&&(ce.prototype[Symbol.asyncIterator]=function(){return void 0===x&&(x=L(7299)),x(this)}),Object.defineProperty(ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Se){this._readableState&&(this._readableState.flowing=Se)}}),ce._fromList=pt,Object.defineProperty(ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ce.from=function(Se,ye){return void 0===h&&(h=L(6233)),h(ce,Se,ye)})},9798:(St,He,L)=>{"use strict";St.exports=S;var be=L(3690).q,P=be.ERR_METHOD_NOT_IMPLEMENTED,d=be.ERR_MULTIPLE_CALLBACK,f=be.ERR_TRANSFORM_ALREADY_TRANSFORMING,N=be.ERR_TRANSFORM_WITH_LENGTH_0,T=L(6138);function g(v,w){var q=this._transformState;q.transforming=!1;var W=q.writecb;if(null===W)return this.emit("error",new d);q.writechunk=null,q.writecb=null,null!=w&&this.push(w),W(v);var ie=this._readableState;ie.reading=!1,(ie.needReadable||ie.length<ie.highWaterMark)&&this._read(ie.highWaterMark)}function S(v){if(!(this instanceof S))return new S(v);T.call(this,v),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&("function"==typeof v.transform&&(this._transform=v.transform),"function"==typeof v.flush&&(this._flush=v.flush)),this.on("prefinish",x)}function x(){var v=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(w,q){h(v,w,q)})}function h(v,w,q){if(w)return v.emit("error",w);if(null!=q&&v.push(q),v._writableState.length)throw new N;if(v._transformState.transforming)throw new f;return v.push(null)}L(1765)(S,T),S.prototype.push=function(v,w){return this._transformState.needTransform=!1,T.prototype.push.call(this,v,w)},S.prototype._transform=function(v,w,q){q(new P("_transform()"))},S.prototype._write=function(v,w,q){var W=this._transformState;if(W.writecb=q,W.writechunk=v,W.writeencoding=w,!W.transforming){var ie=this._readableState;(W.needTransform||ie.needReadable||ie.length<ie.highWaterMark)&&this._read(ie.highWaterMark)}},S.prototype._read=function(v){var w=this._transformState;null===w.writechunk||w.transforming?w.needTransform=!0:(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform))},S.prototype._destroy=function(v,w){T.prototype._destroy.call(this,v,function(q){w(q)})}},8318:(St,He,L)=>{"use strict";function be(Ne){var Ve=this;this.next=null,this.entry=null,this.finish=function(){!function(rt,It,ft){var Pe=rt.entry;for(rt.entry=null;Pe;){var pt=Pe.callback;It.pendingcb--,pt(void 0),Pe=Pe.next}It.corkedRequestsFree.next=rt}(Ve,Ne)}}var P;St.exports=ce,ce.WritableState=de;var d,f={deprecate:L(7839)},N=L(9299),T=L(1549).Buffer,g=L.g.Uint8Array||function(){},S=L(6163),x=L(7269).getHighWaterMark,h=L(3690).q,v=h.ERR_INVALID_ARG_TYPE,w=h.ERR_METHOD_NOT_IMPLEMENTED,q=h.ERR_MULTIPLE_CALLBACK,W=h.ERR_STREAM_CANNOT_PIPE,ie=h.ERR_STREAM_DESTROYED,J=h.ERR_STREAM_NULL_VALUES,le=h.ERR_STREAM_WRITE_AFTER_END,Z=h.ERR_UNKNOWN_ENCODING,k=S.errorOrDestroy;function K(){}function de(Ne,Ve,rt){P=P||L(6138),"boolean"!=typeof rt&&(rt=Ve instanceof P),this.objectMode=!!(Ne=Ne||{}).objectMode,rt&&(this.objectMode=this.objectMode||!!Ne.writableObjectMode),this.highWaterMark=x(this,Ne,"writableHighWaterMark",rt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ne.decodeStrings),this.defaultEncoding=Ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ft){!function(Pe,pt){var ye,Pt=Pe._writableState,$e=Pt.sync,ut=Pt.writecb;if("function"!=typeof ut)throw new q;if((ye=Pt).writing=!1,ye.writecb=null,ye.length-=ye.writelen,ye.writelen=0,pt)!function(ye,at,E,_,R){--at.pendingcb,E?(process.nextTick(R,_),process.nextTick(Ye,ye,at),ye._writableState.errorEmitted=!0,k(ye,_)):(R(_),ye._writableState.errorEmitted=!0,k(ye,_),Ye(ye,at))}(Pe,Pt,$e,pt,ut);else{var Se=Mt(Pt)||Pe.destroyed;Se||Pt.corked||Pt.bufferProcessing||!Pt.bufferedRequest||pe(Pe,Pt),$e?process.nextTick(st,Pe,Pt,Se,ut):st(Pe,Pt,Se,ut)}}(Ve,ft)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ne.emitClose,this.autoDestroy=!!Ne.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new be(this)}function ce(Ne){var Ve=this instanceof(P=P||L(6138));if(!Ve&&!d.call(ce,this))return new ce(Ne);this._writableState=new de(Ne,this,Ve),this.writable=!0,Ne&&("function"==typeof Ne.write&&(this._write=Ne.write),"function"==typeof Ne.writev&&(this._writev=Ne.writev),"function"==typeof Ne.destroy&&(this._destroy=Ne.destroy),"function"==typeof Ne.final&&(this._final=Ne.final)),N.call(this)}function ze(Ne,Ve,rt,It,ft,Pe,pt){Ve.writelen=It,Ve.writecb=pt,Ve.writing=!0,Ve.sync=!0,Ve.destroyed?Ve.onwrite(new ie("write")):rt?Ne._writev(ft,Ve.onwrite):Ne._write(ft,Pe,Ve.onwrite),Ve.sync=!1}function st(Ne,Ve,rt,It){var ft,Pe;rt||(ft=Ne,0===(Pe=Ve).length&&Pe.needDrain&&(Pe.needDrain=!1,ft.emit("drain"))),Ve.pendingcb--,It(),Ye(Ne,Ve)}function pe(Ne,Ve){Ve.bufferProcessing=!0;var rt=Ve.bufferedRequest;if(Ne._writev&&rt&&rt.next){var ft=new Array(Ve.bufferedRequestCount),Pe=Ve.corkedRequestsFree;Pe.entry=rt;for(var pt=0,Pt=!0;rt;)ft[pt]=rt,rt.isBuf||(Pt=!1),rt=rt.next,pt+=1;ft.allBuffers=Pt,ze(Ne,Ve,!0,Ve.length,ft,"",Pe.finish),Ve.pendingcb++,Ve.lastBufferedRequest=null,Pe.next?(Ve.corkedRequestsFree=Pe.next,Pe.next=null):Ve.corkedRequestsFree=new be(Ve),Ve.bufferedRequestCount=0}else{for(;rt;){var $e=rt.chunk;if(ze(Ne,Ve,!1,Ve.objectMode?1:$e.length,$e,rt.encoding,rt.callback),rt=rt.next,Ve.bufferedRequestCount--,Ve.writing)break}null===rt&&(Ve.lastBufferedRequest=null)}Ve.bufferedRequest=rt,Ve.bufferProcessing=!1}function Mt(Ne){return Ne.ending&&0===Ne.length&&null===Ne.bufferedRequest&&!Ne.finished&&!Ne.writing}function je(Ne,Ve){Ne._final(function(rt){Ve.pendingcb--,rt&&k(Ne,rt),Ve.prefinished=!0,Ne.emit("prefinish"),Ye(Ne,Ve)})}function Ye(Ne,Ve){var ft,Pe,rt=Mt(Ve);if(rt&&(ft=Ne,(Pe=Ve).prefinished||Pe.finalCalled||("function"!=typeof ft._final||Pe.destroyed?(Pe.prefinished=!0,ft.emit("prefinish")):(Pe.pendingcb++,Pe.finalCalled=!0,process.nextTick(je,ft,Pe))),0===Ve.pendingcb&&(Ve.finished=!0,Ne.emit("finish"),Ve.autoDestroy))){var It=Ne._readableState;(!It||It.autoDestroy&&It.endEmitted)&&Ne.destroy()}return rt}L(1765)(ce,N),de.prototype.getBuffer=function(){for(var Ne=this.bufferedRequest,Ve=[];Ne;)Ve.push(Ne),Ne=Ne.next;return Ve},function(){try{Object.defineProperty(de.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(ce,Symbol.hasInstance,{value:function(Ne){return!!d.call(this,Ne)||this===ce&&Ne&&Ne._writableState instanceof de}})):d=function(Ne){return Ne instanceof this},ce.prototype.pipe=function(){k(this,new W)},ce.prototype.write=function(Ne,Ve,rt){var It,Pt,$e,ut,ft=this._writableState,Pe=!1,pt=!ft.objectMode&&(T.isBuffer(It=Ne)||It instanceof g);return pt&&!T.isBuffer(Ne)&&(Ne=T.from(Ne)),"function"==typeof Ve&&(rt=Ve,Ve=null),pt?Ve="buffer":Ve||(Ve=ft.defaultEncoding),"function"!=typeof rt&&(rt=K),ft.ending?(Pt=this,$e=rt,ut=new le,k(Pt,ut),process.nextTick($e,ut)):(pt||function(Pt,$e,ut,Se){var ye;return null===ut?ye=new J:"string"==typeof ut||$e.objectMode||(ye=new v("chunk",["string","Buffer"],ut)),!ye||(k(Pt,ye),process.nextTick(Se,ye),!1)}(this,ft,Ne,rt))&&(ft.pendingcb++,Pe=function(Pt,$e,ut,Se,ye,at){if(!ut){var E=(ae=Se,(ue=$e).objectMode||!1===ue.decodeStrings||"string"!=typeof ae||(ae=T.from(ae,ye)),ae);Se!==E&&(ut=!0,ye="buffer",Se=E)}var ue,ae,_=$e.objectMode?1:Se.length;$e.length+=_;var R=$e.length<$e.highWaterMark;if(R||($e.needDrain=!0),$e.writing||$e.corked){var M=$e.lastBufferedRequest;$e.lastBufferedRequest={chunk:Se,encoding:ye,isBuf:ut,callback:at,next:null},M?M.next=$e.lastBufferedRequest:$e.bufferedRequest=$e.lastBufferedRequest,$e.bufferedRequestCount+=1}else ze(Pt,$e,!1,_,Se,ye,at);return R}(this,ft,pt,Ne,Ve,rt)),Pe},ce.prototype.cork=function(){this._writableState.corked++},ce.prototype.uncork=function(){var Ne=this._writableState;Ne.corked&&(Ne.corked--,Ne.writing||Ne.corked||Ne.bufferProcessing||!Ne.bufferedRequest||pe(this,Ne))},ce.prototype.setDefaultEncoding=function(Ne){if("string"==typeof Ne&&(Ne=Ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ne+"").toLowerCase())>-1))throw new Z(Ne);return this._writableState.defaultEncoding=Ne,this},Object.defineProperty(ce.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ce.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ce.prototype._write=function(Ne,Ve,rt){rt(new w("_write()"))},ce.prototype._writev=null,ce.prototype.end=function(Ne,Ve,rt){var Pe,pt,It=this._writableState;return"function"==typeof Ne?(rt=Ne,Ne=null,Ve=null):"function"==typeof Ve&&(rt=Ve,Ve=null),null!=Ne&&this.write(Ne,Ve),It.corked&&(It.corked=1,this.uncork()),It.ending||(pt=rt,(Pe=It).ending=!0,Ye(this,Pe),pt&&(Pe.finished?process.nextTick(pt):this.once("finish",pt)),Pe.ended=!0,this.writable=!1),this},Object.defineProperty(ce.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ne){this._writableState&&(this._writableState.destroyed=Ne)}}),ce.prototype.destroy=S.destroy,ce.prototype._undestroy=S.undestroy,ce.prototype._destroy=function(Ne,Ve){Ve(Ne)}},7299:(St,He,L)=>{"use strict";var be;function P(J,le,Z){return le in J?Object.defineProperty(J,le,{value:Z,enumerable:!0,configurable:!0,writable:!0}):J[le]=Z,J}var d=L(8800),f=Symbol("lastResolve"),N=Symbol("lastReject"),T=Symbol("error"),g=Symbol("ended"),S=Symbol("lastPromise"),x=Symbol("handlePromise"),h=Symbol("stream");function v(J,le){return{value:J,done:le}}function w(J){var le=J[f];if(null!==le){var Z=J[h].read();null!==Z&&(J[S]=null,J[f]=null,J[N]=null,le(v(Z,!1)))}}function q(J){process.nextTick(w,J)}var W=Object.getPrototypeOf(function(){}),ie=Object.setPrototypeOf((P(be={get stream(){return this[h]},next:function(){var J=this,le=this[T];if(null!==le)return Promise.reject(le);if(this[g])return Promise.resolve(v(void 0,!0));if(this[h].destroyed)return new Promise(function(de,ce){process.nextTick(function(){J[T]?ce(J[T]):de(v(void 0,!0))})});var Z,de,ce,k=this[S];if(k)Z=new Promise((de=k,ce=this,function(ze,st){de.then(function(){ce[g]?ze(v(void 0,!0)):ce[x](ze,st)},st)}));else{var K=this[h].read();if(null!==K)return Promise.resolve(v(K,!1));Z=new Promise(this[x])}return this[S]=Z,Z}},Symbol.asyncIterator,function(){return this}),P(be,"return",function(){var J=this;return new Promise(function(le,Z){J[h].destroy(null,function(k){k?Z(k):le(v(void 0,!0))})})}),be),W);St.exports=function(J){var le,Z=Object.create(ie,(P(le={},h,{value:J,writable:!0}),P(le,f,{value:null,writable:!0}),P(le,N,{value:null,writable:!0}),P(le,T,{value:null,writable:!0}),P(le,g,{value:J._readableState.endEmitted,writable:!0}),P(le,x,{value:function(k,K){var de=Z[h].read();de?(Z[S]=null,Z[f]=null,Z[N]=null,k(v(de,!1))):(Z[f]=k,Z[N]=K)},writable:!0}),le));return Z[S]=null,d(J,function(k){if(k&&"ERR_STREAM_PREMATURE_CLOSE"!==k.code){var K=Z[N];return null!==K&&(Z[S]=null,Z[f]=null,Z[N]=null,K(k)),void(Z[T]=k)}var de=Z[f];null!==de&&(Z[S]=null,Z[f]=null,Z[N]=null,de(v(void 0,!0))),Z[g]=!0}),J.on("readable",q.bind(null,Z)),Z}},8393:(St,He,L)=>{"use strict";function be(g,S){var x=Object.keys(g);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(g);S&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(g,v).enumerable})),x.push.apply(x,h)}return x}function P(g,S,x){return S in g?Object.defineProperty(g,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[S]=x,g}var f=L(1549).Buffer,N=L(9862).inspect,T=N&&N.custom||"inspect";St.exports=function(){function g(){(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,g),this.head=null,this.tail=null,this.length=0}var x;return x=[{key:"push",value:function(h){var v={data:h,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(h){var v={data:h,next:this.head};0===this.length&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(0!==this.length){var h=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(0===this.length)return"";for(var v=this.head,w=""+v.data;v=v.next;)w+=h+v.data;return w}},{key:"concat",value:function(h){if(0===this.length)return f.alloc(0);for(var W=f.allocUnsafe(h>>>0),ie=this.head,J=0;ie;)f.prototype.copy.call(ie.data,W,J),J+=ie.data.length,ie=ie.next;return W}},{key:"consume",value:function(h,v){var w;return h<this.head.data.length?(w=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):w=h===this.head.data.length?this.shift():v?this._getString(h):this._getBuffer(h),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var v=this.head,w=1,q=v.data;for(h-=q.length;v=v.next;){var W=v.data,ie=h>W.length?W.length:h;if(q+=ie===W.length?W:W.slice(0,h),0==(h-=ie)){ie===W.length?(++w,this.head=v.next?v.next:this.tail=null):(this.head=v,v.data=W.slice(ie));break}++w}return this.length-=w,q}},{key:"_getBuffer",value:function(h){var v=f.allocUnsafe(h),w=this.head,q=1;for(w.data.copy(v),h-=w.data.length;w=w.next;){var W=w.data,ie=h>W.length?W.length:h;if(W.copy(v,v.length-h,0,ie),0==(h-=ie)){ie===W.length?(++q,this.head=w.next?w.next:this.tail=null):(this.head=w,w.data=W.slice(ie));break}++q}return this.length-=q,v}},{key:T,value:function(h,v){return N(this,function(w){for(var q=1;q<arguments.length;q++){var W=null!=arguments[q]?arguments[q]:{};q%2?be(Object(W),!0).forEach(function(ie){P(w,ie,W[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(W)):be(Object(W)).forEach(function(ie){Object.defineProperty(w,ie,Object.getOwnPropertyDescriptor(W,ie))})}return w}({},v,{depth:0,customInspect:!1}))}}],x&&function d(g,S){for(var x=0;x<S.length;x++){var h=S[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,h.key,h)}}(g.prototype,x),g}()},6163:St=>{"use strict";function He(P,d){be(P,d),L(P)}function L(P){P._writableState&&!P._writableState.emitClose||P._readableState&&!P._readableState.emitClose||P.emit("close")}function be(P,d){P.emit("error",d)}St.exports={destroy:function(P,d){var f=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(d?d(P):P&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(be,this,P)):process.nextTick(be,this,P)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(g){!d&&g?f._writableState?f._writableState.errorEmitted?process.nextTick(L,f):(f._writableState.errorEmitted=!0,process.nextTick(He,f,g)):process.nextTick(He,f,g):d?(process.nextTick(L,f),d(g)):process.nextTick(L,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(P,d){var f=P._readableState,N=P._writableState;f&&f.autoDestroy||N&&N.autoDestroy?P.destroy(d):P.emit("error",d)}}},8800:(St,He,L)=>{"use strict";var be=L(3690).q.ERR_STREAM_PREMATURE_CLOSE;function P(){}St.exports=function d(f,N,T){if("function"==typeof N)return d(f,null,N);var le,Z;N||(N={}),le=T||P,Z=!1,T=function(){if(!Z){Z=!0;for(var k=arguments.length,K=new Array(k),de=0;de<k;de++)K[de]=arguments[de];le.apply(this,K)}};var g=N.readable||!1!==N.readable&&f.readable,S=N.writable||!1!==N.writable&&f.writable,x=function(){f.writable||v()},h=f._writableState&&f._writableState.finished,v=function(){S=!1,h=!0,g||T.call(f)},w=f._readableState&&f._readableState.endEmitted,q=function(){g=!1,w=!0,S||T.call(f)},W=function(le){T.call(f,le)},ie=function(){var le;return g&&!w?(f._readableState&&f._readableState.ended||(le=new be),T.call(f,le)):S&&!h?(f._writableState&&f._writableState.ended||(le=new be),T.call(f,le)):void 0},J=function(){f.req.on("finish",v)};return function(le){return le.setHeader&&"function"==typeof le.abort}(f)?(f.on("complete",v),f.on("abort",ie),f.req?J():f.on("request",J)):S&&!f._writableState&&(f.on("end",x),f.on("close",x)),f.on("end",q),f.on("finish",v),!1!==N.error&&f.on("error",W),f.on("close",ie),function(){f.removeListener("complete",v),f.removeListener("abort",ie),f.removeListener("request",J),f.req&&f.req.removeListener("finish",v),f.removeListener("end",x),f.removeListener("close",x),f.removeListener("finish",v),f.removeListener("end",q),f.removeListener("error",W),f.removeListener("close",ie)}}},6233:St=>{St.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:(St,He,L)=>{"use strict";var be,P=L(3690).q,d=P.ERR_MISSING_ARGS,f=P.ERR_STREAM_DESTROYED;function N(h){if(h)throw h}function g(h){h()}function S(h,v){return h.pipe(v)}St.exports=function(){for(var h=arguments.length,v=new Array(h),w=0;w<h;w++)v[w]=arguments[w];var q,W=function x(h){return h.length?"function"!=typeof h[h.length-1]?N:h.pop():N}(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new d("streams");var ie=v.map(function(J,le){var Z=le<v.length-1;return function T(h,v,w,q){var J,le;J=q,le=!1,q=function(){le||(le=!0,J.apply(void 0,arguments))};var W=!1;h.on("close",function(){W=!0}),void 0===be&&(be=L(8800)),be(h,{readable:v,writable:w},function(J){if(J)return q(J);W=!0,q()});var ie=!1;return function(J){if(!W&&!ie)return ie=!0,function(le){return le.setHeader&&"function"==typeof le.abort}(h)?h.abort():"function"==typeof h.destroy?h.destroy():void q(J||new f("pipe"))}}(J,Z,le>0,function(k){q||(q=k),k&&ie.forEach(g),Z||(ie.forEach(g),W(q))})});return v.reduce(S)}},7269:(St,He,L)=>{"use strict";var be=L(3690).q.ERR_INVALID_OPT_VALUE;St.exports={getHighWaterMark:function(P,d,f,N){var g,T=null!=(g=d).highWaterMark?g.highWaterMark:N?g[f]:null;if(null!=T){if(!isFinite(T)||Math.floor(T)!==T||T<0)throw new be(N?f:"highWaterMark",T);return Math.floor(T)}return P.objectMode?16:16384}}},9299:(St,He,L)=>{St.exports=L(1159).EventEmitter},7503:(St,He,L)=>{"use strict";var be=L(8387).Buffer,P=be.isEncoding||function(w){switch((w=""+w)&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(w){var q;switch(this.encoding=function(W){var ie=function(J){if(!J)return"utf8";for(var le;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(le)return;J=(""+J).toLowerCase(),le=!0}}(W);if("string"!=typeof ie&&(be.isEncoding===P||!P(W)))throw new Error("Unknown encoding: "+W);return ie||W}(w),this.encoding){case"utf16le":this.text=T,this.end=g,q=4;break;case"utf8":this.fillLast=N,q=4;break;case"base64":this.text=S,this.end=x,q=3;break;default:return this.write=h,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=be.allocUnsafe(q)}function f(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function N(w){var q=this.lastTotal-this.lastNeed,W=function(ie,J,le){if(128!=(192&J[0]))return ie.lastNeed=0,"\ufffd";if(ie.lastNeed>1&&J.length>1){if(128!=(192&J[1]))return ie.lastNeed=1,"\ufffd";if(ie.lastNeed>2&&J.length>2&&128!=(192&J[2]))return ie.lastNeed=2,"\ufffd"}}(this,w);return void 0!==W?W:this.lastNeed<=w.length?(w.copy(this.lastChar,q,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(w.copy(this.lastChar,q,0,w.length),void(this.lastNeed-=w.length))}function T(w,q){if((w.length-q)%2==0){var W=w.toString("utf16le",q);if(W){var ie=W.charCodeAt(W.length-1);if(ie>=55296&&ie<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],W.slice(0,-1)}return W}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",q,w.length-1)}function g(w){var q=w&&w.length?this.write(w):"";return this.lastNeed?q+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):q}function S(w,q){var W=(w.length-q)%3;return 0===W?w.toString("base64",q):(this.lastNeed=3-W,this.lastTotal=3,1===W?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",q,w.length-W))}function x(w){var q=w&&w.length?this.write(w):"";return this.lastNeed?q+this.lastChar.toString("base64",0,3-this.lastNeed):q}function h(w){return w.toString(this.encoding)}function v(w){return w&&w.length?this.write(w):""}He.s=d,d.prototype.write=function(w){if(0===w.length)return"";var q,W;if(this.lastNeed){if(void 0===(q=this.fillLast(w)))return"";W=this.lastNeed,this.lastNeed=0}else W=0;return W<w.length?q?q+this.text(w,W):this.text(w,W):q||""},d.prototype.end=function(w){var q=w&&w.length?this.write(w):"";return this.lastNeed?q+"\ufffd":q},d.prototype.text=function(w,q){var W=function(J,le,Z){var k=le.length-1;if(k<Z)return 0;var K=f(le[k]);return K>=0?(K>0&&(J.lastNeed=K-1),K):--k<Z||-2===K?0:(K=f(le[k]))>=0?(K>0&&(J.lastNeed=K-2),K):--k<Z||-2===K?0:(K=f(le[k]))>=0?(K>0&&(2===K?K=0:J.lastNeed=K-3),K):0}(this,w,q);if(!this.lastNeed)return w.toString("utf8",q);this.lastTotal=W;var ie=w.length-(W-this.lastNeed);return w.copy(this.lastChar,0,ie),w.toString("utf8",q,ie)},d.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length}},1067:function(St,He,L){var be;!function(P,d){"use strict";var f="function",N="undefined",T="object",g="string",S="model",x="name",h="type",v="vendor",w="version",q="architecture",W="console",ie="mobile",J="tablet",le="smarttv",Z="wearable",k="embedded",K="Amazon",de="Apple",ze="BlackBerry",st="Browser",pe="Chrome",Mt="Firefox",je="Google",Ve="Microsoft",rt="Motorola",It="Opera",ft="Samsung",Pe="Sony",Pt="Zebra",$e="Facebook",ut=function(Ge){for(var We={},Fe=0;Fe<Ge.length;Fe++)We[Ge[Fe].toUpperCase()]=Ge[Fe];return We},Se=function(Ge,We){return typeof Ge===g&&-1!==ye(We).indexOf(ye(Ge))},ye=function(Ge){return Ge.toLowerCase()},at=function(Ge,We){if(typeof Ge===g)return Ge=Ge.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof We===N?Ge:Ge.substring(0,255)},E=function(Ge,We){for(var Fe,et,it,Me,Ke,Xe,Et=0;Et<We.length&&!Ke;){var xt=We[Et],rn=We[Et+1];for(Fe=et=0;Fe<xt.length&&!Ke;)if(Ke=xt[Fe++].exec(Ge))for(it=0;it<rn.length;it++)Xe=Ke[++et],typeof(Me=rn[it])===T&&Me.length>0?2===Me.length?this[Me[0]]=typeof Me[1]==f?Me[1].call(this,Xe):Me[1]:3===Me.length?this[Me[0]]=typeof Me[1]!==f||Me[1].exec&&Me[1].test?Xe?Xe.replace(Me[1],Me[2]):d:Xe?Me[1].call(this,Xe,Me[2]):d:4===Me.length&&(this[Me[0]]=Xe?Me[3].call(this,Xe.replace(Me[1],Me[2])):d):this[Me]=Xe||d;Et+=2}},_=function(Ge,We){for(var Fe in We)if(typeof We[Fe]===T&&We[Fe].length>0){for(var et=0;et<We[Fe].length;et++)if(Se(We[Fe][et],Ge))return"?"===Fe?d:Fe}else if(Se(We[Fe],Ge))return"?"===Fe?d:Fe;return Ge},R={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},M={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[x,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[x,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[x,w],[/opios[\/ ]+([\w\.]+)/i],[w,[x,It+" Mini"]],[/\bopr\/([\w\.]+)/i],[w,[x,It]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[x,w],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[x,"UC"+st]],[/\bqbcore\/([\w\.]+)/i],[w,[x,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[w,[x,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[x,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[x,"IE"]],[/yabrowser\/([\w\.]+)/i],[w,[x,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[x,/(.+)/,"$1 Secure "+st],w],[/\bfocus\/([\w\.]+)/i],[w,[x,Mt+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[x,It+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[x,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[x,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[x,It+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[x,"MIUI "+st]],[/fxios\/([-\w\.]+)/i],[w,[x,Mt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[x,"360 "+st]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[x,/(.+)/,"$1 "+st],w],[/(comodo_dragon)\/([\w\.]+)/i],[[x,/_/g," "],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[x,w],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[x],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[x,$e],w],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[x,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[x,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[x,pe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[x,pe+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[x,"Android "+st]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[x,w],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[w,[x,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[w,x],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[x,[w,_,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[x,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[x,"Netscape"],w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[x,Mt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[x,w]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[q,"amd64"]],[/(ia32(?=;))/i],[[q,ye]],[/((?:i[346]|x)86)[;\)]/i],[[q,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[q,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[q,"armhf"]],[/windows (ce|mobile); ppc;/i],[[q,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[q,/ower/,"",ye]],[/(sun4\w)[;\)]/i],[[q,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[q,ye]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[S,[v,ft],[h,J]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[S,[v,ft],[h,ie]],[/\((ip(?:hone|od)[\w ]*);/i],[S,[v,de],[h,ie]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[S,[v,de],[h,J]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[S,[v,"Huawei"],[h,J]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[S,[v,"Huawei"],[h,ie]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[S,/_/g," "],[v,"Xiaomi"],[h,ie]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[S,/_/g," "],[v,"Xiaomi"],[h,J]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[S,[v,"OPPO"],[h,ie]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[S,[v,"Vivo"],[h,ie]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[S,[v,"Realme"],[h,ie]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[S,[v,rt],[h,ie]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[S,[v,rt],[h,J]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[S,[v,"LG"],[h,J]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[S,[v,"LG"],[h,ie]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[S,[v,"Lenovo"],[h,J]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[S,/_/g," "],[v,"Nokia"],[h,ie]],[/(pixel c)\b/i],[S,[v,je],[h,J]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[S,[v,je],[h,ie]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[S,[v,Pe],[h,ie]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[S,"Xperia Tablet"],[v,Pe],[h,J]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[S,[v,"OnePlus"],[h,ie]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[S,[v,K],[h,J]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[S,/(.+)/g,"Fire Phone $1"],[v,K],[h,ie]],[/(playbook);[-\w\),; ]+(rim)/i],[S,v,[h,J]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[S,[v,ze],[h,ie]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[S,[v,"ASUS"],[h,J]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[S,[v,"ASUS"],[h,ie]],[/(nexus 9)/i],[S,[v,"HTC"],[h,J]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[v,[S,/_/g," "],[h,ie]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[S,[v,"Acer"],[h,J]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[S,[v,"Meizu"],[h,ie]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[S,[v,"Sharp"],[h,ie]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,S,[h,ie]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,S,[h,J]],[/(surface duo)/i],[S,[v,Ve],[h,J]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[S,[v,"Fairphone"],[h,ie]],[/(u304aa)/i],[S,[v,"AT&T"],[h,ie]],[/\bsie-(\w*)/i],[S,[v,"Siemens"],[h,ie]],[/\b(rct\w+) b/i],[S,[v,"RCA"],[h,J]],[/\b(venue[\d ]{2,7}) b/i],[S,[v,"Dell"],[h,J]],[/\b(q(?:mv|ta)\w+) b/i],[S,[v,"Verizon"],[h,J]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[S,[v,"Barnes & Noble"],[h,J]],[/\b(tm\d{3}\w+) b/i],[S,[v,"NuVision"],[h,J]],[/\b(k88) b/i],[S,[v,"ZTE"],[h,J]],[/\b(nx\d{3}j) b/i],[S,[v,"ZTE"],[h,ie]],[/\b(gen\d{3}) b.+49h/i],[S,[v,"Swiss"],[h,ie]],[/\b(zur\d{3}) b/i],[S,[v,"Swiss"],[h,J]],[/\b((zeki)?tb.*\b) b/i],[S,[v,"Zeki"],[h,J]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],S,[h,J]],[/\b(ns-?\w{0,9}) b/i],[S,[v,"Insignia"],[h,J]],[/\b((nxa|next)-?\w{0,9}) b/i],[S,[v,"NextBook"],[h,J]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],S,[h,ie]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],S,[h,ie]],[/\b(ph-1) /i],[S,[v,"Essential"],[h,ie]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[S,[v,"Envizen"],[h,J]],[/\b(trio[-\w\. ]+) b/i],[S,[v,"MachSpeed"],[h,J]],[/\btu_(1491) b/i],[S,[v,"Rotor"],[h,J]],[/(shield[\w ]+) b/i],[S,[v,"Nvidia"],[h,J]],[/(sprint) (\w+)/i],[v,S,[h,ie]],[/(kin\.[onetw]{3})/i],[[S,/\./g," "],[v,Ve],[h,ie]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[S,[v,Pt],[h,J]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[S,[v,Pt],[h,ie]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,S,[h,W]],[/droid.+; (shield) bui/i],[S,[v,"Nvidia"],[h,W]],[/(playstation [345portablevi]+)/i],[S,[v,Pe],[h,W]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[S,[v,Ve],[h,W]],[/smart-tv.+(samsung)/i],[v,[h,le]],[/hbbtv.+maple;(\d+)/i],[[S,/^/,"SmartTV"],[v,ft],[h,le]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,"LG"],[h,le]],[/(apple) ?tv/i],[v,[S,de+" TV"],[h,le]],[/crkey/i],[[S,pe+"cast"],[v,je],[h,le]],[/droid.+aft(\w)( bui|\))/i],[S,[v,K],[h,le]],[/\(dtv[\);].+(aquos)/i],[S,[v,"Sharp"],[h,le]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,at],[S,at],[h,le]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,le]],[/((pebble))app/i],[v,S,[h,Z]],[/droid.+; (glass) \d/i],[S,[v,je],[h,Z]],[/droid.+; (wt63?0{2,3})\)/i],[S,[v,Pt],[h,Z]],[/(quest( 2)?)/i],[S,[v,$e],[h,Z]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[h,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[S,[h,ie]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[S,[h,J]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,J]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,ie]],[/(android[-\w\. ]{0,9});.+buil/i],[S,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[x,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[x,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[x,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,x]],os:[[/microsoft (windows) (vista|xp)/i],[x,w],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[x,[w,_,R]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[x,"Windows"],[w,_,R]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[x,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[x,"Mac OS"],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[w,x],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[x,w],[/\(bb(10);/i],[w,[x,ze]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[x,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[x,Mt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[x,"webOS"]],[/crkey\/([\d\.]+)/i],[w,[x,pe+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[x,"Chromium OS"],w],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[x,w],[/(sunos) ?([\w\.\d]*)/i],[[x,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[x,w]]},ue=function(Ge,We){if(typeof Ge===T&&(We=Ge,Ge=d),!(this instanceof ue))return new ue(Ge,We).getResult();var Fe=Ge||(typeof P!==N&&P.navigator&&P.navigator.userAgent?P.navigator.userAgent:""),et=We?function(it,Me){var Ke={};for(var Xe in it)Ke[Xe]=Me[Xe]&&Me[Xe].length%2==0?Me[Xe].concat(it[Xe]):it[Xe];return Ke}(M,We):M;return this.getBrowser=function(){var it,Me={};return Me[x]=d,Me[w]=d,E.call(Me,Fe,et.browser),Me.major=typeof(it=Me.version)===g?it.replace(/[^\d\.]/g,"").split(".")[0]:d,Me},this.getCPU=function(){var it={};return it[q]=d,E.call(it,Fe,et.cpu),it},this.getDevice=function(){var it={};return it[v]=d,it[S]=d,it[h]=d,E.call(it,Fe,et.device),it},this.getEngine=function(){var it={};return it[x]=d,it[w]=d,E.call(it,Fe,et.engine),it},this.getOS=function(){var it={};return it[x]=d,it[w]=d,E.call(it,Fe,et.os),it},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Fe},this.setUA=function(it){return Fe=typeof it===g&&it.length>255?at(it,255):it,this},this.setUA(Fe),this};ue.VERSION="1.0.2",ue.BROWSER=ut([x,w,"major"]),ue.CPU=ut([q]),ue.DEVICE=ut([S,v,h,W,ie,le,J,Z,k]),ue.ENGINE=ue.OS=ut([x,w]),typeof He!==N?(St.exports&&(He=St.exports=ue),He.UAParser=ue):L.amdO?(be=function(){return ue}.call(He,L,He,St))===d||(St.exports=be):typeof P!==N&&(P.UAParser=ue);var ae=typeof P!==N&&(P.jQuery||P.Zepto);if(ae&&!ae.ua){var Ie=new ue;ae.ua=Ie.getResult(),ae.ua.get=function(){return Ie.getUA()},ae.ua.set=function(Ge){Ie.setUA(Ge);var We=Ie.getResult();for(var Fe in We)ae.ua[Fe]=We[Fe]}}}("object"==typeof window?window:this)},7839:(St,He,L)=>{function be(P){try{if(!L.g.localStorage)return!1}catch{return!1}var d=L.g.localStorage[P];return null!=d&&"true"===String(d).toLowerCase()}St.exports=function(P,d){if(be("noDeprecation"))return P;var f=!1;return function(){if(!f){if(be("throwDeprecation"))throw new Error(d);be("traceDeprecation")?console.trace(d):console.warn(d),f=!0}return P.apply(this,arguments)}}},9862:()=>{},964:()=>{},3165:St=>{"use strict";St.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:St=>{"use strict";St.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:St=>{"use strict";St.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:St=>{"use strict";St.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:St=>{"use strict";St.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:St=>{"use strict";St.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},Ni={};function Kn(St){var He=Ni[St];if(void 0!==He)return He.exports;var L=Ni[St]={exports:{}};return il[St].call(L.exports,L,L.exports,Kn),L.exports}Kn.amdO={},Kn.n=St=>{var He=St&&St.__esModule?()=>St.default:()=>St;return Kn.d(He,{a:He}),He},Kn.d=(St,He)=>{for(var L in He)Kn.o(He,L)&&!Kn.o(St,L)&&Object.defineProperty(St,L,{enumerable:!0,get:He[L]})},Kn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Kn.o=(St,He)=>Object.prototype.hasOwnProperty.call(St,He);var $o={};return(()=>{"use strict";Kn.d($o,{default:()=>T}),Kn(8416);var St,He=Kn(1715),L=Kn(8080),be=Kn(1737),P=Kn(7688),d=function(){var g,S="application/dash+xml";function x(v,w,q){if(!v||!/^VIDEO$/i.test(v.nodeName))return null;if(v._dashjs_player)return v._dashjs_player;var W,ie=v.id||v.name||"video element";if(!(w=w||[].slice.call(v.querySelectorAll("source")).filter(function(J){return J.type==S})[0])&&v.src)(w=document.createElement("source")).src=v.src;else if(!w&&!v.src)return null;return(W=(0,P.Z)(q=q||{}).create()).initialize(v,w.src,v.autoplay),g||(g=W.getDebug().getLogger()),g.debug("Converted "+ie+" to dash.js player and added content: "+w.src),v._dashjs_player=W,W}function h(v){return/^VIDEO$/i.test(v.nodeName)?v:h(v.parentNode)}return{create:x,createAll:function(v,w){var q=[];v=v||"[data-dashjs-player]";for(var W=(w=w||document).querySelectorAll(v),ie=0;ie<W.length;ie++){var J=x(W[ie],null);q.push(J)}for(var le=w.querySelectorAll('source[type="'+S+'"]'),Z=0;Z<le.length;Z++){var k=x(h(le[Z]),null);q.push(k)}return q}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?d.createAll():St=window.setInterval(function(){window.dashjs&&(window.clearInterval(St),d.createAll())},500):window.addEventListener("load",function g(){window.removeEventListener("load",g),d.createAll()}));const f=d;var N=Kn(6398);dashjs.Protection=be.default,dashjs.MetricsReporting=L.default,dashjs.MediaPlayerFactory=f,dashjs.Debug=N.Z,dashjs.supportsMediaSource=He.B;const T=dashjs})(),$o.default})()},307:()=>{var rl,il;il=rl||(rl={}),function(Ni){var Kn="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),$o=St(il);function St(He,L){return function(be,P){"function"!=typeof He[be]&&Object.defineProperty(He,be,{configurable:!0,writable:!0,value:P}),L&&L(be,P)}}typeof Kn.Reflect>"u"?Kn.Reflect=il:$o=St(Kn.Reflect,$o),function(Ni){var Kn=Object.prototype.hasOwnProperty,$o="function"==typeof Symbol,St=$o&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",He=$o&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",L="function"==typeof Object.create,be={__proto__:[]}instanceof Array,P=!L&&!be,d={create:L?function(){return it(Object.create(null))}:be?function(){return it({__proto__:null})}:function(){return it({})},has:P?function(Me,Ke){return Kn.call(Me,Ke)}:function(Me,Ke){return Ke in Me},get:P?function(Me,Ke){return Kn.call(Me,Ke)?Me[Ke]:void 0}:function(Me,Ke){return Me[Ke]}},f=Object.getPrototypeOf(Function),N="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,T=N||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function We(){var Me={},Ke=[],Xe=function(){function Mn(Tn,vn,Gn){this._index=0,this._keys=Tn,this._values=vn,this._selector=Gn}return Mn.prototype["@@iterator"]=function(){return this},Mn.prototype[He]=function(){return this},Mn.prototype.next=function(){var Tn=this._index;if(Tn>=0&&Tn<this._keys.length){var vn=this._selector(this._keys[Tn],this._values[Tn]);return Tn+1>=this._keys.length?(this._index=-1,this._keys=Ke,this._values=Ke):this._index++,{value:vn,done:!1}}return{value:void 0,done:!0}},Mn.prototype.throw=function(Tn){throw this._index>=0&&(this._index=-1,this._keys=Ke,this._values=Ke),Tn},Mn.prototype.return=function(Tn){return this._index>=0&&(this._index=-1,this._keys=Ke,this._values=Ke),{value:Tn,done:!0}},Mn}();return function(){function Mn(){this._keys=[],this._values=[],this._cacheKey=Me,this._cacheIndex=-2}return Object.defineProperty(Mn.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Mn.prototype.has=function(Tn){return this._find(Tn,!1)>=0},Mn.prototype.get=function(Tn){var vn=this._find(Tn,!1);return vn>=0?this._values[vn]:void 0},Mn.prototype.set=function(Tn,vn){var Gn=this._find(Tn,!0);return this._values[Gn]=vn,this},Mn.prototype.delete=function(Tn){var vn=this._find(Tn,!1);if(vn>=0){for(var Gn=this._keys.length,Zn=vn+1;Zn<Gn;Zn++)this._keys[Zn-1]=this._keys[Zn],this._values[Zn-1]=this._values[Zn];return this._keys.length--,this._values.length--,Tn===this._cacheKey&&(this._cacheKey=Me,this._cacheIndex=-2),!0}return!1},Mn.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Me,this._cacheIndex=-2},Mn.prototype.keys=function(){return new Xe(this._keys,this._values,Et)},Mn.prototype.values=function(){return new Xe(this._keys,this._values,xt)},Mn.prototype.entries=function(){return new Xe(this._keys,this._values,rn)},Mn.prototype["@@iterator"]=function(){return this.entries()},Mn.prototype[He]=function(){return this.entries()},Mn.prototype._find=function(Tn,vn){return this._cacheKey!==Tn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Tn)),this._cacheIndex<0&&vn&&(this._cacheIndex=this._keys.length,this._keys.push(Tn),this._values.push(void 0)),this._cacheIndex},Mn}();function Et(Mn,Tn){return Mn}function xt(Mn,Tn){return Tn}function rn(Mn,Tn){return[Mn,Tn]}}():Map,g=N||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Fe(){return function(){function Me(){this._map=new T}return Object.defineProperty(Me.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Me.prototype.has=function(Ke){return this._map.has(Ke)},Me.prototype.add=function(Ke){return this._map.set(Ke,Ke),this},Me.prototype.delete=function(Ke){return this._map.delete(Ke)},Me.prototype.clear=function(){this._map.clear()},Me.prototype.keys=function(){return this._map.keys()},Me.prototype.values=function(){return this._map.values()},Me.prototype.entries=function(){return this._map.entries()},Me.prototype["@@iterator"]=function(){return this.keys()},Me.prototype[He]=function(){return this.keys()},Me}()}():Set,x=new(N||"function"!=typeof WeakMap?function et(){var Me=16,Ke=d.create(),Xe=Et();return function(){function vn(){this._key=Et()}return vn.prototype.has=function(Gn){var Zn=xt(Gn,!1);return void 0!==Zn&&d.has(Zn,this._key)},vn.prototype.get=function(Gn){var Zn=xt(Gn,!1);return void 0!==Zn?d.get(Zn,this._key):void 0},vn.prototype.set=function(Gn,Zn){return xt(Gn,!0)[this._key]=Zn,this},vn.prototype.delete=function(Gn){var Zn=xt(Gn,!1);return void 0!==Zn&&delete Zn[this._key]},vn.prototype.clear=function(){this._key=Et()},vn}();function Et(){var vn;do{vn="@@WeakMap@@"+Tn()}while(d.has(Ke,vn));return Ke[vn]=!0,vn}function xt(vn,Gn){if(!Kn.call(vn,Xe)){if(!Gn)return;Object.defineProperty(vn,Xe,{value:d.create()})}return vn[Xe]}function rn(vn,Gn){for(var Zn=0;Zn<Gn;++Zn)vn[Zn]=255*Math.random()|0;return vn}function Tn(){var vn=function Mn(vn){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(vn)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(vn)):rn(new Uint8Array(vn),vn):rn(new Array(vn),vn)}(Me);vn[6]=79&vn[6]|64,vn[8]=191&vn[8]|128;for(var Gn="",Zn=0;Zn<Me;++Zn){var vr=vn[Zn];(4===Zn||6===Zn||8===Zn)&&(Gn+="-"),vr<16&&(Gn+="0"),Gn+=vr.toString(16).toLowerCase()}return Gn}}():WeakMap);function ce(Me,Ke,Xe){var Et=x.get(Me);if(rt(Et)){if(!Xe)return;Et=new T,x.set(Me,Et)}var xt=Et.get(Ke);if(rt(xt)){if(!Xe)return;xt=new T,Et.set(Ke,xt)}return xt}function ze(Me,Ke,Xe){if(st(Me,Ke,Xe))return!0;var xt=Ge(Ke);return!It(xt)&&ze(Me,xt,Xe)}function st(Me,Ke,Xe){var Et=ce(Ke,Xe,!1);return!rt(Et)&&function $e(Me){return!!Me}(Et.has(Me))}function pe(Me,Ke,Xe){if(st(Me,Ke,Xe))return Mt(Me,Ke,Xe);var xt=Ge(Ke);return It(xt)?void 0:pe(Me,xt,Xe)}function Mt(Me,Ke,Xe){var Et=ce(Ke,Xe,!1);if(!rt(Et))return Et.get(Me)}function je(Me,Ke,Xe,Et){ce(Xe,Et,!0).set(Me,Ke)}function Ye(Me,Ke){var Xe=Ne(Me,Ke),Et=Ge(Me);if(null===Et)return Xe;var xt=Ye(Et,Ke);if(xt.length<=0)return Xe;if(Xe.length<=0)return xt;for(var rn=new g,Mn=[],Tn=0,vn=Xe;Tn<vn.length;Tn++)rn.has(Gn=vn[Tn])||(rn.add(Gn),Mn.push(Gn));for(var vr=0,mi=xt;vr<mi.length;vr++){var Gn;rn.has(Gn=mi[vr])||(rn.add(Gn),Mn.push(Gn))}return Mn}function Ne(Me,Ke){var Xe=[],Et=ce(Me,Ke,!1);if(rt(Et))return Xe;for(var rn=function M(Me){var Ke=R(Me,He);if(!at(Ke))throw new TypeError;var Xe=Ke.call(Me);if(!Pe(Xe))throw new TypeError;return Xe}(Et.keys()),Mn=0;;){var Tn=ae(rn);if(!Tn)return Xe.length=Mn,Xe;var vn=ue(Tn);try{Xe[Mn]=vn}catch(Gn){try{Ie(rn)}finally{throw Gn}}Mn++}}function Ve(Me){if(null===Me)return 1;switch(typeof Me){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Me?1:6;default:return 6}}function rt(Me){return void 0===Me}function It(Me){return null===Me}function Pe(Me){return"object"==typeof Me?null!==Me:"function"==typeof Me}function pt(Me,Ke){switch(Ve(Me)){case 0:case 1:case 2:case 3:case 4:case 5:return Me}var Xe=3===Ke?"string":5===Ke?"number":"default",Et=R(Me,St);if(void 0!==Et){var xt=Et.call(Me,Xe);if(Pe(xt))throw new TypeError;return xt}return function Pt(Me,Ke){if("string"===Ke){var Xe=Me.toString;if(at(Xe)&&!Pe(Et=Xe.call(Me)))return Et;if(at(xt=Me.valueOf)&&!Pe(Et=xt.call(Me)))return Et}else{var xt;if(at(xt=Me.valueOf)&&!Pe(Et=xt.call(Me)))return Et;var Et,rn=Me.toString;if(at(rn)&&!Pe(Et=rn.call(Me)))return Et}throw new TypeError}(Me,"default"===Xe?"number":Xe)}function Se(Me){var Ke=pt(Me,3);return function ft(Me){return"symbol"==typeof Me}(Ke)?Ke:function ut(Me){return""+Me}(Ke)}function ye(Me){return Array.isArray?Array.isArray(Me):Me instanceof Object?Me instanceof Array:"[object Array]"===Object.prototype.toString.call(Me)}function at(Me){return"function"==typeof Me}function E(Me){return"function"==typeof Me}function R(Me,Ke){var Xe=Me[Ke];if(null!=Xe){if(!at(Xe))throw new TypeError;return Xe}}function ue(Me){return Me.value}function ae(Me){var Ke=Me.next();return!Ke.done&&Ke}function Ie(Me){var Ke=Me.return;Ke&&Ke.call(Me)}function Ge(Me){var Ke=Object.getPrototypeOf(Me);if("function"!=typeof Me||Me===f||Ke!==f)return Ke;var Xe=Me.prototype,Et=Xe&&Object.getPrototypeOf(Xe);if(null==Et||Et===Object.prototype)return Ke;var xt=Et.constructor;return"function"!=typeof xt||xt===Me?Ke:xt}function it(Me){return Me.__=void 0,delete Me.__,Me}Ni("decorate",function h(Me,Ke,Xe,Et){if(rt(Xe)){if(!ye(Me))throw new TypeError;if(!E(Ke))throw new TypeError;return function K(Me,Ke){for(var Xe=Me.length-1;Xe>=0;--Xe){var xt=(0,Me[Xe])(Ke);if(!rt(xt)&&!It(xt)){if(!E(xt))throw new TypeError;Ke=xt}}return Ke}(Me,Ke)}if(!ye(Me))throw new TypeError;if(!Pe(Ke))throw new TypeError;if(!Pe(Et)&&!rt(Et)&&!It(Et))throw new TypeError;return It(Et)&&(Et=void 0),function de(Me,Ke,Xe,Et){for(var xt=Me.length-1;xt>=0;--xt){var Mn=(0,Me[xt])(Ke,Xe,Et);if(!rt(Mn)&&!It(Mn)){if(!Pe(Mn))throw new TypeError;Et=Mn}}return Et}(Me,Ke,Xe=Se(Xe),Et)}),Ni("metadata",function v(Me,Ke){return function Xe(Et,xt){if(!Pe(Et))throw new TypeError;if(!rt(xt)&&!function _(Me){switch(Ve(Me)){case 3:case 4:return!0;default:return!1}}(xt))throw new TypeError;je(Me,Ke,Et,xt)}}),Ni("defineMetadata",function w(Me,Ke,Xe,Et){if(!Pe(Xe))throw new TypeError;return rt(Et)||(Et=Se(Et)),je(Me,Ke,Xe,Et)}),Ni("hasMetadata",function q(Me,Ke,Xe){if(!Pe(Ke))throw new TypeError;return rt(Xe)||(Xe=Se(Xe)),ze(Me,Ke,Xe)}),Ni("hasOwnMetadata",function W(Me,Ke,Xe){if(!Pe(Ke))throw new TypeError;return rt(Xe)||(Xe=Se(Xe)),st(Me,Ke,Xe)}),Ni("getMetadata",function ie(Me,Ke,Xe){if(!Pe(Ke))throw new TypeError;return rt(Xe)||(Xe=Se(Xe)),pe(Me,Ke,Xe)}),Ni("getOwnMetadata",function J(Me,Ke,Xe){if(!Pe(Ke))throw new TypeError;return rt(Xe)||(Xe=Se(Xe)),Mt(Me,Ke,Xe)}),Ni("getMetadataKeys",function le(Me,Ke){if(!Pe(Me))throw new TypeError;return rt(Ke)||(Ke=Se(Ke)),Ye(Me,Ke)}),Ni("getOwnMetadataKeys",function Z(Me,Ke){if(!Pe(Me))throw new TypeError;return rt(Ke)||(Ke=Se(Ke)),Ne(Me,Ke)}),Ni("deleteMetadata",function k(Me,Ke,Xe){if(!Pe(Ke))throw new TypeError;rt(Xe)||(Xe=Se(Xe));var Et=ce(Ke,Xe,!1);if(rt(Et)||!Et.delete(Me))return!1;if(Et.size>0)return!0;var xt=x.get(Ke);return xt.delete(Xe),xt.size>0||x.delete(Ke),!0})}($o)}()}},rl=>{rl(rl.s=789)}]);