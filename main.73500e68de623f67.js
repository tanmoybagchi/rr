(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{542:(Fa,Ie,U)=>{"use strict";function m(n){return"function"==typeof n}function M(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const T=M(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function I(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class R{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(m(r))try{r()}catch(o){e=o instanceof T?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{D(o)}catch(u){e=e??[],u instanceof T?e=[...e,...u.errors]:e.push(u)}}if(e)throw new T(e)}}add(e){var t;if(e&&e!==this)if(this.closed)D(e);else{if(e instanceof R){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&I(t,e)}remove(e){const{_finalizers:t}=this;t&&I(t,e),e instanceof R&&e._removeParent(this)}}R.EMPTY=(()=>{const n=new R;return n.closed=!0,n})();const P=R.EMPTY;function w(n){return n instanceof R||n&&"closed"in n&&m(n.remove)&&m(n.add)&&m(n.unsubscribe)}function D(n){m(n)?n():n.unsubscribe()}const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},l={setTimeout(n,e,...t){const{delegate:r}=l;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=l;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function f(n){l.setTimeout(()=>{const{onUnhandledError:e}=c;if(!e)throw n;e(n)})}function d(){}const _=O("C",void 0,void 0);function O(n,e,t){return{kind:n,value:e,error:t}}let b=null;function v(n){if(c.useDeprecatedSynchronousErrorHandling){const e=!b;if(e&&(b={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=b;if(b=null,t)throw r}}else n()}class y extends R{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,w(e)&&e.add(this)):this.destination=le}static create(e,t,r){return new N(e,t,r)}next(e){this.isStopped?Z(function S(n){return O("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Z(function L(n){return O("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Z(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g=Function.prototype.bind;function A(n,e){return g.call(n,e)}class E{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){G(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){G(r)}else G(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){G(t)}}}class N extends y{constructor(e,t,r){let i;if(super(),m(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&c.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&A(e.next,o),error:e.error&&A(e.error,o),complete:e.complete&&A(e.complete,o)}):i=e}this.destination=new E(i)}}function G(n){c.useDeprecatedSynchronousErrorHandling?function p(n){c.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=n)}(n):f(n)}function Z(n,e){const{onStoppedNotification:t}=c;t&&l.setTimeout(()=>t(n,e))}const le={closed:!0,next:d,error:function ee(n){throw n},complete:d},H="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(n){return n}function Y(n){return 0===n.length?W:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let z=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function ye(n){return n&&n instanceof y||function oe(n){return n&&m(n.next)&&m(n.error)&&m(n.complete)}(n)&&w(n)}(t)?t:new N(t,r,i);return v(()=>{const{operator:u,source:h}=this;o.add(u?u.call(o,h):h?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ie(r))((i,o)=>{const u=new N({next:h=>{try{t(h)}catch(C){o(C),u.unsubscribe()}},error:o,complete:i});this.subscribe(u)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[H](){return this}pipe(...t){return Y(t)(this)}toPromise(t){return new(t=ie(t))((r,i)=>{let o;this.subscribe(u=>o=u,u=>i(u),()=>r(o))})}}return n.create=e=>new n(e),n})();function ie(n){var e;return null!==(e=n??c.Promise)&&void 0!==e?e:Promise}const J=M(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fe=(()=>{class n extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ae(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new J}next(t){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?P:(this.currentObservers=null,o.push(t),new R(()=>{this.currentObservers=null,I(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new z;return t.source=this,t}}return n.create=(e,t)=>new ae(e,t),n})();class ae extends fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:P}}function pe(n){return m(n?.lift)}function he(n){return e=>{if(pe(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new ve(n,e,t,r,i)}class ve extends y{constructor(e,t,r,i,o,u){super(e),this.onFinalize=o,this.shouldUnsubscribe=u,this._next=t?function(h){try{t(h)}catch(C){e.error(C)}}:super._next,this._error=i?function(h){try{i(h)}catch(C){e.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(n,e){return he((t,r)=>{let i=0;t.subscribe(de(r,o=>{r.next(n.call(e,o,i++))}))})}function ue(n){return this instanceof ue?(this.v=n,this):new ue(n)}function be(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(Me){r[Me]&&(i[Me]=function(xe){return new Promise(function(Be,Qe){o.push([Me,xe,Be,Qe])>1||h(Me,xe)})})}function h(Me,xe){try{!function C(Me){Me.value instanceof ue?Promise.resolve(Me.value.v).then(k,Q):_e(o[0][2],Me)}(r[Me](xe))}catch(Be){_e(o[0][3],Be)}}function k(Me){h("next",Me)}function Q(Me){h("throw",Me)}function _e(Me,xe){Me(xe),o.shift(),o.length&&h(o[0][0],o[0][1])}}function Pe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function q(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(u){return new Promise(function(h,C){!function i(o,u,h,C){Promise.resolve(C).then(function(k){o({value:k,done:h})},u)}(h,C,(u=n[o](u)).done,u.value)})}}}const Je=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nt(n){return m(n?.then)}function at(n){return m(n[H])}function ht(n){return Symbol.asyncIterator&&m(n?.[Symbol.asyncIterator])}function wt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kt=function Vt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zt(n){return m(n?.[kt])}function en(n){return be(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ue(t.read());if(i)return yield ue(void 0);yield yield ue(r)}}finally{t.releaseLock()}})}function De(n){return m(n?.getReader)}function Te(n){if(n instanceof z)return n;if(null!=n){if(at(n))return function Le(n){return new z(e=>{const t=n[H]();if(m(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Je(n))return function Ye(n){return new z(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(nt(n))return function st(n){return new z(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,f)})}(n);if(ht(n))return ut(n);if(zt(n))return function tt(n){return new z(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(De(n))return function yt(n){return ut(en(n))}(n)}throw wt(n)}function ut(n){return new z(e=>{(function gt(n,e){var t,r,i,o;return function B(n,e,t,r){return new(t||(t=Promise))(function(o,u){function h(Q){try{k(r.next(Q))}catch(_e){u(_e)}}function C(Q){try{k(r.throw(Q))}catch(_e){u(_e)}}function k(Q){Q.done?o(Q.value):function i(o){return o instanceof t?o:new t(function(u){u(o)})}(Q.value).then(h,C)}k((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Pe(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ke(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function rt(n,e,t=1/0){return m(e)?rt((r,i)=>se((o,u)=>e(r,o,i,u))(Te(n(r,i))),t):("number"==typeof e&&(t=e),he((r,i)=>function Ze(n,e,t,r,i,o,u,h){const C=[];let k=0,Q=0,_e=!1;const Me=()=>{_e&&!C.length&&!k&&e.complete()},xe=Qe=>k<r?Be(Qe):C.push(Qe),Be=Qe=>{o&&e.next(Qe),k++;let dt=!1;Te(t(Qe,Q++)).subscribe(de(e,vt=>{i?.(vt),o?xe(vt):e.next(vt)},()=>{dt=!0},void 0,()=>{if(dt)try{for(k--;C.length&&k<r;){const vt=C.shift();u?ke(e,u,()=>Be(vt)):Be(vt)}Me()}catch(vt){e.error(vt)}}))};return n.subscribe(de(e,xe,()=>{_e=!0,Me()})),()=>{h?.()}}(r,i,n,t)))}function mt(n=1/0){return rt(W,n)}const Dt=new z(n=>n.complete());function mn(n){return n&&m(n.schedule)}function un(n){return n[n.length-1]}function Nn(n){return m(un(n))?n.pop():void 0}function er(n){return mn(un(n))?n.pop():void 0}function it(n,e=0){return he((t,r)=>{t.subscribe(de(r,i=>ke(r,n,()=>r.next(i),e),()=>ke(r,n,()=>r.complete(),e),i=>ke(r,n,()=>r.error(i),e)))})}function St(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sn(n,e){if(!n)throw new Error("Iterable cannot be null");return new z(t=>{ke(t,e,()=>{const r=n[Symbol.asyncIterator]();ke(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Fe(n,e){return e?function He(n,e){if(null!=n){if(at(n))return function je(n,e){return Te(n).pipe(St(e),it(e))}(n,e);if(Je(n))return function ct(n,e){return new z(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(nt(n))return function Xe(n,e){return Te(n).pipe(St(e),it(e))}(n,e);if(ht(n))return sn(n,e);if(zt(n))return function At(n,e){return new z(t=>{let r;return ke(t,e,()=>{r=n[kt](),ke(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(u){return void t.error(u)}o?t.complete():t.next(i)},0,!0)}),()=>m(r?.return)&&r.return()})}(n,e);if(De(n))return function Yt(n,e){return sn(en(n),e)}(n,e)}throw wt(n)}(n,e):Te(n)}function qe(...n){const e=er(n),t=function Ae(n,e){return"number"==typeof un(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Te(r[0]):mt(t)(Fe(r,e)):Dt}function ft(n={}){const{connector:e=(()=>new fe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let u,h,C,k=0,Q=!1,_e=!1;const Me=()=>{h?.unsubscribe(),h=void 0},xe=()=>{Me(),u=C=void 0,Q=_e=!1},Be=()=>{const Qe=u;xe(),Qe?.unsubscribe()};return he((Qe,dt)=>{k++,!_e&&!Q&&Me();const vt=C=C??e();dt.add(()=>{k--,0===k&&!_e&&!Q&&(h=Ot(Be,i))}),vt.subscribe(dt),!u&&k>0&&(u=new N({next:Nt=>vt.next(Nt),error:Nt=>{_e=!0,Me(),h=Ot(xe,t,Nt),vt.error(Nt)},complete:()=>{Q=!0,Me(),h=Ot(xe,r),vt.complete()}}),Te(Qe).subscribe(u))})(o)}}function Ot(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new N({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Mt(n){for(let e in n)if(n[e]===Mt)return e;throw Error("Could not find renamed property on target object.")}function Ke(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Et(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Et).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ut(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Xt=Mt({__forward_ref__:Mt});function tn(n){return n.__forward_ref__=tn,n.toString=function(){return Et(this())},n}function Ht(n){return Gn(n)?n():n}function Gn(n){return"function"==typeof n&&n.hasOwnProperty(Xt)&&n.__forward_ref__===tn}function zn(n){return n&&!!n.\u0275providers}const Li="https://g.co/ng/security#xss";class _t extends Error{constructor(e,t){super(function hi(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function fn(n){return"string"==typeof n?n:null==n?"":String(n)}function Ji(n,e){throw new _t(-201,!1)}function Fr(n,e){null==n&&function Ln(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function et(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function yn(n){return rr(n,Ro)||rr(n,_d)}function rr(n,e){return n.hasOwnProperty(e)?n[e]:null}function fs(n){return n&&(n.hasOwnProperty(ju)||n.hasOwnProperty(vd))?n[ju]:null}const Ro=Mt({\u0275prov:Mt}),ju=Mt({\u0275inj:Mt}),_d=Mt({ngInjectableDef:Mt}),vd=Mt({ngInjectorDef:Mt});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let Vu;function Ai(n){const e=Vu;return Vu=n,e}function yd(n,e,t){const r=yn(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&hn.Optional?null:void 0!==e?e:void Ji(Et(n))}const Zn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ds={},Hu="__NG_DI_FLAG__",al="ngTempTokenPath",Rp=/\n/gm,Ed="__source";let hs;function ja(n){const e=hs;return hs=n,e}function Op(n,e=hn.Default){if(void 0===hs)throw new _t(-203,!1);return null===hs?yd(n,void 0,e):hs.get(n,e&hn.Optional?null:void 0,e)}function lt(n,e=hn.Default){return(function Ip(){return Vu}()||Op)(Ht(n),e)}function vn(n,e=hn.Default){return lt(n,sl(e))}function sl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Wu(n){const e=[];for(let t=0;t<n.length;t++){const r=Ht(n[t]);if(Array.isArray(r)){if(0===r.length)throw new _t(900,!1);let i,o=hn.Default;for(let u=0;u<r.length;u++){const h=r[u],C=xp(h);"number"==typeof C?-1===C?i=h.token:o|=C:i=h}e.push(lt(i,o))}else e.push(lt(r))}return e}function ms(n,e){return n[Hu]=e,n.prototype[Hu]=e,n}function xp(n){return n[Hu]}function Po(n){return{toString:n}.toString()}var Ni=(()=>((Ni=Ni||{})[Ni.OnPush=0]="OnPush",Ni[Ni.Default=1]="Default",Ni))(),mi=(()=>{return(n=mi||(mi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",mi;var n})();const Fi={},jn=[],ul=Mt({\u0275cmp:Mt}),cl=Mt({\u0275dir:Mt}),fl=Mt({\u0275pipe:Mt}),Ku=Mt({\u0275mod:Mt}),ze=Mt({\u0275fac:Mt}),It=Mt({__NG_ELEMENT_ID__:Mt});let an=0;function Kt(n){return Po(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ni.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||jn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||mi.Emulated,id:"c"+an++,styles:n.styles||jn,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,u=n.features;return i.inputs=ob(n.inputs,r),i.outputs=ob(n.outputs),u&&u.forEach(h=>h(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Va).filter(ia):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(pi).filter(ia):null,i})}function Va(n){return Xn(n)||ti(n)}function ia(n){return null!==n}function $n(n){return Po(()=>({type:n.type,bootstrap:n.bootstrap||jn,declarations:n.declarations||jn,imports:n.imports||jn,exports:n.exports||jn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ob(n,e){if(null==n)return Fi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const Zt=Kt;function Xr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xn(n){return n[ul]||null}function ti(n){return n[cl]||null}function pi(n){return n[fl]||null}function ki(n,e){const t=n[Ku]||null;if(!t&&!0===e)throw new Error(`Type ${Et(n)} does not have '\u0275mod' property.`);return t}function Bi(n){return Array.isArray(n)&&"object"==typeof n[1]}function _o(n){return Array.isArray(n)&&!0===n[1]}function Bp(n){return 0!=(4&n.flags)}function $u(n){return n.componentOffset>-1}function Dd(n){return 1==(1&n.flags)}function vo(n){return null!==n.template}function YP(n){return 0!=(256&n[2])}function gs(n,e){return n.hasOwnProperty(ze)?n[ze]:null}class qP{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ui(){return fb}function fb(n){return n.type.prototype.ngOnChanges&&(n.setInput=ZP),QP}function QP(){const n=hb(this),e=n?.current;if(e){const t=n.previous;if(t===Fi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ZP(n,e,t,r){const i=this.declaredInputs[t],o=hb(n)||function JP(n,e){return n[db]=e}(n,{previous:Fi,current:null}),u=o.current||(o.current={}),h=o.previous,C=h[i];u[i]=new qP(C&&C.currentValue,e,h===Fi),n[r]=e}Ui.ngInherit=!0;const db="__ngSimpleChanges__";function hb(n){return n[db]||null}function qr(n){for(;Array.isArray(n);)n=n[0];return n}function Ad(n,e){return qr(e[n])}function ji(n,e){return qr(e[n.index])}function gb(n,e){return n.data[e]}function _l(n,e){return n[e]}function Vi(n,e){const t=e[n];return Bi(t)?t:t[0]}function Id(n){return 64==(64&n[2])}function Ha(n,e){return null==e?null:n[e]}function _b(n){n[18]=0}function jp(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const En={lFrame:Ab(null),bindingsEnabled:!0};function yb(){return En.bindingsEnabled}function Rt(){return En.lFrame.lView}function Fn(){return En.lFrame.tView}function ir(n){return En.lFrame.contextLView=n,n[8]}function or(n){return En.lFrame.contextLView=null,n}function Qr(){let n=Eb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Eb(){return En.lFrame.currentTNode}function xo(n,e){const t=En.lFrame;t.currentTNode=n,t.isParent=e}function Vp(){return En.lFrame.isParent}function Hp(){En.lFrame.isParent=!1}function _i(){const n=En.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function vl(){return En.lFrame.bindingIndex++}function sa(n){const e=En.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function dO(n,e){const t=En.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wp(e)}function Wp(n){En.lFrame.currentDirectiveIndex=n}function Cb(){return En.lFrame.currentQueryIndex}function Gp(n){En.lFrame.currentQueryIndex=n}function mO(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Mb(n,e,t){if(t&hn.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&hn.Host||(i=mO(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=En.lFrame=Db();return r.currentTNode=e,r.lView=n,!0}function zp(n){const e=Db(),t=n[1];En.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Db(){const n=En.lFrame,e=null===n?null:n.child;return null===e?Ab(n):e}function Ab(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Ib(){const n=En.lFrame;return En.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const wb=Ib;function Yp(){const n=Ib();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vi(){return En.lFrame.selectedIndex}function _s(n){En.lFrame.selectedIndex=n}function pr(){const n=En.lFrame;return gb(n.tView,n.selectedIndex)}function yl(){En.lFrame.currentNamespace="svg"}function wd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:C,ngAfterViewChecked:k,ngOnDestroy:Q}=o;u&&(n.contentHooks||(n.contentHooks=[])).push(-t,u),h&&((n.contentHooks||(n.contentHooks=[])).push(t,h),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,h)),C&&(n.viewHooks||(n.viewHooks=[])).push(-t,C),k&&((n.viewHooks||(n.viewHooks=[])).push(t,k),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,k)),null!=Q&&(n.destroyHooks||(n.destroyHooks=[])).push(t,Q)}}function Rd(n,e,t){Rb(n,e,3,t)}function Pd(n,e,t,r){(3&n[2])===t&&Rb(n,e,t,r)}function $p(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Rb(n,e,t,r){const o=r??-1,u=e.length-1;let h=0;for(let C=void 0!==r?65535&n[18]:0;C<u;C++)if("number"==typeof e[C+1]){if(h=e[C],null!=r&&h>=r)break}else e[C]<0&&(n[18]+=65536),(h<o||-1==o)&&(TO(n,t,e,C),n[18]=(4294901760&n[18])+C+2),C++}function TO(n,e,t,r){const i=t[r]<0,o=t[r+1],h=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(h)}finally{}}}else try{o.call(h)}finally{}}class qu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function qp(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],u=t[r++],h=t[r++];n.setAttribute(e,u,h,o)}else{const o=i,u=t[++r];Ob(o)?n.setProperty(e,o,u):n.setAttribute(e,o,u),r++}}return r}function Pb(n){return 3===n||4===n||6===n}function Ob(n){return 64===n.charCodeAt(0)}function Qu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||xb(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function xb(n,e,t,r,i){let o=0,u=n.length;if(-1===e)u=-1;else for(;o<n.length;){const h=n[o++];if("number"==typeof h){if(h===e){u=-1;break}if(h>e){u=o-1;break}}}for(;o<n.length;){const h=n[o];if("number"==typeof h)break;if(h===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==u&&(n.splice(u,0,e),o=u+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Lb(n){return-1!==n}function Od(n){return 32767&n}function xd(n,e){let t=function DO(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Qp=!0;function Ld(n){const e=Qp;return Qp=n,e}let AO=0;const Lo={};function Nd(n,e){const t=kb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Zp(r.data,n),Zp(e,null),Zp(r.blueprint,null));const i=Jp(n,e),o=n.injectorIndex;if(Lb(i)){const u=Od(i),h=xd(i,e),C=h[1].data;for(let k=0;k<8;k++)e[o+k]=h[u+k]|C[u+k]}return e[o+8]=i,o}function Zp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function kb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Jp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Kb(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function eg(n,e,t){!function IO(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(It)&&(r=t[It]),null==r&&(r=t[It]=AO++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Bb(n,e,t){if(t&hn.Optional||void 0!==n)return n;Ji()}function Ub(n,e,t,r){if(t&hn.Optional&&void 0===r&&(r=null),0==(t&(hn.Self|hn.Host))){const i=n[9],o=Ai(void 0);try{return i?i.get(e,r,t&hn.Optional):yd(e,r,t&hn.Optional)}finally{Ai(o)}}return Bb(r,0,t)}function jb(n,e,t,r=hn.Default,i){if(null!==n){if(1024&e[2]){const u=function xO(n,e,t,r,i){let o=n,u=e;for(;null!==o&&null!==u&&1024&u[2]&&!(256&u[2]);){const h=Vb(o,u,t,r|hn.Self,Lo);if(h!==Lo)return h;let C=o.parent;if(!C){const k=u[21];if(k){const Q=k.get(t,Lo,r);if(Q!==Lo)return Q}C=Kb(u),u=u[15]}o=C}return i}(n,e,t,r,Lo);if(u!==Lo)return u}const o=Vb(n,e,t,r,Lo);if(o!==Lo)return o}return Ub(e,t,r,i)}function Vb(n,e,t,r,i){const o=function PO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(It)?n[It]:void 0;return"number"==typeof e?e>=0?255&e:OO:e}(t);if("function"==typeof o){if(!Mb(e,n,r))return r&hn.Host?Bb(i,0,r):Ub(e,t,r,i);try{const u=o(r);if(null!=u||r&hn.Optional)return u;Ji()}finally{wb()}}else if("number"==typeof o){let u=null,h=kb(n,e),C=-1,k=r&hn.Host?e[16][6]:null;for((-1===h||r&hn.SkipSelf)&&(C=-1===h?Jp(n,e):e[h+8],-1!==C&&Wb(r,!1)?(u=e[1],h=Od(C),e=xd(C,e)):h=-1);-1!==h;){const Q=e[1];if(Hb(o,h,Q.data)){const _e=RO(h,e,t,u,r,k);if(_e!==Lo)return _e}C=e[h+8],-1!==C&&Wb(r,e[1].data[h+8]===k)&&Hb(o,h,e)?(u=Q,h=Od(C),e=xd(C,e)):h=-1}}return i}function RO(n,e,t,r,i,o){const u=e[1],h=u.data[n+8],Q=Fd(h,u,t,null==r?$u(h)&&Qp:r!=u&&0!=(3&h.type),i&hn.Host&&o===h);return null!==Q?vs(e,u,Q,h):Lo}function Fd(n,e,t,r,i){const o=n.providerIndexes,u=e.data,h=1048575&o,C=n.directiveStart,Q=o>>20,Me=i?h+Q:n.directiveEnd;for(let xe=r?h:h+Q;xe<Me;xe++){const Be=u[xe];if(xe<C&&t===Be||xe>=C&&Be.type===t)return xe}if(i){const xe=u[C];if(xe&&vo(xe)&&xe.type===t)return C}return null}function vs(n,e,t,r){let i=n[t];const o=e.data;if(function SO(n){return n instanceof qu}(i)){const u=i;u.resolving&&function ka(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new _t(-200,`Circular dependency in DI detected for ${n}${t}`)}(function On(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():fn(n)}(o[t]));const h=Ld(u.canSeeViewProviders);u.resolving=!0;const C=u.injectImpl?Ai(u.injectImpl):null;Mb(n,r,hn.Default);try{i=n[t]=u.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function bO(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const u=fb(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,u),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,u)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==C&&Ai(C),Ld(h),u.resolving=!1,wb()}}return i}function Hb(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Wb(n,e){return!(n&hn.Self||n&hn.Host&&e)}class bl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return jb(this._tNode,this._lView,e,sl(r),t)}}function OO(){return new bl(Qr(),Rt())}function Dr(n){return Po(()=>{const e=n.prototype.constructor,t=e[ze]||tg(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ze]||tg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tg(n){return Gn(n)?()=>{const e=tg(Ht(n));return e&&e()}:gs(n)}function Kb(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Tl(n){return function wO(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Pb(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Qr(),n)}const Cl="__parameters__";function Dl(n,e,t){return Po(()=>{const r=function ng(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const u=new i(...o);return h.annotation=u,h;function h(C,k,Q){const _e=C.hasOwnProperty(Cl)?C[Cl]:Object.defineProperty(C,Cl,{value:[]})[Cl];for(;_e.length<=Q;)_e.push(null);return(_e[Q]=_e[Q]||[]).push(u),C}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Ft{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=et({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ys(n,e){n.forEach(t=>Array.isArray(t)?ys(t,e):e(t))}function zb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function kd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ec(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Hi(n,e,t){let r=Al(n,e);return r>=0?n[1|r]=t:(r=~r,function kO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ig(n,e){const t=Al(n,e);if(t>=0)return n[1|t]}function Al(n,e){return function Yb(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),u=n[o<<t];if(e===u)return o<<t;u>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Ud=ms(Dl("Inject",n=>({token:n})),-1),la=ms(Dl("Optional"),8),Il=ms(Dl("SkipSelf"),4);var Ii=(()=>((Ii=Ii||{})[Ii.Important=1]="Important",Ii[Ii.DashCase=2]="DashCase",Ii))();const ug=new Map;let ox=0;const fg="__ngContext__";function ii(n,e){Bi(e)?(n[fg]=e[20],function sx(n){ug.set(n[20],n)}(e)):n[fg]=e}function hg(n,e){return undefined(n,e)}function ic(n){const e=n[3];return _o(e)?e[3]:e}function mg(n){return hT(n[13])}function pg(n){return hT(n[4])}function hT(n){for(;null!==n&&!_o(n);)n=n[4];return n}function Rl(n,e,t,r,i){if(null!=r){let o,u=!1;_o(r)?o=r:Bi(r)&&(u=!0,r=r[0]);const h=qr(r);0===n&&null!==t?null==i?yT(e,t,h):Es(e,t,h,i||null,!0):1===n&&null!==t?Es(e,t,h,i||null,!0):2===n?function Tg(n,e,t){const r=Hd(n,e);r&&function Ax(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,h,u):3===n&&e.destroyNode(h),null!=o&&function Rx(n,e,t,r,i){const o=t[7];o!==qr(t)&&Rl(e,n,r,o,i);for(let h=10;h<t.length;h++){const C=t[h];oc(C[1],C,n,e,r,o)}}(e,n,o,t,i)}}function _g(n,e,t){return n.createElement(e,t)}function pT(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,jp(i,-1)),t.splice(r,1)}function vg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&pT(i,r),e>0&&(n[t-1][4]=r[4]);const o=kd(n,10+e);!function yx(n,e){oc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const u=o[19];null!==u&&u.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function gT(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&oc(n,e,t,3,null,null),function Tx(n){let e=n[13];if(!e)return yg(n[1],n);for(;e;){let t=null;if(Bi(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Bi(e)&&yg(e[1],e),e=e[3];null===e&&(e=n),Bi(e)&&yg(e[1],e),t=e&&e[4]}e=t}}(e)}}function yg(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Dx(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof qu)){const o=t[r+1];if(Array.isArray(o))for(let u=0;u<o.length;u+=2){const h=i[o[u]],C=o[u+1];try{C.call(h)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function Mx(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const u=t[o+3];u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const u=r[i=t[o+1]];t[o].call(u)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&_o(e[3])){t!==e[3]&&pT(t,e);const r=e[19];null!==r&&r.detachView(n)}!function lx(n){ug.delete(n[20])}(e)}}function _T(n,e,t){return function vT(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===mi.None||o===mi.Emulated)return null}return ji(r,t)}}(n,e.parent,t)}function Es(n,e,t,r,i){n.insertBefore(e,t,r,i)}function yT(n,e,t){n.appendChild(e,t)}function ET(n,e,t,r,i){null!==r?Es(n,e,t,r,i):yT(n,e,t)}function Hd(n,e){return n.parentNode(e)}function bT(n,e,t){return ST(n,e,t)}let Gd,Mg,zd,ST=function TT(n,e,t){return 40&n.type?ji(n,t):null};function Wd(n,e,t,r){const i=_T(n,r,e),o=e[11],h=bT(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let C=0;C<t.length;C++)ET(o,i,t[C],h,!1);else ET(o,i,t,h,!1)}function Kd(n,e){if(null!==e){const t=e.type;if(3&t)return ji(e,n);if(4&t)return bg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Kd(n,r);{const i=n[e.index];return _o(i)?bg(-1,i):qr(i)}}if(32&t)return hg(e,n)()||qr(n[e.index]);{const r=MT(n,e);return null!==r?Array.isArray(r)?r[0]:Kd(ic(n[16]),r):Kd(n,e.next)}}return null}function MT(n,e){return null!==e?n[16][6].projection[e.projection]:null}function bg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Kd(r,i)}return e[7]}function Sg(n,e,t,r,i,o,u){for(;null!=t;){const h=r[t.index],C=t.type;if(u&&0===e&&(h&&ii(qr(h),r),t.flags|=2),32!=(32&t.flags))if(8&C)Sg(n,e,t.child,r,i,o,!1),Rl(e,n,i,h,o);else if(32&C){const k=hg(t,r);let Q;for(;Q=k();)Rl(e,n,i,Q,o);Rl(e,n,i,h,o)}else 16&C?DT(n,e,r,t,i,o):Rl(e,n,i,h,o);t=u?t.projectionNext:t.next}}function oc(n,e,t,r,i,o){Sg(t,r,n.firstChild,e,i,o,!1)}function DT(n,e,t,r,i,o){const u=t[16],C=u[6].projection[r.projection];if(Array.isArray(C))for(let k=0;k<C.length;k++)Rl(e,n,i,C[k],o);else Sg(n,e,C,u[3],i,o,!0)}function AT(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function IT(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&qp(n,e,r),null!==i&&AT(n,e,i),null!==o&&function Ox(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function bs(n){return function Cg(){if(void 0===Gd&&(Gd=null,Zn.trustedTypes))try{Gd=Zn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gd}()?.createHTML(n)||n}function Dg(){if(void 0===zd&&(zd=null,Zn.trustedTypes))try{zd=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zd}function RT(n){return Dg()?.createHTML(n)||n}function OT(n){return Dg()?.createScriptURL(n)||n}class Ts{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Li})`}}class kx extends Ts{getTypeName(){return"HTML"}}class Bx extends Ts{getTypeName(){return"Style"}}class Ux extends Ts{getTypeName(){return"Script"}}class jx extends Ts{getTypeName(){return"URL"}}class Vx extends Ts{getTypeName(){return"ResourceURL"}}function Wi(n){return n instanceof Ts?n.changingThisBreaksApplicationSecurity:n}function No(n,e){const t=function Hx(n){return n instanceof Ts&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Li})`)}return t===e}class $x{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(bs(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Xx{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=bs(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=bs(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const u=t.item(i).name;("xmlns:ns1"===u||0===u.indexOf("ns1:"))&&e.removeAttribute(u)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Qx=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Yd(n){return(n=String(n)).match(Qx)?n:"unsafe:"+n}function ua(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ac(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const LT=ua("area,br,col,hr,img,wbr"),NT=ua("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),FT=ua("rp,rt"),Ag=ac(LT,ac(NT,ua("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ac(FT,ua("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ac(FT,NT)),Ig=ua("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kT=ac(Ig,ua("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ua("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zx=ua("script,style,template");class Jx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ag.hasOwnProperty(t))return this.sanitizedSomething=!0,!Zx.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),u=o.name,h=u.toLowerCase();if(!kT.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let C=o.value;Ig[h]&&(C=Yd(C)),this.buf.push(" ",u,'="',BT(C),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ag.hasOwnProperty(t)&&!LT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(BT(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const eL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tL=/([^\#-~ |!])/g;function BT(n){return n.replace(/&/g,"&amp;").replace(eL,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(tL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $d;function UT(n,e){let t=null;try{$d=$d||function xT(n){const e=new Xx(n);return function qx(){try{return!!(new window.DOMParser).parseFromString(bs(""),"text/html")}catch{return!1}}()?new $x(e):e}(n);let r=e?String(e):"";t=$d.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=$d.getInertBodyElement(r)}while(r!==o);return bs((new Jx).sanitizeChildren(wg(t)||t))}finally{if(t){const r=wg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function wg(n){return"content"in n&&function nL(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Vn=(()=>((Vn=Vn||{})[Vn.NONE=0]="NONE",Vn[Vn.HTML=1]="HTML",Vn[Vn.STYLE=2]="STYLE",Vn[Vn.SCRIPT=3]="SCRIPT",Vn[Vn.URL=4]="URL",Vn[Vn.RESOURCE_URL=5]="RESOURCE_URL",Vn))();function Rg(n){const e=sc();return e?RT(e.sanitize(Vn.HTML,n)||""):No(n,"HTML")?RT(Wi(n)):UT(function wT(){return void 0!==Mg?Mg:typeof document<"u"?document:void 0}(),fn(n))}function jT(n){const e=sc();return e?e.sanitize(Vn.STYLE,n)||"":No(n,"Style")?Wi(n):fn(n)}function Pl(n){const e=sc();return e?e.sanitize(Vn.URL,n)||"":No(n,"URL")?Wi(n):Yd(fn(n))}function VT(n){const e=sc();if(e)return OT(e.sanitize(Vn.RESOURCE_URL,n)||"");if(No(n,"ResourceURL"))return OT(Wi(n));throw new _t(904,!1)}function sc(){const n=Rt();return n&&n[12]}const Xd=new Ft("ENVIRONMENT_INITIALIZER"),WT=new Ft("INJECTOR",-1),KT=new Ft("INJECTOR_DEF_TYPES");class GT{get(e,t=ds){if(t===ds){const r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return t}}function zT(n){return{\u0275providers:n}}function YT(...n){return{\u0275providers:$T(0,n),\u0275fromNgModule:!0}}function $T(n,...e){const t=[],r=new Set;let i;return ys(e,o=>{const u=o;Pg(u,t,[],r)&&(i||(i=[]),i.push(u))}),void 0!==i&&XT(i,t),t}function XT(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Og(i,o=>{e.push(o)})}}function Pg(n,e,t,r){if(!(n=Ht(n)))return!1;let i=null,o=fs(n);const u=!o&&Xn(n);if(o||u){if(u&&!u.standalone)return!1;i=n}else{const C=n.ngModule;if(o=fs(C),!o)return!1;i=C}const h=r.has(i);if(u){if(h)return!1;if(r.add(i),u.dependencies){const C="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const k of C)Pg(k,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!h){let k;r.add(i);try{ys(o.imports,Q=>{Pg(Q,e,t,r)&&(k||(k=[]),k.push(Q))})}finally{}void 0!==k&&XT(k,e)}if(!h){const k=gs(i)||(()=>new i);e.push({provide:i,useFactory:k,deps:jn},{provide:KT,useValue:i,multi:!0},{provide:Xd,useValue:()=>lt(i),multi:!0})}const C=o.providers;null==C||h||Og(C,Q=>{e.push(Q)})}}return i!==n&&void 0!==n.providers}function Og(n,e){for(let t of n)zn(t)&&(t=t.\u0275providers),Array.isArray(t)?Og(t,e):e(t)}const sL=Mt({provide:String,useValue:Mt});function xg(n){return null!==n&&"object"==typeof n&&sL in n}function Ss(n){return"function"==typeof n}const Lg=new Ft("Set Injector scope."),qd={},uL={};let Ng;function Qd(){return void 0===Ng&&(Ng=new GT),Ng}class Fo{}class ZT extends Fo{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kg(e,u=>this.processProvider(u)),this.records.set(WT,Ol(void 0,this)),i.has("environment")&&this.records.set(Fo,Ol(void 0,this));const o=this.records.get(Lg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(KT.multi,jn,hn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ja(this),r=Ai(void 0);try{return e()}finally{ja(t),Ai(r)}}get(e,t=ds,r=hn.Default){this.assertNotDestroyed(),r=sl(r);const i=ja(this),o=Ai(void 0);try{if(!(r&hn.SkipSelf)){let h=this.records.get(e);if(void 0===h){const C=function mL(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ft}(e)&&yn(e);h=C&&this.injectableDefInScope(C)?Ol(Fg(e),qd):null,this.records.set(e,h)}if(null!=h)return this.hydrate(e,h)}return(r&hn.Self?Qd():this.parent).get(e,t=r&hn.Optional&&t===ds?null:t)}catch(u){if("NullInjectorError"===u.name){if((u[al]=u[al]||[]).unshift(Et(e)),i)throw u;return function ll(n,e,t,r){const i=n[al];throw e[Ed]&&i.unshift(e[Ed]),n.message=function Lp(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if("object"==typeof e){let o=[];for(let u in e)if(e.hasOwnProperty(u)){let h=e[u];o.push(u+":"+("string"==typeof h?JSON.stringify(h):Et(h)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Rp,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[al]=null,n}(u,e,"R3InjectorError",this.source)}throw u}finally{Ai(o),ja(i)}}resolveInjectorInitializers(){const e=ja(this),t=Ai(void 0);try{const r=this.get(Xd.multi,jn,hn.Self);for(const i of r)i()}finally{ja(e),Ai(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _t(205,!1)}processProvider(e){let t=Ss(e=Ht(e))?e:Ht(e&&e.provide);const r=function fL(n){return xg(n)?Ol(void 0,n.useValue):Ol(JT(n),qd)}(e);if(Ss(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ol(void 0,qd,!0),i.factory=()=>Wu(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===qd&&(t.value=uL,t.value=t.factory()),"object"==typeof t.value&&t.value&&function hL(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ht(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Fg(n){const e=yn(n),t=null!==e?e.factory:gs(n);if(null!==t)return t;if(n instanceof Ft)throw new _t(204,!1);if(n instanceof Function)return function cL(n){const e=n.length;if(e>0)throw ec(e,"?"),new _t(204,!1);const t=function mr(n){const e=n&&(n[Ro]||n[_d]);if(e){const t=function to(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new _t(204,!1)}function JT(n,e,t){let r;if(Ss(n)){const i=Ht(n);return gs(i)||Fg(i)}if(xg(n))r=()=>Ht(n.useValue);else if(function QT(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Wu(n.deps||[]));else if(function qT(n){return!(!n||!n.useExisting)}(n))r=()=>lt(Ht(n.useExisting));else{const i=Ht(n&&(n.useClass||n.provide));if(!function dL(n){return!!n.deps}(n))return gs(i)||Fg(i);r=()=>new i(...Wu(n.deps))}return r}function Ol(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function kg(n,e){for(const t of n)Array.isArray(t)?kg(t,e):t&&zn(t)?kg(t.\u0275providers,e):e(t)}class pL{}class eS{}class _L{resolveComponentFactory(e){throw function gL(n){const e=Error(`No component factory found for ${Et(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let xl=(()=>{class n{}return n.NULL=new _L,n})();function vL(){return Ll(Qr(),Rt())}function Ll(n,e){return new kn(ji(n,e))}let kn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=vL,n})();function yL(n){return n instanceof kn?n.nativeElement:n}class lc{}let ca=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function EL(){const n=Rt(),t=Vi(Qr().index,n);return(Bi(t)?t:n)[11]}(),n})(),bL=(()=>{class n{}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>null}),n})();class Cs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const TL=new Cs("15.0.4"),Bg={};function jg(n){return n.ngOriginalError}class fa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&jg(e);for(;t&&jg(t);)t=jg(t);return t||null}}function da(n){return n instanceof Function?n():n}function rS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const iS="ng-template";function xL(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==rS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oS(n){return 4===n.type&&n.value!==iS}function LL(n,e,t){return e===(4!==n.type||t?n.value:iS)}function NL(n,e,t){let r=4;const i=n.attrs||[],o=function BL(n){for(let e=0;e<n.length;e++)if(Pb(n[e]))return e;return n.length}(i);let u=!1;for(let h=0;h<e.length;h++){const C=e[h];if("number"!=typeof C){if(!u)if(4&r){if(r=2|1&r,""!==C&&!LL(n,C,t)||""===C&&1===e.length){if(yo(r))return!1;u=!0}}else{const k=8&r?C:e[++h];if(8&r&&null!==n.attrs){if(!xL(n.attrs,k,t)){if(yo(r))return!1;u=!0}continue}const _e=FL(8&r?"class":C,i,oS(n),t);if(-1===_e){if(yo(r))return!1;u=!0;continue}if(""!==k){let Me;Me=_e>o?"":i[_e+1].toLowerCase();const xe=8&r?Me:null;if(xe&&-1!==rS(xe,k,0)||2&r&&k!==Me){if(yo(r))return!1;u=!0}}}}else{if(!u&&!yo(r)&&!yo(C))return!1;if(u&&yo(C))continue;u=!1,r=C|1&r}}return yo(r)||u}function yo(n){return 0==(1&n)}function FL(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const u=e[i];if(u===n)return i;if(3===u||6===u)o=!0;else{if(1===u||2===u){let h=e[++i];for(;"string"==typeof h;)h=e[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=o?1:2}return-1}return function UL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function aS(n,e,t=!1){for(let r=0;r<e.length;r++)if(NL(n,e[r],t))return!0;return!1}function jL(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function sS(n,e){return n?":not("+e.trim()+")":e}function VL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let u=n[t];if("string"==typeof u)if(2&r){const h=n[++t];i+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!yo(u)&&(e+=sS(o,i),i=""),r=u,o=o||!yo(r);t++}return""!==i&&(e+=sS(o,i)),e}const bn={};function Ct(n){lS(Fn(),Rt(),vi()+n,!1)}function lS(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Rd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Pd(e,o,0,t)}_s(t)}function dS(n,e=null,t=null,r){const i=hS(n,e,t,r);return i.resolveInjectorInitializers(),i}function hS(n,e=null,t=null,r,i=new Set){const o=[t||jn,YT(n)];return r=r||("object"==typeof n?void 0:Et(n)),new ZT(o,e||Qd(),r||null,i)}let Ri=(()=>{class n{static create(t,r){if(Array.isArray(t))return dS({name:""},r,t,"");{const i=t.name??"";return dS({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=ds,n.NULL=new GT,n.\u0275prov=et({token:n,providedIn:"any",factory:()=>lt(WT)}),n.__NG_ELEMENT_ID__=-1,n})();function Ve(n,e=hn.Default){const t=Rt();return null===t?lt(n,e):jb(Qr(),t,Ht(n),e)}function Gg(){throw new Error("invalid")}function ES(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const u=n.data[o];Gp(i),u.contentQueries(2,e[o],o)}}}function Jd(n,e,t,r,i,o,u,h,C,k,Q){const _e=e.blueprint.slice();return _e[0]=i,_e[2]=76|r,(null!==Q||n&&1024&n[2])&&(_e[2]|=1024),_b(_e),_e[3]=_e[15]=n,_e[8]=t,_e[10]=u||n&&n[10],_e[11]=h||n&&n[11],_e[12]=C||n&&n[12]||null,_e[9]=k||n&&n[9]||null,_e[6]=o,_e[20]=function ax(){return ox++}(),_e[21]=Q,_e[16]=2==e.type?n[16]:_e,_e}function kl(n,e,t,r,i){let o=n.data[e];if(null===o)o=function zg(n,e,t,r,i){const o=Eb(),u=Vp(),C=n.data[e]=function hN(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=C),null!==o&&(u?null==o.child&&null!==C.parent&&(o.child=C):null===o.next&&(o.next=C)),C}(n,e,t,r,i),function fO(){return En.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const u=function Xu(){const n=En.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===u?-1:u.injectorIndex}return xo(o,!0),o}function uc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Yg(n,e,t){zp(e);try{const r=n.viewQuery;null!==r&&r_(1,r,t);const i=n.template;null!==i&&bS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ES(n,e),n.staticViewQueries&&r_(2,n.viewQuery,t);const o=n.components;null!==o&&function cN(n,e){for(let t=0;t<e.length;t++)ON(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Yp()}}function eh(n,e,t,r){const i=e[2];if(128!=(128&i)){zp(e);try{_b(e),function Tb(n){return En.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&bS(n,e,t,2,r);const u=3==(3&i);if(u){const k=n.preOrderCheckHooks;null!==k&&Rd(e,k,null)}else{const k=n.preOrderHooks;null!==k&&Pd(e,k,0,null),$p(e,0)}if(function RN(n){for(let e=mg(n);null!==e;e=pg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&jp(o,1),i[2]|=512}}}(e),function wN(n){for(let e=mg(n);null!==e;e=pg(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Id(r)&&eh(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&ES(n,e),u){const k=n.contentCheckHooks;null!==k&&Rd(e,k)}else{const k=n.contentHooks;null!==k&&Pd(e,k,1),$p(e,1)}!function lN(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)_s(~i);else{const o=i,u=t[++r],h=t[++r];dO(u,o),h(2,e[o])}}}finally{_s(-1)}}(n,e);const h=n.components;null!==h&&function uN(n,e){for(let t=0;t<e.length;t++)PN(n,e[t])}(e,h);const C=n.viewQuery;if(null!==C&&r_(2,C,r),u){const k=n.viewCheckHooks;null!==k&&Rd(e,k)}else{const k=n.viewHooks;null!==k&&Pd(e,k,2),$p(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,jp(e[3],-1))}finally{Yp()}}}function bS(n,e,t,r,i){const o=vi(),u=2&r;try{_s(-1),u&&e.length>22&&lS(n,e,22,!1),t(r,i)}finally{_s(o)}}function $g(n,e,t){if(Bp(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const u=n.data[o];u.contentQueries&&u.contentQueries(1,t[o],o)}}}function Xg(n,e,t){!yb()||(function yN(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;$u(t)&&function DN(n,e,t){const r=ji(e,n),i=TS(t),o=n[10],u=th(n,Jd(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=u}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Nd(t,e),ii(r,e);const u=t.initialInputs;for(let h=i;h<o;h++){const C=n.data[h],k=vs(e,n,h,t);ii(k,e),null!==u&&AN(0,h-i,k,C,0,u),vo(C)&&(Vi(t.index,e)[8]=vs(e,n,h,t))}}(n,e,t,ji(t,e)),64==(64&t.flags)&&IS(n,e,t))}function qg(n,e,t=ji){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const u=r[o+1],h=-1===u?t(e,n):n[u];n[i++]=h}}}function TS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Qg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Qg(n,e,t,r,i,o,u,h,C,k){const Q=22+r,_e=Q+i,Me=function fN(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:bn);return t}(Q,_e),xe="function"==typeof k?k():k;return Me[1]={type:n,blueprint:Me,template:t,queries:null,viewQuery:h,declTNode:e,data:Me.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:C,consts:xe,incompleteFirstPass:!1}}function SS(n,e,t,r){const i=RS(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&PS(n).push(r,i.length-1))}function CS(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?MS(t,e,i,o):r.hasOwnProperty(i)&&MS(t,e,r[i],o)}return t}function MS(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Ki(n,e,t,r,i,o,u,h){const C=ji(e,t);let Q,k=e.inputs;!h&&null!=k&&(Q=k[r])?(i_(n,t,Q,r,i),$u(e)&&DS(t,e.index)):3&e.type&&(r=function pN(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=u?u(i,e.value||"",r):i,o.setProperty(C,r,i))}function DS(n,e){const t=Vi(e,n);16&t[2]||(t[2]|=32)}function Zg(n,e,t,r){let i=!1;if(yb()){const o=null===r?null:{"":-1},u=function bN(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const u=t[o];if(aS(e,u.selectors,!1))if(r||(r=[]),vo(u))if(null!==u.findHostDirectiveDefs){const h=[];i=i||new Map,u.findHostDirectiveDefs(u,h,i),r.unshift(...h,u),Jg(n,e,h.length)}else r.unshift(u),Jg(n,e,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(n,t);let h,C;null===u?h=C=null:[h,C]=u,null!==h&&(i=!0,AS(n,e,t,h,o,C)),o&&function TN(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new _t(-301,!1);r.push(e[i],o)}}}(t,r,o)}return t.mergedAttrs=Qu(t.mergedAttrs,t.attrs),i}function AS(n,e,t,r,i,o){for(let k=0;k<r.length;k++)eg(Nd(t,e),n,r[k].type);!function CN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let k=0;k<r.length;k++){const Q=r[k];Q.providersResolver&&Q.providersResolver(Q)}let u=!1,h=!1,C=uc(n,e,r.length,null);for(let k=0;k<r.length;k++){const Q=r[k];t.mergedAttrs=Qu(t.mergedAttrs,Q.hostAttrs),MN(n,t,e,C,Q),SN(C,Q,i),null!==Q.contentQueries&&(t.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(t.flags|=64);const _e=Q.type.prototype;!u&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),u=!0),!h&&(_e.ngOnChanges||_e.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),h=!0),C++}!function mN(n,e,t){const i=e.directiveEnd,o=n.data,u=e.attrs,h=[];let C=null,k=null;for(let Q=e.directiveStart;Q<i;Q++){const _e=o[Q],Me=t?t.get(_e):null,Be=Me?Me.outputs:null;C=CS(_e.inputs,Q,C,Me?Me.inputs:null),k=CS(_e.outputs,Q,k,Be);const Qe=null===C||null===u||oS(e)?null:IN(C,Q,u);h.push(Qe)}null!==C&&(C.hasOwnProperty("class")&&(e.flags|=8),C.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=h,e.inputs=C,e.outputs=k}(n,t,o)}function IS(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,u=function hO(){return En.lFrame.currentDirectiveIndex}();try{_s(o);for(let h=r;h<i;h++){const C=n.data[h],k=e[h];Wp(h),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&EN(C,k)}}finally{_s(-1),Wp(u)}}function EN(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Jg(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function SN(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;vo(e)&&(t[""]=n)}}function MN(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=gs(i.type)),u=new qu(o,vo(i),Ve);n.blueprint[r]=u,t[r]=u,function _N(n,e,t,r,i){const o=i.hostBindings;if(o){let u=n.hostBindingOpCodes;null===u&&(u=n.hostBindingOpCodes=[]);const h=~e.index;(function vN(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(u)!=h&&u.push(h),u.push(t,r,o)}}(n,e,r,uc(n,t,i.hostVars,bn),i)}function ko(n,e,t,r,i,o){const u=ji(n,e);!function e_(n,e,t,r,i,o,u){if(null==o)n.removeAttribute(e,i,t);else{const h=null==u?fn(o):u(o,r||"",i);n.setAttribute(e,i,h,t)}}(e[11],u,o,n.value,t,r,i)}function AN(n,e,t,r,i,o){const u=o[e];if(null!==u){const h=r.setInput;for(let C=0;C<u.length;){const k=u[C++],Q=u[C++],_e=u[C++];null!==h?r.setInput(t,_e,k,Q):t[Q]=_e}}}function IN(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const u=n[o];for(let h=0;h<u.length;h+=2)if(u[h]===e){r.push(o,u[h+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function wS(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function PN(n,e){const t=Vi(e,n);if(Id(t)){const r=t[1];48&t[2]?eh(r,t,r.template,t[8]):t[5]>0&&t_(t)}}function t_(n){for(let r=mg(n);null!==r;r=pg(r))for(let i=10;i<r.length;i++){const o=r[i];if(Id(o))if(512&o[2]){const u=o[1];eh(u,o,u.template,o[8])}else o[5]>0&&t_(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Vi(t[r],n);Id(i)&&i[5]>0&&t_(i)}}function ON(n,e){const t=Vi(e,n),r=t[1];(function xN(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Yg(r,t,t[8])}function th(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function n_(n){for(;n;){n[2]|=32;const e=ic(n);if(YP(n)&&!e)return n;n=e}return null}function nh(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{eh(n,e,n.template,t)}catch(u){throw r&&xS(e,u),u}finally{i.end&&i.end()}}function r_(n,e,t){Gp(0),e(n,t)}function RS(n){return n[7]||(n[7]=[])}function PS(n){return n.cleanup||(n.cleanup=[])}function xS(n,e){const t=n[9],r=t?t.get(fa,null):null;r&&r.handleError(e)}function i_(n,e,t,r,i){for(let o=0;o<t.length;){const u=t[o++],h=t[o++],C=e[u],k=n.data[u];null!==k.setInput?k.setInput(C,i,r,h):C[h]=i}}function ha(n,e,t){const r=Ad(e,n);!function mT(n,e,t){n.setValue(e,t)}(n[11],r,t)}function rh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let u=0;u<e.length;u++){const h=e[u];"number"==typeof h?o=h:1==o?i=Ut(i,h):2==o&&(r=Ut(r,h+": "+e[++u]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ih(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(qr(o)),_o(o))for(let h=10;h<o.length;h++){const C=o[h],k=C[1].firstChild;null!==k&&ih(C[1],C,k,r)}const u=t.type;if(8&u)ih(n,e,t.child,r);else if(32&u){const h=hg(t,e);let C;for(;C=h();)r.push(C)}else if(16&u){const h=MT(e,t);if(Array.isArray(h))r.push(...h);else{const C=ic(e[16]);ih(C[1],C,h,r,!0)}}t=i?t.projectionNext:t.next}return r}class cc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ih(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(_o(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(vg(e,r),kd(t,r))}this._attachedToViewContainer=!1}gT(this._lView[1],this._lView)}onDestroy(e){SS(this._lView[1],this._lView,null,e)}markForCheck(){n_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){nh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _t(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bx(n,e){oc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _t(902,!1);this._appRef=e}}class LN extends cc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;nh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class LS extends xl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Xn(e);return new fc(t,this.ngModule)}}function NS(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class FN{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=sl(r);const i=this.injector.get(e,Bg,r);return i!==Bg||t===Bg?i:this.parentInjector.get(e,t,r)}}class fc extends eS{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function HL(n){return n.map(VL).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return NS(this.componentDef.inputs)}get outputs(){return NS(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Fo?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const u=o?new FN(e,o):e,h=u.get(lc,null);if(null===h)throw new _t(407,!1);const C=u.get(bL,null),k=h.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",_e=r?function dN(n,e,t){return n.selectRootElement(e,t===mi.ShadowDom)}(k,r,this.componentDef.encapsulation):_g(k,Q,function NN(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(Q)),Me=this.componentDef.onPush?288:272,xe=Qg(0,null,null,1,0,null,null,null,null,null),Be=Jd(null,xe,null,Me,null,null,h,k,C,u,null);let Qe,dt;zp(Be);try{const vt=this.componentDef;let Nt,bt=null;vt.findHostDirectiveDefs?(Nt=[],bt=new Map,vt.findHostDirectiveDefs(vt,Nt,bt),Nt.push(vt)):Nt=[vt];const $t=function BN(n,e){const t=n[1];return n[22]=e,kl(t,22,2,"#host",null)}(Be,_e),Bn=function UN(n,e,t,r,i,o,u,h){const C=i[1];!function jN(n,e,t,r){for(const i of n)e.mergedAttrs=Qu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rh(e,e.mergedAttrs,!0),null!==t&&IT(r,t,e))}(r,n,e,u);const k=o.createRenderer(e,t),Q=Jd(i,TS(t),null,t.onPush?32:16,i[n.index],n,o,k,h||null,null,null);return C.firstCreatePass&&Jg(C,n,r.length-1),th(i,Q),i[n.index]=Q}($t,_e,vt,Nt,Be,h,k);dt=gb(xe,22),_e&&function HN(n,e,t,r){if(r)qp(n,t,["ng-version",TL.full]);else{const{attrs:i,classes:o}=function WL(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!yo(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&qp(n,t,i),o&&o.length>0&&AT(n,t,o.join(" "))}}(k,vt,_e,r),void 0!==t&&function WN(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(dt,this.ngContentSelectors,t),Qe=function VN(n,e,t,r,i,o){const u=Qr(),h=i[1],C=ji(u,i);AS(h,i,u,t,null,r);for(let Q=0;Q<t.length;Q++)ii(vs(i,h,u.directiveStart+Q,u),i);IS(h,i,u),C&&ii(C,i);const k=vs(i,h,u.directiveStart+u.componentOffset,u);if(n[8]=i[8]=k,null!==o)for(const Q of o)Q(k,e);return $g(h,u,n),k}(Bn,vt,Nt,bt,Be,[KN]),Yg(xe,Be,null)}finally{Yp()}return new kN(this.componentType,Qe,Ll(dt,Be),Be,dt)}}class kN extends pL{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new LN(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;i_(o[1],o,i,e,t),DS(o,this._tNode.index)}}get injector(){return new bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function KN(){const n=Qr();wd(Rt()[1],n)}function Tn(n){let e=function FS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(vo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _t(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const u=n;u.inputs=o_(n.inputs),u.declaredInputs=o_(n.declaredInputs),u.outputs=o_(n.outputs);const h=i.hostBindings;h&&$N(n,h);const C=i.viewQuery,k=i.contentQueries;if(C&&zN(n,C),k&&YN(n,k),Ke(n.inputs,i.inputs),Ke(n.declaredInputs,i.declaredInputs),Ke(n.outputs,i.outputs),vo(i)&&i.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let u=0;u<o.length;u++){const h=o[u];h&&h.ngInherit&&h(n),h===Tn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function GN(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qu(i.hostAttrs,t=Qu(t,i.hostAttrs))}}(r)}function o_(n){return n===Fi?{}:n===jn?[]:n}function zN(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function YN(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function $N(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let oh=null;function Ms(){if(!oh){const n=Zn.Symbol;if(n&&n.iterator)oh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(oh=r)}}}return oh}function dc(n){return!!a_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ms()in n)}function a_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Bo(n,e,t){return n[e]=t}function oi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ds(n,e,t,r){const i=oi(n,e,t);return oi(n,e+1,r)||i}function tr(n,e,t,r){const i=Rt();return oi(i,vl(),e)&&(Fn(),ko(pr(),i,n,e,t,r)),tr}function jl(n,e,t,r,i,o){const h=Ds(n,function aa(){return En.lFrame.bindingIndex}(),t,i);return sa(2),h?e+fn(t)+r+fn(i)+o:bn}function Qt(n,e,t,r,i,o,u,h){const C=Rt(),k=Fn(),Q=n+22,_e=k.firstCreatePass?function iF(n,e,t,r,i,o,u,h,C){const k=e.consts,Q=kl(e,n,4,u||null,Ha(k,h));Zg(e,t,Q,Ha(k,C)),wd(e,Q);const _e=Q.tViews=Qg(2,Q,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,k);return null!==e.queries&&(e.queries.template(e,Q),_e.queries=e.queries.embeddedTView(Q)),Q}(Q,k,C,e,t,r,i,o,u):k.data[Q];xo(_e,!1);const Me=C[11].createComment("");Wd(k,C,Me,_e),ii(Me,C),th(C,C[Q]=wS(Me,C,Me,_e)),Dd(_e)&&Xg(k,C,_e),null!=u&&qg(C,_e,h)}function Br(n){return _l(function cO(){return En.lFrame.contextLView}(),22+n)}function Tt(n,e,t){const r=Rt();return oi(r,vl(),e)&&Ki(Fn(),pr(),r,n,e,r[11],t,!1),Tt}function s_(n,e,t,r,i){const u=i?"class":"style";i_(n,t,e.inputs[u],u,r)}function xt(n,e,t,r){const i=Rt(),o=Fn(),u=22+n,h=i[11],C=i[u]=_g(h,e,function EO(){return En.lFrame.currentNamespace}()),k=o.firstCreatePass?function aF(n,e,t,r,i,o,u){const h=e.consts,k=kl(e,n,2,i,Ha(h,o));return Zg(e,t,k,Ha(h,u)),null!==k.attrs&&rh(k,k.attrs,!1),null!==k.mergedAttrs&&rh(k,k.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,k),k}(u,o,i,0,e,t,r):o.data[u];return xo(k,!0),IT(h,C,k),32!=(32&k.flags)&&Wd(o,i,C,k),0===function oO(){return En.lFrame.elementDepthCount}()&&ii(C,i),function aO(){En.lFrame.elementDepthCount++}(),Dd(k)&&(Xg(o,i,k),$g(o,k,i)),null!==r&&qg(i,k),xt}function Lt(){let n=Qr();Vp()?Hp():(n=n.parent,xo(n,!1));const e=n;!function sO(){En.lFrame.elementDepthCount--}();const t=Fn();return t.firstCreatePass&&(wd(t,n),Bp(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function CO(n){return 0!=(8&n.flags)}(e)&&s_(t,e,Rt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function MO(n){return 0!=(16&n.flags)}(e)&&s_(t,e,Rt(),e.stylesWithoutHost,!1),Lt}function nn(n,e,t,r){return xt(n,e,t,r),Lt(),nn}function oo(n,e,t){const r=Rt(),i=Fn(),o=n+22,u=i.firstCreatePass?function sF(n,e,t,r,i){const o=e.consts,u=Ha(o,r),h=kl(e,n,8,"ng-container",u);return null!==u&&rh(h,u,!0),Zg(e,t,h,Ha(o,i)),null!==e.queries&&e.queries.elementStart(e,h),h}(o,i,r,e,t):i.data[o];xo(u,!0);const h=r[o]=r[11].createComment("");return Wd(i,r,h,u),ii(h,r),Dd(u)&&(Xg(i,r,u),$g(i,u,r)),null!=t&&qg(r,u),oo}function ao(){let n=Qr();const e=Fn();return Vp()?Hp():(n=n.parent,xo(n,!1)),e.firstCreatePass&&(wd(e,n),Bp(n)&&e.queries.elementEnd(n)),ao}function Ar(){return Rt()}function mc(n){return!!n&&"function"==typeof n.then}function qS(n){return!!n&&"function"==typeof n.subscribe}const l_=qS;function Cn(n,e,t,r){const i=Rt(),o=Fn(),u=Qr();return function ZS(n,e,t,r,i,o,u){const h=Dd(r),k=n.firstCreatePass&&PS(n),Q=e[8],_e=RS(e);let Me=!0;if(3&r.type||u){const Qe=ji(r,e),dt=u?u(Qe):Qe,vt=_e.length,Nt=u?$t=>u(qr($t[r.index])):r.index;let bt=null;if(!u&&h&&(bt=function lF(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const u=i[o];if(u===t&&i[o+1]===r){const h=e[7],C=i[o+2];return h.length>C?h[C]:null}"string"==typeof u&&(o+=2)}return null}(n,e,i,r.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=o,bt.__ngLastListenerFn__=o,Me=!1;else{o=eC(r,e,Q,o,!1);const $t=t.listen(dt,i,o);_e.push(o,$t),k&&k.push(i,Nt,vt,vt+1)}}else o=eC(r,e,Q,o,!1);const xe=r.outputs;let Be;if(Me&&null!==xe&&(Be=xe[i])){const Qe=Be.length;if(Qe)for(let dt=0;dt<Qe;dt+=2){const Bn=e[Be[dt]][Be[dt+1]].subscribe(o),Yn=_e.length;_e.push(o,Bn),k&&k.push(i,r.index,Yn,-(Yn+1))}}}(o,i,i[11],u,n,e,r),Cn}function JS(n,e,t,r){try{return!1!==t(r)}catch(i){return xS(n,i),!1}}function eC(n,e,t,r,i){return function o(u){if(u===Function)return r;n_(n.componentOffset>-1?Vi(n.index,e):e);let C=JS(e,0,r,u),k=o.__ngNextListenerFn__;for(;k;)C=JS(e,0,k,u)&&C,k=k.__ngNextListenerFn__;return i&&!1===C&&(u.preventDefault(),u.returnValue=!1),C}}function Jt(n=1){return function pO(n){return(En.lFrame.contextLView=function gO(n,e){for(;n>0;)e=e[15],n--;return e}(n,En.lFrame.contextLView))[8]}(n)}function uF(n,e){let t=null;const r=function kL(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?aS(n,o,!0):jL(r,o))return i}else t=i}return t}function Uo(n){const e=Rt()[16][6];if(!e.projection){const r=e.projection=ec(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const u=n?uF(o,n):0;null!==u&&(i[u]?i[u].projectionNext=o:r[u]=o,i[u]=o),o=o.next}}}function Ir(n,e=0,t){const r=Rt(),i=Fn(),o=kl(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),Hp(),32!=(32&o.flags)&&function wx(n,e,t){DT(e[11],0,e,t,_T(n,t,e),bT(t.parent||e[6],t,e))}(i,r,o)}function sh(n,e){return n<<17|e<<2}function Wa(n){return n>>17&32767}function c_(n){return 2|n}function As(n){return(131068&n)>>2}function f_(n,e){return-131069&n|e<<2}function d_(n){return 1|n}function cC(n,e,t,r,i){const o=n[t+1],u=null===e;let h=r?Wa(o):As(o),C=!1;for(;0!==h&&(!1===C||u);){const Q=n[h+1];pF(n[h],e)&&(C=!0,n[h+1]=r?d_(Q):c_(Q)),h=r?Wa(Q):As(Q)}C&&(n[t+1]=r?c_(o):d_(o))}function pF(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Al(n,e)>=0}function Ka(n,e,t){return Eo(n,e,t,!1),Ka}function Sr(n,e){return Eo(n,e,null,!0),Sr}function Eo(n,e,t,r){const i=Rt(),o=Fn(),u=sa(2);o.firstUpdatePass&&function vC(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[vi()],u=function _C(n,e){return e>=n.expandoStartIndex}(n,t);(function TC(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!u&&(e=!1),e=function CF(n,e,t,r){const i=function Kp(n){const e=En.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=pc(t=h_(null,n,e,t,r),e.attrs,r),o=null);else{const u=e.directiveStylingLast;if(-1===u||n[u]!==i)if(t=h_(i,n,e,t,r),null===o){let C=function MF(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==As(r))return n[Wa(r)]}(n,e,r);void 0!==C&&Array.isArray(C)&&(C=h_(null,n,e,C[1],r),C=pc(C,e.attrs,r),function DF(n,e,t,r){n[Wa(t?e.classBindings:e.styleBindings)]=r}(n,e,r,C))}else o=function AF(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=pc(r,n[o].hostAttrs,t);return pc(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function hF(n,e,t,r,i,o){let u=o?e.classBindings:e.styleBindings,h=Wa(u),C=As(u);n[r]=t;let Q,k=!1;if(Array.isArray(t)){const _e=t;Q=_e[1],(null===Q||Al(_e,Q)>0)&&(k=!0)}else Q=t;if(i)if(0!==C){const Me=Wa(n[h+1]);n[r+1]=sh(Me,h),0!==Me&&(n[Me+1]=f_(n[Me+1],r)),n[h+1]=function fF(n,e){return 131071&n|e<<17}(n[h+1],r)}else n[r+1]=sh(h,0),0!==h&&(n[h+1]=f_(n[h+1],r)),h=r;else n[r+1]=sh(C,0),0===h?h=r:n[C+1]=f_(n[C+1],r),C=r;k&&(n[r+1]=c_(n[r+1])),cC(n,Q,r,!0),cC(n,Q,r,!1),function mF(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Al(o,e)>=0&&(t[r+1]=d_(t[r+1]))}(e,Q,n,r,o),u=sh(h,C),o?e.classBindings=u:e.styleBindings=u}(i,o,e,t,u,r)}}(o,n,u,r),e!==bn&&oi(i,u,e)&&function EC(n,e,t,r,i,o,u,h){if(!(3&e.type))return;const C=n.data,k=C[h+1],Q=function dF(n){return 1==(1&n)}(k)?bC(C,e,t,i,As(k),u):void 0;lh(Q)||(lh(o)||function cF(n){return 2==(2&n)}(k)&&(o=bC(C,null,t,i,h,u)),function Px(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Ii.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ii.Important),n.setStyle(t,r,i,o))}}(r,u,Ad(vi(),t),i,o))}(o,o.data[vi()],i,i[11],n,i[u+1]=function RF(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Et(Wi(n)))),n}(e,t),r,u)}function h_(n,e,t,r,i){let o=null;const u=t.directiveEnd;let h=t.directiveStylingLast;for(-1===h?h=t.directiveStart:h++;h<u&&(o=e[h],r=pc(r,o.hostAttrs,i),o!==n);)h++;return null!==n&&(t.directiveStylingLast=h),r}function pc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const u=e[o];"number"==typeof u?i=u:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Hi(n,u,!!t||e[++o]))}return void 0===n?null:n}function bC(n,e,t,r,i,o){const u=null===e;let h;for(;i>0;){const C=n[i],k=Array.isArray(C),Q=k?C[1]:C,_e=null===Q;let Me=t[i+1];Me===bn&&(Me=_e?jn:void 0);let xe=_e?ig(Me,r):Q===r?Me:void 0;if(k&&!lh(xe)&&(xe=ig(C,r)),lh(xe)&&(h=xe,u))return h;const Be=n[i+1];i=u?Wa(Be):As(Be)}if(null!==e){let C=o?e.residualClasses:e.residualStyles;null!=C&&(h=ig(C,r))}return h}function lh(n){return void 0!==n}function Dn(n,e=""){const t=Rt(),r=Fn(),i=n+22,o=r.firstCreatePass?kl(r,i,1,e,null):r.data[i],u=t[i]=function gg(n,e){return n.createText(e)}(t[11],e);Wd(r,t,u,o),xo(o,!1)}function ai(n){return Zr("",n,""),ai}function Zr(n,e,t){const r=Rt(),i=function Ul(n,e,t,r){return oi(n,vl(),t)?e+fn(t)+r:bn}(r,n,e,t);return i!==bn&&ha(r,vi(),i),Zr}function uh(n,e,t,r,i){const o=Rt(),u=jl(o,n,e,t,r,i);return u!==bn&&ha(o,vi(),u),uh}function m_(n,e,t){const r=Rt();return oi(r,vl(),e)&&Ki(Fn(),pr(),r,n,e,r[11],t,!0),m_}const Xl="en-US";let HC=Xl;function __(n,e,t,r,i){if(n=Ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)__(n[o],e,t,r,i);else{const o=Fn(),u=Rt();let h=Ss(n)?n:Ht(n.provide),C=JT(n);const k=Qr(),Q=1048575&k.providerIndexes,_e=k.directiveStart,Me=k.providerIndexes>>20;if(Ss(n)||!n.multi){const xe=new qu(C,i,Ve),Be=y_(h,e,i?Q:Q+Me,_e);-1===Be?(eg(Nd(k,u),o,h),v_(o,n,e.length),e.push(h),k.directiveStart++,k.directiveEnd++,i&&(k.providerIndexes+=1048576),t.push(xe),u.push(xe)):(t[Be]=xe,u[Be]=xe)}else{const xe=y_(h,e,Q+Me,_e),Be=y_(h,e,Q,Q+Me),Qe=xe>=0&&t[xe],dt=Be>=0&&t[Be];if(i&&!dt||!i&&!Qe){eg(Nd(k,u),o,h);const vt=function $k(n,e,t,r,i){const o=new qu(n,t,Ve);return o.multi=[],o.index=e,o.componentProviders=0,hM(o,i,r&&!t),o}(i?Yk:zk,t.length,i,r,C);!i&&dt&&(t[Be].providerFactory=vt),v_(o,n,e.length,0),e.push(h),k.directiveStart++,k.directiveEnd++,i&&(k.providerIndexes+=1048576),t.push(vt),u.push(vt)}else v_(o,n,xe>-1?xe:Be,hM(t[i?Be:xe],C,!i&&r));!i&&r&&dt&&t[Be].componentProviders++}}}function v_(n,e,t,r){const i=Ss(e),o=function lL(n){return!!n.useClass}(e);if(i||o){const C=(o?Ht(e.useClass):e).prototype.ngOnDestroy;if(C){const k=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const Q=k.indexOf(t);-1===Q?k.push(t,[r,C]):k[Q+1].push(r,C)}else k.push(t,C)}}}function hM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function y_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function zk(n,e,t,r){return E_(this.multi,[])}function Yk(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const u=this.providerFactory.componentProviders,h=vs(t,t[1],this.providerFactory.index,r);o=h.slice(0,u),E_(i,o);for(let C=u;C<h.length;C++)o.push(h[C])}else o=[],E_(i,o);return o}function E_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Hn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Gk(n,e,t){const r=Fn();if(r.firstCreatePass){const i=vo(n);__(t,r.data,r.blueprint,i,!0),__(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ql{}class mM{}class pM extends ql{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LS(this);const r=ki(e);this._bootstrapComponents=da(r.bootstrap),this._r3Injector=hS(e,t,[{provide:ql,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class b_ extends mM{constructor(e){super(),this.moduleType=e}create(e){return new pM(this.moduleType,e)}}class qk extends ql{constructor(e,t,r){super(),this.componentFactoryResolver=new LS(this),this.instance=null;const i=new ZT([...e,{provide:ql,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],t||Qd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function mh(n,e,t=null){return new qk(n,e,t).injector}let Qk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=$T(0,t.type),i=r.length>0?mh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=et({token:n,providedIn:"environment",factory:()=>new n(lt(Fo))}),n})();function qn(n){n.getStandaloneInjector=e=>e.get(Qk).getOrCreateStandaloneInjector(n)}function To(n,e,t,r){return TM(Rt(),_i(),n,e,t,r)}function S_(n,e,t,r,i){return function SM(n,e,t,r,i,o,u){const h=e+t;return Ds(n,h,i,o)?Bo(n,h+2,u?r.call(u,i,o):r(i,o)):bc(n,h+2)}(Rt(),_i(),n,e,t,r,i)}function bc(n,e){const t=n[e];return t===bn?void 0:t}function TM(n,e,t,r,i,o){const u=e+t;return oi(n,u,i)?Bo(n,u+1,o?r.call(o,i):r(i)):bc(n,u+1)}function ur(n,e){const t=Fn();let r;const i=n+22;t.firstCreatePass?(r=function p1(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=gs(r.type)),u=Ai(Ve);try{const h=Ld(!1),C=o();return Ld(h),function oF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Rt(),i,C),C}finally{Ai(u)}}function cr(n,e,t){const r=n+22,i=Rt(),o=_l(i,r);return function Tc(n,e){return n[1].data[e].pure}(i,r)?TM(i,_i(),e,o.transform,t,o):o.transform(t)}function C_(n){return e=>{setTimeout(n,void 0,e)}}const Jn=class E1 extends fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),u=r;if(e&&"object"==typeof e){const C=e;i=C.next?.bind(C),o=C.error?.bind(C),u=C.complete?.bind(C)}this.__isAsync&&(o=C_(o),i&&(i=C_(i)),u&&(u=C_(u)));const h=super.subscribe({next:i,error:o,complete:u});return e instanceof R&&e.add(h),h}};function b1(){return this._results[Ms()]()}class Ql{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ms(),r=Ql.prototype;r[t]||(r[t]=b1)}get changes(){return this._changes||(this._changes=new Jn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function ro(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function NO(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ho=(()=>{class n{}return n.__NG_ELEMENT_ID__=C1,n})();const T1=Ho,S1=class extends T1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Jd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(i[19]=u.createEmbeddedView(r)),Yg(r,i,e),new cc(i)}};function C1(){return ph(Qr(),Rt())}function ph(n,e){return 4&n.type?new S1(e,n,Ll(n,e)):null}let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=M1,n})();function M1(){return wM(Qr(),Rt())}const D1=Gi,AM=class extends D1{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ll(this._hostTNode,this._hostLView)}get injector(){return new bl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Jp(this._hostTNode,this._hostLView);if(Lb(e)){const t=xd(e,this._hostLView),r=Od(e);return new bl(t[1].data[r+8],t)}return new bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=IM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const u=e.createEmbeddedView(t||{},o);return this.insert(u,i),u}createComponent(e,t,r,i,o){const u=e&&!function Ju(n){return"function"==typeof n}(e);let h;if(u)h=t;else{const _e=t||{};h=_e.index,r=_e.injector,i=_e.projectableNodes,o=_e.environmentInjector||_e.ngModuleRef}const C=u?e:new fc(Xn(e)),k=r||this.parentInjector;if(!o&&null==C.ngModule){const Me=(u?k:this.parentInjector).get(Fo,null);Me&&(o=Me)}const Q=C.create(k,i,void 0,o);return this.insert(Q.hostView,h),Q}insert(e,t){const r=e._lView,i=r[1];if(function iO(n){return _o(n[3])}(r)){const Q=this.indexOf(e);if(-1!==Q)this.detach(Q);else{const _e=r[3],Me=new AM(_e,_e[6],_e[3]);Me.detach(Me.indexOf(e))}}const o=this._adjustIndex(t),u=this._lContainer;!function Sx(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],zb(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const u=e[17];null!==u&&t!==u&&function Cx(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(u,e);const h=e[19];null!==h&&h.insertView(n),e[2]|=64}(i,r,u,o);const h=bg(o,u),C=r[11],k=Hd(C,u[7]);return null!==k&&function Ex(n,e,t,r,i,o){r[0]=i,r[6]=e,oc(n,r,t,1,i,o)}(i,u[6],C,r,k,h),e.attachToViewContainerRef(),zb(M_(u),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=IM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=vg(this._lContainer,t);r&&(kd(M_(this._lContainer),t),gT(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=vg(this._lContainer,t);return r&&null!=kd(M_(this._lContainer),t)?new cc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function IM(n){return n[8]}function M_(n){return n[8]||(n[8]=[])}function wM(n,e){let t;const r=e[n.index];if(_o(r))t=r;else{let i;if(8&n.type)i=qr(r);else{const o=e[11];i=o.createComment("");const u=ji(n,e);Es(o,Hd(o,u),i,function Ix(n,e){return n.nextSibling(e)}(o,u),!1)}e[n.index]=t=wS(r,e,i,n),th(e,t)}return new AM(t,n,e)}class D_{constructor(e){this.queryList=e,this.matches=null}clone(){return new D_(this.queryList)}setDirty(){this.queryList.setDirty()}}class A_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const u=t.getByIndex(o);i.push(this.queries[u.indexInDeclarationView].clone())}return new A_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==LM(e,t).matches&&this.queries[t].setDirty()}}class RM{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class I_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new I_(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class w_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new w_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,A1(t,o)),this.matchTNodeWithReadOption(e,t,Fd(t,e,o,!1,!1))}else r===Ho?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Fd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===kn||i===Gi||i===Ho&&4&t.type)this.addMatch(t.index,-2);else{const o=Fd(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function A1(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function w1(n,e,t,r){return-1===t?function I1(n,e){return 11&n.type?Ll(n,e):4&n.type?ph(n,e):null}(e,n):-2===t?function R1(n,e,t){return t===kn?Ll(e,n):t===Ho?ph(e,n):t===Gi?wM(e,n):void 0}(n,e,r):vs(n,n[1],t,e)}function PM(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,u=t.matches,h=[];for(let C=0;C<u.length;C+=2){const k=u[C];h.push(k<0?null:w1(e,o[k],u[C+1],t.metadata.read))}i.matches=h}return i.matches}function R_(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const u=PM(n,e,i,t);for(let h=0;h<o.length;h+=2){const C=o[h];if(C>0)r.push(u[h/2]);else{const k=o[h+1],Q=e[-C];for(let _e=10;_e<Q.length;_e++){const Me=Q[_e];Me[17]===Me[3]&&R_(Me[1],Me,k,r)}if(null!==Q[9]){const _e=Q[9];for(let Me=0;Me<_e.length;Me++){const xe=_e[Me];R_(xe[1],xe,k,r)}}}}}return r}function fr(n){const e=Rt(),t=Fn(),r=Cb();Gp(r+1);const i=LM(t,r);if(n.dirty&&function rO(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?R_(t,e,r,[]):PM(t,e,i,r);n.reset(o,yL),n.notifyOnChanges()}return!0}return!1}function So(n,e,t){const r=Fn();r.firstCreatePass&&(xM(r,new RM(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),OM(r,Rt(),e)}function Ei(n,e,t,r){const i=Fn();if(i.firstCreatePass){const o=Qr();xM(i,new RM(e,t,r),o.index),function O1(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}OM(i,Rt(),t)}function dr(){return function P1(n,e){return n[19].queries[e].queryList}(Rt(),Cb())}function OM(n,e,t){const r=new Ql(4==(4&t));SS(n,e,r,r.destroy),null===e[19]&&(e[19]=new A_),e[19].queries.push(new D_(r))}function xM(n,e,t){null===n.queries&&(n.queries=new I_),n.queries.track(new w_(e,t))}function LM(n,e){return n.queries.getByIndex(e)}function _h(...n){}const Cc=new Ft("Application Initializer");let vh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=_h,this.reject=_h,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(mc(o))t.push(o);else if(l_(o)){const u=new Promise((h,C)=>{o.subscribe({complete:h,error:C})});t.push(u)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(lt(Cc,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yh=new Ft("AppId",{providedIn:"root",factory:function JM(){return`${N_()}${N_()}${N_()}`}});function N_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eD=new Ft("Platform Initializer"),Eh=new Ft("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),F_=new Ft("appBootstrapListener"),Wo=new Ft("AnimationModuleType");let J1=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ko=new Ft("LocaleId",{providedIn:"root",factory:()=>vn(Ko,hn.Optional|hn.SkipSelf)||function eB(){return typeof $localize<"u"&&$localize.locale||Xl}()});class nB{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let tD=(()=>{class n{compileModuleSync(t){return new b_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=da(ki(t).declarations).reduce((u,h)=>{const C=Xn(h);return C&&u.push(new fc(C)),u},[]);return new nB(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oB=(()=>Promise.resolve(0))();class Sn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jn(!1),this.onMicrotaskEmpty=new Jn(!1),this.onStable=new Jn(!1),this.onError=new Jn(!1),typeof Zone>"u")throw new _t(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aB(){let n=Zn.requestAnimationFrame,e=Zn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function uB(n){const e=()=>{!function lB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Zn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,U_(n),n.isCheckStableRunning=!0,B_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),U_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,u,h)=>{try{return iD(n),t.invokeTask(i,o,u,h)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),oD(n)}},onInvoke:(t,r,i,o,u,h,C)=>{try{return iD(n),t.invoke(i,o,u,h,C)}finally{n.shouldCoalesceRunChangeDetection&&e(),oD(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,U_(n),B_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sn.isInAngularZone())throw new _t(909,!1)}static assertNotInAngularZone(){if(Sn.isInAngularZone())throw new _t(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,u=o.scheduleEventTask("NgZoneEvent: "+i,e,sB,_h,_h);try{return o.runTask(u,t,r)}finally{o.cancelTask(u)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const sB={};function B_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function U_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function iD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oD(n){n._nesting--,B_(n)}class cB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jn,this.onMicrotaskEmpty=new Jn,this.onStable=new Jn,this.onError=new Jn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const aD=new Ft("");let Ga=null;const W_=new Ft("PlatformDestroyListeners");class lD{constructor(e,t){this.name=e,this.token=t}}function gB(n){const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function pB(n=[]){if(Ga)return Ga;const e=function cD(n=[],e){return Ri.create({name:e,providers:[{provide:Lg,useValue:"platform"},{provide:W_,useValue:new Set([()=>Ga=null])},...n]})}(n);return Ga=e,function uD(n){const e=n.get(eD,null);e&&e.forEach(t=>t())}(e),e}(r),o=function hD(n,e){let t;return t="noop"===n?new cB:("zone.js"===n?void 0:n)||new Sn(e),t}("zone.js",function dD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return o.run(()=>{const h=mh([{provide:Sn,useValue:o},...t||[]],i,"Environment Injector"),C=h.get(fa,null);let k;o.runOutsideAngular(()=>{k=o.onError.subscribe({next:Me=>{C.handleError(Me)}})});const Q=()=>h.destroy(),_e=i.get(W_);return _e.add(Q),h.onDestroy(()=>{k.unsubscribe(),_e.delete(Q)}),function mD(n,e,t){try{const r=t();return mc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(C,o,()=>{const Me=h.get(vh);return Me.runInitializers(),Me.donePromise.then(()=>{!function WC(n){Fr(n,"Expected localeId to be defined"),"string"==typeof n&&(HC=n.toLowerCase().replace(/_/g,"-"))}(h.get(Ko,Xl)||Xl);const Be=h.get(eu);return void 0!==e&&Be.bootstrap(e),Be})})})}let eu=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new z(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),u=new z(h=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Sn.assertNotInAngularZone(),function k_(n){typeof Zone>"u"?oB.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Sn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{C.unsubscribe(),k.unsubscribe()}});this.isStable=qe(o,u.pipe(ft()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof eS;if(!this._injector.get(vh).done)throw!i&&function dl(n){const e=Xn(n)||ti(n)||pi(n);return null!==e&&e.standalone}(t),new _t(405,false);let u;u=i?t:this._injector.get(xl).resolveComponentFactory(t),this.componentTypes.push(u.componentType);const h=function hB(n){return n.isBoundToModule}(u)?void 0:this._injector.get(ql),k=u.create(Ri.NULL,[],r||u.selector,h),Q=k.location.nativeElement,_e=k.injector.get(aD,null);return _e?.registerApplication(Q),k.onDestroy(()=>{this.detachView(k.hostView),Th(this.components,k),_e?.unregisterApplication(Q)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new _t(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Th(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(F_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Th(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new _t(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(lt(Sn),lt(Fo),lt(fa))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Th(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=yB,n})();function yB(n){return function EB(n,e,t){if($u(n)&&!t){const r=Vi(n.index,e);return new cc(r,r)}return 47&n.type?new cc(e[16],e):null}(Qr(),Rt(),16==(16&n))}class ED{constructor(){}supports(e){return dc(e)}create(e){return new DB(e)}}const MB=(n,e)=>e;class DB{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||MB}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const u=!r||t&&t.currentIndex<TD(r,i,o)?t:r,h=TD(u,i,o),C=u.currentIndex;if(u===r)i--,r=r._nextRemoved;else if(t=t._next,null==u.previousIndex)i++;else{o||(o=[]);const k=h-i,Q=C-i;if(k!=Q){for(let Me=0;Me<k;Me++){const xe=Me<o.length?o[Me]:o[Me]=0,Be=xe+Me;Q<=Be&&Be<k&&(o[Me]=xe+1)}o[u.previousIndex]=Q-k}}h!==C&&e(u,h,C)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!dc(e))throw new _t(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,u,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let h=0;h<this.length;h++)o=e[h],u=this._trackByFn(h,o),null!==t&&Object.is(t.trackById,u)?(r&&(t=this._verifyReinsertion(t,o,u,h)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,u,h),r=!0),t=t._next}else i=0,function tF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ms()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,h=>{u=this._trackByFn(i,h),null!==t&&Object.is(t.trackById,u)?(r&&(t=this._verifyReinsertion(t,h,u,i)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,u,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new AB(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new bD),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bD),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class AB{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class bD{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new IB,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TD(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class SD{constructor(){}supports(e){return e instanceof Map||a_(e)}create(){return new wB}}class wB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||a_(e)))throw new _t(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,u=i._next;return o&&(o._next=u),u&&(u._prev=o),i._next=null,i._prev=null,i}const r=new RB(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class RB{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CD(){return new Mh([new ED])}let Mh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||CD()),deps:[[n,new Il,new la]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new _t(901,!1)}}return n.\u0275prov=et({token:n,providedIn:"root",factory:CD}),n})();function MD(){return new Mc([new SD])}let Mc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||MD()),deps:[[n,new Il,new la]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new _t(901,!1)}}return n.\u0275prov=et({token:n,providedIn:"root",factory:MD}),n})();function tu(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let X_=null;function Go(){return X_}class NB{}const An=new Ft("DocumentToken");let q_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:function(){return function FB(){return lt(DD)}()},providedIn:"platform"}),n})();const kB=new Ft("Location Initialized");let DD=(()=>{class n extends q_{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Go().getBaseHref(this._doc)}onPopState(t){const r=Go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){AD()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){AD()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(lt(An))},n.\u0275prov=et({token:n,factory:function(){return function BB(){return new DD(lt(An))}()},providedIn:"platform"}),n})();function AD(){return!!window.history.pushState}function Q_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ID(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function pa(n){return n&&"?"!==n[0]?"?"+n:n}let Rs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:function(){return vn(RD)},providedIn:"root"}),n})();const wD=new Ft("appBaseHref");let RD=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??vn(An).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Q_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+pa(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const u=this.prepareExternalUrl(i+pa(o));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){const u=this.prepareExternalUrl(i+pa(o));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(lt(q_),lt(wD,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UB=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Q_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let u=this.prepareExternalUrl(i+pa(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){let u=this.prepareExternalUrl(i+pa(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(lt(q_),lt(wD,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),Dh=(()=>{class n{constructor(t){this._subject=new Jn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function HB(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ID(PD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pa(r))}normalize(t){return n.stripTrailingSlash(function VB(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,PD(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pa(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pa(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=pa,n.joinWithSlash=Q_,n.stripTrailingSlash=ID,n.\u0275fac=function(t){return new(t||n)(lt(Rs))},n.\u0275prov=et({token:n,factory:function(){return function jB(){return new Dh(lt(Rs))}()},providedIn:"root"}),n})();function PD(n){return n.replace(/\/index.html$/,"")}function jD(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let nu=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(dc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Et(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(Ve(Mh),Ve(Mc),Ve(kn),Ve(ca))},n.\u0275dir=Zt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class DU{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let za=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new DU(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,u),WD(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{WD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Ve(Gi),Ve(Ho),Ve(Mh))},n.\u0275dir=Zt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function WD(n,e){n.context.$implicit=e.item}let Pr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new IU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Ve(Gi),Ve(Ho))},n.\u0275dir=Zt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class IU{constructor(){this.$implicit=null,this.ngIf=null}}function KD(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Et(e)}'.`)}class sv{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ic=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),lv=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new sv(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(Ve(Gi),Ve(Ho),Ve(Ic,9))},n.\u0275dir=Zt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),wc=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),u=-1===i.indexOf("-")?void 0:Ii.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Mc),Ve(ca))},n.\u0275dir=Zt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class OU{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class xU{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const LU=new xU,NU=new OU;let Ya=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(mc(t))return LU;if(qS(t))return NU;throw function Do(n,e){return new _t(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(Ve(Pi,16))},n.\u0275pipe=Xr({name:"async",type:n,pure:!1,standalone:!0}),n})(),nr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({}),n})();const YD="browser";let hv,ij=(()=>{class n{}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>new oj(lt(An),window)}),n})();class oj{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function aj(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$D(this.window.history)||$D(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $D(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class XD{}try{hv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hv=!1}let ru,Yr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function rj(n){return n===YD}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(lt(Eh))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function n0(){if(ru)return ru;if("object"!=typeof document||!document)return ru=new Set(t0),ru;let n=document.createElement("input");return ru=new Set(t0.filter(e=>(n.setAttribute("type",e),n.type===e))),ru}let Pc,kh,Os,mv;function Ps(n){return function xj(){if(null==Pc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pc=!0}))}finally{Pc=Pc||!1}return Pc}()?n:!!n.capture}function r0(){if(null==Os){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Os=!1,Os;if("scrollBehavior"in document.documentElement.style)Os=!0;else{const n=Element.prototype.scrollTo;Os=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Os}function Oc(){if("object"!=typeof document||!document)return 0;if(null==kh){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),kh=0,0===n.scrollLeft&&(n.scrollLeft=1,kh=0===n.scrollLeft?1:2),n.remove()}return kh}function o0(n){if(function Lj(){if(null==mv){const n=typeof document<"u"?document.head:null;mv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mv}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function $a(n){return n.composedPath?n.composedPath()[0]:n.target}function pv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class zi extends fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function on(...n){return Fe(n,er(n))}function vv(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Wn(n,e,t){const r=m(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((i,o)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let h=!0;i.subscribe(de(o,C=>{var k;null===(k=r.next)||void 0===k||k.call(r,C),o.next(C)},()=>{var C;h=!1,null===(C=r.complete)||void 0===C||C.call(r),o.complete()},C=>{var k;h=!1,null===(k=r.error)||void 0===k||k.call(r,C),o.error(C)},()=>{var C,k;h&&(null===(C=r.unsubscribe)||void 0===C||C.call(r)),null===(k=r.finalize)||void 0===k||k.call(r)}))}):W}class Qj extends R{constructor(e,t){super()}schedule(e,t=0){return this}}const Bh={setInterval(n,e,...t){const{delegate:r}=Bh;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Bh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class yv extends Qj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Bh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Bh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const u0={now:()=>(u0.delegate||Date).now(),delegate:void 0};class xc{constructor(e,t=xc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}xc.now=u0.now;class Ev extends xc{constructor(e,t=xc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Uh=new Ev(yv),Zj=Uh;function jh(n,e=Uh){return he((t,r)=>{let i=null,o=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const k=o;o=null,r.next(k)}};function C(){const k=u+n,Q=e.now();if(Q<k)return i=this.schedule(void 0,k-Q),void r.add(i);h()}t.subscribe(de(r,k=>{o=k,u=e.now(),i||(i=e.schedule(C,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{o=i=null}))})}function Hr(n,e){return he((t,r)=>{let i=0;t.subscribe(de(r,o=>n.call(e,o,i++)&&r.next(o)))})}function c0(n){return Hr((e,t)=>n<=t)}function eV(n,e){return n===e}function Wr(n){return he((e,t)=>{Te(n).subscribe(de(t,()=>t.complete(),d)),!t.closed&&e.subscribe(t)})}function Yi(n){return null!=n&&"false"!=`${n}`}function iu(n,e=0){return function tV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Vh(n){return Array.isArray(n)?n:[n]}function Or(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _a(n){return n instanceof kn?n.nativeElement:n}let f0=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nV=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=_a(t);return new z(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new fe,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(lt(f0))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rV=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Jn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Yi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=iu(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(jh(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Ve(nV),Ve(kn),Ve(Sn))},n.\u0275dir=Zt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),d0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({providers:[f0]}),n})();const{isArray:iV}=Array,{getPrototypeOf:oV,prototype:aV,keys:sV}=Object;function h0(n){if(1===n.length){const e=n[0];if(iV(e))return{args:e,keys:null};if(function lV(n){return n&&"object"==typeof n&&oV(n)===aV}(e)){const t=sV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:uV}=Array;function bv(n){return se(e=>function cV(n,e){return uV(e)?n(...e):n(e)}(n,e))}function m0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Tv(...n){const e=er(n),t=Nn(n),{args:r,keys:i}=h0(n);if(0===r.length)return Fe([],e);const o=new z(function fV(n,e,t=W){return r=>{p0(e,()=>{const{length:i}=n,o=new Array(i);let u=i,h=i;for(let C=0;C<i;C++)p0(e,()=>{const k=Fe(n[C],e);let Q=!1;k.subscribe(de(r,_e=>{o[C]=_e,Q||(Q=!0,h--),h||r.next(t(o.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>m0(i,u):W));return t?o.pipe(bv(t)):o}function p0(n,e,t){n?ke(t,n,e):e()}function Lc(...n){return function dV(){return mt(1)}()(Fe(n,er(n)))}function Ti(n){return n<=0?()=>Dt:he((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function va(...n){const e=er(n);return he((t,r)=>{(e?Lc(n,t,e):Lc(n,t)).subscribe(r)})}const g0=new Set;let ou,hV=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pV}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function mV(n){if(!g0.has(n))try{ou||(ou=document.createElement("style"),ou.setAttribute("type","text/css"),document.head.appendChild(ou)),ou.sheet&&(ou.sheet.insertRule(`@media ${n} {body{ }}`,0),g0.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(lt(Yr))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pV(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _0=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new fe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return v0(Vh(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=Tv(v0(Vh(t)).map(u=>this._registerQuery(u).observable));return o=Lc(o.pipe(Ti(1)),o.pipe(c0(1),jh(0))),o.pipe(se(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:C,query:k})=>{h.matches=h.matches||C,h.breakpoints[k]=C}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new z(u=>{const h=C=>this._zone.run(()=>u.next(C));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(va(r),se(({matches:u})=>({query:t,matches:u})),Wr(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(lt(hV),lt(Sn))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v0(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Hh(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const E0="cdk-describedby-message",Wh="cdk-describedby-host";let Sv=0,yV=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Sv++,this._document=t,this._id=vn(yh)+"-"+Sv++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const o=Cv(r,i);"string"!=typeof r?(b0(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const o=Cv(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof r){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Wh}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(Wh);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");b0(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Cv(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=Hh(t,"aria-describedby").filter(i=>0!=i.indexOf(E0));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function _V(n,e,t){const r=Hh(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(Wh,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function vV(n,e,t){const i=Hh(n,e).filter(o=>o!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(Wh)}_isElementDescribedByMessage(t,r){const i=Hh(t,"aria-describedby"),o=this._messageRegistry.get(r),u=o&&o.messageElement.id;return!!u&&-1!=i.indexOf(u)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=t.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(lt(An),lt(Yr))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cv(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function b0(n,e){n.id||(n.id=`${E0}-${e}-${Sv++}`)}class EV{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new fe,this._typeaheadSubscription=R.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new fe,this.change=new fe,e instanceof Ql&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Wn(t=>this._pressedLetters.push(t)),jh(e),Hr(()=>this._pressedLetters.length>0),se(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,u=r[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(o<u?o:u-1,-1);break}return;default:return void((i||vv(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Ql?this._items.toArray():this._items}}class bV extends EV{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function Mv(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Dv(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const AV=new Ft("cdk-input-modality-detector-options"),IV={ignoreKeys:[18,17,224,91,16]},au=Ps({passive:!0,capture:!0});let wV=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new zi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=$a(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Mv(u)?"keyboard":"mouse"),this._mostRecentTarget=$a(u))},this._onTouchstart=u=>{Dv(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$a(u))},this._options={...IV,...o},this.modalityDetected=this._modality.pipe(c0(1)),this.modalityChanged=this.modalityDetected.pipe(function Jj(n,e=W){return n=n??eV,he((t,r)=>{let i,o=!0;t.subscribe(de(r,u=>{const h=e(u);(o||!n(i,h))&&(o=!1,i=h,r.next(u))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,au),i.addEventListener("mousedown",this._onMousedown,au),i.addEventListener("touchstart",this._onTouchstart,au)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,au),document.removeEventListener("mousedown",this._onMousedown,au),document.removeEventListener("touchstart",this._onTouchstart,au))}}return n.\u0275fac=function(t){return new(t||n)(lt(Yr),lt(Sn),lt(An),lt(AV,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PV=new Ft("cdk-focus-monitor-default-options"),Kh=Ps({passive:!0,capture:!0});let Gh=(()=>{class n{constructor(t,r,i,o,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new fe,this._rootNodeFocusAndBlurListener=h=>{for(let k=$a(h);k;k=k.parentElement)"focus"===h.type?this._onFocus(h,k):this._onBlur(h,k)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,r=!1){const i=_a(t);if(!this._platform.isBrowser||1!==i.nodeType)return on(null);const o=o0(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new fe,rootNode:o};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=_a(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=_a(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,C])=>this._originChanged(h,r,C)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=$a(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kh)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(lt(Sn),lt(Yr),lt(wV),lt(An,8),lt(PV,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C0="cdk-high-contrast-black-on-white",M0="cdk-high-contrast-white-on-black",Av="cdk-high-contrast-active";let D0=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=vn(_0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Av,C0,M0),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Av,C0):2===r&&t.add(Av,M0)}}}return n.\u0275fac=function(t){return new(t||n)(lt(Yr),lt(An))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OV=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(lt(D0))},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[d0]}),n})();const xV=new Ft("cdk-dir-doc",{providedIn:"root",factory:function LV(){return vn(An)}}),NV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let xs=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Jn,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function FV(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?NV.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(lt(xV,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({}),n})();const BV=new Ft("mat-sanity-checks",{providedIn:"root",factory:function kV(){return!0}});let Kr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!pv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(lt(D0),lt(BV,8),lt(An))},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Nc,Nc]}),n})();function w0(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Yi(e)}}}function Fc(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function R0(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Yi(e)}}}function UV(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let Iv=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VV{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const P0=Ps({passive:!0,capture:!0});class HV{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=$a(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){const o=this._events.get(t);if(o){const u=o.get(r);u?u.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,P0)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);!o||(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,P0)))}}const O0={enterDuration:225,exitDuration:150},x0=Ps({passive:!0,capture:!0}),L0=["mousedown","touchstart"],N0=["mouseup","mouseleave","touchend","touchcancel"];class Bc{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=_a(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...O0,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function KV(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,C=t-i.top,k=o.enterDuration,Q=document.createElement("div");Q.classList.add("mat-ripple-element"),Q.style.left=h-u+"px",Q.style.top=C-u+"px",Q.style.height=2*u+"px",Q.style.width=2*u+"px",null!=r.color&&(Q.style.backgroundColor=r.color),Q.style.transitionDuration=`${k}ms`,this._containerElement.appendChild(Q);const _e=window.getComputedStyle(Q),xe=_e.transitionDuration,Be="none"===_e.transitionProperty||"0s"===xe||"0s, 0s"===xe||0===i.width&&0===i.height,Qe=new VV(this,Q,r,Be);Q.style.transform="scale3d(1, 1, 1)",Qe.state=0,r.persistent||(this._mostRecentTransientRipple=Qe);let dt=null;return!Be&&(k||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const vt=()=>this._finishRippleTransition(Qe),Nt=()=>this._destroyRipple(Qe);Q.addEventListener("transitionend",vt),Q.addEventListener("transitioncancel",Nt),dt={onTransitionEnd:vt,onTransitionCancel:Nt}}),this._activeRipples.set(Qe,dt),(Be||!k)&&this._finishRippleTransition(Qe),Qe}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...O0,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_a(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,L0.forEach(r=>{Bc._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{N0.forEach(t=>{this._triggerElement.addEventListener(t,this,x0)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Mv(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Dv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(L0.forEach(t=>Bc._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&N0.forEach(t=>e.removeEventListener(t,this,x0)))}}Bc._eventManager=new HV;const GV=new Ft("mat-ripple-global-options");let zh=(()=>{class n{constructor(t,r,i,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Bc(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Sn),Ve(Yr),Ve(GV,8),Ve(Wo,8))},n.\u0275dir=Zt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Sr("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Uc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Kr,Kr]}),n})();function Si(n,e){const t=m(n)?n:()=>n,r=i=>i.error(t());return new z(e?i=>e.schedule(r,0,i):r)}function F0(...n){const e=Nn(n),{args:t,keys:r}=h0(n),i=new z(o=>{const{length:u}=t;if(!u)return void o.complete();const h=new Array(u);let C=u,k=u;for(let Q=0;Q<u;Q++){let _e=!1;Te(t[Q]).subscribe(de(o,Me=>{_e||(_e=!0,k--),h[Q]=Me},()=>C--,void 0,()=>{(!C||!_e)&&(k||o.next(r?m0(r,h):h),o.complete())}))}});return e?i.pipe(bv(e)):i}function uo(n){return he((e,t)=>{let o,r=null,i=!1;r=e.subscribe(de(t,void 0,void 0,u=>{o=Te(n(u,uo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Yh(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xa(n,e){return m(e)?rt(n,e,1):rt(n,1)}class $h{}class wv{}class ya{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ya?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ya;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ya?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class zV{encodeKey(e){return k0(e)}encodeValue(e){return k0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $V=/%(\d[a-f0-9])/gi,XV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function k0(n){return encodeURIComponent(n).replace($V,(e,t)=>XV[t]??e)}function Xh(n){return`${n}`}class qa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new zV,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YV(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[u,h]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],C=t.get(u)||[];C.push(h),t.set(u,C)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Xh):[Xh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Xh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Xh(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class qV{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function B0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function U0(n){return typeof Blob<"u"&&n instanceof Blob}function j0(n){return typeof FormData<"u"&&n instanceof FormData}class jc{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function QV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ya),this.context||(this.context=new qV),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new qa,this.urlWithParams=t}serializeBody(){return null===this.body?null:B0(this.body)||U0(this.body)||j0(this.body)||function ZV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j0(this.body)?null:U0(this.body)?this.body.type||null:B0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,k=e.params||this.params;const Q=e.context??this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((_e,Me)=>_e.set(Me,e.setHeaders[Me]),C)),e.setParams&&(k=Object.keys(e.setParams).reduce((_e,Me)=>_e.set(Me,e.setParams[Me]),k)),new jc(t,r,o,{params:k,headers:C,context:Q,reportProgress:h,responseType:i,withCredentials:u})}}var xr=(()=>((xr=xr||{})[xr.Sent=0]="Sent",xr[xr.UploadProgress=1]="UploadProgress",xr[xr.ResponseHeader=2]="ResponseHeader",xr[xr.DownloadProgress=3]="DownloadProgress",xr[xr.Response=4]="Response",xr[xr.User=5]="User",xr))();class Rv{constructor(e,t=200,r="OK"){this.headers=e.headers||new ya,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Pv extends Rv{constructor(e={}){super(e),this.type=xr.ResponseHeader}clone(e={}){return new Pv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vc extends Rv{constructor(e={}){super(e),this.type=xr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Vc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Hc extends Rv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Ov(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qh=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof jc)o=t;else{let C,k;C=i.headers instanceof ya?i.headers:new ya(i.headers),i.params&&(k=i.params instanceof qa?i.params:new qa({fromObject:i.params})),o=new jc(t,r,void 0!==i.body?i.body:null,{headers:C,context:i.context,params:k,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=on(o).pipe(Xa(C=>this.handler.handle(C)));if(t instanceof jc||"events"===i.observe)return u;const h=u.pipe(Hr(C=>C instanceof Vc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe(se(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return h.pipe(se(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return h.pipe(se(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return h.pipe(se(C=>C.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new qa).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ov(i,r))}post(t,r,i={}){return this.request("POST",t,Ov(i,r))}put(t,r,i={}){return this.request("PUT",t,Ov(i,r))}}return n.\u0275fac=function(t){return new(t||n)(lt($h))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function V0(n,e){return e(n)}function JV(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Wc=new Ft("HTTP_INTERCEPTORS"),Kc=new Ft("HTTP_INTERCEPTOR_FNS");function t2(){let n=null;return(e,t)=>(null===n&&(n=(vn(Wc,{optional:!0})??[]).reduceRight(JV,V0)),n(e,t))}let H0=(()=>{class n extends $h{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Kc)));this.chain=r.reduceRight((i,o)=>function e2(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),V0)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(lt(wv),lt(Fo))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();const a2=/^\)\]\}',?\n/;let K0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new z(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((xe,Be)=>i.setRequestHeader(xe,Be.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const xe=t.detectContentTypeHeader();null!==xe&&i.setRequestHeader("Content-Type",xe)}if(t.responseType){const xe=t.responseType.toLowerCase();i.responseType="json"!==xe?xe:"text"}const o=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const xe=i.statusText||"OK",Be=new ya(i.getAllResponseHeaders()),Qe=function s2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new Pv({headers:Be,status:i.status,statusText:xe,url:Qe}),u},C=()=>{let{headers:xe,status:Be,statusText:Qe,url:dt}=h(),vt=null;204!==Be&&(vt=typeof i.response>"u"?i.responseText:i.response),0===Be&&(Be=vt?200:0);let Nt=Be>=200&&Be<300;if("json"===t.responseType&&"string"==typeof vt){const bt=vt;vt=vt.replace(a2,"");try{vt=""!==vt?JSON.parse(vt):null}catch($t){vt=bt,Nt&&(Nt=!1,vt={error:$t,text:vt})}}Nt?(r.next(new Vc({body:vt,headers:xe,status:Be,statusText:Qe,url:dt||void 0})),r.complete()):r.error(new Hc({error:vt,headers:xe,status:Be,statusText:Qe,url:dt||void 0}))},k=xe=>{const{url:Be}=h(),Qe=new Hc({error:xe,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Be||void 0});r.error(Qe)};let Q=!1;const _e=xe=>{Q||(r.next(h()),Q=!0);let Be={type:xr.DownloadProgress,loaded:xe.loaded};xe.lengthComputable&&(Be.total=xe.total),"text"===t.responseType&&!!i.responseText&&(Be.partialText=i.responseText),r.next(Be)},Me=xe=>{let Be={type:xr.UploadProgress,loaded:xe.loaded};xe.lengthComputable&&(Be.total=xe.total),r.next(Be)};return i.addEventListener("load",C),i.addEventListener("error",k),i.addEventListener("timeout",k),i.addEventListener("abort",k),t.reportProgress&&(i.addEventListener("progress",_e),null!==o&&i.upload&&i.upload.addEventListener("progress",Me)),i.send(o),r.next({type:xr.Sent}),()=>{i.removeEventListener("error",k),i.removeEventListener("abort",k),i.removeEventListener("load",C),i.removeEventListener("timeout",k),t.reportProgress&&(i.removeEventListener("progress",_e),null!==o&&i.upload&&i.upload.removeEventListener("progress",Me)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(lt(XD))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();const xv=new Ft("XSRF_ENABLED"),G0="XSRF-TOKEN",z0=new Ft("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>G0}),Y0="X-XSRF-TOKEN",$0=new Ft("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Y0});class X0{}let l2=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jD(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(lt(An),lt(Eh),lt(z0))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function u2(n,e){const t=n.url.toLowerCase();if(!vn(xv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=vn(X0).getToken(),i=vn($0);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Mr=(()=>((Mr=Mr||{})[Mr.Interceptors=0]="Interceptors",Mr[Mr.LegacyInterceptors=1]="LegacyInterceptors",Mr[Mr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Mr[Mr.NoXsrfProtection=3]="NoXsrfProtection",Mr[Mr.JsonpSupport=4]="JsonpSupport",Mr[Mr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Mr))();function su(n,e){return{\u0275kind:n,\u0275providers:e}}function c2(...n){const e=[qh,K0,H0,{provide:$h,useExisting:H0},{provide:wv,useExisting:K0},{provide:Kc,useValue:u2,multi:!0},{provide:xv,useValue:!0},{provide:X0,useClass:l2}];for(const t of n)e.push(...t.\u0275providers);return zT(e)}const q0=new Ft("LEGACY_INTERCEPTOR_FN");function d2({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:z0,useValue:n}),void 0!==e&&t.push({provide:$0,useValue:e}),su(Mr.CustomXsrfConfiguration,t)}let h2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({providers:[c2(su(Mr.LegacyInterceptors,[{provide:q0,useFactory:t2},{provide:Kc,useExisting:q0,multi:!0}]),d2({cookieName:G0,headerName:Y0}))]}),n})();class m2 extends NB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Lv extends m2{static makeCurrent(){!function LB(n){X_||(X_=n)}(new Lv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function p2(){return Gc=Gc||document.querySelector("base"),Gc?Gc.getAttribute("href"):null}();return null==t?null:function g2(n){Qh=Qh||document.createElement("a"),Qh.setAttribute("href",n);const e=Qh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jD(document.cookie,e)}}let Qh,Gc=null,E2=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();const Zh=new Ft("EventManagerPlugins");let Jh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const u=i[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(lt(Zh),lt(Sn))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class Q0{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Go().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Z0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),zc=(()=>{class n extends Z0{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(J0),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(J0))}}return n.\u0275fac=function(t){return new(t||n)(lt(An))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function J0(n){Go().remove(n)}const Nv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fv=/%COMP%/g;function kv(n,e){return e.flat(100).map(t=>t.replace(Fv,n))}function nA(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let em=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Bv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case mi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new D2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case mi.ShadowDom:return new A2(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=kv(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(lt(Jh),lt(zc),lt(yh))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class Bv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Nv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(iA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(iA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Nv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Nv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ii.DashCase|Ii.Important)?e.style.setProperty(t,r,i&Ii.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ii.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nA(r)):this.eventManager.addEventListener(e,t,nA(r))}}function iA(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class D2 extends Bv{constructor(e,t,r,i){super(e),this.component=r;const o=kv(i+"-"+r.id,r.styles);t.addStyles(o),this.contentAttr=function S2(n){return"_ngcontent-%COMP%".replace(Fv,n)}(i+"-"+r.id),this.hostAttr=function C2(n){return"_nghost-%COMP%".replace(Fv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class A2 extends Bv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=kv(i.id,i.styles);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const oA=["alt","control","meta","shift"],w2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function sA(n){return{appProviders:[...U2,...n?.providers??[]],platformProviders:F2}}const F2=[{provide:Eh,useValue:YD},{provide:eD,useValue:function x2(){Lv.makeCurrent()},multi:!0},{provide:An,useFactory:function N2(){return function Fx(n){Mg=n}(document),document},deps:[]}],U2=[{provide:Lg,useValue:"root"},{provide:fa,useFactory:function L2(){return new fa},deps:[]},{provide:Zh,useClass:(()=>{class n extends Q0{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(lt(An))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[An,Sn,Eh]},{provide:Zh,useClass:(()=>{class n extends Q0{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),u=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Go().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),oA.forEach(k=>{const Q=r.indexOf(k);Q>-1&&(r.splice(Q,1),u+=k+".")}),u+=o,0!=r.length||0===o.length)return null;const C={};return C.domEventName=i,C.fullKey=u,C}static matchEventFullKeyCode(t,r){let i=w2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oA.forEach(u=>{u!==i&&(0,R2[u])(t)&&(o+=u+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(lt(An))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[An]},{provide:em,useClass:em,deps:[Jh,zc,yh]},{provide:lc,useExisting:em},{provide:Z0,useExisting:zc},{provide:zc,useClass:zc,deps:[An]},{provide:Jh,useClass:Jh,deps:[Zh,Sn]},{provide:XD,useClass:E2,deps:[]},[]];let lA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(lt(An))},n.\u0275prov=et({token:n,factory:function(t){let r=null;return r=t?new t:function V2(){return new lA(lt(An))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ea=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:function(t){let r=null;return r=t?new(t||n):lt(fA),r},providedIn:"root"}),n})(),fA=(()=>{class n extends Ea{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Vn.NONE:return r;case Vn.HTML:return No(r,"HTML")?Wi(r):UT(this._doc,String(r)).toString();case Vn.STYLE:return No(r,"Style")?Wi(r):r;case Vn.SCRIPT:if(No(r,"Script"))return Wi(r);throw new Error("unsafe value used in a script context");case Vn.URL:return No(r,"URL")?Wi(r):Yd(String(r));case Vn.RESOURCE_URL:if(No(r,"ResourceURL"))return Wi(r);throw new Error(`unsafe value used in a resource URL context (see ${Li})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${Li})`)}}bypassSecurityTrustHtml(t){return function Wx(n){return new kx(n)}(t)}bypassSecurityTrustStyle(t){return function Kx(n){return new Bx(n)}(t)}bypassSecurityTrustScript(t){return function Gx(n){return new Ux(n)}(t)}bypassSecurityTrustUrl(t){return function zx(n){return new jx(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Yx(n){return new Vx(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(lt(An))},n.\u0275prov=et({token:n,factory:function(t){let r=null;return r=t?new t:function $2(n){return new fA(n.get(An))}(lt(Ri)),r},providedIn:"root"}),n})();const X2=["*"];let tm;function Yc(n){return function q2(){if(void 0===tm&&(tm=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(tm=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return tm}()?.createHTML(n)||n}function dA(n){return Error(`Unable to find icon with the name "${n}"`)}function hA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ls{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let $c=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Ls(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const u=this._sanitizer.sanitize(Vn.HTML,i);if(!u)throw mA(i);const h=Yc(u);return this._addSvgIconConfig(t,r,new Ls("",h,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ls(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(Vn.HTML,r);if(!o)throw mA(r);const u=Yc(o);return this._addSvgIconSetConfig(t,new Ls("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Vn.RESOURCE_URL,t);if(!r)throw hA(t);const i=this._cachedIconsByUrl.get(r);return i?on(nm(i)):this._loadSvgIconFromConfig(new Ls(t,null)).pipe(Wn(o=>this._cachedIconsByUrl.set(r,o)),se(o=>nm(o)))}getNamedSvgIcon(t,r=""){const i=pA(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):Si(dA(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?on(nm(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(se(r=>nm(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?on(i):F0(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(uo(h=>{const k=`Loading icon set URL: ${this._sanitizer.sanitize(Vn.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(k)),on(null)})))).pipe(se(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw dA(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Wn(r=>t.svgText=r),se(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?on(null):this._fetchIcon(t).pipe(Wn(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const h=this._svgElementFromString(Yc("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Yc("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:u,value:h}=i[o];"id"!==u&&r.setAttribute(u,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function Q2(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(Vn.RESOURCE_URL,r);if(!u)throw hA(r);const h=this._inProgressUrlFetches.get(u);if(h)return h;const C=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe(se(k=>Yc(k)),Yh(()=>this._inProgressUrlFetches.delete(u)),ft());return this._inProgressUrlFetches.set(u,C),C}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(pA(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return J2(o)?new Ls(o.url,null,o.options):new Ls(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(lt(qh,8),lt(Ea),lt(An,8),lt(fa))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nm(n){return n.cloneNode(!0)}function pA(n,e){return n+":"+e}function J2(n){return!(!n.url||!n.options)}const eH=Fc(class{constructor(n){this._elementRef=n}}),tH=new Ft("MAT_ICON_DEFAULT_OPTIONS"),nH=new Ft("mat-icon-location",{providedIn:"root",factory:function rH(){const n=vn(An),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),gA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],iH=gA.map(n=>`[${n}]`).join(", "),oH=/^url\(['"]?#(.*?)['"]?\)$/;let Ao=(()=>{class n extends eH{constructor(t,r,i,o,u,h){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=R.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Yi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(iH),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)gA.forEach(u=>{const h=r[o],C=h.getAttribute(u),k=C?C.match(oH):null;if(k){let Q=i.get(h);Q||(Q=[],i.set(h,Q)),Q.push({name:u,value:k[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ti(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve($c),Tl("aria-hidden"),Ve(nH),Ve(fa),Ve(tH,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(tr("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Sr("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Tn],ngContentSelectors:X2,decls:1,vars:0,template:function(t,r){1&t&&(Uo(),Ir(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Ci=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Kr,Kr]}),n})();class _A{}class aH{}const ba="*";function lu(n,e){return{type:7,name:n,definitions:e,options:{}}}function zo(n,e=null){return{type:4,styles:e,timings:n}}function vA(n,e=null){return{type:2,steps:n,options:e}}function Lr(n){return{type:6,styles:n,offset:null}}function Ta(n,e,t){return{type:0,name:n,styles:e,options:t}}function Yo(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function yA(n){Promise.resolve().then(n)}class Xc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class EA{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?yA(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++r==o&&this._onDestroy()}),u.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class uH{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const fH=new Ft("mat-snack-bar-default-options",{providedIn:"root",factory:function cH(){return new uH}});function bA(n){return new _t(3e3,!1)}function zH(){return typeof window<"u"&&typeof window.document<"u"}function Vv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Za(n){switch(n.length){case 0:return new Xc;case 1:return n[0];default:return new EA(n)}}function TA(n,e,t,r,i=new Map,o=new Map){const u=[],h=[];let C=-1,k=null;if(r.forEach(Q=>{const _e=Q.get("offset"),Me=_e==C,xe=Me&&k||new Map;Q.forEach((Be,Qe)=>{let dt=Qe,vt=Be;if("offset"!==Qe)switch(dt=e.normalizePropertyName(dt,u),vt){case"!":vt=i.get(Qe);break;case ba:vt=o.get(Qe);break;default:vt=e.normalizeStyleValue(Qe,dt,vt,u)}xe.set(dt,vt)}),Me||h.push(xe),k=xe,C=_e}),u.length)throw function LH(n){return new _t(3502,!1)}();return h}function Hv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Wv(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Wv(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Wv(t,"destroy",n)))}}function Wv(n,e,t){const o=Kv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function Kv(n,e,t,r,i="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!u}}function $i(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function SA(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Gv=(n,e)=>!1,CA=(n,e,t)=>[],MA=null;function zv(n){const e=n.parentNode||n.host;return e===MA?null:e}(Vv()||typeof Element<"u")&&(zH()?(MA=(()=>document.documentElement)(),Gv=(n,e)=>{for(;e;){if(e===n)return!0;e=zv(e)}return!1}):Gv=(n,e)=>n.contains(e),CA=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Ns=null,DA=!1;const AA=Gv,IA=CA;let wA=(()=>{class n{validateStyleProperty(t){return function $H(n){Ns||(Ns=function XH(){return typeof document<"u"?document.body:null}()||{},DA=!!Ns.style&&"WebkitAppearance"in Ns.style);let e=!0;return Ns.style&&!function YH(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ns.style,!e&&DA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ns.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return AA(t,r)}getParentElement(t){return zv(t)}query(t,r,i){return IA(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,u,h=[],C){return new Xc(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),Yv=(()=>{class n{}return n.NOOP=new wA,n})();const $v="ng-enter",rm="ng-leave",im="ng-trigger",om=".ng-trigger",PA="ng-animating",Xv=".ng-animating";function Sa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qv(parseFloat(e[1]),e[2])}function qv(n,e){return"s"===e?1e3*n:n}function am(n,e,t){return n.hasOwnProperty("duration")?n:function ZH(n,e,t){let i,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(bA()),{duration:0,delay:0,easing:""};i=qv(parseFloat(h[1]),h[2]);const C=h[3];null!=C&&(o=qv(parseFloat(C),h[4]));const k=h[5];k&&(u=k)}else i=n;if(!t){let h=!1,C=e.length;i<0&&(e.push(function dH(){return new _t(3100,!1)}()),h=!0),o<0&&(e.push(function hH(){return new _t(3101,!1)}()),h=!0),h&&e.splice(C,0,bA())}return{duration:i,delay:o,easing:u}}(n,e,t)}function qc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function OA(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ja(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function LA(n,e,t){return t?e+":"+t+";":""}function NA(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=LA(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=LA(0,nW(t),n.style[t]));n.setAttribute("style",e)}function $o(n,e,t){n.style&&(e.forEach((r,i)=>{const o=Zv(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),Vv()&&NA(n))}function Fs(n,e){n.style&&(e.forEach((t,r)=>{const i=Zv(r);n.style[i]=""}),Vv()&&NA(n))}function Qc(n){return Array.isArray(n)?1==n.length?n[0]:vA(n):n}const Qv=new RegExp("{{\\s*(.+?)\\s*}}","g");function FA(n){let e=[];if("string"==typeof n){let t;for(;t=Qv.exec(n);)e.push(t[1]);Qv.lastIndex=0}return e}function Zc(n,e,t){const r=n.toString(),i=r.replace(Qv,(o,u)=>{let h=e[u];return null==h&&(t.push(function pH(n){return new _t(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function sm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const tW=/-+([a-z0-9])/g;function Zv(n){return n.replace(tW,(...e)=>e[1].toUpperCase())}function nW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gH(n){return new _t(3004,!1)}()}}function kA(n,e){return window.getComputedStyle(n)[e]}function lW(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function uW(n,e,t){if(":"==n[0]){const C=function cW(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function RH(n){return new _t(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof C)return void e.push(C);n=C}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function wH(n){return new _t(3015,!1)}()),e;const i=r[1],o=r[2],u=r[3];e.push(BA(i,u));"<"==o[0]&&!("*"==i&&"*"==u)&&e.push(BA(u,i))}(r,t,e)):t.push(n),t}const fm=new Set(["true","1"]),dm=new Set(["false","0"]);function BA(n,e){const t=fm.has(n)||dm.has(n),r=fm.has(e)||dm.has(e);return(i,o)=>{let u="*"==n||n==i,h="*"==e||e==o;return!u&&t&&"boolean"==typeof i&&(u=i?fm.has(n):dm.has(n)),!h&&r&&"boolean"==typeof o&&(h=o?fm.has(e):dm.has(e)),u&&h}}const fW=new RegExp("s*:selfs*,?","g");function Jv(n,e,t,r){return new dW(n).build(e,t,r)}class dW{constructor(e){this._driver=e}build(e,t,r){const i=new pW(t);return this._resetContextStyleTimingState(i),Xi(this,Qc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function vH(){return new _t(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const C=h,k=C.name;k.toString().split(/\s*,\s*/).forEach(Q=>{C.name=Q,o.push(this.visitState(C,t))}),C.name=k}else if(1==h.type){const C=this.visitTransition(h,t);r+=C.queryCount,i+=C.depCount,u.push(C)}else t.errors.push(function yH(){return new _t(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,u=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(C=>{FA(C).forEach(k=>{u.hasOwnProperty(k)||o.add(k)})})}),o.size&&(sm(o.values()),t.errors.push(function EH(n,e){return new _t(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Xi(this,Qc(e.animation),t);return{type:1,matchers:lW(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ks(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Xi(this,r,t)),options:ks(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(u=>{t.currentTime=r;const h=Xi(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:o,options:ks(e.options)}}visitAnimate(e,t){const r=function _W(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ey(am(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ey(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=am(t,e);return ey(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Lr({});if(5==o.type)i=this.visitKeyframes(o,t);else{let u=e.styles,h=!1;if(!u){h=!0;const k={};r.easing&&(k.easing=r.easing),u=Lr(k)}t.currentTime+=r.duration+r.delay;const C=this.visitStyle(u,t);C.isEmptyStep=h,i=C}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===ba?r.push(h):t.errors.push(new _t(3002,!1)):r.push(OA(h));let o=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let C of h.values())if(C.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,C)=>{const k=t.collectedStyles.get(t.currentQuerySelector),Q=k.get(C);let _e=!0;Q&&(o!=i&&o>=Q.startTime&&i<=Q.endTime&&(t.errors.push(function TH(n,e,t,r,i){return new _t(3010,!1)}()),_e=!1),o=Q.startTime),_e&&k.set(C,{startTime:o,endTime:i}),t.options&&function eW(n,e,t){const r=e.params||{},i=FA(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function mH(n){return new _t(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function SH(){return new _t(3011,!1)}()),r;let o=0;const u=[];let h=!1,C=!1,k=0;const Q=e.steps.map(vt=>{const Nt=this._makeStyleAst(vt,t);let bt=null!=Nt.offset?Nt.offset:function gW(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Nt.styles),$t=0;return null!=bt&&(o++,$t=Nt.offset=bt),C=C||$t<0||$t>1,h=h||$t<k,k=$t,u.push($t),Nt});C&&t.errors.push(function CH(){return new _t(3012,!1)}()),h&&t.errors.push(function MH(){return new _t(3200,!1)}());const _e=e.steps.length;let Me=0;o>0&&o<_e?t.errors.push(function DH(){return new _t(3202,!1)}()):0==o&&(Me=1/(_e-1));const xe=_e-1,Be=t.currentTime,Qe=t.currentAnimateTimings,dt=Qe.duration;return Q.forEach((vt,Nt)=>{const bt=Me>0?Nt==xe?1:Me*Nt:u[Nt],$t=bt*dt;t.currentTime=Be+Qe.delay+$t,Qe.duration=$t,this._validateStyleAst(vt,t),vt.offset=bt,r.styles.push(vt)}),r}visitReference(e,t){return{type:8,animation:Xi(this,Qc(e.animation),t),options:ks(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ks(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ks(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function hW(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(fW,"")),n=n.replace(/@\*/g,om).replace(/@\w+/g,t=>om+"-"+t.slice(1)).replace(/:animating/g,Xv),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,$i(t.collectedStyles,t.currentQuerySelector,new Map);const h=Xi(this,Qc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:ks(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function AH(){return new _t(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:am(e.timings,t.errors,!0);return{type:12,animation:Xi(this,Qc(e.animation),t),timings:r,options:null}}}class pW{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ks(n){return n?(n=qc(n)).params&&(n.params=function mW(n){return n?qc(n):null}(n.params)):n={},n}function ey(n,e,t){return{duration:n,delay:e,easing:t}}function ty(n,e,t,r,i,o,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:u,subTimeline:h}}class hm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const EW=new RegExp(":enter","g"),TW=new RegExp(":leave","g");function ny(n,e,t,r,i,o=new Map,u=new Map,h,C,k=[]){return(new SW).buildKeyframes(n,e,t,r,i,o,u,h,C,k)}class SW{buildKeyframes(e,t,r,i,o,u,h,C,k,Q=[]){k=k||new hm;const _e=new ry(e,t,k,i,o,Q,[]);_e.options=C;const Me=C.delay?Sa(C.delay):0;_e.currentTimeline.delayNextStep(Me),_e.currentTimeline.setStyles([u],null,_e.errors,C),Xi(this,r,_e);const xe=_e.timelines.filter(Be=>Be.containsAnimation());if(xe.length&&h.size){let Be;for(let Qe=xe.length-1;Qe>=0;Qe--){const dt=xe[Qe];if(dt.element===t){Be=dt;break}}Be&&!Be.allowOnlyTimelineStyles()&&Be.setStyles([h],null,_e.errors,C)}return xe.length?xe.map(Be=>Be.buildKeyframes()):[ty(t,[],[],[],0,Me,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const u="number"==typeof o?o:Sa(Zc(o,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const u=null!=r.duration?Sa(r.duration):null,h=null!=r.delay?Sa(r.delay):null;return 0!==u&&e.forEach(C=>{const k=t.appendInstructionToTimeline(C,u,h);o=Math.max(o,k.duration+k.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Xi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mm);const u=Sa(o.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Xi(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Sa(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),Xi(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return am(t.params?Zc(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(C=>{h.forwardTime((C.offset||0)*o),h.setStyles(C.styles,C.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Sa(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mm);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let C=null;h.forEach((k,Q)=>{t.currentQueryIndex=Q;const _e=t.createSubContext(e.options,k);o&&_e.delayNextStep(o),k===t.element&&(C=_e.currentTimeline),Xi(this,e.animation,_e),_e.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,_e.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),C&&(t.currentTimeline.mergeTimelineCollectedStyles(C),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),h=u*(t.currentQueryTotal-1);let C=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":C=h-C;break;case"full":C=r.currentStaggerTime}const Q=t.currentTimeline;C&&Q.delayNextStep(C);const _e=Q.currentTime;Xi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-_e+(i.startTime-r.currentTimeline.startTime)}}const mm={};class ry{constructor(e,t,r,i,o,u,h,C){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new pm(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Sa(r.duration)),null!=r.delay&&(i.delay=Sa(r.delay));const o=r.params;if(o){let u=i.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=Zc(o[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new ry(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=mm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new CW(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(EW,"."+this._enterClassName)).replace(TW,"."+this._leaveClassName);let k=this._driver.query(this.element,e,1!=r);0!==r&&(k=r<0?k.slice(k.length+r,k.length):k.slice(0,r)),h.push(...k)}return!o&&0==h.length&&u.push(function IH(n){return new _t(3014,!1)}()),h}}class pm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new pm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ba),this._currentKeyframe.set(t,ba);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},u=function MW(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,ba)}else Ja(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,C]of u){const k=Zc(C,o,r);this._pendingStyles.set(h,k),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ba),this._updateStyle(h,k)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,C)=>{const k=Ja(h,new Map,this._backFill);k.forEach((Q,_e)=>{"!"===Q?e.add(_e):Q===ba&&t.add(_e)}),r||k.set("offset",C/this.duration),i.push(k)});const o=e.size?sm(e.values()):[],u=t.size?sm(t.values()):[];if(r){const h=i[0],C=new Map(h);h.set("offset",0),C.set("offset",1),i=[h,C]}return ty(this.element,i,o,u,this.duration,this.startTime,this.easing,!1)}}class CW extends pm{constructor(e,t,r,i,o,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=r+t,h=t/u,C=Ja(e[0]);C.set("offset",0),o.push(C);const k=Ja(e[0]);k.set("offset",VA(h)),o.push(k);const Q=e.length-1;for(let _e=1;_e<=Q;_e++){let Me=Ja(e[_e]);const xe=Me.get("offset");Me.set("offset",VA((t+xe*r)/u)),o.push(Me)}r=u,t=0,i="",e=o}return ty(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function VA(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class iy{}const DW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class AW extends iy{normalizePropertyName(e,t){return Zv(e)}normalizeStyleValue(e,t,r,i){let o="";const u=r.toString().trim();if(DW.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function _H(n,e){return new _t(3005,!1)}())}return u+o}}function HA(n,e,t,r,i,o,u,h,C,k,Q,_e,Me){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:u,timelines:h,queriedElements:C,preStyleProps:k,postStyleProps:Q,totalTime:_e,errors:Me}}const oy={};class WA{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function IW(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,u,h,C,k,Q){const _e=[],Me=this.ast.options&&this.ast.options.params||oy,Be=this.buildStyles(r,h&&h.params||oy,_e),Qe=C&&C.params||oy,dt=this.buildStyles(i,Qe,_e),vt=new Set,Nt=new Map,bt=new Map,$t="void"===i,Bn={params:wW(Qe,Me),delay:this.ast.options?.delay},Yn=Q?[]:ny(e,t,this.ast.animation,o,u,Be,dt,Bn,k,_e);let fi=0;if(Yn.forEach(La=>{fi=Math.max(La.duration+La.delay,fi)}),_e.length)return HA(t,this._triggerName,r,i,$t,Be,dt,[],[],Nt,bt,fi,_e);Yn.forEach(La=>{const Na=La.element,HP=$i(Nt,Na,new Set);La.preStyleProps.forEach(tl=>HP.add(tl));const hd=$i(bt,Na,new Set);La.postStyleProps.forEach(tl=>hd.add(tl)),Na!==t&&vt.add(Na)});const xa=sm(vt.values());return HA(t,this._triggerName,r,i,$t,Be,dt,Yn,xa,Nt,bt,fi)}}function wW(n,e){const t=qc(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class RW{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=qc(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(i[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=Zc(u,i,t));const C=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,C,u,t),r.set(h,u)})}),r}}class OW{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new RW(i.style,i.options&&i.options.params||{},r))}),KA(this.states,"true","1"),KA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new WA(e,i,this.states))}),this.fallbackTransition=function xW(n,e,t){return new WA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function KA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const LW=new hm;class NW{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=Jv(this._driver,t,r,[]);if(r.length)throw function NH(n){return new _t(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=TA(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let u;const h=new Map;if(o?(u=ny(this._driver,t,o,$v,rm,new Map,new Map,r,LW,i),u.forEach(Q=>{const _e=$i(h,Q.element,new Map);Q.postStyleProps.forEach(Me=>_e.set(Me,null))})):(i.push(function FH(){return new _t(3300,!1)}()),u=[]),i.length)throw function kH(n){return new _t(3504,!1)}();h.forEach((Q,_e)=>{Q.forEach((Me,xe)=>{Q.set(xe,this._driver.computeStyle(_e,xe,ba))})});const k=Za(u.map(Q=>{const _e=h.get(Q.element);return this._buildPlayer(Q,new Map,_e)}));return this._playersById.set(e,k),k.onDestroy(()=>this.destroy(e)),this.players.push(k),k}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function BH(n){return new _t(3301,!1)}();return t}listen(e,t,r,i){const o=Kv(t,"","","");return Hv(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const GA="ng-animate-queued",ay="ng-animate-disabled",jW=[],zA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},co="__ng_removed";class sy{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function GW(n){return n??null}(r?e.value:e),r){const o=qc(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Jc="void",ly=new sy(Jc);class HW{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function UH(n,e){return new _t(3302,!1)}();if(null==r||0==r.length)throw function jH(n){return new _t(3303,!1)}();if(!function zW(n){return"start"==n||"done"==n}(r))throw function VH(n,e){return new _t(3400,!1)}();const o=$i(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};o.push(u);const h=$i(this._engine.statesByElement,e,new Map);return h.has(t)||(fo(e,im),fo(e,im+"-"+t),h.set(t,ly)),()=>{this._engine.afterFlush(()=>{const C=o.indexOf(u);C>=0&&o.splice(C,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function HH(n){return new _t(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),u=new uy(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(fo(e,im),fo(e,im+"-"+t),this._engine.statesByElement.set(e,h=new Map));let C=h.get(t);const k=new sy(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&C&&k.absorbOptions(C.options),h.set(t,k),C||(C=ly),k.value!==Jc&&C.value===k.value){if(!function XW(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(C.params,k.params)){const Qe=[],dt=o.matchStyles(C.value,C.params,Qe),vt=o.matchStyles(k.value,k.params,Qe);Qe.length?this._engine.reportError(Qe):this._engine.afterFlush(()=>{Fs(e,dt),$o(e,vt)})}return}const Me=$i(this._engine.playersByElement,e,[]);Me.forEach(Qe=>{Qe.namespaceId==this.id&&Qe.triggerName==t&&Qe.queued&&Qe.destroy()});let xe=o.matchTransition(C.value,k.value,e,k.params),Be=!1;if(!xe){if(!i)return;xe=o.fallbackTransition,Be=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:xe,fromState:C,toState:k,player:u,isFallbackTransition:Be}),Be||(fo(e,GA),u.onStart(()=>{uu(e,GA)})),u.onDone(()=>{let Qe=this.players.indexOf(u);Qe>=0&&this.players.splice(Qe,1);const dt=this._engine.playersByElement.get(e);if(dt){let vt=dt.indexOf(u);vt>=0&&dt.splice(vt,1)}}),this.players.push(u),Me.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,om,!0);r.forEach(i=>{if(i[co])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const h=[];if(o.forEach((C,k)=>{if(u.set(k,C.value),this._triggers.has(k)){const Q=this.trigger(e,k,Jc,i);Q&&h.push(Q)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Za(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const u=o.name;if(i.has(u))return;i.add(u);const C=this._triggers.get(u).fallbackTransition,k=r.get(u)||ly,Q=new sy(Jc),_e=new uy(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:C,fromState:k,toState:Q,player:_e,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[co];(!o||o===zA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){fo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==r.triggerName){const C=Kv(o,r.triggerName,r.fromState.value,r.toState.value);C._data=e,Hv(r.player,h.phase,C,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class WW{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new HW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const C=i.get(h);if(C){const k=r.indexOf(C);r.splice(k+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(gm(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!gm(t))return;const o=t[co];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fo(e,ay)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uu(e,ay))}removeNode(e,t,r,i){if(gm(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[co]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return gm(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,om,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Xv,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Za(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[co];if(t&&t.setForRemoval){if(e[co]=zA,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ay)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)fo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Za(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function WH(n){return new _t(3402,!1)}()}_flushAnimations(e,t){const r=new hm,i=[],o=new Map,u=[],h=new Map,C=new Map,k=new Map,Q=new Set;this.disabledNodes.forEach(rn=>{Q.add(rn);const dn=this.driver.query(rn,".ng-animate-queued",!0);for(let _n=0;_n<dn.length;_n++)Q.add(dn[_n])});const _e=this.bodyNode,Me=Array.from(this.statesByElement.keys()),xe=XA(Me,this.collectedEnterElements),Be=new Map;let Qe=0;xe.forEach((rn,dn)=>{const _n=$v+Qe++;Be.set(dn,_n),rn.forEach(Kn=>fo(Kn,_n))});const dt=[],vt=new Set,Nt=new Set;for(let rn=0;rn<this.collectedLeaveElements.length;rn++){const dn=this.collectedLeaveElements[rn],_n=dn[co];_n&&_n.setForRemoval&&(dt.push(dn),vt.add(dn),_n.hasAnimation?this.driver.query(dn,".ng-star-inserted",!0).forEach(Kn=>vt.add(Kn)):Nt.add(dn))}const bt=new Map,$t=XA(Me,Array.from(vt));$t.forEach((rn,dn)=>{const _n=rm+Qe++;bt.set(dn,_n),rn.forEach(Kn=>fo(Kn,_n))}),e.push(()=>{xe.forEach((rn,dn)=>{const _n=Be.get(dn);rn.forEach(Kn=>uu(Kn,_n))}),$t.forEach((rn,dn)=>{const _n=bt.get(dn);rn.forEach(Kn=>uu(Kn,_n))}),dt.forEach(rn=>{this.processLeaveNode(rn)})});const Bn=[],Yn=[];for(let rn=this._namespaceList.length-1;rn>=0;rn--)this._namespaceList[rn].drainQueuedTransitions(t).forEach(_n=>{const Kn=_n.player,$r=_n.element;if(Bn.push(Kn),this.collectedEnterElements.length){const di=$r[co];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(_n.triggerName)){const nl=di.previousTriggersValues.get(_n.triggerName),po=this.statesByElement.get(_n.element);if(po&&po.has(_n.triggerName)){const Ap=po.get(_n.triggerName);Ap.value=nl,po.set(_n.triggerName,Ap)}}return void Kn.destroy()}}const ta=!_e||!this.driver.containsElement(_e,$r),Zi=bt.get($r),ls=Be.get($r),vr=this._buildInstruction(_n,r,ls,Zi,ta);if(vr.errors&&vr.errors.length)return void Yn.push(vr);if(ta)return Kn.onStart(()=>Fs($r,vr.fromStyles)),Kn.onDestroy(()=>$o($r,vr.toStyles)),void i.push(Kn);if(_n.isFallbackTransition)return Kn.onStart(()=>Fs($r,vr.fromStyles)),Kn.onDestroy(()=>$o($r,vr.toStyles)),void i.push(Kn);const GP=[];vr.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||GP.push(di)}),vr.timelines=GP,r.append($r,vr.timelines),u.push({instruction:vr,player:Kn,element:$r}),vr.queriedElements.forEach(di=>$i(h,di,[]).push(Kn)),vr.preStyleProps.forEach((di,nl)=>{if(di.size){let po=C.get(nl);po||C.set(nl,po=new Set),di.forEach((Ap,JE)=>po.add(JE))}}),vr.postStyleProps.forEach((di,nl)=>{let po=k.get(nl);po||k.set(nl,po=new Set),di.forEach((Ap,JE)=>po.add(JE))})});if(Yn.length){const rn=[];Yn.forEach(dn=>{rn.push(function KH(n,e){return new _t(3505,!1)}())}),Bn.forEach(dn=>dn.destroy()),this.reportError(rn)}const fi=new Map,xa=new Map;u.forEach(rn=>{const dn=rn.element;r.has(dn)&&(xa.set(dn,dn),this._beforeAnimationBuild(rn.player.namespaceId,rn.instruction,fi))}),i.forEach(rn=>{const dn=rn.element;this._getPreviousPlayers(dn,!1,rn.namespaceId,rn.triggerName,null).forEach(Kn=>{$i(fi,dn,[]).push(Kn),Kn.destroy()})});const La=dt.filter(rn=>QA(rn,C,k)),Na=new Map;$A(Na,this.driver,Nt,k,ba).forEach(rn=>{QA(rn,C,k)&&La.push(rn)});const hd=new Map;xe.forEach((rn,dn)=>{$A(hd,this.driver,new Set(rn),C,"!")}),La.forEach(rn=>{const dn=Na.get(rn),_n=hd.get(rn);Na.set(rn,new Map([...Array.from(dn?.entries()??[]),...Array.from(_n?.entries()??[])]))});const tl=[],WP=[],KP={};u.forEach(rn=>{const{element:dn,player:_n,instruction:Kn}=rn;if(r.has(dn)){if(Q.has(dn))return _n.onDestroy(()=>$o(dn,Kn.toStyles)),_n.disabled=!0,_n.overrideTotalTime(Kn.totalTime),void i.push(_n);let $r=KP;if(xa.size>1){let Zi=dn;const ls=[];for(;Zi=Zi.parentNode;){const vr=xa.get(Zi);if(vr){$r=vr;break}ls.push(Zi)}ls.forEach(vr=>xa.set(vr,$r))}const ta=this._buildAnimation(_n.namespaceId,Kn,fi,o,hd,Na);if(_n.setRealPlayer(ta),$r===KP)tl.push(_n);else{const Zi=this.playersByElement.get($r);Zi&&Zi.length&&(_n.parentPlayer=Za(Zi)),i.push(_n)}}else Fs(dn,Kn.fromStyles),_n.onDestroy(()=>$o(dn,Kn.toStyles)),WP.push(_n),Q.has(dn)&&i.push(_n)}),WP.forEach(rn=>{const dn=o.get(rn.element);if(dn&&dn.length){const _n=Za(dn);rn.setRealPlayer(_n)}}),i.forEach(rn=>{rn.parentPlayer?rn.syncPlayerEvents(rn.parentPlayer):rn.destroy()});for(let rn=0;rn<dt.length;rn++){const dn=dt[rn],_n=dn[co];if(uu(dn,rm),_n&&_n.hasAnimation)continue;let Kn=[];if(h.size){let ta=h.get(dn);ta&&ta.length&&Kn.push(...ta);let Zi=this.driver.query(dn,Xv,!0);for(let ls=0;ls<Zi.length;ls++){let vr=h.get(Zi[ls]);vr&&vr.length&&Kn.push(...vr)}}const $r=Kn.filter(ta=>!ta.destroyed);$r.length?YW(this,dn,$r):this.processLeaveNode(dn)}return dt.length=0,tl.forEach(rn=>{this.players.push(rn),rn.onDone(()=>{rn.destroy();const dn=this.players.indexOf(rn);this.players.splice(dn,1)}),rn.play()}),tl}elementContainsData(e,t){let r=!1;const i=t[co];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const C=!o||o==Jc;h.forEach(k=>{k.queued||!C&&k.triggerName!=i||u.push(k)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const o=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const C of t.timelines){const k=C.element,Q=k!==o,_e=$i(r,k,[]);this._getPreviousPlayers(k,Q,u,h,t.toState).forEach(xe=>{const Be=xe.getRealPlayer();Be.beforeDestroy&&Be.beforeDestroy(),xe.destroy(),_e.push(xe)})}Fs(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,u){const h=t.triggerName,C=t.element,k=[],Q=new Set,_e=new Set,Me=t.timelines.map(Be=>{const Qe=Be.element;Q.add(Qe);const dt=Qe[co];if(dt&&dt.removedBeforeQueried)return new Xc(Be.duration,Be.delay);const vt=Qe!==C,Nt=function $W(n){const e=[];return qA(n,e),e}((r.get(Qe)||jW).map(fi=>fi.getRealPlayer())).filter(fi=>!!fi.element&&fi.element===Qe),bt=o.get(Qe),$t=u.get(Qe),Bn=TA(0,this._normalizer,0,Be.keyframes,bt,$t),Yn=this._buildPlayer(Be,Bn,Nt);if(Be.subTimeline&&i&&_e.add(Qe),vt){const fi=new uy(e,h,Qe);fi.setRealPlayer(Yn),k.push(fi)}return Yn});k.forEach(Be=>{$i(this.playersByQueriedElement,Be.element,[]).push(Be),Be.onDone(()=>function KW(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Be.element,Be))}),Q.forEach(Be=>fo(Be,PA));const xe=Za(Me);return xe.onDestroy(()=>{Q.forEach(Be=>uu(Be,PA)),$o(C,t.toStyles)}),_e.forEach(Be=>{$i(i,Be,[]).push(xe)}),xe}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Xc(e.duration,e.delay)}}class uy{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Xc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Hv(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$i(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function gm(n){return n&&1===n.nodeType}function YA(n,e){const t=n.style.display;return n.style.display=e??"none",t}function $A(n,e,t,r,i){const o=[];t.forEach(C=>o.push(YA(C)));const u=[];r.forEach((C,k)=>{const Q=new Map;C.forEach(_e=>{const Me=e.computeStyle(k,_e,i);Q.set(_e,Me),(!Me||0==Me.length)&&(k[co]=VW,u.push(k))}),n.set(k,Q)});let h=0;return t.forEach(C=>YA(C,o[h++])),u}function XA(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),o=new Map;function u(h){if(!h)return 1;let C=o.get(h);if(C)return C;const k=h.parentNode;return C=t.has(k)?k:i.has(k)?1:u(k),o.set(h,C),C}return e.forEach(h=>{const C=u(h);1!==C&&t.get(C).push(h)}),t}function fo(n,e){n.classList?.add(e)}function uu(n,e){n.classList?.remove(e)}function YW(n,e,t){Za(t).onDone(()=>n.processLeaveNode(e))}function qA(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof EA?qA(r.players,e):e.push(r)}}function QA(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class _m{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new WW(e,t,r),this._timelineEngine=new NW(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const C=[],Q=Jv(this._driver,o,C,[]);if(C.length)throw function xH(n,e){return new _t(3404,!1)}();h=function PW(n,e,t){return new OW(n,e,t)}(i,Q,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,u]=SA(r);this._timelineEngine.command(o,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[u,h]=SA(r);return this._timelineEngine.listen(u,t,h,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let QW=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&$o(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($o(this._element,this._initialStyles),this._endStyles&&($o(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fs(this._element,this._endStyles),this._endStyles=null),$o(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function cy(n){let e=null;return n.forEach((t,r)=>{(function ZW(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class ZA{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:kA(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class JW{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return AA(e,t)}getParentElement(e){return zv(e)}query(e,t,r){return IA(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,u=[]){const C={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(C.easing=o);const k=new Map,Q=u.filter(xe=>xe instanceof ZA);(function rW(n,e){return 0===n||0===e})(r,i)&&Q.forEach(xe=>{xe.currentSnapshot.forEach((Be,Qe)=>k.set(Qe,Be))});let _e=function JH(n){return n.length?n[0]instanceof Map?n:n.map(e=>OA(e)):[]}(t).map(xe=>Ja(xe));_e=function iW(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,u)=>{r.has(u)||i.push(u),r.set(u,o)}),i.length)for(let o=1;o<e.length;o++){let u=e[o];i.forEach(h=>u.set(h,kA(n,h)))}}return e}(e,_e,k);const Me=function qW(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=cy(e[0]),e.length>1&&(r=cy(e[e.length-1]))):e instanceof Map&&(t=cy(e)),t||r?new QW(n,t,r):null}(e,_e);return new ZA(e,_e,C,Me)}}let eK=(()=>{class n extends _A{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:mi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?vA(t):t;return JA(this._renderer,null,r,"register",[i]),new tK(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(lt(lc),lt(An))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class tK extends aH{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new nK(this._id,e,t||{},this._renderer)}}class nK{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JA(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function JA(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const eI="@.disabled";let rK=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let Q=this._rendererCache.get(o);return Q||(Q=new tI("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,Q)),Q}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const C=Q=>{Array.isArray(Q)?Q.forEach(C):this.engine.registerTrigger(u,h,t,Q.name,Q)};return r.data.animation.forEach(C),new iK(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(lt(lc),lt(_m),lt(Sn))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class tI{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==eI?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class iK extends tI{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==eI?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function oK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function aK(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}const cK=[{provide:Yv,useFactory:()=>new JW},{provide:Wo,useValue:"BrowserAnimations"},...[{provide:_A,useClass:eK},{provide:iy,useFactory:function lK(){return new AW}},{provide:_m,useClass:(()=>{class n extends _m{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(lt(An),lt(Yv),lt(iy),lt(eu))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})()},{provide:lc,useFactory:function uK(n,e,t){return new rK(n,e,t)},deps:[em,_m,Sn]}]],ym=M(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function rI(n){return new z(e=>{Te(n()).subscribe(e)})}function fy(){return he((n,e)=>{let t=null;n._refCount++;const r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class iI extends z{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,pe(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new R;const t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=R.EMPTY)}return e}refCount(){return fy()(this)}}function ho(n,e){return he((t,r)=>{let i=null,o=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe(de(r,C=>{i?.unsubscribe();let k=0;const Q=o++;Te(n(C,Q)).subscribe(i=de(r,_e=>r.next(e?e(C,_e,Q,k++):_e),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function Em(n){return he((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function oI(n=hK){return he((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hK(){return new ym}function es(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((i,o)=>n(i,o,r)):W,Ti(1),t?Em(e):oI(()=>new ym))}function mK(n,e,t,r,i){return(o,u)=>{let h=t,C=e,k=0;o.subscribe(de(u,Q=>{const _e=k++;C=h?n(C,Q,_e):(h=!0,Q),r&&u.next(C)},i&&(()=>{h&&u.next(C),u.complete()})))}}function aI(n,e){return he(mK(n,e,arguments.length>=2,!0))}function dy(n){return n<=0?()=>Dt:he((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((i,o)=>n(i,o,r)):W,dy(1),t?Em(e):oI(()=>new ym))}function lI(n){return se(()=>n)}const Rn="primary",ef=Symbol("RouteTitle");class gK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function cu(n){return new gK(n)}function _K(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const u=r[o],h=n[o];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!uI(n[i],e[i]))return!1;return!0}function uI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function cI(n){return Array.prototype.concat.apply([],n)}function fI(n){return n.length>0?n[n.length-1]:null}function Jr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ts(n){return l_(n)?n:mc(n)?Fe(Promise.resolve(n)):on(n)}const bm=!1,yK={exact:function mI(n,e,t){if(!Us(n.segments,e.segments)||!Tm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!mI(n.children[r],e.children[r],t))return!1;return!0},subset:pI},dI={exact:function EK(n,e){return Xo(n,e)},subset:function bK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uI(n[t],e[t]))},ignored:()=>!0};function hI(n,e,t){return yK[t.paths](n.root,e.root,t.matrixParams)&&dI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function pI(n,e,t){return gI(n,e,e.segments,t)}function gI(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Us(i,t)||e.hasChildren()||!Tm(i,t,r))}if(n.segments.length===t.length){if(!Us(n.segments,t)||!Tm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!pI(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Us(n.segments,i)&&Tm(n.segments,i,r)&&n.children[Rn])&&gI(n.children[Rn],e,o,r)}}function Tm(n,e,t){return e.every((r,i)=>dI[t](n[i].parameters,r.parameters))}class Bs{constructor(e=new Pn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cu(this.queryParams)),this._queryParamMap}toString(){return CK.serialize(this)}}class Pn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sm(this)}}class tf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=cu(this.parameters)),this._parameterMap}toString(){return yI(this)}}function Us(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let nf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:function(){return new hy},providedIn:"root"}),n})();class hy{parse(e){const t=new xK(e);return new Bs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rf(e.root,!0)}`,r=function AK(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Cm(t)}=${Cm(i)}`).join("&"):`${Cm(t)}=${Cm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function MK(n){return encodeURI(n)}(e.fragment)}`:""}`}}const CK=new hy;function Sm(n){return n.segments.map(e=>yI(e)).join("/")}function rf(n,e){if(!n.hasChildren())return Sm(n);if(e){const t=n.children[Rn]?rf(n.children[Rn],!1):"",r=[];return Jr(n.children,(i,o)=>{o!==Rn&&r.push(`${o}:${rf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function SK(n,e){let t=[];return Jr(n.children,(r,i)=>{i===Rn&&(t=t.concat(e(r,i)))}),Jr(n.children,(r,i)=>{i!==Rn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Rn?[rf(n.children[Rn],!1)]:[`${i}:${rf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rn]?`${Sm(n)}/${t[0]}`:`${Sm(n)}/(${t.join("//")})`}}function _I(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cm(n){return _I(n).replace(/%3B/gi,";")}function my(n){return _I(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mm(n){return decodeURIComponent(n)}function vI(n){return Mm(n.replace(/\+/g,"%20"))}function yI(n){return`${my(n.path)}${function DK(n){return Object.keys(n).map(e=>`;${my(e)}=${my(n[e])}`).join("")}(n.parameters)}`}const IK=/^[^\/()?;=#]+/;function Dm(n){const e=n.match(IK);return e?e[0]:""}const wK=/^[^=?&#]+/,PK=/^[^&#]+/;class xK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Rn]=new Pn(e,t)),r}parseSegment(){const e=Dm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new _t(4009,bm);return this.capture(e),new tf(Mm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Dm(this.remaining);i&&(r=i,this.capture(r))}e[Mm(t)]=Mm(r)}parseQueryParam(e){const t=function RK(n){const e=n.match(wK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function OK(n){const e=n.match(PK);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=vI(t),o=vI(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new _t(4010,bm);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Rn);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[Rn]:new Pn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new _t(4011,bm)}}function py(n){return n.segments.length>0?new Pn([],{[Rn]:n}):n}function Am(n){const e={};for(const r of Object.keys(n.children)){const o=Am(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function LK(n){if(1===n.numberOfChildren&&n.children[Rn]){const e=n.children[Rn];return new Pn(n.segments.concat(e.segments),e.children)}return n}(new Pn(n.segments,e))}function js(n){return n instanceof Bs}function kK(n,e,t,r,i){if(0===t.length)return fu(e.root,e.root,e.root,r,i);const o=function TI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bI(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Jr(o.outlets,(C,k)=>{h[k]="string"==typeof C?C.split("/"):C}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===u?(o.split("/").forEach((h,C)=>{0==C&&"."===h||(0==C&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new bI(t,e,r)}(t);return o.toRoot()?fu(e.root,e.root,new Pn([],{}),r,i):function u(C){const k=function UK(n,e,t,r){if(n.isAbsolute)return new du(e.root,!0,0);if(-1===r)return new du(t,t===e.root,0);return function SI(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new _t(4005,!1);i=r.segments.length}return new du(r,!1,i-o)}(t,r+(af(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,C),Q=k.processChildren?lf(k.segmentGroup,k.index,o.commands):_y(k.segmentGroup,k.index,o.commands);return fu(e.root,k.segmentGroup,Q,r,i)}(n.snapshot?._lastPathIndex)}function af(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sf(n){return"object"==typeof n&&null!=n&&n.outlets}function fu(n,e,t,r,i){let u,o={};r&&Jr(r,(C,k)=>{o[k]=Array.isArray(C)?C.map(Q=>`${Q}`):`${C}`}),u=n===e?t:EI(n,e,t);const h=py(Am(u));return new Bs(h,o,i)}function EI(n,e,t){const r={};return Jr(n.children,(i,o)=>{r[o]=i===e?t:EI(i,e,t)}),new Pn(n.segments,r)}class bI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&af(r[0]))throw new _t(4003,!1);const i=r.find(sf);if(i&&i!==fI(r))throw new _t(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class du{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _y(n,e,t){if(n||(n=new Pn([],{})),0===n.segments.length&&n.hasChildren())return lf(n,e,t);const r=function VK(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const u=n.segments[i],h=t[r];if(sf(h))break;const C=`${h}`,k=r<t.length-1?t[r+1]:null;if(i>0&&void 0===C)break;if(C&&k&&"object"==typeof k&&void 0===k.outlets){if(!MI(C,k,u))return o;r+=2}else{if(!MI(C,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Pn(n.segments.slice(0,r.pathIndex),{});return o.children[Rn]=new Pn(n.segments.slice(r.pathIndex),n.children),lf(o,0,i)}return r.match&&0===i.length?new Pn(n.segments,{}):r.match&&!n.hasChildren()?vy(n,e,t):r.match?lf(n,0,i):vy(n,e,t)}function lf(n,e,t){if(0===t.length)return new Pn(n.segments,{});{const r=function jK(n){return sf(n[0])?n[0].outlets:{[Rn]:n}}(t),i={};return Jr(r,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[u]=_y(n.children[u],e,o))}),Jr(n.children,(o,u)=>{void 0===r[u]&&(i[u]=o)}),new Pn(n.segments,i)}}function vy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(sf(o)){const C=HK(o.outlets);return new Pn(r,C)}if(0===i&&af(t[0])){r.push(new tf(n.segments[e].path,CI(t[0]))),i++;continue}const u=sf(o)?o.outlets[Rn]:`${o}`,h=i<t.length-1?t[i+1]:null;u&&h&&af(h)?(r.push(new tf(u,CI(h))),i+=2):(r.push(new tf(u,{})),i++)}return new Pn(r,{})}function HK(n){const e={};return Jr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vy(new Pn([],{}),0,t))}),e}function CI(n){const e={};return Jr(n,(t,r)=>e[r]=`${t}`),e}function MI(n,e,t){return n==t.path&&Xo(e,t.parameters)}class Ca{constructor(e,t){this.id=e,this.url=t}}class yy extends Ca{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vs extends Ca{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Im extends Ca{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class DI extends Ca{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WK extends Ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KK extends Ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GK extends Ca{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zK extends Ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YK extends Ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $K{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let tG=(()=>{class n{createUrlTree(t,r,i,o,u,h){return kK(t||r.root,i,o,u,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),nG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:function(e){return tG.\u0275fac(e)},providedIn:"root"}),n})();class II{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ey(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ey(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=by(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return by(e,this._root).map(t=>t.value)}}function Ey(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ey(n,t);if(r)return r}return null}function by(n,e){if(n===e.value)return[e];for(const t of e.children){const r=by(n,t);if(r.length)return r.unshift(e),r}return[]}class Ma{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wI extends II{constructor(e,t){super(e),this.snapshot=t,Ty(this,e)}toString(){return this.snapshot.toString()}}function RI(n,e){const t=function rG(n,e){const u=new wm([],{},{},"",{},Rn,e,null,n.root,-1,{});return new OI("",new Ma(u,[]))}(n,e),r=new zi([new tf("",{})]),i=new zi({}),o=new zi({}),u=new zi({}),h=new zi(""),C=new Da(r,i,u,h,o,Rn,e,t.root);return C.snapshot=t.root,new wI(new Ma(C,[]),t)}class Da{constructor(e,t,r,i,o,u,h,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe(se(k=>k[ef]))??on(void 0),this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>cu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>cu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function iG(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wm{constructor(e,t,r,i,o,u,h,C,k,Q,_e){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.routeConfig=C,this._urlSegment=k,this._lastPathIndex=Q,this._resolve=_e}get title(){return this.data?.[ef]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OI extends II{constructor(e,t){super(t),this.url=e,Ty(this,t)}toString(){return xI(this._root)}}function Ty(n,e){e.value._routerState=n,e.children.forEach(t=>Ty(n,t))}function xI(n){const e=n.children.length>0?` { ${n.children.map(xI).join(", ")} } `:"";return`${n.value}${e}`}function Sy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xo(e.params,t.params)||n.params.next(t.params),function vK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cy(n,e){const t=Xo(n.params,e.params)&&function TK(n,e){return Us(n,e)&&n.every((t,r)=>Xo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Cy(n.parent,e.parent))}function uf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function aG(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return uf(n,r,i);return uf(n,r)})}(n,e,t);return new Ma(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>uf(n,h)),u}}const r=function sG(n){return new Da(new zi(n.url),new zi(n.params),new zi(n.queryParams),new zi(n.fragment),new zi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>uf(n,o));return new Ma(r,i)}}const My="ngNavigationCancelingError";function LI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=js(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function NI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[My]=!0,r.cancellationCode=e,t&&(r.url=t),r}function FI(n){return kI(n)&&js(n.url)}function kI(n){return n&&n[My]}class lG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new cf,this.attachRef=null}}let cf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lG,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rm=!1;let Dy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rn,this.activateEvents=new Jn,this.deactivateEvents=new Jn,this.attachEvents=new Jn,this.detachEvents=new Jn,this.parentContexts=vn(cf),this.location=vn(Gi),this.changeDetector=vn(Pi),this.environmentInjector=vn(Fo)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _t(4012,Rm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _t(4012,Rm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _t(4012,Rm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new _t(4013,Rm);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,C=new uG(t,h,i.injector);if(r&&function cG(n){return!!n.resolveComponentFactory}(r)){const k=r.resolveComponentFactory(u);this.activated=i.createComponent(k,i.length,C)}else this.activated=i.createComponent(u,{index:i.length,injector:C,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ui]}),n})();class uG{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Da?this.route:e===cf?this.childContexts:this.parent.get(e,t)}}let Ay=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Kt({type:n,selectors:[["ng-component"]],standalone:!0,features:[qn],decls:1,vars:0,template:function(t,r){1&t&&nn(0,"router-outlet")},dependencies:[Dy],encapsulation:2}),n})();function BI(n,e){return n.providers&&!n._injector&&(n._injector=mh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wy(n){const e=n.children&&n.children.map(wy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rn&&(t.component=Ay),t}function mo(n){return n.outlet||Rn}function UI(n,e){const t=n.filter(r=>mo(r)===e);return t.push(...n.filter(r=>mo(r)!==e)),t}function ff(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class pG{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=hu(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,i[u],r),delete i[u]}),Jr(i,(o,u)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hu(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hu(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=hu(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new JK(o.value.snapshot))}),e.children.length&&this.forwardEvent(new QK(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Sy(i),i===o)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Sy(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=ff(i.snapshot),C=h?.get(xl)??null;u.attachRef=null,u.route=i,u.resolver=C,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class jI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pm{constructor(e,t){this.component=e,this.route=t}}function gG(n,e,t){const r=n._root;return df(r,e?e._root:null,t,[r.value])}function mu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Un(n){return null!==yn(n)}(n)?e.get(n):n:r}function df(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=hu(e);return n.children.forEach(u=>{(function vG(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const C=function yG(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Us(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Us(n.url,e.url)||!Xo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cy(n,e)||!Xo(n.queryParams,e.queryParams);default:return!Cy(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);C?i.canActivateChecks.push(new jI(r)):(o.data=u.data,o._resolvedData=u._resolvedData),df(n,e,o.component?h?h.children:null:t,r,i),C&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Pm(h.outlet.component,u))}else u&&hf(e,h,i),i.canActivateChecks.push(new jI(r)),df(n,null,o.component?h?h.children:null:t,r,i)})(u,o[u.value.outlet],t,r.concat([u.value]),i),delete o[u.value.outlet]}),Jr(o,(u,h)=>hf(u,t.getContext(h),i)),i}function hf(n,e,t){const r=hu(n),i=n.value;Jr(r,(o,u)=>{hf(o,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Pm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function mf(n){return"function"==typeof n}function Ry(n){return n instanceof ym||"EmptyError"===n?.name}const Om=Symbol("INITIAL_VALUE");function pu(){return ho(n=>Tv(n.map(e=>e.pipe(Ti(1),va(Om)))).pipe(se(e=>{for(const t of e)if(!0!==t){if(t===Om)return Om;if(!1===t||t instanceof Bs)return t}return!0}),Hr(e=>e!==Om),Ti(1)))}function VI(n){return function x(...n){return Y(n)}(Wn(e=>{if(js(e))throw LI(0,e)}),se(e=>!0===e))}const Py={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HI(n,e,t,r,i){const o=Oy(n,e,t);return o.matched?function FG(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?on(i.map(u=>{const h=mu(u,n);return ts(function MG(n){return n&&mf(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(pu(),VI()):on(!0)}(r=BI(e,r),e,t).pipe(se(u=>!0===u?o:{...Py})):on(o)}function Oy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Py}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_K)(t,n,e);if(!i)return{...Py};const o={};Jr(i.posParams,(h,C)=>{o[C]=h.path});const u=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function xm(n,e,t,r){if(t.length>0&&function UG(n,e,t){return t.some(r=>Lm(n,e,r)&&mo(r)!==Rn)}(n,t,r)){const o=new Pn(e,function BG(n,e,t,r){const i={};i[Rn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&mo(o)!==Rn){const u=new Pn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[mo(o)]=u}return i}(n,e,r,new Pn(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function jG(n,e,t){return t.some(r=>Lm(n,e,r))}(n,t,r)){const o=new Pn(n.segments,function kG(n,e,t,r,i){const o={};for(const u of r)if(Lm(n,t,u)&&!i[mo(u)]){const h=new Pn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[mo(u)]=h}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new Pn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Lm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function WI(n,e,t,r){return!!(mo(n)===r||r!==Rn&&Lm(e,t,n))&&("**"===n.path||Oy(e,n,t).matched)}function KI(n,e,t){return 0===e.length&&!n.children[t]}const Nm=!1;class Fm{constructor(e){this.segmentGroup=e||null}}class GI{constructor(e){this.urlTree=e}}function pf(n){return Si(new Fm(n))}function zI(n){return Si(new GI(n))}class KG{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=xm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Rn).pipe(se(o=>this.createUrlTree(Am(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uo(o=>{if(o instanceof GI)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Fm?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Rn).pipe(se(i=>this.createUrlTree(Am(i),e.queryParams,e.fragment))).pipe(uo(i=>{throw i instanceof Fm?this.noMatchError(i):i}))}noMatchError(e){return new _t(4002,Nm)}createUrlTree(e,t,r){const i=py(e);return new Bs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(se(o=>new Pn([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Fe(i).pipe(Xa(o=>{const u=r.children[o],h=UI(t,o);return this.expandSegmentGroup(e,h,u,o).pipe(se(C=>({segment:C,outlet:o})))}),aI((o,u)=>(o[u.outlet]=u.segment,o),{}),sI())}expandSegment(e,t,r,i,o,u){return Fe(r).pipe(Xa(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,o,u).pipe(uo(k=>{if(k instanceof Fm)return on(null);throw k}))),es(h=>!!h),uo((h,C)=>{if(Ry(h))return KI(t,i,o)?on(new Pn([],{})):pf(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,o,u,h){return WI(i,t,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u):pf(t):pf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zI(o):this.lineralizeSegments(r,o).pipe(rt(u=>{const h=new Pn(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){const{matched:h,consumedSegments:C,remainingSegments:k,positionalParamSegments:Q}=Oy(t,i,o);if(!h)return pf(t);const _e=this.applyRedirectCommands(C,i.redirectTo,Q);return i.redirectTo.startsWith("/")?zI(_e):this.lineralizeSegments(i,_e).pipe(rt(Me=>this.expandSegment(e,t,r,Me.concat(k),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=BI(r,e),r.loadChildren?(r._loadedRoutes?on({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(se(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Pn(i,{})))):on(new Pn(i,{}))):HI(t,r,i,e).pipe(ho(({matched:u,consumedSegments:h,remainingSegments:C})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe(rt(Q=>{const _e=Q.injector??e,Me=Q.routes,{segmentGroup:xe,slicedSegments:Be}=xm(t,h,C,Me),Qe=new Pn(xe.segments,xe.children);if(0===Be.length&&Qe.hasChildren())return this.expandChildren(_e,Me,Qe).pipe(se(bt=>new Pn(h,bt)));if(0===Me.length&&0===Be.length)return on(new Pn(h,{}));const dt=mo(r)===o;return this.expandSegment(_e,Qe,Me,Be,dt?Rn:o,!0).pipe(se(Nt=>new Pn(h.concat(Nt.segments),Nt.children)))})):pf(t)))}getChildConfig(e,t,r){return t.children?on({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?on({routes:t._loadedRoutes,injector:t._loadedInjector}):function NG(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?on(!0):on(i.map(u=>{const h=mu(u,n);return ts(function bG(n){return n&&mf(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(pu(),VI())}(e,t,r).pipe(rt(i=>i?this.configLoader.loadChildren(e,t).pipe(Wn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function HG(n){return Si(NI(Nm,3))}())):on({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return on(r);if(i.numberOfChildren>1||!i.children[Rn])return Si(new _t(4e3,Nm));i=i.children[Rn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Bs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jr(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=t[h]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let u={};return Jr(t.children,(h,C)=>{u[C]=this.createSegmentGroup(e,h,r,i)}),new Pn(o,u)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new _t(4001,Nm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class zG{}class XG{constructor(e,t,r,i,o,u,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const e=xm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Rn).pipe(se(t=>{if(null===t)return null;const r=new wm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ma(r,t),o=new OI(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=PI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Fe(Object.keys(r.children)).pipe(Xa(i=>{const o=r.children[i],u=UI(t,i);return this.processSegmentGroup(e,u,o,i)}),aI((i,o)=>i&&o?(i.push(...o),i):null),function pK(n,e=!1){return he((t,r)=>{let i=0;t.subscribe(de(r,o=>{const u=n(o,i++);(u||e)&&r.next(o),!u&&r.complete()}))})}(i=>null!==i),Em(null),sI(),se(i=>{if(null===i)return null;const o=$I(i);return function qG(n){n.sort((e,t)=>e.value.outlet===Rn?-1:t.value.outlet===Rn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return Fe(t).pipe(Xa(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,o)),es(u=>!!u),uo(u=>{if(Ry(u))return KI(r,i,o)?on([]):on(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!WI(t,r,i,o))return on(null);let u;if("**"===t.path){const h=i.length>0?fI(i).parameters:{},C=qI(r)+i.length;u=on({snapshot:new wm(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QI(t),mo(t),t.component??t._loadedComponent??null,t,XI(r),C,ZI(t)),consumedSegments:[],remainingSegments:[]})}else u=HI(r,t,i,e).pipe(se(({matched:h,consumedSegments:C,remainingSegments:k,parameters:Q})=>{if(!h)return null;const _e=qI(r)+C.length;return{snapshot:new wm(C,Q,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QI(t),mo(t),t.component??t._loadedComponent??null,t,XI(r),_e,ZI(t)),consumedSegments:C,remainingSegments:k}}));return u.pipe(ho(h=>{if(null===h)return on(null);const{snapshot:C,consumedSegments:k,remainingSegments:Q}=h;e=t._injector??e;const _e=t._loadedInjector??e,Me=function QG(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:xe,slicedSegments:Be}=xm(r,k,Q,Me.filter(dt=>void 0===dt.redirectTo));if(0===Be.length&&xe.hasChildren())return this.processChildren(_e,Me,xe).pipe(se(dt=>null===dt?null:[new Ma(C,dt)]));if(0===Me.length&&0===Be.length)return on([new Ma(C,[])]);const Qe=mo(t)===o;return this.processSegment(_e,Me,xe,Be,Qe?Rn:o).pipe(se(dt=>null===dt?null:[new Ma(C,dt)]))}))}}function ZG(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $I(n){const e=[],t=new Set;for(const r of n){if(!ZG(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=$I(r.children);e.push(new Ma(r.value,i))}return e.filter(r=>!t.has(r))}function XI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function QI(n){return n.data||{}}function ZI(n){return n.resolve||{}}function JI(n){return"string"==typeof n.title||null===n.title}function xy(n){return ho(e=>{const t=n(e);return t?Fe(t).pipe(se(()=>e)):on(e)})}const gu=new Ft("ROUTES");let Ly=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return on(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ts(t.loadComponent()).pipe(se(tw),Wn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Yh(()=>{this.componentLoaders.delete(t)})),i=new iI(r,()=>new fe).pipe(fy());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return on({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let C,k,Q=!1;Array.isArray(h)?k=h:(C=h.create(t).injector,k=cI(C.get(gu,[],hn.Self|hn.Optional)));return{routes:k.map(wy),injector:C}}),Yh(()=>{this.childrenLoaders.delete(r)})),u=new iI(o,()=>new fe).pipe(fy());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return ts(t()).pipe(se(tw),rt(i=>i instanceof mM||Array.isArray(i)?on(i):Fe(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(lt(Ri),lt(tD))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tw(n){return function sz(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ny=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.configLoader=vn(Ly),this.environmentInjector=vn(Fo),this.urlSerializer=vn(nf),this.rootContexts=vn(cf),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new XK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new $K(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new zi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hr(r=>0!==r.id),se(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ho(r=>{let i=!1,o=!1;return on(r).pipe(Wn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ho(u=>{const h=t.browserUrlTree.toString(),C=!t.navigated||u.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||C)&&t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return rw(u.source)&&(t.browserUrlTree=u.extractedUrl),on(u).pipe(ho(Q=>{const _e=this.transitions?.getValue();return this.events.next(new yy(Q.id,this.urlSerializer.serialize(Q.extractedUrl),Q.source,Q.restoredState)),_e!==this.transitions?.getValue()?Dt:Promise.resolve(Q)}),function GG(n,e,t,r){return ho(i=>function WG(n,e,t,r,i){return new KG(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(se(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Wn(Q=>{this.currentNavigation={...this.currentNavigation,finalUrl:Q.urlAfterRedirects},r.urlAfterRedirects=Q.urlAfterRedirects}),function ez(n,e,t,r,i){return rt(o=>function $G(n,e,t,r,i,o,u="emptyOnly"){return new XG(n,e,t,r,i,u,o).recognize().pipe(ho(h=>null===h?function YG(n){return new z(e=>e.error(n))}(new zG):on(h)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(se(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Wn(Q=>{if(r.targetSnapshot=Q.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!Q.extras.skipLocationChange){const Me=t.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl);t.setBrowserUrl(Me,Q)}t.browserUrlTree=Q.urlAfterRedirects}const _e=new WK(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(_e)}));if(C&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:_e,extractedUrl:Me,source:xe,restoredState:Be,extras:Qe}=u,dt=new yy(_e,this.urlSerializer.serialize(Me),xe,Be);this.events.next(dt);const vt=RI(Me,t.rootComponentType).snapshot;return on(r={...u,targetSnapshot:vt,urlAfterRedirects:Me,extras:{...Qe,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=u.rawUrl,u.resolve(null),Dt}),Wn(u=>{const h=new KK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),se(u=>r={...u,guards:gG(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function AG(n,e){return rt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?on({...t,guardsResult:!0}):function IG(n,e,t,r){return Fe(n).pipe(rt(i=>function LG(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?on(o.map(h=>{const C=ff(e)??i,k=mu(h,C);return ts(function CG(n){return n&&mf(n.canDeactivate)}(k)?k.canDeactivate(n,e,t,r):C.runInContext(()=>k(n,e,t,r))).pipe(es())})).pipe(pu()):on(!0)}(i.component,i.route,t,e,r)),es(i=>!0!==i,!0))}(u,r,i,n).pipe(rt(h=>h&&function EG(n){return"boolean"==typeof n}(h)?function wG(n,e,t,r){return Fe(e).pipe(Xa(i=>Lc(function PG(n,e){return null!==n&&e&&e(new qK(n)),on(!0)}(i.route.parent,r),function RG(n,e){return null!==n&&e&&e(new ZK(n)),on(!0)}(i.route,r),function xG(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function _G(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>rI(()=>on(u.guards.map(C=>{const k=ff(u.node)??t,Q=mu(C,k);return ts(function SG(n){return n&&mf(n.canActivateChild)}(Q)?Q.canActivateChild(r,n):k.runInContext(()=>Q(r,n))).pipe(es())})).pipe(pu())));return on(o).pipe(pu())}(n,i.path,t),function OG(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return on(!0);const i=r.map(o=>rI(()=>{const u=ff(e)??t,h=mu(o,u);return ts(function TG(n){return n&&mf(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(es())}));return on(i).pipe(pu())}(n,i.route,t))),es(i=>!0!==i,!0))}(r,o,n,e):on(h)),se(h=>({...t,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),Wn(u=>{if(r.guardsResult=u.guardsResult,js(u.guardsResult))throw LI(0,u.guardsResult);const h=new GK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Hr(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3,t),!1)),xy(u=>{if(u.guards.canActivateChecks.length)return on(u).pipe(Wn(h=>{const C=new zK(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(C)}),ho(h=>{let C=!1;return on(h).pipe(function tz(n,e){return rt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return on(t);let o=0;return Fe(i).pipe(Xa(u=>function nz(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!JI(i)&&(o[ef]=i.title),function rz(n,e,t,r){const i=function iz(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return on({});const o={};return Fe(i).pipe(rt(u=>function oz(n,e,t,r){const i=ff(e)??r,o=mu(n,i);return ts(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[u],e,t,r).pipe(es(),Wn(h=>{o[u]=h}))),dy(1),lI(o),uo(u=>Ry(u)?Dt:Si(u)))}(o,n,e,r).pipe(se(u=>(n._resolvedData=u,n.data=PI(n,t).resolve,i&&JI(i)&&(n.data[ef]=i.title),null)))}(u.route,r,n,e)),Wn(()=>o++),dy(1),rt(u=>o===i.length?on(t):Dt))})}(t.paramsInheritanceStrategy,this.environmentInjector),Wn({next:()=>C=!0,complete:()=>{C||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2,t))}}))}),Wn(h=>{const C=new YK(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(C)}))}),xy(u=>{const h=C=>{const k=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&k.push(this.configLoader.loadComponent(C.routeConfig).pipe(Wn(Q=>{C.component=Q}),se(()=>{})));for(const Q of C.children)k.push(...h(Q));return k};return Tv(h(u.targetSnapshot.root)).pipe(Em(),Ti(1))}),xy(()=>t.afterPreactivation()),se(u=>{const h=function oG(n,e,t){const r=uf(n,e._root,t?t._root:void 0);return new wI(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:h}}),Wn(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>se(r=>(new pG(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),Wn({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Vs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),Yh(()=>{i||o||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),uo(u=>{if(o=!0,kI(u)){FI(u)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new Im(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),FI(u)){const C=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),k={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||rw(r.source)};t.scheduleNavigation(C,"imperative",null,k,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new DI(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(u))}catch(C){r.reject(C)}}return Dt}))}))}cancelNavigationTransition(t,r,i,o){const u=new Im(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rw(n){return"imperative"!==n}let iw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Rn);return r}getResolvedTitleForRoute(t){return t.data[ef]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:function(){return vn(lz)},providedIn:"root"}),n})(),lz=(()=>{class n extends iw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(lt(lA))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:function(){return vn(fz)},providedIn:"root"}),n})();class cz{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let fz=(()=>{class n extends cz{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Dr(n)))(r||n)}}(),n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const km=new Ft("",{providedIn:"root",factory:()=>({})});let hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:function(){return vn(mz)},providedIn:"root"}),n})(),mz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pz(n){throw n}function gz(n,e,t){return e.parse("/")}const _z={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gr=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=vn(J1),this.isNgZoneEnabled=!1,this.options=vn(km,{optional:!0})||{},this.errorHandler=this.options.errorHandler||pz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gz,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>on(void 0),this.urlHandlingStrategy=vn(hz),this.routeReuseStrategy=vn(uz),this.urlCreationStrategy=vn(nG),this.titleStrategy=vn(iw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=cI(vn(gu,{optional:!0})??[]),this.navigationTransitions=vn(Ny),this.urlSerializer=vn(nf),this.location=vn(Dh),this.rootComponentType=null,this.isNgZoneEnabled=vn(Sn)instanceof Sn&&Sn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=RI(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(t.state){const h={...t.state};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(wy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:C}=r,k=C?this.currentUrlTree.fragment:u;let Q=null;switch(h){case"merge":Q={...this.currentUrlTree.queryParams,...o};break;case"preserve":Q=this.currentUrlTree.queryParams;break;default:Q=o||null}return null!==Q&&(Q=this.removeEmptyProps(Q)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,Q,k??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=js(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function yz(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new _t(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{..._z}:!1===r?{...vz}:r,js(t))return hI(this.currentUrlTree,t,i);const o=this.parseUrl(t);return hI(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,u){if(this.disposed)return Promise.resolve(!1);let h,C,k,Q;return u?(h=u.resolve,C=u.reject,k=u.promise):k=new Promise((_e,Me)=>{h=_e,C=Me}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Q=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Q=0,this.navigationTransitions.handleNavigationRequest({targetPageId:Q,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:h,reject:C,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(_e=>Promise.reject(_e))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aa=(()=>{class n{constructor(t,r,i,o,u,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new fe;const C=u.nativeElement.tagName;this.isAnchorElement="A"===C||"AREA"===C,this.isAnchorElement?this.subscription=t.events.subscribe(k=>{k instanceof Vs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=tu(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=tu(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=tu(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function HT(n,e,t){return function aL(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?VT:Pl}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(Ve(Gr),Ve(Da),Tl("tabindex"),Ve(ca),Ve(kn),Ve(Rs))},n.\u0275dir=Zt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&Cn("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&tr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Ui]}),n})();class aw{}let Tz=(()=>{class n{constructor(t,r,i,o,u){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Hr(t=>t instanceof Vs),Xa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=mh(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return Fe(i).pipe(mt())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):on(null);const o=i.pipe(rt(u=>null===u?on(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));return r.loadComponent&&!r._loadedComponent?Fe([o,this.loader.loadComponent(r)]).pipe(mt()):o})}}return n.\u0275fac=function(t){return new(t||n)(lt(Gr),lt(tD),lt(Fo),lt(aw),lt(Ly))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fy=new Ft("");let sw=(()=>{class n{constructor(t,r,i,o,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof AI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Gg()},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function lw(n){return n.routerState.root}function vu(n,e){return{\u0275kind:n,\u0275providers:e}}function uw(){const n=vn(Ri);return e=>{const t=n.get(eu);if(e!==t.components[0])return;const r=n.get(Gr),i=n.get(cw);1===n.get(By)&&r.initialNavigation(),n.get(fw,null,hn.Optional)?.setUpPreloading(),n.get(Fy,null,hn.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const cw=new Ft("",{factory:()=>new fe}),By=new Ft("",{providedIn:"root",factory:()=>1});const fw=new Ft("");function Iz(n){return vu(0,[{provide:fw,useExisting:Tz},{provide:aw,useExisting:n}])}const dw=new Ft("ROUTER_FORROOT_GUARD"),wz=[Dh,{provide:nf,useClass:hy},Gr,cf,{provide:Da,useFactory:lw,deps:[Gr]},Ly,[]];function Rz(){return new lD("Router",Gr)}let si=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[wz,[],{provide:gu,multi:!0,useValue:t},{provide:dw,useFactory:Lz,deps:[[Gr,new la,new Il]]},{provide:km,useValue:r||{}},r?.useHash?{provide:Rs,useClass:UB}:{provide:Rs,useClass:RD},{provide:Fy,useFactory:()=>{const n=vn(ij),e=vn(Sn),t=vn(km),r=vn(Ny),i=vn(nf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sw(i,r,n,e,t)}},r?.preloadingStrategy?Iz(r.preloadingStrategy).\u0275providers:[],{provide:lD,multi:!0,useFactory:Rz},r?.initialNavigation?Nz(r):[],[{provide:hw,useFactory:uw},{provide:F_,multi:!0,useExisting:hw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:gu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(lt(dw,8))},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Ay]}),n})();function Lz(n){return"guarded"}function Nz(n){return["disabled"===n.initialNavigation?vu(3,[{provide:Cc,multi:!0,useFactory:()=>{const e=vn(Gr);return()=>{e.setUpLocationChangeListener()}}},{provide:By,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vu(2,[{provide:By,useValue:0},{provide:Cc,multi:!0,deps:[Ri],useFactory:e=>{const t=e.get(kB,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const o=e.get(Gr),u=e.get(cw);(function r(i){e.get(Gr).events.pipe(Hr(u=>u instanceof Vs||u instanceof Im||u instanceof DI),se(u=>u instanceof Vs||u instanceof Im&&(0===u.code||1===u.code)&&null),Hr(u=>null!==u),Ti(1)).subscribe(()=>{i()})})(()=>{i(!0)}),o.afterPreactivation=()=>(i(!0),u.closed?on(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const hw=new Ft("");function mw(n,e,t,r,i,o,u){try{var h=n[o](u),C=h.value}catch(k){return void t(k)}h.done?e(C):Promise.resolve(C).then(r,i)}function _r(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function u(C){mw(o,r,i,u,h,"next",C)}function h(C){mw(o,r,i,u,h,"throw",C)}u(void 0)})}}U(37);class qo{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(e,t){const r=new qo;return r.addError(e,t),r}addError(e,t){if(t&&String.hasData(t)){const i=t.split(".");let o=this.errors;for(let u=0;u<i.length;u++){const h=i[u],C=h[0].toLowerCase()+h.slice(1);u<i.length-1?(o[C]={},o=o[C]):o[C]=e}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),e.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(e),void(this.hasErrors=!0);const r=e[0].toLowerCase()+e.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}class yu{constructor(){this.XSSI_PREFIX=/^\)\]\}',?\n/}intercept(e,t){return t.handle(e.clone()).pipe(uo(r=>{if(!(r instanceof Hc)||400!==r.status&&404!==r.status)return Si(r);if(404===r.status)return Si(qo.CreateErrorResult("NotFound"));const i=new qo;try{let o=r.error;"string"==typeof o&&(o=JSON.parse(r.error.replace(this.XSSI_PREFIX,""))),Array.isArray(o)?o.forEach(u=>i.addError(u.message,u.memberName)):i.addError(o.message,o.memberName)}catch{i.addError("Internal Error")}return Si(i)}))}}yu.\u0275fac=function(e){return new(e||yu)},yu.\u0275prov=et({token:yu,factory:yu.\u0275fac,providedIn:"root"});class Io{}class _f extends Io{}class ns extends Io{constructor(e=!1){super(),this._kill=e}get kill(){return this._kill}}function pw(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cn(n,e,t){pw(n,e),e.set(n,t)}function gw(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function ot(n,e){return function kz(n,e){return e.get?e.get.call(n):e.value}(n,gw(n,e,"get"))}function Wt(n,e,t){return function Bz(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}(n,gw(n,e,"set"),t),t}var Bm=new WeakMap;class Nr{constructor(){cn(this,Bm,{writable:!0,value:void 0}),Wt(this,Bm,new fe)}raise(e){if(null==e)throw new Error("domainEvent missing");let t="function"==typeof e?new e:"object"==typeof e?e:null;if(!(t&&t instanceof Io))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");ot(this,Bm).next(t)}handle(e){return ot(this,Bm).pipe(Hr(t=>t instanceof e),se(t=>t))}}Nr.\u0275fac=function(e){return new(e||Nr)},Nr.\u0275prov=et({token:Nr,factory:Nr.\u0275fac,providedIn:"root"});class Eu{constructor(e,t,r){this.config=e,this.eventManagerService=t,this.router=r}intercept(e,t){return t.handle(e.clone()).pipe(uo(r=>r instanceof Hc&&(500===r.status||"Unknown Error"===r.statusText)?("Unknown Error"===r.statusText&&console.error(r),this.router.navigate([this.config.route]),this.eventManagerService.raise(new ns(!0)),Si(qo.CreateErrorResult("Server Error"))):Si(r)))}}Eu.\u0275fac=function(e){return new(e||Eu)(lt(Uy),lt(Nr),lt(Gr))},Eu.\u0275prov=et({token:Eu,factory:Eu.\u0275fac,providedIn:"root"});class Uy{constructor(){this.route="/error"}}class _w{constructor(e){if(this.debugEnabled=!1,this.infoEnabled=!1,this.warnEnabled=!1,this.errorEnabled=!1,this.fatalEnabled=!1,!e||!("logLevel"in e))throw new Error("Must configure.");switch(+e.logLevel){case 0:this.debugEnabled=!0;break;case 1:this.infoEnabled=!0;break;case 2:this.warnEnabled=!0;break;case 3:this.errorEnabled=!0;break;case 4:this.fatalEnabled=!0}}logWriter(e,...t){}debug(e){this.debugEnabled&&this.logWriter("debug",e)}info(e){this.infoEnabled&&this.logWriter("info",e)}warn(e){this.warnEnabled&&this.logWriter("warn",e)}error(e){this.errorEnabled&&this.logWriter("error",e)}fatal(e){this.fatalEnabled&&this.logWriter("error",e)}}class jy{constructor(){this.logLevel=3}}class bu extends _w{constructor(e){super(e)}formatError(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:"sourceURL"in e&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}logWriter(e,...t){if(!window.console)return;const r=window.console,i=r[e]||r.log;let o=!1;try{o=!!i.apply}catch{}if(o){const u=t.map(h=>this.formatError(h));i.apply(r,u)}else i(t[0])}}bu.\u0275fac=function(e){return new(e||bu)(lt(jy))},bu.\u0275prov=et({token:bu,factory:bu.\u0275fac,providedIn:"root"});class vw{constructor(e,t){this.storage=e,this.keyPrefix=t,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(e,t,r){const i=this.createItemKey(e),o=new Uz;o.value=t,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(e){const t=this.createItemKey(e),r=this.storage.getItem(t);return null===r?null:JSON.parse(r).value}remove(e){this.storage.removeItem(this.createItemKey(e))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const e=[],t=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const u=this.storage.getItem(o);if(!u)continue;const h=JSON.parse(u);h.expiresOn&&t>h.expiresOn&&e.push(o)}e.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(e){return`${this.keyPrefix}.${e}`}}class Uz{}class vf{constructor(){this.keyPrefix=""}}class Hs extends vw{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,e.keyPrefix)}}Hs.\u0275fac=function(e){return new(e||Hs)(lt(vf))},Hs.\u0275prov=et({token:Hs,factory:Hs.\u0275fac,providedIn:"root"});class Tu{constructor(e){this.sessionStorageService=e,this.key="AuthToken"}setAuthToken(e,t){this.sessionStorageService.set(this.key,e,t)}getAuthToken(){return this.sessionStorageService.get(this.key)}removeAuthToken(){this.sessionStorageService.remove(this.key)}}Tu.\u0275fac=function(e){return new(e||Tu)(lt(Hs))},Tu.\u0275prov=et({token:Tu,factory:Tu.\u0275fac,providedIn:"root"});class Su{constructor(e,t,r,i){this.authTokenService=e,this.config=t,this.eventManagerService=r,this.router=i}intercept(e,t){let r={};if(!e.headers.has("Authorization")){const i=this.authTokenService.getAuthToken();i&&(r={setHeaders:{Authorization:i}})}return t.handle(e.clone(r)).pipe(Wn(i=>{if(i instanceof Vc)try{const o=i.headers&&i.headers.has("Authorization")?i.headers.get("Authorization"):i.headers&&i.headers.has("renew-Authorization")?i.headers.get("renew-Authorization"):i.body&&String.hasData(i.body.token)?i.body.token:null;String.hasData(o)&&this.authTokenService.setAuthToken(o,Date.now()+12e5)}catch{}}),uo(i=>i instanceof Hc&&(401===i.status||403===i.status)?(this.eventManagerService.raise(new ns(!0)),this.router.navigate([this.config.route],{replaceUrl:!0}),Dt):Si(i)))}}Su.\u0275fac=function(e){return new(e||Su)(lt(Tu),lt(Vy),lt(Nr),lt(Gr))},Su.\u0275prov=et({token:Su,factory:Su.\u0275fac,providedIn:"root"});class Vy{constructor(){this.route="/forbidden"}}class Cu{constructor(e){this.config=e}intercept(e,t){return!this.config.use||e.url.includes("assets")?t.handle(e):t.handle(e.clone({url:`${this.config.url}${e.url}`,withCredentials:!0}))}}Cu.\u0275fac=function(e){return new(e||Cu)(lt(Hy))},Cu.\u0275prov=et({token:Cu,factory:Cu.\u0275fac,providedIn:"root"});class Hy{constructor(){this.use=!1,this.url=""}}class Ia{constructor(e){if(e)throw new Error("CoreModule is already loaded. Import it once in the AppModule only.")}static forRoot(e){return{ngModule:Ia,providers:[{provide:Hy,useValue:e.corsConfig||new Hy},{provide:Vy,useValue:e.http401403Config||new Vy},{provide:Uy,useValue:e.http500Config||new Uy},{provide:jy,useValue:e.loggerConfig||new jy},{provide:vf,useValue:e.storageConfig||new vf}]}}}Ia.\u0275fac=function(e){return new(e||Ia)(lt(Ia,12))},Ia.\u0275mod=$n({type:Ia}),Ia.\u0275inj=jt({providers:[{provide:Wc,useClass:Cu,multi:!0},{provide:Wc,useClass:yu,multi:!0},{provide:Wc,useClass:Su,multi:!0},{provide:Wc,useClass:Eu,multi:!0},{provide:_w,useClass:bu}],imports:[h2]});class Ws{constructor(e){this.sessionStorageService=e,this.key="UniqueId"}getUniqueId(){let e=this.sessionStorageService.get(this.key);return null==e&&(e=0),this.sessionStorageService.set(this.key,++e),e}}function yw(n,e,t){return function jz(n,e){if(n!==e)throw new TypeError("Private static access of wrong provenance")}(n,e),t}Ws.\u0275fac=function(e){return new(e||Ws)(lt(Hs))},Ws.\u0275prov=et({token:Ws,factory:Ws.\u0275fac,providedIn:"root"});class Vz{}class rs{static sort(e,t,r){let i;e.sort((o,u)=>{let h=0,C=o[t],k=u[t];return null==C&&null==k?0:(null==C&&(void 0===i&&(i=yw(this,rs,Ew).call(this,k)),C=i),null==k&&(void 0===i&&(i=yw(this,rs,Ew).call(this,C)),k=i),"string"==typeof C&&(h=C.localeCompare(k)),"number"==typeof C&&(h=C-k),"boolean"==typeof C&&(h=C===k?0:C?1:-1),C instanceof Date&&(h=C.valueOf()-k.valueOf()),"desc"===r&&(h=-h),h)})}static fromParamMap(e,t){const r={};t.keys.forEach(o=>r[o]=`${t.get(o)}`);const i=rs.adapt(e,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!t.has(o))return;const u=t.getAll(o);i[o]="string"!=typeof u?1!==u.length?u:u[0].split(","):u.split(",")}),i}static adapt(e,t){if(null==e)return null;"function"==typeof e&&(e=new e);const r="string"==typeof t?String.isNullOrWhitespace(t)?{}:JSON.parse(t):t,i={};return Object.keys(r).forEach(o=>{const u=o[0].toLowerCase()+o.slice(1);i[u]=r[o]}),this.copyMatchingProperties(e,i),Object.keys(e).filter(o=>"object"==typeof e[o]&&e[o]instanceof Vz).forEach(o=>this.adapt(e[o],o in i?i[o]:this.extractPrefixedObject(i,`${o}_`))),e}static copyMatchingProperties(e,t){null==e||null==t||this.getPropertyNames(e).forEach(r=>{if(void 0===t[r])return;let i=typeof e[r];if("object"===i)switch(Reflect.getMetadata("design:type",e,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number"}switch(i){case"string":e[r]=null===t[r]?e[r]:"string"==typeof t[r]?t[r]:t[r].toString();break;case"boolean":e[r]=null===t[r]?e[r]:"boolean"==typeof t[r]?t[r]:!!t[r];break;case"number":e[r]=null===t[r]?e[r]:"number"==typeof t[r]?t[r]:Number(t[r]);break;case"object":if((e[r]instanceof Date||Reflect.getMetadata("design:type",e,r)===Date)&&(e[r]=t[r]instanceof Date?t[r]:String.hasData(t[r])?new Date(t[r]):null),Array.isArray(e[r])&&Array.isArray(t[r])&&Reflect.hasMetadata("design:type",e,r)){const o=Reflect.getMetadata("design:type",e,r);t[r].forEach(u=>e[r].push(rs.adapt(o,u)))}}})}static getPropertyNames(e){let t=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(e).forEach(i=>!r.includes(i)&&r.push(i))}while((e=Object.getPrototypeOf(e))&&!t.includes(e));return r}static extractPrefixedObject(e,t){const r={};return Object.keys(e).filter(i=>i.startsWith(t)).forEach(i=>r[i.replace(t,"")]=e[i]),r}}function Ew(n){switch(typeof n){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return n instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}function sr(n,e){pw(n,e),e.add(n)}function Qn(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}String.isNullOrWhitespace||(String.isNullOrWhitespace=function(n){return null==n||n.trim().length<1}),String.hasData||(String.hasData=n=>!String.isNullOrWhitespace(n)),String.toDate||(String.toDate=function(n){if(null==n||""===n)return null;if(n instanceof Date)return n;if(!(n instanceof String))return null;const e=n.split("/");if(3!==e.length)return null;const t=Number(e[0]),r=Number(e[1]);let i=Number(e[2]);if(isNaN(t)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,t-1,r);return o.getMonth()+1!==t||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o}),Object.trimUnusedProperties||(Object.trimUnusedProperties=function(n){if(null==n)return;if(null==n)return null;let e={...n};for(var t in e){const r=e[t];(null==r||Array.isArray(r)&&0===r.length)&&delete e[t],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete e[t],"number"==typeof r&&0===r&&delete e[t]}return e});var yf=new WeakMap,Wy=new WeakSet;class Ef{constructor(){sr(this,Wy),cn(this,yf,{writable:!0,value:void 0}),Wt(this,yf,'input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select')}focusFirst(){window.setTimeout(()=>{const e=document.querySelectorAll(ot(this,yf));0!==e.length&&e[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const e=Array.from(document.querySelectorAll(ot(this,yf))).filter(t=>Qn(this,Wy,bw).call(this,t));0!==e.length&&e[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const e=Array.from(document.querySelectorAll(ot(this,yf)));if(0===e.length)return;let t=e.findIndex(r=>r===document.activeElement);for(t<0&&(t=0);t<e.length;){if(Qn(this,Wy,bw).call(this,e[t]))return void e[t].focus();t++}},50)}}function bw(n){return n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement?!n.disabled&&String.isNullOrWhitespace(n.value):"MAT-SELECT"===n.nodeName&&String.isNullOrWhitespace(n.innerText)}Ef.\u0275fac=function(e){return new(e||Ef)},Ef.\u0275prov=et({token:Ef,factory:Ef.\u0275fac,providedIn:"root"});class bf{scrollIntoView(){window.setTimeout(()=>{let e=document.querySelector(".generalError");if(e)return void e.scrollIntoView({behavior:"smooth"});if(e=document.querySelector(".mat-form-field-invalid,.has-error"),!e)return;e.scrollIntoView({behavior:"smooth",block:"nearest"});const t=e.querySelector("input");if(t)return t.select(),void t.focus();const r=e.querySelector("select,mat-select");r&&r.focus()},50)}}bf.\u0275fac=function(e){return new(e||bf)},bf.\u0275prov=et({token:bf,factory:bf.\u0275fac,providedIn:"root"});class Hz extends Io{}class Wz extends Io{}class Tf{constructor(e,t){this.http=e,this.httpResult=null,t.handle(Hz).subscribe(r=>this.initialize()),t.handle(Wz).subscribe(r=>this.initialize()),this.initialize()}executeAsync(e="api/user/current"){var t=this;return _r(function*(){return t.user?t.user:t.httpResult?(yield t.httpResult,t.user):(t.httpResult=t.http.get(e).toPromise(),t.user=yield t.httpResult,t.httpResult=null,t.user)})()}initialize(){this.user=null}}Tf.\u0275fac=function(e){return new(e||Tf)(lt(qh),lt(Nr))},Tf.\u0275prov=et({token:Tf,factory:Tf.\u0275fac,providedIn:"root"});class Mu extends vw{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,e.keyPrefix)}}Mu.\u0275fac=function(e){return new(e||Mu)(lt(vf))},Mu.\u0275prov=et({token:Mu,factory:Mu.\u0275fac,providedIn:"root"});class Qo{constructor(e){if(this.errorMessage=e,String.isNullOrWhitespace(e))throw new Error("Must supply an error message")}}class Tw extends Qo{constructor(e){super("NA"),this.rules=e}isBroken(e){return!1}}const Kz=new RegExp("return (.*);?\\b"),Gz=new RegExp("=>(.*)");function Sw(n){return null==n||("number"==typeof n?0===n.toString().trim().length:"string"==typeof n?0===n.trim().length:Array.isArray(n)?0===n.length:"object"==typeof n&&(n instanceof Date?0===n.valueOf():0===Object.keys(n).length))}class Cw extends Qo{isBroken(e){return Sw(e)}}class Um{constructor(e){this.propertyRules=e}static create(e){return new Um(e)}check(e){this.result=new qo;try{this.entity=e,this.propertyRules.forEach(t=>this.checkProperty(t))}catch{}finally{this.entity=null}return this.result}checkProperty(e){let t=this.entity[e.propertyName];if("function"==typeof t&&(t=t()),Sw(t)){const r=this.getRequiredRule(e.rules);null!==r&&this.isRuleBroken(r,t)&&this.result.addError(r.errorMessage,e.propertyName)}else e.rules.forEach(r=>{if(!(r instanceof Tw))return void(this.isRuleBroken(r,t)&&this.result.addError(r.errorMessage,e.propertyName));if(r.when&&!r.when.call(null,this.entity))return;const i=Um.create(r.rules);if(Array.isArray(t)){this.result.errors[e.propertyName]=[];for(let u=0;u<t.length;u++){const C=i.check(t[u]);C.hasErrors&&(this.result.hasErrors=!0,this.result.errors[e.propertyName][u]=C.errors)}return}const o=i.check(t);o.hasErrors&&(this.result.hasErrors=!0,this.result.errors[e.propertyName]=o.errors)})}getRequiredRule(e){const t=e.filter(r=>r instanceof Cw);return 1===t.length?t[0]:null}isRuleBroken(e,t){return!(e.when&&!e.when.call(null,this.entity))&&e.isBroken(t)}}class Yz{constructor(){this.propertyName="",this.rules=[]}}class $z extends Qo{constructor(e,t){super(t),this.choices=e}isBroken(e){return-1===this.choices.indexOf(e)}}class Sf extends Qo{isBroken(e){return!this.tryParseNumber(e)}tryParseNumber(e){return this.parsedNumber="number"==typeof e?e:"string"==typeof e?Number(e):"toString"in e?Number(e.toString()):NaN,!isNaN(this.parsedNumber)}}class Ky extends Sf{constructor(){super(...arguments),this.CURRENCY_REGEXP=/^\$?[\d,]+\.?\d{0,2}$/}isBroken(e){return!this.tryParseNumber(e)}tryParseNumber(e){return!(!super.tryParseNumber(e)||!this.CURRENCY_REGEXP.test(e))}}class Gy extends Qo{isBroken(e){return!this.tryParseDate(e)}tryParseDate(e){if(e instanceof Date)return!isNaN(e.valueOf())&&(this.parsedDate=e,!0);const t=e.split("/");if(3!==t.length)return!1;const r=Number(t[0]),i=Number(t[1]);let o=Number(t[2]);if(isNaN(r)||isNaN(i)||isNaN(o))return!1;o<100&&(o=o<50?2e3+o:1900+o);const u=new Date(o,r-1,i);return u.getMonth()+1===r&&u.getDate()===i&&(u.getFullYear()===o||u.getFullYear()%100===o)&&(this.parsedDate=u,!0)}}class Xz extends Qo{constructor(){super(...arguments),this.emailRegExp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}isBroken(e){return!this.emailRegExp.test(e)}}class zy extends Sf{constructor(){super(...arguments),this.INTEGER_REGEXP=/^\-?\d+$/}isBroken(e){return!this.tryParseNumber(e)}tryParseNumber(e){return!(!super.tryParseNumber(e)||!this.INTEGER_REGEXP.test(e))}}class qz extends Ky{constructor(e,t){super(t),this.maxCurrency=e}isBroken(e){return!this.tryParseNumber(e)||this.parsedNumber>this.maxCurrency}}class Qz extends Gy{constructor(e,t){super(t),this.maxDate=e}isBroken(e){return this.tryParseDate(e)&&this.parsedDate>this.maxDate}}class Zz extends zy{constructor(e,t){super(t),this.maxInteger=e}isBroken(e){return!this.tryParseNumber(e)||this.parsedNumber>this.maxInteger}}class Jz extends Qo{constructor(e,t){super(t),this.maxLength=e}isBroken(e){return e.length>this.maxLength}}class eY extends Sf{constructor(e,t){super(t),this.maxNumber=e}isBroken(e){return!this.tryParseNumber(e)||this.parsedNumber>this.maxNumber}}class tY extends Ky{constructor(e,t){super(t),this.minCurrency=e}isBroken(e){return!this.tryParseNumber(e)||this.parsedNumber<this.minCurrency}}class nY extends Gy{constructor(e,t){super(t),this.minDate=e}isBroken(e){return this.tryParseDate(e)&&this.parsedDate<this.minDate}}class rY extends zy{constructor(e,t){super(t),this.minInteger=e}isBroken(e){return!this.tryParseNumber(e)||this.parsedNumber<this.minInteger}}class iY extends Qo{constructor(e,t){super(t),this.minLength=e}isBroken(e){return e.length<this.minLength}}class oY extends Sf{constructor(e,t){super(t),this.minNumber=e}isBroken(e){return!this.tryParseNumber(e)||this.parsedNumber<this.minNumber}}class aY extends Qo{constructor(){super(...arguments),this.phoneRegExp=/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/}isBroken(e){return!this.phoneRegExp.test(e)}}class sY extends Qo{constructor(e,t){super(t),this.regex=e}isBroken(e){return!this.regex.test(e)}}class jm{constructor(){this.classRules=[]}static for(){return new jm}property(e){return this.propertyRules=new Yz,this.propertyRules.propertyName=function zz(n){const e=Kz.exec(n+"")||Gz.exec(n+"");if(null==e)throw new Error("The function does not contain a statement matching 'return variableName;'");const t=e[1].toString().split(".");return t[t.length-1]}(e),this.classRules.push(this.propertyRules),this}build(){return this.classRules}choice(e,t){return this.propertyRules.rules.push(new $z(e,t)),this}currency(e){return this.propertyRules.rules.push(new Ky(e)),this}date(e){return this.propertyRules.rules.push(new Gy(e)),this}email(e){return this.propertyRules.rules.push(new Xz(e)),this}integer(e){return this.propertyRules.rules.push(new zy(e)),this}maxCurrency(e,t){return this.propertyRules.rules.push(new qz(e,t)),this}maxDate(e,t){return this.propertyRules.rules.push(new Qz(e,t)),this}maxInteger(e,t){return this.propertyRules.rules.push(new Zz(e,t)),this}maxLength(e,t){return this.propertyRules.rules.push(new Jz(e,t)),this}maxNumber(e,t){return this.propertyRules.rules.push(new eY(e,t)),this}minCurrency(e,t){return this.propertyRules.rules.push(new tY(e,t)),this}minDate(e,t){return this.propertyRules.rules.push(new nY(e,t)),this}minInteger(e,t){return this.propertyRules.rules.push(new rY(e,t)),this}minLength(e,t){return this.propertyRules.rules.push(new iY(e,t)),this}minNumber(e,t){return this.propertyRules.rules.push(new oY(e,t)),this}number(e){return this.propertyRules.rules.push(new Sf(e)),this}object(e){return this.propertyRules.rules.push(new Tw(e)),this}phone(e){return this.propertyRules.rules.push(new aY(e)),this}regex(e,t){return this.propertyRules.rules.push(new sY(e,t)),this}required(e){return this.propertyRules.rules.push(new Cw(e)),this}when(e){return this.propertyRules.rules[this.propertyRules.rules.length-1].when=e,this}}class lY{constructor(){const e=jm.for().property(i=>i.name).required("required").property(i=>i.key).required("required").build(),t="Must be a integer greater than 0.",r=jm.for().property(i=>i.dbName).required("required").property(i=>i.dbVersion).required(t).integer(t).minInteger(0,t).property(i=>i.tables).required("required").object(e).build();this.rulesEngine=Um.create(r)}check(e){return this.rulesEngine.check(e)}}class Cf{constructor(e){if(this.storageConfig=e,this.configRules=new lY,!window.indexedDB)throw new Error("Your browser doesn't support a stable version of IndexedDB.");if(!e||String.isNullOrWhitespace(e.keyPrefix))throw new Error("Must configure.")}openAsync(e){return new Promise((t,r)=>{let i=new qo;if(!e)return i.addError("required","config"),void r(i);if(i=this.configRules.check(e),i.hasErrors)return void r(i);const o=window.indexedDB.open(`${this.storageConfig.keyPrefix}.${e.dbName}`,e.dbVersion);o.onerror=u=>{i.addError("Database error: "+u.target.errorCode),r(i)},o.onsuccess=u=>{t(u.target.result)},o.onupgradeneeded=u=>{const h=u.target.result;e.tables.forEach(C=>{const k=h.createObjectStore(C.name,{keyPath:C.key.path,autoIncrement:!!C.key.autoIncrement});Array.isArray(C.indexes)&&C.indexes.filter(Q=>String.hasData(Q.name)).forEach(Q=>{k.createIndex(Q.name,Q.name,{unique:!!Q.unique})})})}})}addAsync(e,t,r,i){return new Promise((o,u)=>{const h=e.transaction(t,"readwrite");h.onabort=()=>u(h.error);const k=h.objectStore(t).add(r,i);k.onerror=()=>u(k.error),h.oncomplete=()=>o()})}clearAsync(e,t){return new Promise((r,i)=>{const o=e.transaction(t,"readwrite");o.onabort=()=>i(o.error);const h=o.objectStore(t).clear();h.onerror=()=>i(h.error),o.oncomplete=()=>r()})}countAsync(e,t,r){return new Promise((i,o)=>{const u=e.transaction(t,"readwrite");u.onabort=()=>o(u.error);const C=u.objectStore(t).count(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}deleteAsync(e,t,r){return new Promise((i,o)=>{const u=e.transaction(t,"readwrite");u.onabort=()=>o(u.error);const C=u.objectStore(t).delete(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i()})}getAsync(e,t,r){return new Promise((i,o)=>{const u=e.transaction(t,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(t).get(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}getAllAsync(e,t,r,i){return new Promise((o,u)=>{const h=e.transaction(t,"readonly");h.onabort=()=>u(h.error);const k=h.objectStore(t).getAll(r,i);k.onerror=()=>u(k.error),h.oncomplete=()=>o(k.result)})}getAllKeysAsync(e,t,r,i){return new Promise((o,u)=>{const h=e.transaction(t,"readonly");h.onabort=()=>u(h.error);const k=h.objectStore(t).getAllKeys(r,i);k.onerror=()=>u(k.error),h.oncomplete=()=>o(k.result)})}getKeyAsync(e,t,r){return new Promise((i,o)=>{const u=e.transaction(t,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(t).getKey(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}indexAsync(e,t,r){return new Promise((i,o)=>{const u=e.transaction(t,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(t).index(r);u.oncomplete=()=>i(C)})}openCursorAsync(e,t,r,i){return new Promise((o,u)=>{const h=e.transaction(t,"readonly");h.onabort=()=>u(h.error);const k=h.objectStore(t).openCursor(r,i);k.onerror=()=>u(k.error),h.oncomplete=()=>o(k.result)})}openKeyCursorAsync(e,t,r,i){return new Promise((o,u)=>{const h=e.transaction(t,"readonly");h.onabort=()=>u(h.error);const k=h.objectStore(t).openKeyCursor(r,i);k.onerror=()=>u(k.error),h.oncomplete=()=>o(k.result)})}putAsync(e,t,r,i){return new Promise((o,u)=>{const h=e.transaction(t,"readonly");h.onabort=()=>u(h.error);const k=h.objectStore(t).put(r,i);k.onerror=()=>u(k.error),h.oncomplete=()=>o(k.result)})}}Cf.\u0275fac=function(e){return new(e||Cf)(lt(vf))},Cf.\u0275prov=et({token:Cf,factory:Cf.\u0275fac,providedIn:"root"});const uY=["addListener","removeListener"],cY=["addEventListener","removeEventListener"],fY=["on","off"];function Mf(n,e,t,r){if(m(t)&&(r=t,t=void 0),r)return Mf(n,e,t).pipe(bv(r));const[i,o]=function mY(n){return m(n.addEventListener)&&m(n.removeEventListener)}(n)?cY.map(u=>h=>n[u](e,h,t)):function dY(n){return m(n.addListener)&&m(n.removeListener)}(n)?uY.map(Mw(n,e)):function hY(n){return m(n.on)&&m(n.off)}(n)?fY.map(Mw(n,e)):[];if(!i&&Je(n))return rt(u=>Mf(u,e,t))(Te(n));if(!i)throw new TypeError("Invalid event target");return new z(u=>{const h=(...C)=>u.next(1<C.length?C:C[0]);return i(h),()=>o(h)})}function Mw(n,e){return t=>r=>n[t](e,r)}const Df={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Df;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new R(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Df;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Df;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},_Y=new class gY extends Ev{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class pY extends yv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Df.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Df.cancelAnimationFrame(t),e._scheduled=void 0)}});let Yy,vY=1;const Vm={};function Dw(n){return n in Vm&&(delete Vm[n],!0)}const yY={setImmediate(n){const e=vY++;return Vm[e]=!0,Yy||(Yy=Promise.resolve()),Yy.then(()=>Dw(e)&&n()),e},clearImmediate(n){Dw(n)}},{setImmediate:EY,clearImmediate:bY}=yY,Hm={setImmediate(...n){const{delegate:e}=Hm;return(e?.setImmediate||EY)(...n)},clearImmediate(n){const{delegate:e}=Hm;return(e?.clearImmediate||bY)(n)},delegate:void 0},$y=new class SY extends Ev{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class TY extends yv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Hm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Hm.clearImmediate(t),e._scheduled=void 0)}});function Aw(n=0,e,t=Zj){let r=-1;return null!=e&&(mn(e)?t=e:r=e),new z(i=>{let o=function MY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Xy(n,e=Uh){return function CY(n){return he((e,t)=>{let r=!1,i=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const k=i;i=null,t.next(k)}u&&t.complete()},C=()=>{o=null,u&&t.complete()};e.subscribe(de(t,k=>{r=!0,i=k,o||Te(n(k)).subscribe(o=de(t,h,C))},()=>{u=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>Aw(n,e))}const DY=["contentWrapper"],AY=["*"],IY=new Ft("VIRTUAL_SCROLL_STRATEGY");let Af=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new fe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new z(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Xy(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):on()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Hr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=_a(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(lt(Sn),lt(Yr),lt(An,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iw=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new fe,this._elementScrolled=new z(u=>this.ngZone.runOutsideAngular(()=>Mf(this.elementRef.nativeElement,"scroll").pipe(Wr(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Oc()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Oc()?t.left=t.right:1==Oc()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;r0()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?i:r:"end"==t&&(t=u?r:i),u&&2==Oc()?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==Oc()?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Af),Ve(Sn),Ve(xs,8))},n.\u0275dir=Zt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Wm=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new fe,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Xy(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(lt(Yr),lt(Sn),lt(An,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ww=new Ft("VIRTUAL_SCROLLABLE");let PY=(()=>{class n extends Iw{constructor(t,r,i,o){super(t,r,i,o)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Af),Ve(Sn),Ve(xs,8))},n.\u0275dir=Zt({type:n,features:[Tn]}),n})();const xY=typeof requestAnimationFrame<"u"?_Y:$y;let LY=(()=>{class n extends PY{constructor(t,r,i,o,u,h,C,k){super(t,h,i,u),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=k,this._platform=vn(Yr),this._detachedSubject=new fe,this._renderedRangeSubject=new fe,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new z(Q=>this._scrollStrategy.scrolledIndexChange.subscribe(_e=>Promise.resolve().then(()=>this.ngZone.run(()=>Q.next(_e))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=R.EMPTY,this._viewportChanges=C.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Yi(t)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(va(null),Xy(0,xY)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Wr(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function OY(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const o="horizontal"==this.orientation,u=o?"X":"Y";let C=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(C+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=C&&(this._renderedContentTransform=C,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",o="right",u="rtl"==this.dir?.value;r="start"==t?u?o:i:"end"==t?u?i:o:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Pi),Ve(Sn),Ve(IY,8),Ve(xs,8),Ve(Af),Ve(Wm),Ve(ww,8))},n.\u0275cmp=Kt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&So(DY,7),2&t){let i;fr(i=dr())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&Sr("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Hn([{provide:Iw,useFactory:(e,t)=>e||t,deps:[[new la,new Ud(ww)],n]}]),Tn,qn],ngContentSelectors:AY,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(Uo(),xt(0,"div",0,1),Ir(2),Lt(),nn(3,"div",2)),2&t&&(Ct(3),Ka("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Km=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({}),n})(),Rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Nc,Km,LY,Nc,Km]}),n})();const NY=new Ft("mat-progress-spinner-default-options",{providedIn:"root",factory:function FY(){return{diameter:kY}}}),kY=100;function BY(n,e){if(1&n&&(yl(),nn(0,"circle",4)),2&n){const t=Jt(),r=Br(1);Ka("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),tr("r",t._getCircleRadius())}}function UY(n,e){if(1&n&&(yl(),nn(0,"circle",4)),2&n){const t=Jt(),r=Br(1);Ka("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),tr("r",t._getCircleRadius())}}const VY=Fc(class{constructor(n){this._elementRef=n}},"primary");class wa extends VY{constructor(e,t,r,i,o,u,h,C){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=R.EMPTY,this.mode="determinate";const k=wa._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),k.has(r.head)||k.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&h&&u&&C&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&C.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=iu(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=iu(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,iu(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=o0(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=wa._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}wa._diameters=new WeakMap,wa.\u0275fac=function(e){return new(e||wa)(Ve(kn),Ve(Yr),Ve(An,8),Ve(Wo,8),Ve(NY),Ve(Pi),Ve(Wm),Ve(Sn))},wa.\u0275cmp=Kt({type:wa,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(tr("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Ka("width",t.diameter,"px")("height",t.diameter,"px"),Sr("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Tn],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(yl(),xt(0,"svg",0,1),Qt(2,BY,1,11,"circle",2),Qt(3,UY,1,9,"circle",3),Lt()),2&e&&(Ka("width",t.diameter,"px")("height",t.diameter,"px"),Tt("ngSwitch","indeterminate"===t.mode),tr("viewBox",t._getViewBox()),Ct(2),Tt("ngSwitchCase",!0),Ct(1),Tt("ngSwitchCase",!1))},dependencies:[Ic,lv],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let WY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Kr,nr,Kr]}),n})();function KY(n,e){1&n&&(xt(0,"div",1),nn(1,"mat-spinner",2),Lt())}class If{constructor(e){this.requestCount=0,this.delay=250,this.show=!1,e.handle(_f).subscribe(t=>this.waitStart()),e.handle(ns).subscribe(t=>this.waitEnd(t))}waitStart(){this.requestCount++,window.setTimeout(()=>{0!==this.requestCount&&(this.show=!0)},this.delay)}waitEnd(e){e.kill?this.requestCount=0:this.requestCount>0&&this.requestCount--,0===this.requestCount&&(this.show=!1)}}If.\u0275fac=function(e){return new(e||If)(Ve(Nr))},If.\u0275cmp=Kt({type:If,selectors:[["throbber"]],standalone:!0,features:[qn],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(e,t){1&e&&Qt(0,KY,2,0,"div",0),2&e&&Tt("ngIf",t.show)},dependencies:[nr,Pr,WY,wa],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"]});var li=(()=>{return(n=li||(li={})).Listing="Listing",n.Comment="t1",n.Account="t2",n.Link="t3",n.Message="t4",n.Subreddit="t5",n.Award="t6",n.More="more",li;var n})();const GY=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function qy(n){let e={};return function zY(n,e){if(e.is_crosspost=String.hasData(n.crosspost_parent)&&Array.isArray(n.crosspost_parent_list)&&n.crosspost_parent_list.length>0,n.media?.reddit_video)e.has_video=!0;else if(n.preview?.reddit_video_preview)e.has_video=!0;else if(n.preview&&Array.isArray(n.preview.images)&&n.preview.images[0].variants&&"mp4"in n.preview.images[0].variants)e.has_video=!0;else if(n.media_embed?.content)e.has_embed=!0;else{if(String.hasData(n.selftext_html)&&(e.has_text=!0),n.thumbnail&&"default"===n.thumbnail&&(e.has_link=!0),n.post_hint&&"link"===n.post_hint&&"imgur.com"!==n.domain&&(e.has_link=!0),!n.preview||!Array.isArray(n.preview.images))return n.gallery_data?(e.has_image=!0,void(e.has_image_gallery=!0)):void(GY.some(t=>n.url.endsWith(t))?e.has_image=!0:!e.has_image&&!e.has_text&&(e.has_link=!0));e.has_image=!0}}(n,e),function YY(n,e){e.author=n.author,e.created_utc=n.created_utc,e.downs=n.downs,e.id=n.id,e.num_comments=n.num_comments,e.stickied=n.stickied,e.subreddit=n.subreddit,e.title=n.title,e.ups=n.ups}(n,e),function $Y(n,e){!e.is_crosspost||(e.crosspost=qy(n.crosspost_parent_list[0]))}(n,e),function XY(n,e){!e.has_embed||(e.embed=n.media_embed.content)}(n,e),function qY(n,e){!e.has_image||(e.images=null!=n.gallery_data?function QY(n){return n.gallery_data.items.map(e=>{const t=n.media_metadata[e.media_id];return"valid"!==t.status?{src:"",srcset:"",href:n.url}:{src:t.o?t.o[0].u:t.s.u,srcset:t.p.map(r=>`${r.u} ${r.x}w`).join(","),href:n.url}})}(n):null!=n.preview?function ZY(n){const e=n.preview.images[0];return[{src:e.source.url,srcset:e.resolutions.map(t=>`${t.url} ${t.width}w`).join(","),href:n.url}]}(n):function JY(n){return[{src:n.url,srcset:n.url,href:n.url}]}(n))}(n,e),function o3(n,e){!e.has_link||(e.url=n.url)}(n,e),function a3(n,e){!e.has_text||(e.selftext_html=n.selftext_html)}(n,e),function e3(n,e){!e.has_video||(e.videos=n.media&&n.media.reddit_video?function t3(n){return[{url:n.media.reddit_video.dash_url,type:"application/dash+xml"},{url:n.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:n.media.reddit_video.fallback_url,type:""}]}(n):n.preview&&n.preview.reddit_video_preview?function n3(n){return[{url:n.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:n.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:n.preview.reddit_video_preview.fallback_url,type:""}]}(n):function r3(n){return[{url:n.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(n))}(n,e),e}function s3(n){let e={};return function l3(n,e){e.author=n.author,e.body_html=n.body_html,e.created_utc=n.created_utc,e.downs=n.downs,e.id=n.id,e.stickied=n.stickied,e.ups=n.ups}(n,e),e}function u3(n,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=_r(function*(n,e,t=""){this.set_post_comments({items:[],post:null});let r=new URLSearchParams;r.set("sort",`${e}`),r.set("limit","100"),r.set("raw_json","1"),r.set("threaded","false"),String.hasData(t)&&r.set("comment",t);const i=new URL(`https://www.reddit.com/comments/${n}.json`);i.search=`${r}`;try{const o=yield fetch(i);if(!o.ok)return void this.set_errors(o.statusText);const u=yield o.json(),h=u[0],C=u[1];if(C.kind!==li.Listing)return void this.set_errors(`Comment listing's kind isn't ${li.Listing}, its ${C.kind} instead`);if(C.data?.children.some(_e=>_e.kind!==li.Comment&&_e.kind!==li.More))return void this.set_errors(`Not all of comment listing's children are of kind ${li.Comment} or ${li.More}`);const k=C.data.children.filter(_e=>_e.kind==li.Comment&&null!=_e.data).map(_e=>s3(_e.data)),Q=qy(h.data.children[0].data);this.set_post_comments({article:n,items:k,sort:e,post:Q})}catch(o){this.set_errors(o)}})).apply(this,arguments)}function c3(n,e,t,r){return Zy.apply(this,arguments)}function Zy(){return(Zy=_r(function*(n,e,t,r){this.set_posts({items:[],subreddit:""});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let u=new URLSearchParams;u.set("limit","20"),u.set("raw_json","1"),String.hasData(n)&&u.set("after",n),String.hasData(e)&&u.set("modhash",e);const h=new URL(`https://www.reddit.com/r/${o}/${t}.json`);h.search=`${u}`;try{const C=yield fetch(h);if(!C.ok)return void this.set_errors(C.statusText);const k=yield C.json();if(k.kind!==li.Listing)return void this.set_errors(`Listing's kind isn't ${li.Listing}, its ${k.kind} instead`);if(k.data?.children.some(Me=>Me.kind!==li.Link))return void this.set_errors(`Not all of Listing's children are of kind ${li.Link}`);const Q=k.data,_e=Q.children.filter(Me=>null!=Me.data).map(Me=>qy(Me.data));_e.forEach(Me=>Me.subreddit_subscribed=i.includes(Me.subreddit)),this.set_posts({after:Q.after,items:_e,modhash:Q.modhash,sort:t,subreddit:o})}catch(C){this.set_errors(C)}})).apply(this,arguments)}function f3(n){return Jy.apply(this,arguments)}function Jy(){return(Jy=_r(function*(n){if(this.get_subreddit_query().request!=n&&(this.set_subreddit_query({request:n,result:[]}),!String.isNullOrWhitespace(n)))try{const r=(yield d3.call(this,n)).map(u=>p3.call(this,u)),o=(yield Promise.allSettled(r)).filter(u=>"fulfilled"===u.status).map(u=>u.value).filter(u=>null!=u).map(u=>({accounts_active:u.accounts_active,display_name:u.display_name,public_description_html:u.public_description_html,subscribers:u.subscribers,title:u.title,url:u.url,id:u.id}));this.set_subreddit_query({request:n,result:o})}catch(t){this.set_errors(t)}})).apply(this,arguments)}function d3(n){return eE.apply(this,arguments)}function eE(){return(eE=_r(function*(n){const e=[h3.call(this,n),m3.call(this,n)],r=(yield Promise.allSettled(e)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function h3(n){return tE.apply(this,arguments)}function tE(){return(tE=_r(function*(n){const e=new URLSearchParams;e.set("query",n),e.set("exact","false"),e.set("include_over_18","true"),e.set("typeahead_active","false"),e.set("include_unadvertisable","true");const t=new URL("https://www.reddit.com/api/search_reddit_names.json");t.search=`${e}`;try{const r=yield fetch(t);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function m3(n){return nE.apply(this,arguments)}function nE(){return(nE=_r(function*(n){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -comments -wiki`)}&num=40`,i=yield fetch(r);if(!i.ok)throw new Error(i.statusText);const o=yield i.text();var u=document.implementation.createHTMLDocument().body;if("setHTML"in u){const k=new Sanitizer({allowElements:["a"]});u.setHTML(o,{sanitizer:k})}else u.innerHTML=this.domSanitizer.sanitize(Vn.HTML,o);let h=Array.from(u.querySelectorAll('a[href*="reddit.com/r/"]')).map(k=>{const Q=k.href.indexOf("reddit.com/r/")+13,_e=k.href.indexOf("/",Q);return k.href.slice(Q,_e)});const C=h.filter(k=>k.includes("+"));return h=h.filter(k=>!k.includes("+")),C.forEach(k=>k.split("+").forEach(Q=>h.push(Q))),h})).apply(this,arguments)}function p3(n){return rE.apply(this,arguments)}function rE(){return(rE=_r(function*(n){const e=`https://www.reddit.com/r/${n}/about.json?raw_json=1`;try{const t=yield fetch(e,{redirect:"error"});if(!t.ok)return null;const r=yield t.json();return r.kind!==li.Subreddit?(this.set_errors(`r/${n}/about.kind isn't ${li.Subreddit}, its ${r.kind} instead`),null):r.data}catch{return null}})).apply(this,arguments)}function g3(n){return iE.apply(this,arguments)}function iE(){return(iE=_r(function*(n){this.subscriptionService.add(n);const e=this.subscriptionService.get(),t=this.get_posts();t.items.forEach(r=>r.subreddit_subscribed=e.includes(r.subreddit)),this.set_posts(t)})).apply(this,arguments)}function _3(n){return oE.apply(this,arguments)}function oE(){return(oE=_r(function*(n){this.subscriptionService.remove(n);const e=this.subscriptionService.get(),t=this.get_posts();t.items.forEach(r=>r.subreddit_subscribed=e.includes(r.subreddit)),this.set_posts(t)})).apply(this,arguments)}var Gm=new WeakMap,zm=new WeakMap,Ra=new WeakMap,wf=new WeakMap,Ym=new WeakMap,aE=new WeakMap,$m=new WeakMap,xw=new WeakSet;class Du{constructor(e){sr(this,xw),cn(this,Gm,{writable:!0,value:void 0}),cn(this,zm,{writable:!0,value:void 0}),cn(this,Ra,{writable:!0,value:void 0}),cn(this,wf,{writable:!0,value:void 0}),cn(this,Ym,{writable:!0,value:void 0}),cn(this,aE,{writable:!0,value:void 0}),cn(this,$m,{writable:!0,value:void 0}),Wt(this,Gm,"profile"),Wt(this,Ra,{}),Wt(this,wf,JSON.stringify(ot(this,Ra))),Wt(this,Ym,new fe),Wt(this,$m,!1),Wt(this,zm,e),Wt(this,aE,ot(this,Ym).pipe(jh(300)).subscribe(()=>Qn(this,xw,E3).call(this)))}get(e){return ot(this,Ra)[e]}set(e,t){ot(this,Ra)[e]=t,ot(this,Ym).next("")}load(){var e=this;return _r(function*(){if(ot(e,$m))return;const t=ot(e,zm).get(ot(e,Gm));null!=t&&(Wt(e,Ra,t),Wt(e,wf,JSON.stringify(ot(e,Ra))),Wt(e,$m,!0))})()}ngOnDestroy(){ot(this,aE).unsubscribe()}}function E3(){const n=JSON.stringify(ot(this,Ra));n!==ot(this,wf)&&(Wt(this,wf,n),ot(this,zm).set(ot(this,Gm),ot(this,Ra)))}Du.\u0275fac=function(e){return new(e||Du)(lt(Mu))},Du.\u0275prov=et({token:Du,factory:Du.\u0275fac,providedIn:"root"});var Rf=new WeakMap,wo=new WeakMap,Au=new WeakMap;class Ks{constructor(e){cn(this,Rf,{writable:!0,value:void 0}),cn(this,wo,{writable:!0,value:void 0}),cn(this,Au,{writable:!0,value:void 0}),Wt(this,Rf,"subreddits"),Wt(this,wo,[]),Wt(this,Au,e)}add(e){String.isNullOrWhitespace(e)||ot(this,wo).includes(e)||(ot(this,wo).push(e),ot(this,wo).sort(),ot(this,Au).set(ot(this,Rf),ot(this,wo)))}get(){return[...ot(this,wo)]}remove(e){String.isNullOrWhitespace(e)||(Wt(this,wo,ot(this,wo).filter(t=>t!==e)),ot(this,Au).set(ot(this,Rf),ot(this,wo)))}loadAsync(){var e=this;return _r(function*(){yield ot(e,Au).load(),Wt(e,wo,ot(e,Au).get(ot(e,Rf))||[])})()}}Ks.\u0275fac=function(e){return new(e||Ks)(lt(Du))},Ks.\u0275prov=et({token:Ks,factory:Ks.\u0275fac,providedIn:"root"});var ei=new WeakMap;class qi{constructor(e,t,r){cn(this,ei,{writable:!0,value:void 0}),this.domSanitizer=e,this.subscriptionService=t,this.uniqueIdService=r,Wt(this,ei,new zi({post_comments:{article:"",items:null,sort:"best",post:null},errors:null,posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""},subreddit_query:{request:"",result:null}})),this.errors$=ot(this,ei).pipe(Wn(i=>!1),se(i=>i.errors)),this.posts$=ot(this,ei).pipe(Hr(i=>null!=i.posts.items),se(i=>({after:i.posts.after,items:i.posts.items?.map(o=>function v3(n){const e=JSON.parse(JSON.stringify(n));return e.images&&(e.images=e.images.map(t=>Object.freeze(t))),e.videos&&(e.videos=e.videos.map(t=>Object.freeze(t))),Object.freeze(e)}(o)),modhash:i.posts.modhash,sort:i.posts.sort,subreddit:i.posts.subreddit}))),this.post_comments$=ot(this,ei).pipe(Hr(i=>null!=i.post_comments&&null!=i.post_comments.items),se(i=>({items:i.post_comments.items?.map(o=>function y3(n){const e=JSON.parse(JSON.stringify(n));return Object.freeze(e)}(o)),sort:i.post_comments.sort,post:i.post_comments.post}))),this.subreddit_query$=ot(this,ei).pipe(se(i=>({request:i.subreddit_query.request,result:i.subreddit_query.result}))),this.actions={listCommentAsync:u3.bind(this),listPostAsync:c3.bind(this),searchAsync:f3.bind(this),subscribe:g3.bind(this),unsubscribe:_3.bind(this)}}set_errors(e){const t=ot(this,ei).value;null!=e&&(t.errors=e),ot(this,ei).next(t)}get_posts(){return ot(this,ei).value.posts}set_posts(e){const t=ot(this,ei).value;t.posts.after=String.hasData(e.after)?e.after:"",null!=e.items&&(t.posts.items=e.items),t.posts.modhash=String.hasData(e.modhash)?e.modhash:"",null!=e.sort&&(t.posts.sort=e.sort),null!=e.subreddit&&(t.posts.subreddit=e.subreddit),t.errors=null,ot(this,ei).next(t)}get_post_comments(){return ot(this,ei).value.post_comments}set_post_comments(e){const t=ot(this,ei).value;t.post_comments.article=String.hasData(e.article)?e.article:"",void 0!==e.items&&(t.post_comments.items=e.items),null!=e.sort&&(t.post_comments.sort=e.sort),void 0!==e.post&&(t.post_comments.post=e.post),t.errors=null,ot(this,ei).next(t)}get_subreddit_query(){return ot(this,ei).value.subreddit_query}set_subreddit_query(e){const t=ot(this,ei).value;t.subreddit_query.request=String.hasData(e.request)?e.request:"",null!=e.result&&(t.subreddit_query.result=e.result),t.errors=null,ot(this,ei).next(t)}}qi.\u0275fac=function(e){return new(e||qi)(lt(Ea),lt(Ks),lt(Ws))},qi.\u0275prov=et({token:qi,factory:qi.\u0275fac,providedIn:"root"});var Mi=new WeakMap,sE=new WeakMap,Lw=new WeakSet,Nw=new WeakSet;class Gs{constructor(e){sr(this,Nw),sr(this,Lw),cn(this,Mi,{writable:!0,value:void 0}),cn(this,sE,{writable:!0,value:void 0}),Wt(this,Mi,""),Wt(this,sE,e),Wt(this,Mi,document.baseURI.replace(window.location.origin,"")),ot(this,Mi).endsWith("/")&&Wt(this,Mi,ot(this,Mi).slice(0,-1))}sanitizeHTML(e){if(String.isNullOrWhitespace(e))return"";const t=document.implementation.createHTMLDocument().createElement("p");return t.innerHTML=ot(this,sE).sanitize(Vn.HTML,e),Qn(this,Lw,b3).call(this,t),Qn(this,Nw,T3).call(this,t),t.innerHTML}sanitizeLink(e){if(String.isNullOrWhitespace(e))return{href:"",text:"",external:!1};let t=e;t.startsWith("/")&&(t=`${window.location.origin}${t}`),t=t.replace(window.location.origin,`${ot(this,Mi)}`).replace("http://www.reddit.com/",`${ot(this,Mi)}/`).replace("https://www.reddit.com/",`${ot(this,Mi)}/`).replace("http://reddit.com/",`${ot(this,Mi)}/`).replace("https://reddit.com/",`${ot(this,Mi)}/`).replace("http://old.reddit.com/",`${ot(this,Mi)}/`).replace("https://old.reddit.com/",`${ot(this,Mi)}/`);const r=!t.startsWith(ot(this,Mi));!r&&t.endsWith("/")&&(t=t.slice(0,-1));const i=t.replace(ot(this,Mi),""),o=document.createElement("a");return o.href=t,o.innerText=i,r&&(o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer nofollow")),{href:t,text:i,external:r,el:o}}}function b3(n){const e=Array.from(n.getElementsByTagName("a"));0!==e.length&&e.forEach(t=>{const r=this.sanitizeLink(t.href);t.replaceWith(r.el)})}function T3(n){Array.from(n.getElementsByTagName("code")).forEach(e=>{e.style.whiteSpace="break-spaces"})}Gs.\u0275fac=function(e){return new(e||Gs)(lt(Ea))},Gs.\u0275prov=et({token:Gs,factory:Gs.\u0275fac,providedIn:"root"});var Iu=new WeakMap,Fw=new WeakSet,kw=new WeakSet;class is{constructor(){sr(this,kw),sr(this,Fw),cn(this,Iu,{writable:!0,value:void 0}),Wt(this,Iu,{})}save(e="",t=""){ot(this,Iu)[window.location.href]={yScroll:window.scrollY},Qn(this,Fw,S3).call(this,e,t,ot(this,Iu)[window.location.href])}restore(){setTimeout(()=>{const e=ot(this,Iu)[window.location.href];e?(Qn(this,kw,C3).call(this,e),window.scrollTo(0,e.yScroll||0),delete ot(this,Iu)[window.location.href]):window.scrollTo(0,0)},0)}}function S3(n,e,t){if(t.tag_name=n,t.element_id=e,t.element_heights=[],String.isNullOrWhitespace(e)||String.isNullOrWhitespace(n))return;const r=document.querySelectorAll(n);for(let i=0;i<r.length;i++){const o=r[i];if(t.element_heights.push({id:o.id,height:o.getBoundingClientRect().height}),o.id===e)break}}function C3(n){if(String.isNullOrWhitespace(n.element_id)||String.isNullOrWhitespace(n.tag_name)||0===n.element_heights?.length)return n.element_id="",n.tag_name="",void(n.element_heights=[]);const e=document.querySelectorAll(n.tag_name);for(let t=0;t<e.length;t++){const r=e[t],i=n.element_heights.find(o=>o.id===r.id);if(null!=i&&(r.style.height=`${i.height}px`,r.id===n.element_id))break}n.element_id="",n.tag_name="",n.element_heights=[]}is.\u0275fac=function(e){return new(e||is)},is.\u0275prov=et({token:is,factory:is.\u0275fac,providedIn:"root"});class Pf{constructor(e,t){this.eventManagerService=e,this.subscriptionService=t}ngOnInit(){var e=this;return _r(function*(){const t=[e.subscriptionService.loadAsync()];e.eventManagerService.raise(_f);try{yield Promise.allSettled(t)}finally{e.eventManagerService.raise(ns)}})()}}Pf.\u0275fac=function(e){return new(e||Pf)(Ve(Nr),Ve(Ks))},Pf.\u0275cmp=Kt({type:Pf,selectors:[["app-root"]],standalone:!0,features:[qn],decls:2,vars:0,template:function(e,t){1&e&&nn(0,"throbber")(1,"router-outlet")},dependencies:[si,Dy,If],encapsulation:2});const M3=["mat-button",""],D3=["*"],I3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],w3=Fc(w0(R0(class{constructor(n){this._elementRef=n}})));let zs=(()=>{class n extends w3{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of I3)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Gh),Ve(Wo,8))},n.\u0275cmp=Kt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&So(zh,5),2&t){let i;fr(i=dr())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(tr("disabled",r.disabled||null),Sr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Tn],attrs:M3,ngContentSelectors:D3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(Uo(),xt(0,"span",0),Ir(1),Lt(),nn(2,"span",1)(3,"span",2)),2&t&&(Ct(2),Sr("mat-button-ripple-round",r.isRoundButton||r.isIconButton),Tt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[zh],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})(),Qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Uc,Kr,Kr]}),n})();function Bw(n,e){return e?t=>Lc(e.pipe(Ti(1),function R3(){return he((n,e)=>{n.subscribe(de(e,d))})}()),t.pipe(Bw(n))):rt((t,r)=>n(t,r).pipe(Ti(1),lI(t)))}function Uw(n,e=Uh){const t=Aw(n,e);return Bw(()=>t)}class lE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class jw extends lE{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class Vw extends lE{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class P3 extends lE{constructor(e){super(),this.element=e instanceof kn?e.nativeElement:e}}class O3{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof jw?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Vw?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof P3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class x3 extends O3{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const h=u.element,C=this._document.createComment("dom-portal");h.parentNode.insertBefore(C,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(h,C)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ri.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let L3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({}),n})();const Hw=r0();class N3{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Or(-this._previousScrollPosition.left),e.style.top=Or(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Hw&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Hw&&(r.scrollBehavior=o,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class F3{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ww{enable(){}disable(){}attach(){}}function uE(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Kw(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class k3{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();uE(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let B3=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Ww,this.close=u=>new F3(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new N3(this._viewportRuler,this._document),this.reposition=u=>new k3(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(lt(Af),lt(Wm),lt(Sn),lt(An))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gw{constructor(e){if(this.scrollStrategy=new Ww,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class U3{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let zw=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(lt(An))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j3=(()=>{class n extends zw{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(lt(An),lt(Sn,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V3=(()=>{class n extends zw{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=$a(o)},this._clickListener=o=>{const u=$a(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const C=this._attachedOverlays.slice();for(let k=C.length-1;k>-1;k--){const Q=C[k];if(Q._outsidePointerEvents.observers.length<1||!Q.hasAttached())continue;if(Q.overlayElement.contains(u)||Q.overlayElement.contains(h))break;const _e=Q._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_e.next(o)):_e.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(lt(An),lt(Yr),lt(Sn,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||pv()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),pv()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(lt(An),lt(Yr))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class H3{constructor(e,t,r,i,o,u,h,C,k,Q=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=C,this._outsideClickDispatcher=k,this._animationsDisabled=Q,this._backdropElement=null,this._backdropClick=new fe,this._attachments=new fe,this._detachments=new fe,this._locationChanges=R.EMPTY,this._backdropClickHandler=_e=>this._backdropClick.next(_e),this._backdropTransitionendHandler=_e=>{this._disposeBackdrop(_e.target)},this._keydownEvents=new fe,this._outsidePointerEvents=new fe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ti(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Or(this._config.width),e.height=Or(this._config.height),e.minWidth=Or(this._config.minWidth),e.minHeight=Or(this._config.minHeight),e.maxWidth=Or(this._config.maxWidth),e.maxHeight=Or(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Vh(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Wr(qe(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const $w="cdk-overlay-connected-position-bounding-box",W3=/([A-Za-z%]+)$/;class K3{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new fe,this._resizeSubscription=R.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add($w),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let C=this._getOriginPoint(e,i,h),k=this._getOverlayPoint(C,t,h),Q=this._getOverlayFit(k,t,r,h);if(Q.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,C);this._canFitWithFlexibleDimensions(Q,k,r)?o.push({position:h,origin:C,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(C,h)}):(!u||u.overlayFit.visibleArea<Q.visibleArea)&&(u={overlayFit:Q,overlayPoint:k,originPoint:C,position:h,overlayRect:t})}if(o.length){let h=null,C=-1;for(const k of o){const Q=k.boundingBoxRect.width*k.boundingBoxRect.height*(k.position.weight||1);Q>C&&(C=Q,h=k)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ys(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($w),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?u:h}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=qw(t);let{x:u,y:h}=e,C=this._getOffset(i,"x"),k=this._getOffset(i,"y");C&&(u+=C),k&&(h+=k);let Me=0-h,xe=h+o.height-r.height,Be=this._subtractOverflows(o.width,0-u,u+o.width-r.width),Qe=this._subtractOverflows(o.height,Me,xe),dt=Be*Qe;return{visibleArea:dt,isCompletelyWithinViewport:o.width*o.height===dt,fitsInViewportVertically:Qe===o.height,fitsInViewportHorizontally:Be==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,u=Xw(this._overlayRef.getConfig().minHeight),h=Xw(this._overlayRef.getConfig().minWidth),k=e.fitsInViewportHorizontally||null!=h&&h<=o;return(e.fitsInViewportVertically||null!=u&&u<=i)&&k}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=qw(t),o=this._viewportRect,u=Math.max(e.x+i.width-o.width,0),h=Math.max(e.y+i.height-o.height,0),C=Math.max(o.top-r.top-e.y,0),k=Math.max(o.left-r.left-e.x,0);let Q=0,_e=0;return Q=i.width<=o.width?k||-u:e.x<this._viewportMargin?o.left-r.left-e.x:0,_e=i.height<=o.height?C||-h:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:Q,y:_e},{x:e.x+Q,y:e.y+_e}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new U3(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,u,h,Q,_e,Me;if("top"===t.overlayY)u=e.y,o=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,o=r.height-h+this._viewportMargin;else{const xe=Math.min(r.bottom-e.y+r.top,e.y),Be=this._lastBoundingBoxSize.height;o=2*xe,u=e.y-xe,o>Be&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-Be/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)Me=r.width-e.x+this._viewportMargin,Q=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)_e=e.x,Q=r.right-e.x;else{const xe=Math.min(r.right-e.x+r.left,e.x),Be=this._lastBoundingBoxSize.width;Q=2*xe,_e=e.x-xe,Q>Be&&!this._isInitialRender&&!this._growAfterOpen&&(_e=e.x-Be/2)}return{top:u,left:_e,bottom:h,right:Me,width:Q,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=Or(r.height),i.top=Or(r.top),i.bottom=Or(r.bottom),i.width=Or(r.width),i.left=Or(r.left),i.right=Or(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Or(o)),u&&(i.maxWidth=Or(u))}this._lastBoundingBoxSize=r,Ys(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ys(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ys(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const Q=this._viewportRuler.getViewportScrollPosition();Ys(r,this._getExactOverlayY(t,e,Q)),Ys(r,this._getExactOverlayX(t,e,Q))}else r.position="static";let h="",C=this._getOffset(t,"x"),k=this._getOffset(t,"y");C&&(h+=`translateX(${C}px) `),k&&(h+=`translateY(${k}px)`),r.transform=h.trim(),u.maxHeight&&(i?r.maxHeight=Or(u.maxHeight):o&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=Or(u.maxWidth):o&&(r.maxWidth="")),Ys(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Or(o.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Or(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Kw(e,r),isOriginOutsideView:uE(e,r),isOverlayClipped:Kw(t,r),isOverlayOutsideView:uE(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Vh(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof kn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Ys(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Xw(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(W3);return t&&"px"!==t?null:parseFloat(e)}return n||null}function qw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Qw="cdk-global-overlay-wrapper";class G3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Qw),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:u,maxHeight:h}=r,C=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),k=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),Q=this._xPosition,_e=this._xOffset,Me="rtl"===this._overlayRef.getConfig().direction;let xe="",Be="",Qe="";C?Qe="flex-start":"center"===Q?(Qe="center",Me?Be=_e:xe=_e):Me?"left"===Q||"end"===Q?(Qe="flex-end",xe=_e):("right"===Q||"start"===Q)&&(Qe="flex-start",Be=_e):"left"===Q||"start"===Q?(Qe="flex-start",xe=_e):("right"===Q||"end"===Q)&&(Qe="flex-end",Be=_e),e.position=this._cssPosition,e.marginLeft=C?"0":xe,e.marginTop=k?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=C?"0":Be,t.justifyContent=Qe,t.alignItems=k?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Qw),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let z3=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new G3}flexibleConnectedTo(t){return new K3(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(lt(Wm),lt(An),lt(Yr),lt(Yw))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y3=0,wu=(()=>{class n{constructor(t,r,i,o,u,h,C,k,Q,_e,Me,xe){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=C,this._document=k,this._directionality=Q,this._location=_e,this._outsideClickDispatcher=Me,this._animationsModuleType=xe}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),u=new Gw(t);return u.direction=u.direction||this._directionality.value,new H3(o,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Y3++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(eu)),new x3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(lt(B3),lt(Yw),lt(xl),lt(z3),lt(j3),lt(Ri),lt(Sn),lt(An),lt(xs),lt(Dh),lt(V3),lt(Wo,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q3={provide:new Ft("cdk-connected-overlay-scroll-strategy"),deps:[wu],useFactory:function X3(n){return()=>n.scrollStrategies.reposition()}};let Zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({providers:[wu,q3],imports:[Nc,L3,Rw,Rw]}),n})();const Q3=["mat-menu-item",""];function Z3(n,e){1&n&&(yl(),xt(0,"svg",3),nn(1,"polygon",4),Lt())}const J3=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],e$=["mat-icon, [matMenuItemIcon]","*"],cE=new Ft("MAT_MENU_PANEL"),t$=R0(w0(class{}));let Of=(()=>{class n extends t${constructor(t,r,i,o,u){super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new fe,this._focused=new fe,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(An),Ve(Gh),Ve(cE,8),Ve(Pi))},n.\u0275cmp=Kt({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(t,r){1&t&&Cn("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(tr("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Sr("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Tn],attrs:Q3,ngContentSelectors:e$,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(Uo(J3),Ir(0),xt(1,"span",0),Ir(2,1),Lt(),nn(3,"div",1),Qt(4,Z3,2,0,"svg",2)),2&t&&(Ct(3),Tt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Ct(1),Tt("ngIf",r._triggersSubmenu))},dependencies:[Pr,zh],encapsulation:2,changeDetection:0}),n})();const n$=new Ft("MatMenuContent"),Xm={transformMenu:lu("transformMenu",[Ta("void",Lr({opacity:0,transform:"scale(0.8)"})),Yo("void => enter",zo("120ms cubic-bezier(0, 0, 0.2, 1)",Lr({opacity:1,transform:"scale(1)"}))),Yo("* => void",zo("100ms 25ms linear",Lr({opacity:0})))]),fadeInItems:lu("fadeInItems",[Ta("showing",Lr({opacity:1})),Yo("void => *",[Lr({opacity:0}),zo("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let r$=0;const Jw=new Ft("mat-menu-default-options",{providedIn:"root",factory:function i$(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let xf=(()=>{class n{constructor(t,r,i,o){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ql,this._classList={},this._panelAnimationState="void",this._animationDone=new fe,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Jn,this.close=this.closed,this.panelId="mat-menu-panel-"+r$++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Yi(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Yi(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new bV(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(va(this._directDescendantItems),ho(t=>qe(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=t.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(va(this._directDescendantItems),ho(r=>qe(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:vv(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Ti(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(va(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Sn),Ve(Jw),Ve(Pi))},n.\u0275dir=Zt({type:n,contentQueries:function(t,r,i){if(1&t&&(Ei(i,n$,5),Ei(i,Of,5),Ei(i,Of,4)),2&t){let o;fr(o=dr())&&(r.lazyContent=o.first),fr(o=dr())&&(r._allItems=o),fr(o=dr())&&(r.items=o)}},viewQuery:function(t,r){if(1&t&&So(Ho,5),2&t){let i;fr(i=dr())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})();const eR=new Ft("mat-menu-scroll-strategy"),a$={provide:eR,deps:[wu],useFactory:function o$(n){return()=>n.scrollStrategies.reposition()}},tR=Ps({passive:!0});let s$=(()=>{class n{constructor(t,r,i,o,u,h,C,k,Q){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=h,this._dir=C,this._focusMonitor=k,this._ngZone=Q,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=R.EMPTY,this._hoverSubscription=R.EMPTY,this._menuCloseSubscription=R.EMPTY,this._handleTouchStart=_e=>{Dv(_e)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Jn,this.onMenuOpen=this.menuOpened,this.menuClosed=new Jn,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof xf?u:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,tR)}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,tR),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),o=i.positionStrategy;this._setPosition(t,o),i.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof xf&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Wr(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof xf?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Hr(i=>"void"===i.toState),Ti(1),Wr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Gw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",u="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,u)):t.setPositionClasses(o,u)})}_setPosition(t,r){let[i,o]="before"===t.xPosition?["end","start"]:["start","end"],[u,h]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[C,k]=[u,h],[Q,_e]=[i,o],Me=0;if(this.triggersSubmenu()){if(_e=i="before"===t.xPosition?"start":"end",o=Q="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const xe=this._parentMaterialMenu.items.first;this._parentInnerPadding=xe?xe._getHostElement().offsetTop:0}Me="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(C="top"===u?"bottom":"top",k="top"===h?"bottom":"top");r.withPositions([{originX:i,originY:C,overlayX:Q,overlayY:u,offsetY:Me},{originX:o,originY:C,overlayX:_e,overlayY:u,offsetY:Me},{originX:i,originY:k,overlayX:Q,overlayY:h,offsetY:-Me},{originX:o,originY:k,overlayX:_e,overlayY:h,offsetY:-Me}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return qe(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:on(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Hr(u=>u!==this._menuItemInstance),Hr(()=>this._menuOpen)):on(),r)}_handleMousedown(t){Mv(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Hr(t=>t===this._menuItemInstance&&!t.disabled),Uw(0,$y)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof xf&&this.menu._isAnimating?this.menu._animationDone.pipe(Ti(1),Uw(0,$y),Wr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Vw(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(Ve(wu),Ve(kn),Ve(Gi),Ve(eR),Ve(cE,8),Ve(Of,10),Ve(xs,8),Ve(Gh),Ve(Sn))},n.\u0275dir=Zt({type:n,hostVars:3,hostBindings:function(t,r){1&t&&Cn("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&t&&tr("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})();function l$(n,e){if(1&n){const t=Ar();xt(0,"div",0),Cn("keydown",function(i){return ir(t),or(Jt()._handleKeydown(i))})("click",function(){return ir(t),or(Jt().closed.emit("click"))})("@transformMenu.start",function(i){return ir(t),or(Jt()._onAnimationStart(i))})("@transformMenu.done",function(i){return ir(t),or(Jt()._onAnimationDone(i))}),xt(1,"div",1),Ir(2),Lt()()}if(2&n){const t=Jt();Tt("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),tr("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const nR=["*"],u$=["mat-menu-item",""];function c$(n,e){1&n&&(yl(),xt(0,"svg",2),nn(1,"polygon",3),Lt())}let fE=(()=>{class n extends xf{constructor(t,r,i,o){super(t,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Sn),Ve(Jw),Ve(Pi))},n.\u0275cmp=Kt({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&tr("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Hn([{provide:cE,useExisting:n}]),Tn],ngContentSelectors:nR,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(Uo(),Qt(0,l$,3,6,"ng-template"))},dependencies:[nu],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Xm.transformMenu,Xm.fadeInItems]},changeDetection:0}),n})(),rR=(()=>{class n extends Of{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Dr(n)))(r||n)}}(),n.\u0275cmp=Kt({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:20,hostBindings:function(t,r){2&t&&(tr("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Sr("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu)("mat-mdc-menu-item",!1)("mat-mdc-focus-indicator",!1)("mdc-list-item",!1)("mat-mdc-menu-item-highlighted",!1)("mat-mdc-menu-item-submenu-trigger",!1))},inputs:{disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matMenuItem"],features:[Hn([{provide:Of,useExisting:n}]),Tn],attrs:u$,ngContentSelectors:nR,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(Uo(),Ir(0),nn(1,"div",0),Qt(2,c$,2,0,"svg",1)),2&t&&(Ct(1),Tt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Ct(1),Tt("ngIf",r._triggersSubmenu))},dependencies:[Pr,zh],encapsulation:2,changeDetection:0}),n})(),dE=(()=>{class n extends s${}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Dr(n)))(r||n)}}(),n.\u0275dir=Zt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[Tn]}),n})(),Pa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({providers:[a$],imports:[nr,Kr,Uc,Zw,Km,Kr]}),n})();class iR extends Io{}class oR extends Io{constructor(e){super(),this.sort_requested=e}}class aR extends Io{constructor(e){super(),this.sort_requested=e}}class Lf extends Io{constructor(e){super(),this.subreddit_requested=e}}class sR extends Io{constructor(e){super(),this.search=e}}class lR extends Io{constructor(e){super(),this.article=e}}const f$=["best","confidence","top","new","controversial","old"],d$=function(n){return{display:n}};function h$(n,e){if(1&n){const t=Ar();xt(0,"a",14),Cn("click",function(){const o=ir(t).$implicit;return or(Jt(2).change_sort(o))}),Dn(1),Lt()}if(2&n){const t=e.$implicit,r=Jt().ngIf;Tt("ngStyle",To(2,d$,r.sort===t?"none":"inherit")),Ct(1),Zr(" ",t," ")}}function m$(n,e){if(1&n&&(oo(0),xt(1,"div",1)(2,"span"),Dn(3,"Comments"),Lt(),nn(4,"span",2),xt(5,"button",3),Dn(6),nn(7,"mat-icon",4),Lt(),xt(8,"button",5),nn(9,"mat-icon",6),Lt()(),xt(10,"mat-menu",null,7),Qt(12,h$,2,4,"a",8),Lt(),xt(13,"mat-menu",9,10),nn(15,"mat-icon",11)(16,"mat-icon",12)(17,"mat-icon",13),Lt(),ao()),2&n){const t=e.ngIf,r=Br(11),i=Br(14),o=Jt();Ct(5),Tt("matMenuTriggerFor",r),Ct(1),Zr(" ",t.sort,""),Ct(2),Tt("matMenuTriggerFor",i),Ct(4),Tt("ngForOf",o.POST_COMMENT_SORT)}}var hE=new WeakMap;class Nf{constructor(e,t){cn(this,hE,{writable:!0,value:void 0}),this.controller=e,this.POST_COMMENT_SORT=f$,Wt(this,hE,t)}change_sort(e){var t=this;return _r(function*(){ot(t,hE).raise(new oR(e))})()}}Nf.\u0275fac=function(e){return new(e||Nf)(Ve(qi),Ve(Nr))},Nf.\u0275cmp=Kt({type:Nf,selectors:[["post-comment-list-header"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(e,t){1&e&&(Qt(0,m$,18,4,"ng-container",0),ur(1,"async")),2&e&&Tt("ngIf",cr(1,1,t.controller.post_comments$))},dependencies:[nr,za,Pr,wc,Ya,Qi,zs,Ci,Ao,Pa,fE,rR,dE,si,Aa],styles:[".mat-button[_ngcontent-%COMP%]{min-width:unset;padding:0 .5em;line-height:1.5em}.mat-icon-button[_ngcontent-%COMP%]{width:unset;height:unset;line-height:unset}"],changeDetection:0});const p$=["*",[["mat-toolbar-row"]]],g$=["*","mat-toolbar-row"],_$=Fc(class{constructor(n){this._elementRef=n}});let mE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),pE=(()=>{class n extends _${constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Yr),Ve(An))},n.\u0275cmp=Kt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Ei(i,mE,5),2&t){let o;fr(o=dr())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Sr("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Tn],ngContentSelectors:g$,decls:2,vars:0,template:function(t,r){1&t&&(Uo(p$),Ir(0),Ir(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Zo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Kr,Kr]}),n})();const v$=["textPost"],y$=function(n){return{masked:n}};var qm=new WeakMap,gE=new WeakMap,_E=new WeakMap,vE=new WeakMap,yE=new WeakMap,Qm=new WeakMap,os=new WeakMap,Zm=new WeakMap,Jm=new WeakMap,uR=new WeakSet;class $s{constructor(e,t,r,i,o){sr(this,uR),cn(this,qm,{writable:!0,value:void 0}),cn(this,gE,{writable:!0,value:void 0}),cn(this,_E,{writable:!0,value:void 0}),cn(this,vE,{writable:!0,value:void 0}),cn(this,yE,{writable:!0,value:void 0}),cn(this,Qm,{writable:!0,value:void 0}),cn(this,os,{writable:!0,value:void 0}),cn(this,Zm,{writable:!0,value:void 0}),cn(this,Jm,{writable:!0,value:void 0}),Wt(this,qm,!0),this._truncated=!0,Wt(this,os,""),Wt(this,Zm,""),Wt(this,gE,e),Wt(this,_E,t),Wt(this,vE,r),Wt(this,yE,i),Wt(this,Qm,o),Wt(this,os,document.baseURI),ot(this,os).endsWith("/")&&Wt(this,os,ot(this,os).slice(0,-1))}set data(e){null!=e&&(Wt(this,Zm,e),Qn(this,uR,E$).call(this))}set post(e){e&&e.nativeElement&&Wt(this,Jm,e.nativeElement)}onClick(e){const t=e.target;if(t&&"A"===t.tagName){const r=t.href;r.startsWith(ot(this,os))&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),ot(this,vE).navigateByUrl(r.replace(ot(this,os),"")))}else if(ot(this,qm)){if(this._truncated)return this._truncated=!1,void ot(this,Qm).save();this._truncated=!0,ot(this,Qm).restore()}}}function E$(){this._text=ot(this,_E).bypassSecurityTrustHtml(ot(this,yE).sanitizeHTML(ot(this,Zm))),setTimeout(()=>{this._truncated=ot(this,Jm).scrollHeight>ot(this,Jm).clientHeight,Wt(this,qm,this._truncated),ot(this,gE).detectChanges()},0)}$s.\u0275fac=function(e){return new(e||$s)(Ve(Pi),Ve(Ea),Ve(Gr),Ve(Gs),Ve(is))},$s.\u0275cmp=Kt({type:$s,selectors:[["text-block"]],viewQuery:function(e,t){if(1&e&&So(v$,5),2&e){let r;fr(r=dr())&&(t.post=r.first)}},inputs:{data:"data"},standalone:!0,features:[qn],decls:2,vars:4,consts:[[1,"text-block","masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(e,t){1&e&&(xt(0,"p",0,1),Cn("click",function(i){return t.onClick(i)}),Lt()),2&e&&Tt("ngClass",To(2,y$,t._truncated))("innerHTML",t._text,Rg)},dependencies:[nr,nu,si],changeDetection:0});class Ff{constructor(){this.data=null}}Ff.\u0275fac=function(e){return new(e||Ff)},Ff.\u0275cmp=Kt({type:Ff,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&nn(0,"text-block",0),2&e&&Tt("data",null==t.data?null:t.data.body_html)},dependencies:[$s],changeDetection:0});class Ru{transform(e){if(null==e)return"-";const t=new Date(Date.now()-1e3*e);return t.getUTCFullYear()>1970?t.getUTCFullYear()-1970+"y":t.getUTCMonth()>0?`${t.getUTCMonth()}mo`:t.getUTCDate()>1?t.getUTCDate()-1+"d":t.getUTCHours()>0?`${t.getUTCHours()}h`:`${t.getUTCMinutes()}m`}}Ru.\u0275fac=function(e){return new(e||Ru)},Ru.\u0275pipe=Xr({name:"age",type:Ru,pure:!0,standalone:!0});class Xs{transform(e){if(isNaN(Number(`${e}`))||0===e)return"0";const t=Math.log10(e);return t<3?`${e}`:t<6?`${Math.floor(e/1e3)}K`:t<9?`${Math.floor(e/1e6)}M`:"lots"}}Xs.\u0275fac=function(e){return new(e||Xs)},Xs.\u0275pipe=Xr({name:"count",type:Xs,pure:!0,standalone:!0});class kf{transform(e){const t=new Date(0);t.setUTCSeconds(e||0);const r=t.toISOString().substring(11,19);return t.getUTCHours()>0?r:t.getUTCMinutes()>0?r.substring(3):r.substring(4)}}function b$(n,e){if(1&n&&(xt(0,"button",2),nn(1,"mat-icon",3),Dn(2),ur(3,"count"),Lt()),2&n){const t=Jt();Ct(2),Zr(" ",cr(3,1,t.data.ups)," ")}}function T$(n,e){if(1&n&&(xt(0,"button",2),nn(1,"mat-icon",4),Dn(2),ur(3,"count"),Lt()),2&n){const t=Jt();Ct(2),Zr(" ",cr(3,1,t.data.downs)," ")}}kf.\u0275fac=function(e){return new(e||kf)},kf.\u0275pipe=Xr({name:"time",type:kf,pure:!0,standalone:!0});class Bf{}function S$(n,e){1&n&&nn(0,"mat-icon",3)}Bf.\u0275fac=function(e){return new(e||Bf)},Bf.\u0275cmp=Kt({type:Bf,selectors:[["post-comment-footer"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:3,vars:2,consts:[[2,"padding",".5em"],["mat-button","","disableRipple","",4,"ngIf"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(e,t){1&e&&(xt(0,"section",0),Qt(1,b$,4,3,"button",1),Qt(2,T$,4,3,"button",1),Lt()),2&e&&(Ct(1),Tt("ngIf",t.data.ups>0),Ct(1),Tt("ngIf",t.data.downs>0))},dependencies:[nr,Pr,Xs,Qi,zs,Ci,Ao,Pa,Uc,Zo,si],changeDetection:0});const C$=function(n){return["/u",n]};class Uf{}Uf.\u0275fac=function(e){return new(e||Uf)},Uf.\u0275cmp=Kt({type:Uf,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(e,t){1&e&&(xt(0,"section",0)(1,"a",1),Dn(2),Lt(),xt(3,"span"),Dn(4),ur(5,"age"),Lt(),Qt(6,S$,1,0,"mat-icon",2),Lt()),2&e&&(Ct(1),Tt("routerLink",To(6,C$,t.data.author)),Ct(1),Zr("u/",t.data.author,""),Ct(2),ai(cr(5,4,t.data.created_utc)),Ct(2),Tt("ngIf",t.data.stickied))},dependencies:[Ru,nr,Pr,Ci,Ao,si,Aa],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0});class jf{}jf.\u0275fac=function(e){return new(e||jf)},jf.\u0275cmp=Kt({type:jf,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:3,vars:3,consts:[[3,"data"]],template:function(e,t){1&e&&nn(0,"post-comment-header",0)(1,"post-comment-body",0)(2,"post-comment-footer",0),2&e&&(Tt("data",t.data),Ct(1),Tt("data",t.data),Ct(1),Tt("data",t.data))},dependencies:[nr,Qi,Ci,Pa,Zo,si,Uf,Ff,Bf],changeDetection:0});const M$=["hot","hot","top","new","controversial","rising"],D$=function(n){return{display:n}};function A$(n,e){if(1&n){const t=Ar();xt(0,"a",15),Cn("click",function(){const o=ir(t).$implicit;return or(Jt(2).change_sort(o))}),Dn(1),Lt()}if(2&n){const t=e.$implicit,r=Jt().ngIf;Tt("ngStyle",To(2,D$,r.sort===t?"none":"inherit")),Ct(1),Zr(" ",t," ")}}function I$(n,e){if(1&n){const t=Ar();oo(0),xt(1,"div",1)(2,"span",2),Dn(3),Lt(),nn(4,"span",3),xt(5,"button",4),Dn(6),nn(7,"mat-icon",5),Lt(),xt(8,"button",6),nn(9,"mat-icon",7),Lt()(),xt(10,"mat-menu",null,8),Qt(12,A$,2,4,"a",9),Lt(),xt(13,"mat-menu",10,11)(15,"mat-icon",12),Cn("click",function(){return ir(t),or(Jt().back_to_home())}),Lt(),nn(16,"mat-icon",13)(17,"mat-icon",14),Lt(),ao()}if(2&n){const t=e.ngIf,r=Br(11),i=Br(14),o=Jt();Ct(3),ai(t.subreddit.includes("+")?"multi":t.subreddit),Ct(2),Tt("matMenuTriggerFor",r),Ct(1),Zr(" ",t.sort,""),Ct(2),Tt("matMenuTriggerFor",i),Ct(4),Tt("ngForOf",o.POST_SORT)}}var ep=new WeakMap;class Vf{constructor(e,t){cn(this,ep,{writable:!0,value:void 0}),this.controller=e,this.POST_SORT=M$,Wt(this,ep,t)}change_sort(e){var t=this;return _r(function*(){ot(t,ep).raise(new aR(e))})()}back_to_home(){ot(this,ep).raise(iR)}}Vf.\u0275fac=function(e){return new(e||Vf)(Ve(qi),Ve(Nr))},Vf.\u0275cmp=Kt({type:Vf,selectors:[["post-list-header"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(e,t){1&e&&(Qt(0,I$,18,5,"ng-container",0),ur(1,"async")),2&e&&Tt("ngIf",cr(1,1,t.controller.posts$))},dependencies:[nr,za,Pr,wc,Ya,Qi,zs,Ci,Ao,Pa,fE,rR,dE,si,Aa],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}.mat-button[_ngcontent-%COMP%]{min-width:unset;padding:0 .5em;line-height:1.5em}.mat-icon-button[_ngcontent-%COMP%]{width:unset;height:unset;line-height:unset}"],changeDetection:0});var EE=new WeakMap,cR=new WeakSet;class Hf{constructor(e){sr(this,cR),cn(this,EE,{writable:!0,value:void 0}),Wt(this,EE,e)}set data(e){this._data=e,Qn(this,cR,w$).call(this)}}function w$(){const n=document.implementation.createHTMLDocument().createElement("p");n.innerHTML=this._data.embed,Array.from(n.getElementsByTagName("iframe")).forEach(e=>{e.setAttribute("loading","lazy"),e.style.position="relative",e.style.maxWidth="100vw"}),this._embed=ot(this,EE).bypassSecurityTrustHtml(n.innerHTML)}Hf.\u0275fac=function(e){return new(e||Hf)(Ve(Ea))},Hf.\u0275cmp=Kt({type:Hf,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,t){1&e&&nn(0,"div",0),2&e&&Tt("innerHTML",t._embed,Rg)},dependencies:[nr],changeDetection:0});const R$=["gallery"];function P$(n,e){if(1&n){const t=Ar();xt(0,"figure")(1,"img",3),Cn("load",function(){return ir(t),or(Jt().onLoad())})("click",function(){const o=ir(t).$implicit;return or(Jt().onClick(o.href))}),Lt()()}if(2&n){const t=e.$implicit,r=Jt();Ct(1),Tt("src",t.src,Pl)("srcset",t.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const O$=function(n){return{"set-scrollbar":n}};var tp=new WeakMap;class Wf{constructor(){cn(this,tp,{writable:!0,value:void 0})}set fig(e){e&&e.nativeElement&&Wt(this,tp,e.nativeElement)}onLoad(){ot(this,tp)&&(ot(this,tp).scrollLeft=0)}onClick(e){String.isNullOrWhitespace(e)||window.open(e,"_blank","noopener,noreferrer")}}function x$(n,e){if(1&n&&(xt(0,"a",4),Dn(1),Lt()),2&n){const t=Jt(2);Tt("href",t.href,Pl),Ct(1),ai(t.text)}}function L$(n,e){if(1&n&&(xt(0,"a",5),Dn(1),Lt()),2&n){const t=Jt(2);Tt("routerLink",t.text),Ct(1),ai(t.text)}}function N$(n,e){if(1&n&&(xt(0,"p",1),Qt(1,x$,2,2,"a",2),Qt(2,L$,2,2,"a",3),Lt()),2&n){const t=Jt();Ct(1),Tt("ngIf",t.is_external),Ct(1),Tt("ngIf",!t.is_external&&t.show_internal)}}Wf.\u0275fac=function(e){return new(e||Wf)},Wf.\u0275cmp=Kt({type:Wf,selectors:[["post-body-image"]],viewQuery:function(e,t){if(1&e&&So(R$,5),2&e){let r;fr(r=dr())&&(t.fig=r.first)}},inputs:{data:"data"},standalone:!0,features:[qn],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(e,t){1&e&&(xt(0,"div",0,1),Qt(2,P$,2,3,"figure",2),Lt()),2&e&&(Tt("ngClass",To(2,O$,t.data.images.length>1)),Ct(2),Tt("ngForOf",t.data.images))},dependencies:[nr,nu,za],changeDetection:0});var Pu=new WeakMap,bE=new WeakMap,np=new WeakMap,fR=new WeakSet;class Kf{constructor(e){sr(this,fR),cn(this,Pu,{writable:!0,value:void 0}),cn(this,bE,{writable:!0,value:void 0}),cn(this,np,{writable:!0,value:void 0}),Wt(this,Pu,""),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,Wt(this,bE,e),Wt(this,Pu,document.baseURI),ot(this,Pu).endsWith("/")&&Wt(this,Pu,ot(this,Pu).slice(0,-1))}set data(e){Wt(this,np,e),Qn(this,fR,F$).call(this)}}function F$(){const n=ot(this,bE).sanitizeLink(ot(this,np).url);if(this.href=n.href,this.is_external=n.external,this.is_external)return void(this.text=this.href);this.text=n.text;const e=this.text.indexOf("/r/")+3,t=this.text.indexOf("/",e),r=this.text.slice(e,t);this.show_internal=r.toLowerCase()!==ot(this,np).subreddit.toLowerCase()}Kf.\u0275fac=function(e){return new(e||Kf)(Ve(Gs))},Kf.\u0275cmp=Kt({type:Kf,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink"]],template:function(e,t){1&e&&Qt(0,N$,3,2,"p",0),2&e&&Tt("ngIf",t.is_external||t.show_internal)},dependencies:[nr,Pr,si,Aa],changeDetection:0});class Gf{constructor(){this.data=null}}Gf.\u0275fac=function(e){return new(e||Gf)},Gf.\u0275cmp=Kt({type:Gf,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:1,vars:1,consts:[[3,"data"]],template:function(e,t){1&e&&nn(0,"text-block",0),2&e&&Tt("data",null==t.data?null:t.data.selftext_html)},dependencies:[$s],changeDetection:0});var k$=U(377);const B$=["video"];function U$(n,e){if(1&n){const t=Ar();xt(0,"mat-icon",12),Cn("click",function(){return ir(t),Jt(),or(Br(4).play())}),Lt()}}function j$(n,e){if(1&n){const t=Ar();xt(0,"mat-icon",13),Cn("click",function(){return ir(t),Jt(),or(Br(4).pause())}),Lt()}}function V$(n,e){if(1&n){const t=Ar();xt(0,"mat-icon",16),Cn("click",function(){ir(t),Jt(2);const i=Br(4);return or(i.muted=!i.muted)}),Lt()}}function H$(n,e){if(1&n){const t=Ar();xt(0,"mat-icon",17),Cn("click",function(){ir(t),Jt(2);const i=Br(4);return or(i.muted=!i.muted)}),Lt()}}function W$(n,e){if(1&n&&(oo(0),Qt(1,V$,1,0,"mat-icon",14),Qt(2,H$,1,0,"mat-icon",15),ao()),2&n){Jt();const t=Br(4);Ct(1),Tt("ngIf",t.muted),Ct(1),Tt("ngIf",!t.muted)}}const K$=function(n){return{"--p":n}};var qs=new WeakMap,rp=new WeakMap,zf=new WeakMap,ip=new WeakMap,Yf=new WeakMap,Ou=new WeakMap,ui=new WeakMap,dR=new WeakSet,hR=new WeakSet;class $f{constructor(e){sr(this,hR),sr(this,dR),cn(this,qs,{writable:!0,value:void 0}),cn(this,rp,{writable:!0,value:void 0}),cn(this,zf,{writable:!0,value:void 0}),cn(this,ip,{writable:!0,value:void 0}),cn(this,Yf,{writable:!0,value:void 0}),cn(this,Ou,{writable:!0,value:void 0}),cn(this,ui,{writable:!0,value:void 0}),this.cd=e,Wt(this,rp,0),Wt(this,zf,!1),Wt(this,Yf,!1),Wt(this,Ou,""),this.has_audio=!0,Wt(this,ip,new IntersectionObserver((t,r)=>Qn(this,dR,G$).call(this,t,r),{root:null,rootMargin:"32px",threshold:0}))}set value(e){e&&e.nativeElement&&Wt(this,ui,e.nativeElement)}ngOnInit(){var e=this;return _r(function*(){const t=e.data.videos.find(r=>"application/dash+xml"===r.type);Wt(e,Ou,t?.url||e.data.videos[e.data.videos.length-1].url),null!=t?(Wt(e,zf,!0),yield Qn(e,hR,z$).call(e,ot(e,Ou)),Wt(e,qs,(0,k$.MediaPlayer)().create()),ot(e,qs).initialize(ot(e,ui),"",!1),ot(e,qs).setMute(!0),ot(e,qs).updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:ot(e,rp)-1}}}}),ot(e,ip).observe(ot(e,ui))):ot(e,ip).observe(ot(e,ui))})()}ngOnDestroy(){ot(this,qs)?.destroy()}onLoadeddata(){ot(this,zf)||(this.has_audio="mozHasAudio"in ot(this,ui)&&ot(this,ui).mozHasAudio||"webkitAudioDecodedByteCount"in ot(this,ui)&&ot(this,ui).webkitAudioDecodedByteCount>0||"audioTracks"in ot(this,ui)&&ot(this,ui).audioTracks.length>0,ot(this,ui).muted=!0)}skip(e,t,r){const i=t.getBoundingClientRect();r.currentTime=(e.pageX-i.left)/t.offsetWidth*r.duration}}function G$(n,e){n[0].isIntersecting?ot(this,Yf)||(ot(this,zf)?ot(this,qs).attachSource(ot(this,Ou)):ot(this,ui).src=ot(this,Ou),Wt(this,Yf,!0)):!ot(this,Yf)||ot(this,ui).paused||ot(this,ui).ended||ot(this,ui).pause()}function z$(n){return TE.apply(this,arguments)}function TE(){return(TE=_r(function*(n){try{const e=yield fetch(n);if(!e.ok)return;const t=yield e.text();if(String.isNullOrWhitespace(t))return;const r=(new DOMParser).parseFromString(t,"application/xml");if(null==r)return;const i=r.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=i;const o=r.querySelector('AdaptationSet[contentType="video"]');if(null==o)return;const u=o.querySelectorAll("Representation");if(null==u||0===u.length)return;const h=Array.from(u).map(C=>Number(C.getAttribute("bandwidth"))).filter(C=>!isNaN(C));if(null==h||0===h.length)return;Wt(this,rp,Math.max(...h))}catch{return}})).apply(this,arguments)}function Y$(n,e){1&n&&nn(0,"post-body-embed",1),2&n&&Tt("data",Jt()._data)}function $$(n,e){1&n&&nn(0,"post-body-image",1),2&n&&Tt("data",Jt()._data)}function X$(n,e){1&n&&nn(0,"post-body-text",1),2&n&&Tt("data",Jt()._data)}function q$(n,e){1&n&&nn(0,"post-body-video",1),2&n&&Tt("data",Jt()._data)}function Q$(n,e){1&n&&nn(0,"post-body-link",1),2&n&&Tt("data",Jt()._data)}$f.\u0275fac=function(e){return new(e||$f)(Ve(Pi))},$f.\u0275cmp=Kt({type:$f,selectors:[["post-body-video"]],viewQuery:function(e,t){if(1&e&&So(B$,7),2&e){let r;fr(r=dr())&&(t.value=r.first)}},inputs:{data:"data"},standalone:!0,features:[qn],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","disableremoteplayback","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(e,t){if(1&e){const r=Ar();xt(0,"div",0),nn(1,"mat-icon",1)(2,"mat-icon",2),Lt(),xt(3,"video",3,4),Cn("loadeddata",function(){return t.onLoadeddata()})("click",function(){ir(r);const o=Br(4);return or(o.paused||o.ended?o.play():o.pause())})("timeupdate",function(){return t.cd.detectChanges()}),Lt(),xt(5,"div",5),Qt(6,U$,1,0,"mat-icon",6),Qt(7,j$,1,0,"mat-icon",7),xt(8,"div",8,9),Cn("click",function(o){ir(r);const u=Br(9),h=Br(4);return or(t.skip(o,u,h))}),xt(10,"div",10),Dn(11),ur(12,"time"),ur(13,"time"),Lt()(),Qt(14,W$,3,2,"ng-container",11),Lt()}if(2&e){const r=Br(4);Ct(6),Tt("ngIf",r.paused||r.ended),Ct(1),Tt("ngIf",!r.paused&&!r.ended),Ct(1),Tt("ngStyle",To(10,K$,100*((null==r?null:r.currentTime)||0)/r.duration+"%")),Ct(3),uh("",cr(12,6,r.currentTime)," / ",cr(13,8,r.duration)," "),Ct(3),Tt("ngIf",t.has_audio)}},dependencies:[nr,Pr,wc,Ci,Ao,kf],changeDetection:0});class Xf{set data(e){this._data=e.is_crosspost?e.crosspost:e}}function Z$(n,e){if(1&n){const t=Ar();xt(0,"button",5),Cn("click",function(){return ir(t),or(Jt().on_share_click())}),nn(1,"mat-icon",6),Lt()}}function J$(n,e){if(1&n&&(xt(0,"button",7),nn(1,"mat-icon",8),Dn(2),ur(3,"count"),Lt()),2&n){const t=Jt();Ct(2),Zr(" ",cr(3,1,t.data.ups)," ")}}function e4(n,e){if(1&n&&(xt(0,"button",7),nn(1,"mat-icon",9),Dn(2),ur(3,"count"),Lt()),2&n){const t=Jt();Ct(2),Zr(" ",cr(3,1,t.data.downs)," ")}}Xf.\u0275fac=function(e){return new(e||Xf)},Xf.\u0275cmp=Kt({type:Xf,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(e,t){1&e&&(Qt(0,Y$,1,1,"post-body-embed",0),Qt(1,$$,1,1,"post-body-image",0),Qt(2,X$,1,1,"post-body-text",0),Qt(3,q$,1,1,"post-body-video",0),Qt(4,Q$,1,1,"post-body-link",0)),2&e&&(Tt("ngIf",null==t._data?null:t._data.has_embed),Ct(1),Tt("ngIf",null==t._data?null:t._data.has_image),Ct(1),Tt("ngIf",null==t._data?null:t._data.has_text),Ct(1),Tt("ngIf",null==t._data?null:t._data.has_video),Ct(1),Tt("ngIf",null==t._data?null:t._data.has_link))},dependencies:[nr,Pr,Hf,Wf,Kf,Gf,$f],changeDetection:0});var SE=new WeakMap,Qs=new WeakMap;class qf{constructor(e,t){cn(this,SE,{writable:!0,value:void 0}),cn(this,Qs,{writable:!0,value:void 0}),this.controller=e,Wt(this,Qs,""),this._can_share=!1,this._can_share="share"in window.navigator,Wt(this,SE,t),Wt(this,Qs,document.baseURI),ot(this,Qs).endsWith("/")&&Wt(this,Qs,ot(this,Qs).slice(0,-1))}on_share_click(){const e=`${ot(this,Qs)}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:e})}on_comment_click(){ot(this,SE).raise(new lR(this.data.id))}}function t4(n,e){if(1&n){const t=Ar();xt(0,"a",9),Cn("click",function(i){ir(t);const o=Jt();return or(o.change_subreddit(i,o.post.subreddit))}),Dn(1),Lt()}if(2&n){const t=Jt();Tt("href","/r/"+t.post.subreddit,Pl),Ct(1),Zr(" r/",t.post.subreddit," ")}}function n4(n,e){if(1&n){const t=Ar();xt(0,"mat-icon",12),Cn("click",function(){ir(t);const i=Jt(2);return or(i.controller.actions.subscribe(i.post.subreddit))}),Lt()}}function r4(n,e){if(1&n){const t=Ar();xt(0,"mat-icon",13),Cn("click",function(){ir(t);const i=Jt(2);return or(i.controller.actions.unsubscribe(i.post.subreddit))}),Lt()}}function o4(n,e){if(1&n&&(oo(0),Qt(1,n4,1,0,"mat-icon",10),Qt(2,r4,1,0,"mat-icon",11),ao()),2&n){const t=Jt();Ct(1),Tt("ngIf",!t.post.subreddit_subscribed),Ct(1),Tt("ngIf",t.post.subreddit_subscribed)}}function a4(n,e){1&n&&nn(0,"mat-icon",14)}function s4(n,e){1&n&&nn(0,"mat-icon",15)}function l4(n,e){1&n&&(xt(0,"a",16),Dn(1,"x-post"),Lt())}qf.\u0275fac=function(e){return new(e||qf)(Ve(qi),Ve(Nr))},qf.\u0275cmp=Kt({type:qf,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:8,vars:6,consts:[[2,"padding",".5em"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(e,t){1&e&&(xt(0,"section",0),Qt(1,Z$,2,0,"button",1),xt(2,"button",2),Cn("click",function(){return t.on_comment_click()}),nn(3,"mat-icon",3),Dn(4),ur(5,"count"),Lt(),Qt(6,J$,4,3,"button",4),Qt(7,e4,4,3,"button",4),Lt()),2&e&&(Ct(1),Tt("ngIf",t._can_share),Ct(3),Zr(" ",cr(5,4,t.data.num_comments)," "),Ct(2),Tt("ngIf",t.data.ups>0),Ct(1),Tt("ngIf",t.data.downs>0))},dependencies:[nr,Pr,Xs,Qi,zs,Ci,Ao,Pa,Uc,Zo,si],changeDetection:0});const u4=function(n){return["/u",n]};var CE=new WeakMap,mR=new WeakSet;class Qf{constructor(e,t){sr(this,mR),cn(this,CE,{writable:!0,value:void 0}),this.controller=t,this.has_image_gallery=!1,this.part_of_multi=!1,Wt(this,CE,e)}set data(e){this.post=e.post,Qn(this,mR,c4).call(this,e.subreddit)}change_subreddit(e,t){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),ot(this,CE).raise(new Lf(t))}}function c4(n){this.part_of_multi=this.post.subreddit.toLowerCase()!==n.toLowerCase();const e=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=e.has_image&&e.has_image_gallery}function f4(n,e){1&n&&nn(0,"post-body",0),2&n&&Tt("data",Jt().post)}Qf.\u0275fac=function(e){return new(e||Qf)(Ve(Nr),Ve(qi))},Qf.\u0275cmp=Kt({type:Qf,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(e,t){1&e&&(xt(0,"section",0)(1,"div",1),Dn(2),Lt(),xt(3,"section",2),Qt(4,t4,2,2,"a",3),xt(5,"a",4),Dn(6),Lt(),xt(7,"span"),Dn(8),ur(9,"age"),Lt(),Qt(10,o4,3,2,"ng-container",5),Qt(11,a4,1,0,"mat-icon",6),Qt(12,s4,1,0,"mat-icon",7),Qt(13,l4,2,0,"a",8),Lt()()),2&e&&(Ct(2),ai(t.post.title),Ct(2),Tt("ngIf",t.part_of_multi),Ct(1),Tt("routerLink",To(11,u4,t.post.author)),Ct(1),Zr("u/",t.post.author,""),Ct(2),ai(cr(9,9,t.post.created_utc)),Ct(2),Tt("ngIf",t.part_of_multi),Ct(1),Tt("ngIf",!t.part_of_multi&&t.post.stickied),Ct(1),Tt("ngIf",t.has_image_gallery),Ct(1),Tt("ngIf",t.post.is_crosspost))},dependencies:[Ru,nr,Pr,Qi,Ci,Ao,Pa,Uc,Zo,si,Aa],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0});const d4=function(n,e){return{post:n,subreddit:e}};class xu{constructor(){this.subreddit="",this.show_body=!0}set data(e){this.post=e.item,this.subreddit=e.subreddit,this.show_body=!e.item.stickied||!e.hide_stickied}}xu.\u0275fac=function(e){return new(e||xu)},xu.\u0275cmp=Kt({type:xu,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(e,t){1&e&&(nn(0,"post-header",0),Qt(1,f4,1,1,"post-body",1),nn(2,"post-footer",0)),2&e&&(Tt("data",S_(3,d4,t.post,t.subreddit)),Ct(1),Tt("ngIf",t.show_body),Ct(1),Tt("data",t.post))},dependencies:[nr,Pr,Qi,Ci,Pa,Zo,si,Qf,Xf,qf],changeDetection:0});class Zf{}Zf.\u0275fac=function(e){return new(e||Zf)},Zf.\u0275cmp=Kt({type:Zf,selectors:[["search-page-header"]],standalone:!0,features:[qn],decls:10,vars:1,consts:[[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"]],template:function(e,t){if(1&e&&(xt(0,"div",0),Dn(1," Search for Subreddit "),nn(2,"span",1),xt(3,"button",2),nn(4,"mat-icon",3),Lt()(),xt(5,"mat-menu",4,5),nn(7,"mat-icon",6)(8,"mat-icon",7)(9,"mat-icon",8),Lt()),2&e){const r=Br(6);Ct(3),Tt("matMenuTriggerFor",r)}},dependencies:[Qi,zs,Ci,Ao,Pa,fE,dE,si,Aa],styles:[".mat-button[_ngcontent-%COMP%]{min-width:unset;padding:0 .5em;line-height:1.5em}.mat-icon-button[_ngcontent-%COMP%]{width:unset;height:unset;line-height:unset}"],changeDetection:0});var ME=new WeakMap;class Jf{constructor(e){cn(this,ME,{writable:!0,value:void 0}),Wt(this,ME,e)}set data(e){this._data=e}change_subreddit(e,t){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),ot(this,ME).raise(new Lf(t))}}Jf.\u0275fac=function(e){return new(e||Jf)(Ve(Nr))},Jf.\u0275cmp=Kt({type:Jf,selectors:[["search-result"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:14,vars:9,consts:[[2,"padding",".5em"],[2,"font-size","1.5em","line-height","125%"],[3,"href","click"],[3,"data"],["mat-button","","disableRipple",""],["svgIcon","groups"],["svgIcon","person"]],template:function(e,t){1&e&&(xt(0,"section",0)(1,"div",1)(2,"a",2),Cn("click",function(i){return t.change_subreddit(i,t._data.display_name)}),Dn(3),Lt()(),nn(4,"text-block",3),xt(5,"section",0)(6,"button",4),nn(7,"mat-icon",5),Dn(8),ur(9,"count"),Lt(),xt(10,"button",4),nn(11,"mat-icon",6),Dn(12),ur(13,"count"),Lt()()()),2&e&&(Ct(2),Tt("href","/r"+t._data.display_name,Pl),Ct(1),ai(t._data.display_name),Ct(1),Tt("data",t._data.public_description_html),Ct(4),Zr(" ",cr(9,5,t._data.subscribers)," "),Ct(4),Zr(" ",cr(13,7,t._data.accounts_active)," "))},dependencies:[nr,Xs,Qi,zs,Ci,Ao,si,$s],changeDetection:0});let pR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Ve(ca),Ve(kn))},n.\u0275dir=Zt({type:n}),n})(),Zs=(()=>{class n extends pR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Dr(n)))(r||n)}}(),n.\u0275dir=Zt({type:n,features:[Tn]}),n})();const Jo=new Ft("NgValueAccessor"),m4={provide:Jo,useExisting:tn(()=>op),multi:!0},g4=new Ft("CompositionEventMode");let op=(()=>{class n extends pR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function p4(){const n=Go()?Go().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Ve(ca),Ve(kn),Ve(g4,8))},n.\u0275dir=Zt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Cn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Hn([m4]),Tn]}),n})();function as(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _R(n){return null!=n&&"number"==typeof n.length}const ci=new Ft("NgValidators"),ss=new Ft("NgAsyncValidators"),v4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class y4{static min(e){return function vR(n){return e=>{if(as(e.value)||as(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function yR(n){return e=>{if(as(e.value)||as(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return ER(e)}static requiredTrue(e){return function bR(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function TR(n){return as(n.value)||v4.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function SR(n){return e=>as(e.value)||!_R(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return CR(e)}static pattern(e){return function MR(n){if(!n)return ap;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(as(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return PR(e)}static composeAsync(e){return OR(e)}}function ER(n){return as(n.value)?{required:!0}:null}function CR(n){return e=>_R(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function ap(n){return null}function DR(n){return null!=n}function AR(n){return mc(n)?Fe(n):n}function IR(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function wR(n,e){return e.map(t=>t(n))}function RR(n){return n.map(e=>function E4(n){return!n.validate}(e)?e:t=>e.validate(t))}function PR(n){if(!n)return null;const e=n.filter(DR);return 0==e.length?null:function(t){return IR(wR(t,e))}}function DE(n){return null!=n?PR(RR(n)):null}function OR(n){if(!n)return null;const e=n.filter(DR);return 0==e.length?null:function(t){return F0(wR(t,e).map(AR)).pipe(se(IR))}}function AE(n){return null!=n?OR(RR(n)):null}function xR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function LR(n){return n._rawValidators}function NR(n){return n._rawAsyncValidators}function IE(n){return n?Array.isArray(n)?n:[n]:[]}function sp(n,e){return Array.isArray(n)?n.includes(e):n===e}function FR(n,e){const t=IE(e);return IE(n).forEach(i=>{sp(t,i)||t.push(i)}),t}function kR(n,e){return IE(e).filter(t=>!sp(n,t))}class BR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Di extends BR{get formDirective(){return null}get path(){return null}}class Oa extends BR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jR=(()=>{class n extends UR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Ve(Oa,2))},n.\u0275dir=Zt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Sr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Tn]}),n})();const ed="VALID",up="INVALID",Lu="PENDING",td="DISABLED";function OE(n){return(cp(n)?n.validators:n)||null}function xE(n,e){return(cp(e)?e.asyncValidators:n)||null}function cp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ed}get invalid(){return this.status===up}get pending(){return this.status==Lu}get disabled(){return this.status===td}get enabled(){return this.status!==td}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(FR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(FR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kR(e,this._rawAsyncValidators))}hasValidator(e){return sp(this._rawValidators,e)}hasAsyncValidator(e){return sp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=td,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ed,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ed||this.status===Lu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?td:ed}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lu,this._hasOwnPendingAsyncValidator=!0;const t=AR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Jn,this.statusChanges=new Jn}_calculateStatus(){return this._allControlsDisabled()?td:this.errors?up:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lu)?Lu:this._anyControlsHaveStatus(up)?up:ed}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function I4(n){return Array.isArray(n)?DE(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function w4(n){return Array.isArray(n)?AE(n):n||null}(this._rawAsyncValidators)}}class LE extends KR{constructor(e,t,r){super(OE(t),xE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function WR(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new _t(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function HR(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new _t(1e3,"");if(!r[t])throw new _t(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const nd=new Ft("CallSetDisabledState",{providedIn:"root",factory:()=>NE}),NE="always";function rd(n,e,t=NE){FE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function O4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&GR(n,e)})}(n,e),function L4(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function x4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&GR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function P4(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function dp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),mp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function FE(n,e){const t=LR(n);null!==e.validator?n.setValidators(xR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=NR(n);null!==e.asyncValidator?n.setAsyncValidators(xR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();hp(e._rawValidators,i),hp(e._rawAsyncValidators,i)}function mp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=LR(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=NR(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return hp(e._rawValidators,r),hp(e._rawAsyncValidators,r),t}function GR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zR(n,e){FE(n,e)}function YR(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const U4={provide:Di,useExisting:tn(()=>pp)},id=(()=>Promise.resolve())();let pp=(()=>{class n extends Di{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Jn,this.form=new LE({},DE(t),AE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){id.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),rd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){id.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){id.then(()=>{const r=this._findContainer(t.path),i=new LE({});zR(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){id.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){id.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,YR(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(Ve(ci,10),Ve(ss,10),Ve(nd,8))},n.\u0275dir=Zt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Cn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hn([U4]),Tn]}),n})();function $R(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function XR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const qR=class extends KR{constructor(e=null,t,r){super(OE(t),xE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=XR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$R(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$R(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){XR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},H4={provide:Oa,useExisting:tn(()=>jE)},JR=(()=>Promise.resolve())();let jE=(()=>{class n extends Oa{constructor(t,r,i,o,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new qR,this._registered=!1,this.update=new Jn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function UE(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===op?t=o:function k4(n){return Object.getPrototypeOf(n.constructor)===Zs}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function BE(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){JR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&tu(r);JR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function fp(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(Ve(Di,9),Ve(ci,10),Ve(ss,10),Ve(Jo,10),Ve(Pi,8),Ve(nd,8))},n.\u0275dir=Zt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Hn([H4]),Tn,Ui]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({}),n})();const X4={provide:Di,useExisting:tn(()=>gp)};let gp=(()=>{class n extends Di{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Jn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return rd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){dp(t.control||null,t,!1),function B4(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,YR(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(dp(r||null,t),(n=>n instanceof qR)(i)&&(rd(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);zR(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function N4(n,e){return mp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FE(this.form,this),this._oldForm&&mp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(Ve(ci,10),Ve(ss,10),Ve(nd,8))},n.\u0275dir=Zt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Cn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hn([X4]),Tn,Ui]}),n})();let Js=(()=>{class n{constructor(){this._validator=ap}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ap,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n,features:[Ui]}),n})();const s8={provide:ci,useExisting:tn(()=>_p),multi:!0};let _p=(()=>{class n extends Js{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=tu,this.createValidator=t=>ER}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Dr(n)))(r||n)}}(),n.\u0275dir=Zt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&tr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Hn([s8]),Tn]}),n})();const f8={provide:ci,useExisting:tn(()=>GE),multi:!0};let GE=(()=>{class n extends Js{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function cP(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>CR(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Dr(n)))(r||n)}}(),n.\u0275dir=Zt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&tr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Hn([f8]),Tn]}),n})(),h8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[tP]}),n})(),m8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nd,useValue:t.callSetDisabledState??NE}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[h8]}),n})();const vP=new Ft("MatError"),T8=new Ft("MatPrefix"),yP=new Ft("MatSuffix"),S8={transitionMessages:lu("transitionMessages",[Ta("enter",Lr({opacity:1,transform:"translateY(0%)"})),Yo("void => enter",[Lr({opacity:0,transform:"translateY(-5px)"}),zo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let vp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n}),n})();const zE=new Ft("MatFormField"),C8=["connectionContainer"],M8=["inputContainer"],D8=["label"];function A8(n,e){1&n&&(oo(0),xt(1,"div",14),nn(2,"div",15)(3,"div",16)(4,"div",17),Lt(),xt(5,"div",18),nn(6,"div",15)(7,"div",16)(8,"div",17),Lt(),ao())}function I8(n,e){if(1&n){const t=Ar();xt(0,"div",19),Cn("cdkObserveContent",function(){return ir(t),or(Jt().updateOutlineGap())}),Ir(1,1),Lt()}2&n&&Tt("cdkObserveContentDisabled","outline"!=Jt().appearance)}function w8(n,e){if(1&n&&(oo(0),Ir(1,2),xt(2,"span"),Dn(3),Lt(),ao()),2&n){const t=Jt(2);Ct(3),ai(t._control.placeholder)}}function R8(n,e){1&n&&Ir(0,3,["*ngSwitchCase","true"])}function P8(n,e){1&n&&(xt(0,"span",23),Dn(1," *"),Lt())}function O8(n,e){if(1&n){const t=Ar();xt(0,"label",20,21),Cn("cdkObserveContent",function(){return ir(t),or(Jt().updateOutlineGap())}),Qt(2,w8,4,1,"ng-container",12),Qt(3,R8,1,0,"ng-content",12),Qt(4,P8,2,0,"span",22),Lt()}if(2&n){const t=Jt();Sr("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Tt("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),tr("for",t._control.id)("aria-owns",t._control.id),Ct(2),Tt("ngSwitchCase",!1),Ct(1),Tt("ngSwitchCase",!0),Ct(1),Tt("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function x8(n,e){1&n&&(xt(0,"div",24),Ir(1,4),Lt())}function L8(n,e){if(1&n&&(xt(0,"div",25),nn(1,"span",26),Lt()),2&n){const t=Jt();Ct(1),Sr("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function N8(n,e){1&n&&(xt(0,"div"),Ir(1,5),Lt()),2&n&&Tt("@transitionMessages",Jt()._subscriptAnimationState)}function F8(n,e){if(1&n&&(xt(0,"div",30),Dn(1),Lt()),2&n){const t=Jt(2);Tt("id",t._hintLabelId),Ct(1),ai(t.hintLabel)}}function k8(n,e){if(1&n&&(xt(0,"div",27),Qt(1,F8,2,2,"div",28),Ir(2,6),nn(3,"div",29),Ir(4,7),Lt()),2&n){const t=Jt();Tt("@transitionMessages",t._subscriptAnimationState),Ct(1),Tt("ngIf",t.hintLabel)}}const B8=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],U8=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let j8=0,V8=(()=>{class n{constructor(t,r){this.id="mat-error-"+j8++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(Tl("aria-live"),Ve(kn))},n.\u0275dir=Zt({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&tr("id",r.id)},inputs:{id:"id"},features:[Hn([{provide:vP,useExisting:n}])]}),n})(),H8=0;const EP=new Ft("MatHint");let W8=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+H8++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,r){2&t&&(tr("id",r.id)("align",null),Sr("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[Hn([{provide:EP,useExisting:n}])]}),n})(),YE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n,selectors:[["mat-label"]]}),n})(),K8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n,selectors:[["mat-placeholder"]]}),n})(),bP=0;const z8=Fc(class{constructor(n){this._elementRef=n}},"primary"),Y8=new Ft("MAT_FORM_FIELD_DEFAULT_OPTIONS");let $8=(()=>{class n extends z8{constructor(t,r,i,o,u,h,C){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new fe,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+bP++,this._labelId="mat-form-field-label-"+bP++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==C,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Yi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(va(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Wr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),qe(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(va(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(va(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Wr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Mf(this._label.nativeElement,"transitionend").pipe(Ti(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const Q=r.querySelectorAll(`${i}, ${o}`);for(let _e=0;_e<Q.length;_e++)Q[_e].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const C=r.querySelectorAll(i),k=r.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const Q=r.getBoundingClientRect();if(0===Q.width&&0===Q.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const _e=this._getStartEnd(Q),Me=t.children,xe=this._getStartEnd(Me[0].getBoundingClientRect());let Be=0;for(let Qe=0;Qe<Me.length;Qe++)Be+=Me[Qe].offsetWidth;u=Math.abs(xe-_e)-5,h=Be>0?.75*Be+10:0}for(let Q=0;Q<C.length;Q++)C[Q].style.width=`${u}px`;for(let Q=0;Q<k.length;Q++)k[Q].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Pi),Ve(xs,8),Ve(Y8,8),Ve(Yr),Ve(Sn),Ve(Wo,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(Ei(i,vp,5),Ei(i,vp,7),Ei(i,YE,5),Ei(i,YE,7),Ei(i,K8,5),Ei(i,vP,5),Ei(i,EP,5),Ei(i,T8,5),Ei(i,yP,5)),2&t){let o;fr(o=dr())&&(r._controlNonStatic=o.first),fr(o=dr())&&(r._controlStatic=o.first),fr(o=dr())&&(r._labelChildNonStatic=o.first),fr(o=dr())&&(r._labelChildStatic=o.first),fr(o=dr())&&(r._placeholderChild=o.first),fr(o=dr())&&(r._errorChildren=o),fr(o=dr())&&(r._hintChildren=o),fr(o=dr())&&(r._prefixChildren=o),fr(o=dr())&&(r._suffixChildren=o)}},viewQuery:function(t,r){if(1&t&&(So(C8,7),So(M8,5),So(D8,5)),2&t){let i;fr(i=dr())&&(r._connectionContainerRef=i.first),fr(i=dr())&&(r._inputContainerRef=i.first),fr(i=dr())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&Sr("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Hn([{provide:zE,useExisting:n}]),Tn],ngContentSelectors:U8,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(Uo(B8),xt(0,"div",0)(1,"div",1,2),Cn("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),Qt(3,A8,9,0,"ng-container",3),Qt(4,I8,2,1,"div",4),xt(5,"div",5,6),Ir(7),xt(8,"span",7),Qt(9,O8,5,16,"label",8),Lt()(),Qt(10,x8,2,0,"div",9),Lt(),Qt(11,L8,2,4,"div",10),xt(12,"div",11),Qt(13,N8,2,1,"div",12),Qt(14,k8,5,2,"div",13),Lt()()),2&t&&(Ct(3),Tt("ngIf","outline"==r.appearance),Ct(1),Tt("ngIf",r._prefixChildren.length),Ct(5),Tt("ngIf",r._hasFloatingLabel()),Ct(1),Tt("ngIf",r._suffixChildren.length),Ct(1),Tt("ngIf","outline"!=r.appearance),Ct(1),Tt("ngSwitch",r._getDisplayedMessages()),Ct(1),Tt("ngSwitchCase","error"),Ct(1),Tt("ngSwitchCase","hint"))},dependencies:[Pr,Ic,lv,rV],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}.mat-form-field .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-button-base,.mat-form-field .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-form-field .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon{font-size:1em;display:inline-block;margin:-2px 0 1px}.mat-form-field-type-mat-date-range-input .mat-form-field-infix{width:200px}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-icon-button{font-size:inherit;width:1.5em;height:1.5em;padding:0}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle .mat-mdc-icon-button .mat-icon{line-height:1.5em;margin:0}.mat-form-field .mat-datepicker-toggle .mat-mdc-button-base{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-datepicker-toggle .mat-mdc-button-base{vertical-align:baseline}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[S8.transitionMessages]},changeDetection:0}),n})(),X8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Zt({type:n,selectors:[["","matSuffix",""]],features:[Hn([{provide:yP,useExisting:n}])]}),n})(),$E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[nr,Kr,d0,Kr]}),n})();const SP=Ps({passive:!0});let q8=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Dt;const r=_a(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new fe,u="cdk-text-field-autofilled",h=C=>{"cdk-text-field-autofill-start"!==C.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===C.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>o.next({target:C.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>o.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,SP),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",h,SP)}}),o}stopMonitoring(t){const r=_a(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(lt(Yr),lt(Sn))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({}),n})();const Q8=new Ft("MAT_INPUT_VALUE_ACCESSOR"),Z8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J8=0;const e5=UV(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new fe}});let t5=(()=>{class n extends e5{constructor(t,r,i,o,u,h,C,k,Q,_e){super(h,o,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=k,this._formField=_e,this._uid="mat-input-"+J8++,this.focused=!1,this.stateChanges=new fe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Be=>n0().has(Be)),this._iOSKeyupListener=Be=>{const Qe=Be.target;!Qe.value&&0===Qe.selectionStart&&0===Qe.selectionEnd&&(Qe.setSelectionRange(1,1),Qe.setSelectionRange(0,0))};const Me=this._elementRef.nativeElement,xe=Me.nodeName.toLowerCase();this._inputValueAccessor=C||Me,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&Q.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===xe,this._isTextarea="textarea"===xe,this._isInFormField=!!_e,this._isNativeSelect&&(this.controlType=Me.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(t){this._disabled=Yi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(y4.required)??!1}set required(t){this._required=Yi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&n0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Yi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Z8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(Ve(kn),Ve(Yr),Ve(Oa,10),Ve(pp,8),Ve(gp,8),Ve(Iv),Ve(Q8,10),Ve(q8),Ve(Sn),Ve(zE,8))},n.\u0275dir=Zt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,r){1&t&&Cn("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(m_("id",r.id)("disabled",r.disabled)("required",r.required),tr("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Sr("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Hn([{provide:vp,useExisting:n}]),Tn,Ui]}),n})(),n5=(()=>{class n extends t5{constructor(){super(...arguments),this._legacyFormField=vn(zE,{optional:!0})}_getPlaceholder(){const t=this._legacyFormField;return t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Dr(n)))(r||n)}}(),n.\u0275dir=Zt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:15,hostBindings:function(t,r){2&t&&(tr("data-placeholder",r.placeholder),Sr("mat-input-server",r._isServer)("mat-mdc-input-element",!1)("mat-mdc-form-field-textarea-control",!1)("mat-mdc-form-field-input-control",!1)("mdc-text-field__input",!1)("mat-mdc-native-select-inline",!1)("mat-native-select-inline",r._isInlineSelect()))},exportAs:["matInput"],features:[Hn([{provide:vp,useExisting:n}]),Tn]}),n})(),r5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({providers:[Iv],imports:[CP,$E,Kr,CP,$E]}),n})();const MP=new Ft("mat-tooltip-scroll-strategy"),s5={provide:MP,deps:[wu],useFactory:function a5(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},u5=new Ft("mat-tooltip-default-options",{providedIn:"root",factory:function l5(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),DP="tooltip-panel",AP=Ps({passive:!0});let f5=(()=>{class n{constructor(t,r,i,o,u,h,C,k,Q,_e,Me,xe){this._overlay=t,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=C,this._focusMonitor=k,this._dir=_e,this._defaultOptions=Me,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new fe,this._scrollStrategy=Q,this._document=xe,Me&&(Me.position&&(this.position=Me.position),Me.positionAtOrigin&&(this.positionAtOrigin=Me.positionAtOrigin),Me.touchGestures&&(this.touchGestures=Me.touchGestures)),_e.change.pipe(Wr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Yi(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Yi(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=iu(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=iu(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Wr(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,AP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new jw(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Wr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(t):(r._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof kn)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Wr(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${DP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Wr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Wr(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Wr(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!vv(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ti(1),Wr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:o}=t;let u;if(u="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const C=`${this._cssClassPrefix}-${DP}-`;h.removePanelClass(C+this._currentPosition),h.addPanelClass(C+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(r=t),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,AP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){Gg()},n.\u0275dir=Zt({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),d5=(()=>{class n{constructor(t,r){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new fe,this._animationsDisabled="NoopAnimations"===r}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(t?o:i),r.classList.add(t?i:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(r);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(Ve(Pi),Ve(Wo,8))},n.\u0275dir=Zt({type:n}),n})();const h5=["tooltip"];let m5=(()=>{class n extends f5{constructor(t,r,i,o,u,h,C,k,Q,_e,Me,xe){super(t,r,i,o,u,h,C,k,Q,_e,Me,xe),this._tooltipComponent=p5}}return n.\u0275fac=function(t){return new(t||n)(Ve(wu),Ve(kn),Ve(Af),Ve(Gi),Ve(Sn),Ve(Yr),Ve(yV),Ve(Gh),Ve(MP),Ve(xs,8),Ve(u5,8),Ve(An))},n.\u0275dir=Zt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Tn]}),n})(),p5=(()=>{class n extends d5{constructor(t,r,i){super(t,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(Ve(Pi),Ve(_0),Ve(Wo,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(1&t&&So(h5,7),2&t){let i;fr(i=dr())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){1&t&&Cn("mouseleave",function(o){return r._handleMouseLeave(o)}),2&t&&Ka("zoom",r.isVisible()?1:null)},features:[Tn],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,r){if(1&t&&(xt(0,"div",0,1),Cn("animationend",function(o){return r._handleAnimationEnd(o)}),ur(2,"async"),Dn(3),Lt()),2&t){let i;Sr("mat-tooltip-handset",null==(i=cr(2,4,r._isHandset))?null:i.matches),Tt("ngClass",r.tooltipClass),Ct(3),ai(r.message)}},dependencies:[nu,Ya],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({providers:[s5],imports:[OV,nr,Zw,Kr,Kr,Km]}),n})();function _5(n,e){if(1&n&&(xt(0,"mat-label"),Dn(1),Lt()),2&n){const t=Jt();Ct(1),ai(t.label)}}function v5(n,e){if(1&n){const t=Ar();xt(0,"mat-icon",7),Cn("click",function(){return ir(t),or(Jt().onClear())}),Lt()}}function y5(n,e){if(1&n&&(xt(0,"mat-hint",8),Dn(1),Lt()),2&n){const t=Jt(),r=Br(3);Ct(1),uh("",r.value.length," / ",t._maxlength," ")}}function E5(n,e){if(1&n&&(xt(0,"mat-error"),Dn(1),Lt()),2&n){const t=Jt();Ct(1),ai(t.errMsg)}}const b5=function(n){return{readonly:n}};class od{constructor(e,t){this.sanitizer=e,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.hideLabel=!1,this.hideClear=!1,this.hideLength=!1,this._model="",this._maxlength=256,this.inputName=t.getUniqueId().toString(),this.modelChange=new Jn,this.errorStateMatcher=new Iv,this.errorStateMatcher.isErrorState=()=>String.hasData(this.errMsg)}set model(e){this._model=e??""}set maxlength(e){!isNaN(e)&&e>0&&(this._maxlength=e)}set style(e){this._style=this.sanitizer.bypassSecurityTrustStyle(e)}onClear(){this._model="",this.onChange()}onChange(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}}od.\u0275fac=function(e){return new(e||od)(Ve(Ea),Ve(Ws))},od.\u0275cmp=Kt({type:od,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",hideLabel:"hideLabel",hideClear:"hideClear",hideLength:"hideLength",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[qn],decls:9,vars:18,consts:[[2,"width","100%",3,"appearance","ngClass"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","keydown.enter"],["inp",""],["matSuffix","","style","cursor: pointer; opacity: 0.54;","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start"],["align","end",4,"ngIf"],["matSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",2,"cursor","pointer","opacity","0.54",3,"click"],["align","end"]],template:function(e,t){if(1&e){const r=Ar();xt(0,"mat-form-field",0),Qt(1,_5,2,1,"mat-label",1),xt(2,"input",2,3),Cn("ngModelChange",function(o){return t._model=o})("change",function(){return t.onChange()})("keydown.enter",function(){return ir(r),or(Br(3).blur())}),Lt(),Qt(4,v5,1,0,"mat-icon",4),xt(5,"mat-hint",5),Dn(6),Lt(),Qt(7,y5,2,2,"mat-hint",6),Qt(8,E5,2,1,"mat-error",1),Lt()}2&e&&(Tt("appearance",t.readonly?"standard":"fill")("ngClass",To(16,b5,t.readonly)),Ct(1),Tt("ngIf",!t.hideLabel),Ct(1),Tt("placeholder",t.placeholder)("readonly",t.readonly)("disabled",t.disabled)("required",t.required)("ngModel",t._model)("errorStateMatcher",t.errorStateMatcher),tr("name",t.inputName)("maxlength",t._maxlength)("style",t._style,jT),Ct(2),Tt("ngIf",!t.readonly&&!t.disabled&&!t.hideClear),Ct(2),ai(t.hint),Ct(1),Tt("ngIf",!t.readonly&&!t.disabled&&!t.hideLength&&t._maxlength),Ct(1),Tt("ngIf",!t.readonly&&!t.disabled))},dependencies:[nr,nu,Pr,m8,op,jR,_p,GE,jE,$E,V8,$8,W8,YE,X8,Ci,Ao,r5,n5,g5,m5],styles:["[_nghost-%COMP%]     .readonly .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .readonly .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding-bottom:.25em;padding-top:.25em}[_nghost-%COMP%]     .readonly .mat-form-field-underline{display:none}"]});const T5=function(n){return{top:n}};var XE=new WeakMap;class ad{constructor(e,t){cn(this,XE,{writable:!0,value:void 0}),this.controller=t,this.top="2em",Wt(this,XE,e)}ngOnInit(){const e=document.querySelector("search-page-header");null!=e&&(this.top=`${e.offsetHeight}px`)}onModelChange(e){ot(this,XE).raise(new sR(e))}}ad.\u0275fac=function(e){return new(e||ad)(Ve(Nr),Ve(qi))},ad.\u0275cmp=Kt({type:ad,selectors:[["search"]],standalone:!0,features:[qn],decls:4,vars:6,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10",3,"ngStyle"],[3,"model","modelChange"],["inp",""]],template:function(e,t){1&e&&(xt(0,"form",0)(1,"input-text",1,2),Cn("modelChange",function(i){return t.onModelChange(i)}),ur(3,"async"),Lt()()),2&e&&(Tt("ngStyle",To(4,T5,t.top)),Ct(1),Tt("model",cr(3,2,t.controller.subreddit_query$).request))},dependencies:[nr,wc,Ya,od,Qi,Ci,Pa,Zo,si],changeDetection:0});class sd{}sd.\u0275fac=function(e){return new(e||sd)},sd.\u0275cmp=Kt({type:sd,selectors:[["forbidden"]],decls:4,vars:0,consts:[["color","warn"]],template:function(e,t){1&e&&(xt(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span"),Dn(3,"You are not authorized."),Lt()()())},dependencies:[pE,mE],encapsulation:2});class Nu{}Nu.\u0275fac=function(e){return new(e||Nu)},Nu.\u0275mod=$n({type:Nu}),Nu.\u0275inj=jt({imports:[Zo,si.forChild([{path:"forbidden",component:sd}])]});const S5=["*",[["mat-card-footer"]]],C5=["*","mat-card-footer"];let M5=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(Ve(Wo,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&Sr("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:C5,decls:2,vars:0,template:function(t,r){1&t&&(Uo(S5),Ir(0),Ir(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),IP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=jt({imports:[Kr,Kr]}),n})();class ld{constructor(e){this.eventManagerService=e}ngOnInit(){this.eventManagerService.raise(ns)}}ld.\u0275fac=function(e){return new(e||ld)(Ve(Nr))},ld.\u0275cmp=Kt({type:ld,selectors:[["server-error"]],standalone:!0,features:[qn],decls:4,vars:0,consts:[["color","warn"]],template:function(e,t){1&e&&(xt(0,"mat-toolbar",0),Dn(1,"Error"),Lt(),xt(2,"mat-card"),Dn(3,"We are currently experiencing technical difficulties. We apologize for the delay. Please try your request again later."),Lt())},dependencies:[IP,M5,Zo,pE],encapsulation:2});class Fu{}function D5(n,e){1&n&&(xt(0,"mat-toolbar-row")(1,"span"),Dn(2,"You are not authorized."),Lt()())}function A5(n,e){1&n&&(xt(0,"mat-toolbar-row")(1,"span"),Dn(2,"Not found."),Lt()())}function I5(n,e){if(1&n&&(xt(0,"mat-toolbar-row")(1,"span",4),Dn(2),Lt()()),2&n){const t=e.$implicit;Ct(2),ai(t)}}function w5(n,e){if(1&n&&(xt(0,"mat-toolbar",1),Qt(1,D5,3,0,"mat-toolbar-row",2),Qt(2,A5,3,0,"mat-toolbar-row",2),Qt(3,I5,3,1,"mat-toolbar-row",3),Lt()),2&n){const t=Jt();Ct(1),Tt("ngIf",null==t._errors.general?null:t._errors.general.forbidden),Ct(1),Tt("ngIf",null==t._errors.general?null:t._errors.general.notFound),Ct(1),Tt("ngForOf",null==t._errors.general?null:t._errors.general.default)}}Fu.\u0275fac=function(e){return new(e||Fu)},Fu.\u0275mod=$n({type:Fu}),Fu.\u0275inj=jt({imports:[nr,si.forChild([{path:"error",component:ld}]),IP,Zo]});class el{set errors(e){this._errors=e instanceof Error?qo.CreateErrorResult(`${e.message} `).errors:"string"!=typeof e&&"number"!=typeof e?e:qo.CreateErrorResult(`${e} `).errors}}el.\u0275fac=function(e){return new(e||el)},el.\u0275cmp=Kt({type:el,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[qn],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(e,t){1&e&&Qt(0,w5,4,3,"mat-toolbar",0),2&e&&Tt("ngIf",null==t._errors?null:t._errors.general)},dependencies:[nr,za,Pr,Zo,pE,mE],styles:["[_nghost-%COMP%]{width:100%}"]});const R5=function(n){return{item:n,subreddit:"",hide_stickied:!1,show_comments:!1}};function P5(n,e){if(1&n&&nn(0,"post",6),2&n){const t=Jt().ngIf;Tt("data",To(1,R5,t.post))}}function O5(n,e){1&n&&nn(0,"post-comment",6),2&n&&Tt("data",e.$implicit)}function x5(n,e){if(1&n&&(xt(0,"div",3),Qt(1,P5,1,3,"post",4),Qt(2,O5,1,1,"post-comment",5),Lt()),2&n){const t=e.ngIf,r=Jt(2);Ct(1),Tt("ngIf",t.post),Ct(1),Tt("ngForOf",t.items)("ngForTrackBy",r.trackByFn)}}function L5(n,e){if(1&n&&(oo(0),nn(1,"post-comment-list-header")(2,"general-error",1),ur(3,"async"),Qt(4,x5,3,3,"div",2),ur(5,"async"),ao()),2&n){const t=Jt();Ct(2),Tt("errors",cr(3,2,t.controller.errors$)),Ct(2),Tt("ngIf",cr(5,4,t.controller.post_comments$))}}var yp=new WeakMap,Ep=new WeakMap,ea=new WeakMap,wP=new WeakSet,RP=new WeakSet,PP=new WeakSet,OP=new WeakSet;class ku{constructor(e,t,r,i){var o=this;sr(this,OP),sr(this,PP),sr(this,RP),sr(this,wP),cn(this,yp,{writable:!0,value:void 0}),cn(this,Ep,{writable:!0,value:void 0}),cn(this,ea,{writable:!0,value:void 0}),this.controller=e,Wt(this,ea,{a:"",i:"",so:"best"}),Wt(this,yp,t),Wt(this,Ep,i),this.vm$=qe(t.handle(oR).pipe(Wn(u=>Qn(this,wP,N5).call(this,u))),t.handle(Lf).pipe(Wn(u=>Qn(this,RP,F5).call(this,u))),r.paramMap.pipe(Wn(function(){var u=_r(function*(h){return yield Qn(o,OP,B5).call(o,h)});return function(h){return u.apply(this,arguments)}}())))}trackByFn(e,t){return t.id}go_to_top(){window.scrollTo(0,0)}}function N5(n){ot(this,ea).so=n.sort_requested,Qn(this,PP,k5).call(this)}function F5(n){ot(this,Ep).navigate(["r",n.subreddit_requested])}function k5(){let n=Object.trimUnusedProperties(ot(this,ea));delete n.a,ot(this,Ep).navigate(["comments",ot(this,ea).a,n])}function B5(n){return qE.apply(this,arguments)}function qE(){return(qE=_r(function*(n){try{ot(this,yp).raise(_f),Wt(this,ea,{a:"",i:"",so:"best"}),rs.fromParamMap(ot(this,ea),n),yield this.controller.actions.listCommentAsync(ot(this,ea).a,ot(this,ea).so,ot(this,ea).i),setTimeout(()=>window.scrollTo(0,0),0)}finally{ot(this,yp).raise(ns)}})).apply(this,arguments)}ku.\u0275fac=function(e){return new(e||ku)(Ve(qi),Ve(Nr),Ve(Da),Ve(Gr))},ku.\u0275cmp=Kt({type:ku,selectors:[["ng-component"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"]],template:function(e,t){1&e&&(Qt(0,L5,6,6,"ng-container",0),ur(1,"async")),2&e&&Tt("ngIf",cr(1,1,t.vm$))},dependencies:[nr,za,Pr,Ya,el,Qi,Ci,jf,Nf,xu],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});const U5=function(n,e){return{item:n,subreddit:e,hide_stickied:!0,show_comments:!0}};function j5(n,e){if(1&n&&nn(0,"post",9),2&n){const t=e.$implicit,r=Jt().ngIf;Tt("id",t.id)("data",S_(2,U5,t,r.subreddit))}}function V5(n,e){if(1&n){const t=Ar();xt(0,"div",3),Qt(1,j5,1,5,"post",4),xt(2,"div",5)(3,"button",6),Cn("click",function(){const o=ir(t).ngIf;return or(Jt(2).next_page(o.after,o.modhash))}),Dn(4,"Next"),Lt(),xt(5,"button",7),Cn("click",function(){return ir(t),or(Jt(2).go_to_top())}),nn(6,"mat-icon",8),Lt()()()}if(2&n){const t=e.ngIf,r=Jt(2);Ct(1),Tt("ngForOf",t.items)("ngForTrackBy",r.trackByFn)}}function H5(n,e){if(1&n&&(oo(0),nn(1,"post-list-header")(2,"general-error",1),ur(3,"async"),Qt(4,V5,7,2,"div",2),ur(5,"async"),ao()),2&n){const t=Jt();Ct(2),Tt("errors",cr(3,2,t.controller.errors$)),Ct(2),Tt("ngIf",cr(5,4,t.controller.posts$))}}var bp=new WeakMap,Tp=new WeakMap,ud=new WeakMap,br=new WeakMap,xP=new WeakSet,LP=new WeakSet,NP=new WeakSet,FP=new WeakSet,cd=new WeakSet,kP=new WeakSet;class fd{constructor(e,t,r,i,o){var u=this;sr(this,kP),sr(this,cd),sr(this,FP),sr(this,NP),sr(this,LP),sr(this,xP),cn(this,bp,{writable:!0,value:void 0}),cn(this,Tp,{writable:!0,value:void 0}),cn(this,ud,{writable:!0,value:void 0}),cn(this,br,{writable:!0,value:void 0}),this.controller=e,Wt(this,br,{a:"",m:"",so:"hot",su:""}),this.id="",Wt(this,bp,t),Wt(this,Tp,i),Wt(this,ud,o),this.vm$=qe(t.handle(iR).pipe(Wn(h=>Qn(this,xP,W5).call(this))),t.handle(aR).pipe(Wn(h=>Qn(this,LP,K5).call(this,h))),t.handle(Lf).pipe(Wn(h=>Qn(this,NP,G5).call(this,h))),t.handle(lR).pipe(Wn(h=>Qn(this,FP,z5).call(this,h))),r.paramMap.pipe(Wn(function(){var h=_r(function*(C){return yield Qn(u,kP,Y5).call(u,C)});return function(C){return h.apply(this,arguments)}}())))}trackByFn(e,t){return`${t.id}${t.subreddit_subscribed}`}next_page(e,t){ot(this,br).a=e,ot(this,br).m=t,this.go_to_top(),setTimeout(()=>{ot(this,ud).save(),Qn(this,cd,Sp).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}function W5(){ot(this,br).a="",ot(this,br).m="",ot(this,br).so="hot",ot(this,br).su="frontpage",Qn(this,cd,Sp).call(this)}function K5(n){ot(this,br).a="",ot(this,br).m="",ot(this,br).so=n.sort_requested,Qn(this,cd,Sp).call(this)}function G5(n){ot(this,br).a="",ot(this,br).m="",ot(this,br).su=n.subreddit_requested,Qn(this,cd,Sp).call(this)}function z5(n){this.id=n.article,ot(this,ud).save("post",n.article),ot(this,Tp).navigate(["comments",n.article])}function Sp(){let n=Object.trimUnusedProperties(ot(this,br));delete n.su,ot(this,Tp).navigate(["r",ot(this,br).su,n])}function Y5(n){return QE.apply(this,arguments)}function QE(){return(QE=_r(function*(n){ot(this,bp).raise(_f),Wt(this,br,{a:"",m:"",so:"hot",su:""}),rs.fromParamMap(ot(this,br),n),yield this.controller.actions.listPostAsync(ot(this,br).a,ot(this,br).m,ot(this,br).so,ot(this,br).su),ot(this,ud).restore(),ot(this,bp).raise(ns)})).apply(this,arguments)}function $5(n,e){if(1&n&&nn(0,"search-result",5),2&n){const t=e.$implicit;Tt("id",t.display_name)("data",t)}}function X5(n,e){if(1&n&&(xt(0,"div",3),Qt(1,$5,1,2,"search-result",4),Lt()),2&n){const t=e.ngIf,r=Jt(2);Ct(1),Tt("ngForOf",t.result)("ngForTrackBy",r.trackByFn)}}function q5(n,e){if(1&n&&(oo(0),nn(1,"search-page-header")(2,"general-error",1),ur(3,"async"),nn(4,"search"),Qt(5,X5,2,2,"div",2),ur(6,"async"),ao()),2&n){const t=Jt();Ct(2),Tt("errors",cr(3,2,t.controller.errors$)),Ct(3),Tt("ngIf",cr(6,4,t.controller.subreddit_query$))}}fd.\u0275fac=function(e){return new(e||fd)(Ve(qi),Ve(Nr),Ve(Da),Ve(Gr),Ve(is))},fd.\u0275cmp=Kt({type:fd,selectors:[["ng-component"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],["mat-raised-button","",3,"click"],["svgIcon","arrow_upward"],[1,"mat-elevation-z5",3,"id","data"]],template:function(e,t){1&e&&(Qt(0,H5,6,6,"ng-container",0),ur(1,"async")),2&e&&Tt("ngIf",cr(1,1,t.vm$))},dependencies:[nr,za,Pr,Ya,el,Vf,Qi,zs,Ci,Ao,xu],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});var Cp=new WeakMap,Mp=new WeakMap,Dp=new WeakMap,BP=new WeakSet,UP=new WeakSet,jP=new WeakSet,VP=new WeakSet;class dd{constructor(e,t,r,i,o){var u=this;sr(this,VP),sr(this,jP),sr(this,UP),sr(this,BP),cn(this,Cp,{writable:!0,value:void 0}),cn(this,Mp,{writable:!0,value:void 0}),cn(this,Dp,{writable:!0,value:void 0}),this.controller=r,this.state={q:""},Wt(this,Cp,t),Wt(this,Mp,i),Wt(this,Dp,o),this.vm$=qe(t.handle(sR).pipe(Wn(h=>Qn(this,BP,Q5).call(this,h.search))),t.handle(Lf).pipe(Wn(h=>Qn(this,UP,Z5).call(this,h))),e.paramMap.pipe(Wn(function(){var h=_r(function*(C){return yield Qn(u,VP,e6).call(u,C)});return function(C){return h.apply(this,arguments)}}())))}trackByFn(e,t){return t.display_name}}function Q5(n){const e=String.isNullOrWhitespace(this.state.q);this.state.q=n,Qn(this,jP,J5).call(this,e)}function Z5(n){ot(this,Dp).save("search-result",n.subreddit_requested),ot(this,Mp).navigate(["r",n.subreddit_requested])}function J5(n){let e=Object.trimUnusedProperties(this.state);ot(this,Mp).navigate(["s",e],{replaceUrl:n})}function e6(n){return ZE.apply(this,arguments)}function ZE(){return(ZE=_r(function*(n){String.hasData(this.state.q)&&ot(this,Cp).raise(_f),rs.fromParamMap(this.state,n),yield this.controller.actions.searchAsync(this.state.q),String.hasData(this.state.q)&&(ot(this,Dp).restore(),ot(this,Cp).raise(ns))})).apply(this,arguments)}dd.\u0275fac=function(e){return new(e||dd)(Ve(Da),Ve(Nr),Ve(qi),Ve(Gr),Ve(is))},dd.\u0275cmp=Kt({type:dd,selectors:[["ng-component"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(e,t){1&e&&(Qt(0,q5,7,6,"ng-container",0),ur(1,"async")),2&e&&Tt("ngIf",cr(1,1,t.vm$))},dependencies:[nr,za,Pr,Ya,el,Qi,Zf,ad,Jf],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0});const t6=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:fd},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a/:i",component:ku},{path:"comments/:a",component:ku},{path:"s",component:dd}];(function O2(n,e){return gB({rootComponent:n,...sA(e)})})(Pf,{providers:[{provide:Cc,useFactory:function n6(n,e){return()=>n.addSvgIcon("arrow_downward",e.bypassSecurityTrustResourceUrl("assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("arrow_upward",e.bypassSecurityTrustResourceUrl("assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("clear",e.bypassSecurityTrustResourceUrl("assets/cancel_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("comment",e.bypassSecurityTrustResourceUrl("assets/comment_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("edit",e.bypassSecurityTrustResourceUrl("assets/edit_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("expand_more",e.bypassSecurityTrustResourceUrl("assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite_filled",e.bypassSecurityTrustResourceUrl("assets/favorite_FILL1_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite",e.bypassSecurityTrustResourceUrl("assets/favorite_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("fullscreen",e.bypassSecurityTrustResourceUrl("assets/fullscreen_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("go_back",e.bypassSecurityTrustResourceUrl("assets/arrow_back_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("groups",e.bypassSecurityTrustResourceUrl("assets/groups_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("home",e.bypassSecurityTrustResourceUrl("assets/home_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_horiz",e.bypassSecurityTrustResourceUrl("assets/more_horiz_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_vert",e.bypassSecurityTrustResourceUrl("assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("pause",e.bypassSecurityTrustResourceUrl("assets/pause_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("person",e.bypassSecurityTrustResourceUrl("assets/person_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("photo_library",e.bypassSecurityTrustResourceUrl("assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("play_arrow",e.bypassSecurityTrustResourceUrl("assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("push_pin",e.bypassSecurityTrustResourceUrl("assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("search",e.bypassSecurityTrustResourceUrl("assets/search_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("share",e.bypassSecurityTrustResourceUrl("assets/share_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("sort",e.bypassSecurityTrustResourceUrl("assets/sort_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("stop",e.bypassSecurityTrustResourceUrl("assets/stop_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("subscriptions",e.bypassSecurityTrustResourceUrl("assets/subscriptions_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_mute",e.bypassSecurityTrustResourceUrl("assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_off",e.bypassSecurityTrustResourceUrl("assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"))},multi:!0,deps:[$c,Ea]},{provide:fH,useValue:{duration:3e3}},function dK(){return[...cK]}(),function Sz(n,...e){return zT([{provide:gu,multi:!0,useValue:n},[],{provide:Da,useFactory:lw,deps:[Gr]},{provide:F_,multi:!0,useFactory:uw},e.map(t=>t.\u0275providers)])}(t6),YT(Ia.forRoot({corsConfig:{use:!1,url:""},storageConfig:{keyPrefix:"RedditReader"}}),Nu,Fu)]}).catch(n=>console.error(n))},377:Fa=>{window,Fa.exports=function(Ie){var U={};function m(M){if(U[M])return U[M].exports;var T=U[M]={i:M,l:!1,exports:{}};return Ie[M].call(T.exports,T,T.exports,m),T.l=!0,T.exports}return m.m=Ie,m.c=U,m.d=function(M,T,I){m.o(M,T)||Object.defineProperty(M,T,{enumerable:!0,get:I})},m.r=function(M){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})},m.t=function(M,T){if(1&T&&(M=m(M)),8&T||4&T&&"object"==typeof M&&M&&M.__esModule)return M;var I=Object.create(null);if(m.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:M}),2&T&&"string"!=typeof M)for(var R in M)m.d(I,R,function(P){return M[P]}.bind(null,R));return I},m.n=function(M){var T=M&&M.__esModule?function(){return M.default}:function(){return M};return m.d(T,"a",T),T},m.o=function(M,T){return Object.prototype.hasOwnProperty.call(M,T)},m.p="/dist/",m(m.s="./index.js")}({"./externals/base64.js":function(Ie,U,m){var I,R,P,w,D,M_encode=function(I){for(var R=[],P=0;P<I.length;++P){var w=I.charCodeAt(P);w<128?R.push(w):w<2048?(R.push(192|w>>6),R.push(128|63&w)):w<65536?(R.push(224|w>>12),R.push(128|63&w>>6),R.push(128|63&w)):(R.push(240|w>>18),R.push(128|63&w>>12),R.push(128|63&w>>6),R.push(128|63&w))}return R},M_decode=function(I){for(var R=[],P=0;P<I.length;){var w=I[P++];w<128||(w<224?(w=(31&w)<<6,w|=63&I[P++]):w<240?(w=(15&w)<<12,w|=(63&I[P++])<<6,w|=63&I[P++]):(w=(7&w)<<18,w|=(63&I[P++])<<12,w|=(63&I[P++])<<6,w|=63&I[P++])),R.push(String.fromCharCode(w))}return R.join("")},T={};I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=function(l){for(var f=0,d=[],_=0|l.length/3;0<_--;){var L=(l[f]<<16)+(l[f+1]<<8)+l[f+2];f+=3,d.push(I.charAt(63&L>>18)),d.push(I.charAt(63&L>>12)),d.push(I.charAt(63&L>>6)),d.push(I.charAt(63&L))}return l.length-f==2?(d.push(I.charAt(63&(L=(l[f]<<16)+(l[f+1]<<8))>>18)),d.push(I.charAt(63&L>>12)),d.push(I.charAt(63&L>>6)),d.push("=")):l.length-f==1&&(d.push(I.charAt(63&(L=l[f]<<16)>>18)),d.push(I.charAt(63&L>>12)),d.push("==")),d.join("")},P=function(){for(var c=[],l=0;l<I.length;++l)c[I.charCodeAt(l)]=l;return c["=".charCodeAt(0)]=0,c}(),w=function(l){for(var f=0,d=[],_=0|l.length/4;0<_--;){var L=(P[l.charCodeAt(f)]<<18)+(P[l.charCodeAt(f+1)]<<12)+(P[l.charCodeAt(f+2)]<<6)+P[l.charCodeAt(f+3)];d.push(255&L>>16),d.push(255&L>>8),d.push(255&L),f+=4}return d&&("="==l.charAt(f-2)?(d.pop(),d.pop()):"="==l.charAt(f-1)&&d.pop()),d},D={encode:function(c){for(var l=[],f=0;f<c.length;++f)l.push(c.charCodeAt(f));return l},decode:function(c){for(var l=0;l<s.length;++l)a[l]=String.fromCharCode(a[l]);return a.join("")}},T.decodeArray=function(c){var l=w(c);return new Uint8Array(l)},T.encodeASCII=function(c){var l=D.encode(c);return R(l)},T.decodeASCII=function(c){var l=w(c);return D.decode(l)},T.encode=function(c){var l=M_encode(c);return R(l)},T.decode=function(c){var l=w(c);return M_decode(l)},U.decode=T.decode,U.decodeArray=T.decodeArray,U.encode=T.encode,U.encodeASCII=T.encodeASCII},"./externals/cea608-parser.js":function(Ie,U,m){!function(M){"use strict";var T={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},I=function(E){var N=E;return T.hasOwnProperty(E)&&(N=T[E]),String.fromCharCode(N)},R=15,P=32,w={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],d={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(E){this.time=E},log:function(E,N){this.verboseLevel>=this.verboseFilter[E]&&console.log(this.time+" ["+E+"] "+N)}},_=function(E){for(var N=[],G=0;G<E.length;G++)N.push(E[G].toString(16));return N},L=function(E,N,G,ee,Z){this.foreground=E||"white",this.underline=N||!1,this.italics=G||!1,this.background=ee||"black",this.flash=Z||!1};L.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(E){for(var N=["foreground","underline","italics","background","flash"],G=0;G<N.length;G++){var ee=N[G];E.hasOwnProperty(ee)&&(this[ee]=E[ee])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(E){return this.foreground===E.foreground&&this.underline===E.underline&&this.italics===E.italics&&this.background===E.background&&this.flash===E.flash},copy:function(E){this.foreground=E.foreground,this.underline=E.underline,this.italics=E.italics,this.background=E.background,this.flash=E.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var S=function(E,N,G,ee,Z,le){this.uchar=E||" ",this.penState=new L(N,G,ee,Z,le)};S.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(E,N){this.uchar=E,this.penState.copy(N)},setPenState:function(E){this.penState.copy(E)},equals:function(E){return this.uchar===E.uchar&&this.penState.equals(E.penState)},copy:function(E){this.uchar=E.uchar,this.penState.copy(E.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var O=function(){this.chars=[];for(var E=0;E<P;E++)this.chars.push(new S);this.pos=0,this.currPenState=new L};O.prototype={equals:function(E){for(var N=!0,G=0;G<P;G++)if(!this.chars[G].equals(E.chars[G])){N=!1;break}return N},copy:function(E){for(var N=0;N<P;N++)this.chars[N].copy(E.chars[N])},isEmpty:function(){for(var E=!0,N=0;N<P;N++)if(!this.chars[N].isEmpty()){E=!1;break}return E},setCursor:function(E){this.pos!==E&&(this.pos=E),this.pos<0?(d.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>P&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=P)},moveCursor:function(E){var N=this.pos+E;if(E>1)for(var G=this.pos+1;G<N+1;G++)this.chars[G].setPenState(this.currPenState);this.setCursor(N)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(E){E>=144&&this.backSpace();var N=I(E);this.pos>=P?d.log("ERROR","Cannot insert "+E.toString(16)+" ("+N+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(N,this.currPenState),this.moveCursor(1))},clearFromPos:function(E){var N;for(N=E;N<P;N++)this.chars[N].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var E=[],N=!0,G=0;G<P;G++){var ee=this.chars[G].uchar;" "!==ee&&(N=!1),E.push(ee)}return N?"":E.join("")},setPenStyles:function(E){this.currPenState.setStyles(E),this.chars[this.pos].setPenState(this.currPenState)}};var b=function(){this.rows=[];for(var E=0;E<R;E++)this.rows.push(new O);this.currRow=14,this.nrRollUpRows=null,this.reset()};b.prototype={reset:function(){for(var E=0;E<R;E++)this.rows[E].clear();this.currRow=14},equals:function(E){for(var N=!0,G=0;G<R;G++)if(!this.rows[G].equals(E.rows[G])){N=!1;break}return N},copy:function(E){for(var N=0;N<R;N++)this.rows[N].copy(E.rows[N])},isEmpty:function(){for(var E=!0,N=0;N<R;N++)if(!this.rows[N].isEmpty()){E=!1;break}return E},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(E){this.rows[this.currRow].insertChar(E)},setPen:function(E){this.rows[this.currRow].setPenStyles(E)},moveCursor:function(E){this.rows[this.currRow].moveCursor(E)},setCursor:function(E){d.log("INFO","setCursor: "+E),this.rows[this.currRow].setCursor(E)},setPAC:function(E){d.log("INFO","pacData = "+JSON.stringify(E));var N=E.row-1;this.nrRollUpRows&&N<this.nrRollUpRows-1&&(N=this.nrRollUpRows-1),this.currRow=N;var G=this.rows[this.currRow];if(null!==E.indent){var Z=Math.max(E.indent-1,0);G.setCursor(E.indent),E.color=G.chars[Z].penState.foreground}this.setPen({foreground:E.color,underline:E.underline,italics:E.italics,background:"black",flash:!1})},setBkgData:function(E){d.log("INFO","bkgData = "+JSON.stringify(E)),this.backSpace(),this.setPen(E),this.insertChar(32)},setRollUpRows:function(E){this.nrRollUpRows=E},rollUp:function(){if(null!==this.nrRollUpRows){d.log("TEXT",this.getDisplayText());var N=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];N.clear(),this.rows.splice(this.currRow,0,N),d.log("INFO","Rolling up")}else d.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(E){E=E||!1;for(var N=[],G="",Z=0;Z<R;Z++){var le=this.rows[Z].getTextString();le&&N.push(E?"Row "+(Z+1)+': "'+le+'"':le.trim())}return N.length>0&&(G=E?"["+N.join(" | ")+"]":N.join("\n")),G},getTextAndFormat:function(){return this.rows}};var v=function(E,N){this.chNr=E,this.outputFilter=N,this.mode=null,this.verbose=0,this.displayedMemory=new b,this.nonDisplayedMemory=new b,this.lastOutputScreen=new b,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};v.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(E){this.outputFilter=E},setPAC:function(E){this.writeScreen.setPAC(E)},setBkgData:function(E){this.writeScreen.setBkgData(E)},setMode:function(E){E!==this.mode&&(this.mode=E,d.log("INFO","MODE="+E),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=E)},insertChars:function(E){for(var N=0;N<E.length;N++)this.writeScreen.insertChar(E[N]);d.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){d.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){d.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){d.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(E){d.log("INFO","RU("+E+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(E)},cc_FON:function(){d.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){d.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){d.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){d.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){d.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){d.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){d.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var E=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=E,this.writeScreen=this.nonDisplayedMemory,d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(E){d.log("INFO","TO("+E+") - Tab Offset"),this.writeScreen.moveCursor(E)},cc_MIDROW:function(E){var N={flash:!1};if(N.underline=E%2==1,N.italics=E>=46,N.italics)N.foreground="white";else{var G=Math.floor(E/2)-16;N.foreground=["white","green","blue","cyan","red","yellow","magenta"][G]}d.log("INFO","MIDROW: "+JSON.stringify(N)),this.writeScreen.setPen(N)},outputDataUpdate:function(){var E=d.time;null!==E&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(E,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,E,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:E):this.cueStartTime=E,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(E){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,E,this.displayedMemory),this.cueStartTime=E))}};var p=function(E,N,G){this.field=E||1,this.outputs=[N,G],this.channels=[new v(1,N),new v(2,G)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};p.prototype={getHandler:function(E){return this.channels[E].getHandler()},setHandler:function(E,N){this.channels[E].setHandler(N)},addData:function(E,N){var G,ee,Z,le=!1;this.lastTime=E,d.setTime(E);for(var H=0;H<N.length;H+=2)Z=127&N[H+1],(ee=127&N[H])>=16&&ee<=31&&ee===this.lastCmdA&&Z===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+_([ee,Z])+") is dropped")):0!==ee||0!==Z?(d.log("DATA","["+_([N[H],N[H+1]])+"] -> ("+_([ee,Z])+")"),(G=this.parseCmd(ee,Z))||(G=this.parseMidrow(ee,Z)),G||(G=this.parsePAC(ee,Z)),G||(G=this.parseBackgroundAttributes(ee,Z)),!G&&(le=this.parseChars(ee,Z))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(le):d.log("WARNING","No channel found yet. TEXT-MODE?")),G?this.dataCounters.cmd+=2:le?this.dataCounters.char+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+_([ee,Z])+" orig: "+_([N[H],N[H+1]])))):this.dataCounters.padding+=2},parseCmd:function(E,N){var G;if(!((20===E||21===E||28===E||29===E)&&32<=N&&N<=47||(23===E||31===E)&&33<=N&&N<=35))return!1;var le=this.channels[(G=20===E||21===E||23===E?1:2)-1];return 20===E||21===E||28===E||29===E?32===N?le.cc_RCL():33===N?le.cc_BS():34===N?le.cc_AOF():35===N?le.cc_AON():36===N?le.cc_DER():37===N?le.cc_RU(2):38===N?le.cc_RU(3):39===N?le.cc_RU(4):40===N?le.cc_FON():41===N?le.cc_RDC():42===N?le.cc_TR():43===N?le.cc_RTD():44===N?le.cc_EDM():45===N?le.cc_CR():46===N?le.cc_ENM():47===N&&le.cc_EOC():le.cc_TO(N-32),this.lastCmdA=E,this.lastCmdB=N,this.currChNr=G,!0},parseMidrow:function(E,N){var G=null;if((17===E||25===E)&&32<=N&&N<=47){if((G=17===E?1:2)!==this.currChNr)return d.log("ERROR","Mismatch channel in midrow parsing"),!1;var ee=this.channels[G-1];return ee.insertChars([32]),ee.cc_MIDROW(N),d.log("DEBUG","MIDROW ("+_([E,N])+")"),this.lastCmdA=E,this.lastCmdB=N,!0}return!1},parsePAC:function(E,N){var G;if(!((17<=E&&E<=23||25<=E&&E<=31)&&64<=N&&N<=127||(16===E||24===E)&&64<=N&&N<=95))return!1;G=E<=23?1:2;var H=this.interpretPAC(64<=N&&N<=95?1===G?w[E]:c[E]:1===G?D[E]:l[E],N);return this.channels[G-1].setPAC(H),this.lastCmdA=E,this.lastCmdB=N,this.currChNr=G,!0},interpretPAC:function(E,N){var G,ee={color:null,italics:!1,indent:null,underline:!1,row:E};return ee.underline=1==(1&(G=N>95?N-96:N-64)),G<=13?ee.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(G/2)]:G<=15?(ee.italics=!0,ee.color="white"):ee.indent=4*Math.floor((G-16)/2),ee},parseChars:function(E,N){var G=null,ee=null,Z=null;if(E>=25?(G=2,Z=E-8):(G=1,Z=E),17<=Z&&Z<=19){var H;d.log("INFO","Special char '"+I(H=17===Z?N+80:18===Z?N+112:N+144)+"' in channel "+G),ee=[H],this.lastCmdA=E,this.lastCmdB=N}else 32<=E&&E<=127&&(ee=0===N?[E]:[E,N],this.lastCmdA=null,this.lastCmdB=null);if(ee){var W=_(ee);d.log("DEBUG","Char codes =  "+W.join(","))}return ee},parseBackgroundAttributes:function(E,N){var G,ee;return!!((16===E||24===E)&&32<=N&&N<=47||(23===E||31===E)&&45<=N&&N<=47)&&(G={},16===E||24===E?(ee=Math.floor((N-32)/2),G.background=f[ee],N%2==1&&(G.background=G.background+"_semi")):45===N?G.background="transparent":(G.foreground="black",47===N&&(G.underline=!0)),this.channels[(E<24?1:2)-1].setBkgData(G),this.lastCmdA=E,this.lastCmdB=N,!0)},reset:function(){for(var E=0;E<this.channels.length;E++)this.channels[E]&&this.channels[E].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(E){for(var N=0;N<this.channels.length;N++)this.channels[N]&&this.channels[N].cueSplitAtTime(E)}};M.logger=d,M.PenState=L,M.CaptionScreen=b,M.Cea608Parser=p,M.findCea608Nalus=function(E,N,G){for(var ee=0,Z=N,H=[],W=function(ye,J,fe,ae){if(4!==ye||J<8)return null;var pe=fe.getUint8(ae),he=fe.getUint16(ae+1),de=fe.getUint32(ae+3),ve=fe.getUint8(ae+7);return 181==pe&&49==he&&1195456820==de&&3==ve};Z<N+G;){if(ee=E.getUint32(Z),6==(31&E.getUint8(Z+4)))for(var x=Z+5,Y=-1;x<Z+4+ee-1;){Y=0;for(var z=255;255===z;)Y+=z=E.getUint8(x),x++;var ie=0;for(z=255;255===z;)ie+=z=E.getUint8(x),x++;W(Y,ie,E,x)&&H.push([x,ie]),x+=ie}Z+=ee+4}return H},M.extractCea608DataFromRange=function(E,N){var G=N[0],ee=[[],[]],Z=31&E.getUint8(G+=8);G+=2;for(var le=0;le<Z;le++){var H=E.getUint8(G),W=4&H,x=3&H;G++;var Y=E.getUint8(G);G++;var z=E.getUint8(G);G++,W&&(127&Y)+(127&z)!=0&&(0===x?(ee[0].push(Y),ee[0].push(z)):1===x&&(ee[1].push(Y),ee[1].push(z)))}return ee}}(U)},"./externals/xml2json.js":function(Ie,U,m){"use strict";m.r(U),U.default=function M(T){T=T||{},function R(){void 0===T.escapeMode&&(T.escapeMode=!0),void 0===T.attributePrefix&&(T.attributePrefix="_"),T.arrayAccessForm=T.arrayAccessForm||"none",T.emptyNodeForm=T.emptyNodeForm||"text",void 0===T.enableToStringFunc&&(T.enableToStringFunc=!0),T.arrayAccessFormPaths=T.arrayAccessFormPaths||[],void 0===T.skipEmptyTextNodesForObj&&(T.skipEmptyTextNodesForObj=!0),void 0===T.stripWhitespaces&&(T.stripWhitespaces=!0),T.datetimeAccessFormPaths=T.datetimeAccessFormPaths||[],void 0===T.useDoubleQuotes&&(T.useDoubleQuotes=!1),T.xmlElementsFilter=T.xmlElementsFilter||[],T.jsonPropertiesFilter=T.jsonPropertiesFilter||[],void 0===T.keepCData&&(T.keepCData=!1),void 0===T.ignoreRoot&&(T.ignoreRoot=!1)}();var P_ELEMENT_NODE=1,P_TEXT_NODE=3,P_CDATA_SECTION_NODE=4,P_COMMENT_NODE=8,P_DOCUMENT_NODE=9;function D(W){var x=W.localName;return null==x&&(x=W.baseName),(null==x||""==x)&&(x=W.nodeName),x}function l(W){return"string"==typeof W?W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):W}function d(W,x,Y,z){for(var ie=0;ie<W.length;ie++){var oe=W[ie];if("string"==typeof oe){if(oe==z)break}else if(oe instanceof RegExp){if(oe.test(z))break}else if("function"==typeof oe&&oe(x,Y,z))break}return ie!=W.length}function _(W,x,Y){"property"===T.arrayAccessForm&&(W[x+"_asArray"]=W[x]instanceof Array?W[x]:[W[x]]),!(W[x]instanceof Array)&&T.arrayAccessFormPaths.length>0&&d(T.arrayAccessFormPaths,W,x,Y)&&(W[x]=[W[x]])}function L(W){var x=W.split(/[-T:+Z]/g),Y=new Date(x[0],x[1]-1,x[2]),z=x[5].split(".");if(Y.setHours(x[3],x[4],z[0]),z.length>1&&Y.setMilliseconds(z[1]),x[6]&&x[7]){var ie=60*x[6]+Number(x[7]);ie=0+("-"==(/\d\d-\d\d:\d\d$/.test(W)?"-":"+")?-1*ie:ie),Y.setMinutes(Y.getMinutes()-ie-Y.getTimezoneOffset())}else-1!==W.indexOf("Z",W.length-1)&&(Y=new Date(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate(),Y.getHours(),Y.getMinutes(),Y.getSeconds(),Y.getMilliseconds())));return Y}function O(W,x,Y,z){return!(x==P_ELEMENT_NODE&&T.xmlElementsFilter.length>0)||d(T.xmlElementsFilter,W,Y,z)}function b(W,x){if(W.nodeType==P_DOCUMENT_NODE){for(var Y=new Object,z=W.childNodes,ie=0;ie<z.length;ie++)(oe=z[ie]).nodeType==P_ELEMENT_NODE&&(T.ignoreRoot?Y=b(oe):(Y={})[ye=D(oe)]=b(oe));return Y}if(W.nodeType==P_ELEMENT_NODE){(Y=new Object).__cnt=0;var J=[];for(z=W.childNodes,ie=0;ie<z.length;ie++){var oe,ye=D(oe=z[ie]);if(oe.nodeType!=P_COMMENT_NODE){var fe=x+"."+ye;if(O(Y,oe.nodeType,ye,fe))if(Y.__cnt++,null==Y[ye]){var ae=b(oe,fe);("#text"!=ye||/[^\s]/.test(ae))&&((pe={})[ye]=ae,J.push(pe)),Y[ye]=ae,_(Y,ye,fe)}else{var pe;null!=Y[ye]&&(Y[ye]instanceof Array||(Y[ye]=[Y[ye]],_(Y,ye,fe))),ae=b(oe,fe),("#text"!=ye||/[^\s]/.test(ae))&&((pe={})[ye]=ae,J.push(pe)),Y[ye][Y[ye].length]=ae}}}Y.__children=J;for(var he=D(W),de=0;de<W.attributes.length;de++){var ve=W.attributes[de];Y.__cnt++;for(var se=ve.value,Se=0,ge=T.matchers.length;Se<ge;Se++){var ne=T.matchers[Se];ne.test(ve,he)&&(se=ne.converter(ve.value))}Y[T.attributePrefix+ve.name]=se}var X=function c(W){return W.prefix}(W);return null!=X&&""!=X&&(Y.__cnt++,Y.__prefix=X),null!=Y["#text"]&&(Y.__text=Y["#text"],Y.__text instanceof Array&&(Y.__text=Y.__text.join("\n")),T.stripWhitespaces&&(Y.__text=Y.__text.trim()),delete Y["#text"],"property"==T.arrayAccessForm&&delete Y["#text_asArray"],Y.__text=function S(W,x,Y){if(T.datetimeAccessFormPaths.length>0){var z=Y.split(".#")[0];return d(T.datetimeAccessFormPaths,W,x,z)?L(W):W}return W}(Y.__text,ye,x+"."+ye)),null!=Y["#cdata-section"]&&(Y.__cdata=Y["#cdata-section"],delete Y["#cdata-section"],"property"==T.arrayAccessForm&&delete Y["#cdata-section_asArray"]),0==Y.__cnt&&"text"==T.emptyNodeForm?Y="":1==Y.__cnt&&null!=Y.__text?Y=Y.__text:1!=Y.__cnt||null==Y.__cdata||T.keepCData?Y.__cnt>1&&null!=Y.__text&&T.skipEmptyTextNodesForObj&&(T.stripWhitespaces&&""==Y.__text||""==Y.__text.trim())&&delete Y.__text:Y=Y.__cdata,delete Y.__cnt,T.enableToStringFunc&&(null!=Y.__text||null!=Y.__cdata)&&(Y.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),Y}if(W.nodeType==P_TEXT_NODE||W.nodeType==P_CDATA_SECTION_NODE)return W.nodeValue}function v(W,x,Y,z){var ie="<"+(null!=W&&null!=W.__prefix?W.__prefix+":":"")+x;if(null!=Y)for(var oe=0;oe<Y.length;oe++){var ye=Y[oe],J=W[ye];T.escapeMode&&(J=l(J)),ie+=" "+ye.substr(T.attributePrefix.length)+"=",ie+=T.useDoubleQuotes?'"'+J+'"':"'"+J+"'"}return ie+(z?"/>":">")}function p(W,x){return"</"+(null!=W.__prefix?W.__prefix+":":"")+x+">"}function g(W,x){return!!("property"==T.arrayAccessForm&&function y(W,x){return-1!==W.indexOf(x,W.length-x.length)}(x.toString(),"_asArray")||0==x.toString().indexOf(T.attributePrefix)||0==x.toString().indexOf("__")||W[x]instanceof Function)}function A(W){var x=0;if(W instanceof Object)for(var Y in W)g(W,Y)||x++;return x}function E(W,x,Y){return 0==T.jsonPropertiesFilter.length||""==Y||d(T.jsonPropertiesFilter,W,x,Y)}function N(W){var x=[];if(W instanceof Object)for(var Y in W)-1==Y.toString().indexOf("__")&&0==Y.toString().indexOf(T.attributePrefix)&&x.push(Y);return x}function ee(W){var x="";return W instanceof Object?x+=function G(W){var x="";return null!=W.__cdata&&(x+="<![CDATA["+W.__cdata+"]]>"),null!=W.__text&&(x+=T.escapeMode?l(W.__text):W.__text),x}(W):null!=W&&(x+=T.escapeMode?l(W):W),x}function Z(W,x){return""===W?x:W+"."+x}function le(W,x,Y,z){var ie="";if(0==W.length)ie+=v(W,x,Y,!0);else for(var oe=0;oe<W.length;oe++)ie+=v(W[oe],x,N(W[oe]),!1),ie+=H(W[oe],Z(z,x)),ie+=p(W[oe],x);return ie}function H(W,x){var Y="";if(A(W)>0)for(var ie in W)if(!g(W,ie)&&(""==x||E(W,ie,Z(x,ie)))){var oe=W[ie],ye=N(oe);null==oe||null==oe?Y+=v(oe,ie,ye,!0):oe instanceof Object?oe instanceof Array?Y+=le(oe,ie,ye,x):oe instanceof Date?(Y+=v(oe,ie,ye,!1),Y+=oe.toISOString(),Y+=p(oe,ie)):A(oe)>0||null!=oe.__text||null!=oe.__cdata?(Y+=v(oe,ie,ye,!1),Y+=H(oe,Z(x,ie)),Y+=p(oe,ie)):Y+=v(oe,ie,ye,!0):(Y+=v(oe,ie,ye,!1),Y+=ee(oe),Y+=p(oe,ie))}return Y+ee(W)}this.parseXmlString=function(W){var Y;if(window.ActiveXObject||window,void 0===W)return null;if(window.DOMParser){var z=new window.DOMParser;try{(Y=z.parseFromString(W,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(Y=null)}catch{Y=null}}else 0==W.indexOf("<?")&&(W=W.substr(W.indexOf("?>")+2)),(Y=new ActiveXObject("Microsoft.XMLDOM")).async="false",Y.loadXML(W);return Y},this.asArray=function(W){return void 0===W||null==W?[]:W instanceof Array?W:[W]},this.toXmlDateTime=function(W){return W instanceof Date?W.toISOString():"number"==typeof W?new Date(W).toISOString():null},this.asDateTime=function(W){return"string"==typeof W?L(W):W},this.xml2json=function(W){return b(W)},this.xml_str2json=function(W){var x=this.parseXmlString(W);return null!=x?this.xml2json(x):null},this.json2xml_str=function(W){return H(W,"")},this.json2xml=function(W){var x=this.json2xml_str(W);return this.parseXmlString(x)},this.getVersion=function(){return"1.2.0"}}},"./index.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./index_mediaplayerOnly.js");m.d(U,"MediaPlayer",function(){return M.MediaPlayer});var T=m("./src/streaming/utils/Capabilities.js");m.d(U,"supportsMediaSource",function(){return T.supportsMediaSource});var I=m("./src/streaming/metrics/MetricsReporting.js");m.d(U,"MetricsReporting",function(){return I.default});var R=m("./src/streaming/protection/Protection.js");m.d(U,"Protection",function(){return R.default});var P=m("./src/streaming/MediaPlayerFactory.js");m.d(U,"MediaPlayerFactory",function(){return P.default});var w=m("./src/core/Debug.js");m.d(U,"Debug",function(){return w.default}),dashjs.Protection=R.default,dashjs.MetricsReporting=I.default,dashjs.MediaPlayerFactory=P.default,dashjs.Debug=w.default,dashjs.supportsMediaSource=T.supportsMediaSource,U.default=dashjs},"./index_mediaplayerOnly.js":function(Ie,U,m){"use strict";m.r(U),function(M){var T=m("./src/streaming/MediaPlayer.js");m.d(U,"MediaPlayer",function(){return T.default});var I=m("./src/core/FactoryMaker.js");m.d(U,"FactoryMaker",function(){return I.default});var R=m("./src/core/Debug.js");m.d(U,"Debug",function(){return R.default});var P=m("./src/core/Version.js"),c=(m("./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||M),l=c.dashjs;l||(l=c.dashjs={}),l.MediaPlayer=T.default,l.FactoryMaker=I.default,l.Debug=R.default,l.Version=Object(P.getVersionString)(),U.default=l}.call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":function(Ie,U,m){"use strict";U.byteLength=function c(S){var O=D(S),v=O[1];return 3*(O[0]+v)/4-v},U.toByteArray=function f(S){var O,E,b=D(S),v=b[0],p=b[1],y=new I(function l(S,O,b){return 3*(O+b)/4-b}(0,v,p)),g=0,A=p>0?v-4:v;for(E=0;E<A;E+=4)O=T[S.charCodeAt(E)]<<18|T[S.charCodeAt(E+1)]<<12|T[S.charCodeAt(E+2)]<<6|T[S.charCodeAt(E+3)],y[g++]=O>>16&255,y[g++]=O>>8&255,y[g++]=255&O;return 2===p&&(O=T[S.charCodeAt(E)]<<2|T[S.charCodeAt(E+1)]>>4,y[g++]=255&O),1===p&&(O=T[S.charCodeAt(E)]<<10|T[S.charCodeAt(E+1)]<<4|T[S.charCodeAt(E+2)]>>2,y[g++]=O>>8&255,y[g++]=255&O),y},U.fromByteArray=function L(S){for(var O,b=S.length,v=b%3,p=[],y=16383,g=0,A=b-v;g<A;g+=y)p.push(_(S,g,g+y>A?A:g+y));return 1===v?p.push(M[(O=S[b-1])>>2]+M[O<<4&63]+"=="):2===v&&p.push(M[(O=(S[b-2]<<8)+S[b-1])>>10]+M[O>>4&63]+M[O<<2&63]+"="),p.join("")};for(var M=[],T=[],I=typeof Uint8Array<"u"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,w=R.length;P<w;++P)M[P]=R[P],T[R.charCodeAt(P)]=P;function D(S){var O=S.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=S.indexOf("=");return-1===b&&(b=O),[b,b===O?0:4-b%4]}function d(S){return M[S>>18&63]+M[S>>12&63]+M[S>>6&63]+M[63&S]}function _(S,O,b){for(var p=[],y=O;y<b;y+=3)p.push(d((S[y]<<16&16711680)+(S[y+1]<<8&65280)+(255&S[y+2])));return p.join("")}T["-".charCodeAt(0)]=62,T["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":function(Ie,U,m){"use strict";function R(w,D){return function c(l,f){for(var O,b,v,d=P(l,"tag"),_=P(f??"*","range"),L=[],S=-1;++S<_.length;)if(O=_[S].toLowerCase(),D||"*"!==O){for(b=-1,v=[];++b<d.length;)if(w(d[b].toLowerCase(),O)){if(!D)return d[b];L.push(d[b])}else v.push(d[b]);d=v}return D?L:void 0}}function P(w,D){var c=w&&"string"==typeof w?[w]:w;if(!c||"object"!=typeof c||!("length"in c))throw new Error("Invalid "+D+" `"+c+"`, expected non-empty string");return c}U.basicFilter=R(function M(w,D){return"*"===D||w===D||w.indexOf(D+"-")>-1},!0),U.extendedFilter=R(function T(w,D){var c=w.split("-"),l=D.split("-"),f=0,d=0;if("*"!==l[d]&&c[f]!==l[d])return!1;for(f++,d++;d<l.length;)if("*"!==l[d]){if(!c[f])return!1;if(c[f]!==l[d]){if(1===c[f].length)return!1;f++}else f++,d++}else d++;return!0},!0),U.lookup=R(function I(w,D){for(var l,c=D;;){if("*"===c||w===c)return!0;if((l=c.lastIndexOf("-"))<0)return!1;"-"===c.charAt(l-2)&&(l-=2),c=c.slice(0,l)}})},"./node_modules/bcp-47-normalize/index.js":function(Ie,U,m){"use strict";Ie.exports=m("./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":function(Ie){Ie.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":function(Ie){Ie.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":function(Ie,U,m){"use strict";var M=m("./node_modules/bcp-47/index.js"),T=m("./node_modules/bcp-47-match/index.js"),I=m("./node_modules/bcp-47-normalize/lib/matches.json"),R=m("./node_modules/bcp-47-normalize/lib/fields.json"),P=m("./node_modules/bcp-47-normalize/lib/defaults.json"),w=m("./node_modules/bcp-47-normalize/lib/many.json");Ie.exports=function f(O,b){var A,v=b||{},p=M.parse(String(O||"").toLowerCase(),v),y=M.stringify(p),g=-1;if(!y)return y;for(;++g<I.length;)T.extendedFilter(y,I[g].from).length&&(d(p,I[g].from,I[g].to),y=M.stringify(p));for(g=-1;++g<R.length;)_(p,R[g].from.field,R[g].from.value)&&L(p,R[g].to.field,R[g].to.value);for(y=M.stringify(Object.assign({},p,l)),g=-1;++g<P.length;)y===P[g]&&(d(p,P[g],P[g].split("-").slice(0,-1).join("-")),y=M.stringify(Object.assign({},p,l)));if(p.extensions.sort(S),v.warning)for(A in w)D.call(w[A],p[A])&&v.warning("Deprecated "+A+" `"+p[A]+"`, expected one of `"+w[A][p[A]].join("`, `")+"`",null,7);return p.script&&(p.script=p.script.charAt(0).toUpperCase()+p.script.slice(1)),p.region&&(p.region=p.region.toUpperCase()),M.stringify(p)};var D={}.hasOwnProperty,c=new Intl.Collator,l={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function d(O,b,v){var A,p=M.parse(b),y=M.parse(v),g=[];for(A in p)p[A]&&p[A].length&&_(O,A,p[A])&&g.push(A);for(A in y)y[A]&&y[A].length&&(g.indexOf(A)>-1||!O[A]||!O[A].length)&&L(O,A,y[A])}function _(O,b,v){var y,g,A,E,p=!1;if(v){if(g=y=O[b],y&&"object"==typeof y)for(g=[],A=-1;++A<y.length;)v.indexOf(E=y[A])<0?g.push(E):p=!0;else y===v&&(g=null,p=!0);O[b]=g}return p}function L(O,b,v){var y,g,A,p=O[b];if(p&&"object"==typeof p)for(y=[].concat(v),g=-1;++g<y.length;)p.indexOf(A=y[g])<0&&p.push(A);else O[b]=v}function S(O,b){return c.compare(O.singleton,b.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":function(Ie){Ie.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":function(Ie){Ie.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":function(Ie,U,m){"use strict";U.parse=m("./node_modules/bcp-47/lib/parse.js"),U.stringify=m("./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":function(Ie){Ie.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":function(Ie,U,m){"use strict";var M=m("./node_modules/is-alphanumerical/index.js"),T=m("./node_modules/is-alphabetical/index.js"),I=m("./node_modules/is-decimal/index.js"),R=m("./node_modules/bcp-47/lib/regular.json"),P=m("./node_modules/bcp-47/lib/normalize.json");Ie.exports=function D(l,f){var b,v,p,d=f||{},_={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},L=String(l),S=L.toLowerCase(),O=0;if(null==l)throw new Error("Expected string, got `"+l+"`");if(w.call(P,S))return(null==d.normalize||d.normalize)&&P[S]?D(P[S]):(_[-1===R.indexOf(S)?"irregular":"regular"]=L,_);for(;T(S.charCodeAt(O))&&O<9;)O++;if(O>1&&O<9){if(_.language=L.slice(0,O),O<4)for(v=0;45===S.charCodeAt(O)&&T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&T(S.charCodeAt(O+3))&&!T(S.charCodeAt(O+4));){if(v>2)return y(O,3,"Too many extended language subtags, expected at most 3 subtags");_.extendedLanguageSubtags.push(L.slice(O+1,O+4)),O+=4,v++}for(45===S.charCodeAt(O)&&T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&T(S.charCodeAt(O+3))&&T(S.charCodeAt(O+4))&&!T(S.charCodeAt(O+5))&&(_.script=L.slice(O+1,O+5),O+=5),45===S.charCodeAt(O)&&(T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&!T(S.charCodeAt(O+3))?(_.region=L.slice(O+1,O+3),O+=3):I(S.charCodeAt(O+1))&&I(S.charCodeAt(O+2))&&I(S.charCodeAt(O+3))&&!I(S.charCodeAt(O+4))&&(_.region=L.slice(O+1,O+4),O+=4));45===S.charCodeAt(O);){for(p=b=O+1;M(S.charCodeAt(p));){if(p-b>7)return y(p,1,"Too long variant, expected at most 8 characters");p++}if(!(p-b>4||p-b>3&&I(S.charCodeAt(b))))break;_.variants.push(L.slice(b,p)),O=p}for(;45===S.charCodeAt(O)&&120!==S.charCodeAt(O+1)&&M(S.charCodeAt(O+1))&&45===S.charCodeAt(O+2)&&M(S.charCodeAt(O+3));){for(p=O+2,v=0;45===S.charCodeAt(p)&&M(S.charCodeAt(p+1))&&M(S.charCodeAt(p+2));)for(p=(b=p+1)+2,v++;M(S.charCodeAt(p));){if(p-b>7)return y(p,2,"Too long extension, expected at most 8 characters");p++}if(!v)return y(p,4,"Empty extension, extensions must have at least 2 characters of content");_.extensions.push({singleton:L.charAt(O+1),extensions:L.slice(O+3,p).split("-")}),O=p}}else O=0;if(0===O&&120===S.charCodeAt(O)||45===S.charCodeAt(O)&&120===S.charCodeAt(O+1))for(p=O=O?O+2:1;45===S.charCodeAt(p)&&M(S.charCodeAt(p+1));){for(p=b=O+1;M(S.charCodeAt(p));){if(p-b>7)return y(p,5,"Too long private-use area, expected at most 8 characters");p++}_.privateuse.push(L.slice(O+1,p)),O=p}return O!==L.length?y(O,6,"Found superfluous content after tag"):_;function y(g,A,E){return d.warning&&d.warning(E,A,g),d.forgiving?_:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var w={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":function(Ie){Ie.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":function(Ie,U,m){"use strict";Ie.exports=function M(T){var P,w,D,I=T||{},R=[];if(I.irregular||I.regular)return I.irregular||I.regular;if(I.language)for(R=R.concat(I.language,I.extendedLanguageSubtags||[],I.script||[],I.region||[],I.variants||[]),P=I.extensions||[],w=-1;++w<P.length;)(D=P[w]).singleton&&D.extensions&&D.extensions.length&&(R=R.concat(D.singleton,D.extensions));return I.privateuse&&I.privateuse.length&&(R=R.concat("x",I.privateuse)),R.join("-")}},"./node_modules/buffer/index.js":function(Ie,U,m){"use strict";(function(M){var T=m("./node_modules/base64-js/index.js"),I=m("./node_modules/ieee754/index.js"),R=m("./node_modules/isarray/index.js");function w(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(q,K){if(w()<K)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(q=new Uint8Array(K)).__proto__=c.prototype:(null===q&&(q=new c(K)),q.length=K),q}function c(q,K,j){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(q,K,j);if("number"==typeof q){if("string"==typeof K)throw new Error("If encoding is specified then the first argument must be a string");return _(this,q)}return l(this,q,K,j)}function l(q,K,j,$){if("number"==typeof K)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&K instanceof ArrayBuffer?function O(q,K,j,$){if(j<0||K.byteLength<j)throw new RangeError("'offset' is out of bounds");if(K.byteLength<j+($||0))throw new RangeError("'length' is out of bounds");return K=void 0===j&&void 0===$?new Uint8Array(K):void 0===$?new Uint8Array(K,j):new Uint8Array(K,j,$),c.TYPED_ARRAY_SUPPORT?(q=K).__proto__=c.prototype:q=S(q,K),q}(q,K,j,$):"string"==typeof K?function L(q,K,j){if(("string"!=typeof j||""===j)&&(j="utf8"),!c.isEncoding(j))throw new TypeError('"encoding" must be a valid string encoding');var $=0|y(K,j),ce=(q=D(q,$)).write(K,j);return ce!==$&&(q=q.slice(0,ce)),q}(q,K,j):function b(q,K){if(c.isBuffer(K)){var j=0|v(K.length);return 0===(q=D(q,j)).length||K.copy(q,0,0,j),q}if(K){if(typeof ArrayBuffer<"u"&&K.buffer instanceof ArrayBuffer||"length"in K)return"number"!=typeof K.length||function Ee(q){return q!=q}(K.length)?D(q,0):S(q,K);if("Buffer"===K.type&&R(K.data))return S(q,K.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(q,K)}function f(q){if("number"!=typeof q)throw new TypeError('"size" argument must be a number');if(q<0)throw new RangeError('"size" argument must not be negative')}function _(q,K){if(f(K),q=D(q,K<0?0:0|v(K)),!c.TYPED_ARRAY_SUPPORT)for(var j=0;j<K;++j)q[j]=0;return q}function S(q,K){var j=K.length<0?0:0|v(K.length);q=D(q,j);for(var $=0;$<j;$+=1)q[$]=255&K[$];return q}function v(q){if(q>=w())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w().toString(16)+" bytes");return 0|q}function y(q,K){if(c.isBuffer(q))return q.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(q)||q instanceof ArrayBuffer))return q.byteLength;"string"!=typeof q&&(q=""+q);var j=q.length;if(0===j)return 0;for(var $=!1;;)switch(K){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return V(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return te(q).length;default:if($)return V(q).length;K=(""+K).toLowerCase(),$=!0}}function g(q,K,j){var $=!1;if((void 0===K||K<0)&&(K=0),K>this.length||((void 0===j||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(K>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return J(this,K,j);case"utf8":case"utf-8":return Y(this,K,j);case"ascii":return oe(this,K,j);case"latin1":case"binary":return ye(this,K,j);case"base64":return x(this,K,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,K,j);default:if($)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),$=!0}}function A(q,K,j){var $=q[K];q[K]=q[j],q[j]=$}function E(q,K,j,$,ce){if(0===q.length)return-1;if("string"==typeof j?($=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,isNaN(j)&&(j=ce?0:q.length-1),j<0&&(j=q.length+j),j>=q.length){if(ce)return-1;j=q.length-1}else if(j<0){if(!ce)return-1;j=0}if("string"==typeof K&&(K=c.from(K,$)),c.isBuffer(K))return 0===K.length?-1:N(q,K,j,$,ce);if("number"==typeof K)return K&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ce?Uint8Array.prototype.indexOf.call(q,K,j):Uint8Array.prototype.lastIndexOf.call(q,K,j):N(q,[K],j,$,ce);throw new TypeError("val must be string, number or Buffer")}function N(q,K,j,$,ce){var Re,ue=1,be=q.length,we=K.length;if(void 0!==$&&("ucs2"===($=String($).toLowerCase())||"ucs-2"===$||"utf16le"===$||"utf-16le"===$)){if(q.length<2||K.length<2)return-1;ue=2,be/=2,we/=2,j/=2}function Pe(Ge,Ne){return 1===ue?Ge[Ne]:Ge.readUInt16BE(Ne*ue)}if(ce){var Ue=-1;for(Re=j;Re<be;Re++)if(Pe(q,Re)===Pe(K,-1===Ue?0:Re-Ue)){if(-1===Ue&&(Ue=Re),Re-Ue+1===we)return Ue*ue}else-1!==Ue&&(Re-=Re-Ue),Ue=-1}else for(j+we>be&&(j=be-we),Re=j;Re>=0;Re--){for(var Ce=!0,Oe=0;Oe<we;Oe++)if(Pe(q,Re+Oe)!==Pe(K,Oe)){Ce=!1;break}if(Ce)return Re}return-1}function G(q,K,j,$){j=Number(j)||0;var ce=q.length-j;$?($=Number($))>ce&&($=ce):$=ce;var ue=K.length;if(ue%2!=0)throw new TypeError("Invalid hex string");$>ue/2&&($=ue/2);for(var be=0;be<$;++be){var we=parseInt(K.substr(2*be,2),16);if(isNaN(we))return be;q[j+be]=we}return be}function ee(q,K,j,$){return me(V(K,q.length-j),q,j,$)}function Z(q,K,j,$){return me(function re(q){for(var K=[],j=0;j<q.length;++j)K.push(255&q.charCodeAt(j));return K}(K),q,j,$)}function le(q,K,j,$){return Z(q,K,j,$)}function H(q,K,j,$){return me(te(K),q,j,$)}function W(q,K,j,$){return me(function B(q,K){for(var j,$,ue=[],be=0;be<q.length&&!((K-=2)<0);++be)$=(j=q.charCodeAt(be))>>8,ue.push(j%256),ue.push($);return ue}(K,q.length-j),q,j,$)}function x(q,K,j){return T.fromByteArray(0===K&&j===q.length?q:q.slice(K,j))}function Y(q,K,j){j=Math.min(q.length,j);for(var $=[],ce=K;ce<j;){var Pe,Re,Ue,Ce,ue=q[ce],be=null,we=ue>239?4:ue>223?3:ue>191?2:1;if(ce+we<=j)switch(we){case 1:ue<128&&(be=ue);break;case 2:128==(192&(Pe=q[ce+1]))&&(Ce=(31&ue)<<6|63&Pe)>127&&(be=Ce);break;case 3:Re=q[ce+2],128==(192&(Pe=q[ce+1]))&&128==(192&Re)&&(Ce=(15&ue)<<12|(63&Pe)<<6|63&Re)>2047&&(Ce<55296||Ce>57343)&&(be=Ce);break;case 4:Re=q[ce+2],Ue=q[ce+3],128==(192&(Pe=q[ce+1]))&&128==(192&Re)&&128==(192&Ue)&&(Ce=(15&ue)<<18|(63&Pe)<<12|(63&Re)<<6|63&Ue)>65535&&Ce<1114112&&(be=Ce)}null===be?(be=65533,we=1):be>65535&&($.push((be-=65536)>>>10&1023|55296),be=56320|1023&be),$.push(be),ce+=we}return function ie(q){var K=q.length;if(K<=z)return String.fromCharCode.apply(String,q);for(var j="",$=0;$<K;)j+=String.fromCharCode.apply(String,q.slice($,$+=z));return j}($)}U.Buffer=c,U.SlowBuffer=function p(q){return+q!=q&&(q=0),c.alloc(+q)},U.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==M.TYPED_ARRAY_SUPPORT?M.TYPED_ARRAY_SUPPORT:function P(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===q.foo()&&"function"==typeof q.subarray&&0===q.subarray(1,1).byteLength}catch{return!1}}(),U.kMaxLength=w(),c.poolSize=8192,c._augment=function(q){return q.__proto__=c.prototype,q},c.from=function(q,K,j){return l(null,q,K,j)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(q,K,j){return function d(q,K,j,$){return f(K),K<=0?D(q,K):void 0!==j?"string"==typeof $?D(q,K).fill(j,$):D(q,K).fill(j):D(q,K)}(null,q,K,j)},c.allocUnsafe=function(q){return _(null,q)},c.allocUnsafeSlow=function(q){return _(null,q)},c.isBuffer=function(K){return!(null==K||!K._isBuffer)},c.compare=function(K,j){if(!c.isBuffer(K)||!c.isBuffer(j))throw new TypeError("Arguments must be Buffers");if(K===j)return 0;for(var $=K.length,ce=j.length,ue=0,be=Math.min($,ce);ue<be;++ue)if(K[ue]!==j[ue]){$=K[ue],ce=j[ue];break}return $<ce?-1:ce<$?1:0},c.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(K,j){if(!R(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return c.alloc(0);var $;if(void 0===j)for(j=0,$=0;$<K.length;++$)j+=K[$].length;var ce=c.allocUnsafe(j),ue=0;for($=0;$<K.length;++$){var be=K[$];if(!c.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(ce,ue),ue+=be.length}return ce},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<K;j+=2)A(this,j,j+1);return this},c.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<K;j+=4)A(this,j,j+3),A(this,j+1,j+2);return this},c.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<K;j+=8)A(this,j,j+7),A(this,j+1,j+6),A(this,j+2,j+5),A(this,j+3,j+4);return this},c.prototype.toString=function(){var K=0|this.length;return 0===K?"":0===arguments.length?Y(this,0,K):g.apply(this,arguments)},c.prototype.equals=function(K){if(!c.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K||0===c.compare(this,K)},c.prototype.inspect=function(){var K="",j=U.INSPECT_MAX_BYTES;return this.length>0&&(K=this.toString("hex",0,j).match(/.{2}/g).join(" "),this.length>j&&(K+=" ... ")),"<Buffer "+K+">"},c.prototype.compare=function(K,j,$,ce,ue){if(!c.isBuffer(K))throw new TypeError("Argument must be a Buffer");if(void 0===j&&(j=0),void 0===$&&($=K?K.length:0),void 0===ce&&(ce=0),void 0===ue&&(ue=this.length),j<0||$>K.length||ce<0||ue>this.length)throw new RangeError("out of range index");if(ce>=ue&&j>=$)return 0;if(ce>=ue)return-1;if(j>=$)return 1;if(this===K)return 0;for(var be=(ue>>>=0)-(ce>>>=0),we=($>>>=0)-(j>>>=0),Pe=Math.min(be,we),Re=this.slice(ce,ue),Ue=K.slice(j,$),Ce=0;Ce<Pe;++Ce)if(Re[Ce]!==Ue[Ce]){be=Re[Ce],we=Ue[Ce];break}return be<we?-1:we<be?1:0},c.prototype.includes=function(K,j,$){return-1!==this.indexOf(K,j,$)},c.prototype.indexOf=function(K,j,$){return E(this,K,j,$,!0)},c.prototype.lastIndexOf=function(K,j,$){return E(this,K,j,$,!1)},c.prototype.write=function(K,j,$,ce){if(void 0===j)ce="utf8",$=this.length,j=0;else if(void 0===$&&"string"==typeof j)ce=j,$=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j|=0,isFinite($)?($|=0,void 0===ce&&(ce="utf8")):(ce=$,$=void 0)}var ue=this.length-j;if((void 0===$||$>ue)&&($=ue),K.length>0&&($<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");for(var be=!1;;)switch(ce){case"hex":return G(this,K,j,$);case"utf8":case"utf-8":return ee(this,K,j,$);case"ascii":return Z(this,K,j,$);case"latin1":case"binary":return le(this,K,j,$);case"base64":return H(this,K,j,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,K,j,$);default:if(be)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),be=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;function oe(q,K,j){var $="";j=Math.min(q.length,j);for(var ce=K;ce<j;++ce)$+=String.fromCharCode(127&q[ce]);return $}function ye(q,K,j){var $="";j=Math.min(q.length,j);for(var ce=K;ce<j;++ce)$+=String.fromCharCode(q[ce]);return $}function J(q,K,j){var $=q.length;(!K||K<0)&&(K=0),(!j||j<0||j>$)&&(j=$);for(var ce="",ue=K;ue<j;++ue)ce+=F(q[ue]);return ce}function fe(q,K,j){for(var $=q.slice(K,j),ce="",ue=0;ue<$.length;ue+=2)ce+=String.fromCharCode($[ue]+256*$[ue+1]);return ce}function ae(q,K,j){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+K>j)throw new RangeError("Trying to access beyond buffer length")}function pe(q,K,j,$,ce,ue){if(!c.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>ce||K<ue)throw new RangeError('"value" argument is out of bounds');if(j+$>q.length)throw new RangeError("Index out of range")}function he(q,K,j,$){K<0&&(K=65535+K+1);for(var ce=0,ue=Math.min(q.length-j,2);ce<ue;++ce)q[j+ce]=(K&255<<8*($?ce:1-ce))>>>8*($?ce:1-ce)}function de(q,K,j,$){K<0&&(K=4294967295+K+1);for(var ce=0,ue=Math.min(q.length-j,4);ce<ue;++ce)q[j+ce]=K>>>8*($?ce:3-ce)&255}function ve(q,K,j,$,ce,ue){if(j+$>q.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function se(q,K,j,$,ce){return ce||ve(q,0,j,4),I.write(q,K,j,$,23,4),j+4}function Se(q,K,j,$,ce){return ce||ve(q,0,j,8),I.write(q,K,j,$,52,8),j+8}c.prototype.slice=function(K,j){var ce,$=this.length;if((K=~~K)<0?(K+=$)<0&&(K=0):K>$&&(K=$),(j=void 0===j?$:~~j)<0?(j+=$)<0&&(j=0):j>$&&(j=$),j<K&&(j=K),c.TYPED_ARRAY_SUPPORT)(ce=this.subarray(K,j)).__proto__=c.prototype;else{var ue=j-K;ce=new c(ue,void 0);for(var be=0;be<ue;++be)ce[be]=this[be+K]}return ce},c.prototype.readUIntLE=function(K,j,$){K|=0,j|=0,$||ae(K,j,this.length);for(var ce=this[K],ue=1,be=0;++be<j&&(ue*=256);)ce+=this[K+be]*ue;return ce},c.prototype.readUIntBE=function(K,j,$){K|=0,j|=0,$||ae(K,j,this.length);for(var ce=this[K+--j],ue=1;j>0&&(ue*=256);)ce+=this[K+--j]*ue;return ce},c.prototype.readUInt8=function(K,j){return j||ae(K,1,this.length),this[K]},c.prototype.readUInt16LE=function(K,j){return j||ae(K,2,this.length),this[K]|this[K+1]<<8},c.prototype.readUInt16BE=function(K,j){return j||ae(K,2,this.length),this[K]<<8|this[K+1]},c.prototype.readUInt32LE=function(K,j){return j||ae(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},c.prototype.readUInt32BE=function(K,j){return j||ae(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},c.prototype.readIntLE=function(K,j,$){K|=0,j|=0,$||ae(K,j,this.length);for(var ce=this[K],ue=1,be=0;++be<j&&(ue*=256);)ce+=this[K+be]*ue;return ce>=(ue*=128)&&(ce-=Math.pow(2,8*j)),ce},c.prototype.readIntBE=function(K,j,$){K|=0,j|=0,$||ae(K,j,this.length);for(var ce=j,ue=1,be=this[K+--ce];ce>0&&(ue*=256);)be+=this[K+--ce]*ue;return be>=(ue*=128)&&(be-=Math.pow(2,8*j)),be},c.prototype.readInt8=function(K,j){return j||ae(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},c.prototype.readInt16LE=function(K,j){j||ae(K,2,this.length);var $=this[K]|this[K+1]<<8;return 32768&$?4294901760|$:$},c.prototype.readInt16BE=function(K,j){j||ae(K,2,this.length);var $=this[K+1]|this[K]<<8;return 32768&$?4294901760|$:$},c.prototype.readInt32LE=function(K,j){return j||ae(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},c.prototype.readInt32BE=function(K,j){return j||ae(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},c.prototype.readFloatLE=function(K,j){return j||ae(K,4,this.length),I.read(this,K,!0,23,4)},c.prototype.readFloatBE=function(K,j){return j||ae(K,4,this.length),I.read(this,K,!1,23,4)},c.prototype.readDoubleLE=function(K,j){return j||ae(K,8,this.length),I.read(this,K,!0,52,8)},c.prototype.readDoubleBE=function(K,j){return j||ae(K,8,this.length),I.read(this,K,!1,52,8)},c.prototype.writeUIntLE=function(K,j,$,ce){K=+K,j|=0,$|=0,ce||pe(this,K,j,$,Math.pow(2,8*$)-1,0);var be=1,we=0;for(this[j]=255&K;++we<$&&(be*=256);)this[j+we]=K/be&255;return j+$},c.prototype.writeUIntBE=function(K,j,$,ce){K=+K,j|=0,$|=0,ce||pe(this,K,j,$,Math.pow(2,8*$)-1,0);var be=$-1,we=1;for(this[j+be]=255&K;--be>=0&&(we*=256);)this[j+be]=K/we&255;return j+$},c.prototype.writeUInt8=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,1,255,0),c.TYPED_ARRAY_SUPPORT||(K=Math.floor(K)),this[j]=255&K,j+1},c.prototype.writeUInt16LE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[j]=255&K,this[j+1]=K>>>8):he(this,K,j,!0),j+2},c.prototype.writeUInt16BE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[j]=K>>>8,this[j+1]=255&K):he(this,K,j,!1),j+2},c.prototype.writeUInt32LE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[j+3]=K>>>24,this[j+2]=K>>>16,this[j+1]=K>>>8,this[j]=255&K):de(this,K,j,!0),j+4},c.prototype.writeUInt32BE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[j]=K>>>24,this[j+1]=K>>>16,this[j+2]=K>>>8,this[j+3]=255&K):de(this,K,j,!1),j+4},c.prototype.writeIntLE=function(K,j,$,ce){if(K=+K,j|=0,!ce){var ue=Math.pow(2,8*$-1);pe(this,K,j,$,ue-1,-ue)}var be=0,we=1,Pe=0;for(this[j]=255&K;++be<$&&(we*=256);)K<0&&0===Pe&&0!==this[j+be-1]&&(Pe=1),this[j+be]=(K/we>>0)-Pe&255;return j+$},c.prototype.writeIntBE=function(K,j,$,ce){if(K=+K,j|=0,!ce){var ue=Math.pow(2,8*$-1);pe(this,K,j,$,ue-1,-ue)}var be=$-1,we=1,Pe=0;for(this[j+be]=255&K;--be>=0&&(we*=256);)K<0&&0===Pe&&0!==this[j+be+1]&&(Pe=1),this[j+be]=(K/we>>0)-Pe&255;return j+$},c.prototype.writeInt8=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,1,127,-128),c.TYPED_ARRAY_SUPPORT||(K=Math.floor(K)),K<0&&(K=255+K+1),this[j]=255&K,j+1},c.prototype.writeInt16LE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[j]=255&K,this[j+1]=K>>>8):he(this,K,j,!0),j+2},c.prototype.writeInt16BE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[j]=K>>>8,this[j+1]=255&K):he(this,K,j,!1),j+2},c.prototype.writeInt32LE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[j]=255&K,this[j+1]=K>>>8,this[j+2]=K>>>16,this[j+3]=K>>>24):de(this,K,j,!0),j+4},c.prototype.writeInt32BE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),c.TYPED_ARRAY_SUPPORT?(this[j]=K>>>24,this[j+1]=K>>>16,this[j+2]=K>>>8,this[j+3]=255&K):de(this,K,j,!1),j+4},c.prototype.writeFloatLE=function(K,j,$){return se(this,K,j,!0,$)},c.prototype.writeFloatBE=function(K,j,$){return se(this,K,j,!1,$)},c.prototype.writeDoubleLE=function(K,j,$){return Se(this,K,j,!0,$)},c.prototype.writeDoubleBE=function(K,j,$){return Se(this,K,j,!1,$)},c.prototype.copy=function(K,j,$,ce){if($||($=0),!ce&&0!==ce&&(ce=this.length),j>=K.length&&(j=K.length),j||(j=0),ce>0&&ce<$&&(ce=$),ce===$||0===K.length||0===this.length)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("sourceStart out of bounds");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),K.length-j<ce-$&&(ce=K.length-j+$);var be,ue=ce-$;if(this===K&&$<j&&j<ce)for(be=ue-1;be>=0;--be)K[be+j]=this[be+$];else if(ue<1e3||!c.TYPED_ARRAY_SUPPORT)for(be=0;be<ue;++be)K[be+j]=this[be+$];else Uint8Array.prototype.set.call(K,this.subarray($,$+ue),j);return ue},c.prototype.fill=function(K,j,$,ce){if("string"==typeof K){if("string"==typeof j?(ce=j,j=0,$=this.length):"string"==typeof $&&(ce=$,$=this.length),1===K.length){var ue=K.charCodeAt(0);ue<256&&(K=ue)}if(void 0!==ce&&"string"!=typeof ce)throw new TypeError("encoding must be a string");if("string"==typeof ce&&!c.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce)}else"number"==typeof K&&(K&=255);if(j<0||this.length<j||this.length<$)throw new RangeError("Out of range index");if($<=j)return this;var be;if(j>>>=0,$=void 0===$?this.length:$>>>0,K||(K=0),"number"==typeof K)for(be=j;be<$;++be)this[be]=K;else{var we=c.isBuffer(K)?K:V(new c(K,ce).toString()),Pe=we.length;for(be=0;be<$-j;++be)this[be+j]=we[be%Pe]}return this};var ge=/[^+\/0-9A-Za-z-_]/g;function F(q){return q<16?"0"+q.toString(16):q.toString(16)}function V(q,K){K=K||1/0;for(var j,$=q.length,ce=null,ue=[],be=0;be<$;++be){if((j=q.charCodeAt(be))>55295&&j<57344){if(!ce){if(j>56319){(K-=3)>-1&&ue.push(239,191,189);continue}if(be+1===$){(K-=3)>-1&&ue.push(239,191,189);continue}ce=j;continue}if(j<56320){(K-=3)>-1&&ue.push(239,191,189),ce=j;continue}j=65536+(ce-55296<<10|j-56320)}else ce&&(K-=3)>-1&&ue.push(239,191,189);if(ce=null,j<128){if((K-=1)<0)break;ue.push(j)}else if(j<2048){if((K-=2)<0)break;ue.push(j>>6|192,63&j|128)}else if(j<65536){if((K-=3)<0)break;ue.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((K-=4)<0)break;ue.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return ue}function te(q){return T.toByteArray(function ne(q){if((q=function X(q){return q.trim?q.trim():q.replace(/^\s+|\s+$/g,"")}(q).replace(ge,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(q))}function me(q,K,j,$){for(var ce=0;ce<$&&!(ce+j>=K.length||ce>=q.length);++ce)K[ce+j]=q[ce];return ce}}).call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":function(Ie,U,m){var M={parseBuffer:function(R){return new T(R).parse()},addBoxProcessor:function(R,P){"string"!=typeof R||"function"!=typeof P||(I.prototype._boxProcessors[R]=P)},createFile:function(){return new T},createBox:function(R,P,w){var D=I.create(R);return P&&P.append(D,w),D},createFullBox:function(R,P,w){var D=M.createBox(R,P,w);return D.version=0,D.flags=0,D},Utils:{}};M.Utils.dataViewToString=function(R,P){var w=P||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(w).decode(R);var D=[],c=0;if("utf-8"===w)for(;c<R.byteLength;){var l=R.getUint8(c++);l<128||(l<224?(l=(31&l)<<6,l|=63&R.getUint8(c++)):l<240?(l=(15&l)<<12,l|=(63&R.getUint8(c++))<<6,l|=63&R.getUint8(c++)):(l=(7&l)<<18,l|=(63&R.getUint8(c++))<<12,l|=(63&R.getUint8(c++))<<6,l|=63&R.getUint8(c++))),D.push(String.fromCharCode(l))}else for(;c<R.byteLength;)D.push(String.fromCharCode(R.getUint8(c++)));return D.join("")},M.Utils.utf8ToByteArray=function(R){var P,w;if(typeof TextEncoder<"u")P=(new TextEncoder).encode(R);else for(P=[],w=0;w<R.length;++w){var D=R.charCodeAt(w);D<128?P.push(D):D<2048?(P.push(192|D>>6),P.push(128|63&D)):D<65536?(P.push(224|D>>12),P.push(128|63&D>>6),P.push(128|63&D)):(P.push(240|D>>18),P.push(128|63&D>>12),P.push(128|63&D>>6),P.push(128|63&D))}return P},M.Utils.appendBox=function(R,P,w){if(P._offset=R._cursor.offset,P._root=R._root?R._root:R,P._raw=R._raw,P._parent=R,-1!==w){if(null==w)return void R.boxes.push(P);var c,D=-1;if("number"==typeof w)D=w;else{if("string"==typeof w)c=w;else{if("object"!=typeof w||!w.type)return void R.boxes.push(P);c=w.type}for(var l=0;l<R.boxes.length;l++)if(c===R.boxes[l].type){D=l+1;break}}R.boxes.splice(D,0,P)}},U.parseBuffer=M.parseBuffer,U.addBoxProcessor=M.addBoxProcessor,U.createFile=M.createFile,U.createBox=M.createBox,U.createFullBox=M.createFullBox,U.Utils=M.Utils,M.Cursor=function(R){this.offset=typeof R>"u"?0:R};var T=function(R){this._cursor=new M.Cursor,this.boxes=[],R&&(this._raw=new DataView(R))};T.prototype.fetch=function(R){var P=this.fetchAll(R,!0);return P.length?P[0]:null},T.prototype.fetchAll=function(R,P){var w=[];return T._sweep.call(this,R,w,P),w},T.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var R=I.parse(this);if(typeof R.type>"u")break;this.boxes.push(R)}return this},T._sweep=function(R,P,w){for(var D in this.type&&this.type==R&&P.push(this),this.boxes){if(P.length&&w)return;T._sweep.call(this.boxes[D],R,P,w)}},T.prototype.write=function(){var P,R=0;for(P=0;P<this.boxes.length;P++)R+=this.boxes[P].getLength(!1);var w=new Uint8Array(R);for(this._rawo=new DataView(w.buffer),this.bytes=w,this._cursor.offset=0,P=0;P<this.boxes.length;P++)this.boxes[P].write();return w.buffer},T.prototype.append=function(R,P){M.Utils.appendBox(this,R,P)};var I=function(){this._cursor=new M.Cursor};I.parse=function(R){var P=new I;return P._offset=R._cursor.offset,P._root=R._root?R._root:R,P._raw=R._raw,P._parent=R,P._parseBox(),R._cursor.offset=P._raw.byteOffset+P._raw.byteLength,P},I.create=function(R){var P=new I;return P.type=R,P.boxes=[],P},I.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],I.prototype._boxProcessors={},I.prototype._procField=function(R,P,w){this._parsing?this[R]=this._readField(P,w):this._writeField(P,w,this[R])},I.prototype._procFieldArray=function(R,P,w,D){var c;if(this._parsing)for(this[R]=[],c=0;c<P;c++)this[R][c]=this._readField(w,D);else for(c=0;c<this[R].length;c++)this._writeField(w,D,this[R][c])},I.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},I.prototype._procEntries=function(R,P,w){var D;if(this._parsing)for(this[R]=[],D=0;D<P;D++)this[R].push({}),w.call(this,this[R][D]);else for(D=0;D<P;D++)w.call(this,this[R][D])},I.prototype._procSubEntries=function(R,P,w,D){var c;if(this._parsing)for(R[P]=[],c=0;c<w;c++)R[P].push({}),D.call(this,R[P][c]);else for(c=0;c<w;c++)D.call(this,R[P][c])},I.prototype._procEntryField=function(R,P,w,D){this._parsing?R[P]=this._readField(w,D):this._writeField(w,D,R[P])},I.prototype._procSubBoxes=function(R,P){var w;if(this._parsing)for(this[R]=[],w=0;w<P;w++)this[R].push(I.parse(this));else for(w=0;w<P;w++)this._rawo?this[R][w].write():this.size+=this[R][w].getLength()},I.prototype._readField=function(R,P){switch(R){case"uint":return this._readUint(P);case"int":return this._readInt(P);case"template":return this._readTemplate(P);case"string":return-1===P?this._readTerminatedString():this._readString(P);case"data":return this._readData(P);case"utf8":return this._readUTF8String();default:return-1}},I.prototype._readInt=function(R){var P=null,w=this._cursor.offset-this._raw.byteOffset;switch(R){case 8:P=this._raw.getInt8(w);break;case 16:P=this._raw.getInt16(w);break;case 32:P=this._raw.getInt32(w);break;case 64:var D=this._raw.getInt32(w),c=this._raw.getInt32(w+4);P=D*Math.pow(2,32)+c}return this._cursor.offset+=R>>3,P},I.prototype._readUint=function(R){var D,c,P=null,w=this._cursor.offset-this._raw.byteOffset;switch(R){case 8:P=this._raw.getUint8(w);break;case 16:P=this._raw.getUint16(w);break;case 24:P=((D=this._raw.getUint16(w))<<8)+(c=this._raw.getUint8(w+2));break;case 32:P=this._raw.getUint32(w);break;case 64:D=this._raw.getUint32(w),c=this._raw.getUint32(w+4),P=D*Math.pow(2,32)+c}return this._cursor.offset+=R>>3,P},I.prototype._readString=function(R){for(var P="",w=0;w<R;w++){var D=this._readUint(8);P+=String.fromCharCode(D)}return P},I.prototype._readTemplate=function(R){return this._readUint(R/2)+this._readUint(R/2)/Math.pow(2,R/2)},I.prototype._readTerminatedString=function(){for(var R="";this._cursor.offset-this._offset<this._raw.byteLength;){var P=this._readUint(8);if(0===P)break;R+=String.fromCharCode(P)}return R},I.prototype._readData=function(R){var P=R>0?R:this._raw.byteLength-(this._cursor.offset-this._offset);if(P>0){var w=new Uint8Array(this._raw.buffer,this._cursor.offset,P);return this._cursor.offset+=P,w}return null},I.prototype._readUTF8String=function(){var R=this._raw.byteLength-(this._cursor.offset-this._offset),P=null;return R>0&&(P=new DataView(this._raw.buffer,this._cursor.offset,R),this._cursor.offset+=R),P&&M.Utils.dataViewToString(P)},I.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},I.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},I.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(I.parse(this))},I.prototype.append=function(R,P){M.Utils.appendBox(this,R,P)},I.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var R=0;R<this.boxes.length;R++)this.size+=this.boxes[R].getLength();return this._data&&this._writeData(this._data),this.size},I.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var R=0;R<this.boxes.length;R++)this.boxes[R].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},I.prototype._writeInt=function(R,P){if(this._rawo){var w=this._cursor.offset-this._rawo.byteOffset;switch(R){case 8:this._rawo.setInt8(w,P);break;case 16:this._rawo.setInt16(w,P);break;case 32:this._rawo.setInt32(w,P);break;case 64:var D=Math.floor(P/Math.pow(2,32)),c=P-D*Math.pow(2,32);this._rawo.setUint32(w,D),this._rawo.setUint32(w+4,c)}this._cursor.offset+=R>>3}else this.size+=R>>3},I.prototype._writeUint=function(R,P){if(this._rawo){var D,c,w=this._cursor.offset-this._rawo.byteOffset;switch(R){case 8:this._rawo.setUint8(w,P);break;case 16:this._rawo.setUint16(w,P);break;case 24:c=255&P,this._rawo.setUint16(w,D=(16776960&P)>>8),this._rawo.setUint8(w+2,c);break;case 32:this._rawo.setUint32(w,P);break;case 64:c=P-(D=Math.floor(P/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(w,D),this._rawo.setUint32(w+4,c)}this._cursor.offset+=R>>3}else this.size+=R>>3},I.prototype._writeString=function(R,P){for(var w=0;w<R;w++)this._writeUint(8,P.charCodeAt(w))},I.prototype._writeTerminatedString=function(R){if(0!==R.length){for(var P=0;P<R.length;P++)this._writeUint(8,R.charCodeAt(P));this._writeUint(8,0)}},I.prototype._writeTemplate=function(R,P){var w=Math.floor(P),D=(P-w)*Math.pow(2,R/2);this._writeUint(R/2,w),this._writeUint(R/2,D)},I.prototype._writeData=function(R){if(R)if(this._rawo){if(R instanceof Array){for(var w=this._cursor.offset-this._rawo.byteOffset,P=0;P<R.length;P++)this._rawo.setInt8(w+P,R[P]);this._cursor.offset+=R.length}R instanceof Uint8Array&&(this._root.bytes.set(R,this._cursor.offset),this._cursor.offset+=R.length)}else this.size+=R.length},I.prototype._writeUTF8String=function(R){var P=M.Utils.utf8ToByteArray(R);if(this._rawo)for(var w=new DataView(this._rawo.buffer,this._cursor.offset,P.length),D=0;D<P.length;D++)w.setUint8(D,P[D]);else this.size+=P.length},I.prototype._writeField=function(R,P,w){switch(R){case"uint":this._writeUint(P,w);break;case"int":this._writeInt(P,w);break;case"template":this._writeTemplate(P,w);break;case"string":-1==P?this._writeTerminatedString(w):this._writeString(P,w);break;case"data":this._writeData(w);break;case"utf8":this._writeUTF8String(w)}},I.prototype._boxProcessors.avc1=I.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},I.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(R){this._procEntryField(R,"segment_duration","uint",1===this.version?64:32),this._procEntryField(R,"media_time","int",1===this.version?64:32),this._procEntryField(R,"media_rate_integer","int",16),this._procEntryField(R,"media_rate_fraction","int",16)})},I.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},I.prototype._boxProcessors.free=I.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},I.prototype._boxProcessors.ftyp=I.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var R=-1;this._parsing&&(R=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",R,"string",4)},I.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},I.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},I.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},I.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},I.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},I.prototype._boxProcessors.mp4a=I.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},I.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},I.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},I.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},I.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},I.prototype._boxProcessors.sdtp=function(){this._procFullBox();var R=-1;this._parsing&&(R=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",R,"uint",8)},I.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(R){this._parsing||(R.reference=(1&R.reference_type)<<31,R.reference|=2147483647&R.referenced_size,R.sap=(1&R.starts_with_SAP)<<31,R.sap|=(3&R.SAP_type)<<28,R.sap|=268435455&R.SAP_delta_time),this._procEntryField(R,"reference","uint",32),this._procEntryField(R,"subsegment_duration","uint",32),this._procEntryField(R,"sap","uint",32),this._parsing&&(R.reference_type=R.reference>>31&1,R.referenced_size=2147483647&R.reference,R.starts_with_SAP=R.sap>>31&1,R.SAP_type=R.sap>>28&7,R.SAP_delta_time=268435455&R.sap)})},I.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},I.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(R){this._procEntryField(R,"ranges_count","uint",32),this._procSubEntries(R,"ranges",R.ranges_count,function(P){this._procEntryField(P,"level","uint",8),this._procEntryField(P,"range_size","uint",24)})})},I.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(R){this._procEntryField(R,"sample_delta","uint",32),this._procEntryField(R,"subsample_count","uint",16),this._procSubEntries(R,"subsamples",R.subsample_count,function(P){this._procEntryField(P,"subsample_size","uint",1===this.version?32:16),this._procEntryField(P,"subsample_priority","uint",8),this._procEntryField(P,"discardable","uint",8),this._procEntryField(P,"codec_specific_parameters","uint",32)})})},I.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},I.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},I.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(R){this._procEntryField(R,"time","uint",1===this.version?64:32),this._procEntryField(R,"moof_offset","uint",1===this.version?64:32),this._procEntryField(R,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(R,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(R,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},I.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},I.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(R){256&this.flags&&this._procEntryField(R,"sample_duration","uint",32),512&this.flags&&this._procEntryField(R,"sample_size","uint",32),1024&this.flags&&this._procEntryField(R,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(R,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},I.prototype._boxProcessors["url "]=I.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},I.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},I.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},I.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},I.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":function(Ie,U,m){function O(b){return Object.prototype.toString.call(b)}U.isArray=function M(b){return Array.isArray?Array.isArray(b):"[object Array]"===O(b)},U.isBoolean=function T(b){return"boolean"==typeof b},U.isNull=function I(b){return null===b},U.isNullOrUndefined=function R(b){return null==b},U.isNumber=function P(b){return"number"==typeof b},U.isString=function w(b){return"string"==typeof b},U.isSymbol=function D(b){return"symbol"==typeof b},U.isUndefined=function c(b){return void 0===b},U.isRegExp=function l(b){return"[object RegExp]"===O(b)},U.isObject=function f(b){return"object"==typeof b&&null!==b},U.isDate=function d(b){return"[object Date]"===O(b)},U.isError=function _(b){return"[object Error]"===O(b)||b instanceof Error},U.isFunction=function L(b){return"function"==typeof b},U.isPrimitive=function S(b){return null===b||"boolean"==typeof b||"number"==typeof b||"string"==typeof b||"symbol"==typeof b||typeof b>"u"},U.isBuffer=m("./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":function(Ie,U,m){"use strict";Ie.exports=m("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":function(Ie,U,m){(function(M,T){var R;R=function(){"use strict";function R(ue){return"function"==typeof ue}var w=Array.isArray?Array.isArray:function(ue){return"[object Array]"===Object.prototype.toString.call(ue)},D=0,c=void 0,l=void 0,f=function(be,we){N[D]=be,N[D+1]=we,2===(D+=2)&&(l?l(G):Z())};var L=typeof window<"u"?window:void 0,S=L||{},O=S.MutationObserver||S.WebKitMutationObserver,b=typeof self>"u"&&typeof M<"u"&&"[object process]"==={}.toString.call(M),v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function E(){var ue=setTimeout;return function(){return ue(G,1)}}var N=new Array(1e3);function G(){for(var ue=0;ue<D;ue+=2)(0,N[ue])(N[ue+1]),N[ue]=void 0,N[ue+1]=void 0;D=0}var Z=void 0;function le(ue,be){var we=this,Pe=new this.constructor(x);void 0===Pe[W]&&re(Pe);var Re=we._state;if(Re){var Ue=arguments[Re-1];f(function(){return ne(Re,Pe,Ue,we._result)})}else Se(we,Pe,ue,be);return Pe}function H(ue){if(ue&&"object"==typeof ue&&ue.constructor===this)return ue;var we=new this(x);return he(we,ue),we}Z=b?function p(){return function(){return M.nextTick(G)}}():O?function g(){var ue=0,be=new O(G),we=document.createTextNode("");return be.observe(we,{characterData:!0}),function(){we.data=ue=++ue%2}}():v?function A(){var ue=new MessageChannel;return ue.port1.onmessage=G,function(){return ue.port2.postMessage(0)}}():void 0===L?function ee(){try{var ue=Function("return this")().require("vertx");return c=ue.runOnLoop||ue.runOnContext,function y(){return typeof c<"u"?function(){c(G)}:E()}()}catch{return E()}}():E();var W=Math.random().toString(36).substring(2);function x(){}var Y=void 0;function pe(ue,be,we){be.constructor===ue.constructor&&we===le&&be.constructor.resolve===H?function ae(ue,be){1===be._state?ve(ue,be._result):2===be._state?se(ue,be._result):Se(be,void 0,function(we){return he(ue,we)},function(we){return se(ue,we)})}(ue,be):void 0===we?ve(ue,be):R(we)?function fe(ue,be,we){f(function(Pe){var Re=!1,Ue=function J(ue,be,we,Pe){try{ue.call(be,we,Pe)}catch(Re){return Re}}(we,be,function(Ce){Re||(Re=!0,be!==Ce?he(Pe,Ce):ve(Pe,Ce))},function(Ce){Re||(Re=!0,se(Pe,Ce))});!Re&&Ue&&(Re=!0,se(Pe,Ue))},ue)}(ue,be,we):ve(ue,be)}function he(ue,be){if(ue===be)se(ue,function oe(){return new TypeError("You cannot resolve a promise with itself")}());else if(function I(ue){var be=typeof ue;return null!==ue&&("object"===be||"function"===be)}(be)){var we=void 0;try{we=be.then}catch(Pe){return void se(ue,Pe)}pe(ue,be,we)}else ve(ue,be)}function de(ue){ue._onerror&&ue._onerror(ue._result),ge(ue)}function ve(ue,be){ue._state===Y&&(ue._result=be,ue._state=1,0!==ue._subscribers.length&&f(ge,ue))}function se(ue,be){ue._state===Y&&(ue._state=2,ue._result=be,f(de,ue))}function Se(ue,be,we,Pe){var Re=ue._subscribers,Ue=Re.length;ue._onerror=null,Re[Ue]=be,Re[Ue+1]=we,Re[Ue+2]=Pe,0===Ue&&ue._state&&f(ge,ue)}function ge(ue){var be=ue._subscribers,we=ue._state;if(0!==be.length){for(var Pe=void 0,Re=void 0,Ue=ue._result,Ce=0;Ce<be.length;Ce+=3)Re=be[Ce+we],(Pe=be[Ce])?ne(we,Pe,Re,Ue):Re(Ue);ue._subscribers.length=0}}function ne(ue,be,we,Pe){var Re=R(we),Ue=void 0,Ce=void 0,Oe=!0;if(Re){try{Ue=we(Pe)}catch(Ge){Oe=!1,Ce=Ge}if(be===Ue)return void se(be,function ye(){return new TypeError("A promises callback cannot return that same promise.")}())}else Ue=Pe;be._state!==Y||(Re&&Oe?he(be,Ue):!1===Oe?se(be,Ce):1===ue?ve(be,Ue):2===ue&&se(be,Ue))}var F=0;function re(ue){ue[W]=F++,ue._state=void 0,ue._result=void 0,ue._subscribers=[]}var te=function(){function ue(be,we){this._instanceConstructor=be,this.promise=new be(x),this.promise[W]||re(this.promise),w(we)?(this.length=we.length,this._remaining=we.length,this._result=new Array(this.length),0===this.length?ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(we),0===this._remaining&&ve(this.promise,this._result))):se(this.promise,function B(){return new Error("Array Methods must be provided an Array")}())}return ue.prototype._enumerate=function(we){for(var Pe=0;this._state===Y&&Pe<we.length;Pe++)this._eachEntry(we[Pe],Pe)},ue.prototype._eachEntry=function(we,Pe){var Re=this._instanceConstructor,Ue=Re.resolve;if(Ue===H){var Ce=void 0,Oe=void 0,Ge=!1;try{Ce=we.then}catch($e){Ge=!0,Oe=$e}if(Ce===le&&we._state!==Y)this._settledAt(we._state,Pe,we._result);else if("function"!=typeof Ce)this._remaining--,this._result[Pe]=we;else if(Re===$){var Ne=new Re(x);Ge?se(Ne,Oe):pe(Ne,we,Ce),this._willSettleAt(Ne,Pe)}else this._willSettleAt(new Re(function($e){return $e(we)}),Pe)}else this._willSettleAt(Ue(we),Pe)},ue.prototype._settledAt=function(we,Pe,Re){var Ue=this.promise;Ue._state===Y&&(this._remaining--,2===we?se(Ue,Re):this._result[Pe]=Re),0===this._remaining&&ve(Ue,this._result)},ue.prototype._willSettleAt=function(we,Pe){var Re=this;Se(we,void 0,function(Ue){return Re._settledAt(1,Pe,Ue)},function(Ue){return Re._settledAt(2,Pe,Ue)})},ue}();var $=function(){function ue(be){this[W]=function V(){return F++}(),this._result=this._state=void 0,this._subscribers=[],x!==be&&("function"!=typeof be&&function K(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ue?function X(ue,be){try{be(function(Pe){he(ue,Pe)},function(Pe){se(ue,Pe)})}catch(we){se(ue,we)}}(this,be):function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ue.prototype.catch=function(we){return this.then(null,we)},ue.prototype.finally=function(we){var Re=this.constructor;return R(we)?this.then(function(Ue){return Re.resolve(we()).then(function(){return Ue})},function(Ue){return Re.resolve(we()).then(function(){throw Ue})}):this.then(we,we)},ue}();return $.prototype.then=le,$.all=function me(ue){return new te(this,ue).promise},$.race=function Ee(ue){var be=this;return w(ue)?new be(function(we,Pe){for(var Re=ue.length,Ue=0;Ue<Re;Ue++)be.resolve(ue[Ue]).then(we,Pe)}):new be(function(we,Pe){return Pe(new TypeError("You must pass an array to race."))})},$.resolve=H,$.reject=function q(ue){var we=new this(x);return se(we,ue),we},$._setScheduler=function d(ue){l=ue},$._setAsap=function _(ue){f=ue},$._asap=f,$.polyfill=function ce(){var ue=void 0;if(typeof T<"u")ue=T;else if(typeof self<"u")ue=self;else try{ue=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var be=ue.Promise;if(be){var we=null;try{we=Object.prototype.toString.call(be.resolve())}catch{}if("[object Promise]"===we&&!be.cast)return}ue.Promise=$},$.Promise=$,$},Ie.exports=R()}).call(this,m("./node_modules/process/browser.js"),m("./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":function(Ie,U,m){"use strict";var I,M="object"==typeof Reflect?Reflect:null,T=M&&"function"==typeof M.apply?M.apply:function(E,N,G){return Function.prototype.apply.call(E,N,G)};I=M&&"function"==typeof M.ownKeys?M.ownKeys:Object.getOwnPropertySymbols?function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:function(E){return Object.getOwnPropertyNames(E)};var P=Number.isNaN||function(E){return E!=E};function w(){w.init.call(this)}Ie.exports=w,Ie.exports.once=function p(A,E){return new Promise(function(N,G){function ee(le){A.removeListener(E,Z),G(le)}function Z(){"function"==typeof A.removeListener&&A.removeListener("error",ee),N([].slice.call(arguments))}g(A,E,Z,{once:!0}),"error"!==E&&function y(A,E,N){"function"==typeof A.on&&g(A,"error",E,N)}(A,ee,{once:!0})})},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var D=10;function c(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function l(A){return void 0===A._maxListeners?w.defaultMaxListeners:A._maxListeners}function f(A,E,N,G){var ee,Z,le;if(c(N),void 0===(Z=A._events)?(Z=A._events=Object.create(null),A._eventsCount=0):(void 0!==Z.newListener&&(A.emit("newListener",E,N.listener?N.listener:N),Z=A._events),le=Z[E]),void 0===le)le=Z[E]=N,++A._eventsCount;else if("function"==typeof le?le=Z[E]=G?[N,le]:[le,N]:G?le.unshift(N):le.push(N),(ee=l(A))>0&&le.length>ee&&!le.warned){le.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=A,H.type=E,H.count=le.length,function R(A){console&&console.warn&&console.warn(A)}(H)}return A}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(A,E,N){var G={fired:!1,wrapFn:void 0,target:A,type:E,listener:N},ee=d.bind(G);return ee.listener=N,G.wrapFn=ee,ee}function L(A,E,N){var G=A._events;if(void 0===G)return[];var ee=G[E];return void 0===ee?[]:"function"==typeof ee?N?[ee.listener||ee]:[ee]:N?function v(A){for(var E=new Array(A.length),N=0;N<E.length;++N)E[N]=A[N].listener||A[N];return E}(ee):O(ee,ee.length)}function S(A){var E=this._events;if(void 0!==E){var N=E[A];if("function"==typeof N)return 1;if(void 0!==N)return N.length}return 0}function O(A,E){for(var N=new Array(E),G=0;G<E;++G)N[G]=A[G];return N}function g(A,E,N,G){if("function"==typeof A.on)G.once?A.once(E,N):A.on(E,N);else{if("function"!=typeof A.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A);A.addEventListener(E,function ee(Z){G.once&&A.removeEventListener(E,ee),N(Z)})}}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(A){if("number"!=typeof A||A<0||P(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");D=A}}),w.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(E){if("number"!=typeof E||E<0||P(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this},w.prototype.getMaxListeners=function(){return l(this)},w.prototype.emit=function(E){for(var N=[],G=1;G<arguments.length;G++)N.push(arguments[G]);var ee="error"===E,Z=this._events;if(void 0!==Z)ee=ee&&void 0===Z.error;else if(!ee)return!1;if(ee){var le;if(N.length>0&&(le=N[0]),le instanceof Error)throw le;var H=new Error("Unhandled error."+(le?" ("+le.message+")":""));throw H.context=le,H}var W=Z[E];if(void 0===W)return!1;if("function"==typeof W)T(W,this,N);else{var x=W.length,Y=O(W,x);for(G=0;G<x;++G)T(Y[G],this,N)}return!0},w.prototype.on=w.prototype.addListener=function(E,N){return f(this,E,N,!1)},w.prototype.prependListener=function(E,N){return f(this,E,N,!0)},w.prototype.once=function(E,N){return c(N),this.on(E,_(this,E,N)),this},w.prototype.prependOnceListener=function(E,N){return c(N),this.prependListener(E,_(this,E,N)),this},w.prototype.off=w.prototype.removeListener=function(E,N){var G,ee,Z,le,H;if(c(N),void 0===(ee=this._events))return this;if(void 0===(G=ee[E]))return this;if(G===N||G.listener===N)0==--this._eventsCount?this._events=Object.create(null):(delete ee[E],ee.removeListener&&this.emit("removeListener",E,G.listener||N));else if("function"!=typeof G){for(Z=-1,le=G.length-1;le>=0;le--)if(G[le]===N||G[le].listener===N){H=G[le].listener,Z=le;break}if(Z<0)return this;0===Z?G.shift():function b(A,E){for(;E+1<A.length;E++)A[E]=A[E+1];A.pop()}(G,Z),1===G.length&&(ee[E]=G[0]),void 0!==ee.removeListener&&this.emit("removeListener",E,H||N)}return this},w.prototype.removeAllListeners=function(E){var N,G,ee;if(void 0===(G=this._events))return this;if(void 0===G.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==G[E]&&(0==--this._eventsCount?this._events=Object.create(null):delete G[E]),this;if(0===arguments.length){var le,Z=Object.keys(G);for(ee=0;ee<Z.length;++ee)"removeListener"!==(le=Z[ee])&&this.removeAllListeners(le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(N=G[E]))this.removeListener(E,N);else if(void 0!==N)for(ee=N.length-1;ee>=0;ee--)this.removeListener(E,N[ee]);return this},w.prototype.listeners=function(E){return L(this,E,!0)},w.prototype.rawListeners=function(E){return L(this,E,!1)},w.listenerCount=function(A,E){return"function"==typeof A.listenerCount?A.listenerCount(E):S.call(A,E)},w.prototype.listenerCount=S,w.prototype.eventNames=function(){return this._eventsCount>0?I(this._events):[]}},"./node_modules/fast-deep-equal/index.js":function(Ie,U,m){"use strict";var M=Array.isArray,T=Object.keys,I=Object.prototype.hasOwnProperty;Ie.exports=function R(P,w){if(P===w)return!0;if(P&&w&&"object"==typeof P&&"object"==typeof w){var l,f,d,D=M(P),c=M(w);if(D&&c){if((f=P.length)!=w.length)return!1;for(l=f;0!=l--;)if(!R(P[l],w[l]))return!1;return!0}if(D!=c)return!1;var _=P instanceof Date,L=w instanceof Date;if(_!=L)return!1;if(_&&L)return P.getTime()==w.getTime();var S=P instanceof RegExp,O=w instanceof RegExp;if(S!=O)return!1;if(S&&O)return P.toString()==w.toString();var b=T(P);if((f=b.length)!==T(w).length)return!1;for(l=f;0!=l--;)if(!I.call(w,b[l]))return!1;for(l=f;0!=l--;)if(!R(P[d=b[l]],w[d]))return!1;return!0}return P!=P&&w!=w}},"./node_modules/ieee754/index.js":function(Ie,U){U.read=function(m,M,T,I,R){var P,w,D=8*R-I-1,c=(1<<D)-1,l=c>>1,f=-7,d=T?R-1:0,_=T?-1:1,L=m[M+d];for(d+=_,P=L&(1<<-f)-1,L>>=-f,f+=D;f>0;P=256*P+m[M+d],d+=_,f-=8);for(w=P&(1<<-f)-1,P>>=-f,f+=I;f>0;w=256*w+m[M+d],d+=_,f-=8);if(0===P)P=1-l;else{if(P===c)return w?NaN:1/0*(L?-1:1);w+=Math.pow(2,I),P-=l}return(L?-1:1)*w*Math.pow(2,P-I)},U.write=function(m,M,T,I,R,P){var w,D,c,l=8*P-R-1,f=(1<<l)-1,d=f>>1,_=23===R?Math.pow(2,-24)-Math.pow(2,-77):0,L=I?0:P-1,S=I?1:-1,O=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(D=isNaN(M)?1:0,w=f):(w=Math.floor(Math.log(M)/Math.LN2),M*(c=Math.pow(2,-w))<1&&(w--,c*=2),(M+=w+d>=1?_/c:_*Math.pow(2,1-d))*c>=2&&(w++,c/=2),w+d>=f?(D=0,w=f):w+d>=1?(D=(M*c-1)*Math.pow(2,R),w+=d):(D=M*Math.pow(2,d-1)*Math.pow(2,R),w=0));R>=8;m[T+L]=255&D,L+=S,D/=256,R-=8);for(w=w<<R|D,l+=R;l>0;m[T+L]=255&w,L+=S,w/=256,l-=8);m[T+L-S]|=128*O}},"./node_modules/imsc/src/main/js/doc.js":function(Ie,U,m){!function(M,T,I,R,P){function w(B){if("contents"in B)for(var te=("styleAttrs"in B?B.styleAttrs[R.byName.ruby.qname]:null),me="span"===B.kind&&("container"===te||"textContainer"===te||"baseContainer"===te),Ee=B.contents.length-1;Ee>=0;Ee--)!me||"styleAttrs"in B.contents[Ee]&&R.byName.ruby.qname in B.contents[Ee].styleAttrs?w(B.contents[Ee]):delete B.contents[Ee]}function D(B,te,me,Ee){var q=Ee&&"seq"===Ee.timeContainer,K=0;Ee&&(K=q&&me?me.end:Ee.begin),te.begin=te.explicit_begin?te.explicit_begin+K:K;var j=te.begin,$=null;if("sets"in te)for(var ce=0;ce<te.sets.length;ce++)D(B,te.sets[ce],$,te),j="seq"===te.timeContainer?te.sets[ce].end:Math.max(j,te.sets[ce].end),$=te.sets[ce];if("contents"in te){if("contents"in te)for(var ue=0;ue<te.contents.length;ue++)D(B,te.contents[ue],$,te),j="seq"===te.timeContainer?te.contents[ue].end:Math.max(j,te.contents[ue].end),$=te.contents[ue]}else j=q?te.begin:Number.POSITIVE_INFINITY;te.end=null!==te.explicit_end&&null!==te.explicit_dur?Math.min(te.begin+te.explicit_dur,K+te.explicit_end):null===te.explicit_end&&null!==te.explicit_dur?te.begin+te.explicit_dur:null!==te.explicit_end&&null===te.explicit_dur?K+te.explicit_end:j,delete te.explicit_begin,delete te.explicit_dur,delete te.explicit_end,B._registerEvent(te)}function c(B){this.node=B}function l(){this.events=[],this.head=new f,this.body=null}function f(){this.styling=new d,this.layout=new S}function d(){this.styles={},this.initials={}}function _(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function L(){this.styleAttrs=null}function S(){this.regions={}}function O(B,te){b.call(this,"image"),this.src=B,this.type=te}function b(B){this.kind=B}function v(B){this.id=B}function p(B){this.regionID=B}function y(B){this.styleAttrs=B}function g(B){this.sets=B}function A(B){this.contents=B}function E(B,te,me){this.explicit_begin=B,this.explicit_end=te,this.explicit_dur=me}function N(){b.call(this,"body")}function G(){b.call(this,"div")}function ee(){b.call(this,"p")}function Z(){b.call(this,"span")}function le(){b.call(this,"span")}function H(){b.call(this,"br")}function W(){}function x(){}function Y(B){return B&&"xml:id"in B.attributes&&B.attributes["xml:id"].value||null}function oe(B){return B&&"style"in B.attributes?B.attributes.style.value.split(" "):[]}function ye(B,te){var me={};if(null!==B)for(var Ee in B.attributes){var q=B.attributes[Ee].uri+" "+B.attributes[Ee].local,K=R.byQName[q];if(void 0!==K){var j=K.parse(B.attributes[Ee].value);null!==j?(me[q]=j,K===R.byName.zIndex&&X(te,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):F(te,"Cannot parse styling attribute "+q+" --\x3e "+B.attributes[Ee].value)}}return me}function J(B,te,me){for(var Ee in B.attributes)if(B.attributes[Ee].uri===te&&B.attributes[Ee].local===me)return B.attributes[Ee].value;return null}function de(B,te,me){var we,Pe=null;return null!==(we=/^(\d+(?:\.\d+)?)f$/.exec(me))?null!==te&&(Pe=parseFloat(we[1])/te):null!==(we=/^(\d+(?:\.\d+)?)t$/.exec(me))?null!==B&&(Pe=parseFloat(we[1])/B):null!==(we=/^(\d+(?:\.\d+)?)ms$/.exec(me))?Pe=parseFloat(we[1])/1e3:null!==(we=/^(\d+(?:\.\d+)?)s$/.exec(me))?Pe=parseFloat(we[1]):null!==(we=/^(\d+(?:\.\d+)?)h$/.exec(me))?Pe=3600*parseFloat(we[1]):null!==(we=/^(\d+(?:\.\d+)?)m$/.exec(me))?Pe=60*parseFloat(we[1]):null!==(we=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(me))?Pe=3600*parseInt(we[1])+60*parseInt(we[2])+parseFloat(we[3]):null!==(we=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(me))&&null!==te&&(Pe=3600*parseInt(we[1])+60*parseInt(we[2])+parseInt(we[3])+(null===we[4]?0:parseInt(we[4])/te)),Pe}function se(B,te,me){for(;te.styleRefs.length>0;){var Ee=te.styleRefs.pop();Ee in B.styles?(se(B,B.styles[Ee],me),ge(B.styles[Ee].styleAttrs,te.styleAttrs)):F(me,"Non-existant style id referenced")}}function Se(B,te,me,Ee){for(var q=te.length-1;q>=0;q--){var K=te[q];K in B.styles?ge(B.styles[K].styleAttrs,me):F(Ee,"Non-existant style id referenced")}}function ge(B,te){for(var me in B)!B.hasOwnProperty(me)||me in te||(te[me]=B[me])}function X(B,te){if(B&&B.warn&&B.warn(te))throw te}function F(B,te){if(B&&B.error&&B.error(te))throw te}function V(B,te){throw B&&B.fatal&&B.fatal(te),te}function re(B,te){for(var q,me=0,Ee=B.length-1;me<=Ee;){var K=B[q=Math.floor((me+Ee)/2)];if(K<te)me=q+1;else{if(!(K>te))return{found:!0,index:q};Ee=q-1}}return{found:!1,index:me}}M.fromXML=function(B,te,me){var Ee=T.parser(!0,{xmlns:!0}),q=[],K=[],j=[],$=0,ce=null;Ee.onclosetag=function(Re){if(q[0]instanceof W)null!==ce.head&&null!==ce.head.styling&&Se(ce.head.styling,q[0].styleRefs,q[0].styleAttrs,te),delete q[0].styleRefs;else if(q[0]instanceof d)for(var Ue in q[0].styles)!q[0].styles.hasOwnProperty(Ue)||se(q[0],q[0].styles[Ue],te);else if(q[0]instanceof ee||q[0]instanceof Z){if(q[0].contents.length>1){var Oe,Ce=[q[0].contents[0]];for(Oe=1;Oe<q[0].contents.length;Oe++)q[0].contents[Oe]instanceof le&&Ce[Ce.length-1]instanceof le?Ce[Ce.length-1].text+=q[0].contents[Oe].text:Ce.push(q[0].contents[Oe]);q[0].contents=Ce}q[0]instanceof Z&&1===q[0].contents.length&&q[0].contents[0]instanceof le&&(q[0].text=q[0].contents[0].text,delete q[0].contents)}else q[0]instanceof c&&(q[0].node.uri===I.ns_tt&&"metadata"===q[0].node.local?$--:$>0&&me&&"onCloseTag"in me&&me.onCloseTag());j.shift(),K.shift(),q.shift()},Ee.ontext=function(Re){if(void 0!==q[0])if(q[0]instanceof Z||q[0]instanceof ee){if(q[0]instanceof Z){var Ue=q[0].styleAttrs[R.byName.ruby.qname];if("container"===Ue||"textContainer"===Ue||"baseContainer"===Ue)return}var Ce=new le;Ce.initFromText(ce,q[0],Re,K[0],j[0],te),q[0].contents.push(Ce)}else q[0]instanceof c&&$>0&&me&&"onText"in me&&me.onText(Re)},Ee.onopentag=function(Re){var Ue=Re.attributes["xml:space"];j.unshift(Ue?Ue.value:0===j.length?"default":j[0]);var Ce=Re.attributes["xml:lang"];if(K.unshift(Ce?Ce.value:0===K.length?"":K[0]),Re.uri===I.ns_tt)if("tt"===Re.local)null!==ce&&V(te,"Two <tt> elements at ("+this.line+","+this.column+")"),(ce=new l).initFromNode(Re,K[0],te),q.unshift(ce);else if("head"===Re.local)q[0]instanceof l||V(te,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),q.unshift(ce.head);else if("styling"===Re.local)q[0]instanceof f||V(te,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),q.unshift(ce.head.styling);else if("style"===Re.local){var Oe;q[0]instanceof d?((Oe=new _).initFromNode(Re,te),Oe.id?ce.head.styling.styles[Oe.id]=Oe:F(te,"<style> element missing @id attribute"),q.unshift(Oe)):q[0]instanceof W?((Oe=new _).initFromNode(Re,te),ge(Oe.styleAttrs,q[0].styleAttrs),q.unshift(Oe)):V(te,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===Re.local){var Ge;if(q[0]instanceof d){for(var Ne in(Ge=new L).initFromNode(Re,te),Ge.styleAttrs)!Ge.styleAttrs.hasOwnProperty(Ne)||(ce.head.styling.initials[Ne]=Ge.styleAttrs[Ne]);q.unshift(Ge)}else V(te,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===Re.local)q[0]instanceof f||V(te,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),q.unshift(ce.head.layout);else if("region"===Re.local){q[0]instanceof S||V(te,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var $e=new W;$e.initFromNode(ce,Re,K[0],te),!$e.id||$e.id in ce.head.layout.regions?F(te,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ce.head.layout.regions[$e.id]=$e,q.unshift($e)}else if("body"===Re.local){q[0]instanceof l||V(te,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==ce.body&&V(te,"Second <body> element at "+this.line+","+this.column+")");var Je=new N;Je.initFromNode(ce,Re,K[0],te),ce.body=Je,q.unshift(Je)}else if("div"===Re.local){q[0]instanceof G||q[0]instanceof N||V(te,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var nt=new G;nt.initFromNode(ce,q[0],Re,K[0],te);var at=nt.styleAttrs[R.byName.backgroundImage.qname];at&&(nt.contents.push(new O(at)),delete nt.styleAttrs[R.byName.backgroundImage.qname]),q[0].contents.push(nt),q.unshift(nt)}else if("image"===Re.local){q[0]instanceof G||V(te,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var ht=new O;ht.initFromNode(ce,q[0],Re,K[0],te),q[0].contents.push(ht),q.unshift(ht)}else if("p"===Re.local){q[0]instanceof G||V(te,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var wt=new ee;wt.initFromNode(ce,q[0],Re,K[0],te),q[0].contents.push(wt),q.unshift(wt)}else if("span"===Re.local){q[0]instanceof Z||q[0]instanceof ee||V(te,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Vt=new Z;Vt.initFromNode(ce,q[0],Re,K[0],j[0],te),q[0].contents.push(Vt),q.unshift(Vt)}else if("br"===Re.local){q[0]instanceof Z||q[0]instanceof ee||V(te,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var kt=new H;kt.initFromNode(ce,q[0],Re,K[0],te),q[0].contents.push(kt),q.unshift(kt)}else if("set"===Re.local){q[0]instanceof Z||q[0]instanceof ee||q[0]instanceof G||q[0]instanceof N||q[0]instanceof W||q[0]instanceof H||V(te,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var zt=new x;zt.initFromNode(ce,q[0],Re,te),q[0].sets.push(zt),q.unshift(zt)}else q.unshift(new c(Re));else q.unshift(new c(Re));if(q[0]instanceof c)if(Re.uri===I.ns_tt&&"metadata"===Re.local)$++;else if($>0&&me&&"onOpenTag"in me){var en=[];for(var De in Re.attributes)en[Re.attributes[De].uri+" "+Re.attributes[De].local]={uri:Re.attributes[De].uri,local:Re.attributes[De].local,value:Re.attributes[De].value};me.onOpenTag(Re.uri,Re.local,en)}},Ee.write(B).close(),delete ce.head.styling.styles;var ue=!1;for(var be in ce.head.layout.regions)if(ce.head.layout.regions.hasOwnProperty(be)){ue=!0;break}if(!ue){var we=W.prototype.createDefaultRegion(ce.lang);ce.head.layout.regions[we.id]=we}for(var Pe in ce.head.layout.regions)!ce.head.layout.regions.hasOwnProperty(Pe)||D(ce,ce.head.layout.regions[Pe],null,null);return ce.body&&D(ce,ce.body,null,null),ce.body&&w(ce.body),ce},l.prototype.initFromNode=function(B,te,me){var Ee=function ae(B,te){var me=J(B,I.ns_ttp,"cellResolution"),Ee=15,q=32;if(null!==me){var j=/(\d+) (\d+)/.exec(me);null!==j?(q=parseInt(j[1]),Ee=parseInt(j[2])):X(te,"Malformed cellResolution value (using initial value instead)")}return{w:q,h:Ee}}(B,me);this.cellLength={h:new P.ComputedLength(0,1/Ee.h),w:new P.ComputedLength(1/Ee.w,0)};var q=function pe(B,te){var q,me=J(B,I.ns_ttp,"frameRate"),Ee=30;null!==me&&(null!==(q=/(\d+)/.exec(me))?Ee=parseInt(q[1]):X(te,"Malformed frame rate attribute (using initial value instead)"));var j=J(B,I.ns_ttp,"frameRateMultiplier"),$=1;null!==j&&(null!==(q=/(\d+) (\d+)/.exec(j))?$=parseInt(q[1])/parseInt(q[2]):X(te,"Malformed frame rate multiplier attribute (using initial value instead)"));var ue=$*Ee,be=1,we=J(B,I.ns_ttp,"tickRate");return null===we?null!==me&&(be=ue):null!==(q=/(\d+)/.exec(we))?be=parseInt(q[1]):X(te,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ue,tickRate:be}}(B,me);this.effectiveFrameRate=q.effectiveFrameRate,this.tickRate=q.tickRate,this.aspectRatio=function fe(B,te){var me=J(B,I.ns_ittp,"aspectRatio");null===me&&(me=J(B,I.ns_ttp,"displayAspectRatio"));var Ee=null;if(null!==me){var K=/(\d+)\s+(\d+)/.exec(me);if(null!==K){var j=parseInt(K[1]),$=parseInt(K[2]);0!==j&&0!==$?Ee=j/$:F(te,"Illegal aspectRatio values (ignoring)")}else F(te,"Malformed aspectRatio attribute (ignoring)")}return Ee}(B,me);var K=J(B,I.ns_ttp,"timeBase");null!==K&&"media"!==K&&V(me,"Unsupported time base");var j=function he(B,te){var me=J(B,I.ns_tts,"extent");if(null===me)return null;var Ee=me.split(" ");if(2!==Ee.length)return X(te,"Malformed extent (ignoring)"),null;var q=P.parseLength(Ee[0]),K=P.parseLength(Ee[1]);return K&&q?{h:K,w:q}:(X(te,"Malformed extent values (ignoring)"),null)}(B,me);null===j?this.pxLength={h:null,w:null}:(("px"!==j.h.unit||"px"!==j.w.unit)&&V(me,"Extent on TT must be in px or absent"),this.pxLength={h:new P.ComputedLength(0,1/j.h.value),w:new P.ComputedLength(1/j.w.value,0)}),this.dimensions={h:new P.ComputedLength(0,1),w:new P.ComputedLength(1,0)},this.lang=te},l.prototype._registerEvent=function(B){if(!(B.end<=B.begin)){var te=re(this.events,B.begin);if(te.found||this.events.splice(te.index,0,B.begin),B.end!==Number.POSITIVE_INFINITY){var me=re(this.events,B.end);me.found||this.events.splice(me.index,0,B.end)}}},l.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},l.prototype.getMediaTimeEvents=function(){return this.events},_.prototype.initFromNode=function(B,te){this.id=Y(B),this.styleAttrs=ye(B,te),this.styleRefs=oe(B)},L.prototype.initFromNode=function(B,te){for(var me in this.styleAttrs={},B.attributes)B.attributes[me].uri!==I.ns_itts&&B.attributes[me].uri!==I.ns_ebutts&&B.attributes[me].uri!==I.ns_tts||(this.styleAttrs[B.attributes[me].uri+" "+B.attributes[me].local]=B.attributes[me].value)},O.prototype.initFromNode=function(B,te,me,Ee,q){this.src="src"in me.attributes?me.attributes.src.value:null,this.src||F(q,"Invalid image@src attribute"),this.type="type"in me.attributes?me.attributes.type.value:null,this.type||F(q,"Invalid image@type attribute"),y.prototype.initFromNode.call(this,B,te,me,q),E.prototype.initFromNode.call(this,B,te,me,q),g.prototype.initFromNode.call(this,B,te,me,q),p.prototype.initFromNode.call(this,B,te,me,q),this.lang=Ee},v.prototype.initFromNode=function(B,te,me,Ee){this.id=Y(me)},p.prototype.initFromNode=function(B,te,me,Ee){this.regionID=function z(B){return B&&"region"in B.attributes?B.attributes.region.value:""}(me)},y.prototype.initFromNode=function(B,te,me,Ee){this.styleAttrs=ye(me,Ee),null!==B.head&&null!==B.head.styling&&Se(B.head.styling,oe(me),this.styleAttrs,Ee)},g.prototype.initFromNode=function(B,te,me,Ee){this.sets=[]},A.prototype.initFromNode=function(B,te,me,Ee){this.contents=[]},E.prototype.initFromNode=function(B,te,me,Ee){var q=function ve(B,te,me,Ee){var q=null;me&&"begin"in me.attributes&&null===(q=de(B.tickRate,B.effectiveFrameRate,me.attributes.begin.value))&&X(Ee,"Malformed begin value "+me.attributes.begin.value+" (using 0)");var K=null;me&&"dur"in me.attributes&&null===(K=de(B.tickRate,B.effectiveFrameRate,me.attributes.dur.value))&&X(Ee,"Malformed dur value "+me.attributes.dur.value+" (ignoring)");var j=null;return me&&"end"in me.attributes&&null===(j=de(B.tickRate,B.effectiveFrameRate,me.attributes.end.value))&&X(Ee,"Malformed end value (ignoring)"),{explicit_begin:q,explicit_end:j,explicit_dur:K}}(B,0,me,Ee);this.explicit_begin=q.explicit_begin,this.explicit_end=q.explicit_end,this.explicit_dur=q.explicit_dur,this.timeContainer=function ie(B,te){var me=B&&"timeContainer"in B.attributes?B.attributes.timeContainer.value:null;return me&&"par"!==me?"seq"===me?"seq":(F(te,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(me,Ee)},N.prototype.initFromNode=function(B,te,me,Ee){y.prototype.initFromNode.call(this,B,null,te,Ee),E.prototype.initFromNode.call(this,B,null,te,Ee),g.prototype.initFromNode.call(this,B,null,te,Ee),p.prototype.initFromNode.call(this,B,null,te,Ee),A.prototype.initFromNode.call(this,B,null,te,Ee),this.lang=me},G.prototype.initFromNode=function(B,te,me,Ee,q){y.prototype.initFromNode.call(this,B,te,me,q),E.prototype.initFromNode.call(this,B,te,me,q),g.prototype.initFromNode.call(this,B,te,me,q),p.prototype.initFromNode.call(this,B,te,me,q),A.prototype.initFromNode.call(this,B,te,me,q),this.lang=Ee},ee.prototype.initFromNode=function(B,te,me,Ee,q){y.prototype.initFromNode.call(this,B,te,me,q),E.prototype.initFromNode.call(this,B,te,me,q),g.prototype.initFromNode.call(this,B,te,me,q),p.prototype.initFromNode.call(this,B,te,me,q),A.prototype.initFromNode.call(this,B,te,me,q),this.lang=Ee},Z.prototype.initFromNode=function(B,te,me,Ee,q,K){y.prototype.initFromNode.call(this,B,te,me,K),E.prototype.initFromNode.call(this,B,te,me,K),g.prototype.initFromNode.call(this,B,te,me,K),p.prototype.initFromNode.call(this,B,te,me,K),A.prototype.initFromNode.call(this,B,te,me,K),this.space=q,this.lang=Ee},le.prototype.initFromText=function(B,te,me,Ee,q,K){E.prototype.initFromNode.call(this,B,te,null,K),this.text=me,this.space=q,this.lang=Ee},H.prototype.initFromNode=function(B,te,me,Ee,q){p.prototype.initFromNode.call(this,B,te,me,q),E.prototype.initFromNode.call(this,B,te,me,q),this.lang=Ee},W.prototype.createDefaultRegion=function(B){var te=new W;return v.call(te,""),y.call(te,{}),g.call(te,[]),E.call(te,0,Number.POSITIVE_INFINITY,null),this.lang=B,te},W.prototype.initFromNode=function(B,te,me,Ee){v.prototype.initFromNode.call(this,B,null,te,Ee),E.prototype.initFromNode.call(this,B,null,te,Ee),g.prototype.initFromNode.call(this,B,null,te,Ee),this.styleAttrs=ye(te,Ee),this.styleRefs=oe(te),this.lang=me},x.prototype.initFromNode=function(B,te,me,Ee){E.prototype.initFromNode.call(this,B,te,me,Ee);var q=ye(me,Ee);for(var K in this.qname=null,this.value=null,q)if(q.hasOwnProperty(K)){if(this.qname){F(Ee,"More than one style specified on set");break}this.qname=K,this.value=q[K]}}}(U,typeof sax>"u"?m("./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?m("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m("./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":function(Ie,U,m){!function(M,T,I){function R(H,W,x,Y){var z;if("region"===x.kind)(z=document.createElement("div")).style.position="absolute";else if("body"===x.kind)z=document.createElement("div");else if("div"===x.kind)z=document.createElement("div");else if("image"===x.kind){if(z=document.createElement("img"),null!==H.imgResolver&&null!==x.src){var ie=H.imgResolver(x.src,z);ie&&(z.src=ie),z.height=H.regionH,z.width=H.regionW}}else if("p"===x.kind)z=document.createElement("p");else if("span"===x.kind)if("container"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("ruby"),H.ruby=!0;else if("base"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("rb");else if("text"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("rt");else if("baseContainer"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("rbc");else if("textContainer"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("rtc");else{if("delimiter"===x.styleAttrs[I.byName.ruby.qname])return;z=document.createElement("span")}else"br"===x.kind&&(z=document.createElement("br"));if(z){if(x.lang&&("region"===x.kind||x.lang!==Y.lang)&&(z.lang=x.lang),W.appendChild(z),z.style.margin="0","region"===x.kind){var oe=x.styleAttrs[I.byName.writingMode.qname];"lrtb"===oe||"lr"===oe?(H.ipd="lr",H.bpd="tb"):"rltb"===oe||"rl"===oe?(H.ipd="rl",H.bpd="tb"):"tblr"===oe?(H.ipd="tb",H.bpd="lr"):("tbrl"===oe||"tb"===oe)&&(H.ipd="tb",H.bpd="rl")}else"p"===x.kind&&"tb"===H.bpd&&(H.ipd="ltr"===x.styleAttrs[I.byName.direction.qname]?"lr":"rl");for(var J=0;J<g.length;J++){var fe=g[J],ae=x.styleAttrs[fe.qname];void 0!==ae&&null!==fe.map&&fe.map(H,z,x,ae)}var pe=z,he=x.styleAttrs[I.byName.linePadding.qname];if(he&&!he.isZero()){var de=he.toUsedLength(H.w,H.h);if(de>0){var ve=Math.ceil(de)+"px";"tb"===H.bpd?(pe.style.paddingLeft=ve,pe.style.paddingRight=ve):(pe.style.paddingTop=ve,pe.style.paddingBottom=ve),H.lp=he}}var se=x.styleAttrs[I.byName.multiRowAlign.qname];if(se&&"auto"!==se){var Se=document.createElement("span");Se.style.display="inline-block",Se.style.textAlign=se,z.appendChild(Se),pe=Se,H.mra=se}var ge=x.styleAttrs[I.byName.rubyReserve.qname];if(ge&&"none"!==ge[0]&&(H.rubyReserve=ge),x.styleAttrs[I.byName.fillLineGap.qname]&&(H.flg=!0),"span"===x.kind&&x.text){var ne=x.styleAttrs[I.byName.textEmphasis.qname];if(ne&&"none"!==ne.style&&(H.textEmphasis=!0),I.byName.textCombine.qname in x.styleAttrs&&"all"===x.styleAttrs[I.byName.textCombine.qname])z.textContent=x.text,ne&&p(H,z,0,ne);else for(var X="",F=0;F<x.text.length;F++){X+=x.text.charAt(F);var V=x.text.charCodeAt(F);if(V<55296||V>56319||F===x.text.length-1){var re=document.createElement("span");re.textContent=X,ne&&p(H,re,0,ne),z.appendChild(re),X="",re._isd_element=x}}}if("contents"in x)for(var B=0;B<x.contents.length;B++)R(H,pe,x.contents[B],x);var te=[];if("p"===x.kind&&(b(H,pe,te,null),H.rubyReserve&&(function _(H,W){for(var x=0;x<H.length;x++){var Y=document.createElement("ruby"),z=document.createElement("rb");z.textContent="\u200b",Y.appendChild(z);var ie,oe,ye=W.rubyReserve[1].toUsedLength(W.w,W.h)+"px";"both"===W.rubyReserve[0]||"outside"===W.rubyReserve[0]&&1==H.length?((ie=document.createElement("rtc")).style[G]=N?"after":"under",ie.textContent="\u200b",ie.style.fontSize=ye,(oe=document.createElement("rtc")).style[G]=N?"before":"over",oe.textContent="\u200b",oe.style.fontSize=ye,Y.appendChild(ie),Y.appendChild(oe)):((ie=document.createElement("rtc")).textContent="\u200b",ie.style.fontSize=ye,ie.style[G]="after"===W.rubyReserve[0]||"outside"===W.rubyReserve[0]&&x>0?N?"after":"tb"===W.bpd||"rl"===W.bpd?"under":"over":N?"before":"tb"===W.bpd||"rl"===W.bpd?"over":"under",Y.appendChild(ie));for(var fe=null,ae=0;ae<H[x].rbc.length;ae++)if("ruby"===H[x].rbc[ae].localName){fe=H[x].rbc[ae];for(var pe=0;pe<fe.style.length;pe++)Y.style.setProperty(fe.style.item(pe),fe.style.getPropertyValue(fe.style.item(pe)));break}(fe=fe||H[x].elements[0].node).parentElement.insertBefore(Y,fe)}}(te,H),H.rubyReserve=null),(H.ruby||H.rubyReserve)&&(function d(H,W){for(var x=0;x<H.length;x++)for(var Y=0;Y<H[x].rbc.length;Y++)H[x].rbc[Y].style[G]||(H[x].rbc[Y].style[G]=N?0===x?"before":"after":"tb"===W.bpd||"rl"===W.bpd?0===x?"over":"under":0===x?"under":"over")}(te,H),H.ruby=null),H.textEmphasis&&(function f(H,W){for(var x=0;x<H.length;x++)for(var Y=0;Y<H[x].te.length;Y++)H[x].te[Y].style[Z]&&"none"!==H[x].te[Y].style[Z]||(H[x].te[Y].style[Z]="tb"===W.bpd?0===x?"left over":"left under":"rl"===W.bpd?0===x?"right under":"left under":0===x?"left under":"right under")}(te,H),H.textEmphasis=null),H.mra&&(function l(H){for(var W=0;W<H.length-1;W++){var x=H[W].elements.length;if(0!==x&&!1===H[W].br){var Y=document.createElement("br"),z=H[W].elements[x-1].node;z.parentElement.insertBefore(Y,z.nextSibling)}}}(te),H.mra=null),H.lp&&(function c(H,W,x){if(null!==H)for(var Y=0;Y<H.length;Y++){var z=H[Y].elements.length,ie=Math.ceil(W)+"px",oe="-"+Math.ceil(W)+"px";if(0!==z){var ye=H[Y].elements[H[Y].start_elem],J=H[Y].elements[H[Y].end_elem];if(ye===J&&(elementBoundingRect=ye.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===x.ipd?(ye.node.style.marginLeft=oe,ye.node.style.paddingLeft=ie):"rl"===x.ipd?(ye.node.style.paddingRight=ie,ye.node.style.marginRight=oe):"tb"===x.ipd&&(ye.node.style.paddingTop=ie,ye.node.style.marginTop=oe),"lr"===x.ipd?(J.node.style.marginRight=oe,J.node.style.paddingRight=ie):"rl"===x.ipd?(J.node.style.paddingLeft=ie,J.node.style.marginLeft=oe):"tb"===x.ipd&&(J.node.style.paddingBottom=ie,J.node.style.marginBottom=oe)}}}(te,H.lp.toUsedLength(H.w,H.h),H),H.lp=null),function P(H){for(var W=0;W<H.length;W++)for(var x=H[W],Y=1;Y<x.elements.length;)D(x.elements[Y-1].node,x.elements[Y].node)?x.elements.splice(Y,1):Y++;for(var oe,ye,J=[],fe=0;fe<H.length;fe++)for(var ae=0;ae<H[fe].elements.length;ae++)(ye=w(oe=H[fe].elements[ae].node,J,!1))&&(oe.style.backgroundColor=ye);for(var pe=0;pe<J.length;pe++)J[pe].style.backgroundColor=""}(te),H.flg)){var me=O(pe.getBoundingClientRect(),H);(function L(H,W,x,Y,z){for(var ie=Math.sign(x-W),oe=0;oe<=H.length;oe++){var ye,J,fe,ae;if(ye=0===oe?Math.round(W):oe===H.length?Math.round(x):Math.round((H[oe-1].after+H[oe].before)/2),oe>0&&H[oe-1])for(fe=0;fe<H[oe-1].elements.length;fe++)J=ie*(ye-(ae=H[oe-1].elements[fe]).after)+"px","lr"===Y.bpd?ae.node.style.paddingRight=J:"rl"===Y.bpd?ae.node.style.paddingLeft=J:"tb"===Y.bpd&&(ae.node.style.paddingBottom=J);if(oe<H.length)for(fe=0;fe<H[oe].elements.length;fe++)J=ie*((ae=H[oe].elements[fe]).before-ye)+"px","lr"===Y.bpd?ae.node.style.paddingLeft=J:"rl"===Y.bpd?ae.node.style.paddingRight=J:"tb"===Y.bpd&&(ae.node.style.paddingTop=J)}})(te,me.before,me.after,H),H.flg=null}if("region"===x.kind&&"tb"===H.bpd&&H.enableRollUp&&x.contents.length>0&&"after"===x.styleAttrs[I.byName.displayAlign.qname]){b(H,pe,te,null);var q=new S(""===x.id?"_":x.id,te);if(H.currentISDState[q.id]=q,H.previousISDState&&q.id in H.previousISDState&&H.previousISDState[q.id].plist.length>0&&q.plist.length>1&&q.plist[q.plist.length-2].text===H.previousISDState[q.id].plist[H.previousISDState[q.id].plist.length-1].text){var K=z.firstElementChild,j=q.plist[q.plist.length-1].after-q.plist[q.plist.length-1].before;K.style.bottom="-"+j+"px",K.style.transition="transform 0.4s",K.style.position="relative",K.style.transform="translateY(-"+j+"px)"}}}else!function le(H,W){if(H&&H.error&&H.error(W))throw W}(H.errorHandler,"Error processing ISD element kind: "+x.kind)}function w(H,W,x){return H.style.backgroundColor?(x&&!W.includes(H)&&W.push(H),H.style.backgroundColor):"SPAN"===H.parentElement.nodeName?w(H.parentElement,W,!0):void 0}function D(H,W){if("SPAN"===H.tagName&&"SPAN"===W.tagName&&H._isd_element===W._isd_element){H.textContent+=W.textContent;for(var x=0;x<W.style.length;x++){var Y=W.style[x];(Y.indexOf("border")>=0||Y.indexOf("padding")>=0||Y.indexOf("margin")>=0)&&(H.style[Y]=W.style[Y])}return W.parentElement.removeChild(W),!0}return!1}function S(H,W){this.id=H,this.plist=W}function O(H,W){var x={before:null,after:null,start:null,end:null};return"tb"===W.bpd?(x.before=H.top,x.after=H.bottom,"lr"===W.ipd?(x.start=H.left,x.end=H.right):(x.start=H.right,x.end=H.left)):"lr"===W.bpd?(x.before=H.left,x.after=H.right,x.start=H.top,x.end=H.bottom):"rl"===W.bpd&&(x.before=H.right,x.after=H.left,x.start=H.top,x.end=H.bottom),x}function b(H,W,x,Y){if("rt"!==W.localName&&"rtc"!==W.localName){var z=W.style.backgroundColor||Y;if(0===W.childElementCount)if("span"===W.localName||"rb"===W.localName){var oe=O(W.getBoundingClientRect(),H);if(0!==x.length&&function v(H,W,x,Y){return W<Y&&H>x||Y<=W&&x>=H}(oe.before,oe.after,x[x.length-1].before,x[x.length-1].after)){var ye=Math.sign(oe.after-oe.before),J=Math.sign(oe.end-oe.start);ye*(oe.before-x[x.length-1].before)<0&&(x[x.length-1].before=oe.before),ye*(oe.after-x[x.length-1].after)>0&&(x[x.length-1].after=oe.after),J*(oe.start-x[x.length-1].start)<0&&(x[x.length-1].start=oe.start,x[x.length-1].start_elem=x[x.length-1].elements.length),J*(oe.end-x[x.length-1].end)>0&&(x[x.length-1].end=oe.end,x[x.length-1].end_elem=x[x.length-1].elements.length)}else x.push({before:oe.before,after:oe.after,start:oe.start,end:oe.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});x[x.length-1].text+=W.textContent,x[x.length-1].elements.push({node:W,bgcolor:z,before:oe.before,after:oe.after})}else"br"===W.localName&&0!==x.length&&(x[x.length-1].br=!0);else for(var fe=W.firstChild;fe;)fe.nodeType===Node.ELEMENT_NODE&&(b(H,fe,x,z),"ruby"===fe.localName||"rtc"===fe.localName?x.length>0&&x[x.length-1].rbc.push(fe):"span"===fe.localName&&fe.style[ee]&&"none"!==fe.style[ee]&&x.length>0&&x[x.length-1].te.push(fe)),fe=fe.nextSibling}}function p(H,W,x,Y){"none"!==Y.style&&(W.style[ee]="auto"===Y.style?"filled":Y.style+" "+Y.symbol,"before"===Y.position||"after"===Y.position)&&(W.style[Z]="tb"===H.bpd?"before"===Y.position?"left over":"left under":"rl"===H.bpd?"before"===Y.position?"right under":"left under":"before"===Y.position?"left under":"right under")}function y(H,W){this.qname=H,this.map=W}M.render=function(H,W,x,Y,z,ie,oe,ye,J){var fe=Y||W.clientHeight,ae=z||W.clientWidth;if(null!==H.aspectRatio){var pe=fe*H.aspectRatio;pe>ae?fe=Math.round(ae/H.aspectRatio):ae=pe}var he=document.createElement("div");he.style.position="relative",he.style.width=ae+"px",he.style.height=fe+"px",he.style.margin="auto",he.style.top=0,he.style.bottom=0,he.style.left=0,he.style.right=0,he.style.zIndex=0;var de={h:fe,w:ae,regionH:null,regionW:null,imgResolver:x,displayForcedOnlyMode:ie||!1,isd:H,errorHandler:oe,previousISDState:ye,enableRollUp:J||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(W.appendChild(he),"contents"in H)for(var ve=0;ve<H.contents.length;ve++)R(de,he,H.contents[ve],H);return de.currentISDState};for(var g=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(H,W,x,Y){0!==Y[3]&&(W.style.backgroundColor="rgba("+Y[0].toString()+","+Y[1].toString()+","+Y[2].toString()+","+(Y[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(H,W,x,Y){W.style.color="rgba("+Y[0].toString()+","+Y[1].toString()+","+Y[2].toString()+","+(Y[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(H,W,x,Y){W.style.direction=Y}),new y("http://www.w3.org/ns/ttml#styling display",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(H,W,x,Y){W.style.display="flex",W.style.flexDirection="column","before"===Y?W.style.justifyContent="flex-start":"center"===Y?W.style.justifyContent="center":"after"===Y&&(W.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(H,W,x,Y){H.regionH=Y.h.toUsedLength(H.w,H.h),H.regionW=Y.w.toUsedLength(H.w,H.h);var z=0,ie=0,oe=x.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];oe&&(z=oe[0].toUsedLength(H.w,H.h)+oe[2].toUsedLength(H.w,H.h),ie=oe[1].toUsedLength(H.w,H.h)+oe[3].toUsedLength(H.w,H.h)),W.style.height=H.regionH-z+"px",W.style.width=H.regionW-ie+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(H,W,x,Y){for(var z=[],ie=0;ie<Y.length;ie++)"monospaceSerif"===Y[ie]?(z.push("Courier New"),z.push('"Liberation Mono"'),z.push("Courier"),z.push("monospace")):"proportionalSansSerif"===Y[ie]?(z.push("Arial"),z.push("Helvetica"),z.push('"Liberation Sans"'),z.push("sans-serif")):"monospace"===Y[ie]?z.push("monospace"):"sansSerif"===Y[ie]?z.push("sans-serif"):"serif"===Y[ie]?z.push("serif"):"monospaceSansSerif"===Y[ie]?(z.push("Consolas"),z.push("monospace")):z.push("proportionalSerif"===Y[ie]?"serif":Y[ie]);if(z.length>0){for(var oe=[z[0]],ye=1;ye<z.length;ye++)-1==oe.indexOf(z[ye])&&oe.push(z[ye]);z=oe}W.style.fontFamily=z.join(",")}),new y("http://www.w3.org/ns/ttml#styling shear",function(H,W,x,Y){if(0!==Y){var z=-.9*Y;W.style.transform="tb"===H.bpd?"skewX("+z+"deg)":"skewY("+z+"deg)"}}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(H,W,x,Y){W.style.fontSize=Y.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(H,W,x,Y){W.style.fontStyle=Y}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(H,W,x,Y){W.style.fontWeight=Y}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(H,W,x,Y){W.style.lineHeight="normal"===Y?"normal":Y.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(H,W,x,Y){W.style.opacity=Y}),new y("http://www.w3.org/ns/ttml#styling origin",function(H,W,x,Y){W.style.top=Y.h.toUsedLength(H.w,H.h)+"px",W.style.left=Y.w.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(H,W,x,Y){W.style.overflow=Y}),new y("http://www.w3.org/ns/ttml#styling padding",function(H,W,x,Y){var z=[];z[0]=Y[0].toUsedLength(H.w,H.h)+"px",z[1]=Y[3].toUsedLength(H.w,H.h)+"px",z[2]=Y[2].toUsedLength(H.w,H.h)+"px",z[3]=Y[1].toUsedLength(H.w,H.h)+"px",W.style.padding=z.join(" ")}),new y("http://www.w3.org/ns/ttml#styling position",function(H,W,x,Y){W.style.top=Y.h.toUsedLength(H.w,H.h)+"px",W.style.left=Y.w.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling rubyAlign",function(H,W,x,Y){W.style.rubyAlign="spaceAround"===Y?"space-around":"center"}),new y("http://www.w3.org/ns/ttml#styling rubyPosition",function(H,W,x,Y){"before"!==Y&&"after"!==Y||(W.parentElement.style[G]=N?Y:"tb"===H.bpd||"rl"===H.bpd?"before"===Y?"over":"under":"before"===Y?"under":"over")}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(H,W,x,Y){W.style.textAlign="start"===Y?"rl"===H.ipd?"right":"left":"end"===Y?"rl"===H.ipd?"left":"right":Y}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(H,W,x,Y){W.style.textDecoration=Y.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling textShadow",function(H,W,x,Y){var z=x.styleAttrs[I.byName.textOutline.qname];if("none"===Y&&"none"===z)W.style.textShadow="";else{var ie=[];if("none"!==z){var oe="rgba("+z.color[0].toString()+","+z.color[1].toString()+","+z.color[2].toString()+","+(z.color[3]/255).toString()+")";ie.push("1px 1px 1px "+oe),ie.push("-1px 1px 1px "+oe),ie.push("1px -1px 1px "+oe),ie.push("-1px -1px 1px "+oe)}if("none"!==Y)for(var ye=0;ye<Y.length;ye++)ie.push(Y[ye].x_off.toUsedLength(H.w,H.h)+"px "+Y[ye].y_off.toUsedLength(H.w,H.h)+"px "+Y[ye].b_radius.toUsedLength(H.w,H.h)+"px rgba("+Y[ye].color[0].toString()+","+Y[ye].color[1].toString()+","+Y[ye].color[2].toString()+","+(Y[ye].color[3]/255).toString()+")");W.style.textShadow=ie.join(",")}}),new y("http://www.w3.org/ns/ttml#styling textCombine",function(H,W,x,Y){W.style.textCombineUpright=Y}),new y("http://www.w3.org/ns/ttml#styling textEmphasis",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(H,W,x,Y){W.style.unicodeBidi="bidiOverride"===Y?"bidi-override":Y}),new y("http://www.w3.org/ns/ttml#styling visibility",function(H,W,x,Y){W.style.visibility=Y}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(H,W,x,Y){W.style.whiteSpace="wrap"===Y?"preserve"===x.space?"pre-wrap":"normal":"preserve"===x.space?"pre":"noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(H,W,x,Y){"lrtb"===Y||"lr"===Y||"rltb"===Y||"rl"===Y?W.style.writingMode="horizontal-tb":"tblr"===Y?W.style.writingMode="vertical-lr":("tbrl"===Y||"tb"===Y)&&(W.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(H,W,x,Y){W.style.zIndex=Y}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(H,W,x,Y){H.displayForcedOnlyMode&&!1===Y&&(W.style.visibility="hidden")})],A={},E=0;E<g.length;E++)A[g[E].qname]=g[E];var N="webkitRubyPosition"in window.getComputedStyle(document.documentElement),G=N?"webkitRubyPosition":"rubyPosition",ee="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",Z="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(U,typeof imscNames>"u"?m("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m("./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":function(Ie,U,m){!function(M,T,I,R){M.generateISD=function(b,v,p){var A,y=new f(b),g={},E={},N=b.head.styling.initials[I.byName.showBackground.qname],G=b.head.styling.initials[I.byName.backgroundColor.qname];for(var ee in b.head.layout.regions)if(b.head.layout.regions.hasOwnProperty(ee)){var Z=b.head.layout.regions[ee],le=Z.styleAttrs[I.byName.showBackground.qname]||N;E[Z.id]=("always"===le||void 0===le)&&void 0!==(Z.styleAttrs[I.byName.backgroundColor.qname]||G)&&!(v<Z.begin||v>=Z.end)}for(var x in b.body&&b.body.regionID&&(E[b.body.regionID]=!0),A=null!==b.body?function W(z,ie){if(ie.contents){var ye={};for(var J in ie)ie.hasOwnProperty(J)&&(ye[J]=ie[J]);return ye.contents=[],ie.contents.filter(function oe(fe){return!(z<fe.begin||z>=fe.end)}).forEach(function(fe){var ae=W(z,fe);ae.regionID&&(E[ae.regionID]=!0),null!==ae&&ye.contents.push(ae)}),ye}return ie}(v,b.body):null,void 0!==E[""]&&(E[""]=!0),E)if(E[x]){var Y=w(b,v,b.head.layout.regions[x],A,null,"",b.head.layout.regions[x],p,g);null!==Y&&y.contents.push(Y.element)}return y};var P=[I.byName.color.qname,I.byName.textCombine.qname,I.byName.textDecoration.qname,I.byName.textEmphasis.qname,I.byName.textOutline.qname,I.byName.textShadow.qname];function w(b,v,p,y,g,A,E,N,G){if(v<E.begin||v>=E.end)return null;var ee="regionID"in E&&""!==E.regionID?E.regionID:A;if(null!==g&&ee!==p.id&&(!("contents"in E)||"contents"in E&&0===E.contents.length||""!==ee))return null;var Z=new d(E);if("sets"in E)for(var le=0;le<E.sets.length;le++)v<E.sets[le].begin||v>=E.sets[le].end||(Z.styleAttrs[E.sets[le].qname]=E.sets[le].value);var H={};for(var W in Z.styleAttrs)if(Z.styleAttrs.hasOwnProperty(W)&&(H[W]=!0,"region"===Z.kind&&W===I.byName.writingMode.qname&&!(I.byName.direction.qname in Z.styleAttrs))){var x=Z.styleAttrs[W];"lrtb"===x||"lr"===x?Z.styleAttrs[I.byName.direction.qname]="ltr":("rltb"===x||"rl"===x)&&(Z.styleAttrs[I.byName.direction.qname]="rtl")}if(null!==g)for(var Y=0;Y<I.all.length;Y++){var z=I.all[Y];if(z.qname===I.byName.textDecoration.qname){var ie=g.styleAttrs[z.qname],oe=Z.styleAttrs[z.qname],ye=[];void 0===oe?ye=ie:-1===oe.indexOf("none")?((-1===oe.indexOf("noUnderline")&&-1!==ie.indexOf("underline")||-1!==oe.indexOf("underline"))&&ye.push("underline"),(-1===oe.indexOf("noLineThrough")&&-1!==ie.indexOf("lineThrough")||-1!==oe.indexOf("lineThrough"))&&ye.push("lineThrough"),(-1===oe.indexOf("noOverline")&&-1!==ie.indexOf("overline")||-1!==oe.indexOf("overline"))&&ye.push("overline")):ye.push("none"),Z.styleAttrs[z.qname]=ye}else if(z.qname!==I.byName.fontSize.qname||z.qname in Z.styleAttrs||"span"!==Z.kind||"textContainer"!==Z.styleAttrs[I.byName.ruby.qname])if(z.qname!==I.byName.fontSize.qname||z.qname in Z.styleAttrs||"span"!==Z.kind||"text"!==Z.styleAttrs[I.byName.ruby.qname])z.inherit&&z.qname in g.styleAttrs&&!(z.qname in Z.styleAttrs)&&(Z.styleAttrs[z.qname]=g.styleAttrs[z.qname]);else{var fe=g.styleAttrs[I.byName.fontSize.qname];Z.styleAttrs[z.qname]="textContainer"===g.styleAttrs[I.byName.ruby.qname]?fe:new R.ComputedLength(.5*fe.rw,.5*fe.rh)}else{var J=g.styleAttrs[I.byName.fontSize.qname];Z.styleAttrs[z.qname]=new R.ComputedLength(.5*J.rw,.5*J.rh)}}for(var ae=0;ae<I.all.length;ae++){var pe=I.all[ae];if(!(pe.qname in Z.styleAttrs||pe.qname===I.byName.position.qname&&I.byName.origin.qname in Z.styleAttrs||pe.qname===I.byName.origin.qname&&I.byName.position.qname in Z.styleAttrs)){var he=b.head.styling.initials[pe.qname]||pe.initial;if(null!==he&&("region"===Z.kind||!1===pe.inherit&&null!==he)){var de=pe.parse(he);null!==de?(Z.styleAttrs[pe.qname]=de,H[pe.qname]=!0):S(N,"Invalid initial value for '"+pe.qname+"' on element '"+Z.kind)}}}for(var ve=0;ve<I.all.length;ve++){var se=I.all[ve];if(se.qname in H&&null!==se.compute){var Se=se.compute(b,g,Z,Z.styleAttrs[se.qname],G);null!==Se?Z.styleAttrs[se.qname]=Se:(Z.styleAttrs[se.qname]=se.compute(b,g,Z,se.parse(se.initial),G),S(N,"Style '"+se.qname+"' on element '"+Z.kind+"' cannot be computed"))}}if("none"===Z.styleAttrs[I.byName.display.qname])return null;var ge=null;null===g?ge=null===y?[]:[y]:"contents"in E&&(ge=E.contents);for(var ne=0;null!==ge&&ne<ge.length;ne++){var X=w(b,v,p,y,Z,ee,ge[ne],N,G);null!==X&&Z.contents.push(X.element)}for(var F in Z.styleAttrs)if(Z.styleAttrs.hasOwnProperty(F)){var V=!1;if("span"===Z.kind){var re=Z.styleAttrs[I.byName.ruby.qname];(V=("container"===re||"textContainer"===re||"baseContainer"===re)&&-1!==P.indexOf(F))||(V="container"!==re&&F===I.byName.rubyAlign.qname),V||(V=!("textContainer"===re||"text"===re)&&F===I.byName.rubyPosition.qname)}if(!V){var B=I.byQName[F];"applies"in B&&(V=-1===B.applies.indexOf(Z.kind))}V&&delete Z.styleAttrs[F]}var te=Z.styleAttrs[I.byName.ruby.qname];if("p"===Z.kind||"span"===Z.kind&&("textContainer"===te||"text"===te)){var me=[];c(Z,me),function D(b){function v(E){return"br"===E.kind||/[\r\n\t ]$/.test(E.text)}function p(E){return"br"===E.kind||"preserve"===E.space&&/^[\r\n]/.test(E.text)}for(var y,g=0;g<b.length;)if("br"!==(y=b[g]).kind&&"preserve"!==y.space){var A=y.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(A)&&(0===g||v(b[g-1]))&&(A=A.substring(1)),y.text=A,0===A.length?b.splice(g,1):g++}else g++;for(g=0;g<b.length;g++)"br"!==(y=b[g]).kind&&"preserve"!==y.space?/[ ]$/.test(y.text)&&(g===b.length-1||p(b[g+1]))&&(y.text=y.text.slice(0,-1)):g++}(me),l(Z)}return"div"===Z.kind&&I.byName.backgroundImage.qname in Z.styleAttrs||"br"===Z.kind||"image"===Z.kind||"contents"in Z&&Z.contents.length>0||"span"===Z.kind&&null!==Z.text||"region"===Z.kind&&"always"===Z.styleAttrs[I.byName.showBackground.qname]?{region_id:ee,element:Z}:null}function c(b,v){if("contents"in b)for(var p=0;p<b.contents.length;p++){var y=b.contents[p],g=y.styleAttrs[I.byName.ruby.qname];"span"===y.kind&&("textContainer"===g||"text"===g)||("contents"in y?c(y,v):("span"===y.kind&&0!==y.text.length||"br"===y.kind)&&v.push(y))}}function l(b){if("br"===b.kind)return!1;if("text"in b)return 0===b.text.length;if("contents"in b){for(var v=b.contents.length;v--;)l(b.contents[v])&&b.contents.splice(v,1);return 0===b.contents.length}}function f(b){this.contents=[],this.aspectRatio=b.aspectRatio,this.lang=b.lang}function d(b){for(var v in this.kind=b.kind||"region",this.lang=b.lang,b.id&&(this.id=b.id),this.styleAttrs={},b.styleAttrs)!b.styleAttrs.hasOwnProperty(v)||(this.styleAttrs[v]=b.styleAttrs[v]);"src"in b&&(this.src=b.src),"type"in b&&(this.type=b.type),"text"in b?this.text=b.text:("region"===this.kind||"contents"in b)&&(this.contents=[]),"space"in b&&(this.space=b.space)}function S(b,v){if(b&&b.error&&b.error(v))throw v}}(U,typeof imscNames>"u"?m("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m("./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":function(Ie,U,m){U.generateISD=m("./node_modules/imsc/src/main/js/isd.js").generateISD,U.fromXML=m("./node_modules/imsc/src/main/js/doc.js").fromXML,U.renderHTML=m("./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":function(Ie,U,m){var M;(M=U).ns_tt="http://www.w3.org/ns/ttml",M.ns_tts="http://www.w3.org/ns/ttml#styling",M.ns_ttp="http://www.w3.org/ns/ttml#parameter",M.ns_xml="http://www.w3.org/XML/1998/namespace",M.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",M.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",M.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",M.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":function(Ie,U,m){!function(M,T,I){function R(D,c,l,f,d,_,L,S){this.name=c,this.ns=D,this.qname=D+" "+c,this.inherit=d,this.animatable=_,this.initial=l,this.applies=f,this.parse=L,this.compute=S}for(var P in M.all=[new R(T.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,I.parseColor,null),new R(T.ns_tts,"color","white",["span"],!0,!0,I.parseColor,null),new R(T.ns_tts,"direction","ltr",["p","span"],!0,!0,function(D){return D},null),new R(T.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(D){return D},null),new R(T.ns_tts,"displayAlign","before",["region"],!1,!0,function(D){return D},null),new R(T.ns_tts,"extent","auto",["tt","region"],!1,!0,function(D){if("auto"===D)return D;var c=D.split(" ");if(2!==c.length)return null;var l=I.parseLength(c[0]),f=I.parseLength(c[1]);return f&&l?{h:f,w:l}:null},function(D,c,l,f,d){var _,L;if("auto"===f)_=new I.ComputedLength(0,1);else if(null===(_=I.toComputedLength(f.h.value,f.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===f)L=new I.ComputedLength(1,0);else if(null===(L=I.toComputedLength(f.w.value,f.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:_,w:L}}),new R(T.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(D){for(var c=D.split(","),l=[],f=0;f<c.length;f++)"'"!==c[f].charAt(0)&&'"'!==c[f].charAt(0)&&"default"===c[f]?l.push("monospaceSerif"):l.push(c[f]);return l},null),new R(T.ns_tts,"shear","0%",["p"],!0,!0,I.parseLength,function(D,c,l,f){return"%"!==f.unit?null:Math.abs(f.value)>100?100*Math.sign(f.value):f.value}),new R(T.ns_tts,"fontSize","1c",["span","p"],!0,!0,I.parseLength,function(D,c,l,f,d){return I.toComputedLength(f.value,f.unit,null!==c?c.styleAttrs[M.byName.fontSize.qname]:D.cellLength.h,null!==c?c.styleAttrs[M.byName.fontSize.qname]:D.cellLength.h,D.cellLength.h,D.pxLength.h)}),new R(T.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(D){return D},null),new R(T.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(D){return D},null),new R(T.ns_tts,"lineHeight","normal",["p"],!0,!0,function(D){return"normal"===D?D:I.parseLength(D)},function(D,c,l,f,d){var _;if("normal"===f)_=f;else if(null===(_=I.toComputedLength(f.value,f.unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h)))return null;return _}),new R(T.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new R(T.ns_tts,"origin","auto",["region"],!1,!0,function(D){if("auto"===D)return D;var c=D.split(" ");if(2!==c.length)return null;var l=I.parseLength(c[0]),f=I.parseLength(c[1]);return f&&l?{h:f,w:l}:null},function(D,c,l,f,d){var _,L;if("auto"===f)_=new I.ComputedLength(0,0);else if(null===(_=I.toComputedLength(f.h.value,f.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===f)L=new I.ComputedLength(0,0);else if(null===(L=I.toComputedLength(f.w.value,f.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:_,w:L}}),new R(T.ns_tts,"overflow","hidden",["region"],!1,!0,function(D){return D},null),new R(T.ns_tts,"padding","0px",["region"],!1,!0,function(D){var c=D.split(" ");if(c.length>4)return null;for(var l=[],f=0;f<c.length;f++){var d=I.parseLength(c[f]);if(!d)return null;l.push(d)}return l},function(D,c,l,f,d){var _;if(1===f.length)_=[f[0],f[0],f[0],f[0]];else if(2===f.length)_=[f[0],f[1],f[0],f[1]];else if(3===f.length)_=[f[0],f[1],f[2],f[1]];else{if(4!==f.length)return null;_=[f[0],f[1],f[2],f[3]]}var L=l.styleAttrs[M.byName.writingMode.qname];if("lrtb"===L||"lr"===L)_=[_[0],_[3],_[2],_[1]];else if("rltb"===L||"rl"===L)_=[_[0],_[1],_[2],_[3]];else if("tblr"===L)_=[_[3],_[0],_[1],_[2]];else{if("tbrl"!==L&&"tb"!==L)return null;_=[_[3],_[2],_[1],_[0]]}for(var S=[],O=0;O<_.length;O++)if(0===_[O].value)S[O]=new I.ComputedLength(0,0);else if(S[O]=I.toComputedLength(_[O].value,_[O].unit,l.styleAttrs[M.byName.fontSize.qname],0===O||2===O?l.styleAttrs[M.byName.extent.qname].h:l.styleAttrs[M.byName.extent.qname].w,0===O||2===O?D.cellLength.h:D.cellLength.w,0===O||2===O?D.pxLength.h:D.pxLength.w),null===S[O])return null;return S}),new R(T.ns_tts,"position","top left",["region"],!1,!0,function(D){return I.parsePosition(D)},function(D,c,l,f){var d,_;return null===(d=I.toComputedLength(f.v.offset.value,f.v.offset.unit,null,new I.ComputedLength(-l.styleAttrs[M.byName.extent.qname].h.rw,D.dimensions.h.rh-l.styleAttrs[M.byName.extent.qname].h.rh),null,D.pxLength.h))||("bottom"===f.v.edge&&(d=new I.ComputedLength(-d.rw-l.styleAttrs[M.byName.extent.qname].h.rw,D.dimensions.h.rh-d.rh-l.styleAttrs[M.byName.extent.qname].h.rh)),_=I.toComputedLength(f.h.offset.value,f.h.offset.unit,null,new I.ComputedLength(D.dimensions.w.rw-l.styleAttrs[M.byName.extent.qname].w.rw,-l.styleAttrs[M.byName.extent.qname].w.rh),null,D.pxLength.w),null===d)?null:("right"===f.h.edge&&(_=new I.ComputedLength(D.dimensions.w.rw-_.rw-l.styleAttrs[M.byName.extent.qname].w.rw,-_.rh-l.styleAttrs[M.byName.extent.qname].w.rh)),{h:d,w:_})}),new R(T.ns_tts,"ruby","none",["span"],!1,!0,function(D){return D},null),new R(T.ns_tts,"rubyAlign","center",["span"],!0,!0,function(D){return"center"===D||"spaceAround"===D?D:null},null),new R(T.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(D){return D},null),new R(T.ns_tts,"rubyReserve","none",["p"],!0,!0,function(D){var c=D.split(" "),l=[null,null];if(0===c.length||c.length>2)return null;if("none"!==c[0]&&"both"!==c[0]&&"after"!==c[0]&&"before"!==c[0]&&"outside"!==c[0])return null;if(l[0]=c[0],2===c.length&&"none"!==c[0]){var f=I.parseLength(c[1]);if(!f)return null;l[1]=f}return l},function(D,c,l,f,d){if("none"===f[0])return f;var _;return null===(_=null===f[1]?new I.ComputedLength(.5*l.styleAttrs[M.byName.fontSize.qname].rw,.5*l.styleAttrs[M.byName.fontSize.qname].rh):I.toComputedLength(f[1].value,f[1].unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h))?null:[f[0],_]}),new R(T.ns_tts,"showBackground","always",["region"],!1,!0,function(D){return D},null),new R(T.ns_tts,"textAlign","start",["p"],!0,!0,function(D){return D},function(D,c,l,f,d){return"left"===f?"start":"right"===f?"end":f}),new R(T.ns_tts,"textCombine","none",["span"],!0,!0,function(D){return"none"===D||"all"===D?D:null},null),new R(T.ns_tts,"textDecoration","none",["span"],!0,!0,function(D){return D.split(" ")},null),new R(T.ns_tts,"textEmphasis","none",["span"],!0,!0,function(D){for(var c=D.split(" "),l={style:null,symbol:null,color:null,position:null},f=0;f<c.length;f++)if("none"===c[f]||"auto"===c[f])l.style=c[f];else if("filled"===c[f]||"open"===c[f])l.style=c[f];else if("circle"===c[f]||"dot"===c[f]||"sesame"===c[f])l.symbol=c[f];else if("current"===c[f])l.color=c[f];else if("outside"===c[f]||"before"===c[f]||"after"===c[f])l.position=c[f];else if(l.color=I.parseColor(c[f]),null===l.color)return null;return null==l.style&&null==l.symbol?l.style="auto":(l.symbol=l.symbol||"circle",l.style=l.style||"filled"),l.position=l.position||"outside",l.color=l.color||"current",l},null),new R(T.ns_tts,"textOutline","none",["span"],!0,!0,function(D){if("none"===D)return D;var c={},l=D.split(" ");if(0===l.length||l.length>2)return null;var f=I.parseColor(l[0]);if(c.color=f,null!==f&&l.shift(),1!==l.length)return null;var d=I.parseLength(l[0]);return d?(c.thickness=d,c):null},function(D,c,l,f,d){if("none"===f)return f;var _={};return _.color=null===f.color?l.styleAttrs[M.byName.color.qname]:f.color,_.thickness=I.toComputedLength(f.thickness.value,f.thickness.unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h),null===_.thickness?null:_}),new R(T.ns_tts,"textShadow","none",["span"],!0,!0,I.parseTextShadow,function(D,c,l,f){if("none"===f)return f;for(var d=[],_=0;_<f.length;_++){var L={};if(L.x_off=I.toComputedLength(f[_][0].value,f[_][0].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.w),null===L.x_off||(L.y_off=I.toComputedLength(f[_][1].value,f[_][1].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.h),null===L.y_off))return null;if(null===f[_][2])L.b_radius=0;else if(L.b_radius=I.toComputedLength(f[_][2].value,f[_][2].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.h),null===L.b_radius)return null;L.color=null===f[_][3]?l.styleAttrs[M.byName.color.qname]:f[_][3],d.push(L)}return d}),new R(T.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(D){return D},null),new R(T.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(D){return D},null),new R(T.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(D){return D},null),new R(T.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(D){return D},null),new R(T.ns_tts,"zIndex","auto",["region"],!1,!0,function(D){var c;return"auto"===D?c=D:(c=parseInt(D),isNaN(c)&&(c=null)),c},null),new R(T.ns_ebutts,"linePadding","0c",["p"],!0,!1,I.parseLength,function(D,c,l,f,d){return I.toComputedLength(f.value,f.unit,null,null,D.cellLength.w,null)}),new R(T.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(D){return D},null),new R(T.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(D){return D},null),new R(T.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(D){return"true"===D},null),new R(T.ns_itts,"fillLineGap","false",["p"],!0,!0,function(D){return"true"===D},null)],M.byQName={},M.all)M.byQName[M.all[P].qname]=M.all[P];for(var w in M.byName={},M.all)M.byName[M.all[w].name]=M.all[w]}(U,typeof imscNames>"u"?m("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?m("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":function(Ie,U,m){!function(M){var T=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,I=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,R=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,P={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};M.parseColor=function(D){var c,l=null,f=P[D.toLowerCase()];return void 0!==f?l=f:null!==(c=T.exec(D))?l=[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),void 0!==c[4]?parseInt(c[4],16):255]:null!==(c=I.exec(D))?l=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),255]:null!==(c=R.exec(D))&&(l=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseInt(c[4])]),l};var w=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;M.parseLength=function(D){var c,l=null;return null!==(c=w.exec(D))&&(l={value:parseFloat(c[1]),unit:c[2]}),l},M.parseTextShadow=function(D){for(var c=D.match(/([^\(,\)]|\([^\)]+\))+/g),l=[],f=0;f<c.length;f++){var d=c[f].split(" ");if(1===d.length&&"none"===d[0])return"none";if(d.length>1&&d.length<5){var _=[null,null,null,null],L=M.parseLength(d.shift());if(null===L||(_[0]=L,null===(L=M.parseLength(d.shift()))))return null;if(_[1]=L,0===d.length){l.push(_);continue}if(null!==(L=M.parseLength(d[0]))&&(_[2]=L,d.shift()),0===d.length){l.push(_);continue}var S=M.parseColor(d[0]);if(null===S)return null;_[3]=S,l.push(_)}}return l},M.parsePosition=function(D){var c=D.split(" "),l=function(b){return"center"===b||"left"===b||"top"===b||"bottom"===b||"right"===b};if(c.length>4)return null;for(var f=0;f<c.length;f++)if(!l(c[f])){var d=M.parseLength(c[f]);if(null===d)return null;c[f]=d}for(var _={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},L=0;L<c.length;){var S=c[L++];if(l(S)){var O={value:0,unit:"%"};2!==c.length&&L<c.length&&!l(c[L])&&(O=c[L++]),"right"===S?(_.h.edge=S,_.h.offset=O):"bottom"===S?(_.v.edge=S,_.v.offset=O):"left"===S?_.h.offset=O:"top"===S&&(_.v.offset=O)}else{if(1!==c.length&&2!==c.length)return null;1===L?_.h.offset=S:_.v.offset=S}}return _},M.ComputedLength=function(D,c){this.rw=D,this.rh=c},M.ComputedLength.prototype.toUsedLength=function(D,c){return D*this.rw+c*this.rh},M.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},M.toComputedLength=function(D,c,l,f,d,_){return"%"===c&&f?new M.ComputedLength(f.rw*D/100,f.rh*D/100):"em"===c&&l?new M.ComputedLength(l.rw*D,l.rh*D):"c"===c&&d?new M.ComputedLength(D*d.rw,D*d.rh):"px"===c&&_?new M.ComputedLength(D*_.rw,D*_.rh):"rh"===c?new M.ComputedLength(0,D/100):"rw"===c?new M.ComputedLength(D/100,0):null}}(U)},"./node_modules/inherits/inherits_browser.js":function(Ie,U){Ie.exports="function"==typeof Object.create?function(M,T){T&&(M.super_=T,M.prototype=Object.create(T.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}))}:function(M,T){if(T){M.super_=T;var I=function(){};I.prototype=T.prototype,M.prototype=new I,M.prototype.constructor=M}}},"./node_modules/is-alphabetical/index.js":function(Ie,U,m){"use strict";Ie.exports=function M(T){var I="string"==typeof T?T.charCodeAt(0):T;return I>=97&&I<=122||I>=65&&I<=90}},"./node_modules/is-alphanumerical/index.js":function(Ie,U,m){"use strict";var M=m("./node_modules/is-alphabetical/index.js"),T=m("./node_modules/is-decimal/index.js");Ie.exports=function I(R){return M(R)||T(R)}},"./node_modules/is-decimal/index.js":function(Ie,U,m){"use strict";Ie.exports=function M(T){var I="string"==typeof T?T.charCodeAt(0):T;return I>=48&&I<=57}},"./node_modules/isarray/index.js":function(Ie,U){var m={}.toString;Ie.exports=Array.isArray||function(M){return"[object Array]"==m.call(M)}},"./node_modules/path-browserify/index.js":function(Ie,U,m){(function(M){function T(w,D){for(var c=0,l=w.length-1;l>=0;l--){var f=w[l];"."===f?w.splice(l,1):".."===f?(w.splice(l,1),c++):c&&(w.splice(l,1),c--)}if(D)for(;c--;c)w.unshift("..");return w}function R(w,D){if(w.filter)return w.filter(D);for(var c=[],l=0;l<w.length;l++)D(w[l],l,w)&&c.push(w[l]);return c}U.resolve=function(){for(var w="",D=!1,c=arguments.length-1;c>=-1&&!D;c--){var l=c>=0?arguments[c]:M.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(w=l+"/"+w,D="/"===l.charAt(0))}return(D?"/":"")+(w=T(R(w.split("/"),function(f){return!!f}),!D).join("/"))||"."},U.normalize=function(w){var D=U.isAbsolute(w),c="/"===P(w,-1);return!(w=T(R(w.split("/"),function(l){return!!l}),!D).join("/"))&&!D&&(w="."),w&&c&&(w+="/"),(D?"/":"")+w},U.isAbsolute=function(w){return"/"===w.charAt(0)},U.join=function(){var w=Array.prototype.slice.call(arguments,0);return U.normalize(R(w,function(D,c){if("string"!=typeof D)throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},U.relative=function(w,D){function c(O){for(var b=0;b<O.length&&""===O[b];b++);for(var v=O.length-1;v>=0&&""===O[v];v--);return b>v?[]:O.slice(b,v-b+1)}w=U.resolve(w).substr(1),D=U.resolve(D).substr(1);for(var l=c(w.split("/")),f=c(D.split("/")),d=Math.min(l.length,f.length),_=d,L=0;L<d;L++)if(l[L]!==f[L]){_=L;break}var S=[];for(L=_;L<l.length;L++)S.push("..");return(S=S.concat(f.slice(_))).join("/")},U.sep="/",U.delimiter=":",U.dirname=function(w){if("string"!=typeof w&&(w+=""),0===w.length)return".";for(var D=w.charCodeAt(0),c=47===D,l=-1,f=!0,d=w.length-1;d>=1;--d)if(47===(D=w.charCodeAt(d))){if(!f){l=d;break}}else f=!1;return-1===l?c?"/":".":c&&1===l?"/":w.slice(0,l)},U.basename=function(w,D){var c=function I(w){"string"!=typeof w&&(w+="");var f,D=0,c=-1,l=!0;for(f=w.length-1;f>=0;--f)if(47===w.charCodeAt(f)){if(!l){D=f+1;break}}else-1===c&&(l=!1,c=f+1);return-1===c?"":w.slice(D,c)}(w);return D&&c.substr(-1*D.length)===D&&(c=c.substr(0,c.length-D.length)),c},U.extname=function(w){"string"!=typeof w&&(w+="");for(var D=-1,c=0,l=-1,f=!0,d=0,_=w.length-1;_>=0;--_){var L=w.charCodeAt(_);if(47!==L)-1===l&&(f=!1,l=_+1),46===L?-1===D?D=_:1!==d&&(d=1):-1!==D&&(d=-1);else if(!f){c=_+1;break}}return-1===D||-1===l||0===d||1===d&&D===l-1&&D===c+1?"":w.slice(D,l)};var P=function(w,D,c){return w.substr(D,c)}}).call(this,m("./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":function(Ie,U,m){"use strict";(function(M){Ie.exports=typeof M>"u"||!M.version||0===M.version.indexOf("v0.")||0===M.version.indexOf("v1.")&&0!==M.version.indexOf("v1.8.")?{nextTick:function T(I,R,P,w){if("function"!=typeof I)throw new TypeError('"callback" argument must be a function');var c,l,D=arguments.length;switch(D){case 0:case 1:return M.nextTick(I);case 2:return M.nextTick(function(){I.call(null,R)});case 3:return M.nextTick(function(){I.call(null,R,P)});case 4:return M.nextTick(function(){I.call(null,R,P,w)});default:for(c=new Array(D-1),l=0;l<c.length;)c[l++]=arguments[l];return M.nextTick(function(){I.apply(null,c)})}}}:M}).call(this,m("./node_modules/process/browser.js"))},"./node_modules/process/browser.js":function(Ie,U){var M,T,m=Ie.exports={};function I(){throw new Error("setTimeout has not been defined")}function R(){throw new Error("clearTimeout has not been defined")}function P(O){if(M===setTimeout)return setTimeout(O,0);if((M===I||!M)&&setTimeout)return M=setTimeout,setTimeout(O,0);try{return M(O,0)}catch{try{return M.call(null,O,0)}catch{return M.call(this,O,0)}}}!function(){try{M="function"==typeof setTimeout?setTimeout:I}catch{M=I}try{T="function"==typeof clearTimeout?clearTimeout:R}catch{T=R}}();var l,D=[],c=!1,f=-1;function d(){!c||!l||(c=!1,l.length?D=l.concat(D):f=-1,D.length&&_())}function _(){if(!c){var O=P(d);c=!0;for(var b=D.length;b;){for(l=D,D=[];++f<b;)l&&l[f].run();f=-1,b=D.length}l=null,c=!1,function w(O){if(T===clearTimeout)return clearTimeout(O);if((T===R||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(O);try{return T(O)}catch{try{return T.call(null,O)}catch{return T.call(this,O)}}}(O)}}function L(O,b){this.fun=O,this.array=b}function S(){}m.nextTick=function(O){var b=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)b[v-1]=arguments[v];D.push(new L(O,b)),1===D.length&&!c&&P(_)},L.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=S,m.addListener=S,m.once=S,m.off=S,m.removeListener=S,m.removeAllListeners=S,m.emit=S,m.prependListener=S,m.prependOnceListener=S,m.listeners=function(O){return[]},m.binding=function(O){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(O){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":function(Ie,U,m){Ie.exports=m("./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":function(Ie,U,m){"use strict";var M=m("./node_modules/process-nextick-args/index.js"),T=Object.keys||function(_){var L=[];for(var S in _)L.push(S);return L};Ie.exports=l;var I=Object.create(m("./node_modules/core-util-is/lib/util.js"));I.inherits=m("./node_modules/inherits/inherits_browser.js");var R=m("./node_modules/readable-stream/lib/_stream_readable.js"),P=m("./node_modules/readable-stream/lib/_stream_writable.js");I.inherits(l,R);for(var w=T(P.prototype),D=0;D<w.length;D++){var c=w[D];l.prototype[c]||(l.prototype[c]=P.prototype[c])}function l(_){if(!(this instanceof l))return new l(_);R.call(this,_),P.call(this,_),_&&!1===_.readable&&(this.readable=!1),_&&!1===_.writable&&(this.writable=!1),this.allowHalfOpen=!0,_&&!1===_.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||M.nextTick(d,this)}function d(_){_.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(_){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),l.prototype._destroy=function(_,L){this.push(null),this.end(),M.nextTick(L,_)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":function(Ie,U,m){"use strict";Ie.exports=I;var M=m("./node_modules/readable-stream/lib/_stream_transform.js"),T=Object.create(m("./node_modules/core-util-is/lib/util.js"));function I(R){if(!(this instanceof I))return new I(R);M.call(this,R)}T.inherits=m("./node_modules/inherits/inherits_browser.js"),T.inherits(I,M),I.prototype._transform=function(R,P,w){w(null,R)}},"./node_modules/readable-stream/lib/_stream_readable.js":function(Ie,U,m){"use strict";(function(M,T){var I=m("./node_modules/process-nextick-args/index.js");Ie.exports=E;var P,R=m("./node_modules/isarray/index.js");E.ReadableState=A,m("./node_modules/events/events.js");var D=function(X,F){return X.listeners(F).length},c=m("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),l=m("./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,f=M.Uint8Array||function(){};var L=Object.create(m("./node_modules/core-util-is/lib/util.js"));L.inherits=m("./node_modules/inherits/inherits_browser.js");var S=m(0),O=void 0;O=S&&S.debuglog?S.debuglog("stream"):function(){};var p,b=m("./node_modules/readable-stream/lib/internal/streams/BufferList.js"),v=m("./node_modules/readable-stream/lib/internal/streams/destroy.js");L.inherits(E,c);var y=["error","close","destroy","pause","resume"];function A(X,F){var V=F instanceof(P=P||m("./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(X=X||{}).objectMode,V&&(this.objectMode=this.objectMode||!!X.readableObjectMode);var re=X.highWaterMark,B=X.readableHighWaterMark;this.highWaterMark=re||0===re?re:V&&(B||0===B)?B:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(p||(p=m("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new p(X.encoding),this.encoding=X.encoding)}function E(X){if(P=P||m("./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof E))return new E(X);this._readableState=new A(X,this),this.readable=!0,X&&("function"==typeof X.read&&(this._read=X.read),"function"==typeof X.destroy&&(this._destroy=X.destroy)),c.call(this)}function N(X,F,V,re,B){var me,te=X._readableState;return null===F?(te.reading=!1,function x(X,F){if(!F.ended){if(F.decoder){var V=F.decoder.end();V&&V.length&&(F.buffer.push(V),F.length+=F.objectMode?1:V.length)}F.ended=!0,Y(X)}}(X,te)):(B||(me=function ee(X,F){var V;return!function _(X){return l.isBuffer(X)||X instanceof f}(F)&&"string"!=typeof F&&void 0!==F&&!X.objectMode&&(V=new TypeError("Invalid non-string/buffer chunk")),V}(te,F)),me?X.emit("error",me):te.objectMode||F&&F.length>0?("string"!=typeof F&&!te.objectMode&&Object.getPrototypeOf(F)!==l.prototype&&(F=function d(X){return l.from(X)}(F)),re?te.endEmitted?X.emit("error",new Error("stream.unshift() after end event")):G(X,te,F,!0):te.ended?X.emit("error",new Error("stream.push() after EOF")):(te.reading=!1,te.decoder&&!V?(F=te.decoder.write(F),te.objectMode||0!==F.length?G(X,te,F,!1):ie(X,te)):G(X,te,F,!1))):re||(te.reading=!1)),function Z(X){return!X.ended&&(X.needReadable||X.length<X.highWaterMark||0===X.length)}(te)}function G(X,F,V,re){F.flowing&&0===F.length&&!F.sync?(X.emit("data",V),X.read(0)):(F.length+=F.objectMode?1:V.length,re?F.buffer.unshift(V):F.buffer.push(V),F.needReadable&&Y(X)),ie(X,F)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(X){!this._readableState||(this._readableState.destroyed=X)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(X,F){this.push(null),F(X)},E.prototype.push=function(X,F){var re,V=this._readableState;return V.objectMode?re=!0:"string"==typeof X&&((F=F||V.defaultEncoding)!==V.encoding&&(X=l.from(X,F),F=""),re=!0),N(this,X,F,!1,re)},E.prototype.unshift=function(X){return N(this,X,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(X){return p||(p=m("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new p(X),this._readableState.encoding=X,this};function W(X,F){return X<=0||0===F.length&&F.ended?0:F.objectMode?1:X!=X?F.flowing&&F.length?F.buffer.head.data.length:F.length:(X>F.highWaterMark&&(F.highWaterMark=function H(X){return X>=8388608?X=8388608:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}(X)),X<=F.length?X:F.ended?F.length:(F.needReadable=!0,0))}function Y(X){var F=X._readableState;F.needReadable=!1,F.emittedReadable||(O("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?I.nextTick(z,X):z(X))}function z(X){O("emit readable"),X.emit("readable"),pe(X)}function ie(X,F){F.readingMore||(F.readingMore=!0,I.nextTick(oe,X,F))}function oe(X,F){for(var V=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(O("maybeReadMore read 0"),X.read(0),V!==F.length);)V=F.length;F.readingMore=!1}function J(X){O("readable nexttick read 0"),X.read(0)}function ae(X,F){F.reading||(O("resume read 0"),X.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,X.emit("resume"),pe(X),F.flowing&&!F.reading&&X.read(0)}function pe(X){var F=X._readableState;for(O("flow",F.flowing);F.flowing&&null!==X.read(););}function he(X,F){return 0===F.length?null:(F.objectMode?V=F.buffer.shift():!X||X>=F.length?(V=F.decoder?F.buffer.join(""):1===F.buffer.length?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):V=function de(X,F,V){var re;return X<F.head.data.length?(re=F.head.data.slice(0,X),F.head.data=F.head.data.slice(X)):re=X===F.head.data.length?F.shift():V?function ve(X,F){var V=F.head,re=1,B=V.data;for(X-=B.length;V=V.next;){var te=V.data,me=X>te.length?te.length:X;if(B+=me===te.length?te:te.slice(0,X),0==(X-=me)){me===te.length?(++re,F.head=V.next?V.next:F.tail=null):(F.head=V,V.data=te.slice(me));break}++re}return F.length-=re,B}(X,F):function se(X,F){var V=l.allocUnsafe(X),re=F.head,B=1;for(re.data.copy(V),X-=re.data.length;re=re.next;){var te=re.data,me=X>te.length?te.length:X;if(te.copy(V,V.length-X,0,me),0==(X-=me)){me===te.length?(++B,F.head=re.next?re.next:F.tail=null):(F.head=re,re.data=te.slice(me));break}++B}return F.length-=B,V}(X,F),re}(X,F.buffer,F.decoder),V);var V}function Se(X){var F=X._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,I.nextTick(ge,F,X))}function ge(X,F){!X.endEmitted&&0===X.length&&(X.endEmitted=!0,F.readable=!1,F.emit("end"))}function ne(X,F){for(var V=0,re=X.length;V<re;V++)if(X[V]===F)return V;return-1}E.prototype.read=function(X){O("read",X),X=parseInt(X,10);var F=this._readableState,V=X;if(0!==X&&(F.emittedReadable=!1),0===X&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return O("read: emitReadable",F.length,F.ended),0===F.length&&F.ended?Se(this):Y(this),null;if(0===(X=W(X,F))&&F.ended)return 0===F.length&&Se(this),null;var B,re=F.needReadable;return O("need readable",re),(0===F.length||F.length-X<F.highWaterMark)&&O("length less than watermark",re=!0),F.ended||F.reading?O("reading or ended",re=!1):re&&(O("do read"),F.reading=!0,F.sync=!0,0===F.length&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(X=W(V,F))),null===(B=X>0?he(X,F):null)?(F.needReadable=!0,X=0):F.length-=X,0===F.length&&(F.ended||(F.needReadable=!0),V!==X&&F.ended&&Se(this)),null!==B&&this.emit("data",B),B},E.prototype._read=function(X){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(X,F){var V=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=X;break;case 1:re.pipes=[re.pipes,X];break;default:re.pipes.push(X)}re.pipesCount+=1,O("pipe count=%d opts=%j",re.pipesCount,F);var te=F&&!1===F.end||X===T.stdout||X===T.stderr?Pe:Ee;function me(Re,Ue){O("onunpipe"),Re===V&&Ue&&!1===Ue.hasUnpiped&&(Ue.hasUnpiped=!0,function j(){O("cleanup"),X.removeListener("close",be),X.removeListener("finish",we),X.removeListener("drain",q),X.removeListener("error",ue),X.removeListener("unpipe",me),V.removeListener("end",Ee),V.removeListener("end",Pe),V.removeListener("data",ce),K=!0,re.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&q()}())}function Ee(){O("onend"),X.end()}re.endEmitted?I.nextTick(te):V.once("end",te),X.on("unpipe",me);var q=function ye(X){return function(){var F=X._readableState;O("pipeOnDrain",F.awaitDrain),F.awaitDrain&&F.awaitDrain--,0===F.awaitDrain&&D(X,"data")&&(F.flowing=!0,pe(X))}}(V);X.on("drain",q);var K=!1;var $=!1;function ce(Re){O("ondata"),$=!1,!1===X.write(Re)&&!$&&((1===re.pipesCount&&re.pipes===X||re.pipesCount>1&&-1!==ne(re.pipes,X))&&!K&&(O("false write response, pause",V._readableState.awaitDrain),V._readableState.awaitDrain++,$=!0),V.pause())}function ue(Re){O("onerror",Re),Pe(),X.removeListener("error",ue),0===D(X,"error")&&X.emit("error",Re)}function be(){X.removeListener("finish",we),Pe()}function we(){O("onfinish"),X.removeListener("close",be),Pe()}function Pe(){O("unpipe"),V.unpipe(X)}return V.on("data",ce),function g(X,F,V){if("function"==typeof X.prependListener)return X.prependListener(F,V);X._events&&X._events[F]?R(X._events[F])?X._events[F].unshift(V):X._events[F]=[V,X._events[F]]:X.on(F,V)}(X,"error",ue),X.once("close",be),X.once("finish",we),X.emit("pipe",V),re.flowing||(O("pipe resume"),V.resume()),X},E.prototype.unpipe=function(X){var F=this._readableState,V={hasUnpiped:!1};if(0===F.pipesCount)return this;if(1===F.pipesCount)return X&&X!==F.pipes||(X||(X=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,X&&X.emit("unpipe",this,V)),this;if(!X){var re=F.pipes,B=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var te=0;te<B;te++)re[te].emit("unpipe",this,V);return this}var me=ne(F.pipes,X);return-1===me||(F.pipes.splice(me,1),F.pipesCount-=1,1===F.pipesCount&&(F.pipes=F.pipes[0]),X.emit("unpipe",this,V)),this},E.prototype.addListener=E.prototype.on=function(X,F){var V=c.prototype.on.call(this,X,F);if("data"===X)!1!==this._readableState.flowing&&this.resume();else if("readable"===X){var re=this._readableState;!re.endEmitted&&!re.readableListening&&(re.readableListening=re.needReadable=!0,re.emittedReadable=!1,re.reading?re.length&&Y(this):I.nextTick(J,this))}return V},E.prototype.resume=function(){var X=this._readableState;return X.flowing||(O("resume"),X.flowing=!0,function fe(X,F){F.resumeScheduled||(F.resumeScheduled=!0,I.nextTick(ae,X,F))}(this,X)),this},E.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this},E.prototype.wrap=function(X){var F=this,V=this._readableState,re=!1;for(var B in X.on("end",function(){if(O("wrapped end"),V.decoder&&!V.ended){var me=V.decoder.end();me&&me.length&&F.push(me)}F.push(null)}),X.on("data",function(me){O("wrapped data"),V.decoder&&(me=V.decoder.write(me)),V.objectMode&&null==me||!(V.objectMode||me&&me.length)||F.push(me)||(re=!0,X.pause())}),X)void 0===this[B]&&"function"==typeof X[B]&&(this[B]=function(me){return function(){return X[me].apply(X,arguments)}}(B));for(var te=0;te<y.length;te++)X.on(y[te],this.emit.bind(this,y[te]));return this._read=function(me){O("wrapped _read",me),re&&(re=!1,X.resume())},this},Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=he}).call(this,m("./node_modules/webpack/buildin/global.js"),m("./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":function(Ie,U,m){"use strict";Ie.exports=R;var M=m("./node_modules/readable-stream/lib/_stream_duplex.js"),T=Object.create(m("./node_modules/core-util-is/lib/util.js"));function I(D,c){var l=this._transformState;l.transforming=!1;var f=l.writecb;if(!f)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,null!=c&&this.push(c),f(D);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function R(D){if(!(this instanceof R))return new R(D);M.call(this,D),this._transformState={afterTransform:I.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",P)}function P(){var D=this;"function"==typeof this._flush?this._flush(function(c,l){w(D,c,l)}):w(this,null,null)}function w(D,c,l){if(c)return D.emit("error",c);if(null!=l&&D.push(l),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}T.inherits=m("./node_modules/inherits/inherits_browser.js"),T.inherits(R,M),R.prototype.push=function(D,c){return this._transformState.needTransform=!1,M.prototype.push.call(this,D,c)},R.prototype._transform=function(D,c,l){throw new Error("_transform() is not implemented")},R.prototype._write=function(D,c,l){var f=this._transformState;if(f.writecb=l,f.writechunk=D,f.writeencoding=c,!f.transforming){var d=this._readableState;(f.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},R.prototype._read=function(D){var c=this._transformState;null!==c.writechunk&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},R.prototype._destroy=function(D,c){var l=this;M.prototype._destroy.call(this,D,function(f){c(f),l.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":function(Ie,U,m){"use strict";(function(M,T,I){var R=m("./node_modules/process-nextick-args/index.js");function w(ae){var pe=this;this.next=null,this.entry=null,this.finish=function(){!function fe(ae,pe,he){var de=ae.entry;for(ae.entry=null;de;){var ve=de.callback;pe.pendingcb--,ve(he),de=de.next}pe.corkedRequestsFree?pe.corkedRequestsFree.next=ae:pe.corkedRequestsFree=ae}(pe,ae)}}Ie.exports=g;var c,D=!M.browser&&["v0.10","v0.9."].indexOf(M.version.slice(0,5))>-1?T:R.nextTick;g.WritableState=p;var l=Object.create(m("./node_modules/core-util-is/lib/util.js"));l.inherits=m("./node_modules/inherits/inherits_browser.js");var f={deprecate:m("./node_modules/util-deprecate/browser.js")},d=m("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),_=m("./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,L=I.Uint8Array||function(){};var y,b=m("./node_modules/readable-stream/lib/internal/streams/destroy.js");function v(){}function p(ae,pe){c=c||m("./node_modules/readable-stream/lib/_stream_duplex.js");var he=pe instanceof c;this.objectMode=!!(ae=ae||{}).objectMode,he&&(this.objectMode=this.objectMode||!!ae.writableObjectMode);var de=ae.highWaterMark,ve=ae.writableHighWaterMark;this.highWaterMark=de||0===de?de:he&&(ve||0===ve)?ve:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ae.decodeStrings),this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ge){!function H(ae,pe){var he=ae._writableState,de=he.sync,ve=he.writecb;if(function le(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}(he),pe)!function Z(ae,pe,he,de,ve){--pe.pendingcb,he?(R.nextTick(ve,de),R.nextTick(ye,ae,pe),ae._writableState.errorEmitted=!0,ae.emit("error",de)):(ve(de),ae._writableState.errorEmitted=!0,ae.emit("error",de),ye(ae,pe))}(ae,he,de,pe,ve);else{var se=z(he);!se&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&Y(ae,he),de?D(W,ae,he,se,ve):W(ae,he,se,ve)}}(pe,ge)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function g(ae){if(c=c||m("./node_modules/readable-stream/lib/_stream_duplex.js"),!(y.call(g,this)||this instanceof c))return new g(ae);this._writableState=new p(ae,this),this.writable=!0,ae&&("function"==typeof ae.write&&(this._write=ae.write),"function"==typeof ae.writev&&(this._writev=ae.writev),"function"==typeof ae.destroy&&(this._destroy=ae.destroy),"function"==typeof ae.final&&(this._final=ae.final)),d.call(this)}function G(ae,pe,he,de,ve,se){if(!he){var Se=function N(ae,pe,he){return!ae.objectMode&&!1!==ae.decodeStrings&&"string"==typeof pe&&(pe=_.from(pe,he)),pe}(pe,de,ve);de!==Se&&(he=!0,ve="buffer",de=Se)}var ge=pe.objectMode?1:de.length;pe.length+=ge;var ne=pe.length<pe.highWaterMark;if(ne||(pe.needDrain=!0),pe.writing||pe.corked){var X=pe.lastBufferedRequest;pe.lastBufferedRequest={chunk:de,encoding:ve,isBuf:he,callback:se,next:null},X?X.next=pe.lastBufferedRequest:pe.bufferedRequest=pe.lastBufferedRequest,pe.bufferedRequestCount+=1}else ee(ae,pe,!1,ge,de,ve,se);return ne}function ee(ae,pe,he,de,ve,se,Se){pe.writelen=de,pe.writecb=Se,pe.writing=!0,pe.sync=!0,he?ae._writev(ve,pe.onwrite):ae._write(ve,se,pe.onwrite),pe.sync=!1}function W(ae,pe,he,de){he||function x(ae,pe){0===pe.length&&pe.needDrain&&(pe.needDrain=!1,ae.emit("drain"))}(ae,pe),pe.pendingcb--,de(),ye(ae,pe)}function Y(ae,pe){pe.bufferProcessing=!0;var he=pe.bufferedRequest;if(ae._writev&&he&&he.next){var ve=new Array(pe.bufferedRequestCount),se=pe.corkedRequestsFree;se.entry=he;for(var Se=0,ge=!0;he;)ve[Se]=he,he.isBuf||(ge=!1),he=he.next,Se+=1;ve.allBuffers=ge,ee(ae,pe,!0,pe.length,ve,"",se.finish),pe.pendingcb++,pe.lastBufferedRequest=null,se.next?(pe.corkedRequestsFree=se.next,se.next=null):pe.corkedRequestsFree=new w(pe),pe.bufferedRequestCount=0}else{for(;he;){var ne=he.chunk;if(ee(ae,pe,!1,pe.objectMode?1:ne.length,ne,he.encoding,he.callback),he=he.next,pe.bufferedRequestCount--,pe.writing)break}null===he&&(pe.lastBufferedRequest=null)}pe.bufferedRequest=he,pe.bufferProcessing=!1}function z(ae){return ae.ending&&0===ae.length&&null===ae.bufferedRequest&&!ae.finished&&!ae.writing}function ie(ae,pe){ae._final(function(he){pe.pendingcb--,he&&ae.emit("error",he),pe.prefinished=!0,ae.emit("prefinish"),ye(ae,pe)})}function ye(ae,pe){var he=z(pe);return he&&(function oe(ae,pe){!pe.prefinished&&!pe.finalCalled&&("function"==typeof ae._final?(pe.pendingcb++,pe.finalCalled=!0,R.nextTick(ie,ae,pe)):(pe.prefinished=!0,ae.emit("prefinish")))}(ae,pe),0===pe.pendingcb&&(pe.finished=!0,ae.emit("finish"))),he}l.inherits(g,d),p.prototype.getBuffer=function(){for(var pe=this.bufferedRequest,he=[];pe;)he.push(pe),pe=pe.next;return he},function(){try{Object.defineProperty(p.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(ae){return!!y.call(this,ae)||this===g&&ae&&ae._writableState instanceof p}})):y=function(ae){return ae instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(ae,pe,he){var de=this._writableState,ve=!1,se=!de.objectMode&&function O(ae){return _.isBuffer(ae)||ae instanceof L}(ae);return se&&!_.isBuffer(ae)&&(ae=function S(ae){return _.from(ae)}(ae)),"function"==typeof pe&&(he=pe,pe=null),se?pe="buffer":pe||(pe=de.defaultEncoding),"function"!=typeof he&&(he=v),de.ended?function A(ae,pe){var he=new Error("write after end");ae.emit("error",he),R.nextTick(pe,he)}(this,he):(se||function E(ae,pe,he,de){var ve=!0,se=!1;return null===he?se=new TypeError("May not write null values to stream"):"string"!=typeof he&&void 0!==he&&!pe.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se&&(ae.emit("error",se),R.nextTick(de,se),ve=!1),ve}(this,de,ae,he))&&(de.pendingcb++,ve=G(this,de,se,ae,pe,he)),ve},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.finished&&!ae.bufferProcessing&&ae.bufferedRequest&&Y(this,ae))},g.prototype.setDefaultEncoding=function(pe){if("string"==typeof pe&&(pe=pe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+pe);return this._writableState.defaultEncoding=pe,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(ae,pe,he){he(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(ae,pe,he){var de=this._writableState;"function"==typeof ae?(he=ae,ae=null,pe=null):"function"==typeof pe&&(he=pe,pe=null),null!=ae&&this.write(ae,pe),de.corked&&(de.corked=1,this.uncork()),!de.ending&&!de.finished&&function J(ae,pe,he){pe.ending=!0,ye(ae,pe),he&&(pe.finished?R.nextTick(he):ae.once("finish",he)),pe.ended=!0,ae.writable=!1}(this,de,he)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ae){!this._writableState||(this._writableState.destroyed=ae)}}),g.prototype.destroy=b.destroy,g.prototype._undestroy=b.undestroy,g.prototype._destroy=function(ae,pe){this.end(),pe(ae)}}).call(this,m("./node_modules/process/browser.js"),m("./node_modules/timers-browserify/main.js").setImmediate,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":function(Ie,U,m){"use strict";var T=m("./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,I=m(1);function R(P,w,D){P.copy(w,D)}Ie.exports=function(){function P(){(function M(P,w){if(!(P instanceof w))throw new TypeError("Cannot call a class as a function")})(this,P),this.head=null,this.tail=null,this.length=0}return P.prototype.push=function(D){var c={data:D,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},P.prototype.unshift=function(D){var c={data:D,next:this.head};0===this.length&&(this.tail=c),this.head=c,++this.length},P.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}},P.prototype.clear=function(){this.head=this.tail=null,this.length=0},P.prototype.join=function(D){if(0===this.length)return"";for(var c=this.head,l=""+c.data;c=c.next;)l+=D+c.data;return l},P.prototype.concat=function(D){if(0===this.length)return T.alloc(0);if(1===this.length)return this.head.data;for(var c=T.allocUnsafe(D>>>0),l=this.head,f=0;l;)R(l.data,c,f),f+=l.data.length,l=l.next;return c},P}(),I&&I.inspect&&I.inspect.custom&&(Ie.exports.prototype[I.inspect.custom]=function(){var P=I.inspect({length:this.length});return this.constructor.name+" "+P})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":function(Ie,U,m){"use strict";var M=m("./node_modules/process-nextick-args/index.js");function R(P,w){P.emit("error",w)}Ie.exports={destroy:function T(P,w){var D=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(w?w(P):P&&(!this._writableState||!this._writableState.errorEmitted)&&M.nextTick(R,this,P),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(f){!w&&f?(M.nextTick(R,D,f),D._writableState&&(D._writableState.errorEmitted=!0)):w&&w(f)}),this)},undestroy:function I(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":function(Ie,U,m){Ie.exports=m("./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":function(Ie,U,m){var M=m("./node_modules/buffer/index.js"),T=M.Buffer;function I(P,w){for(var D in P)w[D]=P[D]}function R(P,w,D){return T(P,w,D)}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?Ie.exports=M:(I(M,U),U.Buffer=R),I(T,R),R.from=function(P,w,D){if("number"==typeof P)throw new TypeError("Argument must not be a number");return T(P,w,D)},R.alloc=function(P,w,D){if("number"!=typeof P)throw new TypeError("Argument must be a number");var c=T(P);return void 0!==w?"string"==typeof D?c.fill(w,D):c.fill(w):c.fill(0),c},R.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return T(P)},R.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return M.SlowBuffer(P)}},"./node_modules/readable-stream/passthrough.js":function(Ie,U,m){Ie.exports=m("./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":function(Ie,U,m){(U=Ie.exports=m("./node_modules/readable-stream/lib/_stream_readable.js")).Stream=U,U.Readable=U,U.Writable=m("./node_modules/readable-stream/lib/_stream_writable.js"),U.Duplex=m("./node_modules/readable-stream/lib/_stream_duplex.js"),U.Transform=m("./node_modules/readable-stream/lib/_stream_transform.js"),U.PassThrough=m("./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":function(Ie,U,m){Ie.exports=m("./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":function(Ie,U,m){Ie.exports=m("./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":function(Ie,U,m){var M=m("./node_modules/buffer/index.js"),T=M.Buffer;function I(P,w){for(var D in P)w[D]=P[D]}function R(P,w,D){return T(P,w,D)}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?Ie.exports=M:(I(M,U),U.Buffer=R),R.prototype=Object.create(T.prototype),I(T,R),R.from=function(P,w,D){if("number"==typeof P)throw new TypeError("Argument must not be a number");return T(P,w,D)},R.alloc=function(P,w,D){if("number"!=typeof P)throw new TypeError("Argument must be a number");var c=T(P);return void 0!==w?"string"==typeof D?c.fill(w,D):c.fill(w):c.fill(0),c},R.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return T(P)},R.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return M.SlowBuffer(P)}},"./node_modules/sax/lib/sax.js":function(Ie,U,m){(function(M){!function(T){T.parser=function(F,V){return new R(F,V)},T.SAXParser=R,T.SAXStream=d,T.createStream=function f(F,V){return new d(F,V)},T.MAX_BUFFER_LENGTH=65536;var c,I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function R(F,V){if(!(this instanceof R))return new R(F,V);var re=this;(function w(F){for(var V=0,re=I.length;V<re;V++)F[I[V]]=""})(re),re.q=re.c="",re.bufferCheckPosition=T.MAX_BUFFER_LENGTH,re.opt=V||{},re.opt.lowercase=re.opt.lowercase||re.opt.lowercasetags,re.looseCase=re.opt.lowercase?"toLowerCase":"toUpperCase",re.tags=[],re.closed=re.closedRoot=re.sawRoot=!1,re.tag=re.error=null,re.strict=!!F,re.noscript=!(!F&&!re.opt.noscript),re.state=x.BEGIN,re.strictEntities=re.opt.strictEntities,re.ENTITIES=Object.create(re.strictEntities?T.XML_ENTITIES:T.ENTITIES),re.attribList=[],re.opt.xmlns&&(re.ns=Object.create(A)),re.trackPosition=!1!==re.opt.position,re.trackPosition&&(re.position=re.line=re.column=0),z(re,"onready")}T.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(F){function V(){}return V.prototype=F,new V}),Object.keys||(Object.keys=function(F){var V=[];for(var re in F)F.hasOwnProperty(re)&&V.push(re);return V}),R.prototype={end:function(){fe(this)},write:function X(F){var V=this;if(this.error)throw this.error;if(V.closed)return J(V,"Cannot write after close. Assign an onready handler.");if(null===F)return fe(V);"object"==typeof F&&(F=F.toString());for(var re=0,B="";B=ne(F,re++),V.c=B,B;)switch(V.trackPosition&&(V.position++,"\n"===B?(V.line++,V.column=0):V.column++),V.state){case x.BEGIN:if(V.state=x.BEGIN_WHITESPACE,"\ufeff"===B)continue;ge(V,B);continue;case x.BEGIN_WHITESPACE:ge(V,B);continue;case x.TEXT:if(V.sawRoot&&!V.closedRoot){for(var te=re-1;B&&"<"!==B&&"&"!==B;)(B=ne(F,re++))&&V.trackPosition&&(V.position++,"\n"===B?(V.line++,V.column=0):V.column++);V.textNode+=F.substring(te,re-1)}"<"!==B||V.sawRoot&&V.closedRoot&&!V.strict?(W(_,B)&&(!V.sawRoot||V.closedRoot)&&ae(V,"Text data outside of root node."),"&"===B?V.state=x.TEXT_ENTITY:V.textNode+=B):(V.state=x.OPEN_WAKA,V.startTagPosition=V.position);continue;case x.SCRIPT:"<"===B?V.state=x.SCRIPT_ENDING:V.script+=B;continue;case x.SCRIPT_ENDING:"/"===B?V.state=x.CLOSE_TAG:(V.script+="<"+B,V.state=x.SCRIPT);continue;case x.OPEN_WAKA:"!"===B?(V.state=x.SGML_DECL,V.sgmlDecl=""):H(_,B)||(H(E,B)?(V.state=x.OPEN_TAG,V.tagName=B):"/"===B?(V.state=x.CLOSE_TAG,V.tagName=""):"?"===B?(V.state=x.PROC_INST,V.procInstName=V.procInstBody=""):(ae(V,"Unencoded <"),V.startTagPosition+1<V.position&&(B=new Array(V.position-V.startTagPosition).join(" ")+B),V.textNode+="<"+B,V.state=x.TEXT));continue;case x.SGML_DECL:"[CDATA["===(V.sgmlDecl+B).toUpperCase()?(ie(V,"onopencdata"),V.state=x.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+B==="--"?(V.state=x.COMMENT,V.comment="",V.sgmlDecl=""):"DOCTYPE"===(V.sgmlDecl+B).toUpperCase()?(V.state=x.DOCTYPE,(V.doctype||V.sawRoot)&&ae(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):">"===B?(ie(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=x.TEXT):(H(O,B)&&(V.state=x.SGML_DECL_QUOTED),V.sgmlDecl+=B);continue;case x.SGML_DECL_QUOTED:B===V.q&&(V.state=x.SGML_DECL,V.q=""),V.sgmlDecl+=B;continue;case x.DOCTYPE:">"===B?(V.state=x.TEXT,ie(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=B,"["===B?V.state=x.DOCTYPE_DTD:H(O,B)&&(V.state=x.DOCTYPE_QUOTED,V.q=B));continue;case x.DOCTYPE_QUOTED:V.doctype+=B,B===V.q&&(V.q="",V.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:V.doctype+=B,"]"===B?V.state=x.DOCTYPE:H(O,B)&&(V.state=x.DOCTYPE_DTD_QUOTED,V.q=B);continue;case x.DOCTYPE_DTD_QUOTED:V.doctype+=B,B===V.q&&(V.state=x.DOCTYPE_DTD,V.q="");continue;case x.COMMENT:"-"===B?V.state=x.COMMENT_ENDING:V.comment+=B;continue;case x.COMMENT_ENDING:"-"===B?(V.state=x.COMMENT_ENDED,V.comment=ye(V.opt,V.comment),V.comment&&ie(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+B,V.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==B?(ae(V,"Malformed comment"),V.comment+="--"+B,V.state=x.COMMENT):V.state=x.TEXT;continue;case x.CDATA:"]"===B?V.state=x.CDATA_ENDING:V.cdata+=B;continue;case x.CDATA_ENDING:"]"===B?V.state=x.CDATA_ENDING_2:(V.cdata+="]"+B,V.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===B?(V.cdata&&ie(V,"oncdata",V.cdata),ie(V,"onclosecdata"),V.cdata="",V.state=x.TEXT):"]"===B?V.cdata+="]":(V.cdata+="]]"+B,V.state=x.CDATA);continue;case x.PROC_INST:"?"===B?V.state=x.PROC_INST_ENDING:H(_,B)?V.state=x.PROC_INST_BODY:V.procInstName+=B;continue;case x.PROC_INST_BODY:if(!V.procInstBody&&H(_,B))continue;"?"===B?V.state=x.PROC_INST_ENDING:V.procInstBody+=B;continue;case x.PROC_INST_ENDING:">"===B?(ie(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=x.TEXT):(V.procInstBody+="?"+B,V.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:H(N,B)?V.tagName+=B:(pe(V),">"===B?ve(V):"/"===B?V.state=x.OPEN_TAG_SLASH:(W(_,B)&&ae(V,"Invalid character in tag name"),V.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===B?(ve(V,!0),se(V)):(ae(V,"Forward-slash in opening tag not followed by >"),V.state=x.ATTRIB);continue;case x.ATTRIB:if(H(_,B))continue;">"===B?ve(V):"/"===B?V.state=x.OPEN_TAG_SLASH:H(E,B)?(V.attribName=B,V.attribValue="",V.state=x.ATTRIB_NAME):ae(V,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===B?V.state=x.ATTRIB_VALUE:">"===B?(ae(V,"Attribute without value"),V.attribValue=V.attribName,de(V),ve(V)):H(_,B)?V.state=x.ATTRIB_NAME_SAW_WHITE:H(N,B)?V.attribName+=B:ae(V,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===B)V.state=x.ATTRIB_VALUE;else{if(H(_,B))continue;ae(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",ie(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",">"===B?ve(V):H(E,B)?(V.attribName=B,V.state=x.ATTRIB_NAME):(ae(V,"Invalid attribute name"),V.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(H(_,B))continue;H(O,B)?(V.q=B,V.state=x.ATTRIB_VALUE_QUOTED):(ae(V,"Unquoted attribute value"),V.state=x.ATTRIB_VALUE_UNQUOTED,V.attribValue=B);continue;case x.ATTRIB_VALUE_QUOTED:if(B!==V.q){"&"===B?V.state=x.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=B;continue}de(V),V.q="",V.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:H(_,B)?V.state=x.ATTRIB:">"===B?ve(V):"/"===B?V.state=x.OPEN_TAG_SLASH:H(E,B)?(ae(V,"No whitespace between attributes"),V.attribName=B,V.attribValue="",V.state=x.ATTRIB_NAME):ae(V,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(W(b,B)){"&"===B?V.state=x.ATTRIB_VALUE_ENTITY_U:V.attribValue+=B;continue}de(V),">"===B?ve(V):V.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(V.tagName)">"===B?se(V):H(N,B)?V.tagName+=B:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=x.SCRIPT):(W(_,B)&&ae(V,"Invalid tagname in closing tag"),V.state=x.CLOSE_TAG_SAW_WHITE);else{if(H(_,B))continue;W(E,B)?V.script?(V.script+="</"+B,V.state=x.SCRIPT):ae(V,"Invalid tagname in closing tag."):V.tagName=B}continue;case x.CLOSE_TAG_SAW_WHITE:if(H(_,B))continue;">"===B?se(V):ae(V,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var Ee,q;switch(V.state){case x.TEXT_ENTITY:Ee=x.TEXT,q="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:Ee=x.ATTRIB_VALUE_QUOTED,q="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:Ee=x.ATTRIB_VALUE_UNQUOTED,q="attribValue"}";"===B?(V[q]+=Se(V),V.entity="",V.state=Ee):H(V.entity.length?ee:G,B)?V.entity+=B:(ae(V,"Invalid character in entity name"),V[q]+="&"+V.entity+B,V.entity="",V.state=Ee);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&function P(F){for(var V=Math.max(T.MAX_BUFFER_LENGTH,10),re=0,B=0,te=I.length;B<te;B++){var me=F[I[B]].length;if(me>V)switch(I[B]){case"textNode":oe(F);break;case"cdata":ie(F,"oncdata",F.cdata),F.cdata="";break;case"script":ie(F,"onscript",F.script),F.script="";break;default:J(F,"Max buffer length exceeded: "+I[B])}re=Math.max(re,me)}F.bufferCheckPosition=T.MAX_BUFFER_LENGTH-re+F.position}(V),V},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function D(F){oe(F),""!==F.cdata&&(ie(F,"oncdata",F.cdata),F.cdata=""),""!==F.script&&(ie(F,"onscript",F.script),F.script="")}(this)}};try{c=m("./node_modules/stream-browserify/index.js").Stream}catch{c=function(){}}var l=T.EVENTS.filter(function(F){return"error"!==F&&"end"!==F});function d(F,V){if(!(this instanceof d))return new d(F,V);c.apply(this),this._parser=new R(F,V),this.writable=!0,this.readable=!0;var re=this;this._parser.onend=function(){re.emit("end")},this._parser.onerror=function(B){re.emit("error",B),re._parser.error=null},this._decoder=null,l.forEach(function(B){Object.defineProperty(re,"on"+B,{get:function(){return re._parser["on"+B]},set:function(te){if(!te)return re.removeAllListeners(B),re._parser["on"+B]=te,te;re.on(B,te)},enumerable:!0,configurable:!1})})}(d.prototype=Object.create(c.prototype,{constructor:{value:d}})).write=function(F){if("function"==typeof M&&"function"==typeof M.isBuffer&&M.isBuffer(F)){if(!this._decoder){var V=m("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new V("utf8")}F=this._decoder.write(F)}return this._parser.write(F.toString()),this.emit("data",F),!0},d.prototype.end=function(F){return F&&F.length&&this.write(F),this._parser.end(),!0},d.prototype.on=function(F,V){var re=this;return!re._parser["on"+F]&&-1!==l.indexOf(F)&&(re._parser["on"+F]=function(){var B=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);B.splice(0,0,F),re.emit.apply(re,B)}),c.prototype.on.call(re,F,V)};var _="\r\n\t ",L="0124356789",S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",O="'\"",b=_+">",y="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",A={xml:y,xmlns:g};_=Z(_),L=Z(L),S=Z(S);var E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,G=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ee=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function Z(F){return F.split("").reduce(function(V,re){return V[re]=!0,V},{})}function H(F,V){return function le(F){return"[object RegExp]"===Object.prototype.toString.call(F)}(F)?!!V.match(F):F[V]}function W(F,V){return!H(F,V)}O=Z(O),b=Z(b);var F,V,re,x=0;for(var Y in T.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},T.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(T.ENTITIES).forEach(function(F){var V=T.ENTITIES[F],re="number"==typeof V?String.fromCharCode(V):V;T.ENTITIES[F]=re}),T.STATE)T.STATE[T.STATE[Y]]=Y;function z(F,V,re){F[V]&&F[V](re)}function ie(F,V,re){F.textNode&&oe(F),z(F,V,re)}function oe(F){F.textNode=ye(F.opt,F.textNode),F.textNode&&z(F,"ontext",F.textNode),F.textNode=""}function ye(F,V){return F.trim&&(V=V.trim()),F.normalize&&(V=V.replace(/\s+/g," ")),V}function J(F,V){return oe(F),F.trackPosition&&(V+="\nLine: "+F.line+"\nColumn: "+F.column+"\nChar: "+F.c),V=new Error(V),F.error=V,z(F,"onerror",V),F}function fe(F){return F.sawRoot&&!F.closedRoot&&ae(F,"Unclosed root tag"),F.state!==x.BEGIN&&F.state!==x.BEGIN_WHITESPACE&&F.state!==x.TEXT&&J(F,"Unexpected end"),oe(F),F.c="",F.closed=!0,z(F,"onend"),R.call(F,F.strict,F.opt),F}function ae(F,V){if("object"!=typeof F||!(F instanceof R))throw new Error("bad call to strictFail");F.strict&&J(F,V)}function pe(F){F.strict||(F.tagName=F.tagName[F.looseCase]());var V=F.tags[F.tags.length-1]||F,re=F.tag={name:F.tagName,attributes:{}};F.opt.xmlns&&(re.ns=V.ns),F.attribList.length=0,ie(F,"onopentagstart",re)}function he(F,V){var B=F.indexOf(":")<0?["",F]:F.split(":"),te=B[0],me=B[1];return V&&"xmlns"===F&&(te="xmlns",me=""),{prefix:te,local:me}}function de(F){if(F.strict||(F.attribName=F.attribName[F.looseCase]()),-1!==F.attribList.indexOf(F.attribName)||F.tag.attributes.hasOwnProperty(F.attribName))F.attribName=F.attribValue="";else{if(F.opt.xmlns){var V=he(F.attribName,!0),B=V.local;if("xmlns"===V.prefix)if("xml"===B&&F.attribValue!==y)ae(F,"xml: prefix must be bound to "+y+"\nActual: "+F.attribValue);else if("xmlns"===B&&F.attribValue!==g)ae(F,"xmlns: prefix must be bound to "+g+"\nActual: "+F.attribValue);else{var te=F.tag,me=F.tags[F.tags.length-1]||F;te.ns===me.ns&&(te.ns=Object.create(me.ns)),te.ns[B]=F.attribValue}F.attribList.push([F.attribName,F.attribValue])}else F.tag.attributes[F.attribName]=F.attribValue,ie(F,"onattribute",{name:F.attribName,value:F.attribValue});F.attribName=F.attribValue=""}}function ve(F,V){if(F.opt.xmlns){var re=F.tag,B=he(F.tagName);re.prefix=B.prefix,re.local=B.local,re.uri=re.ns[B.prefix]||"",re.prefix&&!re.uri&&(ae(F,"Unbound namespace prefix: "+JSON.stringify(F.tagName)),re.uri=B.prefix),re.ns&&(F.tags[F.tags.length-1]||F).ns!==re.ns&&Object.keys(re.ns).forEach(function(Pe){ie(F,"onopennamespace",{prefix:Pe,uri:re.ns[Pe]})});for(var me=0,Ee=F.attribList.length;me<Ee;me++){var q=F.attribList[me],K=q[0],j=q[1],$=he(K,!0),ce=$.prefix,be=""===ce?"":re.ns[ce]||"",we={name:K,value:j,prefix:ce,local:$.local,uri:be};ce&&"xmlns"!==ce&&!be&&(ae(F,"Unbound namespace prefix: "+JSON.stringify(ce)),we.uri=ce),F.tag.attributes[K]=we,ie(F,"onattribute",we)}F.attribList.length=0}F.tag.isSelfClosing=!!V,F.sawRoot=!0,F.tags.push(F.tag),ie(F,"onopentag",F.tag),V||(F.state=F.noscript||"script"!==F.tagName.toLowerCase()?x.TEXT:x.SCRIPT,F.tag=null,F.tagName=""),F.attribName=F.attribValue="",F.attribList.length=0}function se(F){if(!F.tagName)return ae(F,"Weird empty close tag."),F.textNode+="</>",void(F.state=x.TEXT);if(F.script){if("script"!==F.tagName)return F.script+="</"+F.tagName+">",F.tagName="",void(F.state=x.SCRIPT);ie(F,"onscript",F.script),F.script=""}var V=F.tags.length,re=F.tagName;F.strict||(re=re[F.looseCase]());for(var B=re;V--&&F.tags[V].name!==B;)ae(F,"Unexpected close tag");if(V<0)return ae(F,"Unmatched closing tag: "+F.tagName),F.textNode+="</"+F.tagName+">",void(F.state=x.TEXT);F.tagName=re;for(var me=F.tags.length;me-- >V;){var Ee=F.tag=F.tags.pop();F.tagName=F.tag.name,ie(F,"onclosetag",F.tagName);var q={};for(var K in Ee.ns)q[K]=Ee.ns[K];F.opt.xmlns&&Ee.ns!==(F.tags[F.tags.length-1]||F).ns&&Object.keys(Ee.ns).forEach(function($){ie(F,"onclosenamespace",{prefix:$,uri:Ee.ns[$]})})}0===V&&(F.closedRoot=!0),F.tagName=F.attribValue=F.attribName="",F.attribList.length=0,F.state=x.TEXT}function Se(F){var B,V=F.entity,re=V.toLowerCase(),te="";return F.ENTITIES[V]?F.ENTITIES[V]:F.ENTITIES[re]?F.ENTITIES[re]:("#"===(V=re).charAt(0)&&("x"===V.charAt(1)?(V=V.slice(2),te=(B=parseInt(V,16)).toString(16)):(V=V.slice(1),te=(B=parseInt(V,10)).toString(10))),V=V.replace(/^0+/,""),te.toLowerCase()!==V?(ae(F,"Invalid character entity"),"&"+F.entity+";"):String.fromCodePoint(B))}function ge(F,V){"<"===V?(F.state=x.OPEN_WAKA,F.startTagPosition=F.position):W(_,V)&&(ae(F,"Non-whitespace before first tag."),F.textNode=V,F.state=x.TEXT)}function ne(F,V){var re="";return V<F.length&&(re=F.charAt(V)),re}x=T.STATE,String.fromCodePoint||(F=String.fromCharCode,V=Math.floor,re=function(){var B=16384,te=[],q=-1,K=arguments.length;if(!K)return"";for(var j="";++q<K;){var $=Number(arguments[q]);if(!isFinite($)||$<0||$>1114111||V($)!==$)throw RangeError("Invalid code point: "+$);$<=65535?te.push($):te.push(55296+(($-=65536)>>10),$%1024+56320),(q+1===K||te.length>B)&&(j+=F.apply(null,te),te.length=0)}return j},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:re,configurable:!0,writable:!0}):String.fromCodePoint=re)}(U)}).call(this,m("./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":function(Ie,U,m){(function(M,T){!function(I,R){"use strict";if(!I.setImmediate){var l,P=1,w={},D=!1,c=I.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(I);g=g&&g.setTimeout?g:I,"[object process]"==={}.toString.call(I.process)?function S(){l=function(A){T.nextTick(function(){L(A)})}}():function O(){if(I.postMessage&&!I.importScripts){var A=!0,E=I.onmessage;return I.onmessage=function(){A=!1},I.postMessage("","*"),I.onmessage=E,A}}()?function b(){var A="setImmediate$"+Math.random()+"$",E=function(N){N.source===I&&"string"==typeof N.data&&0===N.data.indexOf(A)&&L(+N.data.slice(A.length))};I.addEventListener?I.addEventListener("message",E,!1):I.attachEvent("onmessage",E),l=function(N){I.postMessage(A+N,"*")}}():I.MessageChannel?function v(){var A=new MessageChannel;A.port1.onmessage=function(E){L(E.data)},l=function(E){A.port2.postMessage(E)}}():c&&"onreadystatechange"in c.createElement("script")?function p(){var A=c.documentElement;l=function(E){var N=c.createElement("script");N.onreadystatechange=function(){L(E),N.onreadystatechange=null,A.removeChild(N),N=null},A.appendChild(N)}}():function y(){l=function(A){setTimeout(L,0,A)}}(),g.setImmediate=function f(A){"function"!=typeof A&&(A=new Function(""+A));for(var E=new Array(arguments.length-1),N=0;N<E.length;N++)E[N]=arguments[N+1];return w[P]={callback:A,args:E},l(P),P++},g.clearImmediate=d}function d(A){delete w[A]}function L(A){if(D)setTimeout(L,0,A);else{var E=w[A];if(E){D=!0;try{!function _(A){var E=A.callback,N=A.args;switch(N.length){case 0:E();break;case 1:E(N[0]);break;case 2:E(N[0],N[1]);break;case 3:E(N[0],N[1],N[2]);break;default:E.apply(void 0,N)}}(E)}finally{d(A),D=!1}}}}}(typeof self>"u"?typeof M>"u"?this:M:self)}).call(this,m("./node_modules/webpack/buildin/global.js"),m("./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":function(Ie,U,m){Ie.exports=I;var M=m("./node_modules/events/events.js").EventEmitter;function I(){M.call(this)}m("./node_modules/inherits/inherits_browser.js")(I,M),I.Readable=m("./node_modules/readable-stream/readable-browser.js"),I.Writable=m("./node_modules/readable-stream/writable-browser.js"),I.Duplex=m("./node_modules/readable-stream/duplex-browser.js"),I.Transform=m("./node_modules/readable-stream/transform.js"),I.PassThrough=m("./node_modules/readable-stream/passthrough.js"),I.Stream=I,I.prototype.pipe=function(R,P){var w=this;function D(S){R.writable&&!1===R.write(S)&&w.pause&&w.pause()}function c(){w.readable&&w.resume&&w.resume()}w.on("data",D),R.on("drain",c),!R._isStdio&&(!P||!1!==P.end)&&(w.on("end",f),w.on("close",d));var l=!1;function f(){l||(l=!0,R.end())}function d(){l||(l=!0,"function"==typeof R.destroy&&R.destroy())}function _(S){if(L(),0===M.listenerCount(this,"error"))throw S}function L(){w.removeListener("data",D),R.removeListener("drain",c),w.removeListener("end",f),w.removeListener("close",d),w.removeListener("error",_),R.removeListener("error",_),w.removeListener("end",L),w.removeListener("close",L),R.removeListener("close",L)}return w.on("error",_),R.on("error",_),w.on("end",L),w.on("close",L),R.on("close",L),R.emit("pipe",w),R}},"./node_modules/string_decoder/lib/string_decoder.js":function(Ie,U,m){"use strict";var M=m("./node_modules/safe-buffer/index.js").Buffer,T=M.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(p){var y;switch(this.encoding=function R(p){var y=function I(p){if(!p)return"utf8";for(var y;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(y)return;p=(""+p).toLowerCase(),y=!0}}(p);if("string"!=typeof y&&(M.isEncoding===T||!T(p)))throw new Error("Unknown encoding: "+p);return y||p}(p),this.encoding){case"utf16le":this.text=_,this.end=L,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=S,this.end=O,y=3;break;default:return this.write=b,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(y)}function w(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function l(p){var y=this.lastTotal-this.lastNeed,g=function c(p,y,g){if(128!=(192&y[0]))return p.lastNeed=0,"\ufffd";if(p.lastNeed>1&&y.length>1){if(128!=(192&y[1]))return p.lastNeed=1,"\ufffd";if(p.lastNeed>2&&y.length>2&&128!=(192&y[2]))return p.lastNeed=2,"\ufffd"}}(this,p);return void 0!==g?g:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function _(p,y){if((p.length-y)%2==0){var g=p.toString("utf16le",y);if(g){var A=g.charCodeAt(g.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function L(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):y}function S(p,y){var g=(p.length-y)%3;return 0===g?p.toString("base64",y):(this.lastNeed=3-g,this.lastTotal=3,1===g?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-g))}function O(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function b(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}U.StringDecoder=P,P.prototype.write=function(p){if(0===p.length)return"";var y,g;if(this.lastNeed){if(void 0===(y=this.fillLast(p)))return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<p.length?y?y+this.text(p,g):this.text(p,g):y||""},P.prototype.end=function d(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"\ufffd":y},P.prototype.text=function f(p,y){var g=function D(p,y,g){var A=y.length-1;if(A<g)return 0;var E=w(y[A]);return E>=0?(E>0&&(p.lastNeed=E-1),E):--A<g||-2===E?0:(E=w(y[A]))>=0?(E>0&&(p.lastNeed=E-2),E):--A<g||-2===E?0:(E=w(y[A]))>=0?(E>0&&(2===E?E=0:p.lastNeed=E-3),E):0}(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=g;var A=p.length-(g-this.lastNeed);return p.copy(this.lastChar,0,A),p.toString("utf8",y,A)},P.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},"./node_modules/timers-browserify/main.js":function(Ie,U,m){(function(M){var T=typeof M<"u"&&M||typeof self<"u"&&self||window,I=Function.prototype.apply;function R(P,w){this._id=P,this._clearFn=w}U.setTimeout=function(){return new R(I.call(setTimeout,T,arguments),clearTimeout)},U.setInterval=function(){return new R(I.call(setInterval,T,arguments),clearInterval)},U.clearTimeout=U.clearInterval=function(P){P&&P.close()},R.prototype.unref=R.prototype.ref=function(){},R.prototype.close=function(){this._clearFn.call(T,this._id)},U.enroll=function(P,w){clearTimeout(P._idleTimeoutId),P._idleTimeout=w},U.unenroll=function(P){clearTimeout(P._idleTimeoutId),P._idleTimeout=-1},U._unrefActive=U.active=function(P){clearTimeout(P._idleTimeoutId);var w=P._idleTimeout;w>=0&&(P._idleTimeoutId=setTimeout(function(){P._onTimeout&&P._onTimeout()},w))},m("./node_modules/setimmediate/setImmediate.js"),U.setImmediate=typeof self<"u"&&self.setImmediate||typeof M<"u"&&M.setImmediate||this&&this.setImmediate,U.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof M<"u"&&M.clearImmediate||this&&this.clearImmediate}).call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":function(Ie,U,m){var M;!function(T,I){"use strict";var D="function",c="undefined",l="object",f="string",_="model",L="name",S="type",O="vendor",b="version",v="architecture",p="console",y="mobile",g="tablet",A="smarttv",E="wearable",N="embedded",ee="Amazon",Z="Apple",H="BlackBerry",W="Browser",x="Chrome",z="Firefox",ie="Google",J="Microsoft",fe="Motorola",ae="Opera",pe="Samsung",de="Sony",ve="Xiaomi",se="Zebra",Se="Facebook",ne=function(ce){for(var ue={},be=0;be<ce.length;be++)ue[ce[be].toUpperCase()]=ce[be];return ue},X=function(ce,ue){return typeof ce===f&&-1!==F(ue).indexOf(F(ce))},F=function(ce){return ce.toLowerCase()},re=function(ce,ue){if(typeof ce===f)return ce=ce.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ue===c?ce:ce.substring(0,350)},B=function(ce,ue){for(var we,Pe,Re,Ue,Ce,Oe,be=0;be<ue.length&&!Ce;){var Ge=ue[be],Ne=ue[be+1];for(we=Pe=0;we<Ge.length&&!Ce;)if(Ce=Ge[we++].exec(ce))for(Re=0;Re<Ne.length;Re++)Oe=Ce[++Pe],typeof(Ue=Ne[Re])===l&&Ue.length>0?2===Ue.length?this[Ue[0]]=typeof Ue[1]==D?Ue[1].call(this,Oe):Ue[1]:3===Ue.length?this[Ue[0]]=typeof Ue[1]!==D||Ue[1].exec&&Ue[1].test?Oe?Oe.replace(Ue[1],Ue[2]):I:Oe?Ue[1].call(this,Oe,Ue[2]):I:4===Ue.length&&(this[Ue[0]]=Oe?Ue[3].call(this,Oe.replace(Ue[1],Ue[2])):I):this[Ue]=Oe||I;be+=2}},te=function(ce,ue){for(var be in ue)if(typeof ue[be]===l&&ue[be].length>0){for(var we=0;we<ue[be].length;we++)if(X(ue[be][we],ce))return"?"===be?I:be}else if(X(ue[be],ce))return"?"===be?I:be;return ce},Ee={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[L,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[L,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[L,b],[/opios[\/ ]+([\w\.]+)/i],[b,[L,ae+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[L,ae]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[L,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[L,"UC"+W]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[L,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[L,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[L,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[L,"IE"]],[/yabrowser\/([\w\.]+)/i],[b,[L,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[L,/(.+)/,"$1 Secure "+W],b],[/\bfocus\/([\w\.]+)/i],[b,[L,z+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[L,ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[L,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[L,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[L,ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[L,"MIUI "+W]],[/fxios\/([-\w\.]+)/i],[b,[L,z]],[/\bqihu|(qi?ho?o?|360)browser/i],[[L,"360 "+W]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[L,/(.+)/,"$1 "+W],b],[/(comodo_dragon)\/([\w\.]+)/i],[[L,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[L,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[L],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[L,Se],b],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[L,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[L,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[L,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[L,x+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[L,"Android "+W]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[L,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[L,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,L],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[L,[b,te,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[L,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[L,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[L,z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[L,b]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,F]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[O,pe],[S,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[_,[O,pe],[S,y]],[/\((ip(?:hone|od)[\w ]*);/i],[_,[O,Z],[S,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[O,Z],[S,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[_,[O,"Huawei"],[S,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[_,[O,"Huawei"],[S,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[_,/_/g," "],[O,ve],[S,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[_,/_/g," "],[O,ve],[S,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[O,"OPPO"],[S,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[O,"Vivo"],[S,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[_,[O,"Realme"],[S,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[O,fe],[S,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[O,fe],[S,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[O,"LG"],[S,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[O,"LG"],[S,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[_,[O,"Lenovo"],[S,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[_,/_/g," "],[O,"Nokia"],[S,y]],[/(pixel c)\b/i],[_,[O,ie],[S,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[O,ie],[S,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[O,de],[S,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[O,de],[S,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[O,"OnePlus"],[S,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[O,ee],[S,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[O,ee],[S,y]],[/(playbook);[-\w\),; ]+(rim)/i],[_,O,[S,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[O,H],[S,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[O,"ASUS"],[S,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[O,"ASUS"],[S,y]],[/(nexus 9)/i],[_,[O,"HTC"],[S,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[O,[_,/_/g," "],[S,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[O,"Acer"],[S,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[O,"Meizu"],[S,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[O,"Sharp"],[S,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[O,_,[S,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[O,_,[S,g]],[/(surface duo)/i],[_,[O,J],[S,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[O,"Fairphone"],[S,y]],[/(u304aa)/i],[_,[O,"AT&T"],[S,y]],[/\bsie-(\w*)/i],[_,[O,"Siemens"],[S,y]],[/\b(rct\w+) b/i],[_,[O,"RCA"],[S,g]],[/\b(venue[\d ]{2,7}) b/i],[_,[O,"Dell"],[S,g]],[/\b(q(?:mv|ta)\w+) b/i],[_,[O,"Verizon"],[S,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[_,[O,"Barnes & Noble"],[S,g]],[/\b(tm\d{3}\w+) b/i],[_,[O,"NuVision"],[S,g]],[/\b(k88) b/i],[_,[O,"ZTE"],[S,g]],[/\b(nx\d{3}j) b/i],[_,[O,"ZTE"],[S,y]],[/\b(gen\d{3}) b.+49h/i],[_,[O,"Swiss"],[S,y]],[/\b(zur\d{3}) b/i],[_,[O,"Swiss"],[S,g]],[/\b((zeki)?tb.*\b) b/i],[_,[O,"Zeki"],[S,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[O,"Dragon Touch"],_,[S,g]],[/\b(ns-?\w{0,9}) b/i],[_,[O,"Insignia"],[S,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[_,[O,"NextBook"],[S,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[O,"Voice"],_,[S,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[O,"LvTel"],_,[S,y]],[/\b(ph-1) /i],[_,[O,"Essential"],[S,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[_,[O,"Envizen"],[S,g]],[/\b(trio[-\w\. ]+) b/i],[_,[O,"MachSpeed"],[S,g]],[/\btu_(1491) b/i],[_,[O,"Rotor"],[S,g]],[/(shield[\w ]+) b/i],[_,[O,"Nvidia"],[S,g]],[/(sprint) (\w+)/i],[O,_,[S,y]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[O,J],[S,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[O,se],[S,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[O,se],[S,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[O,_,[S,p]],[/droid.+; (shield) bui/i],[_,[O,"Nvidia"],[S,p]],[/(playstation [345portablevi]+)/i],[_,[O,de],[S,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[O,J],[S,p]],[/smart-tv.+(samsung)/i],[O,[S,A]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[O,pe],[S,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[O,"LG"],[S,A]],[/(apple) ?tv/i],[O,[_,Z+" TV"],[S,A]],[/crkey/i],[[_,x+"cast"],[O,ie],[S,A]],[/droid.+aft(\w)( bui|\))/i],[_,[O,ee],[S,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[_,[O,"Sharp"],[S,A]],[/(bravia[\w ]+)( bui|\))/i],[_,[O,de],[S,A]],[/(mitv-\w{5}) bui/i],[_,[O,ve],[S,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[O,re],[_,re],[S,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,A]],[/((pebble))app/i],[O,_,[S,E]],[/droid.+; (glass) \d/i],[_,[O,ie],[S,E]],[/droid.+; (wt63?0{2,3})\)/i],[_,[O,se],[S,E]],[/(quest( 2)?)/i],[_,[O,Se],[S,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[O,[S,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[_,[S,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[_,[S,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[S,y]],[/(android[-\w\. ]{0,9});.+buil/i],[_,[O,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[L,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[L,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[L,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,L]],os:[[/microsoft (windows) (vista|xp)/i],[L,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[L,[b,te,Ee]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[L,"Windows"],[b,te,Ee]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[L,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[L,"Mac OS"],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,L],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[L,b],[/\(bb(10);/i],[b,[L,H]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[L,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[L,z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[L,"webOS"]],[/crkey\/([\d\.]+)/i],[b,[L,x+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[L,"Chromium OS"],b],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[L,b],[/(sunos) ?([\w\.\d]*)/i],[[L,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[L,b]]},K=function(ce,ue){if(typeof ce===l&&(ue=ce,ce=I),!(this instanceof K))return new K(ce,ue).getResult();var be=ce||(typeof T!==c&&T.navigator&&T.navigator.userAgent?T.navigator.userAgent:""),we=ue?function(ce,ue){var be={};for(var we in ce)be[we]=ue[we]&&ue[we].length%2==0?ue[we].concat(ce[we]):ce[we];return be}(q,ue):q;return this.getBrowser=function(){var Pe={};return Pe[L]=I,Pe[b]=I,B.call(Pe,be,we.browser),Pe.major=function(ce){return typeof ce===f?ce.replace(/[^\d\.]/g,"").split(".")[0]:I}(Pe.version),Pe},this.getCPU=function(){var Pe={};return Pe[v]=I,B.call(Pe,be,we.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[O]=I,Pe[_]=I,Pe[S]=I,B.call(Pe,be,we.device),Pe},this.getEngine=function(){var Pe={};return Pe[L]=I,Pe[b]=I,B.call(Pe,be,we.engine),Pe},this.getOS=function(){var Pe={};return Pe[L]=I,Pe[b]=I,B.call(Pe,be,we.os),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return be},this.setUA=function(Pe){return be=typeof Pe===f&&Pe.length>350?re(Pe,350):Pe,this},this.setUA(be),this};K.VERSION="1.0.32",K.BROWSER=ne([L,b,"major"]),K.CPU=ne([v]),K.DEVICE=ne([_,O,S,p,y,A,g,E,N]),K.ENGINE=K.OS=ne([L,b]),typeof U!==c?(typeof Ie!==c&&Ie.exports&&(U=Ie.exports=K),U.UAParser=K):m("./node_modules/webpack/buildin/amd-options.js")?(M=function(){return K}.call(U,m,U,Ie))!==I&&(Ie.exports=M):typeof T!==c&&(T.UAParser=K);var j=typeof T!==c&&(T.jQuery||T.Zepto);if(j&&!j.ua){var $=new K;j.ua=$.getResult(),j.ua.get=function(){return $.getUA()},j.ua.set=function(ce){$.setUA(ce);var ue=$.getResult();for(var be in ue)j.ua[be]=ue[be]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":function(Ie,U,m){(function(M){function I(R){try{if(!M.localStorage)return!1}catch{return!1}var P=M.localStorage[R];return null!=P&&"true"===String(P).toLowerCase()}Ie.exports=function T(R,P){if(I("noDeprecation"))return R;var w=!1;return function D(){if(!w){if(I("throwDeprecation"))throw new Error(P);I("traceDeprecation")?console.trace(P):console.warn(P),w=!0}return R.apply(this,arguments)}}}).call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":function(Ie,U){(function(m){Ie.exports=m}).call(this,{})},"./node_modules/webpack/buildin/global.js":function(Ie,U){var m;m=function(){return this}();try{m=m||new Function("return this")()}catch{"object"==typeof window&&(m=window)}Ie.exports=m},"./src/core/Debug.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js"),P=1,w=2,D=3,c=4,l=5;function f(_){_=_||{};var v,p,y,g,L=this.context,S=Object(M.default)(L).getInstance(),O=_.settings,b=[];function E(z){return z&&z.bind?z.bind(window.console):window.console.log.bind(window.console)}function Z(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[P,this].concat(ie))}function le(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[w,this].concat(ie))}function H(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[D,this].concat(ie))}function W(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[c,this].concat(ie))}function x(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[l,this].concat(ie))}function Y(z,ie){var oe="",ye=null;p&&(ye=(new Date).getTime(),oe+="["+(ye-g)+"]"),y&&ie&&ie.getClassName&&(oe+="["+ie.getClassName()+"]",ie.getType&&(oe+="["+ie.getType()+"]")),oe.length>0&&(oe+=" ");for(var J=arguments.length,fe=new Array(J>2?J-2:0),ae=2;ae<J;ae++)fe[ae-2]=arguments[ae];Array.apply(null,fe).forEach(function(pe){oe+=pe+" "}),b[z]&&O.get().debug.logLevel>=z&&b[z](oe),O&&O.get().debug.dispatchEvent&&S.trigger(T.default.LOG,{message:oe,level:z})}return v={getLogger:function N(z){return{fatal:Z.bind(z),error:le.bind(z),warn:H.bind(z),info:W.bind(z),debug:x.bind(z)}},setLogTimestampVisible:function G(z){p=z},setCalleeNameVisible:function ee(z){y=z}},function A(){p=!0,y=!0,g=(new Date).getTime(),typeof window<"u"&&window.console&&(b[P]=E(window.console.error),b[w]=E(window.console.error),b[D]=E(window.console.warn),b[c]=E(window.console.info),b[l]=E(window.console.debug))}(),v}f.__dashjs_factory_name="Debug";var d=I.default.getSingletonFactory(f);d.LOG_LEVEL_NONE=0,d.LOG_LEVEL_FATAL=P,d.LOG_LEVEL_ERROR=w,d.LOG_LEVEL_WARNING=D,d.LOG_LEVEL_INFO=c,d.LOG_LEVEL_DEBUG=l,I.default.updateSingletonFactory(f.__dashjs_factory_name,d),U.default=d},"./src/core/EventBus.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/MediaPlayerEvents.js");function P(){var D={};function d(S,O,b){var v=-1;return D[S]&&D[S].some(function(p,y){if(p&&p.callback===O&&(!b||b===p.scope))return v=y,!0}),v}return{on:function c(S,O,b){var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!S)throw new Error("event type cannot be null or undefined");if(!O||"function"!=typeof O)throw new Error("listener must be a function: "+O);var p=v.priority||0;if(!(d(S,O,b)>=0)){D[S]=D[S]||[];var y={callback:O,scope:b,priority:p};b&&b.getStreamId&&(y.streamId=b.getStreamId()),b&&b.getType&&(y.mediaType=b.getType()),v&&v.mode&&(y.mode=v.mode),D[S].some(function(A,E){if(A&&p>A.priority)return D[S].splice(E,0,y),!0})||D[S].push(y)}},off:function l(S,O,b){if(S&&O&&D[S]){var v=d(S,O,b);v<0||(D[S][v]=null)}},trigger:function f(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(S&&D[S]){if((O=O||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");O.type=S,b.streamId&&(O.streamId=b.streamId),b.mediaType&&(O.mediaType=b.mediaType),D[S].filter(function(v){return!(!v||b.streamId&&v.streamId&&v.streamId!==b.streamId||b.mediaType&&v.mediaType&&v.mediaType!==b.mediaType||b.mode&&v.mode&&v.mode!==b.mode||!v.mode&&b.mode&&b.mode===T.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(v){return v&&v.callback.call(v.scope,O)})}},reset:function _(){D={}}}}P.__dashjs_factory_name="EventBus";var w=M.default.getSingletonFactory(P);w.EVENT_PRIORITY_LOW=0,w.EVENT_PRIORITY_HIGH=5e3,M.default.updateSingletonFactory(P.__dashjs_factory_name,w),U.default=w},"./src/core/FactoryMaker.js":function(Ie,U,m){"use strict";m.r(U);var M=function(){var T,I=[],R={},P={};function D(y,g){for(var A in I){var E=I[A];if(E.context===y&&E.name===g)return E.instance}return null}function f(y,g){return g[y]}function d(y,g,A){y in A&&(A[y]=g)}function p(y,g,A){var E,N=y.__dashjs_factory_name,G=g[N];if(G){var ee=G.instance;if(!G.override)return ee.apply({context:g,factory:T},A);for(var Z in E=y.apply({context:g},A),ee=ee.apply({context:g,factory:T,parent:E},A))E.hasOwnProperty(Z)&&(E[Z]=ee[Z])}else E=y.apply({context:g},A);return E.getClassName=function(){return N},E}return T={extend:function w(y,g,A,E){!E[y]&&g&&(E[y]={instance:g,override:A})},getSingletonInstance:D,setSingletonInstance:function c(y,g,A){for(var E in I){var N=I[E];if(N.context===y&&N.name===g)return void(I[E].instance=A)}I.push({name:g,context:y,instance:A})},deleteSingletonInstances:function l(y){I=I.filter(function(g){return g.context!==y})},getSingletonFactory:function v(y){var g=f(y.__dashjs_factory_name,R);return g||(g=function(E){var N;return void 0===E&&(E={}),{getInstance:function(){return N||(N=D(E,y.__dashjs_factory_name)),N||(N=p(y,E,arguments),I.push({name:y.__dashjs_factory_name,context:E,instance:N})),N}}},R[y.__dashjs_factory_name]=g),g},getSingletonFactoryByName:function b(y){return f(y,R)},updateSingletonFactory:function O(y,g){d(y,g,R)},getClassFactory:function S(y){var g=f(y.__dashjs_factory_name,P);return g||(g=function(E){return void 0===E&&(E={}),{create:function(){return p(y,E,arguments)}}},P[y.__dashjs_factory_name]=g),g},getClassFactoryByName:function L(y){return f(y,P)},updateClassFactory:function _(y,g){d(y,g,P)}}}();U.default=M},"./src/core/Settings.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Utils.js"),I=m("./src/core/Debug.js"),R=m("./src/streaming/constants/Constants.js"),P=m("./src/streaming/vo/metrics/HTTPRequest.js"),w=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js");function c(S){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(S)}function l(S,O,b){return(O=function f(S){var O=function d(S,O){if("object"!==c(S)||null===S)return S;var b=S[Symbol.toPrimitive];if(void 0!==b){var v=b.call(S,O||"default");if("object"!==c(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(S)}(S,"string");return"symbol"===c(O)?O:String(O)}(O))in S?Object.defineProperty(S,O,{value:b,enumerable:!0,configurable:!0,writable:!0}):S[O]=b,S}function _(){var S,O,v=this.context,p=Object(w.default)(v).getInstance(),y={"streaming.delay.liveDelay":D.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":D.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},g={debug:{logLevel:I.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:R.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:R.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:R.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:R.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(S={},l(S,P.HTTPRequest.MPD_TYPE,500),l(S,P.HTTPRequest.XLINK_EXPANSION_TYPE,500),l(S,P.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.INIT_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.LICENSE,1e3),l(S,P.HTTPRequest.OTHER_TYPE,1e3),l(S,"lowLatencyReductionFactor",10),S),retryAttempts:(O={},l(O,P.HTTPRequest.MPD_TYPE,3),l(O,P.HTTPRequest.XLINK_EXPANSION_TYPE,1),l(O,P.HTTPRequest.MEDIA_SEGMENT_TYPE,3),l(O,P.HTTPRequest.INIT_SEGMENT_TYPE,3),l(O,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),l(O,P.HTTPRequest.INDEX_SEGMENT_TYPE,3),l(O,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),l(O,P.HTTPRequest.LICENSE,3),l(O,P.HTTPRequest.OTHER_TYPE,3),l(O,"lowLatencyMultiplyFactor",5),O),abr:{movingAverageMethod:R.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:R.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:R.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:R.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},A=T.default.clone(g);function E(Z,le,H){for(var W in Z)Z.hasOwnProperty(W)&&(le.hasOwnProperty(W)?"object"!==c(Z[W])||Z[W]instanceof Array||null===Z[W]?(le[W]=T.default.clone(Z[W]),y[H+W]&&p.trigger(y[H+W])):E(Z[W],le[W],H.slice()+W+"."):console.error("Settings parameter "+H+W+" is not supported"))}return{get:function N(){return A},update:function G(Z){"object"===c(Z)&&E(Z,A,"")},reset:function ee(){A=T.default.clone(g)}}}_.__dashjs_factory_name="Settings";var L=M.default.getSingletonFactory(_);U.default=L},"./src/core/Utils.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./node_modules/path-browserify/index.js"),T=m.n(M),I=m("./node_modules/ua-parser-js/src/ua-parser.js");function P(_){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(_)}function D(_,L){for(var S=0;S<L.length;S++){var O=L[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,l(O.key),O)}}function l(_){var L=function f(_,L){if("object"!==P(_)||null===_)return _;var S=_[Symbol.toPrimitive];if(void 0!==S){var O=S.call(_,L||"default");if("object"!==P(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(_)}(_,"string");return"symbol"===P(L)?L:String(L)}var d=function(){function _(){!function w(_,L){if(!(_ instanceof L))throw new TypeError("Cannot call a class as a function")}(this,_)}return function c(_,L,S){return L&&D(_.prototype,L),S&&D(_,S),Object.defineProperty(_,"prototype",{writable:!1}),_}(_,null,[{key:"mixin",value:function(S,O,b){var v,p={};if(S)for(var y in O)O.hasOwnProperty(y)&&(v=O[y],(!(y in S)||S[y]!==v&&(!(y in p)||p[y]!==v))&&(S[y]="object"===P(S[y])&&null!==S[y]?_.mixin(S[y],v,b):b(v)));return S}},{key:"clone",value:function(S){if(!S||"object"!==P(S))return S;var O;if(S instanceof Array){O=[];for(var b=0,v=S.length;b<v;++b)b in S&&O.push(_.clone(S[b]))}else O={};return _.mixin(O,S,_.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(S,O){try{if(!O||0===O.length)return S;var b=new URL(S);return O.forEach(function(v){v.key&&v.value&&b.searchParams.set(v.key,v.value)}),b.href}catch{return S}}},{key:"parseHttpHeaders",value:function(S){var O={};if(!S)return O;for(var b=S.trim().split("\r\n"),v=0,p=b.length;v<p;v++){var y=b[v],g=y.indexOf(": ");g>0&&(O[y.substring(0,g)]=y.substring(g+2))}return O}},{key:"generateUuid",value:function(){var S=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var v=(S+16*Math.random())%16|0;return S=Math.floor(S/16),("x"==b?v:3&v|8).toString(16)})}},{key:"generateHashCode",value:function(S){var O=0;if(0===S.length)return O;for(var b=0;b<S.length;b++)O=(O<<5)-O+S.charCodeAt(b),O|=0;return O}},{key:"getRelativeUrl",value:function(S,O){try{var b=new URL(S),v=new URL(O);if(b.protocol=v.protocol,b.origin!==v.origin)return O;var p=T.a.relative(b.pathname.substr(0,b.pathname.lastIndexOf("/")),v.pathname.substr(0,v.pathname.lastIndexOf("/"))),y=0===p.length?1:0;return p+=v.pathname.substr(v.pathname.lastIndexOf("/")+y,v.pathname.length-1),v.pathname.length<p.length?v.pathname:p}catch{return O}}},{key:"parseUserAgent",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var O=null===S&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(I.UAParser)(O)}catch{return{}}}}]),_}();U.default=d},"./src/core/Version.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"getVersionString",function(){return T});function T(){return"4.5.2"}},"./src/core/errors/Errors.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function w(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return d(this,A)}}function d(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=f(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,g.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,g.SEGMENT_BASE_LOADER_ERROR_CODE=15,g.TIME_SYNC_FAILED_ERROR_CODE=16,g.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,g.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,g.APPEND_ERROR_CODE=20,g.REMOVE_ERROR_CODE=21,g.DATA_UPDATE_FAILED_ERROR_CODE=22,g.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,g.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,g.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,g.DOWNLOAD_ERROR_ID_SIDX_CODE=26,g.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,g.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,g.DOWNLOAD_ERROR_ID_XLINK_CODE=29,g.MANIFEST_ERROR_ID_PARSE_CODE=31,g.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,g.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,g.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,g.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",g.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",g.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",g.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",g.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",g.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",g.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",g.APPEND_ERROR_MESSAGE="chunk is not defined",g.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",g.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",g.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",g.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",g.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",g.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",g}return function R(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/errors/ErrorsBase.js").default));U.default=b},"./src/core/errors/ErrorsBase.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,P(d.key),d)}}function P(c){var l=function w(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c)}return function R(c,l,f){return l&&I(c.prototype,l),f&&I(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"extend",value:function(f,d){if(f){var _=!!d&&d.override,L=!!d&&d.publicOnly;for(var S in f)!f.hasOwnProperty(S)||this[S]&&!_||L&&-1===f[S].indexOf("public_")||(this[S]=f[S])}}}]),c}()},"./src/core/events/CoreEvents.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/events/EventsBase.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function w(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function f(b){var v=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return d(this,g)}}function d(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}U.default=function(b){c(p,b);var v=f(p);function p(){var y;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(y=v.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",y.BUFFERING_COMPLETED="bufferingCompleted",y.BUFFER_CLEARED="bufferCleared",y.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",y.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",y.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",y.CURRENT_TRACK_CHANGED="currentTrackChanged",y.DATA_UPDATE_COMPLETED="dataUpdateCompleted",y.INBAND_EVENTS="inbandEvents",y.INITIAL_STREAM_SWITCH="initialStreamSwitch",y.INIT_FRAGMENT_LOADED="initFragmentLoaded",y.INIT_FRAGMENT_NEEDED="initFragmentNeeded",y.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",y.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",y.LOADING_COMPLETED="loadingCompleted",y.LOADING_PROGRESS="loadingProgress",y.LOADING_DATA_PROGRESS="loadingDataProgress",y.LOADING_ABANDONED="loadingAborted",y.MANIFEST_UPDATED="manifestUpdated",y.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",y.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",y.QUOTA_EXCEEDED="quotaExceeded",y.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",y.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",y.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",y.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",y.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",y.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",y.SOURCE_BUFFER_ERROR="sourceBufferError",y.STREAMS_COMPOSED="streamsComposed",y.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",y.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",y.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",y.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",y.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",y.URL_RESOLUTION_FAILED="urlResolutionFailed",y.VIDEO_CHUNK_RECEIVED="videoChunkReceived",y.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",y.XLINK_ELEMENT_LOADED="xlinkElementLoaded",y.XLINK_READY="xlinkReady",y.SEEK_TARGET="seekTarget",y.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",y.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",y.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",y.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",y.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",y}return function R(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/core/events/Events.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function w(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return d(this,A)}}function d(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var O=function(v){c(y,v);var p=f(y);function y(){return D(this,y),p.apply(this,arguments)}return function R(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/events/CoreEvents.js").default),b=new O;U.default=b},"./src/core/events/EventsBase.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,P(d.key),d)}}function P(c){var l=function w(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c)}return function R(c,l,f){return l&&I(c.prototype,l),f&&I(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"extend",value:function(f,d){if(f){var _=!!d&&d.override,L=!!d&&d.publicOnly;for(var S in f)!f.hasOwnProperty(S)||this[S]&&!_||L&&-1===f[S].indexOf("public_")||(this[S]=f[S])}}}]),c}()},"./src/dash/DashAdapter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/constants/DashConstants.js"),T=m("./src/dash/vo/RepresentationInfo.js"),I=m("./src/dash/vo/MediaInfo.js"),R=m("./src/dash/vo/StreamInfo.js"),P=m("./src/dash/vo/ManifestInfo.js"),w=m("./src/dash/vo/Event.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/dash/models/DashManifestModel.js"),l=m("./src/dash/models/PatchManifestModel.js"),f=m("./node_modules/bcp-47-normalize/index.js"),d=m.n(f);function _(){var L,S,O,b,v,p,y,g=this.context;function Z(De){return S.getRolesForAdaptation(De).filter(function(Te){return Te.value===M.default.MAIN})[0]}function le(De,Te,Le){var Ye=S.getAdaptationsForType(b[0].mpd.manifest,De,Te);if(!Ye||0===Ye.length)return null;if(Ye.length>1&&Le){var st=x(Le,Te);if(v[Le.id]&&v[Le.id][Te])for(var tt=0,ut=Ye.length;tt<ut;tt++)if(H(v[Le.id][Te],st[tt]))return Ye[tt];for(var yt=0,gt=Ye.length;yt<gt;yt++)if(Z(Ye[yt]))return Ye[yt]}return Ye[0]}function H(De,Te){if(!De||!Te)return!1;var Le=De.id===Te.id,Ye=De.codec===Te.codec,st=De.viewpoint===Te.viewpoint,tt=De.lang===Te.lang,ut=De.roles.toString()===Te.roles.toString(),yt=De.accessibility.toString()===Te.accessibility.toString(),gt=De.audioChannelConfiguration.toString()===Te.audioChannelConfiguration.toString();return Le&&Ye&&st&&tt&&ut&&yt&&gt}function W(De,Te,Le,Ye,st,tt){var gt,ke,Ze,rt,mt,ut=[];if(!Ye||0===Ye.length)return[];var Dt=S.getAdaptationsForPeriod(Te);for(Ze=0,mt=Ye.length;Ze<mt;Ze++)if(gt=$e(Dt[ke=S.getIndexForAdaptation(Ye[Ze],De,Le.index)]),tt){var Pt=gt.accessibility.length;for(rt=0;rt<Pt;rt++)if(gt){var Bt=gt.accessibility[rt];if(0===Bt.indexOf("cea-608:")){var un=Bt.substring(8).split(";");if("CC"===un[0].substring(0,2))for(rt=0;rt<un.length;rt++)gt||(gt=$e.call(this,Dt[ke])),Je(gt,un[rt].substring(0,3),un[rt].substring(4)),ut.push(gt),gt=null;else for(rt=0;rt<un.length;rt++)gt||(gt=$e.call(this,Dt[ke])),Je(gt,"CC"+(rt+1),un[rt]),ut.push(gt),gt=null}else 0===Bt.indexOf("cea-608")&&(Je(gt,p.CC1,"eng"),ut.push(gt),gt=null)}}else st===p.IMAGE?(nt(gt),ut.push(gt),gt=null):gt&&ut.push(gt);return ut}function x(De,Te,Le){var Ye=b,st=Le,tt=[];if(st)wt(),Ye=X(st);else{if(!(b.length>0))return tt;st=b[0].mpd.manifest}var ut=Ne(De,Ye),yt=S.getAdaptationsForType(st,De?De.index:null,Te);return tt=W(st,ut,De,yt,Te),Te===p.TEXT&&(yt=S.getAdaptationsForType(st,De?De.index:null,p.VIDEO),tt=tt.concat(W(st,ut,De,yt,Te,!0))),tt}function X(De){var Te=F(De);return S.getRegularPeriods(Te)}function F(De){var Te=Oe(De);return S.getMpd(Te)}function Re(){b=[],v={}}function Oe(De){return De||(b.length>0?b[0].mpd.manifest:null)}function Ge(De){try{var Te=Ne(De.streamInfo,b),Le=S.getAdaptationsForPeriod(Te);return De&&De.streamInfo&&void 0!==De.streamInfo.id&&Le?Le[De.index]:null}catch{return null}}function Ne(De,Te){for(var Le=Te.length,Ye=0;Ye<Le;Ye++){var st=Te[Ye];if(De&&De.id===st.id)return st}return null}function $e(De){if(!De)return null;var Ye,Te=new I.default,Le=De.period.mpd.manifest.Period_asArray[De.period.index].AdaptationSet_asArray[De.index];if(Te.id=De.id,Te.index=De.index,Te.type=De.type,Te.streamInfo=at(De.period),Te.representationCount=S.getRepresentationCount(Le),Te.labels=S.getLabelsForAdaptation(Le),Te.lang=S.getLanguageForAdaptation(Le),Ye=S.getViewpointForAdaptation(Le),Te.viewpoint=Ye?Ye.value:void 0,Te.accessibility=S.getAccessibilityForAdaptation(Le).map(function(ut){var yt=ut.value,gt=yt;return ut.schemeIdUri&&ut.schemeIdUri.search("cea-608")>=0&&typeof y<"u"&&(gt=yt?"cea-608:"+yt:"cea-608",Te.embeddedCaptions=!0),gt}),Te.audioChannelConfiguration=S.getAudioChannelConfigurationForAdaptation(Le).map(function(ut){return ut.value}),0===Te.audioChannelConfiguration.length&&Array.isArray(Le.Representation_asArray)&&Le.Representation_asArray.length>0&&(Te.audioChannelConfiguration=S.getAudioChannelConfigurationForRepresentation(Le.Representation_asArray[0]).map(function(ut){return ut.value})),Te.roles=S.getRolesForAdaptation(Le).map(function(ut){return ut.value}),Te.codec=S.getCodec(Le),Te.mimeType=S.getMimeType(Le),Te.contentProtection=S.getContentProtectionData(Le),Te.bitrateList=S.getBitrateListForAdaptation(Le),Te.selectionPriority=S.getSelectionPriority(Le),Te.contentProtection){var st=Te.contentProtection.map(function(ut){return S.getKID(ut)}).filter(function(ut){return null!==ut});if(st.length){var tt=st[0];Te.contentProtection.forEach(function(ut){ut.keyId=tt})}}return Te.isText=S.getIsText(Le),Te.supplementalProperties=S.getSupplementalProperties(Le),Te.isFragmented=S.getIsFragmented(Le),Te.isEmbedded=!1,Te}function Je(De,Te,Le){De.id=Te,De.index=100+parseInt(Te.substring(2,3)),De.type=p.TEXT,De.codec="cea-608-in-SEI",De.isEmbedded=!0,De.isFragmented=!1,De.lang=d()(Le),De.roles=["caption"]}function nt(De){De.type=p.IMAGE}function at(De){var Te=new R.default;return Te.id=De.id,Te.index=De.index,Te.start=De.start,Te.duration=De.duration,Te.manifestInfo=function ht(De){var Te=new P.default;return Te.dvrWindowSize=De.timeShiftBufferDepth,Te.loadedTime=De.manifest.loadedTime,Te.availableFrom=De.availabilityStartTime,Te.minBufferTime=De.manifest.minBufferTime,Te.maxFragmentDuration=De.maxSegmentDuration,Te.duration=S.getDuration(De.manifest),Te.isDynamic=S.getIsDynamic(De.manifest),Te.serviceDescriptions=S.getServiceDescriptions(De.manifest),Te.protocol=De.manifest.protocol,Te}(De.mpd),Te.isLast=1===De.mpd.manifest.Period_asArray.length||Math.abs(Te.start+Te.duration-Te.manifestInfo.duration)<1,Te}function wt(){if(!p)throw new Error("setConfig function has to be called previously")}function Vt(De){return b.length>0?b[0].mpd.manifest.Period_asArray[De]:null}function zt(De,Te,Le){var st,tt,ut,yt,gt;if(De)for(st=De.AdaptationSet_asArray,yt=0;yt<st.length;yt+=1)for(ut=st[yt].Representation_asArray,gt=0;gt<ut.length;gt+=1)if(Te===(tt=ut[gt]).id)return Le?gt:tt;return null}return L={getBandwidthForRepresentation:function ce(De,Te){var Le;return(Le=zt(Vt(Te),De))?Le.bandwidth:null},getIndexForRepresentation:function ue(De,Te){return function kt(De,Te){var Le=zt(De,Te,!0);return null!==Le?Le:-1}(Vt(Te),De)},getMaxIndexForBufferType:function be(De,Te){return function en(De,Te){var Le,Ye,st,tt;if(!De||!Te)return-1;for(Ye=De.AdaptationSet_asArray,tt=0;tt<Ye.length;tt+=1)if(st=(Le=Ye[tt]).Representation_asArray,S.getIsTypeOf(Le,Te))return st.length;return-1}(Vt(Te),De)},convertRepresentationToRepresentationInfo:function G(De){if(De){var Te=new T.default,Ye=S.getRepresentationFor(De.index,De.adaptation.period.mpd.manifest.Period_asArray[De.adaptation.period.index].AdaptationSet_asArray[De.adaptation.index]);return Te.id=De.id,Te.quality=De.index,Te.bandwidth=S.getBandwidth(Ye),Te.fragmentDuration=De.segmentDuration||(De.segments&&De.segments.length>0?De.segments[0].duration:NaN),Te.MSETimeOffset=De.MSETimeOffset,Te.mediaInfo=$e(De.adaptation),Te}return null},getStreamsInfo:function z(De,Te){var Le=[],Ye=b;if(De&&(wt(),Ye=X(De)),Ye.length>0){(!Te||Te>Ye.length)&&(Te=Ye.length);for(var st=0;st<Te;st++)Le.push(at(Ye[st]))}return Le},getMediaInfoForType:function ee(De,Te){if(0===b.length||!De)return null;var Le=Ne(De,b);if(!Le)return null;var Ye=S.getAdaptationsForPeriod(Le),st=le(De.index,Te,De);return st?$e(Ye[S.getIndexForAdaptation(st,b[0].mpd.manifest,De.index)]):null},getAllMediaInfoForType:x,getAdaptationForType:le,getRealAdaptation:function ie(De,Te){var Le,Ye,st=Ne(De,b);return Le=Te?Te.id:null,b.length>0&&st&&(Ye=Le?S.getAdaptationForId(Le,b[0].mpd.manifest,st.index):S.getAdaptationForIndex(Te?Te.index:null,b[0].mpd.manifest,st.index)),Ye},getProducerReferenceTimes:function oe(De,Te){var Le,Ye,st=Ne(De,b);return Le=Te?Te.id:null,b.length>0&&st&&(Ye=Le?S.getAdaptationForId(Le,b[0].mpd.manifest,st.index):S.getAdaptationForIndex(Te?Te.index:null,b[0].mpd.manifest,st.index)),Ye?S.getProducerReferenceTimesForAdaptation(Ye):[]},getRealPeriodByIndex:function J(De){return S.getRealPeriodForIndex(De,b[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function ye(De){try{return S.getEssentialPropertiesForRepresentation(De)}catch{return[]}},getVoRepresentations:function fe(De){var Le=Ge(De);return S.getRepresentationsForAdaptation(Le)},getEventsFor:function pe(De,Te,Le){var Ye=[];if(b.length>0){var st=b[0].mpd.manifest;if(De instanceof R.default){var tt=Ne(De,b);Ye=S.getEventsForPeriod(tt)}else if(De instanceof I.default){var ut=Ne(Le,b);Ye=S.getEventStreamForAdaptationSet(st,Ge(De),ut)}else if(De instanceof T.default){var yt=Ne(Le,b);Ye=S.getEventStreamForRepresentation(st,Te,yt)}}return Ye},getEvent:function ae(De,Te,Le,Ye){try{if(!De||!Te||isNaN(Le)||!Ye)return null;var st=De.scheme_id_uri,tt=De.value;if(!Te[st+"/"+tt])return null;var mt,ut=new w.default,yt=De.timescale||1,gt=Ye.adaptation.period.start,ke=Te[st+"/"+tt],Ze=isNaN(Ye.presentationTimeOffset)?isNaN(ke.presentationTimeOffset)?0:ke.presentationTimeOffset:Ye.presentationTimeOffset,rt=De.presentation_time_delta/yt;mt=0===De.version?gt+Le-Ze+rt:gt-Ze+rt;var Dt=De.event_duration/yt,Pt=De.id,Bt=De.message_data;return ut.eventStream=ke,ut.eventStream.value=tt,ut.eventStream.timescale=yt,ut.duration=Dt,ut.id=Pt,ut.calculatedPresentationTime=mt,ut.messageData=Bt,ut.presentationTimeDelta=rt,ut}catch{return null}},getMpd:F,setConfig:function N(De){!De||(De.constants&&(p=De.constants),De.cea608parser&&(y=De.cea608parser),De.errHandler&&S.setConfig({errHandler:De.errHandler}),De.BASE64&&S.setConfig({BASE64:De.BASE64}))},updatePeriods:function Y(De){if(!De)return null;wt(),b=X(De)},getIsTextTrack:function de(De){return S.getIsText(De)},getUTCTimingSources:function ve(){var De=Oe();return S.getUTCTimingSources(De)},getSuggestedPresentationDelay:function se(){return S.getSuggestedPresentationDelay(b.length>0?b[0].mpd:null)},getAvailabilityStartTime:function Se(De){var Te=F(De);return S.getAvailabilityStartTime(Te)},getIsTypeOf:function Pe(De,Te){return S.getIsTypeOf(De,Te)},getIsDynamic:function ge(De){var Te=Oe(De);return S.getIsDynamic(Te)},getDuration:function ne(De){var Te=Oe(De);return S.getDuration(Te)},getRegularPeriods:X,getContentSteering:function V(De){return S.getContentSteering(De)},getLocation:function re(De){return S.getLocation(De)},getPatchLocation:function me(De){var Te=S.getPatchLocation(De),Le=S.getPublishTime(De);if(!Te||!Le)return null;if(Te.hasOwnProperty("ttl")&&Le){var Ye=1e3*parseFloat(Te.ttl);if(Le.getTime()+Ye<=(new Date).getTime())return null}return Te.__text},getManifestUpdatePeriod:function B(De){return S.getManifestUpdatePeriod(De,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function te(De){return S.getPublishTime(De)},getIsDVB:function Ee(De){return S.hasProfile(De,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function q(De){return O.getIsPatch(De)},getBaseURLsFromElement:function K(De){return S.getBaseURLsFromElement(De)},getRepresentationSortFunction:function j(){return S.getRepresentationSortFunction()},getCodec:function $(De,Te,Le){return S.getCodec(De,Te,Le)},getPeriodById:function we(De){if(!De||0===b.length)return null;var Te=b.filter(function(Le){return Le.id===De});return Te&&Te.length>0?Te[0]:null},setCurrentMediaInfo:function he(De,Te,Le){v[De]=v[De]||{},v[De][Te]=v[De][Te]||{},v[De][Te]=Le},isPatchValid:function Ue(De,Te){var Le=S.getId(De),Ye=O.getMpdId(Te),st=S.getPublishTime(De),tt=O.getPublishTime(Te),ut=O.getOriginalPublishTime(Te);return!!(Le&&Ye&&Le==Ye&&st&&ut&&st.getTime()==ut.getTime()&&tt&&st.getTime()<tt.getTime())},applyPatchToManifest:function Ce(De,Te){O.getPatchOperations(Te).forEach(function(Le){var Ye=Le.getMpdTarget(De);if(null!==Ye){var st=Ye.name,tt=Ye.target,ut=Ye.leaf;if(Le.xpath.findsAttribute()){switch(Le.action){case"add":case"replace":tt[st]=Le.value;break;case"remove":delete tt[st]}return}var yt=(tt[st+"_asArray"]||[]).indexOf(ut),gt="prepend"===Le.position||"before"===Le.position;if(("remove"===Le.action||"replace"===Le.action)&&(delete tt[st],-1!=yt)){var ke=tt[st+"_asArray"];ke.splice(yt,1),ke.length>1?tt[st]=ke:1==ke.length?tt[st]=ke[0]:delete tt[st+"_asArray"]}("add"===Le.action||"replace"===Le.action)&&Object.keys(Le.value).forEach(function(Ze){var rt=Le.value[Ze],mt=tt[Ze+"_asArray"]||[];0===mt.length&&tt[Ze]&&mt.push(tt[Ze]),0===mt.length?mt=rt:mt.splice.apply(mt,[Ze==st&&-1!=yt?yt+(gt?0:1)+("replace"==Le.action?-1:0):gt?0:mt.length,0].concat(rt)),tt[Ze+"_asArray"]=mt,tt[Ze]=1==mt.length?mt[0]:mt})}})},areMediaInfosEqual:H,reset:Re},function E(){S=Object(c.default)(g).getInstance(),O=Object(l.default)(g).getInstance(),Re()}(),L}_.__dashjs_factory_name="DashAdapter",U.default=D.default.getSingletonFactory(_)},"./src/dash/DashHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/FragmentRequest.js"),T=m("./src/streaming/vo/metrics/HTTPRequest.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/streaming/MediaPlayerEvents.js"),P=m("./src/dash/utils/SegmentsUtils.js"),w=m("./src/dash/constants/DashConstants.js");function l(f){var y,g,A,E,N,d=(f=f||{}).eventBus,_=f.debug,L=f.urlUtils,S=f.type,O=f.streamInfo,b=f.segmentsController,v=f.timelineConverter,p=f.baseURLController;function le(){return S}function W(){A=null}function Y(ve,se,Se){var ne,X,ge=p.resolve(Se.path);return ge&&se!==ge.url&&L.isRelative(se)?(ne=ge.url,X=ge.serviceLocation,se&&(ne=L.resolve(se,ne))):ne=se,!L.isRelative(ne)&&(ve.url=ne,ve.serviceLocation=X,!0)}function oe(ve,se){if(null==se)return null;var Se=new M.default,ge=se.representation,ne=ge.adaptation.period.mpd.manifest.Period_asArray[ge.adaptation.period.index].AdaptationSet_asArray[ge.adaptation.index].Representation_asArray[ge.index].bandwidth,X=se.media;return X=Object(P.replaceTokenForTemplate)(X,"Number",se.replacementNumber),X=Object(P.replaceTokenForTemplate)(X,"Time",se.replacementTime),X=Object(P.replaceTokenForTemplate)(X,"Bandwidth",ne),X=Object(P.replaceIDForTemplate)(X,ge.id),X=Object(P.unescapeDollarsInTemplate)(X),Se.mediaType=le(),Se.type=T.HTTPRequest.MEDIA_SEGMENT_TYPE,Se.range=se.mediaRange,Se.startTime=se.presentationStartTime,Se.mediaStartTime=se.mediaStartTime,Se.duration=se.duration,Se.timescale=ge.timescale,Se.availabilityStartTime=se.availabilityStartTime,Se.availabilityEndTime=se.availabilityEndTime,Se.availabilityTimeComplete=ge.availabilityTimeComplete,Se.wallStartTime=se.wallStartTime,Se.quality=ge.index,Se.index=se.index,Se.mediaInfo=ve,Se.adaptationIndex=ge.adaptation.index,Se.representationId=ge.id,Y(Se,X,ge)?Se:void 0}function J(ve,se,Se){var ge=null;if(!se||!se.segmentInfoType)return ge;var ne=b.getSegmentByTime(se,Se);return ne&&(A=ne,g.debug("Index for time "+Se+" is "+ne.index),ge=oe(ve,ne)),ge}function de(){g.debug("Dynamic stream complete"),N=!0}return y={initialize:function ee(ve){E=ve,N=!1,b.initialize(ve)},getStreamId:function Z(){return O.id},getType:le,getStreamInfo:function H(){return O},getInitRequest:function z(ve,se){return se?function ie(ve,se,Se){var ge=new M.default,ne=se.adaptation.period,X=ne.start;if(ge.mediaType=Se,ge.type=T.HTTPRequest.INIT_SEGMENT_TYPE,ge.range=se.range,ge.availabilityStartTime=v.calcAvailabilityStartTimeFromPresentationTime(X,se,E),ge.availabilityEndTime=v.calcAvailabilityEndTimeFromPresentationTime(X+ne.duration,se,E),ge.quality=se.index,ge.mediaInfo=ve,ge.representationId=se.id,Y(ge,se.initialization,se))return ge.url=Object(P.replaceTokenForTemplate)(ge.url,"Bandwidth",se.bandwidth),ge}(ve,se,le()):null},getSegmentRequestForTime:J,getCurrentIndex:function he(){return A?A.index:-1},getNextSegmentRequest:function ae(ve,se){var Se=null;if(!se||!se.segmentInfoType)return null;var ge=A?A.index+1:0,ne=b.getSegmentByIndex(se,ge,A?A.mediaStartTime:-1);if(ne)Se=oe(ve,ne),A=ne;else{if(E&&!N)return g.debug(le()+" No segment found at index: "+ge+". Wait for next loop"),null;N=!0}return Se},isLastSegmentRequested:function ye(ve,se){if(!ve||!A)return!1;if(N)return!0;if(!isFinite(ve.adaptation.period.duration)||A.presentationStartTime+A.duration>se)return!1;if(ve.mediaFinishedInformation&&!isNaN(ve.mediaFinishedInformation.numberOfSegments)&&!isNaN(A.index)&&A.index>=ve.mediaFinishedInformation.numberOfSegments-1){if(!E||ve.segmentInfoType===w.default.SEGMENT_TEMPLATE)return!0;if(E&&ve.segmentInfoType===w.default.SEGMENT_LIST&&ve.adaptation.period.nextPeriodId)return!0}return!!(E&&ve.adaptation.period.nextPeriodId&&ve.segmentInfoType===w.default.SEGMENT_TIMELINE&&ve.mediaFinishedInformation&&!isNaN(ve.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&A&&!isNaN(A.mediaStartTime)&&!isNaN(A.duration)&&A.mediaStartTime+A.duration>=ve.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function x(){W(),d.off(R.default.DYNAMIC_TO_STATIC,de,y)},getNextSegmentRequestIdempotent:function fe(ve,se){var ne=b.getSegmentByIndex(se,A?A.index+1:0,A?A.mediaStartTime:-1);return ne?oe(ve,ne):null},getValidTimeAheadOfTargetTime:function pe(ve,se,Se,ge){try{if(isNaN(ve)||!se||!Se)return NaN;if(ve<0&&(ve=0),isNaN(ge)&&(ge=.5),J(se,Se,ve))return ve;if(Se.adaptation.period.start+Se.adaptation.period.duration<ve)return NaN;for(var ne=isFinite(Se.adaptation.period.duration)?Se.adaptation.period.start+Se.adaptation.period.duration:ve+30,X=Math.min(ve+ge,ne),F=NaN,V=null;X<=ne;){var re=null;if(X<=ne&&(re=J(se,Se,X)),re){F=X,V=re;break}X+=ge}if(V){var B=V.startTime+V.duration;return ve>V.startTime&&B-ve>ge?ve:!isNaN(V.startTime)&&ve<V.startTime&&F>V.startTime?V.startTime+.001:Math.min(B-ge,F)}return F}catch{return NaN}}},function G(){g=_.getLogger(y),W(),d.on(R.default.DYNAMIC_TO_STATIC,de,y)}(),y}l.__dashjs_factory_name="DashHandler",U.default=I.default.getClassFactory(l)},"./src/dash/DashMetrics.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/vo/metrics/HTTPRequest.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/streaming/constants/MetricsConstants.js"),P=m("./src/dash/utils/Round10.js"),w=m("./src/streaming/models/MetricsModel.js"),D=m("./src/core/Utils.js"),c=m("./src/streaming/vo/metrics/PlayList.js");function l(f){var _,L,S,O,d=this.context,b=(f=f||{}).metricsModel;function Z(re){var B=b.getMetricsFor(re,!0);if(!B)return null;var Ee,te=B.HttpList,me=null;if(!te||te.length<=0)return null;for(Ee=te.length-1;Ee>=0;){if(te[Ee].responsecode){me=te[Ee];break}Ee--}return me}function le(re){var B=b.getMetricsFor(re,!0);return B&&B.HttpList?B.HttpList:[]}function W(re,B){if(!re)return null;var te=re[B];return te&&0!==te.length?te[te.length-1]:null}return _={getCurrentRepresentationSwitch:function y(re){return W(b.getMetricsFor(re,!0),R.default.TRACK_SWITCH)},getCurrentBufferState:function A(re){return W(b.getMetricsFor(re,!0),R.default.BUFFER_STATE)},getCurrentBufferLevel:function E(re){var te=W(b.getMetricsFor(re,!0),R.default.BUFFER_LEVEL);return te?P.default.round10(te.level/1e3,-3):0},getCurrentHttpRequest:Z,getHttpRequests:le,getCurrentDroppedFrames:function x(){return W(b.getMetricsFor(M.default.VIDEO,!0),R.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function z(re){return W(b.getMetricsFor(re,!0),R.default.SCHEDULING_INFO)},getCurrentDVRInfo:function he(re){return W(re?b.getMetricsFor(re,!0):b.getMetricsFor(M.default.VIDEO,!0)||b.getMetricsFor(M.default.AUDIO,!0),R.default.DVR_INFO)},getCurrentManifestUpdate:function oe(){return W(b.getMetricsFor(M.default.STREAM),R.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function se(re,B){if(!B)return null;var te={},me=Z(re);me&&(te=D.default.parseHttpHeaders(me._responseHeaders));var Ee=te[B.toLowerCase()];return void 0===Ee?null:Ee},getLatestMPDRequestHeaderValueByID:function ve(re){if(!re)return null;var te,me,Ee,B={};for(Ee=(te=le(M.default.STREAM)).length-1;Ee>=0;Ee--)if((me=te[Ee]).type===T.HTTPRequest.MPD_TYPE){B=D.default.parseHttpHeaders(me._responseHeaders);break}var q=B[re.toLowerCase()];return void 0===q?null:q},addRepresentationSwitch:function g(re,B,te,me,Ee){b.addRepresentationSwitch(re,B,te,me,Ee)},addDVRInfo:function de(re,B,te,me){b.addDVRInfo(re,B,te,me)},updateManifestUpdateInfo:function ye(re){var B=this.getCurrentManifestUpdate();b.updateManifestUpdateInfo(B,re)},addManifestUpdateStreamInfo:function J(re){if(re){var B=this.getCurrentManifestUpdate();b.addManifestUpdateStreamInfo(B,re.id,re.index,re.start,re.duration)}},addManifestUpdateRepresentationInfo:function pe(re,B){if(re){var te=this.getCurrentManifestUpdate();b.addManifestUpdateRepresentationInfo(te,re.id,re.index,re.streamIndex,B,re.presentationTimeOffset,re.startNumber,re.fragmentInfoType)}},addManifestUpdate:function fe(re){b.addManifestUpdate(M.default.STREAM,re.type,re.requestStartDate,re.requestEndDate)},addHttpRequest:function ae(re,B,te,me,Ee){b.addHttpRequest(re.mediaType,null,re.type,re.url,re.quality,B,re.serviceLocation||null,re.range||null,re.requestStartDate,re.firstByteDate,re.requestEndDate,te,re.duration,me,Ee,re.fileLoaderType)},addSchedulingInfo:function ie(re,B){b.addSchedulingInfo(re.mediaType,new Date,re.type,re.startTime,re.availabilityStartTime,re.duration,re.quality,re.range,B)},addRequestsQueue:function H(re,B,te){b.addRequestsQueue(re,B,te)},addBufferLevel:function N(re,B,te){b.addBufferLevel(re,B,te)},addBufferState:function G(re,B,te){b.addBufferState(re,B,te)},addDroppedFrames:function Y(re){b.addDroppedFrames(M.default.VIDEO,re)},addPlayList:function Se(){O&&(b.addPlayList(O),O=null)},addDVBErrors:function V(re){b.addDVBErrors(re)},createPlaylistMetrics:function ge(re,B){(O=new c.PlayList).start=new Date,O.mstart=re,O.starttype=B},createPlaylistTraceMetrics:function ne(re,B,te){!0===L&&(L=!1,(S=new c.PlayListTrace).representationid=re,S.start=new Date,S.mstart=B,S.playbackspeed=null!==te?te.toString():null)},updatePlayListTraceMetrics:function X(re){if(S)for(var B in S)S[B]=re[B]},pushPlayListTraceMetrics:function F(re,B){if(!1===L&&O&&S&&S.start){var te=S.start,me=re.getTime()-te.getTime();S.duration=me,S.stopreason=B,O.trace.push(S),L=!0}},clearAllCurrentMetrics:function ee(){b.clearAllCurrentMetrics()}},function v(){b=b||Object(w.default)(d).getInstance({settings:f.settings}),function p(){L=!0,S=null,O=null}()}(),_}l.__dashjs_factory_name="DashMetrics",U.default=I.default.getSingletonFactory(l)},"./src/dash/SegmentBaseLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/vo/Segment.js"),T=m("./src/streaming/vo/DashJSError.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/streaming/vo/FragmentRequest.js"),P=m("./src/streaming/net/URLLoader.js");function w(){var c,l,f,d,_,L,S,O,b,v,p,y,g,D=this.context;function ee(z,ie,oe,ye){var J=null,fe=z?g.resolve(z.path):null,ae=ye||{init:!0,url:fe?fe.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ie};l.debug("Start searching for initialization.");var pe=Y(ae);O.load({request:pe,success:function(se){if(ae.bytesLoaded=ae.range.end,!(J=d.findInitRange(se)))return ae.range.end=ae.bytesLoaded+ae.bytesToLoad,ee(z,ie,oe,ae);z.range=J,oe(z)},error:function(){oe(z)}}),l.debug("Perform init search: "+ae.url)}function le(z,ie,oe,ye,J,fe){if(oe&&(void 0===oe.start||void 0===oe.end)){var ae=oe?oe.toString().split("-"):null;oe=ae?{start:parseFloat(ae[0]),end:parseFloat(ae[1])}:null}J=J||H;var pe=null,he=null,de=!!oe,ve=z?g.resolve(z.path):null,se={init:!1,url:ve?ve.url:void 0,range:de?oe:{start:0,end:1500},searching:!de,bytesLoaded:fe?fe.bytesLoaded:0,bytesToLoad:1500,mediaType:ie},Se=Y(se);O.load({request:Se,success:function(F){var V=se.bytesToLoad,re=F.byteLength;if(se.bytesLoaded=se.range.end-se.range.start,pe=d.parse(F),(he=pe.getBox("sidx"))&&he.isComplete){var me,Ee,te=he.references;if(null!=te&&te.length>0&&(me=1===te[0].reference_type),me){l.debug("Initiate multiple SIDX load."),se.range.end=se.range.start+he.size;var q,K,j,$,ue=[],be=0,we=(he.offset||se.range.start)+he.size,Pe=function(Ue){Ue?(ue=ue.concat(Ue),++be>=K&&(ue.sort(function(Ce,Oe){return Ce.startTime-Oe.startTime<0?-1:0}),J(ue,z,ye))):J(null,z,ye)};for(q=0,K=te.length;q<K;q++)j=we,$=we+te[q].referenced_size-1,we+=te[q].referenced_size,le(z,ie,{start:j,end:$},ye,Pe,se)}else l.debug("Parsing segments from SIDX. representation "+ie+" - id: "+z.id+" for range : "+se.range.start+" - "+se.range.end),Ee=function x(z,ie){for(var he,ve,se,oe=z.references,ye=oe.length,J=z.timescale,fe=z.earliest_presentation_time,ae=ie.range.start+z.offset+z.first_offset+z.size,pe=[],Se=0;Se<ye;Se++)ve=oe[Se].subsegment_duration,se=oe[Se].referenced_size,(he=new M.default).duration=ve,he.startTime=fe,he.timescale=J,he.mediaRange=ae+"-"+(ae+se-1),pe.push(he),fe+=ve,ae+=se;return pe}(he,se),J(Ee,z,ye)}else{if(he)se.range.start=he.offset||se.range.start,se.range.end=se.range.start+(he.size||V);else{if(re<se.bytesLoaded)return void J(null,z,ye);var B=pe.getLastBox();B&&B.size?(se.range.start=B.offset+B.size,se.range.end=se.range.start+V):se.range.end+=V}le(z,ie,se.range,ye,null,se)}},error:function(){J(null,z,ye)}}),l.debug("Perform SIDX load for type ".concat(ie," : ").concat(se.url," with range ").concat(se.range.start," - ").concat(se.range.end))}function H(z,ie,oe){oe({segments:z,representation:ie,error:z?void 0:new T.default(b.SEGMENT_BASE_LOADER_ERROR_CODE,b.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Y(z){if(z.url){var ie=new R.default;return ie.setInfo(z),ie}}return c={setConfig:function N(z){z.baseURLController&&(g=z.baseURLController),z.dashMetrics&&(L=z.dashMetrics),z.mediaPlayerModel&&(S=z.mediaPlayerModel),z.errHandler&&(f=z.errHandler),z.boxParser&&(d=z.boxParser),z.debug&&(l=z.debug.getLogger(c)),z.requestModifier&&(_=z.requestModifier),z.errors&&(b=z.errors),z.urlUtils&&(y=z.urlUtils),z.constants&&(v=z.constants),z.dashConstants&&(p=z.dashConstants)},initialize:function E(){O=Object(P.default)(D).create({errHandler:f,dashMetrics:L,mediaPlayerModel:S,requestModifier:_,boxParser:d,errors:b,urlUtils:y,constants:v,dashConstants:p})},loadInitialization:function G(z,ie){return new Promise(function(oe){ee(z,ie,oe)})},loadSegments:function Z(z,ie,oe){return new Promise(function(ye){le(z,ie,oe,ye)})},reset:function W(){O&&(O.abort(),O=null)}}}w.__dashjs_factory_name="SegmentBaseLoader",U.default=I.default.getSingletonFactory(w)},"./src/dash/WebmSegmentBaseLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/utils/EBMLParser.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/dash/vo/Segment.js"),P=m("./src/streaming/vo/FragmentRequest.js"),w=m("./src/streaming/net/URLLoader.js"),D=m("./src/streaming/vo/DashJSError.js");function c(){var f,d,_,L,S,O,b,v,p,y,l=this.context;function G(x,Y,z,ie){var ye,J,fe,ae,pe;for(J=[],ae=0,pe=(ye=function N(x){var ie,oe,Y=[],z=Object(M.default)(l).create({data:x});for(z.consumeTagAndSize(_.Segment.Cues);z.moreData()&&z.consumeTagAndSize(_.Segment.Cues.CuePoint,!0);){for((ie={}).CueTime=z.parseTag(_.Segment.Cues.CuePoint.CueTime),ie.CueTracks=[];z.moreData()&&z.consumeTag(_.Segment.Cues.CuePoint.CueTrackPositions,!0);){var ye=z.getMatroskaCodedNum(),J=z.getPos();if((oe={}).Track=z.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===oe.Track)throw new Error("Cue track cannot be 0");oe.ClusterPosition=z.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ie.CueTracks.push(oe),z.setPos(J+ye)}if(0===ie.CueTracks.length)throw new Error("Mandatory cuetrack not found");Y.push(ie)}if(0===Y.length)throw new Error("mandatory cuepoint not found");return Y}(x)).length;ae<pe;ae+=1)(fe=new R.default).duration=ae<ye.length-1?ye[ae+1].CueTime-ye[ae].CueTime:ie-ye[ae].CueTime,fe.startTime=ye[ae].CueTime,fe.timescale=1e3,fe.mediaRange=ye[ae].CueTracks[0].ClusterPosition+Y+"-"+(ae<ye.length-1?ye[ae+1].CueTracks[0].ClusterPosition+Y-1:z-1),J.push(fe);return d.debug("Parsed cues: "+J.length+" cues."),J}function H(x){var Y=new P.default;return Y.setInfo(x),Y}return f={setConfig:function E(x){if(!(x.baseURLController&&x.dashMetrics&&x.mediaPlayerModel&&x.errHandler))throw new Error(T.default.MISSING_CONFIG_ERROR);y=x.baseURLController,O=x.dashMetrics,b=x.mediaPlayerModel,L=x.errHandler,p=x.errors,d=x.debug.getLogger(f),S=x.requestModifier},initialize:function A(){v=Object(w.default)(l).create({errHandler:L,dashMetrics:O,mediaPlayerModel:b,requestModifier:S,errors:p})},loadInitialization:function Z(x,Y){return new Promise(function(z){var ie=null,oe=x?y.resolve(x.path):null,ye=x?x.range.split("-"):null,J={range:{start:ye?parseFloat(ye[0]):null,end:ye?parseFloat(ye[1]):null},request:ie,url:oe?oe.url:void 0,init:!0,mediaType:Y};d.info("Start loading initialization."),ie=H(J),v.load({request:ie,success:function(){z(x)},error:function(){z(x)}}),d.debug("Perform init load: "+J.url)})},loadSegments:function le(x,Y,z){return new Promise(function(ie){var oe=null,ye=x?y.resolve(x.path):null,J=ye?ye.url:void 0;oe=H({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:oe,url:J,init:!1,mediaType:Y}),d.debug("Parsing ebml header"),v.load({request:oe,success:function(ve){!function ee(x,Y,z,ie){if(x&&0!==x.byteLength){var ye,J,fe,ae,oe=Object(M.default)(l).create({data:x}),pe=z?z.split("-"):null,he=null,de={url:Y,range:{start:pe?parseFloat(pe[0]):null,end:pe?parseFloat(pe[1]):null},request:he};for(d.debug("Parse EBML header: "+de.url),oe.skipOverElement(_.EBML),oe.consumeTag(_.Segment),fe=oe.getMatroskaCodedNum(),fe+=oe.getPos(),ae=oe.getPos();oe.moreData()&&!oe.consumeTagAndSize(_.Segment.Info,!0);)if(!(oe.skipOverElement(_.Segment.SeekHead,!0)||oe.skipOverElement(_.Segment.Tracks,!0)||oe.skipOverElement(_.Segment.Cues,!0)||oe.skipOverElement(_.Void,!0)))throw new Error("no valid top level element found");for(;void 0===ye;){var ve=oe.getMatroskaCodedNum(!0),se=oe.getMatroskaCodedNum();ve===_.Segment.Info.Duration.tag?ye=oe[_.Segment.Info.Duration.parse](se):oe.setPos(oe.getPos()+se)}he=H(de),v.load({request:he,success:function(X){J=G(X,ae,fe,ye),ie(J)},error:function(){d.error("Download Error: Cues "+de.url),ie(null)}}),d.debug("Perform cues load: "+de.url+" bytes="+de.range.start+"-"+de.range.end)}else ie(null)}(ve,J,z,function(se){ie({segments:se,representation:x,error:se?void 0:new D.default(p.SEGMENT_BASE_LOADER_ERROR_CODE,p.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ie({representation:x,error:new D.default(p.SEGMENT_BASE_LOADER_ERROR_CODE,p.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function W(){v&&(v.abort(),v=null)}},function g(){_={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),f}c.__dashjs_factory_name="WebmSegmentBaseLoader",U.default=I.default.getSingletonFactory(c)},"./src/dash/constants/DashConstants.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function I(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var f=function w(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}m.r(U);var c=new(function(){function l(){(function T(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function R(l,f,d){return f&&I(l.prototype,f),d&&I(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),l}());U.default=c},"./src/dash/controllers/ContentSteeringController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/net/URLLoader.js"),R=m("./src/core/errors/Errors.js"),P=m("./src/dash/vo/ContentSteeringRequest.js"),w=m("./src/dash/vo/ContentSteeringResponse.js"),D=m("./src/dash/constants/DashConstants.js"),c=m("./src/streaming/MediaPlayerEvents.js"),l=m("./src/core/events/Events.js"),f=m("./src/streaming/constants/Constants.js"),d=m("./src/core/Utils.js"),_=m("./src/streaming/utils/URLUtils.js"),L_THROUGHPUT="_DASH_throughput",L_PATHWAY="_DASH_pathway",L_URL="url";function S(){var v,p,y,g,A,E,N,G,ee,Z,le,H,W,x,Y,O=this.context,b=Object(_.default)(O).getInstance();function ye(F){F&&F.toStreamInfo&&(g=F.toStreamInfo)}function J(F){F&&F.request&&F.request.serviceLocation&&(A=F.request.serviceLocation)}function fe(){var F=le.getValue();return Y.getContentSteering(F)}function pe(){return new Promise(function(F){try{var V=fe();if(!V||!V.serverUrl)return void F();var re=function he(F){var V=F.proxyServerUrl?F.proxyServerUrl:F.serverUrl;y&&y.reloadUri&&(V=b.isRelative(y.reloadUri)?b.resolve(y.reloadUri,F.serverUrl):y.reloadUri);var re=[];if(g){var B=Y.getIsDynamic(),te=Y.getAllMediaInfoForType(g,f.default.VIDEO).length>0?f.default.VIDEO:f.default.AUDIO,me=W.getThroughputHistory(),Ee=me?me.getAverageThroughput(te,B):NaN;isNaN(Ee)||re.push({key:L_THROUGHPUT,value:1e3*Ee})}return A&&re.push({key:L_PATHWAY,value:A}),F.proxyServerUrl&&F.proxyServerUrl===V&&F.serverUrl&&re.push({key:L_URL,value:encodeURI(F.serverUrl)}),d.default.addAditionalQueryParameterToUrl(V,re)}(V),B=new P.default(re);N.load({request:B,success:function(me){(function de(F){!F||!F[D.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(F[D.default.CONTENT_STEERING_RESPONSE.VERSION])||((y=new w.default).version=F[D.default.CONTENT_STEERING_RESPONSE.VERSION],F[D.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(F[D.default.CONTENT_STEERING_RESPONSE.TTL])&&(y.ttl=F[D.default.CONTENT_STEERING_RESPONSE.TTL]),F[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(y.reloadUri=F[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),F[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(y.serviceLocationPriority=F[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),ve())})(me),x.trigger(c.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:y,url:re}),F()},error:function(me){(function Se(F){p.warn("Error fetching data from content steering server",F),ve()})(me),F(me)}})}catch(te){F(te)}})}function ve(){y&&y.ttl&&!isNaN(y.ttl)&&(E&&clearTimeout(E),E=setTimeout(function(){pe()},1e3*y.ttl))}function se(){E&&clearTimeout(E),E=null}function X(){y=null,g=null,A=null,se()}return v={reset:function ne(){X(),x.off(c.default.PERIOD_SWITCH_COMPLETED,ye,v),x.off(l.default.FRAGMENT_LOADING_STARTED,J,v)},setConfig:function ie(F){!F||(F.adapter&&(Y=F.adapter),F.errHandler&&(G=F.errHandler),F.dashMetrics&&(ee=F.dashMetrics),F.mediaPlayerModel&&(Z=F.mediaPlayerModel),F.requestModifier&&(H=F.requestModifier),F.manifestModel&&(le=F.manifestModel),F.abrController&&(W=F.abrController),F.eventBus&&(x=F.eventBus))},loadSteeringData:pe,getCurrentSteeringResponseData:function ge(){return y},shouldQueryBeforeStart:function ae(){var F=fe();return F&&F.queryBeforeStart},getSteeringDataFromManifest:fe,stopSteeringRequestTimer:se,initialize:function oe(){N=Object(I.default)(O).create({errHandler:G,dashMetrics:ee,mediaPlayerModel:Z,requestModifier:H,errors:R.default}),x.on(c.default.PERIOD_SWITCH_COMPLETED,ye,v),x.on(l.default.FRAGMENT_LOADING_STARTED,J,v)}},function z(){p=Object(T.default)(O).getInstance().getLogger(v),X()}(),v}S.__dashjs_factory_name="ContentSteeringController",U.default=M.default.getSingletonFactory(S)},"./src/dash/controllers/RepresentationController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/streaming/MediaPlayerEvents.js"),R=m("./src/dash/utils/SegmentsUtils.js");function P(w){var p,y,g,A,E,D=(w=w||{}).eventBus,c=w.events,l=w.abrController,f=w.dashMetrics,d=w.playbackController,_=w.timelineConverter,L=w.type,S=w.streamInfo,O=w.dashConstants,b=w.segmentsController,v=w.isDynamic;function ee(){return L}function Z(){if(!(l&&f&&d&&_))throw new Error(M.default.MISSING_CONFIG_ERROR)}function H(){return g}function W(){return E}function x(){y=null,g=!0,A=[]}function ie(ne){return new Promise(function(X,F){var V=ne.hasInitialization(),re=ne.hasSegments(),B=[];B.push(b.updateInitData(ne,V)),B.push(b.updateSegmentData(ne,re)),Promise.all(B).then(function(te){te[0]&&!te[0].error&&(ne=function ye(ne,X){return X&&!X.error&&X.representation?X.representation:ne}(ne,te[0])),te[1]&&!te[1].error&&(ne=function J(ne,X){if(X&&!X.error){var B,te,me,Ee,F=X.segments,V=[],re=0;for(B=0,te=F?F.length:0;B<te;B++)me=F[B],(Ee=Object(R.getTimeBasedSegment)(_,v,ne,me.startTime,me.duration,me.timescale,me.media,me.mediaRange,re))&&(V.push(Ee),Ee=null,re++);return V.length>0&&(ne.segments=V),ne}}(ne,te[1])),function oe(ne){ne.mediaFinishedInformation=b.getMediaFinishedInformation(ne)}(ne),function ve(ne){if(H()){var V,X=f.getCurrentManifestUpdate(),F=!1;if(X){for(var B=0;B<X.representationInfo.length;B++)if((V=X.representationInfo[B]).index===ne.index&&V.mediaType===ee()){F=!0;break}F||f.addManifestUpdateRepresentationInfo(ne,ee())}if(function he(){for(var ne=0,X=A.length;ne<X;ne++){var F=A[ne].segmentInfoType;if(!A[ne].hasInitialization()||(F===O.SEGMENT_BASE||F===O.BASE_URL)&&!A[ne].segments)return!1}return!0}()){l.setPlaybackQuality(L,S,function pe(ne){return A.indexOf(ne)}(E));var te=f.getCurrentDVRInfo(L);te&&f.updateManifestUpdateInfo({latency:te.range.end-d.getTime()}),f.getCurrentRepresentationSwitch(W().adaptation.type)||fe(),de()}}}(ne),X()}).catch(function(te){F(te)})})}function fe(){Z();var ne=new Date,X=W(),F=1e3*d.getTime();X&&f.addRepresentationSwitch(X.adaptation.type,ne,F,X.id),D.trigger(I.default.REPRESENTATION_SWITCH,{mediaType:L,streamId:S.id,currentRepresentation:X,numberOfRepresentations:A.length},{streamId:S.id,mediaType:L})}function ae(ne){return null==ne||ne>=A.length?null:A[ne]}function de(ne){g=!1,D.trigger(c.DATA_UPDATE_COMPLETED,{data:y,currentRepresentation:E,error:ne},{streamId:S.id,mediaType:L})}function Se(ne){E=ne}function ge(ne){if(ne.newDuration){var X=W();X&&X.adaptation.period&&(X.adaptation.period.duration=ne.newDuration)}}return p={getStreamId:function G(){return S.id},getType:ee,getData:function le(){return y},isUpdating:H,updateData:function z(ne,X,F,V,re){if(Z(),g=!0,A=X,Se(ae(re)),y=ne,F!==M.default.VIDEO&&F!==M.default.AUDIO&&(F!==M.default.TEXT||!V))return de(),Promise.resolve();for(var te=[],me=0,Ee=A.length;me<Ee;me++)te.push(ie(A[me]));return Promise.all(te)},getCurrentRepresentation:W,getRepresentationForQuality:ae,prepareQualityChange:function se(ne){Se(ae(ne)),fe()},reset:function Y(){D.off(I.default.MANIFEST_VALIDITY_CHANGED,ge,p),x()}},function N(){x(),D.on(I.default.MANIFEST_VALIDITY_CHANGED,ge,p)}(),p}P.__dashjs_factory_name="RepresentationController",U.default=T.default.getClassFactory(P)},"./src/dash/controllers/SegmentBaseController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/dash/SegmentBaseLoader.js"),I=m("./src/dash/WebmSegmentBaseLoader.js");function R(w){var p,y,g,D=this.context,c=(w=w||{}).eventBus,l=w.events,f=w.dashMetrics,d=w.mediaPlayerModel,_=w.errHandler,L=w.baseURLController,S=w.debug,O=w.boxParser,b=w.requestModifier,v=w.errors;function E(le){return"webm"===(le?le.split("/")[1]:"").toLowerCase()}return p={initialize:function N(){y.initialize(),g.initialize()},getSegmentBaseInitSegment:function G(le){return E(le.representation.mimeType)?g.loadInitialization(le.representation,le.mediaType):y.loadInitialization(le.representation,le.mediaType)},getSegmentList:function ee(le){return E(le.mimeType)?g.loadSegments(le.representation,le.mediaType,le.representation?le.representation.indexRange:null):y.loadSegments(le.representation,le.mediaType,le.representation?le.representation.indexRange:null)},reset:function Z(){y.reset(),g.reset()}},function A(){y=Object(T.default)(D).getInstance(),g=Object(I.default)(D).getInstance(),y.setConfig({baseURLController:L,dashMetrics:f,mediaPlayerModel:d,errHandler:_,eventBus:c,events:l,errors:v,debug:S,boxParser:O,requestModifier:b}),g.setConfig({baseURLController:L,dashMetrics:f,mediaPlayerModel:d,errHandler:_,eventBus:c,events:l,errors:v,debug:S,requestModifier:b})}(),p}R.__dashjs_factory_name="SegmentBaseController";var P=M.default.getSingletonFactory(R);U.default=P},"./src/dash/controllers/SegmentsController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/dash/utils/TimelineSegmentsGetter.js"),I=m("./src/dash/utils/TemplateSegmentsGetter.js"),R=m("./src/dash/utils/ListSegmentsGetter.js"),P=m("./src/dash/utils/SegmentBaseGetter.js");function w(c){var L,S,l=this.context,f=(c=c||{}).dashConstants,d=c.type,_=c.segmentBaseController;function y(N){return N?N.segments?S[f.SEGMENT_BASE]:S[N.segmentInfoType]:null}return L={initialize:function b(N){S[f.SEGMENT_TIMELINE]=Object(T.default)(l).create(c,N),S[f.SEGMENT_TEMPLATE]=Object(I.default)(l).create(c,N),S[f.SEGMENT_LIST]=Object(R.default)(l).create(c,N),S[f.SEGMENT_BASE]=Object(P.default)(l).create(c,N)},updateInitData:function v(N,G){return G?Promise.resolve():_.getSegmentBaseInitSegment({representation:N,mediaType:d})},updateSegmentData:function p(N,G){return G?Promise.resolve():_.getSegmentList({mimeType:N.mimeType,representation:N,mediaType:d})},getSegmentByIndex:function g(N,G,ee){var Z=y(N);return Z?Z.getSegmentByIndex(N,G,ee):null},getSegmentByTime:function A(N,G){var ee=y(N);return ee?ee.getSegmentByTime(N,G):null},getMediaFinishedInformation:function E(N){var G=y(N);return G?G.getMediaFinishedInformation(N):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function O(){S={}}(),L}w.__dashjs_factory_name="SegmentsController";var D=M.default.getClassFactory(w);U.default=D},"./src/dash/controllers/ServiceDescriptionController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/constants/Constants.js"),R=m("./src/dash/constants/DashConstants.js"),P=[I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],w_VIDEO="video",w_AUDIO="audio",w_ANY="any",w_ALL="all";function D(){var l,f,d,_,L,c=this.context;function v(){f={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},d=[]}function Z(x,Y,z){try{f[x][Y]=z/1e3}catch(ie){_.error(ie)}}return l={getServiceDescriptionSettings:function p(){return f},getProducerReferenceTimeOffsets:function le(){return d},calculateProducerReferenceTimeOffsets:function H(x){try{var Y=[];if(x&&x.length>0){var z=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT],ie=L.getAvailabilityStartTime()/1e3;x.forEach(function(oe){var ye=z.reduce(function(J,fe){return J.concat(L.getAllMediaInfoForType(oe,fe))},[]).reduce(function(J,fe){return L.getProducerReferenceTimes(oe,fe).forEach(function(pe){var he=L.getVoRepresentations(fe);if(he&&he.length>0&&he[0].adaptation&&he[0].segmentInfoType===R.default.SEGMENT_TEMPLATE){var de=he[0],se=new Date(pe[R.default.WALL_CLOCK_TIME]).getTime()/1e3;J.push({id:pe[R.default.ID],to:ie-(se-(pe[R.default.PRESENTATION_TIME]/de[R.default.TIMESCALE]-de[R.default.PRESENTATION_TIME_OFFSET]+oe.start))})}}),J},[]);Y=Y.concat(ye)})}d=Y}catch(oe){_.error(oe),d=[]}},applyServiceDescription:function y(x){if(x&&x.serviceDescriptions){var Y=x.serviceDescriptions.filter(function(oe){return P.includes(oe.schemeIdUri)}),z=x.serviceDescriptions.filter(function(oe){return null==oe.schemeIdUri}),ie=Y.length>0?Y[Y.length-1]:z[z.length-1];!ie||(ie.latency&&ie.latency.target>0&&function g(x){var Y;if(Y=x.schemeIdUri===I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function E(x){return{liveDelay:x.latency.target/1e3,maxDrift:!isNaN(x.latency.max)&&x.latency.max>x.latency.target?(x.latency.max-x.latency.target+500)/1e3:NaN,referenceId:x.latency.referenceId||NaN}}(x):function A(x){return{liveDelay:x.latency.target/1e3,maxDrift:!isNaN(x.latency.max)&&x.latency.max>x.latency.target?(x.latency.max-x.latency.target+500)/1e3:NaN,referenceId:x.latency.referenceId||NaN}}(x),d.length>0){var z=function W(x){var z,Y=0,ie=d.filter(function(oe){return oe.id===x.referenceId});return 0===ie.length?(Y=d.length>0?d[0].to:0,z=d[0].id||NaN):(Y=ie[0].to||0,z=ie[0].id||NaN),{to:Y,id:z}}(Y),ie=z.to,oe=z.id;f.liveDelay=Y.liveDelay-ie,f.liveCatchup.maxDrift=Y.maxDrift,_.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ie," from ProducerReferenceTime element with id ").concat(oe,".\n                Live Delay: ").concat(Y.liveDelay-ie,", Live catchup max drift: ").concat(Y.maxDrift,"\n            "))}else f.liveDelay=Y.liveDelay,f.liveCatchup.maxDrift=Y.maxDrift,_.debug("Found latency properties coming from service description: Live Delay: ".concat(Y.liveDelay,", Live catchup max drift: ").concat(Y.maxDrift))}(ie),ie.playbackRate&&function N(x){var Y=x.playbackRate.min?Math.round(1e3*(x.playbackRate.min-1))/1e3:NaN,z=x.playbackRate.max?Math.round(1e3*(x.playbackRate.max-1))/1e3:NaN;f.liveCatchup.playbackRate.min=Y,f.liveCatchup.playbackRate.max=z,_.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(Y)),_.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(z))}(ie),ie.operatingBandwidth&&function ee(x){if(x&&x.operatingBandwidth&&x.operatingBandwidth.mediaType&&x.operatingBandwidth.mediaType!==w_ALL){var Y={};Y.minBandwidth=x.operatingBandwidth.min,Y.maxBandwidth=x.operatingBandwidth.max,Y.targetBandwidth=x.operatingBandwidth.target;var z=[];x.operatingBandwidth.mediaType===w_VIDEO||x.operatingBandwidth.mediaType===w_AUDIO?z.push(x.operatingBandwidth.mediaType):x.operatingBandwidth.mediaType===w_ANY&&(z.push(w_AUDIO),z.push(w_VIDEO)),z.forEach(function(ie){isNaN(Y.minBandwidth)||Z("minBitrate",ie,Y.minBandwidth),isNaN(Y.maxBandwidth)||Z("maxBitrate",ie,Y.maxBandwidth),isNaN(Y.targetBandwidth)||Z("initialBitrate",ie,Y.targetBandwidth)})}}(ie))}},reset:function b(){v()},setConfig:function O(x){!x||x.adapter&&(L=x.adapter)}},function S(){_=Object(T.default)(c).getInstance().getLogger(l),v()}(),l}D.__dashjs_factory_name="ServiceDescriptionController",U.default=M.default.getSingletonFactory(D)},"./src/dash/models/DashManifestModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/dash/vo/Representation.js"),R=m("./src/dash/vo/AdaptationSet.js"),P=m("./src/dash/vo/Period.js"),w=m("./src/dash/vo/Mpd.js"),D=m("./src/dash/vo/UTCTiming.js"),c=m("./src/dash/vo/Event.js"),l=m("./src/dash/vo/BaseURL.js"),f=m("./src/dash/vo/EventStream.js"),d=m("./src/dash/vo/ProducerReferenceTime.js"),_=m("./src/dash/vo/ContentSteering.js"),L=m("./src/streaming/utils/ObjectUtils.js"),S=m("./src/streaming/utils/URLUtils.js"),O=m("./src/core/FactoryMaker.js"),b=m("./src/core/Debug.js"),v=m("./src/streaming/vo/DashJSError.js"),p=m("./src/core/errors/Errors.js"),y=m("./src/streaming/thumbnail/ThumbnailTracks.js");function g(H,W){var x=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!x){if(Array.isArray(H)||(x=N(H))||W&&H&&"number"==typeof H.length){x&&(H=x);var Y=0,z=function(){};return{s:z,n:function(){return Y>=H.length?{done:!0}:{done:!1,value:H[Y++]}},e:function(fe){throw fe},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ye,ie=!0,oe=!1;return{s:function(){x=x.call(H)},n:function(){var fe=x.next();return ie=fe.done,fe},e:function(fe){oe=!0,ye=fe},f:function(){try{!ie&&null!=x.return&&x.return()}finally{if(oe)throw ye}}}}function A(H){return function ee(H){if(Array.isArray(H))return Z(H)}(H)||function G(H){if(typeof Symbol<"u"&&null!=H[Symbol.iterator]||null!=H["@@iterator"])return Array.from(H)}(H)||N(H)||function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(H,W){if(H){if("string"==typeof H)return Z(H,W);var x=Object.prototype.toString.call(H).slice(8,-1);if("Object"===x&&H.constructor&&(x=H.constructor.name),"Map"===x||"Set"===x)return Array.from(H);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Z(H,W)}}function Z(H,W){(null==W||W>H.length)&&(W=H.length);for(var x=0,Y=new Array(W);x<W;x++)Y[x]=H[x];return Y}function le(){var H,W,x,Y,z=this.context,ie=Object(S.default)(z).getInstance(),oe=Number.isInteger||function(Ae){return"number"==typeof Ae&&isFinite(Ae)&&Math.floor(Ae)===Ae};function J(Ae,it){if(!Ae)throw new Error("adaptation is not defined");if(!it)throw new Error("type is not defined");if(Ae.Representation_asArray&&Ae.Representation_asArray.length){var St=ht(Ae.Representation_asArray[0]);if(St&&St.length>0&&y.THUMBNAILS_SCHEME_ID_URIS.indexOf(St[0].schemeIdUri)>=0)return it===M.default.IMAGE}if(Ae.ContentComponent_asArray&&Ae.ContentComponent_asArray.length>0){if(Ae.ContentComponent_asArray.length>1)return it===M.default.MUXED;if(Ae.ContentComponent_asArray[0].contentType===it)return!0}var je=it===M.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(it);if(Ae.Representation_asArray&&Ae.Representation_asArray.length&&je.test(Ae.Representation_asArray[0].codecs))return!0;if(Ae.hasOwnProperty(T.default.MIME_TYPE))return je.test(Ae.mimeType);if(Ae.Representation_asArray)for(var ct,At=0;At<Ae.Representation_asArray.length;At++)if((ct=Ae.Representation_asArray[At]).hasOwnProperty(T.default.MIME_TYPE))return je.test(ct.mimeType);return!1}function fe(Ae){if(!Ae)throw new Error("adaptation is not defined");if(Ae.hasOwnProperty(T.default.SEGMENT_TEMPLATE)||Ae.hasOwnProperty(T.default.SEGMENT_TIMELINE)||Ae.hasOwnProperty(T.default.SEGMENT_LIST)||Ae.hasOwnProperty(T.default.SEGMENT_BASE))return!0;if(Ae.Representation_asArray&&Ae.Representation_asArray.length>0){var it=Ae.Representation_asArray[0];if(it.hasOwnProperty(T.default.SEGMENT_TEMPLATE)||it.hasOwnProperty(T.default.SEGMENT_TIMELINE)||it.hasOwnProperty(T.default.SEGMENT_LIST)||it.hasOwnProperty(T.default.SEGMENT_BASE))return!0}return!1}function ae(Ae){return J(Ae,M.default.AUDIO)}function pe(Ae){return J(Ae,M.default.VIDEO)}function he(Ae){return J(Ae,M.default.TEXT)}function de(Ae){return J(Ae,M.default.MUXED)}function ve(Ae){return J(Ae,M.default.IMAGE)}function re(){return function(Ae,it){return Ae.bandwidth-it.bandwidth}}function B(Ae){return Ae&&Array.isArray(Ae.Representation_asArray)&&Ae.Representation_asArray.sort(function(Ae,it){return Ae.bandwidth-it.bandwidth}),Ae}function te(Ae,it){return Ae&&Ae.Period_asArray&&oe(it)&&Ae.Period_asArray[it]?Ae.Period_asArray[it].AdaptationSet_asArray:[]}function me(Ae){return Ae&&Ae.Period_asArray?Ae.Period_asArray:[]}function Re(Ae){var it=!1;return Ae&&Ae.hasOwnProperty("type")&&(it=Ae.type===T.default.DYNAMIC),it}function ht(Ae){return Ae&&Ae.EssentialProperty_asArray&&Ae.EssentialProperty_asArray.length?Ae.EssentialProperty_asArray.map(function(it){return{schemeIdUri:it.schemeIdUri,value:it.value}}):null}function zt(Ae){if(!Ae||!Ae.S_asArray)return NaN;var it=Ae.S_asArray[0],St=Ae.S_asArray[1];return it.hasOwnProperty("d")?it.d:St.t-it.t}function en(Ae){return Ae.adaptation.period.start-Ae.presentationTimeOffset}function Le(Ae,it){if(!Ae)throw new Error("Period cannot be null or undefined");var St=P.default.DEFAULT_ID+"_"+it;return Ae.hasOwnProperty(T.default.ID)&&Ae.id.length>0&&"__proto__"!==Ae.id&&(St=Ae.id),St}function yt(Ae,it,St){var Xe,je=[];if(!Ae)return je;for(Xe=0;Xe<Ae.length;Xe++){var ct=new f.default;if(ct.timescale=1,ct.representation=it,!Ae[Xe].hasOwnProperty(M.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ct.schemeIdUri=Ae[Xe].schemeIdUri,Ae[Xe].hasOwnProperty(T.default.TIMESCALE)&&(ct.timescale=Ae[Xe].timescale),Ae[Xe].hasOwnProperty(T.default.VALUE)&&(ct.value=Ae[Xe].value),je.push(ct),ct.period=St}return je}function rt(Ae){var it=[],je=!1;return(Ae.BaseURL_asArray||[Ae.baseUri]).some(function(Xe){if(Xe){var ct=new l.default,At=Xe.__text||Xe;return ie.isRelative(At)&&(je=!0,Ae.baseUri&&(At=ie.resolve(At,Ae.baseUri))),ct.url=At,ct.serviceLocation=Xe.hasOwnProperty(T.default.SERVICE_LOCATION)&&Xe.serviceLocation.length?Xe.serviceLocation:At,Xe.hasOwnProperty(T.default.DVB_PRIORITY)&&(ct.dvb_priority=Xe[T.default.DVB_PRIORITY]),Xe.hasOwnProperty(T.default.DVB_WEIGHT)&&(ct.dvb_weight=Xe[T.default.DVB_WEIGHT]),Xe.hasOwnProperty(T.default.AVAILABILITY_TIME_OFFSET)&&(ct.availabilityTimeOffset=Xe[T.default.AVAILABILITY_TIME_OFFSET]),Xe.hasOwnProperty(T.default.AVAILABILITY_TIME_COMPLETE)&&(ct.availabilityTimeComplete="false"!==Xe[T.default.AVAILABILITY_TIME_COMPLETE]),it.push(ct),je}}),it}return H={getIsTypeOf:J,getIsText:he,getIsFragmented:fe,getProducerReferenceTimesForAdaptation:function se(Ae){var it=Ae&&Ae.hasOwnProperty(T.default.PRODUCERREFERENCETIME_ASARRAY)?Ae[T.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Ae&&Ae.hasOwnProperty(T.default.REPRESENTATION_ASARRAY)?Ae[T.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Xe){Xe.hasOwnProperty(T.default.PRODUCERREFERENCETIME_ASARRAY)&&it.push.apply(it,A(Xe[T.default.PRODUCERREFERENCETIME_ASARRAY]))});var je=[];return it.forEach(function(Xe){var ct=new d.default;Xe.hasOwnProperty(T.default.ID)&&(ct[T.default.ID]=Xe[T.default.ID],Xe.hasOwnProperty(T.default.WALL_CLOCK_TIME)&&(ct[T.default.WALL_CLOCK_TIME]=Xe[T.default.WALL_CLOCK_TIME],Xe.hasOwnProperty(T.default.PRESENTATION_TIME)&&(ct[T.default.PRESENTATION_TIME]=Xe[T.default.PRESENTATION_TIME],je.push(ct))))}),je},getLanguageForAdaptation:function Se(Ae){var it="";return Ae&&Ae.hasOwnProperty(T.default.LANG)&&(it=Ae.lang),it},getViewpointForAdaptation:function ge(Ae){return Ae&&Ae.hasOwnProperty(T.default.VIEWPOINT)?Ae.Viewpoint:null},getRolesForAdaptation:function ne(Ae){return Ae&&Ae.hasOwnProperty(T.default.ROLE_ASARRAY)?Ae.Role_asArray:[]},getAccessibilityForAdaptation:function X(Ae){return Ae&&Ae.hasOwnProperty(T.default.ACCESSIBILITY_ASARRAY)?Ae.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function F(Ae){return Ae&&Ae.hasOwnProperty(T.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Ae.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function V(Ae){return Ae&&Ae.hasOwnProperty(T.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Ae.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function K(Ae,it,St){var je=te(it,St);return je.length>0&&oe(Ae)?je[Ae]:null},getIndexForAdaptation:function j(Ae,it,St){if(!Ae)return-1;for(var je=te(it,St),Xe=0;Xe<je.length;Xe++)if(Object(L.default)(z).getInstance().areEqual(je[Xe],Ae))return Xe;return-1},getAdaptationForId:function q(Ae,it,St){var Xe,ct,je=te(it,St);for(Xe=0,ct=je.length;Xe<ct;Xe++)if(je[Xe].hasOwnProperty(T.default.ID)&&je[Xe].id===Ae)return je[Xe];return null},getAdaptationsForType:function $(Ae,it,St){var Xe,ct,je=te(Ae,it),At=[];for(Xe=0,ct=je.length;Xe<ct;Xe++)J(je[Xe],St)&&At.push(B(je[Xe]));return At},getRealPeriods:me,getRealPeriodForIndex:function Ee(Ae,it){var St=me(it);return St.length>0&&oe(Ae)?St[Ae]:null},getCodec:function ce(Ae,it,St){var je=null;if(Ae&&Ae.Representation_asArray&&Ae.Representation_asArray.length>0){var Xe=oe(it)&&it>=0&&it<Ae.Representation_asArray.length?Ae.Representation_asArray[it]:Ae.Representation_asArray[0];Xe&&(je=Xe.mimeType+';codecs="'+Xe.codecs+'"',St&&void 0!==Xe.width&&(je+=';width="'+Xe.width+'";height="'+Xe.height+'"'))}return je&&(je=je.replace(/\sprofiles=[^;]*/g,"")),je},getSelectionPriority:function at(Ae){try{var it=Ae&&typeof Ae.selectionPriority<"u"?parseInt(Ae.selectionPriority):1;return isNaN(it)?1:it}catch{return 1}},getMimeType:function ue(Ae){return Ae&&Ae.Representation_asArray&&Ae.Representation_asArray.length>0?Ae.Representation_asArray[0].mimeType:null},getKID:function be(Ae){return Ae&&Ae.hasOwnProperty(T.default.CENC_DEFAULT_KID)?Ae[T.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function we(Ae){if(!Ae||!Array.isArray(Ae.Label_asArray))return[];for(var it=[],St=0;St<Ae.Label_asArray.length;St++)it.push({lang:Ae.Label_asArray[St].lang,text:Ae.Label_asArray[St].__text||Ae.Label_asArray[St]});return it},getContentProtectionData:function Pe(Ae){return Ae&&Ae.hasOwnProperty(T.default.CONTENTPROTECTION_ASARRAY)&&0!==Ae.ContentProtection_asArray.length?Ae.ContentProtection_asArray:null},getIsDynamic:Re,getId:function Ue(Ae){return Ae&&Ae[T.default.ID]||null},hasProfile:function Ce(Ae,it){var St=!1;return Ae&&Ae.profiles&&Ae.profiles.length>0&&(St=-1!==Ae.profiles.indexOf(it)),St},getDuration:function Oe(Ae){return Ae&&Ae.hasOwnProperty(T.default.MEDIA_PRESENTATION_DURATION)?Ae.mediaPresentationDuration:Ae&&"dynamic"==Ae.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Ge(Ae){return Ae&&Ae.bandwidth?Ae.bandwidth:NaN},getManifestUpdatePeriod:function Ne(Ae){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,St=NaN;return Ae&&Ae.hasOwnProperty(T.default.MINIMUM_UPDATE_PERIOD)&&(St=Ae.minimumUpdatePeriod),isNaN(St)?St:Math.max(St-it,1)},getPublishTime:function $e(Ae){return Ae&&Ae.hasOwnProperty(T.default.PUBLISH_TIME)?new Date(Ae[T.default.PUBLISH_TIME]):null},getRepresentationCount:function Je(Ae){return Ae&&Array.isArray(Ae.Representation_asArray)?Ae.Representation_asArray.length:0},getBitrateListForAdaptation:function nt(Ae){var it=B(Ae);return(it&&Array.isArray(it.Representation_asArray)?it.Representation_asArray:[]).map(function(je){return{bandwidth:je.bandwidth,width:je.width||0,height:je.height||0,scanType:je.scanType||null,id:je.id||null}})},getRepresentationFor:function wt(Ae,it){return it&&it.Representation_asArray&&it.Representation_asArray.length>0&&oe(Ae)?it.Representation_asArray[Ae]:null},getRepresentationsForAdaptation:function kt(Ae){var je,Xe,it=[],St=function Vt(Ae){if(Ae&&Ae.period&&oe(Ae.period.index)){var it=Ae.period.mpd.manifest.Period_asArray[Ae.period.index];if(it&&it.AdaptationSet_asArray&&oe(Ae.index))return B(it.AdaptationSet_asArray[Ae.index])}}(Ae);if(St&&St.Representation_asArray){if(Ae&&Ae.period&&oe(Ae.period.index)){var ct=rt(Ae.period.mpd.manifest);ct&&(Xe=ct[0])}for(var At=0,sn=St.Representation_asArray.length;At<sn;++At){var Yt=St.Representation_asArray[At],He=new I.default;if(He.index=At,He.adaptation=Ae,Yt.hasOwnProperty(T.default.ID)&&(He.id=Yt.id),Yt.hasOwnProperty(T.default.CODECS)&&(He.codecs=Yt.codecs),Yt.hasOwnProperty(T.default.MIME_TYPE)&&(He.mimeType=Yt[T.default.MIME_TYPE]),Yt.hasOwnProperty(T.default.CODEC_PRIVATE_DATA)&&(He.codecPrivateData=Yt.codecPrivateData),Yt.hasOwnProperty(T.default.BANDWITH)&&(He.bandwidth=Yt.bandwidth),Yt.hasOwnProperty(T.default.WIDTH)&&(He.width=Yt.width),Yt.hasOwnProperty(T.default.HEIGHT)&&(He.height=Yt.height),Yt.hasOwnProperty(T.default.SCAN_TYPE)&&(He.scanType=Yt.scanType),Yt.hasOwnProperty(T.default.MAX_PLAYOUT_RATE)&&(He.maxPlayoutRate=Yt.maxPlayoutRate),Yt.hasOwnProperty(T.default.SEGMENT_BASE)?(je=Yt.SegmentBase,He.segmentInfoType=T.default.SEGMENT_BASE):Yt.hasOwnProperty(T.default.SEGMENT_LIST)?He.segmentInfoType=(je=Yt.SegmentList).hasOwnProperty(T.default.SEGMENT_TIMELINE)?T.default.SEGMENT_TIMELINE:T.default.SEGMENT_LIST:Yt.hasOwnProperty(T.default.SEGMENT_TEMPLATE)?(He.segmentInfoType=(je=Yt.SegmentTemplate).hasOwnProperty(T.default.SEGMENT_TIMELINE)?T.default.SEGMENT_TIMELINE:T.default.SEGMENT_TEMPLATE,je.hasOwnProperty(T.default.INITIALIZATION_MINUS)&&(He.initialization=je.initialization.split("$Bandwidth$").join(Yt.bandwidth).split("$RepresentationID$").join(Yt.id))):He.segmentInfoType=T.default.BASE_URL,He.essentialProperties=ht(Yt),je){if(je.hasOwnProperty(T.default.INITIALIZATION)){var Fe=je.Initialization;Fe.hasOwnProperty(T.default.SOURCE_URL)&&(He.initialization=Fe.sourceURL),Fe.hasOwnProperty(T.default.RANGE)&&(He.range=Fe.range)}else he(St)&&fe(St)&&St.mimeType&&-1===St.mimeType.indexOf("application/mp4")&&(He.range=0);je.hasOwnProperty(T.default.TIMESCALE)&&(He.timescale=je.timescale),je.hasOwnProperty(T.default.DURATION)?He.segmentDuration=je.duration/He.timescale:Yt.hasOwnProperty(T.default.SEGMENT_TEMPLATE)&&(je=Yt.SegmentTemplate).hasOwnProperty(T.default.SEGMENT_TIMELINE)&&(He.segmentDuration=zt(je.SegmentTimeline)/He.timescale),je.hasOwnProperty(T.default.MEDIA)&&(He.media=je.media),je.hasOwnProperty(T.default.START_NUMBER)&&(He.startNumber=je.startNumber),je.hasOwnProperty(T.default.INDEX_RANGE)&&(He.indexRange=je.indexRange),je.hasOwnProperty(T.default.PRESENTATION_TIME_OFFSET)&&(He.presentationTimeOffset=je.presentationTimeOffset/He.timescale),je.hasOwnProperty(T.default.AVAILABILITY_TIME_OFFSET)?He.availabilityTimeOffset=je.availabilityTimeOffset:Xe&&void 0!==Xe.availabilityTimeOffset&&(He.availabilityTimeOffset=Xe.availabilityTimeOffset),je.hasOwnProperty(T.default.AVAILABILITY_TIME_COMPLETE)?He.availabilityTimeComplete="false"!==je.availabilityTimeComplete:Xe&&void 0!==Xe.availabilityTimeComplete&&(He.availabilityTimeComplete=Xe.availabilityTimeComplete)}He.MSETimeOffset=en(He),He.path=[Ae.period.index,Ae.index,At],it.push(He)}}return it},getAdaptationsForPeriod:function De(Ae){var je,Xe,ct,it=Ae&&oe(Ae.index)?Ae.mpd.manifest.Period_asArray[Ae.index]:null,St=[];if(it&&it.AdaptationSet_asArray)for(ct=0;ct<it.AdaptationSet_asArray.length;ct++)Xe=it.AdaptationSet_asArray[ct],je=new R.default,Xe.hasOwnProperty(T.default.ID)&&(je.id=Xe.id),je.index=ct,je.period=Ae,de(Xe)?je.type=M.default.MUXED:ae(Xe)?je.type=M.default.AUDIO:pe(Xe)?je.type=M.default.VIDEO:he(Xe)?je.type=M.default.TEXT:ve(Xe)?je.type=M.default.IMAGE:W.warn("Unknown Adaptation stream type"),St.push(je);return St},getRegularPeriods:function Te(Ae){var sn,Yt,it=!!Ae&&Re(Ae.manifest),St=[],je=null,Xe=null,ct=null,At=null;for(Yt=0,sn=Ae&&Ae.manifest&&Ae.manifest.Period_asArray?Ae.manifest.Period_asArray.length:0;Yt<sn;Yt++)(Xe=Ae.manifest.Period_asArray[Yt]).hasOwnProperty(T.default.START)?(At=new P.default).start=Xe.start:null!==je&&je.hasOwnProperty(T.default.DURATION)&&null!==ct?(At=new P.default).start=parseFloat((ct.start+ct.duration).toFixed(5)):0===Yt&&!it&&((At=new P.default).start=0),null!==ct&&isNaN(ct.duration)&&(null!==At?ct.duration=parseFloat((At.start-ct.start).toFixed(5)):W.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==At&&(At.id=Le(Xe,Yt),At.index=Yt,At.mpd=Ae,Xe.hasOwnProperty(T.default.DURATION)&&(At.duration=Xe.duration),ct&&(ct.nextPeriodId=At.id),St.push(At),je=Xe,ct=At),Xe=null,At=null;return 0===St.length||null!==ct&&isNaN(ct.duration)&&(ct.duration=parseFloat((function tt(Ae){!function st(){if(!x||!x.hasOwnProperty("error"))throw new Error(M.default.MISSING_CONFIG_ERROR)}();var St,it=Re(Ae.mpd.manifest);return Ae.mpd.manifest.mediaPresentationDuration?St=Ae.mpd.manifest.mediaPresentationDuration:Ae.duration?St=Ae.duration:it?St=Number.POSITIVE_INFINITY:x.error(new v.default(p.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Ae)),St}(ct)-ct.start).toFixed(5))),St},getMpd:function Ye(Ae){var it=new w.default;return Ae&&(it.manifest=Ae,Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME)?it.availabilityStartTime=new Date(Ae.availabilityStartTime.getTime()):Ae.loadedTime&&(it.availabilityStartTime=new Date(Ae.loadedTime.getTime())),Ae.hasOwnProperty(T.default.AVAILABILITY_END_TIME)&&(it.availabilityEndTime=new Date(Ae.availabilityEndTime.getTime())),Ae.hasOwnProperty(T.default.MINIMUM_UPDATE_PERIOD)&&(it.minimumUpdatePeriod=Ae.minimumUpdatePeriod),Ae.hasOwnProperty(T.default.MEDIA_PRESENTATION_DURATION)&&(it.mediaPresentationDuration=Ae.mediaPresentationDuration),Ae.hasOwnProperty(T.default.SUGGESTED_PRESENTATION_DELAY)&&(it.suggestedPresentationDelay=Ae.suggestedPresentationDelay),Ae.hasOwnProperty(T.default.TIMESHIFT_BUFFER_DEPTH)&&(it.timeShiftBufferDepth=Ae.timeShiftBufferDepth),Ae.hasOwnProperty(T.default.MAX_SEGMENT_DURATION)&&(it.maxSegmentDuration=Ae.maxSegmentDuration),Ae.hasOwnProperty(T.default.PUBLISH_TIME)&&(it.publishTime=new Date(Ae.publishTime))),it},getEventsForPeriod:function ut(Ae){var ct,At,it=Ae&&Ae.mpd&&Ae.mpd.manifest?Ae.mpd.manifest:null,St=it?it.Period_asArray:null,je=St&&Ae&&oe(Ae.index)?St[Ae.index].EventStream_asArray:null,Xe=[];if(je)for(ct=0;ct<je.length;ct++){var sn=new f.default;if(sn.period=Ae,sn.timescale=1,!je[ct].hasOwnProperty(M.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(sn.schemeIdUri=je[ct][M.default.SCHEME_ID_URI],je[ct].hasOwnProperty(T.default.TIMESCALE)&&(sn.timescale=je[ct][T.default.TIMESCALE]),je[ct].hasOwnProperty(T.default.VALUE)&&(sn.value=je[ct][T.default.VALUE]),je[ct].hasOwnProperty(T.default.PRESENTATION_TIME_OFFSET)&&(sn.presentationTimeOffset=je[ct][T.default.PRESENTATION_TIME_OFFSET]),At=0;je[ct].Event_asArray&&At<je[ct].Event_asArray.length;At++){var Yt=je[ct].Event_asArray[At],He=new c.default;He.presentationTime=0,He.eventStream=sn,Yt.hasOwnProperty(T.default.PRESENTATION_TIME)&&(He.presentationTime=Yt.presentationTime),He.calculatedPresentationTime=He.presentationTime/sn.timescale+Ae.start-(sn.presentationTimeOffset?sn.presentationTimeOffset/sn.timescale:0),Yt.hasOwnProperty(T.default.DURATION)&&(He.duration=Yt.duration/sn.timescale),He.id=Yt.hasOwnProperty(T.default.ID)?Yt.id:null,He.messageData=Yt.Signal&&Yt.Signal.Binary?Y.decodeArray(Yt.Signal.Binary.toString()):Yt.messageData||Yt.__cdata||Yt.__text,Xe.push(He)}}return Xe},getEssentialPropertiesForRepresentation:ht,getEventStreamForAdaptationSet:function gt(Ae,it,St){var je,Xe,ct;return Ae&&Ae.Period_asArray&&it&&it.period&&oe(it.period.index)&&(Xe=Ae.Period_asArray[it.period.index])&&Xe.AdaptationSet_asArray&&oe(it.index)&&(ct=Xe.AdaptationSet_asArray[it.index])&&(je=ct.InbandEventStream_asArray),yt(je,null,St)},getEventStreamForRepresentation:function ke(Ae,it,St){var je,Xe,ct,At;return Ae&&Ae.Period_asArray&&it&&it.adaptation&&it.adaptation.period&&oe(it.adaptation.period.index)&&(Xe=Ae.Period_asArray[it.adaptation.period.index])&&Xe.AdaptationSet_asArray&&oe(it.adaptation.index)&&(ct=Xe.AdaptationSet_asArray[it.adaptation.index])&&ct.Representation_asArray&&oe(it.index)&&(At=ct.Representation_asArray[it.index])&&(je=At.InbandEventStream_asArray),yt(je,it,St)},getUTCTimingSources:function Ze(Ae){var it=Re(Ae),St=!!Ae&&Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME),je=Ae?Ae.UTCTiming_asArray:null,Xe=[];return(it||St)&&je&&je.forEach(function(ct){var At=new D.default;ct.hasOwnProperty(M.default.SCHEME_ID_URI)&&(At.schemeIdUri=ct.schemeIdUri,ct.hasOwnProperty(T.default.VALUE)&&(At.value=ct.value.toString(),Xe.push(At)))}),Xe},getBaseURLsFromElement:rt,getRepresentationSortFunction:re,getContentSteering:function mt(Ae){if(Ae&&Ae.hasOwnProperty(T.default.CONTENT_STEERING_AS_ARRAY)){var it=Ae[T.default.CONTENT_STEERING_AS_ARRAY][0],St=new _.default;return St.serverUrl=it.__text,it.hasOwnProperty(T.default.DEFAULT_SERVICE_LOCATION)&&(St.defaultServiceLocation=it[T.default.DEFAULT_SERVICE_LOCATION]),it.hasOwnProperty(T.default.QUERY_BEFORE_START)&&(St.queryBeforeStart="true"===it[T.default.QUERY_BEFORE_START].toLowerCase()),it.hasOwnProperty(T.default.PROXY_SERVER_URL)&&(St.proxyServerUrl=it[T.default.PROXY_SERVER_URL]),St}},getLocation:function Dt(Ae){if(Ae&&Ae.hasOwnProperty(M.default.LOCATION))return Ae.Location=Ae.Location_asArray[0],Ae.Location},getPatchLocation:function Pt(Ae){if(Ae&&Ae.hasOwnProperty(T.default.PATCH_LOCATION))return Ae.PatchLocation=Ae.PatchLocation_asArray[0],Ae.PatchLocation},getSuggestedPresentationDelay:function Bt(Ae){return Ae&&Ae.hasOwnProperty(T.default.SUGGESTED_PRESENTATION_DELAY)?Ae.suggestedPresentationDelay:null},getAvailabilityStartTime:function mn(Ae){return Ae&&Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME)&&null!==Ae.availabilityStartTime?Ae.availabilityStartTime.getTime():null},getServiceDescriptions:function un(Ae){var it=[];if(Ae&&Ae.hasOwnProperty(T.default.SERVICE_DESCRIPTION)){var je,St=g(Ae.ServiceDescription_asArray);try{for(St.s();!(je=St.n()).done;){var Xe=je.value,ct=null,At=null,sn=null,Yt=null,He=null,Fe=null;for(var qe in Xe)Xe.hasOwnProperty(qe)&&(qe===T.default.ID?ct=Xe[qe]:qe===T.default.SERVICE_DESCRIPTION_SCOPE?At=Xe[qe].schemeIdUri:qe===T.default.SERVICE_DESCRIPTION_LATENCY?sn={target:parseInt(Xe[qe].target),max:parseInt(Xe[qe].max),min:parseInt(Xe[qe].min),referenceId:parseInt(Xe[qe].referenceId)}:qe===T.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?Yt={max:parseFloat(Xe[qe].max),min:parseFloat(Xe[qe].min)}:qe===T.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?He={mediaType:Xe[qe].mediaType,max:parseInt(Xe[qe].max),min:parseInt(Xe[qe].min),target:parseInt(Xe[qe].target),type:Xe[qe].type,maxQualityDifference:parseInt(Xe[qe].maxQualityDifference)}:qe===T.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Fe={mediaType:Xe[qe].mediaType,max:parseInt(Xe[qe].max),min:parseInt(Xe[qe].min),target:parseInt(Xe[qe].target)}));it.push({id:ct,schemeIdUri:At,latency:sn,playbackRate:Yt,operatingQuality:He,operatingBandwidth:Fe})}}catch(ft){St.e(ft)}finally{St.f()}}return it},getSupplementalProperties:function Nn(Ae){var it={};if(Ae&&Ae.hasOwnProperty(T.default.SUPPLEMENTAL_PROPERTY)){var je,St=g(Ae.SupplementalProperty_asArray);try{for(St.s();!(je=St.n()).done;){var Xe=je.value;Xe.hasOwnProperty(M.default.SCHEME_ID_URI)&&Xe.hasOwnProperty(T.default.VALUE)&&(it[Xe[M.default.SCHEME_ID_URI]]=Xe[T.default.VALUE])}}catch(ct){St.e(ct)}finally{St.f()}}return it},setConfig:function er(Ae){!Ae||(Ae.errHandler&&(x=Ae.errHandler),Ae.BASE64&&(Y=Ae.BASE64))}},function ye(){W=Object(b.default)(z).getInstance().getLogger(H)}(),H}le.__dashjs_factory_name="DashManifestModel",U.default=O.default.getSingletonFactory(le)},"./src/dash/models/PatchManifestModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/constants/DashConstants.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/core/Debug.js"),R=m("./src/dash/vo/SimpleXPath.js"),P=m("./src/dash/vo/PatchOperation.js");function w(){var D,c,l=this.context;return D={getIsPatch:function d(b){return b&&b.hasOwnProperty(M.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function _(b){return b&&b.hasOwnProperty(M.default.PUBLISH_TIME)?new Date(b[M.default.PUBLISH_TIME]):null},getOriginalPublishTime:function L(b){return b&&b.hasOwnProperty(M.default.ORIGINAL_PUBLISH_TIME)?new Date(b[M.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function S(b){return b&&b[M.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function O(b){return b?(b.__children||[]).map(function(v){var p=Object.keys(v)[0];if("add"!==p&&"remove"!==p&&"replace"!==p)return c.warn("Ignoring node of invalid action: ".concat(p)),null;var y=v[p],g=y.sel;if("add"===p&&y.type){if(!y.type.startsWith("@"))return c.warn("Ignoring add action for prefixed namespace declaration: ".concat(y.type,"=").concat(y.__text)),null;g="".concat(g,"/").concat(y.type)}var A=new R.default(g);if(!A.isValid())return c.warn("Ignoring action with invalid selector: ".concat(p," - ").concat(g)),null;var E=null;A.findsAttribute()?E=y.__text||"":"remove"!==p&&(E=y.__children.reduce(function(G,ee){var Z=Object.keys(ee)[0];return"#text"!==Z&&(G[Z]=G[Z]||[],G[Z].push(ee[Z])),G},{}));var N=new P.default(p,A,E);return"add"===p&&(N.position=y.pos),N}).filter(function(v){return!!v}):[]}},function f(){c=Object(I.default)(l).getInstance().getLogger(D)}(),D}w.__dashjs_factory_name="PatchManifestModel",U.default=T.default.getSingletonFactory(w)},"./src/dash/parser/DashParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/dash/parser/objectiron.js"),I=m("./externals/xml2json.js"),R=m("./src/dash/parser/matchers/StringMatcher.js"),P=m("./src/dash/parser/matchers/DurationMatcher.js"),w=m("./src/dash/parser/matchers/DateTimeMatcher.js"),D=m("./src/dash/parser/matchers/NumericMatcher.js"),c=m("./src/dash/parser/matchers/LangMatcher.js"),l=m("./src/dash/parser/maps/RepresentationBaseValuesMap.js"),f=m("./src/dash/parser/maps/SegmentValuesMap.js");function d(_){var O,b,v,p,y,L=this.context,S=(_=_||{}).debug;return O={parse:function N(G){var ee,Z=window.performance.now();if(!(ee=p.xml_str2json(G)))throw new Error("parsing the manifest failed");var le=window.performance.now();ee.Patch?((ee=ee.Patch).add_asArray&&ee.add_asArray.forEach(function(W){return y.run(W)}),ee.replace_asArray&&ee.replace_asArray.forEach(function(W){return y.run(W)})):y.run(ee=ee.MPD);var H=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(le-Z).toPrecision(3)+"ms, objectiron: "+(H-le).toPrecision(3)+"ms, total: "+((H-Z)/1e3).toPrecision(3)+"s)"),ee.protocol="DASH",ee},getMatchers:function A(){return v},getIron:function E(){return y}},function g(){b=S.getLogger(O),v=[new P.default,new w.default,new D.default,new c.default,new R.default],p=new I.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:v}),y=Object(T.default)(L).create({adaptationset:new l.default,period:new f.default})}(),O}d.__dashjs_factory_name="DashParser",U.default=M.default.getClassFactory(d)},"./src/dash/parser/maps/CommonProperty.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,P(d.key),d)}}function P(c){var l=function w(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c);var _;this._name=l,this._merge=(_=l)&&_.length&&_.charAt(0)===_.charAt(0).toUpperCase()}return function R(c,l,f){return l&&I(c.prototype,l),f&&I(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),c}()},"./src/dash/parser/maps/MapNode.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/maps/CommonProperty.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function R(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function w(l){var f=function D(l,f){if("object"!==T(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===T(f)?f:String(f)}U.default=function(){function l(f,d,_){var L=this;(function I(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this._name=f||"",this._properties=[],this._children=_||[],Array.isArray(d)&&d.forEach(function(S){L._properties.push(new M.default(S))})}return function P(l,f,d){return f&&R(l.prototype,f),d&&R(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),l}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/maps/MapNode.js"),T=m("./src/dash/constants/DashConstants.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function R(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,w(g.key),g)}}function w(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&f(v,p)}function f(v,p){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function L(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}U.default=function(v){l(y,v);var p=d(y);function y(){!function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y);var g=[T.default.PROFILES,T.default.WIDTH,T.default.HEIGHT,T.default.SAR,T.default.FRAMERATE,T.default.AUDIO_SAMPLING_RATE,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.MAXIMUM_SAP_PERIOD,T.default.START_WITH_SAP,T.default.MAX_PLAYOUT_RATE,T.default.CODING_DEPENDENCY,T.default.SCAN_TYPE,T.default.FRAME_PACKING,T.default.AUDIO_CHANNEL_CONFIGURATION,T.default.CONTENT_PROTECTION,T.default.ESSENTIAL_PROPERTY,T.default.SUPPLEMENTAL_PROPERTY,T.default.INBAND_EVENT_STREAM];return p.call(this,T.default.ADAPTATION_SET,g,[new M.default(T.default.REPRESENTATION,g,[new M.default(T.default.SUB_REPRESENTATION,g)])])}return function P(v,p,y){return p&&R(v.prototype,p),y&&R(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/maps/SegmentValuesMap.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/maps/MapNode.js"),T=m("./src/dash/constants/DashConstants.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function R(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,w(g.key),g)}}function w(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&f(v,p)}function f(v,p){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function L(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}U.default=function(v){l(y,v);var p=d(y);function y(){!function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y);var g=[T.default.SEGMENT_BASE,T.default.SEGMENT_TEMPLATE,T.default.SEGMENT_LIST];return p.call(this,T.default.PERIOD,g,[new M.default(T.default.ADAPTATION_SET,g,[new M.default(T.default.REPRESENTATION,g)])])}return function P(v,p,y){return p&&R(v.prototype,p),y&&R(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/matchers/BaseMatcher.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,P(d.key),d)}}function P(c){var l=function w(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l,f){(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this._test=l,this._converter=f}return function R(c,l,f){return l&&I(c.prototype,l),f&&I(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),c}()},"./src/dash/parser/matchers/DateTimeMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js");function T(g){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(g)}function I(g,A){for(var E=0;E<A.length;E++){var N=A[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(g,P(N.key),N)}}function P(g){var A=function w(g,A){if("object"!==T(g)||null===g)return g;var E=g[Symbol.toPrimitive];if(void 0!==E){var N=E.call(g,A||"default");if("object"!==T(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(g)}(g,"string");return"symbol"===T(A)?A:String(A)}function c(g,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(A&&A.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),A&&l(g,A)}function l(g,A){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,G){return N.__proto__=G,N})(g,A)}function f(g){var A=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var G,N=S(g);if(A){var ee=S(this).constructor;G=Reflect.construct(N,arguments,ee)}else G=N.apply(this,arguments);return d(this,G)}}function d(g,A){if(A&&("object"===T(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function _(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(g)}function S(g){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(g)}var p=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;U.default=function(g){c(E,g);var A=f(E);function E(){return function D(g,A){if(!(g instanceof A))throw new TypeError("Cannot call a class as a function")}(this,E),A.call(this,function(N){return p.test(N.value)},function(N){var ee,G=p.exec(N);if(ee=Date.UTC(parseInt(G[1],10),parseInt(G[2],10)-1,parseInt(G[3],10),parseInt(G[4],10),parseInt(G[5],10),G[6]&&parseInt(G[6],10)||0,G[7]&&1e3*parseFloat(G[7])||0),G[9]&&G[10]){var Z=60*parseInt(G[9],10)+parseInt(G[10],10);ee+=("+"===G[8]?-1:1)*Z*60*1e3}return new Date(ee)})}return function R(g,A,E){return A&&I(g.prototype,A),E&&I(g,E),Object.defineProperty(g,"prototype",{writable:!1}),g}(E)}(M.default)},"./src/dash/parser/matchers/DurationMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/dash/constants/DashConstants.js");function R(G){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(G)}function P(G,ee){for(var Z=0;Z<ee.length;Z++){var le=ee[Z];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(G,D(le.key),le)}}function D(G){var ee=function c(G,ee){if("object"!==R(G)||null===G)return G;var Z=G[Symbol.toPrimitive];if(void 0!==Z){var le=Z.call(G,ee||"default");if("object"!==R(le))return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(G)}(G,"string");return"symbol"===R(ee)?ee:String(ee)}function f(G,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(ee&&ee.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),ee&&d(G,ee)}function d(G,ee){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,H){return le.__proto__=H,le})(G,ee)}function _(G){var ee=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,le=b(G);if(ee){var W=b(this).constructor;H=Reflect.construct(le,arguments,W)}else H=le.apply(this,arguments);return L(this,H)}}function L(G,ee){if(ee&&("object"===R(ee)||"function"==typeof ee))return ee;if(void 0!==ee)throw new TypeError("Derived constructors may only return object or undefined");return function S(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(G)}function b(G){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(G)}var v=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;U.default=function(G){f(Z,G);var ee=_(Z);function Z(){return function l(G,ee){if(!(G instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Z),ee.call(this,function(le){for(var H=[I.default.MIN_BUFFER_TIME,I.default.MEDIA_PRESENTATION_DURATION,I.default.MINIMUM_UPDATE_PERIOD,I.default.TIMESHIFT_BUFFER_DEPTH,I.default.MAX_SEGMENT_DURATION,I.default.MAX_SUBSEGMENT_DURATION,I.default.SUGGESTED_PRESENTATION_DELAY,I.default.START,T.default.START_TIME,I.default.DURATION],W=H.length,x=0;x<W;x++)if(le.nodeName===H[x])return v.test(le.value);return!1},function(le){var H=v.exec(le),W=31536e3*parseFloat(H[3]||0)+2592e3*parseFloat(H[5]||0)+86400*parseFloat(H[7]||0)+3600*parseFloat(H[9]||0)+60*parseFloat(H[11]||0)+parseFloat(H[13]||0);return void 0!==H[1]&&(W=-W),W})}return function w(G,ee,Z){return ee&&P(G.prototype,ee),Z&&P(G,Z),Object.defineProperty(G,"prototype",{writable:!1}),G}(Z)}(M.default)},"./src/dash/parser/matchers/LangMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./node_modules/bcp-47-normalize/index.js"),R=m.n(I);function P(g){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(g)}function w(g,A,E){return(A=l(A))in g?Object.defineProperty(g,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):g[A]=E,g}function D(g,A){for(var E=0;E<A.length;E++){var N=A[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(g,l(N.key),N)}}function l(g){var A=function f(g,A){if("object"!==P(g)||null===g)return g;var E=g[Symbol.toPrimitive];if(void 0!==E){var N=E.call(g,A||"default");if("object"!==P(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(g)}(g,"string");return"symbol"===P(A)?A:String(A)}function _(g,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(A&&A.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),A&&L(g,A)}function L(g,A){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,G){return N.__proto__=G,N})(g,A)}function S(g){var A=function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var G,N=p(g);if(A){var ee=p(this).constructor;G=Reflect.construct(N,arguments,ee)}else G=N.apply(this,arguments);return O(this,G)}}function O(g,A){if(A&&("object"===P(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function b(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(g)}function p(g){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(g)}U.default=function(g){_(E,g);var A=S(E);function E(){return function d(g,A){if(!(g instanceof A))throw new TypeError("Cannot call a class as a function")}(this,E),A.call(this,function(N,G){var ee,Z=(w(ee={},T.default.ADAPTATION_SET,[T.default.LANG]),w(ee,T.default.REPRESENTATION,[T.default.LANG]),w(ee,T.default.CONTENT_COMPONENT,[T.default.LANG]),w(ee,T.default.LABEL,[T.default.LANG]),w(ee,T.default.GROUP_LABEL,[T.default.LANG]),ee);if(Z.hasOwnProperty(G)){var le=Z[G];return void 0!==le&&le.indexOf(N.name)>=0}return!1},function(N){var G=R()(N);return void 0!==G?G:String(N)})}return function c(g,A,E){return A&&D(g.prototype,A),E&&D(g,E),Object.defineProperty(g,"prototype",{writable:!1}),g}(E)}(M.default)},"./src/dash/parser/matchers/NumericMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js");function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function w(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return d(this,A)}}function d(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}var O=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;U.default=function(v){c(y,v);var p=f(y);function y(){return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),p.call(this,function(g){return O.test(g.value)},function(g){return parseFloat(g)})}return function R(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/matchers/StringMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js"),T=m("./src/dash/constants/DashConstants.js");function I(p){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function R(p,y,g){return(y=D(y))in p?Object.defineProperty(p,y,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[y]=g,p}function P(p,y){for(var g=0;g<y.length;g++){var A=y[g];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,D(A.key),A)}}function D(p){var y=function c(p,y){if("object"!==I(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var A=g.call(p,y||"default");if("object"!==I(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(p)}(p,"string");return"symbol"===I(y)?y:String(y)}function f(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),y&&d(p,y)}function d(p,y){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,E){return A.__proto__=E,A})(p,y)}function _(p){var y=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,A=b(p);if(y){var N=b(this).constructor;E=Reflect.construct(A,arguments,N)}else E=A.apply(this,arguments);return L(this,E)}}function L(p,y){if(y&&("object"===I(y)||"function"==typeof y))return y;if(void 0!==y)throw new TypeError("Derived constructors may only return object or undefined");return function S(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(p)}function b(p){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)})(p)}U.default=function(p){f(g,p);var y=_(g);function g(){return function l(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}(this,g),y.call(this,function(A,E){var N,G=(R(N={},T.default.MPD,[T.default.ID,T.default.PROFILES]),R(N,T.default.PERIOD,[T.default.ID]),R(N,T.default.BASE_URL,[T.default.SERVICE_LOCATION,T.default.BYTE_RANGE]),R(N,T.default.SEGMENT_BASE,[T.default.INDEX_RANGE]),R(N,T.default.INITIALIZATION,[T.default.RANGE]),R(N,T.default.REPRESENTATION_INDEX,[T.default.RANGE]),R(N,T.default.SEGMENT_LIST,[T.default.INDEX_RANGE]),R(N,T.default.BITSTREAM_SWITCHING,[T.default.RANGE]),R(N,T.default.SEGMENT_URL,[T.default.MEDIA_RANGE,T.default.INDEX_RANGE]),R(N,T.default.SEGMENT_TEMPLATE,[T.default.INDEX_RANGE,T.default.MEDIA,T.default.INDEX,T.default.INITIALIZATION_MINUS,T.default.BITSTREAM_SWITCHING_MINUS]),R(N,T.default.ASSET_IDENTIFIER,[T.default.VALUE,T.default.ID]),R(N,T.default.EVENT_STREAM,[T.default.VALUE]),R(N,T.default.ADAPTATION_SET,[T.default.PROFILES,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.CONTENT_TYPE]),R(N,T.default.FRAME_PACKING,[T.default.VALUE,T.default.ID]),R(N,T.default.AUDIO_CHANNEL_CONFIGURATION,[T.default.VALUE,T.default.ID]),R(N,T.default.CONTENT_PROTECTION,[T.default.VALUE,T.default.ID]),R(N,T.default.ESSENTIAL_PROPERTY,[T.default.VALUE,T.default.ID]),R(N,T.default.SUPPLEMENTAL_PROPERTY,[T.default.VALUE,T.default.ID]),R(N,T.default.INBAND_EVENT_STREAM,[T.default.VALUE,T.default.ID]),R(N,T.default.ACCESSIBILITY,[T.default.VALUE,T.default.ID]),R(N,T.default.ROLE,[T.default.VALUE,T.default.ID]),R(N,T.default.RATING,[T.default.VALUE,T.default.ID]),R(N,T.default.VIEWPOINT,[T.default.VALUE,T.default.ID]),R(N,T.default.CONTENT_COMPONENT,[T.default.CONTENT_TYPE]),R(N,T.default.REPRESENTATION,[T.default.ID,T.default.DEPENDENCY_ID,T.default.MEDIA_STREAM_STRUCTURE_ID]),R(N,T.default.SUBSET,[T.default.ID]),R(N,T.default.METRICS,[T.default.METRICS_MINUS]),R(N,T.default.REPORTING,[T.default.VALUE,T.default.ID]),N);if(G.hasOwnProperty(E)){var ee=G[E];return void 0!==ee&&ee.indexOf(A.name)>=0}return!1},function(A){return String(A)})}return function w(p,y,g){return y&&P(p.prototype,y),g&&P(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(g)}(M.default)},"./src/dash/parser/objectiron.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(P){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(P)}function I(P){function w(f,d){for(var _ in f)d.hasOwnProperty(_)||(d[_]=f[_])}function D(f,d,_){for(var L=0,S=f.length;L<S;++L){var O=f[L];if(d[O.name])if(_[O.name]){if(O.merge){var b=d[O.name],v=_[O.name];"object"===T(b)&&"object"===T(v)?w(b,v):_[O.name]=b+v}}else _[O.name]=d[O.name]}}function c(f,d){for(var _=0,L=f.children.length;_<L;++_){var S=f.children[_],O=d[S.name+"_asArray"];if(O)for(var b=0,v=O.length;b<v;++b){var p=O[b];D(f.properties,d,p),c(S,p)}}}return{run:function l(f){if(null===f||"object"!==T(f))return f;if(f.Period_asArray&&"period"in P)for(var d=P.period,_=f.Period_asArray,L=0,S=_.length;L<S;++L){var O=_[L];if(c(d,O),"adaptationset"in P){var b=O.AdaptationSet_asArray;if(b)for(var v=P.adaptationset,p=0,y=b.length;p<y;++p)c(v,b[p])}}return f}}}I.__dashjs_factory_name="ObjectIron";var R=M.default.getClassFactory(I);U.default=R},"./src/dash/utils/ListSegmentsGetter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/dash/utils/SegmentsUtils.js");function R(w,D){var c=(w=w||{}).timelineConverter;function f(){if(!c||!c.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function _(S,O){if(f(),!S)return null;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentList,v=b.SegmentURL_asArray.length,p=S&&!isNaN(S.startNumber)?S.startNumber:1,y=Math.max(p-1,0),g=Math.max(O-y,0),A=null;if(g<v){var E=b.SegmentURL_asArray[g];(A=Object(I.getIndexBasedSegment)(c,D,S,O))&&(A.replacementTime=(p+O-1)*S.segmentDuration,A.media=E.media?E.media:"",A.mediaRange=E.mediaRange,A.indexRange=E.indexRange)}return A}return{getSegmentByIndex:_,getSegmentByTime:function L(S,O){if(f(),!S)return null;var b=S.segmentDuration;if(isNaN(b))return null;var v=c.calcPeriodRelativeTimeFromMpdRelativeTime(S,O);return _(S,Math.floor(v/b))},getMediaFinishedInformation:function d(S){var O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!S)return O;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentList,v=S&&!isNaN(S.startNumber)?S.startNumber:1,p=Math.max(v-1,0);return O.numberOfSegments=p+b.SegmentURL_asArray.length,O}}}R.__dashjs_factory_name="ListSegmentsGetter";var P=M.default.getClassFactory(R);U.default=P},"./src/dash/utils/Round10.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function I(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var f=function w(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}m.r(U),m.d(U,"default",function(){return D});var D=function(){function l(){!function T(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}(this,l)}return function R(l,f,d){return f&&I(l.prototype,f),d&&I(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,null,[{key:"round10",value:function(d,_){return function c(l,f,d){return typeof d>"u"||0==+d?Math[l](f):(d=+d,null===(f=+f)||isNaN(f)||"number"!=typeof d||d%1!=0?NaN:(f=f.toString().split("e"),+((f=(f=Math[l](+(f[0]+"e"+(f[1]?+f[1]-d:-d)))).toString().split("e"))[0]+"e"+(f[1]?+f[1]+d:d))))}("round",d,_)}}]),l}()},"./src/dash/utils/SegmentBaseGetter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js");function I(P){var w=(P=P||{}).timelineConverter;function c(){if(!w||!w.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function f(L,S){if(c(),!L)return null;var b,O=L.segments?L.segments.length:-1;if(S<O&&(b=L.segments[S])&&b.index===S)return b;for(var v=0;v<O;v++)if((b=L.segments[v])&&b.index===S)return b;return null}return{getSegmentByIndex:f,getSegmentByTime:function d(L,S){return c(),f(L,function _(L,S){if(!L)return-1;var p,y,g,A,E,O=L.segments,b=O?O.length:null,v=-1;if(O&&b>0)for(E=0;E<b;E++)if(S+(p=(A=(y=O[E]).duration)/2)>=(g=y.presentationStartTime)&&S-p<g+A){v=y.index;break}return v}(L,S))},getMediaFinishedInformation:function l(L){var S={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!L||!L.segments||(S.numberOfSegments=L.segments.length),S}}}I.__dashjs_factory_name="SegmentBaseGetter";var R=M.default.getClassFactory(I);U.default=R},"./src/dash/utils/SegmentsUtils.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"unescapeDollarsInTemplate",function(){return R}),m.d(U,"replaceIDForTemplate",function(){return P}),m.d(U,"replaceTokenForTemplate",function(){return w}),m.d(U,"getIndexBasedSegment",function(){return l}),m.d(U,"getTimeBasedSegment",function(){return f});var M=m("./src/dash/vo/Segment.js");function T(d,_){for(;d.length<_;)d="0"+d;return d}function R(d){return d&&d.split("$$").join("$")}function P(d,_){if(!_||!d||-1===d.indexOf("$RepresentationID$"))return d;var L=_.toString();return d.split("$RepresentationID$").join(L)}function w(d,_,L){var O,b,v,p,y,g,A=_.length,E="%0".length;if(!d)return d;for(;;){if((O=d.indexOf("$"+_))<0||(b=d.indexOf("$",O+A))<0)return d;if((v=d.indexOf("%0",O+A))>O&&v<b)switch(p=d.charAt(b-1),y=parseInt(d.substring(v+E,b-1),10),p){case"d":case"i":case"u":g=T(L.toString(),y);break;case"x":g=T(L.toString(16),y);break;case"X":g=T(L.toString(16),y).toUpperCase();break;case"o":g=T(L.toString(8),y);break;default:return d}else g=L;d=d.substring(0,O)+g+d.substring(b+1)}}function D(d,_,L,S,O,b,v,p){var y=new M.default;return y.representation=d,y.duration=_,y.presentationStartTime=L,y.mediaStartTime=S,y.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(b,d,v),y.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(b+_,d,v),y.wallStartTime=O.calcWallTimeForSegment(y,v),y.replacementNumber=function I(d,_){return d.representation.startNumber+_}(y,p),y.index=p,y}function c(d,_,L,S){var O=_.adaptation.period;if(isFinite(O.duration)&&O.start+O.duration<=L.presentationStartTime)return!1;if(S){if("INF"===_.availabilityTimeOffset)return!0;var b=d.getClientReferenceTime();return L.availabilityStartTime.getTime()<=b&&(!isFinite(L.availabilityEndTime)||L.availabilityEndTime.getTime()>=b)}return!0}function l(d,_,L,S){var O,b,v;O=L.segmentDuration,isNaN(O)&&(O=L.adaptation.period.duration),b=parseFloat((L.adaptation.period.start+S*O).toFixed(5)),v=parseFloat((b+O).toFixed(5));var y=D(L,O,b,d.calcMediaTimeFromPresentationTime(b,L),d,v,_,S);return c(d,L,y,_)?y:null}function f(d,_,L,S,O,b,v,p,y,g){var N,ee,A=S/b,E=O/b;return N=d.calcPresentationTimeFromMediaTime(A,L),c(d,L,ee=D(L,E,N,A,d,N+E,_,y),_)?(ee.replacementTime=g||S,v=w(v,"Number",ee.replacementNumber),v=w(v,"Time",ee.replacementTime),ee.media=v,ee.mediaRange=p,ee):null}},"./src/dash/utils/TemplateSegmentsGetter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/dash/utils/SegmentsUtils.js");function R(w,D){var c=(w=w||{}).timelineConverter;function f(){if(!c||!c.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function _(S,O){if(f(),!S)return null;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentTemplate;O=Math.max(O,0);var v=Object(I.getIndexBasedSegment)(c,D,S,O);if(v){v.replacementTime=Math.round((O-1)*S.segmentDuration*S.timescale,10);var p=b.media;p=Object(I.replaceTokenForTemplate)(p,"Number",v.replacementNumber),p=Object(I.replaceTokenForTemplate)(p,"Time",v.replacementTime),v.media=p}return v}return{getSegmentByIndex:_,getSegmentByTime:function L(S,O){if(f(),!S)return null;var b=S.segmentDuration;if(isNaN(b))return null;var v=c.calcPeriodRelativeTimeFromMpdRelativeTime(S,O);return _(S,Math.floor(v/b))},getMediaFinishedInformation:function d(S){var O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!S)return O;var b=S.segmentDuration;return O.numberOfSegments=isNaN(b)?1:Math.ceil(S.adaptation.period.duration/b),O}}}R.__dashjs_factory_name="TemplateSegmentsGetter";var P=M.default.getClassFactory(R);U.default=P},"./src/dash/utils/TimelineConverter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/dash/constants/DashConstants.js"),P=m("./src/dash/models/DashManifestModel.js"),w=m("./src/core/Settings.js"),D=m("./src/streaming/constants/Constants.js"),c=m("./src/streaming/MediaPlayerEvents.js"),l=m("./src/streaming/constants/ConformanceViolationConstants.js");function f(){var S,O,b,v,d=this.context,_=Object(M.default)(d).getInstance(),L=Object(w.default)(d).getInstance();function A(de){v=de}function N(de,ve,se,Se){var ge,ne=ve.adaptation.period.mpd,X=ne.availabilityStartTime;if(Se)ge=se&&ne.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(X.getTime()+1e3*(de+ne.timeShiftBufferDepth)):ne.availabilityEndTime;else if(se){var F=ve.availabilityTimeOffset;ge=new Date(X.getTime()+1e3*(de-F))}else ge=X;return ge}function Z(de,ve){return(de.getTime()-ve.mpd.availabilityStartTime.getTime()+1e3*v)/1e3}function le(de,ve){return de+(ve.adaptation.period.start-ve.presentationTimeOffset)}function ie(de){var ve={start:NaN,end:NaN},se=de[0].getAdapter().getRegularPeriods()[0],Se=Z(new Date,se);if(!de||0===de.length)return{range:ve,now:Se};de.forEach(function(ne){var X=ne.getAdapter(),F=X.getMediaInfoForType(ne.getStreamInfo(),D.default.VIDEO)||X.getMediaInfoForType(ne.getStreamInfo(),D.default.AUDIO),re=X.getVoRepresentations(F)[0],B={start:NaN,end:NaN};if(re)if(re.segmentInfoType===R.default.SEGMENT_TIMELINE)B=function J(de){var V,re,B,te,se=O.getRepresentationFor(de.index,de.adaptation.period.mpd.manifest.Period_asArray[de.adaptation.period.index].AdaptationSet_asArray[de.adaptation.index]),ge=se.SegmentTemplate.timescale,ne=se.SegmentTemplate.SegmentTimeline.S_asArray,X={start:0,end:0},F=0;for(X.start=le(ne[0].t/ge,de),B=0,te=ne.length;B<te;B++)re=0,(V=ne[B]).hasOwnProperty("r")&&(re=V.r),F+=V.d*(1+re);return X.end=le((ne[0].t+F)/ge,de),X}(re);else{var te=re.adaptation.period;B.start=te.start,B.end=Math.max(Se,te.start+te.duration)}!isNaN(B.start)&&(isNaN(ve.start)||ve.start>B.start)&&(ve.start=B.start),!isNaN(B.end)&&(isNaN(ve.end)||ve.end<B.end)&&(ve.end=B.end)}),ve.end=Math.min(Se,ve.end);var ge=ye(de,ve.end,!0);return ve.end=isNaN(ge)?ve.end:ge,ve.start=se&&se.mpd&&se.mpd.timeShiftBufferDepth&&!isNaN(se.mpd.timeShiftBufferDepth)&&!isNaN(ve.end)?Math.max(ve.end-se.mpd.timeShiftBufferDepth,ve.start):ve.start,ve.start=ye(de,ve.start),{range:ve,now:Se}}function oe(de,ve){b=de-ve.end}function ye(de,ve){var se=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var Se=0,ge=!1,ne=NaN;!ge&&Se<de.length;){var X=de[Se].getStreamInfo();X.start<=ve&&(!isFinite(X.duration)||X.start+X.duration>=ve)?(ne=ve,ge=!0):!se&&X.start>ve&&(isNaN(ne)||X.start<ne)?ne=X.start:se&&X.start+X.duration<ve&&(isNaN(ne)||X.start+X.duration>ne)&&(ne=X.start+X.duration),Se+=1}return ne}catch{return ve}}function ae(de){void 0!==de.offset&&!isNaN(de.offset)&&A(de.offset/1e3)}function pe(){v=0,b=0}function he(){_.off(T.default.UPDATE_TIME_SYNC_OFFSET,ae,this),pe()}return S={initialize:function y(){pe(),_.on(T.default.UPDATE_TIME_SYNC_OFFSET,ae,this)},getClientTimeOffset:function g(){return v},setClientTimeOffset:A,getClientReferenceTime:function E(){return Date.now()-1e3*b+1e3*v},calcAvailabilityStartTimeFromPresentationTime:function G(de,ve,se){return N(de,ve,se)},calcAvailabilityEndTimeFromPresentationTime:function ee(de,ve,se){return N(de,ve,se,!0)},calcPresentationTimeFromWallTime:Z,calcPresentationTimeFromMediaTime:le,calcPeriodRelativeTimeFromMpdRelativeTime:function fe(de,ve){return ve-de.adaptation.period.start},calcMediaTimeFromPresentationTime:function H(de,ve){return de-ve.adaptation.period.start+ve.presentationTimeOffset},calcWallTimeForSegment:function W(de,ve){var Se,ge;return ve&&(Se=de.presentationStartTime+de.representation.adaptation.period.mpd.suggestedPresentationDelay,ge=new Date(de.availabilityStartTime.getTime()+1e3*Se)),ge},calcTimeShiftBufferWindow:function x(de,ve){if(!ve)return function Y(de){var ve={start:NaN,end:NaN},se=0,Se=NaN;return de.forEach(function(ge){var ne=ge.getStreamInfo();se+=ne.duration,(isNaN(Se)||ne.start<Se)&&(Se=ne.start)}),ve.start=Se,ve.end=Se+se,ve}(de);if(L.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var se=ie(de);return oe(se.now,se.range),se.range}return function z(de){var ve={start:NaN,end:NaN};if(!de||0===de.length)return ve;var se=de[0].getAdapter().getRegularPeriods()[0],Se=Z(new Date,se),ge=se.mpd.timeShiftBufferDepth,ne=isNaN(ge)?0:Se-ge;if(ve.start=ye(de,ne),ve.end=!isNaN(ve.start)&&Se<ve.start?Se:ye(de,Se,!0),!isNaN(ge)&&ve.end<Se-ge&&(ve.end=NaN),L.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var X=ie(de);if(X.range.end<ve.start)return _.trigger(c.default.CONFORMANCE_VIOLATION,{level:l.default.LEVELS.WARNING,event:l.default.EVENTS.INVALID_DVR_WINDOW}),oe(X.now,X.range),X.range}return ve}(de)},reset:he},function p(){O=Object(P.default)(d).getInstance(),he()}(),S}f.__dashjs_factory_name="TimelineConverter",U.default=I.default.getSingletonFactory(f)},"./src/dash/utils/TimelineSegmentsGetter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/dash/utils/SegmentsUtils.js");function R(w,D){var c=(w=w||{}).timelineConverter,l=w.dashMetrics;function d(){if(!c)throw new Error(T.default.MISSING_CONFIG_ERROR)}function L(p,y){var ee,Z,le,H,W,x,Y,g=p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentTemplate||p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentList,E=g.SegmentURL_asArray,N=0,G=-1;Y=p.timescale;var z=!1;for(le=0,H=(ee=g.SegmentTimeline.S_asArray).length;le<H&&!z;le++)for(x=0,(Z=ee[le]).hasOwnProperty("r")&&(x=Z.r),Z.hasOwnProperty("t")&&(N=Z.t),x<0&&(x=S(p,ee[le+1],Z,Y,N/Y)),W=0;W<=x&&!z;W++)(z=y(N,g,E,Z,Y,++G,le))&&(p.segmentDuration=Z.d/Y),N+=Z.d}function S(p,y,g,A,E){var N;if(y&&y.hasOwnProperty("t"))N=y.t/A;else try{var G=0;if(isNaN(p.adaptation.period.start)||isNaN(p.adaptation.period.duration)||!isFinite(p.adaptation.period.duration)){var ee=l.getCurrentDVRInfo();G=isNaN(ee.end)?0:ee.end}else G=p.adaptation.period.start+p.adaptation.period.duration;N=c.calcMediaTimeFromPresentationTime(G,p),p.segmentDuration=g.d/A}catch{N=0}return Math.max(Math.ceil((N-E)/(g.d/A))-1,0)}return{getSegmentByIndex:function O(p,y,g){if(d(),!p)return null;var A=null,E=!1;return L(p,function(N,G,ee,Z,le,H,W){if(E||g<0){var x=G.media,Y=Z.mediaRange;return ee&&(x=ee[W].media||"",Y=ee[W].mediaRange),A=Object(I.getTimeBasedSegment)(c,D,p,N,Z.d,le,x,Y,H,Z.tManifest),!0}return N>=g*le-.5*Z.d&&(E=!0),!1}),A},getSegmentByTime:function b(p,y){if(d(),!p)return null;void 0===y&&(y=null);var g=null,A=c.calcMediaTimeFromPresentationTime(y,p);return L(p,function(E,N,G,ee,Z,le,H){var W=function v(p){return parseFloat(p.toPrecision(15))}(A*Z);if(W<E+ee.d&&W>=E){var x=N.media,Y=ee.mediaRange;return G&&(x=G[H].media||"",Y=G[H].mediaRange),g=Object(I.getTimeBasedSegment)(c,D,p,E,ee.d,Z,x,Y,le,ee.tManifest),!0}return!1}),g},getMediaFinishedInformation:function _(p){if(!p)return 0;var G,ee,Z,le,H,W,x,A=0,E=0,N=0;for(x=p.timescale,le=(G=(p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentTemplate||p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentList).SegmentTimeline.S_asArray).length,Z=0;Z<le;Z++)for(W=0,(ee=G[Z]).hasOwnProperty("r")&&(W=ee.r),ee.hasOwnProperty("t")&&(E=(A=ee.t)/x),W<0&&(W=S(p,G[Z+1],ee,x,E)),H=0;H<=W;H++)N++,E=(A+=ee.d)/x;return{numberOfSegments:N,mediaTimeOfLastSignaledSegment:E}}}}R.__dashjs_factory_name="TimelineSegmentsGetter";var P=M.default.getClassFactory(R);U.default=P},"./src/dash/vo/AdaptationSet.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":function(Ie,U,m){"use strict";function M(f){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function T(f,d){for(var _=0;_<d.length;_++){var L=d[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(f,R(L.key),L)}}function I(f,d,_){return d&&T(f.prototype,d),_&&T(f,_),Object.defineProperty(f,"prototype",{writable:!1}),f}function R(f){var d=function P(f,d){if("object"!==M(f)||null===f)return f;var _=f[Symbol.toPrimitive];if(void 0!==_){var L=_.call(f,d||"default");if("object"!==M(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(f)}(f,"string");return"symbol"===M(d)?d:String(d)}m.r(U);var l=I(function f(d,_,L,S){(function w(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,f),this.url=d||"",this.serviceLocation=_||d||"",this.dvb_priority=L||1,this.dvb_weight=S||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});l.DEFAULT_DVB_PRIORITY=1,l.DEFAULT_DVB_WEIGHT=1,U.default=l},"./src/dash/vo/ContentSteering.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/metrics/HTTPRequest.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function I(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function R(l,f,d){return f&&I(l.prototype,f),d&&I(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}function P(l){var f=function w(l,f){if("object"!==T(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===T(f)?f:String(f)}U.default=R(function l(f){(function D(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.url=f||null,this.type=M.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,P(d.key),d)}}function P(c){var l=function w(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l,f,d){(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.action=l,this.xpath=f,this.value=d,this.position=null}return function R(c,l,f){return l&&I(c.prototype,l),f&&I(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"getMpdTarget",value:function(f){return this.xpath.getMpdTarget(f,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),c}()},"./src/dash/vo/Period.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U);var D=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});D.DEFAULT_ID="defaultId",U.default=D},"./src/dash/vo/ProducerReferenceTime.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/constants/DashConstants.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function R(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function w(l){var f=function D(l,f){if("object"!==T(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===T(f)?f:String(f)}U.default=function(){function l(){(function I(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function P(l,f,d){return f&&R(l.prototype,f),d&&R(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==M.default.BASE_URL&&this.segmentInfoType!==M.default.SEGMENT_BASE&&!this.indexRange}}]),l}()},"./src/dash/vo/RepresentationInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,P(d.key),d)}}function P(c){var l=function w(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l){var f=this;(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.valid="/"==l[0],this.path=l.split("/").filter(function(d){return 0!==d.length}).map(function(d){var _={name:d},L=d.indexOf("[");if(-1!=L){_.name=d.substring(0,L);var S=d.substring(L+1,d.length-1);f.valid=f.valid&&-1==S.indexOf("[");var O=S.indexOf("=");-1!=O?(_.attribute={name:S.substring(1,O),value:S.substring(O+1)},-1!=["'",'"'].indexOf(_.attribute.value[0])&&(_.attribute.value=_.attribute.value.substring(1,_.attribute.value.length-1))):_.position=parseInt(S,10)-1}return _})}return function R(c,l,f){return l&&I(c.prototype,l),f&&I(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(f,d){for(var _=null,L=f,S=1,O="MPD";S<this.path.length&&null!==L;){_=L;var b=this.path[S];if(O=b.name,S!==this.path.length-1||!O.startsWith("@")){var v=_[O+"_asArray"]||[];0===v.length&&_[O]&&v.push(_[O]),b.position?L=v[b.position]||null:b.attribute?function(){var p=b.attribute;L=v.filter(function(y){return y[p.name]==p.value})[0]||null}():L=v[0]||null}S++}return null===L?null:O.startsWith("@")?{name:O.substring(1),leaf:L,target:L}:{name:O,leaf:L,target:d?_:L}}}]),c}()},"./src/dash/vo/StreamInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/net/URLLoader.js"),I=m("./src/streaming/vo/HeadRequest.js"),R=m("./src/streaming/vo/DashJSError.js"),P=m("./src/core/FactoryMaker.js");function w(D){var S,O,c=this.context,l=(D=D||{}).eventBus,f=D.events,d=D.urlUtils,_=D.errors,L=D.streamId;return S={checkForExistence:function v(A){var E=function(ee){l.trigger(f.CHECK_FOR_EXISTENCE_COMPLETED,{request:A,exists:ee})};if(A){var N=new I.default(A.url);O.load({request:N,success:function(){E(!0)},error:function(){E(!1)}})}else E(!1)},load:function p(A){var E=function(G,ee){l.trigger(f.LOADING_COMPLETED,{request:A,response:G||null,error:ee||null,sender:S})};A?O.load({request:A,progress:function(G){l.trigger(f.LOADING_PROGRESS,{request:A,stream:G.stream,streamId:L}),G.data&&l.trigger(f.LOADING_DATA_PROGRESS,{request:A,response:G.data||null,error:null,sender:S})},success:function(G){E(G)},error:function(G,ee,Z){E(void 0,new R.default(_.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,Z,ee))},abort:function(G){G&&l.trigger(f.LOADING_ABANDONED,{mediaType:G.mediaType,request:G,sender:S})}}):E(void 0,new R.default(_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function y(){O&&O.abort()},reset:function g(){O&&(O.abort(),O=null)}},function b(){O=Object(T.default)(c).create({errHandler:D.errHandler,errors:_,dashMetrics:D.dashMetrics,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier,urlUtils:d,constants:M.default,boxParser:D.boxParser,dashConstants:D.dashConstants,requestTimeout:D.settings.get().streaming.fragmentRequestTimeout})}(),S}w.__dashjs_factory_name="FragmentLoader",U.default=P.default.getClassFactory(w)},"./src/streaming/ManifestLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/streaming/controllers/XlinkController.js"),R=m("./src/streaming/net/URLLoader.js"),P=m("./src/streaming/utils/URLUtils.js"),w=m("./src/streaming/vo/TextRequest.js"),D=m("./src/streaming/vo/DashJSError.js"),c=m("./src/streaming/vo/metrics/HTTPRequest.js"),l=m("./src/core/EventBus.js"),f=m("./src/core/events/Events.js"),d=m("./src/core/errors/Errors.js"),_=m("./src/core/FactoryMaker.js"),L=m("./src/dash/parser/DashParser.js");function S(b){var E,N,G,ee,Z,v=this.context,p=(b=b||{}).debug,y=b.settings,g=Object(l.default)(v).getInstance(),A=Object(P.default)(v).getInstance(),le=b.mssHandler,H=b.errHandler;function x(oe){g.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:oe.manifest})}return E={load:function z(oe){var ye=new w.default(oe,c.HTTPRequest.MPD_TYPE);G.load({request:ye,success:function(fe,ae,pe){if(ee){var he,de,ve;if(pe&&pe!==oe?(de=A.parseBaseUrl(pe),he=pe):(A.isRelative(oe)&&(oe=A.resolve(oe,window.location.href)),de=A.parseBaseUrl(oe)),"No Content"==ae)return void g.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===Z&&(Z=function Y(oe){var ye=null;return oe.indexOf("SmoothStreamingMedia")>-1?(le&&(ye=le.createMssParser(),le.registerEvents()),ye):oe.indexOf("MPD")>-1||oe.indexOf("Patch")>-1?Object(L.default)(v).create({debug:p}):ye}(fe)),null===Z)return void g.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))});ee.setMatchers(Z.getMatchers()),ee.setIron(Z.getIron());try{ve=Z.parse(fe)}catch{return void g.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))})}if(ve){if(ve.url=he||oe,ve.originalUrl||(ve.originalUrl=ve.url),ve.hasOwnProperty(M.default.LOCATION)&&(de=A.parseBaseUrl(ve.Location_asArray[0]),N.debug("BaseURI set by Location to: "+de)),y&&y.get().streaming.enableManifestDurationMismatchFix&&ve.mediaPresentationDuration&&ve.Period_asArray.length>1){var se=ve.Period_asArray.reduce(function(Se,ge){return Se+ge.duration},0);!isNaN(se)&&ve.mediaPresentationDuration>se&&(N.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),ve.mediaPresentationDuration=se)}ve.baseUri=de,ve.loadedTime=new Date,ee.resolveManifestOnLoad(ve),g.trigger(f.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:fe})}else g.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))})}},error:function(fe,ae,pe){g.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(d.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,d.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(oe,", ").concat(pe))})}})},reset:function ie(){g.off(f.default.XLINK_READY,x,E),le&&le.reset(),ee&&(ee.reset(),ee=null),G&&(G.abort(),G=null)}},function W(){N=p.getLogger(E),g.on(f.default.XLINK_READY,x,E),G=Object(R.default)(v).create({errHandler:b.errHandler,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,urlUtils:A,constants:M.default,dashConstants:T.default,errors:d.default,requestTimeout:b.settings.get().streaming.manifestRequestTimeout}),ee=Object(I.default)(v).create({errHandler:H,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,settings:b.settings}),Z=null}(),E}S.__dashjs_factory_name="ManifestLoader";var O=_.default.getClassFactory(S);U.default=O},"./src/streaming/ManifestUpdater.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/streaming/MediaPlayerEvents.js"),R=m("./src/core/FactoryMaker.js"),P=m("./src/core/Debug.js"),w=m("./src/core/errors/Errors.js"),D=m("./src/dash/constants/DashConstants.js"),c=m("./src/streaming/utils/URLUtils.js");function l(){var L,S,O,b,v,p,y,g,A,E,N,G,f=this.context,d=Object(M.default)(f).getInstance(),_=Object(c.default)(f).getInstance();function W(){O=NaN,y=!1,v=!0,p=!1,Y()}function Y(){null!==b&&(clearTimeout(b),b=null)}function z(de){Y(),!p&&(isNaN(de)&&!isNaN(O)&&(de=1e3*O),isNaN(de)||(S.debug("Refresh manifest in "+de+" milliseconds."),b=setTimeout(ye,de)))}function ie(){var de=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y=!0;var ve=A.getValue(),se=ve.url,Se=E.getPatchLocation(ve),ge=E.getLocation(ve);Se&&!de?se=Se:ge&&(se=ge),_.isRelative(se)&&(se=_.resolve(se,ve.url)),g.load(se)}function oe(de){if(de){if(E.getIsPatch(de)){var ve=de;de=A.getValue();var se=E.isPatchValid(de,ve),Se=se;if(se){var ge=E.getPublishTime(de);Se=E.applyPatchToManifest(de,ve);var ne=E.getPublishTime(de);Se=ge.getTime()!=ne.getTime()}if(!Se)return S.debug("Patch provided is invalid, performing full manifest refresh"),void ie(!0);de.loadedTime=new Date}}else(de=A.getValue()).loadedTime=new Date;if(A.getValue()&&A.getValue().type===D.default.DYNAMIC&&de.type===D.default.STATIC)return d.trigger(T.default.DYNAMIC_TO_STATIC),y=!1,void(p=!0);A.setValue(de);var X=new Date,F=(X.getTime()-de.loadedTime.getTime())/1e3;1e3*(O=E.getManifestUpdatePeriod(de,F))>2147483647&&(O=2147483.647),d.trigger(T.default.MANIFEST_UPDATED,{manifest:de}),S.info("Manifest has been refreshed at "+X+"["+X.getTime()/1e3+"] "),v||z()}function ye(){if(!v){if(y)return void z(G.get().streaming.manifestUpdateRetryInterval);ie()}}function J(de){de.error?de.error.code===w.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&N.error(de.error):oe(de.manifest)}function fe(){v=!1,z()}function ae(){(v=!G.get().streaming.scheduling.scheduleWhilePaused)&&Y()}function pe(){y=!1}return L={initialize:function le(){W(),d.on(T.default.STREAMS_COMPOSED,pe,this),d.on(I.default.PLAYBACK_STARTED,fe,this),d.on(I.default.PLAYBACK_PAUSED,ae,this),d.on(T.default.INTERNAL_MANIFEST_LOADED,J,this)},setManifest:function H(de){oe(de)},refreshManifest:ie,getIsUpdating:function he(){return y},setConfig:function Z(de){!de||(de.manifestModel&&(A=de.manifestModel),de.adapter&&(E=de.adapter),de.manifestLoader&&(g=de.manifestLoader),de.errHandler&&(N=de.errHandler),de.settings&&(G=de.settings))},reset:function x(){d.off(I.default.PLAYBACK_STARTED,fe,this),d.off(I.default.PLAYBACK_PAUSED,ae,this),d.off(T.default.STREAMS_COMPOSED,pe,this),d.off(T.default.INTERNAL_MANIFEST_LOADED,J,this),W()}},function ee(){S=Object(P.default)(f).getInstance().getLogger(L)}(),L}l.__dashjs_factory_name="ManifestUpdater",U.default=R.default.getClassFactory(l)},"./src/streaming/MediaPlayer.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./externals/cea608-parser.js"),T=m.n(M),I=m("./src/streaming/constants/Constants.js"),R=m("./src/dash/constants/DashConstants.js"),P=m("./src/streaming/constants/MetricsConstants.js"),w=m("./src/streaming/controllers/PlaybackController.js"),D=m("./src/streaming/controllers/StreamController.js"),c=m("./src/streaming/controllers/GapController.js"),l=m("./src/streaming/controllers/CatchupController.js"),f=m("./src/dash/controllers/ServiceDescriptionController.js"),d=m("./src/dash/controllers/ContentSteeringController.js"),_=m("./src/streaming/controllers/MediaController.js"),L=m("./src/streaming/controllers/BaseURLController.js"),S=m("./src/streaming/ManifestLoader.js"),O=m("./src/streaming/utils/ErrorHandler.js"),b=m("./src/streaming/utils/Capabilities.js"),v=m("./src/streaming/utils/CapabilitiesFilter.js"),p=m("./src/streaming/utils/RequestModifier.js"),y=m("./src/streaming/models/URIFragmentModel.js"),g=m("./src/streaming/models/ManifestModel.js"),A=m("./src/streaming/models/MediaPlayerModel.js"),E=m("./src/streaming/controllers/AbrController.js"),N=m("./src/streaming/net/SchemeLoaderFactory.js"),G=m("./src/streaming/models/VideoModel.js"),ee=m("./src/streaming/models/CmcdModel.js"),Z=m("./src/streaming/utils/DOMStorage.js"),le=m("./src/core/Debug.js"),H=m("./src/core/errors/Errors.js"),W=m("./src/core/EventBus.js"),x=m("./src/core/events/Events.js"),Y=m("./src/streaming/MediaPlayerEvents.js"),z=m("./src/core/FactoryMaker.js"),ie=m("./src/core/Settings.js"),oe=m("./src/core/Version.js"),ye=m("./src/dash/controllers/SegmentBaseController.js"),J=m("./src/dash/DashAdapter.js"),fe=m("./src/dash/DashMetrics.js"),ae=m("./src/dash/utils/TimelineConverter.js"),pe=m("./src/streaming/vo/metrics/HTTPRequest.js"),he=m("./externals/base64.js"),de=m.n(he),ve=m("./node_modules/codem-isoboxer/dist/iso_boxer.js"),se=m.n(ve),Se=m("./src/streaming/vo/DashJSError.js"),ge=m("./src/streaming/utils/SupervisorTools.js"),ne=m("./src/streaming/ManifestUpdater.js"),X=m("./src/streaming/utils/URLUtils.js"),F=m("./src/streaming/utils/BoxParser.js"),V=m("./src/streaming/text/TextController.js"),re=m("./src/streaming/models/CustomParametersModel.js");function B(){var we,Pe,Re,Ue,Ce,Oe,Ge,Ne,$e,Je,nt,at,ht,wt,Vt,kt,zt,en,De,Te,Le,Ye,st,tt,ut,yt,gt,ke,Ze,rt,mt,Dt,Pt,Bt,mn,un,Nn,me="You must first call initialize() and set a source before calling this method",Ee="You must first call initialize() and set a valid source and view before calling this method",q="You must first call attachView() to set the video element before calling this method",j="MediaPlayer not initialized!",$=this.context,ce=Object(W.default)($).getInstance(),ue=Object(ie.default)($).getInstance(),be=Object(le.default)($).getInstance({settings:ue});function St(){lt(null),mr(null),Ue=null,ht&&(ht.reset(),ht=null),wt&&(wt.reset(),wt=null),De&&De.reset(),ue.reset(),kt&&(kt.reset(),kt=null)}function Xe(){return!!Re&&!!Bt.getElement()}function sn(){return Object(oe.getVersionString)()}function qe(){if(!Ge)throw Ee;return gt.isPaused()}function Ke(){if(!Ge)throw Ee;return gt.getIsDynamic()}function _t(ze){var It=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,an=mt.getCurrentDVRInfo(It);if(!an)return 0;var Kt=gt.getOriginalLiveDelay(),hr=an.range.start+ze;return hr>an.range.end-Kt&&(hr=an.range.end-Kt),hr}function fn(ze){if(!Ge)throw Ee;var It=rr().currentTime;if(void 0!==ze)It=tt.getTimeRelativeToStreamId(It,ze);else if(gt.getIsDynamic()){var an=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,Kt=mt.getCurrentDVRInfo(an);It=null===Kt||0===It?0:Math.max(0,It-Kt.range.start)}return It}function On(){if(!Ge)throw Ee;var ze=rr().duration;if(gt.getIsDynamic()){var It=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,an=mt.getCurrentDVRInfo(It);ze=an?an.range.end-an.range.start:0}return ze}function Ua(ze){Object(ge.checkParameterType)(ze,"boolean"),Ne=ze}function ol(){De.restoreDefaultUTCTimingSources()}function pt(){return mt}function rr(){if(!Bt.getElement())throw q;return Bt.getElement()}function mr(ze){if(!Ce)throw j;Bt.setElement(ze),ze&&(Fi(),function jn(){if(!wt){var ze=dashjs.MetricsReporting;if("function"==typeof ze){var It=ze($).create();wt=It.createMetricsReporting({debug:be,eventBus:ce,mediaElement:rr(),adapter:zt,dashMetrics:mt,mediaPlayerModel:en,events:x.default,constants:I.default,metricsConstants:P.default})}}}(),function ul(){if(!Vt){var ze=dashjs.MssHandler;"function"==typeof ze&&(H.default.extend(ze.errors),Vt=ze($).create({eventBus:ce,mediaPlayerModel:en,dashMetrics:mt,manifestModel:Dt,playbackController:gt,streamController:tt,protectionController:ht,baseURLController:Le,errHandler:Te,events:x.default,constants:I.default,debug:be,initSegmentType:pe.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:de.a,ISOBoxer:se.a,settings:ue}))}}(),tt&&tt.switchToVideoElement()),Ge&&Np(),Ku()}function vd(ze){if(!Oe)throw me;var It=tt.getActiveStreamInfo();return It?at.getTracksFor(ze,It.id):[]}function lt(ze){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!Ce)throw j;"string"==typeof ze&&mn.initialize(ze),(null==It||isNaN(It))&&(It=NaN),It=Math.max(0,It),Re=ze,(Oe||Ge)&&Np(),Xe()&&Ku(It)}function ll(){if(!Oe)throw me;var ze=tt.getActiveStreamInfo();return ze?tt.getStreamById(ze.id):null}function Np(){Ge=!1,Oe=!1,zt.reset(),tt.reset(),yt.reset(),rt.reset(),gt.reset(),ke.reset(),Ze.reset(),$e.reset(),at.reset(),Nn.reset(),ht&&(ue.get().streaming.protection.keepProtectionMediaKeys?ht.stop():(ht.reset(),ht=null,Fi())),ut.reset(),Pt.reset()}function ib(){var ze=mi();tt||(tt=Object(D.default)($).getInstance()),ut||(ut=Object(V.default)($).create({errHandler:Te,manifestModel:Dt,adapter:zt,mediaController:at,videoModel:Bt,settings:ue})),st.setConfig({capabilities:Ye,customParametersModel:De,adapter:zt,settings:ue,manifestModel:Dt,errHandler:Te}),tt.setConfig({capabilities:Ye,capabilitiesFilter:st,manifestLoader:ze,manifestModel:Dt,mediaPlayerModel:en,customParametersModel:De,protectionController:ht,textController:ut,adapter:zt,dashMetrics:mt,errHandler:Te,timelineConverter:nt,videoModel:Bt,playbackController:gt,serviceDescriptionController:ke,contentSteeringController:Ze,abrController:$e,mediaController:at,settings:ue,baseURLController:Le,uriFragmentModel:mn,segmentBaseController:Nn}),yt.setConfig({settings:ue,playbackController:gt,streamController:tt,videoModel:Bt,timelineConverter:nt,adapter:zt}),gt.setConfig({streamController:tt,serviceDescriptionController:ke,dashMetrics:mt,adapter:zt,videoModel:Bt,timelineConverter:nt,settings:ue}),rt.setConfig({streamController:tt,playbackController:gt,mediaPlayerModel:en,videoModel:Bt,settings:ue}),$e.setConfig({streamController:tt,domStorage:un,mediaPlayerModel:en,customParametersModel:De,dashMetrics:mt,adapter:zt,videoModel:Bt,settings:ue}),Pt.setConfig({abrController:$e,dashMetrics:mt,playbackController:gt}),Ze.setConfig({adapter:zt,errHandler:Te,dashMetrics:mt,mediaPlayerModel:en,manifestModel:Dt,abrController:$e,eventBus:ce,requestModifier:Object(p.default)($).getInstance()}),$e.initialize(),tt.initialize(Ne,Ue),ut.initialize(),yt.initialize(),rt.initialize(),Pt.initialize(),Ze.initialize(),Nn.initialize()}function mi(){return Object(S.default)($).create({debug:be,errHandler:Te,dashMetrics:mt,mediaPlayerModel:en,requestModifier:Object(p.default)($).getInstance(),mssHandler:Vt,settings:ue})}function Fi(){if(ht)return ht;var ze=dashjs.Protection;if("function"==typeof ze){var It=ze($).create();return x.default.extend(ze.events),Y.default.extend(ze.events,{publicOnly:!0}),H.default.extend(ze.errors),Ye||(Ye=Object(b.default)($).getInstance()),ht=It.createProtectionSystem({debug:be,errHandler:Te,videoModel:Bt,customParametersModel:De,capabilities:Ye,eventBus:ce,events:x.default,BASE64:de.a,constants:I.default,cmcdModel:Pt,settings:ue})}return null}function cl(){if(!Ce)throw j;if(kt)return kt;var ze=dashjs.OfflineController;if("function"==typeof ze){x.default.extend(ze.events),Y.default.extend(ze.events,{publicOnly:!0}),H.default.extend(ze.errors);var It=mi(),an=Object(ne.default)($).create();return an.setConfig({manifestModel:Dt,adapter:zt,manifestLoader:It,errHandler:Te}),kt=ze($).create({debug:be,manifestUpdater:an,baseURLController:Le,manifestLoader:It,manifestModel:Dt,mediaPlayerModel:en,abrController:$e,playbackController:gt,adapter:zt,errHandler:Te,dashMetrics:mt,timelineConverter:nt,segmentBaseController:Nn,schemeLoaderFactory:Je,eventBus:ce,events:x.default,errors:H.default,constants:I.default,settings:ue,dashConstants:R.default,urlUtils:Object(X.default)($).getInstance()})}return null}function fl(ze){var It=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,an=mt.getCurrentDVRInfo(It);return an?ze+(an.manifestInfo.availableFrom.getTime()/1e3+an.range.start):0}function Ku(){var ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;kt&&kt.resetRecords(),!Oe&&Re&&(Oe=!0,Pe.info("Streaming Initialized"),ib(),"string"==typeof Re?tt.load(Re,ze):tt.loadWithManifest(Re,ze)),!Ge&&Xe()&&(Ge=!0,Pe.info("Playback Initialized"))}return we={initialize:function it(ze,It,an){var Kt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;Ye||(Ye=Object(b.default)($).getInstance()).setConfig({settings:ue}),Te||(Te=Object(O.default)($).getInstance()),Ye.supportsMediaSource()?(Ce||(Ce=!0,nt=Object(ae.default)($).getInstance(),$e||($e=Object(E.default)($).getInstance()).setConfig({settings:ue}),Je||(Je=Object(N.default)($).getInstance()),gt||(gt=Object(w.default)($).getInstance()),at||(at=Object(_.default)($).getInstance()),tt||(tt=Object(D.default)($).getInstance()),yt||(yt=Object(c.default)($).getInstance()),rt||(rt=Object(l.default)($).getInstance()),ke||(ke=Object(f.default)($).getInstance()),Ze||(Ze=Object(d.default)($).getInstance()),st||(st=Object(v.default)($).getInstance()),zt=Object(J.default)($).getInstance(),Dt=Object(g.default)($).getInstance(),Pt=Object(ee.default)($).getInstance(),mt=Object(fe.default)($).getInstance({settings:ue}),un=Object(Z.default)($).getInstance({settings:ue}),zt.setConfig({constants:I.default,cea608parser:T.a,errHandler:Te,BASE64:de.a}),Le||(Le=Object(L.default)($).create()),Le.setConfig({adapter:zt}),ke.setConfig({adapter:zt}),Nn||(Nn=Object(ye.default)($).getInstance({dashMetrics:mt,mediaPlayerModel:en,errHandler:Te,baseURLController:Le,events:x.default,eventBus:ce,debug:be,boxParser:Object(F.default)($).getInstance(),requestModifier:Object(p.default)($).getInstance(),errors:H.default})),at.setConfig({domStorage:un,settings:ue,customParametersModel:De}),en.setConfig({playbackController:gt,serviceDescriptionController:ke}),ol(),Ua(void 0===an||an),cl()),ze&&mr(ze),It&&lt(It,Kt),Pe.info("[dash.js "+sn()+"] MediaPlayer has been initialized")):Te.error(new Se.default(H.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,H.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Ae(ze){!ze||(ze.capabilities&&(Ye=ze.capabilities),ze.capabilitiesFilter&&(st=ze.capabilitiesFilter),ze.streamController&&(tt=ze.streamController),ze.textController&&(ut=ze.textController),ze.gapController&&(yt=ze.gapController),ze.playbackController&&(gt=ze.playbackController),ze.serviceDescriptionController&&(ke=ze.serviceDescriptionController),ze.contentSteeringController&&(Ze=ze.contentSteeringController),ze.catchupController&&(rt=ze.catchupController),ze.mediaPlayerModel&&(en=ze.mediaPlayerModel),ze.customParametersModel&&(De=ze.customParametersModel),ze.abrController&&($e=ze.abrController),ze.schemeLoaderFactory&&(Je=ze.schemeLoaderFactory),ze.mediaController&&(at=ze.mediaController),ze.settings&&(ue=ze.settings))},on:function ct(ze,It,an,Kt){ce.on(ze,It,an,Kt)},off:function At(ze,It,an){ce.off(ze,It,an)},extend:function xp(ze,It,an){z.default.extend(ze,It,an,$)},attachView:mr,attachSource:lt,isReady:Xe,play:function He(){if(!Ge)throw Ee;(!Ne||qe()&&Ge)&&gt.play(!0)},isPaused:qe,pause:function Fe(){if(!Ge)throw Ee;gt.pause()},isSeeking:function Mt(){if(!Ge)throw Ee;return gt.isSeeking()},isDynamic:Ke,getLowLatencyModeEnabled:function Et(){if(!Ge)throw Ee;return gt.getLowLatencyModeEnabled()},seek:function ft(ze){if(!Ge)throw Ee;if(Object(ge.checkParameterType)(ze,"number"),isNaN(ze))throw I.default.BAD_ARGUMENT_ERROR;ze<0&&(ze=0);var It=gt.getIsDynamic()?_t(ze):ze,an=rr();!gt.getIsDynamic()&&an.duration&&(It=Math.min(an.duration,It)),gt.seek(It,!1,!1,!0)},seekToOriginalLive:function Ot(){!Ge||!Ke()||gt.seekToOriginalLive()},setPlaybackRate:function Ut(ze){rr().playbackRate=ze},getPlaybackRate:function Xt(){return rr().playbackRate},setMute:function tn(ze){Object(ge.checkParameterType)(ze,"boolean"),rr().muted=ze},isMuted:function Ht(){return rr().muted},setVolume:function Gn(ze){if("number"!=typeof ze||isNaN(ze)||ze<0||ze>1)throw I.default.BAD_ARGUMENT_ERROR;rr().volume=ze},getVolume:function zn(){return rr().volume},time:fn,duration:On,timeAsUTC:function ka(){if(!Ge)throw Ee;return fn()<0?NaN:fl(fn())},durationAsUTC:function na(){if(!Ge)throw Ee;return fl(On())},getActiveStream:ll,getDVRWindowSize:function Li(){var ze=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,It=mt.getCurrentDVRInfo(ze);return It?It.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:_t,getTargetLiveDelay:function hi(){if(!Ge)throw Ee;return gt.getOriginalLiveDelay()},convertToTimeCode:function ms(ze){ze=Math.max(ze,0);var It=Math.floor(ze/3600),an=Math.floor(ze%3600/60),Kt=Math.floor(ze%3600%60);return(0===It?"":It<10?"0"+It.toString()+":":It.toString()+":")+(an<10?"0"+an.toString():an.toString())+":"+(Kt<10?"0"+Kt.toString():Kt.toString())},formatUTC:function Wu(ze,It,an){var Kt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],hr=new Date(1e3*ze),Va=hr.toLocaleDateString(It),ia=hr.toLocaleTimeString(It,{hour12:an});return Kt?ia+" "+Va:ia},getVersion:sn,getDebug:function Yt(){return be},getBufferLength:function xi(ze){var It=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT];if(ze)return-1!==It.indexOf(ze)?pt().getCurrentBufferLevel(ze)||NaN:(Pe.warn("getBufferLength requested for invalid type"),NaN);var an=It.map(function(hr){return vd(hr).length>0?pt().getCurrentBufferLevel(hr):Number.MAX_VALUE}).reduce(function(hr,Va){return Math.min(hr,Va)});return an===Number.MAX_VALUE?NaN:an},getTTMLRenderingDiv:function to(){return Bt?Bt.getTTMLRenderingDiv():null},getVideoElement:rr,getSource:function ja(){if(!Re)throw"You must first call attachSource() with a valid source before calling this method";return Re},updateSource:function Op(ze){tt.load(Re=ze)},getCurrentLiveLatency:function eo(){if(!Ce)throw j;return Ge?gt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Ba(ze){if(!Oe)throw me;return $e.getTopBitrateInfoFor(ze)},setAutoPlay:Ua,getAutoPlay:function Bu(){return Ne},getDashMetrics:pt,getQualityFor:function Ji(ze){if(!Oe)throw me;if(ze===I.default.IMAGE){var It=ll();if(!It)return-1;var an=It.getThumbnailController();return an?an.getCurrentTrackIndex():-1}return $e.getQualityFor(ze)},setQualityFor:function zr(ze,It){var an=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Oe)throw me;if(ze===I.default.IMAGE){var Kt=ll();if(!Kt)return;var hr=Kt.getThumbnailController();hr&&hr.setTrackByIndex(It)}$e.setPlaybackQuality(ze,tt.getActiveStreamInfo(),It,{forceReplace:an})},updatePortalSize:function us(){$e.setElementSize(),$e.setWindowResizeEventCalled(!0)},enableText:function et(ze){var It=tt.getActiveStreamInfo();return!(!It||!ut)&&ut.enableText(It.id,ze)},enableForcedTextStreaming:function ln(ze){return!(!tt.getActiveStreamInfo()||!ut)&&ut.enableForcedTextStreaming(ze)},isTextEnabled:function jt(){var ze=tt.getActiveStreamInfo();return!(!ze||!ut)&&ut.isTextEnabled(ze)},setTextTrack:function yn(ze){if(!Ge)throw Ee;var It=tt.getActiveStreamInfo();!It||!ut||ut.setTextTrack(It.id,ze)},getBitrateInfoListFor:function ju(ze){if(!Oe)throw me;var It=ll();return It?It.getBitrateListFor(ze):[]},getStreamsFromManifest:function _d(ze){if(!Oe)throw me;return zt.getStreamsInfo(ze)},getTracksFor:vd,getTracksForTypeFromManifest:function hn(ze,It,an){if(!Oe)throw me;return(an=an||zt.getStreamsInfo(It,1)[0])?zt.getAllMediaInfoForType(an,ze,It):[]},getCurrentTrackFor:function Vu(ze){if(!Oe)throw me;var It=tt.getActiveStreamInfo();return at.getCurrentTrackFor(ze,It.id)},setInitialMediaSettingsFor:function Ip(ze,It){if(!Ce)throw j;at.setInitialSettings(ze,It)},getInitialMediaSettingsFor:function Ai(ze){if(!Ce)throw j;return at.getInitialSettings(ze)},setCurrentTrack:function yd(ze){if(!Oe)throw me;at.setTrack(ze)},addABRCustomRule:function ra(ze,It,an){De.addAbrCustomRule(ze,It,an)},removeABRCustomRule:function md(ze){De.removeAbrCustomRule(ze)},removeAllABRCustomRule:function pd(){De.removeAllAbrCustomRule()},getABRCustomRules:function rl(){return De.getAbrCustomRules()},getAverageThroughput:function Fr(ze){var It=$e.getThroughputHistory(),an=gt.getIsDynamic();return It?It.getAverageThroughput(ze,an):0},retrieveManifest:function hs(ze,It){var an=mi(),Kt=this;ce.on(x.default.INTERNAL_MANIFEST_LOADED,function Va(ia){ia.error?It(null,ia.error):It(ia.manifest),ce.off(x.default.INTERNAL_MANIFEST_LOADED,Va,Kt),an.reset()},Kt),mn.initialize(ze),an.load(ze)},addUTCTimingSource:function il(ze,It){De.addUTCTimingSource(ze,It)},removeUTCTimingSource:function gd(ze,It){De.removeUTCTimingSource(ze,It)},clearDefaultUTCTimingSources:function Uu(){De.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:ol,setXHRWithCredentialsForType:function Ln(ze,It){De.setXHRWithCredentialsForType(ze,It)},getXHRWithCredentialsForType:function cs(ze){return De.getXHRWithCredentialsForType(ze)},getProtectionController:function wp(){return Fi()},attachProtectionController:function Rp(ze){ht=ze},setProtectionData:function Pp(ze){Ue=ze,tt&&tt.setProtectionData(Ue)},registerLicenseRequestFilter:function rb(ze){De.registerLicenseRequestFilter(ze)},registerLicenseResponseFilter:function ds(ze){De.registerLicenseResponseFilter(ze)},unregisterLicenseRequestFilter:function Hu(ze){De.unregisterLicenseRequestFilter(ze)},unregisterLicenseResponseFilter:function al(ze){De.unregisterLicenseResponseFilter(ze)},registerCustomCapabilitiesFilter:function eb(ze){De.registerCustomCapabilitiesFilter(ze)},unregisterCustomCapabilitiesFilter:function Zn(ze){De.unregisterCustomCapabilitiesFilter(ze)},setCustomInitialTrackSelectionFunction:function tb(ze){De.setCustomInitialTrackSelectionFunction(ze)},resetCustomInitialTrackSelectionFunction:function nb(){De.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function fs(ze){if(!Bt.getElement())throw q;Bt.setTTMLRenderingDiv(ze)},attachVttRenderingDiv:function Ro(ze){if(!Bt.getElement())throw q;Bt.setVttRenderingDiv(ze)},getCurrentTextTrackIndex:function Un(){var It=tt.getActiveStreamInfo();if(It&&ut)return ut.getCurrentTrackIdx(It.id)},provideThumbnail:function Ed(ze,It){if("function"==typeof It){if(ze<0)return void It(null);var an=gt.getIsDynamic()?_t(ze):ze,Kt=tt.getStreamForTime(an);if(null===Kt)return void It(null);var hr=Kt.getThumbnailController();return hr?hr.provide(an,It):void It(null)}},getDashAdapter:function Lp(){return zt},getOfflineController:function We(){return cl()},triggerSteeringRequest:function Po(){if(Ze)return Ze.loadSteeringData()},getCurrentSteeringResponseData:function Ni(){if(Ze)return Ze.getCurrentSteeringResponseData()},getSettings:function bd(){return ue.get()},updateSettings:function vn(ze){ue.update(ze)},resetSettings:function sl(){ue.reset()},reset:St,destroy:function je(){St(),z.default.deleteSingletonInstances($)}},function er(){Pe=be.getLogger(we),Ce=!1,Ge=!1,Oe=!1,Ne=!0,ht=null,kt=null,Ue=null,zt=null,Nn=null,x.default.extend(Y.default),en=Object(A.default)($).getInstance(),De=Object(re.default)($).getInstance(),Bt=Object(G.default)($).getInstance(),mn=Object(y.default)($).getInstance()}(),we}B.__dashjs_factory_name="MediaPlayer";var te=z.default.getClassFactory(B);te.events=Y.default,te.errors=H.default,z.default.updateClassFactory(B.__dashjs_factory_name,te),U.default=te},"./src/streaming/MediaPlayerEvents.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function w(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return d(this,A)}}function d(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=f(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).AST_IN_FUTURE="astInFuture",g.BUFFER_EMPTY="bufferStalled",g.BUFFER_LOADED="bufferLoaded",g.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",g.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",g.DYNAMIC_TO_STATIC="dynamicToStatic",g.ERROR="error",g.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",g.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",g.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",g.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",g.LOG="log",g.MANIFEST_LOADED="manifestLoaded",g.METRICS_CHANGED="metricsChanged",g.METRIC_CHANGED="metricChanged",g.METRIC_ADDED="metricAdded",g.METRIC_UPDATED="metricUpdated",g.PERIOD_SWITCH_STARTED="periodSwitchStarted",g.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",g.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",g.QUALITY_CHANGE_RENDERED="qualityChangeRendered",g.TRACK_CHANGE_RENDERED="trackChangeRendered",g.STREAM_INITIALIZING="streamInitializing",g.STREAM_UPDATED="streamUpdated",g.STREAM_ACTIVATED="streamActivated",g.STREAM_DEACTIVATED="streamDeactivated",g.STREAM_INITIALIZED="streamInitialized",g.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",g.TEXT_TRACKS_ADDED="allTextTracksAdded",g.TEXT_TRACK_ADDED="textTrackAdded",g.TTML_PARSED="ttmlParsed",g.TTML_TO_PARSE="ttmlToParse",g.CAPTION_RENDERED="captionRendered",g.CAPTION_CONTAINER_RESIZE="captionContainerResize",g.CAN_PLAY="canPlay",g.CAN_PLAY_THROUGH="canPlayThrough",g.PLAYBACK_ENDED="playbackEnded",g.PLAYBACK_ERROR="playbackError",g.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",g.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",g.PLAYBACK_LOADED_DATA="playbackLoadedData",g.PLAYBACK_PAUSED="playbackPaused",g.PLAYBACK_PLAYING="playbackPlaying",g.PLAYBACK_PROGRESS="playbackProgress",g.PLAYBACK_RATE_CHANGED="playbackRateChanged",g.PLAYBACK_SEEKED="playbackSeeked",g.PLAYBACK_SEEKING="playbackSeeking",g.PLAYBACK_STALLED="playbackStalled",g.PLAYBACK_STARTED="playbackStarted",g.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",g.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",g.PLAYBACK_WAITING="playbackWaiting",g.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",g.EVENT_MODE_ON_START="eventModeOnStart",g.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",g.CONFORMANCE_VIOLATION="conformanceViolation",g.REPRESENTATION_SWITCH="representationSwitch",g.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",g.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",g}return function R(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/events/EventsBase.js").default));U.default=b},"./src/streaming/MediaPlayerFactory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/MediaPlayer.js");var R,I=function T(){var l,c="application/dash+xml";function f(L,S,O){if(!L||!/^VIDEO$/i.test(L.nodeName))return null;if(L._dashjs_player)return L._dashjs_player;var b,v=L.id||L.name||"video element";if(!(S=S||[].slice.call(L.querySelectorAll("source")).filter(function(p){return p.type==c})[0])&&L.src)(S=document.createElement("source")).src=L.src;else if(!S&&!L.src)return null;return O=O||{},(b=Object(M.default)(O).create()).initialize(L,S.src,L.autoplay),l||(l=b.getDebug().getLogger()),l.debug("Converted "+v+" to dash.js player and added content: "+S.src),L._dashjs_player=b,b}function _(L){return/^VIDEO$/i.test(L.nodeName)?L:_(L.parentNode)}return{create:f,createAll:function d(L,S){var O=[];L=L||"[data-dashjs-player]";for(var b=(S=S||document).querySelectorAll(L),v=0;v<b.length;v++){var p=f(b[v],null);O.push(p)}for(var y=S.querySelectorAll('source[type="'+c+'"]'),g=0;g<y.length;g++){var E=f(_(y[g]),null);O.push(E)}return O}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?I.createAll():R=window.setInterval(function w(){window.dashjs&&(window.clearInterval(R),I.createAll())},500):window.addEventListener("load",function P(){window.removeEventListener("load",P),I.createAll()})),U.default=I},"./src/streaming/SourceBufferSink.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/streaming/vo/DashJSError.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/core/errors/Errors.js"),P=m("./src/core/Settings.js"),w=m("./src/streaming/constants/Constants.js"),D=m("./src/streaming/vo/metrics/HTTPRequest.js"),c=m("./src/core/events/Events.js");function _(S){var y,g,A,E,N,G,O=this.context,b=Object(P.default)(O).getInstance(),v=S.textController,p=S.eventBus,ee=[],Z=[],le=!1,H=S.mediaSource,W=null;function z(Ee){return new Promise(function(q){me(function(){E.changeType&&E.changeType(Ee),q()})})}function ye(Ee){return E=v.getTextSourceBuffer(Ee),Promise.resolve()}function J(){if("function"==typeof E.addEventListener)try{E.addEventListener("updateend",re,!1),E.addEventListener("error",B,!1),E.addEventListener("abort",B,!1)}catch{G=setInterval(re,50)}else G=setInterval(re,50)}function pe(Ee){return new Promise(function(q){E&&b.get().streaming.buffer.useAppendWindow?me(function(){try{if(!E)return void q();var K=H.duration,j=0;Ee&&!isNaN(Ee.start)&&!isNaN(Ee.duration)&&isFinite(Ee.duration)&&(K=Ee.start+Ee.duration),Ee&&!isNaN(Ee.start)&&(j=Ee.start),(E.appendWindowEnd!==K||E.appendWindowStart!==j)&&(E.appendWindowStart=0,E.appendWindowEnd=K+.01,E.appendWindowStart=Math.max(j-.1,0),A.debug("Updated append window for ".concat(N.type,". Set start to ").concat(E.appendWindowStart," and end to ").concat(E.appendWindowEnd))),q()}catch{A.warn("Failed to set append window"),q()}}):q()})}function he(Ee){return new Promise(function(q){E?me(function(){try{E.timestampOffset!==Ee&&!isNaN(Ee)&&(E.timestampOffset=Ee,A.debug("Set MSE timestamp offset to ".concat(Ee))),q()}catch{q()}}):q()})}function X(){if(!le&&Z.length>0){le=!0;var Ee=Z[0];Z.splice(0,1);var q=function(){le=!1,Z.length>0&&X.call(this),Ee&&Ee.data&&Ee.data.segmentType&&Ee.data.segmentType!==D.HTTPRequest.INIT_SEGMENT_TYPE&&delete Ee.data.bytes,Ee.promise.resolve({chunk:Ee.data})};try{W=Ee.request,0===Ee.data.bytes.byteLength?q.call(this):(E.appendBuffer?E.appendBuffer(Ee.data.bytes):E.append(Ee.data.bytes,Ee.data),me(q.bind(this)))}catch(K){A.fatal('SourceBuffer append failed "'+K+'"'),Z.length>0?X():le=!1,delete Ee.data.bytes,Ee.promise.reject({chunk:Ee.data,error:new T.default(K.code,K.message)})}}}function V(){ee.length>0&&!E.updating&&(ee.shift()(),V())}function re(){E.updating||V()}function B(Ee){!function te(Ee,q){p.trigger(Ee,q||{},{streamId:N.streamInfo.id,mediaType:g})}(c.default.SOURCE_BUFFER_ERROR,{error:Ee.target||{},lastRequestAppended:W})}function me(Ee){ee.push(Ee),E.updating||V()}return y={getType:function fe(){return g},getAllBufferRanges:function se(){try{return E.buffered}catch(Ee){return A.error("getAllBufferRanges exception: "+Ee.message),null}},getBuffer:function ve(){return E},append:function Se(Ee){var q=this,K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(j,$){Ee?(Z.push({data:Ee,promise:{resolve:j,reject:$},request:K}),me(X.bind(q))):$({chunk:Ee,error:new T.default(R.default.APPEND_ERROR_CODE,R.default.APPEND_ERROR_MESSAGE)})})},remove:function ne(Ee){return new Promise(function(q,K){var j=Ee.start,$=Ee.end;j>=0&&$>j?me(function(){try{E.remove(j,$),me(function(){q({from:j,to:$,unintended:!1}),Ee.resolve&&Ee.resolve()})}catch(ce){K({from:j,to:$,unintended:!1,error:new T.default(R.default.REMOVE_ERROR_CODE,R.default.REMOVE_ERROR_MESSAGE)}),Ee.reject&&Ee.reject(ce)}}):q()})},abort:function F(){return new Promise(function(Ee){try{Z=[],"open"===H.readyState?me(function(){try{E&&E.abort(),Ee()}catch{Ee()}}):(E&&E.setTextTrack&&"ended"===H.readyState&&E.abort(),Ee())}catch{Ee()}})},reset:function de(){if(E){try{ee=[],function ae(){try{"function"==typeof E.removeEventListener&&(E.removeEventListener("updateend",re,!1),E.removeEventListener("error",B,!1),E.removeEventListener("abort",B,!1)),clearInterval(G)}catch(Ee){A.error(Ee)}}(),le=!1,Z=[],(!E.getClassName||"TextSourceBuffer"!==E.getClassName())&&(A.debug("Removing sourcebuffer from media source"),H.removeSourceBuffer(E))}catch{}E=null}W=null},updateTimestampOffset:he,initializeForStreamSwitch:function Y(Ee,q,K){g=(N=Ee).type;var j=N.codec;(function ie(Ee){E=Ee.getBuffer()})(K),J();var $=[];return $.push(function ge(){return new Promise(function(Ee){me(function(){var q=E.appendWindowStart,K=E.appendWindowEnd;E&&(E.abort(),E.appendWindowStart=q,E.appendWindowEnd=K),Ee()})})}()),$.push(pe(N.streamInfo)),$.push(z(j)),q&&void 0!==q.MSETimeOffset&&$.push(he(q.MSETimeOffset)),Promise.all($)},initializeForFirstUse:function oe(Ee,q,K){g=(N=q).type;var j=N.codec;try{if(j.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return ye(Ee);E=H.addSourceBuffer(j),J();var $=[];return $.push(pe(N.streamInfo)),K&&void 0!==K.MSETimeOffset&&$.push(he(K.MSETimeOffset)),Promise.all($)}catch(ce){return N.type==w.default.TEXT&&!N.isFragmented||-1!==j.indexOf('codecs="stpp')||-1!==j.indexOf('codecs="vtt')?ye(Ee):Promise.reject(ce)}},updateAppendWindow:pe,changeType:z},function x(){A=Object(M.default)(O).getInstance().getLogger(y)}(),y}_.__dashjs_factory_name="SourceBufferSink";var L=I.default.getClassFactory(_);U.default=L},"./src/streaming/Stream.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/streaming/StreamProcessor.js"),R=m("./src/streaming/controllers/FragmentController.js"),P=m("./src/streaming/thumbnail/ThumbnailController.js"),w=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js"),c=m("./src/core/Debug.js"),l=m("./src/core/errors/Errors.js"),f=m("./src/core/FactoryMaker.js"),d=m("./src/streaming/vo/DashJSError.js"),_=m("./src/streaming/utils/BoxParser.js"),L=m("./src/streaming/utils/URLUtils.js"),S=m("./src/streaming/controllers/BlacklistController.js"),O=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT,M.default.MUXED,M.default.IMAGE];function b(v){v=v||{};var ae,pe,he,de,ve,se,Se,ge,ne,X,F,V,re,B,te,me,Ee,q,p=this.context,y=Object(w.default)(p).getInstance(),g=Object(L.default)(p).getInstance(),A=v.manifestModel,E=v.mediaPlayerModel,N=v.dashMetrics,G=v.manifestUpdater,ee=v.adapter,Z=v.timelineConverter,le=v.capabilities,H=v.errHandler,W=v.abrController,x=v.playbackController,Y=v.eventController,z=v.mediaController,ie=v.protectionController,oe=v.textController,ye=v.videoModel,J=v.streamInfo,fe=v.settings;function Ce(Fe,qe){return new Promise(function(ft,Ot){tt(),X=!0,Ze();var Mt=ye.getElement();O.forEach(function(Ke){(Ke!==M.default.VIDEO||!Mt||Mt&&/^VIDEO$/i.test(Mt.nodeName))&&function Oe(Fe,qe){var Ke,ft=ee.getAllMediaInfoForType(J,Fe),Ot=[],Mt=null;if(ft&&0!==ft.length){Fe===M.default.VIDEO&&(Se=!0),Fe===M.default.AUDIO&&(ge=!0);for(var Et=0,Ut=ft.length;Et<Ut;Et++)Mt=ft[Et],Fe===M.default.TEXT&&!!Mt.isEmbedded&&(oe.addEmbeddedTrack(J,Mt),Ot.push(Mt)),Ge(Mt)&&z.addTrack(Mt);if(Ot.length>0&&(z.setInitialMediaSettingsForType(Fe,J),oe.addMediaInfosToBuffer(J,Fe,Ot)),0!==(ft=ft.filter(function(tn){return!tn.isEmbedded})).length){if(Fe===M.default.IMAGE)return void(V=Object(P.default)(p).create({streamInfo:J,adapter:ee,baseURLController:v.baseURLController,timelineConverter:v.timelineConverter,debug:me,eventBus:y,events:D.default,dashConstants:T.default,dashMetrics:v.dashMetrics,segmentBaseController:v.segmentBaseController})).initialize();y.trigger(D.default.STREAM_INITIALIZING,{streamInfo:J,mediaInfo:Mt}),z.setInitialMediaSettingsForType(Fe,J);var Xt=function Ne(Fe,qe){var ft=Fe&&Fe.length>0?Fe[0]:null,Ot=F.getModel(ft?ft.type:null),Mt=ft?ft.type:null,Ke=ft?ft.mimeType:null,Et=ft?ft.isFragmented:null,Ut=Object(I.default)(p).create({streamInfo:J,type:Mt,mimeType:Ke,timelineConverter:Z,adapter:ee,manifestModel:A,mediaPlayerModel:E,fragmentModel:Ot,dashMetrics:v.dashMetrics,baseURLController:v.baseURLController,segmentBaseController:v.segmentBaseController,abrController:W,playbackController:x,mediaController:z,textController:oe,errHandler:H,settings:fe,boxParser:te,segmentBlacklistController:re});Ut.initialize(qe,Se,Et),he.push(Ut);for(var Xt=0;Xt<Fe.length;Xt++)Ut.addMediaInfo(Fe[Xt]);return Mt===M.default.TEXT&&oe.addMediaInfosToBuffer(J,Mt,Fe,Ot),Ut}(ft,qe);(Ke=z.getCurrentTrackFor(Fe,J.id))&&(W.updateTopQualityIndex(Ke),Xt.selectMediaInfo(Fe===M.default.TEXT&&Ke.isEmbedded?ft[0]:Ke))}}else pe.info("No "+Fe+" data.")}(Ke,Fe)}),function $e(Fe){return new Promise(function(qe){var ft={},Ot=he.map(function(Mt){return Mt.createBufferSinks(Fe)});Promise.all(Ot).then(function(Mt){Mt.forEach(function(Ke){Ke&&(ft[Ke.getType()]=Ke)}),qe(ft)}).catch(function(){qe(ft)})})}(qe).then(function(Ke){if(X=!1,0===he.length){var Et="No streams to play.";H.error(new d.default(l.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Et,A.getValue())),pe.fatal(Et)}else rt();oe.createTracks(J),ft(Ke)}).catch(function(Ke){Ot(Ke)})})}function Ge(Fe){var qe=Fe?Fe.type:null;return qe===M.default.MUXED?(pe.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),H.error(new d.default(l.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",A.getValue())),!1):!(qe!==M.default.TEXT&&qe!==M.default.IMAGE&&Fe.contentProtection&&!le.supportsEncryptedMedia()&&(H.error(new d.default(l.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,l.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Je(Fe){for(var qe=he?he.length:0,Ot=0;Ot<qe;Ot++){var Mt=he[Ot].getFragmentModel();Mt.abortRequests(),Mt.resetInitialSettings(),he[Ot].reset(false,Fe)}oe&&oe.deactivateStream(J),he=[],ve=!1,se=!1,At(!1),zt(!1),y.trigger(D.default.STREAM_DEACTIVATED,{streamInfo:J})}function ht(Fe){Je(Fe),de=!1,Se=!1,ge=!1,ne={},X=!1,Ee=!1,q=[]}function zt(Fe){Ee=Fe}function en(){return J?J.start:NaN}function De(){return J?J.id:null}function Te(){return J}function tt(){if(!ye||!W)throw new Error(M.default.MISSING_CONFIG_ERROR)}function yt(Fe){Fe.error&&(H.error(Fe.error),pe.fatal(Fe.error.message))}function Ze(){if(Y){var Fe=ee.getEventsFor(J);Fe&&Fe.length>0&&Y.addInlineEvents(Fe,J.id)}}function rt(){for(var Fe=he.length,ft=ne.audio||ne.video?new d.default(l.default.DATA_UPDATE_FAILED_ERROR_CODE,l.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Ot=0;Ot<Fe;Ot++)if(he[Ot].isUpdating()||X)return;if(ie){ie.clearMediaInfoArray();for(var Mt=0;Mt<Fe&&he[Mt];Mt++){var Ke=he[Mt].getType(),Et=he[Mt].getMediaInfo();if(Ke===M.default.AUDIO||Ke===M.default.VIDEO||Ke===M.default.TEXT&&Et.isFragmented){var Ut=he[Mt].getMediaInfo();Ut&&ie.initializeForMedia(Ut)}}ie.handleKeySystemFromManifest()}ft?H.error(ft):de||(de=!0,ye.waitForReadyState(M.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){y.trigger(D.default.STREAM_INITIALIZED,{streamInfo:J})}))}function Dt(){var Fe=Nn(),qe=Fe.length;if(0!==qe){for(var ft=0;ft<qe;ft++)if(!Fe[ft].isBufferingCompleted()&&(Fe[ft].getType()===M.default.AUDIO||Fe[ft].getType()===M.default.VIDEO))return void pe.debug("onBufferingCompleted - One streamProcessor has finished but",Fe[ft].getType(),"one is not buffering completed");pe.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),se=!0,y.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:J},{streamInfo:J})}else pe.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Pt(Fe){ne[Fe.mediaType]=Fe.error,rt()}function Bt(Fe){Y&&Y.addInbandEvents(Fe.events,J.id)}function mn(Fe){return Fe&&Fe.type?un(Fe.type):null}function un(Fe){return Fe?Nn().filter(function(ft){return ft.getType()===Fe})[0]:null}function Nn(){for(var qe,ft,Fe=[],Ot=0;Ot<he.length;Ot++)((qe=(ft=he[Ot]).getType())===M.default.AUDIO||qe===M.default.VIDEO||qe===M.default.TEXT)&&Fe.push(ft);return Fe}function je(Fe,qe){var ft=Te(),Ot=qe.getStreamInfo();if(!Ot||!ft)return!0;var Mt=ee.getAdaptationForType(Ot.index,Fe,Ot),Ke=ee.getAdaptationForType(ft.index,Fe,ft);return Mt&&Ke?!(!Xe(Ke)&&Xe(Mt)):!Mt&&!Ke}function Xe(Fe){return!!Fe&&!!(Fe.ContentProtection||Fe.Representation&&Fe.Representation.length>0&&Fe.Representation[0].ContentProtection)}function ct(Fe,qe){var ft=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Fe||!Fe.hasOwnProperty("getStreamInfo"))return!1;var Ot=Fe.getStreamInfo(),Mt=ft?ft.getStreamInfo():Te();if(!Ot||!Mt)return!1;var Ke=ee.getAdaptationForType(Ot.index,qe,Ot),Et=ee.getAdaptationForType(Mt.index,qe,Mt);if(!Ke||!Et)return!Ke&&!Et;var Ut=Ke&&Et&&Ke.mimeType===Et.mimeType,Xt=Et.Representation_asArray.map(function(zn){return zn.codecs}),tn=Ke.Representation_asArray.map(function(zn){return zn.codecs}),Ht=tn.some(function(zn){return Xt.indexOf(zn)>-1}),Gn=tn.some(function(zn){return Xt.some(function(xi){return le.codecRootCompatibleWithCodec(xi,zn)})});return Ht||Gn&&Ut}function At(Fe){B=Fe}function sn(){return B}return ae={initialize:function j(){(function $(){y.on(D.default.BUFFERING_COMPLETED,Dt,ae),y.on(D.default.DATA_UPDATE_COMPLETED,Pt,ae),y.on(D.default.INBAND_EVENTS,Bt,ae)})(),function ue(){ie&&(y.on(D.default.KEY_ERROR,yt,ae),y.on(D.default.SERVER_CERTIFICATE_UPDATED,yt,ae),y.on(D.default.LICENSE_REQUEST_COMPLETE,yt,ae),y.on(D.default.KEY_SYSTEM_SELECTED,yt,ae),y.on(D.default.KEY_SESSION_CREATED,yt,ae),y.on(D.default.KEY_STATUSES_CHANGED,yt,ae))}(),oe.initializeForStream(J),y.trigger(D.default.STREAM_UPDATED,{streamInfo:J})},getStreamId:function we(){return J?J.id:null},activate:function Pe(Fe,qe){return new Promise(function(ft,Ot){if(!ve)return sn()?(ve=!0,y.trigger(D.default.STREAM_ACTIVATED,{streamInfo:J}),void ft(qe)):void function Re(Fe,qe){return Ce(Fe,qe)}(Fe,qe).then(function(Mt){ve=!0,y.trigger(D.default.STREAM_ACTIVATED,{streamInfo:J}),ft(Mt)}).catch(function(Mt){Ot(Mt)});ft(qe)})},deactivate:Je,getIsActive:function nt(){return ve},getDuration:function Vt(){return J?J.duration:NaN},getStartTime:en,getId:De,getStreamInfo:Te,getHasAudioTrack:function Le(){return ge},getHasVideoTrack:function Ye(){return Se},startPreloading:function Ue(Fe,qe){return new Promise(function(ft,Ot){sn()?Ot():(pe.info("[startPreloading] Preloading next stream with id ".concat(De())),At(!0),Ce(Fe,qe).then(function(){for(var Mt=0;Mt<he.length&&he[Mt];Mt++)he[Mt].setExplicitBufferingTime(en()),he[Mt].getScheduleController().startScheduleTimer();ft()}).catch(function(){At(!1),Ot()}))})},getThumbnailController:function st(){return V},getBitrateListFor:function ut(Fe){if(tt(),Fe===M.default.IMAGE)return V?V.getBitrateList():[];var qe=function mt(Fe){for(var qe=null,ft=0;ft<he.length;ft++)if((qe=he[ft]).getType()===Fe)return qe.getMediaInfo();return null}(Fe);return W.getBitrateList(qe)},updateData:function Ae(Fe){return new Promise(function(qe){X=!0,J=Fe,Y&&Ze();for(var ft=[],Ot=0,Mt=he.length;Ot<Mt;Ot++){var Ke=he[Ot],Et=Ke.getMediaInfo();ft.push(Ke.updateStreamInfo(J));var Ut=ee.getAllMediaInfoForType(J,Ke.getType());if(Ut){Ke.clearMediaInfoArray();for(var Xt=0;Xt<Ut.length;Xt++){var tn=Ut[Xt];Ke.addMediaInfo(Ut[Xt]),ee.areMediaInfosEqual(Et,tn)&&(W.updateTopQualityIndex(tn),ft.push(Ke.selectMediaInfo(tn)))}}}Promise.all(ft).then(function(){for(ft=[];q.length>0;){var Ht=q.pop(),Gn=Ht.newMediaInfo,zn=mn(Ht.oldMediaInfo);if(!zn)return;ft.push(zn.prepareTrackSwitch()),zn.selectMediaInfo(Gn)}return Promise.all(ft)}).then(function(){X=!1,rt(),y.trigger(D.default.STREAM_UPDATED,{streamInfo:J}),qe()})})},reset:function wt(Fe){F&&(F.reset(),F=null),W&&J&&W.clearDataForStream(J.id),re&&(re.reset(),re=null),ht(Fe),J=null,function ce(){y.off(D.default.DATA_UPDATE_COMPLETED,Pt,ae),y.off(D.default.BUFFERING_COMPLETED,Dt,ae),y.off(D.default.INBAND_EVENTS,Bt,ae)}(),function be(){ie&&(y.off(D.default.KEY_ERROR,yt,ae),y.off(D.default.SERVER_CERTIFICATE_UPDATED,yt,ae),y.off(D.default.LICENSE_REQUEST_COMPLETE,yt,ae),y.off(D.default.KEY_SYSTEM_SELECTED,yt,ae),y.off(D.default.KEY_SESSION_CREATED,yt,ae),y.off(D.default.KEY_STATUSES_CHANGED,yt,ae))}()},getProcessors:Nn,setMediaSource:function at(Fe){for(var qe=0;qe<he.length;)Ge(he[qe].getMediaInfo())?(he[qe].setMediaSource(Fe),qe++):(he[qe].reset(),he.splice(qe,1));if(0===he.length){var ft="No streams to play.";H.error(new d.default(l.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ft+"nostreams",A.getValue())),pe.fatal(ft)}},isMediaCodecCompatible:function it(Fe){var qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ct(Fe,M.default.VIDEO,qe)&&ct(Fe,M.default.AUDIO,qe)},isProtectionCompatible:function St(Fe){return!Fe||je(M.default.VIDEO,Fe)&&je(M.default.AUDIO,Fe)},getPreloaded:sn,getIsEndedEventSignaled:function kt(){return Ee},setIsEndedEventSignaled:zt,getAdapter:function He(){return ee},getHasFinishedBuffering:function Yt(){return se},setPreloaded:At,startScheduleControllers:function er(){for(var Fe=he.length,qe=0;qe<Fe&&he[qe];qe++)he[qe].getScheduleController().startScheduleTimer()},prepareTrackChange:function gt(Fe){if(ve&&J){se=!1;var qe=Fe.newMediaInfo,ft=A.getValue();ee.setCurrentMediaInfo(J.id,qe.type,qe);var Ot=mn(qe);if(Ot){var Mt=x.getTime();pe.info("Stream -  Process track changed at current time "+Mt),ft.refreshManifestOnSwitchTrack?(q.push(Fe),G.getIsUpdating()||(pe.debug("Stream -  Refreshing manifest for switch track"),G.refreshManifest())):Ot.selectMediaInfo(qe).then(function(){(qe.type===M.default.VIDEO||qe.type===M.default.AUDIO)&&W.updateTopQualityIndex(qe),Ot.prepareTrackSwitch()})}}},prepareQualityChange:function ke(Fe){var qe=un(Fe.mediaType);qe&&qe.prepareQualityChange(Fe)}},function K(){try{me=Object(c.default)(p).getInstance(),pe=me.getLogger(ae),ht(),te=Object(_.default)(p).getInstance(),re=Object(S.default)(p).create({updateEventName:D.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:D.default.SEGMENT_LOCATION_BLACKLIST_ADD}),F=Object(R.default)(p).create({streamInfo:J,mediaPlayerModel:E,dashMetrics:N,errHandler:H,settings:fe,boxParser:te,dashConstants:T.default,urlUtils:g})}catch(Fe){throw Fe}}(),ae}b.__dashjs_factory_name="Stream",U.default=f.default.getClassFactory(b)},"./src/streaming/StreamProcessor.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/streaming/constants/MetricsConstants.js"),R=m("./src/streaming/models/FragmentModel.js"),P=m("./src/streaming/controllers/BufferController.js"),w=m("./src/streaming/text/NotFragmentedTextBufferController.js"),D=m("./src/streaming/controllers/ScheduleController.js"),c=m("./src/dash/controllers/RepresentationController.js"),l=m("./src/core/FactoryMaker.js"),f=m("./src/streaming/utils/SupervisorTools.js"),d=m("./src/core/EventBus.js"),_=m("./src/core/events/Events.js"),L=m("./src/dash/DashHandler.js"),S=m("./src/core/errors/Errors.js"),O=m("./src/streaming/vo/DashJSError.js"),b=m("./src/core/Debug.js"),v=m("./src/streaming/utils/RequestModifier.js"),p=m("./src/streaming/utils/URLUtils.js"),y=m("./src/streaming/utils/BoxParser.js"),g=m("./src/streaming/vo/metrics/PlayList.js"),A=m("./src/dash/controllers/SegmentsController.js"),E=m("./src/streaming/vo/metrics/HTTPRequest.js");function N(G){G=G||{};var Se,ge,ne,X,F,V,re,B,te,me,Ee,q,K,ee=this.context,Z=Object(d.default)(ee).getInstance(),le=G.streamInfo,H=G.type,W=G.errHandler,x=G.mimeType,Y=G.timelineConverter,z=G.adapter,ie=G.manifestModel,oe=G.mediaPlayerModel,ye=G.fragmentModel,J=G.abrController,fe=G.playbackController,ae=G.mediaController,pe=G.textController,he=G.dashMetrics,de=G.settings,ve=G.boxParser,se=G.segmentBlacklistController;function ce(){return le.id}function ue(){return H}function be(){return z.getIsTextTrack(B.getData())}function we(){F=[],X=null,K=0,te=!1,me=!1}function Oe(Ke){var Et=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ke.sender){if(fe.getIsManifestUpdateInProgress())return void at();if((!be()||pe.isTextEnabled())&&V&&Ke.representationId&&!V.appendInitSegmentFromCache(Ke.representationId)){var Ut=B.getCurrentRepresentation();if(0===Ut.range)return void Ge();var Xt=Ee?Ee.getInitRequest(X,Ut):null;Xt?ye.executeRequest(Xt):Et&&(re.setInitSegmentRequired(!0),at())}}}function Ge(Ke){var Et=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(fe.getIsManifestUpdateInProgress()||V.getIsPruningInProgress())at();else{var Ut=nt();Ut?(te=!1,Ne(Ut)):$e(Et)}}function Ne(Ke){isNaN(Ke.startTime+Ke.duration)||(K=Ke.startTime+Ke.duration),Ke.delayLoadingTime=(new Date).getTime()+re.getTimeToLoadDelay(),re.setTimeToLoadDelay(0),function Je(Ke){var Et=Ke.url;return Ke.range&&(Et=Et.concat("_",Ke.range)),se.contains(Et)}(Ke)?(ge.warn("Fragment request url ".concat(Ke.url," for stream id ").concat(le.id," and media type ").concat(H," is on the ignore list and will be skipped")),at()):(ge.debug("Next fragment request url for stream id ".concat(le.id," and media type ").concat(H," is ").concat(Ke.url)),ye.executeRequest(Ke))}function $e(Ke){var Ut,Et=B.getCurrentRepresentation();if(!de.get().streaming.gaps.enableSeekFix||!te&&0!==fe.getTime()||(ne?ne&&Et.segmentInfoType===T.default.SEGMENT_TIMELINE&&(Ut=Ee.getValidTimeAheadOfTargetTime(K,X,Et,de.get().streaming.gaps.threshold)):Ut=Ee.getValidTimeAheadOfTargetTime(K,X,Et,de.get().streaming.gaps.threshold),isNaN(Ut)||Ut===K)){if(Ee.isLastSegmentRequested(Et,K)){var tn=Ee.getCurrentIndex();return ge.debug("Segment requesting for stream ".concat(le.id," has finished")),Z.trigger(_.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:tn},{streamId:le.id,mediaType:H}),V.segmentRequestingCompleted(tn),void re.clearScheduleTimer()}Ke&&at()}else fe.isSeeking()||0===fe.getTime()?(ge.warn("Adjusting playback time ".concat(Ut," because of gap in the manifest. Seeking by ").concat(Ut-K)),fe.seek(Ut,!1,!1)):(ge.warn("Adjusting buffering time ".concat(Ut," because of gap in the manifest. Adjusting time by ").concat(Ut-K)),Ot(Ut),Ke&&at())}function nt(){var Et,Ke=it();if(isNaN(K)||ue()===M.default.TEXT&&!pe.isTextEnabled())return null;var Ut=te;if(Ee){var Xt=B&&Ke?B.getRepresentationForQuality(Ke.quality):null;Et=Ut?Ee.getSegmentRequestForTime(X,Xt,K):Ee.getNextSegmentRequest(X,Xt)}return Et}function at(){re.startScheduleTimer(fe.getLowLatencyModeEnabled()?de.get().streaming.scheduling.lowLatencyTimeout:de.get().streaming.scheduling.defaultTimeout)}function ht(Ke){Ke.error||(re.setCurrentRepresentation(z.convertRepresentationToRepresentationInfo(Ke.currentRepresentation)),V.getIsBufferingCompleted()||V.updateBufferTimestampOffset(Ke.currentRepresentation))}function wt(Ke){he.addBufferState(H,Ke.state,re.getBufferTarget()),Ke.state===I.default.BUFFER_EMPTY&&!fe.isSeeking()&&(ge.info("Buffer is empty! Stalling!"),he.pushPlayListTraceMetrics(new Date,g.PlayListTrace.REBUFFERING_REASON))}function Vt(Ke){ye.syncExecutedRequestsWithBufferedRange(V.getBuffer().getAllBufferRanges(),le.duration),Ke.quotaExceeded&&Ke.from>fe.getTime()&&Ot(Ke.from),Ke.hasEnoughSpaceToAppend&&Ke.quotaExceeded&&re.startScheduleTimer()}function kt(Ke){if(Ke&&Ke.lastRequestAppended&&Ke.lastRequestAppended.url){var Et=Ke.lastRequestAppended.url;Ke.lastRequestAppended.range&&(Et=Et.concat("_",Ke.lastRequestAppended.range)),ge.warn("Blacklisting segment with url ".concat(Et)),se.add(Et)}}function Te(){Fe(),me=!1}function Le(Ke){ge.info("onFragmentLoadingAbandoned request: "+Ke.request.url+" has been aborted"),!fe.isSeeking()&&!re.getSwitchStrack()&&!me&&(ge.info("onFragmentLoadingAbandoned request: "+Ke.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ke.request&&Ke.request.isInitializationRequest()?re.setInitSegmentRequired(!0):Ot(Ke.request.startTime+Ke.request.duration/2),re.startScheduleTimer(0))}function Ye(Ke){ge.info("OnFragmentLoadingCompleted for stream id "+le.id+" and media type "+H+" - Url:",Ke.request?Ke.request.url:"undefined",Ke.request.range?", Range:"+Ke.request.range:""),be()&&re.startScheduleTimer(0),Ke.error&&Ke.request.serviceLocation&&function st(Ke){ge.info("Fragment loading completed with an error"),Ke&&Ke.request&&Ke.request.type&&(Ke.request.type===E.HTTPRequest.INIT_SEGMENT_TYPE?Oe({representationId:Ke.request.representationId,sender:{}},!1):Ke.request.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Ot(Ke.request.startTime+Ke.request.duration/2),Ge({},!1)))}(Ke)}function tt(){Ot(fe.getTime()),Ae().startScheduleTimer()}function ut(Ke){var Et=Ke.currentTrackInfo;if(Et){var Ut=F.find(function(Xt){return Xt.index===Et.index&&Xt.lang===Et.lang});Ut&&Pt(Ut).then(function(){V.setIsBufferingCompleted(!1),Ot(fe.getTime()),re.setInitSegmentRequired(!0),re.startScheduleTimer()})}}function yt(Ke){Ot(Ke.quotaExceededTime),re.clearScheduleTimer()}function ke(){return V?V.getBuffer():null}function Pt(Ke){Ke!==X&&(!Ke||!X||Ke.type===X.type)&&(X=Ke);var Et=z.getRealAdaptation(le,X),Ut=z.getVoRepresentations(X);if(B){var Gn,Xt=B.getData(),tn=J.getMaxAllowedIndexFor(H,le.id),Ht=J.getMinAllowedIndexFor(H,le.id),xi=null;return null!==Xt&&Xt.id===Et.id||H===M.default.TEXT?Gn=J.getQualityFor(H,le.id):(xi=J.getThroughputHistory().getAverageThroughput(H,ne)||J.getInitialBitrateFor(H,le.id),Gn=J.getQualityForBitrate(X,xi,le.id)),void 0!==Ht&&Gn<Ht&&(Gn=Ht),Gn>tn&&(Gn=tn),B.updateData(Et,Ut,H,X.isFragmented,Gn)}return Promise.resolve()}function Ae(){return re}function it(Ke){var Et;return void 0!==Ke?(Object(f.checkInteger)(Ke),Et=B?B.getRepresentationForQuality(Ke):null):Et=B?B.getCurrentRepresentation():null,z.convertRepresentationToRepresentationInfo(Et)}function St(){return!!V&&V.getIsBufferingCompleted()}function ct(Ke){var Et=Ke.chunk,Ut=Et.bytes,Xt=Et.quality,tn=it(Xt),Ht=B&&tn?B.getRepresentationForQuality(tn.quality):null;if(tn&&Ht){var Gn=z.getEventsFor(tn.mediaInfo,null,le),zn=z.getEventsFor(tn,Ht,le);if(Gn&&Gn.length>0||zn&&zn.length>0){var Li=function At(Ke,Et,Ut,Xt){try{for(var tn={},Ht=[],Gn=Ut.concat(Xt),zn=0,xi=Gn.length;zn<xi;zn++)tn[Gn[zn].schemeIdUri+"/"+Gn[zn].value]=Gn[zn];var Li=Object(y.default)(ee).getInstance().parse(Ke),_t=Li.getBoxes("emsg");if(!_t||0===_t.length)return Ht;for(var hi=Li.getBox("sidx"),fn=!hi||isNaN(hi.earliest_presentation_time)||isNaN(hi.timescale)?Et&&!isNaN(Et.mediaStartTime)?Et.mediaStartTime:0:hi.earliest_presentation_time/hi.timescale,On=Math.max(fn,0),ka=B.getCurrentRepresentation(),na=0,Ba=_t.length;na<Ba;na++){var Ji=z.getEvent(_t[na],tn,On,ka);Ji&&Ht.push(Ji)}return Ht}catch{return[]}}(Ut,ye.getRequests({state:R.default.FRAGMENT_MODEL_EXECUTED,quality:Xt,index:Et.index})[0],Gn,zn);Z.trigger(_.default.INBAND_EVENTS,{events:Li},{streamId:le.id})}}}function He(){var Ke=fe.getTime();de.get().streaming.buffer.flushBufferAtTrackSwitch&&fe.seek(Ke+.001,!1,!0),Ot(Ke),V.setSeekTarget(Ke),re.startScheduleTimer()}function Fe(){var Ke=fe.getTime(),Et=V.getContinuousBufferTimeForTargetTime(Ke);Ot(isNaN(Et)?Ke:Et),re.startScheduleTimer()}function ft(Ke){Ke&&!isNaN(Ke.time)&&(Ot(Ke.time),V.setSeekTarget(Ke.time))}function Ot(Ke){K=Ke,te=!0}return Se={initialize:function $(Ke,Et,Ut){q=Object(A.default)(ee).create({events:_.default,eventBus:Z,streamInfo:le,timelineConverter:Y,dashConstants:T.default,segmentBaseController:G.segmentBaseController,type:H}),(Ee=Object(L.default)(ee).create({streamInfo:le,type:H,timelineConverter:Y,dashMetrics:he,mediaPlayerModel:oe,baseURLController:G.baseURLController,errHandler:W,segmentsController:q,settings:de,boxParser:ve,events:_.default,eventBus:Z,errors:S.default,debug:Object(b.default)(ee).getInstance(),requestModifier:Object(v.default)(ee).getInstance(),dashConstants:T.default,constants:M.default,urlUtils:Object(p.default)(ee).getInstance()})).initialize(ne=le.manifestInfo.isDynamic),J.registerStreamType(H,Se),B=Object(c.default)(ee).create({streamInfo:le,type:H,abrController:J,dashMetrics:he,playbackController:fe,timelineConverter:Y,dashConstants:T.default,events:_.default,eventBus:Z,errors:S.default,isDynamic:ne,segmentsController:q}),(V=function qe(Ke,Et){return Ke?Ke!==M.default.TEXT||Et?Object(P.default)(ee).create({streamInfo:le,type:Ke,mediaPlayerModel:oe,manifestModel:ie,fragmentModel:ye,errHandler:W,mediaController:ae,representationController:B,adapter:z,textController:pe,abrController:J,playbackController:fe,settings:de}):Object(w.default)(ee).create({streamInfo:le,type:Ke,mimeType:x,fragmentModel:ye,textController:pe,errHandler:W,settings:de}):(W.error(new O.default(S.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,S.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(H,Ut))&&V.initialize(Ke),(re=Object(D.default)(ee).create({streamInfo:le,type:H,mimeType:x,adapter:z,dashMetrics:he,mediaPlayerModel:oe,fragmentModel:ye,abrController:J,playbackController:fe,textController:pe,mediaController:ae,bufferController:V,settings:de})).initialize(Et),K=0,te=!1},getStreamId:ce,getType:ue,isUpdating:function Re(){return!!B&&B.isUpdating()},getBufferController:function Ze(){return V},getFragmentModel:function rt(){return ye},getScheduleController:Ae,getRepresentationController:function gt(){return B},getRepresentationInfo:it,getBufferLevel:function je(){return V?V.getBufferLevel():0},isBufferingCompleted:St,createBufferSinks:function sn(Ke){var Et=ke();return Et?Promise.resolve(Et):V?V.createBufferSink(X,Ke):Promise.resolve(null)},updateStreamInfo:function mt(Ke){return le=Ke,St()?Promise.resolve():V.updateAppendWindow()},getStreamInfo:function Dt(){return le},selectMediaInfo:Pt,clearMediaInfoArray:function mn(){F=[]},addMediaInfo:function Bt(Ke){-1===F.indexOf(Ke)&&F.push(Ke)},prepareTrackSwitch:function Yt(){return new Promise(function(Ke){ge.debug("Preparing track switch for type ".concat(H));var Et=H===M.default.TEXT||de.get().streaming.trackSwitchMode[H]===M.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&fe.getTimeToStreamEnd(le)>de.get().streaming.buffer.stallThreshold;if(V.getIsBufferingCompleted()&&!Et)return V.prepareForNonReplacementTrackSwitch(X.codec).then(function(){Z.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:le.id,mediaType:H})}).catch(function(){Z.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:le.id,mediaType:H})}),void Ke();re.clearScheduleTimer(),re.setSwitchTrack(!0),Et?(Z.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:H,streamId:le.id},{mediaType:H,streamId:le.id}),ye.abortRequests(),V.prepareForReplacementTrackSwitch(X.codec).then(function(){var Ut=it();return V.updateBufferTimestampOffset(Ut)}).then(function(){He(),Ke()}).catch(function(){He(),Ke()})):V.prepareForNonReplacementTrackSwitch(X.codec).then(function(){Fe(),Ke()}).catch(function(){Fe(),Ke()})})},prepareQualityChange:function zt(Ke){ge.debug("Preparing quality switch for type ".concat(H));var Et=Ke.newQuality;me=!0,re.clearScheduleTimer();var Ut=it(Et);re.setCurrentRepresentation(Ut),B.prepareQualityChange(Et),ye.abortRequests(),V.updateBufferTimestampOffset(Ut).then(function(){Ke.reason&&Ke.reason.forceReplace?function en(){Z.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:H,streamId:le.id},{mediaType:H,streamId:le.id}),V.prepareForReplacementQualitySwitch().then(function(){He(),me=!1}).catch(function(){He(),me=!1})}():de.get().streaming.buffer.fastSwitchEnabled?function De(Ke){var Et=fe.getTime(),Ut=1.5*(isNaN(Ke.fragmentDuration)?1:Ke.fragmentDuration),Xt=ye.getRequests({state:R.default.FRAGMENT_MODEL_EXECUTED,time:Et+Ut,threshold:0})[0];if(Xt&&!be()){var tn=V.getBufferLevel(),Ht=J.getAbandonmentStateFor(le.id,H);Xt.quality<Ke.quality&&tn>=Ut&&Ht!==I.default.ABANDON_LOAD?(Ot(Et+Ut),re.setCheckPlaybackQuality(!1),re.startScheduleTimer()):Te()}else re.startScheduleTimer();me=!1}(Ut):Te(),he.pushPlayListTraceMetrics(new Date,g.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),he.createPlaylistTraceMetrics(Ut.id,1e3*fe.getTime(),fe.getPlaybackRate())})},getMediaInfo:function un(){return X},getMediaSource:function Nn(){return V.getMediaSource()},setMediaSource:function er(Ke){V.setMediaSource(Ke)},getBuffer:ke,setExplicitBufferingTime:Ot,finalisePlayList:function Mt(Ke,Et){he.pushPlayListTraceMetrics(Ke,Et)},probeNextRequest:function Xe(){var Ke=it(),Et=B&&Ke?B.getRepresentationForQuality(Ke.quality):null;return Ee.getNextSegmentRequestIdempotent(X,Et)},prepareInnerPeriodPlaybackSeeking:function Ue(Ke){return new Promise(function(Et){if(V.hasBufferAtTime(Ke.seekTime))return V.pruneBuffer(),void Et();re.clearScheduleTimer(),ye.abortRequests(),V.prepareForPlaybackSeek().then(function(){var Xt=V.getAllRangesWithSafetyFactor(Ke.seekTime);return V.clearBuffers(Xt)}).then(function(){var Xt=V.getContinuousBufferTimeForTargetTime(Ke.seekTime);if(!isNaN(Xt)&&!isNaN(le.duration)&&isFinite(le.duration)&&Xt>=le.start+le.duration)V.setIsBufferingCompleted(!0),Et();else{var tn=isNaN(Xt)?Ke.seekTime:Xt;Ot(tn),V.setSeekTarget(tn);var Ht=[];Ht.push(V.updateAppendWindow());var Gn=it();Ht.push(V.updateBufferTimestampOffset(Gn)),Promise.all(Ht).then(function(){re.setInitSegmentRequired(!0),re.setCheckPlaybackQuality(!1),re.startScheduleTimer(),Et()})}}).catch(function(Xt){ge.error(Xt)})})},prepareOuterPeriodPlaybackSeeking:function Ce(){return new Promise(function(Ke,Et){try{re.clearScheduleTimer(),ye.abortRequests(),V.prepareForPlaybackSeek().then(function(){return V.pruneAllSafely()}).then(function(){Ke()})}catch(Ut){Et(Ut)}})},reset:function Pe(Ke,Et){Ee&&Ee.reset(),V&&(V.reset(Ke,Et),V=null),re&&(re.reset(),re=null),B&&(B.reset(),B=null),q&&(q=null),J&&J.unRegisterStreamType(ce(),H),Z.off(_.default.DATA_UPDATE_COMPLETED,ht,Se),Z.off(_.default.INIT_FRAGMENT_NEEDED,Oe,Se),Z.off(_.default.MEDIA_FRAGMENT_NEEDED,Ge,Se),Z.off(_.default.MEDIA_FRAGMENT_LOADED,ct,Se),Z.off(_.default.BUFFER_LEVEL_STATE_CHANGED,wt,Se),Z.off(_.default.BUFFER_CLEARED,Vt,Se),Z.off(_.default.SEEK_TARGET,ft,Se),Z.off(_.default.FRAGMENT_LOADING_ABANDONED,Le,Se),Z.off(_.default.FRAGMENT_LOADING_COMPLETED,Ye,Se),Z.off(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,tt,Se),Z.off(_.default.SET_NON_FRAGMENTED_TEXT,ut,Se),Z.off(_.default.QUOTA_EXCEEDED,yt,Se),Z.off(_.default.SOURCE_BUFFER_ERROR,kt,Se),we(),H=null,le=null}},function j(){ge=Object(b.default)(ee).getInstance().getLogger(Se),we(),Z.on(_.default.DATA_UPDATE_COMPLETED,ht,Se,{priority:d.default.EVENT_PRIORITY_HIGH}),Z.on(_.default.INIT_FRAGMENT_NEEDED,Oe,Se),Z.on(_.default.MEDIA_FRAGMENT_NEEDED,Ge,Se),Z.on(_.default.MEDIA_FRAGMENT_LOADED,ct,Se),Z.on(_.default.BUFFER_LEVEL_STATE_CHANGED,wt,Se),Z.on(_.default.BUFFER_CLEARED,Vt,Se),Z.on(_.default.SEEK_TARGET,ft,Se),Z.on(_.default.FRAGMENT_LOADING_ABANDONED,Le,Se),Z.on(_.default.FRAGMENT_LOADING_COMPLETED,Ye,Se),Z.on(_.default.QUOTA_EXCEEDED,yt,Se),Z.on(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,tt,Se),Z.on(_.default.SET_NON_FRAGMENTED_TEXT,ut,Se),Z.on(_.default.SOURCE_BUFFER_ERROR,kt,Se)}(),Se}N.__dashjs_factory_name="StreamProcessor",U.default=l.default.getClassFactory(N)},"./src/streaming/XlinkLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/DashJSError.js"),T=m("./src/streaming/net/URLLoader.js"),I=m("./src/streaming/vo/metrics/HTTPRequest.js"),R=m("./src/streaming/vo/TextRequest.js"),P=m("./src/core/EventBus.js"),w=m("./src/core/events/Events.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/core/errors/Errors.js");function l(f){f=f||{};var _=this.context,L=Object(P.default)(_).getInstance(),S=Object(T.default)(_).create({errHandler:f.errHandler,dashMetrics:f.dashMetrics,mediaPlayerModel:f.mediaPlayerModel,requestModifier:f.requestModifier,errors:c.default});return{load:function b(p,y,g){var A=function(G,ee){y.resolved=!0,y.resolvedContent=G||null,L.trigger(w.default.XLINK_ELEMENT_LOADED,{element:y,resolveObject:g,error:G||ee?null:new M.default(c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+p)})};if("urn:mpeg:dash:resolve-to-zero:2013"===p)A(null,!0);else{var E=new R.default(p,I.HTTPRequest.XLINK_EXPANSION_TYPE);S.load({request:E,success:function(G){A(G)},error:function(){A(null)}})}},reset:function v(){S&&(S.abort(),S=null)}}}l.__dashjs_factory_name="XlinkLoader",U.default=D.default.getClassFactory(l)},"./src/streaming/constants/ConformanceViolationConstants.js":function(Ie,U,m){"use strict";m.r(U),U.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function I(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var f=function w(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}m.r(U);var c=new(function(){function l(){(function T(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function R(l,f,d){return f&&I(l.prototype,f),d&&I(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),l}());U.default=c},"./src/streaming/constants/MetricsConstants.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function I(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var f=function w(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}m.r(U);var c=new(function(){function l(){(function T(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function R(l,f,d){return f&&I(l.prototype,f),d&&I(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),l}());U.default=c},"./src/streaming/constants/ProtectionConstants.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function I(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var f=function w(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}m.r(U);var c=new(function(){function l(){(function T(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function R(l,f,d){return f&&I(l.prototype,f),d&&I(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),l}());U.default=c},"./src/streaming/controllers/AbrController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/rules/abr/ABRRulesCollection.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/streaming/constants/MetricsConstants.js"),R=m("./src/streaming/vo/BitrateInfo.js"),P=m("./src/streaming/models/FragmentModel.js"),w=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js"),c=m("./src/core/FactoryMaker.js"),l=m("./src/streaming/rules/RulesContext.js"),f=m("./src/streaming/rules/SwitchRequest.js"),d=m("./src/streaming/rules/SwitchRequestHistory.js"),_=m("./src/streaming/rules/DroppedFramesHistory.js"),L=m("./src/streaming/rules/ThroughputHistory.js"),S=m("./src/core/Debug.js"),O=m("./src/streaming/vo/metrics/HTTPRequest.js"),b=m("./src/streaming/utils/SupervisorTools.js"),v=m("./src/streaming/MediaPlayerEvents.js");function A(){var Z,le,H,W,x,Y,z,ie,oe,ye,J,fe,ae,pe,he,de,ve,se,Se,ge,ne,X,F,V,re,B,N=this.context,G=Object(S.default)(N).getInstance(),ee=Object(w.default)(N).getInstance();function j(){x={},Y={},ie={},z={},Se={},X={},F={},V={},void 0===ye&&(ye=!1),ge&&ge.reset(),se=void 0,ge=void 0,ne=void 0,clearTimeout(oe),oe=null}function be(ke){var Ze=ke.request.mediaType,rt=ke.streamId;if(Ze&&rt&&z[rt]&&B.get().streaming.abr.autoSwitchBitrate[Ze]){var mt=z[rt][Ze];if(mt){var Dt=Object(l.default)(N).create({abrController:Z,streamProcessor:mt,currentRequest:ke.request,useBufferOccupancyABR:X[Ze],useL2AABR:F[Ze],useLoLPABR:V[Ze],videoModel:pe}),Pt=H.shouldAbandonFragment(Dt,rt);Pt.quality>f.default.NO_CHANGE&&mt.getFragmentModel().getRequests({state:P.default.FRAGMENT_MODEL_LOADING,index:ke.request.index})[0]&&(ie[rt][Ze].state=I.default.ABANDON_LOAD,Se[rt][Ze].reset(),Se[rt][Ze].push({oldValue:ht(Ze,rt),newValue:Pt.quality,confidence:1,reason:Pt.reason}),wt(Ze,W.getActiveStreamInfo(),Pt.quality,Pt.reason),clearTimeout(oe),oe=setTimeout(function(){ie[rt][Ze].state=I.default.ALLOW_LOAD,oe=null},B.get().streaming.abandonLoadTimeout))}}}function we(ke){ke.mediaType===T.default.VIDEO&&(void 0!==se&&ge.push(ke.streamId,se,pe.getPlaybackQuality()),se=ke.newQuality)}function Pe(ke){ke.metric===I.default.HTTP_REQUEST&&ke.value&&ke.value.type===O.HTTPRequest.MEDIA_SEGMENT_TYPE&&(ke.mediaType===T.default.AUDIO||ke.mediaType===T.default.VIDEO)&&ne.push(ke.mediaType,ke.value,B.get().streaming.abr.useDeadTimeLatency),ke.metric===I.default.BUFFER_LEVEL&&(ke.mediaType===T.default.AUDIO||ke.mediaType===T.default.VIDEO)&&function Te(ke,Ze){B.get().streaming.abr.ABRStrategy===T.default.ABR_STRATEGY_DYNAMIC&&function Le(ke,Ze){try{var rt=he.getStableBufferTime(),Pt=X[ke],Bt=Ze>(Pt?.5*rt:rt);X[ke]=Bt,Bt!==Pt&&le.info(Bt?"["+ke+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Ze.toFixed(3)+").":"["+ke+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Ze.toFixed(3)+").")}catch(mn){le.error(mn)}}(ke,Ze)}(ke.mediaType,.001*ke.value.level)}function Re(ke,Ze){try{return x[Ze]=x[Ze]||{},x[Ze].hasOwnProperty(ke)||(x[Ze][ke]=0),function $e(ke,Ze,rt){if(Ze!==T.default.VIDEO||!B.get().streaming.abr.limitBitrateByPortal||!z[rt]||!z[rt][Ze])return ke;ye||yt();var mt=z[rt][Ze].getStreamInfo(),Dt=ae.getAdaptationForType(mt.index,Ze,mt).Representation_asArray,Pt=ke;if(J>0&&fe>0){for(;Pt>0&&Dt[Pt]&&J<Dt[Pt].width&&J-Dt[Pt-1].width<Dt[Pt].width-J;)Pt-=1;for(;Pt<Dt.length-1&&Dt[Pt].width===Dt[Pt+1].width;)Pt+=1}return Pt}(function Ne(ke,Ze,rt){var mt=x[rt][Ze],Dt=B.get().streaming.abr.maxRepresentationRatio[Ze];return isNaN(Dt)||Dt>=1||Dt<0?ke:Math.min(ke,Math.round(mt*Dt))}(function Ge(ke,Ze){var rt=x[Ze][ke],mt=rt;if(!z[Ze]||!z[Ze][ke])return mt;var Dt=Ue(ke,Ze);void 0!==Dt&&(mt=Math.max(rt,Dt));var Pt=function Ce(ke,Ze){try{var rt=he.getAbrBitrateParameter("maxBitrate",ke);return rt>-1?en(z[Ze][ke].getMediaInfo(),rt,Ze):void 0}catch{return}}(ke,Ze);return void 0!==Pt&&(mt=Math.min(mt,Pt)),mt}(ke,Ze),ke,Ze),ke,Ze)}catch{return}}function Ue(ke,Ze){try{return function Oe(ke,Ze){try{var rt=he.getAbrBitrateParameter("minBitrate",ke);if(rt>-1){var mt=z[Ze][ke].getMediaInfo(),Dt=De(mt),Pt=en(mt,rt,Ze);return Dt[Pt]&&Pt<Dt.length-1&&Dt[Pt].bitrate<1e3*rt&&Pt++,Pt}return}catch{return}}(ke,Ze)}catch{return}}function ht(ke){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Ze||(Ze=W.getActiveStreamInfo().id),ke&&z[Ze]&&z[Ze][ke]&&Ze?(Y[Ze]=Y[Ze]||{},Y[Ze].hasOwnProperty(ke)||(Y[Ze][ke]=0),Y[Ze][ke]):0}catch{return 0}}function wt(ke,Ze,rt){var mt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Ze&&Ze.id&&ke){var Dt=Ze.id,Pt=ht(ke,Dt);Object(b.checkInteger)(rt);var Bt=Re(ke,Dt);rt!==Pt&&rt>=0&&rt<=Bt&&kt(ke,Pt,rt,Bt,mt,Dt)}}function kt(ke,Ze,rt,mt,Dt,Pt){if(ke&&z[Pt]&&z[Pt][ke]){var Bt=z[Pt][ke].getStreamInfo(),mn=Bt&&Bt.manifestInfo&&Bt.manifestInfo.isDynamic,un=re.getCurrentBufferLevel(ke);le.info("Stream ID: "+Pt+" ["+ke+"] switch from "+Ze+" to "+rt+"/"+mt+" (buffer: "+un+") "+(Dt?JSON.stringify(Dt):".")),Y[Pt]=Y[Pt]||{},Y[Pt][ke]=rt;var Nn=function zt(ke,Ze,rt){if(Ze&&z&&z[ke]&&z[ke][Ze]){var mt=De(z[ke][Ze].getMediaInfo());return mt[rt]?mt[rt]:null}return null}(Pt,ke,rt);ee.trigger(D.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Ze,newQuality:rt,reason:Dt,streamInfo:Bt,bitrateInfo:Nn,maxIdx:mt,mediaType:ke},{streamId:Bt.id,mediaType:ke});var er=ne.getAverageThroughput(ke,mn);isNaN(er)||ve.setSavedBitrateSettings(ke,er)}}function en(ke,Ze,rt){var mt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Dt=ke&&ke.type?z[rt][ke.type].getRepresentationInfo():null;if(B.get().streaming.abr.useDeadTimeLatency&&mt&&Dt&&Dt.fragmentDuration){var Pt=Dt.fragmentDuration;if((mt/=1e3)>Pt)return 0;Ze*=1-mt/Pt}for(var mn=De(ke),un=mn.length-1;un>=0;un--)if(1e3*Ze>=mn[un].bitrate)return un;return 0}function De(ke){var Ze=[];if(!ke||!ke.bitrateList)return Ze;for(var Dt,rt=ke.bitrateList,mt=ke.type,Pt=0,Bt=rt.length;Pt<Bt;Pt++)(Dt=new R.default).mediaType=mt,Dt.qualityIndex=Pt,Dt.bitrate=rt[Pt].bandwidth,Dt.width=rt[Pt].width,Dt.height=rt[Pt].height,Dt.scanType=rt[Pt].scanType,Ze.push(Dt);return Ze}function yt(){if(pe){var Ze=B.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;J=pe.getClientWidth()*Ze,fe=pe.getClientHeight()*Ze}}return Z={initialize:function me(){ge=Object(_.default)(N).create(),ne=Object(L.default)(N).create({settings:B}),(H=Object(M.default)(N).create({dashMetrics:re,customParametersModel:de,mediaPlayerModel:he,settings:B})).initialize(),ee.on(v.default.QUALITY_CHANGE_RENDERED,we,Z),ee.on(v.default.METRIC_ADDED,Pe,Z),ee.on(D.default.LOADING_PROGRESS,be,Z)},isPlayingAtTopQuality:function tt(ke){var Ze=ke?ke.id:null,rt=ht(T.default.AUDIO,Ze),mt=ht(T.default.VIDEO,Ze);return rt===Re(T.default.AUDIO,Ze)&&mt===Re(T.default.VIDEO,Ze)},updateTopQualityIndex:function st(ke){var Ze=ke.type,rt=ke.streamInfo.id,mt=ke.representationCount-1;return x[rt]=x[rt]||{},x[rt][Ze]=mt,mt},clearDataForStream:function gt(ke){ge&&ge.clearForStream(ke),z[ke]&&delete z[ke],Se[ke]&&delete Se[ke],ie[ke]&&delete ie[ke]},getThroughputHistory:function Ye(){return ne},getBitrateList:De,getQualityForBitrate:en,getTopBitrateInfoFor:function Je(ke){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ze||(Ze=W.getActiveStreamInfo().id),ke&&z&&z[Ze]&&z[Ze][ke]){var rt=Re(ke,Ze),mt=De(z[Ze][ke].getMediaInfo());return mt[rt]?mt[rt]:null}return null},getMinAllowedIndexFor:Ue,getMaxAllowedIndexFor:Re,getInitialBitrateFor:function nt(ke,Ze){if(function ue(){if(!ve||!ve.hasOwnProperty("getSavedBitrateSettings"))throw new Error(T.default.MISSING_CONFIG_ERROR)}(),ke===T.default.TEXT)return NaN;var rt=ve.getSavedBitrateSettings(ke),mt=he.getAbrBitrateParameter("initialBitrate",ke),Dt=B.get().streaming.abr.initialRepresentationRatio[ke];if(-1===mt)if(Dt>-1){var Pt=z[Ze][ke].getStreamInfo(),Bt=ae.getAdaptationForType(Pt.index,ke,Pt).Representation_asArray;mt=Array.isArray(Bt)?Bt[Math.max(Math.round(Bt.length*Dt)-1,0)].bandwidth/1e3:0}else mt=isNaN(rt)?ke===T.default.VIDEO?1e3:100:rt;return mt},getQualityFor:ht,getAbandonmentStateFor:function Vt(ke,Ze){return ie[ke]&&ie[ke][Ze]?ie[ke][Ze].state:null},setPlaybackQuality:wt,checkPlaybackQuality:function at(ke,Ze){try{if(!(ke&&z&&z[Ze]&&z[Ze][ke]))return!1;if(ge){var rt=pe.getPlaybackQuality();rt&&ge.push(Ze,se,rt)}if(!B.get().streaming.abr.autoSwitchBitrate[ke])return!1;var mt=ht(ke,Ze),Dt=Object(l.default)(N).create({abrController:Z,switchHistory:Se[Ze][ke],droppedFramesHistory:ge,streamProcessor:z[Ze][ke],currentValue:mt,useBufferOccupancyABR:X[ke],useL2AABR:F[ke],useLoLPABR:V[ke],videoModel:pe}),Pt=Ue(ke,Ze),Bt=Re(ke,Ze),mn=H.getMaxQuality(Dt),un=mn.quality;return void 0!==Pt&&(un>f.default.NO_CHANGE?un:mt)<Pt&&(un=Pt),un>Bt&&(un=Bt),Se[Ze][ke].push({oldValue:mt,newValue:un}),un>f.default.NO_CHANGE&&un!==mt&&(ie[Ze][ke].state===I.default.ALLOW_LOAD||un<mt)&&(kt(ke,mt,un,Bt,mn.reason,Ze),!0)}catch{return!1}},setElementSize:yt,setWindowResizeEventCalled:function ut(ke){ye=ke},registerStreamType:function Ee(ke,Ze){var rt=Ze.getStreamInfo().id;z[rt]||(z[rt]={}),Se[rt]||(Se[rt]={}),ie[rt]||(ie[rt]={}),Se[rt][ke]=Object(d.default)(N).create(),z[rt][ke]=Ze,ie[rt][ke]={},ie[rt][ke].state=I.default.ALLOW_LOAD,function q(ke){var Ze=B.get().streaming.abr.ABRStrategy;Ze===T.default.ABR_STRATEGY_L2A?(X[ke]=!1,V[ke]=!1,F[ke]=!0):Ze===T.default.ABR_STRATEGY_LoLP?(X[ke]=!1,V[ke]=!0,F[ke]=!1):Ze===T.default.ABR_STRATEGY_BOLA?(X[ke]=!0,V[ke]=!1,F[ke]=!1):Ze===T.default.ABR_STRATEGY_THROUGHPUT?(X[ke]=!1,V[ke]=!1,F[ke]=!1):Ze===T.default.ABR_STRATEGY_DYNAMIC&&(X[ke]=!(!X||!X[ke])&&X[ke],V[ke]=!1,F[ke]=!1)}(ke),ke===T.default.VIDEO&&yt()},unRegisterStreamType:function K(ke,Ze){try{z[ke]&&z[ke][Ze]&&delete z[ke][Ze],Se[ke]&&Se[ke][Ze]&&delete Se[ke][Ze],ie[ke]&&ie[ke][Ze]&&delete ie[ke][Ze]}catch{}},setConfig:function ce(ke){!ke||(ke.streamController&&(W=ke.streamController),ke.domStorage&&(ve=ke.domStorage),ke.mediaPlayerModel&&(he=ke.mediaPlayerModel),ke.customParametersModel&&(de=ke.customParametersModel),ke.dashMetrics&&(re=ke.dashMetrics),ke.adapter&&(ae=ke.adapter),ke.videoModel&&(pe=ke.videoModel),ke.settings&&(B=ke.settings))},reset:function $(){j(),ee.off(D.default.LOADING_PROGRESS,be,Z),ee.off(v.default.QUALITY_CHANGE_RENDERED,we,Z),ee.off(v.default.METRIC_ADDED,Pe,Z),H&&H.reset()}},function te(){le=G.getLogger(Z),j()}(),Z}A.__dashjs_factory_name="AbrController";var E=c.default.getSingletonFactory(A);E.QUALITY_DEFAULT=0,c.default.updateSingletonFactory(A.__dashjs_factory_name,E),U.default=E},"./src/streaming/controllers/BaseURLController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/models/BaseURLTreeModel.js"),T=m("./src/streaming/utils/BaseURLSelector.js"),I=m("./src/streaming/utils/URLUtils.js"),R=m("./src/dash/vo/BaseURL.js"),P=m("./src/core/FactoryMaker.js"),w=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js");function c(){var l,f,S,O,d=this.context,_=Object(w.default)(d).getInstance(),L=Object(I.default)(d).getInstance();function b(N){S.invalidateSelectedIndexes(N.entry)}return l={reset:function A(){S.reset(),O.reset()},initialize:function E(N){S.setConfig({adapter:f}),function y(N){S.update(N),O.chooseSelector(f.getIsDVB(N))}(N)},resolve:function g(N){var ee=S.getForPath(N).reduce(function(Z,le){var H=O.select(le);return H?(L.isRelative(H.url)?Z.url=L.resolve(H.url,Z.url):(Z.url=H.url,Z.serviceLocation=H.serviceLocation),Z.availabilityTimeOffset=H.availabilityTimeOffset,Z.availabilityTimeComplete=H.availabilityTimeComplete,Z):new R.default},new R.default);if(!L.isRelative(ee.url))return ee},setConfig:function p(N){N.baseURLTreeModel&&(S=N.baseURLTreeModel),N.baseURLSelector&&(O=N.baseURLSelector),N.adapter&&(f=N.adapter)}},function v(){S=Object(M.default)(d).create(),O=Object(T.default)(d).create(),_.on(D.default.SERVICE_LOCATION_BLACKLIST_CHANGED,b,l)}(),l}c.__dashjs_factory_name="BaseURLController",U.default=P.default.getClassFactory(c)},"./src/streaming/controllers/BlacklistController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/EventBus.js");function I(R){R=R||{};var P,w=[],D=Object(T.default)(this.context).getInstance(),c=R.updateEventName,l=R.addBlacklistEventName;function d(O){-1===w.indexOf(O)&&(w.push(O),D.trigger(c,{entry:O}))}function _(O){d(O.entry)}return P={add:d,contains:function f(O){return!!(w.length&&O&&O.length)&&-1!==w.indexOf(O)},reset:function S(){w=[]}},function L(){l&&D.on(l,_,P)}(),P}I.__dashjs_factory_name="BlackListController",U.default=M.default.getClassFactory(I)},"./src/streaming/controllers/BufferController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/constants/MetricsConstants.js"),I=m("./src/streaming/models/FragmentModel.js"),R=m("./src/streaming/SourceBufferSink.js"),P=m("./src/core/EventBus.js"),w=m("./src/core/events/Events.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/core/Debug.js"),l=m("./src/streaming/utils/InitCache.js"),f=m("./src/streaming/vo/DashJSError.js"),d=m("./src/core/errors/Errors.js"),_=m("./src/streaming/vo/metrics/HTTPRequest.js"),L=m("./src/streaming/MediaPlayerEvents.js"),O=.01,v="BufferController";function p(y){y=y||{};var z,ie,oe,ye,J,fe,ae,pe,he,de,ve,se,Se,ge,ne,X,F,V,g=this.context,A=Object(P.default)(g).getInstance(),E=y.errHandler,N=y.fragmentModel,G=y.representationController,ee=y.adapter,Z=y.textController,le=y.abrController,H=y.playbackController,W=y.streamInfo,x=y.type,Y=y.settings;function q(He){fe=He}function K(He){return ee.convertRepresentationToRepresentationInfo(G.getRepresentationForQuality(He))}function $(He,Fe,qe){var ft=K(qe);return Fe&&Fe[x]&&(x===M.default.VIDEO||x===M.default.AUDIO)?he.initializeForStreamSwitch(He,ft,Fe[x]):he.initializeForFirstUse(W,He,ft)}function ce(He){Y.get().streaming.cacheInitSegments&&(ie.info("Init fragment finished loading saving to",x+"'s init cache"),ne.save(He.chunk)),ie.debug("Append Init fragment",x," with representationId:",He.chunk.representationId," and quality:",He.chunk.quality,", data size:",He.chunk.bytes.byteLength),we(He.chunk)}function be(He){we(He.chunk,He.request)}function we(He){he.append(He,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(qe){Re(qe)}).catch(function(qe){Re(qe)}),He.mediaInfo.type===M.default.VIDEO&&At(w.default.VIDEO_CHUNK_RECEIVED,{chunk:He})}function Pe(He){if(He&&He.length>0)for(var Fe=0,qe=He.length;Fe<qe;Fe++)ie.debug("Buffered range: "+He.start(Fe)+" - "+He.end(Fe)+", currentTime = ",H.getTime())}function Re(He){if(He.error)return 22===He.error.code&&function Ce(){if(ge=!0,J=.8*St(),ie.warn("Quota exceeded, Critical Buffer: "+J),J>0){var He=Math.max(.2*J,1),Fe=J-He,qe=Math.min(Y.get().streaming.buffer.bufferTimeAtTopQuality,.9*Fe),ft=Math.min(Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Fe),Ot={streaming:{buffer:{bufferToKeep:parseFloat(He.toFixed(5)),bufferTimeAtTopQuality:parseFloat(qe.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(ft.toFixed(5))}}};Y.update(Ot)}}(),void((22===He.error.code||!Xe())&&(ie.warn("Clearing playback buffer to overcome quota exceed situation"),At(w.default.QUOTA_EXCEEDED,{criticalBufferLevel:J,quotaExceededTime:He.chunk.start}),yt(ut())));if(he&&(Te(),ge=!1,(ve=He.chunk)&&ve.endFragment)){ve&&!isNaN(ve.index)&&(ae=Math.max(ve.index,ae),Le());var Fe=he.getAllBufferRanges();ve.segmentType===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Pe(Fe),wt(),function Ue(){if(!isNaN(V)){if(x!==M.default.AUDIO&&x!==M.default.VIDEO)return void(V=NaN);var He=H.getTime(),Fe=en(He,0),qe=en(V,0);if(Fe&&qe&&Fe.start===qe.start)return void(V=NaN);var ft=G.getCurrentRepresentation().segmentDuration,Ot=en(V,ft);!Ot||(Y.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(He-V)>ft?V<=Ot.end&&H.seek(Math.max(V,Ot.start),!1,!0):He<Ot.start&&H.seek(Ot.start,!1,!0))}}()),ve&&At(w.default.BYTES_APPENDED_END_FRAGMENT,{quality:ve.quality,startTime:ve.start,index:ve.index,bufferedRanges:Fe,segmentType:ve.segmentType,mediaType:x})}}function Je(){return new Promise(function(He,Fe){var qe=nt();if(!qe||0===qe.length)return wt(),void He();yt(qe).then(function(){He()}).catch(function(ft){Fe(ft)})})}function nt(He){var Fe=[],qe=he.getAllBufferRanges();if(!qe||0===qe.length)return Fe;if(!He&&0!==He||isNaN(He))Fe.push({start:qe.start(0),end:qe.end(qe.length-1)+.5});else{var ft=function at(He,Fe){var qe=Y.get().streaming.buffer.bufferToKeep,ft=Fe.start(0);if(He-ft>qe){var Mt=Math.max(0,He-qe),Ke=N.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:He,threshold:O})[0];if(Ke&&(Mt=Math.min(Ke.startTime,Mt)),Mt>0)return{start:ft,end:Mt}}return null}(He,qe),Ot=function ht(He,Fe){var qe=Fe.end(Fe.length-1)+.5,ft=je(He),Mt=W.manifestInfo.duration>=Y.get().streaming.buffer.longFormContentDurationThreshold?Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Y.get().streaming.buffer.bufferTimeAtTopQuality,Ke=isNaN(ft)?He:Math.min(ft,He+Mt);if(Ke>=Fe.end(Fe.length-1))return null;var Et=N.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:He,threshold:O})[0];if(Et&&(Ke=Math.max(Et.startTime+Et.duration,Ke)),Y.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Xt=0;Xt<Fe.length;Xt++)if(Fe.start(Xt)<=He&&He<=Fe.end(Xt)&&Fe.start(Xt)<=Ke&&Ke<=Fe.end(Xt)){var tn=Ke;Ke=Xt+1<Fe.length?Fe.start(Xt+1):Fe.end(Xt)+1,ie.debug("Buffered range ["+Fe.start(Xt)+", "+Fe.end(Xt)+"] overlaps with targetTime "+He+" and range to be pruned ["+tn+", "+qe+"], using ["+Ke+", "+qe+"] instead"+(Ke<qe?"":" (no actual pruning)"));break}return Ke<Fe.end(Fe.length-1)?{start:Ke,end:qe}:null}(He,qe);ft&&Fe.push(ft),Ot&&Fe.push(Ot)}return Fe}function wt(){(!F||x===M.default.TEXT&&Z.isTextEnabled())&&Te()}function Vt(){Ye()}function kt(){Ye(),V=NaN}function en(He,Fe){var Ut,Xt,qe=he.getAllBufferRanges(),ft=0,Ot=0,Mt=null,Ke=null,Et=0,tn=isNaN(Fe)?.15:Fe;if(null!=qe){for(Xt=0,Ut=qe.length;Xt<Ut;Xt++)if(ft=qe.start(Xt),Ot=qe.end(Xt),null===Mt)Et=Math.abs(ft-He),(He>=ft&&He<Ot||Et<=tn)&&(Mt=ft,Ke=Ot);else{if(!((Et=ft-Ke)<=tn))break;Ke=Ot}if(null!==Mt)return{start:Mt,end:Ke}}return null}function Te(){if(H){var He=Y.get().streaming.gaps.jumpGaps&&!isNaN(Y.get().streaming.gaps.smallGapLimit)?Y.get().streaming.gaps.smallGapLimit:NaN;ye=Math.max(function De(He,Fe){var qe;return Y.get().streaming.gaps.jumpGaps&&(Fe=Y.get().streaming.gaps.smallGapLimit),null===(qe=en(He,Fe))?0:qe.end-He}(H.getTime()||0,He),0),At(w.default.BUFFER_LEVEL_UPDATED,{mediaType:x,bufferLevel:ye}),Ye()}}function Le(){var He=ae>=pe-1,Fe=H.getTimeToStreamEnd(W)-ye<1e-5;(He||Fe)&&!oe&&(Ae(!0),ie.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(W.id," and type ").concat(x)))}function Ye(){x!==M.default.AUDIO&&x!==M.default.VIDEO||((!H.getLowLatencyModeEnabled()&&ye<Y.get().streaming.buffer.stallThreshold||0===ye)&&!oe?st(T.default.BUFFER_EMPTY):(oe||ye>=Y.get().streaming.buffer.stallThreshold||H.getLowLatencyModeEnabled()&&ye>0)&&st(T.default.BUFFER_LOADED))}function st(He){de===He||He===T.default.BUFFER_EMPTY&&0===H.getTime()||x===M.default.TEXT&&!Z.isTextEnabled()||(de=He,At(w.default.BUFFER_LEVEL_STATE_CHANGED,{state:He}),At(He===T.default.BUFFER_LOADED?w.default.BUFFER_LOADED:w.default.BUFFER_EMPTY),ie.debug(He===T.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function tt(){!he||x===M.default.TEXT||oe||yt(ut())}function ut(){var He=[],Fe=he.getAllBufferRanges();if(!Fe||0===Fe.length)return He;var qe=H.getTime(),ft=Math.max(0,qe-Y.get().streaming.buffer.bufferToKeep),Ot=N.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:qe,threshold:O})[0];if(Ot)ft=Math.min(Ot.startTime,ft);else if(0===qe&&H.getIsDynamic())return[];if(Fe.start(0)<=ft){for(var Mt={start:0,end:ft},Ke=0;Ke<Fe.length&&Fe.end(Ke)<=ft;Ke++)Mt.end=Fe.end(Ke);Mt.start<Mt.end&&He.push(Mt)}return He}function yt(He){return new Promise(function(Fe,qe){if(He&&he&&0!==He.length){var ft=[];He.forEach(function(Ot){ft.push(function gt(He){return new Promise(function(Fe,qe){He.resolve=Fe,He.reject=qe,X.push(He)})}(Ot))}),Se||ke(),Promise.all(ft).then(function(){Fe()}).catch(function(Ot){qe(Ot)})}else Fe()})}function ke(){try{if(0===X.length||!he)return ie.debug("Nothing to prune, halt pruning"),X=[],void(Se=!1);var He=he.getBuffer();if(!He||!He.buffered||0===He.buffered.length)return ie.debug("SourceBuffer is empty (or does not exist), halt pruning"),X=[],void(Se=!1);var Fe=X.shift();ie.debug("".concat(x,": Removing buffer from: ").concat(Fe.start," to ").concat(Fe.end)),Se=!0,H.getTime()<Fe.end&&Ae(!1),he.remove(Fe).then(function(ft){Ze(ft)}).catch(function(ft){Ze(ft)})}catch{Se=!1}}function Ze(He){ie.debug("onRemoved buffer from:",He.from,"to",He.to),Pe(he.getAllBufferRanges()),0===X.length&&(Se=!1,Te()),He.unintended&&(ie.warn("Detected unintended removal from:",He.from,"to",He.to,"setting streamprocessor time to",He.from),At(w.default.SEEK_TARGET,{time:He.from})),Se?ke():(F?F=!1:Te(),At(w.default.BUFFER_CLEARED,{from:He.from,to:He.to,unintended:He.unintended,hasEnoughSpaceToAppend:Xe(),quotaExceeded:ge}))}function rt(He){return new Promise(function(Fe){He&&void 0!==He.MSETimeOffset&&he&&he.updateTimestampOffset?he.updateTimestampOffset(He.MSETimeOffset).then(function(){Fe()}).catch(function(){Fe()}):Fe()})}function mt(){return he&&!oe?he.updateAppendWindow(W):Promise.resolve()}function Pt(){++se*(Y.get().streaming.wallclockTimeUpdateInterval/1e3)>=Y.get().streaming.buffer.bufferPruningInterval&&(se=0,tt())}function Bt(){Ye()}function Ae(He){oe!==He&&((oe=He)?At(w.default.BUFFERING_COMPLETED):pe=Number.POSITIVE_INFINITY)}function St(){try{var qe,ft,He=he.getAllBufferRanges(),Fe=0;if(!He)return Fe;for(ft=0,qe=He.length;ft<qe;ft++)Fe+=He.end(ft)-He.start(ft);return Fe}catch{return 0}}function je(He){try{var Fe=He,qe=he.getAllBufferRanges();if(!qe||0===qe.length)return NaN;for(var ft=0;Fe===He&&ft<qe.length;){var Ot=qe.start(ft),Mt=qe.end(ft);Fe>=Ot&&Fe<=Mt&&(Fe=Mt),ft+=1}return Fe===He?NaN:Fe}catch{}}function Xe(){var He=St();return isNaN(He)||He<J}function At(He,Fe){A.trigger(He,Fe||{},{streamId:W.id,mediaType:x})}function sn(He,Fe){if(J=Number.POSITIVE_INFINITY,de=void 0,pe=Number.POSITIVE_INFINITY,ae=0,ve=null,oe=!1,Se=!1,ge=!1,ye=0,se=0,X=[],V=NaN,he){var qe=he;he=null,!He&&!Fe&&qe.abort().then(function(){qe.reset(Fe),qe=null})}F=!1}return z={initialize:function B(He){q(He),A.on(w.default.INIT_FRAGMENT_LOADED,ce,z),A.on(w.default.MEDIA_FRAGMENT_LOADED,be,z),A.on(w.default.WALLCLOCK_TIME_UPDATED,Pt,z),A.on(L.default.PLAYBACK_PLAYING,kt,z),A.on(L.default.PLAYBACK_PROGRESS,wt,z),A.on(L.default.PLAYBACK_TIME_UPDATED,wt,z),A.on(L.default.PLAYBACK_RATE_CHANGED,Bt,z),A.on(L.default.PLAYBACK_STALLED,Vt,z)},getStreamId:function te(){return W.id},getType:function me(){return x},getBufferControllerType:function Ee(){return v},createBufferSink:function j(He){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(qe,ft){if(ne&&He&&fe){var Ot=le.getQualityFor(x,W.id);he=Object(R.default)(g).create({mediaSource:fe,textController:Z,eventBus:A}),$(He,Fe,Ot).then(function(){return rt(K(Ot))}).then(function(){qe(he)}).catch(function(Mt){ie.fatal("Caught error on create SourceBuffer: "+Mt),E.error(new f.default(d.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,d.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+x)),ft(Mt)})}else qe(null)})},getBuffer:function mn(){return he},getBufferLevel:function un(){return ye},getRangeAt:en,hasBufferAtTime:function zt(He){try{var Fe=he.getAllBufferRanges();if(!Fe||0===Fe.length)return!1;for(var qe=0;qe<Fe.length;){var ft=Fe.start(qe),Ot=Fe.end(qe);if(He>=ft&&He<=Ot)return!0;qe+=1}return!1}catch(Mt){return ie.error(Mt),!1}},pruneBuffer:tt,setMediaSource:q,getMediaSource:function Nn(){return fe},appendInitSegmentFromCache:function ue(He){var Fe=ne.extract(W.id,He);return!!Fe&&(ie.info("Append Init fragment",x," with representationId:",Fe.representationId," and quality:",Fe.quality,", data size:",Fe.bytes.byteLength),we(Fe),!0)},getIsBufferingCompleted:function er(){return oe},setIsBufferingCompleted:Ae,getIsPruningInProgress:function it(){return Se},reset:function Yt(He,Fe){A.off(w.default.INIT_FRAGMENT_LOADED,ce,this),A.off(w.default.MEDIA_FRAGMENT_LOADED,be,this),A.off(w.default.WALLCLOCK_TIME_UPDATED,Pt,this),A.off(L.default.PLAYBACK_PLAYING,kt,this),A.off(L.default.PLAYBACK_PROGRESS,wt,this),A.off(L.default.PLAYBACK_TIME_UPDATED,wt,this),A.off(L.default.PLAYBACK_RATE_CHANGED,Bt,this),A.off(L.default.PLAYBACK_STALLED,Vt,this),sn(He,Fe)},prepareForPlaybackSeek:function Oe(){return oe&&Ae(!1),he.abort()},prepareForReplacementTrackSwitch:function Ge(He){return new Promise(function(Fe,qe){he.abort().then(function(){return mt()}).then(function(){return Y.get().streaming.buffer.useChangeTypeForTrackSwitch?he.changeType(He):Promise.resolve()}).then(function(){return Je()}).then(function(){Ae(!1),Fe()}).catch(function(ft){qe(ft)})})},prepareForNonReplacementTrackSwitch:function $e(He){return new Promise(function(Fe,qe){mt().then(function(){return Y.get().streaming.buffer.useChangeTypeForTrackSwitch?he.changeType(He):Promise.resolve()}).then(function(){Fe()}).catch(function(ft){qe(ft)})})},prepareForReplacementQualitySwitch:function Ne(){return new Promise(function(He,Fe){he.abort().then(function(){return mt()}).then(function(){return Je()}).then(function(){Ae(!1),He()}).catch(function(qe){Fe(qe)})})},updateAppendWindow:mt,getAllRangesWithSafetyFactor:nt,getContinuousBufferTimeForTargetTime:je,clearBuffers:yt,pruneAllSafely:Je,updateBufferTimestampOffset:rt,setSeekTarget:function ct(He){V=He},segmentRequestingCompleted:function Dt(He){isNaN(He)||(pe=He,Le())}},function re(){ie=Object(c.default)(g).getInstance().getLogger(z),ne=Object(l.default)(g).getInstance(),sn()}(),z}p.__dashjs_factory_name=v,U.default=D.default.getClassFactory(p)},"./src/streaming/controllers/CatchupController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/core/EventBus.js"),R=m("./src/streaming/constants/Constants.js"),P=m("./src/streaming/MediaPlayerEvents.js"),w=m("./src/core/events/Events.js"),D=m("./src/streaming/constants/MetricsConstants.js"),c=m("./src/core/Utils.js");function l(){var _,L,S,O,b,v,p,y,g,A,f=this.context,d=Object(I.default)(f).getInstance();function H(){L=!1;var se=c.default.parseUserAgent();S=se&&se.browser&&se.browser.name&&"safari"===se.browser.name.toLowerCase()}function W(){L=!1}function x(se){if(se.streamId===v.getActiveStreamInfo().id&&g){var Se=p.getLiveDelay();p.getBufferLevel()>Se/2&&(g=!1)}}function Y(se){se.streamId===v.getActiveStreamInfo().id&&(g=se.state===D.default.BUFFER_EMPTY)}function z(){y.getCatchupModeEnabled()||O.setPlaybackRate(1)}function ie(){p.getIsDynamic()&&y.getCatchupModeEnabled()&&(y.getCatchupPlaybackRates().max>0||y.getCatchupPlaybackRates().min<0)&&!p.isPaused()&&!p.isSeeking()&&function J(){try{return!(!p.getTime()>0||L)&&(fe()===R.default.LIVE_CATCHUP_MODE_LOLP?function pe(se,Se){try{return Math.abs(ye())>0||se<Se}catch{return!1}}(p.getBufferLevel(),b.get().streaming.liveCatchup.playbackBufferMin):function ae(){try{return Math.abs(ye())>0}catch{return!1}}())}catch{return!1}}()&&function oe(){if(!L&&O){var se,Se=O.getPlaybackRate(),ge=y.getCatchupPlaybackRates(),ne=p.getBufferLevel(),X=ye(),F=y.getCatchupMaxDrift();if(!isNaN(F)&&F>0&&X>F)A.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),L=!0,p.seekToCurrentLive(!0,!1);else{var V=p.getCurrentLiveLatency(),re=p.getLiveDelay();se=fe()===R.default.LIVE_CATCHUP_MODE_LOLP?function de(se,Se,ge,ne,X){var F;if(X<ne){var V=Math.abs(se.min),te=2*V/(1+Math.pow(Math.E,-5*(X-ne)));A.debug("[LoL+ playback control_buffer-based] bufferLevel: "+X+", newRate: "+(F=1-V+te))}else{var me=se.max,Ee=.02;F=Math.abs(Se-ge)<=Ee*ge?1:1-me+2*me/(1+Math.pow(Math.E,-5*(Se-ge))),A.debug("[LoL+ playback control_latency-based] latency: "+Se+", newRate: "+F)}return F}(ge,V,re,b.get().streaming.liveCatchup.playbackBufferMin,ne):function he(se,Se,ge,ne){if(g)return 1;var X=Se-ge,F=X<0?Math.abs(se.min):se.max,B=1-F+2*F/(1+Math.pow(Math.E,-5*X));return p.getPlaybackStalled()&&ne<=ge/2&&X>0&&(B=1),B}(ge,V,re,ne);var te=S?.25:.02/(.5/ge.max);se&&Math.abs(Se-se)>=te&&(A.debug("[CatchupController]: Setting playback rate to ".concat(se)),O.setPlaybackRate(se))}}}()}function ye(){return p.getCurrentLiveLatency()-p.getLiveDelay()}function fe(){var se=b.get().streaming.liveCatchup.playbackBufferMin;return b.get().streaming.liveCatchup.mode!==R.default.LIVE_CATCHUP_MODE_LOLP||null===se||isNaN(se)?R.default.LIVE_CATCHUP_MODE_DEFAULT:R.default.LIVE_CATCHUP_MODE_LOLP}function ve(){y.getCatchupPlaybackRates(!0)}return _={reset:function le(){(function ee(){d.off(P.default.BUFFER_LEVEL_UPDATED,x,_),d.off(P.default.BUFFER_LEVEL_STATE_CHANGED,Y,_),d.off(P.default.PLAYBACK_PROGRESS,ie,_),d.off(P.default.PLAYBACK_TIME_UPDATED,ie,_),d.off(P.default.PLAYBACK_SEEKED,ie,_),d.off(w.default.SETTING_UPDATED_CATCHUP_ENABLED,z,_),d.off(w.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ve,_),d.off(w.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ve,_),d.off(P.default.STREAM_INITIALIZED,ve,_)})(),H(),O.setPlaybackRate(1,!0)},setConfig:function N(se){!se||(se.settings&&(b=se.settings),se.videoModel&&(O=se.videoModel),se.streamController&&(v=se.streamController),se.playbackController&&(p=se.playbackController),se.mediaPlayerModel&&(y=se.mediaPlayerModel))},initialize:function E(){(function G(){d.on(P.default.BUFFER_LEVEL_UPDATED,x,_),d.on(P.default.BUFFER_LEVEL_STATE_CHANGED,Y,_),d.on(P.default.PLAYBACK_PROGRESS,ie,_),d.on(P.default.PLAYBACK_TIME_UPDATED,ie,_),d.on(P.default.PLAYBACK_SEEKED,W,_),d.on(w.default.SETTING_UPDATED_CATCHUP_ENABLED,z,_),d.on(w.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ve,_),d.on(w.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ve,_),d.on(P.default.STREAM_INITIALIZED,ve,_)})(),ve()}},function Z(){A=Object(T.default)(f).getInstance().getLogger(_),H()}(),_}l.__dashjs_factory_name="CatchupController",U.default=M.default.getSingletonFactory(l)},"./src/streaming/controllers/EventController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/core/EventBus.js"),R=m("./src/streaming/MediaPlayerEvents.js"),P=m("./src/streaming/net/XHRLoader.js");function w(){var O,b,v,p,y,g,A,E,N,G,ee,D="urn:mpeg:dash:event:2012",__DISCARDED="discarded",__UPDATED="updated",__ADDED="added",L=this.context,S=Object(I.default)(L).getInstance();function le(){if(!A||!E)throw new Error("setConfig function has to be called previously")}function H(){ee=!1,v={},p={},y=null,G=!1,g=Date.now()/1e3}function W(){try{null!==y&&ee&&(clearInterval(y),y=null,ee=!1,function ae(){try{pe(p),pe(v)}catch(B){b.error(B)}}())}catch(B){throw B}}function Y(){try{if(!G){G=!0;var B=E.getTime(),te=B-g;te=g>0?Math.max(0,te):0,z(p,te,B),z(v,te,B),ie(p),ie(v),g=B,G=!1}}catch(me){G=!1,b.error(me)}}function z(B,te,me){try{he(B,function(K){if(void 0!==K){var j=isNaN(K.duration)?0:K.duration;K.calculatedPresentationTime<=me&&K.calculatedPresentationTime+te+j>=me?se(K,R.default.EVENT_MODE_ON_START):(de(me,j+te,K.calculatedPresentationTime)||function ve(B){try{return B.calculatedPresentationTime>B.eventStream.period.start+B.eventStream.period.duration}catch(me){return b.error(me),!1}}(K))&&(b.debug("Removing event ".concat(K.id," from period ").concat(K.eventStream.period.id," as it is expired or invalid")),function Se(B,te){try{var me=te.eventStream.schemeIdUri,Ee=te.eventStream.period.id,q=te.eventStream.value,K=te.id;B[Ee][me]=B[Ee][me].filter(function(j){return q&&j.eventStream.value&&j.eventStream.value!==q||j.id!==K}),0===B[Ee][me].length&&delete B[Ee][me]}catch(j){b.error(j)}}(B,K))}})}catch(q){b.error(q)}}function ie(B){try{for(var te in B)B.hasOwnProperty(te)&&0===Object.keys(B[te]).length&&delete B[te]}catch(me){b.error(me)}}function J(B,te){var me=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Ee=B.eventStream.schemeIdUri,q=B.eventStream.value,K=B.id,j=__DISCARDED;te[Ee]||(te[Ee]=[]);var $=te[Ee].findIndex(function(ue){return(!q||ue.eventStream.value&&ue.eventStream.value===q)&&ue.id===K});if(-1===$)te[Ee].push(B),B.triggeredReceivedEvent=!1,B.triggeredStartEvent=!1,j=__ADDED;else if(me){var ce=te[Ee][$];B.triggeredReceivedEvent=ce.triggeredReceivedEvent,B.triggeredStartEvent=ce.triggeredStartEvent,te[Ee][$]=B,j=__UPDATED}return j}function fe(B){try{1==B.eventStream.value&&S.trigger(R.default.MANIFEST_VALIDITY_CHANGED,{id:B.id,validUntil:B.calculatedPresentationTime,newDuration:4294967295==B.calculatedPresentationTime?NaN:B.calculatedPresentationTime+B.duration,newManifestValidAfter:NaN},{mode:R.default.EVENT_MODE_ON_START})}catch(Ee){b.error(Ee)}}function pe(B){try{var te=E.getTime();he(B,function(q){var K=q.eventStream&&q.eventStream.period&&!isNaN(q.eventStream.period.duration)?q.eventStream.period.duration:NaN,j=q.eventStream&&q.eventStream.period&&!isNaN(q.eventStream.period.start)?q.eventStream.period.start:NaN;isNaN(K)||isNaN(j)||Math.abs(q.calculatedPresentationTime-te)<300&&se(q,R.default.EVENT_MODE_ON_START)})}catch(Ee){b.error(Ee)}}function he(B,te){try{if(B)for(var me=Object.keys(B),Ee=0;Ee<me.length;Ee++)for(var q=B[me[Ee]],K=Object.keys(q),j=0;j<K.length;j++)q[K[j]].forEach(function(ce){void 0!==ce&&te(ce)})}catch(ce){b.error(ce)}}function de(B,te,me){try{return B-te>me}catch(Ee){return b.error(Ee),!1}}function se(B,te){try{var me=E.getTime(),Ee=B.id;if(te===R.default.EVENT_MODE_ON_RECEIVE&&!B.triggeredReceivedEvent)return b.debug("Received event ".concat(Ee)),B.triggeredReceivedEvent=!0,void S.trigger(B.eventStream.schemeIdUri,{event:B},{mode:te});B.triggeredStartEvent||(B.eventStream.schemeIdUri===D&&1==B.eventStream.value?(0!==B.duration||0!==B.presentationTimeDelta)&&(b.debug("Starting manifest refresh event ".concat(Ee," at ").concat(me)),function ge(){try{le(),A.refreshManifest()}catch(B){b.error(B)}}()):"urn:mpeg:dash:event:callback:2015"===B.eventStream.schemeIdUri&&1==B.eventStream.value?(b.debug("Starting callback event ".concat(Ee," at ").concat(me)),function ne(B){try{Object(P.default)(L).create({}).load({method:"get",url:B,request:{responseType:"arraybuffer"}})}catch(me){b.error(me)}}(B.messageData)):(b.debug("Starting event ".concat(Ee," from period ").concat(B.eventStream.period.id," at ").concat(me)),S.trigger(B.eventStream.schemeIdUri,{event:B},{mode:te})),B.triggeredStartEvent=!0)}catch(q){b.error(q)}}return O={addInlineEvents:function oe(B,te){try{if(le(),v[te]||(v[te]={}),B)for(var me=0;me<B.length;me++){var Ee=B[me];if(!de(E.getTime(),isNaN(Ee.duration)?0:Ee.duration,Ee.calculatedPresentationTime)){var j=J(Ee,v[te],!0);j===__ADDED?(b.debug("Added inline event with id ".concat(Ee.id," from period ").concat(te)),se(Ee,R.default.EVENT_MODE_ON_RECEIVE)):j===__UPDATED&&b.debug("Updated inline event with id ".concat(Ee.id," from period ").concat(te))}}}catch($){throw $}},addInbandEvents:function ye(B,te){try{le(),p[te]||(p[te]={});for(var me=0;me<B.length;me++){var Ee=B[me];de(E.getTime(),isNaN(Ee.duration)?0:Ee.duration,Ee.calculatedPresentationTime)||(J(Ee,p[te],!1)===__ADDED?(Ee.eventStream.schemeIdUri===D&&fe(Ee),b.debug("Added inband event with id ".concat(Ee.id," from period ").concat(te)),se(Ee,R.default.EVENT_MODE_ON_RECEIVE)):b.debug("Inband event with scheme_id_uri ".concat(Ee.eventStream.schemeIdUri,", value ").concat(Ee.eventStream.value,", period id ").concat(te," and event id ").concat(Ee.id," was ignored because it has been added before.")))}Y()}catch($){throw $}},getInbandEvents:function V(){return p},getInlineEvents:function F(){return v},start:function x(){try{le(),b.debug("Start Event Controller");var B=N.get().streaming.eventControllerRefreshDelay;!ee&&!isNaN(B)&&(ee=!0,y=setInterval(Y,B))}catch(te){throw te}},setConfig:function X(B){try{if(!B)return;B.manifestUpdater&&(A=B.manifestUpdater),B.playbackController&&(E=B.playbackController),B.settings&&(N=B.settings)}catch(te){throw te}},reset:function re(){W(),H()}},function Z(){b=Object(T.default)(L).getInstance().getLogger(O),H()}(),O}w.__dashjs_factory_name="EventController",U.default=M.default.getSingletonFactory(w)},"./src/streaming/controllers/FragmentController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/vo/DataChunk.js"),I=m("./src/streaming/models/FragmentModel.js"),R=m("./src/streaming/FragmentLoader.js"),P=m("./src/streaming/utils/RequestModifier.js"),w=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js"),c=m("./src/streaming/MediaPlayerEvents.js"),l=m("./src/core/errors/Errors.js"),f=m("./src/core/FactoryMaker.js"),d=m("./src/core/Debug.js");function _(L){L=L||{};var A,E,N,S=this.context,O=Object(w.default)(S).getInstance(),b=L.errHandler,v=L.mediaPlayerModel,p=L.dashMetrics,y=Object(d.default)(S).getInstance(),g=L.streamInfo;function ee(){return g.id}function le(){for(var Y in N)N[Y].reset();N={}}function x(Y){if(Y.sender){var z=Y.request,ie=Y.response,oe=z.isInitializationRequest(),ye=z.mediaInfo.streamInfo;if(Y.error&&(z.mediaType===M.default.AUDIO||z.mediaType===M.default.VIDEO||z.mediaType===M.default.TEXT&&z.mediaInfo.isFragmented)&&O.trigger(D.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Y.request.serviceLocation}),!ie||!ye)return void E.warn("No "+z.mediaType+" bytes to push or stream is inactive.");var J=function W(Y,z,ie,oe){var ye=new T.default;return ye.streamId=ie,ye.mediaInfo=z.mediaInfo,ye.segmentType=z.type,ye.start=z.startTime,ye.duration=z.duration,ye.end=ye.start+ye.duration,ye.bytes=Y,ye.index=z.index,ye.quality=z.quality,ye.representationId=z.representationId,ye.endFragment=oe,ye}(ie,z,g.id,Y.type!==D.default.FRAGMENT_LOADING_PROGRESS);O.trigger(oe?D.default.INIT_FRAGMENT_LOADED:D.default.MEDIA_FRAGMENT_LOADED,{chunk:J,request:z},{streamId:ye.id,mediaType:z.mediaType})}}return A={getStreamId:ee,getModel:function Z(Y){var z=N[Y];return z||(z=Object(I.default)(S).create({streamInfo:g,type:Y,dashMetrics:p,fragmentLoader:Object(R.default)(S).create({dashMetrics:p,mediaPlayerModel:v,errHandler:b,requestModifier:Object(P.default)(S).getInstance(),settings:L.settings,boxParser:L.boxParser,eventBus:O,events:D.default,errors:l.default,dashConstants:L.dashConstants,urlUtils:L.urlUtils,streamId:ee()}),debug:y,eventBus:O,events:D.default}),N[Y]=z),z},reset:function H(){O.off(c.default.FRAGMENT_LOADING_COMPLETED,x,this),O.off(c.default.FRAGMENT_LOADING_PROGRESS,x,this),le()}},function G(){E=y.getLogger(A),le(),O.on(c.default.FRAGMENT_LOADING_COMPLETED,x,A),O.on(c.default.FRAGMENT_LOADING_PROGRESS,x,A)}(),A}_.__dashjs_factory_name="FragmentController",U.default=f.default.getClassFactory(_)},"./src/streaming/controllers/GapController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/core/events/Events.js"),R=m("./src/core/EventBus.js"),P=m("./src/streaming/constants/Constants.js");function l(){var _,L,S,O,b,v,p,y,g,A,E,N,f=this.context,d=Object(R.default)(f).getInstance();function Z(){(function de(){N.debug("Stopping the gap controller"),b&&(clearInterval(b),b=null)})(),function x(){d.off(I.default.WALLCLOCK_TIME_UPDATED,ye,this),d.off(I.default.INITIAL_STREAM_SWITCH,oe,this),d.off(I.default.PLAYBACK_SEEKING,Y,this),d.off(I.default.BUFFER_REPLACEMENT_STARTED,z,_),d.off(I.default.TRACK_CHANGE_RENDERED,ie,_)}(),function le(){b=null,v=NaN,O=0,A=null,E={}}()}function Y(){A&&(clearTimeout(A),A=null)}function z(se){try{if(se.streamId!==y.getActiveStreamInfo().id||se.mediaType!==P.default.VIDEO&&se.mediaType!==P.default.AUDIO)return;se.streamId===y.getActiveStreamInfo().id&&(E[se.mediaType]=!0)}catch(Se){N.error(Se)}}function ie(se){!se||!se.mediaType||(E[se.mediaType]=!1)}function oe(){b||function he(){try{b||(N.debug("Starting the gap controller"),b=setInterval(function(){J()&&ve(p.getTime())},100))}catch{}}()}function ye(){if(J(S.get().streaming.gaps.enableSeekFix)&&++O>=10){var se=p.getTime();L===se?ve(se,!0):(L=se,v=NaN),O=0}}function J(){var se=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!y.getActiveStream())return!1;var Se=Object.keys(E).some(function(ne){return E[ne]}),ge=!!se&&fe();return!Se&&S.get().streaming.gaps.jumpGaps&&y.getActiveStreamProcessors().length>0&&(!p.isSeeking()||ge)&&!p.isPaused()&&!y.getIsStreamSwitchInProgress()&&!y.getHasMediaOrInitialisationError()}function fe(){var se=y.getActiveStream(),Se=parseFloat((se.getStartTime()+se.getDuration()).toFixed(5));return p.getTime()+S.get().streaming.gaps.threshold>=Se}function ae(se,Se){try{if(!se||se.length<=1&&Se>0)return NaN;for(var ge=NaN,ne=0;isNaN(ge)&&ne<se.length;){var X=ne>0?se.end(ne-1):0;Se<se.start(ne)&&X-Se<S.get().streaming.gaps.threshold&&(ge=ne),ne+=1}return ge}catch{return null}}function pe(se,Se){for(var ge=0,ne=se.length;ge<ne;ge++)if(Se>=se.start(ge)&&Se<=se.end(ge))return!0;return!1}function ve(se){var re,Se=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ge=S.get().streaming.gaps.enableStallFix,ne=S.get().streaming.gaps.stallSeek,X=S.get().streaming.gaps.smallGapLimit,F=S.get().streaming.gaps.jumpLargeGaps,V=g.getBufferRange(),B=NaN,te=!1;if(re=ae(V,se),!isNaN(re)){var me=V.start(re),Ee=me-se;Ee>0&&(Ee<=X||F)&&(B=me)}var q=p.getTimeToStreamEnd();if(isNaN(B)&&Se&&isFinite(q)&&!isNaN(q)&&q<X&&(B=parseFloat(p.getStreamEndTime().toFixed(5)),te=!0),ge&&isNaN(B)&&Se&&isNaN(re)&&pe(V,se)&&(0===ne?(N.warn("Toggle play pause to break stall"),g.pause(),g.play()):(N.warn("Jumping ".concat(ne,"s to break stall")),B=se+ne)),B>0&&v!==B&&B>se&&!A){var K=B-se;if(te){var j=y.getStreamForTime(B),$=j&&!!j.getPreloaded();N.warn("Jumping to end of stream because of gap from ".concat(se," to ").concat(B,". Gap duration: ").concat(K)),p.seek(B,!0,$)}else{var ce=p.getIsDynamic(),ue=re>0?V.end(re-1):se,be=ce?1e3*Math.max(0,K-.1):0;A=window.setTimeout(function(){p.seek(B,!0,!0),N.warn("Jumping gap occuring in period ".concat(y.getActiveStream().getStreamId()," starting at ").concat(ue," and ending at ").concat(B,". Jumping by: ").concat(B-ue)),A=null},be)}v=B}}return _={reset:Z,setConfig:function H(se){!se||(se.settings&&(S=se.settings),se.playbackController&&(p=se.playbackController),se.streamController&&(y=se.streamController),se.videoModel&&(g=se.videoModel))},initialize:function G(){!function W(){d.on(I.default.WALLCLOCK_TIME_UPDATED,ye,this),d.on(I.default.INITIAL_STREAM_SWITCH,oe,this),d.on(I.default.PLAYBACK_SEEKING,Y,this),d.on(I.default.BUFFER_REPLACEMENT_STARTED,z,_),d.on(I.default.TRACK_CHANGE_RENDERED,ie,_)}()}},function ee(){N=Object(T.default)(f).getInstance().getLogger(_),Z()}(),_}l.__dashjs_factory_name="GapController",U.default=M.default.getSingletonFactory(l)},"./src/streaming/controllers/MediaController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/EventBus.js"),R=m("./src/core/FactoryMaker.js"),P=m("./src/core/Debug.js"),w=m("./node_modules/bcp-47-normalize/index.js"),D=m.n(w),c=m("./node_modules/bcp-47-match/index.js");function f(){var S,O,b,v,p,y,g,A,_=this.context,L=Object(I.default)(_).getInstance();function ee(j,$){return j&&b[$]&&b[$][j]?b[$][j].list:[]}function Z(j,$){return j&&b[$]&&b[$][j]?b[$][j].current:null}function H(j){var $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(j&&j.streamInfo){var ce=j.type,be=j.streamInfo.id,we=Z(ce,be);if(b[be]&&b[be][ce]&&(b[be][ce].current=j,b[be][ce].current&&(ce!==M.default.TEXT&&!ie(j,we)||ce===M.default.TEXT&&j.isFragmented)&&L.trigger(T.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:we,newMediaInfo:j,switchMode:v.get().streaming.trackSwitchMode[ce]},{streamId:be}),!$)){var Pe=J(j);if(!Pe||!b[be][ce].storeLastSettings)return;Pe.roles&&(Pe.role=Pe.roles[0],delete Pe.roles),Pe.accessibility&&(Pe.accessibility=Pe.accessibility[0]),Pe.audioChannelConfiguration&&(Pe.audioChannelConfiguration=Pe.audioChannelConfiguration[0]),y[ce]=Pe,A.setSavedMediaSettings(ce,Pe)}}}function W(j,$){!j||!$||(p[j]=$)}function x(j){return j?p[j]:null}function ie(j,$){if(!j&&!$)return!0;if(!j||!$)return!1;var ce=j.id===$.id,ue=j.viewpoint===$.viewpoint,be=j.lang===$.lang,we=j.codec===$.codec,Pe=j.roles.toString()===$.roles.toString(),Re=j.accessibility.toString()===$.accessibility.toString(),Ue=j.audioChannelConfiguration.toString()===$.audioChannelConfiguration.toString();return ce&&we&&ue&&be&&Pe&&Re&&Ue}function ye(){b={},y={},function ge(){p={audio:null,video:null,text:null}}()}function J(j){var $={lang:j.lang,viewpoint:j.viewpoint,roles:j.roles,accessibility:j.accessibility,audioChannelConfiguration:j.audioChannelConfiguration};return $.lang||$.viewpoint||$.role&&$.role.length>0||$.accessibility&&$.accessibility.length>0||$.audioChannelConfiguration&&$.audioChannelConfiguration.length>0?$:null}function fe(j,$,ce){var ue=[];return j.forEach(function(be){$(ce,be)&&ue.push(be)}),0!==ue.length?ue:j}function ae(j,$){return!j.lang||j.lang instanceof RegExp?$.lang.match(j.lang):""!==$.lang&&Object(c.extendedFilter)($.lang,D()(j.lang)).length>0}function pe(j,$){return null==j.index||$.index===j.index}function he(j,$){return!j.viewpoint||j.viewpoint===$.viewpoint}function de(j,$){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!j.role||!!$.roles.filter(function(be){return be===j.role})[0]||$.type===M.default.AUDIO&&ce}function ve(j,$){return j.accessibility?!!$.accessibility.filter(function(ue){return ue===j.accessibility})[0]:!$.accessibility.length}function se(j,$){return!j.audioChannelConfiguration||!!$.audioChannelConfiguration.filter(function(ue){return ue===j.audioChannelConfiguration})[0]}function X(j){var ue,$=0,ce=[];return j.forEach(function(be){(ue=Math.max.apply(Math,be.bitrateList.map(function(we){return we.bandwidth})))>$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function F(j){var ue,$=1/0,ce=[];return j.forEach(function(be){var we=be.bitrateList.reduce(function(Pe,Re){var Ue=Math.max(1,Re.width*Re.height);return Pe+Re.bandwidth/Ue},0);(ue=we/be.bitrateList.length)<$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function V(j){var ue,$=0,ce=[];return j.forEach(function(be){(ue=be.representationCount)>$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function re(j,$){if(j===M.default.TEXT)return $[0];var ue,ce=v.get().streaming.selectionModeForInitialTrack,be=g.getCustomInitialTrackSelectionFunction();if(be&&"function"==typeof be)ue=be($);else switch(ce){case M.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ue=function B(j){var $=function ne(j){var $=0,ce=[];return j.forEach(function(ue){isNaN(ue.selectionPriority)||(ue.selectionPriority>$?($=ue.selectionPriority,ce=[ue]):ue.selectionPriority===$&&ce.push(ue))}),ce}(j);return $.length>1&&($=X($)),$.length>1&&($=V($)),$}($);break;case M.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ue=function te(j){var $=X(j);return $.length>1&&($=V($)),$}($);break;case M.default.TRACK_SELECTION_MODE_FIRST_TRACK:ue=me($);break;case M.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ue=function Ee(j){var $=F(j);return $.length>1&&($=X($)),$}($);break;case M.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ue=function q(j){var $=V(j);return $.length>1&&($=X(j)),$}($);break;default:O.warn("Track selection mode ".concat(ce," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ue=me($)}return ue.length>0?ue[0]:$[0]}function me(j){return j[0]}return S={setInitialMediaSettingsForType:function N(j,$){var ce=y[j]||x(j),ue=ee(j,$.id),be=[];ce||W(j,ce=A.getSavedMediaSettings(j)),ue&&0!==ue.length&&(ce&&(be=fe(be=Array.from(ue),ae,ce),be=fe(be,pe,ce),be=fe(be,he,ce),j===M.default.AUDIO&&!!y[j]||(be=fe(be,de,ce)),be=fe(be,ve,ce),be=fe(be,se,ce)),0===be.length?H(re(j,ue),!0):H(be.length>1?re(j,be):be[0]))},addTrack:function G(j){if(j){var $=j.type;if(function z(j){return j===M.default.AUDIO||j===M.default.VIDEO||j===M.default.TEXT||j===M.default.IMAGE}($)){var ce=j.streamInfo.id;b[ce]||(b[ce]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ue=b[ce][$].list,be=0,we=ue.length;be<we;++be)if(ie(ue[be],j))return;ue.push(j)}}},getTracksFor:ee,getCurrentTrackFor:Z,isCurrentTrack:function le(j){if(!j)return!1;var $=j.type,ce=j.streamInfo.id;return b[ce]&&b[ce][$]&&ie(b[ce][$].current,j)},setTrack:H,selectInitialTrack:re,setInitialSettings:W,getInitialSettings:x,getTracksWithHighestBitrate:X,getTracksWithHighestEfficiency:F,getTracksWithWidestRange:V,isTracksEqual:ie,matchSettings:function Se(j,$){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ue=!1;if(j.lang){if(j.lang instanceof RegExp)ue=$.lang.match(j.lang);else if(""!==$.lang){var be=D()(j.lang);be&&(ue=Object(c.extendedFilter)($.lang,be).length>0)}}else ue=!0;var we=null==j.index||$.index===j.index,Pe=!j.viewpoint||j.viewpoint===$.viewpoint,Re=!j.role||!!$.roles.filter(function(Oe){return Oe===j.role})[0],Ue=!j.accessibility||!!$.accessibility.filter(function(Oe){return Oe===j.accessibility})[0],Ce=!j.audioChannelConfiguration||!!$.audioChannelConfiguration.filter(function(Oe){return Oe===j.audioChannelConfiguration})[0];return ue&&we&&Pe&&(Re||$.type===M.default.AUDIO&&ce)&&Ue&&Ce}catch(Oe){return!1}},matchSettingsLang:ae,matchSettingsIndex:pe,matchSettingsViewPoint:he,matchSettingsRole:de,matchSettingsAccessibility:ve,matchSettingsAudioChannelConfig:se,saveTextSettingsDisabled:function Y(){A.setSavedMediaSettings(M.default.TEXT,null)},setConfig:function oe(j){!j||(j.domStorage&&(A=j.domStorage),j.settings&&(v=j.settings),j.customParametersModel&&(g=j.customParametersModel))},reset:ye},function E(){O=Object(P.default)(_).getInstance().getLogger(S),ye()}(),S}f.__dashjs_factory_name="MediaController";var d=R.default.getSingletonFactory(f);R.default.updateSingletonFactory(f.__dashjs_factory_name,d),U.default=d},"./src/streaming/controllers/MediaSourceController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js");function I(){var R,P,w,D=this.context;return R={createMediaSource:function l(){var b="WebKitMediaSource"in window;return"MediaSource"in window?P=new MediaSource:b&&(P=new WebKitMediaSource),P},attachMediaSource:function f(b){var v=window.URL.createObjectURL(P);return b.setSource(v),v},detachMediaSource:function d(b){b.setSource(null)},setDuration:function _(b){!P||"open"!==P.readyState||null===b&&isNaN(b)||P.duration!==b&&(function O(b){for(var v=b.sourceBuffers,p=0;p<v.length;p++)if(v[p].updating)return!0;return!1}(P)?setTimeout(_.bind(null,b),50):(w.info("Set MediaSource duration:"+b),P.duration=b))},setSeekable:function L(b,v){P&&"function"==typeof P.setLiveSeekableRange&&"function"==typeof P.clearLiveSeekableRange&&"open"===P.readyState&&b>=0&&b<v&&(P.clearLiveSeekableRange(),P.setLiveSeekableRange(b,v))},signalEndOfStream:function S(b){if(b&&"open"===b.readyState){for(var v=b.sourceBuffers,p=0;p<v.length;p++)if(v[p].updating||0===v[p].buffered.length)return;w.info("call to mediaSource endOfStream"),b.endOfStream()}}},function c(){w=Object(T.default)(D).getInstance().getLogger(R)}(),R}I.__dashjs_factory_name="MediaSourceController",U.default=M.default.getSingletonFactory(I)},"./src/streaming/controllers/PlaybackController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),R=m("./src/core/FactoryMaker.js"),P=m("./src/core/Debug.js"),w=m("./src/streaming/MediaPlayerEvents.js"),D=m("./src/streaming/constants/MetricsConstants.js");function l(){var _,L,S,O,b,v,p,y,g,A,E,N,G,ee,Z,le,W,x,Y,z,ie,oe,ye,f=this.context,d=Object(T.default)(f).getInstance();function fe(){Se(),ee=!1,A=0,E=0,le=0,ie=!1,W=!1,oe=!1,x=NaN,p&&(d.off(I.default.DATA_UPDATE_COMPLETED,$e,_),d.off(I.default.LOADING_PROGRESS,Dt,_),d.off(I.default.MANIFEST_UPDATED,Nn,_),d.off(I.default.STREAMS_COMPOSED,er,_),d.off(w.default.PLAYBACK_ENDED,yt,_),d.off(w.default.STREAM_INITIALIZING,Bt,_),d.off(w.default.REPRESENTATION_SWITCH,mn,_),d.off(w.default.BUFFER_LEVEL_STATE_CHANGED,at,_),Ne(),function St(){p.removeEventListener("canplay",Je),p.removeEventListener("canplaythrough",nt),p.removeEventListener("play",ht),p.removeEventListener("waiting",wt),p.removeEventListener("playing",Vt),p.removeEventListener("pause",kt),p.removeEventListener("error",gt),p.removeEventListener("seeking",zt),p.removeEventListener("seeked",en),p.removeEventListener("timeupdate",De),p.removeEventListener("progress",Te),p.removeEventListener("ratechange",Le),p.removeEventListener("loadedmetadata",Ye),p.removeEventListener("loadeddata",st),p.removeEventListener("stalled",Pt),p.removeEventListener("ended",tt),p.removeEventListener("volumechange",ut)}()),g=null,p=null,N=null,G=null}function de(){return parseFloat((ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-re()).toFixed(5))}function ve(je){var Xe=je||N;return Xe.start+Xe.duration}function se(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0];N&&p&&p.getElement()?(je&&G&&V(re()),p.play()):ee=!0}function Se(){N&&p&&p.pause()}function ge(je){var Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=arguments.length>3&&void 0!==arguments[3]&&arguments[3];N&&p&&je!==(isNaN(x)?p.getTime():x)&&((Y=!0===ct)||(x=je),L.info("Requesting seek to time: "+je+(Y?" (internal)":"")),G&&At&&V(je),p.setCurrentTime(je,Xe))}function F(){if(N&&p&&G){var je=S&&S.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,Xe=b.getCurrentDVRInfo(je);return Xe&&Xe.range?Xe.range.end:0}}function V(je){var Xe=new Date(y.getClientReferenceTime()),ct=v.getRegularPeriods()[0],At=y.calcPresentationTimeFromWallTime(Xe,ct);A=At-je}function re(){return N&&p?p.getTime():null}function B(){return N&&p?p.isPaused():null}function te(){return N&&p?p.isSeeking():null}function me(){return N&&p?p.isStalled():null}function Ee(){return N&&p?p.getPlaybackRate():null}function K(){return N&&p?p.getEnded():null}function j(){return G}function Ce(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!B()&&G&&0!==p.getReadyState()&&!te()&&!ie){je||(je=S.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO);var Xe=re(),ct=Oe(Xe,je);!isNaN(ct)&&ct!==Xe&&!te()&&(me()||z||1===p.getReadyState())&&(L.debug("UpdateCurrentTime: Seek to actual time: ".concat(ct," from currentTime: ").concat(Xe)),ge(ct,!1,!1))}}function Oe(je,Xe){var ct=b.getCurrentDVRInfo(Xe),At=ct?ct.range:null;return At?je>At.end?Math.max(At.end-A,At.start):je>0&&je+.25<At.start&&Math.abs(je-At.start)<31536e4?W?Math.max(At.end-A,At.start):At.start:je:NaN}function Ge(){null===g&&(g=setInterval(function(){!function ke(){d.trigger(I.default.WALLCLOCK_TIME_UPDATED,{isDynamic:G,time:new Date}),j()&&(S.addDVRMetric(),B()?function Ze(){var je=Date.now();(!Z||je>Z+500)&&(Z=je,De())}():Ce())}()},ye.get().streaming.wallclockTimeUpdateInterval))}function Ne(){clearInterval(g),g=null}function $e(je){var Xe=v.convertRepresentationToRepresentationInfo(je.currentRepresentation),ct=Xe?Xe.mediaInfo.streamInfo:null;null===ct||N.id!==ct.id||(N=ct)}function Je(){d.trigger(I.default.CAN_PLAY)}function nt(){d.trigger(I.default.CAN_PLAY_THROUGH)}function at(je){je.streamId===S.getActiveStreamInfo().id&&(z=je.state===D.default.BUFFER_EMPTY,ye.get().streaming.buffer.setStallState&&p.setStallState(je.mediaType,je.state===D.default.BUFFER_EMPTY))}function ht(){L.info("Native video element event: play"),Ce(),Ge(),d.trigger(I.default.PLAYBACK_STARTED,{startTime:re()})}function wt(){L.info("Native video element event: waiting"),d.trigger(I.default.PLAYBACK_WAITING,{playingTime:re()})}function Vt(){L.info("Native video element event: playing"),Y=!1,d.trigger(I.default.PLAYBACK_PLAYING,{playingTime:re()})}function kt(){L.info("Native video element event: pause"),d.trigger(I.default.PLAYBACK_PAUSED,{ended:K()})}function zt(){if(!Y){var je=re();!isNaN(x)&&x!==je&&(je=x),x=NaN,L.info("Seeking to: "+je),Ge(),d.trigger(I.default.PLAYBACK_SEEKING,{seekTime:je,streamId:N.id})}}function en(){L.info("Native video element event: seeked"),Y=!1,d.trigger(I.default.PLAYBACK_SEEKED)}function De(){N&&d.trigger(I.default.PLAYBACK_TIME_UPDATED,{timeToEnd:de(),time:re(),streamId:N.id})}function Te(){d.trigger(I.default.PLAYBACK_PROGRESS,{streamId:N.id})}function Le(){var je=Ee();L.info("Native video element event: ratechange: ",je),d.trigger(I.default.PLAYBACK_RATE_CHANGED,{playbackRate:je})}function Ye(){L.info("Native video element event: loadedmetadata"),d.trigger(I.default.PLAYBACK_METADATA_LOADED),Ge()}function st(){L.info("Native video element event: loadeddata"),d.trigger(I.default.PLAYBACK_LOADED_DATA)}function tt(){L.info("Native video element event: ended"),Se(),Ne();var je=S?S.getActiveStreamInfo():null;!je||d.trigger(I.default.PLAYBACK_ENDED,{isLast:je.isLast})}function ut(){d.trigger(I.default.PLAYBACK_VOLUME_CHANGED)}function yt(je){if(g&&je.isLast){L.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Xe=je.seekTime?je.seekTime:ve();p.setCurrentTime(Xe),Se(),Ne()}}function gt(je){d.trigger(I.default.PLAYBACK_ERROR,{error:(je.target||je.srcElement).error})}function Dt(je){if(!1===je.stream&&W&&!isNaN(je.request.duration)){var Xe=1.2*je.request.duration;Xe>A&&(L.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Xe.toFixed(2)),A=Xe,E=Xe)}}function Pt(je){d.trigger(I.default.PLAYBACK_STALLED,{e:je})}function Bt(je){!function Ae(je){je&&je.supplementalProperties&&"true"===je.supplementalProperties[M.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(L.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),W=!0)}(je.mediaInfo)}function mn(je){var Xe=S.getActiveStreamInfo();!je||!Xe||!je.currentRepresentation||!je.streamId||je.streamId!==Xe.id||!je.mediaType||je.mediaType!==M.default.VIDEO&&je.mediaType!==M.default.AUDIO||(W=!je.currentRepresentation.availabilityTimeComplete)&&!oe&&(oe=!0)}function Nn(){ie=!0}function er(){ie=!1}return _={initialize:function ae(je,Xe){N=je,!0!==Xe&&function pe(){(function it(){p.addEventListener("canplay",Je),p.addEventListener("canplaythrough",nt),p.addEventListener("play",ht),p.addEventListener("waiting",wt),p.addEventListener("playing",Vt),p.addEventListener("pause",kt),p.addEventListener("error",gt),p.addEventListener("seeking",zt),p.addEventListener("seeked",en),p.addEventListener("timeupdate",De),p.addEventListener("progress",Te),p.addEventListener("ratechange",Le),p.addEventListener("loadedmetadata",Ye),p.addEventListener("loadeddata",st),p.addEventListener("stalled",Pt),p.addEventListener("ended",tt),p.addEventListener("volumechange",ut)})(),G=N.manifestInfo.isDynamic,z=!1,Y=!1,d.on(I.default.DATA_UPDATE_COMPLETED,$e,_),d.on(I.default.LOADING_PROGRESS,Dt,_),d.on(I.default.MANIFEST_UPDATED,Nn,_),d.on(I.default.STREAMS_COMPOSED,er,_),d.on(w.default.PLAYBACK_ENDED,yt,_,{priority:T.default.EVENT_PRIORITY_HIGH}),d.on(w.default.STREAM_INITIALIZING,Bt,_),d.on(w.default.REPRESENTATION_SWITCH,mn,_),d.on(w.default.BUFFER_LEVEL_STATE_CHANGED,at,_),ee&&(ee=!1,se())}()},setConfig:function Ue(je){!je||(je.streamController&&(S=je.streamController),je.serviceDescriptionController&&(O=je.serviceDescriptionController),je.dashMetrics&&(b=je.dashMetrics),je.adapter&&(v=je.adapter),je.videoModel&&(p=je.videoModel),je.timelineConverter&&(y=je.timelineConverter),je.settings&&(ye=je.settings))},getTimeToStreamEnd:de,getBufferLevel:function rt(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Xe=null;return S.getActiveStreamProcessors().forEach(function(ct){if(!je||0===je.length||-1===je.indexOf(ct.getType())){var At=ct.getBufferLevel();Xe=null===Xe?At:Math.min(Xe,At)}}),Xe},getPlaybackStalled:function he(){return z},getTime:re,getLowLatencyModeEnabled:function mt(){return W},getInitialCatchupModeActivated:function un(){return oe},getIsManifestUpdateInProgress:function ce(){return ie},getPlaybackRate:Ee,getPlayedRanges:function q(){return N&&p?p.getPlayedRanges():null},getEnded:K,getIsDynamic:j,getStreamController:function $(){return S},computeAndSetLiveDelay:function Re(je,Xe){var ct,At,sn,Fe=!isNaN(je)&&isFinite(je)?je:NaN,qe=v.getSuggestedPresentationDelay(),ft=O.getServiceDescriptionSettings();return ct=isNaN(ye.get().streaming.delay.liveDelay)?null===ye.get().streaming.delay.liveDelayFragmentCount||isNaN(ye.get().streaming.delay.liveDelayFragmentCount)||isNaN(Fe)?ft&&!isNaN(ft.liveDelay)&&ft.liveDelay>0?ft.liveDelay:!0===ye.get().streaming.delay.useSuggestedPresentationDelay&&null!==qe&&!isNaN(qe)&&qe>0?qe:isNaN(Fe)?Xe&&!isNaN(Xe.minBufferTime)?4*Xe.minBufferTime:4*N.manifestInfo.minBufferTime:4*Fe:Fe*ye.get().streaming.delay.liveDelayFragmentCount:ye.get().streaming.delay.liveDelay,null!==(sn=v.getAvailabilityStartTime())&&(le=sn),At=Xe&&Xe.dvrWindowSize>0?Math.min(ct,Xe.dvrWindowSize):ct,A=At,E=At,At},getLiveDelay:function be(){return A},getOriginalLiveDelay:function we(){return E},getCurrentLiveLatency:function Pe(){if(!G||isNaN(le))return NaN;var je=re();if(isNaN(je)||0===je)return 0;var Xe=(new Date).getTime()+1e3*y.getClientTimeOffset();return Math.max(((Xe-le-1e3*je)/1e3).toFixed(3),0)},play:se,isPaused:B,isStalled:me,pause:Se,isSeeking:te,getStreamEndTime:ve,seek:ge,seekToOriginalLive:function ne(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=F();0!==At&&ge(At-(A=E),je,Xe,ct)},seekToCurrentLive:function X(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=F();0!==At&&ge(At-A,je,Xe,ct)},reset:fe,updateCurrentTime:Ce,getAvailabilityStartTime:function ue(){return le}},function J(){L=Object(P.default)(f).getInstance().getLogger(_),fe()}(),_}l.__dashjs_factory_name="PlaybackController",U.default=R.default.getSingletonFactory(l)},"./src/streaming/controllers/ScheduleController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/models/FragmentModel.js"),I=m("./src/core/EventBus.js"),R=m("./src/core/events/Events.js"),P=m("./src/core/FactoryMaker.js"),w=m("./src/core/Debug.js"),D=m("./src/streaming/constants/MetricsConstants.js"),c=m("./src/streaming/MediaPlayerEvents.js");function l(f){f=f||{};var E,N,G,ee,Z,le,H,W,x,Y,z,ie,oe,d=this.context,_=Object(I.default)(d).getInstance(),L=f.dashMetrics,S=f.mediaPlayerModel,O=f.fragmentModel,b=f.abrController,v=f.playbackController,p=f.textController,y=f.type,g=f.bufferController,A=f.settings;function he(Oe){if(!g.getIsBufferingCompleted()){de();var Ge=isNaN(Oe)?0:Oe;le=setTimeout(se,Ge)}}function de(){le&&(clearTimeout(le),le=null)}function se(){try{if(function ge(){try{return y===M.default.TEXT&&!p.isTextEnabled()||v.isPaused()&&(!v.getStreamController().getInitialPlayback()||!v.getStreamController().getAutoPlay())&&!A.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void de();if(function ne(){try{return ee&&(isNaN(Y)||z||function ve(){var Ge=b.getMaxAllowedIndexFor(y,N.id);return!(!isNaN(x)&&x==Ge||(G.info("Top quality "+y+" index has changed from "+x+" to "+Ge),x=Ge,0))}()||function X(){return!y||!ee||L.getCurrentBufferLevel(y)<F()}())}catch{return!1}}()){var Oe=!1;oe&&(Oe=b.checkPlaybackQuality(y,N.id)),Oe||function Se(){ie||ee.quality!==Y||z?(z?(G.debug("Switch track for "+y+", representation id = "+ee.id),z=!1):G.debug("Quality has changed, get init request for representationid = "+ee.id),_.trigger(R.default.INIT_FRAGMENT_NEEDED,{representationId:ee.id,sender:E},{streamId:N.id,mediaType:y}),oe=!1,ie=!1):(G.debug("Media segment needed for ".concat(y," and stream id ").concat(N.id)),_.trigger(R.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:N.id,mediaType:y}),oe=!0)}()}else he(v.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}catch{he(v.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}}function F(){var Oe=NaN;return!y||!ee||(Oe=y===M.default.TEXT?function V(){try{if(p.isTextEnabled()){if(isNaN(ee.fragmentDuration)){var Oe=L.getCurrentSchedulingInfo(D.default.SCHEDULING_INFO);return Oe?Oe.duration:0}return ee.fragmentDuration}return 0}catch{return 0}}():y===M.default.AUDIO&&H?function re(){try{var Oe=L.getCurrentBufferLevel(M.default.VIDEO);return isNaN(ee.fragmentDuration)?Oe+1:Math.max(Oe+1,ee.fragmentDuration)}catch{return 0}}():function B(){try{var Oe=ee.mediaInfo.streamInfo;return b.isPlayingAtTopQuality(Oe)?Oe.manifestInfo.duration>=A.get().streaming.buffer.longFormContentDurationThreshold?A.get().streaming.buffer.bufferTimeAtTopQualityLongForm:A.get().streaming.buffer.bufferTimeAtTopQuality:S.getStableBufferTime()}catch{return S.getStableBufferTime()}}()),Oe}function Ee(){q(!0)}function q(Oe){if(v&&O){var Ge=O.getRequests({state:T.default.FRAGMENT_MODEL_EXECUTED,time:v.getTime(),threshold:0})[0];Ge&&v.getTime()>=Ge.startTime&&((!W.mediaInfo||Ge.mediaInfo.type===W.mediaInfo.type&&Ge.mediaInfo.id!==W.mediaInfo.id)&&Oe&&_.trigger(R.default.TRACK_CHANGE_RENDERED,{mediaType:y,oldMediaInfo:W.mediaInfo,newMediaInfo:Ge.mediaInfo,streamId:N.id}),(Ge.quality!==W.quality||Ge.adaptationIndex!==W.adaptationIndex)&&Oe&&(G.debug("Quality change rendered for streamId ".concat(N.id," and type ").concat(y)),_.trigger(R.default.QUALITY_CHANGE_RENDERED,{mediaType:y,oldQuality:W.quality,newQuality:Ge.quality,streamId:N.id})),W={mediaInfo:Ge.mediaInfo,quality:Ge.quality,adaptationIndex:Ge.adaptationIndex})}}function K(Oe){G.debug("Appended bytes for ".concat(Oe.mediaType," and stream id ").concat(N.id)),(isNaN(Oe.index)||isNaN(Y))&&(Y=Oe.quality,G.info("["+y+"] lastInitializedRepresentationInfo changed to "+Oe.quality)),he(0)}function j(){O.abortRequests(),de()}function $(){A.get().streaming.scheduling.scheduleWhilePaused||he()}function ce(Oe){L.updatePlayListTraceMetrics({playbackspeed:Oe.playbackRate.toString()})}function Re(){oe=!0,Z=0,Y=NaN,W={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},x=NaN,z=!1,ie=!1}return E={initialize:function J(Oe){H=Oe,_.on(R.default.BYTES_APPENDED_END_FRAGMENT,K,E),_.on(R.default.URL_RESOLUTION_FAILED,j,E),_.on(c.default.PLAYBACK_STARTED,$,E),_.on(c.default.PLAYBACK_RATE_CHANGED,ce,E),_.on(c.default.PLAYBACK_TIME_UPDATED,Ee,E)},getType:function fe(){return y},getStreamId:function ae(){return N.id},setCurrentRepresentation:function pe(Oe){ee=Oe},setTimeToLoadDelay:function ue(Oe){Z=Oe},getTimeToLoadDelay:function be(){return Z},setSwitchTrack:function te(Oe){z=Oe},getSwitchStrack:function me(){return z},startScheduleTimer:he,clearScheduleTimer:de,reset:function Ue(){_.off(R.default.BYTES_APPENDED_END_FRAGMENT,K,E),_.off(R.default.URL_RESOLUTION_FAILED,j,E),_.off(c.default.PLAYBACK_STARTED,$,E),_.off(c.default.PLAYBACK_RATE_CHANGED,ce,E),_.off(c.default.PLAYBACK_TIME_UPDATED,Ee,E),de(),q(!1),Re(),N=null},getBufferTarget:F,getPlaybackController:function Ce(){return v},setCheckPlaybackQuality:function we(Oe){oe=Oe},setInitSegmentRequired:function Pe(Oe){ie=Oe}},function ye(){G=Object(w.default)(d).getInstance().getLogger(E),Re(),N=f.streamInfo}(),E}l.__dashjs_factory_name="ScheduleController",U.default=P.default.getClassFactory(l)},"./src/streaming/controllers/StreamController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/constants/MetricsConstants.js"),I=m("./src/streaming/Stream.js"),R=m("./src/streaming/ManifestUpdater.js"),P=m("./src/core/EventBus.js"),w=m("./src/core/events/Events.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/streaming/vo/metrics/PlayList.js"),l=m("./src/core/Debug.js"),f=m("./src/streaming/utils/InitCache.js"),d=m("./src/streaming/utils/URLUtils.js"),_=m("./src/streaming/MediaPlayerEvents.js"),L=m("./src/streaming/controllers/TimeSyncController.js"),S=m("./src/streaming/controllers/MediaSourceController.js"),O=m("./src/streaming/vo/DashJSError.js"),b=m("./src/core/errors/Errors.js"),v=m("./src/streaming/controllers/EventController.js"),p=m("./src/streaming/constants/ConformanceViolationConstants.js");function y(H){return function N(H){if(Array.isArray(H))return G(H)}(H)||function E(H){if(typeof Symbol<"u"&&null!=H[Symbol.iterator]||null!=H["@@iterator"])return Array.from(H)}(H)||function A(H,W){if(H){if("string"==typeof H)return G(H,W);var x=Object.prototype.toString.call(H).slice(8,-1);if("Object"===x&&H.constructor&&(x=H.constructor.name),"Map"===x||"Set"===x)return Array.from(H);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return G(H,W)}}(H)||function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(H,W){(null==W||W>H.length)&&(W=H.length);for(var x=0,Y=new Array(W);x<W;x++)Y[x]=H[x];return Y}function le(){var x,Y,z,ie,oe,ye,J,fe,ae,pe,he,de,ve,se,Se,ge,ne,X,F,V,re,B,te,me,Ee,q,K,j,$,ce,ue,be,we,Pe,Re,Ue,Ce,Oe,Ge,Ne,$e,Je,nt,at,ht,wt,Vt,kt,zt,H=this.context,W=Object(P.default)(H).getInstance();function Ye(){if(!(ye&&ye.hasOwnProperty("load")&&B&&B.hasOwnProperty("initialize")&&B.hasOwnProperty("reset")&&B.hasOwnProperty("getClientTimeOffset")&&J&&re&&ae&&Pe))throw new Error(M.default.MISSING_CONFIG_ERROR)}function st(){if(!oe||!oe.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function yt(){!function ke(){try{var We=fe.getStreamsInfo();if(!me&&0===We.length)throw new Error("There are no periods in the MPD");me&&We.length>0&&ae.updateManifestUpdateInfo({currentTime:Pe.getTime(),buffered:we.getBufferRange(),presentationStartTime:We[0].start,clientTimeOffset:B.getClientTimeOffset()}),te.length>0&&function On(We){0!==We.length?te=te.filter(function(pt){var ln=We.filter(function(jt){return jt.id===pt.getId()}).length>0||pt.getId()===me.getId();return ln||(Y.debug("Removing stream ".concat(pt.getId())),pt.reset(!0)),ln}):Y.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(We);for(var pt=[],et=0,ln=We.length;et<ln;et++){var jt=We[et];pt.push(Ze(jt)),ae.addManifestUpdateStreamInfo(jt)}Promise.all(pt).then(function(){return ht.get().streaming.applyContentSteering&&!me&&de.shouldQueryBeforeStart()?de.loadSteeringData():Promise.resolve()}).then(function(){me||rt(We),W.trigger(w.default.STREAMS_COMPOSED),ft()}).catch(function(yn){throw yn})}catch(yn){re.error(new O.default(b.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,yn.message+" nostreamscomposed",J.getValue())),ue=!0,Fr()}}()}function gt(){wt=!0}function Ze(We){var pt=rl(We.id);return pt?pt.updateData(We):(pt=Object(I.default)(H).create({manifestModel:J,mediaPlayerModel:Ue,dashMetrics:ae,manifestUpdater:oe,adapter:fe,timelineConverter:B,capabilities:z,capabilitiesFilter:ie,errHandler:re,baseURLController:ve,segmentBaseController:se,textController:q,abrController:ge,playbackController:Pe,eventController:X,mediaController:ne,protectionController:Ee,videoModel:we,streamInfo:We,settings:ht}),te.push(pt),pt.initialize(),Promise.resolve())}function rt(We){Xe();var pt=ae.getCurrentDVRInfo().range;if(pt.end<pt.start){Vt&&clearTimeout(Vt);var et=Math.min(1e3*(-1*(pt.end-pt.start)+2),2147483647);return Y.debug("Waiting for ".concat(et," ms before playback can start")),W.trigger(w.default.AST_IN_FUTURE,{delay:et}),void(Vt=setTimeout(function(){rt(We)},et))}ht.get().streaming.applyProducerReferenceTime&&Re.calculateProducerReferenceTimeOffsets(We);var ln=We[0].manifestInfo;if(ht.get().streaming.applyServiceDescription&&Re.applyServiceDescription(ln),fe.getIsDynamic()){var jt=ka(We,ln);Pe.computeAndSetLiveDelay(jt,ln)}var yn=function Li(){var We;if(fe.getIsDynamic()){var et=ae.getCurrentDVRInfo();We=(et&&et.range?et.range.end:0)-Pe.getOriginalLiveDelay();var jt=et?et.range:null;if(jt){if(isNaN(kt)&&-1===kt.toString().indexOf("posix:")){var Un=_t(!0);isNaN(Un)||(Y.info("Start time from URI parameters: ".concat(Un)),We=Math.min(We,Un))}else{Y.info("Start time provided by the app: ".concat(kt));var yn=hi(!0,kt);isNaN(yn)||(We=Math.min(We,yn))}var rr=ht.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;We=Math.max(We,jt.start+rr)}}else if(We=cs()[0].getStreamInfo().start,isNaN(kt)){var Ro=_t(!1);isNaN(Ro)||(Y.info("Start time from URI parameters: ".concat(Ro)),We=Math.max(We,Ro))}else{Y.info("Start time provided by the app: ".concat(kt));var fs=hi(!1,kt);isNaN(fs)||(We=Math.max(We,fs))}return We}(),Un=je(yn),rr=null!==Un?Un:te[0];W.trigger(w.default.INITIAL_STREAM_SWITCH,{startTime:yn}),mt(rr,null,yn),function Ot(){$e||($e=setInterval(function(){!$&&Pe.getTimeToStreamEnd()<=0&&!Pe.isSeeking()&&W.trigger(w.default.PLAYBACK_ENDED,{isLast:ra().isLast})},200))}()}function mt(We,pt,et){try{if($||!We||pt===We&&We.getIsActive())return;$=!0,W.trigger(w.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:pt?pt.getStreamInfo():null,toStreamInfo:We.getStreamInfo()});var ln=!1;me=We,pt&&(ln=it(We,pt),pt.deactivate(ln)),et=isNaN(et)?!ln&&pt?We.getStreamInfo().start:NaN:et,Y.info("Switch to stream ".concat(We.getId(),". Seektime is ").concat(et,", current playback time is ").concat(Pe.getTime(),". Seamless period switch is set to ").concat(ln)),nt=nt.filter(function(jt){return jt.getId()!==me.getId()}),Pe.initialize(ra(),!!pt),we.getElement()&&Dt(et,ln)}catch{$=!1}}function Dt(We,pt){var et;function ln(){if(be&&"open"===be.readyState){Y.debug("MediaSource is open!"),window.URL.revokeObjectURL(et),be.removeEventListener("sourceopen",ln),be.removeEventListener("webkitsourceopen",ln),Ht();var yn=ae.getCurrentDVRInfo();pe.setSeekable(yn.range.start,yn.range.end),Pt(We,pt)}}function jt(){be.addEventListener("sourceopen",ln,!1),be.addEventListener("webkitsourceopen",ln,!1),et=pe.attachMediaSource(we),Y.debug("MediaSource attached to element.  Waiting on open...")}be?pt?Pt(We,pt):(pe.detachMediaSource(we),jt()):(be=pe.createMediaSource(),jt())}function Pt(We,pt){me.activate(be,pt?Je:void 0,We).then(function(et){if(et){var ln=Object.keys(et);ln.length>0&&et[ln[0]].getBuffer().changeType&&(at=!0),Je=et}isNaN(We)||(W.trigger(w.default.SEEK_TARGET,{time:We},{streamId:me.getId()}),Pe.seek(We,!1,!0),me.startScheduleControllers()),$=!1,W.trigger(w.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:ra()})})}function Bt(We){var et=je(We.seekTime);et&&et!==me?et&&et!==me&&(mn(),function er(We,pt){var et=We&&!isNaN(We.seekTime)?We.seekTime:NaN,jt=me.getProcessors().map(function(yn){return yn.prepareOuterPeriodPlaybackSeeking(We)});Promise.all(jt).then(function(){mt(pt,me,et)}).catch(function(yn){re.error(yn)})}(We,et)):(mn(),function Nn(We){me.getProcessors().forEach(function(et){return et.prepareInnerPeriodPlaybackSeeking(We)}),us(c.PlayListTrace.USER_REQUEST_STOP_REASON)}(We)),Ua(c.PlayList.SEEK_START_REASON)}function mn(){un()}function un(){nt&&nt.length>0&&(nt.forEach(function(We){We.deactivate(!0)}),nt=[])}function Ae(We){We.newMediaInfo.streamInfo.id===me.getId()&&(un(),me.prepareTrackChange(We))}function it(We,pt){try{return ht.get().streaming.buffer.reuseExistingSourceBuffers&&(pt.isProtectionCompatible(We)||wt)&&(at||pt.isMediaCodecCompatible(We,pt))}catch{return!1}}function St(We){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;be&&!We.getPreloaded()&&it(We,pt)&&We.startPreloading(be,Je).then(function(){nt.push(We)})}function je(We){if(isNaN(We))return null;for(var pt=te.length,et=0;et<pt;et++){var ln=te[et];if(We<parseFloat((ln.getStartTime()+ln.getDuration()).toFixed(5)))return ln}return null}function Xe(){try{var We=fe.getIsDynamic(),et=fe.getStreamsInfo()[0].manifestInfo,ln=Pe.getTime(),jt=B.calcTimeShiftBufferWindow(te,We),yn=Et();if(typeof jt.start>"u"||typeof jt.end>"u")return;yn&&0!==yn.length?yn.forEach(function(Un){ae.addDVRInfo(Un.getType(),ln,et,jt)}):ae.addDVRInfo(M.default.VIDEO,ln,et,jt)}catch{}}function ct(We){if(Ge&&j){var pt=Ue.getInitialBufferLevel(),et=[M.default.TEXT];(isNaN(pt)||pt<=Pe.getBufferLevel(et)||fe.getIsDynamic()&&pt>Pe.getLiveDelay())&&(Ge=!1,Ua(c.PlayList.INITIAL_PLAYOUT_START_REASON),Pe.play())}We&&We.mediaType&&ae.addBufferLevel(We.mediaType,new Date,1e3*We.bufferLevel)}function At(We){We.streamInfo.id===me.getId()&&We.reason&&We.reason.forceReplace&&un(),rl(We.streamInfo.id).prepareQualityChange(We)}function sn(){if(fe.getIsDynamic()&&0!==Pe.getOriginalLiveDelay()&&me){var We=fe.getStreamsInfo();if(We.length>0){var pt=We[0].manifestInfo,et=ka(We,pt);Pe.computeAndSetLiveDelay(et,pt)}}}function Yt(){if(Ba()){var We=we.getPlaybackQuality();We&&ae.addDroppedFrames(We)}}function He(){Y.debug("[onPlaybackStarted]"),!Ge&&Oe&&Ua(c.PlayList.RESUME_FROM_PAUSE_START_REASON),Ge&&(Ge=!1),Ne&&(Ne=!1,ht.get().streaming.applyContentSteering&&!de.shouldQueryBeforeStart()&&de.loadSteeringData()),Oe=!1}function Fe(We){Y.debug("[onPlaybackPaused]"),We.ended||(Oe=!0,us(c.PlayListTrace.USER_REQUEST_STOP_REASON))}function qe(We){Y.debug("Stream with id ".concat(We.streamInfo.id," finished buffering")),be&&We.streamInfo.isLast?(Y.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),pe.signalEndOfStream(be)):ft()}function ft(){if(me&&me.getHasFinishedBuffering())for(var We=function tn(){var We=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var pt=We||me||null;if(pt){var et=pt.getStreamInfo();return te.filter(function(ln){var jt=ln.getStreamInfo();return jt.start>et.start&&et.id!==jt.id})}}catch{return[]}}(me),pt=0;pt<We.length;){var et=We[pt],ln=0===pt?me:We[pt-1];!et.getPreloaded()&&ln.getHasFinishedBuffering()&&be&&St(et,ln),pt+=1}}function Mt(){$e&&(clearInterval($e),$e=null)}function Et(){return me?me.getProcessors():[]}function Ut(We){if(me&&!me.getIsEndedEventSignaled()){me.setIsEndedEventSignaled(!0);var pt=function Xt(){var pt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||me||null;if(!pt)return null;for(var et=pt.getStreamInfo(),ln=et.start,jt=0,yn=-1,Un=NaN;jt<te.length;){var mr=te[jt].getStreamInfo(),to=mr.start-ln;to>0&&(isNaN(Un)||to<Un)&&et.id!==mr.id&&(Un=to,yn=jt),jt+=1}return yn>=0?te[yn]:null}();pt?(Y.debug("StreamController onEnded, found next stream with id ".concat(pt.getStreamInfo().id,". Switching from ").concat(me.getStreamInfo().id," to ").concat(pt.getStreamInfo().id)),mt(pt,me,NaN)):(Y.debug("StreamController no next stream found"),me.setIsEndedEventSignaled(!1)),us(pt?c.PlayListTrace.END_OF_PERIOD_STOP_REASON:c.PlayListTrace.END_OF_CONTENT_STOP_REASON)}We&&We.isLast&&(Mt(),de.stopSteeringRequestTimer())}function Ht(We){var pt=We||ra().manifestInfo.duration;pe.setDuration(pt)}function _t(We){var pt=Se.getURIFragmentData();if(!pt||!pt.t)return NaN;var ln=cs()[0].getStreamInfo().start;return pt.t=pt.t.split(",")[0],fn(We,pt.t,ln)}function hi(We,pt){var et=0;return We||(et=cs()[0].getStreamInfo().start),fn(We,pt,et)}function fn(We,pt,et){var ln=fe.getRegularPeriods()[0],jt=pt.toString(),yn=-1!==jt.indexOf("posix:")?"now"===jt.substring(6)?Date.now()/1e3:parseFloat(jt.substring(6)):NaN;return We&&!isNaN(yn)?B.calcPresentationTimeFromWallTime(new Date(1e3*yn),ln):parseFloat(jt)+et}function ka(We,pt){try{var et=NaN;if(pt&&!isNaN(pt.maxFragmentDuration)&&isFinite(pt.maxFragmentDuration))return pt.maxFragmentDuration;if(We&&1===We.length){var ln=We[0],yn=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT].reduce(function(Un,rr){var mr=fe.getMediaInfoForType(ln,rr);return mr&&!1!==mr.isFragmented&&Un.push(mr),Un},[]).reduce(function(Un,rr){var mr=fe.getVoRepresentations(rr);return mr&&mr.length>0&&mr.forEach(function(to){to&&Un.push(to)}),Un},[]).reduce(function(Un,rr){var mr=fe.convertRepresentationToRepresentationInfo(rr);return mr&&mr.fragmentDuration&&!isNaN(mr.fragmentDuration)&&Un.push(mr.fragmentDuration),Un},[]);et=Math.max.apply(Math,y(yn))}return isFinite(et)?et:NaN}catch{return NaN}}function na(We){if(We.error)ue=!0,Fr();else{Y.info("Manifest updated... updating data system wide.");var pt=We.manifest;fe.updatePeriods(pt);var et=fe.getUTCTimingSources();fe.getIsDynamic()&&(!et||0===et.length)&&W.trigger(_.default.CONFORMANCE_VIOLATION,{level:p.default.LEVELS.WARNING,event:p.default.EVENTS.NO_UTC_TIMING_ELEMENT});var ln=fe.getIsDynamic()?et.concat(Ce.getUTCTimingSources()):et,jt=V.isHTTPS(We.manifest.url);ln.forEach(function(yn){yn.value.replace(/.*?:\/\//g,"")===ht.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(yn.value=yn.value.replace(jt?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),jt?"https://":"http://"),Y.debug("Matching default timing source protocol to manifest protocol: ",yn.value))}),ie.filterUnsupportedFeatures(pt).then(function(){ve.initialize(pt),he.attemptSync(ln,fe.getIsDynamic())})}}function Ba(){return!!me&&me.getHasVideoTrack()}function Ji(){return!!me&&me.getHasAudioTrack()}function us(We,pt){pt=pt||new Date,Et().forEach(function(et){et.finalisePlayList(pt,We)}),ae.addPlayList()}function Ua(We){ae.createPlaylistMetrics(1e3*Pe.getTime(),We)}function Bu(We){if(We.error){var pt="";switch(We.error.code){case 1:pt="MEDIA_ERR_ABORTED";break;case 2:pt="MEDIA_ERR_NETWORK";break;case 3:pt="MEDIA_ERR_DECODE",zt.counts.mediaErrorDecode+=1;break;case 4:pt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:pt="MEDIA_ERR_ENCRYPTED";break;default:pt="UNKNOWN"}if("MEDIA_ERR_DECODE"===pt&&ht.get().errors.recoverAttempts.mediaErrorDecode>=zt.counts.mediaErrorDecode)return void function eo(){Y.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var We=Pe.getTime();me.deactivate(!1),Y.warn("MediaSource has been resetted. Resuming playback from time ".concat(We)),Dt(We,!1)}();ce=!0,We.error.message&&(pt+=" ("+We.error.message+")"),We.error.msExtendedCode&&(pt+=" (0x"+(We.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),Y.fatal("Video Element Error: "+pt),We.error&&Y.fatal(We.error),re.error(new O.default(We.error.code,pt)),Fr()}}function ra(){return me?me.getStreamInfo():null}function rl(We){for(var pt=0,et=te.length;pt<et;pt++)if(te[pt].getId()===We)return te[pt];return null}function il(We){isNaN(We.newDuration)||Ht(We.newDuration)}function ol(){te=[],kt=NaN,Ee=null,$=!1,me=null,ce=!1,ue=!1,Ge=!0,Ne=!0,Oe=!1,j=!0,$e=null,wt=!1,at=!1,nt=[],Vt=null,zt={counts:{mediaErrorDecode:0}}}function Fr(){Ye(),he.reset(),us(ce||ue?c.PlayListTrace.FAILURE_STOP_REASON:c.PlayListTrace.USER_REQUEST_STOP_REASON);for(var We=0,pt=te?te.length:0;We<pt;We++)te[We].reset(ce);(function Le(){W.off(_.default.PLAYBACK_TIME_UPDATED,Yt,x),W.off(_.default.PLAYBACK_SEEKING,Bt,x),W.off(_.default.PLAYBACK_ERROR,Bu,x),W.off(_.default.PLAYBACK_STARTED,He,x),W.off(_.default.PLAYBACK_PAUSED,Fe,x),W.off(_.default.PLAYBACK_ENDED,Ut,x),W.off(_.default.METRIC_ADDED,Ln,x),W.off(_.default.MANIFEST_VALIDITY_CHANGED,il,x),W.off(_.default.BUFFER_LEVEL_UPDATED,ct,x),W.off(_.default.QUALITY_CHANGE_REQUESTED,At,x),w.default.KEY_SESSION_UPDATED&&W.off(w.default.KEY_SESSION_UPDATED,gt,x),W.off(w.default.MANIFEST_UPDATED,na,x),W.off(w.default.STREAM_BUFFERING_COMPLETED,qe,x),W.off(w.default.TIME_SYNCHRONIZATION_COMPLETED,yt,x),W.off(w.default.CURRENT_TRACK_CHANGED,Ae,x),W.off(w.default.SETTING_UPDATED_LIVE_DELAY,sn,x),W.off(w.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,sn,x)})(),ve.reset(),oe.reset(),X.reset(),ae.clearAllCurrentMetrics(),J.setValue(null),ye.reset(),B.reset(),F.reset(),be&&(pe.detachMediaSource(we),be=null),we=null,Ee&&(Ee=null,K=null,J.getValue()&&W.trigger(w.default.PROTECTION_DESTROYED,{data:J.getValue().url})),Mt(),W.trigger(w.default.STREAM_TEARDOWN_COMPLETE),ol()}function Ln(We){if(We.metric===T.default.DVR_INFO){var pt=Ji()?M.default.AUDIO:M.default.VIDEO;We.mediaType===pt&&pe.setSeekable(We.value.range.start,We.value.range.end)}}function cs(){return te}return x={initialize:function De(We,pt){Ye(),j=We,K=pt,B.initialize(),(oe=Object(R.default)(H).create()).setConfig({manifestModel:J,adapter:fe,manifestLoader:ye,errHandler:re,settings:ht}),oe.initialize(),(X=Object(v.default)(H).getInstance()).setConfig({manifestUpdater:oe,playbackController:Pe,settings:ht}),X.start(),he.setConfig({dashMetrics:ae,baseURLController:ve,errHandler:re,settings:ht}),he.initialize(),Ee&&(W.trigger(w.default.PROTECTION_CREATED,{controller:Ee}),Ee.setMediaElement(we.getElement()),K&&Ee.setProtectionData(K)),function Te(){W.on(_.default.PLAYBACK_TIME_UPDATED,Yt,x),W.on(_.default.PLAYBACK_SEEKING,Bt,x),W.on(_.default.PLAYBACK_ERROR,Bu,x),W.on(_.default.PLAYBACK_STARTED,He,x),W.on(_.default.PLAYBACK_PAUSED,Fe,x),W.on(_.default.PLAYBACK_ENDED,Ut,x),W.on(_.default.METRIC_ADDED,Ln,x),W.on(_.default.MANIFEST_VALIDITY_CHANGED,il,x),W.on(_.default.BUFFER_LEVEL_UPDATED,ct,x),W.on(_.default.QUALITY_CHANGE_REQUESTED,At,x),w.default.KEY_SESSION_UPDATED&&W.on(w.default.KEY_SESSION_UPDATED,gt,x),W.on(w.default.MANIFEST_UPDATED,na,x),W.on(w.default.STREAM_BUFFERING_COMPLETED,qe,x),W.on(w.default.TIME_SYNCHRONIZATION_COMPLETED,yt,x),W.on(w.default.CURRENT_TRACK_CHANGED,Ae,x),W.on(w.default.SETTING_UPDATED_LIVE_DELAY,sn,x),W.on(w.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,sn,x)}()},getActiveStreamInfo:ra,addDVRMetric:Xe,hasVideoTrack:Ba,hasAudioTrack:Ji,getStreamById:rl,getStreamForTime:je,getTimeRelativeToStreamId:function Ke(We,pt){for(var et=null,ln=0,jt=0,yn=null,Un=0;Un<te.length;Un++){if(jt=(et=te[Un]).getStartTime(),yn=et.getDuration(),Number.isFinite(jt)&&(ln=jt),et.getId()===pt)return We-ln;Number.isFinite(yn)&&(ln+=yn)}return null},load:function tt(We){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Ye(),kt=pt,ye.load(We)},loadWithManifest:function ut(We){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;st(),kt=pt,oe.setManifest(We)},getActiveStreamProcessors:Et,setConfig:function gd(We){!We||(We.capabilities&&(z=We.capabilities),We.capabilitiesFilter&&(ie=We.capabilitiesFilter),We.manifestLoader&&(ye=We.manifestLoader),We.manifestModel&&(J=We.manifestModel),We.mediaPlayerModel&&(Ue=We.mediaPlayerModel),We.customParametersModel&&(Ce=We.customParametersModel),We.protectionController&&(Ee=We.protectionController),We.adapter&&(fe=We.adapter),We.dashMetrics&&(ae=We.dashMetrics),We.errHandler&&(re=We.errHandler),We.timelineConverter&&(B=We.timelineConverter),We.videoModel&&(we=We.videoModel),We.playbackController&&(Pe=We.playbackController),We.serviceDescriptionController&&(Re=We.serviceDescriptionController),We.contentSteeringController&&(de=We.contentSteeringController),We.textController&&(q=We.textController),We.abrController&&(ge=We.abrController),We.mediaController&&(ne=We.mediaController),We.settings&&(ht=We.settings),We.baseURLController&&(ve=We.baseURLController),We.uriFragmentModel&&(Se=We.uriFragmentModel),We.segmentBaseController&&(se=We.segmentBaseController))},setProtectionData:function Uu(We){K=We,Ee&&Ee.setProtectionData(K)},getIsStreamSwitchInProgress:function md(){return $},switchToVideoElement:function zr(We){me&&(Pe.initialize(ra()),Dt(We,!1))},getHasMediaOrInitialisationError:function pd(){return ce||ue},getStreams:cs,getActiveStream:function Gn(){return me},getInitialPlayback:function zn(){return Ge},getAutoPlay:function xi(){return j},reset:Fr},function en(){Y=Object(l.default)(H).getInstance().getLogger(x),he=Object(L.default)(H).getInstance(),pe=Object(S.default)(H).getInstance(),F=Object(f.default)(H).getInstance(),V=Object(d.default)(H).getInstance(),ol()}(),x}le.__dashjs_factory_name="StreamController",U.default=D.default.getSingletonFactory(le)},"./src/streaming/controllers/TimeSyncController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/DashJSError.js"),T=m("./src/streaming/vo/metrics/HTTPRequest.js"),I=m("./src/core/EventBus.js"),R=m("./src/core/events/Events.js"),P=m("./src/core/errors/Errors.js"),w=m("./src/core/FactoryMaker.js"),D=m("./src/core/Debug.js"),c=m("./src/streaming/utils/URLUtils.js");function v(){var E,N,G,ee,Z,le,H,W,x,Y,z,ie,oe,ye,J,fe,y=this.context,g=Object(I.default)(y).getInstance(),A=Object(c.default)(y).getInstance();function he(){W=[],x=[],Y=null,z=null,oe=null,ie=NaN,G=!1,ee=!1,ye=Z.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function se(){!Z.get().streaming.utcSynchronization.enabled||G||ee||!oe||!oe.value||!oe.schemeIdUri||isNaN(ie)||isNaN(Z.get().streaming.utcSynchronization.backgroundAttempts)||z&&(Date.now()-z)/1e3<30||(W=[],ee=!0,Se(isNaN(Z.get().streaming.utcSynchronization.backgroundAttempts)?2:Z.get().streaming.utcSynchronization.backgroundAttempts))}function Se(Pe){try{if(Pe<=0)return void ue();var Re=Date.now();le[oe.schemeIdUri](oe.value,function(Ue){var Ce=Date.now(),Oe=ne(Re,Ce,Ue);W.push(Oe),Se(Pe-1)},function(){ue()})}catch{ue()}}function ge(){var Re=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!x||0===x.length||Re>=x.length)F();else{var Ue=x[Re];if(Ue)if(le.hasOwnProperty(Ue.schemeIdUri)){var Ce=(new Date).getTime();le[Ue.schemeIdUri](Ue.value,function(Oe){var Ge=(new Date).getTime(),Ne=ne(Ce,Ge,Oe);oe=Ue,F(Ne)},function(){ge(Re+1)})}else ge(Re+1);else F()}}function ne(Pe,Re,Ue){return Ue-(Re-(Re-Pe)/2)}function F(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,Re=isNaN(Pe);Re&&Z.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?j():$(Re,Pe)}function re(Pe){var Re=Date.parse(Pe);return isNaN(Re)&&(Re=function V(Pe){var Ge,Ne,$e=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Pe);return Ge=Date.UTC(parseInt($e[1],10),parseInt($e[2],10)-1,parseInt($e[3],10),parseInt($e[4],10),parseInt($e[5],10),$e[6]&&(parseInt($e[6],10)||0),$e[7]&&1e3*parseFloat($e[7])||0),$e[9]&&$e[10]&&(Ne=60*parseInt($e[9],10)+parseInt($e[10],10),Ge+=("+"===$e[8]?-1:1)*Ne*60*1e3),new Date(Ge).getTime()}(Pe)),Re}function B(Pe){return Date.parse(Pe)}function te(Pe){return Date.parse(Pe)}function me(Pe,Re,Ue){Ue()}function Ee(Pe,Re,Ue){var Ce=re(Pe);isNaN(Ce)?Ue():Re(Ce)}function q(Pe,Re,Ue,Ce,Oe){var Ge,Ne,$e=!1,Je=new XMLHttpRequest,nt=Oe?T.HTTPRequest.HEAD:T.HTTPRequest.GET,at=Re.match(/\S+/g);if(Re=at.shift(),Ge=function(){$e||($e=!0,at.length?q(Pe,at.join(" "),Ue,Ce,Oe):Ce())},Ne=function(){var Vt,kt;200===Je.status&&(Vt=Oe?Je.getResponseHeader("Date"):Je.response,kt=Pe(Vt),isNaN(kt)||(Ue(kt),$e=!0))},A.isRelative(Re)){var ht=fe.resolve();ht&&(Re=A.resolve(Re,ht.url))}Je.open(nt,Re),Je.timeout=5e3,Je.onload=Ne,Je.onloadend=Ge,Je.send()}function K(Pe,Re,Ue){q(te,Pe,Re,Ue,!0)}function j(){var Pe=H.getLatestMPDRequestHeaderValueByID("Date"),Re=null!==Pe?new Date(Pe).getTime():Number.NaN;isNaN(Re)?$(!0):$(!1,Re-Date.now())}function $(Pe,Re){if(!isNaN(ie)&&!isNaN(Re)&&!Pe&&function ce(Pe){try{var Ne,Re=be(Pe),Ue=isNaN(ye)?30:ye,Ce=isNaN(Z.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:Z.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Oe=isNaN(Z.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:Z.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ge=isNaN(Z.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:Z.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Re?(Ne=Math.min(Ue*Ce,Oe),N.debug("Increasing timeBetweenSyncAttempts to ".concat(Ne))):(Ne=Math.max(Ue/Ce,Ge),N.debug("Decreasing timeBetweenSyncAttempts to ".concat(Ne))),ye=Ne}catch{}}(Re),!Pe&&!isNaN(Re)){Y=Date.now(),G=!1;var Ue=isNaN(ie);ie=Re,Ue&&se(),N.debug("Completed UTC sync. Setting client - server offset to ".concat(Re))}Pe&&(oe=null,G=!1,J.error(new M.default(P.default.TIME_SYNC_FAILED_ERROR_CODE,P.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),g.trigger(R.default.UPDATE_TIME_SYNC_OFFSET,{offset:Re}),g.trigger(R.default.TIME_SYNCHRONIZATION_COMPLETED)}function ue(){if(W&&0!==W.length){var Pe=W.reduce(function(Re,Ue){return Re+Ue},0)/W.length;be(Pe)?N.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(N.debug("Completed background UTC sync. Setting client - server offset to ".concat(Pe)),g.trigger(R.default.UPDATE_TIME_SYNC_OFFSET,{offset:ie=Pe})),ee=!1,z=Date.now()}}function be(Pe){try{if(isNaN(ie))return!0;var Re=Z.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(Z.get().streaming.utcSynchronization.maximumAllowedDrift)?Z.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Pe>=ie-Re&&Pe<=ie+Re}catch{return!0}}return E={initialize:function de(){he(),le={"urn:mpeg:dash:utc:http-head:2014":K,"urn:mpeg:dash:utc:http-xsdate:2014":q.bind(null,re),"urn:mpeg:dash:utc:http-iso:2014":q.bind(null,B),"urn:mpeg:dash:utc:direct:2014":Ee,"urn:mpeg:dash:utc:http-head:2012":K,"urn:mpeg:dash:utc:http-xsdate:2012":q.bind(null,re),"urn:mpeg:dash:utc:http-iso:2012":q.bind(null,B),"urn:mpeg:dash:utc:direct:2012":Ee,"urn:mpeg:dash:utc:http-ntp:2014":me,"urn:mpeg:dash:utc:ntp:2014":me,"urn:mpeg:dash:utc:sntp:2014":me}},attemptSync:function ve(Pe,Re){if(x=Pe,!G){if(!function X(Pe){try{if(!Pe||!Z.get().streaming.utcSynchronization.enabled)return!1;var Re=isNaN(ye)?30:ye;return!(Y&&Re&&!isNaN(Re))||(Date.now()-Y)/1e3>=Re}catch{return!0}}(Re))return void g.trigger(R.default.TIME_SYNCHRONIZATION_COMPLETED);G=!0,ge()}},setConfig:function pe(Pe){!Pe||(Pe.dashMetrics&&(H=Pe.dashMetrics),Pe.baseURLController&&(fe=Pe.baseURLController),Pe.errHandler&&(J=Pe.errHandler),Pe.settings&&(Z=Pe.settings))},reset:function we(){he(),g.off(R.default.ATTEMPT_BACKGROUND_SYNC,se,E)}},function ae(){N=Object(D.default)(y).getInstance().getLogger(E),g.on(R.default.ATTEMPT_BACKGROUND_SYNC,se,E)}(),E}v.__dashjs_factory_name="TimeSyncController";var p=w.default.getSingletonFactory(v);p.HTTP_TIMEOUT_MS=5e3,w.default.updateSingletonFactory(v.__dashjs_factory_name,p),U.default=p},"./src/streaming/controllers/XlinkController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/XlinkLoader.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),R=m("./src/core/FactoryMaker.js"),P=m("./externals/xml2json.js"),w=m("./src/streaming/utils/URLUtils.js"),D=m("./src/dash/constants/DashConstants.js"),c="onLoad";function d(_){_=_||{};var b,v,p,y,g,A,L=this.context,S=Object(T.default)(L).getInstance(),O=Object(w.default)(L).getInstance();function le(ye,J,fe){var pe,he,ae={};ae.elements=ye,ae.type=J,ae.resolveType=fe,0===ae.elements.length&&W(ae);for(var de=0;de<ae.elements.length;de++)he=O.isHTTPURL((pe=ae.elements[de]).url)?pe.url:pe.originalContent.BaseURL+pe.url,A.load(he,pe,ae)}function H(ye){var J,fe,he="";if(fe=ye.resolveObject,(J=ye.element).resolvedContent){var de=0;0===J.resolvedContent.indexOf("<?xml")&&(de=J.resolvedContent.indexOf("?>")+2),he=J.resolvedContent.substr(0,de)+"<response>"+J.resolvedContent.substr(de)+"</response>",J.resolvedContent=g.xml_str2json(he)}(function ie(ye){var J;for(J=0;J<ye.elements.length;J++)if(!1===ye.elements[J].resolved)return!1;return!0})(fe)&&W(fe)}function W(ye){var fe,ae,J=[];if(function Y(ye){var fe,ae,he,de,ve,J=[];for(he=ye.elements.length-1;he>=0;he--){if(ae=(fe=ye.elements[he]).type+"_asArray",fe.resolvedContent){if(fe.resolvedContent)for(de=0;de<fe.resolvedContent[ae].length;de++)J.push(fe.resolvedContent[ae][de])}else delete fe.originalContent["xlink:actuate"],delete fe.originalContent["xlink:href"],J.push(fe.originalContent);for(fe.parentElement[ae].splice(fe.index,1),ve=0;ve<J.length;ve++)fe.parentElement[ae].splice(fe.index+ve,0,J[ve]);J=[]}ye.elements.length>0&&p.run(y)}(ye),"onActuate"===ye.resolveType&&S.trigger(I.default.XLINK_READY,{manifest:y}),ye.resolveType===c)switch(ye.type){case D.default.PERIOD:for(fe=0;fe<y[D.default.PERIOD+"_asArray"].length;fe++)(ae=y[D.default.PERIOD+"_asArray"][fe]).hasOwnProperty(D.default.ADAPTATION_SET+"_asArray")&&(J=J.concat(x(ae[D.default.ADAPTATION_SET+"_asArray"],ae,D.default.ADAPTATION_SET,c))),ae.hasOwnProperty(D.default.EVENT_STREAM+"_asArray")&&(J=J.concat(x(ae[D.default.EVENT_STREAM+"_asArray"],ae,D.default.EVENT_STREAM,c)));le(J,D.default.ADAPTATION_SET,c);break;case D.default.ADAPTATION_SET:S.trigger(I.default.XLINK_READY,{manifest:y})}}function x(ye,J,fe,ae){var he,de,ve,pe=[];for(de=ye.length-1;de>=0;de--)(he=ye[de]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===he["xlink:href"]&&ye.splice(de,1);for(de=0;de<ye.length;de++)(he=ye[de]).hasOwnProperty("xlink:href")&&he.hasOwnProperty("xlink:actuate")&&he["xlink:actuate"]===ae&&(ve=z(he["xlink:href"],J,fe,de,ae,he),pe.push(ve));return pe}function z(ye,J,fe,ae,pe,he){return{url:ye,parentElement:J,type:fe,index:ae,resolveType:pe,originalContent:he,resolvedContent:null,resolved:!1}}return b={resolveManifestOnLoad:function ee(ye){g=new P.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:v}),(y=ye).Period_asArray?le(x(y.Period_asArray,y,D.default.PERIOD,c),D.default.PERIOD,c):S.trigger(I.default.XLINK_READY,{manifest:y})},setMatchers:function N(ye){ye&&(v=ye)},setIron:function G(ye){ye&&(p=ye)},reset:function Z(){S.off(I.default.XLINK_ELEMENT_LOADED,H,b),A&&(A.reset(),A=null)}},function E(){S.on(I.default.XLINK_ELEMENT_LOADED,H,b),A=Object(M.default)(L).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings})}(),b}d.__dashjs_factory_name="XlinkController",U.default=R.default.getClassFactory(d)},"./src/streaming/metrics/MetricsReporting.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/utils/DVBErrorsTranslator.js"),T=m("./src/streaming/metrics/MetricsReportingEvents.js"),I=m("./src/streaming/metrics/controllers/MetricsCollectionController.js"),R=m("./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),P=m("./src/streaming/metrics/reporting/ReportingFactory.js");function w(){var c=this.context;return{createMetricsReporting:function d(S){return Object(M.default)(c).getInstance({eventBus:S.eventBus,dashMetrics:S.dashMetrics,metricsConstants:S.metricsConstants,events:S.events}).initialise(),Object(I.default)(c).create(S)},getReportingFactory:function _(){return Object(P.default)(c).getInstance()},getMetricsHandlerFactory:function L(){return Object(R.default)(c).getInstance()}}}w.__dashjs_factory_name="MetricsReporting";var D=dashjs.FactoryMaker.getClassFactory(w);D.events=T.default,dashjs.FactoryMaker.updateClassFactory(w.__dashjs_factory_name,D),U.default=D},"./src/streaming/metrics/MetricsReportingEvents.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function w(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return d(this,A)}}function d(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=f(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",g.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",g.CMCD_DATA_GENERATED="cmcdDataGenerated",g}return function R(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/events/EventsBase.js").default));U.default=b},"./src/streaming/metrics/controllers/MetricsCollectionController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/controllers/MetricsController.js"),T=m("./src/streaming/metrics/utils/ManifestParsing.js"),I=m("./src/streaming/metrics/MetricsReportingEvents.js");function R(P){var w,D={},c=this.context,l=(P=P||{}).eventBus,f=P.events;function d(O){if(!O.error){var b=Object.keys(D);Object(T.default)(c).getInstance({adapter:P.adapter,constants:P.constants}).getMetrics(O.manifest).forEach(function(p){var y=JSON.stringify(p);if(D.hasOwnProperty(y))b.splice(y,1);else try{var g=Object(M.default)(c).create(P);g.initialize(p),D[y]=g}catch{}}),b.forEach(function(p){D[p].reset(),delete D[p]}),l.trigger(I.default.METRICS_INITIALISATION_COMPLETE)}}function _(){Object.keys(D).forEach(function(O){D[O].reset()}),D={}}return w={reset:function S(){l.off(f.MANIFEST_UPDATED,d,w),l.off(f.STREAM_TEARDOWN_COMPLETE,_,w)}},function L(){l.on(f.MANIFEST_UPDATED,d,w),l.on(f.STREAM_TEARDOWN_COMPLETE,_,w)}(),w}R.__dashjs_factory_name="MetricsCollectionController",U.default=dashjs.FactoryMaker.getClassFactory(R)},"./src/streaming/metrics/controllers/MetricsController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/controllers/RangeController.js"),T=m("./src/streaming/metrics/controllers/ReportingController.js"),I=m("./src/streaming/metrics/controllers/MetricsHandlersController.js");function R(P){P=P||{};var w,D,c,f=this.context;function _(){w&&w.reset(),D&&D.reset(),c&&c.reset()}return{initialize:function d(L){try{(c=Object(M.default)(f).create({mediaElement:P.mediaElement})).initialize(L.Range),(D=Object(T.default)(f).create({debug:P.debug,metricsConstants:P.metricsConstants,mediaPlayerModel:P.mediaPlayerModel})).initialize(L.Reporting,c),(w=Object(I.default)(f).create({debug:P.debug,eventBus:P.eventBus,metricsConstants:P.metricsConstants,events:P.events})).initialize(L.metrics,D)}catch(S){throw _(),S}},reset:_}}R.__dashjs_factory_name="MetricsController",U.default=dashjs.FactoryMaker.getClassFactory(R)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function T(I){var P,R=[],w=this.context,D=(I=I||{}).eventBus,c=I.events,l=Object(M.default)(w).getInstance({debug:I.debug,eventBus:I.eventBus,metricsConstants:I.metricsConstants});function f(L){R.forEach(function(S){S.handleNewMetric(L.metric,L.value,L.mediaType)})}return P={initialize:function d(L,S){L.split(",").forEach(function(O,b,v){var p;if(-1!==O.indexOf("(")&&-1===O.indexOf(")")){var y=v[b+1];y&&-1===y.indexOf("(")&&-1!==y.indexOf(")")&&(O+=","+y,delete v[b+1])}(p=l.create(O,S))&&R.push(p)}),D.on(c.METRIC_ADDED,f,P),D.on(c.METRIC_UPDATED,f,P)},reset:function _(){D.off(c.METRIC_ADDED,f,P),D.off(c.METRIC_UPDATED,f,P),R.forEach(function(L){return L.reset()}),R=[]}}}T.__dashjs_factory_name="MetricsHandlersController",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/controllers/RangeController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/utils/CustomTimeRanges.js");function T(I){var w,D,R=!1,P=this.context,c=(I=I||{}).mediaElement;return w={initialize:function l(L){L&&L.length&&(L.forEach(function(S){var O=S.starttime;D.add(O,O+S.duration)}),R=!!L[0]._useWallClockTime)},reset:function f(){D.clear()},isEnabled:function _(){var S,L=D.length;if(!L)return!0;S=R?(new Date).getTime()/1e3:c.currentTime;for(var O=0;O<L;O+=1){var b=D.start(O),v=D.end(O);if(b<=S&&S<v)return!0}return!1}},function d(){D=Object(M.default)(P).create()}(),w}T.__dashjs_factory_name="RangeController",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/controllers/ReportingController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/reporting/ReportingFactory.js");function T(I){var R=[],w=Object(M.default)(this.context).getInstance(I);return{initialize:function D(f,d){f.some(function(_){var L=w.create(_,d);if(L)return R.push(L),!0})},reset:function c(){R.forEach(function(f){return f.reset()}),R=[]},report:function l(f,d){R.forEach(function(_){return _.report(f,d)})}}}T.__dashjs_factory_name="ReportingController",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),T=m("./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),I=m("./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),R=m("./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function P(w){var D,c=(w=w||{}).debug?w.debug.getLogger(D):{},l=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,f=this.context,d={BufferLevel:M.default,DVBErrors:T.default,HttpList:I.default,PlayList:R.default,RepSwitchList:R.default,TcpList:R.default};return{create:function _(O,b){var p,v=O.match(l);if(v){try{(p=d[v[1]](f).create({eventBus:w.eventBus,metricsConstants:w.metricsConstants})).initialize(v[1],b,v[3],v[5])}catch(y){p=null,c.error("MetricsHandlerFactory: Could not create handler for type ".concat(v[1]," with args ").concat(v[3],", ").concat(v[5]," (").concat(y.message,")"))}return p}},register:function L(O,b){d[O]=b},unregister:function S(O){delete d[O]}}}P.__dashjs_factory_name="MetricsHandlerFactory",U.default=dashjs.FactoryMaker.getSingletonFactory(P)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/utils/HandlerHelpers.js");function T(I){I=I||{};var P,w,D,c,l,f=this.context,d=Object(M.default)(f).getInstance(),_=[],L=I.metricsConstants;function O(){var y=function S(){try{return Object.keys(_).map(function(y){return _[y]}).reduce(function(y,g){return y.level<g.level?y:g})}catch{return}}();y&&l!==y.t&&(l=y.t,P.report(D,y))}return{initialize:function b(y,g,A){g&&(w=d.validateN(A),P=g,D=d.reconstructFullMetricName(y,A),c=setInterval(O,w))},reset:function v(){clearInterval(c),c=null,w=0,P=null,l=null},handleNewMetric:function p(y,g,A){y===L.BUFFER_LEVEL&&(_[A]=g)}}}T.__dashjs_factory_name="BufferLevelHandler",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/MetricsReportingEvents.js");U.default=dashjs.FactoryMaker.getClassFactory(function T(I){var P,w=(I=I||{}).eventBus,D=I.metricsConstants;function c(){w.off(M.default.METRICS_INITIALISATION_COMPLETE,c,this),w.trigger(M.default.BECAME_REPORTING_PLAYER)}return{initialize:function l(_,L){L&&(P=L,w.on(M.default.METRICS_INITIALISATION_COMPLETE,c,this))},reset:function f(){P=null},handleNewMetric:function d(_,L){_===D.DVB_ERRORS&&P&&P.report(_,L)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":function(Ie,U,m){"use strict";function M(){var I,R;return{initialize:function P(c,l){I=c,R=l},reset:function w(){R=null,I=void 0},handleNewMetric:function D(c,l){c===I&&R&&R.report(I,l)}}}m.r(U),M.__dashjs_factory_name="GenericMetricHandler",U.default=dashjs.FactoryMaker.getClassFactory(M)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/utils/HandlerHelpers.js");function T(I){I=I||{};var P,w,D,c,l,f=[],d=Object(M.default)(this.context).getInstance(),_=I.metricsConstants;function L(){f.length&&P&&P.report(c,f),f=[]}return{initialize:function S(v,p,y,g){p&&(w=d.validateN(y),P=p,g&&g.length&&(D=g),c=d.reconstructFullMetricName(v,y,g),l=setInterval(L,w))},reset:function O(){clearInterval(l),l=null,w=null,D=null,f=[],P=null},handleNewMetric:function b(v,p){v===_.HTTP_REQUEST&&(!D||D===p.type)&&f.push(p)}}}T.__dashjs_factory_name="HttpListHandler",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/reporting/ReportingFactory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/reporting/reporters/DVBReporting.js");function T(I){var w,R={"urn:dvb:dash:reporting:2014":M.default},P=this.context,D=(I=I||{}).debug?I.debug.getLogger(w):{},c=I.metricsConstants,l=I.mediaPlayerModel||{};return{create:function f(L,S){var O;try{(O=R[L.schemeIdUri](P).create({metricsConstants:c,mediaPlayerModel:l})).initialize(L,S)}catch(b){O=null,D.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(L.schemeIdUri," (").concat(b.message,")"))}return O},register:function d(L,S){R[L]=S},unregister:function _(L){delete R[L]}}}T.__dashjs_factory_name="ReportingFactory",U.default=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/utils/MetricSerialiser.js"),T=m("./src/streaming/metrics/utils/RNG.js"),I=m("./src/streaming/models/CustomParametersModel.js");function R(P){var w,c,l,f,d,_,L,S,D=this.context,v=[],p=(P=P||{}).metricsConstants;function N(){d=!1,_=!1,L=null,S=null}return w={report:function A(ee,Z){Array.isArray(Z)||(Z=[Z]),_&&S.isEnabled()&&Z.forEach(function(le){var H=c.serialise(le);ee!==p.DVB_ERRORS&&(H="metricname=".concat(ee,"&").concat(H)),function g(ee,Z,le){var H=new XMLHttpRequest;H.withCredentials=l.getXHRWithCredentialsForType(p.HTTP_REQUEST_DVB_REPORTING_TYPE);var W=function(){var Y=v.indexOf(H);-1!==Y&&(v.splice(Y,1),H.status>=200&&H.status<300?Z&&Z():le&&le())};v.push(H);try{H.open("GET",ee),H.onloadend=W,H.onerror=W,H.send()}catch{H.onerror()}}(H="".concat(L,"?").concat(H),null,function(){_=!1})})},initialize:function E(ee,Z){var le;if(S=Z,!(L=ee.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");d||((le=ee.dvb_probability)&&(1e3===le||le/1e3>=f.random())&&(_=!0),d=!0)},reset:function G(){N()}},function y(){c=Object(M.default)(D).getInstance(),f=Object(T.default)(D).getInstance(),l=Object(I.default)(D).getInstance(),N()}(),w}R.__dashjs_factory_name="DVBReporting",U.default=dashjs.FactoryMaker.getClassFactory(R)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/vo/DVBErrors.js"),T=m("./src/streaming/metrics/MetricsReportingEvents.js");function I(R){var P,w,D=(R=R||{}).eventBus,c=R.dashMetrics,l=R.metricsConstants,f=R.events;function d(g){var A=new M.default;if(w){for(var E in g)g.hasOwnProperty(E)&&(A[E]=g[E]);A.mpdurl||(A.mpdurl=w.originalUrl||w.url),A.terror||(A.terror=new Date),c.addDVBErrors(A)}}function _(g){g.error||(w=g.manifest)}function L(g){d({errorcode:M.default.BASE_URL_CHANGED,servicelocation:g.entry})}function S(){d({errorcode:M.default.BECAME_REPORTER})}function b(g){g.metric===l.HTTP_REQUEST&&function O(g){(0===g.responsecode||null==g.responsecode||g.responsecode>=400||g.responsecode<100||g.responsecode>=600)&&d({errorcode:g.responsecode||M.default.CONNECTION_ERROR,url:g.url,terror:g.tresponse,servicelocation:g._serviceLocation})}(g.value)}function v(g){var E;switch(g.error?g.error.code:0){case MediaError.MEDIA_ERR_NETWORK:E=M.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:E=M.default.CORRUPT_MEDIA_OTHER;break;default:return}d({errorcode:E})}return P={initialise:function p(){D.on(f.MANIFEST_UPDATED,_,P),D.on(f.SERVICE_LOCATION_BLACKLIST_CHANGED,L,P),D.on(f.METRIC_ADDED,b,P),D.on(f.METRIC_UPDATED,b,P),D.on(f.PLAYBACK_ERROR,v,P),D.on(T.default.BECAME_REPORTING_PLAYER,S,P)},reset:function y(){D.off(f.MANIFEST_UPDATED,_,P),D.off(f.SERVICE_LOCATION_BLACKLIST_CHANGED,L,P),D.off(f.METRIC_ADDED,b,P),D.off(f.METRIC_UPDATED,b,P),D.off(f.PLAYBACK_ERROR,v,P),D.off(T.default.BECAME_REPORTING_PLAYER,S,P)}}}I.__dashjs_factory_name="DVBErrorsTranslator",U.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/metrics/utils/HandlerHelpers.js":function(Ie,U,m){"use strict";function M(){return{reconstructFullMetricName:function(I,R,P){var w=I;return R&&(w+="("+R,P&&P.length&&(w+=","+P),w+=")"),w},validateN:function(I){if(!I)throw new Error("missing n");if(isNaN(I))throw new Error("n is NaN");if(I<0)throw new Error("n must be positive");return I}}}m.r(U),M.__dashjs_factory_name="HandlerHelpers",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/utils/ManifestParsing.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/vo/Metrics.js"),T=m("./src/streaming/metrics/vo/Range.js"),I=m("./src/streaming/metrics/vo/Reporting.js");function R(P){var D=(P=P||{}).adapter,c=P.constants;return{getMetrics:function f(d){var _=[];return d&&d.Metrics_asArray&&d.Metrics_asArray.forEach(function(L){var S=new M.default,O=D.getIsDynamic(d);L.hasOwnProperty("metrics")&&(S.metrics=L.metrics,L.Range_asArray&&L.Range_asArray.forEach(function(b){var v=new T.default;v.starttime=function l(d,_,L){var S,O,b=0;return _?b=D.getAvailabilityStartTime(d)/1e3:(S=D.getRegularPeriods(d)).length&&(b=S[0].start),O=b,L&&L.hasOwnProperty(c.START_TIME)&&(O+=L.starttime),O}(d,O,b),v.duration=b.hasOwnProperty("duration")?b.duration:D.getDuration(d),v._useWallClockTime=O,S.Range.push(v)}),L.Reporting_asArray&&(L.Reporting_asArray.forEach(function(b){var v=new I.default;b.hasOwnProperty(c.SCHEME_ID_URI)&&(v.schemeIdUri=b.schemeIdUri,b.hasOwnProperty("value")&&(v.value=b.value),b.hasOwnProperty(c.DVB_REPORTING_URL)&&(v.dvb_reportingUrl=b[c.DVB_REPORTING_URL]),b.hasOwnProperty(c.DVB_PROBABILITY)&&(v.dvb_probability=b[c.DVB_PROBABILITY]),S.Reporting.push(v))}),_.push(S)))}),_}}}R.__dashjs_factory_name="ManifestParsing",U.default=dashjs.FactoryMaker.getSingletonFactory(R)},"./src/streaming/metrics/utils/MetricSerialiser.js":function(Ie,U,m){"use strict";function M(){return{serialise:function T(I){var w,D,R=[],P=[];for(w in I)if(I.hasOwnProperty(w)&&0!==w.indexOf("_")){if(null==(D=I[w])&&(D=""),Array.isArray(D)){if(!D.length)continue;P=[],D.forEach(function(c){var l="Object"!==Object.prototype.toString.call(c).slice(8,-1);P.push(l?c:T(c))}),D=P.map(encodeURIComponent).join(",")}else"string"==typeof D?D=encodeURIComponent(D):D instanceof Date?D=D.toISOString():"number"==typeof D&&(D=Math.round(D));R.push(w+"="+D)}return R.join("&")}}}m.r(U),M.__dashjs_factory_name="MetricSerialiser",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/utils/RNG.js":function(Ie,U,m){"use strict";function M(){var w,D,c,T=window.crypto||window.msCrypto,I=Uint32Array,R=Math.pow(2,8*I.BYTES_PER_ELEMENT)-1;function l(){T&&(w||(w=new I(10)),T.getRandomValues(w),D=0)}return c={random:function f(d,_){var L;return d||(d=0),_||(_=1),T?(D===w.length&&l(),L=w[D]/R,D+=1):L=Math.random(),L*(_-d)+d}},l(),c}m.r(U),M.__dashjs_factory_name="RNG",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/vo/DVBErrors.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U);var D=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});D.SSL_CONNECTION_FAILED_PREFIX="SSL",D.DNS_RESOLUTION_FAILED="C00",D.HOST_UNREACHABLE="C01",D.CONNECTION_REFUSED="C02",D.CONNECTION_ERROR="C03",D.CORRUPT_MEDIA_ISOBMFF="M00",D.CORRUPT_MEDIA_OTHER="M01",D.BASE_URL_CHANGED="F00",D.BECAME_REPORTER="S00",U.default=D},"./src/streaming/metrics/vo/Metrics.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function T(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function I(l,f,d){return f&&T(l.prototype,f),d&&T(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}function R(l){var f=function P(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}m.r(U);U.default=I(function l(){(function w(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/utils/ObjectUtils.js"),T=m("./src/core/FactoryMaker.js");function I(_){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(_)}function R(_,L){for(var S=0;S<L.length;S++){var O=L[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,w(O.key),O)}}function P(_,L,S){return L&&R(_.prototype,L),S&&R(_,S),Object.defineProperty(_,"prototype",{writable:!1}),_}function w(_){var L=function D(_,L){if("object"!==I(_)||null===_)return _;var S=_[Symbol.toPrimitive];if(void 0!==S){var O=S.call(_,L||"default");if("object"!==I(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(_)}(_,"string");return"symbol"===I(L)?L:String(L)}var l=NaN,f=P(function _(L,S){(function c(_,L){if(!(_ instanceof L))throw new TypeError("Cannot call a class as a function")})(this,_),this.data={baseUrls:L||null,selectedIdx:S||l},this.children=[]});function d(){var _,L,S,O=this.context,b=Object(M.default)(O).getInstance();function g(le,H,W){var x=S.getBaseURLsFromElement(W);le[H]?b.areEqual(x,le[H].data.baseUrls)||(le[H].data.baseUrls=x,le[H].data.selectedIdx=l):le[H]=new f(x)}function A(le){!function y(){if(!S||!S.hasOwnProperty("getBaseURLsFromElement")||!S.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var H=S.getBaseURLsFromElement(le);b.areEqual(H,L.data.baseUrls)||(L.data.baseUrls=H,L.data.selectedIdx=l),le&&le.Period_asArray&&le.Period_asArray.forEach(function(W,x){g(L.children,x,W),W.AdaptationSet_asArray&&W.AdaptationSet_asArray.forEach(function(Y,z){g(L.children[x].children,z,Y),Y.Representation_asArray&&Y.Representation_asArray.sort(S.getRepresentationSortFunction()).forEach(function(ie,oe){g(L.children[x].children[z].children,oe,ie)})})})}function E(le,H){var W=H||L;le(W.data),W.children&&W.children.forEach(function(x){return E(le,x)})}function ee(){L=new f}return _={reset:ee,update:function G(le){A(le)},getForPath:function Z(le){var H=L,W=[H.data];return le&&le.forEach(function(x){(H=H.children[x])&&W.push(H.data)}),W.filter(function(x){return x.baseUrls.length})},invalidateSelectedIndexes:function N(le){E(function(H){isNaN(H.selectedIdx)||le===H.baseUrls[H.selectedIdx].serviceLocation&&(H.selectedIdx=l)})},setConfig:function p(le){le.adapter&&(S=le.adapter)}},function v(){ee()}(),_}d.__dashjs_factory_name="BaseURLTreeModel",U.default=T.default.getClassFactory(d)},"./src/streaming/models/CmcdModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/streaming/MediaPlayerEvents.js"),I=m("./src/streaming/metrics/MetricsReportingEvents.js"),R=m("./src/core/FactoryMaker.js"),P=m("./src/core/Settings.js"),w=m("./src/streaming/constants/Constants.js"),D=m("./src/streaming/vo/metrics/HTTPRequest.js"),c=m("./src/dash/models/DashManifestModel.js"),l=m("./src/core/Utils.js");function f(g,A){var E=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!E){if(Array.isArray(g)||(E=function d(g,A){if(g){if("string"==typeof g)return _(g,A);var E=Object.prototype.toString.call(g).slice(8,-1);if("Object"===E&&g.constructor&&(E=g.constructor.name),"Map"===E||"Set"===E)return Array.from(g);if("Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _(g,A)}}(g))||A&&g&&"number"==typeof g.length){E&&(g=E);var N=0,G=function(){};return{s:G,n:function(){return N>=g.length?{done:!0}:{done:!1,value:g[N++]}},e:function(W){throw W},f:G}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var le,ee=!0,Z=!1;return{s:function(){E=E.call(g)},n:function(){var W=E.next();return ee=W.done,W},e:function(W){Z=!0,le=W},f:function(){try{!ee&&null!=E.return&&E.return()}finally{if(Z)throw le}}}}function _(g,A){(null==A||A>g.length)&&(A=g.length);for(var E=0,N=new Array(A);E<A;E++)N[E]=g[E];return N}var O_MANIFEST="m",O_AUDIO="a",O_VIDEO="v",O_INIT="i",O_CAPTION="c",O_ISOBMFF_TEXT_TRACK="tt",O_ENCRYPTION_KEY="k",O_OTHER="o",b_DASH="d",b_MSS="s",v_VOD="v",v_LIVE="l";function y(){var g,A,E,N,G,ee,Z,le,H,W,x=this.context,Y=Object(M.default)(x).getInstance(),z=Object(P.default)(x).getInstance();function J(){E={pr:1,nor:null,st:null,sf:null,sid:"".concat(l.default.generateUuid()),cid:null},H={},le={},W={},ae()}function fe(){ae()}function ae(){if(ee){var Ce=ee.getStreamController();if(Ce&&"function"==typeof Ce.getActiveStream){var Oe=Ce.getActiveStream();!Oe||(Z=Oe.getProcessors())}}}function de(Ce,Oe){var $e,Ge={},Ne=f(Oe);try{for(Ne.s();!($e=Ne.n()).done;){var Je=$e.value;Ce[Je]&&(Ge[Je]=Ce[Je])}}catch(nt){Ne.e(nt)}finally{Ne.f()}return Ge}function se(Ce){var Oe=z.get().streaming.cmcd.enabledKeys;return Ce.filter(function(Ge){return Oe.includes(Ge)})}function Se(Ce){try{return Ce.type===D.HTTPRequest.MPD_TYPE?function ne(){var Ce=B();return Ce.ot=O_MANIFEST,Ce}():Ce.type===D.HTTPRequest.MEDIA_SEGMENT_TYPE?(function F(Ce){W.hasOwnProperty(Ce)||(W[Ce]=!1),le.hasOwnProperty(Ce)||(le[Ce]=!1),H.hasOwnProperty(Ce)||(H[Ce]=!1)}(Ce.mediaType),function X(Ce){var Vt,Oe=B(),Ge=function te(Ce){try{return parseInt(Ce.mediaInfo.bitrateList[Ce.quality].bandwidth/1e3)}catch{return null}}(Ce),Ne=function Ee(Ce){try{return isNaN(Ce.duration)?null:Math.round(1e3*Ce.duration)}catch{return null}}(Ce),$e=function q(Ce){try{return 100*parseInt(N.getThroughputHistory().getSafeAverageThroughput(Ce)/100)}catch{return null}}(Ce.mediaType),Je=function K(Ce){try{var Oe=E.pr,Ge=G.getCurrentBufferLevel(Ce);return isNaN(Oe)||isNaN(Ge)?null:100*parseInt(Ge/Oe*10)}catch{return null}}(Ce.mediaType),nt=j(Ce.mediaType),at=function me(Ce){try{var Oe=N.getTopBitrateInfoFor(Ce);return Math.round(Oe.bitrate/1e3)}catch{return null}}(Ce.mediaType),ht=E.pr,wt=function Pe(Ce){if(Z&&0!==Z.length){var Ge,Oe=f(Z);try{for(Oe.s();!(Ge=Oe.n()).done;){var Ne=Ge.value;if(Ne.getType()===Ce)return Ne.probeNextRequest()}}catch($e){Oe.e($e)}finally{Oe.f()}}}(Ce.mediaType);Ce.mediaType===w.default.VIDEO&&(Vt=O_VIDEO),Ce.mediaType===w.default.AUDIO&&(Vt=O_AUDIO),Ce.mediaType===w.default.TEXT&&(Vt="application/mp4"===Ce.mediaInfo.mimeType?O_ISOBMFF_TEXT_TRACK:O_CAPTION);var kt=z.get().streaming.cmcd.rtp;return kt||(kt=function Re(Ce){var Oe=ee.getPlaybackRate();Oe||(Oe=1);var Ge=Ce.quality,$e=Ce.mediaInfo,Je=Ce.duration,nt=j(Ce.mediaType);0===nt&&(nt=500);var Vt=$e.bitrateList[Ge].bandwidth*Je/1e3/(nt/Oe/1e3),kt=z.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(z.get().streaming.cmcd.rtpSafetyFactor)?z.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Vt*kt/100)+1)}(Ce)),Oe.rtp=kt,wt&&(Ce.url!==wt.url?Oe.nor=encodeURIComponent(l.default.getRelativeUrl(Ce.url,wt.url)):wt.range&&(Oe.nrr=wt.range)),Ge&&(Oe.br=Ge),Vt&&(Oe.ot=Vt),isNaN(Ne)||(Oe.d=Ne),isNaN($e)||(Oe.mtp=$e),isNaN(Je)||(Oe.dl=Je),isNaN(nt)||(Oe.bl=nt),isNaN(at)||(Oe.tb=at),!isNaN(ht)&&1!==ht&&(Oe.pr=ht),H[Ce.mediaType]&&(Oe.bs=!0,H[Ce.mediaType]=!1),(le[Ce.mediaType]||!W[Ce.mediaType])&&(Oe.su=!0,le[Ce.mediaType]=!1,W[Ce.mediaType]=!0),Oe}(Ce)):Ce.type===D.HTTPRequest.INIT_SEGMENT_TYPE?function V(){var Ce=B();return Ce.ot=O_INIT,Ce.su=!0,Ce}():Ce.type===D.HTTPRequest.OTHER_TYPE||Ce.type===D.HTTPRequest.XLINK_EXPANSION_TYPE?function re(){var Ce=B();return Ce.ot=O_OTHER,Ce}():Ce.type===D.HTTPRequest.LICENSE?function ge(Ce){var Oe=B();return Oe.ot=O_ENCRYPTION_KEY,Oe}():null}catch{return null}}function B(){var Ce={},Oe=z.get().streaming.cmcd.cid?z.get().streaming.cmcd.cid:E.cid;return Ce.v=1,Ce.sid=z.get().streaming.cmcd.sid?z.get().streaming.cmcd.sid:E.sid,Ce.sid="".concat(Ce.sid),Oe&&(Ce.cid="".concat(Oe)),!isNaN(E.pr)&&1!==E.pr&&null!==E.pr&&(Ce.pr=E.pr),E.st&&(Ce.st=E.st),E.sf&&(Ce.sf=E.sf),Ce}function j(Ce){try{var Oe=G.getCurrentBufferLevel(Ce);return isNaN(Oe)?null:100*parseInt(10*Oe)}catch{return null}}function $(Ce){try{E.pr=Ce.playbackRate}catch{}}function ce(Ce){try{var Oe=g.getIsDynamic(Ce.data),Ne=Ce.protocol&&"MSS"===Ce.protocol?b_MSS:b_DASH;E.st="".concat(Oe?v_LIVE:v_VOD),E.sf="".concat(Ne)}catch{}}function ue(Ce){try{Ce.state&&Ce.mediaType&&Ce.state===T.default.BUFFER_EMPTY&&(H[Ce.mediaType]||(H[Ce.mediaType]=!0),le[Ce.mediaType]||(le[Ce.mediaType]=!0))}catch{}}function be(){for(var Ce in H)H.hasOwnProperty(Ce)&&(H[Ce]=!0);for(var Oe in le)le.hasOwnProperty(Oe)&&(le[Oe]=!0)}function we(Ce){try{if(!Ce)return null;var Oe=Object.keys(Ce).sort(function($e,Je){return $e.localeCompare(Je)}),Ge=Oe.length,Ne=Oe.reduce(function($e,Je,nt){return"v"===Je&&1===Ce[Je]||($e+="string"==typeof Ce[Je]&&"ot"!==Je&&"sf"!==Je&&"st"!==Je?"".concat(Je,"=").concat(JSON.stringify(Ce[Je])):"".concat(Je,"=").concat(Ce[Je]),nt<Ge-1&&($e+=",")),$e},"");return(Ne=Ne.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return A={getQueryParameter:function pe(Ce){try{if(z.get().streaming.cmcd&&z.get().streaming.cmcd.enabled){var Oe=Se(Ce),Ne=we(function he(Ce){try{var Oe=z.get().streaming.cmcd.enabledKeys;return Object.keys(Ce).filter(function(Ge){return Oe.includes(Ge)}).reduce(function(Ge,Ne){return Ge[Ne]=Ce[Ne],Ge},{})}catch{return Ce}}(Oe));return Y.trigger(I.default.CMCD_DATA_GENERATED,{url:Ce.url,mediaType:Ce.mediaType,cmcdData:Oe,cmcdString:Ne}),{key:"CMCD",value:Ne}}return null}catch{return null}},getHeaderParameters:function ve(Ce){try{if(z.get().streaming.cmcd&&z.get().streaming.cmcd.enabled){var Oe=Se(Ce),Ge=de(Oe,se(["br","d","ot","tb"])),Ne=de(Oe,se(["bl","dl","mtp","nor","nrr","su"])),$e=de(Oe,se(["bs","rtp"])),Je=de(Oe,se(["cid","pr","sf","sid","st","v"])),nt={"CMCD-Object":we(Ge),"CMCD-Request":we(Ne),"CMCD-Status":we($e),"CMCD-Session":we(Je)};return Y.trigger(I.default.CMCD_DATA_GENERATED,{url:Ce.url,mediaType:Ce.mediaType,cmcdData:Oe,headers:nt}),nt}return null}catch{return null}},setConfig:function ye(Ce){!Ce||(Ce.abrController&&(N=Ce.abrController),Ce.dashMetrics&&(G=Ce.dashMetrics),Ce.playbackController&&(ee=Ce.playbackController))},reset:function Ue(){Y.off(T.default.PLAYBACK_RATE_CHANGED,$,this),Y.off(T.default.MANIFEST_LOADED,ce,this),Y.off(T.default.BUFFER_LEVEL_STATE_CHANGED,ue,A),Y.off(T.default.PLAYBACK_SEEKED,be,A),J()},initialize:function oe(){Y.on(T.default.PLAYBACK_RATE_CHANGED,$,A),Y.on(T.default.MANIFEST_LOADED,ce,A),Y.on(T.default.BUFFER_LEVEL_STATE_CHANGED,ue,A),Y.on(T.default.PLAYBACK_SEEKED,be,A),Y.on(T.default.PERIOD_SWITCH_COMPLETED,fe,A)}},function ie(){g=Object(c.default)(x).getInstance(),J()}(),A}y.__dashjs_factory_name="CmcdModel",U.default=R.default.getSingletonFactory(y)},"./src/streaming/models/CustomParametersModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/vo/UTCTiming.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/core/Settings.js"),R=m("./src/streaming/utils/SupervisorTools.js"),P=m("./src/streaming/rules/abr/ABRRulesCollection.js"),w=m("./src/streaming/constants/Constants.js");function c(){var l,f,d,_,L,S,O,b,v=this.context,p=Object(I.default)(v).getInstance();function g(){_=[],L=[],S=[],b=[],O=null,f=[]}function ye(F,V){var re=-1;F.some(function(B,te){if(B===V)return re=te,!0}),!(re<0)&&F.splice(re,1)}function J(F){var V;for(V=0;V<b.length;V++)if(b[V].rulename===F)return V;return-1}function de(F,V){se(F,V);var re=new M.default;re.schemeIdUri=F,re.value=V,f.push(re)}function se(F,V){Object(R.checkParameterType)(F,"string"),Object(R.checkParameterType)(V,"string"),f.forEach(function(re,B){re.schemeIdUri===F&&re.value===V&&f.splice(B,1)})}return l={getCustomInitialTrackSelectionFunction:function ee(){return O},setCustomInitialTrackSelectionFunction:function N(F){O=F},resetCustomInitialTrackSelectionFunction:function G(){O=null},getLicenseResponseFilters:function le(){return L},getLicenseRequestFilters:function Z(){return _},getCustomCapabilitiesFilters:function z(){return S},registerCustomCapabilitiesFilter:function ie(F){S.push(F)},registerLicenseResponseFilter:function W(F){L.push(F)},registerLicenseRequestFilter:function H(F){_.push(F)},unregisterCustomCapabilitiesFilter:function oe(F){ye(S,F)},unregisterLicenseResponseFilter:function Y(F){ye(L,F)},unregisterLicenseRequestFilter:function x(F){ye(_,F)},addAbrCustomRule:function fe(F,V,re){if("string"!=typeof F||F!==P.default.ABANDON_FRAGMENT_RULES&&F!==P.default.QUALITY_SWITCH_RULES||"string"!=typeof V)throw w.default.BAD_ARGUMENT_ERROR;var B=J(V);-1===B?b.push({type:F,rulename:V,rule:re}):(b[B].type=F,b[B].rule=re)},removeAllAbrCustomRule:function pe(){b=[]},removeAbrCustomRule:function ae(F){if(F){var V=J(F);-1!==V&&b.splice(V,1)}else b=[]},getAbrCustomRules:function he(){return b},addUTCTimingSource:de,removeUTCTimingSource:se,getUTCTimingSources:function ve(){return f},clearDefaultUTCTimingSources:function Se(){f=[]},restoreDefaultUTCTimingSources:function ge(){var F=p.get().streaming.utcSynchronization.defaultTimingSource;de(F.scheme,F.value)},setXHRWithCredentialsForType:function ne(F,V){F?d[F]=!!V:Object.keys(d).forEach(function(re){ne(re,V)})},getXHRWithCredentialsForType:function X(F){var V=d[F];return void 0===V?d.default:V},setConfig:function E(){},reset:function A(){g()}},function y(){d={default:false},g()}(),l}c.__dashjs_factory_name="CustomParametersModel",U.default=T.default.getSingletonFactory(c)},"./src/streaming/models/FragmentModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/vo/FragmentRequest.js"),I="loading",R="executed",w="failed";function D(l){var v,p,y,g,f=(l=l||{}).eventBus,d=l.events,_=l.dashMetrics,L=l.fragmentLoader,S=l.debug,O=l.streamInfo,b=l.type;function G(ge){var te;return!!ge&&(te=!1,y.some(function(me){if(function(B,te){return!isNaN(B.index)&&B.startTime===te.startTime&&B.adaptationIndex===te.adaptationIndex&&B.type===te.type}(ge,me)||function(B,te){return isNaN(B.index)&&isNaN(te.index)&&B.quality===te.quality}(ge,me)||function(B,te){return B.action===T.default.ACTION_COMPLETE&&B.action===te.action}(ge,me))return te=!0}),te)}function le(ge){return isNaN(ge.duration)?.25:Math.min(ge.duration/8,.5)}function H(ge){y=y.filter(function(ne){var X=le(ne);return isNaN(ne.startTime)||void 0!==ge&&ne.startTime>=ge-X})}function x(ge,ne){ne<=ge+.5||(y=y.filter(function(X){var F=le(X);return isNaN(X.startTime)||X.startTime>=ne-F||isNaN(X.duration)||X.startTime+X.duration<=ge+F}))}function ye(ge,ne,X){for(var V=ge.length-1;V>=0;V--){var re=ge[V],B=re.startTime,te=B+re.duration;if(X=isNaN(X)?le(re):X,!isNaN(B)&&!isNaN(te)&&ne+X>=B&&ne-X<te||isNaN(B)&&isNaN(ne))return re}return null}function ae(ge,ne){_.addSchedulingInfo(ge,ne),_.addRequestsQueue(ge.mediaType,g,y)}function pe(ge){ge.sender===L&&(g.splice(g.indexOf(ge.request),1),ge.response&&!ge.error&&y.push(ge.request),ae(ge.request,ge.error?w:R),f.trigger(d.FRAGMENT_LOADING_COMPLETED,{request:ge.request,response:ge.response,error:ge.error,sender:this},{streamId:O.id,mediaType:b}))}function he(ge){ge.sender===L&&f.trigger(d.FRAGMENT_LOADING_PROGRESS,{request:ge.request,response:ge.response,error:ge.error,sender:this},{streamId:O.id,mediaType:b})}function de(ge){ge.sender===L&&f.trigger(d.FRAGMENT_LOADING_ABANDONED,{request:ge.request},{streamId:O.id,mediaType:b})}function ve(){y=[],g=[]}return v={getStreamId:function E(){return O.id},getType:function N(){return b},getRequests:function Z(ge){var X=[];return(ge?ge.state instanceof Array?ge.state:[ge.state]:[]).forEach(function(F){var V=function fe(ge){var ne;switch(ge){case I:ne=g;break;case R:ne=y;break;default:ne=[]}return ne}(F);X=X.concat(function J(ge,ne){return ne.hasOwnProperty("time")?[ye(ge,ne.time,ne.threshold)]:ge.filter(function(X){for(var F in ne)if("state"!==F&&ne.hasOwnProperty(F)&&X[F]!=ne[F])return!1;return!0})}(V,ge))}),X},isFragmentLoaded:G,isFragmentLoadedOrPending:function ee(ge){var F,ne=!1,X=0;if(!(ne=G(ge)))for(X=0;X<g.length;X++)ge.url===(F=g[X]).url&&ge.startTime===F.startTime&&(ne=!0);return ne},removeExecutedRequestsBeforeTime:H,removeExecutedRequestsAfterTime:function W(ge){y=y.filter(function(ne){return isNaN(ne.startTime)||void 0!==ge&&ne.startTime<ge})},syncExecutedRequestsWithBufferedRange:function Y(ge,ne){if(ge&&0!==ge.length){for(var X=0,F=0,V=ge.length;F<V;F++)x(X,ge.start(F)),X=ge.end(F);ne>0&&x(X,ne)}else H()},abortRequests:function z(){p.debug("abort requests"),L.abort(),g=[]},executeRequest:function ie(ge){ge.action===T.default.ACTION_DOWNLOAD?(ae(ge,I),g.push(ge),function oe(ge){f.trigger(d.FRAGMENT_LOADING_STARTED,{request:ge},{streamId:O.id,mediaType:b}),L.load(ge)}(ge)):p.warn("Unknown request action.")},reset:function se(){f.off(d.LOADING_COMPLETED,pe,this),f.off(d.LOADING_DATA_PROGRESS,he,this),f.off(d.LOADING_ABANDONED,de,this),L&&L.reset(),ve()},resetInitialSettings:ve,addExecutedRequest:function Se(ge){y.push(ge)}},function A(){p=S.getLogger(v),ve(),f.on(d.LOADING_COMPLETED,pe,v),f.on(d.LOADING_DATA_PROGRESS,he,v),f.on(d.LOADING_ABANDONED,de,v)}(),v}D.__dashjs_factory_name="FragmentModel";var c=M.default.getClassFactory(D);c.FRAGMENT_MODEL_LOADING=I,c.FRAGMENT_MODEL_EXECUTED=R,c.FRAGMENT_MODEL_CANCELED="canceled",c.FRAGMENT_MODEL_FAILED=w,M.default.updateClassFactory(D.__dashjs_factory_name,c),U.default=c},"./src/streaming/models/LowLatencyThroughputModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/core/FactoryMaker.js");function I(){var f,d,l=this.context,_={};function L(){d=Object(M.default)(l).getInstance().getLogger(f)}function S(y){for(var g={},A=0,E=0,N=0,G=0,ee=y.length,Z=0;Z<ee;++Z)A+=y[Z].chunkDownloadTimeRelativeMS,E+=y[Z].bufferLevel,N+=y[Z].chunkDownloadTimeRelativeMS*y[Z].bufferLevel,G+=y[Z].chunkDownloadTimeRelativeMS*y[Z].chunkDownloadTimeRelativeMS;return g.m=(N-A*E/ee)/(G-A*A/ee),g.b=E/ee-g.m*A/ee,function(le){return g.m*le+g.b}}function O(y){var A,g=!0,E=y.reduce(function(N,G){return N+G.bufferLevelAtSegmentEnd},0)/y.length;return y.forEach(function(N){Math.abs(N.bufferLevelAtSegmentEnd/N.bufferLevelAtSegmentStart)<.95&&(g=!1),N.bufferLevelAtSegmentEnd/E<.8&&(g=!1),A?A>N.bitrate&&(g=!1):A=N.bitrate}),g}return f={setup:L,addMeasurement:function p(y,g,A,E,N){y&&y.mediaType&&!_[y.mediaType]&&(_[y.mediaType]=[]);var G=y.mediaInfo.bitrateList.find(function(ee){return ee.id===y.representationId});_[y.mediaType].push({index:y.index,repId:y.representationId,mediaType:y.mediaType,requestTimeMS:E,adjustedAvailabilityStartTimeMS:y.availabilityStartTime.getTime(),segDurationMS:1e3*y.duration,chunksDurationMS:A.reduce(function(ee,Z){return ee+Z.chunkDownloadDurationMS},0),segmentBytes:A.reduce(function(ee,Z){return ee+Z.chunkBytes},0),bitrate:G&&G.bandwidth,bitrateList:y.mediaInfo.bitrateList,chunkMeasurements:A,fetchDownloadDurationMS:g,throughputCapacityDelayMS:N,getEstimatedBufferLevel:S(A.slice(1))}),_[y.mediaType].length>10&&_[y.mediaType].shift()},getThroughputCapacityDelayMS:function v(y,g){var A=_[y.mediaType]&&_[y.mediaType].slice(-3);return!A||A.length<3||!O(A)?0:g/4>250?250:g/4},getEstimatedDownloadDurationMS:function b(y){var g=_[y.mediaType].slice(-1).pop(),A=_[y.mediaType].slice(-3),E=g.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;g.bufferLevelAtSegmentStart=g.getEstimatedBufferLevel(E/2),g.bufferLevelAtSegmentEnd=g.getEstimatedBufferLevel(E);var N=O(A),G=N?.6:.8;if(g.isBufferStable&&1.05*g.segDurationMS<g.fetchDownloadDurationMS)return g.fetchDownloadDurationMS;if(!N||g.segDurationMS<g.fetchDownloadDurationMS||g.adjustedAvailabilityStartTimeMS<=g.requestTimeMS+g.throughputCapacityDelayMS-g.segDurationMS)return.8*g.fetchDownloadDurationMS;for(var ee=g.requestTimeMS+g.throughputCapacityDelayMS-g.adjustedAvailabilityStartTimeMS,Z=0,le=0,H=0,W=0;W<g.chunkMeasurements.length;W++){var x=g.chunkMeasurements[W];if(ee<le+x.chunkDownloadDurationMS)break;le+=x.chunkDownloadDurationMS,Z+=x.chunkBytes,H++}if(ee<0&&d.warn("request time was before adjusted availibitly start time"),Z&&le&&H>.2*g.chunkMeasurements.length){var z=g.segmentBytes/(Z/le);return g.fetchDownloadDurationMS<z?g.fetchDownloadDurationMS*G:z*G}var ie=g.bitrate;return g.bitrateList.some(function(oe){if(oe.bandwidth>g.bitrate)return ie=oe.bandwidth,!0}),ie===g.bitrate?g.fetchDownloadDurationMS*G:G*g.segmentBytes*8*1e3/ie}},L(),f}I.__dashjs_factory_name="LowLatencyThroughputModel",U.default=T.default.getSingletonFactory(I)},"./src/streaming/models/ManifestModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js");function R(){var c,P=this.context,w=Object(M.default)(P).getInstance();return{getValue:function l(){return c},setValue:function f(d){c=d,d&&w.trigger(T.default.MANIFEST_LOADED,{data:d})}}}R.__dashjs_factory_name="ManifestModel",U.default=I.default.getSingletonFactory(R)},"./src/streaming/models/MediaPlayerModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/core/Settings.js"),d=-.5;function L(){var S,O,b,v,p=this.context,y=Object(I.default)(p).getInstance();function E(ie,oe){return isNaN(ie)?0:ie>0?(oe&&O.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie<d?(oe&&O.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(d,": ").concat(-50,"% playback speed.")),d):ie}function N(ie,oe){return isNaN(ie)?0:ie<0?(oe&&O.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie>1?(oe&&O.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ie}function W(){var ie=y.get().streaming.buffer.stableBufferTime>0?y.get().streaming.buffer.stableBufferTime:y.get().streaming.buffer.fastSwitchEnabled?20:12,oe=b.getLiveDelay();return!isNaN(oe)&&oe>0?Math.min(ie,oe):ie}return S={getCatchupMaxDrift:function G(){if(!isNaN(y.get().streaming.liveCatchup.maxDrift)&&y.get().streaming.liveCatchup.maxDrift>0)return y.get().streaming.liveCatchup.maxDrift;var ie=v.getServiceDescriptionSettings();return ie&&ie.liveCatchup&&!isNaN(ie.liveCatchup.maxDrift)&&ie.liveCatchup.maxDrift>0?ie.liveCatchup.maxDrift:12},getCatchupModeEnabled:function Z(){return null!==y.get().streaming.liveCatchup.enabled?y.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:W,getInitialBufferLevel:function H(){var ie=y.get().streaming.buffer.initialBufferLevel;return isNaN(ie)||ie<0?0:Math.min(W(),ie)},getRetryAttemptsForType:function x(ie){var oe=isNaN(y.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:y.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?y.get().streaming.retryAttempts[ie]*oe:y.get().streaming.retryAttempts[ie]},getRetryIntervalsForType:function Y(ie){var oe=isNaN(y.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:y.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?y.get().streaming.retryIntervals[ie]/oe:y.get().streaming.retryIntervals[ie]},getCatchupPlaybackRates:function ee(ie){var oe=y.get().streaming.liveCatchup.playbackRate;if(!isNaN(oe.min)||!isNaN(oe.max))return{min:E(oe.min,ie),max:N(oe.max,ie)};var ye=v.getServiceDescriptionSettings();if(ye&&ye.liveCatchup&&(!isNaN(ye.liveCatchup.playbackRate.min)||!isNaN(ye.liveCatchup.playbackRate.max))){var J=ye.liveCatchup.playbackRate;return{min:E(J.min,ie),max:N(J.max,ie)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function le(ie,oe){try{var ye=y.get().streaming.abr[ie][oe];if(!isNaN(ye)&&-1!==ye)return ye;var J=v.getServiceDescriptionSettings();return J&&J[ie]&&!isNaN(J[ie][oe])?J[ie][oe]:-1}catch{return-1}},setConfig:function A(ie){ie.playbackController&&(b=ie.playbackController),ie.serviceDescriptionController&&(v=ie.serviceDescriptionController)},reset:function z(){}},function g(){O=Object(M.default)(p).getInstance().getLogger(S)}(),S}L.__dashjs_factory_name="MediaPlayerModel",U.default=T.default.getSingletonFactory(L)},"./src/streaming/models/MetricsModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/constants/MetricsConstants.js"),I=m("./src/streaming/vo/MetricsList.js"),R=m("./src/streaming/vo/metrics/HTTPRequest.js"),P=m("./src/streaming/vo/metrics/RepresentationSwitch.js"),w=m("./src/streaming/vo/metrics/BufferLevel.js"),D=m("./src/streaming/vo/metrics/BufferState.js"),c=m("./src/streaming/vo/metrics/DVRInfo.js"),l=m("./src/streaming/vo/metrics/DroppedFrames.js"),f=m("./src/streaming/vo/metrics/ManifestUpdate.js"),d=m("./src/streaming/vo/metrics/SchedulingInfo.js"),_=m("./src/core/EventBus.js"),L=m("./src/streaming/vo/metrics/RequestsQueue.js"),S=m("./src/core/events/Events.js"),O=m("./src/core/FactoryMaker.js");function b(v){var A,E,p=(v=v||{}).settings,y=this.context,g=Object(_.default)(y).getInstance();function G(){g.trigger(S.default.METRICS_CHANGED)}function ee(F){g.trigger(S.default.METRIC_CHANGED,{mediaType:F}),G()}function Z(F,V,re){g.trigger(S.default.METRIC_UPDATED,{mediaType:F,metric:V,value:re}),ee(F)}function le(F,V,re){g.trigger(S.default.METRIC_ADDED,{mediaType:F,metric:V,value:re}),ee(F)}function x(F,V){var re=null;return F&&(E.hasOwnProperty(F)?re=E[F]:V||(re=new I.default,E[F]=re)),re}function Y(F,V,re){var B=x(F);null!==B&&(B[V].push(re),B[V].length>p.get().streaming.metrics.maxListDepth&&B[V].shift())}function ye(F,V,re){Y(F,V,re),le(F,V,re)}return A={clearCurrentMetricsForType:function H(F){delete E[F],ee(F)},clearAllCurrentMetrics:function W(){E={},G()},getMetricsFor:x,addHttpRequest:function ie(F,V,re,B,te,me,Ee,q,K,j,$,ce,ue,be,we,Pe){var Re=new R.HTTPRequest;me&&me!==B&&(ie(F,null,re,B,te,null,null,q,K,null,null,null,ue,null,null,Pe),Re.actualurl=me),Re.tcpid=V,Re.type=re,Re.url=B,Re.range=q,Re.trequest=K,Re.tresponse=j,Re.responsecode=ce,Re._tfinish=$,Re._stream=F,Re._mediaduration=ue,Re._quality=te,Re._responseHeaders=be,Re._serviceLocation=Ee,Re._fileLoaderType=Pe,we?we.forEach(function(Ue){!function z(F,V,re,B){var te=new R.HTTPRequestTrace;return te.s=V,te.d=re,te.b=B,F.trace.push(te),F.interval||(F.interval=0),F.interval+=re,te}(Re,Ue.s,Ue.d,Ue.b)}):(delete Re.interval,delete Re.trace),ye(F,T.default.HTTP_REQUEST,Re)},addRepresentationSwitch:function oe(F,V,re,B,te){var me=new P.default;me.t=V,me.mt=re,me.to=B,te?me.lto=te:delete me.lto,ye(F,T.default.TRACK_SWITCH,me)},addBufferLevel:function J(F,V,re){var B=new w.default;B.t=V,B.level=re,ye(F,T.default.BUFFER_LEVEL,B)},addBufferState:function fe(F,V,re){var B=new D.default;B.target=re,B.state=V,ye(F,T.default.BUFFER_STATE,B)},addDVRInfo:function ae(F,V,re,B){var te=new c.default;te.time=V,te.range=B,te.manifestInfo=re,ye(F,T.default.DVR_INFO,te)},addDroppedFrames:function pe(F,V){var re=new l.default,B=x(F).DroppedFrames;!V||(re.time=V.creationTime,re.droppedFrames=V.droppedVideoFrames,!(B.length>0&&B[B.length-1]==re)&&ye(F,T.default.DROPPED_FRAMES,re))},addSchedulingInfo:function he(F,V,re,B,te,me,Ee,q,K){var j=new d.default;j.mediaType=F,j.t=V,j.type=re,j.startTime=B,j.availabilityStartTime=te,j.duration=me,j.quality=Ee,j.range=q,j.state=K,ye(F,T.default.SCHEDULING_INFO,j)},addRequestsQueue:function de(F,V,re){var B=new L.default;B.loadingRequests=V,B.executedRequests=re,x(F).RequestsQueue=B,le(F,T.default.REQUESTS_QUEUE,B)},addManifestUpdate:function ve(F,V,re,B,te,me,Ee,q,K,j){var $=new f.ManifestUpdate;$.mediaType=F,$.type=V,$.requestTime=re,$.fetchTime=B,$.availabilityStartTime=te,$.presentationStartTime=me,$.clientTimeOffset=Ee,$.currentTime=q,$.buffered=K,$.latency=j,Y(M.default.STREAM,T.default.MANIFEST_UPDATE,$),le(F,T.default.MANIFEST_UPDATE,$)},updateManifestUpdateInfo:function se(F,V){if(F){for(var re in V)F[re]=V[re];Z(F.mediaType,T.default.MANIFEST_UPDATE,F)}},addManifestUpdateStreamInfo:function Se(F,V,re,B,te){if(F){var me=new f.ManifestUpdateStreamInfo;me.id=V,me.index=re,me.start=B,me.duration=te,F.streamInfo.push(me),Z(F.mediaType,T.default.MANIFEST_UPDATE_STREAM_INFO,F)}},addManifestUpdateRepresentationInfo:function ge(F,V,re,B,te,me,Ee,q){if(F&&F.representationInfo){var K=new f.ManifestUpdateRepresentationInfo;K.id=V,K.index=re,K.streamIndex=B,K.mediaType=te,K.startNumber=Ee,K.fragmentInfoType=q,K.presentationTimeOffset=me,F.representationInfo.push(K),Z(F.mediaType,T.default.MANIFEST_UPDATE_TRACK_INFO,F)}},addPlayList:function ne(F){F.trace&&Array.isArray(F.trace)?F.trace.forEach(function(V){V.hasOwnProperty("subreplevel")&&!V.subreplevel&&delete V.subreplevel}):delete F.trace,ye(M.default.STREAM,T.default.PLAY_LIST,F)},addDVBErrors:function X(F){ye(M.default.STREAM,T.default.DVB_ERRORS,F)}},function N(){E={}}(),A}b.__dashjs_factory_name="MetricsModel",U.default=O.default.getSingletonFactory(b)},"./src/streaming/models/URIFragmentModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/URIFragmentData.js"),T=m("./src/core/FactoryMaker.js");function I(){var P;return{initialize:function w(c){if(P=new M.default,!c)return null;var l=c.indexOf("#");if(-1!==l)for(var f=c.substr(l+1).split("&"),d=0,_=f.length;d<_;++d){var L=f[d],S=L.indexOf("=");if(-1!==S){var O=L.substring(0,S);P.hasOwnProperty(O)&&(P[O]=L.substr(S+1))}}},getURIFragmentData:function D(){return P}}}I.__dashjs_factory_name="URIFragmentModel",U.default=T.default.getSingletonFactory(I)},"./src/streaming/models/VideoModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),R=m("./src/core/Debug.js"),P=m("./src/streaming/constants/Constants.js"),w=new Map([[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function D(){var c,l,f,d,_,L,b=this.context,v=Object(T.default)(b).getInstance(),p=[];function E(){f&&(f.playbackRate=1,f.removeEventListener("canplay",E))}function ye(){return p.length>0}function pe(){if(f&&ye()&&0===f.playbackRate){var Ce=document.createEvent("Event");Ce.initEvent("waiting",!0,!1),f.dispatchEvent(Ce)}}function V(Ce,Oe){f&&f.addEventListener(Ce,Oe)}function re(Ce,Oe){f&&f.removeEventListener(Ce,Oe)}function B(){return f?f.readyState:NaN}function te(){return f?f.buffered:null}function ue(Ce,Oe,Ge,Ne,$e){if(f)for(var Je=0;Je<f.textTracks.length;Je++)if(f.textTracks[Je].kind===Ce&&(!Oe||f.textTracks[Je].label==Oe)&&f.textTracks[Je].language===Ge&&f.textTracks[Je].isTTML===Ne&&f.textTracks[Je].isEmbedded===$e)return f.textTracks[Je];return null}function Re(Ce,Oe){Ce===P.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||B()>=Ce?Oe():function Ue(Ce,Oe){V(Ce,function Ne(){re(Ce,Ne),Oe(Ce)})}(w.get(Ce),Oe)}return c={initialize:function g(){v.on(I.default.PLAYBACK_PLAYING,pe,this)},setCurrentTime:function G(Ce,Oe){d=Ce,Re(P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(f){if(f.currentTime===d)return void(d=NaN);try{d=Oe?function ee(Ce){var Oe=te(),Ge=Ce,Ne=9999999999;if(Oe)for(var $e=0;$e<Oe.length;$e++){var Je=Oe.start($e),nt=Oe.end($e),at=Math.abs(Je-Ce),ht=Math.abs(nt-Ce);if(Ce>=Je&&Ce<=nt)return Ce;at<Ne&&(Ne=at,Ge=Je),ht<Ne&&(Ne=ht,Ge=nt)}return Ge}(d):d,f.currentTime=d,d=NaN}catch(Ge){0===f.readyState&&Ge.code===Ge.INVALID_STATE_ERR&&setTimeout(function(){f.currentTime=d,d=NaN},400)}}})},play:function de(){if(f){f.autoplay=!0;var Ce=f.play();Ce&&Ce.catch&&typeof Promise<"u"&&Ce.catch(function(Oe){"NotAllowedError"===Oe.name&&v.trigger(I.default.PLAYBACK_NOT_ALLOWED),l.warn("Caught pending play exception - continuing (".concat(Oe,")"))})}},isPaused:function ve(){return f?f.paused:null},pause:function se(){f&&(f.pause(),f.autoplay=!1)},isStalled:ye,isSeeking:function Se(){return f?f.seeking||!isNaN(d):null},getTime:function ge(){return f?isNaN(d)?f.currentTime:d:null},getPlaybackRate:function ne(){return f?f.playbackRate:null},setPlaybackRate:function N(Ce){!f||(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&f.readyState<=2&&Ce>0?f.addEventListener("canplay",E):f.playbackRate=Ce)},getPlayedRanges:function X(){return f?f.played:null},getEnded:function F(){return f?f.ended:null},setStallState:function oe(Ce,Oe){!function ae(Ce,Oe){Oe?function J(Ce){null===Ce||!f||f.seeking||-1!==p.indexOf(Ce)||p.push(Ce)}(Ce):function fe(Ce){var Oe=p.indexOf(Ce);null!==Ce&&-1!==Oe&&p.splice(Oe,1)}(Ce)}(Ce,Oe)},getElement:function Z(){return f},setElement:function le(Ce){if(!(null==Ce||Ce&&/^(VIDEO|AUDIO)$/i.test(Ce.nodeName)))throw"element is not video or audio DOM type!";(f=Ce)&&(f.preload="auto")},setSource:function H(Ce){f&&(Ce?f.src=Ce:(f.removeAttribute("src"),f.load()))},getSource:function W(){return f?f.src:null},getTTMLRenderingDiv:function x(){return _},setTTMLRenderingDiv:function z(Ce){(_=Ce).style.position="absolute",_.style.display="flex",_.style.overflow="hidden",_.style.pointerEvents="none",_.style.top=0,_.style.left=0},getVttRenderingDiv:function Y(){return L},setVttRenderingDiv:function ie(Ce){L=Ce},getPlaybackQuality:function he(){if(!f)return null;var Ce="webkitDroppedFrameCount"in f&&"webkitDecodedFrameCount"in f,Ge=null;return"getVideoPlaybackQuality"in f?Ge=f.getVideoPlaybackQuality():Ce&&(Ge={droppedVideoFrames:f.webkitDroppedFrameCount,totalVideoFrames:f.webkitDroppedFrameCount+f.webkitDecodedFrameCount,creationTime:new Date}),Ge},addEventListener:V,removeEventListener:re,getReadyState:B,getBufferRange:te,getClientWidth:function me(){return f?f.clientWidth:NaN},getClientHeight:function Ee(){return f?f.clientHeight:NaN},getTextTracks:function ce(){return f?f.textTracks:[]},getTextTrack:ue,addTextTrack:function be(Ce,Oe,Ge,Ne,$e){if(!f)return null;var Je=ue(Ce,Oe,Ge,Ne,$e);return Je||((Je=f.addTextTrack(Ce,Oe,Ge)).isEmbedded=$e,Je.isTTML=Ne),Je},appendChild:function we(Ce){f&&(f.appendChild(Ce),void 0!==Ce.isTTML&&(f.textTracks[f.textTracks.length-1].isTTML=Ce.isTTML,f.textTracks[f.textTracks.length-1].isEmbedded=Ce.isEmbedded))},removeChild:function Pe(Ce){f&&f.removeChild(Ce)},getVideoWidth:function q(){return f?f.videoWidth:NaN},getVideoHeight:function K(){return f?f.videoHeight:NaN},getVideoRelativeOffsetTop:function j(){var Ce=f.parentNode.host||f.parentNode;return Ce?f.getBoundingClientRect().top-Ce.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function $(){var Ce=f.parentNode.host||f.parentNode;return Ce?f.getBoundingClientRect().left-Ce.getBoundingClientRect().left:NaN},waitForReadyState:Re,reset:function A(){v.off(I.default.PLAYBACK_PLAYING,pe,this)}},function y(){l=Object(R.default)(b).getInstance().getLogger(c),d=NaN}(),c}D.__dashjs_factory_name="VideoModel",U.default=M.default.getSingletonFactory(D)},"./src/streaming/net/FetchLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Settings.js"),I=m("./src/streaming/constants/Constants.js"),R=m("./src/streaming/utils/RequestModifier.js");function P(S,O){return function c(S){if(Array.isArray(S))return S}(S)||function D(S,O){var b=null==S?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(null!=b){var v,p,y,g,A=[],E=!0,N=!1;try{if(y=(b=b.call(S)).next,0===O){if(Object(b)!==b)return;E=!1}else for(;!(E=(v=y.call(b)).done)&&(A.push(v.value),A.length!==O);E=!0);}catch(G){N=!0,p=G}finally{try{if(!E&&null!=b.return&&(g=b.return(),Object(g)!==g))return}finally{if(N)throw p}}return A}}(S,O)||f(S,O)||function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(S,O){if(S){if("string"==typeof S)return d(S,O);var b=Object.prototype.toString.call(S).slice(8,-1);if("Object"===b&&S.constructor&&(b=S.constructor.name),"Map"===b||"Set"===b)return Array.from(S);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return d(S,O)}}function d(S,O){(null==O||O>S.length)&&(O=S.length);for(var b=0,v=new Array(O);b<O;b++)v[b]=S[b];return v}function _(S){var A,O=this.context,b=(S=S||{}).requestModifier,v=S.lowLatencyThroughputModel,p=S.boxParser,y=Object(T.default)(O).getInstance();function G(x){var J,Y=new Date,z=x.request,ie=new Headers;if(z.range&&ie.append("Range","bytes="+z.range),x.headers)for(var oe in x.headers){var ye=x.headers[oe];ye&&ie.append(oe,ye)}z.requestStartDate||(z.requestStartDate=Y),b&&b.modifyRequestHeader&&b.modifyRequestHeader({setRequestHeader:function(ve,se){ie.append(ve,se)}},{url:x.url}),"function"==typeof window.AbortController&&(J=new AbortController,x.abortController=J,J.signal.onabort=x.onabort);var fe={method:x.method,headers:ie,credentials:x.withCredentials?"include":void 0,signal:J?J.signal:void 0},ae=y.get().streaming.abr.fetchThroughputCalculationMode,pe=Date.now(),he=0;new Promise(function(de){if(ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&v&&(he=v.getThroughputCapacityDelayMS(z,1e3*A.getCurrentBufferLevel(z.mediaType))))return setTimeout(de,he);de()}).then(function(){var de=Date.now();fetch(x.url,fe).then(function(ve){x.response||(x.response={}),x.response.status=ve.status,x.response.statusText=ve.statusText,x.response.responseURL=ve.url,ve.ok||x.onerror();var ge,se="",Se=function l(S,O){var b=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!b){if(Array.isArray(S)||(b=f(S))||O&&S&&"number"==typeof S.length){b&&(S=b);var v=0,p=function(){};return{s:p,n:function(){return v>=S.length?{done:!0}:{done:!1,value:S[v++]}},e:function(N){throw N},f:p}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,y=!0,g=!1;return{s:function(){b=b.call(S)},n:function(){var N=b.next();return y=N.done,N},e:function(N){g=!0,A=N},f:function(){try{!y&&null!=b.return&&b.return()}finally{if(g)throw A}}}}(ve.headers.keys());try{for(Se.s();!(ge=Se.n()).done;){var ne=ge.value;se+=ne+": "+ve.headers.get(ne)+"\r\n"}}catch(Re){Se.e(Re)}finally{Se.f()}if(x.response.responseHeaders=se,!ve.body)return ve.arrayBuffer().then(function(Re){x.response.response=Re,x.progress({loaded:Re.byteLength,total:Re.byteLength,stream:!1}),x.onload(),x.onend()});var Ce,Oe,X=parseInt(ve.headers.get("Content-Length"),10),F=0,V=!1,re=new Uint8Array,B=0;if(ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&v){var me=de,Ee=0,K=P(ve.body.tee(),2),$=K[1];Ce=K[0].getReader(),Oe=[],Ce.read().then(function Ge(Ne){var $e=Ne.value,Je=Ne.done;if(Ee=Date.now(),$e&&$e.length){var nt=Ee-me,at=$e.length;Oe.push({chunkDownloadTimeRelativeMS:Ee-de,chunkDownloadDurationMS:nt,chunkBytes:at,kbps:Math.round(8*at/(nt/1e3)),bufferLevel:A.getCurrentBufferLevel(z.mediaType)})}if(Je){var ht=Ee-de,wt=Oe.reduce(function(Vt,kt){return Vt+kt.chunkBytes},0);return v.addMeasurement(z,ht,Oe,pe,he,se),void x.progress({loaded:wt,total:wt,lengthComputable:!0,time:v.getEstimatedDownloadDurationMS(z),stream:!0})}return me=Date.now(),Ce.read().then(Ge)}),x.reader=$.getReader()}else x.reader=ve.body.getReader();var ce=[],ue=[],be=[],we=!0;ee(x,function Re(Ue){var Ce=Ue.value;if(Ue.done){if(re){if(ae!==I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Ge=null,Ne=null;ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Ge=function W(x,Y){try{var z,ie;z=x.filter(function(de,ve){return ve<x.length-1}),ie=Y.filter(function(de,ve){return ve<Y.length-1});var oe=[];if(z.length>1){for(var ye=0,J=0,fe=0;fe<z.length;fe++)if(z[fe]&&ie[fe]){var ae=ie[fe].ts-z[fe].ts;if(ae>1)oe.push(8*ie[fe].bytes/ae);else{0===J&&(J=z[fe].ts);var pe=ie[fe].ts-J;pe>1?(oe.push(8*ye/pe),ye=0,J=0):ye+=ie[fe].bytes}}if(oe.length>0)return oe.reduce(function(de,ve){return de+ve},0)/oe.length}return null}catch{return null}}(ue,be))&&(Ne=8*F/Ge):ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Ne=H(ce,F)),x.progress({loaded:F,total:isNaN(X)?F:X,lengthComputable:!0,time:Ne,stream:!0})}x.response.response=re.buffer}return x.onload(),void x.onend()}if(Ce&&Ce.length>0){re=function Z(x,Y){if(0===x.length)return Y;var z=new Uint8Array(x.length+Y.length);return z.set(x),z.set(Y,x.length),z}(re,Ce),F+=Ce.length,ce.push({ts:Date.now(),bytes:Ce.length}),ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&we&&p.findLastTopIsoBoxCompleted(["moof"],re,B).found&&(we=!1,ue.push({ts:performance.now(),bytes:Ce.length}));var Je=p.findLastTopIsoBoxCompleted(["moov","mdat"],re,B);if(Je.found){var at,nt=Je.lastCompletedOffset+Je.size;ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!we&&(we=!0,be.push({ts:performance.now(),bytes:re.length})),nt===re.length?(at=re,re=new Uint8Array):(at=new Uint8Array(re.subarray(0,nt)),re=re.subarray(nt)),x.progress({data:at.buffer,lengthComputable:!1,noTrace:!0}),B=0}else B=Je.lastCompletedOffset,V||(x.progress({lengthComputable:!1,noTrace:!0}),V=!0)}ee(x,Re)})}).catch(function(ve){x.onerror&&x.onerror(ve)})})}function ee(x,Y){x.reader.read().then(Y).catch(function(z){x.onerror&&200===x.response.status&&x.onerror(z)})}function H(x,Y){try{if((x=x.filter(function(oe){return oe.bytes>Y/4/x.length})).length>1){var z=0,ie=(x[x.length-1].ts-x[0].ts)/x.length;return x.forEach(function(oe,ye){var J=x[ye+1];if(J){var fe=J.ts-oe.ts;z+=fe<ie?fe:0}}),z}return null}catch{return null}}return{load:function N(x){b&&b.modifyRequest?Object(R.modifyRequest)(x,b).then(function(){return G(x)}):G(x)},abort:function le(x){if(x.abortController)x.abortController.abort();else if(x.reader)try{x.reader.cancel(),x.onabort()}catch{}},calculateDownloadedTime:H,setup:function E(x){A=x.dashMetrics}}}_.__dashjs_factory_name="FetchLoader";var L=M.default.getClassFactory(_);U.default=L},"./src/streaming/net/HTTPLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/net/XHRLoader.js"),T=m("./src/streaming/net/FetchLoader.js"),I=m("./src/streaming/vo/metrics/HTTPRequest.js"),R=m("./src/core/FactoryMaker.js"),P=m("./src/streaming/vo/DashJSError.js"),w=m("./src/streaming/models/CmcdModel.js"),D=m("./src/core/Utils.js"),c=m("./src/core/Debug.js"),l=m("./src/core/EventBus.js"),f=m("./src/core/events/Events.js"),d=m("./src/core/Settings.js"),_=m("./src/streaming/constants/Constants.js"),L=m("./src/streaming/models/LowLatencyThroughputModel.js"),S=m("./src/streaming/models/CustomParametersModel.js");function O(A){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(A)}function b(A,E,N){return(E=function v(A){var E=function p(A,E){if("object"!==O(A)||null===A)return A;var N=A[Symbol.toPrimitive];if(void 0!==N){var G=N.call(A,E||"default");if("object"!==O(G))return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(A)}(A,"string");return"symbol"===O(E)?E:String(E)}(E))in A?Object.defineProperty(A,E,{value:N,enumerable:!0,configurable:!0,writable:!0}):A[E]=N,A}function y(A){var z,ie,oe,ye,J,fe,ae,pe,he,E=this.context,N=(A=A||{}).errHandler,G=A.dashMetrics,ee=A.mediaPlayerModel,Z=A.requestModifier,le=A.boxParser,H=A.errors,W=A.requestTimeout||0,x=Object(l.default)(E).getInstance(),Y=Object(d.default)(E).getInstance();function ve(ne,X){var K,F=ne.request,V=[],re=!0,B=!0,te=new Date,me=te,Ee=0,q=null;if(!Z||!G||!N)throw new Error("config object is not correct or missing");var Pe,j=function(at){if(B=!1,F.requestStartDate=te,F.requestEndDate=new Date,F.firstByteDate=F.firstByteDate||te,F.fileLoaderType=q,!F.checkExistenceOnly){var ht=K.response?K.response.responseURL:null,wt=K.response?K.response.status:null,Vt=K.response&&K.response.getAllResponseHeaders?K.response.getAllResponseHeaders():K.response?K.response.responseHeaders:[];G.addHttpRequest(F,ht,wt,Vt,at?V:null),F.type===I.HTTPRequest.MPD_TYPE&&G.addManifestUpdate(F)}},$=function(){if(-1!==ie.indexOf(K)&&(ie.splice(ie.indexOf(K),1),B))if(j(!1),X>0){try{Y.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&F.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE&&ee.getRetryAttemptsForType(I.HTTPRequest.MEDIA_SEGMENT_TYPE)===X&&x.trigger(f.default.ATTEMPT_BACKGROUND_SYNC)}catch{}X--;var ht={config:ne};ye.push(ht),ht.timeout=setTimeout(function(){-1!==ye.indexOf(ht)&&(ye.splice(ye.indexOf(ht),1),ve(ne,X))},ee.getRetryIntervalsForType(F.type))}else{if(F.type===I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;N.error(new P.default(J[F.type],F.url+" is not available",{request:F,response:K.response})),ne.error&&ne.error(F,"error",K.response.statusText),ne.complete&&ne.complete(F,K.response.statusText)}};F.hasOwnProperty("availabilityTimeComplete")&&!1===F.availabilityTimeComplete&&window.fetch&&"arraybuffer"===F.responseType&&F.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE?((Pe=Object(T.default)(E).create({requestModifier:Z,lowLatencyThroughputModel:pe,boxParser:le})).setup({dashMetrics:G}),q=_.default.FILE_LOADER_TYPES.FETCH):(Pe=Object(M.default)(E).create({requestModifier:Z}),q=_.default.FILE_LOADER_TYPES.XHR);var Re=null,Ue=Z.modifyRequestURL?Z.modifyRequestURL(F.url):F.url;if(Y.get().streaming.cmcd&&Y.get().streaming.cmcd.enabled){var Ce=Y.get().streaming.cmcd.mode;if(Ce===_.default.CMCD_MODE_QUERY){var Oe=function se(ne){try{var X=[],F=fe.getQueryParameter(ne);return F&&X.push(F),X}catch{return[]}}(F);Ue=D.default.addAditionalQueryParameterToUrl(Ue,Oe)}else Ce===_.default.CMCD_MODE_HEADER&&(Re=fe.getHeaderParameters(F))}F.url=Ue;var Ge=F.checkExistenceOnly?I.HTTPRequest.HEAD:I.HTTPRequest.GET,Ne=ae.getXHRWithCredentialsForType(F.type);K={url:Ue,method:Ge,withCredentials:Ne,request:F,onload:function(){K.response.status>=200&&K.response.status<=299&&(j(!0),ne.success&&ne.success(K.response.response,K.response.statusText,K.response.responseURL),ne.complete&&ne.complete(F,K.response.statusText))},onend:$,onerror:$,progress:function(at){var ht=new Date;re&&(re=!1,(!at.lengthComputable||at.lengthComputable&&at.total!==at.loaded)&&(F.firstByteDate=ht)),at.lengthComputable&&(F.bytesLoaded=at.loaded,F.bytesTotal=at.total),at.noTrace||(V.push({s:me,d:at.time?at.time:ht.getTime()-me.getTime(),b:[at.loaded?at.loaded-Ee:0]}),me=ht,Ee=at.loaded),ne.progress&&at&&ne.progress(at)},onabort:function(){ne.abort&&ne.abort(F)},ontimeout:function(at){var ht;ht=at.lengthComputable?"Request timeout: loaded: "+at.loaded+", out of: "+at.total+" : "+(at.loaded/at.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",he.warn(ht)},loader:Pe,timeout:W,headers:Re};var $e=(new Date).getTime();if(isNaN(F.delayLoadingTime)||$e>=F.delayLoadingTime)ie.push(K),Pe.load(K);else{var Je={httpRequest:K};oe.push(Je),Je.delayTimeout=setTimeout(function(){if(-1!==oe.indexOf(Je)){oe.splice(oe.indexOf(Je),1);try{te=new Date,me=te,ie.push(Je.httpRequest),Pe.load(Je.httpRequest)}catch{Je.httpRequest.onerror()}}},F.delayLoadingTime-$e)}}return z={load:function Se(ne){ne.request?ve(ne,ee.getRetryAttemptsForType(ne.request.type)):ne.error&&ne.error(ne.request,"error")},abort:function ge(){ye.forEach(function(ne){clearTimeout(ne.timeout),ne.config.request&&ne.config.abort&&ne.config.abort(ne.config.request)}),ye=[],oe.forEach(function(ne){return clearTimeout(ne.delayTimeout)}),oe=[],ie.forEach(function(ne){ne.request.type!==I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(ne.onloadend=ne.onerror=ne.onprogress=void 0,ne.loader.abort(ne))}),ie=[]}},function de(){var ne;he=Object(c.default)(E).getInstance().getLogger(z),ie=[],oe=[],ye=[],fe=Object(w.default)(E).getInstance(),pe=Object(L.default)(E).getInstance(),ae=Object(S.default)(E).getInstance(),b(ne={},I.HTTPRequest.MPD_TYPE,H.DOWNLOAD_ERROR_ID_MANIFEST_CODE),b(ne,I.HTTPRequest.XLINK_EXPANSION_TYPE,H.DOWNLOAD_ERROR_ID_XLINK_CODE),b(ne,I.HTTPRequest.INIT_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),b(ne,I.HTTPRequest.MEDIA_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.INDEX_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.OTHER_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),J=ne}(),z}y.__dashjs_factory_name="HTTPLoader";var g=R.default.getClassFactory(y);U.default=g},"./src/streaming/net/SchemeLoaderFactory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/net/HTTPLoader.js");function I(){var w;function l(){w={}}function d(){l()}return function _(){d()}(),{getLoader:function f(L){for(var S in w)if(w.hasOwnProperty(S)&&L.startsWith(S))return w[S];return T.default},registerLoader:function D(L,S){w[L]=S},unregisterLoader:function c(L){w[L]&&delete w[L]},unregisterAllLoader:l,reset:d}}I.__dashjs_factory_name="SchemeLoaderFactory";var R=M.default.getSingletonFactory(I);U.default=R},"./src/streaming/net/URLLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/net/SchemeLoaderFactory.js");function I(P){P=P||{};var c,l,w=this.context;return c=Object(T.default)(w).getInstance(),{load:function f(_){if(!l){var L=c.getLoader(_&&_.request?_.request.url:null);l=L(w).create({errHandler:P.errHandler,mediaPlayerModel:P.mediaPlayerModel,requestModifier:P.requestModifier,dashMetrics:P.dashMetrics,boxParser:P.boxParser?P.boxParser:null,constants:P.constants?P.constants:null,dashConstants:P.dashConstants?P.dashConstants:null,urlUtils:P.urlUtils?P.urlUtils:null,requestTimeout:isNaN(P.requestTimeout)?0:P.requestTimeout,errors:P.errors})}l.load(_)},abort:function d(){l&&l.abort()}}}I.__dashjs_factory_name="URLLoader";var R=M.default.getClassFactory(I);U.default=R},"./src/streaming/net/XHRLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/utils/RequestModifier.js");function I(P){var w=(P=P||{}).requestModifier;function l(d){var _=new Date,L=d.request,S=new XMLHttpRequest;if(S.open(d.method,d.url,!0),L.responseType&&(S.responseType=L.responseType),L.range&&S.setRequestHeader("Range","bytes="+L.range),L.requestStartDate||(L.requestStartDate=_),w&&w.modifyRequestHeader&&(S=w.modifyRequestHeader(S,{url:d.url})),d.headers)for(var O in d.headers){var b=d.headers[O];b&&S.setRequestHeader(O,b)}S.withCredentials=d.withCredentials,S.onload=d.onload,S.onloadend=d.onend,S.onerror=d.onerror,S.onprogress=d.progress,S.onabort=d.onabort,S.ontimeout=d.ontimeout,S.timeout=d.timeout,S.send(),d.response=S}return{load:function c(d){w&&w.modifyRequest?Object(T.modifyRequest)(d,w).then(function(){return l(d)}):l(d)},abort:function f(d){var _=d.response;_.onloadend=_.onerror=_.onprogress=void 0,_.abort()}}}I.__dashjs_factory_name="XHRLoader";var R=M.default.getClassFactory(I);U.default=R},"./src/streaming/protection/CommonEncryption.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function I(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var f=function w(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}m.r(U);var D={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};U.default=function(){function l(){!function T(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}(this,l)}return function R(l,f,d){return f&&I(l.prototype,f),d&&I(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,null,[{key:"findCencContentProtection",value:function(d){for(var _=null,L=0;L<d.length;++L){var S=d[L];"urn:mpeg:dash:mp4protection:2011"===S.schemeIdUri.toLowerCase()&&("cenc"===S.value.toLowerCase()||"cbcs"===S.value.toLowerCase())&&(_=S)}return _}},{key:"getPSSHData",value:function(d){var _=8,L=new DataView(d),S=L.getUint8(_);return _+=20,S>0&&(_+=4+16*L.getUint32(_)),d.slice(_+=4)}},{key:"getPSSHForKeySystem",value:function(d,_){var L=l.parsePSSHList(_);return d&&L.hasOwnProperty(d.uuid.toLowerCase())?L[d.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(d,_){return"pssh"in d?(d.pssh.__text=d.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),_.decodeArray(d.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(d){if(null==d)return[];for(var _=new DataView(d.buffer||d),S={},O=0;;){var v,p=void 0,y=void 0,g=O;if(O>=_.buffer.byteLength)break;if(v=O+_.getUint32(O),1886614376===_.getUint32(O+=4))if(0===(p=_.getUint8(O+=4))||1===p){O++,O+=3,y="";var A=void 0,E=void 0;for(A=0;A<4;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=4,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<6;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;O+=6,O+=4,S[y=y.toLowerCase()]=_.buffer.slice(g,v),O=v}else O=v;else O=v}return S}},{key:"getLicenseServerUrlFromMediaInfo",value:function(d,_){try{if(!d||0===d.length)return null;for(var L=0,S=null;L<d.length&&!S;){var O=d[L];if(O&&O.contentProtection&&O.contentProtection.length>0){var b=O.contentProtection.filter(function(N){return N.schemeIdUri&&N.schemeIdUri===_});if(b&&b.length>0)for(var v=0;v<b.length&&!S;){for(var p=b[v],y=0;y<D.attributes.length&&!S;){for(var g=0,A=D.attributes[y];g<D.prefixes.length&&!S;)p[A]&&p[A].__prefix&&p[A].__prefix===D.prefixes[g]&&p[A].__text&&(S=p[A].__text),g+=1;y+=1}v+=1}}L+=1}return S}catch{return null}}}]),l}()},"./src/streaming/protection/Protection.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/controllers/ProtectionController.js"),T=m("./src/streaming/protection/controllers/ProtectionKeyController.js"),I=m("./src/streaming/protection/ProtectionEvents.js"),R=m("./src/streaming/protection/errors/ProtectionErrors.js"),P=m("./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),w=m("./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),D=m("./src/streaming/protection/models/ProtectionModel_01b.js"),c=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],l=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function f(){var _,L=this.context;function b(v,p){for(var y=0;y<p.length;y++){var g=p[y];if("function"==typeof v[g[Object.keys(g)[0]]])return g}return null}return _={createProtectionSystem:function S(v){var p=null,y=Object(T.default)(L).getInstance();y.setConfig({debug:v.debug,BASE64:v.BASE64,settings:v.settings}),y.initialize();var g=function O(v){var p=v.debug,y=p.getLogger(_),g=v.eventBus,A=v.errHandler,E=v.videoModel?v.videoModel.getElement():null;return E&&void 0===E.onencrypted||E&&void 0===E.mediaKeys?b(E,l)?(y.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(w.default)(L).create({debug:p,eventBus:g,events:v.events,api:b(E,l)})):b(E,c)?(y.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(D.default)(L).create({debug:p,eventBus:g,errHandler:A,events:v.events,api:b(E,c)})):(y.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(y.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(P.default)(L).create({debug:p,eventBus:g,events:v.events}))}(v);return!p&&g&&(p=Object(M.default)(L).create({protectionModel:g,protectionKeyController:y,eventBus:v.eventBus,debug:v.debug,events:v.events,BASE64:v.BASE64,constants:v.constants,cmcdModel:v.cmcdModel,customParametersModel:v.customParametersModel,settings:v.settings}),v.capabilities.setEncryptedMediaSupported(!0)),p}}}f.__dashjs_factory_name="Protection";var d=dashjs.FactoryMaker.getClassFactory(f);d.events=I.default,d.errors=R.default,dashjs.FactoryMaker.updateClassFactory(f.__dashjs_factory_name,d),U.default=d},"./src/streaming/protection/ProtectionEvents.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function w(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return d(this,A)}}function d(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=f(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",g.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",g.KEY_ADDED="public_keyAdded",g.KEY_ERROR="public_keyError",g.KEY_MESSAGE="public_keyMessage",g.KEY_SESSION_CLOSED="public_keySessionClosed",g.KEY_SESSION_CREATED="public_keySessionCreated",g.KEY_SESSION_REMOVED="public_keySessionRemoved",g.KEY_STATUSES_CHANGED="public_keyStatusesChanged",g.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",g.KEY_SYSTEM_SELECTED="public_keySystemSelected",g.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",g.LICENSE_REQUEST_SENDING="public_licenseRequestSending",g.NEED_KEY="needkey",g.PROTECTION_CREATED="public_protectioncreated",g.PROTECTION_DESTROYED="public_protectiondestroyed",g.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",g.TEARDOWN_COMPLETE="protectionTeardownComplete",g.VIDEO_ELEMENT_SELECTED="videoElementSelected",g.KEY_SESSION_UPDATED="public_keySessionUpdated",g}return function R(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/events/EventsBase.js").default));U.default=b},"./src/streaming/protection/controllers/ProtectionController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/CommonEncryption.js"),T=m("./src/streaming/protection/vo/MediaCapability.js"),I=m("./src/streaming/protection/vo/KeySystemConfiguration.js"),R=m("./src/streaming/protection/errors/ProtectionErrors.js"),P=m("./src/streaming/vo/DashJSError.js"),w=m("./src/streaming/protection/vo/LicenseRequest.js"),D=m("./src/streaming/protection/vo/LicenseResponse.js"),c=m("./src/streaming/vo/metrics/HTTPRequest.js"),l=m("./src/core/Utils.js"),f=m("./src/streaming/constants/Constants.js"),d=m("./src/core/FactoryMaker.js");function _(y){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}function p(y){var Y,z,ie,oe,ye,J,fe,ae,pe,he,de,g=(y=y||{}).protectionKeyController,A=y.protectionModel,E=y.eventBus,N=y.events,G=y.debug,ee=y.BASE64,Z=y.constants,le=[],H=y.cmcdModel,W=y.settings,x=y.customParametersModel;function se(){if(!(E&&E.hasOwnProperty("on")&&g&&g.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function X(Te,Le){ae||pe?ae&&V():function F(Te,Le){if(!pe){pe=!0;var ut,Ye=[];Te=Te.sort(function(yt,gt){return(ye&&ye[yt.ks.systemString]&&ye[yt.ks.systemString].priority>=0?ye[yt.ks.systemString].priority:Te.length)-(ye&&ye[gt.ks.systemString]&&ye[gt.ks.systemString].priority>=0?ye[gt.ks.systemString].priority:Te.length)});for(var st=0;st<Te.length;st++){var tt=Oe(Te[st]);Ye.push({ks:Te[st].ks,configs:[tt],protData:Te[st].protData})}A.requestKeySystemAccess(Ye).then(function(yt){return z.info("DRM: KeySystem Access Granted for system string ("+((ut=yt.data).mksa&&ut.mksa.selectedSystemString?ut.mksa.selectedSystemString:ut.keySystem.systemString)+")!  Selecting key system..."),A.selectKeySystem(ut)}).then(function(yt){if(ae=yt,pe=!1,A){E.trigger(N.KEY_SYSTEM_SELECTED,{data:ut});var gt=me(ae);gt&&gt.serverCertificate&&gt.serverCertificate.length>0&&A.setServerCertificate(ee.decodeArray(gt.serverCertificate).buffer),V()}}).catch(function(yt){ae=null,pe=!1,Le||E.trigger(N.KEY_SYSTEM_SELECTED,{data:null,error:new P.default(R.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,R.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+yt.error)})})}}(Te,Le)}function V(){for(var Te,Le=0;Le<ie.length;Le++)for(Te=0;Te<ie[Le].length;Te++)if(ae===ie[Le][Te].ks){re(ie[Le][Te]);break}ie=[]}function re(Te){if(g.isClearKey(ae)&&Te.protData&&Te.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Te.protData.clearkeys).length){var Le={kids:Object.keys(Te.protData.clearkeys)};Te.initData=(new TextEncoder).encode(JSON.stringify(Le))}Te.sessionId?B(Te):null!==Te.initData&&te(Te)}function B(Te){se(),A.loadKeySession(Te)}function te(Te){var Le=M.default.getPSSHForKeySystem(ae,Te?Te.initData:null);if(Le){if(function K(Te){if(!Te)return!1;try{for(var Le=A.getSessions(),Ye=0;Ye<Le.length;Ye++)if(Le[Ye].getKeyId()===Te)return!0;return!1}catch{return!1}}(Te.keyId)||j(Le))return;try{Te.initData=Le,A.createKeySession(Te)}catch(Ye){E.trigger(N.KEY_SESSION_CREATED,{data:null,error:new P.default(R.default.KEY_SESSION_CREATED_ERROR_CODE,R.default.KEY_SESSION_CREATED_ERROR_MESSAGE+Ye.message)})}}else Te&&Te.initData?A.createKeySession(Te):E.trigger(N.KEY_SESSION_CREATED,{data:null,error:new P.default(R.default.KEY_SESSION_CREATED_ERROR_CODE,R.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(ae?ae.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function me(Te){if(Te){var Le=Te.systemString;if(ye)return Le in ye?ye[Le]:null}return null}function j(Te){if(!Te)return!1;try{for(var Le=A.getAllInitData(),Ye=0;Ye<Le.length;Ye++)if(g.initDataEquals(Te,Le[Ye]))return z.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function be(Te){se(),Te?(A.setMediaElement(Te),E.on(N.NEED_KEY,zt,Y)):null===Te&&(A.setMediaElement(Te),E.off(N.NEED_KEY,zt,Y))}function Oe(Te){var Le=Te.protData,Ye=[],st=[],tt=Le&&Le.audioRobustness&&Le.audioRobustness.length>0?Le.audioRobustness:fe,ut=Le&&Le.videoRobustness&&Le.videoRobustness.length>0?Le.videoRobustness:fe,yt=Te.sessionType,gt=Le&&Le.distinctiveIdentifier?Le.distinctiveIdentifier:"optional",ke=Le&&Le.persistentState?Le.persistentState:"temporary"===yt?"optional":"required";return oe.forEach(function(Ze){Ze.type===Z.AUDIO?Ye.push(new T.default(Ze.codec,tt)):Ze.type===Z.VIDEO&&st.push(new T.default(Ze.codec,ut))}),new I.default(Ye,st,gt,ke,[yt])}function Ge(Te){Te.error?E.trigger(N.KEY_STATUSES_CHANGED,{data:null,error:Te.error}):z.debug("DRM: key status = "+Te.status)}function Ne(Te){z.debug("DRM: onKeyMessage");var Le=Te.data;E.trigger(N.KEY_MESSAGE,{data:Le});var Ye=Le.messageType?Le.messageType:"license-request",st=Le.message,tt=Le.sessionToken,ut=me(ae),yt=g.getLicenseServerModelInstance(ae,ut,Ye),gt={sessionToken:tt,messageType:Ye};if(st&&0!==st.byteLength){if(!yt)return z.debug("DRM: License server request not required for this message (type = "+Te.data.messageType+").  Session ID = "+tt.getSessionId()),void $e(gt);if(g.isClearKey(ae)){var ke=g.processClearKeyLicenseRequest(ae,ut,st);if(ke&&ke.keyPairs&&ke.keyPairs.length>0)return z.debug("DRM: ClearKey license request handled by application!"),$e(gt),void A.updateKeySession(tt,ke)}!function Je(Te,Le,Ye){var st=Te.sessionToken,tt=Te.messageType?Te.messageType:"license-request",ut={sessionToken:st,messageType:tt},yt=ae?ae.systemString:null,gt=function ht(Te,Le,Ye,st,tt){var ut=null,yt=st.message;if(Te&&Te.serverURL){var gt=Te.serverURL;"string"==typeof gt&&""!==gt?ut=gt:"object"===_(gt)&&gt.hasOwnProperty(Le)&&(ut=gt[Le])}else if(Te&&Te.laURL&&""!==Te.laURL)ut=Te.laURL;else if(!(ut=M.default.getLicenseServerUrlFromMediaInfo(oe,ae.schemeIdURI))&&!g.isClearKey(ae)){var ke=M.default.getPSSHData(Ye.initData);(ut=ae.getLicenseServerURLFromInitData(ke))||(ut=st.laURL)}return tt.getServerURLFromMessage(ut,yt,Le)}(Ye,tt,st,Te,Le);if(gt){var ke={},Ze=!1;Ye&&wt(ke,Ye.httpRequestHeaders);var rt=Te.message;wt(ke,ae.getRequestHeadersFromMessage(rt)),Object.keys(ke).forEach(function(Xe){"authorization"===Xe.toLowerCase()&&(Ze=!0)}),Ye&&"boolean"==typeof Ye.withCredentials&&(Ze=Ye.withCredentials);var Dt=function(ct){if(A)if(ct.status>=200&&ct.status<=299){var At=l.default.parseHttpHeaders(ct.getAllResponseHeaders?ct.getAllResponseHeaders():null),sn=new D.default(ct.responseURL,At,ct.response);kt(x.getLicenseResponseFilters(),sn).then(function(){var He=Le.getLicenseMessage(sn.data,yt,tt);null!==He?($e(ut),A.updateKeySession(st,He)):Vt(ct,ut,yt,tt,Le)})}else Vt(ct,ut,yt,tt,Le)},Pt=function(ct){$e(ut,new P.default(R.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,R.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+yt+' update, XHR aborted. status is "'+ct.statusText+'" ('+ct.status+"), readyState is "+ct.readyState))},Bt=function(ct){$e(ut,new P.default(R.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,R.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+yt+' update, XHR error. status is "'+ct.statusText+'" ('+ct.status+"), readyState is "+ct.readyState))},mn=ae.getLicenseRequestFromMessage(rt),un=Le.getHTTPMethod(tt),Nn=Le.getResponseType(yt,tt),er=Ye&&!isNaN(Ye.httpTimeout)?Ye.httpTimeout:8e3,Ae=st.getSessionId()||null,it=new w.default(gt,un,Nn,ke,Ze,tt,Ae,mn),St=isNaN(W.get().streaming.retryAttempts[c.HTTPRequest.LICENSE])?3:W.get().streaming.retryAttempts[c.HTTPRequest.LICENSE];kt(x.getLicenseRequestFilters(),it).then(function(){nt(it,St,er,Dt,Pt,Bt)})}else $e(ut,new P.default(R.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,R.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Le,yt,ut)}else $e(gt,new P.default(R.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,R.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function $e(Te,Le){E.trigger(N.LICENSE_REQUEST_COMPLETE,{data:Te,error:Le})}function nt(Te,Le,Ye,st,tt,ut){var yt=new XMLHttpRequest;if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled&&W.get().streaming.cmcd.mode===f.default.CMCD_MODE_QUERY){var ke=H.getQueryParameter({url:Te.url,type:c.HTTPRequest.LICENSE});ke&&(Te.url=l.default.addAditionalQueryParameterToUrl(Te.url,[ke]))}for(var Ze in yt.open(Te.method,Te.url,!0),yt.responseType=Te.responseType,yt.withCredentials=Te.withCredentials,Ye>0&&(yt.timeout=Ye),Te.headers)yt.setRequestHeader(Ze,Te.headers[Ze]);if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled&&W.get().streaming.cmcd.mode===f.default.CMCD_MODE_HEADER){var mt=H.getHeaderParameters({url:Te.url,type:c.HTTPRequest.LICENSE});if(mt)for(var Dt in mt){var Pt=mt[Dt];Pt&&yt.setRequestHeader(Dt,Pt)}}var Bt=function(){Le--;var un=isNaN(W.get().streaming.retryIntervals[c.HTTPRequest.LICENSE])?1e3:W.get().streaming.retryIntervals[c.HTTPRequest.LICENSE];de=setTimeout(function(){nt(Te,Le,Ye,st,tt,ut)},un)};yt.onload=function(){he=null,this.status>=200&&this.status<=299||Le<=0?st(this):(z.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Le),Bt())},yt.ontimeout=yt.onerror=function(){he=null,Le<=0?ut(this):(z.warn("License request network request failed . Retrying it... Pending retries: "+Le),Bt())},yt.onabort=function(){tt(this)},E.trigger(N.LICENSE_REQUEST_SENDING,{url:Te.url,headers:Te.headers,payload:Te.data,sessionId:Te.sessionId}),he=yt,yt.send(Te.data)}function at(){he&&(he.onloadend=he.onerror=he.onprogress=void 0,he.abort(),he=null),de&&(clearTimeout(de),de=null)}function wt(Te,Le){if(Le)for(var Ye in Le)Te[Ye]=Le[Ye]}function Vt(Te,Le,Ye,st,tt){var ut="NONE",yt=null;Te.response&&(ut=tt.getErrorResponse(Te.response,Ye,st),yt={serverResponse:Te.response||null,responseCode:Te.status||null,responseText:Te.statusText||null}),$e(Le,new P.default(R.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,R.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ye+' update, XHR complete. status is "'+Te.statusText+'" ('+Te.status+"), readyState is "+Te.readyState+".  Response is "+ut,yt))}function kt(Te,Le){return Te?Te.reduce(function(Ye,st){return Ye.then(function(){return st(Le)})},Promise.resolve()):Promise.resolve()}function zt(Te,Le){if(!W.get().streaming.protection.ignoreEmeEncryptedEvent){if(z.debug("DRM: onNeedKey"),"cenc"!==Te.key.initDataType)return void z.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Te.key.initDataType);if(0===oe.length&&(z.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Le=typeof Le>"u"?1:Le+1)<5))return void le.push(setTimeout(function(){zt(Te,Le)},500));var Ye=Te.key.initData;if(ArrayBuffer.isView(Ye)&&(Ye=Ye.buffer),ae){var st=M.default.getPSSHForKeySystem(ae,Ye);if(st&&j(st))return}z.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Ye)));var tt=g.getSupportedKeySystemsFromSegmentPssh(Ye,ye,J);if(0===tt.length)return void z.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function ne(Te){ie.push(Te),X(Te,!1)}(tt)}}return Y={initializeForMedia:function Se(Te){if(!Te)throw new Error("mediaInfo can not be null or undefined");se(),oe.push(Te)},clearMediaInfoArray:function Ee(){oe=[]},handleKeySystemFromManifest:function ge(){if(oe&&0!==oe.length){var Te=[];oe.forEach(function(Le){var Ye=g.getSupportedKeySystemsFromContentProtection(Le.contentProtection,ye,J);Ye.length>0&&(0===Te.length&&(Te=Ye),ie.push(Ye))}),Te&&Te.length>0&&X(Te,!0)}},createKeySession:te,loadKeySession:B,removeKeySession:function $(Te){se(),A.removeKeySession(Te)},closeKeySession:function ce(Te){se(),A.closeKeySession(Te)},setServerCertificate:function ue(Te){se(),A.setServerCertificate(Te)},setMediaElement:be,setSessionType:function we(Te){J=Te},setRobustnessLevel:function Pe(Te){fe=Te},setProtectionData:function Re(Te){ye=Te,g.setProtectionData(Te)},getSupportedKeySystemsFromContentProtection:function q(Te){return se(),g.getSupportedKeySystemsFromContentProtection(Te,ye,J)},getKeySystems:function en(){return g?g.getKeySystems():[]},setKeySystems:function De(Te){g&&g.setKeySystems(Te)},stop:function Ue(){at(),A&&A.stop()},reset:function Ce(){E.off(N.INTERNAL_KEY_MESSAGE,Ne,Y),E.off(N.INTERNAL_KEY_STATUS_CHANGED,Ge,Y),se(),at(),be(null),ae=null,pe=!1,A&&(A.reset(),A=null),le.forEach(function(Te){return clearTimeout(Te)}),le=[],oe=[],ie=[]}},function ve(){z=G.getLogger(Y),ie=[],oe=[],J="temporary",fe="",he=null,de=null,E.on(N.INTERNAL_KEY_MESSAGE,Ne,Y),E.on(N.INTERNAL_KEY_STATUS_CHANGED,Ge,Y)}(),Y}p.__dashjs_factory_name="ProtectionController",U.default=d.default.getClassFactory(p)},"./src/streaming/protection/controllers/ProtectionKeyController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/CommonEncryption.js"),T=m("./src/streaming/protection/drm/KeySystemClearKey.js"),I=m("./src/streaming/protection/drm/KeySystemW3CClearKey.js"),R=m("./src/streaming/protection/drm/KeySystemWidevine.js"),P=m("./src/streaming/protection/drm/KeySystemPlayReady.js"),w=m("./src/streaming/protection/servers/DRMToday.js"),D=m("./src/streaming/protection/servers/PlayReady.js"),c=m("./src/streaming/protection/servers/Widevine.js"),l=m("./src/streaming/protection/servers/ClearKey.js"),f=m("./src/streaming/constants/ProtectionConstants.js");function d(){var L,S,O,b,v,p,y,g,_=this.context;function ie(J,fe){return fe&&J in fe?fe[J]:null}function oe(J,fe){return J&&J.sessionId?J.sessionId:fe&&fe.sessionId?fe.sessionId:null}function ye(J,fe){return J&&J.sessionType?J.sessionType:fe}return L={initialize:function E(){var J;b=[],J=Object(P.default)(_).getInstance({BASE64:v,settings:p}),b.push(J),J=Object(R.default)(_).getInstance({BASE64:v}),b.push(J),J=Object(T.default)(_).getInstance({BASE64:v}),b.push(J),y=J,J=Object(I.default)(_).getInstance({BASE64:v,debug:S}),b.push(J),g=J},setProtectionData:function z(J){for(var ae=0;ae<b.length;ae++){var pe=b[ae];pe.hasOwnProperty("init")&&pe.init((de=pe.systemString,ve=void 0,ve=null,J&&(ve=de in J?J[de]:null),ve))}var de,ve},isClearKey:function Z(J){return J===y||J===g},initDataEquals:function le(J,fe){if(J.byteLength===fe.byteLength){for(var ae=new Uint8Array(J),pe=new Uint8Array(fe),he=0;he<ae.length;he++)if(ae[he]!==pe[he])return!1;return!0}return!1},getKeySystems:function N(){return b},setKeySystems:function G(J){b=J},getKeySystemBySystemString:function ee(J){for(var fe=0;fe<b.length;fe++)if(b[fe].systemString===J)return b[fe];return null},getSupportedKeySystemsFromContentProtection:function H(J,fe,ae){var pe,he,de,ve,se=[];if(J){var Se=M.default.findCencContentProtection(J);for(de=0;de<b.length;++de){var ge=ie((he=b[de]).systemString,fe);for(ve=0;ve<J.length;++ve)if((pe=J[ve]).schemeIdUri.toLowerCase()===he.schemeIdURI){var ne=he.getInitData(pe,Se);se.push({ks:b[de],keyId:pe.keyId,initData:ne,protData:ge,cdmData:he.getCDMData(ge?ge.cdmData:null),sessionId:oe(ge,pe),sessionType:ye(ge,ae)})}}}return se},getSupportedKeySystemsFromSegmentPssh:function W(J,fe,ae){for(var de,pe=[],he=M.default.parsePSSHList(J),se=0;se<b.length;++se){var Se=ie((de=b[se]).systemString,fe);de.uuid in he&&pe.push({ks:de,initData:he[de.uuid],protData:Se,cdmData:de.getCDMData(Se?Se.cdmData:null),sessionId:oe(Se),sessionType:ye(Se,ae)})}return pe},getLicenseServerModelInstance:function x(J,fe,ae){if("license-release"===ae||"individualization-request"===ae)return null;var pe=null;return fe&&fe.hasOwnProperty("drmtoday")?pe=Object(w.default)(_).getInstance({BASE64:v}):J.systemString===f.default.WIDEVINE_KEYSTEM_STRING?pe=Object(c.default)(_).getInstance():J.systemString===f.default.PLAYREADY_KEYSTEM_STRING?pe=Object(D.default)(_).getInstance():J.systemString===f.default.CLEARKEY_KEYSTEM_STRING&&(pe=Object(l.default)(_).getInstance()),pe},processClearKeyLicenseRequest:function Y(J,fe,ae){try{return J.getClearKeysFromProtectionData(fe,ae)}catch{return O.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function A(J){!J||(J.debug&&(O=(S=J.debug).getLogger(L)),J.BASE64&&(v=J.BASE64),J.settings&&(p=J.settings))}}}d.__dashjs_factory_name="ProtectionKeyController",U.default=dashjs.FactoryMaker.getSingletonFactory(d)},"./src/streaming/protection/drm/KeySystemClearKey.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/vo/KeyPair.js"),T=m("./src/streaming/protection/vo/ClearKeyKeySet.js"),I=m("./src/streaming/protection/CommonEncryption.js"),R=m("./src/streaming/constants/ProtectionConstants.js"),P="e2719d58-a985-b3c9-781a-b030af78d30e",w=R.default.CLEARKEY_KEYSTEM_STRING;function c(l){var d=(l=l||{}).BASE64;function S(y){try{var g=y.replace(/-/g,"");return(g=btoa(g.match(/\w{2}/g).map(function(A){return String.fromCharCode(parseInt(A,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:P,schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:w,getInitData:function L(y,g){try{var A=I.default.parseInitDataFromContentProtection(y,d);if(!A&&g){var N={kids:[S(g["cenc:default_KID"])]};A=(new TextEncoder).encode(JSON.stringify(N))}return A}catch{return null}},getRequestHeadersFromMessage:function O(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function b(y){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(y))))},getLicenseServerURLFromInitData:function v(){return null},getCDMData:function p(){return null},getClearKeysFromProtectionData:function _(y,g){var A=null;if(y){for(var E=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g))),N=[],G=0;G<E.kids.length;G++){var ee=E.kids[G],Z=y.clearkeys&&y.clearkeys.hasOwnProperty(ee)?y.clearkeys[ee]:null;if(!Z)throw new Error("DRM: ClearKey keyID ("+ee+") is not known!");N.push(new M.default(ee,Z))}A=new T.default(N)}return A}}}c.__dashjs_factory_name="KeySystemClearKey",U.default=dashjs.FactoryMaker.getSingletonFactory(c)},"./src/streaming/protection/drm/KeySystemPlayReady.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/CommonEncryption.js"),T=m("./src/streaming/constants/ProtectionConstants.js"),I="9a04f079-9840-4286-ab92-e65be0885f95",R=T.default.PLAYREADY_KEYSTEM_STRING;function D(c){var f="utf-16",d=(c=c||{}).BASE64,_=c.settings;function L(){if(!d||!d.hasOwnProperty("decodeArray")||!d.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:I,schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:R,getInitData:function v(g){var ee,Z,le,H,W,A=new Uint8Array([112,115,115,104,0,0,0,0]),E=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),N=0,G=null;if(L(),!g)return null;if("pssh"in g)return M.default.parseInitDataFromContentProtection(g,d);if("pro"in g)G=d.decodeArray(g.pro.__text);else{if(!("prheader"in g))return null;G=d.decodeArray(g.prheader.__text)}return Z=4+A.length+E.length+4+(ee=G.length),le=new ArrayBuffer(Z),H=new Uint8Array(le),(W=new DataView(le)).setUint32(N,Z),H.set(A,N+=4),H.set(E,N+=A.length),W.setUint32(N+=E.length,ee),H.set(G,N+=4),N+=ee,H.buffer},getRequestHeadersFromMessage:function S(g){var A,E,N={},G=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===f&&g&&g.byteLength%2==1)return N["Content-Type"]="text/xml; charset=utf-8",N;var ee="utf-16"===f?new Uint16Array(g):new Uint8Array(g);A=String.fromCharCode.apply(null,ee);for(var Z=(E=G.parseFromString(A,"application/xml")).getElementsByTagName("name"),le=E.getElementsByTagName("value"),H=0;H<Z.length;H++)N[Z[H].childNodes[0].nodeValue]=le[H].childNodes[0].nodeValue;return N.hasOwnProperty("Content")&&(N["Content-Type"]=N.Content,delete N.Content),N.hasOwnProperty("Content-Type")||(N["Content-Type"]="text/xml; charset=utf-8"),N},getLicenseRequestFromMessage:function O(g){var A=null,E=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===f&&g&&g.byteLength%2==1)return g;var N="utf-16"===f?new Uint16Array(g):new Uint8Array(g);L();var G=String.fromCharCode.apply(null,N),ee=E.parseFromString(G,"application/xml");if(!ee.getElementsByTagName("PlayReadyKeyMessage")[0])return g;var Z=ee.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Z&&(A=d.decode(Z)),A},getLicenseServerURLFromInitData:function b(g){if(g)for(var A=new DataView(g),E=A.getUint16(4,!0),N=6,G=new DOMParser,ee=0;ee<E;ee++){var Z=A.getUint16(N,!0),le=A.getUint16(N+=2,!0);if(N+=2,1===Z){var H=g.slice(N,N+le),W=String.fromCharCode.apply(null,new Uint16Array(H)),x=G.parseFromString(W,"application/xml");if(x.getElementsByTagName("LA_URL")[0]){var Y=x.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Y)return Y}if(x.getElementsByTagName("LUI_URL")[0]){var z=x.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(z)return z}}else N+=le}return null},getCDMData:function y(g){var A,E,N,G;if(L(),!g)return null;for(A=[],G=0;G<g.length;++G)A.push(g.charCodeAt(G)),A.push(0);for(A=String.fromCharCode.apply(null,A),A=d.encode(A),E='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",A),N=[],G=0;G<E.length;++G)N.push(E.charCodeAt(G)),N.push(0);return new Uint8Array(N).buffer},setPlayReadyMessageFormat:function p(g){if("utf-8"!==g&&"utf-16"!==g)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');f=g}}}D.__dashjs_factory_name="KeySystemPlayReady",U.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/vo/KeyPair.js"),T=m("./src/streaming/protection/vo/ClearKeyKeySet.js"),I=m("./src/streaming/protection/CommonEncryption.js"),R=m("./src/streaming/constants/ProtectionConstants.js"),P="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",w=R.default.CLEARKEY_KEYSTEM_STRING;function c(l){var f,d=l.BASE64,_=l.debug.getLogger(f);return{uuid:P,schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:w,getInitData:function S(y){return I.default.parseInitDataFromContentProtection(y,d)},getRequestHeadersFromMessage:function O(){return null},getLicenseRequestFromMessage:function b(y){return new Uint8Array(y)},getLicenseServerURLFromInitData:function v(){return null},getCDMData:function p(){return null},getClearKeysFromProtectionData:function L(y,g){var A=null;if(y){for(var E=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g))),N=[],G=0;G<E.kids.length;G++){var ee=E.kids[G],Z=y.clearkeys&&y.clearkeys.hasOwnProperty(ee)?y.clearkeys[ee]:null;if(!Z)throw new Error("DRM: ClearKey keyID ("+ee+") is not known!");N.push(new M.default(ee,Z))}A=new T.default(N),_.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return A}}}c.__dashjs_factory_name="KeySystemW3CClearKey",U.default=dashjs.FactoryMaker.getSingletonFactory(c)},"./src/streaming/protection/drm/KeySystemWidevine.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/CommonEncryption.js"),T=m("./src/streaming/constants/ProtectionConstants.js"),I="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",R=T.default.WIDEVINE_KEYSTEM_STRING;function w(D){var l=(D=D||{}).BASE64;return{uuid:I,schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:R,getInitData:function f(O){return M.default.parseInitDataFromContentProtection(O,l)},getRequestHeadersFromMessage:function d(){return null},getLicenseRequestFromMessage:function _(O){return new Uint8Array(O)},getLicenseServerURLFromInitData:function L(){return null},getCDMData:function S(){return null}}}w.__dashjs_factory_name="KeySystemWidevine",U.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/protection/errors/ProtectionErrors.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function w(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return d(this,A)}}function d(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=f(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).MEDIA_KEYERR_CODE=100,g.MEDIA_KEYERR_UNKNOWN_CODE=101,g.MEDIA_KEYERR_CLIENT_CODE=102,g.MEDIA_KEYERR_SERVICE_CODE=103,g.MEDIA_KEYERR_OUTPUT_CODE=104,g.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,g.MEDIA_KEYERR_DOMAIN_CODE=106,g.MEDIA_KEY_MESSAGE_ERROR_CODE=107,g.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,g.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,g.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,g.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,g.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,g.KEY_SESSION_CREATED_ERROR_CODE=113,g.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,g.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",g.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",g.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",g.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",g.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",g.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",g.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",g.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",g.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",g.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",g.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",g.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",g.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",g.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",g}return function R(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/errors/ErrorsBase.js").default));U.default=b},"./src/streaming/protection/models/ProtectionModel_01b.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m("./src/streaming/protection/vo/NeedKey.js"),I=m("./src/streaming/vo/DashJSError.js"),R=m("./src/streaming/protection/vo/KeyMessage.js"),P=m("./src/streaming/protection/vo/KeySystemConfiguration.js"),w=m("./src/streaming/protection/vo/KeySystemAccess.js"),D=m("./src/streaming/protection/errors/ProtectionErrors.js");function c(l){var b,v,p,y,g,A,E,N,G,f=this.context,d=(l=l||{}).eventBus,_=l.events,L=l.debug,S=l.api,O=l.errHandler;function Z(){p&&he();for(var de=0;de<E.length;de++)oe(E[de]);d.trigger(_.TEARDOWN_COMPLETE)}function oe(de){try{p[S.cancelKeyRequest](y.systemString,de.sessionId)}catch(ve){d.trigger(_.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+de.sessionId+") "+ve.message})}}function pe(de,ve){if(!ve||!de)return null;for(var se=de.length,Se=0;Se<se;Se++)if(de[Se].sessionId==ve)return de[Se];return null}function he(){p.removeEventListener(S.keyerror,G),p.removeEventListener(S.needkey,G),p.removeEventListener(S.keymessage,G),p.removeEventListener(S.keyadded,G)}return b={getAllInitData:function le(){for(var de=[],ve=0;ve<A.length;ve++)de.push(A[ve].initData);for(var se=0;se<E.length;se++)de.push(E[se].initData);return de},getSessions:function H(){return E.concat(A)},requestKeySystemAccess:function W(de){return new Promise(function(ve,se){var Se=p;Se||(Se=document.createElement("video"));for(var ge=!1,ne=0;ne<de.length;ne++)for(var X=de[ne].ks.systemString,F=de[ne].configs,V=null,re=null,B=0;B<F.length;B++){var te=F[B].videoCapabilities;if(te&&0!==te.length){re=[];for(var me=0;me<te.length;me++)""!==Se.canPlayType(te[me].contentType,X)&&re.push(te[me])}if(re&&(!re||0!==re.length)){ge=!0;var Ee=new P.default(V,re),q=g.getKeySystemBySystemString(X),K=new w.default(q,Ee);d.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:K}),ve({data:K});break}}if(!ge){var j="Key system access denied! -- No valid audio/video content configurations detected!";d.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:j}),se({error:j})}})},selectKeySystem:function x(de){return y=de.keySystem,Promise.resolve(y)},setMediaElement:function Y(de){if(p!==de){if(p){he();for(var ve=0;ve<E.length;ve++)oe(E[ve]);E=[]}(p=de)&&(p.addEventListener(S.keyerror,G),p.addEventListener(S.needkey,G),p.addEventListener(S.keymessage,G),p.addEventListener(S.keyadded,G),d.trigger(_.VIDEO_ELEMENT_SELECTED))}},createKeySession:function z(de){if(!y)throw new Error("Can not create sessions until you have selected a key system");if(N||0===E.length){var ve={sessionId:null,keyId:de.keyId,initData:de.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return A.push(ve),p[S.generateKeyRequest](y.systemString,new Uint8Array(de.initData)),ve}throw new Error("Multiple sessions not allowed!")},updateKeySession:function ie(de,ve){var se=de.sessionId;if(g.isClearKey(y))for(var Se=0;Se<ve.keyPairs.length;Se++)p[S.addKey](y.systemString,ve.keyPairs[Se].key,ve.keyPairs[Se].keyID,se);else p[S.addKey](y.systemString,new Uint8Array(ve),new Uint8Array(de.initData),se);d.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:oe,setServerCertificate:function ye(){},loadKeySession:function J(){},removeKeySession:function fe(){},stop:Z,reset:Z},function ee(){v=L.getLogger(b),p=null,y=null,A=[],E=[],g=Object(M.default)(f).getInstance(),G=function ae(){return{handleEvent:function(ve){var se=null;switch(ve.type){case S.needkey:var Se=ArrayBuffer.isView(ve.initData)?ve.initData.buffer:ve.initData;d.trigger(_.NEED_KEY,{key:new T.default(Se,"cenc")});break;case S.keyerror:if((se=pe(E,ve.sessionId))||(se=pe(A,ve.sessionId)),se){var ge=D.default.MEDIA_KEYERR_CODE,ne="";switch(ve.errorCode.code){case 1:ge=D.default.MEDIA_KEYERR_UNKNOWN_CODE,ne+="MEDIA_KEYERR_UNKNOWN - "+D.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:ge=D.default.MEDIA_KEYERR_CLIENT_CODE,ne+="MEDIA_KEYERR_CLIENT - "+D.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:ge=D.default.MEDIA_KEYERR_SERVICE_CODE,ne+="MEDIA_KEYERR_SERVICE - "+D.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:ge=D.default.MEDIA_KEYERR_OUTPUT_CODE,ne+="MEDIA_KEYERR_OUTPUT - "+D.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:ge=D.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,ne+="MEDIA_KEYERR_HARDWARECHANGE - "+D.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:ge=D.default.MEDIA_KEYERR_DOMAIN_CODE,ne+="MEDIA_KEYERR_DOMAIN - "+D.default.MEDIA_KEYERR_DOMAIN_MESSAGE}d.trigger(_.KEY_ERROR,{error:new I.default(ge,ne+="  System Code = "+ve.systemCode,se)})}else v.error("No session token found for key error");break;case S.keyadded:(se=pe(E,ve.sessionId))||(se=pe(A,ve.sessionId)),se?(v.debug("DRM: Key added."),d.trigger(_.KEY_ADDED,{data:se})):v.debug("No session token found for key added");break;case S.keymessage:if((N=null!=ve.sessionId)?!(se=pe(E,ve.sessionId))&&A.length>0&&(se=A.shift(),E.push(se),se.sessionId=ve.sessionId,d.trigger(_.KEY_SESSION_CREATED,{data:se})):A.length>0&&(se=A.shift(),E.push(se),0!==A.length&&O.error(new I.default(D.default.MEDIA_KEY_MESSAGE_ERROR_CODE,D.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),se){var X=ArrayBuffer.isView(ve.message)?ve.message.buffer:ve.message;se.keyMessage=X,d.trigger(_.INTERNAL_KEY_MESSAGE,{data:new R.default(se,X,ve.defaultURL)})}else v.warn("No session token found for key message")}}}}()}(),b}c.__dashjs_factory_name="ProtectionModel_01b",U.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m("./src/streaming/protection/vo/NeedKey.js"),I=m("./src/streaming/protection/errors/ProtectionErrors.js"),R=m("./src/streaming/vo/DashJSError.js"),P=m("./src/streaming/protection/vo/KeyMessage.js"),w=m("./src/streaming/protection/vo/KeySystemAccess.js"),D=m("./src/streaming/constants/ProtectionConstants.js"),c={};function l(f){var O,b,v,p,y,g,A,E,d=this.context,_=(f=f||{}).eventBus,L=f.events,S=f.debug;function W(ge,ne,X,F){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var V="Insecure origins are not allowed";return _.trigger(L.KEY_SYSTEM_ACCESS_COMPLETE,{error:V}),void F({error:V})}var te=ge[ne].ks,me=te.systemString;(function x(ge,ne){return new Promise(function(X,F){Y(ge,ne,0,X,F)})})((ge[ne].protData&&ge[ne].protData.systemStringPriority?ge[ne].protData.systemStringPriority:null)||(c[me]?c[me]:[me]),ge[ne].configs).then(function(q){var K="function"==typeof q.getConfiguration?q.getConfiguration():null,j=new w.default(te,K);j.mksa=q,_.trigger(L.KEY_SYSTEM_ACCESS_COMPLETE,{data:j}),X({data:j})}).catch(function(q){if(ne+1<ge.length)W(ge,ne+1,X,F);else{var K="Key system access denied! ";_.trigger(L.KEY_SYSTEM_ACCESS_COMPLETE,{error:K+q.message}),F({error:K+q.message})}})}function Y(ge,ne,X,F,V){var re=ge[X];b.debug("Requesting key system access for system string ".concat(re)),navigator.requestMediaKeySystemAccess(re,ne).then(function(B){B.selectedSystemString=re,F(B)}).catch(function(B){X+1<ge.length?Y(ge,ne,X+1,F,V):V(B)})}function he(ge){var ne=ge.session;return ne.removeEventListener("keystatuseschange",ge),ne.removeEventListener("message",ge),ne.close()}function ve(ge){for(var ne=0;ne<g.length;ne++)if(g[ne]===ge){g.splice(ne,1);break}}function se(ge){var ne,X;return ge&&ge.length>0&&(ge[0]&&("string"==typeof ge[0]?ne=ge[0]:X=ge[0]),ge[1]&&("string"==typeof ge[1]?ne=ge[1]:X=ge[1])),{status:ne,keyId:X}}function Se(ge,ne){var X={session:ge,keyId:ne.keyId,initData:ne.initData,sessionId:ne.sessionId,sessionType:ne.sessionType,handleEvent:function(V){switch(V.type){case"keystatuseschange":_.trigger(L.KEY_STATUSES_CHANGED,{data:this}),V.target.keyStatuses.forEach(function(){var B=se(arguments);_.trigger(L.INTERNAL_KEY_STATUS_CHANGED,"expired"===B.status?{error:new R.default(I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:B)});break;case"message":var re=ArrayBuffer.isView(V.message)?V.message.buffer:V.message;_.trigger(L.INTERNAL_KEY_MESSAGE,{data:new P.default(this,re,void 0,V.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return ge.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return ge.expiration},getKeyStatuses:function(){return ge.keyStatuses},getUsable:function(){var V=!1;return ge.keyStatuses.forEach(function(){"usable"===se(arguments).status&&(V=!0)}),V}};return ge.addEventListener("keystatuseschange",X),ge.addEventListener("message",X),ge.closed.then(function(){ve(X),b.debug("DRM: Session closed.  SessionID = "+X.getSessionId()),_.trigger(L.KEY_SESSION_CLOSED,{data:X.getSessionId()})}),g.push(X),X}return O={getAllInitData:function Z(){for(var ge=[],ne=0;ne<g.length;ne++)g[ne].initData&&ge.push(g[ne].initData);return ge},getSessions:function le(){return g},requestKeySystemAccess:function H(ge){return new Promise(function(ne,X){W(ge,0,ne,X)})},selectKeySystem:function z(ge){return new Promise(function(ne,X){ge.mksa.createMediaKeys().then(function(F){return v=ge.keySystem,y=F,p?p.setMediaKeys(y):Promise.resolve()}).then(function(){ne(v)}).catch(function(){X({error:"Error selecting keys system ("+ge.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function ie(ge){p!==ge&&(p&&(p.removeEventListener("encrypted",A),p.setMediaKeys&&p.setMediaKeys(null)),(p=ge)&&(p.addEventListener("encrypted",A),p.setMediaKeys&&y&&p.setMediaKeys(y)))},setServerCertificate:function oe(ge){if(!v||!y)throw new Error("Can not set server certificate until you have selected a key system");y.setServerCertificate(ge).then(function(){b.info("DRM: License server certificate successfully updated."),_.trigger(L.SERVER_CERTIFICATE_UPDATED)}).catch(function(ne){_.trigger(L.SERVER_CERTIFICATE_UPDATED,{error:new R.default(I.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,I.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+ne.name)})})},createKeySession:function ye(ge){if(!v||!y)throw new Error("Can not create sessions until you have selected a key system");var ne=y.createSession(ge.sessionType),X=Se(ne,ge);ne.generateRequest(v.systemString===D.default.CLEARKEY_KEYSTEM_STRING&&(ge.initData||ge.protData&&ge.protData.clearkeys)?D.default.INITIALIZATION_DATA_TYPE_KEYIDS:D.default.INITIALIZATION_DATA_TYPE_CENC,ge.initData).then(function(){b.debug("DRM: Session created.  SessionID = "+X.getSessionId()),_.trigger(L.KEY_SESSION_CREATED,{data:X})}).catch(function(V){ve(X),_.trigger(L.KEY_SESSION_CREATED,{data:null,error:new R.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+V.name)})})},updateKeySession:function J(ge,ne){var X=ge.session;E.isClearKey(v)&&(ne=ne.toJWK()),X.update(ne).then(function(){_.trigger(L.KEY_SESSION_UPDATED)}).catch(function(F){_.trigger(L.KEY_ERROR,{error:new R.default(I.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+F.name,ge)})})},loadKeySession:function fe(ge){if(!v||!y)throw new Error("Can not load sessions until you have selected a key system");for(var ne=ge.sessionId,X=0;X<g.length;X++)if(ne===g[X].sessionId)return void b.warn("DRM: Ignoring session ID because we have already seen it!");var F=y.createSession(ge.sessionType),V=Se(F,ge);F.load(ne).then(function(re){re?(b.debug("DRM: Session loaded.  SessionID = "+V.getSessionId()),_.trigger(L.KEY_SESSION_CREATED,{data:V})):(ve(V),_.trigger(L.KEY_SESSION_CREATED,{data:null,error:new R.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+ne+")")}))}).catch(function(re){ve(V),_.trigger(L.KEY_SESSION_CREATED,{data:null,error:new R.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+ne+")! "+re.name)})})},removeKeySession:function ae(ge){ge.session.remove().then(function(){b.debug("DRM: Session removed.  SessionID = "+ge.getSessionId()),_.trigger(L.KEY_SESSION_REMOVED,{data:ge.getSessionId()})},function(X){_.trigger(L.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+ge.getSessionId()+"). "+X.name})})},closeKeySession:function pe(ge){he(ge).catch(function(ne){ve(ge),_.trigger(L.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+ge.getSessionId()+") "+ne.name})})},stop:function ee(){for(var ge,ne=0;ne<g.length;ne++)(ge=g[ne]).getUsable()||he(ge).catch(function(){ve(ge)})},reset:function G(){var ne,ge=g.length;0!==ge?function(){for(var X=function(re){ve(re),0===g.length&&(p?(p.removeEventListener("encrypted",A),p.setMediaKeys(null).then(function(){_.trigger(L.TEARDOWN_COMPLETE)})):_.trigger(L.TEARDOWN_COMPLETE))},F=0;F<ge;F++)!function(V){ne.session.closed.then(function(){X(V)}),he(ne).catch(function(){X(V)})}(ne=g[F])}():_.trigger(L.TEARDOWN_COMPLETE)}},function N(){b=S.getLogger(O),v=null,p=null,y=null,g=[],E=Object(M.default)(d).getInstance(),A=function de(){return{handleEvent:function(ne){if("encrypted"===ne.type&&ne.initData){var X=ArrayBuffer.isView(ne.initData)?ne.initData.buffer:ne.initData;_.trigger(L.NEED_KEY,{key:new T.default(X,ne.initDataType)})}}}}()}(),O}c[D.default.PLAYREADY_KEYSTEM_STRING]=[D.default.PLAYREADY_KEYSTEM_STRING,D.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],c[D.default.WIDEVINE_KEYSTEM_STRING]=[D.default.WIDEVINE_KEYSTEM_STRING],c[D.default.CLEARKEY_KEYSTEM_STRING]=[D.default.CLEARKEY_KEYSTEM_STRING],l.__dashjs_factory_name="ProtectionModel_21Jan2015",U.default=dashjs.FactoryMaker.getClassFactory(l)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m("./src/streaming/protection/vo/NeedKey.js"),I=m("./src/streaming/vo/DashJSError.js"),R=m("./src/streaming/protection/errors/ProtectionErrors.js"),P=m("./src/streaming/protection/vo/KeyMessage.js"),w=m("./src/streaming/protection/vo/KeySystemConfiguration.js"),D=m("./src/streaming/protection/vo/KeySystemAccess.js");function c(l){var O,b,v,p,y,g,A,E,N,f=this.context,d=(l=l||{}).eventBus,_=l.events,L=l.debug,S=l.api;function ee(){try{for(var he=0;he<A.length;he++)ie(A[he]);v&&v.removeEventListener(S.needkey,E),d.trigger(_.TEARDOWN_COMPLETE)}catch(de){d.trigger(_.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+de.message})}}function ie(he){var de=he.session;de.removeEventListener(S.error,he),de.removeEventListener(S.message,he),de.removeEventListener(S.ready,he),de.removeEventListener(S.close,he);for(var ve=0;ve<A.length;ve++)if(A[ve]===he){A.splice(ve,1);break}de[S.release]()}function ae(){var he=null,de=function(){v.removeEventListener("loadedmetadata",he),v[S.setMediaKeys](y),d.trigger(_.VIDEO_ELEMENT_SELECTED)};v.readyState>=1?de():(he=de.bind(this),v.addEventListener("loadedmetadata",he))}return O={getAllInitData:function Z(){for(var he=[],de=0;de<A.length;de++)he.push(A[de].initData);return he},getSessions:function le(){return A},requestKeySystemAccess:function H(he){return new Promise(function(de,ve){for(var se=!1,Se=0;Se<he.length;Se++)for(var ge=he[Se].ks.systemString,ne=he[Se].configs,X=null,F=null,V=0;V<ne.length;V++){var re=ne[V].audioCapabilities,B=ne[V].videoCapabilities;if(re&&0!==re.length){X=[];for(var te=0;te<re.length;te++)window[S.MediaKeys].isTypeSupported(ge,re[te].contentType)&&X.push(re[te])}if(B&&0!==B.length){F=[];for(var me=0;me<B.length;me++)window[S.MediaKeys].isTypeSupported(ge,B[me].contentType)&&F.push(B[me])}if(!(!X&&!F||X&&0===X.length||F&&0===F.length)){se=!0;var Ee=new w.default(X,F),q=N.getKeySystemBySystemString(ge),K=new D.default(q,Ee);d.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:K}),de({data:K});break}}if(!se){var j="Key system access denied! -- No valid audio/video content configurations detected!";d.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:j}),ve({error:j})}})},selectKeySystem:function W(he){return new Promise(function(de,ve){try{y=he.mediaKeys=new window[S.MediaKeys](he.keySystem.systemString),p=he.keySystem,g=he,v&&ae(),de(p)}catch{ve({error:"Error selecting keys system ("+p.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function x(he){v!==he&&(v&&v.removeEventListener(S.needkey,E),(v=he)&&(v.addEventListener(S.needkey,E),y&&ae()))},createKeySession:function Y(he){if(!p||!y||!g)throw new Error("Can not create sessions until you have selected a key system");var de=null;if(g.ksConfiguration.videoCapabilities&&g.ksConfiguration.videoCapabilities.length>0&&(de=g.ksConfiguration.videoCapabilities[0]),null===de&&g.ksConfiguration.audioCapabilities&&g.ksConfiguration.audioCapabilities.length>0&&(de=g.ksConfiguration.audioCapabilities[0]),null===de)throw new Error("Can not create sessions for unknown content types.");var se=y.createSession(de.contentType,new Uint8Array(he.initData),he.cdmData?new Uint8Array(he.cdmData):null),Se=function pe(he,de){return{session:he,keyId:de.keyId,initData:de.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(se){switch(se.type){case S.error:d.trigger(_.KEY_ERROR,{error:new I.default(R.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case S.message:var ge=ArrayBuffer.isView(se.message)?se.message.buffer:se.message;d.trigger(_.INTERNAL_KEY_MESSAGE,{data:new P.default(this,ge,se.destinationURL)});break;case S.ready:b.debug("DRM: Key added."),d.trigger(_.KEY_ADDED);break;case S.close:b.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),d.trigger(_.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(se,he);se.addEventListener(S.error,Se),se.addEventListener(S.message,Se),se.addEventListener(S.ready,Se),se.addEventListener(S.close,Se),A.push(Se),b.debug("DRM: Session created.  SessionID = "+Se.getSessionId()),d.trigger(_.KEY_SESSION_CREATED,{data:Se})},updateKeySession:function z(he,de){var ve=he.session;N.isClearKey(p)?ve.update(new Uint8Array(de.toJWK())):ve.update(new Uint8Array(de)),d.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:ie,setServerCertificate:function oe(){},loadKeySession:function ye(){},removeKeySession:function J(){},stop:ee,reset:ee},function G(){b=L.getLogger(O),v=null,p=null,y=null,g=null,A=[],N=Object(M.default)(f).getInstance(),E=function fe(){return{handleEvent:function(de){if(de.type===S.needkey&&de.initData){var ve=ArrayBuffer.isView(de.initData)?de.initData.buffer:de.initData;d.trigger(_.NEED_KEY,{key:new T.default(ve,"cenc")})}}}}()}(),O}c.__dashjs_factory_name="ProtectionModel_3Feb2014",U.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/servers/ClearKey.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/vo/KeyPair.js"),T=m("./src/streaming/protection/vo/ClearKeyKeySet.js");function I(){return{getServerURLFromMessage:function P(f){return f},getHTTPMethod:function w(){return"POST"},getResponseType:function D(){return"json"},getLicenseMessage:function c(f){if(!f.hasOwnProperty("keys"))return null;for(var d=[],_=0;_<f.keys.length;_++){var L=f.keys[_],S=L.kid.replace(/=/g,""),O=L.k.replace(/=/g,"");d.push(new M.default(S,O))}return new T.default(d)},getErrorResponse:function l(f){return String.fromCharCode.apply(null,new Uint8Array(f))}}}I.__dashjs_factory_name="ClearKey",U.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/protection/servers/DRMToday.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/ProtectionConstants.js");function T(I){var R=(I=I||{}).BASE64,P={};return P[M.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(S){return R.decodeArray(S.license)},getErrorResponse:function(S){return S}},P[M.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(S){return S},getErrorResponse:function(S){return String.fromCharCode.apply(null,new Uint8Array(S))}},{getServerURLFromMessage:function c(L){return L},getHTTPMethod:function l(){return"POST"},getResponseType:function f(L){return P[L].responseType},getLicenseMessage:function d(L,S){return function D(){if(!R||!R.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),P[S].getLicenseMessage(L)},getErrorResponse:function _(L,S){return P[S].getErrorResponse(L)}}}T.__dashjs_factory_name="DRMToday",U.default=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/protection/servers/PlayReady.js":function(Ie,U,m){"use strict";function M(){var I="http://schemas.xmlsoap.org/soap/envelope/";function R(_){var L=String.fromCharCode.apply(null,new Uint8Array(_));return decodeURIComponent(escape(L))}function P(_){if(window.DOMParser){var L=R(_),O=(new window.DOMParser).parseFromString(L,"text/xml"),b=O?O.getElementsByTagNameNS(I,"Envelope")[0]:null,v=b?b.getElementsByTagNameNS(I,"Body")[0]:null;if(v&&v.getElementsByTagNameNS(I,"Fault")[0])return null}return _}function w(_){var L="",S="",O="",b=-1,v=-1;if(window.DOMParser){var p=R(_),g=(new window.DOMParser).parseFromString(p,"text/xml"),A=g?g.getElementsByTagNameNS(I,"Envelope")[0]:null,E=A?A.getElementsByTagNameNS(I,"Body")[0]:null,N=E?E.getElementsByTagNameNS(I,"Fault")[0]:null,G=N?N.getElementsByTagName("detail")[0]:null,ee=G?G.getElementsByTagName("Exception")[0]:null,Z=null;if(null===N)return p;L=(Z=N.getElementsByTagName("faultstring")[0].firstChild)?Z.nodeValue:null,null!==ee&&(S=(Z=ee.getElementsByTagName("StatusCode")[0])?Z.firstChild.nodeValue:null,b=(O=(Z=ee.getElementsByTagName("Message")[0])?Z.firstChild.nodeValue:null)?O.lastIndexOf("[")+1:-1,v=O?O.indexOf("]"):-1,O=O?O.substring(b,v):"")}var le="code: ".concat(S,", name: ").concat(L);return O&&(le+=", message: ".concat(O)),le}return{getServerURLFromMessage:function D(_){return _},getHTTPMethod:function c(){return"POST"},getResponseType:function l(){return"arraybuffer"},getLicenseMessage:function f(_){return P.call(this,_)},getErrorResponse:function d(_){return w.call(this,_)}}}m.r(U),M.__dashjs_factory_name="PlayReady",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/protection/servers/Widevine.js":function(Ie,U,m){"use strict";function M(){return{getServerURLFromMessage:function I(c){return c},getHTTPMethod:function R(){return"POST"},getResponseType:function P(){return"arraybuffer"},getLicenseMessage:function w(c){return c},getErrorResponse:function D(c){return String.fromCharCode.apply(null,new Uint8Array(c))}}}m.r(U),M.__dashjs_factory_name="Widevine",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/protection/vo/ClearKeyKeySet.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,P(d.key),d)}}function P(c){var l=function w(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l,f){if(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c),f&&"persistent"!==f&&"temporary"!==f)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=l,this.type=f}return function R(c,l,f){return l&&I(c.prototype,l),f&&I(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"toJWK",value:function(){var f,d=this.keyPairs.length,_={keys:[]};for(f=0;f<d;f++)_.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[f].keyID,k:this.keyPairs[f].key});this.type&&(_.type=this.type);var S=JSON.stringify(_),O=S.length,b=new ArrayBuffer(O),v=new Uint8Array(b);for(f=0;f<O;f++)v[f]=S.charCodeAt(f);return b}}]),c}()},"./src/streaming/protection/vo/KeyMessage.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f,d,_){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.sessionToken=l,this.message=f,this.defaultURL=d,this.messageType=_||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.keyID=l,this.key=f})},"./src/streaming/protection/vo/KeySystemAccess.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.keySystem=l,this.ksConfiguration=f})},"./src/streaming/protection/vo/KeySystemConfiguration.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f,d,_,L){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.initDataTypes=["cenc"],l&&l.length&&(this.audioCapabilities=l),f&&f.length&&(this.videoCapabilities=f),this.distinctiveIdentifier=d,this.persistentState=_,this.sessionTypes=L})},"./src/streaming/protection/vo/LicenseRequest.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f,d,_,L,S,O,b){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=l,this.method=f,this.responseType=d,this.headers=_,this.withCredentials=L,this.messageType=S,this.sessionId=O,this.data=b})},"./src/streaming/protection/vo/LicenseResponse.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f,d){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=l,this.headers=f,this.data=d})},"./src/streaming/protection/vo/MediaCapability.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.contentType=l,this.robustness=f})},"./src/streaming/protection/vo/NeedKey.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.initData=l,this.initDataType=f})},"./src/streaming/rules/DroppedFramesHistory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var R={},P={},w={};return{push:function D(d,_,L){if(_){R[d]||(R[d]=[],P[d]=0,w[d]=0);var S=L&&L.droppedVideoFrames?L.droppedVideoFrames:0,O=L&&L.totalVideoFrames?L.totalVideoFrames:0,b=S-P[d];P[d]=S;var v=O-w[d];w[d]=O;var p=R[d];isNaN(_)||(p[_]?(p[_].droppedVideoFrames+=b,p[_].totalVideoFrames+=v):p[_]={droppedVideoFrames:b,totalVideoFrames:v})}},getFrameHistory:function c(d){return R[d]},clearForStream:function l(d){try{delete R[d],delete P[d],delete w[d]}catch{}},reset:function f(){R={},P={},w={}}}}T.__dashjs_factory_name="DroppedFramesHistory";var I=M.default.getClassFactory(T);U.default=I},"./src/streaming/rules/RulesContext.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).abrController,w=I.switchHistory,D=I.droppedFramesHistory,c=I.currentRequest,l=I.useBufferOccupancyABR,f=I.useL2AABR,d=I.useLoLPABR,_=I.streamProcessor?I.streamProcessor.getScheduleController():null,L=I.streamProcessor?I.streamProcessor.getRepresentationInfo():null,S=I.videoModel?I.videoModel:null;function v(){return L?L.mediaInfo:null}return{getMediaType:function O(){var H=v();return H?H.type:null},getMediaInfo:v,getDroppedFramesHistory:function N(){return D},getCurrentRequest:function G(){return c},getSwitchHistory:function A(){return w},getStreamInfo:function b(){var H=v();return H?H.streamInfo:null},getScheduleController:function y(){return _},getAbrController:function g(){return P},getRepresentationInfo:function p(){return L},useBufferOccupancyABR:function ee(){return l},useL2AABR:function Z(){return f},useLoLPABR:function le(){return d},getVideoModel:function E(){return S}}}T.__dashjs_factory_name="RulesContext",U.default=M.default.getClassFactory(T)},"./src/streaming/rules/SwitchRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),I={DEFAULT:.5,STRONG:1,WEAK:0};function R(w,D,c){return{quality:void 0===w?-1:w,reason:void 0===D?null:D,priority:function L(S){var O=I.DEFAULT;return(S===I.DEFAULT||S===I.STRONG||S===I.WEAK)&&(O=S),O}(c)}}R.__dashjs_factory_name="SwitchRequest";var P=M.default.getClassFactory(R);P.NO_CHANGE=-1,P.PRIORITY=I,M.default.updateClassFactory(R.__dashjs_factory_name,P),U.default=P},"./src/streaming/rules/SwitchRequestHistory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/rules/SwitchRequest.js");function R(){var w=[],D=[];return{push:function c(d){d.newValue===T.default.NO_CHANGE&&(d.newValue=d.oldValue),w[d.oldValue]||(w[d.oldValue]={noDrops:0,drops:0,dropSize:0});var _=d.newValue-d.oldValue,L=_<0?1:0,S=L?-_:0,O=L?0:1;if(w[d.oldValue].drops+=L,w[d.oldValue].dropSize+=S,w[d.oldValue].noDrops+=O,D.push({idx:d.oldValue,noDrop:O,drop:L,dropSize:S}),D.length>8){var b=D.shift();w[b.idx].drops-=b.drop,w[b.idx].dropSize-=b.dropSize,w[b.idx].noDrops-=b.noDrop}},getSwitchRequests:function l(){return w},reset:function f(){w=[],D=[]}}}R.__dashjs_factory_name="SwitchRequestHistory";var P=M.default.getClassFactory(R);U.default=P},"./src/streaming/rules/ThroughputHistory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/FactoryMaker.js");function I(R){var b,v,p,y,g,O=(R=R||{}).settings;function G(J,fe,ae,pe){var he=Math.pow(.5,ae/pe.fast);J.fastEstimate=(1-he)*fe+he*J.fastEstimate;var de=Math.pow(.5,ae/pe.slow);J.slowEstimate=(1-de)*fe+de*J.slowEstimate,J.totalWeight+=ae}function Z(J,fe,ae){return O.get().streaming.abr.movingAverageMethod!==M.default.MOVING_AVERAGE_SLIDING_WINDOW?function H(J,fe){var ae=J?g.throughputHalfLife:g.latencyHalfLife,pe=J?p[fe]:y[fe];if(!pe||pe.totalWeight<=0)return NaN;var he=pe.fastEstimate/(1-Math.pow(.5,pe.totalWeight/ae.fast)),de=pe.slowEstimate/(1-Math.pow(.5,pe.totalWeight/ae.slow));return J?Math.min(he,de):Math.max(he,de)}(J,fe):function le(J,fe,ae){var pe=function ee(J,fe,ae){var pe,he;if(J?(pe=b[fe],he=ae?3:4):(pe=v[fe],he=4),pe){if(he>=pe.length)he=pe.length;else if(J)for(var de=1;de<he;++de){var ve=pe[pe.length-de]/pe[pe.length-de-1];if((ve>=1.3||ve<=1/1.3)&&(he+=1)===pe.length)break}}else he=0;return he}(J,fe,ae),de=(J?b:v)[fe];return 0!==pe&&de&&0!==de.length?(de=de.slice(-pe)).reduce(function(ve,se){return ve+se})/de.length:NaN}(J,fe,ae)}function W(J,fe){return Z(!0,J,fe)}function z(J){b[J]=b[J]||[],v[J]=v[J]||[],p[J]=p[J]||{fastEstimate:0,slowEstimate:0,totalWeight:0},y[J]=y[J]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function oe(){b={},v={},p={},y={}}var ye={push:function N(J,fe,ae){if(fe.trace&&fe.trace.length){var ve,pe=fe.tresponse.getTime()-fe.trequest.getTime()||1,he=fe._tfinish.getTime()-fe.tresponse.getTime()||1,de=fe.trace.reduce(function(Se,ge){return Se+ge.b[0]},0),se=0;if(0!==(ve=fe._fileLoaderType&&fe._fileLoaderType===M.default.FILE_LOADER_TYPES.FETCH?fe.trace.reduce(function(Se,ge){return Se+ge.d},0):ae?he:pe+he)&&(se=Math.round(8*de/ve)),z(J),function E(J,fe,ae){return J===M.default.VIDEO?ae<O.get().streaming.cacheLoadThresholds[M.default.VIDEO]:J===M.default.AUDIO?ae<O.get().streaming.cacheLoadThresholds[M.default.AUDIO]:void 0}(J,0,he)){if(b[J].length>0&&!b[J].hasCachedEntries)return;b[J].hasCachedEntries=!0}else b[J]&&b[J].hasCachedEntries&&function ie(J){delete b[J],delete v[J],delete p[J],delete y[J],z(J)}(J);b[J].push(se),b[J].length>20&&b[J].shift(),v[J].push(pe),v[J].length>20&&v[J].shift(),G(p[J],se,.001*he,g.throughputHalfLife),G(y[J],pe,1,g.latencyHalfLife)}},getAverageThroughput:W,getSafeAverageThroughput:function x(J,fe){var ae=W(J,fe);return isNaN(ae)||(ae*=O.get().streaming.abr.bandwidthSafetyFactor),ae},getAverageLatency:function Y(J){return Z(!1,J)},reset:oe};return function A(){g={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},oe()}(),ye}I.__dashjs_factory_name="ThroughputHistory",U.default=T.default.getClassFactory(I)},"./src/streaming/rules/abr/ABRRulesCollection.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/rules/abr/ThroughputRule.js"),T=m("./src/streaming/rules/abr/InsufficientBufferRule.js"),I=m("./src/streaming/rules/abr/AbandonRequestsRule.js"),R=m("./src/streaming/rules/abr/DroppedFramesRule.js"),P=m("./src/streaming/rules/abr/SwitchHistoryRule.js"),w=m("./src/streaming/rules/abr/BolaRule.js"),D=m("./src/streaming/rules/abr/L2ARule.js"),c=m("./src/streaming/rules/abr/lolp/LoLpRule.js"),l=m("./src/core/FactoryMaker.js"),f=m("./src/streaming/rules/SwitchRequest.js"),d=m("./src/streaming/constants/Constants.js"),_="qualitySwitchRules",L="abandonFragmentRules";function S(b){var N,G,v=this.context,p=(b=b||{}).mediaPlayerModel,y=b.customParametersModel,g=b.dashMetrics,A=b.settings;function Z(z){return z.filter(function(ie){return ie.quality>f.default.NO_CHANGE})}function le(z){var ye,J,fe,ae,pe,ie={},oe=null;if(0!==z.length){for(ie[f.default.PRIORITY.STRONG]={quality:f.default.NO_CHANGE,reason:null},ie[f.default.PRIORITY.WEAK]={quality:f.default.NO_CHANGE,reason:null},ie[f.default.PRIORITY.DEFAULT]={quality:f.default.NO_CHANGE,reason:null},ye=0,J=z.length;ye<J;ye+=1)(fe=z[ye]).quality!==f.default.NO_CHANGE&&(ie[fe.priority].quality===f.default.NO_CHANGE||ie[fe.priority].quality>fe.quality)&&(ie[fe.priority].quality=fe.quality,ie[fe.priority].reason=fe.reason||null);return ie[f.default.PRIORITY.WEAK].quality!==f.default.NO_CHANGE&&(oe=ie[f.default.PRIORITY.WEAK]),ie[f.default.PRIORITY.DEFAULT].quality!==f.default.NO_CHANGE&&(oe=ie[f.default.PRIORITY.DEFAULT]),ie[f.default.PRIORITY.STRONG].quality!==f.default.NO_CHANGE&&(oe=ie[f.default.PRIORITY.STRONG]),oe&&(ae=oe.quality,pe=oe.reason),Object(f.default)(v).create(ae,pe)}}return{initialize:function ee(){N=[],G=[],A.get().streaming.abr.useDefaultABRRules&&(A.get().streaming.abr.ABRStrategy===d.default.ABR_STRATEGY_L2A?N.push(Object(D.default)(v).create({dashMetrics:g,settings:A})):A.get().streaming.abr.ABRStrategy===d.default.ABR_STRATEGY_LoLP?N.push(Object(c.default)(v).create({dashMetrics:g})):(N.push(Object(w.default)(v).create({dashMetrics:g,mediaPlayerModel:p,settings:A})),N.push(Object(M.default)(v).create({dashMetrics:g})),A.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&N.push(Object(T.default)(v).create({dashMetrics:g,settings:A})),A.get().streaming.abr.additionalAbrRules.switchHistoryRule&&N.push(Object(P.default)(v).create()),A.get().streaming.abr.additionalAbrRules.droppedFramesRule&&N.push(Object(R.default)(v).create()),A.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&G.push(Object(I.default)(v).create({dashMetrics:g,mediaPlayerModel:p,settings:A})))),y.getAbrCustomRules().forEach(function(ie){ie.type===_&&N.push(ie.rule(v).create()),ie.type===L&&G.push(ie.rule(v).create())})},reset:function x(){[N,G].forEach(function(z){z&&z.length&&z.forEach(function(ie){return ie.reset&&ie.reset()})}),N=[],G=[]},getMaxQuality:function H(z){return le(Z(N.map(function(J){return J.getMaxIndex(z)})))||Object(f.default)(v).create()},getMinSwitchRequest:le,shouldAbandonFragment:function W(z,ie){return le(Z(G.map(function(fe){return fe.shouldAbandon(z,ie)})))||Object(f.default)(v).create()},getQualitySwitchRules:function Y(){return N}}}S.__dashjs_factory_name="ABRRulesCollection";var O=l.default.getClassFactory(S);O.QUALITY_SWITCH_RULES=_,O.ABANDON_FRAGMENT_RULES=L,l.default.updateSingletonFactory(S.__dashjs_factory_name,O),U.default=O},"./src/streaming/rules/abr/AbandonRequestsRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/rules/SwitchRequest.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/core/Debug.js");function R(P){var L,S,O,b,v,l=this.context,f=(P=P||{}).mediaPlayerModel,d=P.dashMetrics,_=P.settings;function E(){O={},b={},v=[]}return L={shouldAbandon:function A(N){var G=Object(M.default)(l).create(M.default.NO_CHANGE,{name:R.__dashjs_factory_name});if(!(N&&N.hasOwnProperty("getMediaInfo")&&N.hasOwnProperty("getMediaType")&&N.hasOwnProperty("getCurrentRequest")&&N.hasOwnProperty("getRepresentationInfo")&&N.hasOwnProperty("getAbrController")))return G;var ee=N.getMediaInfo(),Z=N.getMediaType(),le=N.getStreamInfo(),H=le?le.id:null,W=N.getCurrentRequest();if(!isNaN(W.index)){!function y(N,G){O[N]=O[N]||{},O[N][G]=O[N][G]||{}}(Z,W.index);var x=f.getStableBufferTime();if(d.getCurrentBufferLevel(Z)>x)return G;var z=O[Z][W.index];if(null===z||null===W.firstByteDate||b.hasOwnProperty(z.id))return G;if(void 0===z.firstByteTime&&(v[Z]=[],z.firstByteTime=W.firstByteDate.getTime(),z.segmentDuration=W.duration,z.bytesTotal=W.bytesTotal,z.id=W.index),z.bytesLoaded=W.bytesLoaded,z.elapsedTime=(new Date).getTime()-z.firstByteTime,z.bytesLoaded>0&&z.elapsedTime>0&&function g(N,G){v[N]=v[N]||[],v[N].push(G)}(Z,Math.round(8*z.bytesLoaded/z.elapsedTime)),v[Z].length>=5&&z.elapsedTime>500&&z.bytesLoaded<z.bytesTotal){var ie=v[Z].reduce(function(de,ve){return de+ve},0);if(z.measuredBandwidthInKbps=Math.round(ie/v[Z].length),z.estimatedTimeOfDownload=+(8*z.bytesTotal/z.measuredBandwidthInKbps/1e3).toFixed(2),z.estimatedTimeOfDownload<1.8*z.segmentDuration||0===N.getRepresentationInfo().quality)return G;if(!b.hasOwnProperty(z.id)){var oe=N.getAbrController(),ye=z.bytesTotal-z.bytesLoaded,J=oe.getBitrateList(ee),fe=oe.getQualityForBitrate(ee,z.measuredBandwidthInKbps*_.get().streaming.abr.bandwidthSafetyFactor,H),ae=oe.getMinAllowedIndexFor(Z,H),pe=void 0!==ae?Math.max(ae,fe):fe;ye>z.bytesTotal*J[pe].bitrate/J[oe.getQualityFor(Z,H)].bitrate&&(G.quality=pe,G.reason.throughput=z.measuredBandwidthInKbps,G.reason.fragmentID=z.id,b[z.id]=z,S.debug("["+Z+"] frag id",z.id," is asking to abandon and switch to quality to ",pe," measured bandwidth was",z.measuredBandwidthInKbps),delete O[Z][z.id])}}else z.bytesLoaded===z.bytesTotal&&delete O[Z][z.id]}return G},reset:E},function p(){S=Object(I.default)(l).getInstance().getLogger(L),E()}(),L}R.__dashjs_factory_name="AbandonRequestsRule",U.default=T.default.getClassFactory(R)},"./src/streaming/rules/abr/BolaRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/MetricsConstants.js"),T=m("./src/streaming/rules/SwitchRequest.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/streaming/vo/metrics/HTTPRequest.js"),P=m("./src/core/EventBus.js"),w=m("./src/core/events/Events.js"),D=m("./src/core/Debug.js"),c=m("./src/streaming/MediaPlayerEvents.js"),l=m("./src/streaming/constants/Constants.js"),L=10;function b(v){var E,N,G,p=this.context,y=(v=v||{}).dashMetrics,g=v.mediaPlayerModel,A=Object(P.default)(p).getInstance();function le(ne,X,F){var V=F.reduce(function(me,Ee,q){return Ee>F[me]?q:me},0);if(0===V)return null;var re=Math.max(ne,L+2*X.length),B=(F[V]-1)/(re/L-1);return{gp:B,Vp:L/B}}function H(ne){var X={},V=ne.getMediaInfo().bitrateList.map(function(me){return me.bandwidth}),re=function Z(ne){return ne.map(function(X){return Math.log(X)})}(V);re=re.map(function(me){return me-re[0]+1});var B=g.getStableBufferTime(),te=le(B,V,re);return te?(X.state=1,X.bitrates=V,X.utilities=re,X.stableBufferTime=B,X.Vp=te.Vp,X.gp=te.gp,X.lastQuality=0,W(X)):X.state=0,X}function W(ne){ne.placeholderBuffer=0,ne.mostAdvancedSegmentStart=NaN,ne.lastSegmentWasReplacement=!1,ne.lastSegmentStart=NaN,ne.lastSegmentDurationS=NaN,ne.lastSegmentRequestTimeMs=NaN,ne.lastSegmentFinishTimeMs=NaN}function x(ne,X){var F=g.getStableBufferTime();if(ne.stableBufferTime!==F){var V=le(F,ne.bitrates,ne.utilities);if(V.Vp!==ne.Vp||V.gp!==ne.gp){var re=y.getCurrentBufferLevel(X),B=re+ne.placeholderBuffer;B-=L,B*=V.Vp/ne.Vp,B+=L,ne.stableBufferTime=F,ne.Vp=V.Vp,ne.gp=V.gp,ne.placeholderBuffer=Math.max(0,B-re)}}}function ie(ne,X){return ne.Vp*(ne.utilities[X]+ne.gp)}function oe(ne,X){for(var F=ne.bitrates[X],V=ne.utilities[X],re=0,B=X-1;B>=0;--B)if(ne.utilities[B]<ne.utilities[X]){var te=ne.bitrates[B];re=Math.max(re,ne.Vp*(ne.gp+(F*ne.utilities[B]-te*V)/(F-te)))}return re}function J(ne){var F=ne.mediaType===l.default.AUDIO?[l.default.AUDIO]:G;for(var V in F)G.hasOwnProperty(V)&&2===G[V].state&&(G[V].placeholderBuffer=0)}function fe(){for(var ne in G)if(G.hasOwnProperty(ne)){var X=G[ne];0!==X.state&&(X.state=1,W(X))}}function ae(ne){if(ne&&ne.chunk&&ne.chunk.mediaInfo){var X=G[ne.chunk.mediaInfo.type];if(X&&0!==X.state){var F=ne.chunk.start;isNaN(X.mostAdvancedSegmentStart)||F>X.mostAdvancedSegmentStart?(X.mostAdvancedSegmentStart=F,X.lastSegmentWasReplacement=!1):X.lastSegmentWasReplacement=!0,X.lastSegmentStart=F,X.lastSegmentDurationS=ne.chunk.duration,X.lastQuality=ne.chunk.quality,he(X,ne.chunk.mediaInfo.type)}}}function pe(ne){if(ne&&ne.metric===M.default.HTTP_REQUEST&&ne.value&&ne.value.type===R.HTTPRequest.MEDIA_SEGMENT_TYPE&&ne.value.trace&&ne.value.trace.length){var X=G[ne.mediaType];X&&0!==X.state&&(X.lastSegmentRequestTimeMs=ne.value.trequest.getTime(),X.lastSegmentFinishTimeMs=ne.value._tfinish.getTime(),he(X,ne.mediaType))}}function he(ne,X){if(!isNaN(ne.lastSegmentStart)&&!isNaN(ne.lastSegmentRequestTimeMs)&&!isNaN(ne.placeholderBuffer)){if(ne.placeholderBuffer*=.99,!isNaN(ne.lastSegmentFinishTimeMs)){var V=y.getCurrentBufferLevel(X)+.001*(ne.lastSegmentFinishTimeMs-ne.lastSegmentRequestTimeMs),re=ie(ne,ne.lastQuality),B=Math.max(0,re-V);ne.placeholderBuffer=Math.min(B,ne.placeholderBuffer)}ne.lastSegmentWasReplacement&&!isNaN(ne.lastSegmentDurationS)&&(ne.placeholderBuffer+=ne.lastSegmentDurationS),ne.lastSegmentStart=NaN,ne.lastSegmentRequestTimeMs=NaN}}function de(ne){if(ne){var X=G[ne.mediaType];X&&0!==X.state&&(X.abrQuality=ne.newQuality)}}function ve(ne){if(ne){var X=G[ne.mediaType];if(X&&0!==X.state){var V,F=y.getCurrentBufferLevel(ne.mediaType);V=X.abrQuality>0?oe(X,X.abrQuality):L;var re=Math.max(0,V-F);X.placeholderBuffer=Math.min(X.placeholderBuffer,re)}}}function Se(){G={}}return E={getMaxIndex:function se(ne){var X=Object(T.default)(p).create();if(!(ne&&ne.hasOwnProperty("getMediaInfo")&&ne.hasOwnProperty("getMediaType")&&ne.hasOwnProperty("getScheduleController")&&ne.hasOwnProperty("getStreamInfo")&&ne.hasOwnProperty("getAbrController")&&ne.hasOwnProperty("useBufferOccupancyABR")))return X;var F=ne.getMediaInfo(),V=ne.getMediaType(),re=ne.getScheduleController(),B=ne.getStreamInfo(),te=ne.getAbrController(),me=te.getThroughputHistory(),Ee=B?B.id:null,q=B&&B.manifestInfo&&B.manifestInfo.isDynamic,K=ne.useBufferOccupancyABR();if(X.reason=X.reason||{},!K)return X;re.setTimeToLoadDelay(0);var j=function Y(ne){var X=ne.getMediaType(),F=G[X];return F?0!==F.state&&x(F,X):(F=H(ne),G[X]=F),F}(ne);if(0===j.state)return X;var we,$=y.getCurrentBufferLevel(V),ce=me.getAverageThroughput(V,q),ue=me.getSafeAverageThroughput(V,q),be=me.getAverageLatency(V);if(X.reason.state=j.state,X.reason.throughput=ce,X.reason.latency=be,isNaN(ce))return X;switch(j.state){case 1:we=te.getQualityForBitrate(F,ue,Ee,be),X.quality=we,X.reason.throughput=ue,j.placeholderBuffer=Math.max(0,oe(j,we)-$),j.lastQuality=we,!isNaN(j.lastSegmentDurationS)&&$>=j.lastSegmentDurationS&&(j.state=2);break;case 2:(function ye(ne,X){var F=Date.now();isNaN(ne.lastSegmentFinishTimeMs)?isNaN(ne.lastCallTimeMs)||(ne.placeholderBuffer+=Math.max(0,.001*(F-ne.lastCallTimeMs))):ne.placeholderBuffer+=Math.max(0,.001*(F-ne.lastSegmentFinishTimeMs)),ne.lastCallTimeMs=F,ne.lastSegmentStart=NaN,ne.lastSegmentRequestTimeMs=NaN,ne.lastSegmentFinishTimeMs=NaN,x(ne,X)})(j,V),we=function z(ne,X){for(var F=ne.bitrates.length,V=NaN,re=NaN,B=0;B<F;++B){var te=(ne.Vp*(ne.utilities[B]+ne.gp)-X)/ne.bitrates[B];(isNaN(re)||te>=re)&&(re=te,V=B)}return V}(j,$+j.placeholderBuffer);var Pe=te.getQualityForBitrate(F,ue,Ee,be);we>j.lastQuality&&we>Pe&&(we=Math.max(Pe,j.lastQuality));var Re=Math.max(0,$+j.placeholderBuffer-ie(j,we));Re<=j.placeholderBuffer?(j.placeholderBuffer-=Re,Re=0):(Re-=j.placeholderBuffer,j.placeholderBuffer=0,we<te.getMaxAllowedIndexFor(V,Ee)?re.setTimeToLoadDelay(1e3*Re):Re=0),X.quality=we,X.reason.throughput=ce,X.reason.latency=be,X.reason.bufferLevel=$,X.reason.placeholderBuffer=j.placeholderBuffer,X.reason.delay=Re,j.lastQuality=we;break;default:N.debug("BOLA ABR rule invoked in bad state."),X.quality=te.getQualityForBitrate(F,ue,Ee,be),X.reason.state=j.state,X.reason.throughput=ue,X.reason.latency=be,j.state=1,W(j)}return X},reset:function ge(){Se(),A.off(c.default.BUFFER_EMPTY,J,E),A.off(c.default.PLAYBACK_SEEKING,fe,E),A.off(c.default.METRIC_ADDED,pe,E),A.off(c.default.QUALITY_CHANGE_REQUESTED,de,E),A.off(c.default.FRAGMENT_LOADING_ABANDONED,ve,E),A.off(w.default.MEDIA_FRAGMENT_LOADED,ae,E)}},function ee(){N=Object(D.default)(p).getInstance().getLogger(E),Se(),A.on(c.default.BUFFER_EMPTY,J,E),A.on(c.default.PLAYBACK_SEEKING,fe,E),A.on(c.default.METRIC_ADDED,pe,E),A.on(c.default.QUALITY_CHANGE_REQUESTED,de,E),A.on(c.default.FRAGMENT_LOADING_ABANDONED,ve,E),A.on(w.default.MEDIA_FRAGMENT_LOADED,ae,E)}(),E}b.__dashjs_factory_name="BolaRule",U.default=I.default.getClassFactory(b)},"./src/streaming/rules/abr/DroppedFramesRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/rules/SwitchRequest.js"),I=m("./src/core/Debug.js");function R(){var w,D,P=this.context;return w={getMaxIndex:function d(_){var L=Object(T.default)(P).create();if(!_||!_.hasOwnProperty("getDroppedFramesHistory"))return L;var S=_.getDroppedFramesHistory(),O=_.getStreamInfo().id;if(S){var b=S.getFrameHistory(O);if(!b||0===b.length)return L;for(var v=0,p=0,y=T.default.NO_CHANGE,g=1;g<b.length;g++)if(b[g]&&(v=b[g].droppedVideoFrames,(p=b[g].totalVideoFrames)>375&&v/p>.15)){D.debug("index: "+(y=g-1)+" Dropped Frames: "+v+" Total Frames: "+p);break}return Object(T.default)(P).create(y,{droppedFrames:v})}return L}},function f(){D=Object(I.default)(P).getInstance().getLogger(w)}(),w}R.__dashjs_factory_name="DroppedFramesRule",U.default=M.default.getClassFactory(R)},"./src/streaming/rules/abr/InsufficientBufferRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/core/Debug.js"),P=m("./src/streaming/rules/SwitchRequest.js"),w=m("./src/streaming/constants/Constants.js"),D=m("./src/streaming/constants/MetricsConstants.js"),c=m("./src/streaming/MediaPlayerEvents.js");function l(f){f=f||{};var b,v,p,L=this.context,S=Object(M.default)(L).getInstance(),O=f.dashMetrics;function N(){(p={})[w.default.VIDEO]={ignoreCount:2},p[w.default.AUDIO]={ignoreCount:2}}function G(){N()}function ee(le){!isNaN(le.startTime)&&(le.mediaType===w.default.AUDIO||le.mediaType===w.default.VIDEO)&&p[le.mediaType].ignoreCount>0&&p[le.mediaType].ignoreCount--}return b={getMaxIndex:function A(le){var H=Object(P.default)(L).create();if(!le||!le.hasOwnProperty("getMediaType"))return H;!function g(){if(!O||!O.hasOwnProperty("getCurrentBufferLevel")||!O.hasOwnProperty("getCurrentBufferState"))throw new Error(w.default.MISSING_CONFIG_ERROR)}();var W=le.getMediaType(),x=O.getCurrentBufferState(W),z=le.getRepresentationInfo().fragmentDuration,ie=le.getStreamInfo(),oe=ie?ie.id:null,ye=le.getScheduleController(),J=ie&&ie.manifestInfo&&ie.manifestInfo.isDynamic;if(function E(le,H){return!le&&p[H].ignoreCount>0}(ye.getPlaybackController().getLowLatencyModeEnabled(),W)||!z)return H;if(x&&x.state===D.default.BUFFER_EMPTY)v.debug("["+W+"] Switch to index 0; buffer is empty."),H.quality=0,H.reason="InsufficientBufferRule: Buffer is empty";else{var pe=le.getMediaInfo(),he=le.getAbrController(),de=he.getThroughputHistory(),ve=O.getCurrentBufferLevel(W),se=de.getAverageThroughput(W,J),Se=de.getAverageLatency(W);H.quality=he.getQualityForBitrate(pe,se*(ve/z)*.5,oe,Se),H.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return H},reset:function Z(){N(),S.off(c.default.PLAYBACK_SEEKING,G,b),S.off(T.default.BYTES_APPENDED_END_FRAGMENT,ee,b)}},function y(){v=Object(R.default)(L).getInstance().getLogger(b),N(),S.on(c.default.PLAYBACK_SEEKING,G,b),S.on(T.default.BYTES_APPENDED_END_FRAGMENT,ee,b)}(),b}l.__dashjs_factory_name="InsufficientBufferRule",U.default=I.default.getClassFactory(l)},"./src/streaming/rules/abr/L2ARule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/MetricsConstants.js"),T=m("./src/streaming/rules/SwitchRequest.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/streaming/vo/metrics/HTTPRequest.js"),P=m("./src/core/EventBus.js"),w=m("./src/core/events/Events.js"),D=m("./src/core/Debug.js"),c=m("./src/streaming/constants/Constants.js");function _(L){var v,p,y,g,S=this.context,O=(L=L||{}).dashMetrics,b=Object(P.default)(S).getInstance();function E(J){var fe={},ae=J.getMediaInfo(),pe=ae.bitrateList.map(function(he){return he.bandwidth/1e3});return fe.state=1,fe.bitrates=pe,fe.lastQuality=0,function N(J){!J||!J.type||(y[J.type]={},y[J.type].w=[],y[J.type].prev_w=[],y[J.type].Q=0,y[J.type].segment_request_start_s=0,y[J.type].segment_download_finish_s=0,y[J.type].B_target=1.5)}(ae),G(fe),fe}function G(J){J.placeholderBuffer=0,J.mostAdvancedSegmentStart=NaN,J.lastSegmentWasReplacement=!1,J.lastSegmentStart=NaN,J.lastSegmentDurationS=NaN,J.lastSegmentRequestTimeMs=NaN,J.lastSegmentFinishTimeMs=NaN}function Z(){for(var J in p)if(p.hasOwnProperty(J)){var fe=p[J];0!==fe.state&&(fe.state=1,G(fe))}}function le(J){if(J&&J.chunk&&J.chunk.mediaInfo){var fe=p[J.chunk.mediaInfo.type],ae=y[J.chunk.mediaInfo.type];if(fe&&0!==fe.state){var pe=J.chunk.start;isNaN(fe.mostAdvancedSegmentStart)||pe>fe.mostAdvancedSegmentStart?(fe.mostAdvancedSegmentStart=pe,fe.lastSegmentWasReplacement=!1):fe.lastSegmentWasReplacement=!0,fe.lastSegmentStart=pe,fe.lastSegmentDurationS=J.chunk.duration,fe.lastQuality=J.chunk.quality,W(fe,ae)}}}function H(J){if(J&&J.metric===M.default.HTTP_REQUEST&&J.value&&J.value.type===R.HTTPRequest.MEDIA_SEGMENT_TYPE&&J.value.trace&&J.value.trace.length){var fe=p[J.mediaType],ae=y[J.mediaType];fe&&0!==fe.state&&(fe.lastSegmentRequestTimeMs=J.value.trequest.getTime(),fe.lastSegmentFinishTimeMs=J.value._tfinish.getTime(),W(fe,ae))}}function W(J,fe){!isNaN(J.lastSegmentStart)&&!isNaN(J.lastSegmentRequestTimeMs)&&(fe.segment_request_start_s=.001*J.lastSegmentRequestTimeMs,fe.segment_download_finish_s=.001*J.lastSegmentFinishTimeMs,J.lastSegmentStart=NaN,J.lastSegmentRequestTimeMs=NaN)}function x(J){if(J&&J.mediaType){var fe=p[J.mediaType];fe&&0!==fe.state&&(fe.abrQuality=J.newQuality)}}function Y(J,fe){if(J.length!==fe.length)return-1;for(var ae=0,pe=0;pe<J.length;pe++)ae+=J[pe]*fe[pe];return ae}function oe(){p={},y={}}return v={getMaxIndex:function ie(J){var j,fe=Object(T.default)(S).create(),pe=Math.pow(4,.99),he=Math.max(Math.pow(4,1),pe*Math.sqrt(4)),de=J.getMediaInfo(),ve=J.getMediaType(),se=de.bitrateList.map(function(nt){return nt.bandwidth}),Se=se.length,ge=J.getScheduleController(),ne=J.getStreamInfo(),X=J.getAbrController(),F=X.getThroughputHistory(),V=ne&&ne.manifestInfo&&ne.manifestInfo.isDynamic,re=J.useL2AABR(),B=O.getCurrentBufferLevel(ve,!0),te=F.getSafeAverageThroughput(ve,V),me=F.getAverageThroughput(ve,V),q=F.getAverageLatency(ve),$=J.getVideoModel().getPlaybackRate();if(!(J&&J.hasOwnProperty("getMediaInfo")&&J.hasOwnProperty("getMediaType")&&J.hasOwnProperty("getScheduleController")&&J.hasOwnProperty("getStreamInfo")&&J.hasOwnProperty("getAbrController")&&J.hasOwnProperty("useL2AABR")&&(fe.reason=fe.reason||{},re&&ve!==c.default.AUDIO)))return fe;ge.setTimeToLoadDelay(0);var ce=function ee(J){var fe=J.getMediaType(),ae=p[fe];return ae||(ae=E(J),p[fe]=ae),ae}(J);if(0===ce.state)return fe;var ue=y[ve];if(!ue||(fe.reason.state=ce.state,fe.reason.throughput=me,fe.reason.latency=q,isNaN(me)))return fe;switch(ce.state){case 1:if(j=X.getQualityForBitrate(de,te,ne.id,q),fe.quality=j,fe.reason.throughput=te,ce.lastQuality=j,!isNaN(ce.lastSegmentDurationS)&&B>=ue.B_target){ce.state=2,ue.Q=pe;for(var be=0;be<Se;++be)ue.prev_w[be]=be===ce.lastQuality?1:0}break;case 2:var we=[],Pe=O.getCurrentHttpRequest(ve).trace.reduce(function(nt,at){return nt+at.d},0),Re=O.getCurrentHttpRequest(ve).trace.reduce(function(nt,at){return nt+at.b[0]},0),Ue=Math.round(8*Re/Pe);Ue<1&&(Ue=1);for(var Ce=ce.lastSegmentDurationS,Oe=1,Ge=0;Ge<Se;++Ge)se[Ge]=se[Ge]/1e3,$*se[Ge]>Ue&&(Oe=-1),ue.w[Ge]=ue.prev_w[Ge]+Oe*(Ce/(2*he))*((ue.Q+pe)*($*se[Ge]/Ue));ue.w=function z(J){for(var fe=J.length,ae=!1,pe=[],he=0;he<fe;++he)pe[he]=J[he];for(var de=J.sort(function(X,F){return F-X}),ve=0,se=0,Se=[],ge=0;ge<fe-1;++ge)if((se=((ve+=de[ge])-1)/(ge+1))>=de[ge+1]){ae=!0;break}ae||(se=(ve+de[fe-1]-1)/fe);for(var ne=0;ne<fe;++ne)Se[ne]=Math.max(pe[ne]-se,0);return Se}(ue.w);for(var Ne=0;Ne<Se;++Ne)we[Ne]=ue.w[Ne]-ue.prev_w[Ne],ue.prev_w[Ne]=ue.w[Ne];ue.Q=Math.max(0,ue.Q-Ce+Ce*$*((Y(se,ue.prev_w)+Y(se,we))/Ue));for(var $e=[],Je=0;Je<Se;++Je)$e[Je]=Math.abs(se[Je]-Y(ue.w,se));(j=$e.indexOf(Math.min.apply(Math,$e)))>ce.lastQuality&&se[ce.lastQuality+1]<=Ue&&(j=ce.lastQuality+1),se[j]>=Ue&&(ue.Q=2*Math.max(pe,ue.Q)),fe.quality=j,fe.reason.throughput=me,fe.reason.latency=q,fe.reason.bufferLevel=B,ce.lastQuality=fe.quality;break;default:g.debug("L2A ABR rule invoked in bad state."),fe.quality=X.getQualityForBitrate(de,te,ne.id,q),fe.reason.state=ce.state,fe.reason.throughput=te,fe.reason.latency=q,ce.state=1,G(ce)}return fe},reset:function ye(){oe(),b.off(w.default.PLAYBACK_SEEKING,Z,v),b.off(w.default.MEDIA_FRAGMENT_LOADED,le,v),b.off(w.default.METRIC_ADDED,H,v),b.off(w.default.QUALITY_CHANGE_REQUESTED,x,v)}},function A(){g=Object(D.default)(S).getInstance().getLogger(v),oe(),b.on(w.default.PLAYBACK_SEEKING,Z,v),b.on(w.default.MEDIA_FRAGMENT_LOADED,le,v),b.on(w.default.METRIC_ADDED,H,v),b.on(w.default.QUALITY_CHANGE_REQUESTED,x,v)}(),v}_.__dashjs_factory_name="L2ARule",U.default=I.default.getClassFactory(_)},"./src/streaming/rules/abr/SwitchHistoryRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/rules/SwitchRequest.js");function R(){var w,D,P=this.context;return w={getMaxIndex:function d(_){for(var L=_?_.getSwitchHistory():null,S=L?L.getSwitchRequests():[],O=0,b=0,v=0,p=Object(I.default)(P).create(),y=0;y<S.length;y++)if(void 0!==S[y]&&(v+=S[y].dropSize,(O+=S[y].drops)+(b+=S[y].noDrops)>=6&&O/b>.075)){p.quality=y>0&&S[y].drops>0?y-1:y,p.reason={index:p.quality,drops:O,noDrops:b,dropSize:v},D.debug("Switch history rule index: "+p.quality+" samples: "+(O+b)+" drops: "+O);break}return p}},function f(){D=Object(T.default)(P).getInstance().getLogger(w)}(),w}R.__dashjs_factory_name="SwitchHistoryRule",U.default=M.default.getClassFactory(R)},"./src/streaming/rules/abr/ThroughputRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/rules/SwitchRequest.js"),I=m("./src/streaming/constants/Constants.js"),R=m("./src/streaming/constants/MetricsConstants.js");function P(w){var D=this.context,c=(w=w||{}).dashMetrics;return{getMaxIndex:function _(S){var O=Object(T.default)(D).create();if(!(S&&S.hasOwnProperty("getMediaInfo")&&S.hasOwnProperty("getMediaType")&&S.hasOwnProperty("useBufferOccupancyABR")&&S.hasOwnProperty("getAbrController")&&S.hasOwnProperty("getScheduleController")))return O;!function d(){if(!c||!c.hasOwnProperty("getCurrentBufferState"))throw new Error(I.default.MISSING_CONFIG_ERROR)}();var b=S.getMediaInfo(),v=S.getMediaType(),p=c.getCurrentBufferState(v),y=S.getScheduleController(),g=S.getAbrController(),A=S.getStreamInfo(),E=A?A.id:null,N=A&&A.manifestInfo?A.manifestInfo.isDynamic:null,G=g.getThroughputHistory(),ee=G.getSafeAverageThroughput(v,N),Z=G.getAverageLatency(v),le=S.useBufferOccupancyABR();return isNaN(ee)||!p||le||g.getAbandonmentStateFor(E,v)!==R.default.ABANDON_LOAD&&(p.state===R.default.BUFFER_LOADED||N)&&(O.quality=g.getQualityForBitrate(b,ee,E,Z),y.setTimeToLoadDelay(0),O.reason={throughput:ee,latency:Z}),O},reset:function L(){}}}P.__dashjs_factory_name="ThroughputRule",U.default=M.default.getClassFactory(P)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I_MANUAL="manual_weight_selection",I_RANDOM="random_weight_selection",I_DYNAMIC="dynamic_weight_selection";function R(){var w,D,c,l,f,d,_,L,S,P=this.context;function v(){c=null,l=1,f=100,d=0,_=null,L=null,S=I_DYNAMIC}function p(){var ie=0;if(c)for(var oe=0;oe<c.length;oe++){var ye=c[oe];ye.state.throughput>ie&&(ie=ye.state.throughput)}return ie}function g(ie,oe,ye){var J=ie.map(function(ae,pe){return ye[pe]*Math.pow(ae-oe[pe],2)}).reduce(function(ae,pe){return ae+pe});return(J<0?-1:1)*Math.sqrt(Math.abs(J))}function A(ie,oe){return g([ie.state.throughput,ie.state.latency,ie.state.rebuffer,ie.state.switch],[oe.state.throughput,oe.state.latency,oe.state.rebuffer,oe.state.switch],[1,1,1,1])}function E(ie,oe,ye){for(var J=0;J<oe.length;J++){var fe=oe[J],pe=A(fe,ie);N(fe,ye,Math.exp(-1*Math.pow(pe,2)/(2*Math.pow(.1,2))))}}function N(ie,oe,ye){var J=ie.state,fe=[.01,.01,.01,.01];J.throughput=J.throughput+(oe[0]-J.throughput)*fe[0]*ye,J.latency=J.latency+(oe[1]-J.latency)*fe[1]*ye,J.rebuffer=J.rebuffer+(oe[2]-J.rebuffer)*fe[2]*ye,J.switch=J.switch+(oe[3]-J.switch)*fe[3]*ye}return w={getNextQuality:function ee(ie,oe,ye,J,fe,ae,pe){var he=ye,de=J,ve=oe,se=function x(ie){if(!c){c=[];var oe=ie.bitrateList,ye=[];d=oe[0].bandwidth,oe.forEach(function(ae){ye.push(ae.bandwidth),ae.bandwidth<d&&(d=ae.bandwidth)}),l=function y(ie){var oe=ie.map(function(ye){return Math.pow(ye,2)}).reduce(function(ye,J){return ye+J});return Math.sqrt(oe)}(ye);for(var J=0;J<oe.length;J++)c.push({qualityIndex:J,bitrate:oe[J].bandwidth,state:{throughput:oe[J].bandwidth/l,latency:0,rebuffer:0,switch:0}});L=function z(ie){var oe=[],ye=function Y(ie){for(var oe=[],ye=0;ye<ie;ye++){var J=[Math.random()*p(),Math.random(),Math.random(),Math.random()];oe.push(J)}return oe}(Math.pow(ie.length,2));oe.push(ye[0]);for(var J=[1,1,1,1],fe=1;fe<ie.length;fe++){for(var ae=null,pe=null,he=0;he<ye.length;he++){for(var de=ye[he],ve=null,se=0;se<oe.length;se++){var Se=g(de,oe[se],J);(null===ve||Se<ve)&&(ve=Se)}(null===pe||ve>pe)&&(ae=de,pe=ve)}oe.push(ae)}for(var ge=null,ne=null,X=0;X<oe.length;X++){for(var F=0,V=0;V<oe.length;V++)X!==V&&(F+=g(oe[X],oe[V],J));(null===ge||F>ge)&&(ge=F,ne=X)}var re=[];for(re.push(oe[ne]),oe.splice(ne,1);oe.length>0;){for(var B=null,te=null,me=0;me<oe.length;me++){var Ee=g(re[0],oe[me],J);(null===B||Ee<B)&&(B=Ee,te=me)}re.push(oe[te]),oe.splice(te,1)}return re}(c)}return c}(ie),Se=oe/l;Se>1&&(Se=p()),ye/=f,D.debug("getNextQuality called throughput:".concat(Se," latency:").concat(ye," bufferSize:").concat(J," currentQualityIndex:").concat(ae," playbackRate:").concat(fe));var V=se[ae],re=V.bitrate*pe.getSegmentDuration()/ve,B=Math.max(0,re-de);if(de-re<pe.getMinBuffer())return D.debug("Buffer is low for bitrate= ".concat(V.bitrate," downloadTime=").concat(re," currentBuffer=").concat(de," rebuffer=").concat(B)),function G(ie,oe){var ye=0,J=ie;if(c)for(var fe=0;fe<c.length;fe++){var ae=c[fe];ae.bitrate<ie.bitrate&&ae.bitrate>ye&&oe>ae.bitrate&&(ye=ae.bitrate,J=ae)}return J}(V,ve).qualityIndex;switch(S){case I_MANUAL:!function Z(){_=[.4,.4,.4,.4]}();break;case I_RANDOM:!function le(ie){_=function W(ie,oe){for(var ye=[],J=Math.sqrt(2/ie),fe=0;fe<oe;fe++)ye.push(Math.random()*J);return _=ye}(ie.length,4)}(se);break;default:!function H(ie,oe,ye,J,fe,ae,pe){_||(_=L[L.length-1]);var he=ie.findWeightVector(oe,ye,J,fe,ae,pe);null!==he&&-1!==he&&(_=he)}(pe,se,he,de,B,ve,fe)}for(var te=null,me=null,Ee=null,q=0;q<se.length;q++){var K=se[q],j=K.state,$=[j.throughput,j.latency,j.rebuffer,j.switch],ce=_.slice(),ue=pe.getNextBufferWithBitrate(K.bitrate,de,ve),be=ue<pe.getMinBuffer();be&&D.debug("Buffer is low for bitrate=".concat(K.bitrate," downloadTime=").concat(re," currentBuffer=").concat(de," nextBuffer=").concat(ue)),(K.bitrate>oe-1e4||be)&&K.bitrate!==d&&(ce[0]=100);var we=g($,[Se,0,0,0],ce);(null===te||we<te)&&(te=we,me=K.qualityIndex,Ee=K)}var Pe=Math.abs(V.bitrate-Ee.bitrate)/l;return E(V,se,[Se,ye,B,Pe]),E(Ee,se,[Se,0,0,Pe]),me},reset:function b(){v()}},function O(){D=Object(T.default)(P).getInstance().getLogger(w),v()}(),w}R.__dashjs_factory_name="LearningAbrController",U.default=M.default.getClassFactory(R)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/rules/abr/lolp/QoeInfo.js");function I(){var R,P,w,D,c;function f(){P=null,w=null,D=null,c=null}function _(p,y,g,A){var E=new T.default;return E.type=p,E.weights.bitrateReward=y||1,E.weights.bitrateSwitchPenalty=1,E.weights.rebufferPenalty=g||1e3,E.weights.latencyPenalty=[],E.weights.latencyPenalty.push({threshold:1.1,penalty:.05*A}),E.weights.latencyPenalty.push({threshold:1e8,penalty:.1*g}),E.weights.playbackSpeedPenalty=A||200,E}function S(p,y,g,A,E){E.bitrateWSum+=E.weights.bitrateReward*p,E.lastBitrate&&(E.bitrateSwitchWSum+=E.weights.bitrateSwitchPenalty*Math.abs(p-E.lastBitrate)),E.lastBitrate=p,E.rebufferWSum+=E.weights.rebufferPenalty*y;for(var N=0;N<E.weights.latencyPenalty.length;N++){var G=E.weights.latencyPenalty[N];if(g<=G.threshold){E.latencyWSum+=G.penalty*g;break}}E.playbackSpeedWSum+=E.weights.playbackSpeedPenalty*Math.abs(1-A),E.totalQoe=E.bitrateWSum-E.bitrateSwitchWSum-E.rebufferWSum-E.latencyWSum-E.playbackSpeedWSum}return R={setupPerSegmentQoe:function d(p,y,g){P=_("segment",p,y,g),w=p,D=y,c=g},logSegmentMetrics:function L(p,y,g,A){P&&S(p,y,g,A,P)},getPerSegmentQoe:function O(){return P},calculateSingleUseQoe:function b(p,y,g,A){var E=null;return w&&D&&c&&(E=_("segment",w,D,c)),E?(S(p,y,g,A,E),E.totalQoe):0},reset:function v(){f()}},function l(){f()}(),R}I.__dashjs_factory_name="LoLpQoeEvaluator",U.default=M.default.getClassFactory(I)},"./src/streaming/rules/abr/lolp/LoLpRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/streaming/rules/abr/lolp/LearningAbrController.js"),R=m("./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),P=m("./src/streaming/rules/SwitchRequest.js"),w=m("./src/streaming/constants/MetricsConstants.js"),D=m("./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),c=m("./src/streaming/constants/Constants.js");function d(_){var O,b,v,p,L=(_=_||{}).dashMetrics,S=this.context;return b={getMaxIndex:function g(N){try{var G=Object(P.default)(S).create(),ee=N.getMediaInfo().type,Z=N.getAbrController(),le=N.getStreamInfo(),H=Z.getQualityFor(ee,le.id),W=N.getMediaInfo(),x=L.getCurrentBufferState(ee),Y=N.getScheduleController(),z=L.getCurrentBufferLevel(ee,!0),ie=le&&le.manifestInfo?le.manifestInfo.isDynamic:null,oe=Y.getPlaybackController(),ye=oe.getCurrentLiveLatency();if(!N.useLoLPABR()||ee===c.default.AUDIO)return G;ye||(ye=0);var J=oe.getPlaybackRate(),ae=Z.getThroughputHistory().getSafeAverageThroughput(ee,ie);if(O.debug("Throughput ".concat(Math.round(ae)," kbps")),isNaN(ae)||!x||Z.getAbandonmentStateFor(le.id,ee)===w.default.ABANDON_LOAD)return G;for(var pe=W.bitrateList,he=N.getRepresentationInfo().fragmentDuration,de=pe[0].bandwidth/1e3,ve=pe[pe.length-1].bandwidth/1e3,se=0;se<pe.length;se++){var Se=pe[se].bandwidth/1e3;Se>ve?ve=Se:Se<de&&(de=Se)}var ne=pe[H].bandwidth/1e3,X=L.getCurrentHttpRequest(ee,!0),F=(X.tresponse.getTime()-X.trequest.getTime())/1e3,V=F>he?F-he:0;p.setupPerSegmentQoe(he,ve,de),p.logSegmentMetrics(ne,V,ye,J);var re=Object(D.default)(S).create({targetLatency:1.5,bufferMin:.3,segmentDuration:he,qoeEvaluator:p});return G.quality=v.getNextQuality(W,1e3*ae,ye,z,J,H,re),G.reason={throughput:ae,latency:ye},G.priority=P.default.PRIORITY.STRONG,Y.setTimeToLoadDelay(0),G.quality!==H&&console.log("[TgcLearningRule]["+ee+"] requesting switch to index: ",G.quality,"Average throughput",Math.round(ae),"kbps"),G}catch(B){throw B}},reset:function E(){!function A(){v.reset(),p.reset()}()}},function y(){O=Object(M.default)(S).getInstance().getLogger(b),v=Object(I.default)(S).create(),p=Object(R.default)(S).create()}(),b}d.__dashjs_factory_name="LoLPRule",U.default=T.default.getClassFactory(d)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){var c,d,_,R=I.targetLatency,P=I.bufferMin,w=I.segmentDuration,D=I.qoeEvaluator;function y(){return w}function A(E,N){var G=y();return N>G?E-G:E+G-N}return c={getMinBuffer:function p(){return P},getSegmentDuration:y,getNextBufferWithBitrate:function g(E,N,G){return A(N,E*w/G)},getNextBuffer:A,findWeightVector:function O(E,N,G,ee,Z,le){var H=null,W=null,x=null,Y=Math.abs(N-_);return E.forEach(function(z){d.forEach(function(ie){var oe_latency=ie[1],oe_buffer=ie[2],ye=z.bitrate*w/Z,J=A(G,ye),fe=Math.max(1e-5,ye-J),de=D.calculateSingleUseQoe(z.bitrate,(0===oe_buffer?10:1/oe_buffer)*fe,(0===oe_latency?10:1/oe_latency)*z.state.latency,le);(null===H||de>H)&&function b(E,N,G){return!(E>R+G)&&N>=P}(N,J,Y)&&(H=de,W=ie,x=z.bitrate)})}),null===W&&null===x&&(W=-1),_=N,W}},function L(){!function S(){d=function v(E,N){return function Z(le,H,W){if(W===H)return le;for(var x=le.length,Y=0;Y<x;Y++)for(var z=le.shift(),ie=0;ie<E.length;ie++)le.push(z.concat(E[ie]));return Z(le,H,W+1)}(E.map(function(Z){return[Z]}),N,1)}([.2,.4,.6,.8,1],4),_=0}()}(),c}T.__dashjs_factory_name="LoLpWeightSelector",U.default=M.default.getClassFactory(T)},"./src/streaming/rules/abr/lolp/QoeInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var I=0;function P(_){for(var L="",S=0;S<_.length;++S)L+=_[S].uchar;return L.length-L.replace(/^\s+/,"").length}function w(_){return"left: "+3.125*_.x+"%; top: "+6.66*_.y1+"%; width: "+(100-3.125*_.x)+"%; height: "+6.66*Math.max(_.y2-1-_.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(_){return"red"===_?"rgb(255, 0, 0)":"green"===_?"rgb(0, 255, 0)":"blue"===_?"rgb(0, 0, 255)":"cyan"===_?"rgb(0, 255, 255)":"magenta"===_?"rgb(255, 0, 255)":"yellow"===_?"rgb(255, 255, 0)":"white"===_?"rgb(255, 255, 255)":"black"===_?"rgb(0, 0, 0)":_}function c(_,L){var S=_.videoHeight/15;return L?"font-size: "+S+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(L.foreground?D(L.foreground):"rgb(255, 255, 255)")+"; font-style: "+(L.italics?"italic":"normal")+"; text-decoration: "+(L.underline?"underline":"none")+"; white-space: pre; background-color: "+(L.background?D(L.background):"transparent")+";":"font-size: "+S+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function l(_){return _.replace(/^\s+/g,"")}function f(_){return _.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function d(_,L,S,O){var ee,Z,b=null,p=!1,y=-1,g={start:L,end:S,spans:[]},A="style_cea608_white_black",E={},N={},G=[];for(ee=0;ee<15;++ee){var le=O.rows[ee],H="",W=null;if(!1===le.isEmpty()){var x=P(le.chars);null===b&&(b={x,y1:ee,y2:ee+1,p:[]}),x!==y&&p&&(b.p.push(g),g={start:L,end:S,spans:[]},b.y2=ee,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(G.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b={x,y1:ee,y2:ee+1,p:[]});for(var Y=0;Y<le.chars.length;++Y){var z=le.chars[Y],ie=z.penState;if(null===W||!ie.equals(W)){H.trim().length>0&&(g.spans.push({name:A,line:H,row:ee}),H="");var oe="style_cea608_"+ie.foreground+"_"+ie.background;ie.underline&&(oe+="_underline"),ie.italics&&(oe+="_italics"),N.hasOwnProperty(oe)||(N[oe]=JSON.parse(JSON.stringify(ie))),W=ie,A=oe}H+=z.uchar}H.trim().length>0&&g.spans.push({name:A,line:H,row:ee}),p=!0,y=x}else p=!1,y=-1,b&&(b.p.push(g),g={start:L,end:S,spans:[]},b.y2=ee,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(G.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b=null)}b&&(b.p.push(g),b.y2=ee+1,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(G.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b=null);var ye=[];for(ee=0;ee<G.length;++ee){var J=G[ee],fe="sub_cea608_"+I++,ae=document.createElement("div");ae.id=fe;var pe=w(J);ae.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+pe;var he=document.createElement("div");he.className="paragraph bodyStyle",he.style.cssText=c(_);var de=document.createElement("div");de.className="cueUniWrapper",de.style.cssText="unicode-bidi: normal; direction: ltr;";for(var ve=0;ve<J.p.length;++ve){var se=J.p[ve],Se=0;for(Z=0;Z<se.spans.length;++Z){var ge=se.spans[Z];if(ge.line.length>0){if(0!==Z&&Se!=ge.row){var ne=document.createElement("br");ne.className="lineBreak",de.appendChild(ne)}var X=!1;Se===ge.row&&(X=!0),Se=ge.row;var F=N[ge.name],V=document.createElement("span");V.className="spanPadding "+ge.name+" customSpanColor",V.style.cssText=c(_,F),V.textContent=0!==Z&&X?Z===se.spans.length-1?f(ge.line):ge.line:se.spans.length>1&&Z<se.spans.length-1&&ge.row===se.spans[Z+1].row?l(ge.line):ge.line.trim(),de.appendChild(V)}}}he.appendChild(de),ae.appendChild(he);var re={bodyStyle:["%",90]};for(var B in N)N.hasOwnProperty(B)&&(re[B]=["%",90]);ye.push({type:"html",start:L,end:S,cueHTMLElement:ae,cueID:fe,cellResolution:[32,15],isFromCEA608:!0,fontSize:re,lineHeight:{},linePadding:{}})}return ye}}}T.__dashjs_factory_name="EmbeddedTextHtmlRender",U.default=M.default.getSingletonFactory(T)},"./src/streaming/text/NotFragmentedTextBufferController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/streaming/utils/InitCache.js"),P=m("./src/streaming/SourceBufferSink.js"),w=m("./src/streaming/vo/DashJSError.js"),D=m("./src/core/errors/Errors.js"),c="NotFragmentedTextBufferController";function l(f){f=f||{};var v,p,y,g,A,E,d=this.context,_=Object(M.default)(d).getInstance(),L=f.textController,S=f.errHandler,O=f.streamInfo,b=f.type;function x(me){g=me}function ye(me){p!==me&&(p=me)&&function te(me,Ee){_.trigger(me,Ee||{},{streamId:O.id,mediaType:b})}(T.default.BUFFERING_COMPLETED)}function ae(me){!me.chunk.bytes||p||(E.save(me.chunk),A.append(me.chunk),ye(!0))}return v={initialize:function ee(me){x(me)},getStreamId:function le(){return O.id},getType:function H(){return b},getBufferControllerType:function G(){return c},createBufferSink:function Z(me){return new Promise(function(Ee,q){try{(A=Object(P.default)(d).create({mediaSource:g,textController:L,eventBus:_})).initializeForFirstUse(O,me),y||(A.getBuffer()&&"function"==typeof A.getBuffer().initialize&&A.getBuffer().initialize(),y=!0),Ee(A)}catch(K){S.error(new w.default(D.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,D.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+b)),q(K)}})},getBuffer:function W(){return A},getBufferLevel:function ie(){return 0},getRangeAt:function pe(){return null},pruneBuffer:function Se(){},hasBufferAtTime:function he(){return!0},getAllRangesWithSafetyFactor:function de(){return[]},getContinuousBufferTimeForTargetTime:function ve(){return Number.POSITIVE_INFINITY},setMediaSource:x,getMediaSource:function Y(){return g},appendInitSegmentFromCache:function fe(me){return null!==E.extract(O.id,me)},getIsBufferingCompleted:function oe(){return p},setIsBufferingCompleted:ye,getIsPruningInProgress:function z(){return!1},reset:function J(me){_.off(T.default.INIT_FRAGMENT_LOADED,ae,v),!me&&A&&(A.abort(),A.reset(),A=null)},clearBuffers:function se(){return Promise.resolve()},prepareForPlaybackSeek:function ne(){return Promise.resolve()},prepareForReplacementTrackSwitch:function X(){return p=!1,Promise.resolve()},setSeekTarget:function V(){},updateAppendWindow:function F(){return Promise.resolve()},pruneAllSafely:function B(){return Promise.resolve()},updateBufferTimestampOffset:function ge(){return Promise.resolve()},segmentRequestingCompleted:function re(){}},function N(){y=!1,g=null,p=!1,E=Object(R.default)(d).getInstance(),_.on(T.default.INIT_FRAGMENT_LOADED,ae,v)}(),v}l.__dashjs_factory_name=c,U.default=I.default.getClassFactory(l)},"./src/streaming/text/TextController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/streaming/text/TextSourceBuffer.js"),R=m("./src/streaming/text/TextTracks.js"),P=m("./src/streaming/utils/VTTParser.js"),w=m("./src/streaming/utils/VttCustomRenderingParser.js"),D=m("./src/streaming/utils/TTMLParser.js"),c=m("./src/core/EventBus.js"),l=m("./src/core/events/Events.js"),f=m("./src/streaming/MediaPlayerEvents.js"),d=m("./src/streaming/utils/SupervisorTools.js");function _(L){var A,E,N,G,ee,Z,le,H,W,x,Y,z,S=this.context,O=L.adapter,b=L.errHandler,v=L.manifestModel,p=L.mediaController,y=L.videoModel,g=L.settings;function de(Ee){var q=Ee.tracks,K=Ee.index,j=Ee.streamId;if(!1===g.get().streaming.text.defaultEnabled&&!ge()||z)X(j,-1);else{var ce=p.getCurrentTrackFor(M.default.TEXT,j);if(ce){var ue={lang:ce.lang,role:ce.roles[0],index:ce.index,codec:ce.codec,accessibility:ce.accessibility[0]};q.some(function(be,we){if(p.matchSettings(ue,be))return X(j,we),K=we,!0})}W=!1}E[j].lastEnabledIndex=K,H.trigger(f.default.TEXT_TRACKS_ADDED,{enabled:ge(),index:K,tracks:q,streamId:j}),Y=!0}function ve(Ee){try{var q=Ee.streamId;if(!G[q]||isNaN(Ee.time))return;G[q].manualCueProcessing(Ee.time)}catch{}}function se(Ee){try{var q=Ee.streamId;if(!G[q])return;G[q].disableManualTracks()}catch{}}function ge(){var Ee=!0;return W&&!x&&(Ee=!1),Ee}function X(Ee,q){(W=-1===q)&&p&&p.saveTextSettingsDisabled();var K=re(Ee);if(K!==q&&G[Ee]){G[Ee].disableManualTracks(),G[Ee].setModeForTrackIdx(K,M.default.TEXT_HIDDEN),G[Ee].setCurrentTrackIdx(q),G[Ee].setModeForTrackIdx(q,M.default.TEXT_SHOWING);var j=G[Ee].getCurrentTrackInfo();j&&j.isFragmented&&!j.isEmbedded?function F(Ee,q,K){if(N[Ee])for(var $=N[Ee].getConfig().fragmentedTracks,ce=0;ce<$.length;ce++){var ue=$[ce];if(q.lang===ue.lang&&(ue.id?q.id===ue.id:q.index===ue.index)){var be=p.getCurrentTrackFor(M.default.TEXT,Ee);(ue.id?be.id!==ue.id:be.index!==ue.index)?(G[Ee].deleteCuesFromTrackIdx(K),N[Ee].setCurrentFragmentedTrackIdx(ce)):-1===K&&H.trigger(l.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Ee,mediaType:M.default.TEXT})}}}(Ee,j,K):j&&!j.isFragmented&&function V(Ee,q){H.trigger(l.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:q},{streamId:Ee,mediaType:M.default.TEXT})}(Ee,j),p.setTrack(j)}}function re(Ee){return G[Ee].getCurrentTrackIdx()}function te(){N={},G={},E={},W=!0,Y=!1,z=!1}return A={deactivateStream:function B(Ee){if(Ee){var q=Ee.id;N[q]&&N[q].resetMediaInfos(),G[q]&&G[q].deleteAllTextTracks()}},initialize:function oe(){H.on(l.default.TEXT_TRACKS_QUEUE_INITIALIZED,de,A),g.get().streaming.text.webvtt.customRenderingEnabled&&(H.on(l.default.PLAYBACK_TIME_UPDATED,ve,A),H.on(l.default.PLAYBACK_SEEKING,se,A))},initializeForStream:function ye(Ee){var q=Ee.id,K=Object(R.default)(S).create({videoModel:y,settings:g,streamInfo:Ee});K.initialize(),G[q]=K;var j=Object(I.default)(S).create({errHandler:b,adapter:O,manifestModel:v,mediaController:p,videoModel:y,textTracks:K,vttParser:ee,vttCustomRenderingParser:Z,ttmlParser:le,streamInfo:Ee,settings:g});j.initialize(),N[q]=j,E[q]={},E[q].lastEnabledIndex=-1},createTracks:function J(Ee){var q=Ee.id;!G[q]||G[q].createTracks()},getTextSourceBuffer:function ae(Ee){var q=Ee.id;if(N&&N[q])return N[q]},getAllTracksAreDisabled:function pe(){return W},addEmbeddedTrack:function he(Ee,q){var K=Ee.id;!N[K]||N[K].addEmbeddedTrack(q)},enableText:function Se(Ee,q){Object(d.checkParameterType)(q,"boolean"),ge()!==q&&(q&&X(Ee,E[Ee].lastEnabledIndex),q||(E[Ee].lastEnabledIndex=re(Ee),Y?X(Ee,-1):z=!0))},isTextEnabled:ge,setTextTrack:X,getCurrentTrackIdx:re,enableForcedTextStreaming:function ne(Ee){Object(d.checkParameterType)(Ee,"boolean"),x=Ee},addMediaInfosToBuffer:function fe(Ee,q,K){var $=Ee.id;!N[$]||N[$].addMediaInfos(q,K,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function me(){te(),H.off(l.default.TEXT_TRACKS_QUEUE_INITIALIZED,de,A),g.get().streaming.text.webvtt.customRenderingEnabled&&(H.off(l.default.PLAYBACK_TIME_UPDATED,ve,A),H.off(l.default.PLAYBACK_SEEKING,se,A)),Object.keys(N).forEach(function(Ee){N[Ee].resetEmbedded(),N[Ee].reset()})}},function ie(){x=!1,Y=!1,z=!1,ee=Object(P.default)(S).getInstance(),Z=Object(w.default)(S).getInstance(),le=Object(D.default)(S).getInstance(),H=Object(c.default)(S).getInstance(),te()}(),A}_.__dashjs_factory_name="TextController",U.default=T.default.getClassFactory(_)},"./src/streaming/text/TextSourceBuffer.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/vo/metrics/HTTPRequest.js"),I=m("./src/streaming/vo/TextTrackInfo.js"),R=m("./src/streaming/utils/BoxParser.js"),P=m("./src/streaming/utils/CustomTimeRanges.js"),w=m("./src/core/FactoryMaker.js"),D=m("./src/core/Debug.js"),c=m("./src/streaming/text/EmbeddedTextHtmlRender.js"),l=m("./node_modules/codem-isoboxer/dist/iso_boxer.js"),f=m.n(l),d=m("./externals/cea608-parser.js"),_=m.n(d),L=m("./src/core/EventBus.js"),S=m("./src/core/events/Events.js"),O=m("./src/streaming/vo/DashJSError.js"),b=m("./src/core/errors/Errors.js");function v(p){var z,ie,oe,ye,J,fe,ae,pe,he,de,ve,se,Se,ge,ne,X,y=p.errHandler,g=p.manifestModel,A=p.mediaController,E=p.videoModel,N=p.textTracks,G=p.vttParser,ee=p.vttCustomRenderingParser,Z=p.ttmlParser,le=p.streamInfo,H=p.settings,W=this.context,x=Object(L.default)(W).getInstance(),Y=!1;function B(){(function re(){fe=null,pe=NaN,he=[],de=null,ae=!1})(),J=[],ye=null}function Ee(De){var Te=new I.default;for(var Ye in De)Te[Ye]=De[Ye];Te.labels=De.labels,Te.defaultTrack=function wt(De){var Te=!1;return se.length>1&&De.isEmbedded?Te=De.id&&De.id===M.default.CC1:1===se.length?De.id&&"string"==typeof De.id&&"CC"===De.id.substring(0,2)&&(Te=!0):0===se.length&&(Te=De.index===J[0].index),Te}(De),Te.isFragmented=De.isFragmented,Te.isEmbedded=!!De.isEmbedded,Te.isTTML=function Pe(De){return De.codec&&De.codec.search(M.default.STPP)>=0||De.mimeType&&De.mimeType.search(M.default.TTML)>=0}(De),Te.kind=function Re(De,Te){var Le=De.roles&&De.roles.length>0?Te[De.roles[0]]:Te.caption;return Le===Te.caption||Le===Te.subtitle?Le:Te.caption}(De,{subtitle:"subtitles",caption:"captions"}),N.addTextTrack(Te)}function j(De){var Te=De.chunk;Te.mediaInfo.embeddedCaptions&&Ue(Te.bytes,Te)}function we(De){ve=De}function Ue(De,Te){var Le=Te.mediaInfo,Ye=Le.type,tt=Le.codec||Le.mimeType;tt?-1!==Le.codec.indexOf("application/mp4")?function Ce(De,Te,Le){var Ye;if("InitializationSegment"===Te.segmentType)ae=!0,pe=oe.getMediaTimescaleFromMoov(De);else{if(!ae)return;(Ye=oe.getSamplesInfo(De).sampleList).length>0&&(de=Ye[0].cts-Te.start*pe),Le.search(M.default.STPP)>=0?function Oe(De,Te,Le){var Ye,st;for(ye=null!==ye?ye:Vt(Le),Ye=0;Ye<Te.length;Ye++){var tt=Te[Ye],ut=tt.cts,yt=ht(),gt=yt+ut/pe;z.buffered.add(gt,gt+tt.duration/pe);var Ze=new DataView(De,tt.offset,tt.subSizes[0]),rt=f.a.Utils.dataViewToString(Ze,M.default.UTF8),mt=[],Dt=tt.offset+tt.subSizes[0];for(st=1;st<tt.subSizes.length;st++){var Pt=new Uint8Array(De,Dt,tt.subSizes[st]),Bt=String.fromCharCode.apply(null,Pt);mt.push(Bt),Dt+=tt.subSizes[st]}try{var mn=g.getValue(),Nn=ye.parse(rt,mn.ttmlTimeIsRelative?ut/pe:0,ut/pe,(ut+tt.duration)/pe,mt);N.addCaptions(ve,yt,Nn)}catch(er){fe.removeExecutedRequestsBeforeTime(),this.remove(),ie.error("TTML parser error: "+er.message)}}}(De,Ye,Le):function Ge(De,Te){var Le,Ye,st,tt=[];for(Le=0;Le<Te.length;Le++){var ut=Te[Le];ut.cts-=de;var gt=ht()+ut.cts/pe;z.buffered.add(gt,gt+ut.duration/pe);var Ze=De.slice(ut.offset,ut.offset+ut.size),rt=f.a.parseBuffer(Ze);for(Ye=0;Ye<rt.boxes.length;Ye++){var mt=rt.boxes[Ye];if(ie.debug("VTT box1: "+mt.type),"vtte"!==mt.type&&"vttc"===mt.type)for(ie.debug("VTT vttc boxes.length = "+mt.boxes.length),st=0;st<mt.boxes.length;st++){var Dt=mt.boxes[st];if(ie.debug("VTT box2: "+Dt.type),"payl"===Dt.type){var Pt=Dt.cue_text;ie.debug("VTT cue_text = "+Pt);var Bt=ut.cts/pe,mn=(ut.cts+ut.duration)/pe;tt.push({start:Bt,end:mn,data:Pt,styles:{}}),ie.debug("VTT "+Bt+"-"+mn+" : "+Pt)}}}}tt.length>0&&N.addCaptions(ve,0,tt)}(De,Ye)}}(De,Te,tt):Ye===M.default.VIDEO?function $e(De,Te){var Le,Ye;if(Te.segmentType===T.HTTPRequest.INIT_SEGMENT_TYPE)0===Se&&(Se=oe.getMediaTimescaleFromMoov(De));else if(Te.segmentType===T.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===Se)return void ie.warn("CEA-608: No timescale for embeddedTextTrack yet");var st=(Ye=oe.getSamplesInfo(De)).lastSequenceNumber;if(!ne[0]&&!ne[1]&&function Je(){for(var De,Te=0;Te<se.length;Te++){if(-1===(De=N.getTrackIdxForId(se[Te].id)))return void ie.warn("CEA-608: data before track is ready.");var Le=nt(De);ne[Te]=new _.a.Cea608Parser(Te+1,{newCue:Le},null)}}(),Se){if(null!==ge&&st!==ge+Ye.numSequences)for(Le=0;Le<ne.length;Le++)ne[Le]&&ne[Le].reset();for(var tt=function at(De,Te){if(0===Te.length)return null;for(var Le={splits:[],fields:[[],[]]},Ye=new DataView(De),st=0;st<Te.length;st++)for(var tt=Te[st],ut=_.a.findCea608Nalus(Ye,tt.offset,tt.size),yt=null,gt=0,ke=0;ke<ut.length;ke++)for(var Ze=_.a.extractCea608DataFromRange(Ye,ut[ke]),rt=0;rt<2;rt++)if(Ze[rt].length>0){tt.cts!==yt?gt=0:gt+=1;var mt=ht();Le.fields[rt].push([tt.cts+mt*Se,Ze[rt],gt]),yt=tt.cts}return Le.fields.forEach(function(Pt){Pt.sort(function(Bt,mn){return Bt[0]===mn[0]?Bt[2]-mn[2]:Bt[0]-mn[0]})}),Le}(De,Ye.sampleList),ut=0;ut<ne.length;ut++){var yt=tt.fields[ut],gt=ne[ut];if(gt)for(Le=0;Le<yt.length;Le++)gt.addData(yt[Le][0]/Se,yt[Le][1])}ge=st}}}(De,Te):function Ne(De,Te,Le){var Ye,st,tt=new DataView(De,0,De.byteLength);st=f.a.Utils.dataViewToString(tt,M.default.UTF8);try{Ye=Vt(Le).parse(st,0),N.addCaptions(N.getCurrentTrackIdx(),0,Ye),z.buffered&&z.buffered.add(Te.start,Te.end)}catch(ut){y.error(new O.default(b.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,b.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+ut.message,st))}}(De,Te,tt):ie.error("No text type defined")}function nt(De){return function Te(Le,Ye,st){var tt;(tt=E.getTTMLRenderingDiv()?X.createHTMLCaptionsFromScreen(E.getElement(),Le,Ye,st):[{start:Le,end:Ye,data:st.getDisplayText(),styles:{}}])&&N.addCaptions(De,0,tt)}}function ht(){return isNaN(z.timestampOffset)?0:z.timestampOffset}function Vt(De){var Te;return De.search(M.default.VTT)>=0?Te=H.get().streaming.text.webvtt.customRenderingEnabled&&ee?ee:G:(De.search(M.default.TTML)>=0||De.search(M.default.STPP)>=0)&&(Te=Z),Te}function zt(De){se.forEach(function(Te){var Le=N.getTrackIdxForId(Te.id);Le>=0&&N.deleteCuesFromTrackIdx(Le,De.from,De.to)})}return z={initialize:function te(){Y||function $(){se=[],ve=null,Se=0,ne=[],ge=null,Y=!0,X=Object(c.default)(W).getInstance(),x.on(S.default.VIDEO_CHUNK_RECEIVED,j,z),x.on(S.default.BUFFER_CLEARED,zt,z)}()},addMediaInfos:function me(De,Te,Le){if(J=J.concat(Te),De===M.default.TEXT&&Te[0].isFragmented&&!Te[0].isEmbedded){fe=Le,z.buffered=Object(P.default)(W).create(),he=A.getTracksFor(M.default.TEXT,le.id).filter(function(ut){return ut.isFragmented});for(var Ye=A.getCurrentTrackFor(M.default.TEXT,le.id),st=0;st<he.length;st++)if(he[st]===Ye){we(st);break}}for(var tt=0;tt<Te.length;tt++)Ee(Te[tt])},resetMediaInfos:function en(){J=[]},getStreamId:function V(){return le.id},append:Ue,abort:function q(){},addEmbeddedTrack:function ue(De){if(Y&&De)if(De.id===M.default.CC1||De.id===M.default.CC3){for(var Te=0;Te<se.length;Te++)if(se[Te].id===De.id)return;se.push(De)}else ie.warn("Embedded track "+De.id+" not supported!")},resetEmbedded:function ce(){x.off(S.default.VIDEO_CHUNK_RECEIVED,j,z),x.off(S.default.BUFFER_CLEARED,zt,z),N&&N.deleteAllTextTracks(),Y=!1,se=[],ne=[null,null],ge=null},getConfig:function be(){return{fragmentModel:fe,fragmentedTracks:he,videoModel:E}},setCurrentFragmentedTrackIdx:we,remove:function kt(De,Te){void 0===De&&De===Te&&(De=z.buffered.start(0),Te=z.buffered.end(z.buffered.length-1)),z.buffered.remove(De,Te),N.deleteCuesFromTrackIdx(ve,De,Te)},reset:function K(){B(),J=[],oe=null}},function F(){ie=Object(D.default)(W).getInstance().getLogger(z),oe=Object(R.default)(W).getInstance(),B()}(),z}v.__dashjs_factory_name="TextSourceBuffer",U.default=w.default.getClassFactory(v)},"./src/streaming/text/TextTracks.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),R=m("./src/streaming/MediaPlayerEvents.js"),P=m("./src/core/FactoryMaker.js"),w=m("./src/core/Debug.js"),D=m("./node_modules/imsc/src/main/js/main.js");function l(L,S){var O=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!O){if(Array.isArray(L)||(O=function f(L,S){if(L){if("string"==typeof L)return d(L,S);var O=Object.prototype.toString.call(L).slice(8,-1);if("Object"===O&&L.constructor&&(O=L.constructor.name),"Map"===O||"Set"===O)return Array.from(L);if("Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return d(L,S)}}(L))||S&&L&&"number"==typeof L.length){O&&(L=O);var b=0,v=function(){};return{s:v,n:function(){return b>=L.length?{done:!0}:{done:!1,value:L[b++]}},e:function(E){throw E},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,p=!0,y=!1;return{s:function(){O=O.call(L)},n:function(){var E=O.next();return p=E.done,E},e:function(E){y=!0,g=E},f:function(){try{!p&&null!=O.return&&O.return()}finally{if(y)throw g}}}}function d(L,S){(null==S||S>L.length)&&(S=L.length);for(var O=0,b=new Array(S);O<S;O++)b[O]=L[O];return b}function _(L){var y,g,A,E,N,G,ee,Z,le,H,W,x,Y,z,ie,oe,ye,J,S=this.context,O=Object(T.default)(S).getInstance(),b=L.videoModel,v=L.streamInfo,p=L.settings;function he(Ne){return b.addTextTrack(Ne.kind,void 0!==Ne.id?Ne.id:Ne.lang,Ne.lang,Ne.isTTML,Ne.isEmbedded)}function se(Ne,$e,Je,nt,at,ht){var kt=0,zt=0;Ne/$e>Je/nt?kt=(zt=$e)/nt*Je:zt=(kt=Ne)/Je*nt;var en,De,Te=0,Le=0;return kt/zt>at?(Le=zt,Te=zt*at):(Te=kt,Le=kt/at),en=(Ne-Te)/2,De=($e-Le)/2,ht?{x:en+.1*Te,y:De+.1*Le,w:.8*Te,h:.8*Le}:{x:en,y:De,w:Te,h:Le}}function Se(Ne,$e){var Je=b.getClientWidth(),nt=b.getClientHeight(),at=b.getVideoWidth(),ht=b.getVideoHeight(),wt=b.getVideoRelativeOffsetTop(),Vt=b.getVideoRelativeOffsetLeft();if(0!==at&&0!==ht){var kt=at/ht,zt=!1;Ne.isFromCEA608&&(kt=3.5/3,zt=!0);var en=se.call(this,Je,nt,at,ht,kt,zt),De=en.w,Te=en.h,Le=en.x,Ye=en.y;if(De!=le||Te!=H||Le!=ee||Ye!=Z||$e){if(ee=Le+Vt,Z=Ye+wt,le=De,H=Te,W){var st=W.style;st&&(st.left=ee+"px",st.top=Z+"px",st.width=le+"px",st.height=H+"px",st.zIndex=z&&document[z]||ie?ye:null,O.trigger(R.default.CAPTION_CONTAINER_RESIZE))}var tt=Ne.activeCues;if(tt)for(var ut=tt.length,yt=0;yt<ut;++yt){var gt=tt[yt];gt.scaleCue(gt)}}}}function ge(Ne){var nt,at,ht,wt,Vt;if(Ne.cellResolution){var kt=[le/Ne.cellResolution[0],H/Ne.cellResolution[1]];if(Ne.linePadding)for(nt in Ne.linePadding)if(Ne.linePadding.hasOwnProperty(nt)){at=(Ne.linePadding[nt]*kt[0]).toString();for(var en=document.getElementsByClassName("spanPadding"),De=0;De<en.length;De++)en[De].style.cssText=en[De].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+at),en[De].style.cssText=en[De].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+at)}if(Ne.fontSize){for(nt in Ne.fontSize)if(Ne.fontSize.hasOwnProperty(nt)){"%"===Ne.fontSize[nt][0]?ht=Ne.fontSize[nt][1]/100:"c"===Ne.fontSize[nt][0]&&(ht=Ne.fontSize[nt][1]),at=(ht*kt[1]).toString(),Vt="defaultFontSize"!==nt?document.getElementsByClassName(nt):document.getElementsByClassName("paragraph");for(var Te=0;Te<Vt.length;Te++)Vt[Te].style.cssText=Vt[Te].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+at)}if(Ne.lineHeight)for(nt in Ne.lineHeight)if(Ne.lineHeight.hasOwnProperty(nt)){"%"===Ne.lineHeight[nt][0]?wt=Ne.lineHeight[nt][1]/100:"c"===Ne.fontSize[nt][0]&&(wt=Ne.lineHeight[nt][1]),at=(wt*kt[1]).toString(),Vt=document.getElementsByClassName(nt);for(var Le=0;Le<Vt.length;Le++)Vt[Le].style.cssText=Vt[Le].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+at)}}}if(Ne.isd){var Ye=document.getElementById(Ne.cueID);Ye&&W.removeChild(Ye),ne(Ne)}}function ne(Ne){if(W){var $e=document.createElement("div");W.appendChild($e),oe=Object(D.renderHTML)(Ne.isd,$e,function(Je){var nt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,at=/^#(.*)$/;if(nt.test(Je)){var ht=nt.exec(Je),wt=parseInt(ht[4],10)-1;return"data:image/png;base64,"+btoa(Ne.images[wt])}if(at.test(Je)){var zt=at.exec(Je);return"data:image/png;base64,"+Ne.embeddedImages[zt[1]]}return null},W.clientHeight,W.clientWidth,!1,function(Je){g.info("renderCaption :",Je)},oe,!0),$e.id=Ne.cueID,O.trigger(R.default.CAPTION_RENDERED,{captionDiv:$e,currentTrackIdx:G})}}function X(Ne,$e,Je){var nt=me(Ne);if(nt&&Array.isArray(Je)&&0!==Je.length)for(var at=0;at<Je.length;at++){var ht=void 0,wt=Je[at];nt.cellResolution=wt.cellResolution,nt.isFromCEA608=wt.isFromCEA608,!isNaN(wt.start)&&!isNaN(wt.end)&&(ht="html"===wt.type&&W?F(wt,$e,nt):wt.data?V(wt,$e,nt):null);try{ht?$(nt,ht)||(p.get().streaming.text.webvtt.customRenderingEnabled?(nt.manualCueList||(nt.manualCueList=[]),nt.manualCueList.push(ht)):nt.addCue(ht)):g.error("impossible to display subtitles.")}catch(Vt){throw ue(nt),nt.addCue(ht),Vt}}}function F(Ne,$e,Je){var nt=this,at=new A(Ne.start+$e,Ne.end+$e,"");return at.cueHTMLElement=Ne.cueHTMLElement,at.isd=Ne.isd,at.images=Ne.images,at.embeddedImages=Ne.embeddedImages,at.cueID=Ne.cueID,at.scaleCue=ge.bind(nt),at.cellResolution=Ne.cellResolution,at.lineHeight=Ne.lineHeight,at.linePadding=Ne.linePadding,at.fontSize=Ne.fontSize,W.style.left=ee+"px",W.style.top=Z+"px",W.style.width=le+"px",W.style.height=H+"px",at.onenter=function(){Je.mode===M.default.TEXT_SHOWING&&(this.isd?(ne(this),g.debug("Cue enter id:"+this.cueID)):(W.appendChild(this.cueHTMLElement),ge.call(nt,this),O.trigger(R.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:G})))},at.onexit=function(){if(W)for(var ht=W.childNodes,wt=0;wt<ht.length;++wt)ht[wt].id===this.cueID&&(g.debug("Cue exit id:"+ht[wt].id),W.removeChild(ht[wt]),--wt)},at}function V(Ne,$e,Je){var nt=new A(Ne.start-$e,Ne.end-$e,Ne.data);if(nt.cueID="".concat(nt.startTime,"_").concat(nt.endTime),nt.isActive=!1,Ne.styles)try{void 0!==Ne.styles.align&&"align"in nt&&(nt.align=Ne.styles.align),void 0!==Ne.styles.line&&"line"in nt&&(nt.line=Ne.styles.line),void 0!==Ne.styles.position&&"position"in nt&&(nt.position=Ne.styles.position),void 0!==Ne.styles.size&&"size"in nt&&(nt.size=Ne.styles.size)}catch(at){g.error(at)}return nt.onenter=function(){Je.mode===M.default.TEXT_SHOWING&&O.trigger(R.default.CAPTION_RENDERED,{currentTrackIdx:G})},nt}function te(){var nt,$e=[],Je=l(b.getTextTracks());try{for(Je.s();!(nt=Je.n()).done;){var at=nt.value;at.manualMode===M.default.TEXT_SHOWING&&$e.push(at)}}catch(ht){Je.e(ht)}finally{Je.f()}return $e}function me(Ne){return Ne>=0&&E[Ne]?b.getTextTrack(E[Ne].kind,E[Ne].id,E[Ne].lang,E[Ne].isTTML,E[Ne].isEmbedded):null}function K(Ne){var $e=this;if(Ne!==G){var Je=me(G=Ne);j.call(this,Je),Y&&(clearInterval(Y),Y=null),Je&&"html"===Je.renderingType&&(Se.call(this,Je,!0),window.ResizeObserver?(J=new window.ResizeObserver(function(){Se.call($e,Je,!0)})).observe(b.getElement()):Y=setInterval(Se.bind(this,Je),500))}}function j(Ne){Ce.call(this),Ne&&"html"===Ne.renderingType?Re.call(this):Ue.call(this)}function $(Ne,$e){if(!Ne.cues)return!1;for(var Je=0;Je<Ne.cues.length;Je++)if(Ne.cues[Je].startTime===$e.startTime&&Ne.cues[Je].endTime===$e.endTime)return!0;return!1}function ce(Ne,$e,Je){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN($e)||(nt?Ne.startTime:Ne.endTime)>=$e)&&(isNaN(Je)||(nt?Ne.endTime:Ne.startTime)<=Je)}function ue(Ne,$e,Je){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Ne.cues)for(var at=Ne.cues,wt=at.length-1;wt>=0;wt--)ce(at[wt],$e,Je,nt)&&(at[wt].onexit&&at[wt].onexit(),Ne.removeCue(at[wt]))}function Re(){var Ne=document.getElementById("native-cue-style");if(!Ne){(Ne=document.createElement("style")).id="native-cue-style",document.head.appendChild(Ne);var $e=Ne.sheet,Je=b.getElement();try{Je&&$e.insertRule(Je.id?"#"+Je.id+"::cue {background: transparent}":0!==Je.classList.length?"."+Je.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(nt){g.info(""+nt.message)}}}function Ue(){var Ne=document.getElementById("native-cue-style");Ne&&document.head.removeChild(Ne)}function Ce(){if(W)for(;W.firstChild;)W.removeChild(W.firstChild)}return y={initialize:function ae(){typeof window>"u"||typeof navigator>"u"||(A=window.VTTCue||window.TextTrackCue,E=[],N=[],G=-1,ee=0,Z=0,le=0,H=0,W=null,x=null,Y=null,ie=!1,ye=2147483647,oe=null,void 0!==document.fullscreenElement?z="fullscreenElement":void 0!==document.webkitIsFullScreen?z="webkitIsFullScreen":document.msFullscreenElement?z="msFullscreenElement":document.mozFullScreen&&(z="mozFullScreen"))},getStreamId:function pe(){return v.id},addTextTrack:function de(Ne){E.push(Ne)},addCaptions:X,createTracks:function ve(){E.sort(function(Vt,kt){return Vt.index-kt.index}),W=b.getTTMLRenderingDiv(),x=b.getVttRenderingDiv();for(var Ne=-1,$e=0;$e<E.length;$e++){var Je=he(E[$e]);N.push(Je),E[$e].defaultTrack&&(Je.default=!0,Ne=$e);var nt=me($e);nt&&(nt.mode=M.default.TEXT_SHOWING,nt.renderingType=W&&(E[$e].isTTML||E[$e].isEmbedded)?"html":"default"),X($e,0,E[$e].captionData),O.trigger(R.default.TEXT_TRACK_ADDED)}if(K.call(this,Ne),Ne>=0){O.on(R.default.PLAYBACK_METADATA_LOADED,function Vt(){var kt=me(Ne);kt&&"html"===kt.renderingType&&Se.call(this,kt,!0),O.off(R.default.PLAYBACK_METADATA_LOADED,Vt,this)},this);for(var ht=0;ht<E.length;ht++){var wt=me(ht);wt&&(wt.mode=ht===Ne?M.default.TEXT_SHOWING:M.default.TEXT_HIDDEN,wt.manualMode=ht===Ne?M.default.TEXT_SHOWING:M.default.TEXT_HIDDEN)}}O.trigger(I.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:G,tracks:E,streamId:v.id})},getCurrentTrackIdx:function Ee(){return G},setCurrentTrackIdx:K,getTrackIdxForId:function q(Ne){for(var $e=-1,Je=0;Je<E.length;Je++)if(E[Je].id===Ne){$e=Je;break}return $e},getCurrentTrackInfo:function Ge(){return E[G]},setModeForTrackIdx:function Oe(Ne,$e){var Je=me(Ne);Je&&Je.mode!==$e&&(Je.mode=$e),Je&&Je.manualMode!==$e&&(Je.manualMode=$e)},deleteCuesFromTrackIdx:function be(Ne,$e,Je){var nt=me(Ne);nt&&ue(nt,$e,Je)},deleteAllTextTracks:function we(){for(var Ne=N?N.length:0,$e=0;$e<Ne;$e++){var Je=me($e);Je&&ue.call(this,Je,v.start,v.start+v.duration,!1)}N=[],E=[],Y&&(clearInterval(Y),Y=null),J&&b&&(J.unobserve(b.getElement()),J=null),G=-1,Ce.call(this)},deleteTextTrack:function Pe(Ne){b.removeChild(N[Ne]),N.splice(Ne,1)},manualCueProcessing:function re(Ne){var $e=te();if($e&&$e.length>0){var nt=$e[0].manualCueList;nt&&nt.length>0&&nt.forEach(function(at){if(at.startTime<=Ne&&at.endTime>=Ne&&!at.isActive)at.isActive=!0,WebVTT.processCues(window,[at],x,at.cueID);else if(at.isActive&&(at.startTime>Ne||at.endTime<Ne)&&(at.isActive=!1,x))for(var ht=x.childNodes,wt=0;wt<ht.length;++wt)ht[wt].id===at.cueID&&(x.removeChild(ht[wt]),--wt)})}},disableManualTracks:function B(){var Ne=te();if(Ne&&Ne.length>0){var Je=Ne[0].manualCueList;Je&&Je.length>0&&Je.forEach(function(nt){if(nt.isActive&&(nt.isActive=!1,x))for(var at=x.childNodes,ht=0;ht<at.length;++ht)at[ht].id===nt.cueID&&(x.removeChild(at[ht]),--ht)})}}},function fe(){g=Object(w.default)(S).getInstance().getLogger(y)}(),y}_.__dashjs_factory_name="TextTracks",U.default=P.default.getClassFactory(_)},"./src/streaming/thumbnail/ThumbnailController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/streaming/vo/Thumbnail.js"),R=m("./src/streaming/thumbnail/ThumbnailTracks.js"),P=m("./src/streaming/vo/BitrateInfo.js"),w=m("./src/dash/utils/SegmentsUtils.js");function D(c){var d,_,l=this.context,f=c.streamInfo;function p(E){_.setTrackByIndex(E)}function A(){_&&_.reset()}return d={getStreamId:function O(){return f.id},initialize:function S(){_.addTracks();var E=_.getTracks();E&&E.length>0&&p(0)},provide:function b(E,N){if("function"==typeof N){var Z,G=_.getCurrentTrack();if(!G||G.segmentDuration<=0||null==E)return void N(null);(Z=_.getThumbnailRequestForTime(E))&&(G.segmentDuration=Z.duration);var le=Math.floor(E%G.segmentDuration*G.tilesHor*G.tilesVert/G.segmentDuration),H=new I.default;if(H.width=Math.floor(G.widthPerTile),H.height=Math.floor(G.heightPerTile),H.x=Math.floor(le%G.tilesHor)*G.widthPerTile,H.y=Math.floor(le/G.tilesHor)*G.heightPerTile,"readThumbnail"in G)return G.readThumbnail(E,function(x){H.url=x,N(H)});if(Z)H.url=Z.url,G.segmentDuration=NaN;else{var W=Math.floor(E/G.segmentDuration);H.url=function v(E,N){var G=N+E.startNumber,ee=Object(w.replaceTokenForTemplate)(E.templateUrl,"Number",G);return ee=Object(w.replaceTokenForTemplate)(ee,"Time",(G-1)*E.segmentDuration*E.timescale),ee=Object(w.replaceTokenForTemplate)(ee,"Bandwidth",E.bandwidth),Object(w.unescapeDollarsInTemplate)(ee)}(G,W)}N(H)}},setTrackByIndex:p,getCurrentTrackIndex:function y(){return _.getCurrentTrackIndex()},getBitrateList:function g(){var E=_.getTracks(),N=0;return E.map(function(G){var ee=new P.default;return ee.mediaType=T.default.IMAGE,ee.qualityIndex=N++,ee.bitrate=G.bitrate,ee.width=G.width,ee.height=G.height,ee})},reset:A},function L(){A(),_=Object(R.default)(l).create({streamInfo:f,adapter:c.adapter,baseURLController:c.baseURLController,timelineConverter:c.timelineConverter,debug:c.debug,eventBus:c.eventBus,events:c.events,dashConstants:c.dashConstants,dashMetrics:c.dashMetrics,segmentBaseController:c.segmentBaseController})}(),d}D.__dashjs_factory_name="ThumbnailController",U.default=M.default.getClassFactory(D)},"./src/streaming/thumbnail/ThumbnailTracks.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"THUMBNAILS_SCHEME_ID_URIS",function(){return d});var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/core/FactoryMaker.js"),R=m("./src/streaming/vo/ThumbnailTrackInfo.js"),P=m("./src/streaming/utils/URLUtils.js"),w=m("./src/dash/utils/SegmentsUtils.js"),D=m("./src/streaming/utils/BoxParser.js"),c=m("./src/streaming/net/XHRLoader.js"),l=m("./src/dash/DashHandler.js"),f=m("./src/dash/controllers/SegmentsController.js"),d=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function _(L){var G,ee,Z,le,H,W,x,Y,S=this.context,O=L.adapter,b=L.baseURLController,v=L.streamInfo,p=L.timelineConverter,y=L.debug,g=L.eventBus,A=L.events,E=L.dashConstants,N=Object(P.default)(S).getInstance();function oe(Se,ge){var ne=new R.default;ne.id=Se.id,ne.bitrate=Se.bandwidth,ne.width=Se.width,ne.height=Se.height,ne.tilesHor=1,ne.tilesVert=1,Se.essentialProperties&&Se.essentialProperties.forEach(function(X){if(d.indexOf(X.schemeIdUri)>=0&&X.value){var F=X.value.split("x");2===F.length&&!isNaN(F[0])&&!isNaN(F[1])&&(ne.tilesHor=parseInt(F[0],10),ne.tilesVert=parseInt(F[1],10))}}),ge?W.updateSegmentData(Se).then(function(X){!function ye(Se,ge,ne){var X=[],F=function J(Se,ge){var F,V,re,B,ne=[],X=0;for(F=0,V=Se.segments.length;F<V;F++)re=Se.segments[F],(B=Object(w.getTimeBasedSegment)(p,O.getIsDynamic(),ge,re.startTime,re.duration,re.timescale,re.media,re.mediaRange,X))&&(ne.push(B),B=null,X++);return ne}(ne,ge);ge.segments=F,Se.segmentDuration=ge.segments[0].duration,Se.readThumbnail=function(V,re){var B=null;X.some(function(te){if(te.start<=V&&te.end>V)return B=te.url,!0}),B?re(B):ge.segments.some(function(te){if(te.mediaStartTime<=V&&te.mediaStartTime+te.duration>V){var me=b.resolve(ge.path);return x.load({method:"get",url:me.url,request:{range:te.mediaRange,responseType:"arraybuffer"},onload:function(q){var K=Y.getSamplesInfo(q.target.response),j=new Blob([q.target.response.slice(K.sampleList[0].offset,K.sampleList[0].offset+K.sampleList[0].size)],{type:"image/jpeg"}),$=window.URL.createObjectURL(j);X.push({start:te.mediaStartTime,end:te.mediaStartTime+te.duration,url:$}),re&&re($)}}),!0}})}}(ne,Se,X)}):(ne.startNumber=Se.startNumber,ne.segmentDuration=Se.segmentDuration,ne.timescale=Se.timescale,ne.templateUrl=function fe(Se){var ge=N.isRelative(Se.media)?N.resolve(Se.media,b.resolve(Se.path).url):Se.media;return ge?Object(w.replaceIDForTemplate)(ge,Se.id):""}(Se)),ne.tilesHor>0&&ne.tilesVert>0&&(ne.widthPerTile=ne.width/ne.tilesHor,ne.heightPerTile=ne.height/ne.tilesVert,ee.push(ne))}function se(){ee=[],le=-1,H=null}return G={getTracks:function ae(){return ee},addTracks:function ie(){if(v&&O&&(H=O.getMediaInfoForType(v,M.default.IMAGE))){var Se=O.getVoRepresentations(H);Se&&Se.length>0&&Se.forEach(function(ge){(ge.segmentInfoType===T.default.SEGMENT_TEMPLATE&&ge.segmentDuration>0&&ge.media||ge.segmentInfoType===T.default.SEGMENT_TIMELINE)&&oe(ge),ge.segmentInfoType===T.default.SEGMENT_BASE&&oe(ge,!0)}),ee.length>0&&ee.sort(function(ge,ne){return ge.bitrate-ne.bitrate})}},reset:se,setTrackByIndex:function de(Se){!ee||0===ee.length||(Se>=ee.length&&(Se=ee.length-1),le=Se)},getCurrentTrack:function he(){return le<0?null:ee[le]},getCurrentTrackIndex:function pe(){return le},getThumbnailRequestForTime:function ve(Se){for(var ge,ne=O.getVoRepresentations(H),X=0;X<ne.length;X++)if(ee[le].id===ne[X].id){ge=ne[X];break}return Z.getSegmentRequestForTime(H,ge,Se)}},function z(){se(),x=Object(c.default)(S).create({}),Y=Object(D.default)(S).getInstance(),W=Object(f.default)(S).create({events:A,eventBus:g,streamInfo:v,timelineConverter:p,dashConstants:E,dashMetrics:L.dashMetrics,segmentBaseController:L.segmentBaseController,type:M.default.IMAGE}),(Z=Object(l.default)(S).create({streamInfo:v,type:M.default.IMAGE,timelineConverter:p,segmentsController:W,baseURLController:b,debug:y,eventBus:g,events:A,dashConstants:E,urlUtils:N})).initialize(!!O&&O.getIsDynamic())}(),G}_.__dashjs_factory_name="ThumbnailTracks",U.default=I.default.getClassFactory(_)},"./src/streaming/utils/BaseURLSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/errors/Errors.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),R=m("./src/streaming/controllers/BlacklistController.js"),P=m("./src/streaming/utils/baseUrlResolution/DVBSelector.js"),w=m("./src/streaming/utils/baseUrlResolution/BasicSelector.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/streaming/vo/DashJSError.js"),l=m("./src/streaming/utils/SupervisorTools.js"),f=m("./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),d=m("./src/core/Settings.js");function _(){var b,v,p,y,g,A,L=this.context,S=Object(T.default)(L).getInstance(),O=Object(d.default)(L).getInstance();function Z(){v.reset()}return b={chooseSelector:function G(le){Object(l.checkParameterType)(le,"boolean"),A=le?y:p},select:function ee(le){if(le){if(O.get().streaming.applyContentSteering){var H=g.selectBaseUrlIndex(le);!isNaN(H)&&-1!==H&&(le.selectedIdx=H)}if(!isNaN(le.selectedIdx))return le.baseUrls[le.selectedIdx];var W=A.select(le.baseUrls);return W?(le.selectedIdx=le.baseUrls.indexOf(W),W):(S.trigger(I.default.URL_RESOLUTION_FAILED,{error:new c.default(M.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,M.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(A===p&&Z()))}},reset:Z,setConfig:function N(le){le.selector&&(A=le.selector),le.contentSteeringSelector&&(g=le.contentSteeringSelector)}},function E(){v=Object(R.default)(L).create({updateEventName:I.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:I.default.SERVICE_LOCATION_BLACKLIST_ADD}),p=Object(w.default)(L).create({blacklistController:v}),y=Object(P.default)(L).create({blacklistController:v}),(g=Object(f.default)(L).create()).setConfig({blacklistController:v}),A=p}(),b}_.__dashjs_factory_name="BaseURLSelector",U.default=D.default.getClassFactory(_)},"./src/streaming/utils/BoxParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/streaming/utils/IsoFile.js"),I=m("./src/core/FactoryMaker.js"),R=m("./node_modules/codem-isoboxer/dist/iso_boxer.js"),P=m.n(R),w=m("./src/streaming/vo/IsoBoxSearchInfo.js");function D(){var c,l,f=this.context;function _(g){if(!g)return null;void 0===g.fileStart&&(g.fileStart=0);var A=P.a.parseBuffer(g),E=Object(T.default)(f).create();return E.setData(A),E}function b(g,A){return g[A+3]>>>0|g[A+2]<<8>>>0|g[A+1]<<16>>>0|g[A]<<24>>>0}function v(g,A){return String.fromCharCode(g[A++])+String.fromCharCode(g[A++])+String.fromCharCode(g[A++])+String.fromCharCode(g[A])}return l={parse:_,findLastTopIsoBoxCompleted:function L(g,A,E){if(void 0===E&&(E=0),!A||E+8>=A.byteLength)return new w.default(0,!1);for(var G,N=A instanceof ArrayBuffer?new Uint8Array(A):A,ee=0;E<N.byteLength;){var Z=b(N,E),le=v(N,E+4);if(0===Z)break;E+Z<=N.byteLength&&(g.indexOf(le)>=0?G=new w.default(E,!0,Z):ee=E+Z),E+=Z}return G||new w.default(ee,!1)},getMediaTimescaleFromMoov:function O(g){var A=_(g),E=A?A.getBox("mdhd"):void 0;return E?E.timescale:NaN},getSamplesInfo:function S(g){if(!g||0===g.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var G,Z,le,H,W,x,Y,z,ie,oe,ye,J,fe,ae,pe,he,A=_(g),E=A.getBoxes("moof"),N=A.getBoxes("mfhd");pe=A.getBoxes("moof").length,ae=N[N.length-1].sequence_number,Z=0,W=[];var de=-1,ve=-1;for(oe=0;oe<E.length;oe++){var se=E[oe],Se=se.getChildBoxes("traf");for(z=0;z<Se.length;z++){var ge=Se[z],ne=ge.getChildBox("tfhd"),X=ge.getChildBox("tfdt");H=X.baseMediaDecodeTime;var F=ge.getChildBoxes("trun"),V=ge.getChildBoxes("subs");for(ie=0;ie<F.length;ie++){var re=F[ie];for(Z=re.sample_count,fe=(ne.base_data_offset||0)+(re.data_offset||0),Y=0;Y<Z;Y++){var B={dts:H,cts:H+(void 0!==(x=re.samples[Y]).sample_composition_time_offset?x.sample_composition_time_offset:0),duration:G=void 0!==x.sample_duration?x.sample_duration:ne.default_sample_duration,offset:se.offset+fe,size:le=void 0!==x.sample_size?x.sample_size:ne.default_sample_size,subSizes:[le]};if(V)for(ye=0;ye<V.length;ye++){var te=V[ye];if(de<te.entry_count-1&&Y>ve&&(de++,ve+=te.entries[de].sample_delta),Y==ve){B.subSizes=[];var me=te.entries[de];for(J=0;J<me.subsample_count;J++)B.subSizes.push(me.subsamples[J].subsample_size)}}W.push(B),fe+=le,H+=G}}he=H-X.baseMediaDecodeTime}}return{sampleList:W,lastSequenceNumber:ae,totalDuration:he,numSequences:pe}},findInitRange:function p(g){var A=null,G=_(g);if(!G)return A;var ee=G.getBox("ftyp"),Z=G.getBox("moov");return c.debug("Searching for initialization."),Z&&Z.isComplete&&c.debug("Found the initialization.  Range: "+(A=(ee?ee.offset:Z.offset)+"-"+(Z.offset+Z.size-1))),A},parsePayload:function y(g,A,E){if(void 0===E&&(E=0),!A||E+8>=A.byteLength)return new w.default(0,!1);for(var G,N=A instanceof ArrayBuffer?new Uint8Array(A):A,ee=0;E<N.byteLength;){var Z=b(N,E),le=v(N,E+4);if(0===Z)break;E+Z<=N.byteLength&&(g.indexOf(le)>=0?G=new w.default(E,!0,Z,le):ee=E+Z),E+=Z}return G||new w.default(ee,!1)}},function d(){c=Object(M.default)(f).getInstance().getLogger(l)}(),l}D.__dashjs_factory_name="BoxParser",U.default=I.default.getSingletonFactory(D)},"./src/streaming/utils/Capabilities.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"supportsMediaSource",function(){return P});var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/thumbnail/ThumbnailTracks.js"),I=m("./src/streaming/constants/Constants.js"),R=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function P(){var D="WebKitMediaSource"in window,c="MediaSource"in window;return D||c}function w(){var D,c,l;return D={setConfig:function d(g){!g||g.settings&&(c=g.settings)},supportsMediaSource:P,supportsEncryptedMedia:function _(){return l},supportsCodec:function S(g,A){return A!==I.default.AUDIO&&A!==I.default.VIDEO?Promise.resolve(!0):function O(g,A){return c.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(g.codec&&A===I.default.AUDIO||A===I.default.VIDEO&&g.codec&&g.width&&g.height&&g.bitrate&&g.framerate)}(g,A)?function v(g,A){return new Promise(function(E){if(g&&g.codec){var N={type:"media-source"};N[A]={},N[A].contentType=g.codec,N[A].width=g.width,N[A].height=g.height,N[A].bitrate=parseInt(g.bitrate),N[A].framerate=parseFloat(g.framerate),navigator.mediaCapabilities.decodingInfo(N).then(function(G){E(G.supported)}).catch(function(){E(!1)})}else E(!1)})}(g,A):function b(g){return new Promise(function(A){if(g&&g.codec){var E=g.codec;g.width&&g.height&&(E+=';width="'+g.width+'";height="'+g.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(E)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(E)?A(!0):A(!1)}else A(!1)})}(g)},setEncryptedMediaSupported:function L(g){l=g},supportsEssentialProperty:function p(g){try{return-1!==T.THUMBNAILS_SCHEME_ID_URIS.indexOf(g.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function y(g,A){for(var G,E=g.split(".")[0],N=0===A.indexOf(E),ee=0;ee<R.length;ee++)if(R[ee].codec===E){G=R[ee];break}return G?N||G.compatibleCodecs.some(function(Z){return 0===A.indexOf(Z)}):N}},function f(){l=!1}(),D}w.__dashjs_factory_name="Capabilities",U.default=M.default.getSingletonFactory(w)},"./src/streaming/utils/CapabilitiesFilter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/constants/Constants.js"),R=m("./src/core/EventBus.js"),P=m("./src/core/events/Events.js");function w(){var l,f,d,_,L,S,D=this.context,c=Object(R.default)(D).getInstance();function p(Z,le){if(!le||!le.Period_asArray||0===le.Period_asArray.length)return Promise.resolve();var H=[];return le.Period_asArray.forEach(function(W){H.push(function y(Z,le){return new Promise(function(H){if(Z&&Z.AdaptationSet_asArray&&0!==Z.AdaptationSet_asArray.length){var W=[];Z.AdaptationSet_asArray.forEach(function(x){f.getIsTypeOf(x,le)&&W.push(function g(Z,le){return new Promise(function(H){if(Z.Representation_asArray&&0!==Z.Representation_asArray.length){var W=[],x=[];Z.Representation_asArray.forEach(function(Y,z){var ie=f.getCodec(Z,z,!1),oe=function A(Z,le,H){switch(Z){case I.default.VIDEO:return function E(Z,le){return{codec:le,width:Z.width||null,height:Z.height||null,framerate:Z.frameRate||null,bitrate:Z.bandwidth||null}}(le,H);case I.default.AUDIO:return function N(Z,le){return{codec:le,bitrate:Z.bandwidth||null,samplerate:Z.audioSamplingRate||null}}(le,H);default:return null}}(le,Y,ie);x.push(oe),W.push(d.supportsCodec(oe,le))}),Promise.all(W).then(function(Y){Z.Representation_asArray=Z.Representation_asArray.filter(function(z,ie){return Y[ie]||S.debug("[Stream] Codec ".concat(x[ie].codec," not supported ")),Y[ie]}),H()}).catch(function(){H()})}else H()})}(x,le))}),Promise.all(W).then(function(){Z.AdaptationSet_asArray=Z.AdaptationSet_asArray.filter(function(x){var Y=x.Representation_asArray&&x.Representation_asArray.length>0;return Y||(c.trigger(P.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:x}),S.warn("AdaptationSet has been removed because of no supported Representation")),Y}),H()}).catch(function(){H()})}else H()})}(W,Z))}),Promise.all(H)}return l={setConfig:function b(Z){!Z||(Z.adapter&&(f=Z.adapter),Z.capabilities&&(d=Z.capabilities),Z.settings&&(_=Z.settings),Z.customParametersModel&&(L=Z.customParametersModel))},filterUnsupportedFeatures:function v(Z){return new Promise(function(le){var H=[];H.push(p(I.default.VIDEO,Z)),H.push(p(I.default.AUDIO,Z)),Promise.all(H).then(function(){_.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function G(Z){!Z||!Z.Period_asArray||0===Z.Period_asArray.length||Z.Period_asArray.forEach(function(le){le.AdaptationSet_asArray=le.AdaptationSet_asArray.filter(function(H){return!H.Representation_asArray||0===H.Representation_asArray.length||(H.Representation_asArray=H.Representation_asArray.filter(function(W){var x=f.getEssentialPropertiesForRepresentation(W);if(x&&x.length>0)for(var Y=0;Y<x.length;){if(!d.supportsEssentialProperty(x[Y]))return S.debug("[Stream] EssentialProperty not supported: "+x[Y].schemeIdUri),!1;Y+=1}return!0}),H.Representation_asArray&&H.Representation_asArray.length>0)})})}(Z),function ee(Z){var le=L.getCustomCapabilitiesFilters();!le||0===le.length||!Z||!Z.Period_asArray||0===Z.Period_asArray.length||Z.Period_asArray.forEach(function(H){H.AdaptationSet_asArray=H.AdaptationSet_asArray.filter(function(W){return!W.Representation_asArray||0===W.Representation_asArray.length||(W.Representation_asArray=W.Representation_asArray.filter(function(x){return!le.some(function(Y){return!Y(x)})}),W.Representation_asArray&&W.Representation_asArray.length>0)})})}(Z),le()}).catch(function(){le()})})}},function O(){S=Object(T.default)(D).getInstance().getLogger(l)}(),l}w.__dashjs_factory_name="CapabilitiesFilter",U.default=M.default.getSingletonFactory(w)},"./src/streaming/utils/CustomTimeRanges.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/utils/SupervisorTools.js");function I(){return{customTimeRangeArray:[],length:0,add:function w(_,L){var S=0;for(S=0;S<this.customTimeRangeArray.length&&_>this.customTimeRangeArray[S].start;S++);for(this.customTimeRangeArray.splice(S,0,{start:_,end:L}),S=0;S<this.customTimeRangeArray.length-1;S++)this.mergeRanges(S,S+1)&&S--;this.length=this.customTimeRangeArray.length},clear:function D(){this.customTimeRangeArray=[],this.length=0},remove:function c(_,L){for(var S=0;S<this.customTimeRangeArray.length;S++)if(_<=this.customTimeRangeArray[S].start&&L>=this.customTimeRangeArray[S].end)this.customTimeRangeArray.splice(S,1),S--;else{if(_>this.customTimeRangeArray[S].start&&L<this.customTimeRangeArray[S].end){this.customTimeRangeArray.splice(S+1,0,{start:L,end:this.customTimeRangeArray[S].end}),this.customTimeRangeArray[S].end=_;break}_>this.customTimeRangeArray[S].start&&_<this.customTimeRangeArray[S].end?this.customTimeRangeArray[S].end=_:L>this.customTimeRangeArray[S].start&&L<this.customTimeRangeArray[S].end&&(this.customTimeRangeArray[S].start=L)}this.length=this.customTimeRangeArray.length},mergeRanges:function l(_,L){var S=this.customTimeRangeArray[_],O=this.customTimeRangeArray[L];return S.start<=O.start&&O.start<=S.end&&S.end<=O.end?(S.end=O.end,this.customTimeRangeArray.splice(L,1),!0):O.start<=S.start&&S.start<=O.end&&O.end<=S.end?(S.start=O.start,this.customTimeRangeArray.splice(L,1),!0):O.start<=S.start&&S.start<=O.end&&S.end<=O.end?(this.customTimeRangeArray.splice(_,1),!0):S.start<=O.start&&O.start<=S.end&&O.end<=S.end&&(this.customTimeRangeArray.splice(L,1),!0)},start:function f(_){return Object(T.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].start},end:function d(_){return Object(T.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].end}}}I.__dashjs_factory_name="CustomTimeRanges",U.default=M.default.getClassFactory(I)},"./src/streaming/utils/DOMStorage.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/constants/Constants.js"),R=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],P="dashjs_?_bitrate",w="dashjs_?_settings",D="localStorage",l="lastBitrate",f="lastMediaSettings";function d(L){var b,v,p,S=this.context,O=(L=L||{}).settings;function g(W){if(void 0!==p)return p;p=!1;var z;try{typeof window<"u"&&(z=window[W])}catch(ie){return v.warn("DOMStorage access denied: "+ie.message),p}if(!z||W!==D&&"sessionStorage"!==W)return p;try{z.setItem("1","1"),z.removeItem("1"),p=!0}catch(ie){v.warn("DOMStorage is supported, but cannot be used: "+ie.message)}return p}function E(){var W=6e5;return Math.round((new Date).getTime()/W)*W}function N(W,x){return g(W)&&O.get().streaming[x+"CachingInfo"].enabled}function G(){if(!O)throw new Error(I.default.MISSING_CONFIG_ERROR)}return b={getSavedBitrateSettings:function Z(W){if(G(),!O.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var x=NaN;if(N(D,l)){var Y=P.replace(/\?/,W);try{var z=JSON.parse(localStorage.getItem(Y))||{},ie=(new Date).getTime()-parseInt(z.timestamp,10)>=O.get().streaming.lastBitrateCachingInfo.ttl||!1,oe=parseFloat(z.bitrate);isNaN(oe)||ie?ie&&localStorage.removeItem(Y):(x=oe,v.debug("Last saved bitrate for "+W+" was "+oe))}catch{return null}}return x},setSavedBitrateSettings:function H(W,x){if(N(D,l)&&x){var Y=P.replace(/\?/,W);try{localStorage.setItem(Y,JSON.stringify({bitrate:x.toFixed(3),timestamp:E()}))}catch(z){v.error(z.message)}}},getSavedMediaSettings:function ee(W){if(G(),!O.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var x=null;if(N(D,f)){var Y=w.replace(/\?/,W);try{var z=JSON.parse(localStorage.getItem(Y))||{},ie=(new Date).getTime()-parseInt(z.timestamp,10)>=O.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;x=z.settings,ie&&(localStorage.removeItem(Y),x=null)}catch{return null}}return x},setSavedMediaSettings:function le(W,x){if(N(D,f)){var Y=w.replace(/\?/,W);try{localStorage.setItem(Y,JSON.stringify({settings:x,timestamp:E()}))}catch(z){v.error(z.message)}}}},function y(){v=Object(T.default)(S).getInstance().getLogger(b),function A(){g(D)&&R.forEach(function(W){var x=localStorage.getItem(W.oldKey);if(x){localStorage.removeItem(W.oldKey);try{localStorage.setItem(W.newKey,x)}catch(Y){v.error(Y.message)}}})}()}(),b}d.__dashjs_factory_name="DOMStorage";var _=M.default.getSingletonFactory(d);U.default=_},"./src/streaming/utils/DefaultURLUtils.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var I,R=/^[a-z][a-z0-9+\-_.]*:/i,P=/^https?:\/\//i,w=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,c=function(N,G){try{return new window.URL(N,G).toString()}catch{return N}},l=function(N,G){var ee=d;if(!G||!O(N))return N;b(N)&&(ee=_),v(N)&&(ee=S);var Z=ee(G),le="/"!==Z.charAt(Z.length-1)&&"/"!==N.charAt(0)?"/":"";return[Z,N].join(le)};function d(E){var N=E.indexOf("/"),G=E.lastIndexOf("/");return-1!==N?G===N+1?E:(-1!==E.indexOf("?")&&(E=E.substring(0,E.indexOf("?"))),E.substring(0,G+1)):""}function _(E){var N=E.match(D);return N?N[1]:""}function S(E){var N=E.match(R);return N?N[0]:""}function O(E){return!R.test(E)}function b(E){return O(E)&&"/"===E.charAt(0)}function v(E){return 0===E.indexOf("//")}return function f(){try{new window.URL("x","http://y"),I=c}catch{}finally{I=I||l}}(),{parseBaseUrl:d,parseOrigin:_,parseScheme:S,isRelative:O,isPathAbsolute:b,isSchemeRelative:v,isHTTPURL:function p(E){return P.test(E)},isHTTPS:function y(E){return w.test(E)},removeHostname:function L(E){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(E)[2].substring(1)},resolve:function g(E,N){return I(E,N)}}}T.__dashjs_factory_name="DefaultURLUtils",U.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/EBMLParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){I=I||{};var R,P=new DataView(I.data),w=0;function l(v,p){var y=!0,g=0;if(void 0===p&&(p=!1),v.tag>16777215?(P.getUint32(w)!==v.tag&&(y=!1),g=4):v.tag>65535?(256*P.getUint16(w)+P.getUint8(w+2)!==v.tag&&(y=!1),g=3):v.tag>255?(P.getUint16(w)!==v.tag&&(y=!1),g=2):(P.getUint8(w)!==v.tag&&(y=!1),g=1),!y&&v.required&&!p)throw new Error("required tag not found");return y&&(w+=g),y}function L(v){var p=1,y=128,A=-1,E=0,N=P.getUint8(w),G=0;for(G=0;G<8;G+=1){if((N&y)===y){E=void 0===v?N&~y:N,A=G;break}y>>=1}for(G=0;G<A;G+=1,p+=1)E=E<<8|255&P.getUint8(w+p);return w+=p,E}return R={getPos:function D(){return w},setPos:function c(v){w=v},consumeTag:l,consumeTagAndSize:function f(v,p){var y=l(v,p);return y&&L(),y},parseTag:function d(v){var p;return l(v),p=L(),R[v.parse](p)},skipOverElement:function _(v,p){var g,y=l(v,p);return y&&(g=L(),w+=g),y},getMatroskaCodedNum:L,getMatroskaFloat:function S(v){var p;switch(v){case 4:p=P.getFloat32(w),w+=4;break;case 8:p=P.getFloat64(w),w+=8}return p},getMatroskaUint:function O(v){for(var p=0,y=0;y<v;y+=1)p<<=8,p|=255&P.getUint8(w+y);return w+=v,p},moreData:function b(){return w<P.byteLength}}}T.__dashjs_factory_name="EBMLParser",U.default=M.default.getClassFactory(T)},"./src/streaming/utils/ErrorHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js");function R(){var w=this.context,D=Object(M.default)(w).getInstance();return{error:function c(l){D.trigger(T.default.ERROR,{error:l})}}}R.__dashjs_factory_name="ErrorHandler",U.default=I.default.getSingletonFactory(R)},"./src/streaming/utils/InitCache.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var I={};return{save:function R(c){var l=c.streamId,f=c.representationId;I[l]=I[l]||{},I[l][f]=c},extract:function P(c,l){return I&&I[c]&&I[c][l]?I[c][l]:null},reset:function w(){I={}}}}T.__dashjs_factory_name="InitCache",U.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/IsoFile.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/IsoBox.js"),T=m("./src/core/FactoryMaker.js");function I(){var P;function D(d){var _=[];if(!d||!P||"function"!=typeof P.fetchAll)return _;for(var S,L=P.fetchAll(d),O=0,b=L.length;O<b;O++)(S=f(L[O]))&&_.push(S);return _}function f(d){if(!d)return null;var _=new M.default(d);return d.hasOwnProperty("_incomplete")&&(_.isComplete=!d._incomplete),_}return{getBox:function w(d){return d&&P&&P.boxes&&0!==P.boxes.length&&"function"==typeof P.fetch?f(P.fetch(d)):null},getBoxes:D,setData:function c(d){P=d},getLastBox:function l(){if(!P||!P.boxes||!P.boxes.length)return null;var _=D(P.boxes[P.boxes.length-1].type);return _.length>0?_[_.length-1]:null}}}I.__dashjs_factory_name="IsoFile",U.default=T.default.getClassFactory(I)},"./src/streaming/utils/ObjectUtils.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./node_modules/fast-deep-equal/index.js"),I=m.n(T);function R(){return{areEqual:function w(D,c){return I()(D,c)}}}R.__dashjs_factory_name="ObjectUtils",U.default=M.default.getSingletonFactory(R)},"./src/streaming/utils/RequestModifier.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"modifyRequest",function(){return T});var M=m("./src/core/FactoryMaker.js");function T(R,P){var w={url:R.url,method:R.method,headers:Object.assign({},R.headers),credentials:R.withCredentials?"include":void 0};return Promise.resolve(P.modifyRequest(w)).then(function(){return Object.assign(R,w,{withCredentials:"include"===w.credentials})})}function I(){return{modifyRequest:null,modifyRequestURL:function P(D){return D},modifyRequestHeader:function w(D,c){return D}}}I.__dashjs_factory_name="RequestModifier",U.default=M.default.getSingletonFactory(I)},"./src/streaming/utils/SupervisorTools.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"checkParameterType",function(){return I}),m.d(U,"checkInteger",function(){return R}),m.d(U,"checkRange",function(){return P}),m.d(U,"checkIsVideoOrAudioType",function(){return w});var M=m("./src/streaming/constants/Constants.js");function T(D){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(D)}function I(D,c){if(T(D)!==c)throw M.default.BAD_ARGUMENT_ERROR}function R(D){if(null===D||isNaN(D)||D%1!=0)throw M.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function P(D,c,l){if(D<c||D>l)throw M.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function w(D){if("string"!=typeof D||D!==M.default.AUDIO&&D!==M.default.VIDEO)throw M.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/core/EventBus.js"),R=m("./src/core/events/Events.js"),P=m("./node_modules/imsc/src/main/js/main.js"),D=m("./src/streaming/MediaPlayerEvents.js"),c=m("./src/streaming/constants/ConformanceViolationConstants.js");function l(){var _,L,f=this.context,d=Object(I.default)(f).getInstance(),S=0;function b(){var p="cue_TTML_"+S;return S++,p}return _={parse:function v(p,y,g,A,E){var ee,Z,le,N="",G=[],H={},W={},x="",Y="",z={onOpenTag:function(fe,ae,pe){if(pe[" imagetype"]&&!pe[" imageType"]&&(d.trigger(D.default.CONFORMANCE_VIOLATION,{level:c.default.LEVELS.ERROR,event:c.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),pe[" imageType"]=pe[" imagetype"]),"image"===ae&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===fe||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===fe)){if(!pe[" imageType"]||"PNG"!==pe[" imageType"].value)return void L.warn("smpte-tt imageType != PNG. Discarded");x=pe["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){x&&(W[x]=Y.trim()),Y="",x=""},onText:function(fe){x&&(Y+=fe)}};if(!p)throw N="no ttml data to parse",new Error(N);H.data=p,d.trigger(R.default.TTML_TO_PARSE,H);var ie=Object(P.fromXML)(H.data,function(J){N=J},z);d.trigger(R.default.TTML_PARSED,{ttmlString:H.data,ttmlDoc:ie});var oe=ie.getMediaTimeEvents();for(le=0;le<oe.length;le++){var ye=Object(P.generateISD)(ie,oe[le],function(J){N=J});ye.contents.some(function(J){return J.contents.length})&&(ee=oe[le]+y<g?g:oe[le]+y)<(Z=oe[le+1]+y>A?A:oe[le+1]+y)&&G.push({start:ee,end:Z,type:"html",cueID:b(),isd:ye,images:E,embeddedImages:W})}if(""!==N)throw L.error(N),new Error(N);return G}},function O(){L=Object(T.default)(f).getInstance().getLogger(_)}(),_}l.__dashjs_factory_name="TTMLParser",U.default=M.default.getSingletonFactory(l)},"./src/streaming/utils/URLUtils.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/utils/DefaultURLUtils.js");function I(){var w,D=[],c=this.context;function _(N,G,ee){var Z=function l(N){var G;for(G=0;G<D.length;G++)if(D[G].regex.test(N))return D[G].utils;return w}(ee||G);return Z&&"function"==typeof Z[N]?Z[N](G,ee):w[N](G,ee)}return function f(){w=Object(T.default)(c).getInstance()}(),{registerUrlRegex:function d(N,G){D.push({regex:N,utils:G})},parseBaseUrl:function L(N){return _("parseBaseUrl",N)},parseOrigin:function S(N){return _("parseOrigin",N)},parseScheme:function b(N){return _("parseScheme",N)},isRelative:function v(N){return _("isRelative",N)},isPathAbsolute:function p(N){return _("isPathAbsolute",N)},isSchemeRelative:function y(N){return _("isSchemeRelative",N)},isHTTPURL:function g(N){return _("isHTTPURL",N)},isHTTPS:function A(N){return _("isHTTPS",N)},removeHostname:function O(N){return _("removeHostname",N)},resolve:function E(N,G){return _("resolve",N,G)}}}I.__dashjs_factory_name="URLUtils";var R=M.default.getSingletonFactory(I);U.default=R},"./src/streaming/utils/VTTParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js");function R(){var w,D,c,l,f,d,P=this.context;function S(p){var y=p.split(":"),g=y.length-1;return p=60*parseInt(y[g-1],10)+parseFloat(y[g]),2===g&&(p+=3600*parseInt(y[0],10)),p}function O(p){var y=p.split(l),g=y[1].split(d);return g.shift(),y[1]=g[0],g.shift(),{cuePoints:y,styles:b(g)}}function b(p){var y={};return p.forEach(function(g){if(g.split(/:/).length>1){var A=g.split(/:/)[1];A&&-1!=A.search(/%/)&&(A=parseInt(A.replace(/%/,""),10)),(g.match(/align/)||g.match(/A/))&&(y.align=A),(g.match(/line/)||g.match(/L/))&&(y.line=A),(g.match(/position/)||g.match(/P/))&&(y.position=A),(g.match(/size/)||g.match(/S/))&&(y.size=A)}}),y}function v(p,y){for(var N,g=y,A="",E="";""!==p[g]&&g<p.length;)g++;if((N=g-y)>1)for(var G=0;G<N;G++){if((E=p[y+G]).match(l)){A="";break}A+=E,G!==N-1&&(A+="\n")}else(E=p[y]).match(l)||(A=E);return A}return w={parse:function L(p){var g,A,y=[];if(!p)return y;g=(p=p.split(c)).length,A=-1;for(var E=0;E<g;E++){var N=p[E];if(N.length>0&&"WEBVTT"!==N&&N.match(l)){var G=O(N),ee=G.cuePoints,Z=G.styles,le=v(p,E+1),H=S(ee[0].replace(f,"")),W=S(ee[1].replace(f,""));!isNaN(H)&&!isNaN(W)&&H>=A&&W>H?""!==le?(A=H,y.push({start:H,end:W,data:le,styles:Z})):D.error("Skipping cue due to empty/malformed cue text"):D.error("Skipping cue due to incorrect cue timing")}}return y}},function _(){D=Object(T.default)(P).getInstance().getLogger(w),c=/(?:\r\n|\r|\n)/gm,l=/-->/,f=/(^[\s]+|[\s]+$)/g,d=/\s\b/g}(),w}R.__dashjs_factory_name="VTTParser",U.default=M.default.getSingletonFactory(R)},"./src/streaming/utils/VttCustomRenderingParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var I,R;return I={parse:function w(D){var c=[];return R.oncue=function(l){l.start=l.startTime,l.end=l.endTime,l.data=l.text,l.styles={align:l.align,line:l.line,position:l.position,size:l.size},c.push(l)},R.parse(D),c}},function P(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(R=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),I}T.__dashjs_factory_name="VttCustomRenderingParser",U.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).blacklistController;return{select:function w(D){var l,c=0;return D&&D.some(function(f,d){return c=d,!P.contains(f.serviceLocation)})&&(l=D[c]),l}}}T.__dashjs_factory_name="BasicSelector",U.default=M.default.getClassFactory(T)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/dash/controllers/ContentSteeringController.js");function I(){var P,w,D,R=this.context;function d(){for(var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],S=0,O=NaN,b=function(){var y=_[S],g=L.findIndex(function(A){return A.serviceLocation&&A.serviceLocation===y});if(-1!==g&&!D.contains(L[g].serviceLocation))return O=g,"break";S+=1};S<_.length&&"break"!==b(););return O}return P={selectBaseUrlIndex:function f(_){var L=NaN;if(isNaN(_.selectedIdx)){var S=w.getSteeringDataFromManifest();S&&S.defaultServiceLocation&&(L=d([S.defaultServiceLocation],_.baseUrls))}var O=w.getCurrentSteeringResponseData();return _.baseUrls&&_.baseUrls.length&&O&&O.serviceLocationPriority&&O.serviceLocationPriority.length&&(L=d(O.serviceLocationPriority,_.baseUrls)),L},setConfig:function l(_){_.blacklistController&&(D=_.blacklistController),_.contentSteeringController&&(w=_.contentSteeringController)}},function c(){w=Object(T.default)(R).getInstance()}(),P}I.__dashjs_factory_name="ContentSteeringSelector",U.default=M.default.getClassFactory(I)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).blacklistController;return{select:function c(l){return l&&function D(l){var O,b,_=0,L=[],S=0;if((b=l.sort(function(p,y){var g=p.dvb_priority-y.dvb_priority;return isNaN(g)?0:g}).filter(function(p,y,g){return!y||g[0].dvb_priority&&p.dvb_priority&&g[0].dvb_priority===p.dvb_priority})).length)return b.length>1&&(b.forEach(function(v){L.push(_+=v.dvb_weight)}),O=Math.floor(Math.random()*(_-1)),L.every(function(v,p){return S=p,!(O<v)})),b[S]}(function w(l){var f=[];return l.filter(function(S){return!P.contains(S.serviceLocation)||(S.dvb_priority&&f.push(S.dvb_priority),!1)}).filter(function(S){return!(f.length&&S.dvb_priority&&-1!==f.indexOf(S.dvb_priority))})}(l))}}}T.__dashjs_factory_name="DVBSelector",U.default=M.default.getClassFactory(T)},"./src/streaming/vo/BitrateInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f,d){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.code=l||null,this.message=f||null,this.data=d||null})},"./src/streaming/vo/DataChunk.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/metrics/HTTPRequest.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function R(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function w(l){var f=function D(l,f){if("object"!==T(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===T(f)?f:String(f)}var c=function(){function l(f){(function I(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.action=l.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=f||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function P(l,f,d){return f&&R(l.prototype,f),d&&R(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===M.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(d){this.type=d&&d.init?M.HTTPRequest.INIT_SEGMENT_TYPE:M.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=d&&d.url?d.url:null,this.range=d&&d.range?d.range.start+"-"+d.range.end:null,this.mediaType=d&&d.mediaType?d.mediaType:null}}]),l}();c.ACTION_DOWNLOAD="download",c.ACTION_COMPLETE="complete",U.default=c},"./src/streaming/vo/HeadRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/FragmentRequest.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function w(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function f(b){var v=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return d(this,g)}}function d(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}U.default=function(b){c(p,b);var v=f(p);function p(y){var g;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(g=v.call(this,y)).checkForExistenceOnly=!0,g}return function R(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/streaming/vo/IsoBox.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,P(d.key),d)}}function P(c){var l=function w(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l){if(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c),this.offset=l._offset,this.type=l.type,this.size=l.size,this.boxes=[],l.boxes)for(var f=0;f<l.boxes.length;f++)this.boxes.push(new c(l.boxes[f]));switch(this.isComplete=!0,l.type){case"sidx":if(this.timescale=l.timescale,this.earliest_presentation_time=l.earliest_presentation_time,this.first_offset=l.first_offset,this.references=l.references,l.references){this.references=[];for(var d=0;d<l.references.length;d++)this.references.push({reference_type:l.references[d].reference_type,referenced_size:l.references[d].referenced_size,subsegment_duration:l.references[d].subsegment_duration})}break;case"emsg":this.id=l.id,this.version=1===l.version?1:0,this.value=l.value,this.timescale=l.timescale,this.scheme_id_uri=l.scheme_id_uri,this.presentation_time_delta=1===l.version?l.presentation_time:l.presentation_time_delta,this.event_duration=l.event_duration,this.message_data=l.message_data;break;case"mdhd":this.timescale=l.timescale;break;case"mfhd":this.sequence_number=l.sequence_number;break;case"subs":this.entry_count=l.entry_count,this.entries=l.entries;break;case"tfhd":this.base_data_offset=l.base_data_offset,this.sample_description_index=l.sample_description_index,this.default_sample_duration=l.default_sample_duration,this.default_sample_size=l.default_sample_size,this.default_sample_flags=l.default_sample_flags,this.flags=l.flags;break;case"tfdt":this.version=l.version,this.baseMediaDecodeTime=l.baseMediaDecodeTime,this.flags=l.flags;break;case"trun":if(this.sample_count=l.sample_count,this.first_sample_flags=l.first_sample_flags,this.data_offset=l.data_offset,this.flags=l.flags,this.samples=l.samples,l.samples){this.samples=[];for(var L=0,S=l.samples.length;L<S;L++)this.samples.push({sample_size:l.samples[L].sample_size,sample_duration:l.samples[L].sample_duration,sample_composition_time_offset:l.samples[L].sample_composition_time_offset})}}}return function R(c,l,f){return l&&I(c.prototype,l),f&&I(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"getChildBox",value:function(f){for(var d=0;d<this.boxes.length;d++)if(this.boxes[d].type===f)return this.boxes[d]}},{key:"getChildBoxes",value:function(f){for(var d=[],_=0;_<this.boxes.length;_++)this.boxes[_].type===f&&d.push(this.boxes[_]);return d}}]),c}()},"./src/streaming/vo/IsoBoxSearchInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,f,d){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.lastCompletedOffset=l,this.found=f,this.size=d})},"./src/streaming/vo/MetricsList.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/vo/FragmentRequest.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function R(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,w(g.key),g)}}function w(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&f(v,p)}function f(v,p){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function L(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}U.default=function(v){l(y,v);var p=d(y);function y(g,A){var E;return function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(E=p.call(this)).url=g||null,E.type=A||null,E.mediaType=M.default.STREAM,E.responseType="",E}return function P(v,p,y){return p&&R(v.prototype,p),y&&R(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(T.default)},"./src/streaming/vo/TextTrackInfo.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/vo/MediaInfo.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function w(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function f(b){var v=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return d(this,g)}}function d(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}U.default=function(b){c(p,b);var v=f(p);function p(){var y;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(y=v.call(this)).captionData=null,y.label=null,y.defaultTrack=!1,y.kind=null,y.isFragmented=!1,y.isEmbedded=!1,y.isTTML=null,y}return function R(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/streaming/vo/Thumbnail.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/MetricsConstants.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function I(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function R(l,f,d){return f&&I(l.prototype,f),d&&I(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}function P(l){var f=function w(l,f){if("object"!==T(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===T(f)?f:String(f)}U.default=R(function l(){(function D(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.target=null,this.state=M.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function T(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function I(l,f,d){return f&&T(l.prototype,f),d&&T(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}function R(l){var f=function P(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}function w(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}m.r(U),m.d(U,"HTTPRequest",function(){return D}),m.d(U,"HTTPRequestTrace",function(){return c});var D=I(function l(){w(this,l),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),c=I(function l(){w(this,l),this.s=null,this.d=null,this.b=[]});D.GET="GET",D.HEAD="HEAD",D.MPD_TYPE="MPD",D.XLINK_EXPANSION_TYPE="XLinkExpansion",D.INIT_SEGMENT_TYPE="InitializationSegment",D.INDEX_SEGMENT_TYPE="IndexSegment",D.MEDIA_SEGMENT_TYPE="MediaSegment",D.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",D.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",D.DVB_REPORTING_TYPE="DVBReporting",D.LICENSE="license",D.CONTENT_STEERING_TYPE="ContentSteering",D.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":function(Ie,U,m){"use strict";function M(f){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function T(f,d){for(var _=0;_<d.length;_++){var L=d[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(f,R(L.key),L)}}function I(f,d,_){return d&&T(f.prototype,d),_&&T(f,_),Object.defineProperty(f,"prototype",{writable:!1}),f}function R(f){var d=function P(f,d){if("object"!==M(f)||null===f)return f;var _=f[Symbol.toPrimitive];if(void 0!==_){var L=_.call(f,d||"default");if("object"!==M(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(f)}(f,"string");return"symbol"===M(d)?d:String(d)}function w(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}m.r(U),m.d(U,"ManifestUpdate",function(){return D}),m.d(U,"ManifestUpdateStreamInfo",function(){return c}),m.d(U,"ManifestUpdateRepresentationInfo",function(){return l});var D=I(function f(){w(this,f),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),c=I(function f(){w(this,f),this.id=null,this.index=null,this.start=null,this.duration=null}),l=I(function f(){w(this,f),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function T(l,f){for(var d=0;d<f.length;d++){var _=f[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function I(l,f,d){return f&&T(l.prototype,f),d&&T(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}function R(l){var f=function P(l,f){if("object"!==M(l)||null===l)return l;var d=l[Symbol.toPrimitive];if(void 0!==d){var _=d.call(l,f||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(l)}(l,"string");return"symbol"===M(f)?f:String(f)}function w(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}m.r(U),m.d(U,"PlayList",function(){return D}),m.d(U,"PlayListTrace",function(){return c});var D=I(function l(){w(this,l),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});D.INITIAL_PLAYOUT_START_REASON="initial_playout",D.SEEK_START_REASON="seek",D.RESUME_FROM_PAUSE_START_REASON="resume",D.METRICS_COLLECTION_START_REASON="metrics_collection_start";var c=I(function l(){w(this,l),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});c.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",c.REBUFFERING_REASON="rebuffering",c.USER_REQUEST_STOP_REASON="user_request",c.END_OF_PERIOD_STOP_REASON="end_of_period",c.END_OF_CONTENT_STOP_REASON="end_of_content",c.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",c.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,R(d.key),d)}}function I(c,l,f){return l&&T(c.prototype,l),f&&T(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var d=f.call(c,l||"default");if("object"!==M(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function w(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:function(Ie,U){},1:function(Ie,U){}}).default},37:()=>{var Fa,Ie;Ie=Fa||(Fa={}),function(U){var m="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),M=T(Ie);function T(I,R){return function(P,w){"function"!=typeof I[P]&&Object.defineProperty(I,P,{configurable:!0,writable:!0,value:w}),R&&R(P,w)}}typeof m.Reflect>"u"?m.Reflect=Ie:M=T(m.Reflect,M),function(U){var m=Object.prototype.hasOwnProperty,M="function"==typeof Symbol,T=M&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",I=M&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",R="function"==typeof Object.create,P={__proto__:[]}instanceof Array,w=!R&&!P,D={create:R?function(){return j(Object.create(null))}:P?function(){return j({__proto__:null})}:function(){return j({})},has:w?function($,ce){return m.call($,ce)}:function($,ce){return ce in $},get:w?function($,ce){return m.call($,ce)?$[ce]:void 0}:function($,ce){return $[ce]}},c=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Ee(){var $={},ce=[],ue=function(){function Re(Ue,Ce,Oe){this._index=0,this._keys=Ue,this._values=Ce,this._selector=Oe}return Re.prototype["@@iterator"]=function(){return this},Re.prototype[I]=function(){return this},Re.prototype.next=function(){var Ue=this._index;if(Ue>=0&&Ue<this._keys.length){var Ce=this._selector(this._keys[Ue],this._values[Ue]);return Ue+1>=this._keys.length?(this._index=-1,this._keys=ce,this._values=ce):this._index++,{value:Ce,done:!1}}return{value:void 0,done:!0}},Re.prototype.throw=function(Ue){throw this._index>=0&&(this._index=-1,this._keys=ce,this._values=ce),Ue},Re.prototype.return=function(Ue){return this._index>=0&&(this._index=-1,this._keys=ce,this._values=ce),{value:Ue,done:!0}},Re}();return function(){function Re(){this._keys=[],this._values=[],this._cacheKey=$,this._cacheIndex=-2}return Object.defineProperty(Re.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Re.prototype.has=function(Ue){return this._find(Ue,!1)>=0},Re.prototype.get=function(Ue){var Ce=this._find(Ue,!1);return Ce>=0?this._values[Ce]:void 0},Re.prototype.set=function(Ue,Ce){var Oe=this._find(Ue,!0);return this._values[Oe]=Ce,this},Re.prototype.delete=function(Ue){var Ce=this._find(Ue,!1);if(Ce>=0){for(var Oe=this._keys.length,Ge=Ce+1;Ge<Oe;Ge++)this._keys[Ge-1]=this._keys[Ge],this._values[Ge-1]=this._values[Ge];return this._keys.length--,this._values.length--,Ue===this._cacheKey&&(this._cacheKey=$,this._cacheIndex=-2),!0}return!1},Re.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=$,this._cacheIndex=-2},Re.prototype.keys=function(){return new ue(this._keys,this._values,be)},Re.prototype.values=function(){return new ue(this._keys,this._values,we)},Re.prototype.entries=function(){return new ue(this._keys,this._values,Pe)},Re.prototype["@@iterator"]=function(){return this.entries()},Re.prototype[I]=function(){return this.entries()},Re.prototype._find=function(Ue,Ce){return this._cacheKey!==Ue&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ue)),this._cacheIndex<0&&Ce&&(this._cacheIndex=this._keys.length,this._keys.push(Ue),this._values.push(void 0)),this._cacheIndex},Re}();function be(Re,Ue){return Re}function we(Re,Ue){return Ue}function Pe(Re,Ue){return[Re,Ue]}}():Map,d=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function q(){return function(){function $(){this._map=new f}return Object.defineProperty($.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),$.prototype.has=function(ce){return this._map.has(ce)},$.prototype.add=function(ce){return this._map.set(ce,ce),this},$.prototype.delete=function(ce){return this._map.delete(ce)},$.prototype.clear=function(){this._map.clear()},$.prototype.keys=function(){return this._map.keys()},$.prototype.values=function(){return this._map.values()},$.prototype.entries=function(){return this._map.entries()},$.prototype["@@iterator"]=function(){return this.keys()},$.prototype[I]=function(){return this.keys()},$}()}():Set,L=new(l||"function"!=typeof WeakMap?function K(){var ce=D.create(),ue=be();return function(){function Ce(){this._key=be()}return Ce.prototype.has=function(Oe){var Ge=we(Oe,!1);return void 0!==Ge&&D.has(Ge,this._key)},Ce.prototype.get=function(Oe){var Ge=we(Oe,!1);return void 0!==Ge?D.get(Ge,this._key):void 0},Ce.prototype.set=function(Oe,Ge){return we(Oe,!0)[this._key]=Ge,this},Ce.prototype.delete=function(Oe){var Ge=we(Oe,!1);return void 0!==Ge&&delete Ge[this._key]},Ce.prototype.clear=function(){this._key=be()},Ce}();function be(){var Ce;do{Ce="@@WeakMap@@"+Ue()}while(D.has(ce,Ce));return ce[Ce]=!0,Ce}function we(Ce,Oe){if(!m.call(Ce,ue)){if(!Oe)return;Object.defineProperty(Ce,ue,{value:D.create()})}return Ce[ue]}function Pe(Ce,Oe){for(var Ge=0;Ge<Oe;++Ge)Ce[Ge]=255*Math.random()|0;return Ce}function Ue(){var Ce=function Re(Ce){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Ce)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(Ce)):Pe(new Uint8Array(Ce),Ce):Pe(new Array(Ce),Ce)}(16);Ce[6]=79&Ce[6]|64,Ce[8]=191&Ce[8]|128;for(var Oe="",Ge=0;Ge<16;++Ge){var Ne=Ce[Ge];(4===Ge||6===Ge||8===Ge)&&(Oe+="-"),Ne<16&&(Oe+="0"),Oe+=Ne.toString(16).toLowerCase()}return Oe}}():WeakMap);function Z($,ce,ue){var be=L.get($);if(ye(be)){if(!ue)return;be=new f,L.set($,be)}var we=be.get(ce);if(ye(we)){if(!ue)return;we=new f,be.set(ce,we)}return we}function le($,ce,ue){if(H($,ce,ue))return!0;var we=me(ce);return!J(we)&&le($,we,ue)}function H($,ce,ue){var be=Z(ce,ue,!1);return!ye(be)&&function de($){return!!$}(be.has($))}function W($,ce,ue){if(H($,ce,ue))return x($,ce,ue);var we=me(ce);return J(we)?void 0:W($,we,ue)}function x($,ce,ue){var be=Z(ce,ue,!1);if(!ye(be))return be.get($)}function Y($,ce,ue,be){Z(ue,be,!0).set($,ce)}function z($,ce){var ue=ie($,ce),be=me($);if(null===be)return ue;var we=z(be,ce);if(we.length<=0)return ue;if(ue.length<=0)return we;for(var Pe=new d,Re=[],Ue=0,Ce=ue;Ue<Ce.length;Ue++)Pe.has(Oe=Ce[Ue])||(Pe.add(Oe),Re.push(Oe));for(var Ne=0,$e=we;Ne<$e.length;Ne++){var Oe;Pe.has(Oe=$e[Ne])||(Pe.add(Oe),Re.push(Oe))}return Re}function ie($,ce){var ue=[],be=Z($,ce,!1);if(ye(be))return ue;for(var Pe=function V($){var ce=F($,I);if(!ge(ce))throw new TypeError;var ue=ce.call($);if(!ae(ue))throw new TypeError;return ue}(be.keys()),Re=0;;){var Ue=B(Pe);if(!Ue)return ue.length=Re,ue;var Ce=re(Ue);try{ue[Re]=Ce}catch(Oe){try{te(Pe)}finally{throw Oe}}Re++}}function oe($){if(null===$)return 1;switch(typeof $){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===$?1:6;default:return 6}}function ye($){return void 0===$}function J($){return null===$}function ae($){return"object"==typeof $?null!==$:"function"==typeof $}function pe($,ce){switch(oe($)){case 0:case 1:case 2:case 3:case 4:case 5:return $}var ue=3===ce?"string":5===ce?"number":"default",be=F($,T);if(void 0!==be){var we=be.call($,ue);if(ae(we))throw new TypeError;return we}return function he($,ce){if("string"===ce){var ue=$.toString;if(ge(ue)&&!ae(be=ue.call($)))return be;if(ge(we=$.valueOf)&&!ae(be=we.call($)))return be}else{var we;if(ge(we=$.valueOf)&&!ae(be=we.call($)))return be;var be,Pe=$.toString;if(ge(Pe)&&!ae(be=Pe.call($)))return be}throw new TypeError}($,"default"===ue?"number":ue)}function se($){var ce=pe($,3);return function fe($){return"symbol"==typeof $}(ce)?ce:function ve($){return""+$}(ce)}function Se($){return Array.isArray?Array.isArray($):$ instanceof Object?$ instanceof Array:"[object Array]"===Object.prototype.toString.call($)}function ge($){return"function"==typeof $}function ne($){return"function"==typeof $}function F($,ce){var ue=$[ce];if(null!=ue){if(!ge(ue))throw new TypeError;return ue}}function re($){return $.value}function B($){var ce=$.next();return!ce.done&&ce}function te($){var ce=$.return;ce&&ce.call($)}function me($){var ce=Object.getPrototypeOf($);if("function"!=typeof $||$===c||ce!==c)return ce;var ue=$.prototype,be=ue&&Object.getPrototypeOf(ue);if(null==be||be===Object.prototype)return ce;var we=be.constructor;return"function"!=typeof we||we===$?ce:we}function j($){return $.__=void 0,delete $.__,$}U("decorate",function S($,ce,ue,be){if(ye(ue)){if(!Se($))throw new TypeError;if(!ne(ce))throw new TypeError;return function G($,ce){for(var ue=$.length-1;ue>=0;--ue){var we=(0,$[ue])(ce);if(!ye(we)&&!J(we)){if(!ne(we))throw new TypeError;ce=we}}return ce}($,ce)}if(!Se($))throw new TypeError;if(!ae(ce))throw new TypeError;if(!ae(be)&&!ye(be)&&!J(be))throw new TypeError;return J(be)&&(be=void 0),function ee($,ce,ue,be){for(var we=$.length-1;we>=0;--we){var Re=(0,$[we])(ce,ue,be);if(!ye(Re)&&!J(Re)){if(!ae(Re))throw new TypeError;be=Re}}return be}($,ce,ue=se(ue),be)}),U("metadata",function O($,ce){return function ue(be,we){if(!ae(be))throw new TypeError;if(!ye(we)&&!function X($){switch(oe($)){case 3:case 4:return!0;default:return!1}}(we))throw new TypeError;Y($,ce,be,we)}}),U("defineMetadata",function b($,ce,ue,be){if(!ae(ue))throw new TypeError;return ye(be)||(be=se(be)),Y($,ce,ue,be)}),U("hasMetadata",function v($,ce,ue){if(!ae(ce))throw new TypeError;return ye(ue)||(ue=se(ue)),le($,ce,ue)}),U("hasOwnMetadata",function p($,ce,ue){if(!ae(ce))throw new TypeError;return ye(ue)||(ue=se(ue)),H($,ce,ue)}),U("getMetadata",function y($,ce,ue){if(!ae(ce))throw new TypeError;return ye(ue)||(ue=se(ue)),W($,ce,ue)}),U("getOwnMetadata",function g($,ce,ue){if(!ae(ce))throw new TypeError;return ye(ue)||(ue=se(ue)),x($,ce,ue)}),U("getMetadataKeys",function A($,ce){if(!ae($))throw new TypeError;return ye(ce)||(ce=se(ce)),z($,ce)}),U("getOwnMetadataKeys",function E($,ce){if(!ae($))throw new TypeError;return ye(ce)||(ce=se(ce)),ie($,ce)}),U("deleteMetadata",function N($,ce,ue){if(!ae(ce))throw new TypeError;ye(ue)||(ue=se(ue));var be=Z(ce,ue,!1);if(ye(be)||!be.delete($))return!1;if(be.size>0)return!0;var we=L.get(ce);return we.delete(ue),we.size>0||L.delete(ce),!0})}(M)}()}},Fa=>{Fa(Fa.s=542)}]);