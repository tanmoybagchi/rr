(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{465:(pl,ml,ki)=>{"use strict";function Kn(n){return"function"==typeof n}function os(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const wt=os(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function He(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class L{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Kn(r))try{r()}catch(o){t=o instanceof wt?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{d(o)}catch(l){t=t??[],l instanceof wt?t=[...t,...l.errors]:t.push(l)}}if(t)throw new wt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)d(t);else{if(t instanceof L){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&He(e,t)}remove(t){const{_finalizers:e}=this;e&&He(e,t),t instanceof L&&t._removeParent(this)}}L.EMPTY=(()=>{const n=new L;return n.closed=!0,n})();const ve=L.EMPTY;function k(n){return n instanceof L||n&&"closed"in n&&Kn(n.remove)&&Kn(n.add)&&Kn(n.unsubscribe)}function d(n){Kn(n)?n():n.unsubscribe()}const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(n,t,...e){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=P;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function w(n){P.setTimeout(()=>{const{onUnhandledError:t}=f;if(!t)throw n;t(n)})}function m(){}const S=v("C",void 0,void 0);function v(n,t,e){return{kind:n,value:t,error:e}}let T=null;function G(n){if(f.useDeprecatedSynchronousErrorHandling){const t=!T;if(t&&(T={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=T;if(T=null,e)throw r}}else n()}class ne extends L{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,k(t)&&t.add(this)):this.destination=ze}static create(t,e,r){return new F(t,e,r)}next(t){this.isStopped?ce(function h(n){return v("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ce(function N(n){return v("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ce(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function oe(n,t){return Q.call(n,t)}class H{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){W(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){W(r)}else W(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){W(e)}}}class F extends ne{constructor(t,e,r){let i;if(super(),Kn(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&f.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&oe(t.next,o),error:t.error&&oe(t.error,o),complete:t.complete&&oe(t.complete,o)}):i=t}this.destination=new H(i)}}function W(n){f.useDeprecatedSynchronousErrorHandling?function $(n){f.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=n)}(n):w(n)}function ce(n,t){const{onStoppedNotification:e}=f;e&&P.setTimeout(()=>e(n,t))}const ze={closed:!0,next:m,error:function he(n){throw n},complete:m},st="function"==typeof Symbol&&Symbol.observable||"@@observable";function ge(n){return n}function Ve(n){return 0===n.length?ge:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let We=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function rt(n){return n&&n instanceof ne||function Ue(n){return n&&Kn(n.next)&&Kn(n.error)&&Kn(n.complete)}(n)&&k(n)}(e)?e:new F(e,r,i);return G(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Ne(r))((i,o)=>{const l=new F({next:c=>{try{e(c)}catch(u){o(u),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[st](){return this}pipe(...e){return Ve(e)(this)}toPromise(e){return new(e=Ne(e))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return n.create=t=>new n(t),n})();function Ne(n){var t;return null!==(t=n??f.Promise)&&void 0!==t?t:Promise}const Mt=os(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ht=(()=>{class n extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new ke(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Mt}next(e){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ve:(this.currentObservers=null,o.push(e),new L(()=>{this.currentObservers=null,He(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new We;return e.source=this,e}}return n.create=(t,e)=>new ke(t,e),n})();class ke extends ht{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:ve}}function gt(n){return Kn(n?.lift)}function St(n){return t=>{if(gt(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(n,t,e,r,i){return new yt(n,t,e,r,i)}class yt extends ne{constructor(t,e,r,i,o,l){super(t),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=e?function(c){try{e(c)}catch(u){t.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function me(n,t){return St((e,r)=>{let i=0;e.subscribe(Ye(r,o=>{r.next(n.call(t,o,i++))}))})}function bn(n){return this instanceof bn?(this.v=n,this):new bn(n)}function Qn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Xe(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(l){return new Promise(function(c,u){!function i(o,l,c,u){Promise.resolve(u).then(function(g){o({value:g,done:c})},l)}(c,u,(l=n[o](l)).done,l.value)})}}}const ho=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Hi(n){return Kn(n?.then)}function Ko(n){return Kn(n[st])}function vo(n){return Symbol.asyncIterator&&Kn(n?.[Symbol.asyncIterator])}function ua(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vt=function Gt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jt(n){return Kn(n?.[Vt])}function ut(n){return function Nn(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(be){r[be]&&(i[be]=function(Me){return new Promise(function(xe,qe){o.push([be,Me,xe,qe])>1||c(be,Me)})})}function c(be,Me){try{!function u(be){be.value instanceof bn?Promise.resolve(be.value.v).then(g,D):q(o[0][2],be)}(r[be](Me))}catch(xe){q(o[0][3],xe)}}function g(be){c("next",be)}function D(be){c("throw",be)}function q(be,Me){be(Me),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield bn(e.read());if(i)return yield bn(void 0);yield yield bn(r)}}finally{e.releaseLock()}})}function xt(n){return Kn(n?.getReader)}function ft(n){if(n instanceof We)return n;if(null!=n){if(Ko(n))return function At(n){return new We(t=>{const e=n[st]();if(Kn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ho(n))return function Qt(n){return new We(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Hi(n))return function en(n){return new We(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,w)})}(n);if(vo(n))return In(n);if(jt(n))return function Sn(n){return new We(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(xt(n))return function sn(n){return In(ut(n))}(n)}throw ua(n)}function In(n){return new We(t=>{(function Ft(n,t){var e,r,i,o;return function Fe(n,t,e,r){return new(e||(e=Promise))(function(o,l){function c(D){try{g(r.next(D))}catch(q){l(q)}}function u(D){try{g(r.throw(D))}catch(q){l(q)}}function g(D){D.done?o(D.value):function i(o){return o instanceof e?o:new e(function(l){l(o)})}(D.value).then(c,u)}g((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Qn(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function un(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Dn(n,t,e=1/0){return Kn(t)?Dn((r,i)=>me((o,l)=>t(r,o,i,l))(ft(n(r,i))),e):("number"==typeof t&&(e=t),St((r,i)=>function yn(n,t,e,r,i,o,l,c){const u=[];let g=0,D=0,q=!1;const be=()=>{q&&!u.length&&!g&&t.complete()},Me=qe=>g<r?xe(qe):u.push(qe),xe=qe=>{o&&t.next(qe),g++;let ct=!1;ft(e(qe,D++)).subscribe(Ye(t,Nt=>{i?.(Nt),o?Me(Nt):t.next(Nt)},()=>{ct=!0},void 0,()=>{if(ct)try{for(g--;u.length&&g<r;){const Nt=u.shift();l?un(t,l,()=>xe(Nt)):xe(Nt)}be()}catch(Nt){t.error(Nt)}}))};return n.subscribe(Ye(t,Me,()=>{q=!0,be()})),()=>{c?.()}}(r,i,n,e)))}function er(n=1/0){return Dn(ge,n)}const pr=new We(n=>n.complete());function zt(n){return n&&Kn(n.schedule)}function nn(n){return n[n.length-1]}function Vn(n){return Kn(nn(n))?n.pop():void 0}function Hn(n){return zt(nn(n))?n.pop():void 0}function Rr(n,t=0){return St((e,r)=>{e.subscribe(Ye(r,i=>un(r,n,()=>r.next(i),t),()=>un(r,n,()=>r.complete(),t),i=>un(r,n,()=>r.error(i),t)))})}function Fi(n,t=0){return St((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Zi(n,t){if(!n)throw new Error("Iterable cannot be null");return new We(e=>{un(e,t,()=>{const r=n[Symbol.asyncIterator]();un(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Gr(n,t){return t?function da(n,t){if(null!=n){if(Ko(n))return function Ri(n,t){return ft(n).pipe(Fi(t),Rr(t))}(n,t);if(ho(n))return function _i(n,t){return new We(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Hi(n))return function Yr(n,t){return ft(n).pipe(Fi(t),Rr(t))}(n,t);if(vo(n))return Zi(n,t);if(jt(n))return function ii(n,t){return new We(e=>{let r;return un(e,t,()=>{r=n[Vt](),un(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void e.error(l)}o?e.complete():e.next(i)},0,!0)}),()=>Kn(r?.return)&&r.return()})}(n,t);if(xt(n))return function xa(n,t){return Zi(ut(n),t)}(n,t)}throw ua(n)}(n,t):ft(n)}function ui(...n){const t=Hn(n),e=function Ar(n,t){return"number"==typeof nn(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?ft(r[0]):er(e)(Gr(r,t)):pr}function tc(n={}){const{connector:t=(()=>new ht),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let l,c,u,g=0,D=!1,q=!1;const be=()=>{c?.unsubscribe(),c=void 0},Me=()=>{be(),l=u=void 0,D=q=!1},xe=()=>{const qe=l;Me(),qe?.unsubscribe()};return St((qe,ct)=>{g++,!q&&!D&&be();const Nt=u=u??t();ct.add(()=>{g--,0===g&&!q&&!D&&(c=gl(xe,i))}),Nt.subscribe(ct),!l&&g>0&&(l=new F({next:Ct=>Nt.next(Ct),error:Ct=>{q=!0,be(),c=gl(Me,e,Ct),Nt.error(Ct)},complete:()=>{D=!0,be(),c=gl(Me,r),Nt.complete()}}),ft(qe).subscribe(l))})(o)}}function gl(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new F({next:()=>{r.unsubscribe(),n()}});return ft(t(...e)).subscribe(r)}function kr(n){for(let t in n)if(n[t]===kr)return t;throw Error("Could not find renamed property on target object.")}function Na(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function hi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(hi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Oa(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Xt=kr({__forward_ref__:kr});function fn(n){return n.__forward_ref__=fn,n.toString=function(){return hi(this())},n}function mn(n){return ei(n)?n():n}function ei(n){return"function"==typeof n&&n.hasOwnProperty(Xt)&&n.__forward_ref__===fn}function qr(n){return n&&!!n.\u0275providers}const Fr="https://g.co/ng/security#xss";class Lt extends Error{constructor(t,e){super(function oi(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function On(n){return"string"==typeof n?n:null==n?"":String(n)}function ss(n,t){throw new Lt(-201,!1)}function bo(n,t){null==n&&function Br(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function an(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ir(n){return{providers:n.providers||[],imports:n.imports||[]}}function La(n){return _l(n,Wc)||_l(n,Fh)}function _l(n,t){return n.hasOwnProperty(t)?n[t]:null}function wd(n){return n&&(n.hasOwnProperty(Kc)||n.hasOwnProperty(yl))?n[Kc]:null}const Wc=kr({\u0275prov:kr}),Kc=kr({\u0275inj:kr}),Fh=kr({ngInjectableDef:kr}),yl=kr({ngInjectorDef:kr});var rr=(()=>((rr=rr||{})[rr.Default=0]="Default",rr[rr.Host=1]="Host",rr[rr.Self=2]="Self",rr[rr.SkipSelf=4]="SkipSelf",rr[rr.Optional=8]="Optional",rr))();let Xc;function Eo(n){const t=Xc;return Xc=n,t}function Lh(n,t,e){const r=La(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&rr.Optional?null:void 0!==t?t:void ss(hi(n))}const ti=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vl={},Cd="__NG_DI_FLAG__",Qc="ngTempTokenPath",Bh=/\n/gm,Dd="__source";let bl;function Gs(n){const t=bl;return bl=n,t}function Uh(n,t=rr.Default){if(void 0===bl)throw new Lt(-203,!1);return null===bl?Lh(n,void 0,t):bl.get(n,t&rr.Optional?null:void 0,t)}function Ut(n,t=rr.Default){return(function Sd(){return Xc}()||Uh)(mn(n),t)}function Kt(n,t=rr.Default){return Ut(n,nc(t))}function nc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Md(n){const t=[];for(let e=0;e<n.length;e++){const r=mn(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Lt(900,!1);let i,o=rr.Default;for(let l=0;l<r.length;l++){const c=r[l],u=Hg(c);"number"==typeof u?-1===u?i=c.token:o|=u:i=c}t.push(Ut(i,o))}else t.push(Ut(r))}return t}function El(n,t){return n[Cd]=t,n.prototype[Cd]=t,n}function Hg(n){return n[Cd]}function Ds(n){return{toString:n}.toString()}var Is=(()=>((Is=Is||{})[Is.OnPush=0]="OnPush",Is[Is.Default=1]="Default",Is))(),po=(()=>{return(n=po||(po={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",po;var n})();const ls={},Ur=[],Ba=kr({\u0275cmp:kr}),tu=kr({\u0275dir:kr}),nu=kr({\u0275pipe:kr}),jh=kr({\u0275mod:kr}),Ms=kr({\u0275fac:kr}),Rs=kr({__NG_ELEMENT_ID__:kr}),Rd=kr({__NG_ENV_ID__:kr});function Hh(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}function Ua(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],l=e[r++],c=e[r++];n.setAttribute(t,l,c,o)}else{const o=i,l=e[++r];Zh(o)?n.setProperty(t,o,l):n.setAttribute(t,o,l),r++}}return r}function xd(n){return 3===n||4===n||6===n}function Zh(n){return 64===n.charCodeAt(0)}function rc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Tl(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Tl(n,t,e,r,i){let o=0,l=n.length;if(-1===t)l=-1;else for(;o<n.length;){const c=n[o++];if("number"==typeof c){if(c===t){l=-1;break}if(c>t){l=o-1;break}}}for(;o<n.length;){const c=n[o];if("number"==typeof c)break;if(c===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(n.splice(l,0,t),o=l+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const ru="ng-template";function $r(n,t,e){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const l=n[r++];if(e&&"class"===o&&-1!==Hh(l.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function iu(n){return 4===n.type&&n.value!==ru}function zg(n,t,e){return t===(4!==n.type||e?n.value:ru)}function ou(n,t,e){let r=4;const i=n.attrs||[],o=function au(n){for(let t=0;t<n.length;t++)if(xd(n[t]))return t;return n.length}(i);let l=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!l)if(4&r){if(r=2|1&r,""!==u&&!zg(n,u,e)||""===u&&1===t.length){if(cs(r))return!1;l=!0}}else{const g=8&r?u:t[++c];if(8&r&&null!==n.attrs){if(!$r(n.attrs,g,e)){if(cs(r))return!1;l=!0}continue}const q=Nd(8&r?"class":u,i,iu(n),e);if(-1===q){if(cs(r))return!1;l=!0;continue}if(""!==g){let be;be=q>o?"":i[q+1].toLowerCase();const Me=8&r?be:null;if(Me&&-1!==Hh(Me,g,0)||2&r&&g!==be){if(cs(r))return!1;l=!0}}}}else{if(!l&&!cs(r)&&!cs(u))return!1;if(l&&cs(u))continue;l=!1,r=u|1&r}}return cs(r)||l}function cs(n){return 0==(1&n)}function Nd(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const l=t[i];if(l===n)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=t[++i];for(;"string"==typeof c;)c=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function zh(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function su(n,t,e=!1){for(let r=0;r<t.length;r++)if(ou(n,t[r],e))return!0;return!1}function qg(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function lu(n,t){return n?":not("+t.trim()+")":t}function Od(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let l=n[e];if("string"==typeof l)if(2&r){const c=n[++e];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!cs(l)&&(t+=lu(o,i),i=""),r=l,o=o||!cs(r);e++}return""!==i&&(t+=lu(o,i)),t}function Tr(n){return Ds(()=>{const t=qh(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Is.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||po.Emulated,styles:n.styles||Ur,_:null,schemas:n.schemas||null,tView:null,id:""};Yh(e);const r=n.dependencies;return e.directiveDefs=du(r,!1),e.pipeDefs=du(r,!0),e.id=function Fd(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Pd(n){return xr(n)||zi(n)}function kd(n){return null!==n}function si(n){return Ds(()=>({type:n.type,bootstrap:n.bootstrap||Ur,declarations:n.declarations||Ur,imports:n.imports||Ur,exports:n.exports||Ur,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Gh(n,t){if(null==n)return ls;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}function jn(n){return Ds(()=>{const t=qh(n);return Yh(t),t})}function Li(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function xr(n){return n[Ba]||null}function zi(n){return n[tu]||null}function No(n){return n[nu]||null}function Bo(n,t){const e=n[jh]||null;if(!e&&!0===t)throw new Error(`Type ${hi(n)} does not have '\u0275mod' property.`);return e}function qh(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ur,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gh(n.inputs,t),outputs:Gh(n.outputs)}}function Yh(n){n.features?.forEach(t=>t(n))}function du(n,t){if(!n)return null;const e=t?No:Pd;return()=>("function"==typeof n?n():n).map(r=>e(r)).filter(kd)}const Ni=0,Pn=1,dr=2,pi=3,Uo=4,Ys=5,mo=6,$s=7,yi=8,Va=9,ja=10,fr=11,ic=12,Ld=13,Sl=14,Ci=15,Cl=16,Al=17,xs=18,Dl=19,$h=20,Ws=21,Ks=22,Il=23,oc=24,Mr=25,fu=1,Bd=2,Vo=7,sc=8,Ml=9,eo=11;function jo(n){return Array.isArray(n)&&"object"==typeof n[fu]}function To(n){return Array.isArray(n)&&!0===n[fu]}function ac(n){return 0!=(4&n.flags)}function Ha(n){return n.componentOffset>-1}function hu(n){return 1==(1&n.flags)}function Xo(n){return!!n.template}function Ud(n){return 0!=(512&n[dr])}function Za(n,t){return n.hasOwnProperty(Ms)?n[Ms]:null}let l_=ti.WeakRef??class ep{constructor(t){this.ref=t}deref(){return this.ref}},c_=0,Ns=null,pu=!1;function Gi(n){const t=Ns;return Ns=n,t}class np{constructor(){this.id=c_++,this.ref=function tp(n){return new l_(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,e]of this.producers){const r=e.producerNode.deref();if(void 0!==r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=pu;pu=!0;try{for(const[e,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{pu=t}}producerAccessed(){if(pu)throw new Error("");if(null===Ns)return;let t=Ns.producers.get(this.id);void 0===t?(t={consumerNode:Ns.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ns.trackingVersion},Ns.producers.set(this.id,t),this.consumers.set(Ns.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Ns.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ns?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let rp=null;const ip=()=>{};class Gd extends np{constructor(t,e,r){super(),this.watch=t,this.schedule=e,this.dirty=!1,this.cleanupFn=ip,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=Gi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ip,this.watch(this.registerOnCleanup)}finally{Gi(t)}}cleanup(){this.cleanupFn()}}class mu{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function wo(){return gu}function gu(n){return n.type.prototype.ngOnChanges&&(n.setInput=_u),m_}function m_(){const n=sp(this),t=n?.current;if(t){const e=n.previous;if(e===ls)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function _u(n,t,e,r){const i=this.declaredInputs[e],o=sp(n)||function ap(n,t){return n[op]=t}(n,{previous:ls,current:null}),l=o.current||(o.current={}),c=o.previous,u=c[i];l[i]=new mu(u&&u.currentValue,t,c===ls),n[r]=t}wo.ngInherit=!0;const op="__ngSimpleChanges__";function sp(n){return n[op]||null}const Os=function(n,t,e){},yu="svg";function ai(n){for(;Array.isArray(n);)n=n[Ni];return n}function vu(n,t){return ai(t[n])}function So(n,t){return ai(t[n.index])}function $d(n,t){return n.data[t]}function Ol(n,t){return n[t]}function Co(n,t){const e=t[n];return jo(e)?e:e[Ni]}function cc(n){return 128==(128&n[dr])}function Ps(n,t){return null==t?null:n[t]}function uc(n){n[Al]=0}function v_(n){1024&n[dr]||(n[dr]|=1024,p(n,1))}function y(n){1024&n[dr]&&(n[dr]&=-1025,p(n,-1))}function p(n,t){let e=n[pi];if(null===e)return;e[Ys]+=t;let r=e;for(e=e[pi];null!==e&&(1===t&&1===r[Ys]||-1===t&&0===r[Ys]);)e[Ys]+=t,r=e,e=e[pi]}const R={lFrame:et(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ee(){return R.bindingsEnabled}function de(){return R.lFrame.lView}function z(){return R.lFrame.tView}function pe(n){return R.lFrame.contextLView=n,n[yi]}function ue(n){return R.lFrame.contextLView=null,n}function _e(){let n=C();for(;null!==n&&64===n.type;)n=n.parent;return n}function C(){return R.lFrame.currentTNode}function K(n,t){const e=R.lFrame;e.currentTNode=n,e.isParent=t}function Z(){return R.lFrame.isParent}function U(){R.lFrame.isParent=!1}function B(){const n=R.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Be(){return R.lFrame.bindingIndex++}function je(n){const t=R.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function nt(n,t){const e=R.lFrame;e.bindingIndex=e.bindingRootIndex=n,vt(t)}function vt(n){R.lFrame.currentDirectiveIndex=n}function qt(){return R.lFrame.currentQueryIndex}function tn(n){R.lFrame.currentQueryIndex=n}function Le(n){const t=n[Pn];return 2===t.type?t.declTNode:1===t.type?n[mo]:null}function Se(n,t,e){if(e&rr.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&rr.Host||(i=Le(o),null===i||(o=o[Sl],10&i.type))););if(null===i)return!1;t=i,n=o}const r=R.lFrame=Oe();return r.currentTNode=t,r.lView=n,!0}function Qe(n){const t=Oe(),e=n[Pn];R.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Oe(){const n=R.lFrame,t=null===n?null:n.child;return null===t?et(n):t}function et(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function lt(){const n=R.lFrame;return R.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const pt=lt;function kt(){const n=lt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gn(){return R.lFrame.selectedIndex}function hn(n){R.lFrame.selectedIndex=n}function ln(){const n=R.lFrame;return $d(n.tView,n.selectedIndex)}function Rn(){R.lFrame.currentNamespace=yu}let ir=!0;function hr(){return ir}function Pt(n){ir=n}function wn(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:g,ngOnDestroy:D}=o;l&&(n.contentHooks??=[]).push(-e,l),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),u&&(n.viewHooks??=[]).push(-e,u),g&&((n.viewHooks??=[]).push(e,g),(n.viewCheckHooks??=[]).push(e,g)),null!=D&&(n.destroyHooks??=[]).push(e,D)}}function vn(n,t,e){dt(n,t,3,e)}function mt(n,t,e,r){(3&n[dr])===e&&dt(n,t,e,r)}function Ht(n,t){let e=n[dr];(3&e)===t&&(e&=4095,e+=1,n[dr]=e)}function dt(n,t,e,r){const o=r??-1,l=t.length-1;let c=0;for(let u=void 0!==r?65535&n[Al]:0;u<l;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=r&&c>=r)break}else t[u]<0&&(n[Al]+=65536),(c<o||-1==o)&&(Ee(n,e,t,u),n[Al]=(4294901760&n[Al])+u+2),u++}function Ze(n,t){Os(4,n,t);const e=Gi(null);try{t.call(n)}finally{Gi(e),Os(5,n,t)}}function Ee(n,t,e,r){const i=e[r]<0,o=e[r+1],c=n[i?-e[r]:e[r]];i?n[dr]>>12<n[Al]>>16&&(3&n[dr])===t&&(n[dr]+=4096,Ze(c,o)):Ze(c,o)}const ot=-1;class It{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function ks(n){return n!==ot}function Fs(n){return 32767&n}function Qo(n,t){let e=function us(n){return n>>16}(n),r=t;for(;e>0;)r=r[Sl],e--;return r}let Do=!0;function Jo(n){const t=Do;return Do=n,t}const Xs=255,Qs=5;let dc=0;const Ho={};function Js(n,t){const e=kl(n,t);if(-1!==e)return e;const r=t[Pn];r.firstCreatePass&&(n.injectorIndex=t.length,Ga(r.data,n),Ga(t,null),Ga(r.blueprint,null));const i=_t(n,t),o=n.injectorIndex;if(ks(i)){const l=Fs(i),c=Qo(i,t),u=c[Pn].data;for(let g=0;g<8;g++)t[o+g]=c[l+g]|u[l+g]}return t[o+8]=i,o}function Ga(n,t){n.push(0,0,0,0,0,0,0,0,t)}function kl(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function _t(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=b0(i),null===r)return ot;if(e++,i=i[Sl],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return ot}function $t(n,t,e){!function Pl(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Rs)&&(r=e[Rs]),null==r&&(r=e[Rs]=dc++);const i=r&Xs;t.data[n+(i>>Qs)]|=1<<i}(n,t,e)}function qn(n,t,e){if(e&rr.Optional||void 0!==n)return n;ss()}function gr(n,t,e,r){if(e&rr.Optional&&void 0===r&&(r=null),!(e&(rr.Self|rr.Host))){const i=n[Va],o=Eo(void 0);try{return i?i.get(t,r,e&rr.Optional):Lh(t,r,e&rr.Optional)}finally{Eo(o)}}return qn(r,0,e)}function yr(n,t,e,r=rr.Default,i){if(null!==n){if(2048&t[dr]){const l=function yN(n,t,e,r,i){let o=n,l=t;for(;null!==o&&null!==l&&2048&l[dr]&&!(512&l[dr]);){const c=Xn(o,l,e,r|rr.Self,Ho);if(c!==Ho)return c;let u=o.parent;if(!u){const g=l[$h];if(g){const D=g.get(e,Ho,r);if(D!==Ho)return D}u=b0(l),l=l[Sl]}o=u}return i}(n,t,e,r,Ho);if(l!==Ho)return l}const o=Xn(n,t,e,r,Ho);if(o!==Ho)return o}return gr(t,e,r,i)}function Xn(n,t,e,r,i){const o=function Fl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Rs)?n[Rs]:void 0;return"number"==typeof t?t>=0?t&Xs:_N:t}(e);if("function"==typeof o){if(!Se(t,n,r))return r&rr.Host?qn(i,0,r):gr(t,e,r,i);try{const l=o(r);if(null!=l||r&rr.Optional)return l;ss()}finally{pt()}}else if("number"==typeof o){let l=null,c=kl(n,t),u=ot,g=r&rr.Host?t[Ci][mo]:null;for((-1===c||r&rr.SkipSelf)&&(u=-1===c?_t(n,t):t[c+8],u!==ot&&v0(r,!1)?(l=t[Pn],c=Fs(u),t=Qo(u,t)):c=-1);-1!==c;){const D=t[Pn];if(y0(o,c,D.data)){const q=Kr(c,t,e,l,r,g);if(q!==Ho)return q}u=t[c+8],u!==ot&&v0(r,t[Pn].data[c+8]===g)&&y0(o,c,t)?(l=D,c=Fs(u),t=Qo(u,t)):c=-1}}return i}function Kr(n,t,e,r,i,o){const l=t[Pn],c=l.data[n+8],D=Lr(c,l,e,null==r?Ha(c)&&Do:r!=l&&0!=(3&c.type),i&rr.Host&&o===c);return null!==D?Io(t,l,D,c):Ho}function Lr(n,t,e,r,i){const o=n.providerIndexes,l=t.data,c=1048575&o,u=n.directiveStart,D=o>>20,be=i?c+D:n.directiveEnd;for(let Me=r?c:c+D;Me<be;Me++){const xe=l[Me];if(Me<u&&e===xe||Me>=u&&xe.type===e)return Me}if(i){const Me=l[u];if(Me&&Xo(Me)&&Me.type===e)return u}return null}function Io(n,t,e,r){let i=n[e];const o=t.data;if(function Jt(n){return n instanceof It}(i)){const l=i;l.resolving&&function Ji(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Lt(-200,`Circular dependency in DI detected for ${n}${e}`)}(function vr(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():On(n)}(o[e]));const c=Jo(l.canSeeViewProviders);l.resolving=!0;const u=l.injectImpl?Eo(l.injectImpl):null;Se(n,r,rr.Default);try{i=n[e]=l.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function Cn(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const l=gu(t);(e.preOrderHooks??=[]).push(n,l),(e.preOrderCheckHooks??=[]).push(n,l)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==u&&Eo(u),Jo(c),l.resolving=!1,pt()}}return i}function y0(n,t,e){return!!(e[t+(n>>Qs)]&1<<n)}function v0(n,t){return!(n&rr.Self||n&rr.Host&&t)}class bu{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return yr(this._tNode,this._lView,t,nc(r),e)}}function _N(){return new bu(_e(),de())}function go(n){return Ds(()=>{const t=n.prototype.constructor,e=t[Ms]||b_(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ms]||b_(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function b_(n){return ei(n)?()=>{const t=b_(mn(n));return t&&t()}:Za(n)}function b0(n){const t=n[Pn],e=t.type;return 2===e?t.declTNode:1===e?n[mo]:null}function Eu(n){return function xn(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(xd(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(_e(),n)}const wu="__parameters__";function Cu(n,t,e){return Ds(()=>{const r=function E_(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const l=new i(...o);return c.annotation=l,c;function c(u,g,D){const q=u.hasOwnProperty(wu)?u[wu]:Object.defineProperty(u,wu,{value:[]})[wu];for(;q.length<=D;)q.push(null);return(q[D]=q[D]||[]).push(l),u}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Xd(n,t){n.forEach(e=>Array.isArray(e)?Xd(e,t):t(e))}function T0(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function up(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Qd(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function ds(n,t,e){let r=Au(n,t);return r>=0?n[1|r]=e:(r=~r,function wN(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function T_(n,t){const e=Au(n,t);if(e>=0)return n[1|e]}function Au(n,t){return function w0(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),l=n[o<<e];if(t===l)return o<<e;l>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const fc=El(Cu("Optional"),8),Jd=El(Cu("SkipSelf"),4);var es=(()=>((es=es||{})[es.Important=1]="Important",es[es.DashCase=2]="DashCase",es))();const zN=/^>|^->|<!--|-->|--!>|<!-$/g,GN=/(<|>)/,qN="\u200b$1\u200b";const M_=new Map;let YN=0;const x_="__ngContext__";function Oo(n,t){jo(t)?(n[x_]=t[Dl],function WN(n){M_.set(n[Dl],n)}(t)):n[x_]=t}let N_;function O_(n,t){return N_(n,t)}function nf(n){const t=n[pi];return To(t)?t[pi]:t}function P_(n){return j0(n[ic])}function k_(n){return j0(n[Uo])}function j0(n){for(;null!==n&&!To(n);)n=n[Uo];return n}function Iu(n,t,e,r,i){if(null!=r){let o,l=!1;To(r)?o=r:jo(r)&&(l=!0,r=r[Ni]);const c=ai(r);0===n&&null!==e?null==i?q0(t,e,c):hc(t,e,c,i||null,!0):1===n&&null!==e?hc(t,e,c,i||null,!0):2===n?function yp(n,t,e){const r=gp(n,t);r&&function m1(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,c,l):3===n&&t.destroyNode(c),null!=o&&function y1(n,t,e,r,i){const o=e[Vo];o!==ai(e)&&Iu(t,n,r,o,i);for(let c=eo;c<e.length;c++){const u=e[c];sf(u[Pn],u,n,t,r,o)}}(t,n,o,e,i)}}function F_(n,t){return n.createComment(function O0(n){return n.replace(zN,t=>t.replace(GN,qN))}(t))}function mp(n,t,e){return n.createElement(t,e)}function Z0(n,t){const e=n[Ml],r=e.indexOf(t);y(t),e.splice(r,1)}function L_(n,t){if(n.length<=eo)return;const e=eo+t,r=n[e];if(r){const i=r[Cl];null!==i&&i!==n&&Z0(i,r),t>0&&(n[e-1][Uo]=r[Uo]);const o=up(n,eo+t);!function a1(n,t){sf(n,t,t[fr],2,null,null),t[Ni]=null,t[mo]=null}(r[Pn],r);const l=o[xs];null!==l&&l.detachView(o[Pn]),r[pi]=null,r[Uo]=null,r[dr]&=-129}return r}function z0(n,t){if(!(256&t[dr])){const e=t[fr];t[Il]?.destroy(),t[oc]?.destroy(),e.destroyNode&&sf(n,t,e,3,null,null),function u1(n){let t=n[ic];if(!t)return B_(n[Pn],n);for(;t;){let e=null;if(jo(t))e=t[ic];else{const r=t[eo];r&&(e=r)}if(!e){for(;t&&!t[Uo]&&t!==n;)jo(t)&&B_(t[Pn],t),t=t[pi];null===t&&(t=n),jo(t)&&B_(t[Pn],t),e=t&&t[Uo]}t=e}}(t)}}function B_(n,t){if(!(256&t[dr])){t[dr]&=-129,t[dr]|=256,function p1(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof It)){const o=e[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],u=o[l+1];Os(4,c,u);try{u.call(c)}finally{Os(5,c,u)}}else{Os(4,i,o);try{o.call(i)}finally{Os(5,i,o)}}}}}(n,t),function h1(n,t){const e=n.cleanup,r=t[$s];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const l=e[o+3];l>=0?r[l]():r[-l].unsubscribe(),o+=2}else e[o].call(r[e[o+1]]);null!==r&&(t[$s]=null);const i=t[Ws];if(null!==i){for(let o=0;o<i.length;o++)(0,i[o])();t[Ws]=null}}(n,t),1===t[Pn].type&&t[fr].destroy();const e=t[Cl];if(null!==e&&To(t[pi])){e!==t[pi]&&Z0(e,t);const r=t[xs];null!==r&&r.detachView(n)}!function KN(n){M_.delete(n[Dl])}(t)}}function U_(n,t,e){return function G0(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[Ni];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===po.None||o===po.Emulated)return null}return So(r,e)}}(n,t.parent,e)}function hc(n,t,e,r,i){n.insertBefore(t,e,r,i)}function q0(n,t,e){n.appendChild(t,e)}function Y0(n,t,e,r,i){null!==r?hc(n,t,e,r,i):q0(n,t,e)}function gp(n,t){return n.parentNode(t)}function $0(n,t,e){return K0(n,t,e)}let V_,vp,z_,bp,K0=function W0(n,t,e){return 40&n.type?So(n,e):null};function _p(n,t,e,r){const i=U_(n,r,t),o=t[fr],c=$0(r.parent||t[mo],r,t);if(null!=i)if(Array.isArray(e))for(let u=0;u<e.length;u++)Y0(o,i,e[u],c,!1);else Y0(o,i,e,c,!1);void 0!==V_&&V_(o,r,t,e,i)}function rf(n,t){if(null!==t){const e=t.type;if(3&e)return So(t,n);if(4&e)return j_(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return rf(n,r);{const i=n[t.index];return To(i)?j_(-1,i):ai(i)}}if(32&e)return O_(t,n)()||ai(n[t.index]);{const r=Q0(n,t);return null!==r?Array.isArray(r)?r[0]:rf(nf(n[Ci]),r):rf(n,t.next)}}return null}function Q0(n,t){return null!==t?n[Ci][mo].projection[t.projection]:null}function j_(n,t){const e=eo+n+1;if(e<t.length){const r=t[e],i=r[Pn].firstChild;if(null!==i)return rf(r,i)}return t[Vo]}function H_(n,t,e,r,i,o,l){for(;null!=e;){const c=r[e.index],u=e.type;if(l&&0===t&&(c&&Oo(ai(c),r),e.flags|=2),32!=(32&e.flags))if(8&u)H_(n,t,e.child,r,i,o,!1),Iu(t,n,i,c,o);else if(32&u){const g=O_(e,r);let D;for(;D=g();)Iu(t,n,i,D,o);Iu(t,n,i,c,o)}else 16&u?eT(n,t,r,e,i,o):Iu(t,n,i,c,o);e=l?e.projectionNext:e.next}}function sf(n,t,e,r,i,o){H_(e,r,n.firstChild,t,i,o,!1)}function eT(n,t,e,r,i,o){const l=e[Ci],u=l[mo].projection[r.projection];if(Array.isArray(u))for(let g=0;g<u.length;g++)Iu(t,n,i,u[g],o);else H_(n,t,u,l[pi],i,o,!0)}function tT(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function nT(n,t,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&Ua(n,t,r),null!==i&&tT(n,t,i),null!==o&&function b1(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function Mu(n){return function Z_(){if(void 0===vp&&(vp=null,ti.trustedTypes))try{vp=ti.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vp}()?.createHTML(n)||n}function af(){return void 0!==z_?z_:typeof document<"u"?document:void 0}function G_(){if(void 0===bp&&(bp=null,ti.trustedTypes))try{bp=ti.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bp}function rT(n){return G_()?.createHTML(n)||n}function oT(n){return G_()?.createScriptURL(n)||n}class pc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fr})`}}class C1 extends pc{getTypeName(){return"HTML"}}class A1 extends pc{getTypeName(){return"Style"}}class D1 extends pc{getTypeName(){return"Script"}}class I1 extends pc{getTypeName(){return"URL"}}class M1 extends pc{getTypeName(){return"ResourceURL"}}function fs(n){return n instanceof pc?n.changingThisBreaksApplicationSecurity:n}function ha(n,t){const e=function R1(n){return n instanceof pc&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Fr})`)}return e===t}class F1{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mu(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class L1{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Mu(t),e}}const U1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ep(n){return(n=String(n)).match(U1)?n:"unsafe:"+n}function qa(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function lf(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const aT=qa("area,br,col,hr,img,wbr"),lT=qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cT=qa("rp,rt"),q_=lf(aT,lf(lT,qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lf(cT,qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lf(cT,lT)),Y_=qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uT=lf(Y_,qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),V1=qa("script,style,template");class j1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!q_.hasOwnProperty(e))return this.sanitizedSomething=!0,!V1.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),l=o.name,c=l.toLowerCase();if(!uT.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;Y_[c]&&(u=Ep(u)),this.buf.push(" ",l,'="',dT(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();q_.hasOwnProperty(e)&&!aT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dT(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const H1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Z1=/([^\#-~ |!])/g;function dT(n){return n.replace(/&/g,"&amp;").replace(H1,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Z1,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tp;function fT(n,t){let e=null;try{Tp=Tp||function sT(n){const t=new L1(n);return function B1(){try{return!!(new window.DOMParser).parseFromString(Mu(""),"text/html")}catch{return!1}}()?new F1(t):t}(n);let r=t?String(t):"";e=Tp.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Tp.getInertBodyElement(r)}while(r!==o);return Mu((new j1).sanitizeChildren($_(e)||e))}finally{if(e){const r=$_(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function $_(n){return"content"in n&&function z1(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var jr=(()=>((jr=jr||{})[jr.NONE=0]="NONE",jr[jr.HTML=1]="HTML",jr[jr.STYLE=2]="STYLE",jr[jr.SCRIPT=3]="SCRIPT",jr[jr.URL=4]="URL",jr[jr.RESOURCE_URL=5]="RESOURCE_URL",jr))();function W_(n){const t=cf();return t?rT(t.sanitize(jr.HTML,n)||""):ha(n,"HTML")?rT(fs(n)):fT(af(),On(n))}function hT(n){const t=cf();return t?t.sanitize(jr.STYLE,n)||"":ha(n,"Style")?fs(n):On(n)}function Ru(n){const t=cf();return t?t.sanitize(jr.URL,n)||"":ha(n,"URL")?fs(n):Ep(On(n))}function pT(n){const t=cf();if(t)return oT(t.sanitize(jr.RESOURCE_URL,n)||"");if(ha(n,"ResourceURL"))return oT(fs(n));throw new Lt(904,!1)}function cf(){const n=de();return n&&n[ja].sanitizer}class dn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=an({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const uf=new dn("ENVIRONMENT_INITIALIZER"),gT=new dn("INJECTOR",-1),_T=new dn("INJECTOR_DEF_TYPES");class yT{get(t,e=vl){if(e===vl){const r=new Error(`NullInjectorError: No provider for ${hi(t)}!`);throw r.name="NullInjectorError",r}return e}}function wp(n){return{\u0275providers:n}}function W1(...n){return{\u0275providers:vT(0,n),\u0275fromNgModule:!0}}function vT(n,...t){const e=[],r=new Set;let i;return Xd(t,o=>{const l=o;K_(l,e,[],r)&&(i||=[],i.push(l))}),void 0!==i&&bT(i,e),e}function bT(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];X_(i,o=>{t.push(o)})}}function K_(n,t,e,r){if(!(n=mn(n)))return!1;let i=null,o=wd(n);const l=!o&&xr(n);if(o||l){if(l&&!l.standalone)return!1;i=n}else{const u=n.ngModule;if(o=wd(u),!o)return!1;i=u}const c=r.has(i);if(l){if(c)return!1;if(r.add(i),l.dependencies){const u="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const g of u)K_(g,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let g;r.add(i);try{Xd(o.imports,D=>{K_(D,t,e,r)&&(g||=[],g.push(D))})}finally{}void 0!==g&&bT(g,t)}if(!c){const g=Za(i)||(()=>new i);t.push({provide:i,useFactory:g,deps:Ur},{provide:_T,useValue:i,multi:!0},{provide:uf,useValue:()=>Ut(i),multi:!0})}const u=o.providers;null==u||c||X_(u,D=>{t.push(D)})}}return i!==n&&void 0!==n.providers}function X_(n,t){for(let e of n)qr(e)&&(e=e.\u0275providers),Array.isArray(e)?X_(e,t):t(e)}const K1=kr({provide:String,useValue:kr});function Q_(n){return null!==n&&"object"==typeof n&&K1 in n}function mc(n){return"function"==typeof n}const J_=new dn("Set Injector scope."),Sp={},Q1={};let ey;function Cp(){return void 0===ey&&(ey=new yT),ey}class pa{}class ty extends pa{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ry(t,l=>this.processProvider(l)),this.records.set(gT,xu(void 0,this)),i.has("environment")&&this.records.set(pa,xu(void 0,this));const o=this.records.get(J_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_T.multi,Ur,rr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Gs(this),r=Eo(void 0);try{return t()}finally{Gs(e),Eo(r)}}get(t,e=vl,r=rr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Rd))return t[Rd](this);r=nc(r);const i=Gs(this),o=Eo(void 0);try{if(!(r&rr.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function rO(n){return"function"==typeof n||"object"==typeof n&&n instanceof dn}(t)&&La(t);c=u&&this.injectableDefInScope(u)?xu(ny(t),Sp):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&rr.Self?Cp():this.parent).get(t,e=r&rr.Optional&&e===vl?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[Qc]=l[Qc]||[]).unshift(hi(t)),i)throw l;return function Vh(n,t,e,r){const i=n[Qc];throw t[Dd]&&i.unshift(t[Dd]),n.message=function Zg(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=hi(t);if(Array.isArray(t))i=t.map(hi).join(" -> ");else if("object"==typeof t){let o=[];for(let l in t)if(t.hasOwnProperty(l)){let c=t[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):hi(c)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Bh,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Qc]=null,n}(l,t,"R3InjectorError",this.source)}throw l}finally{Eo(o),Gs(i)}}resolveInjectorInitializers(){const t=Gs(this),e=Eo(void 0);try{const r=this.get(uf.multi,Ur,rr.Self);for(const i of r)i()}finally{Gs(t),Eo(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(hi(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Lt(205,!1)}processProvider(t){let e=mc(t=mn(t))?t:mn(t&&t.provide);const r=function eO(n){return Q_(n)?xu(void 0,n.useValue):xu(wT(n),Sp)}(t);if(mc(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=xu(void 0,Sp,!0),i.factory=()=>Md(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===Sp&&(e.value=Q1,e.value=e.factory()),"object"==typeof e.value&&e.value&&function nO(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=mn(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function ny(n){const t=La(n),e=null!==t?t.factory:Za(n);if(null!==e)return e;if(n instanceof dn)throw new Lt(204,!1);if(n instanceof Function)return function J1(n){const t=n.length;if(t>0)throw Qd(t,"?"),new Lt(204,!1);const e=function Bg(n){return n&&(n[Wc]||n[Fh])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Lt(204,!1)}function wT(n,t,e){let r;if(mc(n)){const i=mn(n);return Za(i)||ny(i)}if(Q_(n))r=()=>mn(n.useValue);else if(function TT(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Md(n.deps||[]));else if(function ET(n){return!(!n||!n.useExisting)}(n))r=()=>Ut(mn(n.useExisting));else{const i=mn(n&&(n.useClass||n.provide));if(!function tO(n){return!!n.deps}(n))return Za(i)||ny(i);r=()=>new i(...Md(n.deps))}return r}function xu(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function ry(n,t){for(const e of n)Array.isArray(e)?ry(e,t):e&&qr(e)?ry(e.\u0275providers,t):t(e)}const Ap=new dn("AppId",{providedIn:"root",factory:()=>iO}),iO="ng",ST=new dn("Platform Initializer"),gc=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ea=new dn("AnimationModuleType"),iy=new dn("CSP nonce",{providedIn:"root",factory:()=>af().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let AT=(n,t)=>null;function DT(n,t){return AT(n,t)}class pO{}class RT{}class gO{resolveComponentFactory(t){throw function mO(n){const t=Error(`No component factory found for ${hi(n)}.`);return t.ngComponent=n,t}(t)}}let pf=(()=>{class n{}return n.NULL=new gO,n})();function _O(){return Nu(_e(),de())}function Nu(n,t){return new Nr(So(n,t))}let Nr=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=_O,n})();function yO(n){return n instanceof Nr?n.nativeElement:n}class mf{}let Ya=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function vO(){const n=de(),e=Co(_e().index,n);return(jo(e)?e:n)[fr]}(),n})(),bO=(()=>{class n{}return n.\u0275prov=an({token:n,providedIn:"root",factory:()=>null}),n})();class _c{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const EO=new _c("16.0.0"),my={};function gf(n){for(;n;){n[dr]|=64;const t=nf(n);if(Ud(n)&&!t)return n;n=t}return null}function gy(n){return n.ngOriginalError}class ma{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&gy(t);for(;e&&gy(e);)e=gy(e);return e||null}}const kT=new dn("",{providedIn:"root",factory:()=>!1});function $a(n){return n instanceof Function?n():n}class BT extends np{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){gf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,e,r){const i=Gi(this);this.trackingVersion++;try{t(e,r)}finally{Gi(i)}}destroy(){this.trackingVersion++}}let Op=null;function UT(){return Op??=new BT,Op}function VT(n,t){return n[t]??UT()}function jT(n,t){const e=UT();e.hasReadASignal&&(n[t]=Op,e.lView=n,Op=new BT)}const _r={};function rn(n){HT(z(),de(),gn()+n,!1)}function HT(n,t,e,r){if(!r)if(3==(3&t[dr])){const o=n.preOrderCheckHooks;null!==o&&vn(t,o,e)}else{const o=n.preOrderHooks;null!==o&&mt(t,o,0,e)}hn(e)}function qT(n,t=null,e=null,r){const i=YT(n,t,e,r);return i.resolveInjectorInitializers(),i}function YT(n,t=null,e=null,r,i=new Set){const o=[e||Ur,W1(n)];return r=r||("object"==typeof n?void 0:hi(n)),new ty(o,t||Cp(),r||null,i)}let hs=(()=>{class n{static create(e,r){if(Array.isArray(e))return qT({name:""},r,e,"");{const i=e.name??"";return qT({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=vl,n.NULL=new yT,n.\u0275prov=an({token:n,providedIn:"any",factory:()=>Ut(gT)}),n.__NG_ELEMENT_ID__=-1,n})();function bt(n,t=rr.Default){const e=de();return null===e?Ut(n,t):yr(_e(),e,mn(n),t)}function Pp(){throw new Error("invalid")}function kp(n,t,e,r,i,o,l,c,u,g,D){const q=t.blueprint.slice();return q[Ni]=i,q[dr]=140|r,(null!==g||n&&2048&n[dr])&&(q[dr]|=2048),uc(q),q[pi]=q[Sl]=n,q[yi]=e,q[ja]=l||n&&n[ja],q[fr]=c||n&&n[fr],q[Va]=u||n&&n[Va]||null,q[mo]=o,q[Dl]=function $N(){return YN++}(),q[Ks]=D,q[$h]=g,q[Ci]=2==t.type?n[Ci]:q,q}function ku(n,t,e,r,i){let o=n.data[t];if(null===o)o=function _y(n,t,e,r,i){const o=C(),l=Z(),u=n.data[t]=function HO(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(l?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,t,e,r,i),function Je(){return R.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const l=function Y(){const n=R.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return K(o,!0),o}function _f(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function $T(n,t,e,r,i){const o=VT(t,Il),l=gn(),c=2&r;try{if(hn(-1),c&&t.length>Mr&&HT(n,t,Mr,!1),Os(c?2:0,i),c)o.runInContext(e,r,i);else{const g=Gi(null);try{e(r,i)}finally{Gi(g)}}}finally{c&&null===t[Il]&&jT(t,Il),hn(l),Os(c?3:1,i)}}function yy(n,t,e){if(ac(t)){const r=Gi(null);try{const o=t.directiveEnd;for(let l=t.directiveStart;l<o;l++){const c=n.data[l];c.contentQueries&&c.contentQueries(1,e[l],l)}}finally{Gi(r)}}}function vy(n,t,e){ee()&&(function WO(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;Ha(e)&&function nP(n,t,e){const r=So(t,n),l=Fp(n,kp(n,WT(e),null,e.onPush?64:16,r,t,null,n[ja].rendererFactory.createRenderer(r,e),null,null,null));n[t.index]=l}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Js(e,t),Oo(r,t);const l=e.initialInputs;for(let c=i;c<o;c++){const u=n.data[c],g=Io(t,n,c,e);Oo(g,t),null!==l&&rP(0,c-i,g,u,0,l),Xo(u)&&(Co(e.index,t)[yi]=Io(t,n,c,e))}}(n,t,e,So(e,t)),64==(64&e.flags)&&ew(n,t,e))}function by(n,t,e=So){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],c=-1===l?e(t,n):n[l];n[i++]=c}}}function WT(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Ey(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Ey(n,t,e,r,i,o,l,c,u,g,D){const q=Mr+r,be=q+i,Me=function FO(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:_r);return e}(q,be),xe="function"==typeof g?g():g;return Me[Pn]={type:n,blueprint:Me,template:e,queries:null,viewQuery:c,declTNode:t,data:Me.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:u,consts:xe,incompleteFirstPass:!1,ssrId:D}}let KT=n=>null;function XT(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=null===e?{}:e;const o=n[i];null===r?QT(e,t,i,o):r.hasOwnProperty(i)&&QT(e,t,r[i],o)}return e}function QT(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function ps(n,t,e,r,i,o,l,c){const u=So(t,e);let D,g=t.inputs;!c&&null!=g&&(D=g[r])?(Ay(n,e,D,r,i),Ha(t)&&function GO(n,t){const e=Co(t,n);16&e[dr]||(e[dr]|=64)}(e,t.index)):3&t.type&&(r=function zO(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=l?l(i,t.value||"",r):i,o.setProperty(u,r,i))}function Ty(n,t,e,r){if(ee()){const i=null===r?null:{"":-1},o=function XO(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const l=e[o];if(su(t,l.selectors,!1))if(r||(r=[]),Xo(l))if(null!==l.findHostDirectiveDefs){const c=[];i=i||new Map,l.findHostDirectiveDefs(l,c,i),r.unshift(...c,l),wy(n,t,c.length)}else r.unshift(l),wy(n,t,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,r,i),r.push(l)}return null===r?null:[r,i]}(n,e);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&JT(n,t,e,l,i,c),i&&function QO(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new Lt(-301,!1);r.push(t[i],o)}}}(e,r,i)}e.mergedAttrs=rc(e.mergedAttrs,e.attrs)}function JT(n,t,e,r,i,o){for(let g=0;g<r.length;g++)$t(Js(e,t),n,r[g].type);!function eP(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let g=0;g<r.length;g++){const D=r[g];D.providersResolver&&D.providersResolver(D)}let l=!1,c=!1,u=_f(n,t,r.length,null);for(let g=0;g<r.length;g++){const D=r[g];e.mergedAttrs=rc(e.mergedAttrs,D.hostAttrs),tP(n,e,t,u,D),JO(u,D,i),null!==D.contentQueries&&(e.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(e.flags|=64);const q=D.type.prototype;!l&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!c&&(q.ngOnChanges||q.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),c=!0),u++}!function ZO(n,t,e){const i=t.directiveEnd,o=n.data,l=t.attrs,c=[];let u=null,g=null;for(let D=t.directiveStart;D<i;D++){const q=o[D],be=e?e.get(q):null,xe=be?be.outputs:null;u=XT(q.inputs,D,u,be?be.inputs:null),g=XT(q.outputs,D,g,xe);const qe=null===u||null===l||iu(t)?null:iP(u,D,l);c.push(qe)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=g}(n,e,o)}function ew(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,l=function Bt(){return R.lFrame.currentDirectiveIndex}();try{hn(o);for(let c=r;c<i;c++){const u=n.data[c],g=t[c];vt(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&KO(u,g)}}finally{hn(-1),vt(l)}}function KO(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function wy(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function JO(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Xo(t)&&(e[""]=n)}}function tP(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=Za(i.type)),l=new It(o,Xo(i),bt);n.blueprint[r]=l,e[r]=l,function YO(n,t,e,r,i){const o=i.hostBindings;if(o){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~t.index;(function $O(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=c&&l.push(c),l.push(e,r,o)}}(n,t,r,_f(n,e,i.hostVars,_r),i)}function ga(n,t,e,r,i,o){const l=So(n,t);!function Sy(n,t,e,r,i,o,l){if(null==o)n.removeAttribute(t,i,e);else{const c=null==l?On(o):l(o,r||"",i);n.setAttribute(t,i,c,e)}}(t[fr],l,o,n.value,e,r,i)}function rP(n,t,e,r,i,o){const l=o[t];if(null!==l)for(let c=0;c<l.length;)tw(r,e,l[c++],l[c++],l[c++])}function tw(n,t,e,r,i){const o=Gi(null);try{null!==n.setInput?n.setInput(t,i,e,r):t[r]=i}finally{Gi(o)}}function iP(n,t,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const l=n[o];for(let c=0;c<l.length;c+=2)if(l[c]===t){r.push(o,l[c+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nw(n,t,e,r){return[n,!0,!1,t,null,0,r,e,null,null,null]}function rw(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const l=n.data[o];tn(e[r]),l.contentQueries(2,t[o],o)}}}function Fp(n,t){return n[ic]?n[Ld][Uo]=t:n[ic]=t,n[Ld]=t,t}function Cy(n,t,e){tn(0);const r=Gi(null);try{t(n,e)}finally{Gi(r)}}function iw(n){return n[$s]||(n[$s]=[])}function ow(n){return n.cleanup||(n.cleanup=[])}function aw(n,t){const e=n[Va],r=e?e.get(ma,null):null;r&&r.handleError(t)}function Ay(n,t,e,r,i){for(let o=0;o<e.length;){const l=e[o++],c=e[o++];tw(n.data[l],t[l],r,c,i)}}function Wa(n,t,e){const r=vu(t,n);!function H0(n,t,e){n.setValue(t,e)}(n[fr],r,e)}function oP(n,t){const e=Co(t,n),r=e[Pn];!function sP(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(r,e);const i=e[Ni];null!==i&&null===e[Ks]&&(e[Ks]=DT(i,e[Va])),Dy(r,e,e[yi])}function Dy(n,t,e){Qe(t);try{const r=n.viewQuery;null!==r&&Cy(1,r,e);const i=n.template;null!==i&&$T(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&rw(n,t),n.staticViewQueries&&Cy(2,n.viewQuery,e);const o=n.components;null!==o&&function aP(n,t){for(let e=0;e<t.length;e++)oP(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[dr]&=-5,kt()}}let lw=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const o=typeof Zone>"u"?null:Zone.current,l=new Gd(e,g=>{this.all.has(g)&&this.queue.set(g,o)},i);let c;this.all.add(l),l.notify();const u=()=>{l.cleanup(),c?.(),this.all.delete(l),this.queue.delete(l)};return c=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=an({token:n,providedIn:"root",factory:()=>new n}),n})();function Lp(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?o=c:1==o?i=Oa(i,c):2==o&&(r=Oa(r,c+": "+t[++l]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function yf(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(ai(o)),To(o)){for(let c=eo;c<o.length;c++){const u=o[c],g=u[Pn].firstChild;null!==g&&yf(u[Pn],u,g,r)}o[Vo]!==o[Ni]&&r.push(o[Vo])}const l=e.type;if(8&l)yf(n,t,e.child,r);else if(32&l){const c=O_(e,t);let u;for(;u=c();)r.push(u)}else if(16&l){const c=Q0(t,e);if(Array.isArray(c))r.push(...c);else{const u=nf(t[Ci]);yf(u[Pn],u,c,r,!0)}}e=i?e.projectionNext:e.next}return r}function Bp(n,t,e,r=!0){const i=t[ja].rendererFactory;i.begin&&i.begin();try{Up(n,t,n.template,e)}catch(l){throw r&&aw(t,l),l}finally{i.end&&i.end(),t[ja].effectManager?.flush()}}function Up(n,t,e,r){const i=t[dr];if(256!=(256&i)){t[ja].effectManager?.flush(),Qe(t);try{uc(t),function Re(n){return R.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&$T(n,t,e,2,r);const l=3==(3&i);if(l){const g=n.preOrderCheckHooks;null!==g&&vn(t,g,null)}else{const g=n.preOrderHooks;null!==g&&mt(t,g,0,null),Ht(t,0)}if(function hP(n){for(let t=P_(n);null!==t;t=k_(t)){if(!t[Bd])continue;const e=t[Ml];for(let r=0;r<e.length;r++){v_(e[r])}}}(t),function fP(n){for(let t=P_(n);null!==t;t=k_(t))for(let e=eo;e<t.length;e++){const r=t[e],i=r[Pn];cc(r)&&Up(i,r,i.template,r[yi])}}(t),null!==n.contentQueries&&rw(n,t),l){const g=n.contentCheckHooks;null!==g&&vn(t,g)}else{const g=n.contentHooks;null!==g&&mt(t,g,1),Ht(t,1)}!function kO(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const r=VT(t,oc);try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)hn(~o);else{const l=o,c=e[++i],u=e[++i];nt(c,l),r.runInContext(u,2,t[l])}}}finally{null===t[oc]&&jT(t,oc),hn(-1)}}(n,t);const c=n.components;null!==c&&function mP(n,t){for(let e=0;e<t.length;e++)pP(n,t[e])}(t,c);const u=n.viewQuery;if(null!==u&&Cy(2,u,r),l){const g=n.viewCheckHooks;null!==g&&vn(t,g)}else{const g=n.viewHooks;null!==g&&mt(t,g,2),Ht(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[dr]&=-73,y(t)}finally{kt()}}}function pP(n,t){const e=Co(t,n);if(cc(e)){const r=e[Pn];80&e[dr]?Up(r,e,r.template,e[yi]):e[Ys]>0&&Iy(e)}}function Iy(n){for(let r=P_(n);null!==r;r=k_(r))for(let i=eo;i<r.length;i++){const o=r[i];if(cc(o))if(1024&o[dr]){const l=o[Pn];Up(l,o,l.template,o[yi])}else o[Ys]>0&&Iy(o)}const e=n[Pn].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Co(e[r],n);cc(i)&&i[Ys]>0&&Iy(i)}}class vf{get rootNodes(){const t=this._lView,e=t[Pn];return yf(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yi]}set context(t){this._lView[yi]=t}get destroyed(){return 256==(256&this._lView[dr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[pi];if(To(t)){const e=t[sc],r=e?e.indexOf(this):-1;r>-1&&(L_(t,r),up(e,r))}this._attachedToViewContainer=!1}z0(this._lView[Pn],this._lView)}onDestroy(t){!function b(n,t){if(256==(256&n[dr]))throw new Lt(911,!1);null===n[Ws]&&(n[Ws]=[]),n[Ws].push(t)}(this._lView,t)}markForCheck(){gf(this._cdRefInjectingView||this._lView)}detach(){this._lView[dr]&=-129}reattach(){this._lView[dr]|=128}detectChanges(){Bp(this._lView[Pn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function c1(n,t){sf(n,t,t[fr],2,null,null)}(this._lView[Pn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Lt(902,!1);this._appRef=t}}class gP extends vf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Bp(t[Pn],t,t[yi],!1)}checkNoChanges(){}get context(){return null}}class cw extends pf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=xr(t);return new bf(e,this.ngModule)}}function uw(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class yP{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=nc(r);const i=this.injector.get(t,my,r);return i!==my||e===my?i:this.parentInjector.get(t,e,r)}}class bf extends RT{get inputs(){return uw(this.componentDef.inputs)}get outputs(){return uw(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Yg(n){return n.map(Od).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof pa?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new yP(t,o):t,c=l.get(mf,null);if(null===c)throw new Lt(407,!1);const D={rendererFactory:c,sanitizer:l.get(bO,null),effectManager:l.get(lw,null)},q=c.createRenderer(null,this.componentDef),be=this.componentDef.selectors[0][0]||"div",Me=r?function LO(n,t,e,r){const o=r.get(kT,!1)||e===po.ShadowDom,l=n.selectRootElement(t,o);return function BO(n){KT(n)}(l),l}(q,r,this.componentDef.encapsulation,l):mp(q,be,function _P(n){const t=n.toLowerCase();return"svg"===t?yu:"math"===t?"math":null}(be)),xe=this.componentDef.onPush?576:528,qe=Ey(0,null,null,1,0,null,null,null,null,null,null),ct=kp(null,qe,null,xe,null,null,D,q,l,null,null);let Nt,Ct;Qe(ct);try{const cn=this.componentDef;let pn,Bn=null;cn.findHostDirectiveDefs?(pn=[],Bn=new Map,cn.findHostDirectiveDefs(cn,pn,Bn),pn.push(cn)):pn=[cn];const ci=function bP(n,t){const e=n[Pn],r=Mr;return n[r]=t,ku(e,r,2,"#host",null)}(ct,Me),Qi=function EP(n,t,e,r,i,o,l){const c=i[Pn];!function TP(n,t,e,r){for(const i of n)t.mergedAttrs=rc(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Lp(t,t.mergedAttrs,!0),null!==e&&nT(r,e,t))}(r,n,t,l);let u=null;null!==t&&(u=DT(t,i[Va]));const g=o.rendererFactory.createRenderer(t,e),D=kp(i,WT(e),null,e.onPush?64:16,i[n.index],n,o,g,null,null,u);return c.firstCreatePass&&wy(c,n,r.length-1),Fp(i,D),i[n.index]=D}(ci,Me,cn,pn,ct,D,q);Ct=$d(qe,Mr),Me&&function SP(n,t,e,r){if(r)Ua(n,e,["ng-version",EO.full]);else{const{attrs:i,classes:o}=function cu(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!cs(i))break;i=o}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&Ua(n,e,i),o&&o.length>0&&tT(n,e,o.join(" "))}}(q,cn,Me,r),void 0!==e&&function CP(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(Ct,this.ngContentSelectors,e),Nt=function wP(n,t,e,r,i,o){const l=_e(),c=i[Pn],u=So(l,i);JT(c,i,l,e,null,r);for(let D=0;D<e.length;D++)Oo(Io(i,c,l.directiveStart+D,l),i);ew(c,i,l),u&&Oo(u,i);const g=Io(i,c,l.directiveStart+l.componentOffset,l);if(n[yi]=i[yi]=g,null!==o)for(const D of o)D(g,t);return yy(c,l,n),g}(Qi,cn,pn,Bn,ct,[AP]),Dy(qe,ct,null)}finally{kt()}return new vP(this.componentType,Nt,Nu(Ct,ct),ct,Ct)}}class vP extends pO{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new gP(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;Ay(o[Pn],o,i,t,e),this.previousInputValues.set(t,e),gf(Co(this._tNode.index,o))}}get injector(){return new bu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function AP(){const n=_e();wn(de()[Pn],n)}function wr(n){let t=function dw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(Xo(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Lt(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const l=n;l.inputs=My(n.inputs),l.declaredInputs=My(n.declaredInputs),l.outputs=My(n.outputs);const c=i.hostBindings;c&&RP(n,c);const u=i.viewQuery,g=i.contentQueries;if(u&&IP(n,u),g&&MP(n,g),Na(n.inputs,i.inputs),Na(n.declaredInputs,i.declaredInputs),Na(n.outputs,i.outputs),Xo(i)&&i.data.animation){const D=n.data;D.animation=(D.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(n),c===wr&&(e=!1)}}t=Object.getPrototypeOf(t)}!function DP(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=rc(i.hostAttrs,e=rc(e,i.hostAttrs))}}(r)}function My(n){return n===ls?{}:n===Ur?[]:n}function IP(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function MP(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function RP(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}function Vp(n){return!!Ry(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ry(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function _a(n,t,e){return n[t]=e}function Po(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function yc(n,t,e,r){const i=Po(n,t,e);return Po(n,t+1,r)||i}function di(n,t,e,r){const i=de();return Po(i,Be(),t)&&(z(),ga(ln(),i,n,t,e,r)),di}function Bu(n,t,e,r,i,o){const c=yc(n,function X(){return R.lFrame.bindingIndex}(),e,i);return je(2),c?t+On(e)+r+On(i)+o:_r}function kn(n,t,e,r,i,o,l,c){const u=de(),g=z(),D=n+Mr,q=g.firstCreatePass?function tk(n,t,e,r,i,o,l,c,u){const g=t.consts,D=ku(t,n,4,l||null,Ps(g,c));Ty(t,e,D,Ps(g,u)),wn(t,D);const q=D.tView=Ey(2,D,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,g,null);return null!==t.queries&&(t.queries.template(t,D),q.queries=t.queries.embeddedTView(D)),D}(D,g,u,t,e,r,i,o,l):g.data[D];K(q,!1);const be=Dw(g,u,q,n);hr()&&_p(g,u,be,q),Oo(be,u),Fp(u,u[D]=nw(be,u,be,q)),hu(q)&&vy(g,u,q),null!=l&&by(u,q,c)}let Dw=function Iw(n,t,e,r){return Pt(!0),t[fr].createComment("")};function io(n){return Ol(function ae(){return R.lFrame.contextLView}(),Mr+n)}function Wt(n,t,e){const r=de();return Po(r,Be(),t)&&ps(z(),ln(),r,n,t,r[fr],e,!1),Wt}function Fy(n,t,e,r,i){const l=i?"class":"style";Ay(n,e,t.inputs[l],l,r)}function _n(n,t,e,r){const i=de(),o=z(),l=Mr+n,c=i[fr],u=o.firstCreatePass?function ok(n,t,e,r,i,o){const l=t.consts,u=ku(t,n,2,r,Ps(l,i));return Ty(t,e,u,Ps(l,o)),null!==u.attrs&&Lp(u,u.attrs,!1),null!==u.mergedAttrs&&Lp(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(l,o,i,t,e,r):o.data[l],g=Mw(o,i,u,c,t,n);i[l]=g;const D=hu(u);return K(u,!0),nT(c,g,u),32!=(32&u.flags)&&hr()&&_p(o,i,g,u),0===function j(){return R.lFrame.elementDepthCount}()&&Oo(g,i),function J(){R.lFrame.elementDepthCount++}(),D&&(vy(o,i,u),yy(o,u,i)),null!==r&&by(i,u),_n}function Tn(){let n=_e();Z()?U():(n=n.parent,K(n,!1));const t=n;(function re(n){return R.skipHydrationRootTNode===n})(t)&&function Te(){R.skipHydrationRootTNode=null}(),function ie(){R.lFrame.elementDepthCount--}();const e=z();return e.firstCreatePass&&(wn(e,n),ac(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function to(n){return 0!=(8&n.flags)}(t)&&Fy(e,t,de(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Zr(n){return 0!=(16&n.flags)}(t)&&Fy(e,t,de(),t.stylesWithoutHost,!1),Tn}function Yn(n,t,e,r){return _n(n,t,e,r),Tn(),Yn}let Mw=(n,t,e,r,i,o)=>(Pt(!0),mp(r,i,function mr(){return R.lFrame.currentNamespace}()));function ya(n,t,e){const r=de(),i=z(),o=n+Mr,l=i.firstCreatePass?function lk(n,t,e,r,i){const o=t.consts,l=Ps(o,r),c=ku(t,n,8,"ng-container",l);return null!==l&&Lp(c,l,!0),Ty(t,e,c,Ps(o,i)),null!==t.queries&&t.queries.elementStart(t,c),c}(o,i,r,t,e):i.data[o];K(l,!0);const c=Rw(i,r,l,n);return r[o]=c,hr()&&_p(i,r,c,l),Oo(c,r),hu(l)&&(vy(i,r,l),yy(i,l,r)),null!=e&&by(r,l),ya}function va(){let n=_e();const t=z();return Z()?U():(n=n.parent,K(n,!1)),t.firstCreatePass&&(wn(t,n),ac(n)&&t.queries.elementEnd(n)),va}function Cf(n,t,e){return ya(n,t,e),va(),Cf}let Rw=(n,t,e,r)=>(Pt(!0),F_(t[fr],""));function oo(){return de()}function Af(n){return!!n&&"function"==typeof n.then}function xw(n){return!!n&&"function"==typeof n.subscribe}function br(n,t,e,r){const i=de(),o=z(),l=_e();return function Ow(n,t,e,r,i,o,l){const c=hu(r),g=n.firstCreatePass&&ow(n),D=t[yi],q=iw(t);let be=!0;if(3&r.type||l){const qe=So(r,t),ct=l?l(qe):qe,Nt=q.length,Ct=l?pn=>l(ai(pn[r.index])):r.index;let cn=null;if(!l&&c&&(cn=function dk(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===e&&i[o+1]===r){const c=t[$s],u=i[o+2];return c.length>u?c[u]:null}"string"==typeof l&&(o+=2)}return null}(n,t,i,r.index)),null!==cn)(cn.__ngLastListenerFn__||cn).__ngNextListenerFn__=o,cn.__ngLastListenerFn__=o,be=!1;else{o=kw(r,t,D,o,!1);const pn=e.listen(ct,i,o);q.push(o,pn),g&&g.push(i,Ct,Nt,Nt+1)}}else o=kw(r,t,D,o,!1);const Me=r.outputs;let xe;if(be&&null!==Me&&(xe=Me[i])){const qe=xe.length;if(qe)for(let ct=0;ct<qe;ct+=2){const Bn=t[xe[ct]][xe[ct+1]].subscribe(o),ci=q.length;q.push(o,Bn),g&&g.push(i,r.index,ci,-(ci+1))}}}(o,i,i[fr],l,n,t,r),br}function Pw(n,t,e,r){try{return Os(6,t,e),!1!==e(r)}catch(i){return aw(n,i),!1}finally{Os(7,t,e)}}function kw(n,t,e,r,i){return function o(l){if(l===Function)return r;gf(n.componentOffset>-1?Co(n.index,t):t);let u=Pw(t,e,r,l),g=o.__ngNextListenerFn__;for(;g;)u=Pw(t,e,g,l)&&u,g=g.__ngNextListenerFn__;return i&&!1===u&&(l.preventDefault(),l.returnValue=!1),u}}function zn(n=1){return function Yt(n){return(R.lFrame.contextLView=function Mn(n,t){for(;n>0;)t=t[Sl],n--;return t}(n,R.lFrame.contextLView))[yi]}(n)}function fk(n,t){let e=null;const r=function Gg(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?su(n,o,!0):qg(r,o))return i}else e=i}return e}function Ka(n){const t=de()[Ci][mo];if(!t.projection){const r=t.projection=Qd(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const l=n?fk(o,n):0;null!==l&&(i[l]?i[l].projectionNext=o:r[l]=o,i[l]=o),o=o.next}}}function Bi(n,t=0,e){const r=de(),i=z(),o=ku(i,Mr+n,16,null,e||null);null===o.projection&&(o.projection=t),U(),(!r[Ks]||function V(){return null!==R.skipHydrationRootTNode}())&&32!=(32&o.flags)&&function _1(n,t,e){eT(t[fr],0,t,e,U_(n,e,t),$0(e.parent||t[mo],e,t))}(i,r,o)}function Gp(n,t){return n<<17|t<<2}function Ll(n){return n>>17&32767}function By(n){return 2|n}function vc(n){return(131068&n)>>2}function Uy(n,t){return-131069&n|t<<2}function Vy(n){return 1|n}function Gw(n,t,e,r,i){const o=n[e+1],l=null===t;let c=r?Ll(o):vc(o),u=!1;for(;0!==c&&(!1===u||l);){const D=n[c+1];yk(n[c],t)&&(u=!0,n[c+1]=r?Vy(D):By(D)),c=r?Ll(D):vc(D)}u&&(n[e+1]=r?By(o):Vy(o))}function yk(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Au(n,t)>=0}function bc(n,t,e){return ta(n,t,e,!1),bc}function qi(n,t){return ta(n,t,null,!0),qi}function ta(n,t,e,r){const i=de(),o=z(),l=je(2);o.firstUpdatePass&&function Jw(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[gn()],l=function Qw(n,t){return t>=n.expandoStartIndex}(n,e);(function rS(n,t){return 0!=(n.flags&(t?8:16))})(o,r)&&null===t&&!l&&(t=!1),t=function Dk(n,t,e,r){const i=function Dt(n){const t=R.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=Df(e=jy(null,n,t,e,r),t.attrs,r),o=null);else{const l=t.directiveStylingLast;if(-1===l||n[l]!==i)if(e=jy(i,n,t,e,r),null===o){let u=function Ik(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==vc(r))return n[Ll(r)]}(n,t,r);void 0!==u&&Array.isArray(u)&&(u=jy(null,n,t,u[1],r),u=Df(u,t.attrs,r),function Mk(n,t,e,r){n[Ll(e?t.classBindings:t.styleBindings)]=r}(n,t,r,u))}else o=function Rk(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Df(r,n[o].hostAttrs,e);return Df(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function gk(n,t,e,r,i,o){let l=o?t.classBindings:t.styleBindings,c=Ll(l),u=vc(l);n[r]=e;let D,g=!1;if(Array.isArray(e)?(D=e[1],(null===D||Au(e,D)>0)&&(g=!0)):D=e,i)if(0!==u){const be=Ll(n[c+1]);n[r+1]=Gp(be,c),0!==be&&(n[be+1]=Uy(n[be+1],r)),n[c+1]=function pk(n,t){return 131071&n|t<<17}(n[c+1],r)}else n[r+1]=Gp(c,0),0!==c&&(n[c+1]=Uy(n[c+1],r)),c=r;else n[r+1]=Gp(u,0),0===c?c=r:n[u+1]=Uy(n[u+1],r),u=r;g&&(n[r+1]=By(n[r+1])),Gw(n,D,r,!0),Gw(n,D,r,!1),function _k(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Au(o,t)>=0&&(e[r+1]=Vy(e[r+1]))}(t,D,n,r,o),l=Gp(c,u),o?t.classBindings=l:t.styleBindings=l}(i,o,t,e,l,r)}}(o,n,l,r),t!==_r&&Po(i,l,t)&&function tS(n,t,e,r,i,o,l,c){if(!(3&t.type))return;const u=n.data,g=u[c+1],D=function mk(n){return 1==(1&n)}(g)?nS(u,t,e,i,vc(g),l):void 0;qp(D)||(qp(o)||function hk(n){return 2==(2&n)}(g)&&(o=nS(u,null,e,i,c,l)),function v1(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:es.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=es.Important),n.setStyle(e,r,i,o))}}(r,l,vu(gn(),e),i,o))}(o,o.data[gn()],i,i[fr],n,i[l+1]=function Pk(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=hi(fs(n)))),n}(t,e),r,l)}function jy(n,t,e,r,i){let o=null;const l=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<l&&(o=t[c],r=Df(r,o.hostAttrs,i),o!==n);)c++;return null!==n&&(e.directiveStylingLast=c),r}function Df(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?i=l:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ds(n,l,!!e||t[++o]))}return void 0===n?null:n}function nS(n,t,e,r,i,o){const l=null===t;let c;for(;i>0;){const u=n[i],g=Array.isArray(u),D=g?u[1]:u,q=null===D;let be=e[i+1];be===_r&&(be=q?Ur:void 0);let Me=q?T_(be,r):D===r?be:void 0;if(g&&!qp(Me)&&(Me=T_(u,r)),qp(Me)&&(c=Me,l))return c;const xe=n[i+1];i=l?Ll(xe):vc(xe)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(c=T_(u,r))}return c}function qp(n){return void 0!==n}function Pr(n,t=""){const e=de(),r=z(),i=n+Mr,o=r.firstCreatePass?ku(r,i,1,t,null):r.data[i],l=iS(r,e,o,t,n);e[i]=l,hr()&&_p(r,e,l,o),K(o,!1)}let iS=(n,t,e,r,i)=>(Pt(!0),function pp(n,t){return n.createText(t)}(t[fr],r));function Zo(n){return Mo("",n,""),Zo}function Mo(n,t,e){const r=de(),i=function Lu(n,t,e,r){return Po(n,Be(),e)?t+On(e)+r:_r}(r,n,t,e);return i!==_r&&Wa(r,gn(),i),Mo}function Yp(n,t,e,r,i){const o=de(),l=Bu(o,n,t,e,r,i);return l!==_r&&Wa(o,gn(),l),Yp}function If(n,t,e){const r=de();return Po(r,Be(),t)&&ps(z(),ln(),r,n,t,r[fr],e,!0),If}const Yu="en-US";let SS=Yu;function zy(n,t,e,r,i){if(n=mn(n),Array.isArray(n))for(let o=0;o<n.length;o++)zy(n[o],t,e,r,i);else{const o=z(),l=de();let c=mc(n)?n:mn(n.provide),u=wT(n);const g=_e(),D=1048575&g.providerIndexes,q=g.directiveStart,be=g.providerIndexes>>20;if(mc(n)||!n.multi){const Me=new It(u,i,bt),xe=qy(c,t,i?D:D+be,q);-1===xe?($t(Js(g,l),o,c),Gy(o,n,t.length),t.push(c),g.directiveStart++,g.directiveEnd++,i&&(g.providerIndexes+=1048576),e.push(Me),l.push(Me)):(e[xe]=Me,l[xe]=Me)}else{const Me=qy(c,t,D+be,q),xe=qy(c,t,D,D+be),ct=xe>=0&&e[xe];if(i&&!ct||!i&&!(Me>=0&&e[Me])){$t(Js(g,l),o,c);const Nt=function eL(n,t,e,r,i){const o=new It(n,e,bt);return o.multi=[],o.index=t,o.componentProviders=0,WS(o,i,r&&!e),o}(i?JF:QF,e.length,i,r,u);!i&&ct&&(e[xe].providerFactory=Nt),Gy(o,n,t.length,0),t.push(c),g.directiveStart++,g.directiveEnd++,i&&(g.providerIndexes+=1048576),e.push(Nt),l.push(Nt)}else Gy(o,n,Me>-1?Me:xe,WS(e[i?xe:Me],u,!i&&r));!i&&r&&ct&&e[xe].componentProviders++}}}function Gy(n,t,e,r){const i=mc(t),o=function X1(n){return!!n.useClass}(t);if(i||o){const u=(o?mn(t.useClass):t).prototype.ngOnDestroy;if(u){const g=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const D=g.indexOf(e);-1===D?g.push(e,[r,u]):g[D+1].push(r,u)}else g.push(e,u)}}}function WS(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function qy(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function QF(n,t,e,r){return Yy(this.multi,[])}function JF(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=Io(e,e[Pn],this.providerFactory.index,r);o=c.slice(0,l),Yy(i,o);for(let u=l;u<c.length;u++)o.push(c[u])}else o=[],Yy(i,o);return o}function Yy(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Qr(n,t=[]){return e=>{e.providersResolver=(r,i)=>function XF(n,t,e){const r=z();if(r.firstCreatePass){const i=Xo(n);zy(e,r.data,r.blueprint,i,!0),zy(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class $u{}class KS{}class $y extends $u{constructor(t,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cw(this);const i=Bo(t);this._bootstrapComponents=$a(i.bootstrap),this._r3Injector=YT(t,e,[{provide:$u,useValue:this},{provide:pf,useValue:this.componentFactoryResolver},...r],hi(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wy extends KS{constructor(t){super(),this.moduleType=t}create(t){return new $y(this.moduleType,t,[])}}class XS extends $u{constructor(t){super(),this.componentFactoryResolver=new cw(this),this.instance=null;const e=new ty([...t.providers,{provide:$u,useValue:this},{provide:pf,useValue:this.componentFactoryResolver}],t.parent||Cp(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ky(n,t,e=null){return new XS({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let rL=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=vT(0,e.type),i=r.length>0?Ky([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=an({token:n,providedIn:"environment",factory:()=>new n(Ut(pa))}),n})();function ni(n){n.getStandaloneInjector=t=>t.get(rL).getOrCreateStandaloneInjector(n)}function ra(n,t,e,r){return iC(de(),B(),n,t,e,r)}function Qy(n,t,e,r,i){return function oC(n,t,e,r,i,o,l){const c=t+e;return yc(n,c,i,o)?_a(n,c+2,l?r.call(l,i,o):r(i,o)):Pf(n,c+2)}(de(),B(),n,t,e,r,i)}function Pf(n,t){const e=n[t];return e===_r?void 0:e}function iC(n,t,e,r,i,o){const l=t+e;return Po(n,l,i)?_a(n,l+1,o?r.call(o,i):r(i)):Pf(n,l+1)}function vi(n,t){const e=z();let r;const i=n+Mr;e.firstCreatePass?(r=function bL(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=Za(r.type)),l=Eo(bt);try{const c=Jo(!1),u=o();return Jo(c),function ik(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,de(),i,u),u}finally{Eo(l)}}function bi(n,t,e){const r=n+Mr,i=de(),o=Ol(i,r);return function kf(n,t){return n[Pn].data[t].pure}(i,r)?iC(i,B(),t,o.transform,e,o):o.transform(e)}function Jy(n){return t=>{setTimeout(n,void 0,t)}}const ri=class CL extends ht{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),l=r;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),o=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(o=Jy(o),i&&(i=Jy(i)),l&&(l=Jy(l)));const c=super.subscribe({next:i,error:o,complete:l});return t instanceof L&&t.add(c),c}};function AL(){return this._results[Symbol.iterator]()}class Wu{get changes(){return this._changes||(this._changes=new ri)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Wu.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=AL)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=function Ls(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function EN(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ta=(()=>{class n{}return n.__NG_ELEMENT_ID__=ML,n})();const DL=Ta,IL=class extends DL{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e,null)}createEmbeddedViewImpl(t,e,r){const i=this._declarationTContainer.tView,o=kp(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,e||null,r||null);o[Cl]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[xs];return null!==c&&(o[xs]=c.createEmbeddedView(i)),Dy(i,o,t),new vf(o)}};function ML(){return Qp(_e(),de())}function Qp(n,t){return 4&n.type?new IL(t,n,Nu(n,t)):null}let ms=(()=>{class n{}return n.__NG_ELEMENT_ID__=FL,n})();function FL(){return pC(_e(),de())}const LL=ms,fC=class extends LL{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Nu(this._hostTNode,this._hostLView)}get injector(){return new bu(this._hostTNode,this._hostLView)}get parentInjector(){const t=_t(this._hostTNode,this._hostLView);if(ks(t)){const e=Qo(t,this._hostLView),r=Fs(t);return new bu(e[Pn].data[r+8],e)}return new bu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=hC(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-eo}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const c=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(c,i,!1),c}createComponent(t,e,r,i,o){const l=t&&!function Kd(n){return"function"==typeof n}(t);let c;if(l)c=e;else{const xe=e||{};c=xe.index,r=xe.injector,i=xe.projectableNodes,o=xe.environmentInjector||xe.ngModuleRef}const u=l?t:new bf(xr(t)),g=r||this.parentInjector;if(!o&&null==u.ngModule){const qe=(l?g:this.parentInjector).get(pa,null);qe&&(o=qe)}xr(u.componentType??{});const Me=u.create(g,i,null,o);return this.insertImpl(Me.hostView,c,!1),Me}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,r){const i=t._lView,o=i[Pn];if(function y_(n){return To(n[pi])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const g=i[pi],D=new fC(g,g[mo],g[pi]);D.detach(D.indexOf(t))}}const l=this._adjustIndex(e),c=this._lContainer;if(function d1(n,t,e,r){const i=eo+r,o=e.length;r>0&&(e[i-1][Uo]=t),r<o-eo?(t[Uo]=e[i],T0(e,eo+r,t)):(e.push(t),t[Uo]=null),t[pi]=e;const l=t[Cl];null!==l&&e!==l&&function f1(n,t){const e=n[Ml];t[Ci]!==t[pi][pi][Ci]&&(n[Bd]=!0),null===e?n[Ml]=[t]:e.push(t)}(l,t);const c=t[xs];null!==c&&c.insertView(n),t[dr]|=128}(o,i,c,l),!r){const u=j_(l,c),g=i[fr],D=gp(g,c[Vo]);null!==D&&function l1(n,t,e,r,i,o){r[Ni]=i,r[mo]=t,sf(n,r,e,1,i,o)}(o,c[mo],g,i,D,u)}return t.attachToViewContainerRef(),T0(tv(c),l,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=hC(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=L_(this._lContainer,e);r&&(up(tv(this._lContainer),e),z0(r[Pn],r))}detach(t){const e=this._adjustIndex(t,-1),r=L_(this._lContainer,e);return r&&null!=up(tv(this._lContainer),e)?new vf(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function hC(n){return n[sc]}function tv(n){return n[sc]||(n[sc]=[])}function pC(n,t){let e;const r=t[n.index];return To(r)?e=r:(e=nw(r,t,null,n),t[n.index]=e,Fp(t,e)),mC(e,t,n,r),new fC(e,n,t)}let mC=function gC(n,t,e,r){if(n[Vo])return;let i;i=8&e.type?ai(r):function BL(n,t){const e=n[fr],r=e.createComment(""),i=So(t,n);return hc(e,gp(e,i),r,function g1(n,t){return n.nextSibling(t)}(e,i),!1),r}(t,e),n[Vo]=i};class nv{constructor(t){this.queryList=t,this.matches=null}clone(){return new nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const l=e.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new rv(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==EC(t,e).matches&&this.queries[e].setDirty()}}class _C{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class iv{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new iv(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ov{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ov(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,jL(e,o)),this.matchTNodeWithReadOption(t,e,Lr(e,t,o,!1,!1))}else r===Ta?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Lr(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Nr||i===ms||i===Ta&&4&e.type)this.addMatch(e.index,-2);else{const o=Lr(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function jL(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function ZL(n,t,e,r){return-1===e?function HL(n,t){return 11&n.type?Nu(n,t):4&n.type?Qp(n,t):null}(t,n):-2===e?function zL(n,t,e){return e===Nr?Nu(t,n):e===Ta?Qp(t,n):e===ms?pC(t,n):void 0}(n,t,r):Io(n,n[Pn],e,t)}function yC(n,t,e,r){const i=t[xs].queries[r];if(null===i.matches){const o=n.data,l=e.matches,c=[];for(let u=0;u<l.length;u+=2){const g=l[u];c.push(g<0?null:ZL(t,o[g],l[u+1],e.metadata.read))}i.matches=c}return i.matches}function sv(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const l=yC(n,t,i,e);for(let c=0;c<o.length;c+=2){const u=o[c];if(u>0)r.push(l[c/2]);else{const g=o[c+1],D=t[-u];for(let q=eo;q<D.length;q++){const be=D[q];be[Cl]===be[pi]&&sv(be[Pn],be,g,r)}if(null!==D[Ml]){const q=D[Ml];for(let be=0;be<q.length;be++){const Me=q[be];sv(Me[Pn],Me,g,r)}}}}}return r}function mi(n){const t=de(),e=z(),r=qt();tn(r+1);const i=EC(e,r);if(n.dirty&&function __(n){return 4==(4&n[dr])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?sv(e,t,r,[]):yC(e,t,i,r);n.reset(o,yO),n.notifyOnChanges()}return!0}return!1}function gs(n,t,e){const r=z();r.firstCreatePass&&(bC(r,new _C(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),vC(r,de(),t)}function _s(n,t,e,r){const i=z();if(i.firstCreatePass){const o=_e();bC(i,new _C(t,e,r),o.index),function qL(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}vC(i,de(),e)}function gi(){return function GL(n,t){return n[xs].queries[t].queryList}(de(),qt())}function vC(n,t,e){const r=new Wu(4==(4&e));(function jO(n,t,e,r){const i=iw(t);i.push(e),n.firstCreatePass&&ow(n).push(r,i.length-1)})(n,t,r,r.destroy),null===t[xs]&&(t[xs]=new rv),t[xs].queries.push(new nv(r))}function bC(n,t,e){null===n.queries&&(n.queries=new iv),n.queries.track(new ov(t,e))}function EC(n,t){return n.queries.getByIndex(t)}function av(n,t){return Qp(n,t)}const em=new dn("Application Initializer");let hv=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=Kt(em,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const o=i();if(Af(o))e.push(o);else if(xw(o)){const l=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});e.push(l)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BC=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const wa=new dn("LocaleId",{providedIn:"root",factory:()=>Kt(wa,rr.Optional|rr.SkipSelf)||function p2(){return typeof $localize<"u"&&$localize.locale||Yu}()});class g2{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let UC=(()=>{class n{compileModuleSync(e){return new Wy(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=$a(Bo(e).declarations).reduce((l,c)=>{const u=xr(c);return u&&l.push(new bf(u)),l},[]);return new g2(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v2=(()=>Promise.resolve(0))();function HC(...n){}class lr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ri(!1),this.onMicrotaskEmpty=new ri(!1),this.onStable=new ri(!1),this.onError=new ri(!1),typeof Zone>"u")throw new Lt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function b2(){let n=ti.requestAnimationFrame,t=ti.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function w2(n){const t=()=>{!function T2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ti,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,gv(n),n.isCheckStableRunning=!0,mv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),gv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,l,c)=>{try{return ZC(n),e.invokeTask(i,o,l,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),zC(n)}},onInvoke:(e,r,i,o,l,c,u)=>{try{return ZC(n),e.invoke(i,o,l,c,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),zC(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,gv(n),mv(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lr.isInAngularZone())throw new Lt(909,!1)}static assertNotInAngularZone(){if(lr.isInAngularZone())throw new Lt(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,t,E2,HC,HC);try{return o.runTask(l,e,r)}finally{o.cancelTask(l)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const E2={};function mv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ZC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zC(n){n._nesting--,mv(n)}const GC=new dn("",{providedIn:"root",factory:qC});function qC(){const n=Kt(lr);let t=!0;return ui(new We(i=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(t),i.complete()})}),new We(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{lr.assertNotInAngularZone(),function pv(n){typeof Zone>"u"?v2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const l=n.onUnstable.subscribe(()=>{lr.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),l.unsubscribe()}}).pipe(tc()))}const YC=new dn("");let Bl=null;const bv=new dn("PlatformDestroyListeners"),nm=new dn("appBootstrapListener");class KC{constructor(t,e){this.name=t,this.token=e}}function R2(n){const{rootComponent:t,appProviders:e,platformProviders:r}=n,i=function M2(n=[]){if(Bl)return Bl;const t=function QC(n=[],t){return hs.create({name:t,providers:[{provide:J_,useValue:"platform"},{provide:bv,useValue:new Set([()=>Bl=null])},...n]})}(n);return Bl=t,function WC(){!function d_(n){rp=n}(()=>{throw new Lt(600,!1)})}(),function XC(n){n.get(ST,null)?.forEach(e=>e())}(t),t}(r),o=[k2(),...e||[]],c=new XS({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(lr);return u.run(()=>{c.resolveInjectorInitializers();const g=c.get(ma,null);let D;u.runOutsideAngular(()=>{D=u.onError.subscribe({next:Me=>{g.handleError(Me)}})});const q=()=>c.destroy(),be=i.get(bv);return be.add(q),c.onDestroy(()=>{D.unsubscribe(),be.delete(q)}),function tA(n,t,e){try{const r=e();return Af(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(g,u,()=>{const Me=c.get(hv);return Me.runInitializers(),Me.donePromise.then(()=>{!function CS(n){bo(n,"Expected localeId to be defined"),"string"==typeof n&&(SS=n.toLowerCase().replace(/_/g,"-"))}(c.get(wa,Yu)||Yu);const qe=c.get(Ul);return void 0!==t&&qe.bootstrap(t),qe})})})}let Ul=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(iA),this.componentTypes=[],this.components=[],this.isStable=Kt(GC),this._injector=Kt(pa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof RT;if(!this._injector.get(hv).done)throw!i&&function qs(n){const t=xr(n)||zi(n)||No(n);return null!==t&&t.standalone}(e),new Lt(405,!1);let l;l=i?e:this._injector.get(pf).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const c=function D2(n){return n.isBoundToModule}(l)?void 0:this._injector.get($u),g=l.create(hs.NULL,[],r||l.selector,c),D=g.location.nativeElement,q=g.injector.get(YC,null);return q?.registerApplication(D),g.onDestroy(()=>{this.detachView(g.hostView),rm(this.components,g),q?.unregisterApplication(D)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Lt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;rm(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(nm,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>rm(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Lt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const iA=new dn("",{providedIn:"root",factory:()=>Kt(ma).handleError.bind(void 0)});function O2(){const n=Kt(lr),t=Kt(ma);return e=>n.runOutsideAngular(()=>t.handleError(e))}let P2=(()=>{class n{constructor(){this.zone=Kt(lr),this.applicationRef=Kt(Ul)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oA(n){return[{provide:lr,useFactory:n},{provide:uf,multi:!0,useFactory:()=>{const t=Kt(P2,{optional:!0});return()=>t.initialize()}},{provide:iA,useFactory:O2},{provide:GC,useFactory:qC}]}function k2(n){return wp([[],oA(()=>new lr(function eA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}let ys=(()=>{class n{}return n.__NG_ELEMENT_ID__=F2,n})();function F2(n){return function L2(n,t,e){if(Ha(n)&&!e){const r=Co(n.index,t);return new vf(r,r)}return 47&n.type?new vf(t[Ci],t):null}(_e(),de(),16==(16&n))}class cA{constructor(){}supports(t){return Vp(t)}create(t){return new Z2(t)}}const H2=(n,t)=>t;class Z2{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||H2}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const l=!r||e&&e.currentIndex<dA(r,i,o)?e:r,c=dA(l,i,o),u=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{o||(o=[]);const g=c-i,D=u-i;if(g!=D){for(let be=0;be<g;be++){const Me=be<o.length?o[be]:o[be]=0,xe=Me+be;D<=xe&&xe<g&&(o[be]=Me+1)}o[l.previousIndex]=D-g}}c!==u&&t(l,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Vp(t))throw new Lt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,l,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],l=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,o,l,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,l,c),r=!0),e=e._next}else i=0,function LP(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,c=>{l=this._trackByFn(i,c),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,c,l,i)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new z2(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new uA),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class z2{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G2{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class uA{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new G2,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dA(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class fA{constructor(){}supports(t){return t instanceof Map||Ry(t)}create(){return new q2}}class q2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ry(t)))throw new Lt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const r=new Y2(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class Y2{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hA(){return new sm([new cA])}let sm=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||hA()),deps:[[n,new Jd,new fc]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Lt(901,!1)}}return n.\u0275prov=an({token:n,providedIn:"root",factory:hA}),n})();function pA(){return new Lf([new fA])}let Lf=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||pA()),deps:[[n,new Jd,new fc]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Lt(901,!1)}}return n.\u0275prov=an({token:n,providedIn:"root",factory:pA}),n})(),bA=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=Kt(lr),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(e=>{this.resolve=e})})}add(){if(this.completed)return-1;const e=this.taskId++;return this.collection.add(e),e}remove(e){this.completed||(this.collection.delete(e),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qu(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Iv=null;function Vl(){return Iv}class aB{}const Sr=new dn("DocumentToken");let Mv=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:function(){return function lB(){return Ut(TA)}()},providedIn:"platform"}),n})();const cB=new dn("Location Initialized");let TA=(()=>{class n extends Mv{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vl().getBaseHref(this._doc)}onPopState(e){const r=Vl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Vl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){wA()?this._history.pushState(e,r,i):this._location.hash=i}replaceState(e,r,i){wA()?this._history.replaceState(e,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr))},n.\u0275prov=an({token:n,factory:function(){return function uB(){return new TA(Ut(Sr))}()},providedIn:"platform"}),n})();function wA(){return!!window.history.pushState}function Rv(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function SA(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Xa(n){return n&&"?"!==n[0]?"?"+n:n}let wc=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:function(){return Kt(AA)},providedIn:"root"}),n})();const CA=new dn("appBaseHref");let AA=(()=>{class n extends wc{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Kt(Sr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Rv(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Xa(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const l=this.prepareExternalUrl(i+Xa(o));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){const l=this.prepareExternalUrl(i+Xa(o));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(Ut(Mv),Ut(CA,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dB=(()=>{class n extends wc{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Rv(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let l=this.prepareExternalUrl(i+Xa(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){let l=this.prepareExternalUrl(i+Xa(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(Ut(Mv),Ut(CA,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})(),lm=(()=>{class n{constructor(e){this._subject=new ri,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function pB(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(SA(DA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Xa(r))}normalize(e){return n.stripTrailingSlash(function hB(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,DA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xa(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xa(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=Xa,n.joinWithSlash=Rv,n.stripTrailingSlash=SA,n.\u0275fac=function(e){return new(e||n)(Ut(wc))},n.\u0275prov=an({token:n,factory:function(){return function fB(){return new lm(Ut(wc))}()},providedIn:"root"}),n})();function DA(n){return n.replace(/\/index.html$/,"")}function FA(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}const Vv=/\s+/,LA=[];let Ju=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=LA,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Vv):LA}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Vv):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Vv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(bt(sm),bt(Lf),bt(Nr),bt(Ya))},n.\u0275dir=jn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class QB{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jl=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new QB(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===o?void 0:o);else if(null!==o){const c=r.get(o);r.move(c,l),UA(c,i)}});for(let i=0,o=r.length;i<o;i++){const c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{UA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(bt(ms),bt(Ta),bt(sm))},n.\u0275dir=jn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function UA(n,t){n.context.$implicit=t.item}let lo=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new JB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){VA("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){VA("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(bt(ms),bt(Ta))},n.\u0275dir=jn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class JB{constructor(){this.$implicit=null,this.ngIf=null}}function VA(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${hi(t)}'.`)}class jv{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ym=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=jn({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),jA=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new jv(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(bt(ms),bt(Ta),bt(ym,9))},n.\u0275dir=jn({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Vf=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split("."),l=-1===i.indexOf("-")?void 0:es.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(Lf),bt(Ya))},n.\u0275dir=jn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Hv=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(i,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(bt(ms))},n.\u0275dir=jn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[wo]}),n})();class nU{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class rU{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const iU=new rU,oU=new nU;let Sc=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Af(e))return iU;if(xw(e))return oU;throw function sa(n,t){return new Lt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(bt(ys,16))},n.\u0275pipe=Li({name:"async",type:n,pure:!1,standalone:!0}),n})(),Di=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({}),n})();const zA="browser";function GA(n){return"server"===n}let DU=(()=>{class n{}return n.\u0275prov=an({token:n,providedIn:"root",factory:()=>new IU(Ut(Sr),window)}),n})();class IU{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function MU(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=qA(this.window.history)||qA(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qA(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class YA{}class nV extends aB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yv extends nV{static makeCurrent(){!function sB(n){Iv||(Iv=n)}(new Yv)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function rV(){return Hf=Hf||document.querySelector("base"),Hf?Hf.getAttribute("href"):null}();return null==e?null:function iV(n){Em=Em||document.createElement("a"),Em.setAttribute("href",n);const t=Em.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return FA(document.cookie,t)}}let Em,Hf=null,sV=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();const $v=new dn("EventManagerPlugins");let QA=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const l=i[o];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Ut($v),Ut(lr))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();class JA{constructor(t){this._doc=t}}const Wv="ng-app-id";let eD=(()=>{class n{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=GA(o),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Wv}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(Wv),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Wv,this.appId),l}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const o=this.styleRef,l=o.get(r)?.elements;l?l.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr),Ut(Ap),Ut(iy,8),Ut(gc))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();const Kv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xv=/%COMP%/g,uV=new dn("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function nD(n,t){return t.map(e=>e.replace(Xv,n))}let Qv=(()=>{class n{constructor(e,r,i,o,l,c,u,g=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=l,this.platformId=c,this.ngZone=u,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=GA(c),this.defaultRenderer=new Jv(e,l,u,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===po.ShadowDom&&(r={...r,encapsulation:po.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof iD?i.applyToHost(e):i instanceof eb&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const l=this.doc,c=this.ngZone,u=this.eventManager,g=this.sharedStylesHost,D=this.removeStylesOnCompDestory,q=this.platformIsServer;switch(r.encapsulation){case po.Emulated:o=new iD(u,g,r,this.appId,D,l,c,q);break;case po.ShadowDom:return new pV(u,g,e,r,l,c,this.nonce,q);default:o=new eb(u,g,r,D,l,c,q)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(Ut(QA),Ut(eD),Ut(Ap),Ut(uV),Ut(Sr),Ut(gc),Ut(lr),Ut(iy))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();class Jv{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Kv[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(rD(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(rD(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=Kv[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Kv[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(es.DashCase|es.Important)?t.style.setProperty(e,r,i&es.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&es.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=Vl().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&(e.preventDefault(),e.returnValue=!1)}}}function rD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pV extends Jv{constructor(t,e,r,i,o,l,c,u){super(t,o,l,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=nD(i.id,i.styles);for(const D of g){const q=document.createElement("style");c&&q.setAttribute("nonce",c),q.textContent=D,this.shadowRoot.appendChild(q)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class eb extends Jv{constructor(t,e,r,i,o,l,c,u){super(t,o,l,c),this.sharedStylesHost=e,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?nD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class iD extends eb{constructor(t,e,r,i,o,l,c,u){const g=i+"-"+r.id;super(t,e,r,o,l,c,u,g),this.contentAttr=function dV(n){return"_ngcontent-%COMP%".replace(Xv,n)}(g),this.hostAttr=function fV(n){return"_nghost-%COMP%".replace(Xv,n)}(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}const oD=["alt","control","meta","shift"],gV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_V={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function sD(n){return{appProviders:[...CV,...n?.providers??[]],platformProviders:wV}}const wV=[{provide:gc,useValue:zA},{provide:ST,useValue:function bV(){Yv.makeCurrent()},multi:!0},{provide:Sr,useFactory:function TV(){return function S1(n){z_=n}(document),document},deps:[]}],CV=[{provide:J_,useValue:"root"},{provide:ma,useFactory:function EV(){return new ma},deps:[]},{provide:$v,useClass:(()=>{class n extends JA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Sr,lr,gc]},{provide:$v,useClass:(()=>{class n extends JA{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),l=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vl().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let l="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),l="code."),oD.forEach(g=>{const D=r.indexOf(g);D>-1&&(r.splice(D,1),l+=g+".")}),l+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=l,u}static matchEventFullKeyCode(e,r){let i=gV[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oD.forEach(l=>{l!==i&&(0,_V[l])(e)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Sr]},Qv,eD,QA,{provide:mf,useExisting:Qv},{provide:YA,useClass:sV,deps:[]},[]];let aD=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr))},n.\u0275prov=an({token:n,factory:function(e){let r=null;return r=e?new e:function DV(){return new aD(Ut(Sr))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ja=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:function(e){let r=null;return r=e?new(e||n):Ut(uD),r},providedIn:"root"}),n})(),uD=(()=>{class n extends Ja{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case jr.NONE:return r;case jr.HTML:return ha(r,"HTML")?fs(r):fT(this._doc,String(r)).toString();case jr.STYLE:return ha(r,"Style")?fs(r):r;case jr.SCRIPT:if(ha(r,"Script"))return fs(r);throw new Error("unsafe value used in a script context");case jr.URL:return ha(r,"URL")?fs(r):Ep(String(r));case jr.RESOURCE_URL:if(ha(r,"ResourceURL"))return fs(r);throw new Error(`unsafe value used in a resource URL context (see ${Fr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${Fr})`)}}bypassSecurityTrustHtml(e){return function x1(n){return new C1(n)}(e)}bypassSecurityTrustStyle(e){return function N1(n){return new A1(n)}(e)}bypassSecurityTrustScript(e){return function O1(n){return new D1(n)}(e)}bypassSecurityTrustUrl(e){return function P1(n){return new I1(n)}(e)}bypassSecurityTrustResourceUrl(e){return function k1(n){return new M1(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr))},n.\u0275prov=an({token:n,factory:function(e){let r=null;return r=e?new e:function xV(n){return new uD(n.get(Sr))}(Ut(hs)),r},providedIn:"root"}),n})();function nr(...n){return Gr(n,Hn(n))}function ed(n,t){return Kn(t)?Dn(n,t,1):Dn(n,1)}function Wi(n,t){return St((e,r)=>{let i=0;e.subscribe(Ye(r,o=>n.call(t,o,i++)&&r.next(o)))})}class Tm{}class nb{}class Sa{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=e.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Sa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Sa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Sa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(c=>-1===o.indexOf(c)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class NV{encodeKey(t){return fD(t)}encodeValue(t){return fD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const PV=/%(\d[a-f0-9])/gi,kV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fD(n){return encodeURIComponent(n).replace(PV,(t,e)=>kV[e]??t)}function wm(n){return`${n}`}class Zl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new NV,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function OV(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,c]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],u=e.get(l)||[];u.push(c),e.set(l,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(wm):[wm(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Zl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wm(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(wm(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class FV{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function hD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pD(n){return typeof Blob<"u"&&n instanceof Blob}function mD(n){return typeof FormData<"u"&&n instanceof FormData}class Zf{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function LV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Sa),this.context||(this.context=new FV),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+l}}else this.params=new Zl,this.urlWithParams=e}serializeBody(){return null===this.body?null:hD(this.body)||pD(this.body)||mD(this.body)||function BV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mD(this.body)?null:pD(this.body)?this.body.type||null:hD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,g=t.params||this.params;const D=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((q,be)=>q.set(be,t.setHeaders[be]),u)),t.setParams&&(g=Object.keys(t.setParams).reduce((q,be)=>q.set(be,t.setParams[be]),g)),new Zf(e,r,o,{params:g,headers:u,context:D,reportProgress:c,responseType:i,withCredentials:l})}}var Ki=(()=>((Ki=Ki||{})[Ki.Sent=0]="Sent",Ki[Ki.UploadProgress=1]="UploadProgress",Ki[Ki.ResponseHeader=2]="ResponseHeader",Ki[Ki.DownloadProgress=3]="DownloadProgress",Ki[Ki.Response=4]="Response",Ki[Ki.User=5]="User",Ki))();class rb{constructor(t,e=200,r="OK"){this.headers=t.headers||new Sa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ib extends rb{constructor(t={}){super(t),this.type=Ki.ResponseHeader}clone(t={}){return new ib({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Cc extends rb{constructor(t={}){super(t),this.type=Ki.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Cc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zf extends rb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function ob(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sb=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Zf)o=e;else{let u,g;u=i.headers instanceof Sa?i.headers:new Sa(i.headers),i.params&&(g=i.params instanceof Zl?i.params:new Zl({fromObject:i.params})),o=new Zf(e,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=nr(o).pipe(ed(u=>this.handler.handle(u)));if(e instanceof Zf||"events"===i.observe)return l;const c=l.pipe(Wi(u=>u instanceof Cc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(me(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(me(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(me(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(me(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Zl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,ob(i,r))}post(e,r,i={}){return this.request("POST",e,ob(i,r))}put(e,r,i={}){return this.request("PUT",e,ob(i,r))}}return n.\u0275fac=function(e){return new(e||n)(Ut(Tm))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();function gD(n,t){return t(n)}function UV(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}const Gf=new dn(""),qf=new dn(""),_D=new dn("");function jV(){let n=null;return(t,e)=>(null===n&&(n=(Kt(Gf,{optional:!0})??[]).reduceRight(UV,gD)),n(t,e))}let yD=(()=>{class n extends Tm{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(qf),...this.injector.get(_D,[])]));this.chain=r.reduceRight((i,o)=>function VV(n,t,e){return(r,i)=>e.runInContext(()=>t(r,o=>n(o,i)))}(i,o,this.injector),gD)}return this.chain(e,r=>this.backend.handle(r))}}return n.\u0275fac=function(e){return new(e||n)(Ut(nb),Ut(pa))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();const GV=/^\)\]\}',?\n/;let bD=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new We(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((ct,Nt)=>i.setRequestHeader(ct,Nt.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ct=e.detectContentTypeHeader();null!==ct&&i.setRequestHeader("Content-Type",ct)}if(e.responseType){const ct=e.responseType.toLowerCase();i.responseType="json"!==ct?ct:"text"}const o=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const ct=i.statusText||"OK",Nt=new Sa(i.getAllResponseHeaders()),Ct=function qV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return l=new ib({headers:Nt,status:i.status,statusText:ct,url:Ct}),l},u=()=>{let{headers:ct,status:Nt,statusText:Ct,url:cn}=c(),pn=null;204!==Nt&&(pn=typeof i.response>"u"?i.responseText:i.response),0===Nt&&(Nt=pn?200:0);let Bn=Nt>=200&&Nt<300;if("json"===e.responseType&&"string"==typeof pn){const ci=pn;pn=pn.replace(GV,"");try{pn=""!==pn?JSON.parse(pn):null}catch(Qi){pn=ci,Bn&&(Bn=!1,pn={error:Qi,text:pn})}}Bn?(r.next(new Cc({body:pn,headers:ct,status:Nt,statusText:Ct,url:cn||void 0})),r.complete()):r.error(new zf({error:pn,headers:ct,status:Nt,statusText:Ct,url:cn||void 0}))},g=ct=>{const{url:Nt}=c(),Ct=new zf({error:ct,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Nt||void 0});r.error(Ct)};let D=!1;const q=ct=>{D||(r.next(c()),D=!0);let Nt={type:Ki.DownloadProgress,loaded:ct.loaded};ct.lengthComputable&&(Nt.total=ct.total),"text"===e.responseType&&i.responseText&&(Nt.partialText=i.responseText),r.next(Nt)},be=ct=>{let Nt={type:Ki.UploadProgress,loaded:ct.loaded};ct.lengthComputable&&(Nt.total=ct.total),r.next(Nt)};let Me;i.addEventListener("load",u),i.addEventListener("error",g),i.addEventListener("timeout",g),i.addEventListener("abort",g),e.reportProgress&&(i.addEventListener("progress",q),null!==o&&i.upload&&i.upload.addEventListener("progress",be));const xe=()=>{Me??=function $V(){const n=setTimeout(()=>{},YV);return()=>clearTimeout(n)}()},qe=()=>{Me?.()};return i.addEventListener("loadstart",xe),i.addEventListener("loadend",qe),i.send(o),r.next({type:Ki.Sent}),()=>{i.removeEventListener("loadstart",xe),i.removeEventListener("loadend",qe),i.removeEventListener("error",g),i.removeEventListener("abort",g),i.removeEventListener("load",u),i.removeEventListener("timeout",g),Me?.(),e.reportProgress&&(i.removeEventListener("progress",q),null!==o&&i.upload&&i.upload.removeEventListener("progress",be)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(Ut(YA))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();const YV=2147483647,ab=new dn("XSRF_ENABLED"),ED=new dn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),TD=new dn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wD{}let XV=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=FA(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr),Ut(gc),Ut(ED))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();function QV(n,t){const e=n.url.toLowerCase();if(!Kt(ab)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=Kt(wD).getToken(),i=Kt(TD);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var ji=(()=>((ji=ji||{})[ji.Interceptors=0]="Interceptors",ji[ji.LegacyInterceptors=1]="LegacyInterceptors",ji[ji.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ji[ji.NoXsrfProtection=3]="NoXsrfProtection",ji[ji.JsonpSupport=4]="JsonpSupport",ji[ji.RequestsMadeViaParent=5]="RequestsMadeViaParent",ji))();const SD=new dn("LEGACY_INTERCEPTOR_FN"),a3=new dn("cdk-dir-doc",{providedIn:"root",factory:function l3(){return Kt(Sr)}}),c3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let lb,Sm=(()=>{class n{constructor(e){this.value="ltr",this.change=new ri,e&&(this.value=function u3(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?c3.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Ut(a3,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({}),n})();try{lb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lb=!1}let nd,co=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function AU(n){return n===zA}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Ut(gc))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CD=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function AD(){if(nd)return nd;if("object"!=typeof document||!document)return nd=new Set(CD),nd;let n=document.createElement("input");return nd=new Set(CD.filter(t=>(n.setAttribute("type",t),n.type===t))),nd}let Wf,Dc,cb;function Ac(n){return function d3(){if(null==Wf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wf=!0}))}finally{Wf=Wf||!1}return Wf}()?n:!!n.capture}function f3(){if(null==Dc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dc=!1,Dc;if("scrollBehavior"in document.documentElement.style)Dc=!0;else{const n=Element.prototype.scrollTo;Dc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Dc}function zl(n){return n.composedPath?n.composedPath()[0]:n.target}function ub(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ro(n){return St((t,e)=>{ft(n).subscribe(Ye(e,()=>e.complete(),m)),!e.closed&&t.subscribe(e)})}function js(n){return null!=n&&"false"!=`${n}`}function rd(n,t=0){return function m3(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Am(n){return Array.isArray(n)?n:[n]}function Xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function el(n){return n instanceof Nr?n.nativeElement:n}class DD{}class g3{}const tl="*";function Kf(n,t){return{type:7,name:n,definitions:t,options:{}}}function Gl(n,t=null){return{type:4,styles:t,timings:n}}function ID(n,t=null){return{type:2,steps:n,options:t}}function rs(n){return{type:6,styles:n,offset:null}}function Ic(n,t,e){return{type:0,name:n,styles:t,options:e}}function ql(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function MD(n){Promise.resolve().then(n)}class Xf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){MD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class RD{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?MD(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++r==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const db="!";class _3 extends L{constructor(t,e){super()}schedule(t,e=0){return this}}const Dm={setInterval(n,t,...e){const{delegate:r}=Dm;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Dm;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class fb extends _3{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Dm.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Dm.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,He(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const xD={now:()=>(xD.delegate||Date).now(),delegate:void 0};class Qf{constructor(t,e=Qf.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Qf.now=xD.now;class hb extends Qf{constructor(t,e=Qf.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const Im=new hb(fb),y3=Im;function Mm(n,t=Im){return St((e,r)=>{let i=null,o=null,l=null;const c=()=>{if(i){i.unsubscribe(),i=null;const g=o;o=null,r.next(g)}};function u(){const g=l+n,D=t.now();if(D<g)return i=this.schedule(void 0,g-D),void r.add(i);c()}e.subscribe(Ye(r,g=>{o=g,l=t.now(),i||(i=t.schedule(u,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}let ND=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v3=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=el(e);return new We(i=>{const l=this._observeElement(r).subscribe(i);return()=>{l.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new ht,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(Ut(ND))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b3=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=js(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=rd(e),this._subscribe()}constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new ri,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Mm(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(bt(v3),bt(Nr),bt(lr))},n.\u0275dir=jn({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),OD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({providers:[ND]}),n})();class vs extends ht{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function gb(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function zr(n,t,e){const r=Kn(n)||t||e?{next:n,error:t,complete:e}:n;return r?St((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let c=!0;i.subscribe(Ye(o,u=>{var g;null===(g=r.next)||void 0===g||g.call(r,u),o.next(u)},()=>{var u;c=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var g;c=!1,null===(g=r.error)||void 0===g||g.call(r,u),o.error(u)},()=>{var u,g;c&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(g=r.finalize)||void 0===g||g.call(r)}))}):ge}function LD(n){return Wi((t,e)=>n<=e)}function B3(n,t){return n===t}const{isArray:U3}=Array,{getPrototypeOf:V3,prototype:j3,keys:H3}=Object;function BD(n){if(1===n.length){const t=n[0];if(U3(t))return{args:t,keys:null};if(function Z3(n){return n&&"object"==typeof n&&V3(n)===j3}(t)){const e=H3(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:z3}=Array;function _b(n){return me(t=>function G3(n,t){return z3(t)?n(...t):n(t)}(n,t))}function UD(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Rm(...n){const t=Hn(n),e=Vn(n),{args:r,keys:i}=BD(n);if(0===r.length)return Gr([],t);const o=new We(function q3(n,t,e=ge){return r=>{VD(t,()=>{const{length:i}=n,o=new Array(i);let l=i,c=i;for(let u=0;u<i;u++)VD(t,()=>{const g=Gr(n[u],t);let D=!1;g.subscribe(Ye(r,q=>{o[u]=q,D||(D=!0,c--),c||r.next(e(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,i?l=>UD(i,l):ge));return e?o.pipe(_b(e)):o}function VD(n,t,e){n?un(e,n,t):t()}function Jf(...n){return function Y3(){return er(1)}()(Gr(n,Hn(n)))}function qo(n){return n<=0?()=>pr:St((t,e)=>{let r=0;t.subscribe(Ye(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function eh(...n){const t=Hn(n);return St((e,r)=>{(t?Jf(n,e,t):Jf(n,e)).subscribe(r)})}const jD=new Set;let Mc,$3=(()=>{class n{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):K3}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function W3(n,t){if(!jD.has(n))try{Mc||(Mc=document.createElement("style"),t&&(Mc.nonce=t),Mc.setAttribute("type","text/css"),document.head.appendChild(Mc)),Mc.sheet&&(Mc.sheet.insertRule(`@media ${n} {body{ }}`,0),jD.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(Ut(co),Ut(iy,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K3(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let X3=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new ht}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return HD(Am(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=Rm(HD(Am(e)).map(l=>this._registerQuery(l).observable));return o=Jf(o.pipe(qo(1)),o.pipe(LD(1),Mm(0))),o.pipe(me(l=>{const c={matches:!1,breakpoints:{}};return l.forEach(({matches:u,query:g})=>{c.matches=c.matches||u,c.breakpoints[g]=u}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new We(l=>{const c=u=>this._zone.run(()=>l.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(eh(r),me(({matches:l})=>({query:e,matches:l})),Ro(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(Ut($3),Ut(lr))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HD(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function xm(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const zD="cdk-describedby-message",Nm="cdk-describedby-host";let yb=0,ej=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+yb++,this._document=e,this._id=Kt(Ap)+"-"+yb++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=vb(r,i);"string"!=typeof r?(GD(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=vb(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Nm}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(Nm);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");GD(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(vb(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=xm(e,"aria-describedby").filter(i=>0!=i.indexOf(zD));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function Q3(n,t,e){const r=xm(n,t);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(Nm,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function J3(n,t,e){const i=xm(n,t).filter(o=>o!=e.trim());i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(Nm)}_isElementDescribedByMessage(e,r){const i=xm(e,"aria-describedby"),o=this._messageRegistry.get(r),l=o&&o.messageElement.id;return!!l&&-1!=i.indexOf(l)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr),Ut(co))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vb(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function GD(n,t){n.id||(n.id=`${zD}-${t}-${yb++}`)}class tj{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ht,this._typeaheadSubscription=L.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ht,this.change=new ht,t instanceof Wu&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(zr(e=>this._pressedLetters.push(e)),Mm(t),Wi(()=>this._pressedLetters.length>0),me(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,l=r[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((i||gb(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Wu?this._items.toArray():this._items}}class nj extends tj{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function bb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Eb(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const lj=new dn("cdk-input-modality-detector-options"),cj={ignoreKeys:[18,17,224,91,16]},id=Ac({passive:!0,capture:!0});let uj=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new vs(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(c=>c===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zl(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bb(l)?"keyboard":"mouse"),this._mostRecentTarget=zl(l))},this._onTouchstart=l=>{Eb(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zl(l))},this._options={...cj,...o},this.modalityDetected=this._modality.pipe(LD(1)),this.modalityChanged=this.modalityDetected.pipe(function L3(n,t=ge){return n=n??B3,St((e,r)=>{let i,o=!0;e.subscribe(Ye(r,l=>{const c=t(l);(o||!n(i,c))&&(o=!1,i=c,r.next(l))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,id),i.addEventListener("mousedown",this._onMousedown,id),i.addEventListener("touchstart",this._onTouchstart,id)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,id),document.removeEventListener("mousedown",this._onMousedown,id),document.removeEventListener("touchstart",this._onTouchstart,id))}}return n.\u0275fac=function(e){return new(e||n)(Ut(co),Ut(lr),Ut(Sr),Ut(lj,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fj=new dn("cdk-focus-monitor-default-options"),Om=Ac({passive:!0,capture:!0});let Pm=(()=>{class n{constructor(e,r,i,o,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht,this._rootNodeFocusAndBlurListener=c=>{for(let g=zl(c);g;g=g.parentElement)"focus"===c.type?this._onFocus(c,g):this._onBlur(c,g)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){const i=el(e);if(!this._platform.isBrowser||1!==i.nodeType)return nr(null);const o=function p3(n){if(function h3(){if(null==cb){const n=typeof document<"u"?document.head:null;cb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return cb}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const c={checkChildren:r,subject:new ht,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const r=el(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=el(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=zl(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Om),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Om)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ro(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Om),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Om),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(Ut(lr),Ut(co),Ut(uj),Ut(Sr,8),Ut(fj,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $D="cdk-high-contrast-black-on-white",WD="cdk-high-contrast-white-on-black",Tb="cdk-high-contrast-active";let KD=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=Kt(X3).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Tb,$D,WD),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Tb,$D):2===r&&e.add(Tb,WD)}}}return n.\u0275fac=function(e){return new(e||n)(Ut(co),Ut(Sr))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hj=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(Ut(KD))},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[OD]}),n})();const mj=new dn("mat-sanity-checks",{providedIn:"root",factory:function pj(){return!0}});let xo=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!ub()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(Ut(KD),Ut(mj,8),Ut(Sr))},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[$f,$f]}),n})();function JD(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=js(t)}constructor(...t){super(...t),this._disabled=!1}}}function km(n,t){return class extends n{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function eI(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=js(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function gj(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let tI=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yj{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nI=Ac({passive:!0,capture:!0});class vj{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=zl(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,r,i){const o=this._events.get(e);if(o){const l=o.get(r);l?l.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,nI)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,nI)))}}const rI={enterDuration:225,exitDuration:150},iI=Ac({passive:!0,capture:!0}),oI=["mousedown","touchstart"],sI=["mouseup","mouseleave","touchend","touchcancel"];class od{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=el(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...rI,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const l=r.radius||function Ej(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),c=t-i.left,u=e-i.top,g=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=c-l+"px",D.style.top=u-l+"px",D.style.height=2*l+"px",D.style.width=2*l+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(D);const q=window.getComputedStyle(D),Me=q.transitionDuration,xe="none"===q.transitionProperty||"0s"===Me||"0s, 0s"===Me||0===i.width&&0===i.height,qe=new yj(this,D,r,xe);D.style.transform="scale3d(1, 1, 1)",qe.state=0,r.persistent||(this._mostRecentTransientRipple=qe);let ct=null;return!xe&&(g||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Nt=()=>this._finishRippleTransition(qe),Ct=()=>this._destroyRipple(qe);D.addEventListener("transitionend",Nt),D.addEventListener("transitioncancel",Ct),ct={onTransitionEnd:Nt,onTransitionCancel:Ct}}),this._activeRipples.set(qe,ct),(xe||!g)&&this._finishRippleTransition(qe),qe}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...rI,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=el(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,oI.forEach(r=>{od._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{sI.forEach(e=>{this._triggerElement.addEventListener(e,this,iI)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=bb(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Eb(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(oI.forEach(e=>od._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&sI.forEach(e=>t.removeEventListener(e,this,iI)))}}od._eventManager=new vj;const aI=new dn("mat-ripple-global-options");let lI=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new od(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(lr),bt(co),bt(aI,8),bt(ea,8))},n.\u0275dir=jn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&qi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),nh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[xo,xo]}),n})();const Tj=["matFormFieldNotchedOutline",""],wj=["*"],Sj=["textField"],Cj=["iconPrefixContainer"],Aj=["textPrefixContainer"];function Dj(n,t){1&n&&Yn(0,"span",19)}function Ij(n,t){if(1&n){const e=oo();_n(0,"label",17),br("cdkObserveContent",function(){return pe(e),ue(zn(2)._refreshOutlineNotchWidth())}),Bi(1,1),kn(2,Dj,1,0,"span",18),Tn()}if(2&n){const e=zn(2);Wt("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),di("for",e._control.id)("aria-owns",e._control.id),rn(2),Wt("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Mj(n,t){1&n&&kn(0,Ij,3,6,"label",16),2&n&&Wt("ngIf",zn()._hasFloatingLabel())}function Rj(n,t){1&n&&Yn(0,"div",20)}function xj(n,t){}function Nj(n,t){1&n&&kn(0,xj,0,0,"ng-template",22),2&n&&(zn(2),Wt("ngTemplateOutlet",io(1)))}function Oj(n,t){if(1&n&&(_n(0,"div",21),kn(1,Nj,1,1,"ng-template",9),Tn()),2&n){const e=zn();Wt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),rn(1),Wt("ngIf",!e._forceDisplayInfixLabel())}}function Pj(n,t){1&n&&(_n(0,"div",23,24),Bi(2,2),Tn())}function kj(n,t){1&n&&(_n(0,"div",25,26),Bi(2,3),Tn())}function Fj(n,t){}function Lj(n,t){1&n&&kn(0,Fj,0,0,"ng-template",22),2&n&&(zn(),Wt("ngTemplateOutlet",io(1)))}function Bj(n,t){1&n&&(_n(0,"div",27),Bi(1,4),Tn())}function Uj(n,t){1&n&&(_n(0,"div",28),Bi(1,5),Tn())}function Vj(n,t){1&n&&Yn(0,"div",29)}function jj(n,t){1&n&&(_n(0,"div",30),Bi(1,6),Tn()),2&n&&Wt("@transitionMessages",zn()._subscriptAnimationState)}function Hj(n,t){if(1&n&&(_n(0,"mat-hint",34),Pr(1),Tn()),2&n){const e=zn(2);Wt("id",e._hintLabelId),rn(1),Zo(e.hintLabel)}}function Zj(n,t){if(1&n&&(_n(0,"div",31),kn(1,Hj,2,2,"mat-hint",32),Bi(2,7),Yn(3,"div",33),Bi(4,8),Tn()),2&n){const e=zn();Wt("@transitionMessages",e._subscriptAnimationState),rn(1),Wt("ngIf",e.hintLabel)}}const zj=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Gj=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let wb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=jn({type:n,selectors:[["mat-label"]]}),n})(),qj=0;const cI=new dn("MatError");let Yj=(()=>{class n{constructor(e,r){this.id="mat-mdc-error-"+qj++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(Eu("aria-live"),bt(Nr))},n.\u0275dir=jn({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,r){2&e&&If("id",r.id)},inputs:{id:"id"},features:[Qr([{provide:cI,useExisting:n}])]}),n})(),$j=0,Sb=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+$j++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=jn({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,r){2&e&&(If("id",r.id),di("align",null),qi("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const Wj=new dn("MatPrefix"),uI=new dn("MatSuffix");let Kj=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=jn({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Qr([{provide:uI,useExisting:n}])]}),n})(),dI=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function Xj(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr))},n.\u0275dir=jn({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,r){2&e&&qi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const fI="mdc-line-ripple--active",Fm="mdc-line-ripple--deactivating";let hI=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,l=o.contains(Fm);"opacity"===i.propertyName&&l&&o.remove(fI,Fm)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Fm),e.add(fI)}deactivate(){this._elementRef.nativeElement.classList.add(Fm)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(lr))},n.\u0275dir=jn({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),pI=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(lr))},n.\u0275cmp=Tr({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,r){2&e&&qi("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Tj,ngContentSelectors:wj,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,r){1&e&&(Ka(),Yn(0,"div",0),_n(1,"div",1),Bi(2),Tn(),Yn(3,"div",2)),2&e&&(rn(1),bc("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const Qj={transitionMessages:Kf("transitionMessages",[Ic("enter",rs({opacity:1,transform:"translateY(0%)"})),ql("void => enter",[rs({opacity:0,transform:"translateY(-5px)"}),Gl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=jn({type:n}),n})();const gI=new dn("MatFormField"),_I=new dn("MAT_FORM_FIELD_DEFAULT_OPTIONS");let yI=0,tH=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=js(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,o,l,c,u,g){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=l,this._defaults=c,this._animationMode=u,this._document=g,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+yI++,this._hintLabelId="mat-mdc-hint-"+yI++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new ht,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ro(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ui(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ro(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ro(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(ys),bt(lr),bt(Sm),bt(co),bt(_I,8),bt(ea,8),bt(Sr))},n.\u0275cmp=Tr({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(_s(i,wb,5),_s(i,wb,7),_s(i,mI,5),_s(i,Wj,5),_s(i,uI,5),_s(i,cI,5),_s(i,Sb,5)),2&e){let o;mi(o=gi())&&(r._labelChildNonStatic=o.first),mi(o=gi())&&(r._labelChildStatic=o.first),mi(o=gi())&&(r._formFieldControl=o.first),mi(o=gi())&&(r._prefixChildren=o),mi(o=gi())&&(r._suffixChildren=o),mi(o=gi())&&(r._errorChildren=o),mi(o=gi())&&(r._hintChildren=o)}},viewQuery:function(e,r){if(1&e&&(gs(Sj,5),gs(Cj,5),gs(Aj,5),gs(dI,5),gs(pI,5),gs(hI,5)),2&e){let i;mi(i=gi())&&(r._textField=i.first),mi(i=gi())&&(r._iconPrefixContainer=i.first),mi(i=gi())&&(r._textPrefixContainer=i.first),mi(i=gi())&&(r._floatingLabel=i.first),mi(i=gi())&&(r._notchedOutline=i.first),mi(i=gi())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,r){2&e&&qi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Qr([{provide:gI,useExisting:n}])],ngContentSelectors:Gj,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,r){1&e&&(Ka(zj),kn(0,Mj,1,1,"ng-template",null,0,av),_n(2,"div",1,2),br("click",function(o){return r._control.onContainerClick(o)}),kn(4,Rj,1,0,"div",3),_n(5,"div",4),kn(6,Oj,2,3,"div",5),kn(7,Pj,3,0,"div",6),kn(8,kj,3,0,"div",7),_n(9,"div",8),kn(10,Lj,1,1,"ng-template",9),Bi(11),Tn(),kn(12,Bj,2,0,"div",10),kn(13,Uj,2,0,"div",11),Tn(),kn(14,Vj,1,0,"div",12),Tn(),_n(15,"div",13),kn(16,jj,2,1,"div",14),kn(17,Zj,5,2,"div",15),Tn()),2&e&&(rn(2),qi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),rn(2),Wt("ngIf",!r._hasOutline()&&!r._control.disabled),rn(2),Wt("ngIf",r._hasOutline()),rn(1),Wt("ngIf",r._hasIconPrefix),rn(1),Wt("ngIf",r._hasTextPrefix),rn(2),Wt("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),rn(2),Wt("ngIf",r._hasTextSuffix),rn(1),Wt("ngIf",r._hasIconSuffix),rn(1),Wt("ngIf",!r._hasOutline()),rn(1),qi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Wt("ngSwitch",r._getDisplayedMessages()),rn(1),Wt("ngSwitchCase","error"),rn(1),Wt("ngSwitchCase","hint"))},dependencies:[lo,Hv,ym,jA,b3,Sb,dI,pI,hI],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Qj.transitionMessages]},changeDetection:0}),n})(),Cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[xo,Di,OD,xo]}),n})();function Yo(n,t){const e=Kn(n)?n:()=>n,r=i=>i.error(e());return new We(t?i=>t.schedule(r,0,i):r)}function EI(...n){const t=Vn(n),{args:e,keys:r}=BD(n),i=new We(o=>{const{length:l}=e;if(!l)return void o.complete();const c=new Array(l);let u=l,g=l;for(let D=0;D<l;D++){let q=!1;ft(e[D]).subscribe(Ye(o,be=>{q||(q=!0,g--),c[D]=be},()=>u--,void 0,()=>{(!u||!q)&&(g||o.next(r?UD(r,c):c),o.complete())}))}});return t?i.pipe(_b(t)):i}function aa(n){return St((t,e)=>{let o,r=null,i=!1;r=t.subscribe(Ye(e,void 0,void 0,l=>{o=ft(n(l,aa(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Lm(n){return St((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const nH=["*"];let Bm;function rh(n){return function rH(){if(void 0===Bm&&(Bm=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Bm=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Bm}()?.createHTML(n)||n}function TI(n){return Error(`Unable to find icon with the name "${n}"`)}function wI(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function SI(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Rc{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let ih=(()=>{class n{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Rc(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const l=this._sanitizer.sanitize(jr.HTML,i);if(!l)throw SI(i);const c=rh(l);return this._addSvgIconConfig(e,r,new Rc("",c,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Rc(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize(jr.HTML,r);if(!o)throw SI(r);const l=rh(o);return this._addSvgIconSetConfig(e,new Rc("",l,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(jr.RESOURCE_URL,e);if(!r)throw wI(e);const i=this._cachedIconsByUrl.get(r);return i?nr(Um(i)):this._loadSvgIconFromConfig(new Rc(e,null)).pipe(zr(o=>this._cachedIconsByUrl.set(r,o)),me(o=>Um(o)))}getNamedSvgIcon(e,r=""){const i=CI(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):Yo(TI(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?nr(Um(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(me(r=>Um(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?nr(i):EI(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(aa(c=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(jr.RESOURCE_URL,l.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(g)),nr(null)})))).pipe(me(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw TI(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(l,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(zr(r=>e.svgText=r),me(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?nr(null):this._fetchIcon(e).pipe(zr(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const c=this._svgElementFromString(rh("<svg></svg>"));return c.appendChild(l),this._setSvgAttributes(c,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(rh("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:l,value:c}=i[o];"id"!==l&&r.setAttribute(l,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function iH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(jr.RESOURCE_URL,r);if(!l)throw wI(r);const c=this._inProgressUrlFetches.get(l);if(c)return c;const u=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe(me(g=>rh(g)),Lm(()=>this._inProgressUrlFetches.delete(l)),tc());return this._inProgressUrlFetches.set(l,u),u}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(CI(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return sH(o)?new Rc(o.url,null,o.options):new Rc(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(Ut(sb,8),Ut(Ja),Ut(Sr,8),Ut(ma))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Um(n){return n.cloneNode(!0)}function CI(n,t){return n+":"+t}function sH(n){return!(!n.url||!n.options)}const aH=km(class{constructor(n){this._elementRef=n}}),lH=new dn("MAT_ICON_DEFAULT_OPTIONS"),cH=new dn("mat-icon-location",{providedIn:"root",factory:function uH(){const n=Kt(Sr),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),AI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dH=AI.map(n=>`[${n}]`).join(", "),fH=/^url\(['"]?#(.*?)['"]?\)$/;let Ca=(()=>{class n extends aH{get inline(){return this._inline}set inline(e){this._inline=js(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,o,l,c){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=L.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(dH),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)AI.forEach(l=>{const c=r[o],u=c.getAttribute(l),g=u?u.match(fH):null;if(g){let D=i.get(c);D||(D=[],i.set(c,D)),D.push({name:l,value:g[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(qo(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(ih),Eu("aria-hidden"),bt(cH),bt(ma),bt(lH,8))},n.\u0275cmp=Tr({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(di("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),qi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[wr],ngContentSelectors:nH,decls:1,vars:0,template:function(e,r){1&e&&(Ka(),Bi(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),$o=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[xo,xo]}),n})();class pH{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const gH=new dn("mat-snack-bar-default-options",{providedIn:"root",factory:function mH(){return new pH}});function DI(n){return new Lt(3e3,!1)}function Yl(n){switch(n.length){case 0:return new Xf;case 1:return n[0];default:return new RD(n)}}function II(n,t,e,r,i=new Map,o=new Map){const l=[],c=[];let u=-1,g=null;if(r.forEach(D=>{const q=D.get("offset"),be=q==u,Me=be&&g||new Map;D.forEach((xe,qe)=>{let ct=qe,Nt=xe;if("offset"!==qe)switch(ct=t.normalizePropertyName(ct,l),Nt){case db:Nt=i.get(qe);break;case tl:Nt=o.get(qe);break;default:Nt=t.normalizeStyleValue(qe,ct,Nt,l)}Me.set(ct,Nt)}),be||c.push(Me),g=Me,u=q}),l.length)throw function UH(n){return new Lt(3502,!1)}();return c}function Ab(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Db(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Db(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Db(e,"destroy",n)))}}function Db(n,t,e){const o=Ib(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function Ib(n,t,e,r,i="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function bs(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function MI(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const XH=(()=>typeof document>"u"?null:document.documentElement)();function Mb(n){const t=n.parentNode||n.host||null;return t===XH?null:t}let xc=null,RI=!1;function xI(n,t){for(;t;){if(t===n)return!0;t=Mb(t)}return!1}function NI(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]}let OI=(()=>{class n{validateStyleProperty(e){return function JH(n){xc||(xc=function eZ(){return typeof document<"u"?document.body:null}()||{},RI=!!xc.style&&"WebkitAppearance"in xc.style);let t=!0;return xc.style&&!function QH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in xc.style,!t&&RI&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in xc.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return xI(e,r)}getParentElement(e){return Mb(e)}query(e,r,i){return NI(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,l,c=[],u){return new Xf(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})(),Rb=(()=>{class n{}return n.NOOP=new OI,n})();const tZ=1e3,xb="ng-enter",Vm="ng-leave",jm="ng-trigger",Hm=".ng-trigger",kI="ng-animating",Nb=".ng-animating";function nl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ob(parseFloat(t[1]),t[2])}function Ob(n,t){return"s"===t?n*tZ:n}function Zm(n,t,e){return n.hasOwnProperty("duration")?n:function rZ(n,t,e){let i,o=0,l="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(DI()),{duration:0,delay:0,easing:""};i=Ob(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(o=Ob(parseFloat(u),c[4]));const g=c[5];g&&(l=g)}else i=n;if(!e){let c=!1,u=t.length;i<0&&(t.push(function _H(){return new Lt(3100,!1)}()),c=!0),o<0&&(t.push(function yH(){return new Lt(3101,!1)}()),c=!0),c&&t.splice(u,0,DI())}return{duration:i,delay:o,easing:l}}(n,t,e)}function oh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function FI(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function $l(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function Aa(n,t,e){t.forEach((r,i)=>{const o=kb(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function Nc(n,t){t.forEach((e,r)=>{const i=kb(r);n.style[i]=""})}function sh(n){return Array.isArray(n)?1==n.length?n[0]:ID(n):n}const Pb=new RegExp("{{\\s*(.+?)\\s*}}","g");function BI(n){let t=[];if("string"==typeof n){let e;for(;e=Pb.exec(n);)t.push(e[1]);Pb.lastIndex=0}return t}function ah(n,t,e){const r=n.toString(),i=r.replace(Pb,(o,l)=>{let c=t[l];return null==c&&(e.push(function bH(n){return new Lt(3003,!1)}()),c=""),c.toString()});return i==r?n:i}function zm(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const sZ=/-+([a-z0-9])/g;function kb(n){return n.replace(sZ,(...t)=>t[1].toUpperCase())}function Es(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function EH(n){return new Lt(3004,!1)}()}}function UI(n,t){return window.getComputedStyle(n)[t]}const Gm="*";function cZ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function uZ(n,t,e){if(":"==n[0]){const u=function dZ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function kH(n){return new Lt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function PH(n){return new Lt(3015,!1)}()),t;const i=r[1],o=r[2],l=r[3];t.push(VI(i,l));"<"==o[0]&&!(i==Gm&&l==Gm)&&t.push(VI(l,i))}(r,e,t)):e.push(n),e}const qm=new Set(["true","1"]),Ym=new Set(["false","0"]);function VI(n,t){const e=qm.has(n)||Ym.has(n),r=qm.has(t)||Ym.has(t);return(i,o)=>{let l=n==Gm||n==i,c=t==Gm||t==o;return!l&&e&&"boolean"==typeof i&&(l=i?qm.has(n):Ym.has(n)),!c&&r&&"boolean"==typeof o&&(c=o?qm.has(t):Ym.has(t)),l&&c}}const fZ=new RegExp("s*:selfs*,?","g");function Fb(n,t,e,r){return new hZ(n).build(t,e,r)}class hZ{constructor(t){this._driver=t}build(t,e,r){const i=new gZ(e);return this._resetContextStyleTimingState(i),Es(this,sh(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function wH(){return new Lt(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const u=c,g=u.name;g.toString().split(/\s*,\s*/).forEach(D=>{u.name=D,o.push(this.visitState(u,e))}),u.name=g}else if(1==c.type){const u=this.visitTransition(c,e);r+=u.queryCount,i+=u.depCount,l.push(u)}else e.errors.push(function SH(){return new Lt(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,l=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{BI(u).forEach(g=>{l.hasOwnProperty(g)||o.add(g)})})}),o.size&&(zm(o.values()),e.errors.push(function CH(n,t){return new Lt(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Es(this,sh(t.animation),e);return{type:1,matchers:cZ(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Oc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Es(this,r,e)),options:Oc(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(l=>{e.currentTime=r;const c=Es(this,l,e);return i=Math.max(i,e.currentTime),c});return e.currentTime=i,{type:3,steps:o,options:Oc(t.options)}}visitAnimate(t,e){const r=function yZ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Lb(Zm(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Lb(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=Zm(e,t);return Lb(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:rs({});if(5==o.type)i=this.visitKeyframes(o,e);else{let l=t.styles,c=!1;if(!l){c=!0;const g={};r.easing&&(g.easing=r.easing),l=rs(g)}e.currentTime+=r.duration+r.delay;const u=this.visitStyle(l,e);u.isEmptyStep=c,i=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of i)"string"==typeof c?c===tl?r.push(c):e.errors.push(new Lt(3002,!1)):r.push(FI(c));let o=!1,l=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!o))for(let u of c.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,u)=>{const g=e.collectedStyles.get(e.currentQuerySelector),D=g.get(u);let q=!0;D&&(o!=i&&o>=D.startTime&&i<=D.endTime&&(e.errors.push(function DH(n,t,e,r,i){return new Lt(3010,!1)}()),q=!1),o=D.startTime),q&&g.set(u,{startTime:o,endTime:i}),e.options&&function oZ(n,t,e){const r=t.params||{},i=BI(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function vH(n){return new Lt(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function IH(){return new Lt(3011,!1)}()),r;let o=0;const l=[];let c=!1,u=!1,g=0;const D=t.steps.map(Nt=>{const Ct=this._makeStyleAst(Nt,e);let cn=null!=Ct.offset?Ct.offset:function _Z(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ct.styles),pn=0;return null!=cn&&(o++,pn=Ct.offset=cn),u=u||pn<0||pn>1,c=c||pn<g,g=pn,l.push(pn),Ct});u&&e.errors.push(function MH(){return new Lt(3012,!1)}()),c&&e.errors.push(function RH(){return new Lt(3200,!1)}());const q=t.steps.length;let be=0;o>0&&o<q?e.errors.push(function xH(){return new Lt(3202,!1)}()):0==o&&(be=1/(q-1));const Me=q-1,xe=e.currentTime,qe=e.currentAnimateTimings,ct=qe.duration;return D.forEach((Nt,Ct)=>{const cn=be>0?Ct==Me?1:be*Ct:l[Ct],pn=cn*ct;e.currentTime=xe+qe.delay+pn,qe.duration=pn,this._validateStyleAst(Nt,e),Nt.offset=cn,r.styles.push(Nt)}),r}visitReference(t,e){return{type:8,animation:Es(this,sh(t.animation),e),options:Oc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Oc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Oc(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function pZ(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(fZ,"")),n=n.replace(/@\*/g,Hm).replace(/@\w+/g,e=>Hm+"-"+e.slice(1)).replace(/:animating/g,Nb),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,bs(e.collectedStyles,e.currentQuerySelector,new Map);const c=Es(this,sh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:c,originalSelector:t.selector,options:Oc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function NH(){return new Lt(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Zm(t.timings,e.errors,!0);return{type:12,animation:Es(this,sh(t.animation),e),timings:r,options:null}}}class gZ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Oc(n){return n?(n=oh(n)).params&&(n.params=function mZ(n){return n?oh(n):null}(n.params)):n={},n}function Lb(n,t,e){return{duration:n,delay:t,easing:e}}function Bb(n,t,e,r,i,o,l=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:c}}class $m{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const EZ=new RegExp(":enter","g"),wZ=new RegExp(":leave","g");function Ub(n,t,e,r,i,o=new Map,l=new Map,c,u,g=[]){return(new SZ).buildKeyframes(n,t,e,r,i,o,l,c,u,g)}class SZ{buildKeyframes(t,e,r,i,o,l,c,u,g,D=[]){g=g||new $m;const q=new Vb(t,e,g,i,o,D,[]);q.options=u;const be=u.delay?nl(u.delay):0;q.currentTimeline.delayNextStep(be),q.currentTimeline.setStyles([l],null,q.errors,u),Es(this,r,q);const Me=q.timelines.filter(xe=>xe.containsAnimation());if(Me.length&&c.size){let xe;for(let qe=Me.length-1;qe>=0;qe--){const ct=Me[qe];if(ct.element===e){xe=ct;break}}xe&&!xe.allowOnlyTimelineStyles()&&xe.setStyles([c],null,q.errors,u)}return Me.length?Me.map(xe=>xe.buildKeyframes()):[Bb(e,[],[],[],0,be,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const l="number"==typeof o?o:nl(ah(o,i?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const l=null!=r.duration?nl(r.duration):null,c=null!=r.delay?nl(r.delay):null;return 0!==l&&t.forEach(u=>{const g=e.appendInstructionToTimeline(u,l,c);o=Math.max(o,g.duration+g.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Es(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wm);const l=nl(o.delay);i.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Es(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?nl(t.options.delay):0;t.steps.forEach(l=>{const c=e.createSubContext(t.options);o&&c.delayNextStep(o),Es(this,l,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Zm(e.params?ah(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,c=e.createSubContext().currentTimeline;c.easing=r.easing,t.styles.forEach(u=>{c.forwardTime((u.offset||0)*o),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?nl(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Wm);let l=r;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((g,D)=>{e.currentQueryIndex=D;const q=e.createSubContext(t.options,g);o&&q.delayNextStep(o),g===e.element&&(u=q.currentTimeline),Es(this,t.animation,q),q.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,q.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),c=l*(e.currentQueryTotal-1);let u=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=r.currentStaggerTime}const D=e.currentTimeline;u&&D.delayNextStep(u);const q=D.currentTime;Es(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-q+(i.startTime-r.currentTimeline.startTime)}}const Wm={};class Vb{constructor(t,e,r,i,o,l,c,u){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Km(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=nl(r.duration)),null!=r.delay&&(i.delay=nl(r.delay));const o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!l.hasOwnProperty(c))&&(l[c]=ah(o[c],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new Vb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Wm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new CZ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,l){let c=[];if(i&&c.push(this.element),t.length>0){t=(t=t.replace(EZ,"."+this._enterClassName)).replace(wZ,"."+this._leaveClassName);let g=this._driver.query(this.element,t,1!=r);0!==r&&(g=r<0?g.slice(g.length+r,g.length):g.slice(0,r)),c.push(...g)}return!o&&0==c.length&&l.push(function OH(n){return new Lt(3014,!1)}()),c}}class Km{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Km(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||tl),this._currentKeyframe.set(e,tl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},l=function AZ(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,tl)}else $l(i,e)}),e}(t,this._globalTimelineStyles);for(let[c,u]of l){const g=ah(u,o,r);this._pendingStyles.set(c,g),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??tl),this._updateStyle(c,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,u)=>{const g=$l(c,new Map,this._backFill);g.forEach((D,q)=>{D===db?t.add(q):D===tl&&e.add(q)}),r||g.set("offset",u/this.duration),i.push(g)});const o=t.size?zm(t.values()):[],l=e.size?zm(e.values()):[];if(r){const c=i[0],u=new Map(c);c.set("offset",0),u.set("offset",1),i=[c,u]}return Bb(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class CZ extends Km{constructor(t,e,r,i,o,l,c=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=r+e,c=e/l,u=$l(t[0]);u.set("offset",0),o.push(u);const g=$l(t[0]);g.set("offset",ZI(c)),o.push(g);const D=t.length-1;for(let q=1;q<=D;q++){let be=$l(t[q]);const Me=be.get("offset");be.set("offset",ZI((e+Me*r)/l)),o.push(be)}r=l,e=0,i="",t=o}return Bb(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function ZI(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class jb{}const DZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class IZ extends jb{normalizePropertyName(t,e){return kb(t)}normalizeStyleValue(t,e,r,i){let o="";const l=r.toString().trim();if(DZ.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function TH(n,t){return new Lt(3005,!1)}())}return l+o}}function zI(n,t,e,r,i,o,l,c,u,g,D,q,be){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:l,timelines:c,queriedElements:u,preStyleProps:g,postStyleProps:D,totalTime:q,errors:be}}const Hb={};class GI{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function MZ(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,l,c,u,g,D){const q=[],be=this.ast.options&&this.ast.options.params||Hb,xe=this.buildStyles(r,c&&c.params||Hb,q),qe=u&&u.params||Hb,ct=this.buildStyles(i,qe,q),Nt=new Set,Ct=new Map,cn=new Map,pn="void"===i,Bn={params:RZ(qe,be),delay:this.ast.options?.delay},ci=D?[]:Ub(t,e,this.ast.animation,o,l,xe,ct,Bn,g,q);let Qi=0;if(ci.forEach(fl=>{Qi=Math.max(fl.duration+fl.delay,Qi)}),q.length)return zI(e,this._triggerName,r,i,pn,xe,ct,[],[],Ct,cn,Qi,q);ci.forEach(fl=>{const hl=fl.element,hN=bs(Ct,hl,new Set);fl.preStyleProps.forEach(Zc=>hN.add(Zc));const Oh=bs(cn,hl,new Set);fl.postStyleProps.forEach(Zc=>Oh.add(Zc)),hl!==e&&Nt.add(hl)});const dl=zm(Nt.values());return zI(e,this._triggerName,r,i,pn,xe,ct,ci,dl,Ct,cn,Qi)}}function RZ(n,t){const e=oh(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class xZ{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=oh(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,c)=>{l&&(l=ah(l,i,e));const u=this.normalizer.normalizePropertyName(c,e);l=this.normalizer.normalizeStyleValue(c,u,l,e),r.set(c,l)})}),r}}class OZ{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new xZ(i.style,i.options&&i.options.params||{},r))}),qI(this.states,"true","1"),qI(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new GI(t,i,this.states))}),this.fallbackTransition=function PZ(n,t,e){return new GI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(l=>l.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function qI(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const kZ=new $m;class FZ{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=Fb(this._driver,e,r,[]);if(r.length)throw function VH(n){return new Lt(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=II(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let l;const c=new Map;if(o?(l=Ub(this._driver,e,o,xb,Vm,new Map,new Map,r,kZ,i),l.forEach(D=>{const q=bs(c,D.element,new Map);D.postStyleProps.forEach(be=>q.set(be,null))})):(i.push(function jH(){return new Lt(3300,!1)}()),l=[]),i.length)throw function HH(n){return new Lt(3504,!1)}();c.forEach((D,q)=>{D.forEach((be,Me)=>{D.set(Me,this._driver.computeStyle(q,Me,tl))})});const g=Yl(l.map(D=>{const q=c.get(D.element);return this._buildPlayer(D,new Map,q)}));return this._playersById.set(t,g),g.onDestroy(()=>this.destroy(t)),this.players.push(g),g}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function ZH(n){return new Lt(3301,!1)}();return e}listen(t,e,r,i){const o=Ib(e,"","","");return Ab(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const YI="ng-animate-queued",Zb="ng-animate-disabled",jZ=[],$I={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hs="__ng_removed";class zb{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function qZ(n){return n??null}(r?t.value:t),r){const o=oh(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const lh="void",Gb=new zb(lh);class ZZ{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Zs(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function zH(n,t){return new Lt(3302,!1)}();if(null==r||0==r.length)throw function GH(n){return new Lt(3303,!1)}();if(!function YZ(n){return"start"==n||"done"==n}(r))throw function qH(n,t){return new Lt(3400,!1)}();const o=bs(this._elementListeners,t,[]),l={name:e,phase:r,callback:i};o.push(l);const c=bs(this._engine.statesByElement,t,new Map);return c.has(e)||(Zs(t,jm),Zs(t,jm+"-"+e),c.set(e,Gb)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(l);u>=0&&o.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function YH(n){return new Lt(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),l=new qb(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(Zs(t,jm),Zs(t,jm+"-"+e),this._engine.statesByElement.set(t,c=new Map));let u=c.get(e);const g=new zb(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&g.absorbOptions(u.options),c.set(e,g),u||(u=Gb),g.value!==lh&&u.value===g.value){if(!function KZ(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(u.params,g.params)){const qe=[],ct=o.matchStyles(u.value,u.params,qe),Nt=o.matchStyles(g.value,g.params,qe);qe.length?this._engine.reportError(qe):this._engine.afterFlush(()=>{Nc(t,ct),Aa(t,Nt)})}return}const be=bs(this._engine.playersByElement,t,[]);be.forEach(qe=>{qe.namespaceId==this.id&&qe.triggerName==e&&qe.queued&&qe.destroy()});let Me=o.matchTransition(u.value,g.value,t,g.params),xe=!1;if(!Me){if(!i)return;Me=o.fallbackTransition,xe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Me,fromState:u,toState:g,player:l,isFallbackTransition:xe}),xe||(Zs(t,YI),l.onStart(()=>{sd(t,YI)})),l.onDone(()=>{let qe=this.players.indexOf(l);qe>=0&&this.players.splice(qe,1);const ct=this._engine.playersByElement.get(t);if(ct){let Nt=ct.indexOf(l);Nt>=0&&ct.splice(Nt,1)}}),this.players.push(l),be.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Hm,!0);r.forEach(i=>{if(i[Hs])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const c=[];if(o.forEach((u,g)=>{if(l.set(g,u.value),this._triggers.has(g)){const D=this.trigger(t,g,lh,i);D&&c.push(D)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),r&&Yl(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const u=this._triggers.get(l).fallbackTransition,g=r.get(l)||Gb,D=new zb(lh),q=new qb(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:u,fromState:g,toState:D,player:q,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Hs];(!o||o===$I)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Zs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,l=this._elementListeners.get(o);l&&l.forEach(c=>{if(c.name==r.triggerName){const u=Ib(o,r.triggerName,r.fromState.value,r.toState.value);u._data=t,Ab(r.player,c.phase,u,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class zZ{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new ZZ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,c=this.driver.getParentElement(e);for(;c;){const u=i.get(c);if(u){const g=r.indexOf(u);r.splice(g+1,0,t),l=!0;break}c=this.driver.getParentElement(c)}l||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(Xm(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Xm(e))return;const o=e[Hs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Zs(t,Zb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),sd(t,Zb))}removeNode(t,e,r,i){if(Xm(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Hs]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Xm(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Hm,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Nb,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Yl(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Hs];if(e&&e.setForRemoval){if(t[Hs]=$I,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Zb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Yl(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function $H(n){return new Lt(3402,!1)}()}_flushAnimations(t,e){const r=new $m,i=[],o=new Map,l=[],c=new Map,u=new Map,g=new Map,D=new Set;this.disabledNodes.forEach($n=>{D.add($n);const or=this.driver.query($n,".ng-animate-queued",!0);for(let ur=0;ur<or.length;ur++)D.add(or[ur])});const q=this.bodyNode,be=Array.from(this.statesByElement.keys()),Me=XI(be,this.collectedEnterElements),xe=new Map;let qe=0;Me.forEach(($n,or)=>{const ur=xb+qe++;xe.set(or,ur),$n.forEach(Hr=>Zs(Hr,ur))});const ct=[],Nt=new Set,Ct=new Set;for(let $n=0;$n<this.collectedLeaveElements.length;$n++){const or=this.collectedLeaveElements[$n],ur=or[Hs];ur&&ur.setForRemoval&&(ct.push(or),Nt.add(or),ur.hasAnimation?this.driver.query(or,".ng-star-inserted",!0).forEach(Hr=>Nt.add(Hr)):Ct.add(or))}const cn=new Map,pn=XI(be,Array.from(Nt));pn.forEach(($n,or)=>{const ur=Vm+qe++;cn.set(or,ur),$n.forEach(Hr=>Zs(Hr,ur))}),t.push(()=>{Me.forEach(($n,or)=>{const ur=xe.get(or);$n.forEach(Hr=>sd(Hr,ur))}),pn.forEach(($n,or)=>{const ur=cn.get(or);$n.forEach(Hr=>sd(Hr,ur))}),ct.forEach($n=>{this.processLeaveNode($n)})});const Bn=[],ci=[];for(let $n=this._namespaceList.length-1;$n>=0;$n--)this._namespaceList[$n].drainQueuedTransitions(e).forEach(ur=>{const Hr=ur.player,yo=ur.element;if(Bn.push(Hr),this.collectedEnterElements.length){const Fo=yo[Hs];if(Fo&&Fo.setForMove){if(Fo.previousTriggersValues&&Fo.previousTriggersValues.has(ur.triggerName)){const zc=Fo.previousTriggersValues.get(ur.triggerName),zs=this.statesByElement.get(ur.element);if(zs&&zs.has(ur.triggerName)){const Lg=zs.get(ur.triggerName);Lg.value=zc,zs.set(ur.triggerName,Lg)}}return void Hr.destroy()}}const Ra=!q||!this.driver.containsElement(q,yo),Cs=cn.get(yo),ec=xe.get(yo),Ii=this._buildInstruction(ur,r,ec,Cs,Ra);if(Ii.errors&&Ii.errors.length)return void ci.push(Ii);if(Ra)return Hr.onStart(()=>Nc(yo,Ii.fromStyles)),Hr.onDestroy(()=>Aa(yo,Ii.toStyles)),void i.push(Hr);if(ur.isFallbackTransition)return Hr.onStart(()=>Nc(yo,Ii.fromStyles)),Hr.onDestroy(()=>Aa(yo,Ii.toStyles)),void i.push(Hr);const gN=[];Ii.timelines.forEach(Fo=>{Fo.stretchStartingKeyframe=!0,this.disabledNodes.has(Fo.element)||gN.push(Fo)}),Ii.timelines=gN,r.append(yo,Ii.timelines),l.push({instruction:Ii,player:Hr,element:yo}),Ii.queriedElements.forEach(Fo=>bs(c,Fo,[]).push(Hr)),Ii.preStyleProps.forEach((Fo,zc)=>{if(Fo.size){let zs=u.get(zc);zs||u.set(zc,zs=new Set),Fo.forEach((Lg,s0)=>zs.add(s0))}}),Ii.postStyleProps.forEach((Fo,zc)=>{let zs=g.get(zc);zs||g.set(zc,zs=new Set),Fo.forEach((Lg,s0)=>zs.add(s0))})});if(ci.length){const $n=[];ci.forEach(or=>{$n.push(function WH(n,t){return new Lt(3505,!1)}())}),Bn.forEach(or=>or.destroy()),this.reportError($n)}const Qi=new Map,dl=new Map;l.forEach($n=>{const or=$n.element;r.has(or)&&(dl.set(or,or),this._beforeAnimationBuild($n.player.namespaceId,$n.instruction,Qi))}),i.forEach($n=>{const or=$n.element;this._getPreviousPlayers(or,!1,$n.namespaceId,$n.triggerName,null).forEach(Hr=>{bs(Qi,or,[]).push(Hr),Hr.destroy()})});const fl=ct.filter($n=>JI($n,u,g)),hl=new Map;KI(hl,this.driver,Ct,g,tl).forEach($n=>{JI($n,u,g)&&fl.push($n)});const Oh=new Map;Me.forEach(($n,or)=>{KI(Oh,this.driver,new Set($n),u,db)}),fl.forEach($n=>{const or=hl.get($n),ur=Oh.get($n);hl.set($n,new Map([...Array.from(or?.entries()??[]),...Array.from(ur?.entries()??[])]))});const Zc=[],pN=[],mN={};l.forEach($n=>{const{element:or,player:ur,instruction:Hr}=$n;if(r.has(or)){if(D.has(or))return ur.onDestroy(()=>Aa(or,Hr.toStyles)),ur.disabled=!0,ur.overrideTotalTime(Hr.totalTime),void i.push(ur);let yo=mN;if(dl.size>1){let Cs=or;const ec=[];for(;Cs=Cs.parentNode;){const Ii=dl.get(Cs);if(Ii){yo=Ii;break}ec.push(Cs)}ec.forEach(Ii=>dl.set(Ii,yo))}const Ra=this._buildAnimation(ur.namespaceId,Hr,Qi,o,Oh,hl);if(ur.setRealPlayer(Ra),yo===mN)Zc.push(ur);else{const Cs=this.playersByElement.get(yo);Cs&&Cs.length&&(ur.parentPlayer=Yl(Cs)),i.push(ur)}}else Nc(or,Hr.fromStyles),ur.onDestroy(()=>Aa(or,Hr.toStyles)),pN.push(ur),D.has(or)&&i.push(ur)}),pN.forEach($n=>{const or=o.get($n.element);if(or&&or.length){const ur=Yl(or);$n.setRealPlayer(ur)}}),i.forEach($n=>{$n.parentPlayer?$n.syncPlayerEvents($n.parentPlayer):$n.destroy()});for(let $n=0;$n<ct.length;$n++){const or=ct[$n],ur=or[Hs];if(sd(or,Vm),ur&&ur.hasAnimation)continue;let Hr=[];if(c.size){let Ra=c.get(or);Ra&&Ra.length&&Hr.push(...Ra);let Cs=this.driver.query(or,Nb,!0);for(let ec=0;ec<Cs.length;ec++){let Ii=c.get(Cs[ec]);Ii&&Ii.length&&Hr.push(...Ii)}}const yo=Hr.filter(Ra=>!Ra.destroyed);yo.length?$Z(this,or,yo):this.processLeaveNode(or)}return ct.length=0,Zc.forEach($n=>{this.players.push($n),$n.onDone(()=>{$n.destroy();const or=this.players.indexOf($n);this.players.splice(or,1)}),$n.play()}),Zc}elementContainsData(t,e){let r=!1;const i=e[Hs];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let l=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(l=c)}else{const c=this.playersByElement.get(t);if(c){const u=!o||o==lh;c.forEach(g=>{g.queued||!u&&g.triggerName!=i||l.push(g)})}}return(r||i)&&(l=l.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),l}_beforeAnimationBuild(t,e,r){const o=e.element,l=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const g=u.element,D=g!==o,q=bs(r,g,[]);this._getPreviousPlayers(g,D,l,c,e.toState).forEach(Me=>{const xe=Me.getRealPlayer();xe.beforeDestroy&&xe.beforeDestroy(),Me.destroy(),q.push(Me)})}Nc(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,l){const c=e.triggerName,u=e.element,g=[],D=new Set,q=new Set,be=e.timelines.map(xe=>{const qe=xe.element;D.add(qe);const ct=qe[Hs];if(ct&&ct.removedBeforeQueried)return new Xf(xe.duration,xe.delay);const Nt=qe!==u,Ct=function WZ(n){const t=[];return QI(n,t),t}((r.get(qe)||jZ).map(Qi=>Qi.getRealPlayer())).filter(Qi=>!!Qi.element&&Qi.element===qe),cn=o.get(qe),pn=l.get(qe),Bn=II(0,this._normalizer,0,xe.keyframes,cn,pn),ci=this._buildPlayer(xe,Bn,Ct);if(xe.subTimeline&&i&&q.add(qe),Nt){const Qi=new qb(t,c,qe);Qi.setRealPlayer(ci),g.push(Qi)}return ci});g.forEach(xe=>{bs(this.playersByQueriedElement,xe.element,[]).push(xe),xe.onDone(()=>function GZ(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,xe.element,xe))}),D.forEach(xe=>Zs(xe,kI));const Me=Yl(be);return Me.onDestroy(()=>{D.forEach(xe=>sd(xe,kI)),Aa(u,e.toStyles)}),q.forEach(xe=>{bs(i,xe,[]).push(Me)}),Me}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Xf(t.duration,t.delay)}}class qb{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Xf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Ab(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){bs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Xm(n){return n&&1===n.nodeType}function WI(n,t){const e=n.style.display;return n.style.display=t??"none",e}function KI(n,t,e,r,i){const o=[];e.forEach(u=>o.push(WI(u)));const l=[];r.forEach((u,g)=>{const D=new Map;u.forEach(q=>{const be=t.computeStyle(g,q,i);D.set(q,be),(!be||0==be.length)&&(g[Hs]=HZ,l.push(g))}),n.set(g,D)});let c=0;return e.forEach(u=>WI(u,o[c++])),l}function XI(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const r=1,i=new Set(t),o=new Map;function l(c){if(!c)return r;let u=o.get(c);if(u)return u;const g=c.parentNode;return u=e.has(g)?g:i.has(g)?r:l(g),o.set(c,u),u}return t.forEach(c=>{const u=l(c);u!==r&&e.get(u).push(c)}),e}function Zs(n,t){n.classList?.add(t)}function sd(n,t){n.classList?.remove(t)}function $Z(n,t,e){Yl(e).onDone(()=>n.processLeaveNode(t))}function QI(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof RD?QI(r.players,t):t.push(r)}}function JI(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class Qm{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new zZ(t,e,r),this._timelineEngine=new FZ(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const l=t+"-"+i;let c=this._triggerCache[l];if(!c){const u=[],D=Fb(this._driver,o,u,[]);if(u.length)throw function BH(n,t){return new Lt(3404,!1)}();c=function NZ(n,t,e){return new OZ(n,t,e)}(i,D,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(e,i,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,l]=MI(r);this._timelineEngine.command(o,e,l,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[l,c]=MI(r);return this._timelineEngine.listen(l,e,c,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let QZ=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Aa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Aa(this._element,this._initialStyles),this._endStyles&&(Aa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Nc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nc(this._element,this._endStyles),this._endStyles=null),Aa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Yb(n){let t=null;return n.forEach((e,r)=>{(function JZ(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class eM{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:UI(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class e4{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return xI(t,e)}getParentElement(t){return Mb(t)}query(t,e,r){return NI(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,l=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const g=new Map,D=l.filter(Me=>Me instanceof eM);(function aZ(n,t){return 0===n||0===t})(r,i)&&D.forEach(Me=>{Me.currentSnapshot.forEach((xe,qe)=>g.set(qe,xe))});let q=function iZ(n){return n.length?n[0]instanceof Map?n:n.map(t=>FI(t)):[]}(e).map(Me=>$l(Me));q=function lZ(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<t.length;o++){let l=t[o];i.forEach(c=>l.set(c,UI(n,c)))}}return t}(t,q,g);const be=function XZ(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Yb(t[0]),t.length>1&&(r=Yb(t[t.length-1]))):t instanceof Map&&(e=Yb(t)),e||r?new QZ(n,e,r):null}(t,q);return new eM(t,q,u,be)}}let t4=(()=>{class n extends DD{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:po.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?ID(e):e;return tM(this._renderer,null,r,"register",[i]),new n4(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Ut(mf),Ut(Sr))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();class n4 extends g3{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new r4(this._id,t,e||{},this._renderer)}}class r4{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tM(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tM(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const nM="@.disabled";let i4=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,l)=>{const c=l?.parentNode(o);c&&l.removeChild(c,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(o);return D||(D=new rM("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,D)),D}const l=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const u=D=>{Array.isArray(D)?D.forEach(u):this.engine.registerTrigger(l,c,e,D.name,D)};return r.data.animation.forEach(u),new o4(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,c]=o;l(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Ut(mf),Ut(Qm),Ut(lr))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();class rM{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==nM?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class o4 extends rM{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==nM?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function s4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function a4(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(t,e,r)}}const d4=[{provide:Rb,useFactory:()=>new e4},{provide:ea,useValue:"BrowserAnimations"},...[{provide:DD,useClass:t4},{provide:jb,useFactory:function c4(){return new IZ}},{provide:Qm,useClass:(()=>{class n extends Qm{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr),Ut(Rb),Ut(jb),Ut(Ul))},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})()},{provide:mf,useFactory:function u4(n,t,e){return new i4(n,t,e)},deps:[Qv,Qm,lr]}]],eg=os(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oM(n){return new We(t=>{ft(n()).subscribe(t)})}function $b(){return St((n,t)=>{let e=null;n._refCount++;const r=Ye(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class sM extends We{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,gt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new L;const e=this.getSubject();t.add(this.source.subscribe(Ye(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=L.EMPTY)}return t}refCount(){return $b()(this)}}function la(n,t){return St((e,r)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&r.complete();e.subscribe(Ye(r,u=>{i?.unsubscribe();let g=0;const D=o++;ft(n(u,D)).subscribe(i=Ye(r,q=>r.next(t?t(u,q,D,g++):q),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function tg(n){return St((t,e)=>{let r=!1;t.subscribe(Ye(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function aM(n=m4){return St((t,e)=>{let r=!1;t.subscribe(Ye(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function m4(){return new eg}function Pc(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wi((i,o)=>n(i,o,r)):ge,qo(1),e?tg(t):aM(()=>new eg))}function Wb(n){return n<=0?()=>pr:St((t,e)=>{let r=[];t.subscribe(Ye(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function lM(n){return me(()=>n)}const Er="primary",ch=Symbol("RouteTitle");class v4{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ad(n){return new v4(n)}function b4(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],c=n[o];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Da(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!cM(n[i],t[i]))return!1;return!0}function cM(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function uM(n){return n.length>0?n[n.length-1]:null}function Wl(n){return function p4(n){return!!n&&(n instanceof We||Kn(n.lift)&&Kn(n.subscribe))}(n)?n:Af(n)?Gr(Promise.resolve(n)):nr(n)}const T4={exact:function hM(n,t,e){if(!kc(n.segments,t.segments)||!ng(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!hM(n.children[r],t.children[r],e))return!1;return!0},subset:pM},dM={exact:function w4(n,t){return Da(n,t)},subset:function S4(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cM(n[e],t[e]))},ignored:()=>!0};function fM(n,t,e){return T4[e.paths](n.root,t.root,e.matrixParams)&&dM[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function pM(n,t,e){return mM(n,t,t.segments,e)}function mM(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!kc(i,e)||t.hasChildren()||!ng(i,e,r))}if(n.segments.length===e.length){if(!kc(n.segments,e)||!ng(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!pM(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(kc(n.segments,i)&&ng(n.segments,i,r)&&n.children[Er])&&mM(n.children[Er],t,o,r)}}function ng(n,t,e){return t.every((r,i)=>dM[e](n[i].parameters,r.parameters))}class ld{constructor(t=new Jr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ad(this.queryParams)),this._queryParamMap}toString(){return D4.serialize(this)}}class Jr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rg(this)}}class uh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ad(this.parameters)),this._parameterMap}toString(){return yM(this)}}function kc(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let dh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:function(){return new Kb},providedIn:"root"}),n})();class Kb{parse(t){const e=new B4(t);return new ld(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fh(t.root,!0)}`,r=function R4(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${ig(e)}=${ig(i)}`).join("&"):`${ig(e)}=${ig(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function I4(n){return encodeURI(n)}(t.fragment)}`:""}`}}const D4=new Kb;function rg(n){return n.segments.map(t=>yM(t)).join("/")}function fh(n,t){if(!n.hasChildren())return rg(n);if(t){const e=n.children[Er]?fh(n.children[Er],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Er&&r.push(`${i}:${fh(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function A4(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===Er&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Er&&(e=e.concat(t(i,r)))}),e}(n,(r,i)=>i===Er?[fh(n.children[Er],!1)]:[`${i}:${fh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Er]?`${rg(n)}/${e[0]}`:`${rg(n)}/(${e.join("//")})`}}function gM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ig(n){return gM(n).replace(/%3B/gi,";")}function Xb(n){return gM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function og(n){return decodeURIComponent(n)}function _M(n){return og(n.replace(/\+/g,"%20"))}function yM(n){return`${Xb(n.path)}${function M4(n){return Object.keys(n).map(t=>`;${Xb(t)}=${Xb(n[t])}`).join("")}(n.parameters)}`}const x4=/^[^\/()?;#]+/;function Qb(n){const t=n.match(x4);return t?t[0]:""}const N4=/^[^\/()?;=#]+/,P4=/^[^=?&#]+/,F4=/^[^&#]+/;class B4{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jr([],{}):new Jr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Er]=new Jr(t,e)),r}parseSegment(){const t=Qb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Lt(4009,!1);return this.capture(t),new uh(og(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function O4(n){const t=n.match(N4);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Qb(this.remaining);i&&(r=i,this.capture(r))}t[og(e)]=og(r)}parseQueryParam(t){const e=function k4(n){const t=n.match(P4);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function L4(n){const t=n.match(F4);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=_M(e),o=_M(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qb(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Lt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Er);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[Er]:new Jr([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Lt(4011,!1)}}function vM(n){return n.segments.length>0?new Jr([],{[Er]:n}):n}function bM(n){const t={};for(const r of Object.keys(n.children)){const o=bM(n.children[r]);if(r===Er&&0===o.segments.length&&o.hasChildren())for(const[l,c]of Object.entries(o.children))t[l]=c;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function U4(n){if(1===n.numberOfChildren&&n.children[Er]){const t=n.children[Er];return new Jr(n.segments.concat(t.segments),t.children)}return n}(new Jr(n.segments,t))}function Fc(n){return n instanceof ld}function EM(n){let t;const i=vM(function e(o){const l={};for(const u of o.children){const g=e(u);l[u.outlet]=g}const c=new Jr(o.url,l);return o===n&&(t=c),c}(n.root));return t??i}function TM(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return Jb(i,i,i,e,r);const o=function j4(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new SM(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([u,g])=>{c[u]="string"==typeof g?g.split("/"):g}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?t++:""!=c&&i.push(c))}),i):[...i,o]},[]);return new SM(e,t,r)}(t);if(o.toRoot())return Jb(i,i,new Jr([],{}),e,r);const l=function H4(n,t,e){if(n.isAbsolute)return new ag(t,!0,0);if(!e)return new ag(t,!1,NaN);if(null===e.parent)return new ag(e,!0,0);const r=sg(n.commands[0])?0:1;return function Z4(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Lt(4005,!1);i=r.segments.length}return new ag(r,!1,i-o)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),c=l.processChildren?ph(l.segmentGroup,l.index,o.commands):CM(l.segmentGroup,l.index,o.commands);return Jb(i,l.segmentGroup,c,e,r)}function sg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hh(n){return"object"==typeof n&&null!=n&&n.outlets}function Jb(n,t,e,r,i){let l,o={};r&&Object.entries(r).forEach(([u,g])=>{o[u]=Array.isArray(g)?g.map(D=>`${D}`):`${g}`}),l=n===t?e:wM(n,t,e);const c=vM(bM(l));return new ld(c,o,i)}function wM(n,t,e){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===t?e:wM(o,t,e)}),new Jr(n.segments,r)}class SM{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&sg(r[0]))throw new Lt(4003,!1);const i=r.find(hh);if(i&&i!==uM(r))throw new Lt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ag{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function CM(n,t,e){if(n||(n=new Jr([],{})),0===n.segments.length&&n.hasChildren())return ph(n,t,e);const r=function G4(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const l=n.segments[i],c=e[r];if(hh(c))break;const u=`${c}`,g=r<e.length-1?e[r+1]:null;if(i>0&&void 0===u)break;if(u&&g&&"object"==typeof g&&void 0===g.outlets){if(!DM(u,g,l))return o;r+=2}else{if(!DM(u,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Jr(n.segments.slice(0,r.pathIndex),{});return o.children[Er]=new Jr(n.segments.slice(r.pathIndex),n.children),ph(o,0,i)}return r.match&&0===i.length?new Jr(n.segments,{}):r.match&&!n.hasChildren()?eE(n,t,e):r.match?ph(n,0,i):eE(n,t,e)}function ph(n,t,e){if(0===e.length)return new Jr(n.segments,{});{const r=function z4(n){return hh(n[0])?n[0].outlets:{[Er]:n}}(e),i={};if(!r[Er]&&n.children[Er]&&1===n.numberOfChildren&&0===n.children[Er].segments.length){const o=ph(n.children[Er],t,e);return new Jr(n.segments,o.children)}return Object.entries(r).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[o]=CM(n.children[o],t,l))}),Object.entries(n.children).forEach(([o,l])=>{void 0===r[o]&&(i[o]=l)}),new Jr(n.segments,i)}}function eE(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(hh(o)){const u=q4(o.outlets);return new Jr(r,u)}if(0===i&&sg(e[0])){r.push(new uh(n.segments[t].path,AM(e[0]))),i++;continue}const l=hh(o)?o.outlets[Er]:`${o}`,c=i<e.length-1?e[i+1]:null;l&&c&&sg(c)?(r.push(new uh(l,AM(c))),i+=2):(r.push(new uh(l,{})),i++)}return new Jr(r,{})}function q4(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=eE(new Jr([],{}),0,r))}),t}function AM(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function DM(n,t,e){return n==e.path&&Da(t,e.parameters)}const mh="imperative";class Ia{constructor(t,e){this.id=t,this.url=e}}class tE extends Ia{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lc extends Ia{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lg extends Ia{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gh extends Ia{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class nE extends Ia{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Y4 extends Ia{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $4 extends Ia{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W4 extends Ia{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K4 extends Ia{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X4 extends Ia{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q4{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class J4{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class e8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IM{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class i8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _h,this.attachRef=null}}let _h=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new i8,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class MM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rE(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=rE(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=iE(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return iE(t,this._root).map(e=>e.value)}}function rE(n,t){if(n===t.value)return t;for(const e of t.children){const r=rE(n,e);if(r)return r}return null}function iE(n,t){if(n===t.value)return[t];for(const e of t.children){const r=iE(n,e);if(r.length)return r.unshift(t),r}return[]}class rl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function cd(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class RM extends MM{constructor(t,e){super(t),this.snapshot=e,oE(this,t)}toString(){return this.snapshot.toString()}}function xM(n,t){const e=function o8(n,t){const l=new cg([],{},{},"",{},Er,t,null,{});return new OM("",new rl(l,[]))}(0,t),r=new vs([new uh("",{})]),i=new vs({}),o=new vs({}),l=new vs({}),c=new vs(""),u=new il(r,i,l,c,o,Er,t,e.root);return u.snapshot=e.root,new RM(new rl(u,[]),e)}class il{constructor(t,e,r,i,o,l,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(me(g=>g[ch]))??nr(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(t=>ad(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(t=>ad(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NM(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function s8(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class cg{get title(){return this.data?.[ch]}constructor(t,e,r,i,o,l,c,u,g){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.routeConfig=u,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ad(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ad(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OM extends MM{constructor(t,e){super(e),this.url=t,oE(this,e)}toString(){return PM(this._root)}}function oE(n,t){t.value._routerState=n,t.children.forEach(e=>oE(n,e))}function PM(n){const t=n.children.length>0?` { ${n.children.map(PM).join(", ")} } `:"";return`${n.value}${t}`}function sE(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Da(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Da(t.params,e.params)||n.paramsSubject.next(e.params),function E4(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Da(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Da(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function aE(n,t){const e=Da(n.params,t.params)&&function C4(n,t){return kc(n,t)&&n.every((e,r)=>Da(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||aE(n.parent,t.parent))}let lE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Er,this.activateEvents=new ri,this.deactivateEvents=new ri,this.attachEvents=new ri,this.detachEvents=new ri,this.parentContexts=Kt(_h),this.location=Kt(ms),this.changeDetector=Kt(ys),this.environmentInjector=Kt(pa),this.inputBinder=Kt(ug,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Lt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Lt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Lt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Lt(4013,!1);this._activatedRoute=e;const i=this.location,l=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new a8(e,c,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=jn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wo]}),n})();class a8{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===il?this.route:t===_h?this.childContexts:this.parent.get(t,e)}}const ug=new dn("");let kM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=Rm([r.queryParams,r.params,r.data]).pipe(la(([o,l,c],u)=>(c={...o,...l,...c},0===u?nr(c):Promise.resolve(c)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const l=function oB(n){const t=xr(n);if(!t)return null;const e=new bf(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone}}}(r.component);if(l)for(const{templateName:c}of l.inputs)e.activatedComponentRef.setInput(c,o[c]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();function yh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function c8(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return yh(n,r,i);return yh(n,r)})}(n,t,e);return new rl(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(c=>yh(n,c)),l}}const r=function u8(n){return new il(new vs(n.url),new vs(n.params),new vs(n.queryParams),new vs(n.fragment),new vs(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>yh(n,o));return new rl(r,i)}}const cE="ngNavigationCancelingError";function FM(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Fc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=LM(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function LM(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[cE]=!0,r.cancellationCode=t,e&&(r.url=e),r}function BM(n){return UM(n)&&Fc(n.url)}function UM(n){return n&&n[cE]}let VM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["ng-component"]],standalone:!0,features:[ni],decls:1,vars:0,template:function(e,r){1&e&&Yn(0,"router-outlet")},dependencies:[lE],encapsulation:2}),n})();function uE(n){const t=n.children&&n.children.map(uE),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Er&&(e.component=VM),e}function ca(n){return n.outlet||Er}function vh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class _8{constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),sE(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=cd(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=cd(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(r&&r.outlet){const l=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=cd(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const i=cd(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new r8(o.value.snapshot))}),t.children.length&&this.forwardEvent(new t8(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(sE(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),sE(c.route.value),this.activateChildRoutes(t,null,l.children)}else{const c=vh(i.snapshot);l.attachRef=null,l.route=i,l.injector=c,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class jM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class dg{constructor(t,e){this.component=t,this.route=e}}function y8(n,t,e){const r=n._root;return bh(r,t?t._root:null,e,[r.value])}function ud(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function As(n){return null!==La(n)}(n)?t.get(n):n:r}function bh(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=cd(t);return n.children.forEach(l=>{(function b8(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const u=function E8(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!kc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!kc(n.url,t.url)||!Da(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aE(n,t)||!Da(n.queryParams,t.queryParams);default:return!aE(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jM(r)):(o.data=l.data,o._resolvedData=l._resolvedData),bh(n,t,o.component?c?c.children:null:e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new dg(c.outlet.component,l))}else l&&Eh(t,c,i),i.canActivateChecks.push(new jM(r)),bh(n,null,o.component?c?c.children:null:e,r,i)})(l,o[l.value.outlet],e,r.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,c])=>Eh(c,e.getContext(l),i)),i}function Eh(n,t,e){const r=cd(n),i=n.value;Object.entries(r).forEach(([o,l])=>{Eh(l,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new dg(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Th(n){return"function"==typeof n}function HM(n){return n instanceof eg||"EmptyError"===n?.name}const fg=Symbol("INITIAL_VALUE");function dd(){return la(n=>Rm(n.map(t=>t.pipe(qo(1),eh(fg)))).pipe(me(t=>{for(const e of t)if(!0!==e){if(e===fg)return fg;if(!1===e||e instanceof ld)return e}return!0}),Wi(t=>t!==fg),qo(1)))}function ZM(n){return function Rt(...n){return Ve(n)}(zr(t=>{if(Fc(t))throw FM(0,t)}),me(t=>!0===t))}class hg{constructor(t){this.segmentGroup=t||null}}class zM{constructor(t){this.urlTree=t}}function fd(n){return Yo(new hg(n))}function GM(n){return Yo(new zM(n))}class j8{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new Lt(4002,!1)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nr(r);if(i.numberOfChildren>1||!i.children[Er])return Yo(new Lt(4e3,!1));i=i.children[Er]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new ld(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const c=o.substring(1);r[i]=e[c]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let l={};return Object.entries(e.children).forEach(([c,u])=>{l[c]=this.createSegmentGroup(t,u,r,i)}),new Jr(o,l)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Lt(4001,!1);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}const dE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function H8(n,t,e,r,i){const o=fE(n,t,e);return o.matched?(r=function d8(n,t){return n.providers&&!n._injector&&(n._injector=Ky(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function B8(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?nr(i.map(l=>{const c=ud(l,n);return Wl(function D8(n){return n&&Th(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(dd(),ZM()):nr(!0)}(r,t,e).pipe(me(l=>!0===l?o:{...dE}))):nr(o)}function fE(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...dE}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||b4)(e,n,t);if(!i)return{...dE};const o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function qM(n,t,e,r){return e.length>0&&function G8(n,t,e){return e.some(r=>pg(n,t,r)&&ca(r)!==Er)}(n,e,r)?{segmentGroup:new Jr(t,z8(r,new Jr(e,n.children))),slicedSegments:[]}:0===e.length&&function q8(n,t,e){return e.some(r=>pg(n,t,r))}(n,e,r)?{segmentGroup:new Jr(n.segments,Z8(n,0,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Jr(n.segments,n.children),slicedSegments:e}}function Z8(n,t,e,r,i){const o={};for(const l of r)if(pg(n,e,l)&&!i[ca(l)]){const c=new Jr([],{});o[ca(l)]=c}return{...i,...o}}function z8(n,t){const e={};e[Er]=t;for(const r of n)if(""===r.path&&ca(r)!==Er){const i=new Jr([],{});e[ca(r)]=i}return e}function pg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class K8{constructor(t,e,r,i,o,l,c){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new j8(this.urlSerializer,this.urlTree)}noMatchError(t){return new Lt(4002,!1)}recognize(){const t=qM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Er).pipe(aa(e=>{if(e instanceof zM)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof hg?this.noMatchError(e):e}),me(e=>{const r=new cg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Er,this.rootComponentType,null,{}),i=new rl(r,e),o=new OM("",i),l=function V4(n,t,e=null,r=null){return TM(EM(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Er).pipe(aa(r=>{throw r instanceof hg?this.noMatchError(r):r}))}inheritParamsAndData(t){const e=t.value,r=NM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i,!0)}processChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Gr(i).pipe(ed(o=>{const l=r.children[o],c=function m8(n,t){const e=n.filter(r=>ca(r)===t);return e.push(...n.filter(r=>ca(r)!==t)),e}(e,o);return this.processSegmentGroup(t,c,l,o)}),function _4(n,t){return St(function g4(n,t,e,r,i){return(o,l)=>{let c=e,u=t,g=0;o.subscribe(Ye(l,D=>{const q=g++;u=c?n(u,D,q):(c=!0,D),r&&l.next(u)},i&&(()=>{c&&l.next(u),l.complete()})))}}(n,t,arguments.length>=2,!0))}((o,l)=>(o.push(...l),o)),tg(null),function y4(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wi((i,o)=>n(i,o,r)):ge,Wb(1),e?tg(t):aM(()=>new eg))}(),Dn(o=>{if(null===o)return fd(r);const l=YM(o);return function X8(n){n.sort((t,e)=>t.value.outlet===Er?-1:e.value.outlet===Er?1:t.value.outlet.localeCompare(e.value.outlet))}(l),nr(l)}))}processSegment(t,e,r,i,o,l){return Gr(e).pipe(ed(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,i,o,l).pipe(aa(u=>{if(u instanceof hg)return nr(null);throw u}))),Pc(c=>!!c),aa(c=>{if(HM(c))return function $8(n,t,e){return 0===t.length&&!n.children[e]}(r,i,o)?nr([]):fd(r);throw c}))}processSegmentAgainstRoute(t,e,r,i,o,l,c){return function Y8(n,t,e,r){return!!(ca(n)===r||r!==Er&&pg(t,e,n))&&("**"===n.path||fE(t,n,e).matched)}(r,i,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,l,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,l):fd(i):fd(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?GM(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Dn(l=>{const c=new Jr(l,{});return this.processSegment(t,e,c,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){const{matched:c,consumedSegments:u,remainingSegments:g,positionalParamSegments:D}=fE(e,i,o);if(!c)return fd(e);const q=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,D);return i.redirectTo.startsWith("/")?GM(q):this.applyRedirects.lineralizeSegments(i,q).pipe(Dn(be=>this.processSegment(t,r,e,be.concat(g),l,!1)))}matchSegmentAgainstRoute(t,e,r,i,o,l){let c;if("**"===r.path){const u=i.length>0?uM(i).parameters:{};c=nr({snapshot:new cg(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$M(r),ca(r),r.component??r._loadedComponent??null,r,WM(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else c=H8(e,r,i,t).pipe(me(({matched:u,consumedSegments:g,remainingSegments:D,parameters:q})=>u?{snapshot:new cg(g,q,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$M(r),ca(r),r.component??r._loadedComponent??null,r,WM(r)),consumedSegments:g,remainingSegments:D}:null));return c.pipe(la(u=>null===u?fd(e):this.getChildConfig(t=r._injector??t,r,i).pipe(la(({routes:g})=>{const D=r._loadedInjector??t,{snapshot:q,consumedSegments:be,remainingSegments:Me}=u,{segmentGroup:xe,slicedSegments:qe}=qM(e,be,Me,g);if(0===qe.length&&xe.hasChildren())return this.processChildren(D,g,xe).pipe(me(Nt=>null===Nt?null:[new rl(q,Nt)]));if(0===g.length&&0===qe.length)return nr([new rl(q,[])]);const ct=ca(r)===o;return this.processSegment(D,g,xe,qe,ct?Er:o,!0).pipe(me(Nt=>[new rl(q,Nt)]))}))))}getChildConfig(t,e,r){return e.children?nr({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?nr({routes:e._loadedRoutes,injector:e._loadedInjector}):function L8(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?nr(!0):nr(i.map(l=>{const c=ud(l,n);return Wl(function w8(n){return n&&Th(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(dd(),ZM())}(t,e,r).pipe(Dn(i=>i?this.configLoader.loadChildren(t,e).pipe(zr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function V8(n){return Yo(LM(!1,3))}())):nr({routes:[],injector:t})}}function Q8(n){const t=n.value.routeConfig;return t&&""===t.path}function YM(n){const t=[],e=new Set;for(const r of n){if(!Q8(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=YM(r.children);t.push(new rl(r.value,i))}return t.filter(r=>!e.has(r))}function $M(n){return n.data||{}}function WM(n){return n.resolve||{}}function KM(n){return"string"==typeof n.title||null===n.title}function hE(n){return la(t=>{const e=n(t);return e?Gr(e).pipe(me(()=>t)):nr(t)})}const hd=new dn("ROUTES");let pE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Kt(UC)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return nr(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Wl(e.loadComponent()).pipe(me(XM),zr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Lm(()=>{this.componentLoaders.delete(e)})),i=new sM(r,()=>new ht).pipe($b());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(me(c=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,g;return Array.isArray(c)?g=c:(u=c.create(e).injector,g=u.get(hd,[],rr.Self|rr.Optional).flat()),{routes:g.map(uE),injector:u}}),Lm(()=>{this.childrenLoaders.delete(r)})),l=new sM(o,()=>new ht).pipe($b());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(e){return Wl(e()).pipe(me(XM),Dn(r=>r instanceof KS||Array.isArray(r)?nr(r):Gr(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XM(n){return function s5(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let mg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.configLoader=Kt(pE),this.environmentInjector=Kt(pa),this.urlSerializer=Kt(dh),this.rootContexts=Kt(_h),this.inputBindingEnabled=null!==Kt(ug,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>nr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new J4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Q4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new vs({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mh,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wi(r=>0!==r.id),me(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),la(r=>{let i=!1,o=!1;return nr(r).pipe(zr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),la(l=>{const c=e.browserUrlTree.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==e.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const D="";return this.events.next(new gh(l.id,e.serializeUrl(r.rawUrl),D,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),pr}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return QM(l.source)&&(e.browserUrlTree=l.extractedUrl),nr(l).pipe(la(D=>{const q=this.transitions?.getValue();return this.events.next(new tE(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),q!==this.transitions?.getValue()?pr:Promise.resolve(D)}),function J8(n,t,e,r,i,o){return Dn(l=>function W8(n,t,e,r,i,o,l="emptyOnly"){return new K8(n,t,e,r,i,l,o).recognize()}(n,t,e,r,l.extractedUrl,i,o).pipe(me(({state:c,tree:u})=>({...l,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),zr(D=>{if(r.targetSnapshot=D.targetSnapshot,r.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!D.extras.skipLocationChange){const be=e.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);e.setBrowserUrl(be,D)}e.browserUrlTree=D.urlAfterRedirects}const q=new Y4(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(q)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:D,extractedUrl:q,source:be,restoredState:Me,extras:xe}=l,qe=new tE(D,this.urlSerializer.serialize(q),be,Me);this.events.next(qe);const ct=xM(0,this.rootComponentType).snapshot;return nr(r={...l,targetSnapshot:ct,urlAfterRedirects:q,extras:{...xe,skipLocationChange:!1,replaceUrl:!1}})}{const D="";return this.events.next(new gh(l.id,e.serializeUrl(r.extractedUrl),D,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),pr}}),zr(l=>{const c=new $4(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),me(l=>r={...l,guards:y8(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function M8(n,t){return Dn(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?nr({...e,guardsResult:!0}):function R8(n,t,e,r){return Gr(n).pipe(Dn(i=>function F8(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?nr(o.map(c=>{const u=vh(t)??i,g=ud(c,u);return Wl(function A8(n){return n&&Th(n.canDeactivate)}(g)?g.canDeactivate(n,t,e,r):u.runInContext(()=>g(n,t,e,r))).pipe(Pc())})).pipe(dd()):nr(!0)}(i.component,i.route,e,t,r)),Pc(i=>!0!==i,!0))}(l,r,i,n).pipe(Dn(c=>c&&function T8(n){return"boolean"==typeof n}(c)?function x8(n,t,e,r){return Gr(t).pipe(ed(i=>Jf(function O8(n,t){return null!==n&&t&&t(new e8(n)),nr(!0)}(i.route.parent,r),function N8(n,t){return null!==n&&t&&t(new n8(n)),nr(!0)}(i.route,r),function k8(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function v8(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>oM(()=>nr(l.guards.map(u=>{const g=vh(l.node)??e,D=ud(u,g);return Wl(function C8(n){return n&&Th(n.canActivateChild)}(D)?D.canActivateChild(r,n):g.runInContext(()=>D(r,n))).pipe(Pc())})).pipe(dd())));return nr(o).pipe(dd())}(n,i.path,e),function P8(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return nr(!0);const i=r.map(o=>oM(()=>{const l=vh(t)??e,c=ud(o,l);return Wl(function S8(n){return n&&Th(n.canActivate)}(c)?c.canActivate(t,n):l.runInContext(()=>c(t,n))).pipe(Pc())}));return nr(i).pipe(dd())}(n,i.route,e))),Pc(i=>!0!==i,!0))}(r,o,n,t):nr(c)),me(c=>({...e,guardsResult:c})))})}(this.environmentInjector,l=>this.events.next(l)),zr(l=>{if(r.guardsResult=l.guardsResult,Fc(l.guardsResult))throw FM(0,l.guardsResult);const c=new W4(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Wi(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),hE(l=>{if(l.guards.canActivateChecks.length)return nr(l).pipe(zr(c=>{const u=new K4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),la(c=>{let u=!1;return nr(c).pipe(function e5(n,t){return Dn(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return nr(e);let o=0;return Gr(i).pipe(ed(l=>function t5(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!KM(i)&&(o[ch]=i.title),function n5(n,t,e,r){const i=function r5(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return nr({});const o={};return Gr(i).pipe(Dn(l=>function o5(n,t,e,r){const i=vh(t)??r,o=ud(n,i);return Wl(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[l],t,e,r).pipe(Pc(),zr(c=>{o[l]=c}))),Wb(1),lM(o),aa(l=>HM(l)?pr:Yo(l)))}(o,n,t,r).pipe(me(l=>(n._resolvedData=l,n.data=NM(n,e).resolve,i&&KM(i)&&(n.data[ch]=i.title),null)))}(l.route,r,n,t)),zr(()=>o++),Wb(1),Dn(l=>o===i.length?nr(e):pr))})}(e.paramsInheritanceStrategy,this.environmentInjector),zr({next:()=>u=!0,complete:()=>{u||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),zr(c=>{const u=new X4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),hE(l=>{const c=u=>{const g=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(u.routeConfig).pipe(zr(D=>{u.component=D}),me(()=>{})));for(const D of u.children)g.push(...c(D));return g};return Rm(c(l.targetSnapshot.root)).pipe(tg(),qo(1))}),hE(()=>this.afterPreactivation()),me(l=>{const c=function l8(n,t,e){const r=yh(n,t._root,e?e._root:void 0);return new RM(r,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:c}}),zr(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((n,t,e,r)=>me(i=>(new _8(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qo(1),zr({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Lc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Lm(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),aa(l=>{if(o=!0,UM(l)){BM(l)||(e.navigated=!0,e.restoreHistory(r,!0));const c=new lg(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(c),BM(l)){const u=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||QM(r.source)};e.scheduleNavigation(u,mh,null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const c=new nE(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(c);try{r.resolve(e.errorHandler(l))}catch(u){r.reject(u)}}return pr}))}))}cancelNavigationTransition(e,r,i){const o=new lg(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QM(n){return n!==mh}let JM=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Er);return r}getResolvedTitleForRoute(e){return e.data[ch]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:function(){return Kt(a5)},providedIn:"root"}),n})(),a5=(()=>{class n extends JM{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(Ut(aD))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:function(){return Kt(u5)},providedIn:"root"}),n})();class c5{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let u5=(()=>{class n extends c5{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=go(n)))(r||n)}}(),n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gg=new dn("",{providedIn:"root",factory:()=>({})});let d5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:function(){return Kt(f5)},providedIn:"root"}),n})(),f5=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ts=(()=>((Ts=Ts||{})[Ts.COMPLETE=0]="COMPLETE",Ts[Ts.FAILED=1]="FAILED",Ts[Ts.REDIRECTING=2]="REDIRECTING",Ts))();function eR(n,t){n.events.pipe(Wi(e=>e instanceof Lc||e instanceof lg||e instanceof nE||e instanceof gh),me(e=>e instanceof Lc||e instanceof gh?Ts.COMPLETE:e instanceof lg&&(0===e.code||1===e.code)?Ts.REDIRECTING:Ts.FAILED),Wi(e=>e!==Ts.REDIRECTING),qo(1)).subscribe(()=>{t()})}function h5(n){throw n}function p5(n,t,e){return t.parse("/")}const m5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _o=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Kt(BC),this.isNgZoneEnabled=!1,this.options=Kt(gg,{optional:!0})||{},this.pendingTasks=Kt(bA),this.errorHandler=this.options.errorHandler||h5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||p5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Kt(d5),this.routeReuseStrategy=Kt(l5),this.titleStrategy=Kt(JM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Kt(hd,{optional:!0})?.flat()??[],this.navigationTransitions=Kt(mg),this.urlSerializer=Kt(dh),this.location=Kt(lm),this.componentInputBindingEnabled=!!Kt(ug,{optional:!0}),this.isNgZoneEnabled=Kt(lr)instanceof lr&&lr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ld,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xM(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mh,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(uE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:c,preserveFragment:u}=r,g=u?this.currentUrlTree.fragment:l;let q,D=null;switch(c){case"merge":D={...this.currentUrlTree.queryParams,...o};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=o||null}null!==D&&(D=this.removeEmptyProps(D));try{q=EM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),q=this.currentUrlTree.root}return TM(q,e,D,g??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Fc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,mh,null,r)}navigate(e,r={skipLocationChange:!1}){return function _5(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new Lt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...m5}:!1===r?{...g5}:r,Fc(e))return fM(this.currentUrlTree,e,i);const o=this.parseUrl(e);return fM(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let c,u,g;l?(c=l.resolve,u=l.reject,g=l.promise):g=new Promise((q,be)=>{c=q,u=be});const D=this.pendingTasks.add();return eR(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(q=>Promise.reject(q))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ol=(()=>{class n{constructor(e,r,i,o,l,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this.locationStrategy=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ht;const u=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(g=>{g instanceof Lc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=Qu(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=Qu(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=Qu(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function mT(n,t,e){return function $1(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?pT:Ru}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(bt(_o),bt(il),Eu("tabindex"),bt(Ya),bt(Nr),bt(wc))},n.\u0275dir=jn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&br("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&di("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[wo]}),n})();class tR{}let b5=(()=>{class n{constructor(e,r,i,o,l){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Wi(e=>e instanceof Lc),ed(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Ky(o.providers,e,`Route: ${o.path}`));const l=o._injector??e,c=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Gr(i).pipe(er())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):nr(null);const o=i.pipe(Dn(l=>null===l?nr(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));return r.loadComponent&&!r._loadedComponent?Gr([o,this.loader.loadComponent(r)]).pipe(er()):o})}}return n.\u0275fac=function(e){return new(e||n)(Ut(_o),Ut(UC),Ut(pa),Ut(tR),Ut(pE))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mE=new dn("");let nR=(()=>{class n{constructor(e,r,i,o,l={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof tE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Lc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof gh&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof IM&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new IM(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){Pp()},n.\u0275prov=an({token:n,factory:n.\u0275fac}),n})();function rR(n){return n.routerState.root}function sl(n,t){return{\u0275kind:n,\u0275providers:t}}function iR(){const n=Kt(hs);return t=>{const e=n.get(Ul);if(t!==e.components[0])return;const r=n.get(_o),i=n.get(oR);1===n.get(gE)&&r.initialNavigation(),n.get(sR,null,rr.Optional)?.setUpPreloading(),n.get(mE,null,rr.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const oR=new dn("",{factory:()=>new ht}),gE=new dn("",{providedIn:"root",factory:()=>1}),sR=new dn("");function C5(n){return sl(0,[{provide:sR,useExisting:b5},{provide:tR,useExisting:n}])}const aR=new dn("ROUTER_FORROOT_GUARD"),D5=[lm,{provide:dh,useClass:Kb},_o,_h,{provide:il,useFactory:rR,deps:[_o]},pE,[]];function I5(){return new KC("Router",_o)}let is=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[D5,[],{provide:hd,multi:!0,useValue:e},{provide:aR,useFactory:N5,deps:[[_o,new fc,new Jd]]},{provide:gg,useValue:r||{}},r?.useHash?{provide:wc,useClass:dB}:{provide:wc,useClass:AA},{provide:mE,useFactory:()=>{const n=Kt(DU),t=Kt(lr),e=Kt(gg),r=Kt(mg),i=Kt(dh);return e.scrollOffset&&n.setOffset(e.scrollOffset),new nR(i,r,n,t,e)}},r?.preloadingStrategy?C5(r.preloadingStrategy).\u0275providers:[],{provide:KC,multi:!0,useFactory:I5},r?.initialNavigation?O5(r):[],r?.bindToComponentInputs?sl(8,[kM,{provide:ug,useExisting:kM}]).\u0275providers:[],[{provide:lR,useFactory:iR},{provide:nm,multi:!0,useExisting:lR}]]}}static forChild(e){return{ngModule:n,providers:[{provide:hd,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(Ut(aR,8))},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({}),n})();function N5(n){return"guarded"}function O5(n){return["disabled"===n.initialNavigation?sl(3,[{provide:em,multi:!0,useFactory:()=>{const t=Kt(_o);return()=>{t.setUpLocationChangeListener()}}},{provide:gE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sl(2,[{provide:gE,useValue:0},{provide:em,multi:!0,deps:[hs],useFactory:t=>{const e=t.get(cB,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(_o),o=t.get(oR);eR(i,()=>{r(!0)}),t.get(mg).afterPreactivation=()=>(r(!0),o.closed?nr(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const lR=new dn("");class al{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(t,e){const r=new al;return r.addError(t,e),r}addError(t,e){if(e&&String.hasData(e)){const i=e.split(".");let o=this.errors;for(let l=0;l<i.length;l++){const c=i[l],u=c[0].toLowerCase()+c.slice(1);l<i.length-1?(o[u]={},o=o[u]):o[u]=t}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),t.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(t),void(this.hasErrors=!0);const r=t[0].toLowerCase()+t.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}class cR{constructor(t,e){this.storage=t,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(t,e,r){const i=this.createItemKey(t),o=new k5;o.value=e,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(t){const e=this.createItemKey(t),r=this.storage.getItem(e);return null===r?null:JSON.parse(r).value}remove(t){this.storage.removeItem(this.createItemKey(t))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const t=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const l=this.storage.getItem(o);if(!l)continue;const c=JSON.parse(l);c.expiresOn&&e>c.expiresOn&&t.push(o)}t.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(t){return`${this.keyPrefix}.${t}`}}class k5{}class _E{constructor(){this.keyPrefix=""}}let uR=(()=>{class n extends cR{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,e.keyPrefix)}}return n.\u0275fac=function(e){return new(e||n)(Ut(_E))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dR=(()=>{class n{constructor(e){this.sessionStorageService=e,this.key="UniqueId"}getUniqueId(){let e=this.sessionStorageService.get(this.key);return null==e&&(e=0),this.sessionStorageService.set(this.key,++e),e}}return n.\u0275fac=function(e){return new(e||n)(Ut(uR))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fR(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zn(n,t,e){fR(n,t),t.set(n,e)}function hR(n,t,e){if(!t.has(n))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(n)}function Et(n,t){return function F5(n,t){return t.get?t.get.call(n):t.value}(n,hR(n,t,"get"))}let L5=(()=>{var n=new WeakMap;class t{constructor(){Zn(this,n,{writable:!0,value:/^\)\]\}',?\n/})}intercept(r,i){return i.handle(r.clone()).pipe(aa(o=>{if(!(o instanceof zf))return Yo(()=>o);if(400!==o.status&&404!==o.status)return Yo(()=>o);if(404===o.status)return Yo(()=>al.CreateErrorResult("NotFound"));const l=new al;try{let c=o.error;"string"==typeof c&&(c=JSON.parse(o.error.replace(Et(this,n),""))),Array.isArray(c)?c.forEach(u=>l.addError(u.message,u.memberName)):l.addError(c.message,c.memberName)}catch{l.addError("Internal Error")}return Yo(()=>l)}))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ll{}let ws=(()=>{var n=new WeakMap;class t{constructor(){Zn(this,n,{writable:!0,value:new ht})}raise(r){if(null==r)throw new Error("domainEvent missing");let i="function"==typeof r?new r:"object"==typeof r?r:null;if(!(i&&i instanceof ll))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");Et(this,n).next(i)}handle(r){return Et(this,n).pipe(Wi(i=>i instanceof r),me(i=>i))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Gn(n,t,e){return function B5(n,t,e){if(t.set)t.set.call(n,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}(n,hR(n,t,"set"),e),e}class wh extends ll{}var yE=new WeakMap;class Bc extends ll{get kill(){return Et(this,yE)}constructor(t=!1){super(),Zn(this,yE,{writable:!0,value:void 0}),Gn(this,yE,t)}}let U5=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap;class r{constructor(){Zn(this,n,{writable:!0,value:Kt(vE)}),Zn(this,t,{writable:!0,value:Kt(ws)}),Zn(this,e,{writable:!0,value:Kt(_o)})}intercept(o,l){return l.handle(o.clone()).pipe(aa(c=>c instanceof zf&&(500===c.status||"Unknown Error"===c.statusText)?("Unknown Error"===c.statusText&&console.error(c),Et(this,e).navigate([Et(this,n).route]),Et(this,t).raise(new Bc(!0)),Yo(()=>al.CreateErrorResult("Server Error"))):Yo(()=>c)))}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=an({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class vE{constructor(){this.route="/error"}}function pR(n,t,e){return function V5(n,t){if(n!==t)throw new TypeError("Private static access of wrong provenance")}(n,t),e}ki(37);class j5{}class Kl{static sort(t,e,r){let i;t.sort((o,l)=>{let c=0,u=o[e],g=l[e];return null==u&&null==g?0:(null==u&&(void 0===i&&(i=pR(this,Kl,mR).call(this,g)),u=i),null==g&&(void 0===i&&(i=pR(this,Kl,mR).call(this,u)),g=i),"string"==typeof u&&(c=u.localeCompare(g)),"number"==typeof u&&(c=u-g),"boolean"==typeof u&&(c=u===g?0:u?1:-1),u instanceof Date&&(c=u.valueOf()-g.valueOf()),"desc"===r&&(c=-c),c)})}static fromParamMap(t,e){const r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);const i=Kl.adapt(t,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;const l=e.getAll(o);i[o]="string"!=typeof l?1!==l.length?l:l[0].split(","):l.split(",")}),i}static adapt(t,e){if(null==t)return null;"function"==typeof t&&(t=new t);const r="string"==typeof e?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{const l=o[0].toLowerCase()+o.slice(1);i[l]=r[o]}),this.copyMatchingProperties(t,i),Object.keys(t).filter(o=>"object"==typeof t[o]&&t[o]instanceof j5).forEach(o=>this.adapt(t[o],o in i?i[o]:this.extractPrefixedObject(i,`${o}_`))),t}static copyMatchingProperties(t,e){null==t||null==e||this.getPropertyNames(t).forEach(r=>{if(void 0===e[r])return;let i=typeof t[r];if("object"===i)switch(Reflect.getMetadata("design:type",t,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number"}switch(i){case"string":t[r]=null===e[r]?t[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":t[r]=null===e[r]?t[r]:"boolean"==typeof e[r]?e[r]:!!e[r];break;case"number":t[r]=null===e[r]?t[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((t[r]instanceof Date||Reflect.getMetadata("design:type",t,r)===Date)&&(t[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(t[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",t,r)){const o=Reflect.getMetadata("design:type",t,r);e[r].forEach(l=>t[r].push(Kl.adapt(o,l)))}}})}static getPropertyNames(t){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(t).forEach(i=>!r.includes(i)&&r.push(i))}while((t=Object.getPrototypeOf(t))&&!e.includes(t));return r}static extractPrefixedObject(t,e){const r={};return Object.keys(t).filter(i=>i.startsWith(e)).forEach(i=>r[i.replace(e,"")]=t[i]),r}}function mR(n){switch(typeof n){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return n instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}String.isNullOrWhitespace||(String.isNullOrWhitespace=function(n){return null==n||n.trim().length<1}),String.hasData||(String.hasData=n=>!String.isNullOrWhitespace(n)),String.toDate||(String.toDate=function(n){if(null==n||""===n)return null;if(n instanceof Date)return n;if(!(n instanceof String))return null;const t=n.split("/");if(3!==t.length)return null;const e=Number(t[0]),r=Number(t[1]);let i=Number(t[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o}),Object.trimUnusedProperties||(Object.trimUnusedProperties=function(n){if(null==n)return;if(null==n)return null;let t={...n};for(var e in t){const r=t[e];(null==r||Array.isArray(r)&&0===r.length)&&delete t[e],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete t[e],"number"==typeof r&&0===r&&delete t[e]}return t});let H5=(()=>{class n{constructor(e){this.sessionStorageService=e,this.key="AuthToken"}setAuthToken(e,r){this.sessionStorageService.set(this.key,e,r)}getAuthToken(){return this.sessionStorageService.get(this.key)}removeAuthToken(){this.sessionStorageService.remove(this.key)}}return n.\u0275fac=function(e){return new(e||n)(Ut(uR))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z5=(()=>{class n{constructor(e,r,i,o){this.authTokenService=e,this.config=r,this.eventManagerService=i,this.router=o}intercept(e,r){let i={};if(!e.headers.has("Authorization")){const o=this.authTokenService.getAuthToken();o&&(i={setHeaders:{Authorization:o}})}return r.handle(e.clone(i)).pipe(zr(o=>{if(o instanceof Cc)try{const l=o.headers&&o.headers.has("Authorization")?o.headers.get("Authorization"):o.headers&&o.headers.has("renew-Authorization")?o.headers.get("renew-Authorization"):o.body&&String.hasData(o.body.token)?o.body.token:null;String.hasData(l)&&this.authTokenService.setAuthToken(l,Date.now()+12e5)}catch{}}),aa(o=>o instanceof zf&&(401===o.status||403===o.status)?(this.eventManagerService.raise(new Bc(!0)),this.router.navigate([this.config.route],{replaceUrl:!0}),pr):Yo(()=>o)))}}return n.\u0275fac=function(e){return new(e||n)(Ut(H5),Ut(bE),Ut(ws),Ut(_o))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bE{constructor(){this.route="/forbidden"}}let z5=(()=>{var n=new WeakMap;class t{constructor(){Zn(this,n,{writable:!0,value:Kt(gR)})}intercept(r,i){if(!Et(this,n).use||r.url.includes("assets"))return i.handle(r);const o={url:`${Et(this,n).url}${r.url}`,withCredentials:!0};return i.handle(r.clone(o))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class gR{constructor(){this.use=!1,this.url=""}}let G5=(()=>{class n extends cR{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,e.keyPrefix)}}return n.\u0275fac=function(e){return new(e||n)(Ut(_E))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _R(n,t,e,r,i,o,l){try{var c=n[o](l),u=c.value}catch(g){return void e(g)}c.done?t(u):Promise.resolve(u).then(r,i)}function Pi(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function l(u){_R(o,r,i,l,c,"next",u)}function c(u){_R(o,r,i,l,c,"throw",u)}l(void 0)})}}function Ei(n,t){fR(n,t),t.add(n)}function li(n,t,e){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return e}const q5=["mat-button",""],Y5=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],$5=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],K5=["mat-icon-button",""],X5=["*"],yR={capture:!0},vR=["focus","click","mouseenter","touchstart"],Sh="mat-button-ripple-uninitialized";let Q5=(()=>{class n{constructor(){this._document=Kt(Sr,{optional:!0}),this._animationMode=Kt(ea,{optional:!0}),this._globalRippleOptions=Kt(aI,{optional:!0}),this._platform=Kt(co),this._ngZone=Kt(lr),this._onInteraction=e=>{if(e.target===this._document)return;const i=e.target.closest(`[${Sh}]`);i&&(i.removeAttribute(Sh),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const e of vR)this._document?.addEventListener(e,this._onInteraction,yR)})}ngOnDestroy(){for(const e of vR)this._document?.removeEventListener(e,this._onInteraction,yR)}_appendRipple(e){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new J5(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new od(i,this._ngZone,r,this._platform).setupTriggerEvents(e),e.append(r)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(Sh);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new lI(new Nr(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,e.append(r),i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class J5{constructor(t,e,r){this._button=t,this._globalRippleOptions=e,this._setRippleConfig(e,r)}_setRippleConfig(t,e){this.rippleConfig=t||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const ez=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],tz=km(JD(eI(class{constructor(n){this._elementRef=n}})));let bR=(()=>{class n extends tz{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,r,i,o){super(e),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=Kt(Pm),this._rippleLoader=Kt(Q5),this._isFab=!1;const l=e.nativeElement.classList;for(const c of ez)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(u=>{l.add(u)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}}return n.\u0275fac=function(e){Pp()},n.\u0275dir=jn({type:n,features:[wr]}),n})(),pd=(()=>{class n extends bR{constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(co),bt(lr),bt(ea,8))},n.\u0275cmp=Tr({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(e,r){2&e&&(di("disabled",r.disabled||null)("mat-button-disabled",r._isRippleDisabled())("mat-button-is-fab",r._isFab),qi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[wr],attrs:q5,ngContentSelectors:$5,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Ka(Y5),Yn(0,"span",0),Bi(1),_n(2,"span",1),Bi(3,1),Tn(),Bi(4,2),Yn(5,"span",2)(6,"span",3)),2&e&&qi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),_g=(()=>{class n extends bR{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(co),bt(lr),bt(ea,8))},n.\u0275cmp=Tr({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(e,r){2&e&&(di("disabled",r.disabled||null)("mat-button-disabled",r._isRippleDisabled())("mat-button-is-fab",r._isFab),qi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[wr],attrs:K5,ngContentSelectors:X5,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Ka(),Yn(0,"span",0),Bi(1),Yn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Ss=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[xo,nh,xo]}),n})();var Ti=(()=>((Ti=Ti||{}).Listing="Listing",Ti.Comment="t1",Ti.Account="t2",Ti.Link="t3",Ti.Message="t4",Ti.Subreddit="t5",Ti.Award="t6",Ti.More="more",Ti))();const iz=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function EE(n,t){let e={};return function oz(n,t){if(t.is_crosspost=String.hasData(n.crosspost_parent)&&Array.isArray(n.crosspost_parent_list)&&n.crosspost_parent_list.length>0,n.media?.reddit_video)t.has_video=!0;else if(n.preview?.reddit_video_preview)t.has_video=!0;else if(n.preview&&Array.isArray(n.preview.images)&&n.preview.images[0].variants&&"mp4"in n.preview.images[0].variants)t.has_video=!0;else if(n.media_embed?.content)t.has_embed=!0;else{if(String.hasData(n.selftext_html)&&(t.has_text=!0),n.thumbnail&&"default"===n.thumbnail&&(t.has_link=!0),n.post_hint&&"link"===n.post_hint&&"imgur.com"!==n.domain&&(t.has_link=!0),!n.preview||!Array.isArray(n.preview.images))return n.gallery_data?(t.has_image=!0,void(t.has_image_gallery=!0)):void(iz.some(e=>n.url.endsWith(e))?t.has_image=!0:!t.has_image&&!t.has_text&&(t.has_link=!0));t.has_image=!0}}(n,e),function sz(n,t){t.author=n.author,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.num_comments=n.num_comments,t.stickied=n.stickied,t.subreddit=n.subreddit,t.title=n.title,t.ups=n.ups,t.url=n.url}(n,e),function az(n,t,e){t.is_crosspost&&(t.crosspost=EE(n.crosspost_parent_list[0],e))}(n,e,t),function lz(n,t){t.has_embed&&(t.embed=n.media_embed.content)}(n,e),function cz(n,t){t.has_image&&(t.images=null!=n.gallery_data?function uz(n){return n.gallery_data.items.map(t=>{const e=n.media_metadata[t.media_id];return"valid"!==e.status?{src:"",srcset:"",href:n.url}:{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:n.url}})}(n):null!=n.preview?function dz(n){const t=n.preview.images[0];return[{src:t.source.url,srcset:t.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:n.url}]}(n):function fz(n){return[{src:n.url,srcset:n.url,href:n.url}]}(n))}(n,e),function _z(n,t){t.has_link&&(t.url=n.url)}(n,e),function yz(n,t){t.has_text&&(t.selftext_html=n.selftext_html)}(n,e),function hz(n,t,e){t.has_video&&(t.videos=n.media&&n.media.reddit_video?function pz(n){return[{url:n.media.reddit_video.dash_url,type:"application/dash+xml"},{url:n.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:n.media.reddit_video.fallback_url,type:"video/mp4"}]}(n):n.preview&&n.preview.reddit_video_preview?function mz(n){return[{url:n.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:n.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:n.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}(n):function gz(n){return[{url:n.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(n),!e&&(t.videos=t.videos.filter(r=>"video/mp4"==r.type)))}(n,e,t),e}function Ez(n,t){return TE.apply(this,arguments)}function TE(){return(TE=Pi(function*(n,t,e=""){this.set_post_comments({items:[],post:null});let r=new URLSearchParams;r.set("sort",`${t}`),r.set("limit","100"),r.set("raw_json","1"),r.set("threaded","false"),String.hasData(e)&&r.set("comment",e);const i=new URL(`https://www.reddit.com/comments/${n}.json`);i.search=`${r}`;try{const o=yield fetch(i);if(!o.ok)return void this.set_errors(o.statusText);const l=yield o.json(),c=l[0],u=l[1];if(u.kind!==Ti.Listing)return void this.set_errors(`Comment listing's kind isn't ${Ti.Listing}, its ${u.kind} instead`);if(u.data?.children.some(q=>q.kind!==Ti.Comment&&q.kind!==Ti.More))return void this.set_errors(`Not all of comment listing's children are of kind ${Ti.Comment} or ${Ti.More}`);const g=u.data.children.filter(q=>q.kind==Ti.Comment&&null!=q.data).map(q=>function vz(n){let t={};return function bz(n,t){t.author=n.author,t.body_html=n.body_html,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.stickied=n.stickied,t.ups=n.ups}(n,t),t}(q.data)),D=EE(c.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:n,items:g,sort:t,post:D})}catch(o){this.set_errors(o)}})).apply(this,arguments)}function Tz(n,t,e,r){return wE.apply(this,arguments)}function wE(){return(wE=Pi(function*(n,t,e,r){this.set_posts({items:[],subreddit:""});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(n)&&l.set("after",n),String.hasData(t)&&l.set("modhash",t);const c=new URL(`https://www.reddit.com/r/${o}/${e}.json`);c.search=`${l}`;try{const u=yield fetch(c);if(!u.ok)return void this.set_errors(u.statusText);const g=yield u.json();if(g.kind!==Ti.Listing)return void this.set_errors(`Listing's kind isn't ${Ti.Listing}, its ${g.kind} instead`);if(g.data?.children.some(be=>be.kind!==Ti.Link))return void this.set_errors(`Not all of Listing's children are of kind ${Ti.Link}`);const D=g.data,q=D.children.filter(be=>null!=be.data).map(be=>EE(be.data,this.is_MSE_supported()));q.forEach(be=>be.subreddit_subscribed=i.includes(be.subreddit)),this.set_posts({after:D.after,items:q,modhash:D.modhash,sort:e,subreddit:o})}catch(u){this.set_errors(u)}})).apply(this,arguments)}function wz(n){return SE.apply(this,arguments)}function SE(){return(SE=Pi(function*(n){if(this.get_subreddit_query().request!=n&&(this.set_subreddit_query({request:n,result:[]}),!String.isNullOrWhitespace(n)))try{const r=(yield Sz.call(this,n)).map(l=>Dz.call(this,l)),o=(yield Promise.allSettled(r)).filter(l=>"fulfilled"===l.status).map(l=>l.value).filter(l=>null!=l).map(l=>({accounts_active:l.accounts_active,display_name:l.display_name,public_description_html:l.public_description_html,subscribers:l.subscribers,title:l.title,url:l.url,id:l.id}));this.set_subreddit_query({request:n,result:o})}catch(e){this.set_errors(e)}})).apply(this,arguments)}function Sz(n){return CE.apply(this,arguments)}function CE(){return(CE=Pi(function*(n){const t=[Cz.call(this,n),Az.call(this,n)],r=(yield Promise.allSettled(t)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function Cz(n){return AE.apply(this,arguments)}function AE(){return(AE=Pi(function*(n){const t=new URLSearchParams;t.set("query",n),t.set("exact","false"),t.set("include_over_18","true"),t.set("typeahead_active","false"),t.set("include_unadvertisable","true");const e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${t}`;try{const r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function Az(n){return DE.apply(this,arguments)}function DE(){return(DE=Pi(function*(n){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -comments -wiki`)}&num=40`,i=yield fetch(r);if(!i.ok)throw new Error(i.statusText);const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const g=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:g})}else l.innerHTML=this.domSanitizer.sanitize(jr.HTML,o);let c=Array.from(l.querySelectorAll('a[href*="reddit.com/r/"]')).map(g=>{const D=g.href.indexOf("reddit.com/r/")+13,q=g.href.indexOf("/",D);return g.href.slice(D,q)});const u=c.filter(g=>g.includes("+"));return c=c.filter(g=>!g.includes("+")),u.forEach(g=>g.split("+").forEach(D=>c.push(D))),c})).apply(this,arguments)}function Dz(n){return IE.apply(this,arguments)}function IE(){return(IE=Pi(function*(n){const t=`https://www.reddit.com/r/${n}/about.json?raw_json=1`;try{const e=yield fetch(t,{redirect:"error"});if(!e.ok)return null;const r=yield e.json();return r.kind!==Ti.Subreddit?(this.set_errors(`r/${n}/about.kind isn't ${Ti.Subreddit}, its ${r.kind} instead`),null):r.data}catch{return null}})).apply(this,arguments)}function Iz(n){return ME.apply(this,arguments)}function ME(){return(ME=Pi(function*(n){this.subscriptionService.add(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}function Mz(n){return RE.apply(this,arguments)}function RE(){return(RE=Pi(function*(n){this.subscriptionService.remove(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}let Nz=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakSet;class u{constructor(){Ei(this,c),Zn(this,n,{writable:!0,value:"profile"}),Zn(this,t,{writable:!0,value:Kt(G5)}),Zn(this,e,{writable:!0,value:{}}),Zn(this,r,{writable:!0,value:JSON.stringify(Et(this,e))}),Zn(this,i,{writable:!0,value:new ht}),Zn(this,o,{writable:!0,value:Et(this,i).pipe(Mm(300)).subscribe(()=>li(this,c,g).call(this))}),Zn(this,l,{writable:!0,value:!1})}get(q){return Et(this,e)[q]}set(q,be){Et(this,e)[q]=be,Et(this,i).next("")}load(){var q=this;return Pi(function*(){if(Et(q,l))return;const be=Et(q,t).get(Et(q,n));null!=be&&(Gn(q,e,be),Gn(q,r,JSON.stringify(Et(q,e))),Gn(q,l,!0))})()}ngOnDestroy(){Et(this,o).unsubscribe()}}function g(){const D=JSON.stringify(Et(this,e));D!==Et(this,r)&&(Gn(this,r,D),Et(this,t).set(Et(this,n),Et(this,e)))}return u.\u0275fac=function(q){return new(q||u)},u.\u0275prov=an({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),TR=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap;class r{constructor(){Zn(this,n,{writable:!0,value:"subreddits"}),Zn(this,t,{writable:!0,value:[]}),Zn(this,e,{writable:!0,value:Kt(Nz)})}add(o){String.isNullOrWhitespace(o)||Et(this,t).includes(o)||(Et(this,t).push(o),Et(this,t).sort(),Et(this,e).set(Et(this,n),Et(this,t)))}get(){return[...Et(this,t)]}remove(o){String.isNullOrWhitespace(o)||(Gn(this,t,Et(this,t).filter(l=>l!==o)),Et(this,e).set(Et(this,n),Et(this,t)))}loadAsync(){var o=this;return Pi(function*(){yield Et(o,e).load(),Gn(o,t,["algotrading","android","angular","angular2","angularjs","artificial","askreddit","askscience","bestof","coding","computing","csharp","deeplearning","desmoines","dotnet","funny","futurology","interestingasfuck","javascript","mademesmile","materialdesign","microsoft","mobilewebdev","nextfuckinglevel","personalfinance","picard","programming","science","space","starshipporn","startrek","technology","typescript","web_design","worldnews"])})()}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=an({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Xl=(()=>{var n=new WeakMap,t=new WeakMap;class e{constructor(){Zn(this,n,{writable:!0,value:void 0}),Zn(this,t,{writable:!0,value:void 0}),this.domSanitizer=Kt(Ja),this.subscriptionService=Kt(TR),this.uniqueIdService=Kt(dR),Gn(this,n,new vs({post_comments:{article:"",items:null,sort:"best",post:null},errors:null,posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""},subreddit_query:{request:"",result:null}})),this.errors$=Et(this,n).pipe(zr(i=>!1),me(i=>i.errors)),Gn(this,t,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported),this.posts$=Et(this,n).pipe(Wi(i=>null!=i.posts.items),me(i=>({after:i.posts.after,items:i.posts.items?.map(o=>function Rz(n){const t=JSON.parse(JSON.stringify(n));return t.images&&(t.images=t.images.map(e=>Object.freeze(e))),t.videos&&(t.videos=t.videos.map(e=>Object.freeze(e))),Object.freeze(t)}(o)),modhash:i.posts.modhash,sort:i.posts.sort,subreddit:i.posts.subreddit}))),this.post_comments$=Et(this,n).pipe(Wi(i=>null!=i.post_comments&&null!=i.post_comments.items),me(i=>({items:i.post_comments.items?.map(o=>function xz(n){const t=JSON.parse(JSON.stringify(n));return Object.freeze(t)}(o)),sort:i.post_comments.sort,post:i.post_comments.post}))),this.subreddit_query$=Et(this,n).pipe(me(i=>({request:i.subreddit_query.request,result:i.subreddit_query.result}))),this.actions={listCommentAsync:Ez.bind(this),listPostAsync:Tz.bind(this),searchAsync:wz.bind(this),subscribe:Iz.bind(this),unsubscribe:Mz.bind(this)}}is_MSE_supported(){return Et(this,t)}set_errors(i){const o=Et(this,n).value;null!=i&&(o.errors=i),Et(this,n).next(o)}get_posts(){return Et(this,n).value.posts}set_posts(i){const o=Et(this,n).value;o.posts.after=String.hasData(i.after)?i.after:"",null!=i.items&&(o.posts.items=i.items),o.posts.modhash=String.hasData(i.modhash)?i.modhash:"",null!=i.sort&&(o.posts.sort=i.sort),null!=i.subreddit&&(o.posts.subreddit=i.subreddit),o.errors=null,Et(this,n).next(o)}get_post_comments(){return Et(this,n).value.post_comments}set_post_comments(i){const o=Et(this,n).value;o.post_comments.article=String.hasData(i.article)?i.article:"",void 0!==i.items&&(o.post_comments.items=i.items),null!=i.sort&&(o.post_comments.sort=i.sort),void 0!==i.post&&(o.post_comments.post=i.post),o.errors=null,Et(this,n).next(o)}get_subreddit_query(){return Et(this,n).value.subreddit_query}set_subreddit_query(i){const o=Et(this,n).value;o.subreddit_query.request=String.hasData(i.request)?i.request:"",null!=i.result&&(o.subreddit_query.result=i.result),o.errors=null,Et(this,n).next(o)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wR=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakSet;class r{constructor(){Ei(this,e),Zn(this,n,{writable:!0,value:""}),Zn(this,t,{writable:!0,value:Kt(Ja)}),Gn(this,n,document.baseURI.replace(window.location.origin,"")),Et(this,n).endsWith("/")&&Gn(this,n,Et(this,n).slice(0,-1))}sanitizeHTML(l){if(String.isNullOrWhitespace(l))return"";const c=document.implementation.createHTMLDocument().createElement("p");return c.innerHTML=Et(this,t).sanitize(jr.HTML,l),li(this,e,i).call(this,c),c.innerHTML}sanitizeLink(l){if(String.isNullOrWhitespace(l))return{href:"",text:"",external:!1};let c=l;c.startsWith("/")&&(c=`${window.location.origin}${c}`),c=c.replace(window.location.origin,`${Et(this,n)}`).replace("http://www.reddit.com/",`${Et(this,n)}/`).replace("https://www.reddit.com/",`${Et(this,n)}/`).replace("http://np.reddit.com/",`${Et(this,n)}/`).replace("https://np.reddit.com/",`${Et(this,n)}/`).replace("http://reddit.com/",`${Et(this,n)}/`).replace("https://reddit.com/",`${Et(this,n)}/`).replace("http://old.reddit.com/",`${Et(this,n)}/`).replace("https://old.reddit.com/",`${Et(this,n)}/`);const u=!c.startsWith(Et(this,n));if(!u){const q=c.indexOf("?");q>-1&&(c=c.slice(0,q)),c.endsWith("/")&&(c=c.slice(0,-1))}const g=c.replace(Et(this,n),""),D=document.createElement("a");return D.href=c,D.innerText=g,u&&(D.setAttribute("target","_blank"),D.setAttribute("rel","noopener noreferrer nofollow")),{href:c,text:g,external:u,el:D}}}function i(o){const l=Array.from(o.getElementsByTagName("a"));0!==l.length&&l.forEach(c=>{const u=this.sanitizeLink(c.href);c.replaceWith(u.el)})}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=an({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),yg=(()=>{var n=new WeakMap,t=new WeakSet,e=new WeakSet;class r{constructor(){Ei(this,e),Ei(this,t),Zn(this,n,{writable:!0,value:{}})}save(c="",u=""){Et(this,n)[window.location.href]={yScroll:window.scrollY},li(this,t,i).call(this,c,u,Et(this,n)[window.location.href])}restore(){setTimeout(()=>{const c=Et(this,n)[window.location.href];c?(li(this,e,o).call(this,c),window.scrollTo(0,c.yScroll||0),delete Et(this,n)[window.location.href]):window.scrollTo(0,0)},0)}}function i(l,c,u){if(u.tag_name=l,u.element_id=c,u.element_heights=[],String.isNullOrWhitespace(c)||String.isNullOrWhitespace(l))return;const g=document.querySelectorAll(l);for(let D=0;D<g.length;D++){const q=g[D];if(u.element_heights.push({id:q.id,height:q.getBoundingClientRect().height}),q.id===c)break}}function o(l){if(String.isNullOrWhitespace(l.element_id)||String.isNullOrWhitespace(l.tag_name)||0===l.element_heights?.length)return l.element_id="",l.tag_name="",void(l.element_heights=[]);const c=document.querySelectorAll(l.tag_name);for(let u=0;u<c.length;u++){const g=c[u],D=l.element_heights.find(q=>q.id===g.id);if(null!=D&&(g.style.height=`${D.height}px`,g.id===l.element_id))break}l.element_id="",l.tag_name="",l.element_heights=[]}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=an({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Oz=["determinateSpinner"];function Pz(n,t){if(1&n&&(Rn(),_n(0,"svg",11),Yn(1,"circle",12),Tn()),2&n){const e=zn();di("viewBox",e._viewBox()),rn(1),bc("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),di("r",e._circleRadius())}}const kz=km(class{constructor(n){this._elementRef=n}},"primary"),Fz=new dn("mat-progress-spinner-default-options",{providedIn:"root",factory:function Lz(){return{diameter:SR}}}),SR=100;let Uz=(()=>{class n extends kz{constructor(e,r,i){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=SR,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,rd(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=rd(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=rd(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(ea,8),bt(Fz))},n.\u0275cmp=Tr({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,r){if(1&e&&gs(Oz,5),2&e){let i;mi(i=gi())&&(r._determinateCircle=i.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(e,r){2&e&&(di("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),bc("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),qi("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[wr],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,r){if(1&e&&(kn(0,Pz,2,8,"ng-template",null,0,av),_n(2,"div",1,2),Rn(),_n(4,"svg",3),Yn(5,"circle",4),Tn()(),function sr(){!function Wn(){R.lFrame.currentNamespace=null}()}(),_n(6,"div",5)(7,"div",6)(8,"div",7),Cf(9,8),Tn(),_n(10,"div",9),Cf(11,8),Tn(),_n(12,"div",10),Cf(13,8),Tn()()()),2&e){const i=io(1);rn(4),di("viewBox",r._viewBox()),rn(1),bc("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),di("r",r._circleRadius()),rn(4),Wt("ngTemplateOutlet",i),rn(2),Wt("ngTemplateOutlet",i),rn(2),Wt("ngTemplateOutlet",i)}},dependencies:[Hv],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),Vz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[Di,xo]}),n})();function jz(n,t){1&n&&(_n(0,"div",1),Yn(1,"mat-spinner",2),Tn())}let xE,Hz=(()=>{class n{constructor(e){this.requestCount=0,this.delay=250,this.show=!1,e.handle(wh).subscribe(r=>this.waitStart()),e.handle(Bc).subscribe(r=>this.waitEnd(r))}waitStart(){this.requestCount++,window.setTimeout(()=>{0!==this.requestCount&&(this.show=!0)},this.delay)}waitEnd(e){e.kill?this.requestCount=0:this.requestCount>0&&this.requestCount--,0===this.requestCount&&(this.show=!1)}}return n.\u0275fac=function(e){return new(e||n)(bt(ws))},n.\u0275cmp=Tr({type:n,selectors:[["throbber"]],standalone:!0,features:[ni],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(e,r){1&e&&kn(0,jz,2,0,"div",0),2&e&&Wt("ngIf",r.show)},dependencies:[Vz,Uz,lo],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"]}),n})(),Zz=(()=>{var n=new WeakMap,t=new WeakMap;class e{constructor(){Zn(this,n,{writable:!0,value:Kt(ws)}),Zn(this,t,{writable:!0,value:Kt(TR)})}ngOnInit(){var i=this;return Pi(function*(){const o=[Et(i,t).loadAsync()];Et(i,n).raise(wh);try{yield Promise.allSettled(o)}finally{Et(i,n).raise(Bc)}})()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Tr({type:e,selectors:[["app-root"]],standalone:!0,features:[ni],decls:2,vars:0,template:function(i,o){1&i&&Yn(0,"throbber")(1,"router-outlet")},dependencies:[is,lE,Hz],encapsulation:2}),e})(),zz=1;const vg={};function CR(n){return n in vg&&(delete vg[n],!0)}const Gz={setImmediate(n){const t=zz++;return vg[t]=!0,xE||(xE=Promise.resolve()),xE.then(()=>CR(t)&&n()),t},clearImmediate(n){CR(n)}},{setImmediate:qz,clearImmediate:Yz}=Gz,bg={setImmediate(...n){const{delegate:t}=bg;return(t?.setImmediate||qz)(...n)},clearImmediate(n){const{delegate:t}=bg;return(t?.clearImmediate||Yz)(n)},delegate:void 0},NE=new class Wz extends hb{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class $z extends fb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=bg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(bg.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function AR(n,t){return t?e=>Jf(t.pipe(qo(1),function Kz(){return St((n,t)=>{n.subscribe(Ye(t,m))})}()),e.pipe(AR(n))):Dn((e,r)=>ft(n(e,r)).pipe(qo(1),lM(e)))}function DR(n=0,t,e=y3){let r=-1;return null!=t&&(zt(t)?e=t:r=t),new We(i=>{let o=function Xz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function IR(n,t=Im){const e=DR(n,t);return AR(()=>e)}class OE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class MR extends OE{constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class RR extends OE{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Qz extends OE{constructor(t){super(),this.element=t instanceof Nr?t.nativeElement:t}}class Jz{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof MR?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof RR?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Qz?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class eG extends Jz{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||hs.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let tG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({}),n})();const nG=["addListener","removeListener"],rG=["addEventListener","removeEventListener"],iG=["on","off"];function PE(n,t,e,r){if(Kn(e)&&(r=e,e=void 0),r)return PE(n,t,e).pipe(_b(r));const[i,o]=function aG(n){return Kn(n.addEventListener)&&Kn(n.removeEventListener)}(n)?rG.map(l=>c=>n[l](t,c,e)):function oG(n){return Kn(n.addListener)&&Kn(n.removeListener)}(n)?nG.map(xR(n,t)):function sG(n){return Kn(n.on)&&Kn(n.off)}(n)?iG.map(xR(n,t)):[];if(!i&&ho(n))return Dn(l=>PE(l,t,e))(ft(n));if(!i)throw new TypeError("Invalid event target");return new We(l=>{const c=(...u)=>l.next(1<u.length?u:u[0]);return i(c),()=>o(c)})}function xR(n,t){return e=>r=>n[e](t,r)}const Ch={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Ch;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new L(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Ch;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ch;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class cG extends hb{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class lG extends fb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Ch.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Ch.cancelAnimationFrame(e),t._scheduled=void 0)}});function NR(n,t=Im){return function dG(n){return St((t,e)=>{let r=!1,i=null,o=null,l=!1;const c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const g=i;i=null,e.next(g)}l&&e.complete()},u=()=>{o=null,l&&e.complete()};t.subscribe(Ye(e,g=>{r=!0,i=g,o||ft(n(g)).subscribe(o=Ye(e,c,u))},()=>{l=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>DR(n,t))}let OR=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new ht,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new We(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(NR(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Wi(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=el(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>PE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(Ut(lr),Ut(co),Ut(Sr,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PR=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new ht,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(NR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Ut(co),Ut(lr),Ut(Sr,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({}),n})(),kR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[$f,Eg,$f,Eg]}),n})();const FR=f3();class pG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Xi(-this._previousScrollPosition.left),t.style.top=Xi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),FR&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FR&&(r.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class mG{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Wi(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LR{enable(){}disable(){}attach(){}}function kE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function BR(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class gG{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();kE(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _G=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new LR,this.close=l=>new mG(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new pG(this._viewportRuler,this._document),this.reposition=l=>new gG(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(Ut(OR),Ut(PR),Ut(lr),Ut(Sr))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UR{constructor(t){if(this.scrollStrategy=new LR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class yG{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let VR=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vG=(()=>{class n extends VR{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const c=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr),Ut(lr,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bG=(()=>{class n extends VR{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=zl(o)},this._clickListener=o=>{const l=zl(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let g=u.length-1;g>-1;g--){const D=u[g];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(l)||D.overlayElement.contains(c))break;const q=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>q.next(o)):q.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr),Ut(co),Ut(lr,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jR=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ub()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),ub()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(Ut(Sr),Ut(co))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class EG{constructor(t,e,r,i,o,l,c,u,g,D=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=c,this._location=u,this._outsideClickDispatcher=g,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new ht,this._attachments=new ht,this._detachments=new ht,this._locationChanges=L.EMPTY,this._backdropClickHandler=q=>this._backdropClick.next(q),this._backdropTransitionendHandler=q=>{this._disposeBackdrop(q.target)},this._keydownEvents=new ht,this._outsidePointerEvents=new ht,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Xi(this._config.width),t.height=Xi(this._config.height),t.minWidth=Xi(this._config.minWidth),t.minHeight=Xi(this._config.minHeight),t.maxWidth=Xi(this._config.maxWidth),t.maxHeight=Xi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=Am(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ro(ui(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const HR="cdk-overlay-connected-position-bounding-box",TG=/([A-Za-z%]+)$/;class wG{get positions(){return this._preferredPositions}constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht,this._resizeSubscription=L.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(HR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let l;for(let c of this._preferredPositions){let u=this._getOriginPoint(t,i,c),g=this._getOverlayPoint(u,e,c),D=this._getOverlayFit(g,e,r,c);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(D,g,r)?o.push({position:c,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!l||l.overlayFit.visibleArea<D.visibleArea)&&(l={overlayFit:D,overlayPoint:g,originPoint:u,position:c,overlayRect:e})}if(o.length){let c=null,u=-1;for(const g of o){const D=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);D>u&&(u=D,c=g)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Uc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i="start"==r.originX?l:c}return e.left<0&&(i-=e.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){const o=zR(e);let{x:l,y:c}=t,u=this._getOffset(i,"x"),g=this._getOffset(i,"y");u&&(l+=u),g&&(c+=g);let be=0-c,Me=c+o.height-r.height,xe=this._subtractOverflows(o.width,0-l,l+o.width-r.width),qe=this._subtractOverflows(o.height,be,Me),ct=xe*qe;return{visibleArea:ct,isCompletelyWithinViewport:o.width*o.height===ct,fitsInViewportVertically:qe===o.height,fitsInViewportHorizontally:xe==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,l=ZR(this._overlayRef.getConfig().minHeight),c=ZR(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=i)&&(t.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=zR(e),o=this._viewportRect,l=Math.max(t.x+i.width-o.width,0),c=Math.max(t.y+i.height-o.height,0),u=Math.max(o.top-r.top-t.y,0),g=Math.max(o.left-r.left-t.x,0);let D=0,q=0;return D=i.width<=o.width?g||-l:t.x<this._viewportMargin?o.left-r.left-t.x:0,q=i.height<=o.height?u||-c:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:D,y:q},{x:t.x+D,y:t.y+q}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new yG(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let o,l,c,D,q,be;if("top"===e.overlayY)l=t.y,o=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)c=r.height-t.y+2*this._viewportMargin,o=r.height-c+this._viewportMargin;else{const Me=Math.min(r.bottom-t.y+r.top,t.y),xe=this._lastBoundingBoxSize.height;o=2*Me,l=t.y-Me,o>xe&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-xe/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)be=r.width-t.x+this._viewportMargin,D=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)q=t.x,D=r.right-t.x;else{const Me=Math.min(r.right-t.x+r.left,t.x),xe=this._lastBoundingBoxSize.width;D=2*Me,q=t.x-Me,D>xe&&!this._isInitialRender&&!this._growAfterOpen&&(q=t.x-xe/2)}return{top:l,left:q,bottom:c,right:be,width:D,height:o}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Xi(r.height),i.top=Xi(r.top),i.bottom=Xi(r.bottom),i.width=Xi(r.width),i.left=Xi(r.left),i.right=Xi(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Xi(o)),l&&(i.maxWidth=Xi(l))}this._lastBoundingBoxSize=r,Uc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Uc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Uc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const D=this._viewportRuler.getViewportScrollPosition();Uc(r,this._getExactOverlayY(e,t,D)),Uc(r,this._getExactOverlayX(e,t,D))}else r.position="static";let c="",u=this._getOffset(e,"x"),g=this._getOffset(e,"y");u&&(c+=`translateX(${u}px) `),g&&(c+=`translateY(${g}px)`),r.transform=c.trim(),l.maxHeight&&(i?r.maxHeight=Xi(l.maxHeight):o&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Xi(l.maxWidth):o&&(r.maxWidth="")),Uc(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Xi(o.y),i}_getExactOverlayX(t,e,r){let l,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Xi(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BR(t,r),isOriginOutsideView:kE(t,r),isOverlayClipped:BR(e,r),isOverlayOutsideView:kE(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Am(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Nr)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Uc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ZR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(TG);return e&&"px"!==e?null:parseFloat(t)}return n||null}function zR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const GR="cdk-global-overlay-wrapper";class SG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(GR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:c}=r,u=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),g=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),D=this._xPosition,q=this._xOffset,be="rtl"===this._overlayRef.getConfig().direction;let Me="",xe="",qe="";u?qe="flex-start":"center"===D?(qe="center",be?xe=q:Me=q):be?"left"===D||"end"===D?(qe="flex-end",Me=q):("right"===D||"start"===D)&&(qe="flex-start",xe=q):"left"===D||"start"===D?(qe="flex-start",Me=q):("right"===D||"end"===D)&&(qe="flex-end",xe=q),t.position=this._cssPosition,t.marginLeft=u?"0":Me,t.marginTop=g?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=u?"0":xe,e.justifyContent=qe,e.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(GR),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let CG=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new SG}flexibleConnectedTo(e){return new wG(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(Ut(PR),Ut(Sr),Ut(co),Ut(jR))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AG=0,md=(()=>{class n{constructor(e,r,i,o,l,c,u,g,D,q,be,Me){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=c,this._ngZone=u,this._document=g,this._directionality=D,this._location=q,this._outsideClickDispatcher=be,this._animationsModuleType=Me}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),l=new UR(e);return l.direction=l.direction||this._directionality.value,new EG(o,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+AG++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ul)),new eG(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(Ut(_G),Ut(jR),Ut(pf),Ut(CG),Ut(vG),Ut(hs),Ut(lr),Ut(Sr),Ut(Sm),Ut(lm),Ut(bG),Ut(ea,8))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MG={provide:new dn("cdk-connected-overlay-scroll-strategy"),deps:[md],useFactory:function IG(n){return()=>n.scrollStrategies.reposition()}};let qR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({providers:[md,MG],imports:[$f,tG,kR,kR]}),n})();const RG=["mat-menu-item",""];function xG(n,t){1&n&&(Rn(),_n(0,"svg",3),Yn(1,"polygon",4),Tn())}const NG=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],OG=["mat-icon, [matMenuItemIcon]","*"];function PG(n,t){if(1&n){const e=oo();_n(0,"div",0),br("keydown",function(i){return pe(e),ue(zn()._handleKeydown(i))})("click",function(){return pe(e),ue(zn().closed.emit("click"))})("@transformMenu.start",function(i){return pe(e),ue(zn()._onAnimationStart(i))})("@transformMenu.done",function(i){return pe(e),ue(zn()._onAnimationDone(i))}),_n(1,"div",1),Bi(2),Tn()()}if(2&n){const e=zn();Wt("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),di("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const kG=["*"],FE=new dn("MAT_MENU_PANEL"),FG=eI(JD(class{}));let Ah=(()=>{class n extends FG{constructor(e,r,i,o,l){super(),this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new ht,this._focused=new ht,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(Sr),bt(Pm),bt(FE,8),bt(ys))},n.\u0275cmp=Tr({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,r){1&e&&br("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(di("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),qi("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[wr],attrs:RG,ngContentSelectors:OG,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(Ka(NG),Bi(0),_n(1,"span",0),Bi(2,1),Tn(),Yn(3,"div",1),kn(4,xG,2,0,"svg",2)),2&e&&(rn(3),Wt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),rn(1),Wt("ngIf",r._triggersSubmenu))},dependencies:[lo,lI],encapsulation:2,changeDetection:0}),n})();const LG=new dn("MatMenuContent"),Tg={transformMenu:Kf("transformMenu",[Ic("void",rs({opacity:0,transform:"scale(0.8)"})),ql("void => enter",Gl("120ms cubic-bezier(0, 0, 0.2, 1)",rs({opacity:1,transform:"scale(1)"}))),ql("* => void",Gl("100ms 25ms linear",rs({opacity:0})))]),fadeInItems:Kf("fadeInItems",[Ic("showing",rs({opacity:1})),ql("void => *",[rs({opacity:0}),Gl("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let BG=0;const YR=new dn("mat-menu-default-options",{providedIn:"root",factory:function UG(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Dh=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=js(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=js(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=o,this._directDescendantItems=new Wu,this._classList={},this._panelAnimationState="void",this._animationDone=new ht,this.closed=new ri,this.close=this.closed,this.panelId="mat-menu-panel-"+BG++,this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this._overlapTrigger=i.overlapTrigger,this._hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new nj(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(eh(this._directDescendantItems),la(e=>ui(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(eh(this._directDescendantItems),la(r=>ui(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:gb(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(qo(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(eh(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(lr),bt(YR),bt(ys))},n.\u0275dir=jn({type:n,contentQueries:function(e,r,i){if(1&e&&(_s(i,LG,5),_s(i,Ah,5),_s(i,Ah,4)),2&e){let o;mi(o=gi())&&(r.lazyContent=o.first),mi(o=gi())&&(r._allItems=o),mi(o=gi())&&(r.items=o)}},viewQuery:function(e,r){if(1&e&&gs(Ta,5),2&e){let i;mi(i=gi())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),LE=(()=>{class n extends Dh{constructor(e,r,i,o){super(e,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(lr),bt(YR),bt(ys))},n.\u0275cmp=Tr({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration","true"],hostVars:3,hostBindings:function(e,r){2&e&&di("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Qr([{provide:FE,useExisting:n}]),wr],ngContentSelectors:kG,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,r){1&e&&(Ka(),kn(0,PG,3,6,"ng-template"))},dependencies:[Ju],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:var(--mdc-shape-medium, 4px)}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Tg.transformMenu,Tg.fadeInItems]},changeDetection:0}),n})();const $R=new dn("mat-menu-scroll-strategy"),jG={provide:$R,deps:[md],useFactory:function VG(n){return()=>n.scrollStrategies.reposition()}},WR=Ac({passive:!0});let HG=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,o,l,c,u,g,D){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=c,this._dir=u,this._focusMonitor=g,this._ngZone=D,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=L.EMPTY,this._hoverSubscription=L.EMPTY,this._menuCloseSubscription=L.EMPTY,this._changeDetectorRef=Kt(ys),this._handleTouchStart=q=>{Eb(q)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ri,this.onMenuOpen=this.menuOpened,this.menuClosed=new ri,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=l instanceof Dh?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,WR)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,WR),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Dh&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Ro(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Dh?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Wi(i=>"void"===i.toState),qo(1),Ro(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new UR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",l="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,l)):e.setPositionClasses(o,l)})}_setPosition(e,r){let[i,o]="before"===e.xPosition?["end","start"]:["start","end"],[l,c]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[u,g]=[l,c],[D,q]=[i,o],be=0;if(this.triggersSubmenu()){if(q=i="before"===e.xPosition?"start":"end",o=D="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Me=this._parentMaterialMenu.items.first;this._parentInnerPadding=Me?Me._getHostElement().offsetTop:0}be="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(u="top"===l?"bottom":"top",g="top"===c?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:D,overlayY:l,offsetY:be},{originX:o,originY:u,overlayX:q,overlayY:l,offsetY:be},{originX:i,originY:g,overlayX:D,overlayY:c,offsetY:-be},{originX:o,originY:g,overlayX:q,overlayY:c,offsetY:-be}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return ui(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:nr(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Wi(l=>l!==this._menuItemInstance),Wi(()=>this._menuOpen)):nr(),r)}_handleMousedown(e){bb(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Wi(e=>e===this._menuItemInstance&&!e.disabled),IR(0,NE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Dh&&this.menu._isAnimating?this.menu._animationDone.pipe(qo(1),IR(0,NE),Ro(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new RR(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(bt(md),bt(Nr),bt(ms),bt($R),bt(FE,8),bt(Ah,10),bt(Sm,8),bt(Pm),bt(lr))},n.\u0275dir=jn({type:n,hostVars:3,hostBindings:function(e,r){1&e&&br("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&e&&di("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),BE=(()=>{class n extends HG{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=go(n)))(r||n)}}(),n.\u0275dir=jn({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[wr]}),n})(),cl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({providers:[jG],imports:[Di,nh,xo,qR,Eg,xo]}),n})();class KR extends ll{}class XR extends ll{constructor(t){super(),this.sort_requested=t}}class QR extends ll{constructor(t){super(),this.sort_requested=t}}class Ih extends ll{constructor(t){super(),this.subreddit_requested=t}}class JR extends ll{constructor(t){super(),this.search=t}}class ex extends ll{constructor(t){super(),this.article=t}}const ZG=["best","confidence","top","new","controversial","old"],zG=function(n){return{display:n}};function GG(n,t){if(1&n){const e=oo();_n(0,"a",14),br("click",function(){const o=pe(e).$implicit;return ue(zn(2).change_sort(o))}),Pr(1),Tn()}if(2&n){const e=t.$implicit,r=zn().ngIf;Wt("ngStyle",ra(2,zG,r.sort===e?"none":"inherit")),rn(1),Mo(" ",e," ")}}function qG(n,t){if(1&n&&(ya(0),_n(1,"div",1)(2,"span"),Pr(3,"Comments"),Tn(),Yn(4,"span",2),_n(5,"button",3),Pr(6),Yn(7,"mat-icon",4),Tn(),_n(8,"button",5),Yn(9,"mat-icon",6),Tn()(),_n(10,"mat-menu",null,7),kn(12,GG,2,4,"a",8),Tn(),_n(13,"mat-menu",9,10),Yn(15,"mat-icon",11)(16,"mat-icon",12)(17,"mat-icon",13),Tn(),va()),2&n){const e=t.ngIf,r=io(11),i=io(14),o=zn();rn(5),Wt("matMenuTriggerFor",r),rn(1),Mo(" ",e.sort," "),rn(2),Wt("matMenuTriggerFor",i),rn(4),Wt("ngForOf",o.POST_COMMENT_SORT)}}let YG=(()=>{var n=new WeakMap;class t{constructor(){Zn(this,n,{writable:!0,value:void 0}),Gn(this,n,Kt(ws)),this.POST_COMMENT_SORT=ZG,this.controller=Kt(Xl)}change_sort(r){var i=this;return Pi(function*(){Et(i,n).raise(new XR(r))})()}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tr({type:t,selectors:[["post-comment-list-header"]],standalone:!0,features:[ni],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){1&r&&(kn(0,qG,18,4,"ng-container",0),vi(1,"async")),2&r&&Wt("ngIf",bi(1,1,i.controller.post_comments$))},dependencies:[Di,jl,lo,Vf,Sc,Ss,pd,_g,$o,Ca,cl,LE,Ah,BE,is,ol],changeDetection:0}),t})();const $G=["*",[["mat-toolbar-row"]]],WG=["*","mat-toolbar-row"],KG=km(class{constructor(n){this._elementRef=n}});let tx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=jn({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),XG=(()=>{class n extends KG{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(co),bt(Sr))},n.\u0275cmp=Tr({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&_s(i,tx,5),2&e){let o;mi(o=gi())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&qi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[wr],ngContentSelectors:WG,decls:2,vars:0,template:function(e,r){1&e&&(Ka($G),Bi(0),Bi(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Vc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[xo,xo]}),n})();const QG=["textPost"],JG=function(n){return{masked:n}};let UE=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,g=new WeakSet;class D{set data(Me){null!=Me&&(Gn(this,c,Me),li(this,g,q).call(this))}set post(Me){Me&&Me.nativeElement&&Gn(this,u,Me.nativeElement)}constructor(Me,xe,qe,ct,Nt){Ei(this,g),Zn(this,n,{writable:!0,value:void 0}),Zn(this,t,{writable:!0,value:void 0}),Zn(this,e,{writable:!0,value:void 0}),Zn(this,r,{writable:!0,value:void 0}),Zn(this,i,{writable:!0,value:void 0}),Zn(this,o,{writable:!0,value:void 0}),Zn(this,l,{writable:!0,value:void 0}),Zn(this,c,{writable:!0,value:void 0}),Zn(this,u,{writable:!0,value:void 0}),Gn(this,n,!0),this._truncated=!0,Gn(this,l,""),Gn(this,c,""),Gn(this,t,Me),Gn(this,e,xe),Gn(this,r,qe),Gn(this,i,ct),Gn(this,o,Nt),Gn(this,l,document.baseURI),Et(this,l).endsWith("/")&&Gn(this,l,Et(this,l).slice(0,-1))}onClick(Me){const xe=Me.target;if(xe&&"A"===xe.tagName){const qe=xe.href;qe.startsWith(Et(this,l))&&(Me.preventDefault(),Me.stopImmediatePropagation(),Me.stopPropagation(),Et(this,r).navigateByUrl(qe.replace(Et(this,l),"")))}else if(Et(this,n)){if(this._truncated)return this._truncated=!1,void Et(this,o).save();this._truncated=!0,Et(this,o).restore()}}}function q(){this._text=Et(this,e).bypassSecurityTrustHtml(Et(this,i).sanitizeHTML(Et(this,c))),setTimeout(()=>{this._truncated=Et(this,u).scrollHeight>Et(this,u).clientHeight,Gn(this,n,this._truncated),Et(this,t).detectChanges()},0)}return D.\u0275fac=function(Me){return new(Me||D)(bt(ys),bt(Ja),bt(_o),bt(wR),bt(yg))},D.\u0275cmp=Tr({type:D,selectors:[["text-block"]],viewQuery:function(Me,xe){if(1&Me&&gs(QG,5),2&Me){let qe;mi(qe=gi())&&(xe.post=qe.first)}},inputs:{data:"data"},standalone:!0,features:[ni],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(Me,xe){1&Me&&(_n(0,"p",0,1),br("click",function(ct){return xe.onClick(ct)}),Tn()),2&Me&&Wt("ngClass",ra(2,JG,xe._truncated))("innerHTML",xe._text,W_)},dependencies:[Di,Ju,is],changeDetection:0}),D})(),e6=(()=>{class n{constructor(){this.data=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:1,vars:1,consts:[[3,"data"]],template:function(e,r){1&e&&Yn(0,"text-block",0),2&e&&Wt("data",null==r.data?null:r.data.body_html)},dependencies:[UE],changeDetection:0}),n})(),VE=(()=>{class n{transform(e){if(isNaN(+`${e}`)||0===e)return"0";const r=Math.log10(e);return r<3?`${e}`:r<6?`${Math.floor(e/1e3)}K`:r<9?`${Math.floor(e/1e6)}M`:"lots"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Li({name:"count",type:n,pure:!0,standalone:!0}),n})();function t6(n,t){if(1&n&&(_n(0,"button",1),Yn(1,"mat-icon",2),Pr(2),vi(3,"count"),Tn()),2&n){const e=zn();rn(2),Mo(" ",bi(3,1,e.data.ups),"\n")}}function n6(n,t){if(1&n&&(_n(0,"button",1),Yn(1,"mat-icon",3),Pr(2),vi(3,"count"),Tn()),2&n){const e=zn();rn(2),Mo(" ",bi(3,1,e.data.downs),"\n")}}let r6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["post-comment-footer"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:2,vars:2,consts:[["mat-button","","disableRipple","",4,"ngIf"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(e,r){1&e&&(kn(0,t6,4,3,"button",0),kn(1,n6,4,3,"button",0)),2&e&&(Wt("ngIf",r.data.ups>0),rn(1),Wt("ngIf",r.data.downs>0))},dependencies:[Di,lo,VE,Ss,pd,$o,Ca,cl,nh,Vc,is],changeDetection:0}),n})(),nx=(()=>{class n{transform(e){if(null==e)return"-";const r=new Date(Date.now()-1e3*e);return r.getUTCFullYear()>1970?r.getUTCFullYear()-1970+"y":r.getUTCMonth()>0?`${r.getUTCMonth()}mo`:r.getUTCDate()>1?r.getUTCDate()-1+"d":r.getUTCHours()>0?`${r.getUTCHours()}h`:`${r.getUTCMinutes()}m`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Li({name:"age",type:n,pure:!0,standalone:!0}),n})();function i6(n,t){1&n&&Yn(0,"mat-icon",3)}const o6=function(n){return["/u",n]};let s6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(e,r){1&e&&(_n(0,"section",0)(1,"a",1),Pr(2),Tn(),_n(3,"span"),Pr(4),vi(5,"age"),Tn(),kn(6,i6,1,0,"mat-icon",2),Tn()),2&e&&(rn(1),Wt("routerLink",ra(6,o6,r.data.author)),rn(1),Mo("u/",r.data.author,""),rn(2),Zo(bi(5,4,r.data.created_utc)),rn(2),Wt("ngIf",r.data.stickied))},dependencies:[nx,Di,lo,$o,Ca,is,ol],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0}),n})(),a6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:3,vars:3,consts:[[3,"data"]],template:function(e,r){1&e&&Yn(0,"post-comment-header",0)(1,"post-comment-body",0)(2,"post-comment-footer",0),2&e&&(Wt("data",r.data),rn(1),Wt("data",r.data),rn(1),Wt("data",r.data))},dependencies:[Di,Ss,$o,cl,Vc,is,s6,e6,r6],changeDetection:0}),n})();const l6=["hot","top","new","controversial","rising"],c6=function(n){return{display:n}};function u6(n,t){if(1&n){const e=oo();_n(0,"a",15),br("click",function(){const o=pe(e).$implicit;return ue(zn(2).change_sort(o))}),Pr(1),Tn()}if(2&n){const e=t.$implicit,r=zn().ngIf;Wt("ngStyle",ra(2,c6,r.sort===e?"none":"inherit")),rn(1),Mo(" ",e," ")}}function d6(n,t){if(1&n){const e=oo();ya(0),_n(1,"div",1)(2,"span",2),Pr(3),Tn(),Yn(4,"span",3),_n(5,"button",4),Pr(6),Yn(7,"mat-icon",5),Tn(),_n(8,"button",6),Yn(9,"mat-icon",7),Tn()(),_n(10,"mat-menu",null,8),kn(12,u6,2,4,"a",9),Tn(),_n(13,"mat-menu",10,11)(15,"mat-icon",12),br("click",function(){return pe(e),ue(zn().back_to_home())}),Tn(),Yn(16,"mat-icon",13)(17,"mat-icon",14),Tn(),va()}if(2&n){const e=t.ngIf,r=io(11),i=io(14),o=zn();rn(3),Zo(e.subreddit.includes("+")?"multi":e.subreddit),rn(2),Wt("matMenuTriggerFor",r),rn(1),Mo(" ",e.sort," "),rn(2),Wt("matMenuTriggerFor",i),rn(4),Wt("ngForOf",o.POST_SORT)}}let f6=(()=>{var n=new WeakMap;class t{constructor(){Zn(this,n,{writable:!0,value:void 0}),Gn(this,n,Kt(ws)),this.POST_SORT=l6,this.controller=Kt(Xl)}change_sort(r){var i=this;return Pi(function*(){Et(i,n).raise(new QR(r))})()}back_to_home(){Et(this,n).raise(KR)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tr({type:t,selectors:[["post-list-header"]],standalone:!0,features:[ni],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){1&r&&(kn(0,d6,18,5,"ng-container",0),vi(1,"async")),2&r&&Wt("ngIf",bi(1,1,i.controller.posts$))},dependencies:[Di,jl,lo,Vf,Sc,Ss,pd,_g,$o,Ca,cl,LE,Ah,BE,is,ol],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0}),t})(),h6=(()=>{var n=new WeakMap,t=new WeakSet;class e{constructor(){Ei(this,t),Zn(this,n,{writable:!0,value:Kt(Ja)})}set data(o){this._data=o,li(this,t,r).call(this)}}function r(){const i=document.implementation.createHTMLDocument().createElement("p");i.innerHTML=this._data.embed,Array.from(i.getElementsByTagName("iframe")).forEach(o=>{o.setAttribute("loading","lazy"),o.style.position="relative",o.style.maxWidth="100vw"}),this._embed=Et(this,n).bypassSecurityTrustHtml(i.innerHTML)}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Tr({type:e,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(o,l){1&o&&Yn(0,"div",0),2&o&&Wt("innerHTML",l._embed,W_)},dependencies:[Di],changeDetection:0}),e})();const p6=["gallery"];function m6(n,t){if(1&n){const e=oo();_n(0,"figure")(1,"img",3),br("load",function(){return pe(e),ue(zn().onLoad())})("click",function(){const o=pe(e).$implicit;return ue(zn().onClick(o.href))}),Tn()()}if(2&n){const e=t.$implicit,r=zn();rn(1),Wt("src",e.src,Ru)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const g6=function(n){return{"set-scrollbar":n}};let _6=(()=>{var n=new WeakMap;class t{constructor(){Zn(this,n,{writable:!0,value:void 0})}set fig(r){r&&r.nativeElement&&Gn(this,n,r.nativeElement)}onLoad(){Et(this,n)&&(Et(this,n).scrollLeft=0)}onClick(r){String.isNullOrWhitespace(r)||window.open(r,"_blank","noopener,noreferrer")}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tr({type:t,selectors:[["post-body-image"]],viewQuery:function(r,i){if(1&r&&gs(p6,5),2&r){let o;mi(o=gi())&&(i.fig=o.first)}},inputs:{data:"data"},standalone:!0,features:[ni],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(r,i){1&r&&(_n(0,"div",0,1),kn(2,m6,2,3,"figure",2),Tn()),2&r&&(Wt("ngClass",ra(2,g6,i.data.images.length>1)),rn(2),Wt("ngForOf",i.data.images))},dependencies:[Di,Ju,jl],changeDetection:0}),t})();function y6(n,t){if(1&n&&(_n(0,"a",4),Pr(1),Tn()),2&n){const e=zn(2);Wt("href",e.href,Ru),rn(1),Zo(e.text)}}function v6(n,t){if(1&n){const e=oo();_n(0,"a",5),br("click",function(){return pe(e),ue(zn(2).on_internal_click())}),Pr(1),Tn()}if(2&n){const e=zn(2);Wt("routerLink",e.text),rn(1),Zo(e.text)}}function b6(n,t){if(1&n&&(_n(0,"p",1),kn(1,y6,2,2,"a",2),kn(2,v6,2,2,"a",3),Tn()),2&n){const e=zn();rn(1),Wt("ngIf",e.is_external),rn(1),Wt("ngIf",!e.is_external&&e.show_internal)}}let E6=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakSet;class o{set data(u){Gn(this,r,u),li(this,i,l).call(this)}constructor(){Ei(this,i),Zn(this,n,{writable:!0,value:void 0}),Zn(this,t,{writable:!0,value:void 0}),Zn(this,e,{writable:!0,value:void 0}),Zn(this,r,{writable:!0,value:void 0}),Gn(this,n,""),Gn(this,t,Kt(wR)),Gn(this,e,Kt(yg)),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,Gn(this,n,document.baseURI),Et(this,n).endsWith("/")&&Gn(this,n,Et(this,n).slice(0,-1))}on_internal_click(){Et(this,e).save("post",Et(this,r).id)}}function l(){const c=Et(this,t).sanitizeLink(Et(this,r).url);if(this.href=c.href,this.is_external=c.external,this.is_external)return void(this.text=this.href);this.text=c.text;const u=this.text.indexOf("/r/")+3,g=this.text.indexOf("/",u),D=this.text.slice(u,g);this.show_internal=D.toLowerCase()!==Et(this,r).subreddit.toLowerCase()}return o.\u0275fac=function(u){return new(u||o)},o.\u0275cmp=Tr({type:o,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(u,g){1&u&&kn(0,b6,3,2,"p",0),2&u&&Wt("ngIf",g.is_external||g.show_internal)},dependencies:[Di,lo,is,ol],changeDetection:0}),o})(),T6=(()=>{class n{constructor(){this.data=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:1,vars:1,consts:[[3,"data"]],template:function(e,r){1&e&&Yn(0,"text-block",0),2&e&&Wt("data",null==r.data?null:r.data.selftext_html)},dependencies:[UE],changeDetection:0}),n})(),w6=(()=>{class n{transform(e){const r=new Date(0);r.setUTCSeconds(e||0);const i=r.toISOString().substring(11,19);return r.getUTCHours()>0?i:r.getUTCMinutes()>0?i.substring(3):i.substring(4)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Li({name:"time",type:n,pure:!0,standalone:!0}),n})();var S6=ki(625);const C6=["video"];function A6(n,t){if(1&n){const e=oo();_n(0,"mat-icon",12),br("click",function(){return pe(e),zn(),ue(io(4).play())}),Tn()}}function D6(n,t){if(1&n){const e=oo();_n(0,"mat-icon",13),br("click",function(){return pe(e),zn(),ue(io(4).pause())}),Tn()}}function I6(n,t){if(1&n){const e=oo();_n(0,"mat-icon",16),br("click",function(){pe(e),zn(2);const i=io(4);return ue(i.muted=!i.muted)}),Tn()}}function M6(n,t){if(1&n){const e=oo();_n(0,"mat-icon",17),br("click",function(){pe(e),zn(2);const i=io(4);return ue(i.muted=!i.muted)}),Tn()}}function R6(n,t){if(1&n&&(ya(0),kn(1,I6,1,0,"mat-icon",14),kn(2,M6,1,0,"mat-icon",15),va()),2&n){zn();const e=io(4);rn(1),Wt("ngIf",e.muted),rn(1),Wt("ngIf",!e.muted)}}const x6=function(n){return{"--p":n}};let N6=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakSet,u=new WeakSet;class g{constructor(){Ei(this,u),Ei(this,c),Zn(this,n,{writable:!0,value:void 0}),Zn(this,t,{writable:!0,value:void 0}),Zn(this,e,{writable:!0,value:void 0}),Zn(this,r,{writable:!0,value:void 0}),Zn(this,i,{writable:!0,value:void 0}),Zn(this,o,{writable:!0,value:void 0}),Zn(this,l,{writable:!0,value:void 0}),Gn(this,n,new IntersectionObserver((xe,qe)=>li(this,c,D).call(this,xe,qe),{root:null,rootMargin:"32px",threshold:0})),Gn(this,e,!1),Gn(this,r,0),Gn(this,i,!1),Gn(this,o,""),this.has_audio=!0,this.cd=Kt(ys)}set value(xe){xe&&xe.nativeElement&&Gn(this,l,xe.nativeElement)}ngOnInit(){var xe=this;return Pi(function*(){const qe=xe.data.videos.find(ct=>"application/dash+xml"===ct.type);Gn(xe,o,qe?.url||xe.data.videos[xe.data.videos.length-1].url),null!=qe?(Gn(xe,i,!0),yield li(xe,u,q).call(xe,Et(xe,o)),Gn(xe,t,(0,S6.MediaPlayer)().create()),Et(xe,t).initialize(Et(xe,l),"",!1),Et(xe,t).setMute(!0),Et(xe,t).updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:Et(xe,r)-1}}}}),Et(xe,n).observe(Et(xe,l))):Et(xe,n).observe(Et(xe,l))})()}ngOnDestroy(){Et(this,t)?.destroy()}onLoadeddata(){Et(this,i)||(this.has_audio="mozHasAudio"in Et(this,l)&&Et(this,l).mozHasAudio||"webkitAudioDecodedByteCount"in Et(this,l)&&Et(this,l).webkitAudioDecodedByteCount>0||"audioTracks"in Et(this,l)&&Et(this,l).audioTracks.length>0,Et(this,l).muted=!0)}skip(xe,qe,ct){const Nt=qe.getBoundingClientRect();ct.currentTime=(xe.pageX-Nt.left)/qe.offsetWidth*ct.duration}}function D(Me,xe){Me[0].isIntersecting?Et(this,e)||(Et(this,i)?Et(this,t).attachSource(Et(this,o)):Et(this,l).src=Et(this,o),Gn(this,e,!0)):Et(this,e)&&(Et(this,l).paused||Et(this,l).ended||Et(this,l).pause())}function q(Me){return be.apply(this,arguments)}function be(){return(be=Pi(function*(Me){try{const xe=yield fetch(Me);if(!xe.ok)return;const qe=yield xe.text();if(String.isNullOrWhitespace(qe))return;const ct=(new DOMParser).parseFromString(qe,"application/xml");if(null==ct)return;const Nt=ct.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=Nt;const Ct=ct.querySelector('AdaptationSet[contentType="video"]');if(null==Ct)return;const cn=Ct.querySelectorAll("Representation");if(null==cn||0===cn.length)return;const pn=Array.from(cn).map(Bn=>Number(Bn.getAttribute("bandwidth"))).filter(Bn=>!isNaN(Bn));if(null==pn||0===pn.length)return;Gn(this,r,Math.max(...pn))}catch{return}})).apply(this,arguments)}return g.\u0275fac=function(xe){return new(xe||g)},g.\u0275cmp=Tr({type:g,selectors:[["post-body-video"]],viewQuery:function(xe,qe){if(1&xe&&gs(C6,7),2&xe){let ct;mi(ct=gi())&&(qe.value=ct.first)}},inputs:{data:"data"},standalone:!0,features:[ni],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","disableremoteplayback","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(xe,qe){if(1&xe){const ct=oo();_n(0,"div",0),Yn(1,"mat-icon",1)(2,"mat-icon",2),Tn(),_n(3,"video",3,4),br("loadeddata",function(){return qe.onLoadeddata()})("click",function(){pe(ct);const Ct=io(4);return ue(Ct.paused||Ct.ended?Ct.play():Ct.pause())})("timeupdate",function(){return qe.cd.detectChanges()}),Tn(),_n(5,"div",5),kn(6,A6,1,0,"mat-icon",6),kn(7,D6,1,0,"mat-icon",7),_n(8,"div",8,9),br("click",function(Ct){pe(ct);const cn=io(9),pn=io(4);return ue(qe.skip(Ct,cn,pn))}),_n(10,"div",10),Pr(11),vi(12,"time"),vi(13,"time"),Tn()(),kn(14,R6,3,2,"ng-container",11),Tn()}if(2&xe){const ct=io(4);rn(6),Wt("ngIf",ct.paused||ct.ended),rn(1),Wt("ngIf",!ct.paused&&!ct.ended),rn(1),Wt("ngStyle",ra(10,x6,100*((null==ct?null:ct.currentTime)||0)/ct.duration+"%")),rn(3),Yp("",bi(12,6,ct.currentTime)," / ",bi(13,8,ct.duration)," "),rn(3),Wt("ngIf",qe.has_audio)}},dependencies:[Di,lo,Vf,$o,Ca,w6],changeDetection:0}),g})();function O6(n,t){1&n&&Yn(0,"post-body-embed",1),2&n&&Wt("data",zn()._data)}function P6(n,t){1&n&&Yn(0,"post-body-image",1),2&n&&Wt("data",zn()._data)}function k6(n,t){1&n&&Yn(0,"post-body-text",1),2&n&&Wt("data",zn()._data)}function F6(n,t){1&n&&Yn(0,"post-body-video",1),2&n&&Wt("data",zn()._data)}function L6(n,t){1&n&&Yn(0,"post-body-link",1),2&n&&Wt("data",zn()._data)}let B6=(()=>{class n{set data(e){this._data=e.is_crosspost?e.crosspost:e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(e,r){1&e&&(kn(0,O6,1,1,"post-body-embed",0),kn(1,P6,1,1,"post-body-image",0),kn(2,k6,1,1,"post-body-text",0),kn(3,F6,1,1,"post-body-video",0),kn(4,L6,1,1,"post-body-link",0)),2&e&&(Wt("ngIf",null==r._data?null:r._data.has_embed),rn(1),Wt("ngIf",null==r._data?null:r._data.has_image),rn(1),Wt("ngIf",null==r._data?null:r._data.has_text),rn(1),Wt("ngIf",null==r._data?null:r._data.has_video),rn(1),Wt("ngIf",null==r._data?null:r._data.has_link))},dependencies:[Di,lo,h6,_6,E6,T6,N6],changeDetection:0}),n})();function U6(n,t){if(1&n){const e=oo();_n(0,"button",4),br("click",function(){return pe(e),ue(zn().on_share_click())}),Yn(1,"mat-icon",5),Tn()}}function V6(n,t){if(1&n&&(_n(0,"button",6),Yn(1,"mat-icon",7),Pr(2),vi(3,"count"),Tn()),2&n){const e=zn();rn(2),Mo(" ",bi(3,1,e.data.ups),"\n")}}function j6(n,t){if(1&n&&(_n(0,"button",6),Yn(1,"mat-icon",8),Pr(2),vi(3,"count"),Tn()),2&n){const e=zn();rn(2),Mo(" ",bi(3,1,e.data.downs),"\n")}}let H6=(()=>{var n=new WeakMap,t=new WeakMap;class e{constructor(){Zn(this,n,{writable:!0,value:void 0}),Zn(this,t,{writable:!0,value:void 0}),Gn(this,n,Kt(ws)),Gn(this,t,""),this._can_share="share"in window.navigator,this.controller=Kt(Xl),Gn(this,t,document.baseURI),Et(this,t).endsWith("/")&&Gn(this,t,Et(this,t).slice(0,-1))}on_share_click(){const i=`${Et(this,t)}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:i})}on_comment_click(){Et(this,n).raise(new ex(this.data.id))}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Tr({type:e,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(i,o){1&i&&(kn(0,U6,2,0,"button",0),_n(1,"button",1),br("click",function(){return o.on_comment_click()}),Yn(2,"mat-icon",2),Pr(3),vi(4,"count"),Tn(),kn(5,V6,4,3,"button",3),kn(6,j6,4,3,"button",3)),2&i&&(Wt("ngIf",o._can_share),rn(3),Mo(" ",bi(4,4,o.data.num_comments),"\n"),rn(2),Wt("ngIf",o.data.ups>0),rn(1),Wt("ngIf",o.data.downs>0))},dependencies:[Di,lo,VE,Ss,pd,_g,$o,Ca,cl,nh,Vc,is],changeDetection:0}),e})();function Z6(n,t){if(1&n){const e=oo();_n(0,"a",9),br("click",function(i){pe(e);const o=zn();return ue(o.change_subreddit(i,o.post.subreddit))}),Pr(1),Tn()}if(2&n){const e=zn();Wt("href","/r/"+e.post.subreddit,Ru),rn(1),Mo(" r/",e.post.subreddit," ")}}function z6(n,t){if(1&n){const e=oo();_n(0,"mat-icon",12),br("click",function(){pe(e);const i=zn(2);return ue(i.controller.actions.subscribe(i.post.subreddit))}),Tn()}}function G6(n,t){if(1&n){const e=oo();_n(0,"mat-icon",13),br("click",function(){pe(e);const i=zn(2);return ue(i.controller.actions.unsubscribe(i.post.subreddit))}),Tn()}}function q6(n,t){if(1&n&&(ya(0),kn(1,z6,1,0,"mat-icon",10),kn(2,G6,1,0,"mat-icon",11),va()),2&n){const e=zn();rn(1),Wt("ngIf",!e.post.subreddit_subscribed),rn(1),Wt("ngIf",e.post.subreddit_subscribed)}}function Y6(n,t){1&n&&Yn(0,"mat-icon",14)}function $6(n,t){1&n&&Yn(0,"mat-icon",15)}function W6(n,t){1&n&&(_n(0,"a",16),Pr(1,"x-post"),Tn())}const K6=function(n){return["/u",n]};let X6=(()=>{var n=new WeakMap,t=new WeakSet;class e{constructor(){Ei(this,t),Zn(this,n,{writable:!0,value:void 0}),Gn(this,n,Kt(ws)),this.controller=Kt(Xl),this.has_image_gallery=!1,this.part_of_multi=!1}set data(o){this.post=o.post,li(this,t,r).call(this,o.subreddit)}change_subreddit(o,l){o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),Et(this,n).raise(new Ih(l))}}function r(i){this.part_of_multi=this.post.subreddit.toLowerCase()!==i.toLowerCase();const o=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=o.has_image&&o.has_image_gallery}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=Tr({type:e,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(o,l){1&o&&(_n(0,"section",0)(1,"div",1),Pr(2),Tn(),_n(3,"section",2),kn(4,Z6,2,2,"a",3),_n(5,"a",4),Pr(6),Tn(),_n(7,"span"),Pr(8),vi(9,"age"),Tn(),kn(10,q6,3,2,"ng-container",5),kn(11,Y6,1,0,"mat-icon",6),kn(12,$6,1,0,"mat-icon",7),kn(13,W6,2,0,"a",8),Tn()()),2&o&&(rn(2),Zo(l.post.title),rn(2),Wt("ngIf",l.part_of_multi),rn(1),Wt("routerLink",ra(11,K6,l.post.author)),rn(1),Mo("u/",l.post.author,""),rn(2),Zo(bi(9,9,l.post.created_utc)),rn(2),Wt("ngIf",l.part_of_multi),rn(1),Wt("ngIf",!l.part_of_multi&&l.post.stickied),rn(1),Wt("ngIf",l.has_image_gallery),rn(1),Wt("ngIf",l.post.is_crosspost))},dependencies:[nx,Di,lo,Ss,$o,Ca,cl,nh,Vc,is,ol],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0}),e})();function Q6(n,t){1&n&&Yn(0,"post-body",0),2&n&&Wt("data",zn().post)}const J6=function(n,t){return{post:n,subreddit:t}};let rx=(()=>{class n{constructor(){this.subreddit="",this.show_body=!0}set data(e){this.post=e.item,this.subreddit=e.subreddit,this.show_body=!e.item.stickied||!e.hide_stickied}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(e,r){1&e&&(Yn(0,"post-header",0),kn(1,Q6,1,1,"post-body",1),Yn(2,"post-footer",0)),2&e&&(Wt("data",Qy(3,J6,r.post,r.subreddit)),rn(1),Wt("ngIf",r.show_body),rn(1),Wt("data",r.post))},dependencies:[Di,lo,Ss,$o,cl,Vc,is,X6,B6,H6],changeDetection:0}),n})(),eq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["search-page-header"]],standalone:!0,features:[ni],decls:10,vars:1,consts:[[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"]],template:function(e,r){if(1&e&&(_n(0,"div",0),Pr(1," Search for Subreddit "),Yn(2,"span",1),_n(3,"button",2),Yn(4,"mat-icon",3),Tn()(),_n(5,"mat-menu",4,5),Yn(7,"mat-icon",6)(8,"mat-icon",7)(9,"mat-icon",8),Tn()),2&e){const i=io(6);rn(3),Wt("matMenuTriggerFor",i)}},dependencies:[Ss,_g,$o,Ca,cl,LE,BE,is,ol],changeDetection:0}),n})(),tq=(()=>{var n=new WeakMap;class t{constructor(){Zn(this,n,{writable:!0,value:Kt(ws)})}set data(r){this._data=r}change_subreddit(r,i){r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation(),Et(this,n).raise(new Ih(i))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tr({type:t,selectors:[["search-result"]],inputs:{data:"data"},standalone:!0,features:[ni],decls:13,vars:9,consts:[[3,"href","click"],[3,"data"],["mat-button","","disableRipple",""],["svgIcon","groups"],["svgIcon","person"]],template:function(r,i){1&r&&(_n(0,"header")(1,"a",0),br("click",function(l){return i.change_subreddit(l,i._data.display_name)}),Pr(2),Tn()(),Yn(3,"text-block",1),_n(4,"footer")(5,"button",2),Yn(6,"mat-icon",3),Pr(7),vi(8,"count"),Tn(),_n(9,"button",2),Yn(10,"mat-icon",4),Pr(11),vi(12,"count"),Tn()()),2&r&&(rn(1),Wt("href","/r"+i._data.display_name,Ru),rn(1),Zo(i._data.display_name),rn(1),Wt("data",i._data.public_description_html),rn(4),Mo(" ",bi(8,5,i._data.subscribers)," "),rn(4),Mo(" ",bi(12,7,i._data.accounts_active)," "))},dependencies:[Di,VE,Ss,pd,$o,Ca,is,UE],changeDetection:0}),t})(),ix=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(bt(Ya),bt(Nr))},n.\u0275dir=jn({type:n}),n})(),jc=(()=>{class n extends ix{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=go(n)))(r||n)}}(),n.\u0275dir=jn({type:n,features:[wr]}),n})();const Ma=new dn("NgValueAccessor"),rq={provide:Ma,useExisting:fn(()=>wg),multi:!0},oq=new dn("CompositionEventMode");let wg=(()=>{class n extends ix{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iq(){const n=Vl()?Vl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(bt(Ya),bt(Nr),bt(oq,8))},n.\u0275dir=jn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&br("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Qr([rq]),wr]}),n})();function Ql(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sx(n){return null!=n&&"number"==typeof n.length}const ko=new dn("NgValidators"),Jl=new dn("NgAsyncValidators"),sq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class aq{static min(t){return function ax(n){return t=>{if(Ql(t.value)||Ql(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function lx(n){return t=>{if(Ql(t.value)||Ql(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return cx(t)}static requiredTrue(t){return function ux(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function dx(n){return Ql(n.value)||sq.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function fx(n){return t=>Ql(t.value)||!sx(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function hx(n){return t=>sx(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function px(n){if(!n)return Sg;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Ql(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return bx(t)}static composeAsync(t){return Ex(t)}}function cx(n){return Ql(n.value)?{required:!0}:null}function Sg(n){return null}function mx(n){return null!=n}function gx(n){return Af(n)?Gr(n):n}function _x(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function yx(n,t){return t.map(e=>e(n))}function vx(n){return n.map(t=>function lq(n){return!n.validate}(t)?t:e=>t.validate(e))}function bx(n){if(!n)return null;const t=n.filter(mx);return 0==t.length?null:function(e){return _x(yx(e,t))}}function jE(n){return null!=n?bx(vx(n)):null}function Ex(n){if(!n)return null;const t=n.filter(mx);return 0==t.length?null:function(e){return EI(yx(e,t).map(gx)).pipe(me(_x))}}function HE(n){return null!=n?Ex(vx(n)):null}function Tx(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function wx(n){return n._rawValidators}function Sx(n){return n._rawAsyncValidators}function ZE(n){return n?Array.isArray(n)?n:[n]:[]}function Cg(n,t){return Array.isArray(n)?n.includes(t):n===t}function Cx(n,t){const e=ZE(t);return ZE(n).forEach(i=>{Cg(e,i)||e.push(i)}),e}function Ax(n,t){return ZE(t).filter(e=>!Cg(n,e))}class Dx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=HE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Wo extends Dx{get formDirective(){return null}get path(){return null}}class ul extends Dx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ix{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mx=(()=>{class n extends Ix{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(bt(ul,2))},n.\u0275dir=jn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&qi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[wr]}),n})();const Mh="VALID",Dg="INVALID",gd="PENDING",Rh="DISABLED";function qE(n){return(Ig(n)?n.validators:n)||null}function YE(n,t){return(Ig(t)?t.asyncValidators:n)||null}function Ig(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ox{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Mh}get invalid(){return this.status===Dg}get pending(){return this.status==gd}get disabled(){return this.status===Rh}get enabled(){return this.status!==Rh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Cx(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Cx(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ax(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ax(t,this._rawAsyncValidators))}hasValidator(t){return Cg(this._rawValidators,t)}hasAsyncValidator(t){return Cg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rh,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mh||this.status===gd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rh:Mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gd,this._hasOwnPendingAsyncValidator=!0;const e=gx(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ri,this.statusChanges=new ri}_calculateStatus(){return this._allControlsDisabled()?Rh:this.errors?Dg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gd)?gd:this._anyControlsHaveStatus(Dg)?Dg:Mh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ig(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function hq(n){return Array.isArray(n)?jE(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function pq(n){return Array.isArray(n)?HE(n):n||null}(this._rawAsyncValidators)}}class $E extends Ox{constructor(t,e,r){super(qE(e),YE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Nx(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new Lt(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function xx(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new Lt(1e3,"");if(!r[e])throw new Lt(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const _d=new dn("CallSetDisabledState",{providedIn:"root",factory:()=>Mg}),Mg="always";function xh(n,t,e=Mg){WE(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function _q(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Px(n,t)})}(n,t),function vq(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function yq(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Px(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function gq(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function xg(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Og(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ng(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function WE(n,t){const e=wx(n);null!==t.validator?n.setValidators(Tx(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Sx(n);null!==t.asyncValidator?n.setAsyncValidators(Tx(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ng(t._rawValidators,i),Ng(t._rawAsyncValidators,i)}function Og(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=wx(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=Sx(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Ng(t._rawValidators,r),Ng(t._rawAsyncValidators,r),e}function Px(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kx(n,t){WE(n,t)}function Fx(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Sq={provide:Wo,useExisting:fn(()=>Pg)},Nh=(()=>Promise.resolve())();let Pg=(()=>{class n extends Wo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ri,this.form=new $E({},jE(e),HE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Nh.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),xh(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Nh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Nh.then(()=>{const r=this._findContainer(e.path),i=new $E({});kx(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Nh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Nh.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Fx(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(bt(ko,10),bt(Jl,10),bt(_d,8))},n.\u0275dir=jn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&br("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qr([Sq]),wr]}),n})();function Lx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Bx(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ux=class extends Ox{constructor(t=null,e,r){super(qE(e),YE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ig(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Bx(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Lx(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Lx(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Bx(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Dq={provide:ul,useExisting:fn(()=>JE)},Hx=(()=>Promise.resolve())();let JE=(()=>{class n extends ul{constructor(e,r,i,o,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this.control=new Ux,this._registered=!1,this.name="",this.update=new ri,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function QE(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===wg?e=o:function Tq(n){return Object.getPrototypeOf(n.constructor)===jc}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function XE(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Hx.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Qu(r);Hx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Rg(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(bt(Wo,9),bt(ko,10),bt(Jl,10),bt(Ma,10),bt(ys,8),bt(_d,8))},n.\u0275dir=jn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qr([Dq]),wr,wo]}),n})(),zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({}),n})();const Pq={provide:Wo,useExisting:fn(()=>kg)};let kg=(()=>{class n extends Wo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ri,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Og(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return xh(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){xg(e.control||null,e,!1),function wq(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,Fx(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(xg(r||null,e),(n=>n instanceof Ux)(i)&&(xh(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);kx(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function bq(n,t){return Og(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){WE(this.form,this),this._oldForm&&Og(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(bt(ko,10),bt(Jl,10),bt(_d,8))},n.\u0275dir=jn({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&br("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qr([Pq]),wr,wo]}),n})(),Hc=(()=>{class n{constructor(){this._validator=Sg}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Sg,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=jn({type:n,features:[wo]}),n})();const qq={provide:ko,useExisting:fn(()=>Fg),multi:!0};let Fg=(()=>{class n extends Hc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qu,this.createValidator=e=>cx}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=go(n)))(r||n)}}(),n.\u0275dir=jn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&di("required",r._enabled?"":null)},inputs:{required:"required"},features:[Qr([qq]),wr]}),n})(),Qq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[zx]}),n})(),eY=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:_d,useValue:e.callSetDisabledState??Mg}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[Qq]}),n})();const lN=Ac({passive:!0});let tY=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return pr;const r=el(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new ht,l="cdk-text-field-autofilled",c=u=>{"cdk-text-field-autofill-start"!==u.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===u.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",c,lN),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",c,lN)}}),o}stopMonitoring(e){const r=el(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(Ut(co),Ut(lr))},n.\u0275prov=an({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({}),n})();const rY=new dn("MAT_INPUT_VALUE_ACCESSOR"),iY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let oY=0;const sY=gj(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new ht}});let aY=(()=>{class n extends sY{get disabled(){return this._disabled}set disabled(e){this._disabled=js(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(aq.required)??!1}set required(e){this._required=js(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&AD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=js(e)}constructor(e,r,i,o,l,c,u,g,D,q){super(c,o,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=g,this._formField=q,this._uid="mat-input-"+oY++,this.focused=!1,this.stateChanges=new ht,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(xe=>AD().has(xe)),this._iOSKeyupListener=xe=>{const qe=xe.target;!qe.value&&0===qe.selectionStart&&0===qe.selectionEnd&&(qe.setSelectionRange(1,1),qe.setSelectionRange(0,0))};const be=this._elementRef.nativeElement,Me=be.nodeName.toLowerCase();this._inputValueAccessor=u||be,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Me,this._isTextarea="textarea"===Me,this._isInFormField=!!q,this._isNativeSelect&&(this.controlType=be.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){iY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(bt(Nr),bt(co),bt(ul,10),bt(Pg,8),bt(kg,8),bt(tI),bt(rY,10),bt(tY),bt(lr),bt(gI,8))},n.\u0275dir=jn({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,r){1&e&&br("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(If("id",r.id)("disabled",r.disabled)("required",r.required),di("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),qi("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Qr([{provide:mI,useExisting:n}]),wr,wo]}),n})(),lY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({imports:[xo,Cb,Cb,nY,xo]}),n})();const cY=["tooltip"],cN=new dn("mat-tooltip-scroll-strategy"),fY={provide:cN,deps:[md],useFactory:function dY(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},pY=new dn("mat-tooltip-default-options",{providedIn:"root",factory:function hY(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),uN="tooltip-panel",dN=Ac({passive:!0});let bY=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=js(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=js(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=rd(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=rd(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,i,o,l,c,u,g,D,q,be,Me){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=l,this._platform=c,this._ariaDescriber=u,this._focusMonitor=g,this._dir=q,this._defaultOptions=be,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ht,this._scrollStrategy=D,this._document=Me,be&&(this._showDelay=be.showDelay,this._hideDelay=be.hideDelay,be.position&&(this.position=be.position),be.positionAtOrigin&&(this.positionAtOrigin=be.positionAtOrigin),be.touchGestures&&(this.touchGestures=be.touchGestures)),q.change.pipe(Ro(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ro(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,dN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new MR(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ro(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Nr)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Ro(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${uN}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ro(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ro(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ro(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!gb(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(qo(1),Ro(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let l;if(l="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",l!==this._currentPosition){const c=this._overlayRef;if(c){const u=`${this._cssClassPrefix}-${uN}-`;c.removePanelClass(u+this._currentPosition),c.addPanelClass(u+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(r=e),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const r=e.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,dN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Pp()},n.\u0275dir=jn({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),EY=(()=>{class n extends bY{constructor(e,r,i,o,l,c,u,g,D,q,be,Me){super(e,r,i,o,l,c,u,g,D,q,be,Me),this._tooltipComponent=wY,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const i=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=i?-8:8:"end"===e.originX&&(e.offsetX=i?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(bt(md),bt(Nr),bt(OR),bt(ms),bt(lr),bt(co),bt(ej),bt(Pm),bt(cN),bt(Sm,8),bt(pY,8),bt(Sr))},n.\u0275dir=jn({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[wr]}),n})(),TY=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ht,this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(r);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(bt(ys),bt(ea,8))},n.\u0275dir=jn({type:n}),n})(),wY=(()=>{class n extends TY{constructor(e,r,i){super(e,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(bt(ys),bt(Nr),bt(ea,8))},n.\u0275cmp=Tr({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&gs(cY,7),2&e){let i;mi(i=gi())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&br("mouseleave",function(o){return r._handleMouseLeave(o)}),2&e&&bc("zoom",r.isVisible()?1:null)},features:[wr],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,r){1&e&&(_n(0,"div",0,1),br("animationend",function(o){return r._handleAnimationEnd(o)}),_n(2,"div",2),Pr(3),Tn()()),2&e&&(qi("mdc-tooltip--multiline",r._isMultiline),Wt("ngClass",r.tooltipClass),rn(3),Zo(r.message))},dependencies:[Ju],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),SY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Ir({providers:[fY],imports:[hj,Di,qR,xo,xo,Eg]}),n})();function CY(n,t){if(1&n){const e=oo();_n(0,"mat-icon",7),br("click",function(){return pe(e),ue(zn().onClear())}),Tn()}}function AY(n,t){if(1&n&&(_n(0,"mat-hint",8),Pr(1),Tn()),2&n){const e=zn();rn(1),Zo(e.hint)}}function DY(n,t){if(1&n&&(_n(0,"mat-hint",9),Pr(1),Tn()),2&n){const e=zn(),r=io(4);rn(1),Yp("",r.value.length," / ",e._maxlength," ")}}function IY(n,t){if(1&n&&(_n(0,"mat-error"),Pr(1),Tn()),2&n){const e=zn();rn(1),Zo(e.errMsg)}}const MY=function(n){return{readonly:n}};let RY=(()=>{class n{set model(e){this._model=e??""}set maxlength(e){!isNaN(e)&&e>0&&(this._maxlength=e)}set style(e){this._style=this.sanitizer.bypassSecurityTrustStyle(e)}constructor(e,r){this.sanitizer=e,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this._model="",this._maxlength=256,this.inputName=r.getUniqueId().toString(),this.modelChange=new ri,this.errorStateMatcher=new tI,this.errorStateMatcher.isErrorState=()=>!this.disabled&&!this.readonly&&String.hasData(this.errMsg)}onClear(){this._model="",this.onChange()}onChange(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}}return n.\u0275fac=function(e){return new(e||n)(bt(Ja),bt(dR))},n.\u0275cmp=Tr({type:n,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[ni],decls:9,vars:17,consts:[[2,"width","100%",3,"ngClass"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change"],["inp",""],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start",4,"ngIf"],["align","end",4,"ngIf"],[4,"ngIf"],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click"],["align","start"],["align","end"]],template:function(e,r){1&e&&(_n(0,"mat-form-field",0)(1,"mat-label"),Pr(2),Tn(),_n(3,"input",1,2),br("ngModelChange",function(o){return r._model=o})("change",function(){return r.onChange()}),Tn(),kn(5,CY,1,0,"mat-icon",3),kn(6,AY,2,1,"mat-hint",4),kn(7,DY,2,2,"mat-hint",5),kn(8,IY,2,1,"mat-error",6),Tn()),2&e&&(Wt("ngClass",ra(15,MY,r.readonly)),rn(2),Zo(r.label),rn(1),Wt("placeholder",r.placeholder)("readonly",r.readonly)("disabled",r.disabled)("required",r.required)("ngModel",r._model)("errorStateMatcher",r.errorStateMatcher),di("name",r.inputName)("maxlength",r._maxlength)("style",r._style,hT),rn(2),Wt("ngIf",!r.readonly&&!r.disabled),rn(1),Wt("ngIf",!r.readonly&&!r.disabled),rn(1),Wt("ngIf",!r.readonly&&!r.disabled&&r._maxlength),rn(1),Wt("ngIf",!r.readonly&&!r.disabled))},dependencies:[eY,wg,Mx,Fg,JE,$o,Ca,Cb,tH,wb,Sb,Yj,Kj,lY,aY,SY,EY,Ju,lo],encapsulation:2}),n})();const xY=function(n){return{top:n}};let NY=(()=>{var n=new WeakMap;class t{constructor(){Zn(this,n,{writable:!0,value:void 0}),Gn(this,n,Kt(ws)),this.top="2em",this.controller=Kt(Xl)}ngOnInit(){const r=document.querySelector("search-page-header");null!=r&&(this.top=`${r.offsetHeight}px`)}onModelChange(r){Et(this,n).raise(new JR(r))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tr({type:t,selectors:[["search"]],standalone:!0,features:[ni],decls:4,vars:6,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10",3,"ngStyle"],[3,"model","modelChange"],["inp",""]],template:function(r,i){1&r&&(_n(0,"form",0)(1,"input-text",1,2),br("modelChange",function(l){return i.onModelChange(l)}),vi(3,"async"),Tn()()),2&r&&(Wt("ngStyle",ra(4,xY,i.top)),rn(1),Wt("model",bi(3,2,i.controller.subreddit_query$).request))},dependencies:[Di,Vf,Sc,RY,Ss,$o,cl,Vc,is],changeDetection:0}),t})();function OY(n,t){1&n&&(_n(0,"mat-toolbar-row")(1,"span"),Pr(2,"You are not authorized."),Tn()())}function PY(n,t){1&n&&(_n(0,"mat-toolbar-row")(1,"span"),Pr(2,"Not found."),Tn()())}function kY(n,t){if(1&n&&(_n(0,"mat-toolbar-row")(1,"span",4),Pr(2),Tn()()),2&n){const e=t.$implicit;rn(2),Zo(e)}}function FY(n,t){if(1&n&&(_n(0,"mat-toolbar",1),kn(1,OY,3,0,"mat-toolbar-row",2),kn(2,PY,3,0,"mat-toolbar-row",2),kn(3,kY,3,1,"mat-toolbar-row",3),Tn()),2&n){const e=zn();rn(1),Wt("ngIf",null==e._errors.general?null:e._errors.general.forbidden),rn(1),Wt("ngIf",null==e._errors.general?null:e._errors.general.notFound),rn(1),Wt("ngForOf",null==e._errors.general?null:e._errors.general.default)}}let o0=(()=>{class n{set errors(e){this._errors=e instanceof Error?al.CreateErrorResult(`${e.message} `).errors:e instanceof al?e.errors:"string"!=typeof e&&"number"!=typeof e?e:al.CreateErrorResult(`${e} `).errors}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tr({type:n,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[ni],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(e,r){1&e&&kn(0,FY,4,3,"mat-toolbar",0),2&e&&Wt("ngIf",null==r._errors?null:r._errors.general)},dependencies:[Vc,XG,tx,jl,lo],styles:["[_nghost-%COMP%]{width:100%}"]}),n})();const LY=function(n){return{item:n,subreddit:"",hide_stickied:!1,show_comments:!1}};function BY(n,t){if(1&n&&Yn(0,"post",6),2&n){const e=zn().ngIf;Wt("data",ra(1,LY,e.post))}}function UY(n,t){1&n&&Yn(0,"post-comment",6),2&n&&Wt("data",t.$implicit)}function VY(n,t){if(1&n&&(_n(0,"div",3),kn(1,BY,1,3,"post",4),kn(2,UY,1,1,"post-comment",5),Tn()),2&n){const e=t.ngIf,r=zn(2);rn(1),Wt("ngIf",e.post),rn(1),Wt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function jY(n,t){if(1&n&&(ya(0),Yn(1,"post-comment-list-header")(2,"general-error",1),vi(3,"async"),kn(4,VY,3,3,"div",2),vi(5,"async"),va()),2&n){const e=zn();rn(2),Wt("errors",bi(3,2,e.controller.errors$)),rn(2),Wt("ngIf",bi(5,4,e.controller.post_comments$))}}let fN=(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakSet,o=new WeakSet,l=new WeakSet,c=new WeakSet;class u{constructor(){var qe=this;Ei(this,c),Ei(this,l),Ei(this,o),Ei(this,i),Zn(this,n,{writable:!0,value:void 0}),Zn(this,t,{writable:!0,value:void 0}),Zn(this,e,{writable:!0,value:void 0}),Zn(this,r,{writable:!0,value:void 0}),Gn(this,n,Kt(ws)),Gn(this,t,Kt(_o)),Gn(this,e,Kt(il)),Gn(this,r,{a:"",i:"",so:"best"}),this.controller=Kt(Xl),this.vm$=ui(Et(this,n).handle(XR).pipe(zr(ct=>li(this,i,g).call(this,ct))),Et(this,n).handle(Ih).pipe(zr(ct=>li(this,o,D).call(this,ct))),Et(this,e).paramMap.pipe(zr(function(){var ct=Pi(function*(Nt){return yield li(qe,c,be).call(qe,Nt)});return function(Nt){return ct.apply(this,arguments)}}())))}trackByFn(qe,ct){return ct.id}go_to_top(){window.scrollTo(0,0)}}function g(xe){Et(this,r).so=xe.sort_requested,li(this,l,q).call(this,!0)}function D(xe){Et(this,t).navigate(["r",xe.subreddit_requested])}function q(xe=!1){let qe=Object.trimUnusedProperties(Et(this,r));delete qe.a,Et(this,t).navigate(["comments",Et(this,r).a,qe],{replaceUrl:xe})}function be(xe){return Me.apply(this,arguments)}function Me(){return(Me=Pi(function*(xe){try{Et(this,n).raise(wh),Gn(this,r,{a:"",i:"",so:"best"}),Kl.fromParamMap(Et(this,r),xe),yield this.controller.actions.listCommentAsync(Et(this,r).a,Et(this,r).so,Et(this,r).i),setTimeout(()=>window.scrollTo(0,0),0)}finally{Et(this,n).raise(Bc)}})).apply(this,arguments)}return u.\u0275fac=function(qe){return new(qe||u)},u.\u0275cmp=Tr({type:u,selectors:[["ng-component"]],standalone:!0,features:[ni],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"]],template:function(qe,ct){1&qe&&(kn(0,jY,6,6,"ng-container",0),vi(1,"async")),2&qe&&Wt("ngIf",bi(1,1,ct.vm$))},dependencies:[Di,jl,lo,Sc,o0,Ss,$o,a6,YG,rx],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0}),u})();const HY=function(n,t){return{item:n,subreddit:t,hide_stickied:!0,show_comments:!0}};function ZY(n,t){if(1&n&&Yn(0,"post",7),2&n){const e=t.$implicit,r=zn().ngIf;Wt("id",e.id)("data",Qy(2,HY,e,r.subreddit))}}function zY(n,t){if(1&n){const e=oo();_n(0,"div",3),kn(1,ZY,1,5,"post",4),_n(2,"div",5)(3,"button",6),br("click",function(){const o=pe(e).ngIf;return ue(zn(2).next_page(o.after,o.modhash))}),Pr(4,"Next"),Tn()()()}if(2&n){const e=t.ngIf,r=zn(2);rn(1),Wt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function GY(n,t){if(1&n&&(ya(0),Yn(1,"post-list-header")(2,"general-error",1),vi(3,"async"),kn(4,zY,5,2,"div",2),vi(5,"async"),va()),2&n){const e=zn();rn(2),Wt("errors",bi(3,2,e.controller.errors$)),rn(2),Wt("ngIf",bi(5,4,e.controller.posts$))}}function YY(n,t){if(1&n&&Yn(0,"search-result",5),2&n){const e=t.$implicit;Wt("id",e.display_name)("data",e)}}function $Y(n,t){if(1&n&&(_n(0,"div",3),kn(1,YY,1,2,"search-result",4),Tn()),2&n){const e=t.ngIf,r=zn(2);rn(1),Wt("ngForOf",e.result)("ngForTrackBy",r.trackByFn)}}function WY(n,t){if(1&n&&(ya(0),Yn(1,"search-page-header")(2,"general-error",1),vi(3,"async"),Yn(4,"search"),kn(5,$Y,2,2,"div",2),vi(6,"async"),va()),2&n){const e=zn();rn(2),Wt("errors",bi(3,2,e.controller.errors$)),rn(3),Wt("ngIf",bi(6,4,e.controller.subreddit_query$))}}const KY=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakSet,l=new WeakSet,c=new WeakSet,u=new WeakSet,g=new WeakSet,D=new WeakSet;class q{constructor(){var pn=this;Ei(this,D),Ei(this,g),Ei(this,u),Ei(this,c),Ei(this,l),Ei(this,o),Zn(this,n,{writable:!0,value:void 0}),Zn(this,t,{writable:!0,value:void 0}),Zn(this,e,{writable:!0,value:void 0}),Zn(this,r,{writable:!0,value:void 0}),Zn(this,i,{writable:!0,value:void 0}),Gn(this,n,Kt(ws)),Gn(this,t,Kt(_o)),Gn(this,e,Kt(il)),Gn(this,r,Kt(yg)),Gn(this,i,{a:"",m:"",so:"hot",su:""}),this.controller=Kt(Xl),this.vm$=ui(Et(this,n).handle(KR).pipe(zr(Bn=>li(this,o,be).call(this))),Et(this,n).handle(QR).pipe(zr(Bn=>li(this,l,Me).call(this,Bn))),Et(this,n).handle(Ih).pipe(zr(Bn=>li(this,c,xe).call(this,Bn))),Et(this,n).handle(ex).pipe(zr(Bn=>li(this,u,qe).call(this,Bn))),Et(this,e).paramMap.pipe(zr(function(){var Bn=Pi(function*(ci){return yield li(pn,D,Nt).call(pn,ci)});return function(ci){return Bn.apply(this,arguments)}}()))),this.id=""}trackByFn(pn,Bn){return`${Bn.id}${Bn.subreddit_subscribed}`}next_page(pn,Bn){Et(this,i).a=pn,Et(this,i).m=Bn,this.go_to_top(),setTimeout(()=>{Et(this,r).save(),li(this,g,ct).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}function be(){Et(this,i).a="",Et(this,i).m="",Et(this,i).so="hot",Et(this,i).su="frontpage",li(this,g,ct).call(this)}function Me(cn){Et(this,i).a="",Et(this,i).m="",Et(this,i).so=cn.sort_requested,li(this,g,ct).call(this)}function xe(cn){Et(this,i).a="",Et(this,i).m="",Et(this,i).su=cn.subreddit_requested,li(this,g,ct).call(this)}function qe(cn){this.id=cn.article,Et(this,r).save("post",cn.article),Et(this,t).navigate(["comments",cn.article])}function ct(){let cn=Object.trimUnusedProperties(Et(this,i));delete cn.su,Et(this,t).navigate(["r",Et(this,i).su,cn])}function Nt(cn){return Ct.apply(this,arguments)}function Ct(){return(Ct=Pi(function*(cn){Et(this,n).raise(wh),Gn(this,i,{a:"",m:"",so:"hot",su:""}),Kl.fromParamMap(Et(this,i),cn),yield this.controller.actions.listPostAsync(Et(this,i).a,Et(this,i).m,Et(this,i).so,Et(this,i).su),Et(this,r).restore(),Et(this,n).raise(Bc)})).apply(this,arguments)}return q.\u0275fac=function(pn){return new(pn||q)},q.\u0275cmp=Tr({type:q,selectors:[["ng-component"]],standalone:!0,features:[ni],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],[1,"mat-elevation-z5",3,"id","data"]],template:function(pn,Bn){1&pn&&(kn(0,GY,6,6,"ng-container",0),vi(1,"async")),2&pn&&Wt("ngIf",bi(1,1,Bn.vm$))},dependencies:[Di,jl,lo,Sc,o0,f6,Ss,pd,$o,rx],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0}),q})()},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a/:i",component:fN},{path:"comments/:a",component:fN},{path:"s",component:(()=>{var n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakSet,o=new WeakSet,l=new WeakSet,c=new WeakSet;class u{constructor(){var qe=this;Ei(this,c),Ei(this,l),Ei(this,o),Ei(this,i),Zn(this,n,{writable:!0,value:void 0}),Zn(this,t,{writable:!0,value:void 0}),Zn(this,e,{writable:!0,value:void 0}),Zn(this,r,{writable:!0,value:void 0}),Gn(this,n,Kt(ws)),Gn(this,t,Kt(_o)),Gn(this,e,Kt(il)),Gn(this,r,Kt(yg)),this.controller=Kt(Xl),this.state={q:""},this.vm$=ui(Et(this,n).handle(JR).pipe(zr(ct=>li(this,i,g).call(this,ct.search))),Et(this,n).handle(Ih).pipe(zr(ct=>li(this,o,D).call(this,ct))),Et(this,e).paramMap.pipe(zr(function(){var ct=Pi(function*(Nt){return yield li(qe,c,be).call(qe,Nt)});return function(Nt){return ct.apply(this,arguments)}}())))}trackByFn(qe,ct){return ct.display_name}}function g(xe){const qe=String.isNullOrWhitespace(this.state.q);this.state.q=xe,li(this,l,q).call(this,qe)}function D(xe){Et(this,r).save("search-result",xe.subreddit_requested),Et(this,t).navigate(["r",xe.subreddit_requested])}function q(xe){let qe=Object.trimUnusedProperties(this.state);Et(this,t).navigate(["s",qe],{replaceUrl:xe})}function be(xe){return Me.apply(this,arguments)}function Me(){return(Me=Pi(function*(xe){String.hasData(this.state.q)&&Et(this,n).raise(wh),Kl.fromParamMap(this.state,xe),yield this.controller.actions.searchAsync(this.state.q),String.hasData(this.state.q)&&(Et(this,r).restore(),Et(this,n).raise(Bc))})).apply(this,arguments)}return u.\u0275fac=function(qe){return new(qe||u)},u.\u0275cmp=Tr({type:u,selectors:[["ng-component"]],standalone:!0,features:[ni],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(qe,ct){1&qe&&(kn(0,WY,7,6,"ng-container",0),vi(1,"async")),2&qe&&Wt("ngIf",bi(1,1,ct.vm$))},dependencies:[Di,jl,lo,Sc,o0,Ss,eq,NY,tq],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0}),u})()}];(function vV(n,t){return R2({rootComponent:n,...sD(t)})})(Zz,{providers:[{provide:em,useFactory:function XY(n,t){return()=>n.addSvgIcon("arrow_downward",t.bypassSecurityTrustResourceUrl("assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("arrow_upward",t.bypassSecurityTrustResourceUrl("assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("clear",t.bypassSecurityTrustResourceUrl("assets/cancel_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("comment",t.bypassSecurityTrustResourceUrl("assets/comment_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("edit",t.bypassSecurityTrustResourceUrl("assets/edit_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("expand_more",t.bypassSecurityTrustResourceUrl("assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite_filled",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL1_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("fullscreen",t.bypassSecurityTrustResourceUrl("assets/fullscreen_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("go_back",t.bypassSecurityTrustResourceUrl("assets/arrow_back_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("groups",t.bypassSecurityTrustResourceUrl("assets/groups_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("home",t.bypassSecurityTrustResourceUrl("assets/home_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_horiz",t.bypassSecurityTrustResourceUrl("assets/more_horiz_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_vert",t.bypassSecurityTrustResourceUrl("assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("pause",t.bypassSecurityTrustResourceUrl("assets/pause_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("person",t.bypassSecurityTrustResourceUrl("assets/person_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("photo_library",t.bypassSecurityTrustResourceUrl("assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("play_arrow",t.bypassSecurityTrustResourceUrl("assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("push_pin",t.bypassSecurityTrustResourceUrl("assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("search",t.bypassSecurityTrustResourceUrl("assets/search_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("share",t.bypassSecurityTrustResourceUrl("assets/share_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("sort",t.bypassSecurityTrustResourceUrl("assets/sort_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("stop",t.bypassSecurityTrustResourceUrl("assets/stop_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("subscriptions",t.bypassSecurityTrustResourceUrl("assets/subscriptions_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("trending_up",t.bypassSecurityTrustResourceUrl("assets/trending_up_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_mute",t.bypassSecurityTrustResourceUrl("assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_off",t.bypassSecurityTrustResourceUrl("assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"))},multi:!0,deps:[ih,Ja]},{provide:gR,useValue:{use:!1,url:""}},{provide:bE,useValue:new bE},{provide:vE,useValue:new vE},{provide:_E,useValue:{keyPrefix:"RedditReader"}},{provide:Gf,useClass:L5,multi:!0},{provide:Gf,useClass:Z5,multi:!0},{provide:Gf,useClass:U5,multi:!0},{provide:Gf,useClass:z5,multi:!0},{provide:_I,useValue:{subscriptSizing:"dynamic"}},{provide:gH,useValue:{duration:3e3}},function h4(){return[...d4]}(),function E5(n,...t){return wp([{provide:hd,multi:!0,useValue:n},[],{provide:il,useFactory:rR,deps:[_o]},{provide:nm,multi:!0,useFactory:iR},t.map(e=>e.\u0275providers)])}(KY),function JV(...n){const t=[sb,bD,yD,{provide:Tm,useExisting:yD},{provide:nb,useExisting:bD},{provide:qf,useValue:QV,multi:!0},{provide:ab,useValue:!0},{provide:wD,useClass:XV}];for(const e of n)t.push(...e.\u0275providers);return wp(t)}(function e3(){return function td(n,t){return{\u0275kind:n,\u0275providers:t}}(ji.LegacyInterceptors,[{provide:SD,useFactory:jV},{provide:qf,useExisting:SD,multi:!0}])}())]}).catch(n=>console.error(n))},625:pl=>{self,pl.exports=(()=>{var ml={4593:(wt,He)=>{var L,ve,k,d,f,m={};L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve=function(S){for(var N=0,h=[],v=0|S.length/3;0<v--;){var T=(S[N]<<16)+(S[N+1]<<8)+S[N+2];N+=3,h.push(L.charAt(63&T>>18)),h.push(L.charAt(63&T>>12)),h.push(L.charAt(63&T>>6)),h.push(L.charAt(63&T))}return S.length-N==2?(h.push(L.charAt(63&(T=(S[N]<<16)+(S[N+1]<<8))>>18)),h.push(L.charAt(63&T>>12)),h.push(L.charAt(63&T>>6)),h.push("=")):S.length-N==1&&(h.push(L.charAt(63&(T=S[N]<<16)>>18)),h.push(L.charAt(63&T>>12)),h.push("==")),h.join("")},k=function(){for(var S=[],N=0;N<64;++N)S[L.charCodeAt(N)]=N;return S["=".charCodeAt(0)]=0,S}(),d=function(S){for(var N=0,h=[],v=0|S.length/4;0<v--;){var T=(k[S.charCodeAt(N)]<<18)+(k[S.charCodeAt(N+1)]<<12)+(k[S.charCodeAt(N+2)]<<6)+k[S.charCodeAt(N+3)];h.push(255&T>>16),h.push(255&T>>8),h.push(255&T),N+=4}return h&&("="==S.charAt(N-2)?(h.pop(),h.pop()):"="==S.charAt(N-1)&&h.pop()),h},f={encode:function(S){for(var N=[],h=0;h<S.length;++h)N.push(S.charCodeAt(h));return N},decode:function(S){for(var N=0;N<s.length;++N)a[N]=String.fromCharCode(a[N]);return a.join("")}},m.decodeArray=function(S){var N=d(S);return new Uint8Array(N)},m.encodeASCII=function(S){var N=f.encode(S);return ve(N)},m.decodeASCII=function(S){var N=d(S);return f.decode(N)},m.encode=function(S){var N=function(S){for(var N=[],h=0;h<S.length;++h){var v=S.charCodeAt(h);v<128?N.push(v):v<2048?(N.push(192|v>>6),N.push(128|63&v)):v<65536?(N.push(224|v>>12),N.push(128|63&v>>6),N.push(128|63&v)):(N.push(240|v>>18),N.push(128|63&v>>12),N.push(128|63&v>>6),N.push(128|63&v))}return N}(S);return ve(N)},m.decode=function(S){return function(S){for(var N=[],h=0;h<S.length;){var v=S[h++];v<128||(v<224?(v=(31&v)<<6,v|=63&S[h++]):v<240?(v=(15&v)<<12,v|=(63&S[h++])<<6,v|=63&S[h++]):(v=(7&v)<<18,v|=(63&S[h++])<<12,v|=(63&S[h++])<<6,v|=63&S[h++])),N.push(String.fromCharCode(v))}return N.join("")}(d(S))},He.decode=m.decode,He.decodeArray=m.decodeArray,He.encode=m.encode,He.encodeASCII=m.encodeASCII},452:(wt,He)=>{!function(L){"use strict";var ve={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},k=function(H){var F=H;return ve.hasOwnProperty(H)&&(F=ve[H]),String.fromCharCode(F)},d=15,f=32,P={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},w={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},S={25:2,26:4,29:6,30:8,31:10,27:13,28:15},N=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(H){this.time=H},log:function(H,F){this.verboseLevel>=this.verboseFilter[H]&&console.log(this.time+" ["+H+"] "+F)}},v=function(H){for(var F=[],W=0;W<H.length;W++)F.push(H[W].toString(16));return F},T=function(H,F,W,he,ce){this.foreground=H||"white",this.underline=F||!1,this.italics=W||!1,this.background=he||"black",this.flash=ce||!1};T.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(H){for(var F=["foreground","underline","italics","background","flash"],W=0;W<F.length;W++){var he=F[W];H.hasOwnProperty(he)&&(this[he]=H[he])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(H){return this.foreground===H.foreground&&this.underline===H.underline&&this.italics===H.italics&&this.background===H.background&&this.flash===H.flash},copy:function(H){this.foreground=H.foreground,this.underline=H.underline,this.italics=H.italics,this.background=H.background,this.flash=H.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var G=function(H,F,W,he,ce,ze){this.uchar=H||" ",this.penState=new T(F,W,he,ce,ze)};G.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(H,F){this.uchar=H,this.penState.copy(F)},setPenState:function(H){this.penState.copy(H)},equals:function(H){return this.uchar===H.uchar&&this.penState.equals(H.penState)},copy:function(H){this.uchar=H.uchar,this.penState.copy(H.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var $=function(){this.chars=[];for(var H=0;H<f;H++)this.chars.push(new G);this.pos=0,this.currPenState=new T};$.prototype={equals:function(H){for(var F=!0,W=0;W<f;W++)if(!this.chars[W].equals(H.chars[W])){F=!1;break}return F},copy:function(H){for(var F=0;F<f;F++)this.chars[F].copy(H.chars[F])},isEmpty:function(){for(var H=!0,F=0;F<f;F++)if(!this.chars[F].isEmpty()){H=!1;break}return H},setCursor:function(H){this.pos!==H&&(this.pos=H),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>f&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=f)},moveCursor:function(H){var F=this.pos+H;if(H>1)for(var W=this.pos+1;W<F+1;W++)this.chars[W].setPenState(this.currPenState);this.setCursor(F)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(H){H>=144&&this.backSpace();var F=k(H);this.pos>=f?h.log("ERROR","Cannot insert "+H.toString(16)+" ("+F+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(F,this.currPenState),this.moveCursor(1))},clearFromPos:function(H){var F;for(F=H;F<f;F++)this.chars[F].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var H=[],F=!0,W=0;W<f;W++){var he=this.chars[W].uchar;" "!==he&&(F=!1),H.push(he)}return F?"":H.join("")},setPenStyles:function(H){this.currPenState.setStyles(H),this.chars[this.pos].setPenState(this.currPenState)}};var ne=function(){this.rows=[];for(var H=0;H<d;H++)this.rows.push(new $);this.currRow=14,this.nrRollUpRows=null,this.reset()};ne.prototype={reset:function(){for(var H=0;H<d;H++)this.rows[H].clear();this.currRow=14},equals:function(H){for(var F=!0,W=0;W<d;W++)if(!this.rows[W].equals(H.rows[W])){F=!1;break}return F},copy:function(H){for(var F=0;F<d;F++)this.rows[F].copy(H.rows[F])},isEmpty:function(){for(var H=!0,F=0;F<d;F++)if(!this.rows[F].isEmpty()){H=!1;break}return H},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(H){this.rows[this.currRow].insertChar(H)},setPen:function(H){this.rows[this.currRow].setPenStyles(H)},moveCursor:function(H){this.rows[this.currRow].moveCursor(H)},setCursor:function(H){h.log("INFO","setCursor: "+H),this.rows[this.currRow].setCursor(H)},setPAC:function(H){h.log("INFO","pacData = "+JSON.stringify(H));var F=H.row-1;this.nrRollUpRows&&F<this.nrRollUpRows-1&&(F=this.nrRollUpRows-1),this.currRow=F;var W=this.rows[this.currRow];if(null!==H.indent){var ce=Math.max(H.indent-1,0);W.setCursor(H.indent),H.color=W.chars[ce].penState.foreground}this.setPen({foreground:H.color,underline:H.underline,italics:H.italics,background:"black",flash:!1})},setBkgData:function(H){h.log("INFO","bkgData = "+JSON.stringify(H)),this.backSpace(),this.setPen(H),this.insertChar(32)},setRollUpRows:function(H){this.nrRollUpRows=H},rollUp:function(){if(null!==this.nrRollUpRows){h.log("TEXT",this.getDisplayText());var F=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];F.clear(),this.rows.splice(this.currRow,0,F),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(H){H=H||!1;for(var F=[],W="",ce=0;ce<d;ce++){var ze=this.rows[ce].getTextString();ze&&F.push(H?"Row "+(ce+1)+': "'+ze+'"':ze.trim())}return F.length>0&&(W=H?"["+F.join(" | ")+"]":F.join("\n")),W},getTextAndFormat:function(){return this.rows}};var Q=function(H,F){this.chNr=H,this.outputFilter=F,this.mode=null,this.verbose=0,this.displayedMemory=new ne,this.nonDisplayedMemory=new ne,this.lastOutputScreen=new ne,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};Q.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(H){this.outputFilter=H},setPAC:function(H){this.writeScreen.setPAC(H)},setBkgData:function(H){this.writeScreen.setBkgData(H)},setMode:function(H){H!==this.mode&&(this.mode=H,h.log("INFO","MODE="+H),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=H)},insertChars:function(H){for(var F=0;F<H.length;F++)this.writeScreen.insertChar(H[F]);h.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){h.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(H){h.log("INFO","RU("+H+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(H)},cc_FON:function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(h.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var H=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=H,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(H){h.log("INFO","TO("+H+") - Tab Offset"),this.writeScreen.moveCursor(H)},cc_MIDROW:function(H){var F={flash:!1};if(F.underline=H%2==1,F.italics=H>=46,F.italics)F.foreground="white";else{var W=Math.floor(H/2)-16;F.foreground=["white","green","blue","cyan","red","yellow","magenta"][W]}h.log("INFO","MIDROW: "+JSON.stringify(F)),this.writeScreen.setPen(F)},outputDataUpdate:function(){var H=h.time;null!==H&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(H,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,H,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:H):this.cueStartTime=H,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(H){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,H,this.displayedMemory),this.cueStartTime=H))}};var oe=function(H,F,W){this.field=H||1,this.outputs=[F,W],this.channels=[new Q(1,F),new Q(2,W)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};oe.prototype={getHandler:function(H){return this.channels[H].getHandler()},setHandler:function(H,F){this.channels[H].setHandler(F)},addData:function(H,F){var W,he,ce,ze=!1;this.lastTime=H,h.setTime(H);for(var st=0;st<F.length;st+=2)ce=127&F[st+1],(he=127&F[st])>=16&&he<=31&&he===this.lastCmdA&&ce===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+v([he,ce])+") is dropped")):0!==he||0!==ce?(h.log("DATA","["+v([F[st],F[st+1]])+"] -> ("+v([he,ce])+")"),(W=this.parseCmd(he,ce))||(W=this.parseMidrow(he,ce)),W||(W=this.parsePAC(he,ce)),W||(W=this.parseBackgroundAttributes(he,ce)),W||(ze=this.parseChars(he,ce))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(ze):h.log("WARNING","No channel found yet. TEXT-MODE?")),W?this.dataCounters.cmd+=2:ze?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+v([he,ce])+" orig: "+v([F[st],F[st+1]])))):this.dataCounters.padding+=2},parseCmd:function(H,F){var W;if(!((20===H||21===H||28===H||29===H)&&32<=F&&F<=47||(23===H||31===H)&&33<=F&&F<=35))return!1;var he=this.channels[(W=20===H||21===H||23===H?1:2)-1];return 20===H||21===H||28===H||29===H?32===F?he.cc_RCL():33===F?he.cc_BS():34===F?he.cc_AOF():35===F?he.cc_AON():36===F?he.cc_DER():37===F?he.cc_RU(2):38===F?he.cc_RU(3):39===F?he.cc_RU(4):40===F?he.cc_FON():41===F?he.cc_RDC():42===F?he.cc_TR():43===F?he.cc_RTD():44===F?he.cc_EDM():45===F?he.cc_CR():46===F?he.cc_ENM():47===F&&he.cc_EOC():he.cc_TO(F-32),this.lastCmdA=H,this.lastCmdB=F,this.currChNr=W,!0},parseMidrow:function(H,F){var W=null;if((17===H||25===H)&&32<=F&&F<=47){if((W=17===H?1:2)!==this.currChNr)return h.log("ERROR","Mismatch channel in midrow parsing"),!1;var he=this.channels[W-1];return he.insertChars([32]),he.cc_MIDROW(F),h.log("DEBUG","MIDROW ("+v([H,F])+")"),this.lastCmdA=H,this.lastCmdB=F,!0}return!1},parsePAC:function(H,F){var W;if(!((17<=H&&H<=23||25<=H&&H<=31)&&64<=F&&F<=127||(16===H||24===H)&&64<=F&&F<=95))return!1;W=H<=23?1:2;var ce=this.interpretPAC(64<=F&&F<=95?1===W?P[H]:m[H]:1===W?w[H]:S[H],F);return this.channels[W-1].setPAC(ce),this.lastCmdA=H,this.lastCmdB=F,this.currChNr=W,!0},interpretPAC:function(H,F){var W,he={color:null,italics:!1,indent:null,underline:!1,row:H};return he.underline=1==(1&(W=F>95?F-96:F-64)),W<=13?he.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(W/2)]:W<=15?(he.italics=!0,he.color="white"):he.indent=4*Math.floor((W-16)/2),he},parseChars:function(H,F){var ze,W=null,he=null,ce=null;if(H>=25?(W=2,ce=H-8):(W=1,ce=H),17<=ce&&ce<=19?(h.log("INFO","Special char '"+k(ze=17===ce?F+80:18===ce?F+112:F+144)+"' in channel "+W),he=[ze],this.lastCmdA=H,this.lastCmdB=F):32<=H&&H<=127&&(he=0===F?[H]:[H,F],this.lastCmdA=null,this.lastCmdB=null),he){var st=v(he);h.log("DEBUG","Char codes =  "+st.join(","))}return he},parseBackgroundAttributes:function(H,F){var W,he;return((16===H||24===H)&&32<=F&&F<=47||(23===H||31===H)&&45<=F&&F<=47)&&(W={},16===H||24===H?(he=Math.floor((F-32)/2),W.background=N[he],F%2==1&&(W.background=W.background+"_semi")):45===F?W.background="transparent":(W.foreground="black",47===F&&(W.underline=!0)),this.channels[(H<24?1:2)-1].setBkgData(W),this.lastCmdA=H,this.lastCmdB=F,!0)},reset:function(){for(var H=0;H<this.channels.length;H++)this.channels[H]&&this.channels[H].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(H){for(var F=0;F<this.channels.length;F++)this.channels[F]&&this.channels[F].cueSplitAtTime(H)}},L.logger=h,L.PenState=T,L.CaptionScreen=ne,L.Cea608Parser=oe,L.findCea608Nalus=function(H,F,W){for(var he=0,ce=F,ze=[],st=function(Ne,Ue,rt,Mt){if(4!==Ne||Ue<8)return null;var ht=rt.getUint8(Mt),ke=rt.getUint16(Mt+1),gt=rt.getUint32(Mt+3),St=rt.getUint8(Mt+7);return 181==ht&&49==ke&&1195456820==gt&&3==St};ce<F+W;){if(he=H.getUint32(ce),6==(31&H.getUint8(ce+4)))for(var ge=ce+5,Rt=-1;ge<ce+4+he-1;){Rt=0;for(var Ve=255;255===Ve;)Rt+=Ve=H.getUint8(ge),ge++;var We=0;for(Ve=255;255===Ve;)We+=Ve=H.getUint8(ge),ge++;st(Rt,We,H,ge)&&ze.push([ge,We]),ge+=We}ce+=he+4}return ze},L.extractCea608DataFromRange=function(H,F){var W=F[0],he=[[],[]],ce=31&H.getUint8(W+=8);W+=2;for(var ze=0;ze<ce;ze++){var st=H.getUint8(W),ge=4&st,Rt=3&st;W++;var Ve=H.getUint8(W);W++;var We=H.getUint8(W);W++,ge&&(127&Ve)+(127&We)!=0&&(0===Rt?(he[0].push(Ve),he[0].push(We)):1===Rt&&(he[1].push(Ve),he[1].push(We)))}return he}}(He)},8416:(wt,He,L)=>{"use strict";var ve=L(7688),k=L(5448),d=L(6398),f=L(2032),P=(L(5530),typeof window<"u"&&window||L.g),w=P.dashjs;w||(w=P.dashjs={}),w.MediaPlayer=ve.Z,w.FactoryMaker=k.Z,w.Debug=d.Z,w.Version=(0,f.e)()},6398:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>v});var ve=L(5595),k=L(8512),d=L(5448),f=1,P=2,w=3,m=4,S=5;function N(T){T=T||{};var G,$,ne,Q,H=(0,ve.Z)(this.context).getInstance(),F=T.settings,W=[];function he(We){return We&&We.bind?We.bind(window.console):window.console.log.bind(window.console)}function ce(){for(var We=arguments.length,Ne=new Array(We),Ue=0;Ue<We;Ue++)Ne[Ue]=arguments[Ue];Ve.apply(void 0,[f,this].concat(Ne))}function ze(){for(var We=arguments.length,Ne=new Array(We),Ue=0;Ue<We;Ue++)Ne[Ue]=arguments[Ue];Ve.apply(void 0,[P,this].concat(Ne))}function st(){for(var We=arguments.length,Ne=new Array(We),Ue=0;Ue<We;Ue++)Ne[Ue]=arguments[Ue];Ve.apply(void 0,[w,this].concat(Ne))}function ge(){for(var We=arguments.length,Ne=new Array(We),Ue=0;Ue<We;Ue++)Ne[Ue]=arguments[Ue];Ve.apply(void 0,[m,this].concat(Ne))}function Rt(){for(var We=arguments.length,Ne=new Array(We),Ue=0;Ue<We;Ue++)Ne[Ue]=arguments[Ue];Ve.apply(void 0,[S,this].concat(Ne))}function Ve(We,Ne){var Ue="",rt=null;$&&(rt=(new Date).getTime(),Ue+="["+(rt-Q)+"]"),ne&&Ne&&Ne.getClassName&&(Ue+="["+Ne.getClassName()+"]",Ne.getType&&(Ue+="["+Ne.getType()+"]")),Ue.length>0&&(Ue+=" ");for(var Mt=arguments.length,ht=new Array(Mt>2?Mt-2:0),ke=2;ke<Mt;ke++)ht[ke-2]=arguments[ke];Array.apply(null,ht).forEach(function(gt){Ue+=gt+" "}),W[We]&&F&&F.get().debug.logLevel>=We&&W[We](Ue),F&&F.get().debug.dispatchEvent&&H.trigger(k.Z.LOG,{message:Ue,level:We})}return G={getLogger:function(We){return{fatal:ce.bind(We),error:ze.bind(We),warn:st.bind(We),info:ge.bind(We),debug:Rt.bind(We)}},setLogTimestampVisible:function(We){$=We},setCalleeNameVisible:function(We){ne=We}},$=!0,ne=!0,Q=(new Date).getTime(),typeof window<"u"&&window.console&&(W[f]=he(window.console.error),W[P]=he(window.console.error),W[w]=he(window.console.warn),W[m]=he(window.console.info),W[S]=he(window.console.debug)),G}N.__dashjs_factory_name="Debug";var h=d.Z.getSingletonFactory(N);h.LOG_LEVEL_NONE=0,h.LOG_LEVEL_FATAL=f,h.LOG_LEVEL_ERROR=P,h.LOG_LEVEL_WARNING=w,h.LOG_LEVEL_INFO=m,h.LOG_LEVEL_DEBUG=S,d.Z.updateSingletonFactory(N.__dashjs_factory_name,h);const v=h},5595:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>P});var ve=L(5448),k=L(8825);function d(){var w={};function m(N,h,v){var T=-1;return w[N]&&w[N].some(function(G,$){if(G&&G.callback===h&&(!v||v===G.scope))return T=$,!0}),T}var S={on:function(N,h,v){var T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!N)throw new Error("event type cannot be null or undefined");if(!h||"function"!=typeof h)throw new Error("listener must be a function: "+h);var G=T.priority||0;if(!(m(N,h,v)>=0)){w[N]=w[N]||[];var $={callback:h,scope:v,priority:G};v&&v.getStreamId&&($.streamId=v.getStreamId()),v&&v.getType&&($.mediaType=v.getType()),T&&T.mode&&($.mode=T.mode),w[N].some(function(Q,oe){if(Q&&G>Q.priority)return w[N].splice(oe,0,$),!0})||w[N].push($)}},off:function(N,h,v){if(N&&h&&w[N]){var T=m(N,h,v);T<0||(w[N][T]=null)}},trigger:function(N){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(N&&w[N]){if((h=h||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");h.type=N,v.streamId&&(h.streamId=v.streamId),v.mediaType&&(h.mediaType=v.mediaType),w[N].filter(function(T){return!(!T||v.streamId&&T.streamId&&T.streamId!==v.streamId||v.mediaType&&T.mediaType&&T.mediaType!==v.mediaType||v.mode&&T.mode&&T.mode!==v.mode||!T.mode&&v.mode&&v.mode===k.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(T){return T&&T.callback.call(T.scope,h)})}},reset:function(){w={}}};return S}d.__dashjs_factory_name="EventBus";var f=ve.Z.getSingletonFactory(d);f.EVENT_PRIORITY_LOW=0,f.EVENT_PRIORITY_HIGH=5e3,ve.Z.updateSingletonFactory(d.__dashjs_factory_name,f);const P=f},5448:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>ve});const ve=function(){var k,d=[],f={},P={};function w(h,v){for(var T in d){var G=d[T];if(G.context===h&&G.name===v)return G.instance}return null}function m(h,v){return v[h]}function S(h,v,T){h in T&&(T[h]=v)}function N(h,v,T){var G,$=h.__dashjs_factory_name,ne=v[$];if(ne){var Q=ne.instance;if(!ne.override)return Q.apply({context:v,factory:k},T);for(var oe in G=h.apply({context:v},T),Q=Q.apply({context:v,factory:k,parent:G},T))G.hasOwnProperty(oe)&&(G[oe]=Q[oe])}else G=h.apply({context:v},T);return G.getClassName=function(){return $},G}return k={extend:function(h,v,T,G){!G[h]&&v&&(G[h]={instance:v,override:T})},getSingletonInstance:w,setSingletonInstance:function(h,v,T){for(var G in d){var $=d[G];if($.context===h&&$.name===v)return void(d[G].instance=T)}d.push({name:v,context:h,instance:T})},deleteSingletonInstances:function(h){d=d.filter(function(v){return v.context!==h})},getSingletonFactory:function(h){var v=m(h.__dashjs_factory_name,f);return v||(v=function(T){var G;return void 0===T&&(T={}),{getInstance:function(){return G||(G=w(T,h.__dashjs_factory_name)),G||(G=N(h,T,arguments),d.push({name:h.__dashjs_factory_name,context:T,instance:G})),G}}},f[h.__dashjs_factory_name]=v),v},getSingletonFactoryByName:function(h){return m(h,f)},updateSingletonFactory:function(h,v){S(h,v,f)},getClassFactory:function(h){var v=m(h.__dashjs_factory_name,P);return v||(v=function(T){return void 0===T&&(T={}),{create:function(){return N(h,T,arguments)}}},P[h.__dashjs_factory_name]=v),v},getClassFactoryByName:function(h){return m(h,P)},updateClassFactory:function(h,v){S(h,v,P)}},k}()},1264:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>v});var ve=L(5448),k=L(703),d=L(6398),f=L(3393),P=L(7855),w=L(5595),m=L(8512);function S(T){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(T)}function N(T,G,$){return G in T?Object.defineProperty(T,G,{value:$,enumerable:!0,configurable:!0,writable:!0}):T[G]=$,T}function h(){var T,G,ne=(0,w.Z)(this.context).getInstance(),Q={"streaming.delay.liveDelay":m.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":m.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":m.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":m.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":m.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},oe={debug:{logLevel:d.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:f.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:f.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:f.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:f.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(T={},N(T,P.w.MPD_TYPE,500),N(T,P.w.XLINK_EXPANSION_TYPE,500),N(T,P.w.MEDIA_SEGMENT_TYPE,1e3),N(T,P.w.INIT_SEGMENT_TYPE,1e3),N(T,P.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),N(T,P.w.INDEX_SEGMENT_TYPE,1e3),N(T,P.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),N(T,P.w.LICENSE,1e3),N(T,P.w.OTHER_TYPE,1e3),N(T,"lowLatencyReductionFactor",10),T),retryAttempts:(G={},N(G,P.w.MPD_TYPE,3),N(G,P.w.XLINK_EXPANSION_TYPE,1),N(G,P.w.MEDIA_SEGMENT_TYPE,3),N(G,P.w.INIT_SEGMENT_TYPE,3),N(G,P.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),N(G,P.w.INDEX_SEGMENT_TYPE,3),N(G,P.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),N(G,P.w.LICENSE,3),N(G,P.w.OTHER_TYPE,3),N(G,"lowLatencyMultiplyFactor",5),G),abr:{movingAverageMethod:f.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:f.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:f.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},H=k.Z.clone(oe);function F(W,he,ce){for(var ze in W)W.hasOwnProperty(ze)&&(he.hasOwnProperty(ze)?"object"!==S(W[ze])||W[ze]instanceof Array||null===W[ze]?(he[ze]=k.Z.clone(W[ze]),Q[ce+ze]&&ne.trigger(Q[ce+ze])):F(W[ze],he[ze],ce.slice()+ze+"."):console.error("Settings parameter "+ce+ze+" is not supported"))}return{get:function(){return H},update:function(W){"object"===S(W)&&F(W,H,"")},reset:function(){H=k.Z.clone(oe)}}}h.__dashjs_factory_name="Settings";const v=ve.Z.getSingletonFactory(h)},703:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>w});var ve=L(3875),k=L.n(ve),d=L(1067);function f(m){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(m)}const w=function(){function m(){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,m)}var N;return N=[{key:"mixin",value:function(h,v,T){var G,$={};if(h)for(var ne in v)v.hasOwnProperty(ne)&&(G=v[ne],ne in h&&(h[ne]===G||ne in $&&$[ne]===G)||(h[ne]="object"===f(h[ne])&&null!==h[ne]?m.mixin(h[ne],G,T):T(G)));return h}},{key:"clone",value:function(h){if(!h||"object"!==f(h))return h;var v;if(h instanceof Array){v=[];for(var T=0,G=h.length;T<G;++T)T in h&&v.push(m.clone(h[T]))}else v={};return m.mixin(v,h,m.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(h,v){try{if(!v||0===v.length)return h;var T=new URL(h);return v.forEach(function(G){G.key&&G.value&&T.searchParams.set(G.key,G.value)}),T.href}catch{return h}}},{key:"parseHttpHeaders",value:function(h){var v={};if(!h)return v;for(var T=h.trim().split("\r\n"),G=0,$=T.length;G<$;G++){var ne=T[G],Q=ne.indexOf(": ");Q>0&&(v[ne.substring(0,Q)]=ne.substring(Q+2))}return v}},{key:"generateUuid",value:function(){var h=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var T=(h+16*Math.random())%16|0;return h=Math.floor(h/16),("x"==v?T:3&T|8).toString(16)})}},{key:"generateHashCode",value:function(h){var v=0;if(0===h.length)return v;for(var T=0;T<h.length;T++)v=(v<<5)-v+h.charCodeAt(T),v|=0;return v}},{key:"getRelativeUrl",value:function(h,v){try{var T=new URL(h),G=new URL(v);if(T.protocol=G.protocol,T.origin!==G.origin)return v;var $=k().relative(T.pathname.substr(0,T.pathname.lastIndexOf("/")),G.pathname.substr(0,G.pathname.lastIndexOf("/"))),ne=0===$.length?1:0;return $+=G.pathname.substr(G.pathname.lastIndexOf("/")+ne,G.pathname.length-1),G.pathname.length<$.length?G.pathname:$}catch{return v}}},{key:"parseUserAgent",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var v=null===h&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,d.UAParser)(v)}catch{return{}}}}],N&&function P(m,S){for(var N=0;N<S.length;N++){var h=S[N];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}(m,N),m}()},2032:(wt,He,L)=>{"use strict";function ve(){return"4.7.0"}L.d(He,{e:()=>ve})},2230:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>k});const k=function(){function d(){!function(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}(this,d)}var P;return(P=[{key:"extend",value:function(w,m){if(w){var S=!!m&&m.override,N=!!m&&m.publicOnly;for(var h in w)!w.hasOwnProperty(h)||this[h]&&!S||N&&-1===w[h].indexOf("public_")||(this[h]=w[h])}}}])&&function ve(d,f){for(var P=0;P<f.length;P++){var w=f[P];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,w.key,w)}}(d.prototype,P),d}()},4351:(wt,He,L)=>{"use strict";function ve(w){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(w)}function k(w,m){return(k=Object.setPrototypeOf||function(S,N){return S.__proto__=N,S})(w,m)}function f(w){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(w)}L.d(He,{Z:()=>P});const P=function(w){!function(v,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),T&&k(v,T)}(h,w);var m,S,N=(m=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,T=f(m);if(S){var G=f(this).constructor;v=Reflect.construct(T,arguments,G)}else v=T.apply(this,arguments);return function d(w,m){return!m||"object"!==ve(m)&&"function"!=typeof m?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(w):m}(this,v)});function h(){var v;return function(T,G){if(!(T instanceof G))throw new TypeError("Cannot call a class as a function")}(this,h),(v=N.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",v.BUFFERING_COMPLETED="bufferingCompleted",v.BUFFER_CLEARED="bufferCleared",v.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",v.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",v.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",v.CMSD_STATIC_HEADER="cmsdStaticHeader",v.CURRENT_TRACK_CHANGED="currentTrackChanged",v.DATA_UPDATE_COMPLETED="dataUpdateCompleted",v.INBAND_EVENTS="inbandEvents",v.INITIAL_STREAM_SWITCH="initialStreamSwitch",v.INIT_FRAGMENT_LOADED="initFragmentLoaded",v.INIT_FRAGMENT_NEEDED="initFragmentNeeded",v.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",v.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",v.LOADING_COMPLETED="loadingCompleted",v.LOADING_PROGRESS="loadingProgress",v.LOADING_DATA_PROGRESS="loadingDataProgress",v.LOADING_ABANDONED="loadingAborted",v.MANIFEST_UPDATED="manifestUpdated",v.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",v.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",v.QUOTA_EXCEEDED="quotaExceeded",v.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",v.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",v.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",v.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",v.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",v.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",v.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",v.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",v.SOURCE_BUFFER_ERROR="sourceBufferError",v.STREAMS_COMPOSED="streamsComposed",v.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",v.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",v.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",v.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",v.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",v.URL_RESOLUTION_FAILED="urlResolutionFailed",v.VIDEO_CHUNK_RECEIVED="videoChunkReceived",v.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",v.XLINK_ELEMENT_LOADED="xlinkElementLoaded",v.XLINK_READY="xlinkReady",v.SEEK_TARGET="seekTarget",v.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",v.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",v.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",v.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",v.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",v}return h}(L(8342).Z)},8512:(wt,He,L)=>{"use strict";function ve(m){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(m)}function d(m,S){return(d=Object.setPrototypeOf||function(N,h){return N.__proto__=h,N})(m,S)}function P(m){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(m)}L.d(He,{Z:()=>w});const w=new(function(m){!function(T,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(G&&G.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),G&&d(T,G)}(v,m);var S,N,h=(S=v,N=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,G=P(S);if(N){var $=P(this).constructor;T=Reflect.construct(G,arguments,$)}else T=G.apply(this,arguments);return function f(m,S){return!S||"object"!==ve(S)&&"function"!=typeof S?function(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(m):S}(this,T)});function v(){return function k(m,S){if(!(m instanceof S))throw new TypeError("Cannot call a class as a function")}(this,v),h.apply(this,arguments)}return v}(L(4351).Z))},8342:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>k});const k=function(){function d(){!function(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}(this,d)}var P;return(P=[{key:"extend",value:function(w,m){if(w){var S=!!m&&m.override,N=!!m&&m.publicOnly;for(var h in w)!w.hasOwnProperty(h)||this[h]&&!S||N&&-1===w[h].indexOf("public_")||(this[h]=w[h])}}}])&&function ve(d,f){for(var P=0;P<f.length;P++){var w=f[P];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,w.key,w)}}(d.prototype,P),d}()},9326:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>S});var ve=L(3186),k=L(7855),d=L(5448),f=L(8825),P=L(7387),w=L(1553);function m(N){var h,v,T,G,$,ne=(N=N||{}).eventBus,oe=N.urlUtils,H=N.type,F=N.streamInfo,W=N.segmentsController,he=N.timelineConverter,ce=N.baseURLController;function ze(){return H}function st(){T=null}function ge(Ne,Ue,rt){var Mt,ht,ke=ce.resolve(rt.path),gt={};return ke&&Ue!==ke.url&&oe.isRelative(Ue)?(Mt=ke.url,ht=ke.serviceLocation,gt=ke.queryParams,Ue&&(Mt=oe.resolve(Ue,Mt))):Mt=Ue,!oe.isRelative(Mt)&&(Ne.url=Mt,Ne.serviceLocation=ht,Ne.queryParams=gt,!0)}function Rt(Ne,Ue){if(null==Ue)return null;var rt=new ve.Z,Mt=Ue.representation,ht=Mt.adaptation.period.mpd.manifest.Period_asArray[Mt.adaptation.period.index].AdaptationSet_asArray[Mt.adaptation.index].Representation_asArray[Mt.index].bandwidth,ke=Ue.media;return ke=(0,P.vi)(ke,"Number",Ue.replacementNumber),ke=(0,P.vi)(ke,"Time",Ue.replacementTime),ke=(0,P.vi)(ke,"Bandwidth",ht),ke=(0,P.Aj)(ke,Mt.id),ke=(0,P.eR)(ke),rt.mediaType=ze(),rt.type=k.w.MEDIA_SEGMENT_TYPE,rt.range=Ue.mediaRange,rt.startTime=Ue.presentationStartTime,rt.mediaStartTime=Ue.mediaStartTime,rt.duration=Ue.duration,rt.timescale=Mt.timescale,rt.availabilityStartTime=Ue.availabilityStartTime,rt.availabilityEndTime=Ue.availabilityEndTime,rt.availabilityTimeComplete=Mt.availabilityTimeComplete,rt.wallStartTime=Ue.wallStartTime,rt.quality=Mt.index,rt.index=Ue.index,rt.mediaInfo=Ne,rt.adaptationIndex=Mt.adaptation.index,rt.representationId=Mt.id,ge(rt,ke,Mt)?rt:void 0}function Ve(Ne,Ue,rt){var Mt=null;if(!Ue||!Ue.segmentInfoType)return Mt;var ht=W.getSegmentByTime(Ue,rt);return ht&&(T=ht,v.debug("Index for time "+rt+" is "+ht.index),Mt=Rt(Ne,ht)),Mt}function We(){v.debug("Dynamic stream complete"),$=!0}return h={initialize:function(Ne){G=Ne,$=!1,W.initialize(Ne)},getStreamId:function(){return F.id},getType:ze,getStreamInfo:function(){return F},getInitRequest:function(Ne,Ue){return Ue?function(rt,Mt,ht){var ke=new ve.Z,gt=Mt.adaptation.period,St=gt.start;if(ke.mediaType=ht,ke.type=k.w.INIT_SEGMENT_TYPE,ke.range=Mt.range,ke.availabilityStartTime=he.calcAvailabilityStartTimeFromPresentationTime(St,Mt,G),ke.availabilityEndTime=he.calcAvailabilityEndTimeFromPresentationTime(St+gt.duration,Mt,G),ke.quality=Mt.index,ke.mediaInfo=rt,ke.representationId=Mt.id,ge(ke,Mt.initialization,Mt))return ke.url=(0,P.vi)(ke.url,"Bandwidth",Mt.bandwidth),ke}(Ne,Ue,ze()):null},getSegmentRequestForTime:Ve,getCurrentIndex:function(){return T?T.index:-1},getNextSegmentRequest:function(Ne,Ue){var rt=null;if(!Ue||!Ue.segmentInfoType)return null;var Mt=T?T.index+1:0,ht=W.getSegmentByIndex(Ue,Mt,T?T.mediaStartTime:-1);if(ht)rt=Rt(Ne,ht),T=ht;else{if(G&&!$)return v.debug(ze()+" No segment found at index: "+Mt+". Wait for next loop"),null;$=!0}return rt},isLastSegmentRequested:function(Ne,Ue){return!(!Ne||!T||!$&&(!isFinite(Ne.adaptation.period.duration)||T.presentationStartTime+T.duration>Ue||!(Ne.mediaFinishedInformation&&!isNaN(Ne.mediaFinishedInformation.numberOfSegments)&&!isNaN(T.index)&&T.index>=Ne.mediaFinishedInformation.numberOfSegments-1&&(!G||Ne.segmentInfoType===w.Z.SEGMENT_TEMPLATE||G&&Ne.segmentInfoType===w.Z.SEGMENT_LIST&&Ne.adaptation.period.nextPeriodId)||G&&Ne.adaptation.period.nextPeriodId&&Ne.segmentInfoType===w.Z.SEGMENT_TIMELINE&&Ne.mediaFinishedInformation&&!isNaN(Ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&T&&!isNaN(T.mediaStartTime)&&!isNaN(T.duration)&&T.mediaStartTime+T.duration>=Ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)))},reset:function(){st(),ne.off(f.Z.DYNAMIC_TO_STATIC,We,h)},getNextSegmentRequestIdempotent:function(Ne,Ue){var Mt=W.getSegmentByIndex(Ue,T?T.index+1:0,T?T.mediaStartTime:-1);return Mt?Rt(Ne,Mt):null},getValidTimeAheadOfTargetTime:function(Ne,Ue,rt,Mt){try{if(isNaN(Ne)||!Ue||!rt)return NaN;if(Ne<0&&(Ne=0),isNaN(Mt)&&(Mt=.5),Ve(Ue,rt,Ne))return Ne;if(rt.adaptation.period.start+rt.adaptation.period.duration<Ne)return NaN;for(var ht=isFinite(rt.adaptation.period.duration)?rt.adaptation.period.start+rt.adaptation.period.duration:Ne+30,ke=Math.min(Ne+Mt,ht),gt=NaN,St=null;ke<=ht;){var Ye=null;if(ke<=ht&&(Ye=Ve(Ue,rt,ke)),Ye){gt=ke,St=Ye;break}ke+=Mt}if(St){var yt=St.startTime+St.duration;return Ne>St.startTime&&yt-Ne>Mt?Ne:!isNaN(St.startTime)&&Ne<St.startTime&&gt>St.startTime?St.startTime+.001:Math.min(yt-Mt,gt)}return gt}catch{return NaN}}},v=N.debug.getLogger(h),st(),ne.on(f.Z.DYNAMIC_TO_STATIC,We,h),h}m.__dashjs_factory_name="DashHandler";const S=d.Z.getClassFactory(m)},1553:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>k});const k=new(function(){function d(){(function(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}var P;return(P=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&function ve(d,f){for(var P=0;P<f.length;P++){var w=f[P];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,w.key,w)}}(d.prototype,P),d}())},7802:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>m});var ve=L(5448),k=L(1724),d=L(3636),f=L(1736),P=L(5246);function w(S){var N,h,v=this.context,T=(S=S||{}).dashConstants,G=S.type,$=S.segmentBaseController;function ne(Q){return Q?Q.segments?h[T.SEGMENT_BASE]:h[Q.segmentInfoType]:null}return N={initialize:function(Q){h[T.SEGMENT_TIMELINE]=(0,k.Z)(v).create(S,Q),h[T.SEGMENT_TEMPLATE]=(0,d.Z)(v).create(S,Q),h[T.SEGMENT_LIST]=(0,f.Z)(v).create(S,Q),h[T.SEGMENT_BASE]=(0,P.Z)(v).create(S,Q)},updateInitData:function(Q,oe){return oe?Promise.resolve():$.getSegmentBaseInitSegment({representation:Q,mediaType:G})},updateSegmentData:function(Q,oe){return oe?Promise.resolve():$.getSegmentList({mimeType:Q.mimeType,representation:Q,mediaType:G})},getSegmentByIndex:function(Q,oe,H){var F=ne(Q);return F?F.getSegmentByIndex(Q,oe,H):null},getSegmentByTime:function(Q,oe){var H=ne(Q);return H?H.getSegmentByTime(Q,oe):null},getMediaFinishedInformation:function(Q){var oe=ne(Q);return oe?oe.getMediaFinishedInformation(Q):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},h={},N}w.__dashjs_factory_name="SegmentsController";const m=ve.Z.getClassFactory(w)},1736:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>P});var ve=L(5448),k=L(3393),d=L(7387);function f(w,m){var S=(w=w||{}).timelineConverter;function N(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(k.Z.MISSING_CONFIG_ERROR)}function h(v,T){if(N(),!v)return null;var G=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentList,$=G.SegmentURL_asArray.length,ne=v&&!isNaN(v.startNumber)?v.startNumber:1,Q=Math.max(ne-1,0),oe=Math.max(T-Q,0),H=null;if(oe<$){var F=G.SegmentURL_asArray[oe];(H=(0,d.NF)(S,m,v,T))&&(H.replacementTime=(ne+T-1)*v.segmentDuration,H.media=F.media?F.media:"",H.mediaRange=F.mediaRange,H.indexRange=F.indexRange)}return H}return{getSegmentByIndex:h,getSegmentByTime:function(v,T){if(N(),!v)return null;var G=v.segmentDuration;if(isNaN(G))return null;var $=S.calcPeriodRelativeTimeFromMpdRelativeTime(v,T);return h(v,Math.floor($/G))},getMediaFinishedInformation:function(v){var T={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!v)return T;var G=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentList,$=v&&!isNaN(v.startNumber)?v.startNumber:1,ne=Math.max($-1,0);return T.numberOfSegments=ne+G.SegmentURL_asArray.length,T}}}f.__dashjs_factory_name="ListSegmentsGetter";const P=ve.Z.getClassFactory(f)},5246:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f});var ve=L(5448),k=L(3393);function d(P){var w=(P=P||{}).timelineConverter;function m(){if(!w||!w.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(k.Z.MISSING_CONFIG_ERROR)}function S(N,h){if(m(),!N)return null;var v,T=N.segments?N.segments.length:-1;if(h<T&&(v=N.segments[h])&&v.index===h)return v;for(var G=0;G<T;G++)if((v=N.segments[G])&&v.index===h)return v;return null}return{getSegmentByIndex:S,getSegmentByTime:function(N,h){return m(),S(N,function(T,G){if(!T)return-1;var $,ne,Q,oe,H,F=T.segments,W=F?F.length:null,he=-1;if(F&&W>0)for(H=0;H<W;H++)if(Q=(ne=F[H]).presentationStartTime,G+($=(oe=ne.duration)/2)>=Q&&G-$<Q+oe){he=ne.index;break}return he}(N,h))},getMediaFinishedInformation:function(N){var h={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return N&&N.segments&&(h.numberOfSegments=N.segments.length),h}}}d.__dashjs_factory_name="SegmentBaseGetter";const f=ve.Z.getClassFactory(d)},7387:(wt,He,L)=>{"use strict";L.d(He,{Aj:()=>f,NF:()=>S,TJ:()=>N,eR:()=>d,vi:()=>P});var ve=L(2011);function k(h,v){for(;h.length<v;)h="0"+h;return h}function d(h){return h&&h.split("$$").join("$")}function f(h,v){if(!v||!h||-1===h.indexOf("$RepresentationID$"))return h;var T=v.toString();return h.split("$RepresentationID$").join(T)}function P(h,v,T){var G,$,ne,Q,oe,H,F=v.length;if(!h)return h;for(;;){if((G=h.indexOf("$"+v))<0||($=h.indexOf("$",G+F))<0)return h;if((ne=h.indexOf("%0",G+F))>G&&ne<$)switch(Q=h.charAt($-1),oe=parseInt(h.substring(ne+2,$-1),10),Q){case"d":case"i":case"u":H=k(T.toString(),oe);break;case"x":H=k(T.toString(16),oe);break;case"X":H=k(T.toString(16),oe).toUpperCase();break;case"o":H=k(T.toString(8),oe);break;default:return h}else H=T;h=h.substring(0,G)+H+h.substring($+1)}}function w(h,v,T,G,$,ne,Q,oe){var F=new ve.Z;return F.representation=h,F.duration=v,F.presentationStartTime=T,F.mediaStartTime=G,F.availabilityStartTime=$.calcAvailabilityStartTimeFromPresentationTime(ne,h,Q),F.availabilityEndTime=$.calcAvailabilityEndTimeFromPresentationTime(ne+v,h,Q),F.wallStartTime=$.calcWallTimeForSegment(F,Q),F.replacementNumber=F.representation.startNumber+oe,F.index=oe,F}function m(h,v,T,G){var $=v.adaptation.period;if(isFinite($.duration)&&$.start+$.duration<=T.presentationStartTime)return!1;if(G){if("INF"===v.availabilityTimeOffset)return!0;var ne=h.getClientReferenceTime();return T.availabilityStartTime.getTime()<=ne&&(!isFinite(T.availabilityEndTime)||T.availabilityEndTime.getTime()>=ne)}return!0}function S(h,v,T,G){var $,ne,Q;$=T.segmentDuration,isNaN($)&&($=T.adaptation.period.duration),ne=parseFloat((T.adaptation.period.start+G*$).toFixed(5)),Q=parseFloat((ne+$).toFixed(5));var oe=w(T,$,ne,h.calcMediaTimeFromPresentationTime(ne,T),h,Q,v,G);return m(h,T,oe,v)?oe:null}function N(h,v,T,G,$,ne,Q,oe,H,F){var W,he,ce=G/ne,ze=$/ne;return W=h.calcPresentationTimeFromMediaTime(ce,T),m(h,T,he=w(T,ze,W,ce,h,W+ze,v,H),v)?(he.replacementTime=F||G,Q=P(Q,"Number",he.replacementNumber),Q=P(Q,"Time",he.replacementTime),he.media=Q,he.mediaRange=oe,he):null}},3636:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>P});var ve=L(5448),k=L(3393),d=L(7387);function f(w,m){var S=(w=w||{}).timelineConverter;function N(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(k.Z.MISSING_CONFIG_ERROR)}function h(v,T){if(N(),!v)return null;var G=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentTemplate;T=Math.max(T,0);var $=(0,d.NF)(S,m,v,T);if($){$.replacementTime=Math.round((T-1)*v.segmentDuration*v.timescale,10);var ne=G.media;ne=(0,d.vi)(ne,"Number",$.replacementNumber),ne=(0,d.vi)(ne,"Time",$.replacementTime),$.media=ne}return $}return{getSegmentByIndex:h,getSegmentByTime:function(v,T){if(N(),!v)return null;var G=v.segmentDuration;if(isNaN(G))return null;var $=S.calcPeriodRelativeTimeFromMpdRelativeTime(v,T);return h(v,Math.floor($/G))},getMediaFinishedInformation:function(v){var T={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!v)return T;var G=v.segmentDuration;return T.numberOfSegments=isNaN(G)?1:Math.ceil(v.adaptation.period.duration/G),T}}}f.__dashjs_factory_name="TemplateSegmentsGetter";const P=ve.Z.getClassFactory(f)},1724:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>P});var ve=L(5448),k=L(3393),d=L(7387);function f(w,m){var S=(w=w||{}).timelineConverter,N=w.dashMetrics;function h(){if(!S)throw new Error(k.Z.MISSING_CONFIG_ERROR)}function v(G,$){var ne,Q,oe,H,F,W,he,ce=G.adaptation.period.mpd.manifest.Period_asArray[G.adaptation.period.index].AdaptationSet_asArray[G.adaptation.index].Representation_asArray[G.index].SegmentTemplate||G.adaptation.period.mpd.manifest.Period_asArray[G.adaptation.period.index].AdaptationSet_asArray[G.adaptation.index].Representation_asArray[G.index].SegmentList,st=ce.SegmentURL_asArray,ge=0,Rt=-1;he=G.timescale;var Ve=!1;for(oe=0,H=(ne=ce.SegmentTimeline.S_asArray).length;oe<H&&!Ve;oe++)for(W=0,(Q=ne[oe]).hasOwnProperty("r")&&(W=Q.r),Q.hasOwnProperty("t")&&(ge=Q.t),W<0&&(W=T(G,ne[oe+1],Q,he,ge/he)),F=0;F<=W&&!Ve;F++)(Ve=$(ge,ce,st,Q,he,++Rt,oe))&&(G.segmentDuration=Q.d/he),ge+=Q.d}function T(G,$,ne,Q,oe){var H;if($&&$.hasOwnProperty("t"))H=$.t/Q;else try{var F=0;if(isNaN(G.adaptation.period.start)||isNaN(G.adaptation.period.duration)||!isFinite(G.adaptation.period.duration)){var W=N.getCurrentDVRInfo();F=isNaN(W.end)?0:W.end}else F=G.adaptation.period.start+G.adaptation.period.duration;H=S.calcMediaTimeFromPresentationTime(F,G),G.segmentDuration=ne.d/Q}catch{H=0}return Math.max(Math.ceil((H-oe)/(ne.d/Q))-1,0)}return{getSegmentByIndex:function(G,$,ne){if(h(),!G)return null;var Q=null,oe=!1;return v(G,function(H,F,W,he,ce,ze,st){if(oe||ne<0){var ge=F.media,Rt=he.mediaRange;return W&&(ge=W[st].media||"",Rt=W[st].mediaRange),Q=(0,d.TJ)(S,m,G,H,he.d,ce,ge,Rt,ze,he.tManifest),!0}return H>=ne*ce-.5*he.d&&(oe=!0),!1}),Q},getSegmentByTime:function(G,$){if(h(),!G)return null;void 0===$&&($=null);var ne=null,Q=S.calcMediaTimeFromPresentationTime($,G);return v(G,function(oe,H,F,W,he,ce,ze){var st=parseFloat((Q*he).toPrecision(15));if(st<oe+W.d&&st>=oe){var ge=H.media,Rt=W.mediaRange;return F&&(ge=F[ze].media||"",Rt=F[ze].mediaRange),ne=(0,d.TJ)(S,m,G,oe,W.d,he,ge,Rt,ce,W.tManifest),!0}return!1}),ne},getMediaFinishedInformation:function(G){if(!G)return 0;var $,ne,Q,oe,H,F,W,ce=0,ze=0,st=0;for(W=G.timescale,oe=($=(G.adaptation.period.mpd.manifest.Period_asArray[G.adaptation.period.index].AdaptationSet_asArray[G.adaptation.index].Representation_asArray[G.index].SegmentTemplate||G.adaptation.period.mpd.manifest.Period_asArray[G.adaptation.period.index].AdaptationSet_asArray[G.adaptation.index].Representation_asArray[G.index].SegmentList).SegmentTimeline.S_asArray).length,Q=0;Q<oe;Q++)for(F=0,(ne=$[Q]).hasOwnProperty("r")&&(F=ne.r),ne.hasOwnProperty("t")&&(ze=(ce=ne.t)/W),F<0&&(F=T(G,$[Q+1],ne,W,ze)),H=0;H<=F;H++)st++,ze=(ce+=ne.d)/W;return{numberOfSegments:st,mediaTimeOfLastSignaledSegment:ze}}}}f.__dashjs_factory_name="TimelineSegmentsGetter";const P=ve.Z.getClassFactory(f)},2011:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>ve});const ve=function k(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,k),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>ve});const ve=function k(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,k),this.schemeIdUri="",this.value=""}},7688:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>v_});var ve=L(452),k=L.n(ve),d=L(3393),f=L(1553),P=L(3860),w=L(5595),m=L(8512),S=L(5448),N=L(6398),h=L(8825);function v(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,de,z,pe,ue,_e,C,Y,K=this.context,Z=(0,w.Z)(K).getInstance();function U(){B(),te=!1,ie=0,ee=0,ye=0,_e=!1,de=!1,C=!1,z=NaN,A&&(Z.off(m.Z.DATA_UPDATE_COMPLETED,Qe,y),Z.off(m.Z.LOADING_PROGRESS,Cn,y),Z.off(m.Z.MANIFEST_UPDATED,Ht,y),Z.off(m.Z.STREAMS_COMPOSED,dt,y),Z.off(h.Z.PLAYBACK_ENDED,hr,y),Z.off(h.Z.STREAM_INITIALIZING,vn,y),Z.off(h.Z.REPRESENTATION_SWITCH,mt,y),Z.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,lt,y),Se(),A.removeEventListener("canplay",Oe),A.removeEventListener("canplaythrough",et),A.removeEventListener("play",pt),A.removeEventListener("waiting",kt),A.removeEventListener("playing",Yt),A.removeEventListener("pause",Mn),A.removeEventListener("error",Pt),A.removeEventListener("seeking",gn),A.removeEventListener("seeked",hn),A.removeEventListener("timeupdate",ln),A.removeEventListener("progress",Rn),A.removeEventListener("ratechange",tr),A.removeEventListener("loadedmetadata",sr),A.removeEventListener("loadeddata",Wn),A.removeEventListener("stalled",wn),A.removeEventListener("ended",mr),A.removeEventListener("volumechange",ir)),J=null,A=null,V=null,re=null}function ae(){return parseFloat((le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-je()).toFixed(5))}function le(Ze){var Ee=Ze||V;return Ee.start+Ee.duration}function we(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0];V&&A&&A.getElement()?(Ze&&re&&Be(je()),A.play()):te=!0}function B(){V&&A&&A.pause()}function X(Ze){var Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=arguments.length>3&&void 0!==arguments[3]&&arguments[3];V&&A&&A.getElement()&&Ze!==(isNaN(z)?A.getTime():z)&&((pe=!0===ot)||(z=Ze),p.info("Requesting seek to time: "+Ze+(pe?" (internal)":"")),re&&It&&Be(Ze),A.setCurrentTime(Ze,Ee))}function Re(){if(V&&A&&re){var Ze=b&&b.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,Ee=R.getCurrentDVRInfo(Ze);return Ee&&Ee.range?Ee.range.end:0}}function Be(Ze){var Ee=new Date(j.getClientReferenceTime()),ot=O.getRegularPeriods()[0],It=j.calcPresentationTimeFromWallTime(Ee,ot);ie=It-Ze}function je(){return V&&A?A.getTime():null}function Je(){return V&&A?A.isPaused():null}function Pe(){return V&&A?A.isSeeking():null}function nt(){return V&&A?A.isStalled():null}function Bt(){return V&&A?A.getPlaybackRate():null}function vt(){return V&&A?A.getEnded():null}function Dt(){return re}function qt(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Je()&&re&&0!==A.getReadyState()&&!Pe()&&!_e){Ze||(Ze=b.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO);var Ee=je(),ot=function tn(Ze,Ee){var ot=R.getCurrentDVRInfo(Ee),It=ot?ot.range:null;return It?Ze>It.end?Math.max(It.end-ie,It.start):Ze>0&&Ze+.25<It.start&&Math.abs(Ze-It.start)<31536e4?de?Math.max(It.end-ie,It.start):It.start:Ze:NaN}(Ee,Ze);!isNaN(ot)&&ot!==Ee&&!Pe()&&(nt()||ue||1===A.getReadyState())&&(p.debug("UpdateCurrentTime: Seek to actual time: ".concat(ot," from currentTime: ").concat(Ee)),X(ot,!1,!1))}}function Le(){null===J&&(J=setInterval(function(){var Ze;Z.trigger(m.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:re,time:new Date}),Dt()&&(b.addDVRMetric(),Je()?(Ze=Date.now(),(!Ae||Ze>Ae+500)&&(Ae=Ze,ln())):qt())},Y.get().streaming.wallclockTimeUpdateInterval))}function Se(){clearInterval(J),J=null}function Qe(Ze){var Ee=O.convertRepresentationToRepresentationInfo(Ze.currentRepresentation),ot=Ee?Ee.mediaInfo.streamInfo:null;null!==ot&&V.id===ot.id&&(V=ot)}function Oe(){Z.trigger(m.Z.CAN_PLAY)}function et(){Z.trigger(m.Z.CAN_PLAY_THROUGH)}function lt(Ze){Ze.streamId===b.getActiveStreamInfo().id&&(ue=Ze.state===P.Z.BUFFER_EMPTY,Y.get().streaming.buffer.setStallState&&A.setStallState(Ze.mediaType,Ze.state===P.Z.BUFFER_EMPTY))}function pt(){p.info("Native video element event: play"),qt(),Le(),Z.trigger(m.Z.PLAYBACK_STARTED,{startTime:je()})}function kt(){p.info("Native video element event: waiting"),Z.trigger(m.Z.PLAYBACK_WAITING,{playingTime:je()})}function Yt(){p.info("Native video element event: playing"),pe=!1,Z.trigger(m.Z.PLAYBACK_PLAYING,{playingTime:je()})}function Mn(){p.info("Native video element event: pause"),Z.trigger(m.Z.PLAYBACK_PAUSED,{ended:vt()})}function gn(){if(!pe){var Ze=je();isNaN(z)||z===Ze||(Ze=z),z=NaN,p.info("Seeking to: "+Ze),Le(),Z.trigger(m.Z.PLAYBACK_SEEKING,{seekTime:Ze,streamId:V.id})}}function hn(){p.info("Native video element event: seeked"),pe=!1,Z.trigger(m.Z.PLAYBACK_SEEKED)}function ln(){V&&Z.trigger(m.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:ae(),time:je(),streamId:V.id})}function Rn(){Z.trigger(m.Z.PLAYBACK_PROGRESS,{streamId:V.id})}function tr(){var Ze=Bt();p.info("Native video element event: ratechange: ",Ze),Z.trigger(m.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Ze})}function sr(){p.info("Native video element event: loadedmetadata"),Z.trigger(m.Z.PLAYBACK_METADATA_LOADED),Le()}function Wn(){p.info("Native video element event: loadeddata"),Z.trigger(m.Z.PLAYBACK_LOADED_DATA)}function mr(){p.info("Native video element event: ended"),B(),Se();var Ze=b?b.getActiveStreamInfo():null;Ze&&Z.trigger(m.Z.PLAYBACK_ENDED,{isLast:Ze.isLast})}function ir(){Z.trigger(m.Z.PLAYBACK_VOLUME_CHANGED)}function hr(Ze){if(J&&Ze.isLast){p.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Ee=Ze.seekTime?Ze.seekTime:le();A.setCurrentTime(Ee),B(),Se()}}function Pt(Ze){Z.trigger(m.Z.PLAYBACK_ERROR,{error:(Ze.target||Ze.srcElement).error})}function Cn(Ze){if(!1===Ze.stream&&de&&!isNaN(Ze.request.duration)){var Ee=1.2*Ze.request.duration;Ee>ie&&(p.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Ee.toFixed(2)),ie=Ee,ee=Ee)}}function wn(Ze){Z.trigger(m.Z.PLAYBACK_STALLED,{e:Ze})}function vn(Ze){var Ee;(Ee=Ze.mediaInfo)&&Ee.supplementalProperties&&"true"===Ee.supplementalProperties[d.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(p.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),de=!0)}function mt(Ze){var Ee=b.getActiveStreamInfo();Ze&&Ee&&Ze.currentRepresentation&&Ze.streamId&&Ze.streamId===Ee.id&&Ze.mediaType&&(Ze.mediaType===d.Z.VIDEO||Ze.mediaType===d.Z.AUDIO)&&(de=!Ze.currentRepresentation.availabilityTimeComplete)&&!C&&(C=!0)}function Ht(){_e=!0}function dt(){_e=!1}return y={initialize:function(Ze,Ee){V=Ze,!0!==Ee&&(A.addEventListener("canplay",Oe),A.addEventListener("canplaythrough",et),A.addEventListener("play",pt),A.addEventListener("waiting",kt),A.addEventListener("playing",Yt),A.addEventListener("pause",Mn),A.addEventListener("error",Pt),A.addEventListener("seeking",gn),A.addEventListener("seeked",hn),A.addEventListener("timeupdate",ln),A.addEventListener("progress",Rn),A.addEventListener("ratechange",tr),A.addEventListener("loadedmetadata",sr),A.addEventListener("loadeddata",Wn),A.addEventListener("stalled",wn),A.addEventListener("ended",mr),A.addEventListener("volumechange",ir),re=V.manifestInfo.isDynamic,ue=!1,pe=!1,Z.on(m.Z.DATA_UPDATE_COMPLETED,Qe,y),Z.on(m.Z.LOADING_PROGRESS,Cn,y),Z.on(m.Z.MANIFEST_UPDATED,Ht,y),Z.on(m.Z.STREAMS_COMPOSED,dt,y),Z.on(h.Z.PLAYBACK_ENDED,hr,y,{priority:w.Z.EVENT_PRIORITY_HIGH}),Z.on(h.Z.STREAM_INITIALIZING,vn,y),Z.on(h.Z.REPRESENTATION_SWITCH,mt,y),Z.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,lt,y),te&&(te=!1,we()))},setConfig:function(Ze){Ze&&(Ze.streamController&&(b=Ze.streamController),Ze.serviceDescriptionController&&(I=Ze.serviceDescriptionController),Ze.dashMetrics&&(R=Ze.dashMetrics),Ze.adapter&&(O=Ze.adapter),Ze.videoModel&&(A=Ze.videoModel),Ze.timelineConverter&&(j=Ze.timelineConverter),Ze.settings&&(Y=Ze.settings))},getTimeToStreamEnd:ae,getBufferLevel:function(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ee=null;return b.getActiveStreamProcessors().forEach(function(ot){if(!Ze||0===Ze.length||-1===Ze.indexOf(ot.getType())){var It=ot.getBufferLevel();Ee=null===Ee?It:Math.min(Ee,It)}}),Ee},getPlaybackStalled:function(){return ue},getTime:je,getLowLatencyModeEnabled:function(){return de},getInitialCatchupModeActivated:function(){return C},getIsManifestUpdateInProgress:function(){return _e},getPlaybackRate:Bt,getPlayedRanges:function(){return V&&A?A.getPlayedRanges():null},getEnded:vt,getIsDynamic:Dt,getStreamController:function(){return b},computeAndSetLiveDelay:function(Ze,Ee){var ot,It,Jt,En=!isNaN(Ze)&&isFinite(Ze)?Ze:NaN,Jn=O.getSuggestedPresentationDelay(),Wr=I.getServiceDescriptionSettings();return ot=isNaN(Y.get().streaming.delay.liveDelay)?null===Y.get().streaming.delay.liveDelayFragmentCount||isNaN(Y.get().streaming.delay.liveDelayFragmentCount)||isNaN(En)?Wr&&!isNaN(Wr.liveDelay)&&Wr.liveDelay>0?Wr.liveDelay:!0===Y.get().streaming.delay.useSuggestedPresentationDelay&&null!==Jn&&!isNaN(Jn)&&Jn>0?Jn:isNaN(En)?Ee&&!isNaN(Ee.minBufferTime)?4*Ee.minBufferTime:4*V.manifestInfo.minBufferTime:4*En:En*Y.get().streaming.delay.liveDelayFragmentCount:Y.get().streaming.delay.liveDelay,null!==(Jt=O.getAvailabilityStartTime())&&(ye=Jt),It=Ee&&Ee.dvrWindowSize>0?Math.min(ot,Ee.dvrWindowSize):ot,ie=It,ee=It,It},getLiveDelay:function(){return ie},getOriginalLiveDelay:function(){return ee},getCurrentLiveLatency:function(){if(!re||isNaN(ye))return NaN;var Ze=je();if(isNaN(Ze)||0===Ze)return 0;var Ee=(new Date).getTime()+1e3*j.getClientTimeOffset();return Math.max(((Ee-ye-1e3*Ze)/1e3).toFixed(3),0)},play:we,isPaused:Je,isStalled:nt,pause:B,isSeeking:Pe,getStreamEndTime:le,seek:X,seekToOriginalLive:function(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=Re();0!==It&&X(It-(ie=ee),Ze,Ee,ot)},seekToCurrentLive:function(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=Re();0!==It&&X(It-ie,Ze,Ee,ot)},reset:U,updateCurrentTime:qt,getAvailabilityStartTime:function(){return ye}},p=(0,N.Z)(K).getInstance().getLogger(y),U(),y}v.__dashjs_factory_name="PlaybackController";const T=S.Z.getSingletonFactory(v);var G=L(3186),$="loading",ne="executed",Q="failed";function oe(y){var p,b,I,R,O=(y=y||{}).eventBus,A=y.events,j=y.dashMetrics,J=y.fragmentLoader,ee=y.streamInfo,V=y.type;function re(C){var Y;return!!C&&(Y=!1,I.some(function(K){if(Z=C,U=K,!isNaN(Z.index)&&Z.startTime===U.startTime&&Z.adaptationIndex===U.adaptationIndex&&Z.type===U.type||(ae=C,le=K,isNaN(ae.index)&&isNaN(le.index)&&ae.quality===le.quality)||function(ae,le){return ae.action===G.Z.ACTION_COMPLETE&&ae.action===le.action}(C,K))return Y=!0;var ae,le,Z,U}),Y)}function te(C){return isNaN(C.duration)?.25:Math.min(C.duration/8,.5)}function Ae(C){I=I.filter(function(Y){var K=te(Y);return isNaN(Y.startTime)||void 0!==C&&Y.startTime>=C-K})}function ye(C,Y){Y<=C+.5||(I=I.filter(function(K){var Z=te(K);return isNaN(K.startTime)||K.startTime>=Y-Z||isNaN(K.duration)||K.startTime+K.duration<=C+Z}))}function Te(C,Y,K){for(var Z=C.length-1;Z>=0;Z--){var U=C[Z],ae=U.startTime,le=ae+U.duration;if(K=isNaN(K)?te(U):K,!isNaN(ae)&&!isNaN(le)&&Y+K>=ae&&Y-K<le||isNaN(ae)&&isNaN(Y))return U}return null}function de(C,Y){j.addSchedulingInfo(C,Y),j.addRequestsQueue(C.mediaType,R,I)}function z(C){C.sender===J&&(R.splice(R.indexOf(C.request),1),C.response&&!C.error&&I.push(C.request),de(C.request,C.error?Q:ne),O.trigger(A.FRAGMENT_LOADING_COMPLETED,{request:C.request,response:C.response,error:C.error,sender:this},{streamId:ee.id,mediaType:V}))}function pe(C){C.sender===J&&O.trigger(A.FRAGMENT_LOADING_PROGRESS,{request:C.request,response:C.response,error:C.error,sender:this},{streamId:ee.id,mediaType:V})}function ue(C){C.sender===J&&O.trigger(A.FRAGMENT_LOADING_ABANDONED,{request:C.request},{streamId:ee.id,mediaType:V})}function _e(){I=[],R=[]}return p={getStreamId:function(){return ee.id},getType:function(){return V},getRequests:function(C){var K=[];return(C?C.state instanceof Array?C.state:[C.state]:[]).forEach(function(Z){var ae,le,U=function(ae){var le;switch(ae){case $:le=R;break;case ne:le=I;break;default:le=[]}return le}(Z);K=K.concat((ae=U,(le=C).hasOwnProperty("time")?[Te(ae,le.time,le.threshold)]:ae.filter(function(we){for(var B in le)if("state"!==B&&le.hasOwnProperty(B)&&we[B]!=le[B])return!1;return!0})))}),K},isFragmentLoaded:re,isFragmentLoadedOrPending:function(C){var Y,K=!1,Z=0;if(!(K=re(C)))for(Z=0;Z<R.length;Z++)C.url===(Y=R[Z]).url&&C.startTime===Y.startTime&&(K=!0);return K},removeExecutedRequestsBeforeTime:Ae,removeExecutedRequestsAfterTime:function(C){I=I.filter(function(Y){return isNaN(Y.startTime)||void 0!==C&&Y.startTime<C})},syncExecutedRequestsWithBufferedRange:function(C,Y){if(C&&0!==C.length){for(var K=0,Z=0,U=C.length;Z<U;Z++)ye(K,C.start(Z)),K=C.end(Z);Y>0&&ye(K,Y)}else Ae()},abortRequests:function(){b.debug("abort requests"),J.abort(),R=[]},executeRequest:function(C){var Y;C.action===G.Z.ACTION_DOWNLOAD?(de(C,$),R.push(C),O.trigger(A.FRAGMENT_LOADING_STARTED,{request:Y=C},{streamId:ee.id,mediaType:V}),J.load(Y)):b.warn("Unknown request action.")},reset:function(){O.off(A.LOADING_COMPLETED,z,this),O.off(A.LOADING_DATA_PROGRESS,pe,this),O.off(A.LOADING_ABANDONED,ue,this),J&&J.reset(),_e()},resetInitialSettings:_e,addExecutedRequest:function(C){I.push(C)}},b=y.debug.getLogger(p),_e(),O.on(A.LOADING_COMPLETED,z,p),O.on(A.LOADING_DATA_PROGRESS,pe,p),O.on(A.LOADING_ABANDONED,ue,p),p}oe.__dashjs_factory_name="FragmentModel";var H=S.Z.getClassFactory(oe);H.FRAGMENT_MODEL_LOADING=$,H.FRAGMENT_MODEL_EXECUTED=ne,H.FRAGMENT_MODEL_CANCELED="canceled",H.FRAGMENT_MODEL_FAILED=Q,S.Z.updateClassFactory(oe.__dashjs_factory_name,H);const F=H;var W=L(5459);function he(y){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function ce(y,p){return(ce=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function st(y){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}const ge=new(function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&ce(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=st(p);if(b){var j=st(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function ze(y,p){return!p||"object"!==he(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){var O;return function(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}(this,R),(O=I.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,O.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,O.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,O.SEGMENT_BASE_LOADER_ERROR_CODE=15,O.TIME_SYNC_FAILED_ERROR_CODE=16,O.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,O.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,O.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,O.APPEND_ERROR_CODE=20,O.REMOVE_ERROR_CODE=21,O.DATA_UPDATE_FAILED_ERROR_CODE=22,O.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,O.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,O.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,O.DOWNLOAD_ERROR_ID_SIDX_CODE=26,O.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,O.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,O.DOWNLOAD_ERROR_ID_XLINK_CODE=29,O.MANIFEST_ERROR_ID_PARSE_CODE=31,O.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,O.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,O.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,O.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,O.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",O.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",O.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",O.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",O.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",O.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",O.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",O.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",O.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",O.APPEND_ERROR_MESSAGE="chunk is not defined",O.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",O.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",O.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",O.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",O.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",O.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",O}return R}(L(2230).Z));var Rt=L(1264),Ve=L(7855);function We(y){var p,b,I,R,O,A,j=this.context,J=(0,Rt.Z)(j).getInstance(),ie=y.textController,ee=y.eventBus,V=[],re=[],te=!1,Ae=y.mediaSource,ye=null;function Te(U){return new Promise(function(ae){Z(function(){R.changeType&&R.changeType(U),ae()})})}function de(U){return R=ie.getTextSourceBuffer(U),Promise.resolve()}function z(){if("function"==typeof R.addEventListener)try{R.addEventListener("updateend",Y,!1),R.addEventListener("error",K,!1),R.addEventListener("abort",K,!1)}catch{A=setInterval(Y,50)}else A=setInterval(Y,50)}function pe(U){return new Promise(function(ae){R&&J.get().streaming.buffer.useAppendWindow?Z(function(){try{if(!R)return void ae();var le=Ae.duration,we=0;U&&!isNaN(U.start)&&!isNaN(U.duration)&&isFinite(U.duration)&&(le=U.start+U.duration),U&&!isNaN(U.start)&&(we=U.start),R.appendWindowEnd===le&&R.appendWindowStart===we||(R.appendWindowStart=0,R.appendWindowEnd=le+.01,R.appendWindowStart=Math.max(we-.1,0),I.debug("Updated append window for ".concat(O.type,". Set start to ").concat(R.appendWindowStart," and end to ").concat(R.appendWindowEnd))),ae()}catch{I.warn("Failed to set append window"),ae()}}):ae()})}function ue(U){return new Promise(function(ae){R?Z(function(){try{R.timestampOffset===U||isNaN(U)||(R.timestampOffset=U,I.debug("Set MSE timestamp offset to ".concat(U))),ae()}catch{ae()}}):ae()})}function _e(){if(!te&&re.length>0){te=!0;var U=re[0];re.splice(0,1);var ae=function(){te=!1,re.length>0&&_e.call(this),U&&U.data&&U.data.segmentType&&U.data.segmentType!==Ve.w.INIT_SEGMENT_TYPE&&delete U.data.bytes,U.promise.resolve({chunk:U.data})};try{ye=U.request,0===U.data.bytes.byteLength?ae.call(this):(R.appendBuffer?R.appendBuffer(U.data.bytes):R.append(U.data.bytes,U.data),Z(ae.bind(this)))}catch(le){I.fatal('SourceBuffer append failed "'+le+'"'),re.length>0?_e():te=!1,delete U.data.bytes,U.promise.reject({chunk:U.data,error:new W.Z(le.code,le.message)})}}}function C(){V.length>0&&(R.updating||(V.shift()(),C()))}function Y(){R.updating||C()}function K(U){ee.trigger(m.Z.SOURCE_BUFFER_ERROR,{error:U.target||{},lastRequestAppended:ye},{streamId:O.streamInfo.id,mediaType:b})}function Z(U){V.push(U),R.updating||C()}return p={getType:function(){return b},getAllBufferRanges:function(){try{return R.buffered}catch(U){return I.error("getAllBufferRanges exception: "+U.message),null}},getBuffer:function(){return R},append:function(U){var ae=this,le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(we,B){U?(re.push({data:U,promise:{resolve:we,reject:B},request:le}),Z(_e.bind(ae))):B({chunk:U,error:new W.Z(ge.APPEND_ERROR_CODE,ge.APPEND_ERROR_MESSAGE)})})},remove:function(U){return new Promise(function(ae,le){var we=U.start,B=U.end;we>=0&&B>we?Z(function(){try{R.remove(we,B),Z(function(){ae({from:we,to:B,unintended:!1}),U.resolve&&U.resolve()})}catch(X){le({from:we,to:B,unintended:!1,error:new W.Z(ge.REMOVE_ERROR_CODE,ge.REMOVE_ERROR_MESSAGE)}),U.reject&&U.reject(X)}}):ae()})},abort:function(){return new Promise(function(U){try{re=[],"open"===Ae.readyState?Z(function(){try{R&&R.abort(),U()}catch{U()}}):(R&&R.setTextTrack&&"ended"===Ae.readyState&&R.abort(),U())}catch{U()}})},reset:function(){if(R){try{V=[],function(){try{"function"==typeof R.removeEventListener&&(R.removeEventListener("updateend",Y,!1),R.removeEventListener("error",K,!1),R.removeEventListener("abort",K,!1)),clearInterval(A)}catch(U){I.error(U)}}(),te=!1,re=[],R.getClassName&&"TextSourceBuffer"===R.getClassName()||(I.debug("Removing sourcebuffer from media source"),Ae.removeSourceBuffer(R))}catch{}R=null}ye=null},updateTimestampOffset:ue,initializeForStreamSwitch:function(U,ae,le){b=(O=U).type;var we=O.codec;R=le.getBuffer(),z();var B=[];return B.push(new Promise(function(X){Z(function(){var Re=R.appendWindowStart,Be=R.appendWindowEnd;R&&(R.abort(),R.appendWindowStart=Re,R.appendWindowEnd=Be),X()})})),B.push(pe(O.streamInfo)),J.get().streaming.buffer.useChangeTypeForTrackSwitch&&B.push(Te(we)),ae&&void 0!==ae.MSETimeOffset&&B.push(ue(ae.MSETimeOffset)),Promise.all(B)},initializeForFirstUse:function(U,ae,le){b=(O=ae).type;var we=O.codec;try{if(we.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return de(U);R=Ae.addSourceBuffer(we),z();var B=[];return B.push(pe(O.streamInfo)),le&&void 0!==le.MSETimeOffset&&B.push(ue(le.MSETimeOffset)),Promise.all(B)}catch(X){return O.type==d.Z.TEXT&&!O.isFragmented||-1!==we.indexOf('codecs="stpp')||-1!==we.indexOf('codecs="vtt')?de(U):Promise.reject(X)}},updateAppendWindow:pe,changeType:Te},I=(0,N.Z)(j).getInstance().getLogger(p),p}We.__dashjs_factory_name="SourceBufferSink";const Ne=S.Z.getClassFactory(We);function Ue(y){var p,b,I,O=[],A=y;function j(J,ie){return O=O.filter(function(ee){return!((isNaN(ie)||ee.start<ie)&&(isNaN(J)||ee.end>J))}),Promise.resolve()}return p={getAllBufferRanges:function(){for(var J=[],ie=0;ie<O.length;ie++){var ee=O[ie];0===J.length||ee.start>J[J.length-1].end?J.push({start:ee.start,end:ee.end}):J[J.length-1].end=ee.end}var V={start:function(re){return J[re].start},end:function(re){return J[re].end}};return Object.defineProperty(V,"length",{get:function(){return J.length}}),V},append:function(J){return"InitializationSegment"!==J.segmentType?(O.push(J),O.sort(function(ie,ee){return ie.start-ee.start}),I=null):I=J,b.debug("PreBufferSink appended chunk s: "+J.start+"; e: "+J.end),A&&A({chunk:J}),Promise.resolve()},remove:j,abort:function(){return Promise.resolve()},discharge:function(J,ie){var V,re,ee=(V=J,re=ie,O.filter(function(te){return(isNaN(re)||te.start<re)&&(isNaN(V)||te.end>V)}));return I&&(ee.push(I),I=null),j(J,ie),ee},reset:function(){O=[],I=null,A=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(J){J()},getBuffer:function(){return this}},b=(0,N.Z)(this.context).getInstance().getLogger(p),p}Ue.__dashjs_factory_name="PreBufferSink";const rt=S.Z.getClassFactory(Ue);function Mt(){var y={};return{save:function(p){var b=p.streamId,I=p.representationId;y[b]=y[b]||{},y[b][I]=p},extract:function(p,b){return y&&y[p]&&y[p][b]?y[p][b]:null},reset:function(){y={}}}}Mt.__dashjs_factory_name="InitCache";const ht=S.Z.getSingletonFactory(Mt);var gt="BufferController";function St(y){y=y||{};var p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,Te,de,z,pe,ue,_e,C=this.context,Y=(0,w.Z)(C).getInstance(),K=y.errHandler,Z=y.fragmentModel,U=y.representationController,ae=y.adapter,le=y.textController,we=y.abrController,B=y.playbackController,X=y.streamInfo,Re=y.type,Be=y.settings;function je(dt){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(Ee,ot){A=dt,ie&&Ze&&"function"==typeof ie.discharge?(ee=ie,Pe(Ze).then(function(){Ee()}).catch(function(It){ot(It)})):Ee()})}function Je(dt){return ae.convertRepresentationToRepresentationInfo(U.getRepresentationForQuality(dt))}function Pe(dt){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Ee,ot){z&&dt?A?(V=!1,function Bt(dt,Ze){return new Promise(function(Ee,ot){var Jt,En,Jn,Wr,It=we.getQualityFor(Re,X.id);ie=Ne(C).create({mediaSource:A,textController:le,eventBus:Y}),(Jt=dt,En=Ze,Jn=It,Wr=Je(Jn),En&&En[Re]&&(Re===d.Z.VIDEO||Re===d.Z.AUDIO)?ie.initializeForStreamSwitch(Jt,Wr,En[Re]):ie.initializeForFirstUse(X,Jt,Wr)).then(function(){return Wn(Je(It))}).then(function(){Ee(ie)}).catch(function(Jt){b.fatal("Caught error on create SourceBuffer: "+Jt),K.error(new W.Z(ge.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ge.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Re)),ot(Jt)})})}(dt,Ze).then(function(It){Ee(It)}).catch(function(It){ot(It)})):(V=!0,function nt(){var dt=this;return new Promise(function(Ze,Ee){var ot=we.getQualityFor(Re,X.id);ie=rt(C).create(Le.bind(dt)),Wn(Je(ot)).then(function(){Ze(ie)}).catch(function(){Ee()})})}().then(function(It){Ee(It)}).catch(function(It){ot(It)})):Ee(null)})}function vt(dt){Be.get().streaming.cacheInitSegments&&(b.info("Init fragment finished loading saving to",Re+"'s init cache"),z.save(dt.chunk)),b.debug("Append Init fragment",Re," with representationId:",dt.chunk.representationId," and quality:",dt.chunk.quality,", data size:",dt.chunk.bytes.byteLength),qt(dt.chunk)}function Dt(dt){qt(dt.chunk,dt.request)}function qt(dt){ie.append(dt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Ee){Le(Ee)}).catch(function(Ee){Le(Ee)}),dt.mediaInfo.type===d.Z.VIDEO&&mt(m.Z.VIDEO_CHUNK_RECEIVED,{chunk:dt})}function tn(dt){if(dt&&dt.length>0)for(var Ze=0,Ee=dt.length;Ze<Ee;Ze++)b.debug("Buffered range: "+dt.start(Ze)+" - "+dt.end(Ze)+", currentTime = ",B.getTime())}function Le(dt){if(dt.error)return 22===dt.error.code&&function(){if(de=!0,O=.8*Cn(),b.warn("Quota exceeded, Critical Buffer: "+O),O>0){var ot=Math.max(.2*O,1),It=O-ot,Jt=Math.min(Be.get().streaming.buffer.bufferTimeAtTopQuality,.9*It),En=Math.min(Be.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*It),Jn={streaming:{buffer:{bufferToKeep:parseFloat(ot.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Jt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(En.toFixed(5))}}};Be.update(Jn)}}(),void(22!==dt.error.code&&vn()||(b.warn("Clearing playback buffer to overcome quota exceed situation"),mt(m.Z.QUOTA_EXCEEDED,{criticalBufferLevel:O,quotaExceededTime:dt.chunk.start}),Rn(ln())));if(ie&&(kt(),de=!1,(Ae=dt.chunk)&&Ae.endFragment)){Ae&&!isNaN(Ae.index)&&(j=Math.max(Ae.index,j),Yt());var Ze=ie.getAllBufferRanges();Ae.segmentType===Ve.w.MEDIA_SEGMENT_TYPE&&(tn(Ze),Oe(),function(){if(!isNaN(_e)&&!V)if(Re===d.Z.AUDIO||Re===d.Z.VIDEO){var ot=B.getTime(),It=pt(ot,0),Jt=pt(_e,0);if(It&&Jt&&It.start===Jt.start)_e=NaN;else{var En=U.getCurrentRepresentation().segmentDuration,Jn=pt(_e,En);Jn&&(Be.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(ot-_e)>En?_e<=Jn.end&&B.seek(Math.max(_e,Jn.start),!1,!0):ot<Jn.start&&B.seek(Jn.start,!1,!0))}}else _e=NaN}());var Ee=!1;re&&(re.indexOf(Ae)>0&&(Ee=!0),re=null),Ae&&!Ee&&mt(m.Z.BYTES_APPENDED_END_FRAGMENT,{quality:Ae.quality,startTime:Ae.start,index:Ae.index,bufferedRanges:Ze,segmentType:Ae.segmentType,mediaType:Re})}}function Se(){return new Promise(function(dt,Ze){var Ee=Qe();if(!Ee||0===Ee.length)return Oe(),void dt();Rn(Ee).then(function(){dt()}).catch(function(ot){Ze(ot)})})}function Qe(dt){var Ze=[],Ee=ie.getAllBufferRanges();if(!Ee||0===Ee.length)return Ze;if(!dt&&0!==dt||isNaN(dt))Ze.push({start:Ee.start(0),end:Ee.end(Ee.length-1)+.5});else{var ot=function(Jt,En){var Jn=Be.get().streaming.buffer.bufferToKeep,Wr=En.start(0);if(Jt-Wr>Jn){var to=Math.max(0,Jt-Jn),Zr=Z.getRequests({state:F.FRAGMENT_MODEL_EXECUTED,time:Jt,threshold:.01})[0];if(Zr&&(to=Math.min(Zr.startTime,to)),to>0)return{start:Wr,end:to}}return null}(dt,Ee),It=function(Jt,En){var Jn=En.end(En.length-1)+.5,Wr=wn(Jt),to=X.manifestInfo.duration>=Be.get().streaming.buffer.longFormContentDurationThreshold?Be.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Be.get().streaming.buffer.bufferTimeAtTopQuality,Zr=isNaN(Wr)?Jt:Math.min(Wr,Jt+to);if(Zr>=En.end(En.length-1))return null;var Ao=Z.getRequests({state:F.FRAGMENT_MODEL_EXECUTED,time:Jt,threshold:.01})[0];if(Ao&&(Zr=Math.max(Ao.startTime+Ao.duration,Zr)),Be.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var no=0;no<En.length;no++)if(En.start(no)<=Jt&&Jt<=En.end(no)&&En.start(no)<=Zr&&Zr<=En.end(no)){var ks=Zr;Zr=no+1<En.length?En.start(no+1):En.end(no)+1,b.debug("Buffered range ["+En.start(no)+", "+En.end(no)+"] overlaps with targetTime "+Jt+" and range to be pruned ["+ks+", "+Jn+"], using ["+Zr+", "+Jn+"] instead"+(Zr<Jn?"":" (no actual pruning)"));break}return Zr<En.end(En.length-1)?{start:Zr,end:Jn}:null}(dt,Ee);ot&&Ze.push(ot),It&&Ze.push(It)}return Ze}function Oe(){(!ue||Re===d.Z.TEXT&&le.isTextEnabled())&&kt()}function et(){Mn()}function lt(){Mn(),_e=NaN}function pt(dt,Ze){var Ee,ot,It=ie.getAllBufferRanges(),Jt=0,En=0,Jn=null,Wr=null,to=0,Zr=isNaN(Ze)?.15:Ze;if(null!=It){for(ot=0,Ee=It.length;ot<Ee;ot++)if(Jt=It.start(ot),En=It.end(ot),null===Jn)to=Math.abs(Jt-dt),(dt>=Jt&&dt<En||to<=Zr)&&(Jn=Jt,Wr=En);else{if(!((to=Jt-Wr)<=Zr))break;Wr=En}if(null!==Jn)return{start:Jn,end:Wr}}return null}function kt(){if(B){var dt=B.getTime()||0;V&&(dt=isNaN(_e)?0:_e);var Ze=Be.get().streaming.gaps.jumpGaps&&!isNaN(Be.get().streaming.gaps.smallGapLimit)?Be.get().streaming.gaps.smallGapLimit:NaN;R=Math.max((Ee=dt,ot=Ze,Be.get().streaming.gaps.jumpGaps&&(ot=Be.get().streaming.gaps.smallGapLimit),null===(It=pt(Ee,ot))?0:It.end-Ee),0),mt(m.Z.BUFFER_LEVEL_UPDATED,{mediaType:Re,bufferLevel:R}),Mn()}var Ee,ot,It}function Yt(){var dt=j>=J-1,Ze=B.getTimeToStreamEnd(X)-R<1e-5;!dt&&!Ze||I||(Pt(!0),b.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(X.id," and type ").concat(Re)))}function Mn(){Re!==d.Z.AUDIO&&Re!==d.Z.VIDEO||((!B.getLowLatencyModeEnabled()&&R<Be.get().streaming.buffer.stallThreshold||0===R)&&!I?gn(P.Z.BUFFER_EMPTY):(I||R>=Be.get().streaming.buffer.stallThreshold||B.getLowLatencyModeEnabled()&&R>0)&&gn(P.Z.BUFFER_LOADED))}function gn(dt){te===dt||dt===P.Z.BUFFER_EMPTY&&0===B.getTime()||Re===d.Z.TEXT&&!le.isTextEnabled()||(te=dt,mt(m.Z.BUFFER_LEVEL_STATE_CHANGED,{state:dt}),mt(dt===P.Z.BUFFER_LOADED?m.Z.BUFFER_LOADED:m.Z.BUFFER_EMPTY),b.debug(dt===P.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function hn(){ie&&Re!==d.Z.TEXT&&(I||Rn(ln()))}function ln(){var dt=[],Ze=ie.getAllBufferRanges();if(!Ze||0===Ze.length)return dt;var Ee=B.getTime(),ot=Math.max(0,Ee-Be.get().streaming.buffer.bufferToKeep),It=Z.getRequests({state:F.FRAGMENT_MODEL_EXECUTED,time:Ee,threshold:.01})[0];if(It)ot=Math.min(It.startTime,ot);else if(0===Ee&&B.getIsDynamic())return[];if(Ze.start(0)<=ot){for(var Jt={start:0,end:ot},En=0;En<Ze.length&&Ze.end(En)<=ot;En++)Jt.end=Ze.end(En);Jt.start<Jt.end&&dt.push(Jt)}return dt}function Rn(dt){return new Promise(function(Ze,Ee){if(dt&&ie&&0!==dt.length){var ot=[];dt.forEach(function(It){var Jt;ot.push((Jt=It,new Promise(function(En,Jn){Jt.resolve=En,Jt.reject=Jn,pe.push(Jt)})))}),Te||tr(),Promise.all(ot).then(function(){Ze()}).catch(function(It){Ee(It)})}else Ze()})}function tr(){try{if(0===pe.length||!ie)return b.debug("Nothing to prune, halt pruning"),pe=[],void(Te=!1);var dt=ie.getBuffer();if(!dt||!dt.buffered||0===dt.buffered.length)return b.debug("SourceBuffer is empty (or does not exist), halt pruning"),pe=[],void(Te=!1);var Ze=pe.shift();b.debug("".concat(Re,": Removing buffer from: ").concat(Ze.start," to ").concat(Ze.end)),Te=!0,B.getTime()<Ze.end&&Pt(!1),ie.remove(Ze).then(function(Ee){sr(Ee)}).catch(function(Ee){sr(Ee)})}catch{Te=!1}}function sr(dt){b.debug("onRemoved buffer from:",dt.from,"to",dt.to),tn(ie.getAllBufferRanges()),0===pe.length&&(Te=!1,kt()),dt.unintended&&(b.warn("Detected unintended removal from:",dt.from,"to",dt.to,"setting streamprocessor time to",dt.from),mt(m.Z.SEEK_TARGET,{time:dt.from})),Te?tr():(ue?ue=!1:kt(),mt(m.Z.BUFFER_CLEARED,{from:dt.from,to:dt.to,unintended:dt.unintended,hasEnoughSpaceToAppend:vn(),quotaExceeded:de}))}function Wn(dt){return new Promise(function(Ze){dt&&void 0!==dt.MSETimeOffset&&ie&&ie.updateTimestampOffset?ie.updateTimestampOffset(dt.MSETimeOffset).then(function(){Ze()}).catch(function(){Ze()}):Ze()})}function mr(){return ie&&!I?ie.updateAppendWindow(X):Promise.resolve()}function ir(){++ye*(Be.get().streaming.wallclockTimeUpdateInterval/1e3)>=Be.get().streaming.buffer.bufferPruningInterval&&(ye=0,hn())}function hr(){Mn()}function Pt(dt){(I=dt)?mt(m.Z.BUFFERING_COMPLETED):J=Number.POSITIVE_INFINITY}function Cn(){try{var dt,Ze,Ee=ie.getAllBufferRanges(),ot=0;if(!Ee)return ot;for(Ze=0,dt=Ee.length;Ze<dt;Ze++)ot+=Ee.end(Ze)-Ee.start(Ze);return ot}catch{return 0}}function wn(dt){try{var Ze=dt,Ee=ie.getAllBufferRanges();if(!Ee||0===Ee.length)return NaN;for(var ot=0;Ze===dt&&ot<Ee.length;){var It=Ee.start(ot),Jt=Ee.end(ot);Ze>=It&&Ze<=Jt&&(Ze=Jt),ot+=1}return Ze===dt?NaN:Ze}catch{}}function vn(){var dt=Cn();return isNaN(dt)||dt<O}function mt(dt,Ze){Y.trigger(dt,Ze||{},{streamId:X.id,mediaType:Re})}function Ht(dt,Ze){if(O=Number.POSITIVE_INFINITY,te=void 0,J=Number.POSITIVE_INFINITY,j=0,Ae=null,I=!1,Te=!1,de=!1,R=0,ye=0,pe=[],_e=NaN,V=!1,ie){var Ee=ie;ie=null,dt||Ze||Ee.abort().then(function(){Ee.reset(Ze),Ee=null})}ue=!1}return p={initialize:function(dt){je(dt),Y.on(m.Z.INIT_FRAGMENT_LOADED,vt,p),Y.on(m.Z.MEDIA_FRAGMENT_LOADED,Dt,p),Y.on(m.Z.WALLCLOCK_TIME_UPDATED,ir,p),Y.on(h.Z.PLAYBACK_PLAYING,lt,p),Y.on(h.Z.PLAYBACK_PROGRESS,Oe,p),Y.on(h.Z.PLAYBACK_TIME_UPDATED,Oe,p),Y.on(h.Z.PLAYBACK_RATE_CHANGED,hr,p),Y.on(h.Z.PLAYBACK_STALLED,et,p)},getStreamId:function(){return X.id},getType:function(){return Re},getBufferControllerType:function(){return gt},createBufferSink:Pe,dischargePreBuffer:function(){if(ie&&ee&&"function"==typeof ee.discharge){var dt=ee.getAllBufferRanges();if(dt.length>0){for(var Ze="Beginning "+Re+"PreBuffer discharge, adding buffer for:",Ee=0;Ee<dt.length;Ee++)Ze+=" start: "+dt.start(Ee)+", end: "+dt.end(Ee)+";";b.debug(Ze)}else b.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");re=[];for(var ot=ee.discharge(),It=null,Jt=0;Jt<ot.length;Jt++){var En=ot[Jt];if(En.segmentType!==Ve.w.INIT_SEGMENT_TYPE){var Jn=z.extract(En.streamId,En.representationId);Jn&&It!==Jn&&(re.push(Jn),ie.append(Jn),It=Jn)}re.push(En),ie.append(En)}ee.reset(),ee=null}},getBuffer:function(){return ie},getBufferLevel:function(){return R},getRangeAt:pt,hasBufferAtTime:function(dt){try{var Ze=ie.getAllBufferRanges();if(!Ze||0===Ze.length)return!1;for(var Ee=0;Ee<Ze.length;){var ot=Ze.start(Ee),It=Ze.end(Ee);if(dt>=ot&&dt<=It)return!0;Ee+=1}return!1}catch(Jt){return b.error(Jt),!1}},pruneBuffer:hn,setMediaSource:je,getMediaSource:function(){return A},appendInitSegmentFromCache:function(dt){var Ze=z.extract(X.id,dt);return!!Ze&&(b.info("Append Init fragment",Re," with representationId:",Ze.representationId," and quality:",Ze.quality,", data size:",Ze.bytes.byteLength),qt(Ze),!0)},getIsBufferingCompleted:function(){return I},setIsBufferingCompleted:Pt,getIsPruningInProgress:function(){return Te},reset:function(dt,Ze){Y.off(m.Z.INIT_FRAGMENT_LOADED,vt,this),Y.off(m.Z.MEDIA_FRAGMENT_LOADED,Dt,this),Y.off(m.Z.WALLCLOCK_TIME_UPDATED,ir,this),Y.off(h.Z.PLAYBACK_PLAYING,lt,this),Y.off(h.Z.PLAYBACK_PROGRESS,Oe,this),Y.off(h.Z.PLAYBACK_TIME_UPDATED,Oe,this),Y.off(h.Z.PLAYBACK_RATE_CHANGED,hr,this),Y.off(h.Z.PLAYBACK_STALLED,et,this),Ht(dt,Ze)},prepareForPlaybackSeek:function(){return I&&Pt(!1),ie.abort()},prepareForReplacementTrackSwitch:function(dt){return new Promise(function(Ze,Ee){ie.abort().then(function(){return mr()}).then(function(){return Be.get().streaming.buffer.useChangeTypeForTrackSwitch?ie.changeType(dt):Promise.resolve()}).then(function(){return Se()}).then(function(){Pt(!1),Ze()}).catch(function(ot){Ee(ot)})})},prepareForNonReplacementTrackSwitch:function(dt){return new Promise(function(Ze,Ee){mr().then(function(){return Be.get().streaming.buffer.useChangeTypeForTrackSwitch?ie.changeType(dt):Promise.resolve()}).then(function(){Ze()}).catch(function(ot){Ee(ot)})})},prepareForForceReplacementQualitySwitch:function(dt){return new Promise(function(Ze,Ee){ie.abort().then(function(){return mr()}).then(function(){return Se()}).then(function(){return Wn(dt)}).then(function(){Pt(!1),Ze()}).catch(function(ot){Ee(ot)})})},updateAppendWindow:mr,getAllRangesWithSafetyFactor:Qe,getContinuousBufferTimeForTargetTime:wn,clearBuffers:Rn,pruneAllSafely:Se,updateBufferTimestampOffset:Wn,setSeekTarget:function(dt){_e=dt},segmentRequestingCompleted:function(dt){isNaN(dt)||(J=dt,Yt())}},b=(0,N.Z)(C).getInstance().getLogger(p),z=ht(C).getInstance(),Ht(),p}St.__dashjs_factory_name=gt;const Ye=S.Z.getClassFactory(St);var yt="NotFragmentedTextBufferController";function me(y){y=y||{};var p,b,I,R,O,A,j=this.context,J=(0,w.Z)(j).getInstance(),ie=y.textController,ee=y.errHandler,V=y.streamInfo,re=y.type;function te(Te){R=Te}function Ae(Te){b!==Te&&(b=Te)&&J.trigger(m.Z.BUFFERING_COMPLETED,{},{streamId:V.id,mediaType:re})}function ye(Te){Te.chunk.bytes&&!b&&(A.save(Te.chunk),O.append(Te.chunk),Ae(!0))}return p={initialize:function(Te){te(Te)},getStreamId:function(){return V.id},getType:function(){return re},getBufferControllerType:function(){return yt},createBufferSink:function(Te){return new Promise(function(de,z){try{(O=Ne(j).create({mediaSource:R,textController:ie,eventBus:J})).initializeForFirstUse(V,Te),I||(O.getBuffer()&&"function"==typeof O.getBuffer().initialize&&O.getBuffer().initialize(),I=!0),de(O)}catch(pe){ee.error(new W.Z(ge.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ge.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+re)),z(pe)}})},dischargePreBuffer:function(){},getBuffer:function(){return O},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:te,getMediaSource:function(){return R},appendInitSegmentFromCache:function(Te){return null!==A.extract(V.id,Te)},getIsBufferingCompleted:function(){return b},setIsBufferingCompleted:Ae,getIsPruningInProgress:function(){return!1},reset:function(Te){J.off(m.Z.INIT_FRAGMENT_LOADED,ye,p),!Te&&O&&(O.abort(),O.reset(),O=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return b=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},I=!1,R=null,b=!1,A=ht(j).getInstance(),J.on(m.Z.INIT_FRAGMENT_LOADED,ye,p),p}me.__dashjs_factory_name=yt;const Ce=S.Z.getClassFactory(me);function at(y){y=y||{};var p,b,I,R,O,A,j,J,ie,ee,V,re,te=this.context,Ae=(0,w.Z)(te).getInstance(),ye=y.dashMetrics,Te=y.mediaPlayerModel,de=y.fragmentModel,z=y.abrController,pe=y.playbackController,ue=y.textController,_e=y.type,C=y.bufferController,Y=y.representationController,K=y.settings;function Z(Je){if(!C.getIsBufferingCompleted()){U();var Pe=isNaN(Je)?0:Je;O=setTimeout(ae,Pe)}}function U(){O&&(clearTimeout(O),O=null)}function ae(){try{if(function(){try{return _e===d.Z.TEXT&&!ue.isTextEnabled()||pe.isPaused()&&(!pe.getStreamController().getInitialPlayback()||!pe.getStreamController().getAutoPlay())&&!K.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void U();if(function(){try{return Y.getCurrentRepresentationInfo()&&(isNaN(ie)||ee||(Bt=z.getMaxAllowedIndexFor(_e,b.id),!(!isNaN(J)&&J==Bt||(I.info("Top quality "+_e+" index has changed from "+J+" to "+Bt),J=Bt,0)))||(vt=Y.getCurrentRepresentationInfo(),!_e||!vt||ye.getCurrentBufferLevel(_e)<le()))}catch{return!1}var vt,Bt}()){var Je=!1;re&&(Je=z.checkPlaybackQuality(_e,b.id)),Je||(Pe=Y.getCurrentRepresentationInfo(),V||Pe.quality!==ie||ee?(ee?(I.debug("Switch track for "+_e+", representation id = "+Pe.id),ee=!1):I.debug("Quality has changed, get init request for representationid = "+Pe.id),Ae.trigger(m.Z.INIT_FRAGMENT_NEEDED,{representationId:Pe.id,sender:p},{streamId:b.id,mediaType:_e}),re=!1,V=!1):(I.debug("Media segment needed for ".concat(_e," and stream id ").concat(b.id)),Ae.trigger(m.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:b.id,mediaType:_e}),re=!0))}else Z(pe.getLowLatencyModeEnabled()?K.get().streaming.scheduling.lowLatencyTimeout:K.get().streaming.scheduling.defaultTimeout)}catch{Z(pe.getLowLatencyModeEnabled()?K.get().streaming.scheduling.lowLatencyTimeout:K.get().streaming.scheduling.defaultTimeout)}var Pe}function le(){var Je=NaN,Pe=Y.getCurrentRepresentationInfo();return _e&&Pe&&(Je=_e===d.Z.TEXT?function(){try{if(ue.isTextEnabled()){var nt=Y.getCurrentRepresentationInfo();if(isNaN(nt.fragmentDuration)){var Bt=ye.getCurrentSchedulingInfo(P.Z.SCHEDULING_INFO);return Bt?Bt.duration:0}return nt.fragmentDuration}return 0}catch{return 0}}():_e===d.Z.AUDIO&&A?function(){try{var nt=ye.getCurrentBufferLevel(d.Z.VIDEO),Bt=Y.getCurrentRepresentationInfo();return isNaN(Bt.fragmentDuration)?nt+1:Math.max(nt+1,Bt.fragmentDuration)}catch{return 0}}():function(){try{var nt=Y.getCurrentRepresentationInfo().mediaInfo.streamInfo;return z.isPlayingAtTopQuality(nt)?nt.manifestInfo.duration>=K.get().streaming.buffer.longFormContentDurationThreshold?K.get().streaming.buffer.bufferTimeAtTopQualityLongForm:K.get().streaming.buffer.bufferTimeAtTopQuality:Te.getStableBufferTime()}catch{return Te.getStableBufferTime()}}()),Je}function we(){B(!0)}function B(Je){if(pe&&de){var Pe=de.getRequests({state:F.FRAGMENT_MODEL_EXECUTED,time:pe.getTime(),threshold:0})[0];Pe&&pe.getTime()>=Pe.startTime&&((!j.mediaInfo||Pe.mediaInfo.type===j.mediaInfo.type&&Pe.mediaInfo.id!==j.mediaInfo.id)&&Je&&Ae.trigger(m.Z.TRACK_CHANGE_RENDERED,{mediaType:_e,oldMediaInfo:j.mediaInfo,newMediaInfo:Pe.mediaInfo,streamId:b.id}),Pe.quality===j.quality&&Pe.adaptationIndex===j.adaptationIndex||!Je||(I.debug("Quality change rendered for streamId ".concat(b.id," and type ").concat(_e)),Ae.trigger(m.Z.QUALITY_CHANGE_RENDERED,{mediaType:_e,oldQuality:j.quality,newQuality:Pe.quality,streamId:b.id})),j={mediaInfo:Pe.mediaInfo,quality:Pe.quality,adaptationIndex:Pe.adaptationIndex})}}function X(){de.abortRequests(),U()}function Re(){K.get().streaming.scheduling.scheduleWhilePaused||Z()}function Be(Je){ye.updatePlayListTraceMetrics({playbackspeed:Je.playbackRate.toString()})}function je(){re=!0,R=0,ie=NaN,j={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},J=NaN,ee=!1,V=!1}return p={initialize:function(Je){A=Je,Ae.on(m.Z.URL_RESOLUTION_FAILED,X,p),Ae.on(h.Z.PLAYBACK_STARTED,Re,p),Ae.on(h.Z.PLAYBACK_RATE_CHANGED,Be,p),Ae.on(h.Z.PLAYBACK_TIME_UPDATED,we,p)},getType:function(){return _e},getStreamId:function(){return b.id},setTimeToLoadDelay:function(Je){R=Je},getTimeToLoadDelay:function(){return R},setSwitchTrack:function(Je){ee=Je},getSwitchTrack:function(){return ee},startScheduleTimer:Z,clearScheduleTimer:U,reset:function(){Ae.off(m.Z.URL_RESOLUTION_FAILED,X,p),Ae.off(h.Z.PLAYBACK_STARTED,Re,p),Ae.off(h.Z.PLAYBACK_RATE_CHANGED,Be,p),Ae.off(h.Z.PLAYBACK_TIME_UPDATED,we,p),U(),B(!1),je(),b=null},getBufferTarget:le,getPlaybackController:function(){return pe},setCheckPlaybackQuality:function(Je){re=Je},setInitSegmentRequired:function(Je){V=Je},setLastInitializedQuality:function(Je){ie=Je}},I=(0,N.Z)(te).getInstance().getLogger(p),je(),b=y.streamInfo,p}at.__dashjs_factory_name="ScheduleController";const E=S.Z.getClassFactory(at);var _=L(7387);function x(y){var p,b,I,R,O,A,j=(y=y||{}).eventBus,J=y.events,ie=y.abrController,ee=y.dashMetrics,V=y.playbackController,re=y.timelineConverter,te=y.type,Ae=y.streamInfo,ye=y.dashConstants,Te=y.segmentsController,de=y.isDynamic,z=y.adapter;function pe(){return te}function ue(){if(!(ie&&ee&&V&&re))throw new Error(d.Z.MISSING_CONFIG_ERROR)}function _e(){return I}function C(){return A}function Y(){b=null,I=!0,R=[],O=null}function K(B){return new Promise(function(X,Re){var Be=B.hasInitialization(),je=B.hasSegments(),Je=[];Je.push(Te.updateInitData(B,Be)),Je.push(Te.updateSegmentData(B,je)),Promise.all(Je).then(function(Pe){var nt,vt;Pe[0]&&!Pe[0].error&&(B=(vt=Pe[0])&&!vt.error&&vt.representation?vt.representation:B),Pe[1]&&!Pe[1].error&&(B=function(Bt,vt){if(vt&&!vt.error){var Dt,qt,tn,Le,Se=vt.segments,Qe=[],Oe=0;for(Dt=0,qt=Se?Se.length:0;Dt<qt;Dt++)(Le=(0,_.TJ)(re,de,Bt,(tn=Se[Dt]).startTime,tn.duration,tn.timescale,tn.media,tn.mediaRange,Oe))&&(Qe.push(Le),Le=null,Oe++);return Qe.length>0&&(Bt.segments=Qe),Bt}}(B,Pe[1])),(nt=B).mediaFinishedInformation=Te.getMediaFinishedInformation(nt),function(Bt){if(_e()){var vt,qt=ee.getCurrentManifestUpdate(),tn=!1;if(qt){for(var Le=0;Le<qt.representationInfo.length;Le++)if((vt=qt.representationInfo[Le]).index===Bt.index&&vt.mediaType===pe()){tn=!0;break}tn||ee.addManifestUpdateRepresentationInfo(Bt,pe())}if(function(){for(var Qe=0,Oe=R.length;Qe<Oe;Qe++){var et=R[Qe].segmentInfoType;if(!R[Qe].hasInitialization()||(et===ye.SEGMENT_BASE||et===ye.BASE_URL)&&!R[Qe].segments)return!1}return!0}()){ie.setPlaybackQuality(te,Ae,R.indexOf(A));var Se=ee.getCurrentDVRInfo(te);Se&&ee.updateManifestUpdateInfo({latency:Se.range.end-V.getTime()}),ee.getCurrentRepresentationSwitch(C().adaptation.type)||Z(),ae()}}}(B),X()}).catch(function(Pe){Re(Pe)})})}function Z(){ue();var B=new Date,X=C(),Re=1e3*V.getTime();X&&ee.addRepresentationSwitch(X.adaptation.type,B,Re,X.id),j.trigger(h.Z.REPRESENTATION_SWITCH,{mediaType:te,streamId:Ae.id,currentRepresentation:X,numberOfRepresentations:R.length},{streamId:Ae.id,mediaType:te})}function U(B){return null==B||B>=R.length?null:R[B]}function ae(B){I=!1,j.trigger(J.DATA_UPDATE_COMPLETED,{data:b,currentRepresentation:A,error:B},{streamId:Ae.id,mediaType:te})}function le(B){O=z.convertRepresentationToRepresentationInfo(A=B)}function we(B){if(B.newDuration){var X=C();X&&X.adaptation.period&&(X.adaptation.period.duration=B.newDuration)}}return p={getStreamId:function(){return Ae.id},getType:pe,getData:function(){return b},isUpdating:_e,updateData:function(B,X,Re,Be,je){if(ue(),I=!0,R=X,le(U(je)),b=B,Re!==d.Z.VIDEO&&Re!==d.Z.AUDIO&&(Re!==d.Z.TEXT||!Be))return ae(),Promise.resolve();for(var Je=[],Pe=0,nt=R.length;Pe<nt;Pe++)Je.push(K(R[Pe]));return Promise.all(Je)},getCurrentRepresentation:C,getCurrentRepresentationInfo:function(){return O},getRepresentationForQuality:U,prepareQualityChange:function(B){le(U(B)),Z()},reset:function(){j.off(h.Z.MANIFEST_VALIDITY_CHANGED,we,p),Y()}},Y(),j.on(h.Z.MANIFEST_VALIDITY_CHANGED,we,p),p}x.__dashjs_factory_name="RepresentationController";const M=S.Z.getClassFactory(x);var fe=L(3106),se=L(9326),De=L(7473),Ge=L(2594);function Ke(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}var Fe=function y(){Ke(this,y),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Fe.INITIAL_PLAYOUT_START_REASON="initial_playout",Fe.SEEK_START_REASON="seek",Fe.RESUME_FROM_PAUSE_START_REASON="resume",Fe.METRICS_COLLECTION_START_REASON="metrics_collection_start";var tt=function y(){Ke(this,y),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};tt.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",tt.REBUFFERING_REASON="rebuffering",tt.USER_REQUEST_STOP_REASON="user_request",tt.END_OF_PERIOD_STOP_REASON="end_of_period",tt.END_OF_CONTENT_STOP_REASON="end_of_content",tt.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",tt.FAILURE_STOP_REASON="failure";var it=L(7802);function Ie(){return{ntpToUTC:function(y){var p=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(p.getTime()+y).getTime()}}}Ie.__dashjs_factory_name="TimeUtils";const Xe=S.Z.getSingletonFactory(Ie);function $e(y){y=y||{};var p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye=this.context,Te=(0,w.Z)(ye).getInstance(),de=y.streamInfo,z=y.type,pe=y.errHandler,ue=y.mimeType,_e=y.timelineConverter,C=y.adapter,Y=y.manifestModel,K=y.mediaPlayerModel,Z=y.fragmentModel,U=y.abrController,ae=y.playbackController,le=y.mediaController,we=y.textController,B=y.dashMetrics,X=y.settings,Re=y.boxParser,Be=y.segmentBlacklistController;function je(){return de.id}function Je(){return z}function Pe(){return C.getIsTextTrack(J.getData())}function nt(){O=[],R=null,te=0,ie=!1,ee=!1,Ae=null}function Bt(mt){return!isNaN(mt)&&!isNaN(de.duration)&&isFinite(de.duration)&&mt>=de.start+de.duration}function vt(mt){var Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(mt.sender)if(ae.getIsManifestUpdateInProgress())Se();else if((!Pe()||we.isTextEnabled())&&A&&mt.representationId&&!A.appendInitSegmentFromCache(mt.representationId)){var dt=J.getCurrentRepresentation();if(0===dt.range)return void Dt();var Ze=V?V.getInitRequest(R,dt):null;Ze?Z.executeRequest(Ze):Ht&&(j.setInitSegmentRequired(!0),Se())}}function Dt(mt){var Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ae.getIsManifestUpdateInProgress()||A.getIsPruningInProgress())Se();else{var dt=function Le(){var mt,Ht=Wn();if(isNaN(te)||Je()===d.Z.TEXT&&!we.isTextEnabled())return null;if(V){var dt=J&&Ht?J.getRepresentationForQuality(Ht.quality):null;mt=ie?V.getSegmentRequestForTime(R,dt,te):V.getNextSegmentRequest(R,dt)}return mt}();dt?(ie=!1,function qt(mt){isNaN(mt.startTime+mt.duration)||(te=mt.startTime+mt.duration),mt.delayLoadingTime=(new Date).getTime()+j.getTimeToLoadDelay(),j.setTimeToLoadDelay(0),function(Ht){var dt=Ht.url;return Ht.range&&(dt=dt.concat("_",Ht.range)),Be.contains(dt)}(mt)?(b.warn("Fragment request url ".concat(mt.url," for stream id ").concat(de.id," and media type ").concat(z," is on the ignore list and will be skipped")),Se()):(b.debug("Next fragment request url for stream id ".concat(de.id," and media type ").concat(z," is ").concat(mt.url)),Z.executeRequest(mt))}(dt)):function tn(mt){var Ht,dt=J.getCurrentRepresentation();if(!X.get().streaming.gaps.enableSeekFix||!ie&&0!==ae.getTime()||(I?I&&dt.segmentInfoType===f.Z.SEGMENT_TIMELINE&&(Ht=V.getValidTimeAheadOfTargetTime(te,R,dt,X.get().streaming.gaps.threshold)):Ht=V.getValidTimeAheadOfTargetTime(te,R,dt,X.get().streaming.gaps.threshold),isNaN(Ht)||Ht===te)){if(V.isLastSegmentRequested(dt,te)){var Ze=V.getCurrentIndex();return b.debug("Segment requesting for stream ".concat(de.id," has finished")),Te.trigger(m.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ze},{streamId:de.id,mediaType:z}),A.segmentRequestingCompleted(Ze),void j.clearScheduleTimer()}mt&&Se()}else ae.isSeeking()||0===ae.getTime()?(b.warn("Adjusting playback time ".concat(Ht," because of gap in the manifest. Seeking by ").concat(Ht-te)),ae.seek(Ht,!1,!1)):(b.warn("Adjusting buffering time ".concat(Ht," because of gap in the manifest. Adjusting time by ").concat(Ht-te)),vn(Ht),mt&&Se())}(Ht)}}function Se(){j.startScheduleTimer(ae.getLowLatencyModeEnabled()?X.get().streaming.scheduling.lowLatencyTimeout:X.get().streaming.scheduling.defaultTimeout)}function Qe(mt){mt.error||A.getIsBufferingCompleted()||A.updateBufferTimestampOffset(mt.currentRepresentation)}function Oe(mt){B.addBufferState(z,mt.state,j.getBufferTarget()),mt.state!==P.Z.BUFFER_EMPTY||ae.isSeeking()||(b.info("Buffer is empty! Stalling!"),B.pushPlayListTraceMetrics(new Date,tt.REBUFFERING_REASON))}function et(mt){Z.syncExecutedRequestsWithBufferedRange(A.getBuffer().getAllBufferRanges(),de.duration),mt.quotaExceeded&&mt.from>ae.getTime()&&vn(mt.from),mt.hasEnoughSpaceToAppend&&mt.quotaExceeded&&j.startScheduleTimer()}function lt(mt){if(mt&&mt.lastRequestAppended&&mt.lastRequestAppended.url){var Ht=mt.lastRequestAppended.url;mt.lastRequestAppended.range&&(Ht=Ht.concat("_",mt.lastRequestAppended.range)),b.warn("Blacklisting segment with url ".concat(Ht)),Be.add(Ht)}}function pt(mt){b.debug("Appended bytes for ".concat(mt.mediaType," and stream id ").concat(mt.streamId)),mt.segmentType===Ve.w.INIT_SEGMENT_TYPE&&(j.setLastInitializedQuality(mt.quality),b.info("["+z+"] lastInitializedRepresentationInfo changed to "+mt.quality)),Ae?kt(Ae):j.startScheduleTimer(0)}function kt(mt){var Ht=Z.getRequests({state:F.FRAGMENT_MODEL_LOADING});if(Ht&&Ht.length>0)return b.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(Ae=mt);A.updateBufferTimestampOffset(mt).then(function(){R.segmentAlignment||R.subSegmentAlignment?j.startScheduleTimer():Cn(),Ae=null,ee=!1}).catch(function(){Ae=null,ee=!1})}function Yt(mt){b.info("onFragmentLoadingAbandoned request: "+mt.request.url+" has been aborted"),ae.isSeeking()||j.getSwitchTrack()||ee||(b.info("onFragmentLoadingAbandoned request: "+mt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),mt.request&&mt.request.isInitializationRequest()?j.setInitSegmentRequired(!0):vn(mt.request.startTime+mt.request.duration/2),j.startScheduleTimer(0))}function Mn(mt){var Ht;b.info("OnFragmentLoadingCompleted for stream id "+de.id+" and media type "+z+" - Url:",mt.request?mt.request.url:"undefined",mt.request.range?", Range:"+mt.request.range:""),Pe()&&j.startScheduleTimer(0),mt.error&&mt.request.serviceLocation&&(Ht=mt,b.info("Fragment loading completed with an error"),Ht&&Ht.request&&Ht.request.type&&(Ht.request.type===Ve.w.INIT_SEGMENT_TYPE?vt({representationId:Ht.request.representationId,sender:{}},!1):Ht.request.type===Ve.w.MEDIA_SEGMENT_TYPE&&(vn(Ht.request.startTime+Ht.request.duration/2),Dt({},!1))))}function gn(){vn(ae.getTime()),sr().startScheduleTimer()}function hn(mt){var Ht=mt.currentTrackInfo;if(Ht){var dt=O.find(function(Ze){return Ze.index===Ht.index&&Ze.lang===Ht.lang});dt&&tr(dt).then(function(){A.setIsBufferingCompleted(!1),vn(ae.getTime()),j.setInitSegmentRequired(!0),j.startScheduleTimer()})}}function ln(mt){vn(mt.quotaExceededTime),j.clearScheduleTimer()}function Rn(){return A?A.getBuffer():null}function tr(mt){mt===R||mt&&R&&mt.type!==R.type||(R=mt);var Ht=C.getRealAdaptation(de,R),dt=C.getVoRepresentations(R);if(J){var Ze,Ee=J.getData(),ot=U.getMaxAllowedIndexFor(z,de.id),It=U.getMinAllowedIndexFor(z,de.id),Jt=null;return null!==Ee&&Ee.id===Ht.id||z===d.Z.TEXT?Ze=U.getQualityFor(z,de.id):(Jt=U.getThroughputHistory().getAverageThroughput(z,I)||U.getInitialBitrateFor(z,de.id),Ze=U.getQualityForBitrate(R,Jt,de.id)),void 0!==It&&Ze<It&&(Ze=It),Ze>ot&&(Ze=ot),J.updateData(Ht,dt,z,R.isFragmented,Ze)}return Promise.resolve()}function sr(){return j}function Wn(mt){var Ht;return void 0!==mt?((0,fe.SE)(mt),Ht=J?J.getRepresentationForQuality(mt):null):Ht=J?J.getCurrentRepresentation():null,C.convertRepresentationToRepresentationInfo(Ht)}function mr(){return!!A&&A.getIsBufferingCompleted()}function ir(mt){if(X.get().streaming.enableManifestTimescaleMismatchFix){var Ht=mt.chunk,dt=Ht.bytes,Ze=Wn(Ht.quality),Ee=J&&Ze?J.getRepresentationForQuality(Ze.quality):null;Ze&&Ee&&(Ee.timescale=Re.getMediaTimescaleFromMoov(dt))}}function hr(mt){var Zr,Ao,no,ks,Ht=mt.chunk,dt=Ht.bytes,Ze=Ht.quality,Ee=Wn(Ze),ot=J&&Ee?J.getRepresentationForQuality(Ee.quality):null;if(Ee&&ot){var It;if(X.get().streaming.parseInbandPrft&&mt.request.type===Ve.w.MEDIA_SEGMENT_TYPE){var Jt=(Zr=It=It||Re.parse(dt),Ao=ot.timescale,no=Zr.getBoxes("prft"),ks=[],no.forEach(function(Fs){ks.push(function(us,Qo){var Do="unknown";switch(us.flags){case 0:Do=f.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:Do=f.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:Do=f.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var Jo=1e3*us.ntp_timestamp_sec+us.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:Do,ntpTimestamp:Jo=Xe(ye).getInstance().ntpToUTC(Jo),mediaTime:us.media_time/Qo}}(Fs,Ao))}),ks);Jt&&Jt.length&&Te.trigger(h.Z.INBAND_PRFT,{data:Jt},{streamId:de.id,mediaType:z})}var En=C.getEventsFor(Ee.mediaInfo,null,de),Jn=C.getEventsFor(Ee,ot,de);if(En&&En.length>0||Jn&&Jn.length>0){var Wr=Z.getRequests({state:F.FRAGMENT_MODEL_EXECUTED,quality:Ze,index:Ht.index})[0],to=function(Zr,Ao,no,ks){try{for(var Fs={},us=[],Qo=no.concat(ks),Do=0,Jo=Qo.length;Do<Jo;Do++)Fs[Qo[Do].schemeIdUri+"/"+Qo[Do].value]=Qo[Do];var za=Zr.getBoxes("emsg");if(!za||0===za.length)return us;for(var Xs=Zr.getBox("sidx"),Qs=!Xs||isNaN(Xs.earliest_presentation_time)||isNaN(Xs.timescale)?Ao&&!isNaN(Ao.mediaStartTime)?Ao.mediaStartTime:0:Xs.earliest_presentation_time/Xs.timescale,dc=Math.max(Qs,0),Ho=J.getCurrentRepresentation(),Pl=0,Js=za.length;Pl<Js;Pl++){var Ga=C.getEvent(za[Pl],Fs,dc,Ho);Ga&&us.push(Ga)}return us}catch{return[]}}(It=It||Re.parse(dt),Wr,En,Jn);Te.trigger(m.Z.INBAND_EVENTS,{events:to},{streamId:de.id})}}}function Pt(){var mt=ae.getTime();X.get().streaming.buffer.flushBufferAtTrackSwitch&&ae.seek(mt+.001,!1,!0),vn(mt),A.setSeekTarget(mt),j.startScheduleTimer()}function Cn(){var mt=ae.getTime(),Ht=A.getContinuousBufferTimeForTargetTime(mt);vn(isNaN(Ht)?mt:Ht),j.startScheduleTimer()}function wn(mt){mt&&!isNaN(mt.time)&&(vn(mt.time),A.setSeekTarget(mt.time))}function vn(mt){te=mt,ie=!0}return p={initialize:function(mt,Ht,dt){var Ze;re=(0,it.Z)(ye).create({events:m.Z,eventBus:Te,streamInfo:de,timelineConverter:_e,dashConstants:f.Z,segmentBaseController:y.segmentBaseController,type:z}),(V=(0,se.Z)(ye).create({streamInfo:de,type:z,timelineConverter:_e,dashMetrics:B,mediaPlayerModel:K,baseURLController:y.baseURLController,errHandler:pe,segmentsController:re,settings:X,boxParser:Re,events:m.Z,eventBus:Te,errors:ge,debug:(0,N.Z)(ye).getInstance(),requestModifier:(0,De.Z)(ye).getInstance(),dashConstants:f.Z,constants:d.Z,urlUtils:(0,Ge.Z)(ye).getInstance()})).initialize(I=de.manifestInfo.isDynamic),U.registerStreamType(z,p),J=M(ye).create({streamInfo:de,type:z,abrController:U,dashMetrics:B,playbackController:ae,timelineConverter:_e,dashConstants:f.Z,events:m.Z,eventBus:Te,errors:ge,isDynamic:I,adapter:C,segmentsController:re}),(A=(Ze=z)?Ze!==d.Z.TEXT||dt?Ye(ye).create({streamInfo:de,type:Ze,mediaPlayerModel:K,manifestModel:Y,fragmentModel:Z,errHandler:pe,mediaController:le,representationController:J,adapter:C,textController:we,abrController:U,playbackController:ae,settings:X}):Ce(ye).create({streamInfo:de,type:Ze,mimeType:ue,fragmentModel:Z,textController:we,errHandler:pe,settings:X}):(pe.error(new W.Z(ge.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ge.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null))&&A.initialize(mt),(j=E(ye).create({streamInfo:de,type:z,mimeType:ue,adapter:C,dashMetrics:B,mediaPlayerModel:K,fragmentModel:Z,abrController:U,playbackController:ae,textController:we,mediaController:le,bufferController:A,representationController:J,settings:X})).initialize(Ht),te=0,ie=!1},getStreamId:je,getType:Je,isUpdating:function(){return!!J&&J.isUpdating()},getBufferController:function(){return A},dischargePreBuffer:function(){A.dischargePreBuffer()},getFragmentModel:function(){return Z},getScheduleController:sr,getRepresentationController:function(){return J},getRepresentationInfo:Wn,getBufferLevel:function(){return A?A.getBufferLevel():0},isBufferingCompleted:mr,createBufferSinks:function(mt){var Ht=Rn();return Ht?Promise.resolve(Ht):A?A.createBufferSink(R,mt):Promise.resolve(null)},updateStreamInfo:function(mt){return de=mt,mr()?Promise.resolve():A.updateAppendWindow()},getStreamInfo:function(){return de},selectMediaInfo:tr,clearMediaInfoArray:function(){O=[]},addMediaInfo:function(mt){-1===O.indexOf(mt)&&O.push(mt)},prepareTrackSwitch:function(){return new Promise(function(mt){b.debug("Preparing track switch for type ".concat(z));var Ht=z===d.Z.TEXT||X.get().streaming.trackSwitchMode[z]===d.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ae.getTimeToStreamEnd(de)>X.get().streaming.buffer.stallThreshold;if(A.getIsBufferingCompleted()&&!Ht)return A.prepareForNonReplacementTrackSwitch(R.codec).then(function(){Te.trigger(m.Z.BUFFERING_COMPLETED,{},{streamId:de.id,mediaType:z})}).catch(function(){Te.trigger(m.Z.BUFFERING_COMPLETED,{},{streamId:de.id,mediaType:z})}),void mt();j.clearScheduleTimer(),j.setSwitchTrack(!0),Ht?(Te.trigger(m.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:de.id},{mediaType:z,streamId:de.id}),Z.abortRequests(),A.prepareForReplacementTrackSwitch(R.codec).then(function(){var dt=Wn();return A.updateBufferTimestampOffset(dt)}).then(function(){Pt(),mt()}).catch(function(){Pt(),mt()})):A.prepareForNonReplacementTrackSwitch(R.codec).then(function(){Cn(),mt()}).catch(function(){Cn(),mt()})})},prepareQualityChange:function(mt){Ae&&b.warning("Canceling queued representation switch to ".concat(Ae.quality," for ").concat(z)),b.debug("Preparing quality switch for type ".concat(z));var Ht=mt.newQuality;ee=!0,j.clearScheduleTimer(),J.prepareQualityChange(Ht);var Ze,dt=Wn(Ht);mt.reason&&mt.reason.forceReplace?(Ze=dt,Z.abortRequests(),Te.trigger(m.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:de.id},{mediaType:z,streamId:de.id}),A.prepareForForceReplacementQualitySwitch(Ze).then(function(){Pt(),ee=!1}).catch(function(){Pt(),ee=!1})):X.get().streaming.buffer.fastSwitchEnabled?function(Ze){var Ee=ae.getTime(),ot=1.5*(isNaN(Ze.fragmentDuration)?1:Ze.fragmentDuration),It=Z.getRequests({state:F.FRAGMENT_MODEL_EXECUTED,time:Ee+ot,threshold:0})[0];if(It&&!Pe()){var Jt=A.getBufferLevel(),En=U.getAbandonmentStateFor(de.id,z);It.quality<Ze.quality&&Jt>=ot&&En!==P.Z.ABANDON_LOAD?A.updateBufferTimestampOffset(Ze).then(function(){Z.abortRequests(),vn(Ee+ot),j.setCheckPlaybackQuality(!1),j.startScheduleTimer(),ee=!1}).catch(function(){ee=!1}):kt(Ze)}else j.startScheduleTimer(),ee=!1}(dt):kt(dt),B.pushPlayListTraceMetrics(new Date,tt.REPRESENTATION_SWITCH_STOP_REASON),B.createPlaylistTraceMetrics(dt.id,1e3*ae.getTime(),ae.getPlaybackRate())},getMediaInfo:function(){return R},getMediaSource:function(){return A.getMediaSource()},setMediaSource:function(mt){return A.setMediaSource(mt,R)},getBuffer:Rn,setExplicitBufferingTime:vn,finalisePlayList:function(mt,Ht){B.pushPlayListTraceMetrics(mt,Ht)},probeNextRequest:function(){var mt=Wn(),Ht=J&&mt?J.getRepresentationForQuality(mt.quality):null;return V.getNextSegmentRequestIdempotent(R,Ht)},prepareInnerPeriodPlaybackSeeking:function(mt){return new Promise(function(Ht){if(A.hasBufferAtTime(mt.seekTime))return A.pruneBuffer(),Bt(A.getContinuousBufferTimeForTargetTime(mt.seekTime))&&A.setIsBufferingCompleted(!0),void Ht();j.clearScheduleTimer(),Z.abortRequests(),A.prepareForPlaybackSeek().then(function(){var dt=A.getAllRangesWithSafetyFactor(mt.seekTime);return A.clearBuffers(dt)}).then(function(){var dt=A.getContinuousBufferTimeForTargetTime(mt.seekTime);if(Bt(dt))A.setIsBufferingCompleted(!0),Ht();else{var Ze=isNaN(dt)?mt.seekTime:dt;vn(Ze),A.setSeekTarget(Ze);var Ee=[];Ee.push(A.updateAppendWindow());var ot=Wn();Ee.push(A.updateBufferTimestampOffset(ot)),Promise.all(Ee).then(function(){j.setInitSegmentRequired(!0),j.setCheckPlaybackQuality(!1),j.startScheduleTimer(),Ht()})}}).catch(function(dt){b.error(dt)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(mt,Ht){try{j.clearScheduleTimer(),Z.abortRequests(),A.prepareForPlaybackSeek().then(function(){return A.pruneAllSafely()}).then(function(){mt()})}catch(dt){Ht(dt)}})},reset:function(mt,Ht){V&&V.reset(),A&&(A.reset(mt,Ht),A=null),j&&(j.reset(),j=null),J&&(J.reset(),J=null),re&&(re=null),U&&U.unRegisterStreamType(je(),z),Te.off(m.Z.DATA_UPDATE_COMPLETED,Qe,p),Te.off(m.Z.INIT_FRAGMENT_NEEDED,vt,p),Te.off(m.Z.MEDIA_FRAGMENT_NEEDED,Dt,p),Te.off(m.Z.INIT_FRAGMENT_LOADED,ir,p),Te.off(m.Z.MEDIA_FRAGMENT_LOADED,hr,p),Te.off(m.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,p),Te.off(m.Z.BUFFER_CLEARED,et,p),Te.off(m.Z.SEEK_TARGET,wn,p),Te.off(m.Z.FRAGMENT_LOADING_ABANDONED,Yt,p),Te.off(m.Z.FRAGMENT_LOADING_COMPLETED,Mn,p),Te.off(m.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,gn,p),Te.off(m.Z.SET_NON_FRAGMENTED_TEXT,hn,p),Te.off(m.Z.QUOTA_EXCEEDED,ln,p),Te.off(m.Z.SOURCE_BUFFER_ERROR,lt,p),Te.off(m.Z.BYTES_APPENDED_END_FRAGMENT,pt,p),nt(),z=null,de=null}},b=(0,N.Z)(ye).getInstance().getLogger(p),nt(),Te.on(m.Z.DATA_UPDATE_COMPLETED,Qe,p,{priority:w.Z.EVENT_PRIORITY_HIGH}),Te.on(m.Z.INIT_FRAGMENT_NEEDED,vt,p),Te.on(m.Z.MEDIA_FRAGMENT_NEEDED,Dt,p),Te.on(m.Z.INIT_FRAGMENT_LOADED,ir,p),Te.on(m.Z.MEDIA_FRAGMENT_LOADED,hr,p),Te.on(m.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,p),Te.on(m.Z.BUFFER_CLEARED,et,p),Te.on(m.Z.SEEK_TARGET,wn,p),Te.on(m.Z.FRAGMENT_LOADING_ABANDONED,Yt,p),Te.on(m.Z.FRAGMENT_LOADING_COMPLETED,Mn,p),Te.on(m.Z.QUOTA_EXCEEDED,ln,p),Te.on(m.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,gn,p),Te.on(m.Z.SET_NON_FRAGMENTED_TEXT,hn,p),Te.on(m.Z.SOURCE_BUFFER_ERROR,lt,p),Te.on(m.Z.BYTES_APPENDED_END_FRAGMENT,pt,p),p}$e.__dashjs_factory_name="StreamProcessor";const Tt=S.Z.getClassFactory($e),Ot=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};var on=L(9032);function bn(y,p){if(y){if("string"==typeof y)return Nn(y,p);var b=Object.prototype.toString.call(y).slice(8,-1);return"Object"===b&&y.constructor&&(b=y.constructor.name),"Map"===b||"Set"===b?Array.from(y):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?Nn(y,p):void 0}}function Nn(y,p){(null==p||p>y.length)&&(p=y.length);for(var b=0,I=new Array(p);b<p;b++)I[b]=y[b];return I}function An(y){var b,R=(y=y||{}).requestModifier,O=y.lowLatencyThroughputModel,A=y.boxParser,j=(0,Rt.Z)(this.context).getInstance();function J(V){var re,te=new Date,Ae=V.request,ye=new Headers;if(Ae.range&&ye.append("Range","bytes="+Ae.range),V.headers)for(var Te in V.headers){var de=V.headers[Te];de&&ye.append(Te,de)}Ae.requestStartDate||(Ae.requestStartDate=te),R&&R.modifyRequestHeader&&R.modifyRequestHeader({setRequestHeader:function(C,Y){ye.append(C,Y)}},{url:V.url}),"function"==typeof window.AbortController&&(re=new AbortController,V.abortController=re,re.signal.onabort=V.onabort);var z={method:V.method,headers:ye,credentials:V.withCredentials?"include":void 0,signal:re?re.signal:void 0},pe=j.get().streaming.abr.fetchThroughputCalculationMode,ue=Date.now(),_e=0;new Promise(function(C){if(pe===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(_e=O.getThroughputCapacityDelayMS(Ae,1e3*b.getCurrentBufferLevel(Ae.mediaType))))return setTimeout(C,_e);C()}).then(function(){var C=Date.now();fetch(V.url,z).then(function(Y){V.response||(V.response={}),V.response.status=Y.status,V.response.statusText=Y.statusText,V.response.responseURL=Y.url,Y.ok||V.onerror();var K,Z="",U=function(Oe,et){var lt;if(typeof Symbol>"u"||null==Oe[Symbol.iterator]){if(Array.isArray(Oe)||(lt=bn(Oe))){lt&&(Oe=lt);var pt=0,kt=function(){};return{s:kt,n:function(){return pt>=Oe.length?{done:!0}:{done:!1,value:Oe[pt++]}},e:function(hn){throw hn},f:kt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Yt,Mn=!0,gn=!1;return{s:function(){lt=Oe[Symbol.iterator]()},n:function(){var hn=lt.next();return Mn=hn.done,hn},e:function(hn){gn=!0,Yt=hn},f:function(){try{Mn||null==lt.return||lt.return()}finally{if(gn)throw Yt}}}}(Y.headers.keys());try{for(U.s();!(K=U.n()).done;){var ae=K.value;Z+=ae+": "+Y.headers.get(ae)+"\r\n"}}catch(Oe){U.e(Oe)}finally{U.f()}if(V.response.responseHeaders=Z,!Y.body)return Y.arrayBuffer().then(function(Oe){V.response.response=Oe,V.progress({loaded:Oe.byteLength,total:Oe.byteLength,stream:!1}),V.onload(),V.onend()});var le,we,B,Re=parseInt(Y.headers.get("Content-Length"),10),Be=0,je=!1,Je=new Uint8Array,Pe=0;if(pe===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var nt=C,Bt=0,vt=function(Oe){if(Array.isArray(Oe))return Oe}(B=Y.body.tee())||function(Oe,et){if(typeof Symbol<"u"&&Symbol.iterator in Object(Oe)){var lt=[],pt=!0,kt=!1,Yt=void 0;try{for(var Mn,gn=Oe[Symbol.iterator]();!(pt=(Mn=gn.next()).done)&&(lt.push(Mn.value),2!==lt.length);pt=!0);}catch(hn){kt=!0,Yt=hn}finally{try{pt||null==gn.return||gn.return()}finally{if(kt)throw Yt}}return lt}}(B)||bn(B,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),qt=vt[1];le=vt[0].getReader(),we=[],le.read().then(function Oe(et){var lt=et.value,pt=et.done;if(Bt=Date.now(),lt&&lt.length){var kt=Bt-nt,Yt=lt.length;we.push({chunkDownloadTimeRelativeMS:Bt-C,chunkDownloadDurationMS:kt,chunkBytes:Yt,kbps:Math.round(8*Yt/(kt/1e3)),bufferLevel:b.getCurrentBufferLevel(Ae.mediaType)})}if(pt){var Mn=Bt-C,gn=we.reduce(function(hn,ln){return hn+ln.chunkBytes},0);return O.addMeasurement(Ae,Mn,we,ue,_e,Z),void V.progress({loaded:gn,total:gn,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(Ae),stream:!0})}return nt=Date.now(),le.read().then(Oe)}),V.reader=qt.getReader()}else V.reader=Y.body.getReader();var tn=[],Le=[],Se=[],Qe=!0;ie(V,function Oe(et){var lt=et.value;if(et.done){if(Je){if(pe!==d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var pt=null,kt=null;pe===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(pt=function(hn,ln){try{var Rn,tr;Rn=hn.filter(function(Cn,wn){return wn<hn.length-1}),tr=ln.filter(function(Cn,wn){return wn<ln.length-1});var sr=[];if(Rn.length>1){for(var Wn=0,mr=0,ir=0;ir<Rn.length;ir++)if(Rn[ir]&&tr[ir]){var hr=tr[ir].ts-Rn[ir].ts;if(hr>1)sr.push(8*tr[ir].bytes/hr),mr=0;else{0===mr&&(mr=Rn[ir].ts,Wn=0);var Pt=tr[ir].ts-mr;Pt>1?(sr.push(8*(Wn+=tr[ir].bytes)/Pt),mr=0):Wn+=tr[ir].bytes}}if(sr.length>0)return sr.reduce(function(Cn,wn){return Cn+wn},0)/sr.length}return null}catch{return null}}(Le,Se))&&(kt=8*Be/pt):pe===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(kt=ee(tn,Be)),V.progress({loaded:Be,total:isNaN(Re)?Be:Re,lengthComputable:!0,time:kt,stream:!0})}V.response.response=Je.buffer}return V.onload(),void V.onend()}if(lt&&lt.length>0){Je=function(hn,ln){if(0===hn.length)return ln;var Rn=new Uint8Array(hn.length+ln.length);return Rn.set(hn),Rn.set(ln,hn.length),Rn}(Je,lt),Be+=lt.length,tn.push({ts:Date.now(),bytes:lt.length}),pe===d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Qe&&A.findLastTopIsoBoxCompleted(["moof"],Je,Pe).found&&(Qe=!1,Le.push({ts:performance.now(),bytes:lt.length}));var Yt=A.findLastTopIsoBoxCompleted(["moov","mdat"],Je,Pe);if(Yt.found){var Mn,gn=Yt.lastCompletedOffset+Yt.size;pe!==d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||Qe||(Qe=!0,Se.push({ts:performance.now(),bytes:Je.length})),gn===Je.length?(Mn=Je,Je=new Uint8Array):(Mn=new Uint8Array(Je.subarray(0,gn)),Je=Je.subarray(gn)),V.progress({data:Mn.buffer,lengthComputable:!1,noTrace:!0}),Pe=0}else Pe=Yt.lastCompletedOffset,je||(V.progress({lengthComputable:!1,noTrace:!0}),je=!0)}ie(V,Oe)})}).catch(function(Y){V.onerror&&V.onerror(Y)})})}function ie(V,re){V.reader.read().then(re).catch(function(te){V.onerror&&200===V.response.status&&V.onerror(te)})}function ee(V,re){try{if((V=V.filter(function(ye){return ye.bytes>re/4/V.length})).length>1){var te=0,Ae=(V[V.length-1].ts-V[0].ts)/V.length;return V.forEach(function(ye,Te){var de=V[Te+1];if(de){var z=de.ts-ye.ts;te+=z<Ae?z:0}}),te}return null}catch{return null}}return{load:function(V){R&&R.modifyRequest?(0,De.k)(V,R).then(function(){return J(V)}):J(V)},abort:function(V){if(V.abortController)V.abortController.abort();else if(V.reader)try{V.reader.cancel(),V.onabort()}catch{}},calculateDownloadedTime:ee,setup:function(V){b=V.dashMetrics}}}An.__dashjs_factory_name="FetchLoader";const Qn=S.Z.getClassFactory(An);var Un=L(1180);const wi=function(){function y(){(function(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var b;return(b=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==f.Z.BASE_URL&&this.segmentInfoType!==f.Z.SEGMENT_BASE&&!this.indexRange}}])&&function Dr(y,p){for(var b=0;b<p.length;b++){var I=p[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}(),Vr=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.period=null,this.index=-1,this.type=null};var uo=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};uo.DEFAULT_ID="defaultId";const Mi=uo,fo=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};var ho=L(2610);const Hi=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};var Ko=function y(p,b,I,R){(function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=p||"",this.serviceLocation=b||p||"",this.dvb_priority=I||1,this.dvb_weight=R||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};Ko.DEFAULT_DVB_PRIORITY=1,Ko.DEFAULT_DVB_WEIGHT=1;const vo=Ko,ua=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Gt=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Vt=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0},ut=function(){function y(){(function(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")})(this,y),this.schemeIdUri=null,this.value=null,this.id=null}var b;return(b=[{key:"init",value:function(I){return I&&(this.schemeIdUri=I.schemeIdUri?I.schemeIdUri:null,this.value=I.value?I.value:null,this.id=I.id?I.id:null),this}}])&&function jt(y,p){for(var b=0;b<p.length;b++){var I=p[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}();var xt=L(3101),ft=L.n(xt);function At(){return{areEqual:function(y,p){return ft()(y,p)}}}At.__dashjs_factory_name="ObjectUtils";const Qt=S.Z.getSingletonFactory(At);var en=L(7803);const Sn=function y(p,b){(function(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=p||"",this.serviceLocation=b||null,this.queryParams={}},In=function y(p,b,I){(function(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=p||"",this.serviceLocation=b||null,this.ttl=I||NaN,this.queryParams={}};function sn(y,p){var b;if(typeof Symbol>"u"||null==y[Symbol.iterator]){if(Array.isArray(y)||(b=Ft(y))||p&&y&&"number"==typeof y.length){b&&(y=b);var I=0,R=function(){};return{s:R,n:function(){return I>=y.length?{done:!0}:{done:!1,value:y[I++]}},e:function(J){throw J},f:R}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,A=!0,j=!1;return{s:function(){b=y[Symbol.iterator]()},n:function(){var J=b.next();return A=J.done,J},e:function(J){j=!0,O=J},f:function(){try{A||null==b.return||b.return()}finally{if(j)throw O}}}}function Ft(y,p){if(y){if("string"==typeof y)return un(y,p);var b=Object.prototype.toString.call(y).slice(8,-1);return"Object"===b&&y.constructor&&(b=y.constructor.name),"Map"===b||"Set"===b?Array.from(y):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?un(y,p):void 0}}function un(y,p){(null==p||p>y.length)&&(p=y.length);for(var b=0,I=new Array(p);b<p;b++)I[b]=y[b];return I}function yn(){var y,p,b,I,R=this.context,O=(0,Ge.Z)(R).getInstance(),A=Number.isInteger||function(C){return"number"==typeof C&&isFinite(C)&&Math.floor(C)===C};function j(C,Y){if(!C)throw new Error("adaptation is not defined");if(!Y)throw new Error("type is not defined");if(C.Representation_asArray&&C.Representation_asArray.length){var K=Te(C.Representation_asArray[0]);if(K&&K.length>0&&en.Y.indexOf(K[0].schemeIdUri)>=0)return Y===d.Z.IMAGE}if(C.ContentComponent_asArray&&C.ContentComponent_asArray.length>0){if(C.ContentComponent_asArray.length>1)return Y===d.Z.MUXED;if(C.ContentComponent_asArray[0].contentType===Y)return!0}var Z=Y===d.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(Y);if(C.Representation_asArray&&C.Representation_asArray.length&&Z.test(C.Representation_asArray[0].codecs))return!0;if(C.hasOwnProperty(f.Z.MIME_TYPE))return Z.test(C.mimeType);if(C.Representation_asArray)for(var ae,le=0;le<C.Representation_asArray.length;le++)if((ae=C.Representation_asArray[le]).hasOwnProperty(f.Z.MIME_TYPE))return Z.test(ae.mimeType);return!1}function J(C){if(!C)throw new Error("adaptation is not defined");if(C.hasOwnProperty(f.Z.SEGMENT_TEMPLATE)||C.hasOwnProperty(f.Z.SEGMENT_TIMELINE)||C.hasOwnProperty(f.Z.SEGMENT_LIST)||C.hasOwnProperty(f.Z.SEGMENT_BASE))return!0;if(C.Representation_asArray&&C.Representation_asArray.length>0){var Y=C.Representation_asArray[0];if(Y.hasOwnProperty(f.Z.SEGMENT_TEMPLATE)||Y.hasOwnProperty(f.Z.SEGMENT_TIMELINE)||Y.hasOwnProperty(f.Z.SEGMENT_LIST)||Y.hasOwnProperty(f.Z.SEGMENT_BASE))return!0}return!1}function ie(C){return j(C,d.Z.VIDEO)}function ee(C){return j(C,d.Z.TEXT)}function V(C){return j(C,d.Z.IMAGE)}function re(C){return C&&Array.isArray(C.Representation_asArray)&&C.Representation_asArray.sort(function(Y,K){return Y.bandwidth-K.bandwidth}),C}function te(C,Y){return C&&C.Period_asArray&&A(Y)&&C.Period_asArray[Y]?C.Period_asArray[Y].AdaptationSet_asArray:[]}function Ae(C){return C&&C.Period_asArray?C.Period_asArray:[]}function ye(C){var Y=!1;return C&&C.hasOwnProperty("type")&&(Y=C.type===f.Z.DYNAMIC),Y}function Te(C){return C&&C.EssentialProperty_asArray&&C.EssentialProperty_asArray.length?C.EssentialProperty_asArray.map(function(Y){return{schemeIdUri:Y.schemeIdUri,value:Y.value}}):null}function de(C){if(!C||!C.S_asArray)return NaN;var Y=C.S_asArray[0],K=C.S_asArray[1];return Y.hasOwnProperty("d")?Y.d:K.t-Y.t}function z(C,Y){if(!C)throw new Error("Period cannot be null or undefined");var K=Mi.DEFAULT_ID+"_"+Y;return C.hasOwnProperty(f.Z.ID)&&C.id.length>0&&"__proto__"!==C.id&&(K=C.id),K}function pe(C,Y,K){var Z,U=[];if(!C)return U;for(Z=0;Z<C.length;Z++){var ae=new ua;if(ae.timescale=1,ae.representation=Y,!C[Z].hasOwnProperty(d.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ae.schemeIdUri=C[Z].schemeIdUri,C[Z].hasOwnProperty(f.Z.TIMESCALE)&&(ae.timescale=C[Z].timescale),C[Z].hasOwnProperty(f.Z.VALUE)&&(ae.value=C[Z].value),U.push(ae),ae.period=K}return U}function ue(C){var Y=[],Z=!1;return(C.BaseURL_asArray||[C.baseUri]).some(function(U){if(U){var ae=new vo,le=U.__text||U;return O.isRelative(le)&&(Z=!0,C.baseUri&&(le=O.resolve(le,C.baseUri))),ae.url=le,ae.serviceLocation=U.hasOwnProperty(f.Z.SERVICE_LOCATION)&&U.serviceLocation.length?U.serviceLocation:le,U.hasOwnProperty(f.Z.DVB_PRIORITY)&&(ae.dvb_priority=U[f.Z.DVB_PRIORITY]),U.hasOwnProperty(f.Z.DVB_WEIGHT)&&(ae.dvb_weight=U[f.Z.DVB_WEIGHT]),U.hasOwnProperty(f.Z.AVAILABILITY_TIME_OFFSET)&&(ae.availabilityTimeOffset=U[f.Z.AVAILABILITY_TIME_OFFSET]),U.hasOwnProperty(f.Z.AVAILABILITY_TIME_COMPLETE)&&(ae.availabilityTimeComplete="false"!==U[f.Z.AVAILABILITY_TIME_COMPLETE]),Y.push(ae),Z}}),Y}function _e(C){var Y=new Vt;return Y.serverUrl=C.__text,C.hasOwnProperty(f.Z.DEFAULT_SERVICE_LOCATION)&&(Y.defaultServiceLocation=C[f.Z.DEFAULT_SERVICE_LOCATION],Y.defaultServiceLocationArray=Y.defaultServiceLocation.split(" ")),C.hasOwnProperty(f.Z.QUERY_BEFORE_START)&&(Y.queryBeforeStart="true"===C[f.Z.QUERY_BEFORE_START].toLowerCase()),C.hasOwnProperty(f.Z.CLIENT_REQUIREMENT)&&(Y.clientRequirement="false"!==C[f.Z.CLIENT_REQUIREMENT].toLowerCase()),Y}return y={getIsTypeOf:j,getIsText:ee,getIsFragmented:J,getProducerReferenceTimesForAdaptation:function(C){var Y=C&&C.hasOwnProperty(f.Z.PRODUCERREFERENCETIME_ASARRAY)?C[f.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(C&&C.hasOwnProperty(f.Z.REPRESENTATION_ASARRAY)?C[f.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(Z){var U;Z.hasOwnProperty(f.Z.PRODUCERREFERENCETIME_ASARRAY)&&Y.push.apply(Y,function(ae){if(Array.isArray(ae))return un(ae)}(U=Z[f.Z.PRODUCERREFERENCETIME_ASARRAY])||function(ae){if(typeof Symbol<"u"&&Symbol.iterator in Object(ae))return Array.from(ae)}(U)||Ft(U)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});var K=[];return Y.forEach(function(Z){var U=new Gt;Z.hasOwnProperty(f.Z.ID)&&(U[f.Z.ID]=Z[f.Z.ID],Z.hasOwnProperty(f.Z.WALL_CLOCK_TIME)&&(U[f.Z.WALL_CLOCK_TIME]=Z[f.Z.WALL_CLOCK_TIME],Z.hasOwnProperty(f.Z.PRESENTATION_TIME)&&(U[f.Z.PRESENTATION_TIME]=Z[f.Z.PRESENTATION_TIME],Z.hasOwnProperty(f.Z.INBAND)&&(U[f.Z.INBAND]="false"!==Z[f.Z.INBAND]),Z.hasOwnProperty(f.Z.TYPE)&&(U[f.Z.TYPE]=Z[f.Z.TYPE]),K.push(U))))}),K},getLanguageForAdaptation:function(C){var Y="";return C&&C.hasOwnProperty(f.Z.LANG)&&(Y=C.lang),Y},getViewpointForAdaptation:function(C){return C&&C.hasOwnProperty(f.Z.VIEWPOINT_ASARRAY)&&C[f.Z.VIEWPOINT_ASARRAY].length?C[f.Z.VIEWPOINT_ASARRAY].map(function(Y){return(new ut).init(Y)}):[]},getRolesForAdaptation:function(C){return C&&C.hasOwnProperty(f.Z.ROLE_ASARRAY)&&C[f.Z.ROLE_ASARRAY].length?C[f.Z.ROLE_ASARRAY].map(function(Y){return(new ut).init(Y)}):[]},getAccessibilityForAdaptation:function(C){return C&&C.hasOwnProperty(f.Z.ACCESSIBILITY_ASARRAY)&&C[f.Z.ACCESSIBILITY_ASARRAY].length?C[f.Z.ACCESSIBILITY_ASARRAY].map(function(Y){return(new ut).init(Y)}):[]},getAudioChannelConfigurationForAdaptation:function(C){return C&&C.hasOwnProperty(f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&C[f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?C[f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(Y){return(new ut).init(Y)}):[]},getAudioChannelConfigurationForRepresentation:function(C){return C&&C.hasOwnProperty(f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&C[f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?C[f.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(Y){return(new ut).init(Y)}):[]},getAdaptationForIndex:function(C,Y,K){var Z=te(Y,K);return Z.length>0&&A(C)?Z[C]:null},getIndexForAdaptation:function(C,Y,K){if(!C)return-1;for(var Z=te(Y,K),U=0;U<Z.length;U++)if(Qt(R).getInstance().areEqual(Z[U],C))return U;return-1},getAdaptationForId:function(C,Y,K){var Z,U,ae=te(Y,K);for(Z=0,U=ae.length;Z<U;Z++)if(ae[Z].hasOwnProperty(f.Z.ID)&&ae[Z].id===C)return ae[Z];return null},getAdaptationsForType:function(C,Y,K){var Z,U,ae=te(C,Y),le=[];for(Z=0,U=ae.length;Z<U;Z++)j(ae[Z],K)&&le.push(re(ae[Z]));return le},getRealPeriods:Ae,getRealPeriodForIndex:function(C,Y){var K=Ae(Y);return K.length>0&&A(C)?K[C]:null},getCodec:function(C,Y,K){var Z=null;if(C&&C.Representation_asArray&&C.Representation_asArray.length>0){var U=A(Y)&&Y>=0&&Y<C.Representation_asArray.length?C.Representation_asArray[Y]:C.Representation_asArray[0];U&&(Z=U.mimeType+';codecs="'+U.codecs+'"',K&&void 0!==U.width&&(Z+=';width="'+U.width+'";height="'+U.height+'"'))}return Z&&(Z=Z.replace(/\sprofiles=[^;]*/g,"")),Z},getSelectionPriority:function(C){try{var Y=C&&void 0!==C.selectionPriority?parseInt(C.selectionPriority):1;return isNaN(Y)?1:Y}catch{return 1}},getMimeType:function(C){return C&&C.Representation_asArray&&C.Representation_asArray.length>0?C.Representation_asArray[0].mimeType:null},getKID:function(C){return C&&C.hasOwnProperty(f.Z.CENC_DEFAULT_KID)?C[f.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(C){if(!C||!Array.isArray(C.Label_asArray))return[];for(var Y=[],K=0;K<C.Label_asArray.length;K++)Y.push({lang:C.Label_asArray[K].lang,text:C.Label_asArray[K].__text||C.Label_asArray[K]});return Y},getContentProtectionData:function(C){return C&&C.hasOwnProperty(f.Z.CONTENTPROTECTION_ASARRAY)&&0!==C.ContentProtection_asArray.length?C.ContentProtection_asArray:null},getIsDynamic:ye,getId:function(C){return C&&C[f.Z.ID]||null},hasProfile:function(C,Y){var K=!1;return C&&C.profiles&&C.profiles.length>0&&(K=-1!==C.profiles.indexOf(Y)),K},getDuration:function(C){return C&&C.hasOwnProperty(f.Z.MEDIA_PRESENTATION_DURATION)?C.mediaPresentationDuration:C&&"dynamic"==C.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(C){return C&&C.bandwidth?C.bandwidth:NaN},getManifestUpdatePeriod:function(C){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,K=NaN;return C&&C.hasOwnProperty(f.Z.MINIMUM_UPDATE_PERIOD)&&(K=C.minimumUpdatePeriod),isNaN(K)?K:Math.max(K-Y,1)},getPublishTime:function(C){return C&&C.hasOwnProperty(f.Z.PUBLISH_TIME)?new Date(C[f.Z.PUBLISH_TIME]):null},getRepresentationCount:function(C){return C&&Array.isArray(C.Representation_asArray)?C.Representation_asArray.length:0},getBitrateListForAdaptation:function(C){var Y=re(C);return(Y&&Array.isArray(Y.Representation_asArray)?Y.Representation_asArray:[]).map(function(K){return{bandwidth:K.bandwidth,width:K.width||0,height:K.height||0,scanType:K.scanType||null,id:K.id||null}})},getRepresentationFor:function(C,Y){return Y&&Y.Representation_asArray&&Y.Representation_asArray.length>0&&A(C)?Y.Representation_asArray[C]:null},getRepresentationsForAdaptation:function(C){var Y,K,Z,U,ae=[],le=function(Je){if(Je&&Je.period&&A(Je.period.index)){var Pe=Je.period.mpd.manifest.Period_asArray[Je.period.index];if(Pe&&Pe.AdaptationSet_asArray&&A(Je.index))return re(Pe.AdaptationSet_asArray[Je.index])}}(C);if(le&&le.Representation_asArray){if(C&&C.period&&A(C.period.index)){var we=ue(C.period.mpd.manifest);we&&(K=we[0])}for(var B=0,X=le.Representation_asArray.length;B<X;++B){var Re=le.Representation_asArray[B],Be=new wi;if(Be.index=B,Be.adaptation=C,Re.hasOwnProperty(f.Z.ID)&&(Be.id=Re.id),Re.hasOwnProperty(f.Z.CODECS)&&(Be.codecs=Re.codecs),Re.hasOwnProperty(f.Z.MIME_TYPE)&&(Be.mimeType=Re[f.Z.MIME_TYPE]),Re.hasOwnProperty(f.Z.CODEC_PRIVATE_DATA)&&(Be.codecPrivateData=Re.codecPrivateData),Re.hasOwnProperty(f.Z.BANDWITH)&&(Be.bandwidth=Re.bandwidth),Re.hasOwnProperty(f.Z.WIDTH)&&(Be.width=Re.width),Re.hasOwnProperty(f.Z.HEIGHT)&&(Be.height=Re.height),Re.hasOwnProperty(f.Z.SCAN_TYPE)&&(Be.scanType=Re.scanType),Re.hasOwnProperty(f.Z.MAX_PLAYOUT_RATE)&&(Be.maxPlayoutRate=Re.maxPlayoutRate),Re.hasOwnProperty(f.Z.SEGMENT_BASE)?(Y=Re.SegmentBase,Be.segmentInfoType=f.Z.SEGMENT_BASE):Re.hasOwnProperty(f.Z.SEGMENT_LIST)?Be.segmentInfoType=(Y=Re.SegmentList).hasOwnProperty(f.Z.SEGMENT_TIMELINE)?f.Z.SEGMENT_TIMELINE:f.Z.SEGMENT_LIST:Re.hasOwnProperty(f.Z.SEGMENT_TEMPLATE)?(Be.segmentInfoType=(Y=Re.SegmentTemplate).hasOwnProperty(f.Z.SEGMENT_TIMELINE)?f.Z.SEGMENT_TIMELINE:f.Z.SEGMENT_TEMPLATE,Y.hasOwnProperty(f.Z.INITIALIZATION_MINUS)&&(Be.initialization=Y.initialization.split("$Bandwidth$").join(Re.bandwidth).split("$RepresentationID$").join(Re.id))):Be.segmentInfoType=f.Z.BASE_URL,Be.essentialProperties=Te(Re),Y){if(Y.hasOwnProperty(f.Z.INITIALIZATION)){var je=Y.Initialization;je.hasOwnProperty(f.Z.SOURCE_URL)&&(Be.initialization=je.sourceURL),je.hasOwnProperty(f.Z.RANGE)&&(Be.range=je.range)}else ee(le)&&J(le)&&le.mimeType&&-1===le.mimeType.indexOf("application/mp4")&&(Be.range=0);Y.hasOwnProperty(f.Z.TIMESCALE)&&(Be.timescale=Y.timescale),Y.hasOwnProperty(f.Z.DURATION)?Be.segmentDuration=Y.duration/Be.timescale:Re.hasOwnProperty(f.Z.SEGMENT_TEMPLATE)&&(Y=Re.SegmentTemplate).hasOwnProperty(f.Z.SEGMENT_TIMELINE)&&(Be.segmentDuration=de(Y.SegmentTimeline)/Be.timescale),Y.hasOwnProperty(f.Z.MEDIA)&&(Be.media=Y.media),Y.hasOwnProperty(f.Z.START_NUMBER)&&(Be.startNumber=Y.startNumber),Y.hasOwnProperty(f.Z.INDEX_RANGE)&&(Be.indexRange=Y.indexRange),Y.hasOwnProperty(f.Z.PRESENTATION_TIME_OFFSET)&&(Be.presentationTimeOffset=Y.presentationTimeOffset/Be.timescale),Y.hasOwnProperty(f.Z.AVAILABILITY_TIME_OFFSET)?Be.availabilityTimeOffset=Y.availabilityTimeOffset:K&&void 0!==K.availabilityTimeOffset&&(Be.availabilityTimeOffset=K.availabilityTimeOffset),Y.hasOwnProperty(f.Z.AVAILABILITY_TIME_COMPLETE)?Be.availabilityTimeComplete="false"!==Y.availabilityTimeComplete:K&&void 0!==K.availabilityTimeComplete&&(Be.availabilityTimeComplete=K.availabilityTimeComplete)}Be.MSETimeOffset=(U=(Z=Be).presentationTimeOffset,Z.adaptation.period.start-U),Be.path=[C.period.index,C.index,B],ae.push(Be)}}return ae},getAdaptationsForPeriod:function(C){var Y,K,Z,U=C&&A(C.index)?C.mpd.manifest.Period_asArray[C.index]:null,ae=[];if(U&&U.AdaptationSet_asArray)for(Z=0;Z<U.AdaptationSet_asArray.length;Z++)K=U.AdaptationSet_asArray[Z],Y=new Vr,K.hasOwnProperty(f.Z.ID)&&(Y.id=K.id),Y.index=Z,Y.period=C,j(K,d.Z.MUXED)?Y.type=d.Z.MUXED:j(K,d.Z.AUDIO)?Y.type=d.Z.AUDIO:ie(K)?Y.type=d.Z.VIDEO:ee(K)?Y.type=d.Z.TEXT:V(K)?Y.type=d.Z.IMAGE:p.warn("Unknown Adaptation stream type"),ae.push(Y);return ae},getRegularPeriods:function(C){var Y,K,Z=!!C&&ye(C.manifest),U=[],ae=null,le=null,we=null,B=null;for(K=0,Y=C&&C.manifest&&C.manifest.Period_asArray?C.manifest.Period_asArray.length:0;K<Y;K++)(le=C.manifest.Period_asArray[K]).hasOwnProperty(f.Z.START)?(B=new Mi).start=le.start:null!==ae&&ae.hasOwnProperty(f.Z.DURATION)&&null!==we?(B=new Mi).start=parseFloat((we.start+we.duration).toFixed(5)):0!==K||Z||((B=new Mi).start=0),null!==we&&isNaN(we.duration)&&(null!==B?we.duration=parseFloat((B.start-we.start).toFixed(5)):p.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==B&&(B.id=z(le,K),B.index=K,B.mpd=C,le.hasOwnProperty(f.Z.DURATION)&&(B.duration=le.duration),we&&(we.nextPeriodId=B.id),U.push(B),ae=le,we=B),le=null,B=null;return 0===U.length||null!==we&&isNaN(we.duration)&&(we.duration=parseFloat((function(X){!function(){if(!b||!b.hasOwnProperty("error"))throw new Error(d.Z.MISSING_CONFIG_ERROR)}();var Re,Be=ye(X.mpd.manifest);return X.mpd.manifest.mediaPresentationDuration?Re=X.mpd.manifest.mediaPresentationDuration:X.duration?Re=X.duration:Be?Re=Number.POSITIVE_INFINITY:b.error(new W.Z(ge.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",X)),Re}(we)-we.start).toFixed(5))),U},getMpd:function(C){var Y=new fo;return C&&(Y.manifest=C,C.hasOwnProperty(f.Z.AVAILABILITY_START_TIME)?Y.availabilityStartTime=new Date(C.availabilityStartTime.getTime()):C.loadedTime&&(Y.availabilityStartTime=new Date(C.loadedTime.getTime())),C.hasOwnProperty(f.Z.AVAILABILITY_END_TIME)&&(Y.availabilityEndTime=new Date(C.availabilityEndTime.getTime())),C.hasOwnProperty(f.Z.MINIMUM_UPDATE_PERIOD)&&(Y.minimumUpdatePeriod=C.minimumUpdatePeriod),C.hasOwnProperty(f.Z.MEDIA_PRESENTATION_DURATION)&&(Y.mediaPresentationDuration=C.mediaPresentationDuration),C.hasOwnProperty(f.Z.SUGGESTED_PRESENTATION_DELAY)&&(Y.suggestedPresentationDelay=C.suggestedPresentationDelay),C.hasOwnProperty(f.Z.TIMESHIFT_BUFFER_DEPTH)&&(Y.timeShiftBufferDepth=C.timeShiftBufferDepth),C.hasOwnProperty(f.Z.MAX_SEGMENT_DURATION)&&(Y.maxSegmentDuration=C.maxSegmentDuration),C.hasOwnProperty(f.Z.PUBLISH_TIME)&&(Y.publishTime=new Date(C.publishTime))),Y},getEventsForPeriod:function(C){var Y,K,Z=C&&C.mpd&&C.mpd.manifest?C.mpd.manifest:null,U=Z?Z.Period_asArray:null,ae=U&&C&&A(C.index)?U[C.index].EventStream_asArray:null,le=[];if(ae)for(Y=0;Y<ae.length;Y++){var we=new ua;if(we.period=C,we.timescale=1,!ae[Y].hasOwnProperty(d.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(we.schemeIdUri=ae[Y][d.Z.SCHEME_ID_URI],ae[Y].hasOwnProperty(f.Z.TIMESCALE)&&(we.timescale=ae[Y][f.Z.TIMESCALE]),ae[Y].hasOwnProperty(f.Z.VALUE)&&(we.value=ae[Y][f.Z.VALUE]),ae[Y].hasOwnProperty(f.Z.PRESENTATION_TIME_OFFSET)&&(we.presentationTimeOffset=ae[Y][f.Z.PRESENTATION_TIME_OFFSET]),K=0;ae[Y].Event_asArray&&K<ae[Y].Event_asArray.length;K++){var B=ae[Y].Event_asArray[K],X=new Hi;X.presentationTime=0,X.eventStream=we,B.hasOwnProperty(f.Z.PRESENTATION_TIME)&&(X.presentationTime=B.presentationTime),X.calculatedPresentationTime=X.presentationTime/we.timescale+C.start-(we.presentationTimeOffset?we.presentationTimeOffset/we.timescale:0),B.hasOwnProperty(f.Z.DURATION)&&(X.duration=B.duration/we.timescale),X.id=B.hasOwnProperty(f.Z.ID)?B.id:null,X.messageData=B.Signal&&B.Signal.Binary?I.decodeArray(B.Signal.Binary.toString()):B.messageData||B.__cdata||B.__text,le.push(X)}}return le},getEssentialPropertiesForRepresentation:Te,getEventStreamForAdaptationSet:function(C,Y,K){var Z,U,ae;return C&&C.Period_asArray&&Y&&Y.period&&A(Y.period.index)&&(U=C.Period_asArray[Y.period.index])&&U.AdaptationSet_asArray&&A(Y.index)&&(ae=U.AdaptationSet_asArray[Y.index])&&(Z=ae.InbandEventStream_asArray),pe(Z,null,K)},getEventStreamForRepresentation:function(C,Y,K){var Z,U,ae,le;return C&&C.Period_asArray&&Y&&Y.adaptation&&Y.adaptation.period&&A(Y.adaptation.period.index)&&(U=C.Period_asArray[Y.adaptation.period.index])&&U.AdaptationSet_asArray&&A(Y.adaptation.index)&&(ae=U.AdaptationSet_asArray[Y.adaptation.index])&&ae.Representation_asArray&&A(Y.index)&&(le=ae.Representation_asArray[Y.index])&&(Z=le.InbandEventStream_asArray),pe(Z,Y,K)},getUTCTimingSources:function(C){var Y=ye(C),K=!!C&&C.hasOwnProperty(f.Z.AVAILABILITY_START_TIME),Z=C?C.UTCTiming_asArray:null,U=[];return(Y||K)&&Z&&Z.forEach(function(ae){var le=new ho.Z;ae.hasOwnProperty(d.Z.SCHEME_ID_URI)&&(le.schemeIdUri=ae.schemeIdUri,ae.hasOwnProperty(f.Z.VALUE)&&(le.value=ae.value.toString(),U.push(le)))}),U},getBaseURLsFromElement:ue,getRepresentationSortFunction:function(){return function(C,Y){return C.bandwidth-Y.bandwidth}},getContentSteering:function(C){if(C&&C.hasOwnProperty(f.Z.CONTENT_STEERING_AS_ARRAY))return _e(C[f.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(C){return C&&C.hasOwnProperty(f.Z.LOCATION_AS_ARRAY)?C[f.Z.LOCATION_AS_ARRAY].map(function(Y){var K=Y.__text||Y,Z=Y.hasOwnProperty(f.Z.SERVICE_LOCATION)?Y[f.Z.SERVICE_LOCATION]:null;return new Sn(K,Z)}):[]},getPatchLocation:function(C){return C&&C.hasOwnProperty(f.Z.PATCH_LOCATION_AS_ARRAY)?C[f.Z.PATCH_LOCATION_AS_ARRAY].map(function(Y){var K=Y.__text||Y,Z=Y.hasOwnProperty(f.Z.SERVICE_LOCATION)?Y[f.Z.SERVICE_LOCATION]:null,U=Y.hasOwnProperty(f.Z.TTL)?1e3*parseFloat(Y[f.Z.TTL]):NaN;return new In(K,Z,U)}):[]},getSuggestedPresentationDelay:function(C){return C&&C.hasOwnProperty(f.Z.SUGGESTED_PRESENTATION_DELAY)?C.suggestedPresentationDelay:null},getAvailabilityStartTime:function(C){return C&&C.hasOwnProperty(f.Z.AVAILABILITY_START_TIME)&&null!==C.availabilityStartTime?C.availabilityStartTime.getTime():null},getServiceDescriptions:function(C){var Y=[];if(C&&C.hasOwnProperty(f.Z.SERVICE_DESCRIPTION)){var K,Z=sn(C.ServiceDescription_asArray);try{for(Z.s();!(K=Z.n()).done;){var U=K.value,ae=null,le=null,we=null,B=null,X=null,Re=null,Be=null;for(var je in U)U.hasOwnProperty(je)&&(je===f.Z.ID?ae=U[je]:je===f.Z.SERVICE_DESCRIPTION_SCOPE?le=U[je].schemeIdUri:je===f.Z.SERVICE_DESCRIPTION_LATENCY?we={target:parseInt(U[je].target),max:parseInt(U[je].max),min:parseInt(U[je].min),referenceId:parseInt(U[je].referenceId)}:je===f.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?B={max:parseFloat(U[je].max),min:parseFloat(U[je].min)}:je===f.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?X={mediaType:U[je].mediaType,max:parseInt(U[je].max),min:parseInt(U[je].min),target:parseInt(U[je].target),type:U[je].type,maxQualityDifference:parseInt(U[je].maxQualityDifference)}:je===f.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?Re={mediaType:U[je].mediaType,max:parseInt(U[je].max),min:parseInt(U[je].min),target:parseInt(U[je].target)}:je===f.Z.CONTENT_STEERING&&(Be=_e(U[je])));Y.push({id:ae,schemeIdUri:le,latency:we,playbackRate:B,operatingQuality:X,operatingBandwidth:Re,contentSteering:Be})}}catch(Je){Z.e(Je)}finally{Z.f()}}return Y},getSegmentAlignment:function(C){return!(!C||!C.hasOwnProperty(f.Z.SEGMENT_ALIGNMENT))&&"true"===C[f.Z.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(C){return!(!C||!C.hasOwnProperty(f.Z.SUB_SEGMENT_ALIGNMENT))&&"true"===C[f.Z.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(C){var Y={};if(C&&C.hasOwnProperty(f.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var K,Z=sn(C.SupplementalProperty_asArray);try{for(Z.s();!(K=Z.n()).done;){var U=K.value;U.hasOwnProperty(d.Z.SCHEME_ID_URI)&&U.hasOwnProperty(f.Z.VALUE)&&(Y[U[d.Z.SCHEME_ID_URI]]=U[f.Z.VALUE])}}catch(ae){Z.e(ae)}finally{Z.f()}}return Y},getSupplementalPropertiesAsArrayForAdaptation:function(C){return C&&C.hasOwnProperty(f.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&C.SupplementalProperty_asArray.length?C.SupplementalProperty_asArray.map(function(Y){return(new ut).init(Y)}):[]},getSupplementalPropertiesForRepresentation:function(C){var Y={};if(C&&C.hasOwnProperty(f.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var K,Z=sn(C.SupplementalProperty_asArray);try{for(Z.s();!(K=Z.n()).done;){var U=K.value;U.hasOwnProperty(d.Z.SCHEME_ID_URI)&&U.hasOwnProperty(f.Z.VALUE)&&(Y[U[d.Z.SCHEME_ID_URI]]=U[f.Z.VALUE])}}catch(ae){Z.e(ae)}finally{Z.f()}}return Y},getSupplementalPropertiesAsArrayForRepresentation:function(C){return C&&C.hasOwnProperty(f.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&C.SupplementalProperty_asArray.length?C.SupplementalProperty_asArray.map(function(Y){return(new ut).init(Y)}):[]},setConfig:function(C){C&&(C.errHandler&&(b=C.errHandler),C.BASE64&&(I=C.BASE64))}},p=(0,N.Z)(R).getInstance().getLogger(y),y}yn.__dashjs_factory_name="DashManifestModel";const Dn=S.Z.getSingletonFactory(yn);var er=L(703);function pr(y,p){var b;if(typeof Symbol>"u"||null==y[Symbol.iterator]){if(Array.isArray(y)||(b=function(J,ie){if(J){if("string"==typeof J)return Ln(J,void 0);var ee=Object.prototype.toString.call(J).slice(8,-1);return"Object"===ee&&J.constructor&&(ee=J.constructor.name),"Map"===ee||"Set"===ee?Array.from(J):"Arguments"===ee||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?Ln(J,void 0):void 0}}(y))||p&&y&&"number"==typeof y.length){b&&(y=b);var I=0,R=function(){};return{s:R,n:function(){return I>=y.length?{done:!0}:{done:!1,value:y[I++]}},e:function(J){throw J},f:R}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,A=!0,j=!1;return{s:function(){b=y[Symbol.iterator]()},n:function(){var J=b.next();return A=J.done,J},e:function(J){j=!0,O=J},f:function(){try{A||null==b.return||b.return()}finally{if(j)throw O}}}}function Ln(y,p){(null==p||p>y.length)&&(p=y.length);for(var b=0,I=new Array(p);b<p;b++)I[b]=y[b];return I}function Zt(){var y,p,b,I,R,O,A,j,J,ie,ee=this.context,V=(0,w.Z)(ee).getInstance(),re=(0,Rt.Z)(ee).getInstance();function te(){b={pr:1,nor:null,st:null,sf:null,sid:"".concat(er.Z.generateUuid()),cid:null},J={},j={},ie={},ye()}function Ae(){ye()}function ye(){if(O){var U=O.getStreamController();if(U&&"function"==typeof U.getActiveStream){var ae=U.getActiveStream();ae&&(A=ae.getProcessors())}}}function Te(U,ae){var le,we={},B=pr(ae);try{for(B.s();!(le=B.n()).done;){var X=le.value;U[X]&&(we[X]=U[X])}}catch(Re){B.e(Re)}finally{B.f()}return we}function de(U){var ae=re.get().streaming.cmcd.enabledKeys;return U.filter(function(le){return ae.includes(le)})}function z(U){try{return U.type===Ve.w.MPD_TYPE?((le=pe()).ot="m",le):U.type===Ve.w.MEDIA_SEGMENT_TYPE?(ie.hasOwnProperty(ae=U.mediaType)||(ie[ae]=!1),j.hasOwnProperty(ae)||(j[ae]=!1),J.hasOwnProperty(ae)||(J[ae]=!1),function(we){var B,X=pe(),Re=function(qt){try{return parseInt(qt.mediaInfo.bitrateList[qt.quality].bandwidth/1e3)}catch{return null}}(we),Be=function(qt){try{return isNaN(qt.duration)?null:Math.round(1e3*qt.duration)}catch{return null}}(we),je=function(qt){try{return 100*parseInt(I.getThroughputHistory().getSafeAverageThroughput(qt)/100)}catch{return null}}(we.mediaType),Je=function(qt){try{var tn=b.pr,Le=R.getCurrentBufferLevel(qt);return isNaN(tn)||isNaN(Le)?null:100*parseInt(Le/tn*10)}catch{return null}}(we.mediaType),Pe=ue(we.mediaType),nt=function(qt){try{var tn=I.getTopBitrateInfoFor(qt);return Math.round(tn.bitrate/1e3)}catch{return null}}(we.mediaType),Bt=b.pr,vt=function(qt){if(A&&0!==A.length){var tn,Le=pr(A);try{for(Le.s();!(tn=Le.n()).done;){var Se=tn.value;if(Se.getType()===qt)return Se.probeNextRequest()}}catch(Qe){Le.e(Qe)}finally{Le.f()}}}(we.mediaType);we.mediaType===d.Z.VIDEO&&(B="v"),we.mediaType===d.Z.AUDIO&&(B="a"),we.mediaType===d.Z.TEXT&&(B="application/mp4"===we.mediaInfo.mimeType?"tt":"c");var Dt=re.get().streaming.cmcd.rtp;return Dt||(Dt=function(qt){var tn=O.getPlaybackRate();tn||(tn=1);var Le=qt.quality,Qe=qt.mediaInfo,Oe=qt.duration,et=ue(qt.mediaType);0===et&&(et=500);var lt=Qe.bitrateList[Le].bandwidth*Oe/1e3/(et/tn/1e3),pt=re.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(re.get().streaming.cmcd.rtpSafetyFactor)?re.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(lt*pt/100)+1)}(we)),X.rtp=Dt,vt&&(we.url!==vt.url?X.nor=encodeURIComponent(er.Z.getRelativeUrl(we.url,vt.url)):vt.range&&(X.nrr=vt.range)),Re&&(X.br=Re),B&&(X.ot=B),isNaN(Be)||(X.d=Be),isNaN(je)||(X.mtp=je),isNaN(Je)||(X.dl=Je),isNaN(Pe)||(X.bl=Pe),isNaN(nt)||(X.tb=nt),isNaN(Bt)||1===Bt||(X.pr=Bt),J[we.mediaType]&&(X.bs=!0,J[we.mediaType]=!1),!j[we.mediaType]&&ie[we.mediaType]||(X.su=!0,j[we.mediaType]=!1,ie[we.mediaType]=!0),X}(U)):U.type===Ve.w.INIT_SEGMENT_TYPE?((we=pe()).ot="i",we.su=!0,we):U.type===Ve.w.OTHER_TYPE||U.type===Ve.w.XLINK_EXPANSION_TYPE?function(){var we=pe();return we.ot="o",we}():U.type===Ve.w.LICENSE?((B=pe()).ot="k",B):null}catch{return null}var B,we,ae,le}function pe(){var U={},ae=re.get().streaming.cmcd.cid?re.get().streaming.cmcd.cid:b.cid;return U.v=1,U.sid=re.get().streaming.cmcd.sid?re.get().streaming.cmcd.sid:b.sid,U.sid="".concat(U.sid),ae&&(U.cid="".concat(ae)),isNaN(b.pr)||1===b.pr||null===b.pr||(U.pr=b.pr),b.st&&(U.st=b.st),b.sf&&(U.sf=b.sf),U}function ue(U){try{var ae=R.getCurrentBufferLevel(U);return isNaN(ae)?null:100*parseInt(10*ae)}catch{return null}}function _e(U){try{b.pr=U.playbackRate}catch{}}function C(U){try{var ae=y.getIsDynamic(U.data)?"l":"v",le=U.protocol&&"MSS"===U.protocol?"s":"d";b.st="".concat(ae),b.sf="".concat(le)}catch{}}function Y(U){try{U.state&&U.mediaType&&U.state===h.Z.BUFFER_EMPTY&&(J[U.mediaType]||(J[U.mediaType]=!0),j[U.mediaType]||(j[U.mediaType]=!0))}catch{}}function K(){for(var U in J)J.hasOwnProperty(U)&&(J[U]=!0);for(var ae in j)j.hasOwnProperty(ae)&&(j[ae]=!0)}function Z(U){try{if(!U)return null;var ae=Object.keys(U).sort(function(B,X){return B.localeCompare(X)}),le=ae.length,we=ae.reduce(function(B,X,Re){return"v"===X&&1===U[X]||(B+="string"==typeof U[X]&&"ot"!==X&&"sf"!==X&&"st"!==X?"".concat(X,"=").concat(JSON.stringify(U[X])):"".concat(X,"=").concat(U[X]),Re<le-1&&(B+=",")),B},"");return(we=we.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return p={getQueryParameter:function(U){try{if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var ae=z(U),we=Z(function(B){try{var X=re.get().streaming.cmcd.enabledKeys;return Object.keys(B).filter(function(Re){return X.includes(Re)}).reduce(function(Re,Be){return Re[Be]=B[Be],Re},{})}catch{return B}}(ae));return V.trigger(Un.Z.CMCD_DATA_GENERATED,{url:U.url,mediaType:U.mediaType,cmcdData:ae,cmcdString:we}),{key:"CMCD",value:we}}return null}catch{return null}},getHeaderParameters:function(U){try{if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var ae=z(U),le=Te(ae,de(["br","d","ot","tb"])),we=Te(ae,de(["bl","dl","mtp","nor","nrr","su"])),B=Te(ae,de(["bs","rtp"])),X=Te(ae,de(["cid","pr","sf","sid","st","v"])),Re={"CMCD-Object":Z(le),"CMCD-Request":Z(we),"CMCD-Status":Z(B),"CMCD-Session":Z(X)};return V.trigger(Un.Z.CMCD_DATA_GENERATED,{url:U.url,mediaType:U.mediaType,cmcdData:ae,headers:Re}),Re}return null}catch{return null}},setConfig:function(U){U&&(U.abrController&&(I=U.abrController),U.dashMetrics&&(R=U.dashMetrics),U.playbackController&&(O=U.playbackController))},reset:function(){V.off(h.Z.PLAYBACK_RATE_CHANGED,_e,this),V.off(h.Z.MANIFEST_LOADED,C,this),V.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,Y,p),V.off(h.Z.PLAYBACK_SEEKED,K,p),te()},initialize:function(){V.on(h.Z.PLAYBACK_RATE_CHANGED,_e,p),V.on(h.Z.MANIFEST_LOADED,C,p),V.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,Y,p),V.on(h.Z.PLAYBACK_SEEKED,K,p),V.on(h.Z.PERIOD_SWITCH_COMPLETED,Ae,p)}},y=Dn(ee).getInstance(),te(),p}Zt.__dashjs_factory_name="CmcdModel";const zt=S.Z.getSingletonFactory(Zt);function nn(y){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function Vn(y,p){Vn=function(j,J){return new O(j,void 0,J)};var b=Ar(RegExp),I=RegExp.prototype,R=new WeakMap;function O(j,J,ie){var ee=b.call(this,j,J);return R.set(ee,ie||R.get(j)),ee}function A(j,J){var ie=R.get(J);return Object.keys(ie).reduce(function(ee,V){return ee[V]=j[ie[V]],ee},Object.create(null))}return function Hn(y,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&Ri(y,p)}(O,b),O.prototype.exec=function(j){var J=I.exec.call(this,j);return J&&(J.groups=A(J,this)),J},O.prototype[Symbol.replace]=function(j,J){if("string"==typeof J){var ie=R.get(this);return I[Symbol.replace].call(this,j,J.replace(/\$<([^>]+)>/g,function(V,re){return"$"+ie[re]}))}if("function"==typeof J){var ee=this;return I[Symbol.replace].call(this,j,function(){var V=[];return V.push.apply(V,arguments),"object"!==nn(V[V.length-1])&&V.push(A(V,ee)),J.apply(this,V)})}return I[Symbol.replace].call(this,j,J)},Vn.apply(this,arguments)}function Ar(y){var p="function"==typeof Map?new Map:void 0;return Ar=function(b){if(null===b||-1===Function.toString.call(b).indexOf("[native code]"))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==p){if(p.has(b))return p.get(b);p.set(b,R)}function R(){return Rr(b,arguments,Yr(this).constructor)}return R.prototype=Object.create(b.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),Ri(R,b)},Ar(y)}function Rr(y,p,b){return(Rr=function Fi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(I,R,O){var A=[null];A.push.apply(A,R);var j=new(Function.bind.apply(I,A));return O&&Ri(j,O.prototype),j}).apply(null,arguments)}function Ri(y,p){return(Ri=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function Yr(y){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}var ii="dynamic",da="cmsd-"+ii,Gr="stream",ui=["mb","st","sf","v"],tc={video:"v",audio:"a",text:"tt",stream:Gr},gl=/^[-0-9]/;function kr(){var y,p,b,I,R=this.context,O=(0,w.Z)(R).getInstance();function A(){b={},I={}}function j(te){te&&Object.keys(te).forEach(function(Ae){ui.includes(Ae)||delete te[Ae]})}function J(te){return!te||"false"!==te.toLowerCase()&&(gl.test(te)?parseInt(te,10):te.replace(/["]+/g,""))}function ie(te){try{for(var Ae={},ye=te.split(","),Te=0;Te<ye.length;Te++){var de=ye[Te].split("="),z=de[0],pe=J(de[1]);Ae[z]=pe}return Ae}catch(ue){p.error("Failed to parse CMSD-Static response header value:",ue)}}function ee(te){try{for(var Ae={},ye=te.split(","),Te=ye[ye.length-1].split(";"),de=1;de<Te.length;de++){var z=Te[de].split("="),pe=z[0],ue=J(z[1]);Ae[pe]=ue}return Ae}catch(_e){return p.error("Failed to parse CMSD-Dynamic response header value:",_e),[]}}function V(te){return tc[te]||"o"}function re(te,Ae,ye){var Te="static"===te?b:I;return(Te[Ae]||{})[ye]||(Te[Gr]||{})[ye]}return y={setConfig:function(){},initialize:function(){},reset:function(){A()},parseResponseHeaders:function(te,Ae){for(var ye=null,Te=null,de=te.split("\r\n"),z=de.length-1;z>=0;z--){var pe=de[z].match(Vn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(pe&&pe.groups){var ue=pe.groups.key.toLowerCase(),_e=pe.groups.value;switch(ue){case"cmsd-static":ye=ie(_e),O.trigger(m.Z.CMSD_STATIC_HEADER,ye);break;case da:Te||(Te=ee(_e))}}}var C=Gr;return ye&&ye.ot?C=ye.ot:Ae&&(C=V(Ae)),j(b[C]),j(I[C]),ye&&(b[C]=Object.assign(b[C]||{},ye)),Te&&(I[C]=Object.assign(I[C]||{},Te)),{static:ye,dynamic:Te}},getMaxBitrate:function(te){var Ae=V(te);return re(ii,Ae,"mb")||-1},getEstimatedThroughput:function(te){var Ae=V(te);return re(ii,Ae,"etp")||null},getResponseDelay:function(te){var Ae=V(te);return re(ii,Ae,"rd")||null},getRoundTripTime:function(te){var Ae=V(te);return re(ii,Ae,"rtt")||null}},p=(0,N.Z)(R).getInstance().getLogger(y),A(),y}kr.__dashjs_factory_name="CmsdModel";const Na=S.Z.getSingletonFactory(kr);function hi(){var y,p,b=this.context,I={};function R(){p=(0,N.Z)(b).getInstance().getLogger(y)}function O(j){for(var J={},ie=0,ee=0,V=0,re=0,te=j.length,Ae=0;Ae<te;++Ae)ie+=j[Ae].chunkDownloadTimeRelativeMS,ee+=j[Ae].bufferLevel,V+=j[Ae].chunkDownloadTimeRelativeMS*j[Ae].bufferLevel,re+=j[Ae].chunkDownloadTimeRelativeMS*j[Ae].chunkDownloadTimeRelativeMS;return J.m=(V-ie*ee/te)/(re-ie*ie/te),J.b=ee/te-J.m*ie/te,function(ye){return J.m*ye+J.b}}function A(j){var J,ie=!0,ee=j.reduce(function(V,re){return V+re.bufferLevelAtSegmentEnd},0)/j.length;return j.forEach(function(V){Math.abs(V.bufferLevelAtSegmentEnd/V.bufferLevelAtSegmentStart)<.95&&(ie=!1),V.bufferLevelAtSegmentEnd/ee<.8&&(ie=!1),J?J>V.bitrate&&(ie=!1):J=V.bitrate}),ie}return y={setup:R,addMeasurement:function(j,J,ie,ee,V){j&&j.mediaType&&!I[j.mediaType]&&(I[j.mediaType]=[]);var re=j.mediaInfo.bitrateList.find(function(te){return te.id===j.representationId});I[j.mediaType].push({index:j.index,repId:j.representationId,mediaType:j.mediaType,requestTimeMS:ee,adjustedAvailabilityStartTimeMS:j.availabilityStartTime.getTime(),segDurationMS:1e3*j.duration,chunksDurationMS:ie.reduce(function(te,Ae){return te+Ae.chunkDownloadDurationMS},0),segmentBytes:ie.reduce(function(te,Ae){return te+Ae.chunkBytes},0),bitrate:re&&re.bandwidth,bitrateList:j.mediaInfo.bitrateList,chunkMeasurements:ie,fetchDownloadDurationMS:J,throughputCapacityDelayMS:V,getEstimatedBufferLevel:O(ie.slice(1))}),I[j.mediaType].length>10&&I[j.mediaType].shift()},getThroughputCapacityDelayMS:function(j,J){var ie=I[j.mediaType]&&I[j.mediaType].slice(-3);return!ie||ie.length<3?0:A(ie)?J/4>250?250:J/4:0},getEstimatedDownloadDurationMS:function(j){var J=I[j.mediaType].slice(-1).pop(),ie=I[j.mediaType].slice(-3),ee=J.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;J.bufferLevelAtSegmentStart=J.getEstimatedBufferLevel(ee/2),J.bufferLevelAtSegmentEnd=J.getEstimatedBufferLevel(ee);var V=A(ie),re=V?.6:.8;if(J.isBufferStable&&1.05*J.segDurationMS<J.fetchDownloadDurationMS)return J.fetchDownloadDurationMS;if(!V||J.segDurationMS<J.fetchDownloadDurationMS||J.adjustedAvailabilityStartTimeMS<=J.requestTimeMS+J.throughputCapacityDelayMS-J.segDurationMS)return.8*J.fetchDownloadDurationMS;for(var te=J.requestTimeMS+J.throughputCapacityDelayMS-J.adjustedAvailabilityStartTimeMS,Ae=0,ye=0,Te=0,de=0;de<J.chunkMeasurements.length;de++){var z=J.chunkMeasurements[de];if(te<ye+z.chunkDownloadDurationMS)break;ye+=z.chunkDownloadDurationMS,Ae+=z.chunkBytes,Te++}if(te<0&&p.warn("request time was before adjusted availibitly start time"),Ae&&ye&&Te>.2*J.chunkMeasurements.length){var ue=J.segmentBytes/(Ae/ye);return J.fetchDownloadDurationMS<ue?J.fetchDownloadDurationMS*re:ue*re}var _e=J.bitrate;return J.bitrateList.some(function(C){if(C.bandwidth>J.bitrate)return _e=C.bandwidth,!0}),_e===J.bitrate?J.fetchDownloadDurationMS*re:re*J.segmentBytes*8*1e3/_e}},R(),y}hi.__dashjs_factory_name="LowLatencyThroughputModel";const Oa=S.Z.getSingletonFactory(hi);var Xt=L(5717);function fn(y,p,b){return p in y?Object.defineProperty(y,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[p]=b,y}function mn(y){var p,b,I,R,O,A,j,J,ie,ee,V,re=this.context,te=(y=y||{}).errHandler,Ae=y.dashMetrics,ye=y.mediaPlayerModel,Te=y.requestModifier,de=y.boxParser,z=y.errors,pe=y.requestTimeout||0,ue=(0,w.Z)(re).getInstance(),_e=(0,Rt.Z)(re).getInstance();function C(Y,K){var Z,U=Y.request,ae=[],le=!0,we=!0,B=new Date,X=B,Re=0,Be=null,je=null;if(!Te||!Ae||!te)throw new Error("config object is not correct or missing");var Je,Pe=function(et){if(we=!1,U.requestStartDate=B,U.requestEndDate=new Date,U.firstByteDate=U.firstByteDate||B,U.fileLoaderType=je,!U.checkExistenceOnly){var lt=Z.response?Z.response.responseURL:null,pt=Z.response?Z.response.status:null,kt=Z.response&&Z.response.getAllResponseHeaders?Z.response.getAllResponseHeaders():Z.response?Z.response.responseHeaders:null,Yt=_e.get().streaming.cmsd&&_e.get().streaming.cmsd.enabled?j.parseResponseHeaders(kt,U.mediaType):null;Ae.addHttpRequest(U,lt,pt,kt,et?ae:null,Yt),U.type===Ve.w.MPD_TYPE&&(Ae.addManifestUpdate(U),ue.trigger(m.Z.MANIFEST_LOADING_FINISHED,{request:U}))}},nt=function(){if(Be&&(clearTimeout(Be),Be=null),-1!==b.indexOf(Z)&&(b.splice(b.indexOf(Z),1),we))if(Pe(!1),K>0){try{_e.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&U.type===Ve.w.MEDIA_SEGMENT_TYPE&&ye.getRetryAttemptsForType(Ve.w.MEDIA_SEGMENT_TYPE)===K&&ue.trigger(m.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}K--;var et={config:Y};R.push(et),et.timeout=setTimeout(function(){-1!==R.indexOf(et)&&(R.splice(R.indexOf(et),1),C(Y,K))},ye.getRetryIntervalsForType(U.type))}else{if(U.type===Ve.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;te.error(new W.Z(O[U.type],U.url+" is not available",{request:U,response:Z.response})),Y.error&&Y.error(U,"error",Z.response.statusText,Z.response),Y.complete&&Y.complete(U,Z.response.statusText)}};U.hasOwnProperty("availabilityTimeComplete")&&!1===U.availabilityTimeComplete&&window.fetch&&"arraybuffer"===U.responseType&&U.type===Ve.w.MEDIA_SEGMENT_TYPE?((Je=Qn(re).create({requestModifier:Te,lowLatencyThroughputModel:ie,boxParser:de})).setup({dashMetrics:Ae}),je=d.Z.FILE_LOADER_TYPES.FETCH):(Je=(0,on.Z)(re).create({requestModifier:Te}),je=d.Z.FILE_LOADER_TYPES.XHR);var Bt=null,vt=Te.modifyRequestURL?Te.modifyRequestURL(U.url):U.url;if(_e.get().streaming.cmcd&&_e.get().streaming.cmcd.enabled){var Dt=_e.get().streaming.cmcd.mode;if(Dt===d.Z.CMCD_MODE_QUERY){var qt=function(et){try{var lt=[],pt=A.getQueryParameter(et);return pt&&lt.push(pt),lt}catch{return[]}}(U);vt=er.Z.addAditionalQueryParameterToUrl(vt,qt)}else Dt===d.Z.CMCD_MODE_HEADER&&(Bt=A.getHeaderParameters(U))}var tn=U.checkExistenceOnly?Ve.w.HEAD:Ve.w.GET,Le=J.getXHRWithCredentialsForType(U.type);if(U.queryParams){var Se=Object.keys(U.queryParams).map(function(et){return{key:et,value:U.queryParams[et]}});vt=er.Z.addAditionalQueryParameterToUrl(vt,Se)}U.url=vt,Z={url:vt,method:tn,withCredentials:Le,request:U,onload:function(){Z.response.status>=200&&Z.response.status<=299&&(Pe(!0),Y.success&&Y.success(Z.response.response,Z.response.statusText,Z.response.responseURL),Y.complete&&Y.complete(U,Z.response.statusText))},onend:nt,onerror:nt,progress:function(et){var lt=new Date;le&&(le=!1,(!et.lengthComputable||et.lengthComputable&&et.total!==et.loaded)&&(U.firstByteDate=lt)),et.lengthComputable&&(U.bytesLoaded=et.loaded,U.bytesTotal=et.total),et.noTrace||(ae.push({s:X,d:et.time?et.time:lt.getTime()-X.getTime(),b:[et.loaded?et.loaded-Re:0]}),X=lt,Re=et.loaded),Be&&(clearTimeout(Be),Be=null),_e.get().streaming.fragmentRequestProgressTimeout>0&&(Be=setTimeout(function(){ee.warn("Abort request "+Z.url+" due to progress timeout"),Z.response.onabort=null,Z.loader.abort(Z),nt()},_e.get().streaming.fragmentRequestProgressTimeout)),Y.progress&&et&&Y.progress(et)},onabort:function(){Be&&(clearTimeout(Be),Be=null),Y.abort&&Y.abort(U)},ontimeout:function(et){var lt;lt=et.lengthComputable?"Request timeout: loaded: "+et.loaded+", out of: "+et.total+" : "+(et.loaded/et.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",ee.warn(lt)},loader:Je,timeout:pe,headers:Bt};var Qe=(new Date).getTime();if(isNaN(U.delayLoadingTime)||Qe>=U.delayLoadingTime)b.push(Z),Je.load(Z);else{var Oe={httpRequest:Z};I.push(Oe),Oe.delayTimeout=setTimeout(function(){if(-1!==I.indexOf(Oe)){I.splice(I.indexOf(Oe),1);try{X=B=new Date,b.push(Oe.httpRequest),Je.load(Oe.httpRequest)}catch{Oe.httpRequest.onerror()}}},U.delayLoadingTime-Qe)}}return p={load:function(Y){Y.request?C(Y,ye.getRetryAttemptsForType(Y.request.type)):Y.error&&Y.error(Y.request,"error")},abort:function(){R.forEach(function(Y){clearTimeout(Y.timeout),Y.config.request&&Y.config.abort&&Y.config.abort(Y.config.request)}),R=[],I.forEach(function(Y){return clearTimeout(Y.delayTimeout)}),I=[],b.forEach(function(Y){Y.request.type!==Ve.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Y.onloadend=Y.onerror=Y.onprogress=void 0,Y.loader.abort(Y))}),b=[]}},ee=(0,N.Z)(re).getInstance().getLogger(p),b=[],I=[],R=[],A=zt(re).getInstance(),j=Na(re).getInstance(),ie=Oa(re).getInstance(),J=(0,Xt.Z)(re).getInstance(),fn(V={},Ve.w.MPD_TYPE,z.DOWNLOAD_ERROR_ID_MANIFEST_CODE),fn(V,Ve.w.XLINK_EXPANSION_TYPE,z.DOWNLOAD_ERROR_ID_XLINK_CODE),fn(V,Ve.w.INIT_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),fn(V,Ve.w.MEDIA_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),fn(V,Ve.w.INDEX_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),fn(V,Ve.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),fn(V,Ve.w.OTHER_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),O=V,p}mn.__dashjs_factory_name="HTTPLoader";const ei=S.Z.getClassFactory(mn);function qr(){var y;function p(){y={}}function b(){p()}return b(),{getLoader:function(I){for(var R in y)if(y.hasOwnProperty(R)&&I.startsWith(R))return y[R];return ei},registerLoader:function(I,R){y[I]=R},unregisterLoader:function(I){y[I]&&delete y[I]},unregisterAllLoader:p,reset:b}}qr.__dashjs_factory_name="SchemeLoaderFactory";const xi=S.Z.getSingletonFactory(qr);function Fr(y){y=y||{};var p,b,I=this.context;return p=xi(I).getInstance(),{load:function(R){if(!b){var O=p.getLoader(R&&R.request?R.request.url:null);b=O(I).create({errHandler:y.errHandler,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,dashMetrics:y.dashMetrics,boxParser:y.boxParser?y.boxParser:null,constants:y.constants?y.constants:null,dashConstants:y.dashConstants?y.dashConstants:null,urlUtils:y.urlUtils?y.urlUtils:null,requestTimeout:isNaN(y.requestTimeout)?0:y.requestTimeout,errors:y.errors})}b.load(R)},abort:function(){b&&b.abort()}}}Fr.__dashjs_factory_name="URLLoader";const Lt=S.Z.getClassFactory(Fr);function oi(y){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function On(y,p){return(On=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function Ji(y){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}const fa=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&On(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=Ji(p);if(b){var j=Ji(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function vr(y,p){return!p||"object"!==oi(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(O){var A;return function(j,J){if(!(j instanceof J))throw new TypeError("Cannot call a class as a function")}(this,R),(A=I.call(this,O)).checkForExistenceOnly=!0,A}return R}(G.Z);function Lo(y){var p,b,R=(y=y||{}).eventBus,O=y.events,A=y.urlUtils,j=y.errors,J=y.streamId;return p={checkForExistence:function(ie){var ee=function(re){R.trigger(O.CHECK_FOR_EXISTENCE_COMPLETED,{request:ie,exists:re})};if(ie){var V=new fa(ie.url);b.load({request:V,success:function(){ee(!0)},error:function(){ee(!1)}})}else ee(!1)},load:function(ie){var ee=function(V,re){R.trigger(O.LOADING_COMPLETED,{request:ie,response:V||null,error:re||null,sender:p})};ie?b.load({request:ie,progress:function(V){R.trigger(O.LOADING_PROGRESS,{request:ie,stream:V.stream,streamId:J}),V.data&&R.trigger(O.LOADING_DATA_PROGRESS,{request:ie,response:V.data||null,error:null,sender:p})},success:function(V){ee(V)},error:function(V,re,te){ee(void 0,new W.Z(j.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,te,re))},abort:function(V){V&&R.trigger(O.LOADING_ABANDONED,{mediaType:V.mediaType,request:V,sender:p})}}):ee(void 0,new W.Z(j.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,j.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){b&&b.abort()},reset:function(){b&&(b.abort(),b=null)}},b=Lt(this.context).create({errHandler:y.errHandler,errors:j,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,urlUtils:A,constants:d.Z,boxParser:y.boxParser,dashConstants:y.dashConstants,requestTimeout:y.settings.get().streaming.fragmentRequestTimeout}),p}Lo.__dashjs_factory_name="FragmentLoader";const ss=S.Z.getClassFactory(Lo);function Si(){return{modifyResponseAsync:function(y){return Promise.resolve(y)}}}Si.__dashjs_factory_name="SegmentResponseModifier";const yd=S.Z.getSingletonFactory(Si);function Pa(y){y=y||{};var p,b,I,R=this.context,O=(0,w.Z)(R).getInstance(),A=y.errHandler,j=y.mediaPlayerModel,J=y.dashMetrics,ie=(0,N.Z)(R).getInstance(),ee=yd(R).getInstance(),V=y.streamInfo;function re(){return V.id}function te(){for(var ye in I)I[ye].reset();I={}}function Ae(ye){if(ye.sender){var Te=ye.request,de=ye.response,z=Te.isInitializationRequest(),pe=Te.mediaInfo.streamInfo;if(ye.error&&(Te.mediaType===d.Z.AUDIO||Te.mediaType===d.Z.VIDEO||Te.mediaType===d.Z.TEXT&&Te.mediaInfo.isFragmented)&&O.trigger(m.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:ye.request.serviceLocation}),de&&pe){var ue=(_e=de,C=Te,Y=V.id,K=ye.type!==m.Z.FRAGMENT_LOADING_PROGRESS,(Z=new Ot).streamId=Y,Z.mediaInfo=C.mediaInfo,Z.segmentType=C.type,Z.start=C.startTime,Z.duration=C.duration,Z.end=Z.start+Z.duration,Z.bytes=_e,Z.index=C.index,Z.quality=C.quality,Z.representationId=C.representationId,Z.endFragment=K,Z);ee.modifyResponseAsync(ue).then(function(_e){O.trigger(z?m.Z.INIT_FRAGMENT_LOADED:m.Z.MEDIA_FRAGMENT_LOADED,{chunk:_e,request:Te},{streamId:pe.id,mediaType:Te.mediaType})}).catch(function(_e){b.error(_e),O.trigger(z?m.Z.INIT_FRAGMENT_LOADED:m.Z.MEDIA_FRAGMENT_LOADED,{chunk:ue,request:Te},{streamId:pe.id,mediaType:Te.mediaType})})}else b.warn("No "+Te.mediaType+" bytes to push or stream is inactive.")}var _e,C,Y,K,Z}return b=ie.getLogger(p={getStreamId:re,getModel:function(ye){var Te=I[ye];return Te||(Te=F(R).create({streamInfo:V,type:ye,dashMetrics:J,fragmentLoader:ss(R).create({dashMetrics:J,mediaPlayerModel:j,errHandler:A,requestModifier:(0,De.Z)(R).getInstance(),settings:y.settings,boxParser:y.boxParser,eventBus:O,events:m.Z,errors:ge,dashConstants:y.dashConstants,urlUtils:y.urlUtils,streamId:re()}),debug:ie,eventBus:O,events:m.Z}),I[ye]=Te),Te},reset:function(){O.off(h.Z.FRAGMENT_LOADING_COMPLETED,Ae,this),O.off(h.Z.FRAGMENT_LOADING_PROGRESS,Ae,this),te()}}),te(),O.on(h.Z.FRAGMENT_LOADING_COMPLETED,Ae,p),O.on(h.Z.FRAGMENT_LOADING_PROGRESS,Ae,p),p}Pa.__dashjs_factory_name="FragmentController";const Gc=S.Z.getClassFactory(Pa),as=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},vd=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function bd(y){var p,b,I=this.context,R=y.streamInfo;function O(j){b.setTrackByIndex(j)}function A(){b&&b.reset()}return p={getStreamId:function(){return R.id},initialize:function(){b.addTracks();var j=b.getTracks();j&&j.length>0&&O(0)},provide:function(j,J){if("function"==typeof J){var ee,V=b.getCurrentTrack();if(!V||V.segmentDuration<=0||null==j)J(null);else{(ee=b.getThumbnailRequestForTime(j))&&(V.segmentDuration=ee.duration);var re=Math.floor(j%V.segmentDuration*V.tilesHor*V.tilesVert/V.segmentDuration),te=new as;if(te.width=Math.floor(V.widthPerTile),te.height=Math.floor(V.heightPerTile),te.x=Math.floor(re%V.tilesHor)*V.widthPerTile,te.y=Math.floor(re/V.tilesHor)*V.heightPerTile,"readThumbnail"in V)return V.readThumbnail(j,function(ye){te.url=ye,J(te)});if(ee)te.url=ee.url,V.segmentDuration=NaN;else{var Ae=Math.floor(j/V.segmentDuration);te.url=(z=(0,_.vi)((ye=V).templateUrl,"Number",de=Ae+ye.startNumber),z=(0,_.vi)(z,"Time",(de-1)*ye.segmentDuration*ye.timescale),z=(0,_.vi)(z,"Bandwidth",ye.bandwidth),(0,_.eR)(z))}J(te)}}var ye,de,z},setTrackByIndex:O,getCurrentTrackIndex:function(){return b.getCurrentTrackIndex()},getBitrateList:function(){var j=b.getTracks(),J=0;return j.map(function(ie){var ee=new vd;return ee.mediaType=d.Z.IMAGE,ee.qualityIndex=J++,ee.bitrate=ie.bitrate,ee.width=ie.width,ee.height=ie.height,ee})},reset:A},A(),b=(0,en.Z)(I).create({streamInfo:R,adapter:y.adapter,baseURLController:y.baseURLController,timelineConverter:y.timelineConverter,debug:y.debug,eventBus:y.eventBus,events:y.events,dashConstants:y.dashConstants,dashMetrics:y.dashMetrics,segmentBaseController:y.segmentBaseController}),p}bd.__dashjs_factory_name="ThumbnailController";const Ph=S.Z.getClassFactory(bd);var qc=L(7417);function Yc(y){var p;y=y||{};var b=[],I=(0,w.Z)(this.context).getInstance(),R=y.updateEventName,O=y.addBlacklistEventName;function A(j){-1===b.indexOf(j)&&(b.push(j),I.trigger(R,{entry:j}))}return p={add:A,contains:function(j){return!!(b.length&&j&&j.length)&&-1!==b.indexOf(j)},reset:function(){b=[]}},O&&I.on(O,function(j){A(j.entry)},p),p}Yc.__dashjs_factory_name="BlackListController";const $c=S.Z.getClassFactory(Yc);var Ed=[d.Z.VIDEO,d.Z.AUDIO,d.Z.TEXT,d.Z.MUXED,d.Z.IMAGE];function Td(y){y=y||{};var p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,Te,de,z,pe=this.context,ue=(0,w.Z)(pe).getInstance(),_e=(0,Ge.Z)(pe).getInstance(),C=y.manifestModel,Y=y.mediaPlayerModel,K=y.dashMetrics,Z=y.manifestUpdater,U=y.adapter,ae=y.timelineConverter,le=y.capabilities,we=y.errHandler,B=y.abrController,X=y.playbackController,Re=y.eventController,Be=y.mediaController,je=y.protectionController,Je=y.textController,Pe=y.videoModel,nt=y.streamInfo,Bt=y.settings;function vt(Pt,Cn){return new Promise(function(wn,vn){lt(),ee=!0,kt();var mt=Pe.getElement(),Ht=[];Ed.forEach(function(dt){(dt!==d.Z.TEXT||Pt)&&(dt!==d.Z.VIDEO||!mt||mt&&/^VIDEO$/i.test(mt.nodeName))&&Ht.push(Dt(dt,Pt))}),Promise.all(Ht).then(function(){return dt=Cn,new Promise(function(Ze){var Ee={},ot=I.map(function(It){return It.createBufferSinks(dt)});Promise.all(ot).then(function(It){It.forEach(function(Jt){Jt&&(Ee[Jt.getType()]=Jt)}),Ze(Ee)}).catch(function(){Ze(Ee)})});var dt}).then(function(dt){if(ee=!1,0===I.length){var Ze="No streams to play.";we.error(new W.Z(ge.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ze,C.getValue())),b.fatal(Ze)}else Yt();Pt&&Je.createTracks(nt),wn(dt)}).catch(function(dt){vn(dt)})})}function Dt(Pt,Cn){var wn,vn=U.getAllMediaInfoForType(nt,Pt),mt=[],Ht=null;if(!vn||0===vn.length)return b.info("No "+Pt+" data."),Promise.resolve();Pt===d.Z.VIDEO&&(j=!0),Pt===d.Z.AUDIO&&(J=!0);for(var dt=0,Ze=vn.length;dt<Ze;dt++)Ht=vn[dt],Pt===d.Z.TEXT&&Ht.isEmbedded&&(Je.addEmbeddedTrack(nt,Ht),mt.push(Ht)),qt(Ht)&&Be.addTrack(Ht);if(mt.length>0&&(Be.setInitialMediaSettingsForType(Pt,nt),Je.addMediaInfosToBuffer(nt,Pt,mt)),0===(vn=vn.filter(function(ot){return!ot.isEmbedded})).length)return Promise.resolve();if(Pt===d.Z.IMAGE)return(re=Ph(pe).create({streamInfo:nt,adapter:U,baseURLController:y.baseURLController,timelineConverter:y.timelineConverter,debug:Te,eventBus:ue,events:m.Z,dashConstants:f.Z,dashMetrics:y.dashMetrics,segmentBaseController:y.segmentBaseController})).initialize(),Promise.resolve();ue.trigger(m.Z.STREAM_INITIALIZING,{streamInfo:nt,mediaInfo:Ht}),Be.setInitialMediaSettingsForType(Pt,nt);var Ee=function(ot,It){var Jt=ot&&ot.length>0?ot[0]:null,En=V.getModel(Jt?Jt.type:null),Jn=Jt?Jt.type:null,Wr=Jt?Jt.mimeType:null,to=Jt?Jt.isFragmented:null,Zr=Tt(pe).create({streamInfo:nt,type:Jn,mimeType:Wr,timelineConverter:ae,adapter:U,manifestModel:C,mediaPlayerModel:Y,fragmentModel:En,dashMetrics:y.dashMetrics,baseURLController:y.baseURLController,segmentBaseController:y.segmentBaseController,abrController:B,playbackController:X,mediaController:Be,textController:Je,errHandler:we,settings:Bt,boxParser:ye,segmentBlacklistController:te});Zr.initialize(It,j,to),I.push(Zr);for(var Ao=0;Ao<ot.length;Ao++)Zr.addMediaInfo(ot[Ao]);return Jn===d.Z.TEXT&&Je.addMediaInfosToBuffer(nt,Jn,ot,En),Zr}(vn,Cn);return(wn=Be.getCurrentTrackFor(Pt,nt.id))?(B.updateTopQualityIndex(wn),Ee.selectMediaInfo(Pt===d.Z.TEXT&&wn.isEmbedded?vn[0]:wn)):Promise.resolve()}function qt(Pt){var wn=Pt?Pt.type:null;return wn===d.Z.MUXED?(b.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),we.error(new W.Z(ge.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",C.getValue())),!1):!(wn!==d.Z.TEXT&&wn!==d.Z.IMAGE&&Pt.contentProtection&&!le.supportsEncryptedMedia()&&(we.error(new W.Z(ge.CAPABILITY_MEDIAKEYS_ERROR_CODE,ge.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function tn(Pt){for(var Cn=I?I.length:0,wn=0;wn<Cn;wn++){var vn=I[wn].getFragmentModel();vn.abortRequests(),vn.resetInitialSettings(),I[wn].reset(!1,Pt)}Je&&Je.deactivateStream(nt),I=[],O=!1,A=!1,ir(!1),Se(!1),ue.trigger(m.Z.STREAM_DEACTIVATED,{streamInfo:nt})}function Le(Pt){tn(Pt),R=!1,j=!1,J=!1,ie={},ee=!1,de=!1,z=[]}function Se(Pt){de=Pt}function Qe(){return nt?nt.start:NaN}function Oe(){return nt?nt.id:null}function et(){return nt}function lt(){if(!Pe||!B)throw new Error(d.Z.MISSING_CONFIG_ERROR)}function pt(Pt){Pt.error&&(we.error(Pt.error),b.fatal(Pt.error.message))}function kt(){if(Re){var Pt=U.getEventsFor(nt);Pt&&Pt.length>0&&Re.addInlineEvents(Pt,nt.id)}}function Yt(){for(var Pt=I.length,Cn=ie.audio||ie.video?new W.Z(ge.DATA_UPDATE_FAILED_ERROR_CODE,ge.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,wn=0;wn<Pt;wn++)if(I[wn].isUpdating()||ee)return;if(je){je.clearMediaInfoArray();for(var vn=0;vn<Pt&&I[vn];vn++){var mt=I[vn].getType(),Ht=I[vn].getMediaInfo();if(mt===d.Z.AUDIO||mt===d.Z.VIDEO||mt===d.Z.TEXT&&Ht.isFragmented){var dt=I[vn].getMediaInfo();dt&&je.initializeForMedia(dt)}}je.handleKeySystemFromManifest()}Cn?we.error(Cn):R||(R=!0,Pe.waitForReadyState(d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){ue.trigger(m.Z.STREAM_INITIALIZED,{streamInfo:nt})}))}function Mn(){var Pt=tr(),Cn=Pt.length;if(0!==Cn){for(var wn=0;wn<Cn;wn++)if(!Pt[wn].isBufferingCompleted()&&(Pt[wn].getType()===d.Z.AUDIO||Pt[wn].getType()===d.Z.VIDEO))return void b.debug("onBufferingCompleted - One streamProcessor has finished but",Pt[wn].getType(),"one is not buffering completed");b.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),A=!0,ue.trigger(m.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:nt},{streamInfo:nt})}else b.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function gn(Pt){ie[Pt.mediaType]=Pt.error,Yt()}function hn(Pt){Re&&Re.addInbandEvents(Pt.events,nt.id)}function ln(Pt){return Pt&&Pt.type?Rn(Pt.type):null}function Rn(Pt){return Pt?tr().filter(function(Cn){return Cn.getType()===Pt})[0]:null}function tr(){for(var Pt,Cn,wn=[],vn=0;vn<I.length;vn++)(Pt=(Cn=I[vn]).getType())!==d.Z.AUDIO&&Pt!==d.Z.VIDEO&&Pt!==d.Z.TEXT||wn.push(Cn);return wn}function sr(Pt,Cn){var wn=et(),vn=Cn.getStreamInfo();if(!vn||!wn)return!0;var mt=U.getAdaptationForType(vn.index,Pt,vn),Ht=U.getAdaptationForType(wn.index,Pt,wn);return mt&&Ht?!(!Wn(Ht)&&Wn(mt)):!mt&&!Ht}function Wn(Pt){return!!Pt&&!!(Pt.ContentProtection||Pt.Representation_asArray&&Pt.Representation_asArray.length>0&&Pt.Representation_asArray[0].ContentProtection)}function mr(Pt,Cn){var wn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Pt||!Pt.hasOwnProperty("getStreamInfo"))return!1;var vn=Pt.getStreamInfo(),mt=wn?wn.getStreamInfo():et();if(!vn||!mt)return!1;var Ht=U.getAdaptationForType(vn.index,Cn,vn),dt=U.getAdaptationForType(mt.index,Cn,mt);if(!Ht||!dt)return!Ht&&!dt;var Ze=Ht&&dt&&Ht.mimeType===dt.mimeType,Ee=dt.Representation_asArray.map(function(En){return En.codecs}),ot=Ht.Representation_asArray.map(function(En){return En.codecs}),It=ot.some(function(En){return Ee.indexOf(En)>-1}),Jt=ot.some(function(En){return Ee.some(function(Jn){return le.codecRootCompatibleWithCodec(Jn,En)})});return It||Jt&&Ze}function ir(Pt){Ae=Pt}function hr(){return Ae}return p={initialize:function(){ue.on(m.Z.BUFFERING_COMPLETED,Mn,p),ue.on(m.Z.DATA_UPDATE_COMPLETED,gn,p),ue.on(m.Z.INBAND_EVENTS,hn,p),je&&(ue.on(m.Z.KEY_ERROR,pt,p),ue.on(m.Z.SERVER_CERTIFICATE_UPDATED,pt,p),ue.on(m.Z.LICENSE_REQUEST_COMPLETE,pt,p),ue.on(m.Z.KEY_SYSTEM_SELECTED,pt,p),ue.on(m.Z.KEY_SESSION_CREATED,pt,p),ue.on(m.Z.KEY_STATUSES_CHANGED,pt,p)),Je.initializeForStream(nt),ue.trigger(m.Z.STREAM_UPDATED,{streamInfo:nt})},getStreamId:function(){return nt?nt.id:null},activate:function(Pt,Cn){return new Promise(function(wn,vn){if(!O)return hr()?(O=!0,ue.trigger(m.Z.STREAM_ACTIVATED,{streamInfo:nt}),void wn(Cn)):void(mt=Pt,Ht=Cn,vt(mt,Ht)).then(function(mt){O=!0,ue.trigger(m.Z.STREAM_ACTIVATED,{streamInfo:nt}),wn(mt)}).catch(function(mt){vn(mt)});var mt,Ht;wn(Cn)})},deactivate:tn,getIsActive:function(){return O},getDuration:function(){return nt?nt.duration:NaN},getStartTime:Qe,getId:Oe,getStreamInfo:et,getHasAudioTrack:function(){return J},getHasVideoTrack:function(){return j},startPreloading:function(Pt,Cn){return new Promise(function(wn,vn){hr()?vn():(b.info("[startPreloading] Preloading next stream with id ".concat(Oe())),ir(!0),vt(Pt,Cn).then(function(){for(var mt=0;mt<I.length&&I[mt];mt++)I[mt].setExplicitBufferingTime(Qe()),I[mt].getScheduleController().startScheduleTimer();wn()}).catch(function(){ir(!1),vn()}))})},initializeForTextWithMediaSource:function(Pt){return new Promise(function(Cn,wn){Dt(d.Z.TEXT,Pt).then(function(){return(vn=Rn(d.Z.TEXT))?vn.createBufferSinks():Promise.resolve();var vn}).then(function(){Je.createTracks(nt),Cn()}).catch(function(vn){wn(vn)})})},getThumbnailController:function(){return re},getBitrateListFor:function(Pt){if(lt(),Pt===d.Z.IMAGE)return re?re.getBitrateList():[];var Cn=function(wn){for(var vn=null,mt=0;mt<I.length;mt++)if((vn=I[mt]).getType()===wn)return vn.getMediaInfo();return null}(Pt);return B.getBitrateList(Cn)},updateData:function(Pt){return new Promise(function(Cn){ee=!0,nt=Pt,Re&&kt();for(var wn=[],vn=0,mt=I.length;vn<mt;vn++){var Ht=I[vn],dt=Ht.getMediaInfo();wn.push(Ht.updateStreamInfo(nt));var Ze=U.getAllMediaInfoForType(nt,Ht.getType());if(Ze=Ze.filter(function(It){return!It.isEmbedded})){Ht.clearMediaInfoArray();for(var Ee=0;Ee<Ze.length;Ee++){var ot=Ze[Ee];Ht.addMediaInfo(Ze[Ee]),U.areMediaInfosEqual(dt,ot)&&(B.updateTopQualityIndex(ot),wn.push(Ht.selectMediaInfo(ot)))}}}Promise.all(wn).then(function(){for(wn=[];z.length>0;){var It=z.pop(),Jt=It.newMediaInfo,En=ln(It.oldMediaInfo);if(!En)return;wn.push(En.prepareTrackSwitch()),wn.push(En.selectMediaInfo(Jt))}return Promise.all(wn)}).then(function(){ee=!1,Yt(),ue.trigger(m.Z.STREAM_UPDATED,{streamInfo:nt}),Cn()})})},reset:function(Pt){V&&(V.reset(),V=null),B&&nt&&B.clearDataForStream(nt.id),te&&(te.reset(),te=null),Le(Pt),nt=null,ue.off(m.Z.DATA_UPDATE_COMPLETED,gn,p),ue.off(m.Z.BUFFERING_COMPLETED,Mn,p),ue.off(m.Z.INBAND_EVENTS,hn,p),je&&(ue.off(m.Z.KEY_ERROR,pt,p),ue.off(m.Z.SERVER_CERTIFICATE_UPDATED,pt,p),ue.off(m.Z.LICENSE_REQUEST_COMPLETE,pt,p),ue.off(m.Z.KEY_SYSTEM_SELECTED,pt,p),ue.off(m.Z.KEY_SESSION_CREATED,pt,p),ue.off(m.Z.KEY_STATUSES_CHANGED,pt,p))},getProcessors:tr,setMediaSource:function(Pt){return new Promise(function(Cn,wn){for(var vn=[],mt=0;mt<I.length;)qt(I[mt].getMediaInfo())?(vn.push(I[mt].setMediaSource(Pt)),mt++):(I[mt].reset(),I.splice(mt,1));Promise.all(vn).then(function(){for(var Ht=0;Ht<I.length;Ht++)I[Ht].dischargePreBuffer();if(0===I.length){var dt="No streams to play.";we.error(new W.Z(ge.MANIFEST_ERROR_ID_NOSTREAMS_CODE,dt+"nostreams",C.getValue())),b.fatal(dt)}Cn()}).catch(function(Ht){b.error(Ht),wn(Ht)})})},isMediaCodecCompatible:function(Pt){var Cn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return mr(Pt,d.Z.VIDEO,Cn)&&mr(Pt,d.Z.AUDIO,Cn)},isProtectionCompatible:function(Pt){return!Pt||sr(d.Z.VIDEO,Pt)&&sr(d.Z.AUDIO,Pt)},getPreloaded:hr,getIsEndedEventSignaled:function(){return de},setIsEndedEventSignaled:Se,getAdapter:function(){return U},getHasFinishedBuffering:function(){return A},setPreloaded:ir,startScheduleControllers:function(){for(var Pt=I.length,Cn=0;Cn<Pt&&I[Cn];Cn++)I[Cn].getScheduleController().startScheduleTimer()},prepareTrackChange:function(Pt){if(O&&nt){A=!1;var Cn=Pt.newMediaInfo,wn=C.getValue();U.setCurrentMediaInfo(nt.id,Cn.type,Cn);var vn=ln(Cn);if(vn){var mt=X.getTime();b.info("Stream -  Process track changed at current time "+mt),wn.refreshManifestOnSwitchTrack?(z.push(Pt),Z.getIsUpdating()||(b.debug("Stream -  Refreshing manifest for switch track"),Z.refreshManifest())):vn.selectMediaInfo(Cn).then(function(){Cn.type!==d.Z.VIDEO&&Cn.type!==d.Z.AUDIO||B.updateTopQualityIndex(Cn),vn.prepareTrackSwitch()})}}},prepareQualityChange:function(Pt){var Cn=Rn(Pt.mediaType);Cn&&Cn.prepareQualityChange(Pt)}},function(){try{Te=(0,N.Z)(pe).getInstance(),b=Te.getLogger(p),Le(),ye=(0,qc.Z)(pe).getInstance(),te=$c(pe).create({updateEventName:m.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),V=Gc(pe).create({streamInfo:nt,mediaPlayerModel:Y,dashMetrics:K,errHandler:we,settings:Bt,boxParser:ye,dashConstants:f.Z,urlUtils:_e})}catch(Pt){throw Pt}}(),p}Td.__dashjs_factory_name="Stream";const bo=S.Z.getClassFactory(Td),Br=function y(p){(function(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")})(this,y),this.url=p||null,this.type=Ve.w.CONTENT_STEERING_TYPE,this.responseType="json"},Xr=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function ka(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye=this.context,Te=(0,Ge.Z)(ye).getInstance();function de(B){C(B,"baseUrl")}function z(B){C(B,"location")}function pe(B){if(B&&B.request&&B.request.serviceLocation&&B.request.requestStartDate&&B.request.requestEndDate&&!isNaN(B.request.bytesTotal)){var X=B.request.serviceLocation,Re=B.request.requestEndDate.getTime()-B.request.requestStartDate.getTime();_e(X,parseInt(8*B.request.bytesTotal/Re*1e3))}}function ue(B){B&&B.httpRequest&&B.httpRequest._serviceLocation&&!isNaN(B.throughput)&&_e(B.httpRequest._serviceLocation,1e3*B.throughput)}function _e(B,X){R[B]||(R[B]=[]),R[B].push(X),R[B].length>4&&R[B].shift()}function C(B,X){if(B&&B.request&&B.request.serviceLocation){var Re=B.request.serviceLocation;-1===I[X].all.indexOf(Re)&&I[X].all.push(Re),I[X].current=Re}}function Y(){var B=ee.getValue(),X=Ae.getContentSteering(B);return X||(X=re.getServiceDescriptionSettings().contentSteering),X}function K(){return new Promise(function(B){try{var X=Y();if(!X||!X.serverUrl)return void B();var Re=function(je){var Je=je.serverUrl;b&&b.reloadUri&&(Je=Te.isRelative(b.reloadUri)?Te.resolve(b.reloadUri,je.serverUrl):b.reloadUri);var Pe=[],nt=I.baseUrl.all.concat(I.location.all);if(nt.length>0){var Bt=nt.map(function(qt){return{serviceLocation:qt,throughput:function(Le){if(!Le||!R[Le]||0===R[Le].length)return-1;var Se=R[Le].reduce(function(Qe,Oe){return Qe+Oe})/R[Le].length;return parseInt(Se)}(qt)}});Bt.sort(function(qt,tn){return tn.throughput-qt.throughput});var vt="",Dt="";Bt.forEach(function(qt,tn){0!==tn&&(vt="".concat(vt,","),qt.throughput>-1&&(Dt="".concat(Dt,","))),vt="".concat(vt).concat(qt.serviceLocation),qt.throughput>-1&&(Dt="".concat(Dt).concat(qt.throughput))}),Pe.push({key:"_DASH_pathway",value:'"'.concat(vt,'"')}),Pe.push({key:"_DASH_throughput",value:Dt})}return er.Z.addAditionalQueryParameterToUrl(Je,Pe)}(X),Be=new Br(Re);A.load({request:Be,success:function(je){var Je;(Je=je)&&Je[f.Z.CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(Je[f.Z.CONTENT_STEERING_RESPONSE.VERSION])&&((b=new Xr).version=Je[f.Z.CONTENT_STEERING_RESPONSE.VERSION],Je[f.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Je[f.Z.CONTENT_STEERING_RESPONSE.TTL])&&(b.ttl=Je[f.Z.CONTENT_STEERING_RESPONSE.TTL]),Je[f.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(b.reloadUri=Je[f.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Je[f.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(b.pathwayPriority=Je[f.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Je[f.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(b.pathwayClones=Je[f.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],b.pathwayClones=b.pathwayClones.filter(function(Pe){return(nt=Pe)[f.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&nt[f.Z.CONTENT_STEERING_RESPONSE.ID]&&nt[f.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&nt[f.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][f.Z.CONTENT_STEERING_RESPONSE.HOST];var nt})),ae()),te.trigger(h.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:b,url:Re}),B()},error:function(je,Je,Pe,nt){(function(Bt,vt){try{switch(p.warn("Error fetching data from content steering server",Bt),vt.status){case 410:break;case 429:var Dt=vt&&vt.getResponseHeader?vt.getResponseHeader("retry-after"):null;null!==Dt&&(b||(b={}),b.ttl=parseInt(Dt)),ae();break;default:ae()}}catch(qt){p.error(qt)}})(je,nt),B(je)},complete:function(){I.baseUrl.all=Z(I.baseUrl),I.location.all=Z(I.location)}})}catch(je){B(je)}})}function Z(B){return B.all&&0!==B.all.length&&B.current?B.all.filter(function(X){return X===B.current}):[]}function U(B){try{var X=[];return B&&0!==B.length&&b&&b.pathwayClones&&0!==b.pathwayClones.length&&b.pathwayClones.forEach(function(Re){var Be=B.filter(function(nt){return Re[f.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===nt.serviceLocation}),je=null;if(Be&&Be.length>0&&(je=Be[0]),je){var Je=new URL(je.url),Pe={synthesizedUrl:"".concat(Re[f.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][f.Z.CONTENT_STEERING_RESPONSE.HOST]).concat(Je.pathname),serviceLocation:Re[f.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:Re[f.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][f.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:je};X.push(Pe)}}),X}catch(Re){return p.error(Re),[]}}function ae(){b&&b.ttl&&!isNaN(b.ttl)&&(O&&clearTimeout(O),O=setTimeout(function(){K()},1e3*b.ttl))}function le(){O&&clearTimeout(O),O=null}function we(){b=null,R={},I={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},le()}return y={reset:function(){we(),te.off(h.Z.FRAGMENT_LOADING_STARTED,de,y),te.off(h.Z.MANIFEST_LOADING_STARTED,z,y),te.off(h.Z.MANIFEST_LOADING_FINISHED,pe,y),te.off(h.Z.THROUGHPUT_MEASUREMENT_STORED,ue,y)},setConfig:function(B){B&&(B.adapter&&(Ae=B.adapter),B.errHandler&&(j=B.errHandler),B.dashMetrics&&(J=B.dashMetrics),B.mediaPlayerModel&&(ie=B.mediaPlayerModel),B.requestModifier&&(V=B.requestModifier),B.manifestModel&&(ee=B.manifestModel),B.serviceDescriptionController&&(re=B.serviceDescriptionController),B.eventBus&&(te=B.eventBus))},loadSteeringData:K,getCurrentSteeringResponseData:function(){return b},shouldQueryBeforeStart:function(){var B=Y();return!!B&&B.queryBeforeStart},getSteeringDataFromManifest:Y,stopSteeringRequestTimer:le,getSynthesizedBaseUrlElements:function(B){try{return U(B).map(function(X){var Re=new vo(X.synthesizedUrl,X.serviceLocation);return Re.queryParams=X.queryParams,Re.dvb_priority=X.reference.dvb_priority,Re.dvb_weight=X.reference.dvb_weight,Re.availabilityTimeOffset=X.reference.availabilityTimeOffset,Re.availabilityTimeComplete=X.reference.availabilityTimeComplete,Re})}catch(X){return p.error(X),[]}},getSynthesizedLocationElements:function(B){try{return U(B).map(function(X){var Re=new Sn(X.synthesizedUrl,X.serviceLocation);return Re.queryParams=X.queryParams,Re})}catch(X){return p.error(X),[]}},initialize:function(){A=Lt(ye).create({errHandler:j,dashMetrics:J,mediaPlayerModel:ie,requestModifier:V,errors:ge}),te.on(h.Z.FRAGMENT_LOADING_STARTED,de,y),te.on(h.Z.MANIFEST_LOADING_STARTED,z,y),te.on(h.Z.MANIFEST_LOADING_FINISHED,pe,y),te.on(h.Z.THROUGHPUT_MEASUREMENT_STORED,ue,y)}},p=(0,N.Z)(ye).getInstance().getLogger(y),we(),y}ka.__dashjs_factory_name="ContentSteeringController";const Fa=S.Z.getSingletonFactory(ka);function an(){var y,p,b,I=this.context,R=(0,Rt.Z)(I).getInstance();return y={select:function(O){if(!O||0===O.length)return null;var j,J,A=null;return R.get().streaming.applyContentSteering&&(j=O,A=(J=b.getCurrentSteeringResponseData())&&J.pathwayPriority&&J.pathwayPriority.length>0?function(){for(var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],V=0,re=null,te=function(){var Ae=ie[V],ye=ee.findIndex(function(Te){return Te.serviceLocation&&Te.serviceLocation===Ae});if(-1!==ye&&!p.contains(ee[ye].serviceLocation))return re=ee[ye],"break";V+=1};V<ie.length&&"break"!==te(););return re}(J.pathwayPriority,j):null),A||(A=function(j){return j[0]}(O)),A},setConfig:function(O){O.blacklistController&&(p=O.blacklistController),O.contentSteeringController&&(b=O.contentSteeringController)},reset:function(){p.reset()}},p=$c(I).create({updateEventName:m.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),b=Fa(I).getInstance(),y}an.__dashjs_factory_name="LocationSelector";const kh=S.Z.getClassFactory(an);function Ir(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae=this.context,ye=(0,w.Z)(Ae).getInstance(),Te=(0,Ge.Z)(Ae).getInstance();function de(){b=NaN,A=!1,R=!0,O=!1,z()}function z(){null!==I&&(clearTimeout(I),I=null)}function pe(le){z(),O||(isNaN(le)&&!isNaN(b)&&(le=1e3*b),isNaN(le)||(p.debug("Refresh manifest in "+le+" milliseconds."),I=setTimeout(Y,le)))}function ue(){var le=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A=!0;var we=J.getValue(),B=we.url,X=null,Re=ee.getPatchLocation(we),Be=ie.select(Re),je=null;if(Be&&!le)B=Be.url,X=Be.serviceLocation,je=Be.queryParams;else{var Je=function _e(le){var we=ee.getLocation(le),B=re.getSynthesizedLocationElements(we);return we.concat(B)}(we),Pe=ie.select(Je);Pe&&(B=Pe.url,X=Pe.serviceLocation,je=Pe.queryParams)}Te.isRelative(B)&&(B=Te.resolve(B,we.url)),j.load(B,X,je)}function C(le){if(le){if(ee.getIsPatch(le)){var we=le;le=J.getValue();var B=ee.isPatchValid(le,we),X=B;if(B){var Re=ee.getPublishTime(le);X=ee.applyPatchToManifest(le,we);var Be=ee.getPublishTime(le);X=Re.getTime()!=Be.getTime()}if(!X)return p.debug("Patch provided is invalid, performing full manifest refresh"),void ue(!0);le.loadedTime=new Date}}else(le=J.getValue()).loadedTime=new Date;if(J.getValue()&&J.getValue().type===f.Z.DYNAMIC&&le.type===f.Z.STATIC)return ye.trigger(m.Z.DYNAMIC_TO_STATIC),A=!1,void(O=!0);J.setValue(le);var je=new Date,Je=(je.getTime()-le.loadedTime.getTime())/1e3;1e3*(b=ee.getManifestUpdatePeriod(le,Je))>2147483647&&(b=2147483.647),ye.trigger(m.Z.MANIFEST_UPDATED,{manifest:le}),p.info("Manifest has been refreshed at "+je+"["+je.getTime()/1e3+"] "),R||pe()}function Y(){R||(A?pe(te.get().streaming.manifestUpdateRetryInterval):ue())}function K(le){le.error?le.error.code===ge.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&V.error(le.error):C(le.manifest)}function Z(){R=!1,pe()}function U(){(R=!te.get().streaming.scheduling.scheduleWhilePaused)&&z()}function ae(){A=!1}return y={initialize:function(){de(),ye.on(m.Z.STREAMS_COMPOSED,ae,this),ye.on(h.Z.PLAYBACK_STARTED,Z,this),ye.on(h.Z.PLAYBACK_PAUSED,U,this),ye.on(m.Z.INTERNAL_MANIFEST_LOADED,K,this)},setManifest:function(le){C(le)},refreshManifest:ue,getIsUpdating:function(){return A},setConfig:function(le){le&&(le.manifestModel&&(J=le.manifestModel),le.adapter&&(ee=le.adapter),le.manifestLoader&&(j=le.manifestLoader),le.errHandler&&(V=le.errHandler),le.locationSelector&&(ie=le.locationSelector),le.settings&&(te=le.settings),le.contentSteeringController&&(re=le.contentSteeringController))},reset:function(){ye.off(h.Z.PLAYBACK_STARTED,Z,this),ye.off(h.Z.PLAYBACK_PAUSED,U,this),ye.off(m.Z.STREAMS_COMPOSED,ae,this),ye.off(m.Z.INTERNAL_MANIFEST_LOADED,K,this),de()}},p=(0,N.Z)(Ae).getInstance().getLogger(y),ie=kh(Ae).create(),y}Ir.__dashjs_factory_name="ManifestUpdater";const La=S.Z.getClassFactory(Ir);function As(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,Te=this.context,de=(0,w.Z)(Te).getInstance(),z=(0,Ge.Z)(Te).getInstance();function pe(){j=[],J=[],ie=null,ee=null,re=null,V=NaN,b=!1,I=!1,te=R.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function ue(){R.get().streaming.utcSynchronization.enabled&&!b&&!I&&re&&re.value&&re.schemeIdUri&&!isNaN(V)&&!isNaN(R.get().streaming.utcSynchronization.backgroundAttempts)&&(ee&&(Date.now()-ee)/1e3<30||(j=[],I=!0,_e(isNaN(R.get().streaming.utcSynchronization.backgroundAttempts)?2:R.get().streaming.utcSynchronization.backgroundAttempts)))}function _e(Pe){try{if(Pe<=0)return void je();var nt=Date.now();O[re.schemeIdUri](re.value,function(Bt){var vt=Date.now(),Dt=Y(nt,vt,Bt);j.push(Dt),_e(Pe-1)},function(){je()})}catch{je()}}function C(){var nt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!J||0===J.length||nt>=J.length)K();else{var Bt=J[nt];if(Bt)if(O.hasOwnProperty(Bt.schemeIdUri)){var vt=(new Date).getTime();O[Bt.schemeIdUri](Bt.value,function(Dt){var qt=(new Date).getTime(),tn=Y(vt,qt,Dt);re=Bt,K(tn)},function(){C(nt+1)})}else C(nt+1);else K()}}function Y(Pe,nt,Bt){return Bt-(nt-(nt-Pe)/2)}function K(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,nt=isNaN(Pe);nt&&R.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function Re(){var Pe=A.getLatestMPDRequestHeaderValueByID("Date"),nt=null!==Pe?new Date(Pe).getTime():Number.NaN;isNaN(nt)?Be(!0):Be(!1,nt-Date.now())}():Be(nt,Pe)}function Z(Pe){var vt,Dt,qt,nt=Date.parse(Pe);return isNaN(nt)&&(qt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Pe),vt=Date.UTC(parseInt(qt[1],10),parseInt(qt[2],10)-1,parseInt(qt[3],10),parseInt(qt[4],10),parseInt(qt[5],10),qt[6]&&(parseInt(qt[6],10)||0),qt[7]&&1e3*parseFloat(qt[7])||0),qt[9]&&qt[10]&&(Dt=60*parseInt(qt[9],10)+parseInt(qt[10],10),vt+=("+"===qt[8]?-1:1)*Dt*60*1e3),nt=new Date(vt).getTime()),nt}function U(Pe){return Date.parse(Pe)}function ae(Pe){return Date.parse(Pe)}function le(Pe,nt,Bt){Bt()}function we(Pe,nt,Bt){var vt=Z(Pe);isNaN(vt)?Bt():nt(vt)}function B(Pe,nt,Bt,vt,Dt){var qt,tn,Le=!1,Se=new XMLHttpRequest,Qe=Dt?Ve.w.HEAD:Ve.w.GET,Oe=nt.match(/\S+/g);if(nt=Oe.shift(),qt=function(){Le||(Le=!0,Oe.length?B(Pe,Oe.join(" "),Bt,vt,Dt):vt())},tn=function(){var lt,pt;200===Se.status&&(lt=Dt?Se.getResponseHeader("Date"):Se.response,pt=Pe(lt),isNaN(pt)||(Bt(pt),Le=!0))},z.isRelative(nt)){var et=ye.resolve();et&&(nt=z.resolve(nt,et.url))}Se.open(Qe,nt),Se.timeout=5e3,Se.onload=tn,Se.onloadend=qt,Se.send()}function X(Pe,nt,Bt){B(ae,Pe,nt,Bt,!0)}function Be(Pe,nt){if(isNaN(V)||isNaN(nt)||Pe||function(vt){try{var Dt,qt=Je(vt),tn=isNaN(te)?30:te,Le=isNaN(R.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:R.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Se=isNaN(R.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:R.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Qe=isNaN(R.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:R.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;qt?(Dt=Math.min(tn*Le,Se),p.debug("Increasing timeBetweenSyncAttempts to ".concat(Dt))):(Dt=Math.max(tn/Le,Qe),p.debug("Decreasing timeBetweenSyncAttempts to ".concat(Dt))),te=Dt}catch{}}(nt),!Pe&&!isNaN(nt)){ie=Date.now(),b=!1;var Bt=isNaN(V);V=nt,Bt&&ue(),p.debug("Completed UTC sync. Setting client - server offset to ".concat(nt))}Pe&&(re=null,b=!1,Ae.error(new W.Z(ge.TIME_SYNC_FAILED_ERROR_CODE,ge.TIME_SYNC_FAILED_ERROR_MESSAGE))),de.trigger(m.Z.UPDATE_TIME_SYNC_OFFSET,{offset:nt}),de.trigger(m.Z.TIME_SYNCHRONIZATION_COMPLETED)}function je(){if(j&&0!==j.length){var Pe=j.reduce(function(nt,Bt){return nt+Bt},0)/j.length;Je(Pe)?p.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(p.debug("Completed background UTC sync. Setting client - server offset to ".concat(Pe)),de.trigger(m.Z.UPDATE_TIME_SYNC_OFFSET,{offset:V=Pe})),I=!1,ee=Date.now()}}function Je(Pe){try{if(isNaN(V))return!0;var nt=R.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(R.get().streaming.utcSynchronization.maximumAllowedDrift)?R.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Pe>=V-nt&&Pe<=V+nt}catch{return!0}}return y={initialize:function(){pe(),O={"urn:mpeg:dash:utc:http-head:2014":X,"urn:mpeg:dash:utc:http-xsdate:2014":B.bind(null,Z),"urn:mpeg:dash:utc:http-iso:2014":B.bind(null,U),"urn:mpeg:dash:utc:direct:2014":we,"urn:mpeg:dash:utc:http-head:2012":X,"urn:mpeg:dash:utc:http-xsdate:2012":B.bind(null,Z),"urn:mpeg:dash:utc:http-iso:2012":B.bind(null,U),"urn:mpeg:dash:utc:direct:2012":we,"urn:mpeg:dash:utc:http-ntp:2014":le,"urn:mpeg:dash:utc:ntp:2014":le,"urn:mpeg:dash:utc:sntp:2014":le}},attemptSync:function(Pe,nt){J=Pe,b||(function(Bt){try{if(!Bt||!R.get().streaming.utcSynchronization.enabled)return!1;var vt=isNaN(te)?30:te;return!(ie&&vt&&!isNaN(vt))||(Date.now()-ie)/1e3>=vt}catch{return!0}}(nt)?(b=!0,C()):de.trigger(m.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Pe){Pe&&(Pe.dashMetrics&&(A=Pe.dashMetrics),Pe.baseURLController&&(ye=Pe.baseURLController),Pe.errHandler&&(Ae=Pe.errHandler),Pe.settings&&(R=Pe.settings))},reset:function(){pe(),de.off(m.Z.ATTEMPT_BACKGROUND_SYNC,ue,y)}},p=(0,N.Z)(Te).getInstance().getLogger(y),de.on(m.Z.ATTEMPT_BACKGROUND_SYNC,ue,y),y}As.__dashjs_factory_name="TimeSyncController";var _l=S.Z.getSingletonFactory(As);_l.HTTP_TIMEOUT_MS=5e3,S.Z.updateSingletonFactory(As.__dashjs_factory_name,_l);const Bg=_l;function wd(){var y,p,b;return y={createMediaSource:function(){var R="WebKitMediaSource"in window;return"MediaSource"in window?p=new MediaSource:R&&(p=new WebKitMediaSource),p},attachMediaSource:function(R){var O=window.URL.createObjectURL(p);return R.setSource(O),O},detachMediaSource:function(R){R.setSource(null)},setDuration:function R(O){p&&"open"===p.readyState&&(null===O&&isNaN(O)||p.duration!==O&&(function(A){for(var j=A.sourceBuffers,J=0;J<j.length;J++)if(j[J].updating)return!0;return!1}(p)?setTimeout(R.bind(null,O),50):(b.info("Set MediaSource duration:"+O),p.duration=O)))},setSeekable:function(R,O){p&&"function"==typeof p.setLiveSeekableRange&&"function"==typeof p.clearLiveSeekableRange&&"open"===p.readyState&&R>=0&&R<O&&(p.clearLiveSeekableRange(),p.setLiveSeekableRange(R,O))},signalEndOfStream:function(R){if(R&&"open"===R.readyState){for(var O=R.sourceBuffers,A=0;A<O.length;A++)if(O[A].updating||0===O[A].buffered.length)return;b.info("call to mediaSource endOfStream"),R.endOfStream()}}},b=(0,N.Z)(this.context).getInstance().getLogger(y),y}wd.__dashjs_factory_name="MediaSourceController";const Wc=S.Z.getSingletonFactory(wd);function Kc(){var y,p,b,I,R,O,A,j,J,ie,ee,V="urn:mpeg:dash:event:2012",te="updated",Ae="added",ye=this.context,Te=(0,w.Z)(ye).getInstance();function de(){if(!A||!j)throw new Error("setConfig function has to be called previously")}function z(){ee=!1,b={},I={},R=null,ie=!1,O=Date.now()/1e3}function pe(){try{if(!ie){ie=!0;var le=j.getTime(),we=le-O;we=O>0?Math.max(0,we):0,ue(I,we,le),ue(b,we,le),_e(I),_e(b),O=le,ie=!1}}catch(B){ie=!1,p.error(B)}}function ue(le,we,B){try{Z(le,function(X){if(void 0!==X){var Re=isNaN(X.duration)?0:X.duration;X.calculatedPresentationTime<=B&&X.calculatedPresentationTime+we+Re>=B?ae(X,h.Z.EVENT_MODE_ON_START):(U(B,Re+we,X.calculatedPresentationTime)||function(Be){try{return Be.calculatedPresentationTime>Be.eventStream.period.start+Be.eventStream.period.duration}catch(Je){return p.error(Je),!1}}(X))&&(p.debug("Removing event ".concat(X.id," from period ").concat(X.eventStream.period.id," as it is expired or invalid")),function(Be,je){try{var Je=je.eventStream.schemeIdUri,Pe=je.eventStream.period.id,nt=je.eventStream.value,Bt=je.id;Be[Pe][Je]=Be[Pe][Je].filter(function(vt){return nt&&vt.eventStream.value&&vt.eventStream.value!==nt||vt.id!==Bt}),0===Be[Pe][Je].length&&delete Be[Pe][Je]}catch(vt){p.error(vt)}}(le,X))}})}catch(X){p.error(X)}}function _e(le){try{for(var we in le)le.hasOwnProperty(we)&&0===Object.keys(le[we]).length&&delete le[we]}catch(B){p.error(B)}}function C(le,we){var B=arguments.length>2&&void 0!==arguments[2]&&arguments[2],X=le.eventStream.schemeIdUri,Re=le.eventStream.value,Be=le.id,je="discarded";we[X]||(we[X]=[]);var Je=we[X].findIndex(function(nt){return(!Re||nt.eventStream.value&&nt.eventStream.value===Re)&&nt.id===Be});if(-1===Je)we[X].push(le),le.triggeredReceivedEvent=!1,le.triggeredStartEvent=!1,je=Ae;else if(B){var Pe=we[X][Je];le.triggeredReceivedEvent=Pe.triggeredReceivedEvent,le.triggeredStartEvent=Pe.triggeredStartEvent,we[X][Je]=le,je=te}return je}function Y(le){try{1==le.eventStream.value&&Te.trigger(h.Z.MANIFEST_VALIDITY_CHANGED,{id:le.id,validUntil:le.calculatedPresentationTime,newDuration:4294967295==le.calculatedPresentationTime?NaN:le.calculatedPresentationTime+le.duration,newManifestValidAfter:NaN},{mode:h.Z.EVENT_MODE_ON_START})}catch(X){p.error(X)}}function K(le){try{var we=j.getTime();Z(le,function(B){var X=B.eventStream&&B.eventStream.period&&!isNaN(B.eventStream.period.duration)?B.eventStream.period.duration:NaN,Re=B.eventStream&&B.eventStream.period&&!isNaN(B.eventStream.period.start)?B.eventStream.period.start:NaN;isNaN(X)||isNaN(Re)||Math.abs(B.calculatedPresentationTime-we)<300&&ae(B,h.Z.EVENT_MODE_ON_START)})}catch(B){p.error(B)}}function Z(le,we){try{if(le)for(var B=Object.keys(le),X=0;X<B.length;X++)for(var Re=le[B[X]],Be=Object.keys(Re),je=0;je<Be.length;je++)Re[Be[je]].forEach(function(Je){void 0!==Je&&we(Je)})}catch(Je){p.error(Je)}}function U(le,we,B){try{return le-we>B}catch(X){return p.error(X),!1}}function ae(le,we){try{var B=j.getTime(),X=le.id;if(we===h.Z.EVENT_MODE_ON_RECEIVE&&!le.triggeredReceivedEvent)return p.debug("Received event ".concat(X)),le.triggeredReceivedEvent=!0,void Te.trigger(le.eventStream.schemeIdUri,{event:le},{mode:we});le.triggeredStartEvent||(le.eventStream.schemeIdUri===V&&1==le.eventStream.value?0===le.duration&&0===le.presentationTimeDelta||(p.debug("Starting manifest refresh event ".concat(X," at ").concat(B)),function(){try{de(),A.refreshManifest()}catch(Re){p.error(Re)}}()):"urn:mpeg:dash:event:callback:2015"===le.eventStream.schemeIdUri&&1==le.eventStream.value?(p.debug("Starting callback event ".concat(X," at ").concat(B)),function(Re){try{(0,on.Z)(ye).create({}).load({method:"get",url:Re,request:{responseType:"arraybuffer"}})}catch(Be){p.error(Be)}}(le.messageData)):(p.debug("Starting event ".concat(X," from period ").concat(le.eventStream.period.id," at ").concat(B)),Te.trigger(le.eventStream.schemeIdUri,{event:le},{mode:we})),le.triggeredStartEvent=!0)}catch(Re){p.error(Re)}}return y={addInlineEvents:function(le,we){try{if(de(),b[we]||(b[we]={}),le)for(var B=0;B<le.length;B++){var X=le[B];if(!U(j.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)){var Re=C(X,b[we],!0);Re===Ae?(p.debug("Added inline event with id ".concat(X.id," from period ").concat(we)),ae(X,h.Z.EVENT_MODE_ON_RECEIVE)):Re===te&&p.debug("Updated inline event with id ".concat(X.id," from period ").concat(we))}}}catch(Be){throw Be}},addInbandEvents:function(le,we){try{de(),I[we]||(I[we]={});for(var B=0;B<le.length;B++){var X=le[B];U(j.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)||(C(X,I[we],!1)===Ae?(X.eventStream.schemeIdUri===V&&Y(X),p.debug("Added inband event with id ".concat(X.id," from period ").concat(we)),ae(X,h.Z.EVENT_MODE_ON_RECEIVE)):p.debug("Inband event with scheme_id_uri ".concat(X.eventStream.schemeIdUri,", value ").concat(X.eventStream.value,", period id ").concat(we," and event id ").concat(X.id," was ignored because it has been added before.")))}pe()}catch(Re){throw Re}},getInbandEvents:function(){return I},getInlineEvents:function(){return b},start:function(){try{de(),p.debug("Start Event Controller");var le=J.get().streaming.eventControllerRefreshDelay;ee||isNaN(le)||(ee=!0,R=setInterval(pe,le))}catch(we){throw we}},setConfig:function(le){try{if(!le)return;le.manifestUpdater&&(A=le.manifestUpdater),le.playbackController&&(j=le.playbackController),le.settings&&(J=le.settings)}catch(we){throw we}},reset:function(){(function(){try{null!==R&&ee&&(clearInterval(R),R=null,ee=!1,function(){try{K(I),K(b)}catch(le){p.error(le)}}())}catch(le){throw le}})(),z()}},p=(0,N.Z)(ye).getInstance().getLogger(y),z(),y}Kc.__dashjs_factory_name="EventController";const Fh=S.Z.getSingletonFactory(Kc),yl={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function rr(y,p){(null==p||p>y.length)&&(p=y.length);for(var b=0,I=new Array(p);b<p;b++)I[b]=y[b];return I}function Xc(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,Te,de,z,pe,ue,_e,C,Y,K,Z,U,ae,le,we,B,X,Re,Be,je,Je,Pe,nt,Bt,vt,Dt,qt,tn,Le,Se,Qe,Oe,et,lt=this.context,pt=(0,w.Z)(lt).getInstance();function kt(){if(!(O&&O.hasOwnProperty("load")&&ue&&ue.hasOwnProperty("initialize")&&ue.hasOwnProperty("reset")&&ue.hasOwnProperty("getClientTimeOffset")&&A&&pe&&J&&Re))throw new Error(d.Z.MISSING_CONFIG_ERROR)}function Mn(){!function(){try{var _t=j.getStreamsInfo();if(!C&&0===_t.length)throw new Error("There are no periods in the MPD");C&&_t.length>0&&J.updateManifestUpdateInfo({currentTime:Re.getTime(),buffered:X.getBufferRange(),presentationStartTime:_t[0].start,clientTimeOffset:ue.getClientTimeOffset()}),_e.length>0&&(0!==(yr=_t).length?_e=_e.filter(function(Xn){var Kr=yr.filter(function(Lr){return Lr.id===Xn.getId()}).length>0||Xn.getId()===C.getId();return Kr||(p.debug("Removing stream ".concat(Xn.getId())),Xn.reset(!0)),Kr}):p.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects."));for(var $t=[],xn=0,qn=_t.length;xn<qn;xn++){var gr=_t[xn];$t.push(hn(gr)),J.addManifestUpdateStreamInfo(gr)}Promise.all($t).then(function(){return new Promise(function(yr,Xn){C?yr():ln(_t,yr,Xn)})}).then(function(){pt.trigger(m.Z.STREAMS_COMPOSED),En()}).catch(function(yr){throw yr})}catch(yr){pe.error(new W.Z(ge.MANIFEST_ERROR_ID_NOSTREAMS_CODE,yr.message+" nostreamscomposed",A.getValue())),we=!0,Js()}var yr}()}function gn(){Se=!0}function hn(_t){var $t=dc(_t.id);return $t?$t.updateData(_t):($t=bo(lt).create({manifestModel:A,mediaPlayerModel:je,dashMetrics:J,manifestUpdater:R,adapter:j,timelineConverter:ue,capabilities:b,capabilitiesFilter:I,errHandler:pe,baseURLController:re,segmentBaseController:te,textController:K,abrController:ye,playbackController:Re,eventController:de,mediaController:Te,protectionController:Y,videoModel:X,streamInfo:_t,settings:Le}),_e.push($t),$t.initialize(),Promise.resolve())}function ln(_t,$t,xn){try{mt();var qn=J.getCurrentDVRInfo().range;if(qn.end<qn.start){Qe&&clearTimeout(Qe);var gr=Math.min(1e3*(-1*(qn.end-qn.start)+2),2147483647);return p.debug("Waiting for ".concat(gr," ms before playback can start")),pt.trigger(m.Z.AST_IN_FUTURE,{delay:gr}),void(Qe=setTimeout(function(){ln(_t,$t,xn)},gr))}Le.get().streaming.applyProducerReferenceTime&&Be.calculateProducerReferenceTimeOffsets(_t);var yr=_t[0].manifestInfo;if(Le.get().streaming.applyServiceDescription&&Be.applyServiceDescription(yr),j.getIsDynamic()){var Xn=Fs(_t,yr);Re.computeAndSetLiveDelay(Xn,yr)}(Le.get().streaming.applyContentSteering&&V.shouldQueryBeforeStart()?V.loadSteeringData():Promise.resolve()).then(function(){var Kr=A.getValue();Kr&&re.update(Kr),Rn(),$t()}).catch(function(Kr){p.error(Kr),Rn(),$t()})}catch(Kr){xn(Kr)}}function Rn(){var _t=function(){var qn;if(j.getIsDynamic()){var gr=J.getCurrentDVRInfo();qn=(gr&&gr.range?gr.range.end:0)-Re.getOriginalLiveDelay();var yr=gr?gr.range:null;if(yr){if(isNaN(Oe)&&-1===Oe.toString().indexOf("posix:")){var Xn=Ao(!0);isNaN(Xn)||(p.info("Start time from URI parameters: ".concat(Xn)),qn=Math.min(qn,Xn))}else{p.info("Start time provided by the app: ".concat(Oe));var Kr=no(!0,Oe);isNaN(Kr)||(qn=Math.min(qn,Kr))}var Lr=Le.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;qn=Math.max(qn,yr.start+Lr)}}else if(qn=kl()[0].getStreamInfo().start,isNaN(Oe)){var Io=Ao(!1);isNaN(Io)||(p.info("Start time from URI parameters: ".concat(Io)),qn=Math.max(qn,Io))}else{p.info("Start time provided by the app: ".concat(Oe));var Fl=no(!1,Oe);isNaN(Fl)||(qn=Math.max(qn,Fl))}return qn}(),$t=vn(_t),xn=null!==$t?$t:_e[0];pt.trigger(m.Z.INITIAL_STREAM_SWITCH,{startTime:_t}),tr(xn,null,_t),vt||(vt=setInterval(function(){!ae&&Re.getTimeToStreamEnd()<=0&&!Re.isSeeking()&&pt.trigger(m.Z.PLAYBACK_ENDED,{isLast:Qs().isLast})},200))}function tr(_t,$t,xn){try{if(ae||!_t||$t===_t&&_t.getIsActive())return;ae=!0,pt.trigger(m.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:$t?$t.getStreamInfo():null,toStreamInfo:_t.getStreamInfo()});var qn=!1;C=_t,$t&&(qn=Cn(_t,$t),$t.deactivate(qn)),xn=isNaN(xn)?!qn&&$t?_t.getStreamInfo().start:NaN:xn,p.info("Switch to stream ".concat(_t.getId(),". Seektime is ").concat(xn,", current playback time is ").concat(Re.getTime(),". Seamless period switch is set to ").concat(qn)),qt=qt.filter(function(gr){return gr.getId()!==C.getId()}),Re.initialize(Qs(),!!$t),X.getElement()?sr(xn,qn,!1):Wn(xn,qn)}catch{ae=!1}}function sr(_t,$t){var xn,qn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function gr(){if(B&&"open"===B.readyState){p.debug("MediaSource is open!"),window.URL.revokeObjectURL(xn),B.removeEventListener("sourceopen",gr),B.removeEventListener("webkitsourceopen",gr),Zr();var Xn=J.getCurrentDVRInfo();ie.setSeekable(Xn.range.start,Xn.range.end),qn?(isNaN(_t)||Re.seek(_t,!0,!0),C.setMediaSource(B).then(function(){C.initializeForTextWithMediaSource(B)})):Wn(_t,$t)}}function yr(){B.addEventListener("sourceopen",gr,!1),B.addEventListener("webkitsourceopen",gr,!1),xn=ie.attachMediaSource(X),p.debug("MediaSource attached to element.  Waiting on open...")}B?$t?Wn(_t,$t):(ie.detachMediaSource(X),yr()):(B=ie.createMediaSource(),yr())}function Wn(_t,$t){C.activate(B,$t?Dt:void 0,_t).then(function(xn){if(xn){var qn=Object.keys(xn);qn.length>0&&xn[qn[0]].getBuffer().changeType&&(tn=!0),Dt=xn}isNaN(_t)||(pt.trigger(m.Z.SEEK_TARGET,{time:_t},{streamId:C.getId()}),Re.seek(_t,!1,!0),C.startScheduleControllers()),ae=!1,pt.trigger(m.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Qs()})})}function mr(_t){var xn,qn,gr,yr,$t=vn(_t.seekTime);$t&&$t!==C?$t&&$t!==C&&(ir(),qn=$t,gr=(xn=_t)&&!isNaN(xn.seekTime)?xn.seekTime:NaN,yr=C.getProcessors().map(function(Xn){return Xn.prepareOuterPeriodPlaybackSeeking(xn)}),Promise.all(yr).then(function(){tr(qn,C,gr)}).catch(function(Xn){pe.error(Xn)})):(ir(),function(xn){C.getProcessors().forEach(function(qn){return qn.prepareInnerPeriodPlaybackSeeking(xn)}),Jo(tt.USER_REQUEST_STOP_REASON)}(_t)),za(Fe.SEEK_START_REASON)}function ir(){hr()}function hr(){qt&&qt.length>0&&(qt.forEach(function(_t){_t.deactivate(!0)}),qt=[])}function Pt(_t){_t.newMediaInfo.streamInfo.id===C.getId()&&(hr(),C.prepareTrackChange(_t))}function Cn(_t,$t){try{return Le.get().streaming.buffer.reuseExistingSourceBuffers&&($t.isProtectionCompatible(_t)||Se)&&(tn&&Le.get().streaming.buffer.useChangeTypeForTrackSwitch||$t.isMediaCodecCompatible(_t,$t))}catch{return!1}}function wn(_t){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;B&&!_t.getPreloaded()&&Cn(_t,$t)&&_t.startPreloading(B,Dt).then(function(){qt.push(_t)})}function vn(_t){if(isNaN(_t))return null;for(var $t=_e.length,xn=0;xn<$t;xn++){var qn=_e[xn];if(_t<parseFloat((qn.getStartTime()+qn.getDuration()).toFixed(5)))return qn}return null}function mt(){try{var _t=j.getIsDynamic(),$t=j.getStreamsInfo()[0].manifestInfo,xn=Re.getTime(),qn=ue.calcTimeShiftBufferWindow(_e,_t),gr=Wr();if(void 0===qn.start||void 0===qn.end)return;gr&&0!==gr.length?gr.forEach(function(yr){J.addDVRInfo(yr.getType(),xn,$t,qn)}):J.addDVRInfo(d.Z.VIDEO,xn,$t,qn)}catch{}}function Ht(_t){if(nt&&U){var $t=je.getInitialBufferLevel(),xn=[d.Z.TEXT];(isNaN($t)||$t<=Re.getBufferLevel(xn)||j.getIsDynamic()&&$t>Re.getLiveDelay())&&(nt=!1,za(Fe.INITIAL_PLAYOUT_START_REASON),Re.play())}_t&&_t.mediaType&&J.addBufferLevel(_t.mediaType,new Date,1e3*_t.bufferLevel)}function dt(_t){_t.streamInfo.id===C.getId()&&_t.reason&&_t.reason.forceReplace&&hr(),dc(_t.streamInfo.id).prepareQualityChange(_t)}function Ze(){if(j.getIsDynamic()&&0!==Re.getOriginalLiveDelay()&&C){var _t=j.getStreamsInfo();if(_t.length>0){var $t=_t[0].manifestInfo,xn=Fs(_t,$t);Re.computeAndSetLiveDelay(xn,$t)}}}function Ee(){if(Qo()){var _t=X.getPlaybackQuality();_t&&J.addDroppedFrames(_t)}}function ot(){p.debug("[onPlaybackStarted]"),!nt&&Pe&&za(Fe.RESUME_FROM_PAUSE_START_REASON),nt&&(nt=!1),Bt&&(Bt=!1,Le.get().streaming.applyContentSteering&&!V.shouldQueryBeforeStart()&&V.loadSteeringData()),Pe=!1}function It(_t){p.debug("[onPlaybackPaused]"),_t.ended||(Pe=!0,Jo(tt.USER_REQUEST_STOP_REASON))}function Jt(_t){p.debug("Stream with id ".concat(_t.streamInfo.id," finished buffering")),B&&_t.streamInfo.isLast?(p.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),ie.signalEndOfStream(B)):En()}function En(){if(C&&C.getHasFinishedBuffering())for(var _t=function(){var gr=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var yr=gr||C||null;if(yr){var Xn=yr.getStreamInfo();return _e.filter(function(Kr){var Lr=Kr.getStreamInfo();return Lr.start>Xn.start&&Xn.id!==Lr.id})}}catch{return[]}}(C),$t=0;$t<_t.length;){var xn=_t[$t],qn=0===$t?C:_t[$t-1];!xn.getPreloaded()&&qn.getHasFinishedBuffering()&&B&&wn(xn,qn),$t+=1}}function Jn(){vt&&(clearInterval(vt),vt=null)}function Wr(){return C?C.getProcessors():[]}function to(_t){if(C&&!C.getIsEndedEventSignaled()){C.setIsEndedEventSignaled(!0);var $t=function(){var qn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||C||null;if(!qn)return null;for(var gr=qn.getStreamInfo(),yr=gr.start,Xn=0,Kr=-1,Lr=NaN;Xn<_e.length;){var Io=_e[Xn].getStreamInfo(),Fl=Io.start-yr;Fl>0&&(isNaN(Lr)||Fl<Lr)&&gr.id!==Io.id&&(Lr=Fl,Kr=Xn),Xn+=1}return Kr>=0?_e[Kr]:null}();$t?(p.debug("StreamController onEnded, found next stream with id ".concat($t.getStreamInfo().id,". Switching from ").concat(C.getStreamInfo().id," to ").concat($t.getStreamInfo().id)),tr($t,C,NaN)):(p.debug("StreamController no next stream found"),C.setIsEndedEventSignaled(!1)),Jo($t?tt.END_OF_PERIOD_STOP_REASON:tt.END_OF_CONTENT_STOP_REASON)}_t&&_t.isLast&&(Jn(),V.stopSteeringRequestTimer())}function Zr(_t){var $t=_t||Qs().manifestInfo.duration;ie.setDuration($t)}function Ao(_t){var $t=Ae.getURIFragmentData();if(!$t||!$t.t)return NaN;var xn=kl()[0].getStreamInfo().start;return $t.t=$t.t.split(",")[0],ks(_t,$t.t,xn)}function no(_t,$t){var xn=0;return _t||(xn=kl()[0].getStreamInfo().start),ks(_t,$t,xn)}function ks(_t,$t,xn){var qn=j.getRegularPeriods()[0],gr=$t.toString(),yr=-1!==gr.indexOf("posix:")?"now"===gr.substring(6)?Date.now()/1e3:parseFloat(gr.substring(6)):NaN;return _t&&!isNaN(yr)?ue.calcPresentationTimeFromWallTime(new Date(1e3*yr),qn):parseFloat(gr)+xn}function Fs(_t,$t){try{var xn=NaN;if($t&&!isNaN($t.maxFragmentDuration)&&isFinite($t.maxFragmentDuration))return $t.maxFragmentDuration;if(_t&&1===_t.length){var qn=_t[0],gr=[d.Z.VIDEO,d.Z.AUDIO,d.Z.TEXT].reduce(function(Xn,Kr){var Lr=j.getMediaInfoForType(qn,Kr);return Lr&&!1!==Lr.isFragmented&&Xn.push(Lr),Xn},[]).reduce(function(Xn,Kr){var Lr=j.getVoRepresentations(Kr);return Lr&&Lr.length>0&&Lr.forEach(function(Io){Io&&Xn.push(Io)}),Xn},[]).reduce(function(Xn,Kr){var Lr=j.convertRepresentationToRepresentationInfo(Kr);return Lr&&Lr.fragmentDuration&&!isNaN(Lr.fragmentDuration)&&Xn.push(Lr.fragmentDuration),Xn},[]);xn=Math.max.apply(Math,function(Xn){if(Array.isArray(Xn))return rr(Xn)}(yr=gr)||function(Xn){if(typeof Symbol<"u"&&Symbol.iterator in Object(Xn))return Array.from(Xn)}(yr)||function(Xn,Kr){if(Xn){if("string"==typeof Xn)return rr(Xn,void 0);var Lr=Object.prototype.toString.call(Xn).slice(8,-1);return"Object"===Lr&&Xn.constructor&&(Lr=Xn.constructor.name),"Map"===Lr||"Set"===Lr?Array.from(Xn):"Arguments"===Lr||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr)?rr(Xn,void 0):void 0}}(yr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return isFinite(xn)?xn:NaN}catch{return NaN}var yr}function us(_t){if(_t.error)we=!0,Js();else{p.info("Manifest updated... updating data system wide.");var $t=_t.manifest;j.updatePeriods($t);var xn=j.getUTCTimingSources();!j.getIsDynamic()||xn&&0!==xn.length||pt.trigger(h.Z.CONFORMANCE_VIOLATION,{level:yl.LEVELS.WARNING,event:yl.EVENTS.NO_UTC_TIMING_ELEMENT});var qn=j.getIsDynamic()?xn.concat(Je.getUTCTimingSources()):xn;I.filterUnsupportedFeatures($t).then(function(){re.initialize($t),ee.attemptSync(qn,j.getIsDynamic())})}}function Qo(){return!!C&&C.getHasVideoTrack()}function Do(){return!!C&&C.getHasAudioTrack()}function Jo(_t,$t){$t=$t||new Date,Wr().forEach(function(xn){xn.finalisePlayList($t,_t)}),J.addPlayList()}function za(_t){J.createPlaylistMetrics(1e3*Re.getTime(),_t)}function Xs(_t){if(_t.error){var $t="";switch(_t.error.code){case 1:$t="MEDIA_ERR_ABORTED";break;case 2:$t="MEDIA_ERR_NETWORK";break;case 3:$t="MEDIA_ERR_DECODE",et.counts.mediaErrorDecode+=1;break;case 4:$t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:$t="MEDIA_ERR_ENCRYPTED";break;default:$t="UNKNOWN"}"MEDIA_ERR_DECODE"===$t&&Le.get().errors.recoverAttempts.mediaErrorDecode>=et.counts.mediaErrorDecode?function(){p.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var xn=Re.getTime();C.deactivate(!1),p.warn("MediaSource has been resetted. Resuming playback from time ".concat(xn)),sr(xn,!1,!1)}():(le=!0,_t.error.message&&($t+=" ("+_t.error.message+")"),_t.error.msExtendedCode&&($t+=" (0x"+(_t.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),p.fatal("Video Element Error: "+$t),_t.error&&p.fatal(_t.error),pe.error(new W.Z(_t.error.code,$t)),Js())}}function Qs(){return C?C.getStreamInfo():null}function dc(_t){for(var $t=0,xn=_e.length;$t<xn;$t++)if(_e[$t].getId()===_t)return _e[$t];return null}function Ho(_t){isNaN(_t.newDuration)||Zr(_t.newDuration)}function Pl(){_e=[],Oe=NaN,Y=null,ae=!1,C=null,le=!1,we=!1,nt=!0,Bt=!0,Pe=!1,U=!0,vt=null,Se=!1,tn=!1,qt=[],Qe=null,et={counts:{mediaErrorDecode:0}}}function Js(){kt(),ee.reset(),Jo(le||we?tt.FAILURE_STOP_REASON:tt.USER_REQUEST_STOP_REASON);for(var _t=0,$t=_e?_e.length:0;_t<$t;_t++)_e[_t].reset(le);pt.off(h.Z.PLAYBACK_TIME_UPDATED,Ee,y),pt.off(h.Z.PLAYBACK_SEEKING,mr,y),pt.off(h.Z.PLAYBACK_ERROR,Xs,y),pt.off(h.Z.PLAYBACK_STARTED,ot,y),pt.off(h.Z.PLAYBACK_PAUSED,It,y),pt.off(h.Z.PLAYBACK_ENDED,to,y),pt.off(h.Z.METRIC_ADDED,Ga,y),pt.off(h.Z.MANIFEST_VALIDITY_CHANGED,Ho,y),pt.off(h.Z.BUFFER_LEVEL_UPDATED,Ht,y),pt.off(h.Z.QUALITY_CHANGE_REQUESTED,dt,y),m.Z.KEY_SESSION_UPDATED&&pt.off(m.Z.KEY_SESSION_UPDATED,gn,y),pt.off(m.Z.MANIFEST_UPDATED,us,y),pt.off(m.Z.STREAM_BUFFERING_COMPLETED,Jt,y),pt.off(m.Z.TIME_SYNCHRONIZATION_COMPLETED,Mn,y),pt.off(m.Z.CURRENT_TRACK_CHANGED,Pt,y),pt.off(m.Z.SETTING_UPDATED_LIVE_DELAY,Ze,y),pt.off(m.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ze,y),re.reset(),R.reset(),de.reset(),J.clearAllCurrentMetrics(),A.setValue(null),O.reset(),ue.reset(),z.reset(),B&&(ie.detachMediaSource(X),B=null),X=null,Y&&(Y=null,Z=null,A.getValue()&&pt.trigger(m.Z.PROTECTION_DESTROYED,{data:A.getValue().url})),Jn(),pt.trigger(m.Z.STREAM_TEARDOWN_COMPLETE),Pl()}function Ga(_t){if(_t.metric===P.Z.DVR_INFO){var $t=Do()?d.Z.AUDIO:d.Z.VIDEO;_t.mediaType===$t&&ie.setSeekable(_t.value.range.start,_t.value.range.end)}}function kl(){return _e}return y={initialize:function(_t,$t){kt(),U=_t,Z=$t,ue.initialize(),(R=La(lt).create()).setConfig({manifestModel:A,adapter:j,manifestLoader:O,errHandler:pe,settings:Le,contentSteeringController:V}),R.initialize(),(de=Fh(lt).getInstance()).setConfig({manifestUpdater:R,playbackController:Re,settings:Le}),de.start(),ee.setConfig({dashMetrics:J,baseURLController:re,errHandler:pe,settings:Le}),ee.initialize(),Y&&(pt.trigger(m.Z.PROTECTION_CREATED,{controller:Y}),Y.setMediaElement(X.getElement()),Z&&Y.setProtectionData(Z)),pt.on(h.Z.PLAYBACK_TIME_UPDATED,Ee,y),pt.on(h.Z.PLAYBACK_SEEKING,mr,y),pt.on(h.Z.PLAYBACK_ERROR,Xs,y),pt.on(h.Z.PLAYBACK_STARTED,ot,y),pt.on(h.Z.PLAYBACK_PAUSED,It,y),pt.on(h.Z.PLAYBACK_ENDED,to,y),pt.on(h.Z.METRIC_ADDED,Ga,y),pt.on(h.Z.MANIFEST_VALIDITY_CHANGED,Ho,y),pt.on(h.Z.BUFFER_LEVEL_UPDATED,Ht,y),pt.on(h.Z.QUALITY_CHANGE_REQUESTED,dt,y),m.Z.KEY_SESSION_UPDATED&&pt.on(m.Z.KEY_SESSION_UPDATED,gn,y),pt.on(m.Z.MANIFEST_UPDATED,us,y),pt.on(m.Z.STREAM_BUFFERING_COMPLETED,Jt,y),pt.on(m.Z.TIME_SYNCHRONIZATION_COMPLETED,Mn,y),pt.on(m.Z.CURRENT_TRACK_CHANGED,Pt,y),pt.on(m.Z.SETTING_UPDATED_LIVE_DELAY,Ze,y),pt.on(m.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ze,y)},getActiveStreamInfo:Qs,addDVRMetric:mt,hasVideoTrack:Qo,hasAudioTrack:Do,getStreamById:dc,getStreamForTime:vn,getTimeRelativeToStreamId:function(_t,$t){for(var xn=null,qn=0,gr=0,yr=null,Xn=0;Xn<_e.length;Xn++){if(gr=(xn=_e[Xn]).getStartTime(),yr=xn.getDuration(),Number.isFinite(gr)&&(qn=gr),xn.getId()===$t)return _t-qn;Number.isFinite(yr)&&(qn+=yr)}return null},load:function(_t){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;kt(),Oe=$t,O.load(_t)},loadWithManifest:function(_t){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function Yt(){if(!R||!R.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Oe=$t,R.setManifest(_t)},getActiveStreamProcessors:Wr,setConfig:function(_t){_t&&(_t.capabilities&&(b=_t.capabilities),_t.capabilitiesFilter&&(I=_t.capabilitiesFilter),_t.manifestLoader&&(O=_t.manifestLoader),_t.manifestModel&&(A=_t.manifestModel),_t.mediaPlayerModel&&(je=_t.mediaPlayerModel),_t.customParametersModel&&(Je=_t.customParametersModel),_t.protectionController&&(Y=_t.protectionController),_t.adapter&&(j=_t.adapter),_t.dashMetrics&&(J=_t.dashMetrics),_t.errHandler&&(pe=_t.errHandler),_t.timelineConverter&&(ue=_t.timelineConverter),_t.videoModel&&(X=_t.videoModel),_t.playbackController&&(Re=_t.playbackController),_t.serviceDescriptionController&&(Be=_t.serviceDescriptionController),_t.contentSteeringController&&(V=_t.contentSteeringController),_t.textController&&(K=_t.textController),_t.abrController&&(ye=_t.abrController),_t.mediaController&&(Te=_t.mediaController),_t.settings&&(Le=_t.settings),_t.baseURLController&&(re=_t.baseURLController),_t.uriFragmentModel&&(Ae=_t.uriFragmentModel),_t.segmentBaseController&&(te=_t.segmentBaseController))},setProtectionData:function(_t){Z=_t,Y&&Y.setProtectionData(Z)},getIsStreamSwitchInProgress:function(){return ae},switchToVideoElement:function(_t){C&&(Re.initialize(Qs()),sr(_t,!1,!0))},getHasMediaOrInitialisationError:function(){return le||we},getStreams:kl,getActiveStream:function(){return C},getInitialPlayback:function(){return nt},getAutoPlay:function(){return U},reset:Js},p=(0,N.Z)(lt).getInstance().getLogger(y),ee=Bg(lt).getInstance(),ie=Wc(lt).getInstance(),z=ht(lt).getInstance(),Pl(),y}Xc.__dashjs_factory_name="StreamController";const Sd=S.Z.getSingletonFactory(Xc);function Eo(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re=this.context,te=(0,w.Z)(re).getInstance();function Ae(){V.debug("Stopping the gap controller"),R&&(clearInterval(R),R=null),function(){te.off(m.Z.WALLCLOCK_TIME_UPDATED,pe,this),te.off(m.Z.INITIAL_STREAM_SWITCH,z,this),te.off(m.Z.PLAYBACK_SEEKING,ye,this),te.off(m.Z.BUFFER_REPLACEMENT_STARTED,Te,y),te.off(m.Z.TRACK_CHANGE_RENDERED,de,y)}(),R=null,O=NaN,I=0,ie=null,ee={}}function ye(){ie&&(clearTimeout(ie),ie=null)}function Te(Z){try{if(Z.streamId!==j.getActiveStreamInfo().id||Z.mediaType!==d.Z.VIDEO&&Z.mediaType!==d.Z.AUDIO)return;Z.streamId===j.getActiveStreamInfo().id&&(ee[Z.mediaType]=!0)}catch(U){V.error(U)}}function de(Z){Z&&Z.mediaType&&(ee[Z.mediaType]=!1)}function z(){R||function(){try{R||(V.debug("Starting the gap controller"),R=setInterval(function(){ue()&&K(A.getTime())},100))}catch{}}()}function pe(){if(ue(b.get().streaming.gaps.enableSeekFix)&&++I>=10){var Z=A.getTime();p===Z?K(Z,!0):(p=Z,O=NaN),I=0}}function ue(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!j.getActiveStream())return!1;var U=Object.keys(ee).some(function(le){return ee[le]}),ae=!!Z&&function _e(){var Z=j.getActiveStream(),U=parseFloat((Z.getStartTime()+Z.getDuration()).toFixed(5));return A.getTime()+b.get().streaming.gaps.threshold>=U}();return!U&&b.get().streaming.gaps.jumpGaps&&j.getActiveStreamProcessors().length>0&&(!A.isSeeking()||ae)&&!A.isPaused()&&!j.getIsStreamSwitchInProgress()&&!j.getHasMediaOrInitialisationError()}function K(Z){var U,ae=arguments.length>1&&void 0!==arguments[1]&&arguments[1],le=b.get().streaming.gaps.enableStallFix,we=b.get().streaming.gaps.stallSeek,B=b.get().streaming.gaps.smallGapLimit,X=b.get().streaming.gaps.jumpLargeGaps,Re=J.getBufferRange(),Be=NaN,je=!1;if(U=function C(Z,U){try{if(!Z||Z.length<=1&&U>0)return NaN;for(var ae=NaN,le=0;isNaN(ae)&&le<Z.length;){var we=le>0?Z.end(le-1):0;U<Z.start(le)&&we-U<b.get().streaming.gaps.threshold&&(ae=le),le+=1}return ae}catch{return null}}(Re,Z),!isNaN(U)){var Je=Re.start(U),Pe=Je-Z;Pe>0&&(Pe<=B||X)&&(Be=Je)}var nt=A.getTimeToStreamEnd();if(isNaN(Be)&&ae&&isFinite(nt)&&!isNaN(nt)&&nt<B&&(Be=parseFloat(A.getStreamEndTime().toFixed(5)),je=!0),le&&isNaN(Be)&&ae&&isNaN(U)&&function Y(Z,U){for(var ae=0,le=Z.length;ae<le;ae++)if(U>=Z.start(ae)&&U<=Z.end(ae))return!0;return!1}(Re,Z)&&(0===we?(V.warn("Toggle play pause to break stall"),J.pause(),J.play()):(V.warn("Jumping ".concat(we,"s to break stall")),Be=Z+we)),Be>0&&O!==Be&&Be>Z&&!ie){var Bt=Be-Z;if(je){var vt=j.getStreamForTime(Be),Dt=vt&&!!vt.getPreloaded();V.warn("Jumping to end of stream because of gap from ".concat(Z," to ").concat(Be,". Gap duration: ").concat(Bt)),A.seek(Be,!0,Dt)}else{var qt=A.getIsDynamic(),tn=U>0?Re.end(U-1):Z,Le=qt?1e3*Math.max(0,Bt-.1):0;ie=window.setTimeout(function(){A.seek(Be,!0,!0),V.warn("Jumping gap occuring in period ".concat(j.getActiveStream().getStreamId()," starting at ").concat(tn," and ending at ").concat(Be,". Jumping by: ").concat(Be-tn)),ie=null},Le)}O=Be}}return y={reset:Ae,setConfig:function(Z){Z&&(Z.settings&&(b=Z.settings),Z.playbackController&&(A=Z.playbackController),Z.streamController&&(j=Z.streamController),Z.videoModel&&(J=Z.videoModel))},initialize:function(){!function(){te.on(m.Z.WALLCLOCK_TIME_UPDATED,pe,this),te.on(m.Z.INITIAL_STREAM_SWITCH,z,this),te.on(m.Z.PLAYBACK_SEEKING,ye,this),te.on(m.Z.BUFFER_REPLACEMENT_STARTED,Te,y),te.on(m.Z.TRACK_CHANGE_RENDERED,de,y)}()}},V=(0,N.Z)(re).getInstance().getLogger(y),Ae(),y}Eo.__dashjs_factory_name="GapController";const Lh=S.Z.getSingletonFactory(Eo);function Ug(){var y,p,b,I,R,O,A,j,J,ie,ee=this.context,V=(0,w.Z)(ee).getInstance();function re(){p=!1;var _e=er.Z.parseUserAgent();b=_e&&_e.browser&&_e.browser.name&&"safari"===_e.browser.name.toLowerCase()}function te(){p=!1}function Ae(_e){if(_e.streamId===O.getActiveStreamInfo().id&&J){var C=A.getLiveDelay();A.getBufferLevel()>C/2&&(J=!1)}}function ye(_e){_e.streamId===O.getActiveStreamInfo().id&&(J=_e.state===P.Z.BUFFER_EMPTY)}function Te(){j.getCatchupModeEnabled()||I.setPlaybackRate(1)}function de(){A.getIsDynamic()&&j.getCatchupModeEnabled()&&(j.getCatchupPlaybackRates().max>0||j.getCatchupPlaybackRates().min<0)&&!A.isPaused()&&!A.isSeeking()&&function(){try{return!(!A.getTime()>0||p)&&(pe()===d.Z.LIVE_CATCHUP_MODE_LOLP?function(_e,C){try{return Math.abs(z())>0||_e<C}catch{return!1}}(A.getBufferLevel(),R.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(z())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!p&&I){var _e,C=I.getPlaybackRate(),Y=j.getCatchupPlaybackRates(),K=A.getBufferLevel(),Z=z(),U=j.getCatchupMaxDrift();if(!isNaN(U)&&U>0&&Z>U)ie.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),p=!0,A.seekToCurrentLive(!0,!1);else{var ae=A.getCurrentLiveLatency(),le=A.getLiveDelay();_e=pe()===d.Z.LIVE_CATCHUP_MODE_LOLP?function(B,X,Re,Be,je){var Je;if(je<Be){var Pe=Math.abs(B.min);Je=1-Pe+2*Pe/(1+Math.pow(Math.E,-5*(je-Be))),ie.debug("[LoL+ playback control_buffer-based] bufferLevel: "+je+", newRate: "+Je)}else{var Bt=B.max;Je=Math.abs(X-Re)<=.02*Re?1:1-Bt+2*Bt/(1+Math.pow(Math.E,-5*(X-Re))),ie.debug("[LoL+ playback control_latency-based] latency: "+X+", newRate: "+Je)}return Je}(Y,ae,le,R.get().streaming.liveCatchup.playbackBufferMin,K):function(B,X,Re,Be){if(J)return 1;var je=X-Re,Je=je<0?Math.abs(B.min):B.max,nt=1-Je+2*Je/(1+Math.pow(Math.E,-5*je));return A.getPlaybackStalled()&&Be<=Re/2&&je>0&&(nt=1),nt}(Y,ae,le,K);var we=b?.25:.02/(.5/Y.max);_e&&Math.abs(C-_e)>=we&&(ie.debug("[CatchupController]: Setting playback rate to ".concat(_e)),I.setPlaybackRate(_e))}}}()}function z(){return A.getCurrentLiveLatency()-A.getLiveDelay()}function pe(){var _e=R.get().streaming.liveCatchup.playbackBufferMin;return R.get().streaming.liveCatchup.mode!==d.Z.LIVE_CATCHUP_MODE_LOLP||null===_e||isNaN(_e)?d.Z.LIVE_CATCHUP_MODE_DEFAULT:d.Z.LIVE_CATCHUP_MODE_LOLP}function ue(){j.getCatchupPlaybackRates(!0)}return y={reset:function(){V.off(h.Z.BUFFER_LEVEL_UPDATED,Ae,y),V.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,ye,y),V.off(h.Z.PLAYBACK_PROGRESS,de,y),V.off(h.Z.PLAYBACK_TIME_UPDATED,de,y),V.off(h.Z.PLAYBACK_SEEKED,de,y),V.off(m.Z.SETTING_UPDATED_CATCHUP_ENABLED,Te,y),V.off(m.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ue,y),V.off(m.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ue,y),V.off(h.Z.STREAM_INITIALIZED,ue,y),re(),I.setPlaybackRate(1,!0)},setConfig:function(_e){_e&&(_e.settings&&(R=_e.settings),_e.videoModel&&(I=_e.videoModel),_e.streamController&&(O=_e.streamController),_e.playbackController&&(A=_e.playbackController),_e.mediaPlayerModel&&(j=_e.mediaPlayerModel))},initialize:function(){V.on(h.Z.BUFFER_LEVEL_UPDATED,Ae,y),V.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,ye,y),V.on(h.Z.PLAYBACK_PROGRESS,de,y),V.on(h.Z.PLAYBACK_TIME_UPDATED,de,y),V.on(h.Z.PLAYBACK_SEEKED,te,y),V.on(m.Z.SETTING_UPDATED_CATCHUP_ENABLED,Te,y),V.on(m.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ue,y),V.on(m.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ue,y),V.on(h.Z.STREAM_INITIALIZED,ue,y),ue()}},ie=(0,N.Z)(ee).getInstance().getLogger(y),re(),y}Ug.__dashjs_factory_name="CatchupController";const ti=S.Z.getSingletonFactory(Ug);var a0=[d.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME];function vl(){var y,p,b,I,R;function A(){p={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},b=[]}function j(J,ie,ee){try{p[J][ie]=ee/1e3}catch(V){I.error(V)}}return y={getServiceDescriptionSettings:function(){return p},getProducerReferenceTimeOffsets:function(){return b},calculateProducerReferenceTimeOffsets:function(J){try{var ie=[];if(J&&J.length>0){var ee=[d.Z.VIDEO,d.Z.AUDIO,d.Z.TEXT],V=R.getAvailabilityStartTime()/1e3;J.forEach(function(re){var te=ee.reduce(function(Ae,ye){return Ae.concat(R.getAllMediaInfoForType(re,ye))},[]).reduce(function(Ae,ye){return R.getProducerReferenceTimes(re,ye).forEach(function(Te){var de=R.getVoRepresentations(ye);if(de&&de.length>0&&de[0].adaptation&&de[0].segmentInfoType===f.Z.SEGMENT_TEMPLATE){var z=de[0],pe=new Date(Te[f.Z.WALL_CLOCK_TIME]).getTime()/1e3-(Te[f.Z.PRESENTATION_TIME]/z[f.Z.TIMESCALE]-z[f.Z.PRESENTATION_TIME_OFFSET]+re.start);Ae.push({id:Te[f.Z.ID],to:V-pe})}}),Ae},[]);ie=ie.concat(te)})}b=ie}catch(re){I.error(re),b=[]}},applyServiceDescription:function(J){if(J&&J.serviceDescriptions){var ie=J.serviceDescriptions.filter(function(re){return a0.includes(re.schemeIdUri)}),ee=J.serviceDescriptions.filter(function(re){return null==re.schemeIdUri}),V=ie.length>0?ie[ie.length-1]:ee[ee.length-1];V&&(V.latency&&V.latency.target>0&&function(re){var te,de;if(te={liveDelay:(de=re).latency.target/1e3,maxDrift:!isNaN(de.latency.max)&&de.latency.max>de.latency.target?(de.latency.max-de.latency.target+500)/1e3:NaN,referenceId:de.latency.referenceId||NaN},b.length>0){var Ae=function(de){var z,pe=0,ue=b.filter(function(_e){return _e.id===de.referenceId});return 0===ue.length?(pe=b.length>0?b[0].to:0,z=b[0].id||NaN):(pe=ue[0].to||0,z=ue[0].id||NaN),{to:pe,id:z}}(te),ye=Ae.to,Te=Ae.id;p.liveDelay=te.liveDelay-ye,p.liveCatchup.maxDrift=te.maxDrift,I.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ye," from ProducerReferenceTime element with id ").concat(Te,".\n                Live Delay: ").concat(te.liveDelay-ye,", Live catchup max drift: ").concat(te.maxDrift,"\n            "))}else p.liveDelay=te.liveDelay,p.liveCatchup.maxDrift=te.maxDrift,I.debug("Found latency properties coming from service description: Live Delay: ".concat(te.liveDelay,", Live catchup max drift: ").concat(te.maxDrift))}(V),V.playbackRate&&(te=(re=V).playbackRate.min?Math.round(1e3*(re.playbackRate.min-1))/1e3:NaN,Ae=re.playbackRate.max?Math.round(1e3*(re.playbackRate.max-1))/1e3:NaN,p.liveCatchup.playbackRate.min=te,p.liveCatchup.playbackRate.max=Ae,I.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(te)),I.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(Ae))),V.operatingBandwidth&&function(re){if(re&&re.operatingBandwidth&&re.operatingBandwidth.mediaType&&"all"!==re.operatingBandwidth.mediaType){var te={};te.minBandwidth=re.operatingBandwidth.min,te.maxBandwidth=re.operatingBandwidth.max,te.targetBandwidth=re.operatingBandwidth.target;var Ae=[];"video"===re.operatingBandwidth.mediaType||"audio"===re.operatingBandwidth.mediaType?Ae.push(re.operatingBandwidth.mediaType):"any"===re.operatingBandwidth.mediaType&&(Ae.push("audio"),Ae.push("video")),Ae.forEach(function(ye){isNaN(te.minBandwidth)||j("minBitrate",ye,te.minBandwidth),isNaN(te.maxBandwidth)||j("maxBitrate",ye,te.maxBandwidth),isNaN(te.targetBandwidth)||j("initialBitrate",ye,te.targetBandwidth)})}}(V),V.contentSteering&&function(re){p.contentSteering=re.contentSteering}(V))}var re,te,Ae},reset:function(){A()},setConfig:function(J){J&&J.adapter&&(R=J.adapter)}},I=(0,N.Z)(this.context).getInstance().getLogger(y),A(),y}vl.__dashjs_factory_name="ServiceDescriptionController";const Cd=S.Z.getSingletonFactory(vl);var Qc=L(3973),Jc=L.n(Qc),Bh=L(3039);function Ad(){var y,p,b,I,R,O,A,j,J=this.context,ie=(0,w.Z)(J).getInstance();function ee(B,X){return B&&b[X]&&b[X][B]?b[X][B].list:[]}function V(B,X){return B&&b[X]&&b[X][B]?b[X][B].current:null}function re(B){var X=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(B&&B.streamInfo){var Re=B.type,je=B.streamInfo.id,Je=V(Re,je);if(b[je]&&b[je][Re]&&(b[je][Re].current=B,b[je][Re].current&&(Re!==d.Z.TEXT&&!ye(B,Je)||Re===d.Z.TEXT&&B.isFragmented)&&ie.trigger(m.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Je,newMediaInfo:B,switchMode:I.get().streaming.trackSwitchMode[Re]},{streamId:je}),!X)){var Pe=function de(B){var X={lang:B.lang,viewpoint:B.viewpoint,roles:B.roles,accessibility:B.accessibility,audioChannelConfiguration:B.audioChannelConfiguration};return X.lang||X.viewpoint||X.role&&X.role.length>0||X.accessibility&&X.accessibility.length>0||X.audioChannelConfiguration&&X.audioChannelConfiguration.length>0?X:null}(B);if(!Pe||!b[je][Re].storeLastSettings)return;Pe.roles&&(Pe.role=Pe.roles[0],delete Pe.roles),Pe.accessibility&&(Pe.accessibility=Pe.accessibility[0]),Pe.audioChannelConfiguration&&(Pe.audioChannelConfiguration=Pe.audioChannelConfiguration[0]),O[Re]=Pe,j.setSavedMediaSettings(Re,Pe)}}}function te(B,X){B&&X&&(R[B]=X)}function Ae(B){return B?R[B]:null}function ye(B,X){if(!B&&!X)return!0;if(!B||!X)return!1;var Re=B.id===X.id,Be=B.viewpoint===X.viewpoint,je=JSON.stringify(B.viewpointsWithSchemeIdUri)===JSON.stringify(X.viewpointsWithSchemeIdUri),Je=B.lang===X.lang,Pe=B.codec===X.codec,nt=B.roles.toString()===X.roles.toString(),Bt=JSON.stringify(B.rolesWithSchemeIdUri)===JSON.stringify(X.rolesWithSchemeIdUri),vt=B.accessibility.toString()===X.accessibility.toString(),Dt=JSON.stringify(B.accessibilitiesWithSchemeIdUri)===JSON.stringify(X.accessibilitiesWithSchemeIdUri),qt=B.audioChannelConfiguration.toString()===X.audioChannelConfiguration.toString(),tn=JSON.stringify(B.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(X.audioChannelConfigurationsWithSchemeIdUri);return Re&&Pe&&Be&&je&&Je&&nt&&Bt&&vt&&Dt&&qt&&tn}function Te(){b={},O={},R={audio:null,video:null,text:null}}function z(B,X,Re){var Be=[];return B.forEach(function(je){X(Re,je)&&Be.push(je)}),0!==Be.length?Be:B}function pe(B,X){return!B.lang||B.lang instanceof RegExp?X.lang.match(B.lang):""!==X.lang&&(0,Bh.extendedFilter)(X.lang,Jc()(B.lang)).length>0}function ue(B,X){return null==B.index||X.index===B.index}function _e(B,X){return!B.viewpoint||B.viewpoint===X.viewpoint}function C(B,X){var Re=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!B.role||!!X.roles.filter(function(je){return je===B.role})[0]||X.type===d.Z.AUDIO&&Re}function Y(B,X){return B.accessibility?!!X.accessibility.filter(function(Re){return Re===B.accessibility})[0]:!X.accessibility.length}function K(B,X){return!B.audioChannelConfiguration||!!X.audioChannelConfiguration.filter(function(Re){return Re===B.audioChannelConfiguration})[0]}function Z(B){var X,Re=0,Be=[];return B.forEach(function(je){(X=Math.max.apply(Math,je.bitrateList.map(function(Je){return Je.bandwidth})))>Re?(Re=X,Be=[je]):X===Re&&Be.push(je)}),Be}function U(B){var X,Re=1/0,Be=[];return B.forEach(function(je){var Je=je.bitrateList.reduce(function(Pe,nt){var Bt=Math.max(1,nt.width*nt.height);return Pe+nt.bandwidth/Bt},0);(X=Je/je.bitrateList.length)<Re?(Re=X,Be=[je]):X===Re&&Be.push(je)}),Be}function ae(B){var X,Re=0,Be=[];return B.forEach(function(je){(X=je.representationCount)>Re?(Re=X,Be=[je]):X===Re&&Be.push(je)}),Be}function le(B,X){if(B===d.Z.TEXT)return X[0];var Re,Pe,nt,Bt,Be=I.get().streaming.selectionModeForInitialTrack,je=A.getCustomInitialTrackSelectionFunction();if(je&&"function"==typeof je)Re=je(X);else switch(Be){case d.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Pe=0,nt=[],X.forEach(function(vt){isNaN(vt.selectionPriority)||(vt.selectionPriority>Pe?(Pe=vt.selectionPriority,nt=[vt]):vt.selectionPriority===Pe&&nt.push(vt))}),(Bt=nt).length>1&&(Bt=Z(Bt)),Bt.length>1&&(Bt=ae(Bt)),Re=Bt;break;case d.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Re=function(Je){var Pe=Z(Je);return Pe.length>1&&(Pe=ae(Pe)),Pe}(X);break;case d.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Re=we(X);break;case d.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Re=function(Je){var Pe=U(Je);return Pe.length>1&&(Pe=Z(Pe)),Pe}(X);break;case d.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Re=function(Je){var Pe=ae(Je);return Pe.length>1&&(Pe=Z(Je)),Pe}(X);break;default:p.warn("Track selection mode ".concat(Be," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Re=we(X)}return Re.length>0?Re[0]:X[0]}function we(B){return B[0]}return y={setInitialMediaSettingsForType:function(B,X){var Re=O[B]||Ae(B),Be=ee(B,X.id),je=[];Re||te(B,Re=j.getSavedMediaSettings(B)),Be&&0!==Be.length&&(Re&&(je=z(je=Array.from(Be),pe,Re),je=z(je,ue,Re),je=z(je,_e,Re),B===d.Z.AUDIO&&O[B]||(je=z(je,C,Re)),je=z(je,Y,Re),je=z(je,K,Re)),0===je.length?re(le(B,Be),!0):re(je.length>1?le(B,je):je[0]))},addTrack:function(B){if(B){var X=B.type;if((Re=X)===d.Z.AUDIO||Re===d.Z.VIDEO||Re===d.Z.TEXT||Re===d.Z.IMAGE){var Re,Be=B.streamInfo.id;b[Be]||(b[Be]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var je=b[Be][X].list,Je=0,Pe=je.length;Je<Pe;++Je)if(ye(je[Je],B))return;je.push(B)}}},getTracksFor:ee,getCurrentTrackFor:V,isCurrentTrack:function(B){if(!B)return!1;var X=B.type,Re=B.streamInfo.id;return b[Re]&&b[Re][X]&&ye(b[Re][X].current,B)},setTrack:re,selectInitialTrack:le,setInitialSettings:te,getInitialSettings:Ae,getTracksWithHighestBitrate:Z,getTracksWithHighestEfficiency:U,getTracksWithWidestRange:ae,isTracksEqual:ye,matchSettings:function(B,X){var Re=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Be=!1;if(B.lang){if(B.lang instanceof RegExp)Be=X.lang.match(B.lang);else if(""!==X.lang){var je=Jc()(B.lang);je&&(Be=(0,Bh.extendedFilter)(X.lang,je).length>0)}}else Be=!0;var Je=null==B.index||X.index===B.index,Pe=!B.viewpoint||B.viewpoint===X.viewpoint,nt=!B.role||!!X.roles.filter(function(Dt){return Dt===B.role})[0],Bt=!B.accessibility||!!X.accessibility.filter(function(Dt){return Dt===B.accessibility})[0],vt=!B.audioChannelConfiguration||!!X.audioChannelConfiguration.filter(function(Dt){return Dt===B.audioChannelConfiguration})[0];return Be&&Je&&Pe&&(nt||X.type===d.Z.AUDIO&&Re)&&Bt&&vt}catch{return!1}},matchSettingsLang:pe,matchSettingsIndex:ue,matchSettingsViewPoint:_e,matchSettingsRole:C,matchSettingsAccessibility:Y,matchSettingsAudioChannelConfig:K,saveTextSettingsDisabled:function(){j.setSavedMediaSettings(d.Z.TEXT,null)},setConfig:function(B){B&&(B.domStorage&&(j=B.domStorage),B.settings&&(I=B.settings),B.customParametersModel&&(A=B.customParametersModel))},reset:Te},p=(0,N.Z)(J).getInstance().getLogger(y),Te(),y}Ad.__dashjs_factory_name="MediaController";var Dd=S.Z.getSingletonFactory(Ad);S.Z.updateSingletonFactory(Ad.__dashjs_factory_name,Dd);const bl=Dd;var Gs=function y(p,b){(function(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")})(this,y),this.data={baseUrls:p||null,selectedIdx:b||NaN},this.children=[]};function Uh(){var y,p,b,I,O=Qt(this.context).getInstance();function A(ee,V,re){var te=j(re);ee[V]?O.areEqual(te,ee[V].data.baseUrls)||(ee[V].data.baseUrls=te,ee[V].data.selectedIdx=NaN):ee[V]=new Gs(te)}function j(ee){var V=b.getBaseURLsFromElement(ee),re=I.getSynthesizedBaseUrlElements(V);return re&&re.length>0&&(V=V.concat(re)),V}function J(ee,V){var re=V||p;ee(re.data),re.children&&re.children.forEach(function(te){return J(ee,te)})}function ie(){p=new Gs}return y={reset:ie,update:function(ee){!function(V){!function(){if(!b||!b.hasOwnProperty("getBaseURLsFromElement")||!b.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var re=j(V);O.areEqual(re,p.data.baseUrls)||(p.data.baseUrls=re,p.data.selectedIdx=NaN),V&&V.Period_asArray&&V.Period_asArray.forEach(function(te,Ae){A(p.children,Ae,te),te.AdaptationSet_asArray&&te.AdaptationSet_asArray.forEach(function(ye,Te){A(p.children[Ae].children,Te,ye),ye.Representation_asArray&&ye.Representation_asArray.sort(b.getRepresentationSortFunction()).forEach(function(de,z){A(p.children[Ae].children[Te].children,z,de)})})})}(ee)},getForPath:function(ee){var V=p,re=[V.data];return ee&&ee.forEach(function(te){(V=V.children[te])&&re.push(V.data)}),re.filter(function(te){return te.baseUrls.length})},invalidateSelectedIndexes:function(ee){J(function(V){isNaN(V.selectedIdx)||ee===V.baseUrls[V.selectedIdx].serviceLocation&&(V.selectedIdx=NaN)})},setConfig:function(ee){ee.adapter&&(b=ee.adapter),ee.contentSteeringController&&(I=ee.contentSteeringController)},getBaseUrls:function(ee){return j(ee)}},ie(),y}Uh.__dashjs_factory_name="BaseURLTreeModel";const Ut=S.Z.getClassFactory(Uh);function Id(y){var p=(y=y||{}).blacklistController;return{select:function(b){return b&&function(R){var O,A,j=0,J=[],ie=0;if((A=R.sort(function(ee,V){var re=ee.dvb_priority-V.dvb_priority;return isNaN(re)?0:re}).filter(function(ee,V,re){return!V||re[0].dvb_priority&&ee.dvb_priority&&re[0].dvb_priority===ee.dvb_priority})).length)return A.length>1&&(A.forEach(function(ee){J.push(j+=ee.dvb_weight)}),O=Math.floor(Math.random()*(j-1)),J.every(function(ee,V){return ie=V,!(O<ee)})),A[ie]}((I=[],b.filter(function(R){return!p.contains(R.serviceLocation)||(R.dvb_priority&&I.push(R.dvb_priority),!1)}).filter(function(R){return!I.length||!R.dvb_priority||-1===I.indexOf(R.dvb_priority)})));var I}}}Id.__dashjs_factory_name="DVBSelector";const Kt=S.Z.getClassFactory(Id);function nc(y){var p=(y=y||{}).blacklistController;return{select:function(b){var I,R=0;return b&&b.some(function(O,A){return R=A,!p.contains(O.serviceLocation)})&&(I=b[R]),I}}}nc.__dashjs_factory_name="BasicSelector";const Md=S.Z.getClassFactory(nc);function El(){var y,p,b;function R(){for(var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],j=0,J=NaN,ie=function(){var V=O[j],re=A.findIndex(function(te){return te.serviceLocation&&te.serviceLocation===V});if(-1!==re&&!b.contains(A[re].serviceLocation))return J=re,"break";j+=1};j<O.length&&"break"!==ie(););return J}return y={selectBaseUrlIndex:function(O){var A=NaN;if(isNaN(O.selectedIdx)){var j=p.getSteeringDataFromManifest();j&&j.defaultServiceLocationArray.length>0&&(A=R(j.defaultServiceLocationArray,O.baseUrls))}var J=p.getCurrentSteeringResponseData();return O.baseUrls&&O.baseUrls.length&&J&&J.pathwayPriority&&J.pathwayPriority.length&&(A=R(J.pathwayPriority,O.baseUrls)),A},setConfig:function(O){O.blacklistController&&(b=O.blacklistController),O.contentSteeringController&&(p=O.contentSteeringController)}},p=Fa(this.context).getInstance(),y}El.__dashjs_factory_name="ContentSteeringSelector";const Hg=S.Z.getClassFactory(El);function Vh(){var y,p,b,I,R,O,A=this.context,j=(0,w.Z)(A).getInstance(),J=(0,Rt.Z)(A).getInstance();function ie(){p.reset()}return y={chooseSelector:function(ee){(0,fe.PS)(ee,"boolean"),O=ee?I:b},select:function(ee){if(ee){if(J.get().streaming.applyContentSteering){var V=R.selectBaseUrlIndex(ee);isNaN(V)||-1===V||(ee.selectedIdx=V)}if(!isNaN(ee.selectedIdx))return ee.baseUrls[ee.selectedIdx];var re=O.select(ee.baseUrls);return re?(ee.selectedIdx=ee.baseUrls.indexOf(re),re):(j.trigger(m.Z.URL_RESOLUTION_FAILED,{error:new W.Z(ge.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,ge.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(O===b&&ie()))}},reset:ie,setConfig:function(ee){ee.selector&&(O=ee.selector),ee.contentSteeringSelector&&(R=ee.contentSteeringSelector)}},p=$c(A).create({updateEventName:m.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:m.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),b=Md(A).create({blacklistController:p}),I=Kt(A).create({blacklistController:p}),(R=Hg(A).create()).setConfig({blacklistController:p}),O=b,y}Vh.__dashjs_factory_name="BaseURLSelector";const Zg=S.Z.getClassFactory(Vh);function Ds(){var y,p,b,I,R,O=this.context,A=(0,w.Z)(O).getInstance(),j=(0,Ge.Z)(O).getInstance();function J(ee){b.update(ee),I.chooseSelector(p.getIsDVB(ee)),A.trigger(h.Z.BASE_URLS_UPDATED,{baseUrls:ie(ee)})}function ie(ee){return b.getBaseUrls(ee)}return y={reset:function(){b.reset(),I.reset()},initialize:function(ee){b.setConfig({adapter:p,contentSteeringController:R}),J(ee)},resolve:function(ee){var V=b.getForPath(ee).reduce(function(re,te){var Ae=I.select(te);return Ae?(j.isRelative(Ae.url)?re.url=j.resolve(Ae.url,re.url):(re.url=Ae.url,re.serviceLocation=Ae.serviceLocation),re.availabilityTimeOffset=Ae.availabilityTimeOffset,re.availabilityTimeComplete=Ae.availabilityTimeComplete,re.queryParams=Ae.queryParams,re):new vo},new vo);if(!j.isRelative(V.url))return V},setConfig:function(ee){ee.baseURLTreeModel&&(b=ee.baseURLTreeModel),ee.baseURLSelector&&(I=ee.baseURLSelector),ee.adapter&&(p=ee.adapter),ee.contentSteeringController&&(R=ee.contentSteeringController)},getBaseUrls:ie,update:J},b=Ut(O).create(),I=Zg(O).create(),A.on(m.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(ee){b.invalidateSelectedIndexes(ee.entry)},y),y}Ds.__dashjs_factory_name="BaseURLController";const Is=S.Z.getClassFactory(Ds);function po(y){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function ls(y,p){return(ls=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function Ba(y){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}const tu=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&ls(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=Ba(p);if(b){var j=Ba(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function Ur(y,p){return!p||"object"!==po(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(O,A){var j;return function(J,ie){if(!(J instanceof ie))throw new TypeError("Cannot call a class as a function")}(this,R),(j=I.call(this)).url=O||null,j.type=A||null,j.mediaType=d.Z.STREAM,j.responseType="",j}return R}(G.Z);function nu(y){y=y||{};var p=this.context,b=(0,w.Z)(p).getInstance(),I=Lt(p).create({errHandler:y.errHandler,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,errors:ge});return{load:function(R,O,A){var j=function(ie,ee){O.resolved=!0,O.resolvedContent=ie||null,b.trigger(m.Z.XLINK_ELEMENT_LOADED,{element:O,resolveObject:A,error:ie||ee?null:new W.Z(ge.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,ge.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+R)})};if("urn:mpeg:dash:resolve-to-zero:2013"===R)j(null,!0);else{var J=new tu(R,Ve.w.XLINK_EXPANSION_TYPE);I.load({request:J,success:function(ie){j(ie)},error:function(){j(null)}})}},reset:function(){I&&(I.abort(),I=null)}}}nu.__dashjs_factory_name="XlinkLoader";const jh=S.Z.getClassFactory(nu),Ms=function(y){function p(z){var pe=z.localName;return null==pe&&(pe=z.baseName),null!=pe&&""!=pe||(pe=z.nodeName),pe}function b(z){return"string"==typeof z?z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):z}function I(z,pe,ue,_e){for(var C=0;C<z.length;C++){var Y=z[C];if("string"==typeof Y){if(Y==_e)break}else if(Y instanceof RegExp){if(Y.test(_e))break}else if("function"==typeof Y&&Y(pe,ue,_e))break}return C!=z.length}function R(z,pe,ue){"property"===y.arrayAccessForm&&(z[pe+"_asArray"]=z[pe]instanceof Array?z[pe]:[z[pe]]),!(z[pe]instanceof Array)&&y.arrayAccessFormPaths.length>0&&I(y.arrayAccessFormPaths,z,pe,ue)&&(z[pe]=[z[pe]])}function O(z){var pe=z.split(/[-T:+Z]/g),ue=new Date(pe[0],pe[1]-1,pe[2]),_e=pe[5].split(".");if(ue.setHours(pe[3],pe[4],_e[0]),_e.length>1&&ue.setMilliseconds(_e[1]),pe[6]&&pe[7]){var C=60*pe[6]+Number(pe[7]);C=0+("-"==(/\d\d-\d\d:\d\d$/.test(z)?"-":"+")?-1*C:C),ue.setMinutes(ue.getMinutes()-C-ue.getTimezoneOffset())}else-1!==z.indexOf("Z",z.length-1)&&(ue=new Date(Date.UTC(ue.getFullYear(),ue.getMonth(),ue.getDate(),ue.getHours(),ue.getMinutes(),ue.getSeconds(),ue.getMilliseconds())));return ue}function A(z,pe,ue,_e){return!(1==pe&&y.xmlElementsFilter.length>0)||I(y.xmlElementsFilter,z,ue,_e)}function j(z,pe){if(9==z.nodeType){for(var ue=new Object,_e=z.childNodes,C=0;C<_e.length;C++)1==(K=_e[C]).nodeType&&(y.ignoreRoot?ue=j(K):(ue={})[Z=p(K)]=j(K));return ue}if(1==z.nodeType){(ue=new Object).__cnt=0;var Y=[];for(_e=z.childNodes,C=0;C<_e.length;C++){var K,Z=p(K=_e[C]);if(8!=K.nodeType){var U=pe+"."+Z;if(A(ue,K.nodeType,Z,U))if(ue.__cnt++,null==ue[Z]){var ae=j(K,U);("#text"!=Z||/[^\s]/.test(ae))&&((le={})[Z]=ae,Y.push(le)),ue[Z]=ae,R(ue,Z,U)}else{var le;null!=ue[Z]&&(ue[Z]instanceof Array||(ue[Z]=[ue[Z]],R(ue,Z,U))),ae=j(K,U),("#text"!=Z||/[^\s]/.test(ae))&&((le={})[Z]=ae,Y.push(le)),ue[Z][ue[Z].length]=ae}}}ue.__children=Y;for(var we=p(z),B=0;B<z.attributes.length;B++){var X=z.attributes[B];ue.__cnt++;for(var Re=X.value,Be=0,je=y.matchers.length;Be<je;Be++){var Je=y.matchers[Be];Je.test(X,we)&&(Re=Je.converter(X.value))}ue[y.attributePrefix+X.name]=Re}var Pe=z.prefix;return null!=Pe&&""!=Pe&&(ue.__cnt++,ue.__prefix=Pe),null!=ue["#text"]&&(ue.__text=ue["#text"],ue.__text instanceof Array&&(ue.__text=ue.__text.join("\n")),y.stripWhitespaces&&(ue.__text=ue.__text.trim()),delete ue["#text"],"property"==y.arrayAccessForm&&delete ue["#text_asArray"],ue.__text=function(nt,Bt,vt){if(y.datetimeAccessFormPaths.length>0){var Dt=vt.split(".#")[0];return I(y.datetimeAccessFormPaths,nt,Bt,Dt)?O(nt):nt}return nt}(ue.__text,Z,pe+"."+Z)),null!=ue["#cdata-section"]&&(ue.__cdata=ue["#cdata-section"],delete ue["#cdata-section"],"property"==y.arrayAccessForm&&delete ue["#cdata-section_asArray"]),0==ue.__cnt&&"text"==y.emptyNodeForm?ue="":1==ue.__cnt&&null!=ue.__text?ue=ue.__text:1!=ue.__cnt||null==ue.__cdata||y.keepCData?ue.__cnt>1&&null!=ue.__text&&y.skipEmptyTextNodesForObj&&(y.stripWhitespaces&&""==ue.__text||""==ue.__text.trim())&&delete ue.__text:ue=ue.__cdata,delete ue.__cnt,!y.enableToStringFunc||null==ue.__text&&null==ue.__cdata||(ue.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),ue}if(3==z.nodeType||4==z.nodeType)return z.nodeValue}function J(z,pe,ue,_e){var C="<"+(null!=z&&null!=z.__prefix?z.__prefix+":":"")+pe;if(null!=ue)for(var Y=0;Y<ue.length;Y++){var K=ue[Y],Z=z[K];y.escapeMode&&(Z=b(Z)),C+=" "+K.substr(y.attributePrefix.length)+"=",C+=y.useDoubleQuotes?'"'+Z+'"':"'"+Z+"'"}return C+(_e?"/>":">")}function ie(z,pe){return"</"+(null!=z.__prefix?z.__prefix+":":"")+pe+">"}function ee(z,pe){return"property"==y.arrayAccessForm&&-1!==(ue=pe.toString()).indexOf("_asArray",ue.length-8)||0==pe.toString().indexOf(y.attributePrefix)||0==pe.toString().indexOf("__")||z[pe]instanceof Function;var ue}function V(z){var pe=0;if(z instanceof Object)for(var ue in z)ee(z,ue)||pe++;return pe}function re(z,pe,ue){return 0==y.jsonPropertiesFilter.length||""==ue||I(y.jsonPropertiesFilter,z,pe,ue)}function te(z){var pe=[];if(z instanceof Object)for(var ue in z)-1==ue.toString().indexOf("__")&&0==ue.toString().indexOf(y.attributePrefix)&&pe.push(ue);return pe}function Ae(z){var ue,_e,pe="";return z instanceof Object?pe+=(_e="",null!=(ue=z).__cdata&&(_e+="<![CDATA["+ue.__cdata+"]]>"),null!=ue.__text&&(_e+=y.escapeMode?b(ue.__text):ue.__text),_e):null!=z&&(pe+=y.escapeMode?b(z):z),pe}function ye(z,pe){return""===z?pe:z+"."+pe}function Te(z,pe,ue,_e){var C="";if(0==z.length)C+=J(z,pe,ue,!0);else for(var Y=0;Y<z.length;Y++)C+=J(z[Y],pe,te(z[Y]),!1),C+=de(z[Y],ye(_e,pe)),C+=ie(z[Y],pe);return C}function de(z,pe){var ue="";if(V(z)>0)for(var _e in z)if(!ee(z,_e)&&(""==pe||re(z,_e,ye(pe,_e)))){var C=z[_e],Y=te(C);null==C||null==C?ue+=J(C,_e,Y,!0):C instanceof Object?C instanceof Array?ue+=Te(C,_e,Y,pe):C instanceof Date?(ue+=J(C,_e,Y,!1),ue+=C.toISOString(),ue+=ie(C,_e)):V(C)>0||null!=C.__text||null!=C.__cdata?(ue+=J(C,_e,Y,!1),ue+=de(C,ye(pe,_e)),ue+=ie(C,_e)):ue+=J(C,_e,Y,!0):(ue+=J(C,_e,Y,!1),ue+=Ae(C),ue+=ie(C,_e))}return ue+Ae(z)}void 0===(y=y||{}).escapeMode&&(y.escapeMode=!0),void 0===y.attributePrefix&&(y.attributePrefix="_"),y.arrayAccessForm=y.arrayAccessForm||"none",y.emptyNodeForm=y.emptyNodeForm||"text",void 0===y.enableToStringFunc&&(y.enableToStringFunc=!0),y.arrayAccessFormPaths=y.arrayAccessFormPaths||[],void 0===y.skipEmptyTextNodesForObj&&(y.skipEmptyTextNodesForObj=!0),void 0===y.stripWhitespaces&&(y.stripWhitespaces=!0),y.datetimeAccessFormPaths=y.datetimeAccessFormPaths||[],void 0===y.useDoubleQuotes&&(y.useDoubleQuotes=!1),y.xmlElementsFilter=y.xmlElementsFilter||[],y.jsonPropertiesFilter=y.jsonPropertiesFilter||[],void 0===y.keepCData&&(y.keepCData=!1),void 0===y.ignoreRoot&&(y.ignoreRoot=!1),this.parseXmlString=function(z){var pe;if(window,void 0===z)return null;if(window.DOMParser){var ue=new window.DOMParser;try{(pe=ue.parseFromString(z,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(pe=null)}catch{pe=null}}else 0==z.indexOf("<?")&&(z=z.substr(z.indexOf("?>")+2)),(pe=new ActiveXObject("Microsoft.XMLDOM")).async="false",pe.loadXML(z);return pe},this.asArray=function(z){return void 0===z||null==z?[]:z instanceof Array?z:[z]},this.toXmlDateTime=function(z){return z instanceof Date?z.toISOString():"number"==typeof z?new Date(z).toISOString():null},this.asDateTime=function(z){return"string"==typeof z?O(z):z},this.xml2json=function(z){return j(z)},this.xml_str2json=function(z){var pe=this.parseXmlString(z);return null!=pe?this.xml2json(pe):null},this.json2xml_str=function(z){return de(z,"")},this.json2xml=function(z){var pe=this.json2xml_str(z);return this.parseXmlString(pe)},this.getVersion=function(){return"1.2.0"}};var Rs="onLoad";function Rd(y){y=y||{};var p,b,I,R,O,A,j=this.context,J=(0,w.Z)(j).getInstance(),ie=(0,Ge.Z)(j).getInstance();function ee(ye,Te,de){var z,pe,ue={};ue.elements=ye,ue.type=Te,ue.resolveType=de,0===ue.elements.length&&re(ue);for(var _e=0;_e<ue.elements.length;_e++)pe=ie.isHTTPURL((z=ue.elements[_e]).url)?z.url:z.originalContent.BaseURL+z.url,A.load(pe,z,ue)}function V(ye){var Te,de,z="";if(de=ye.resolveObject,(Te=ye.element).resolvedContent){var pe=0;0===Te.resolvedContent.indexOf("<?xml")&&(pe=Te.resolvedContent.indexOf("?>")+2),z=Te.resolvedContent.substr(0,pe)+"<response>"+Te.resolvedContent.substr(pe)+"</response>",Te.resolvedContent=O.xml_str2json(z)}(function(ue){var _e;for(_e=0;_e<ue.elements.length;_e++)if(!1===ue.elements[_e].resolved)return!1;return!0})(de)&&re(de)}function re(ye){var Te,de,z=[];if(function(pe){var ue,_e,Y,K,Z,U=[];for(Y=pe.elements.length-1;Y>=0;Y--){if(_e=(ue=pe.elements[Y]).type+"_asArray",ue.resolvedContent){if(ue.resolvedContent)for(K=0;K<ue.resolvedContent[_e].length;K++)U.push(ue.resolvedContent[_e][K])}else delete ue.originalContent["xlink:actuate"],delete ue.originalContent["xlink:href"],U.push(ue.originalContent);for(ue.parentElement[_e].splice(ue.index,1),Z=0;Z<U.length;Z++)ue.parentElement[_e].splice(ue.index+Z,0,U[Z]);U=[]}pe.elements.length>0&&I.run(R)}(ye),"onActuate"===ye.resolveType&&J.trigger(m.Z.XLINK_READY,{manifest:R}),ye.resolveType===Rs)switch(ye.type){case f.Z.PERIOD:for(Te=0;Te<R[f.Z.PERIOD+"_asArray"].length;Te++)(de=R[f.Z.PERIOD+"_asArray"][Te]).hasOwnProperty(f.Z.ADAPTATION_SET+"_asArray")&&(z=z.concat(te(de[f.Z.ADAPTATION_SET+"_asArray"],de,f.Z.ADAPTATION_SET,Rs))),de.hasOwnProperty(f.Z.EVENT_STREAM+"_asArray")&&(z=z.concat(te(de[f.Z.EVENT_STREAM+"_asArray"],de,f.Z.EVENT_STREAM,Rs)));ee(z,f.Z.ADAPTATION_SET,Rs);break;case f.Z.ADAPTATION_SET:J.trigger(m.Z.XLINK_READY,{manifest:R})}}function te(ye,Te,de,z){var pe,ue,_e,C=[];for(ue=ye.length-1;ue>=0;ue--)(pe=ye[ue]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===pe["xlink:href"]&&ye.splice(ue,1);for(ue=0;ue<ye.length;ue++)(pe=ye[ue]).hasOwnProperty("xlink:href")&&pe.hasOwnProperty("xlink:actuate")&&pe["xlink:actuate"]===z&&(_e=Ae(pe["xlink:href"],Te,de,ue,z,pe),C.push(_e));return C}function Ae(ye,Te,de,z,pe,ue){return{url:ye,parentElement:Te,type:de,index:z,resolveType:pe,originalContent:ue,resolvedContent:null,resolved:!1}}return p={resolveManifestOnLoad:function(ye){O=new Ms({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:b}),(R=ye).Period_asArray?ee(te(R.Period_asArray,R,f.Z.PERIOD,Rs),f.Z.PERIOD,Rs):J.trigger(m.Z.XLINK_READY,{manifest:R})},setMatchers:function(ye){ye&&(b=ye)},setIron:function(ye){ye&&(I=ye)},reset:function(){J.off(m.Z.XLINK_ELEMENT_LOADED,V,p),A&&(A.reset(),A=null)}},J.on(m.Z.XLINK_ELEMENT_LOADED,V,p),A=jh(j).create({errHandler:y.errHandler,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,settings:y.settings}),p}Rd.__dashjs_factory_name="XlinkController";const Hh=S.Z.getClassFactory(Rd);function Ua(y){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function xd(y){function p(R,O){for(var A in R)O.hasOwnProperty(A)||(O[A]=R[A])}function b(R,O,A){for(var j=0,J=R.length;j<J;++j){var ie=R[j];if(O[ie.name])if(A[ie.name]){if(ie.merge){var ee=O[ie.name],V=A[ie.name];"object"===Ua(ee)&&"object"===Ua(V)?p(ee,V):A[ie.name]=ee+V}}else A[ie.name]=O[ie.name]}}function I(R,O){for(var A=0,j=R.children.length;A<j;++A){var J=R.children[A],ie=O[J.name+"_asArray"];if(ie)for(var ee=0,V=ie.length;ee<V;++ee){var re=ie[ee];b(R.properties,O,re),I(J,re)}}}return{run:function(R){if(null===R||"object"!==Ua(R))return R;if(R.Period_asArray&&"period"in y)for(var O=y.period,A=R.Period_asArray,j=0,J=A.length;j<J;++j){var ie=A[j];if(I(O,ie),"adaptationset"in y){var ee=ie.AdaptationSet_asArray;if(ee)for(var V=y.adaptationset,re=0,te=ee.length;re<te;++re)I(V,ee[re])}}return R}}}xd.__dashjs_factory_name="ObjectIron";const Zh=S.Z.getClassFactory(xd),Tl=function(){function y(I,R){(function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")})(this,y),this._test=I,this._converter=R}var b;return(b=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&function rc(y,p){for(var b=0;b<p.length;b++){var I=p[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}();function ru(y){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function $r(y,p,b){return p in y?Object.defineProperty(y,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[p]=b,y}function iu(y,p){return(iu=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function ou(y){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}const cs=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&iu(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=ou(p);if(b){var j=ou(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function zg(y,p){return!p||"object"!==ru(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){return function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}(this,R),I.call(this,function(O,A){var j,J=($r(j={},f.Z.MPD,[f.Z.ID,f.Z.PROFILES]),$r(j,f.Z.PERIOD,[f.Z.ID]),$r(j,f.Z.BASE_URL,[f.Z.SERVICE_LOCATION,f.Z.BYTE_RANGE]),$r(j,f.Z.SEGMENT_BASE,[f.Z.INDEX_RANGE]),$r(j,f.Z.INITIALIZATION,[f.Z.RANGE]),$r(j,f.Z.REPRESENTATION_INDEX,[f.Z.RANGE]),$r(j,f.Z.SEGMENT_LIST,[f.Z.INDEX_RANGE]),$r(j,f.Z.BITSTREAM_SWITCHING,[f.Z.RANGE]),$r(j,f.Z.SEGMENT_URL,[f.Z.MEDIA_RANGE,f.Z.INDEX_RANGE]),$r(j,f.Z.SEGMENT_TEMPLATE,[f.Z.INDEX_RANGE,f.Z.MEDIA,f.Z.INDEX,f.Z.INITIALIZATION_MINUS,f.Z.BITSTREAM_SWITCHING_MINUS]),$r(j,f.Z.ASSET_IDENTIFIER,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.EVENT_STREAM,[f.Z.VALUE]),$r(j,f.Z.ADAPTATION_SET,[f.Z.PROFILES,f.Z.MIME_TYPE,f.Z.SEGMENT_PROFILES,f.Z.CODECS,f.Z.CONTENT_TYPE]),$r(j,f.Z.FRAME_PACKING,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.AUDIO_CHANNEL_CONFIGURATION,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.CONTENT_PROTECTION,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.ESSENTIAL_PROPERTY,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.SUPPLEMENTAL_PROPERTY,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.INBAND_EVENT_STREAM,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.ACCESSIBILITY,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.ROLE,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.RATING,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.VIEWPOINT,[f.Z.VALUE,f.Z.ID]),$r(j,f.Z.CONTENT_COMPONENT,[f.Z.CONTENT_TYPE]),$r(j,f.Z.REPRESENTATION,[f.Z.ID,f.Z.DEPENDENCY_ID,f.Z.MEDIA_STREAM_STRUCTURE_ID]),$r(j,f.Z.SUBSET,[f.Z.ID]),$r(j,f.Z.METRICS,[f.Z.METRICS_MINUS]),$r(j,f.Z.REPORTING,[f.Z.VALUE,f.Z.ID]),j);if(J.hasOwnProperty(A)){var ie=J[A];return void 0!==ie&&ie.indexOf(O.name)>=0}return!1},function(O){return String(O)})}return R}(Tl);function Nd(y){return(Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function su(y,p){return(su=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function au(y){return(au=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}var zh=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;const qg=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&su(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=au(p);if(b){var j=au(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function Gg(y,p){return!p||"object"!==Nd(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){return function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}(this,R),I.call(this,function(O){for(var A=[f.Z.MIN_BUFFER_TIME,f.Z.MEDIA_PRESENTATION_DURATION,f.Z.MINIMUM_UPDATE_PERIOD,f.Z.TIMESHIFT_BUFFER_DEPTH,f.Z.MAX_SEGMENT_DURATION,f.Z.MAX_SUBSEGMENT_DURATION,f.Z.SUGGESTED_PRESENTATION_DELAY,f.Z.START,d.Z.START_TIME,f.Z.DURATION],j=A.length,J=0;J<j;J++)if(O.nodeName===A[J])return zh.test(O.value);return!1},function(O){var A=zh.exec(O),j=31536e3*parseFloat(A[3]||0)+2592e3*parseFloat(A[5]||0)+86400*parseFloat(A[7]||0)+3600*parseFloat(A[9]||0)+60*parseFloat(A[11]||0)+parseFloat(A[13]||0);return void 0!==A[1]&&(j=-j),j})}return R}(Tl);function lu(y){return(lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function Od(y,p){return(Od=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function cu(y){return(cu=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}var Tr=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;const $g=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&Od(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=cu(p);if(b){var j=cu(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function Yg(y,p){return!p||"object"!==lu(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){return function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}(this,R),I.call(this,function(O){return Tr.test(O.value)},function(O){var A,j=Tr.exec(O);if(A=Date.UTC(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10),j[6]&&parseInt(j[6],10)||0,j[7]&&1e3*parseFloat(j[7])||0),j[9]&&j[10]){var J=60*parseInt(j[9],10)+parseInt(j[10],10);A+=("+"===j[8]?-1:1)*J*60*1e3}return new Date(A)})}return R}(Tl);function Pd(y){return(Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function kd(y,p){return(kd=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function uu(y){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}var Gh=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;const jn=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&kd(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=uu(p);if(b){var j=uu(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function si(y,p){return!p||"object"!==Pd(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){return function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}(this,R),I.call(this,function(O){return Gh.test(O.value)},function(O){return parseFloat(O)})}return R}(Tl);function Li(y){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function xr(y,p,b){return p in y?Object.defineProperty(y,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[p]=b,y}function zi(y,p){return(zi=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function qs(y){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}const Bo=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&zi(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=qs(p);if(b){var j=qs(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function No(y,p){return!p||"object"!==Li(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){return function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}(this,R),I.call(this,function(O,A){var j,J=(xr(j={},f.Z.ADAPTATION_SET,[f.Z.LANG]),xr(j,f.Z.REPRESENTATION,[f.Z.LANG]),xr(j,f.Z.CONTENT_COMPONENT,[f.Z.LANG]),xr(j,f.Z.LABEL,[f.Z.LANG]),xr(j,f.Z.GROUP_LABEL,[f.Z.LANG]),j);if(J.hasOwnProperty(A)){var ie=J[A];return void 0!==ie&&ie.indexOf(O.name)>=0}return!1},function(O){var A=Jc()(O);return void 0!==A?A:String(O)})}return R}(Tl),Yh=function(){function y(I){var R;(function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")})(this,y),this._name=I,this._merge=(R=I)&&R.length&&R.charAt(0)===R.charAt(0).toUpperCase()}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&function qh(y,p){for(var b=0;b<p.length;b++){var I=p[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}(),wl=function(){function y(I,R,O){var A=this;(function(j,J){if(!(j instanceof J))throw new TypeError("Cannot call a class as a function")})(this,y),this._name=I||"",this._properties=[],this._children=O||[],Array.isArray(R)&&R.forEach(function(j){A._properties.push(new Yh(j))})}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&function du(y,p){for(var b=0;b<p.length;b++){var I=p[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}();function Fd(y){return(Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function Ni(y,p){return(Ni=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function dr(y){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}const pi=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&Ni(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=dr(p);if(b){var j=dr(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function Pn(y,p){return!p||"object"!==Fd(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){!function(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}(this,R);var O=[f.Z.PROFILES,f.Z.WIDTH,f.Z.HEIGHT,f.Z.SAR,f.Z.FRAMERATE,f.Z.AUDIO_SAMPLING_RATE,f.Z.MIME_TYPE,f.Z.SEGMENT_PROFILES,f.Z.CODECS,f.Z.MAXIMUM_SAP_PERIOD,f.Z.START_WITH_SAP,f.Z.MAX_PLAYOUT_RATE,f.Z.CODING_DEPENDENCY,f.Z.SCAN_TYPE,f.Z.FRAME_PACKING,f.Z.AUDIO_CHANNEL_CONFIGURATION,f.Z.CONTENT_PROTECTION,f.Z.ESSENTIAL_PROPERTY,f.Z.ESSENTIAL_PROPERTY+"_asArray",f.Z.SUPPLEMENTAL_PROPERTY,f.Z.INBAND_EVENT_STREAM];return I.call(this,f.Z.ADAPTATION_SET,O,[new wl(f.Z.REPRESENTATION,O,[new wl(f.Z.SUB_REPRESENTATION,O)])])}return R}(wl);function Uo(y){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function Ys(y,p){return(Ys=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function $s(y){return($s=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}const yi=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&Ys(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=$s(p);if(b){var j=$s(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function mo(y,p){return!p||"object"!==Uo(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){!function(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}(this,R);var O=[f.Z.SEGMENT_BASE,f.Z.SEGMENT_TEMPLATE,f.Z.SEGMENT_LIST];return I.call(this,f.Z.PERIOD,O,[new wl(f.Z.ADAPTATION_SET,O,[new wl(f.Z.REPRESENTATION,O)])])}return R}(wl);function Va(y){var p,b,I,R,O,A=this.context;return p={parse:function(J){var ie,ee=window.performance.now();if(!(ie=R.xml_str2json(J)))throw new Error("parsing the manifest failed");var V=window.performance.now();ie.Patch?((ie=ie.Patch).add_asArray&&ie.add_asArray.forEach(function(te){return O.run(te)}),ie.replace_asArray&&ie.replace_asArray.forEach(function(te){return O.run(te)})):O.run(ie=ie.MPD);var re=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(V-ee).toPrecision(3)+"ms, objectiron: "+(re-V).toPrecision(3)+"ms, total: "+((re-ee)/1e3).toPrecision(3)+"s)"),ie.protocol="DASH",ie},getMatchers:function(){return I},getIron:function(){return O}},b=(y=y||{}).debug.getLogger(p),I=[new qg,new $g,new jn,new Bo,new cs],R=new Ms({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:I}),O=Zh(A).create({adaptationset:new pi,period:new yi}),p}Va.__dashjs_factory_name="DashParser";const ja=S.Z.getClassFactory(Va);function fr(y){var p,b,I,R,O,A=this.context,j=(y=y||{}).debug,J=y.settings,ie=(0,w.Z)(A).getInstance(),ee=(0,Ge.Z)(A).getInstance(),V=y.mssHandler,re=y.errHandler;function te(ye){ie.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:ye.manifest})}return p={load:function(ye){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,de=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,z=new Date,pe=new tu(ye,Ve.w.MPD_TYPE);Te&&(pe.serviceLocation=Te),de&&(pe.queryParams=de),pe.requestStartDate||(pe.requestStartDate=z),ie.trigger(m.Z.MANIFEST_LOADING_STARTED,{request:pe}),I.load({request:pe,success:function(ue,_e,C){var Y,K,Z;if(R)if(C&&C!==ye?(K=ee.parseBaseUrl(C),Y=C):(ee.isRelative(ye)&&(ye=ee.resolve(ye,window.location.href)),K=ee.parseBaseUrl(ye)),"No Content"!=_e)if(null===O&&(O=function Ae(ye){var Te=null;return ye.indexOf("SmoothStreamingMedia")>-1?(V&&(Te=V.createMssParser(),V.createMssFragmentProcessor(),V.registerEvents()),Te):ye.indexOf("MPD")>-1||ye.indexOf("Patch")>-1?ja(A).create({debug:j}):Te}(ue)),null!==O){R.setMatchers(O.getMatchers()),R.setIron(O.getIron());try{Z=O.parse(ue)}catch{return void ie.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new W.Z(ge.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ge.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ye))})}if(Z){if(Z.url=Y||ye,Z.originalUrl||(Z.originalUrl=Z.url),J&&J.get().streaming.enableManifestDurationMismatchFix&&Z.mediaPresentationDuration&&Z.Period_asArray.length>1){var U=Z.Period_asArray.reduce(function(ae,le){return ae+le.duration},0);!isNaN(U)&&Z.mediaPresentationDuration>U&&(b.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Z.mediaPresentationDuration=U)}Z.baseUri=K,Z.loadedTime=new Date,R.resolveManifestOnLoad(Z),ie.trigger(m.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:ue})}else ie.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new W.Z(ge.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ge.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ye))})}else ie.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new W.Z(ge.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ge.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ye))});else ie.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(ue,_e,C){ie.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new W.Z(ge.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,ge.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ye,", ").concat(C))})}})},reset:function(){ie.off(m.Z.XLINK_READY,te,p),V&&V.reset(),R&&(R.reset(),R=null),I&&(I.abort(),I=null)}},b=j.getLogger(p),ie.on(m.Z.XLINK_READY,te,p),I=Lt(A).create({errHandler:y.errHandler,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,urlUtils:ee,constants:d.Z,dashConstants:f.Z,errors:ge,requestTimeout:y.settings.get().streaming.manifestRequestTimeout}),R=Hh(A).create({errHandler:re,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,settings:y.settings}),O=null,p}fr.__dashjs_factory_name="ManifestLoader";const ic=S.Z.getClassFactory(fr);function Ld(){var p=(0,w.Z)(this.context).getInstance();return{error:function(b){p.trigger(m.Z.ERROR,{error:b})}}}Ld.__dashjs_factory_name="ErrorHandler";const Sl=S.Z.getSingletonFactory(Ld);var Ci=L(1715);function Cl(){var y,p,b,I,R,O,A=this.context,j=(0,w.Z)(A).getInstance();function J(ie,ee){if(!ee||!ee.Period_asArray||0===ee.Period_asArray.length)return Promise.resolve();var V=[];return ee.Period_asArray.forEach(function(re){var te,Ae;V.push((te=re,Ae=ie,new Promise(function(ye){if(te&&te.AdaptationSet_asArray&&0!==te.AdaptationSet_asArray.length){var Te=[];te.AdaptationSet_asArray.forEach(function(de){var z,pe;p.getIsTypeOf(de,Ae)&&Te.push((z=de,pe=Ae,new Promise(function(ue){if(z.Representation_asArray&&0!==z.Representation_asArray.length){var _e=[],C=[];z.Representation_asArray.forEach(function(Y,K){var Z=p.getCodec(z,K,!1),U=function(ae,le,we){switch(ae){case d.Z.VIDEO:return{codec:we,width:(B=le).width||null,height:B.height||null,framerate:B.frameRate||null,bitrate:B.bandwidth||null};case d.Z.AUDIO:return function(B,X){return{codec:X,bitrate:B.bandwidth||null,samplerate:B.audioSamplingRate||null}}(le,we);default:return null}var B}(pe,Y,Z);C.push(U),_e.push(b.supportsCodec(U,pe))}),Promise.all(_e).then(function(Y){z.Representation_asArray=z.Representation_asArray.filter(function(K,Z){return Y[Z]||O.debug("[Stream] Codec ".concat(C[Z].codec," not supported ")),Y[Z]}),ue()}).catch(function(){ue()})}else ue()})))}),Promise.all(Te).then(function(){te.AdaptationSet_asArray=te.AdaptationSet_asArray.filter(function(de){var z=de.Representation_asArray&&de.Representation_asArray.length>0;return z||(j.trigger(m.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:de}),O.warn("AdaptationSet has been removed because of no supported Representation")),z}),ye()}).catch(function(){ye()})}else ye()})))}),Promise.all(V)}return y={setConfig:function(ie){ie&&(ie.adapter&&(p=ie.adapter),ie.capabilities&&(b=ie.capabilities),ie.settings&&(I=ie.settings),ie.customParametersModel&&(R=ie.customParametersModel))},filterUnsupportedFeatures:function(ie){return new Promise(function(ee){var V=[];V.push(J(d.Z.VIDEO,ie)),V.push(J(d.Z.AUDIO,ie)),Promise.all(V).then(function(){var re;I.get().streaming.capabilities.filterUnsupportedEssentialProperties&&(re=ie)&&re.Period_asArray&&0!==re.Period_asArray.length&&re.Period_asArray.forEach(function(te){te.AdaptationSet_asArray=te.AdaptationSet_asArray.filter(function(Ae){return!Ae.Representation_asArray||0===Ae.Representation_asArray.length||(Ae.Representation_asArray=Ae.Representation_asArray.filter(function(ye){var Te=p.getEssentialPropertiesForRepresentation(ye);if(Te&&Te.length>0)for(var de=0;de<Te.length;){if(!b.supportsEssentialProperty(Te[de]))return O.debug("[Stream] EssentialProperty not supported: "+Te[de].schemeIdUri),!1;de+=1}return!0}),Ae.Representation_asArray&&Ae.Representation_asArray.length>0)})}),function(re){var te=R.getCustomCapabilitiesFilters();te&&0!==te.length&&re&&re.Period_asArray&&0!==re.Period_asArray.length&&re.Period_asArray.forEach(function(Ae){Ae.AdaptationSet_asArray=Ae.AdaptationSet_asArray.filter(function(ye){return!ye.Representation_asArray||0===ye.Representation_asArray.length||(ye.Representation_asArray=ye.Representation_asArray.filter(function(Te){return!te.some(function(de){return!de(Te)})}),ye.Representation_asArray&&ye.Representation_asArray.length>0)})})}(ie),ee()}).catch(function(){ee()})})}},O=(0,N.Z)(A).getInstance().getLogger(y),y}Cl.__dashjs_factory_name="CapabilitiesFilter";const Al=S.Z.getSingletonFactory(Cl),xs=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Dl(){var y;return{initialize:function(p){if(y=new xs,!p)return null;var b=p.indexOf("#");if(-1!==b)for(var I=p.substr(b+1).split("&"),R=0,O=I.length;R<O;++R){var A=I[R],j=A.indexOf("=");if(-1!==j){var J=A.substring(0,j);y.hasOwnProperty(J)&&(y[J]=A.substr(j+1))}}},getURIFragmentData:function(){return y}}}Dl.__dashjs_factory_name="URIFragmentModel";const $h=S.Z.getSingletonFactory(Dl);function Ws(){var y,b=(0,w.Z)(this.context).getInstance();return{getValue:function(){return y},setValue:function(I){y=I,I&&b.trigger(m.Z.MANIFEST_LOADED,{data:I})}}}Ws.__dashjs_factory_name="ManifestModel";const Ks=S.Z.getSingletonFactory(Ws);function oc(){var y,p,b,I,R=this.context,O=(0,Rt.Z)(R).getInstance();function A(ie,ee){return isNaN(ie)?0:ie>0?(ee&&p.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie<-.5?(ee&&p.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(-.5,": ").concat(-50,"% playback speed.")),-.5):ie}function j(ie,ee){return isNaN(ie)?0:ie<0?(ee&&p.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie>1?(ee&&p.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ie}function J(){var ie=O.get().streaming.buffer.stableBufferTime>0?O.get().streaming.buffer.stableBufferTime:O.get().streaming.buffer.fastSwitchEnabled?20:12,ee=b.getLiveDelay();return!isNaN(ee)&&ee>0?Math.min(ie,ee):ie}return y={getCatchupMaxDrift:function(){if(!isNaN(O.get().streaming.liveCatchup.maxDrift)&&O.get().streaming.liveCatchup.maxDrift>0)return O.get().streaming.liveCatchup.maxDrift;var ie=I.getServiceDescriptionSettings();return ie&&ie.liveCatchup&&!isNaN(ie.liveCatchup.maxDrift)&&ie.liveCatchup.maxDrift>0?ie.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==O.get().streaming.liveCatchup.enabled?O.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:J,getInitialBufferLevel:function(){var ie=O.get().streaming.buffer.initialBufferLevel;return isNaN(ie)||ie<0?0:Math.min(J(),ie)},getRetryAttemptsForType:function(ie){var ee=isNaN(O.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:O.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?O.get().streaming.retryAttempts[ie]*ee:O.get().streaming.retryAttempts[ie]},getRetryIntervalsForType:function(ie){var ee=isNaN(O.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:O.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?O.get().streaming.retryIntervals[ie]/ee:O.get().streaming.retryIntervals[ie]},getCatchupPlaybackRates:function(ie){var ee=O.get().streaming.liveCatchup.playbackRate;if(!isNaN(ee.min)||!isNaN(ee.max))return{min:A(ee.min,ie),max:j(ee.max,ie)};var V=I.getServiceDescriptionSettings();if(V&&V.liveCatchup&&(!isNaN(V.liveCatchup.playbackRate.min)||!isNaN(V.liveCatchup.playbackRate.max))){var re=V.liveCatchup.playbackRate;return{min:A(re.min,ie),max:j(re.max,ie)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(ie,ee){try{var V=O.get().streaming.abr[ie][ee];if(!isNaN(V)&&-1!==V)return V;var re=I.getServiceDescriptionSettings();return re&&re[ie]&&!isNaN(re[ie][ee])?re[ie][ee]:-1}catch{return-1}},setConfig:function(ie){ie.playbackController&&(b=ie.playbackController),ie.serviceDescriptionController&&(I=ie.serviceDescriptionController)},reset:function(){}},p=(0,N.Z)(R).getInstance().getLogger(y),y}oc.__dashjs_factory_name="MediaPlayerModel";const Mr=S.Z.getSingletonFactory(oc);var l0=L(1767);function fu(y){var p=(y=y||{}).abrController,b=y.switchHistory,I=y.droppedFramesHistory,R=y.currentRequest,O=y.useBufferOccupancyABR,A=y.useL2AABR,j=y.useLoLPABR,J=y.streamProcessor?y.streamProcessor.getScheduleController():null,ie=y.streamProcessor?y.streamProcessor.getRepresentationInfo():null,ee=y.videoModel?y.videoModel:null;function V(){return ie?ie.mediaInfo:null}return{getMediaType:function(){var re=V();return re?re.type:null},getMediaInfo:V,getDroppedFramesHistory:function(){return I},getCurrentRequest:function(){return R},getSwitchHistory:function(){return b},getStreamInfo:function(){var re=V();return re?re.streamInfo:null},getScheduleController:function(){return J},getAbrController:function(){return p},getRepresentationInfo:function(){return ie},useBufferOccupancyABR:function(){return O},useL2AABR:function(){return A},useLoLPABR:function(){return j},getVideoModel:function(){return ee}}}fu.__dashjs_factory_name="RulesContext";const Bd=S.Z.getClassFactory(fu);var Vo=L(2068);function sc(){var y=[],p=[];return{push:function(b){b.newValue===Vo.Z.NO_CHANGE&&(b.newValue=b.oldValue),y[b.oldValue]||(y[b.oldValue]={noDrops:0,drops:0,dropSize:0});var I=b.newValue-b.oldValue,R=I<0?1:0,O=R?-I:0,A=R?0:1;if(y[b.oldValue].drops+=R,y[b.oldValue].dropSize+=O,y[b.oldValue].noDrops+=A,p.push({idx:b.oldValue,noDrop:A,drop:R,dropSize:O}),p.length>8){var j=p.shift();y[j.idx].drops-=j.drop,y[j.idx].dropSize-=j.dropSize,y[j.idx].noDrops-=j.noDrop}},getSwitchRequests:function(){return y},reset:function(){y=[],p=[]}}}sc.__dashjs_factory_name="SwitchRequestHistory";const Ml=S.Z.getClassFactory(sc);function Rl(){var y={},p={},b={};return{push:function(I,R,O){if(R){y[I]||(y[I]=[],p[I]=0,b[I]=0);var A=O&&O.droppedVideoFrames?O.droppedVideoFrames:0,j=O&&O.totalVideoFrames?O.totalVideoFrames:0,J=A-p[I];p[I]=A;var ie=j-b[I];b[I]=j;var ee=y[I];isNaN(R)||(ee[R]?(ee[R].droppedVideoFrames+=J,ee[R].totalVideoFrames+=ie):ee[R]={droppedVideoFrames:J,totalVideoFrames:ie})}},getFrameHistory:function(I){return y[I]},clearForStream:function(I){try{delete y[I],delete p[I],delete b[I]}catch{}},reset:function(){y={},p={},b={}}}}Rl.__dashjs_factory_name="DroppedFramesHistory";const eo=S.Z.getClassFactory(Rl);function Wg(y){var p,b,I,R,O,j=(y=y||{}).settings,J=(0,w.Z)(this.context).getInstance();function ie(ye,Te,de,z){var pe=Math.pow(.5,de/z.fast);ye.fastEstimate=(1-pe)*Te+pe*ye.fastEstimate;var ue=Math.pow(.5,de/z.slow);ye.slowEstimate=(1-ue)*Te+ue*ye.slowEstimate,ye.totalWeight+=de}function ee(ye,Te,de){return j.get().streaming.abr.movingAverageMethod!==d.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(z,pe){var ue=z?O.throughputHalfLife:O.latencyHalfLife,_e=z?I[pe]:R[pe];if(!_e||_e.totalWeight<=0)return NaN;var C=_e.fastEstimate/(1-Math.pow(.5,_e.totalWeight/ue.fast)),Y=_e.slowEstimate/(1-Math.pow(.5,_e.totalWeight/ue.slow));return z?Math.min(C,Y):Math.max(C,Y)}(ye,Te):(_e=function(Y,K,Z){var U,ae;if(Y?(U=p[K],ae=Z?3:4):(U=b[K],ae=4),U){if(ae>=U.length)ae=U.length;else if(Y)for(var le=1;le<ae;++le){var we=U[U.length-le]/U[U.length-le-1];if((we>=1.3||we<=.7692307692307692)&&(ae+=1)===U.length)break}}else ae=0;return ae}(z=ye,pe=Te,de),C=(z?p:b)[pe],0!==_e&&C&&0!==C.length?(C=C.slice(-_e)).reduce(function(Y,K){return Y+K})/C.length:NaN);var z,pe,_e,C}function V(ye,Te){return ee(!0,ye,Te)}function re(ye){p[ye]=p[ye]||[],b[ye]=b[ye]||[],I[ye]=I[ye]||{fastEstimate:0,slowEstimate:0,totalWeight:0},R[ye]=R[ye]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function te(){p={},b={},I={},R={}}var Ae={push:function(ye,Te,de){if(Te.trace&&Te.trace.length){var z,pe=Te.tresponse.getTime()-Te.trequest.getTime()||1,ue=Te._tfinish.getTime()-Te.tresponse.getTime()||1,_e=Te.trace.reduce(function(Z,U){return Z+U.b[0]},0),C=0;if(0!==(z=Te._fileLoaderType&&Te._fileLoaderType===d.Z.FILE_LOADER_TYPES.FETCH?Te.trace.reduce(function(Z,U){return Z+U.d},0):de?ue:pe+ue)&&(C=Math.round(8*_e/z)),Te.cmsd){var Y=Te.cmsd.dynamic&&Te.cmsd.dynamic.etp?Te.cmsd.dynamic.etp:null;if(Y){var K=j.get().streaming.cmsd.abr.etpWeightRatio;K>0&&K<=1&&(C=C*(1-K)+Y*K)}}if(re(ye),ae=ue,(Z=ye)===d.Z.VIDEO?ae<j.get().streaming.cacheLoadThresholds[d.Z.VIDEO]:Z===d.Z.AUDIO?ae<j.get().streaming.cacheLoadThresholds[d.Z.AUDIO]:void 0){if(p[ye].length>0&&!p[ye].hasCachedEntries)return;p[ye].hasCachedEntries=!0}else p[ye]&&p[ye].hasCachedEntries&&function(Z){delete p[Z],delete b[Z],delete I[Z],delete R[Z],re(Z)}(ye);p[ye].push(C),J.trigger(h.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:C,mediaType:ye,httpRequest:Te}),p[ye].length>20&&p[ye].shift(),b[ye].push(pe),b[ye].length>20&&b[ye].shift(),ie(I[ye],C,.001*ue,O.throughputHalfLife),ie(R[ye],pe,1,O.latencyHalfLife)}var Z,ae},getAverageThroughput:V,getSafeAverageThroughput:function(ye,Te){var de=V(ye,Te);return isNaN(de)||(de*=j.get().streaming.abr.bandwidthSafetyFactor),de},getAverageLatency:function(ye){return ee(!1,ye)},reset:te};return O={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},te(),Ae}Wg.__dashjs_factory_name="ThroughputHistory";const jo=S.Z.getClassFactory(Wg);function To(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,Te,de,z,pe,ue,_e,C,Y,K,Z,U,ae=this.context,le=(0,N.Z)(ae).getInstance(),we=(0,w.Z)(ae).getInstance();function B(){R={},O={},j={},A={},pe={},C={},Y={},K={},void 0===ie&&(ie=!1),ue&&ue.reset(),z=void 0,ue=void 0,_e=void 0,clearTimeout(J),J=null}function X(Le){var Se=Le.request.mediaType,Qe=Le.streamId;if(Se&&Qe&&A[Qe]&&U.get().streaming.abr.autoSwitchBitrate[Se]){var Oe=A[Qe][Se];if(Oe){var et=Bd(ae).create({abrController:y,streamProcessor:Oe,currentRequest:Le.request,useBufferOccupancyABR:C[Se],useL2AABR:Y[Se],useLoLPABR:K[Se],videoModel:te}),lt=b.shouldAbandonFragment(et,Qe);lt.quality>Vo.Z.NO_CHANGE&&Oe.getFragmentModel().getRequests({state:F.FRAGMENT_MODEL_LOADING,index:Le.request.index})[0]&&(j[Qe][Se].state=P.Z.ABANDON_LOAD,pe[Qe][Se].reset(),pe[Qe][Se].push({oldValue:Pe(Se,Qe),newValue:lt.quality,confidence:1,reason:lt.reason}),nt(Se,I.getActiveStreamInfo(),lt.quality,lt.reason),clearTimeout(J),J=setTimeout(function(){j[Qe][Se].state=P.Z.ALLOW_LOAD,J=null},U.get().streaming.abandonLoadTimeout))}}}function Re(Le){Le.mediaType===d.Z.VIDEO&&(void 0!==z&&ue.push(Le.streamId,z,te.getPlaybackQuality()),z=Le.newQuality)}function Be(Le){var Se,Qe;Le.metric!==P.Z.HTTP_REQUEST||!Le.value||Le.value.type!==Ve.w.MEDIA_SEGMENT_TYPE||Le.mediaType!==d.Z.AUDIO&&Le.mediaType!==d.Z.VIDEO||_e.push(Le.mediaType,Le.value,U.get().streaming.abr.useDeadTimeLatency),Le.metric!==P.Z.BUFFER_LEVEL||Le.mediaType!==d.Z.AUDIO&&Le.mediaType!==d.Z.VIDEO||(Se=Le.mediaType,Qe=.001*Le.value.level,U.get().streaming.abr.ABRStrategy===d.Z.ABR_STRATEGY_DYNAMIC&&function(Oe,et){try{var lt=Ae.getStableBufferTime(),Yt=C[Oe],Mn=et>(Yt?.5*lt:lt);C[Oe]=Mn,Mn!==Yt&&p.info(Mn?"["+Oe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+et.toFixed(3)+").":"["+Oe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+et.toFixed(3)+").")}catch(gn){p.error(gn)}}(Se,Qe))}function je(Le,Se){try{var Qe;return R[Se]=R[Se]||{},R[Se].hasOwnProperty(Le)||(R[Se][Le]=0),Qe=function(Oe,et){var lt=R[et][Oe],pt=lt;if(!A[et]||!A[et][Oe])return pt;var kt=Je(Oe,et);void 0!==kt&&(pt=Math.max(lt,kt));var Yt=function(Mn,gn){try{var hn=Ae.getAbrBitrateParameter("maxBitrate",Mn);return hn>-1?Dt(A[gn][Mn].getMediaInfo(),hn,gn):void 0}catch{return}}(Oe,et);return void 0!==Yt&&(pt=Math.min(pt,Yt)),pt}(Le,Se),Oe=Qe,pt=R[Se][et=Le],kt=U.get().streaming.abr.maxRepresentationRatio[et],Qe=function(Oe,et,lt){if(et!==d.Z.VIDEO||!U.get().streaming.abr.limitBitrateByPortal||!A[lt]||!A[lt][et])return Oe;ie||tn();var pt=A[lt][et].getStreamInfo(),kt=re.getAdaptationForType(pt.index,et,pt).Representation_asArray,Yt=Oe;if(ee>0&&V>0){for(;Yt>0&&kt[Yt]&&ee<kt[Yt].width&&ee-kt[Yt-1].width<kt[Yt].width-ee;)Yt-=1;for(;Yt<kt.length-1&&kt[Yt].width===kt[Yt+1].width;)Yt+=1}return Yt}(Qe=isNaN(kt)||kt>=1||kt<0?Oe:Math.min(Oe,Math.round(pt*kt)),Le,Se),U.get().streaming.cmsd.enabled&&U.get().streaming.cmsd.abr.applyMb&&(Qe=function(Oe,et,lt){if("video"!==et)return Oe;var pt=Te.getMaxBitrate(et);if(pt<0)return Oe;var kt=vt(lt,"audio",Pe("audio",lt));pt-=kt?kt.bitrate/1e3:0;var Yt=Dt(A[lt][et].getMediaInfo(),pt,lt);return p.debug("Stream ID: "+lt+" ["+et+"] Apply max bit rate from CMSD: "+pt),Math.min(Oe,Yt)}(Qe,Le,Se)),Qe}catch{return}var Oe,et,pt,kt}function Je(Le,Se){try{return function(Qe,Oe){try{var et=Ae.getAbrBitrateParameter("minBitrate",Qe);if(et>-1){var lt=A[Oe][Qe].getMediaInfo(),pt=qt(lt),kt=Dt(lt,et,Oe);return pt[kt]&&kt<pt.length-1&&pt[kt].bitrate<1e3*et&&kt++,kt}return}catch{return}}(Le,Se)}catch{return}}function Pe(Le){var Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Se||(Se=I.getActiveStreamInfo().id),Le&&A[Se]&&A[Se][Le]&&Se?(O[Se]=O[Se]||{},O[Se].hasOwnProperty(Le)||(O[Se][Le]=0),O[Se][Le]):0}catch{return 0}}function nt(Le,Se,Qe){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Se&&Se.id&&Le){var et=Se.id,lt=Pe(Le,et);(0,fe.SE)(Qe);var pt=je(Le,et);Qe!==lt&&Qe>=0&&Qe<=pt&&Bt(Le,lt,Qe,pt,Oe,et)}}function Bt(Le,Se,Qe,Oe,et,lt){if(Le&&A[lt]&&A[lt][Le]){var pt=A[lt][Le].getStreamInfo(),kt=pt&&pt.manifestInfo&&pt.manifestInfo.isDynamic,Yt=Z.getCurrentBufferLevel(Le);p.info("Stream ID: "+lt+" ["+Le+"] switch from "+Se+" to "+Qe+"/"+Oe+" (buffer: "+Yt+") "+(et?JSON.stringify(et):".")),O[lt]=O[lt]||{},O[lt][Le]=Qe;var Mn=vt(lt,Le,Qe);we.trigger(m.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:Se,newQuality:Qe,reason:et,streamInfo:pt,bitrateInfo:Mn,maxIdx:Oe,mediaType:Le},{streamId:pt.id,mediaType:Le});var gn=_e.getAverageThroughput(Le,kt);isNaN(gn)||de.setSavedBitrateSettings(Le,gn)}}function vt(Le,Se,Qe){if(Se&&A&&A[Le]&&A[Le][Se]){var Oe=qt(A[Le][Se].getMediaInfo());return Oe[Qe]?Oe[Qe]:null}return null}function Dt(Le,Se,Qe){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,et=Le&&Le.type?A[Qe][Le.type].getRepresentationInfo():null;if(U.get().streaming.abr.useDeadTimeLatency&&Oe&&et&&et.fragmentDuration){var lt=et.fragmentDuration;if((Oe/=1e3)>lt)return 0;Se*=1-Oe/lt}for(var kt=qt(Le),Yt=kt.length-1;Yt>=0;Yt--)if(1e3*Se>=kt[Yt].bitrate)return Yt;return 0}function qt(Le){var Se=[];if(!Le||!Le.bitrateList)return Se;for(var Qe,Oe=Le.bitrateList,et=Le.type,lt=0,pt=Oe.length;lt<pt;lt++)(Qe=new vd).mediaType=et,Qe.qualityIndex=lt,Qe.bitrate=Oe[lt].bandwidth,Qe.width=Oe[lt].width,Qe.height=Oe[lt].height,Qe.scanType=Oe[lt].scanType,Se.push(Qe);return Se}function tn(){if(te){var Le=U.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;ee=te.getClientWidth()*Le,V=te.getClientHeight()*Le}}return y={initialize:function(){ue=eo(ae).create(),_e=jo(ae).create({settings:U}),(b=(0,l0.Z)(ae).create({dashMetrics:Z,customParametersModel:ye,mediaPlayerModel:Ae,settings:U})).initialize(),we.on(h.Z.QUALITY_CHANGE_RENDERED,Re,y),we.on(h.Z.METRIC_ADDED,Be,y),we.on(m.Z.LOADING_PROGRESS,X,y)},isPlayingAtTopQuality:function(Le){var Se=Le?Le.id:null,Qe=Pe(d.Z.AUDIO,Se),Oe=Pe(d.Z.VIDEO,Se);return Qe===je(d.Z.AUDIO,Se)&&Oe===je(d.Z.VIDEO,Se)},updateTopQualityIndex:function(Le){var Se=Le.type,Qe=Le.streamInfo.id,Oe=Le.representationCount-1;return R[Qe]=R[Qe]||{},R[Qe][Se]=Oe,Oe},clearDataForStream:function(Le){ue&&ue.clearForStream(Le),A[Le]&&delete A[Le],pe[Le]&&delete pe[Le],j[Le]&&delete j[Le]},getThroughputHistory:function(){return _e},getBitrateList:qt,getQualityForBitrate:Dt,getTopBitrateInfoFor:function(Le){var Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Se||(Se=I.getActiveStreamInfo().id),Le&&A&&A[Se]&&A[Se][Le]){var Qe=je(Le,Se),Oe=qt(A[Se][Le].getMediaInfo());return Oe[Qe]?Oe[Qe]:null}return null},getMinAllowedIndexFor:Je,getMaxAllowedIndexFor:je,getInitialBitrateFor:function(Le,Se){if(function(){if(!de||!de.hasOwnProperty("getSavedBitrateSettings"))throw new Error(d.Z.MISSING_CONFIG_ERROR)}(),Le===d.Z.TEXT)return NaN;var Qe=de.getSavedBitrateSettings(Le),Oe=Ae.getAbrBitrateParameter("initialBitrate",Le),et=U.get().streaming.abr.initialRepresentationRatio[Le];if(-1===Oe)if(et>-1){var lt=A[Se][Le].getStreamInfo(),pt=re.getAdaptationForType(lt.index,Le,lt).Representation_asArray;Oe=Array.isArray(pt)?pt[Math.max(Math.round(pt.length*et)-1,0)].bandwidth/1e3:0}else Oe=isNaN(Qe)?Le===d.Z.VIDEO?1e3:100:Qe;return Oe},getQualityFor:Pe,getAbandonmentStateFor:function(Le,Se){return j[Le]&&j[Le][Se]?j[Le][Se].state:null},setPlaybackQuality:nt,checkPlaybackQuality:function(Le,Se){try{if(!(Le&&A&&A[Se]&&A[Se][Le]))return!1;if(ue){var Qe=te.getPlaybackQuality();Qe&&ue.push(Se,z,Qe)}if(!U.get().streaming.abr.autoSwitchBitrate[Le])return!1;var Oe=Pe(Le,Se),et=Bd(ae).create({abrController:y,switchHistory:pe[Se][Le],droppedFramesHistory:ue,streamProcessor:A[Se][Le],currentValue:Oe,useBufferOccupancyABR:C[Le],useL2AABR:Y[Le],useLoLPABR:K[Le],videoModel:te}),lt=Je(Le,Se),pt=je(Le,Se),kt=b.getMaxQuality(et),Yt=kt.quality;return void 0!==lt&&(Yt>Vo.Z.NO_CHANGE?Yt:Oe)<lt&&(Yt=lt),Yt>pt&&(Yt=pt),pe[Se][Le].push({oldValue:Oe,newValue:Yt}),Yt>Vo.Z.NO_CHANGE&&Yt!==Oe&&(j[Se][Le].state===P.Z.ALLOW_LOAD||Yt<Oe)&&(Bt(Le,Oe,Yt,pt,kt.reason,Se),!0)}catch{return!1}},setElementSize:tn,setWindowResizeEventCalled:function(Le){ie=Le},registerStreamType:function(Le,Se){var Oe,et,Qe=Se.getStreamInfo().id;A[Qe]||(A[Qe]={}),pe[Qe]||(pe[Qe]={}),j[Qe]||(j[Qe]={}),pe[Qe][Le]=Ml(ae).create(),A[Qe][Le]=Se,j[Qe][Le]={},j[Qe][Le].state=P.Z.ALLOW_LOAD,Oe=Le,(et=U.get().streaming.abr.ABRStrategy)===d.Z.ABR_STRATEGY_L2A?(C[Oe]=!1,K[Oe]=!1,Y[Oe]=!0):et===d.Z.ABR_STRATEGY_LoLP?(C[Oe]=!1,K[Oe]=!0,Y[Oe]=!1):et===d.Z.ABR_STRATEGY_BOLA?(C[Oe]=!0,K[Oe]=!1,Y[Oe]=!1):et===d.Z.ABR_STRATEGY_THROUGHPUT?(C[Oe]=!1,K[Oe]=!1,Y[Oe]=!1):et===d.Z.ABR_STRATEGY_DYNAMIC&&(C[Oe]=!(!C||!C[Oe])&&C[Oe],K[Oe]=!1,Y[Oe]=!1),Le===d.Z.VIDEO&&tn()},unRegisterStreamType:function(Le,Se){try{A[Le]&&A[Le][Se]&&delete A[Le][Se],pe[Le]&&pe[Le][Se]&&delete pe[Le][Se],j[Le]&&j[Le][Se]&&delete j[Le][Se]}catch{}},setConfig:function(Le){Le&&(Le.streamController&&(I=Le.streamController),Le.domStorage&&(de=Le.domStorage),Le.mediaPlayerModel&&(Ae=Le.mediaPlayerModel),Le.customParametersModel&&(ye=Le.customParametersModel),Le.cmsdModel&&(Te=Le.cmsdModel),Le.dashMetrics&&(Z=Le.dashMetrics),Le.adapter&&(re=Le.adapter),Le.videoModel&&(te=Le.videoModel),Le.settings&&(U=Le.settings))},reset:function(){B(),we.off(m.Z.LOADING_PROGRESS,X,y),we.off(h.Z.QUALITY_CHANGE_RENDERED,Re,y),we.off(h.Z.METRIC_ADDED,Be,y),b&&b.reset()}},p=le.getLogger(y),B(),y}To.__dashjs_factory_name="AbrController";var ac=S.Z.getSingletonFactory(To);ac.QUALITY_DEFAULT=0,S.Z.updateSingletonFactory(To.__dashjs_factory_name,ac);const Ha=ac;var hu=new Map([[d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Xo(){var y,p,b,I,R,O,A=this.context,j=(0,w.Z)(A).getInstance(),J=[];function ie(){b&&(b.playbackRate=1,b.removeEventListener("canplay",ie))}function ee(){return J.length>0}function V(){if(b&&ee()&&0===b.playbackRate){var z=document.createEvent("Event");z.initEvent("waiting",!0,!1),b.dispatchEvent(z)}}function re(z,pe){b&&b.addEventListener(z,pe)}function te(z,pe){b&&b.removeEventListener(z,pe)}function Ae(){return b?b.readyState:NaN}function ye(){return b?b.buffered:null}function Te(z,pe,ue,_e,C){if(b)for(var Y=0;Y<b.textTracks.length;Y++)if(b.textTracks[Y].kind===z&&(!pe||b.textTracks[Y].label==pe)&&b.textTracks[Y].language===ue&&b.textTracks[Y].isTTML===_e&&b.textTracks[Y].isEmbedded===C)return b.textTracks[Y];return null}function de(z,pe){var ue,_e;z===d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||Ae()>=z?pe():(ue=hu.get(z),_e=pe,re(ue,function C(){te(ue,C),_e(ue)}))}return y={initialize:function(){j.on(m.Z.PLAYBACK_PLAYING,V,this)},setCurrentTime:function(z,pe){b&&(I=z,de(d.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(b.currentTime!==I)try{I=pe?function(ue){var _e=ye(),C=ue,Y=9999999999;if(_e)for(var K=0;K<_e.length;K++){var Z=_e.start(K),U=_e.end(K),ae=Math.abs(Z-ue),le=Math.abs(U-ue);if(ue>=Z&&ue<=U)return ue;ae<Y&&(Y=ae,C=Z),le<Y&&(Y=le,C=U)}return C}(I):I,b.currentTime=I,I=NaN}catch(ue){0===b.readyState&&ue.code===ue.INVALID_STATE_ERR&&setTimeout(function(){b.currentTime=I,I=NaN},400)}else I=NaN}))},play:function(){if(b){b.autoplay=!0;var z=b.play();z&&z.catch&&typeof Promise<"u"&&z.catch(function(pe){"NotAllowedError"===pe.name&&j.trigger(m.Z.PLAYBACK_NOT_ALLOWED),p.warn("Caught pending play exception - continuing (".concat(pe,")"))})}},isPaused:function(){return b?b.paused:null},pause:function(){b&&(b.pause(),b.autoplay=!1)},isStalled:ee,isSeeking:function(){return b?b.seeking||!isNaN(I):null},getTime:function(){return b?isNaN(I)?b.currentTime:I:null},getPlaybackRate:function(){return b?b.playbackRate:null},setPlaybackRate:function(z){b&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&b.readyState<=2&&z>0?b.addEventListener("canplay",ie):b.playbackRate=z)},getPlayedRanges:function(){return b?b.played:null},getEnded:function(){return b?b.ended:null},setStallState:function(z,pe){var ue,C;ue=z,pe?null!==(C=ue)&&b&&!b.seeking&&-1===J.indexOf(C)&&J.push(C):function(C){var Y=J.indexOf(C);null!==C&&-1!==Y&&J.splice(Y,1)}(ue)},getElement:function(){return b},setElement:function(z){if(!(null==z||z&&/^(VIDEO|AUDIO)$/i.test(z.nodeName)))throw"element is not video or audio DOM type!";(b=z)&&(b.preload="auto")},setSource:function(z){b&&(z?b.src=z:(b.removeAttribute("src"),b.load()))},getSource:function(){return b?b.src:null},getTTMLRenderingDiv:function(){return R},setTTMLRenderingDiv:function(z){(R=z).style.position="absolute",R.style.display="flex",R.style.overflow="hidden",R.style.pointerEvents="none",R.style.top=0,R.style.left=0},getVttRenderingDiv:function(){return O},setVttRenderingDiv:function(z){O=z},getPlaybackQuality:function(){if(!b)return null;var z="webkitDroppedFrameCount"in b&&"webkitDecodedFrameCount"in b,pe=null;return"getVideoPlaybackQuality"in b?pe=b.getVideoPlaybackQuality():z&&(pe={droppedVideoFrames:b.webkitDroppedFrameCount,totalVideoFrames:b.webkitDroppedFrameCount+b.webkitDecodedFrameCount,creationTime:new Date}),pe},addEventListener:re,removeEventListener:te,getReadyState:Ae,getBufferRange:ye,getClientWidth:function(){return b?b.clientWidth:NaN},getClientHeight:function(){return b?b.clientHeight:NaN},getTextTracks:function(){return b?b.textTracks:[]},getTextTrack:Te,addTextTrack:function(z,pe,ue,_e,C){if(!b)return null;var Y=Te(z,pe,ue,_e,C);return Y||((Y=b.addTextTrack(z,pe,ue)).isEmbedded=C,Y.isTTML=_e),Y},appendChild:function(z){b&&(b.appendChild(z),void 0!==z.isTTML&&(b.textTracks[b.textTracks.length-1].isTTML=z.isTTML,b.textTracks[b.textTracks.length-1].isEmbedded=z.isEmbedded))},removeChild:function(z){b&&b.removeChild(z)},getVideoWidth:function(){return b?b.videoWidth:NaN},getVideoHeight:function(){return b?b.videoHeight:NaN},getVideoRelativeOffsetTop:function(){if(b){var z=b.parentNode.host||b.parentNode;return z?b.getBoundingClientRect().top-z.getBoundingClientRect().top:NaN}return NaN},getVideoRelativeOffsetLeft:function(){if(b){var z=b.parentNode.host||b.parentNode;return z?b.getBoundingClientRect().left-z.getBoundingClientRect().left:NaN}return NaN},waitForReadyState:de,reset:function(){j.off(m.Z.PLAYBACK_PLAYING,V,this)}},p=(0,N.Z)(A).getInstance().getLogger(y),I=NaN,y}Xo.__dashjs_factory_name="VideoModel";const Ud=S.Z.getSingletonFactory(Xo);var Kg=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Xg="dashjs_?_bitrate",Wh="dashjs_?_settings",xl="localStorage",Qg="lastBitrate",Jg="lastMediaSettings";function e_(y){var p,b,I,O=(y=y||{}).settings;function A(ee){if(void 0!==I)return I;var V;I=!1;try{typeof window<"u"&&(V=window[ee])}catch(re){return b.warn("DOMStorage access denied: "+re.message),I}if(!V||ee!==xl&&"sessionStorage"!==ee)return I;try{V.setItem("1","1"),V.removeItem("1"),I=!0}catch(re){b.warn("DOMStorage is supported, but cannot be used: "+re.message)}return I}function j(){return 6e5*Math.round((new Date).getTime()/6e5)}function J(ee,V){return A(ee)&&O.get().streaming[V+"CachingInfo"].enabled}function ie(){if(!O)throw new Error(d.Z.MISSING_CONFIG_ERROR)}return p={getSavedBitrateSettings:function(ee){if(ie(),!O.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var V=NaN;if(J(xl,Qg)){var re=Xg.replace(/\?/,ee);try{var te=JSON.parse(localStorage.getItem(re))||{},Ae=(new Date).getTime()-parseInt(te.timestamp,10)>=O.get().streaming.lastBitrateCachingInfo.ttl||!1,ye=parseFloat(te.bitrate);isNaN(ye)||Ae?Ae&&localStorage.removeItem(re):(V=ye,b.debug("Last saved bitrate for "+ee+" was "+ye))}catch{return null}}return V},setSavedBitrateSettings:function(ee,V){if(J(xl,Qg)&&V){var re=Xg.replace(/\?/,ee);try{localStorage.setItem(re,JSON.stringify({bitrate:V.toFixed(3),timestamp:j()}))}catch(te){b.error(te.message)}}},getSavedMediaSettings:function(ee){if(ie(),!O.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var V=null;if(J(xl,Jg)){var re=Wh.replace(/\?/,ee);try{var te=JSON.parse(localStorage.getItem(re))||{},Ae=(new Date).getTime()-parseInt(te.timestamp,10)>=O.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;V=te.settings,Ae&&(localStorage.removeItem(re),V=null)}catch{return null}}return V},setSavedMediaSettings:function(ee,V){if(J(xl,Jg)){var re=Wh.replace(/\?/,ee);try{localStorage.setItem(re,JSON.stringify({settings:V,timestamp:j()}))}catch(te){b.error(te.message)}}}},b=(0,N.Z)(this.context).getInstance().getLogger(p),A(xl)&&Kg.forEach(function(ee){var V=localStorage.getItem(ee.oldKey);if(V){localStorage.removeItem(ee.oldKey);try{localStorage.setItem(ee.newKey,V)}catch(re){b.error(re.message)}}}),p}e_.__dashjs_factory_name="DOMStorage";const c0=S.Z.getSingletonFactory(e_);var u0=L(2032),t_=L(2011);function n_(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re,te=this.context;function Ae(z,pe,ue,_e){var C=null,Y=z?re.resolve(z.path):null,K=_e||{init:!0,url:Y?Y.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:pe};p.debug("Start searching for initialization.");var Z=de(K);j.load({request:Z,success:function(U){if(K.bytesLoaded=K.range.end,!(C=I.findInitRange(U)))return K.range.end=K.bytesLoaded+K.bytesToLoad,Ae(z,pe,ue,K);z.range=C,ue(z)},error:function(){ue(z)}}),p.debug("Perform init search: "+K.url)}function ye(z,pe,ue,_e,C,Y){if(ue&&(void 0===ue.start||void 0===ue.end)){var K=ue?ue.toString().split("-"):null;ue=K?{start:parseFloat(K[0]),end:parseFloat(K[1])}:null}C=C||Te;var Z=null,U=null,ae=!!ue,le=z?re.resolve(z.path):null,we={init:!1,url:le?le.url:void 0,range:ae?ue:{start:0,end:1500},searching:!ae,bytesLoaded:Y?Y.bytesLoaded:0,bytesToLoad:1500,mediaType:pe},B=de(we);j.load({request:B,success:function(X){var Re=we.bytesToLoad,Be=X.byteLength;if(we.bytesLoaded=we.range.end-we.range.start,Z=I.parse(X),(U=Z.getBox("sidx"))&&U.isComplete){var je,Je,Pe=U.references;if(null!=Pe&&Pe.length>0&&(je=1===Pe[0].reference_type),je){var nt,Bt,vt,Dt;p.debug("Initiate multiple SIDX load."),we.range.end=we.range.start+U.size;var qt=[],tn=0,Le=(U.offset||we.range.start)+U.size,Se=function(Oe){Oe?(qt=qt.concat(Oe),++tn>=Bt&&(qt.sort(function(et,lt){return et.startTime-lt.startTime<0?-1:0}),C(qt,z,_e))):C(null,z,_e)};for(nt=0,Bt=Pe.length;nt<Bt;nt++)vt=Le,Dt=Le+Pe[nt].referenced_size-1,Le+=Pe[nt].referenced_size,ye(z,pe,{start:vt,end:Dt},_e,Se,we)}else p.debug("Parsing segments from SIDX. representation "+pe+" - id: "+z.id+" for range : "+we.range.start+" - "+we.range.end),Je=function(Oe,et){for(var lt,kt,Yt,Mn=Oe.references,gn=Mn.length,hn=Oe.timescale,ln=Oe.earliest_presentation_time,Rn=et.range.start+Oe.offset+Oe.first_offset+Oe.size,tr=[],sr=0;sr<gn;sr++)kt=Mn[sr].subsegment_duration,Yt=Mn[sr].referenced_size,(lt=new t_.Z).duration=kt,lt.startTime=ln,lt.timescale=hn,lt.mediaRange=Rn+"-"+(Rn+Yt-1),tr.push(lt),ln+=kt,Rn+=Yt;return tr}(U,we),C(Je,z,_e)}else{if(U)we.range.start=U.offset||we.range.start,we.range.end=we.range.start+(U.size||Re);else{if(Be<we.bytesLoaded)return void C(null,z,_e);var Qe=Z.getLastBox();Qe&&Qe.size?(we.range.start=Qe.offset+Qe.size,we.range.end=we.range.start+Re):we.range.end+=Re}ye(z,pe,we.range,_e,null,we)}},error:function(){C(null,z,_e)}}),p.debug("Perform SIDX load for type ".concat(pe," : ").concat(we.url," with range ").concat(we.range.start," - ").concat(we.range.end))}function Te(z,pe,ue){ue({segments:z,representation:pe,error:z?void 0:new W.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function de(z){if(z.url){var pe=new G.Z;return pe.setInfo(z),pe}}return y={setConfig:function(z){z.baseURLController&&(re=z.baseURLController),z.dashMetrics&&(O=z.dashMetrics),z.mediaPlayerModel&&(A=z.mediaPlayerModel),z.errHandler&&(b=z.errHandler),z.boxParser&&(I=z.boxParser),z.debug&&(p=z.debug.getLogger(y)),z.requestModifier&&(R=z.requestModifier),z.errors&&(J=z.errors),z.urlUtils&&(V=z.urlUtils),z.constants&&(ie=z.constants),z.dashConstants&&(ee=z.dashConstants)},initialize:function(){j=Lt(te).create({errHandler:b,dashMetrics:O,mediaPlayerModel:A,requestModifier:R,boxParser:I,errors:J,urlUtils:V,constants:ie,dashConstants:ee})},loadInitialization:function(z,pe){return new Promise(function(ue){Ae(z,pe,ue)})},loadSegments:function(z,pe,ue){return new Promise(function(_e){ye(z,pe,ue,_e)})},reset:function(){j&&(j.abort(),j=null)}}}n_.__dashjs_factory_name="SegmentBaseLoader";const d0=S.Z.getSingletonFactory(n_);function r_(y){var p;y=y||{};var b=new DataView(y.data),I=0;function R(A,j){var J=!0,ie=0;if(void 0===j&&(j=!1),A.tag>16777215?(b.getUint32(I)!==A.tag&&(J=!1),ie=4):A.tag>65535?(256*b.getUint16(I)+b.getUint8(I+2)!==A.tag&&(J=!1),ie=3):A.tag>255?(b.getUint16(I)!==A.tag&&(J=!1),ie=2):(b.getUint8(I)!==A.tag&&(J=!1),ie=1),!J&&A.required&&!j)throw new Error("required tag not found");return J&&(I+=ie),J}function O(A){var j=1,J=128,ie=-1,ee=0,V=b.getUint8(I),re=0;for(re=0;re<8;re+=1){if((V&J)===J){ee=void 0===A?V&~J:V,ie=re;break}J>>=1}for(re=0;re<ie;re+=1,j+=1)ee=ee<<8|255&b.getUint8(I+j);return I+=j,ee}return p={getPos:function(){return I},setPos:function(A){I=A},consumeTag:R,consumeTagAndSize:function(A,j){var J=R(A,j);return J&&O(),J},parseTag:function(A){var j;return R(A),j=O(),p[A.parse](j)},skipOverElement:function(A,j){var J,ie=R(A,j);return ie&&(J=O(),I+=J),ie},getMatroskaCodedNum:O,getMatroskaFloat:function(A){var j;switch(A){case 4:j=b.getFloat32(I),I+=4;break;case 8:j=b.getFloat64(I),I+=8}return j},getMatroskaUint:function(A){if(A>4)return function(ie){for(var ee=Math.floor(Number.MAX_SAFE_INTEGER/256),V=0,re=0;re<ie;re+=1){if(V>ee)throw new Error("Value exceeds safe integer limit");V*=256;var te=b.getUint8(I+re);if(V>Number.MAX_SAFE_INTEGER-te)throw new Error("Value exceeds safe integer limit");V+=te}return I+=ie,V}(A);for(var j=0,J=0;J<A;J+=1)j<<=8,j|=255&b.getUint8(I+J);return I+=A,j>>>0},moreData:function(){return I<b.byteLength}}}r_.__dashjs_factory_name="EBMLParser";const i_=S.Z.getClassFactory(r_);function o_(){var y,p,b,I,R,O,A,j,J,ie,ee=this.context;function V(re){var te=new G.Z;return te.setInfo(re),te}return y={setConfig:function(re){if(!(re.baseURLController&&re.dashMetrics&&re.mediaPlayerModel&&re.errHandler))throw new Error(d.Z.MISSING_CONFIG_ERROR);ie=re.baseURLController,O=re.dashMetrics,A=re.mediaPlayerModel,I=re.errHandler,J=re.errors,p=re.debug.getLogger(y),R=re.requestModifier},initialize:function(){j=Lt(ee).create({errHandler:I,dashMetrics:O,mediaPlayerModel:A,requestModifier:R,errors:J})},loadInitialization:function(re,te){return new Promise(function(Ae){var ye=null,Te=re?ie.resolve(re.path):null,de=re?re.range.split("-"):null,z={range:{start:de?parseFloat(de[0]):null,end:de?parseFloat(de[1]):null},request:ye,url:Te?Te.url:void 0,init:!0,mediaType:te};p.info("Start loading initialization."),ye=V(z),j.load({request:ye,success:function(){Ae(re)},error:function(){Ae(re)}}),p.debug("Perform init load: "+z.url)})},loadSegments:function(re,te,Ae){return new Promise(function(ye){var Te=null,de=re?ie.resolve(re.path):null,z=de?de.url:void 0;Te=V({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Te,url:z,init:!1,mediaType:te}),p.debug("Parsing ebml header"),j.load({request:Te,success:function(pe){!function(ue,_e,C,Y){if(ue&&0!==ue.byteLength){var K,Z,U,ae,le=i_(ee).create({data:ue}),we=C?C.split("-"):null,B=null,X={url:_e,range:{start:we?parseFloat(we[0]):null,end:we?parseFloat(we[1]):null},request:B};for(p.debug("Parse EBML header: "+X.url),le.skipOverElement(b.EBML),le.consumeTag(b.Segment),U=le.getMatroskaCodedNum(),U+=le.getPos(),ae=le.getPos();le.moreData()&&!le.consumeTagAndSize(b.Segment.Info,!0);)if(!(le.skipOverElement(b.Segment.SeekHead,!0)||le.skipOverElement(b.Segment.Tracks,!0)||le.skipOverElement(b.Segment.Cues,!0)||le.skipOverElement(b.Void,!0)))throw new Error("no valid top level element found");for(;void 0===K;){var Re=le.getMatroskaCodedNum(!0),Be=le.getMatroskaCodedNum();Re===b.Segment.Info.Duration.tag?K=le[b.Segment.Info.Duration.parse](Be):le.setPos(le.getPos()+Be)}B=V(X),j.load({request:B,success:function(je){Z=function(Je,Pe,nt,Bt){var Dt,qt,tn,Le,Se;for(qt=[],Le=0,Se=(Dt=function(et){var lt,pt,kt=[],Yt=i_(ee).create({data:et});for(Yt.consumeTagAndSize(b.Segment.Cues);Yt.moreData()&&Yt.consumeTagAndSize(b.Segment.Cues.CuePoint,!0);){for((lt={}).CueTime=Yt.parseTag(b.Segment.Cues.CuePoint.CueTime),lt.CueTracks=[];Yt.moreData()&&Yt.consumeTag(b.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Mn=Yt.getMatroskaCodedNum(),gn=Yt.getPos();if((pt={}).Track=Yt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===pt.Track)throw new Error("Cue track cannot be 0");pt.ClusterPosition=Yt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),lt.CueTracks.push(pt),Yt.setPos(gn+Mn)}if(0===lt.CueTracks.length)throw new Error("Mandatory cuetrack not found");kt.push(lt)}if(0===kt.length)throw new Error("mandatory cuepoint not found");return kt}(Je)).length;Le<Se;Le+=1)(tn=new t_.Z).duration=Le<Dt.length-1?Dt[Le+1].CueTime-Dt[Le].CueTime:Bt-Dt[Le].CueTime,tn.startTime=Dt[Le].CueTime,tn.timescale=1e3,tn.mediaRange=Dt[Le].CueTracks[0].ClusterPosition+Pe+"-"+(Le<Dt.length-1?Dt[Le+1].CueTracks[0].ClusterPosition+Pe-1:nt-1),qt.push(tn);return p.debug("Parsed cues: "+qt.length+" cues."),qt}(je,ae,U,K),Y(Z)},error:function(){p.error("Download Error: Cues "+X.url),Y(null)}}),p.debug("Perform cues load: "+X.url+" bytes="+X.range.start+"-"+X.range.end)}else Y(null)}(pe,z,Ae,function(ue){ye({segments:ue,representation:re,error:ue?void 0:new W.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ye({representation:re,error:new W.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){j&&(j.abort(),j=null)}},b={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},y}o_.__dashjs_factory_name="WebmSegmentBaseLoader";const f0=S.Z.getSingletonFactory(o_);function Vd(y){var p,b,I,R=this.context,O=(y=y||{}).eventBus,A=y.events,j=y.dashMetrics,J=y.mediaPlayerModel,ie=y.errHandler,ee=y.baseURLController,V=y.debug,re=y.boxParser,te=y.requestModifier,Ae=y.errors;function ye(Te){return"webm"===(Te?Te.split("/")[1]:"").toLowerCase()}return p={initialize:function(){b.initialize(),I.initialize()},getSegmentBaseInitSegment:function(Te){return ye(Te.representation.mimeType)?I.loadInitialization(Te.representation,Te.mediaType):b.loadInitialization(Te.representation,Te.mediaType)},getSegmentList:function(Te){return ye(Te.mimeType)?I.loadSegments(Te.representation,Te.mediaType,Te.representation?Te.representation.indexRange:null):b.loadSegments(Te.representation,Te.mediaType,Te.representation?Te.representation.indexRange:null)},reset:function(){b.reset(),I.reset()}},b=d0(R).getInstance(),I=f0(R).getInstance(),b.setConfig({baseURLController:ee,dashMetrics:j,mediaPlayerModel:J,errHandler:ie,eventBus:O,events:A,errors:Ae,debug:V,boxParser:re,requestModifier:te}),I.setConfig({baseURLController:ee,dashMetrics:j,mediaPlayerModel:J,errHandler:ie,eventBus:O,events:A,errors:Ae,debug:V,requestModifier:te}),p}Vd.__dashjs_factory_name="SegmentBaseController";const Kh=S.Z.getSingletonFactory(Vd),s_=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Xh=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},a_=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},Za=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null},h0=function(){function y(I){var R=this;(function(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")})(this,y),this.valid="/"==I[0],this.path=I.split("/").filter(function(O){return 0!==O.length}).map(function(O){var A={name:O},j=O.indexOf("[");if(-1!=j){A.name=O.substring(0,j);var J=O.substring(j+1,O.length-1);R.valid=R.valid&&-1==J.indexOf("[");var ie=J.indexOf("=");-1!=ie?(A.attribute={name:J.substring(1,ie),value:J.substring(ie+1)},-1!=["'",'"'].indexOf(A.attribute.value[0])&&(A.attribute.value=A.attribute.value.substring(1,A.attribute.value.length-1))):A.position=parseInt(J,10)-1}return A})}var b;return(b=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(I,R){for(var O=null,A=I,j=1,J="MPD";j<this.path.length&&null!==A;){O=A;var ie=this.path[j];if(J=ie.name,j!==this.path.length-1||!J.startsWith("@")){var ee=O[J+"_asArray"]||[];0===ee.length&&O[J]&&ee.push(O[J]),ie.position?A=ee[ie.position]||null:ie.attribute?function(){var V=ie.attribute;A=ee.filter(function(re){return re[V.name]==V.value})[0]||null}():A=ee[0]||null}j++}return null===A?null:J.startsWith("@")?{name:J.substring(1),leaf:A,target:A}:{name:J,leaf:A,target:R?O:A}}}])&&function Qh(y,p){for(var b=0;b<p.length;b++){var I=p[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}(),Jh=function(){function y(I,R,O){(function(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")})(this,y),this.action=I,this.xpath=R,this.value=O,this.position=null}var b;return(b=[{key:"getMpdTarget",value:function(I){return this.xpath.getMpdTarget(I,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}])&&function jd(y,p){for(var b=0;b<p.length;b++){var I=p[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y.prototype,b),y}();function ep(){var y,p;return y={getIsPatch:function(I){return I&&I.hasOwnProperty(f.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(I){return I&&I.hasOwnProperty(f.Z.PUBLISH_TIME)?new Date(I[f.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(I){return I&&I.hasOwnProperty(f.Z.ORIGINAL_PUBLISH_TIME)?new Date(I[f.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(I){return I&&I[f.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(I){return I?(I.__children||[]).map(function(R){var O=Object.keys(R)[0];if("add"!==O&&"remove"!==O&&"replace"!==O)return p.warn("Ignoring node of invalid action: ".concat(O)),null;var A=R[O],j=A.sel;if("add"===O&&A.type){if(!A.type.startsWith("@"))return p.warn("Ignoring add action for prefixed namespace declaration: ".concat(A.type,"=").concat(A.__text)),null;j="".concat(j,"/").concat(A.type)}var J=new h0(j);if(!J.isValid())return p.warn("Ignoring action with invalid selector: ".concat(O," - ").concat(j)),null;var ie=null;J.findsAttribute()?ie=A.__text||"":"remove"!==O&&(ie=A.__children.reduce(function(V,re){var te=Object.keys(re)[0];return"#text"!==te&&(V[te]=V[te]||[],V[te].push(re[te])),V},{}));var ee=new Jh(O,J,ie);return"add"===O&&(ee.position=A.pos),ee}).filter(function(R){return!!R}):[]}},p=(0,N.Z)(this.context).getInstance().getLogger(y),y}ep.__dashjs_factory_name="PatchManifestModel";const l_=S.Z.getSingletonFactory(ep);function tp(){var y,p,b,I,R,O,A,j=this.context;function J(K,Z,U){var le=p.getAdaptationsForType(I[0].mpd.manifest,K,Z);if(!le||0===le.length)return null;if(le.length>1&&U){var we=V(U,Z);if(R[U.id]&&R[U.id][Z])for(var B=0,X=le.length;B<X;B++)if(ie(R[U.id][Z],we[B]))return le[B];for(var Re=0,Be=le.length;Re<Be;Re++)if(p.getRolesForAdaptation(le[Re]).filter(function(je){return je.value===f.Z.MAIN})[0])return le[Re]}return le[0]}function ie(K,Z){if(!K||!Z)return!1;var U=K.id===Z.id,ae=K.codec===Z.codec,le=K.viewpoint===Z.viewpoint,we=JSON.stringify(K.viewpointsWithSchemeIdUri)===JSON.stringify(Z.viewpointsWithSchemeIdUri),B=K.lang===Z.lang,X=K.roles.toString()===Z.roles.toString(),Re=JSON.stringify(K.rolesWithSchemeIdUri)===JSON.stringify(Z.rolesWithSchemeIdUri),Be=K.accessibility.toString()===Z.accessibility.toString(),je=JSON.stringify(K.accessibilitiesWithSchemeIdUri)===JSON.stringify(Z.accessibilitiesWithSchemeIdUri),Je=K.audioChannelConfiguration.toString()===Z.audioChannelConfiguration.toString(),Pe=JSON.stringify(K.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(Z.audioChannelConfigurationsWithSchemeIdUri);return U&&ae&&le&&we&&B&&X&&Re&&Be&&je&&Je&&Pe}function ee(K,Z,U,ae,le,we){var X,Re,Be,je,Je,Pe=[];if(!ae||0===ae.length)return[];var nt=p.getAdaptationsForPeriod(Z);for(Be=0,Je=ae.length;Be<Je;Be++)if(X=z(nt[Re=p.getIndexForAdaptation(ae[Be],K,U.index)]),we){var Bt=X.accessibility.length;for(je=0;je<Bt;je++)if(X){var vt=X.accessibility[je];if(0===vt.indexOf("cea-608:")){var Dt=vt.substring(8).split(";");if("CC"===Dt[0].substring(0,2))for(je=0;je<Dt.length;je++)X||(X=z.call(this,nt[Re])),pe(X,Dt[je].substring(0,3),Dt[je].substring(4)),Pe.push(X),X=null;else for(je=0;je<Dt.length;je++)X||(X=z.call(this,nt[Re])),pe(X,"CC"+(je+1),Dt[je]),Pe.push(X),X=null}else 0===vt.indexOf("cea-608")&&(pe(X,O.CC1,"eng"),Pe.push(X),X=null)}}else le===O.IMAGE?(X.type=O.IMAGE,Pe.push(X),X=null):X&&Pe.push(X);return Pe}function V(K,Z,U){var ae=I,le=U,we=[];if(le)_e(),ae=re(le);else{if(!(I.length>0))return we;le=I[0].mpd.manifest}var B=de(K,ae),X=p.getAdaptationsForType(le,K?K.index:null,Z);return we=ee(le,B,K,X,Z),Z===O.TEXT&&(X=p.getAdaptationsForType(le,K?K.index:null,O.VIDEO),we=we.concat(ee(le,B,K,X,Z,!0))),we}function re(K){var Z=te(K);return p.getRegularPeriods(Z)}function te(K){var Z=ye(K);return p.getMpd(Z)}function Ae(){I=[],R={}}function ye(K){return K||(I.length>0?I[0].mpd.manifest:null)}function Te(K){try{var Z=de(K.streamInfo,I),U=p.getAdaptationsForPeriod(Z);return K&&K.streamInfo&&void 0!==K.streamInfo.id&&U?U[K.index]:null}catch{return null}}function de(K,Z){for(var U=Z.length,ae=0;ae<U;ae++){var le=Z[ae];if(K&&K.id===le.id)return le}return null}function z(K){if(!K)return null;var Z,U,ae,le,we,B=new Xh,X=K.period.mpd.manifest.Period_asArray[K.period.index].AdaptationSet_asArray[K.index];if(B.id=K.id,B.index=K.index,B.type=K.type,B.streamInfo=ue(K.period),B.representationCount=p.getRepresentationCount(X),B.labels=p.getLabelsForAdaptation(X),B.lang=p.getLanguageForAdaptation(X),B.segmentAlignment=p.getSegmentAlignment(X),B.subSegmentAlignment=p.getSubSegmentAlignment(X),Z=p.getViewpointForAdaptation(X),B.viewpoint=Z.length?Z[0].value:void 0,B.viewpointsWithSchemeIdUri=Z,we=p.getAccessibilityForAdaptation(X),B.accessibility=we.map(function(Pe){var nt=Pe.value,Bt=nt;return Pe.schemeIdUri&&Pe.schemeIdUri.search("cea-608")>=0&&void 0!==A&&(Bt=nt?"cea-608:"+nt:"cea-608",B.embeddedCaptions=!0),Bt}),B.accessibilitiesWithSchemeIdUri=we,U=p.getAudioChannelConfigurationForAdaptation(X),B.audioChannelConfiguration=U.map(function(Pe){return Pe.value}),B.audioChannelConfigurationsWithSchemeIdUri=U,0===B.audioChannelConfiguration.length&&Array.isArray(X.Representation_asArray)&&X.Representation_asArray.length>0&&(ae=p.getAudioChannelConfigurationForRepresentation(X.Representation_asArray[0]),B.audioChannelConfiguration=ae.map(function(Pe){return Pe.value}),B.audioChannelConfigurationsWithSchemeIdUri=ae),le=p.getRolesForAdaptation(X),B.roles=le.map(function(Pe){return Pe.value}),B.rolesWithSchemeIdUri=le,B.codec=p.getCodec(X),B.mimeType=p.getMimeType(X),B.contentProtection=p.getContentProtectionData(X),B.bitrateList=p.getBitrateListForAdaptation(X),B.selectionPriority=p.getSelectionPriority(X),B.contentProtection){var Re=B.contentProtection.map(function(Pe){return p.getKID(Pe)}).filter(function(Pe){return null!==Pe});if(Re.length){var Be=Re[0];B.contentProtection.forEach(function(Pe){Pe.keyId=Be})}}if(B.isText=p.getIsText(X),B.supplementalProperties=p.getSupplementalPropertiesForAdaptation(X),(!B.supplementalProperties||0===Object.keys(B.supplementalProperties).length)&&Array.isArray(X.Representation_asArray)&&X.Representation_asArray.length>0){var je=X.Representation_asArray.map(function(Pe){return p.getSupplementalPropertiesForRepresentation(Pe)});je.every(function(Pe){return JSON.stringify(Pe)===JSON.stringify(je[0])})&&(B.supplementalProperties=je[0])}if(B.supplementalPropertiesAsArray=p.getSupplementalPropertiesAsArrayForAdaptation(X),(!B.supplementalPropertiesAsArray||0===B.supplementalPropertiesAsArray.length)&&Array.isArray(X.Representation_asArray)&&X.Representation_asArray.length>0){var Je=X.Representation_asArray.map(function(Pe){return p.getSupplementalPropertiesAsArrayForRepresentation(Pe)});Je.every(function(Pe){return JSON.stringify(Pe)===JSON.stringify(Je[0])})&&(B.supplementalPropertiesAsArray=Je[0])}return B.isFragmented=p.getIsFragmented(X),B.isEmbedded=!1,B}function pe(K,Z,U){K.id=Z,K.index=100+parseInt(Z.substring(2,3)),K.type=O.TEXT,K.codec="cea-608-in-SEI",K.isEmbedded=!0,K.isFragmented=!1,K.lang=Jc()(U),K.roles=["caption"],K.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function ue(K){var Z,U,ae=new a_;return ae.id=K.id,ae.index=K.index,ae.start=K.start,ae.duration=K.duration,ae.manifestInfo=(Z=K.mpd,(U=new Za).dvrWindowSize=Z.timeShiftBufferDepth,U.loadedTime=Z.manifest.loadedTime,U.availableFrom=Z.availabilityStartTime,U.minBufferTime=Z.manifest.minBufferTime,U.maxFragmentDuration=Z.maxSegmentDuration,U.duration=p.getDuration(Z.manifest),U.isDynamic=p.getIsDynamic(Z.manifest),U.serviceDescriptions=p.getServiceDescriptions(Z.manifest),U.protocol=Z.manifest.protocol,U),ae.isLast=1===K.mpd.manifest.Period_asArray.length||Math.abs(ae.start+ae.duration-ae.manifestInfo.duration)<1,ae}function _e(){if(!O)throw new Error("setConfig function has to be called previously")}function C(K){return I.length>0?I[0].mpd.manifest.Period_asArray[K]:null}function Y(K,Z,U){var ae,le,we,B,X;if(K)for(ae=K.AdaptationSet_asArray,B=0;B<ae.length;B+=1)for(we=ae[B].Representation_asArray,X=0;X<we.length;X+=1)if(Z===(le=we[X]).id)return U?X:le;return null}return y={getBandwidthForRepresentation:function(K,Z){var U;return(U=Y(C(Z),K))?U.bandwidth:null},getIndexForRepresentation:function(K,Z){return null!==(le=Y(C(Z),K,!0))?le:-1;var le},getMaxIndexForBufferType:function(K,Z){return function(U,ae){var le,we,B,X;if(!U||!ae)return-1;for(we=U.AdaptationSet_asArray,X=0;X<we.length;X+=1)if(B=(le=we[X]).Representation_asArray,p.getIsTypeOf(le,ae))return B.length;return-1}(C(Z),K)},convertRepresentationToRepresentationInfo:function(K){if(K){var Z=new s_,ae=p.getRepresentationFor(K.index,K.adaptation.period.mpd.manifest.Period_asArray[K.adaptation.period.index].AdaptationSet_asArray[K.adaptation.index]);return Z.id=K.id,Z.quality=K.index,Z.bandwidth=p.getBandwidth(ae),Z.fragmentDuration=K.segmentDuration||(K.segments&&K.segments.length>0?K.segments[0].duration:NaN),Z.MSETimeOffset=K.MSETimeOffset,Z.mediaInfo=z(K.adaptation),Z}return null},getStreamsInfo:function(K,Z){var U=[],ae=I;if(K&&(_e(),ae=re(K)),ae.length>0){(!Z||Z>ae.length)&&(Z=ae.length);for(var le=0;le<Z;le++)U.push(ue(ae[le]))}return U},getMediaInfoForType:function(K,Z){if(0===I.length||!K)return null;var U=de(K,I);if(!U)return null;var ae=p.getAdaptationsForPeriod(U),le=J(K.index,Z,K);return le?z(ae[p.getIndexForAdaptation(le,I[0].mpd.manifest,K.index)]):null},getAllMediaInfoForType:V,getAdaptationForType:J,getRealAdaptation:function(K,Z){var U,ae,le=de(K,I);return U=Z?Z.id:null,I.length>0&&le&&(ae=U?p.getAdaptationForId(U,I[0].mpd.manifest,le.index):p.getAdaptationForIndex(Z?Z.index:null,I[0].mpd.manifest,le.index)),ae},getProducerReferenceTimes:function(K,Z){var U,ae,le=de(K,I);return U=Z?Z.id:null,I.length>0&&le&&(ae=U?p.getAdaptationForId(U,I[0].mpd.manifest,le.index):p.getAdaptationForIndex(Z?Z.index:null,I[0].mpd.manifest,le.index)),ae?p.getProducerReferenceTimesForAdaptation(ae):[]},getRealPeriodByIndex:function(K){return p.getRealPeriodForIndex(K,I[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(K){try{return p.getEssentialPropertiesForRepresentation(K)}catch{return[]}},getVoRepresentations:function(K){var Z=Te(K);return p.getRepresentationsForAdaptation(Z)},getEventsFor:function(K,Z,U){var ae=[];if(I.length>0){var le=I[0].mpd.manifest;if(K instanceof a_){var we=de(K,I);ae=p.getEventsForPeriod(we)}else if(K instanceof Xh){var B=de(U,I);ae=p.getEventStreamForAdaptationSet(le,Te(K),B)}else if(K instanceof s_){var X=de(U,I);ae=p.getEventStreamForRepresentation(le,Z,X)}}return ae},getEvent:function(K,Z,U,ae){try{if(!K||!Z||isNaN(U)||!ae)return null;var le=K.scheme_id_uri,we=K.value;if(!Z[le+"/"+we])return null;var B,X=new Hi,Re=K.timescale||1,Be=ae.adaptation.period.start,je=Z[le+"/"+we],Je=isNaN(ae.presentationTimeOffset)?isNaN(je.presentationTimeOffset)?0:je.presentationTimeOffset:ae.presentationTimeOffset,Pe=K.presentation_time_delta/Re;B=0===K.version?Be+U-Je+Pe:Be-Je+Pe;var nt=K.event_duration/Re,Bt=K.id,vt=K.message_data;return X.eventStream=je,X.eventStream.value=we,X.eventStream.timescale=Re,X.duration=nt,X.id=Bt,X.calculatedPresentationTime=B,X.messageData=vt,X.presentationTimeDelta=Pe,X}catch{return null}},getMpd:te,setConfig:function(K){K&&(K.constants&&(O=K.constants),K.cea608parser&&(A=K.cea608parser),K.errHandler&&p.setConfig({errHandler:K.errHandler}),K.BASE64&&p.setConfig({BASE64:K.BASE64}))},updatePeriods:function(K){if(!K)return null;_e(),I=re(K)},getIsTextTrack:function(K){return p.getIsText(K)},getUTCTimingSources:function(){var K=ye();return p.getUTCTimingSources(K)},getSuggestedPresentationDelay:function(){return p.getSuggestedPresentationDelay(I.length>0?I[0].mpd:null)},getAvailabilityStartTime:function(K){var Z=te(K);return p.getAvailabilityStartTime(Z)},getIsTypeOf:function(K,Z){return p.getIsTypeOf(K,Z)},getIsDynamic:function(K){var Z=ye(K);return p.getIsDynamic(Z)},getDuration:function(K){var Z=ye(K);return p.getDuration(Z)},getRegularPeriods:re,getContentSteering:function(K){return p.getContentSteering(K)},getLocation:function(K){return p.getLocation(K)},getPatchLocation:function(K){var Z=p.getPatchLocation(K),U=p.getPublishTime(K);return Z&&0!==Z.length&&U?Z.filter(function(ae){return isNaN(ae.ttl)||U.getTime()+ae.ttl>(new Date).getTime()}):[]},getManifestUpdatePeriod:function(K){return p.getManifestUpdatePeriod(K,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function(K){return p.getPublishTime(K)},getIsDVB:function(K){return p.hasProfile(K,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(K){return b.getIsPatch(K)},getBaseURLsFromElement:function(K){return p.getBaseURLsFromElement(K)},getRepresentationSortFunction:function(){return p.getRepresentationSortFunction()},getCodec:function(K,Z,U){return p.getCodec(K,Z,U)},getPeriodById:function(K){if(!K||0===I.length)return null;var Z=I.filter(function(U){return U.id===K});return Z&&Z.length>0?Z[0]:null},setCurrentMediaInfo:function(K,Z,U){R[K]=R[K]||{},R[K][Z]=R[K][Z]||{},R[K][Z]=U},isPatchValid:function(K,Z){var U=p.getId(K),ae=b.getMpdId(Z),le=p.getPublishTime(K),we=b.getPublishTime(Z),B=b.getOriginalPublishTime(Z);return!!(U&&ae&&U==ae&&le&&B&&le.getTime()==B.getTime()&&we&&le.getTime()<we.getTime())},applyPatchToManifest:function(K,Z){b.getPatchOperations(Z).forEach(function(U){var ae=U.getMpdTarget(K);if(null!==ae){var le=ae.name,we=ae.target,B=ae.leaf;if(U.xpath.findsAttribute())switch(U.action){case"add":case"replace":we[le]=U.value;break;case"remove":delete we[le]}else{var X=(we[le+"_asArray"]||[]).indexOf(B),Re="prepend"===U.position||"before"===U.position;if(("remove"===U.action||"replace"===U.action)&&(delete we[le],-1!=X)){var Be=we[le+"_asArray"];Be.splice(X,1),Be.length>1?we[le]=Be:1==Be.length?we[le]=Be[0]:delete we[le+"_asArray"]}"add"!==U.action&&"replace"!==U.action||Object.keys(U.value).forEach(function(je){var Je=U.value[je],Pe=we[je+"_asArray"]||[];0===Pe.length&&we[je]&&Pe.push(we[je]),0===Pe.length?Pe=Je:Pe.splice.apply(Pe,[je==le&&-1!=X?X+(Re?0:1)+("replace"==U.action?-1:0):Re?0:Pe.length,0].concat(Je)),we[je+"_asArray"]=Pe,we[je]=1==Pe.length?Pe[0]:Pe})}}})},areMediaInfosEqual:ie,reset:Ae},p=Dn(j).getInstance(),b=l_(j).getInstance(),Ae(),y}tp.__dashjs_factory_name="DashAdapter";const p0=S.Z.getSingletonFactory(tp);var Ns=function(){function y(){!function(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}(this,y)}var b;return(b=[{key:"round10",value:function(I,R){return O="round",A=I,void 0===(j=R)||0==+j?Math[O](A):(j=+j,null===(A=+A)||isNaN(A)||"number"!=typeof j||j%1!=0?NaN:(A=A.toString().split("e"),+((A=(A=Math[O](+(A[0]+"e"+(A[1]?+A[1]-j:-j)))).toString().split("e"))[0]+"e"+(A[1]?+A[1]+j:j))));var O,A,j}}])&&function c_(y,p){for(var b=0;b<p.length;b++){var I=p[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}(y,b),y}();const pu=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},Gi=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.t=null,this.mt=null,this.to=null,this.lto=null},np=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.t=null,this.level=null},m0=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.target=null,this.state=P.Z.BUFFER_EMPTY},Hd=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.time=null,this.range=null,this.manifestInfo=null},Zd=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.time=null,this.droppedFrames=null};function Nl(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}var u_=function y(){Nl(this,y),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},g0=function y(){Nl(this,y),this.id=null,this.index=null,this.start=null,this.duration=null},rp=function y(){Nl(this,y),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};const zd=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},d_=function y(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),this.loadingRequests=[],this.executedRequests=[]};function lc(y){var p,b,I=(y=y||{}).settings,O=(0,w.Z)(this.context).getInstance();function A(){O.trigger(m.Z.METRICS_CHANGED)}function j(te){O.trigger(m.Z.METRIC_CHANGED,{mediaType:te}),A()}function J(te,Ae,ye){O.trigger(m.Z.METRIC_UPDATED,{mediaType:te,metric:Ae,value:ye}),j(te)}function ie(te,Ae,ye){O.trigger(m.Z.METRIC_ADDED,{mediaType:te,metric:Ae,value:ye}),j(te)}function ee(te,Ae){var ye=null;return te&&(b.hasOwnProperty(te)?ye=b[te]:Ae||(ye=new pu,b[te]=ye)),ye}function V(te,Ae,ye){var Te=ee(te);null!==Te&&(Te[Ae].push(ye),Te[Ae].length>I.get().streaming.metrics.maxListDepth&&Te[Ae].shift())}function re(te,Ae,ye){V(te,Ae,ye),ie(te,Ae,ye)}return p={clearCurrentMetricsForType:function(te){delete b[te],j(te)},clearAllCurrentMetrics:function(){b={},A()},getMetricsFor:ee,addHttpRequest:function te(Ae,ye,Te,de,z,pe,ue,_e,C,Y,K,Z,U,ae,le,we,B){var X=new Ve.w;pe&&pe!==de&&(te(Ae,null,Te,de,z,null,null,_e,C,null,null,null,U,null,null,we,B),X.actualurl=pe),X.tcpid=ye,X.type=Te,X.url=de,X.range=_e,X.trequest=C,X.tresponse=Y,X.responsecode=Z,X.cmsd=B,X._tfinish=K,X._stream=Ae,X._mediaduration=U,X._quality=z,X._responseHeaders=ae,X._serviceLocation=ue,X._fileLoaderType=we,le?le.forEach(function(Re){var Be,je,Je,Pe,nt;Be=X,je=Re.s,Je=Re.d,Pe=Re.b,(nt=new Ve.O).s=je,nt.d=Je,nt.b=Pe,Be.trace.push(nt),Be.interval||(Be.interval=0),Be.interval+=Je}):(delete X.interval,delete X.trace),re(Ae,P.Z.HTTP_REQUEST,X)},addRepresentationSwitch:function(te,Ae,ye,Te,de){var z=new Gi;z.t=Ae,z.mt=ye,z.to=Te,de?z.lto=de:delete z.lto,re(te,P.Z.TRACK_SWITCH,z)},addBufferLevel:function(te,Ae,ye){var Te=new np;Te.t=Ae,Te.level=ye,re(te,P.Z.BUFFER_LEVEL,Te)},addBufferState:function(te,Ae,ye){var Te=new m0;Te.target=ye,Te.state=Ae,re(te,P.Z.BUFFER_STATE,Te)},addDVRInfo:function(te,Ae,ye,Te){var de=new Hd;de.time=Ae,de.range=Te,de.manifestInfo=ye,re(te,P.Z.DVR_INFO,de)},addDroppedFrames:function(te,Ae){var ye=new Zd,Te=ee(te).DroppedFrames;Ae&&(ye.time=Ae.creationTime,ye.droppedFrames=Ae.droppedVideoFrames,Te.length>0&&Te[Te.length-1]==ye||re(te,P.Z.DROPPED_FRAMES,ye))},addSchedulingInfo:function(te,Ae,ye,Te,de,z,pe,ue,_e){var C=new zd;C.mediaType=te,C.t=Ae,C.type=ye,C.startTime=Te,C.availabilityStartTime=de,C.duration=z,C.quality=pe,C.range=ue,C.state=_e,re(te,P.Z.SCHEDULING_INFO,C)},addRequestsQueue:function(te,Ae,ye){var Te=new d_;Te.loadingRequests=Ae,Te.executedRequests=ye,ee(te).RequestsQueue=Te,ie(te,P.Z.REQUESTS_QUEUE,Te)},addManifestUpdate:function(te,Ae,ye,Te,de,z,pe,ue,_e,C){var Y=new u_;Y.mediaType=te,Y.type=Ae,Y.requestTime=ye,Y.fetchTime=Te,Y.availabilityStartTime=de,Y.presentationStartTime=z,Y.clientTimeOffset=pe,Y.currentTime=ue,Y.buffered=_e,Y.latency=C,V(d.Z.STREAM,P.Z.MANIFEST_UPDATE,Y),ie(te,P.Z.MANIFEST_UPDATE,Y)},updateManifestUpdateInfo:function(te,Ae){if(te){for(var ye in Ae)te[ye]=Ae[ye];J(te.mediaType,P.Z.MANIFEST_UPDATE,te)}},addManifestUpdateStreamInfo:function(te,Ae,ye,Te,de){if(te){var z=new g0;z.id=Ae,z.index=ye,z.start=Te,z.duration=de,te.streamInfo.push(z),J(te.mediaType,P.Z.MANIFEST_UPDATE_STREAM_INFO,te)}},addManifestUpdateRepresentationInfo:function(te,Ae,ye,Te,de,z,pe,ue){if(te&&te.representationInfo){var _e=new rp;_e.id=Ae,_e.index=ye,_e.streamIndex=Te,_e.mediaType=de,_e.startNumber=pe,_e.fragmentInfoType=ue,_e.presentationTimeOffset=z,te.representationInfo.push(_e),J(te.mediaType,P.Z.MANIFEST_UPDATE_TRACK_INFO,te)}},addPlayList:function(te){te.trace&&Array.isArray(te.trace)?te.trace.forEach(function(Ae){Ae.hasOwnProperty("subreplevel")&&!Ae.subreplevel&&delete Ae.subreplevel}):delete te.trace,re(d.Z.STREAM,P.Z.PLAY_LIST,te)},addDVBErrors:function(te){re(d.Z.STREAM,P.Z.DVB_ERRORS,te)}},b={},p}lc.__dashjs_factory_name="MetricsModel";const f_=S.Z.getSingletonFactory(lc);function h_(y){var p,b,I,R,A=(y=y||{}).metricsModel;function j(ee){var V=A.getMetricsFor(ee,!0);if(!V)return null;var re,te=V.HttpList,Ae=null;if(!te||te.length<=0)return null;for(re=te.length-1;re>=0;){if(te[re].responsecode){Ae=te[re];break}re--}return Ae}function J(ee){var V=A.getMetricsFor(ee,!0);return V&&V.HttpList?V.HttpList:[]}function ie(ee,V){if(!ee)return null;var re=ee[V];return re&&0!==re.length?re[re.length-1]:null}return p={getCurrentRepresentationSwitch:function(ee){return ie(A.getMetricsFor(ee,!0),P.Z.TRACK_SWITCH)},getCurrentBufferState:function(ee){return ie(A.getMetricsFor(ee,!0),P.Z.BUFFER_STATE)},getCurrentBufferLevel:function(ee){var V=ie(A.getMetricsFor(ee,!0),P.Z.BUFFER_LEVEL);return V?Ns.round10(V.level/1e3,-3):0},getCurrentHttpRequest:j,getHttpRequests:J,getCurrentDroppedFrames:function(){return ie(A.getMetricsFor(d.Z.VIDEO,!0),P.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(ee){return ie(A.getMetricsFor(ee,!0),P.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(ee){return ie(ee?A.getMetricsFor(ee,!0):A.getMetricsFor(d.Z.VIDEO,!0)||A.getMetricsFor(d.Z.AUDIO,!0),P.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return ie(A.getMetricsFor(d.Z.STREAM),P.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(ee,V){if(!V)return null;var re={},te=j(ee);te&&(re=er.Z.parseHttpHeaders(te._responseHeaders));var Ae=re[V.toLowerCase()];return void 0===Ae?null:Ae},getLatestMPDRequestHeaderValueByID:function(ee){if(!ee)return null;var V,re,te,Ae={};for(te=(V=J(d.Z.STREAM)).length-1;te>=0;te--)if((re=V[te]).type===Ve.w.MPD_TYPE){Ae=er.Z.parseHttpHeaders(re._responseHeaders);break}var ye=Ae[ee.toLowerCase()];return void 0===ye?null:ye},addRepresentationSwitch:function(ee,V,re,te,Ae){A.addRepresentationSwitch(ee,V,re,te,Ae)},addDVRInfo:function(ee,V,re,te){A.addDVRInfo(ee,V,re,te)},updateManifestUpdateInfo:function(ee){var V=this.getCurrentManifestUpdate();A.updateManifestUpdateInfo(V,ee)},addManifestUpdateStreamInfo:function(ee){if(ee){var V=this.getCurrentManifestUpdate();A.addManifestUpdateStreamInfo(V,ee.id,ee.index,ee.start,ee.duration)}},addManifestUpdateRepresentationInfo:function(ee,V){if(ee){var re=this.getCurrentManifestUpdate();A.addManifestUpdateRepresentationInfo(re,ee.id,ee.index,ee.streamIndex,V,ee.presentationTimeOffset,ee.startNumber,ee.fragmentInfoType)}},addManifestUpdate:function(ee){A.addManifestUpdate(d.Z.STREAM,ee.type,ee.requestStartDate,ee.requestEndDate)},addHttpRequest:function(ee,V,re,te,Ae,ye){A.addHttpRequest(ee.mediaType,null,ee.type,ee.url,ee.quality,V,ee.serviceLocation||null,ee.range||null,ee.requestStartDate,ee.firstByteDate,ee.requestEndDate,re,ee.duration,te,Ae,ee.fileLoaderType,ye)},addSchedulingInfo:function(ee,V){A.addSchedulingInfo(ee.mediaType,new Date,ee.type,ee.startTime,ee.availabilityStartTime,ee.duration,ee.quality,ee.range,V)},addRequestsQueue:function(ee,V,re){A.addRequestsQueue(ee,V,re)},addBufferLevel:function(ee,V,re){A.addBufferLevel(ee,V,re)},addBufferState:function(ee,V,re){A.addBufferState(ee,V,re)},addDroppedFrames:function(ee){A.addDroppedFrames(d.Z.VIDEO,ee)},addPlayList:function(){R&&(A.addPlayList(R),R=null)},addDVBErrors:function(ee){A.addDVBErrors(ee)},createPlaylistMetrics:function(ee,V){(R=new Fe).start=new Date,R.mstart=ee,R.starttype=V},createPlaylistTraceMetrics:function(ee,V,re){!0===b&&(b=!1,(I=new tt).representationid=ee,I.start=new Date,I.mstart=V,I.playbackspeed=null!==re?re.toString():null)},updatePlayListTraceMetrics:function(ee){if(I)for(var V in I)I[V]=ee[V]},pushPlayListTraceMetrics:function(ee,V){if(!1===b&&R&&I&&I.start){var re=I.start,te=ee.getTime()-re.getTime();I.duration=te,I.stopreason=V,R.trace.push(I),b=!0}},clearAllCurrentMetrics:function(){A.clearAllCurrentMetrics()}},A=A||f_(this.context).getInstance({settings:y.settings}),b=!0,I=null,R=null,p}h_.__dashjs_factory_name="DashMetrics";const _0=S.Z.getSingletonFactory(h_);function p_(){var y,p,b,I,R=this.context,O=(0,w.Z)(R).getInstance(),A=(0,Rt.Z)(R).getInstance();function j(de){I=de}function J(de,z,pe,ue){var _e,C=z.adaptation.period.mpd,Y=C.availabilityStartTime;if(ue)_e=pe&&C.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Y.getTime()+1e3*(de+C.timeShiftBufferDepth)):C.availabilityEndTime;else if(pe){var K=z.availabilityTimeOffset;_e=new Date(Y.getTime()+1e3*(de-K))}else _e=Y;return _e}function ie(de,z){return(de.getTime()-z.mpd.availabilityStartTime.getTime()+1e3*I)/1e3}function ee(de,z){return de+(z.adaptation.period.start-z.presentationTimeOffset)}function V(de){var z={start:NaN,end:NaN},pe=de[0].getAdapter().getRegularPeriods()[0],ue=ie(new Date,pe);if(!de||0===de.length)return{range:z,now:ue};de.forEach(function(C){var Y=C.getAdapter(),K=Y.getMediaInfoForType(C.getStreamInfo(),d.Z.VIDEO)||Y.getMediaInfoForType(C.getStreamInfo(),d.Z.AUDIO),Z=Y.getVoRepresentations(K)[0],U={start:NaN,end:NaN};if(Z)if(Z.segmentInfoType===f.Z.SEGMENT_TIMELINE)U=function(le){var we,B,X,Re,je=p.getRepresentationFor(le.index,le.adaptation.period.mpd.manifest.Period_asArray[le.adaptation.period.index].AdaptationSet_asArray[le.adaptation.index]),Pe=je.SegmentTemplate.timescale,nt=je.SegmentTemplate.SegmentTimeline.S_asArray,Bt={start:0,end:0},vt=nt[0].t,Dt=!isNaN(vt),qt=Dt?vt:0,tn=0;for(Dt&&(Bt.start=ee(qt/Pe,le)),X=0,Re=nt.length;X<Re;X++)B=0,(we=nt[X]).hasOwnProperty("r")&&(B=we.r),tn+=we.d*(1+B);return Bt.end=ee((qt+tn)/Pe,le),Bt}(Z);else{var ae=Z.adaptation.period;U.start=ae.start,U.end=Math.max(ue,ae.start+ae.duration)}!isNaN(U.start)&&(isNaN(z.start)||z.start>U.start)&&(z.start=U.start),!isNaN(U.end)&&(isNaN(z.end)||z.end<U.end)&&(z.end=U.end)}),z.end=Math.min(ue,z.end);var _e=te(de,z.end,!0);return z.end=isNaN(_e)?z.end:_e,z.start=pe&&pe.mpd&&pe.mpd.timeShiftBufferDepth&&!isNaN(pe.mpd.timeShiftBufferDepth)&&!isNaN(z.end)?Math.max(z.end-pe.mpd.timeShiftBufferDepth,z.start):z.start,z.start=te(de,z.start),{range:z,now:ue}}function re(de,z){b=de-z.end}function te(de,z){var pe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ue=0,_e=!1,C=NaN;!_e&&ue<de.length;){var Y=de[ue].getStreamInfo();Y.start<=z&&(!isFinite(Y.duration)||Y.start+Y.duration>=z)?(C=z,_e=!0):!pe&&Y.start>z&&(isNaN(C)||Y.start<C)?C=Y.start:pe&&Y.start+Y.duration<z&&(isNaN(C)||Y.start+Y.duration>C)&&(C=Y.start+Y.duration),ue+=1}return C}catch{return z}}function Ae(de){void 0===de.offset||isNaN(de.offset)||j(de.offset/1e3)}function ye(){I=0,b=0}function Te(){O.off(m.Z.UPDATE_TIME_SYNC_OFFSET,Ae,this),ye()}return y={initialize:function(){ye(),O.on(m.Z.UPDATE_TIME_SYNC_OFFSET,Ae,this)},getClientTimeOffset:function(){return I},setClientTimeOffset:j,getClientReferenceTime:function(){return Date.now()-1e3*b+1e3*I},calcAvailabilityStartTimeFromPresentationTime:function(de,z,pe){return J(de,z,pe)},calcAvailabilityEndTimeFromPresentationTime:function(de,z,pe){return J(de,z,pe,!0)},calcPresentationTimeFromWallTime:ie,calcPresentationTimeFromMediaTime:ee,calcPeriodRelativeTimeFromMpdRelativeTime:function(de,z){return z-de.adaptation.period.start},calcMediaTimeFromPresentationTime:function(de,z){return de-z.adaptation.period.start+z.presentationTimeOffset},calcWallTimeForSegment:function(de,z){var ue,_e;return z&&(ue=de.presentationStartTime+de.representation.adaptation.period.mpd.suggestedPresentationDelay,_e=new Date(de.availabilityStartTime.getTime()+1e3*ue)),_e},calcTimeShiftBufferWindow:function(de,z){if(!z)return _e={start:NaN,end:NaN},C=0,Y=NaN,de.forEach(function(K){var Z=K.getStreamInfo();C+=Z.duration,(isNaN(Y)||Z.start<Y)&&(Y=Z.start)}),_e.start=Y,_e.end=Y+C,_e;var _e,C,Y;if(A.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var pe=V(de);return re(pe.now,pe.range),pe.range}return function(ue){var _e={start:NaN,end:NaN};if(!ue||0===ue.length)return _e;var C=ue[0].getAdapter().getRegularPeriods()[0],Y=ie(new Date,C),K=C.mpd.timeShiftBufferDepth,Z=isNaN(K)?0:Y-K;if(_e.start=te(ue,Z),_e.end=!isNaN(_e.start)&&Y<_e.start?Y:te(ue,Y,!0),!isNaN(K)&&_e.end<Y-K&&(_e.end=NaN),A.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var U=V(ue);if(U.range.end<_e.start)return O.trigger(h.Z.CONFORMANCE_VIOLATION,{level:yl.LEVELS.WARNING,event:yl.EVENTS.INVALID_DVR_WINDOW}),re(U.now,U.range),U.range}return _e}(de)},reset:Te},p=Dn(R).getInstance(),Te(),y}p_.__dashjs_factory_name="TimelineConverter";const ip=S.Z.getSingletonFactory(p_);var Gd=L(4593),mu=L(6934);function wo(y){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}function gu(y,p){return(gu=Object.setPrototypeOf||function(b,I){return b.__proto__=I,b})(y,p)}function _u(y){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(y)}const op=function(y){!function(O,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),A&&gu(O,A)}(R,y);var p,b,I=(p=R,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,A=_u(p);if(b){var j=_u(this).constructor;O=Reflect.construct(A,arguments,j)}else O=A.apply(this,arguments);return function m_(y,p){return!p||"object"!==wo(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(y):p}(this,O)});function R(){var O;return function(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}(this,R),(O=I.call(this)).captionData=null,O.label=null,O.defaultTrack=!1,O.kind=null,O.isFragmented=!1,O.isEmbedded=!1,O.isTTML=null,O}return R}(Xh);var sp=L(2295);function ap(){var y=0;function p(j){for(var J="",ie=0;ie<j.length;++ie)J+=j[ie].uchar;return J.length-J.replace(/^\s+/,"").length}function b(j){return"left: "+3.125*j.x+"%; top: "+6.66*j.y1+"%; width: "+(100-3.125*j.x)+"%; height: "+6.66*Math.max(j.y2-1-j.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function I(j){return"red"===j?"rgb(255, 0, 0)":"green"===j?"rgb(0, 255, 0)":"blue"===j?"rgb(0, 0, 255)":"cyan"===j?"rgb(0, 255, 255)":"magenta"===j?"rgb(255, 0, 255)":"yellow"===j?"rgb(255, 255, 0)":"white"===j?"rgb(255, 255, 255)":"black"===j?"rgb(0, 0, 0)":j}function R(j,J){var ie=j.videoHeight/15;return J?"font-size: "+ie+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(J.foreground?I(J.foreground):"rgb(255, 255, 255)")+"; font-style: "+(J.italics?"italic":"normal")+"; text-decoration: "+(J.underline?"underline":"none")+"; white-space: pre; background-color: "+(J.background?I(J.background):"transparent")+";":"font-size: "+ie+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function O(j){return j.replace(/^\s+/g,"")}function A(j){return j.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(j,J,ie,ee){var V,re,te=null,Ae=!1,ye=-1,Te={start:J,end:ie,spans:[]},de="style_cea608_white_black",z={},pe={},ue=[];for(V=0;V<15;++V){var _e=ee.rows[V],C="",Y=null;if(!1===_e.isEmpty()){var K=p(_e.chars);null===te&&(te={x:K,y1:V,y2:V+1,p:[]}),K!==ye&&Ae&&(te.p.push(Te),Te={start:J,end:ie,spans:[]},te.y2=V,te.name="region_"+te.x+"_"+te.y1+"_"+te.y2,!1===z.hasOwnProperty(te.name)?(ue.push(te),z[te.name]=te):z[te.name].p.contat(te.p),te={x:K,y1:V,y2:V+1,p:[]});for(var Z=0;Z<_e.chars.length;++Z){var U=_e.chars[Z],ae=U.penState;if(null===Y||!ae.equals(Y)){C.trim().length>0&&(Te.spans.push({name:de,line:C,row:V}),C="");var le="style_cea608_"+ae.foreground+"_"+ae.background;ae.underline&&(le+="_underline"),ae.italics&&(le+="_italics"),pe.hasOwnProperty(le)||(pe[le]=JSON.parse(JSON.stringify(ae))),Y=ae,de=le}C+=U.uchar}C.trim().length>0&&Te.spans.push({name:de,line:C,row:V}),Ae=!0,ye=K}else Ae=!1,ye=-1,te&&(te.p.push(Te),Te={start:J,end:ie,spans:[]},te.y2=V,te.name="region_"+te.x+"_"+te.y1+"_"+te.y2,!1===z.hasOwnProperty(te.name)?(ue.push(te),z[te.name]=te):z[te.name].p.contat(te.p),te=null)}te&&(te.p.push(Te),te.y2=V+1,te.name="region_"+te.x+"_"+te.y1+"_"+te.y2,!1===z.hasOwnProperty(te.name)?(ue.push(te),z[te.name]=te):z[te.name].p.contat(te.p),te=null);var we=[];for(V=0;V<ue.length;++V){var B=ue[V],X="sub_cea608_"+y++,Re=document.createElement("div");Re.id=X;var Be=b(B);Re.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Be;var je=document.createElement("div");je.className="paragraph bodyStyle",je.style.cssText=R(j);var Je=document.createElement("div");Je.className="cueUniWrapper",Je.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Pe=0;Pe<B.p.length;++Pe){var nt=B.p[Pe],Bt=0;for(re=0;re<nt.spans.length;++re){var vt=nt.spans[re];if(vt.line.length>0){if(0!==re&&Bt!=vt.row){var Dt=document.createElement("br");Dt.className="lineBreak",Je.appendChild(Dt)}var qt=!1;Bt===vt.row&&(qt=!0),Bt=vt.row;var tn=pe[vt.name],Le=document.createElement("span");Le.className="spanPadding "+vt.name+" customSpanColor",Le.style.cssText=R(j,tn),Le.textContent=0!==re&&qt?re===nt.spans.length-1?A(vt.line):vt.line:nt.spans.length>1&&re<nt.spans.length-1&&vt.row===nt.spans[re+1].row?O(vt.line):vt.line.trim(),Je.appendChild(Le)}}}je.appendChild(Je),Re.appendChild(je);var Se={bodyStyle:["%",90]};for(var Qe in pe)pe.hasOwnProperty(Qe)&&(Se[Qe]=["%",90]);we.push({type:"html",start:J,end:ie,cueHTMLElement:Re,cueID:X,cellResolution:[32,15],isFromCEA608:!0,fontSize:Se,lineHeight:{},linePadding:{}})}return we}}}ap.__dashjs_factory_name="EmbeddedTextHtmlRender";const qd=S.Z.getSingletonFactory(ap);function lp(y){var p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,Te,de=y.errHandler,z=y.manifestModel,pe=y.mediaController,ue=y.videoModel,_e=y.textTracks,C=y.vttParser,Y=y.vttCustomRenderingParser,K=y.ttmlParser,Z=y.streamInfo,U=y.settings,ae=this.context,le=(0,w.Z)(ae).getInstance(),we=!1;function B(){A=null,J=NaN,ie=[],ee=null,j=!1,O=[],R=null}function X(vt){var tn,Le,Dt=new op;for(var qt in vt)Dt[qt]=vt[qt];Dt.labels=vt.labels,Dt.defaultTrack=(tn=vt,Le=!1,re.length>1&&tn.isEmbedded?Le=tn.id&&tn.id===d.Z.CC1:1===re.length?tn.id&&"string"==typeof tn.id&&"CC"===tn.id.substring(0,2)&&(Le=!0):0===re.length&&(Le=tn.index===O[0].index),Le),Dt.isFragmented=vt.isFragmented,Dt.isEmbedded=!!vt.isEmbedded,Dt.isTTML=function(tn){return tn.codec&&tn.codec.search(d.Z.STPP)>=0||tn.mimeType&&tn.mimeType.search(d.Z.TTML)>=0}(vt),Dt.kind=function(tn,Le){var Se=tn.roles&&tn.roles.length>0?Le[tn.roles[0]]:Le.caption;return Se===Le.caption||Se===Le.subtitle?Se:Le.caption}(vt,{subtitle:"subtitles",caption:"captions"}),_e.addTextTrack(Dt)}function Re(vt){var Dt=vt.chunk;Dt.mediaInfo.embeddedCaptions&&je(Dt.bytes,Dt)}function Be(vt){V=vt}function je(vt,Dt){var qt=Dt.mediaInfo,tn=qt.type,Se=qt.codec||qt.mimeType;Se?-1!==qt.codec.indexOf("application/mp4")?function(Qe,Oe,et){var lt;if("InitializationSegment"===Oe.segmentType)j=!0,J=I.getMediaTimescaleFromMoov(Qe);else{if(!j)return;(lt=I.getSamplesInfo(Qe).sampleList).length>0&&(ee=lt[0].cts-Oe.start*J),et.search(d.Z.STPP)>=0?function(pt,kt,Yt){var Mn,gn;for(R=null!==R?R:nt(Yt),Mn=0;Mn<kt.length;Mn++){var hn=kt[Mn],ln=hn.cts,Rn=Pe(),tr=Rn+ln/J;p.buffered.add(tr,tr+hn.duration/J);var Wn=new DataView(pt,hn.offset,hn.subSizes[0]),mr=mu.Utils.dataViewToString(Wn,d.Z.UTF8),ir=[],hr=hn.offset+hn.subSizes[0];for(gn=1;gn<hn.subSizes.length;gn++){var Pt=new Uint8Array(pt,hr,hn.subSizes[gn]),Cn=String.fromCharCode.apply(null,Pt);ir.push(Cn),hr+=hn.subSizes[gn]}try{var wn=z.getValue().ttmlTimeIsRelative?ln/J:0,vn=R.parse(mr,wn,ln/J,(ln+hn.duration)/J,ir);_e.addCaptions(V,Rn,vn)}catch(mt){A.removeExecutedRequestsBeforeTime(),this.remove(),b.error("TTML parser error: "+mt.message)}}}(Qe,lt,et):function(pt,kt){var Yt,Mn,gn,hn=[];for(Yt=0;Yt<kt.length;Yt++){var ln=kt[Yt];ln.cts-=ee;var Rn=Pe()+ln.cts/J;p.buffered.add(Rn,Rn+ln.duration/J);var sr=pt.slice(ln.offset,ln.offset+ln.size),Wn=mu.parseBuffer(sr);for(Mn=0;Mn<Wn.boxes.length;Mn++){var mr=Wn.boxes[Mn];if(b.debug("VTT box1: "+mr.type),"vtte"!==mr.type&&"vttc"===mr.type){b.debug("VTT vttc boxes.length = "+mr.boxes.length);var ir={styles:{}};for(gn=0;gn<mr.boxes.length;gn++){var hr=mr.boxes[gn];if(b.debug("VTT box2: "+hr.type),"payl"===hr.type)ir.start=ln.cts/J,ir.end=(ln.cts+ln.duration)/J,ir.data=hr.cue_text;else if("sttg"===hr.type&&hr.settings&&""!==hr.settings)try{var Pt=hr.settings.split(" ");ir.styles=C.getCaptionStyles(Pt)}catch{}}ir&&ir.data&&(hn.push(ir),b.debug("VTT  ".concat(ir.start," - ").concat(ir.end," :  ").concat(ir.data)))}}}hn.length>0&&_e.addCaptions(V,0,hn)}(Qe,lt)}}(vt,Dt,Se):tn===d.Z.VIDEO?function(Qe,Oe){var et,lt;if(Oe.segmentType===Ve.w.INIT_SEGMENT_TYPE)0===te&&(te=I.getMediaTimescaleFromMoov(Qe));else if(Oe.segmentType===Ve.w.MEDIA_SEGMENT_TYPE){if(0===te)return void b.warn("CEA-608: No timescale for embeddedTextTrack yet");var pt=(lt=I.getSamplesInfo(Qe)).lastSequenceNumber;if(ye[0]||ye[1]||function(){for(var hn,ln=0;ln<re.length;ln++){if(-1===(hn=_e.getTrackIdxForId(re[ln].id)))return void b.warn("CEA-608: data before track is ready.");var Rn=Je(hn);ye[ln]=new(k().Cea608Parser)(ln+1,{newCue:Rn},null)}}(),te){if(null!==Ae&&pt!==Ae+lt.numSequences)for(et=0;et<ye.length;et++)ye[et]&&ye[et].reset();for(var kt=function(hn,ln){if(0===ln.length)return null;for(var Rn={splits:[],fields:[[],[]]},tr=new DataView(hn),sr=0;sr<ln.length;sr++)for(var Wn=ln[sr],mr=k().findCea608Nalus(tr,Wn.offset,Wn.size),ir=null,hr=0,Pt=0;Pt<mr.length;Pt++)for(var Cn=k().extractCea608DataFromRange(tr,mr[Pt]),wn=0;wn<2;wn++)if(Cn[wn].length>0){Wn.cts!==ir?hr=0:hr+=1;var vn=Pe();Rn.fields[wn].push([Wn.cts+vn*te,Cn[wn],hr]),ir=Wn.cts}return Rn.fields.forEach(function(mt){mt.sort(function(Ht,dt){return Ht[0]===dt[0]?Ht[2]-dt[2]:Ht[0]-dt[0]})}),Rn}(Qe,lt.sampleList),Yt=0;Yt<ye.length;Yt++){var Mn=kt.fields[Yt],gn=ye[Yt];if(gn)for(et=0;et<Mn.length;et++)gn.addData(Mn[et][0]/te,Mn[et][1])}Ae=pt}}}(vt,Dt):function(Qe,Oe,et){var lt,pt,kt=new DataView(Qe,0,Qe.byteLength);pt=mu.Utils.dataViewToString(kt,d.Z.UTF8);try{lt=nt(et).parse(pt,0),_e.addCaptions(_e.getCurrentTrackIdx(),0,lt),p.buffered&&p.buffered.add(Oe.start,Oe.end)}catch(Yt){de.error(new W.Z(ge.TIMED_TEXT_ERROR_ID_PARSE_CODE,ge.TIMED_TEXT_ERROR_MESSAGE_PARSE+Yt.message,pt))}}(vt,Dt,Se):b.error("No text type defined")}function Je(vt){return function(Dt,qt,tn){var Le;(Le=ue.getTTMLRenderingDiv()?Te.createHTMLCaptionsFromScreen(ue.getElement(),Dt,qt,tn):[{start:Dt,end:qt,data:tn.getDisplayText(),styles:{}}])&&_e.addCaptions(vt,0,Le)}}function Pe(){return isNaN(p.timestampOffset)?0:p.timestampOffset}function nt(vt){var Dt;return vt.search(d.Z.VTT)>=0?Dt=U.get().streaming.text.webvtt.customRenderingEnabled&&Y?Y:C:(vt.search(d.Z.TTML)>=0||vt.search(d.Z.STPP)>=0)&&(Dt=K),Dt}function Bt(vt){re.forEach(function(Dt){var qt=_e.getTrackIdxForId(Dt.id);qt>=0&&_e.deleteCuesFromTrackIdx(qt,vt.from,vt.to)})}return p={initialize:function(){we||(re=[],V=null,te=0,ye=[],Ae=null,we=!0,Te=qd(ae).getInstance(),le.on(m.Z.VIDEO_CHUNK_RECEIVED,Re,p),le.on(m.Z.BUFFER_CLEARED,Bt,p))},addMediaInfos:function(vt,Dt,qt){if(O=O.concat(Dt),vt===d.Z.TEXT&&Dt[0].isFragmented&&!Dt[0].isEmbedded){A=qt,p.buffered=(0,sp.Z)(ae).create(),ie=pe.getTracksFor(d.Z.TEXT,Z.id).filter(function(Qe){return Qe.isFragmented});for(var tn=pe.getCurrentTrackFor(d.Z.TEXT,Z.id),Le=0;Le<ie.length;Le++)if(ie[Le]===tn){Be(Le);break}}for(var Se=0;Se<Dt.length;Se++)X(Dt[Se])},resetMediaInfos:function(){O=[]},getStreamId:function(){return Z.id},append:je,abort:function(){},addEmbeddedTrack:function(vt){if(we&&vt)if(vt.id===d.Z.CC1||vt.id===d.Z.CC3){for(var Dt=0;Dt<re.length;Dt++)if(re[Dt].id===vt.id)return;re.push(vt)}else b.warn("Embedded track "+vt.id+" not supported!")},resetEmbedded:function(){le.off(m.Z.VIDEO_CHUNK_RECEIVED,Re,p),le.off(m.Z.BUFFER_CLEARED,Bt,p),_e&&_e.deleteAllTextTracks(),we=!1,re=[],ye=[null,null],Ae=null},getConfig:function(){return{fragmentModel:A,fragmentedTracks:ie,videoModel:ue}},setCurrentFragmentedTrackIdx:Be,remove:function(vt,Dt){void 0===vt&&vt===Dt&&(vt=p.buffered.start(0),Dt=p.buffered.end(p.buffered.length-1)),p.buffered.remove(vt,Dt),_e.deleteCuesFromTrackIdx(V,vt,Dt)},reset:function(){B(),O=[],I=null}},b=(0,N.Z)(ae).getInstance().getLogger(p),I=(0,qc.Z)(ae).getInstance(),B(),p}lp.__dashjs_factory_name="TextSourceBuffer";const Os=S.Z.getClassFactory(lp);var yu=L(4403);function Yd(y,p){(null==p||p>y.length)&&(p=y.length);for(var b=0,I=new Array(p);b<p;b++)I[b]=y[b];return I}var ai=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function cp(y){var p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,Te,de,z,pe=this.context,ue=(0,w.Z)(pe).getInstance(),_e=y.videoModel,C=y.streamInfo,Y=y.settings;function K(Se,Qe,Oe,et,lt,pt){var kt=0,Yt=0;Se/Qe>Oe/et?kt=(Yt=Qe)/et*Oe:Yt=(kt=Se)/Oe*et;var Mn,gn,hn=0,ln=0;return kt/Yt>lt?(ln=Yt,hn=Yt*lt):(hn=kt,ln=kt/lt),Mn=(Se-hn)/2,gn=(Qe-ln)/2,pt?{x:Mn+.1*hn,y:gn+.1*ln,w:.8*hn,h:.8*ln}:{x:Mn,y:gn,w:hn,h:ln}}function Z(Se,Qe){var Oe=_e.getClientWidth(),et=_e.getClientHeight(),lt=_e.getVideoWidth(),pt=_e.getVideoHeight(),kt=_e.getVideoRelativeOffsetTop(),Yt=_e.getVideoRelativeOffsetLeft();if(0!==lt&&0!==pt){var Mn=lt/pt,gn=!1;Se.isFromCEA608&&(Mn=1.1666666666666667,gn=!0);var hn=K.call(this,Oe,et,lt,pt,Mn,gn),ln=hn.w,Rn=hn.h,tr=hn.x,sr=hn.y;if(ln!=ie||Rn!=ee||tr!=j||sr!=J||Qe){if(j=tr+Yt,J=sr+kt,ie=ln,ee=Rn,V){var Wn=V.style;Wn&&(Wn.left=j+"px",Wn.top=J+"px",Wn.width=ie+"px",Wn.height=ee+"px",Wn.zIndex=Ae&&document[Ae]||ye?de:null,ue.trigger(h.Z.CAPTION_CONTAINER_RESIZE))}var mr=Se.activeCues;if(mr)for(var ir=mr.length,hr=0;hr<ir;++hr){var Pt=mr[hr];Pt.scaleCue(Pt)}}}}function U(Se){var Qe,Oe,et,lt,pt;if(Se.cellResolution){var Mn=[ie/Se.cellResolution[0],ee/Se.cellResolution[1]];if(Se.linePadding)for(Qe in Se.linePadding)if(Se.linePadding.hasOwnProperty(Qe)){Oe=(Se.linePadding[Qe]*Mn[0]).toString();for(var gn=document.getElementsByClassName("spanPadding"),hn=0;hn<gn.length;hn++)gn[hn].style.cssText=gn[hn].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe),gn[hn].style.cssText=gn[hn].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}if(Se.fontSize){for(Qe in Se.fontSize)if(Se.fontSize.hasOwnProperty(Qe)){"%"===Se.fontSize[Qe][0]?et=Se.fontSize[Qe][1]/100:"c"===Se.fontSize[Qe][0]&&(et=Se.fontSize[Qe][1]),Oe=(et*Mn[1]).toString(),pt="defaultFontSize"!==Qe?document.getElementsByClassName(Qe):document.getElementsByClassName("paragraph");for(var ln=0;ln<pt.length;ln++)pt[ln].style.cssText=pt[ln].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}if(Se.lineHeight)for(Qe in Se.lineHeight)if(Se.lineHeight.hasOwnProperty(Qe)){"%"===Se.lineHeight[Qe][0]?lt=Se.lineHeight[Qe][1]/100:"c"===Se.fontSize[Qe][0]&&(lt=Se.lineHeight[Qe][1]),Oe=(lt*Mn[1]).toString(),pt=document.getElementsByClassName(Qe);for(var Rn=0;Rn<pt.length;Rn++)pt[Rn].style.cssText=pt[Rn].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}}}if(Se.isd){var tr=document.getElementById(Se.cueID);tr&&V.removeChild(tr),le(Se)}}function ae(Se,Qe){var Oe=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,et=/^#(.*)$/;if(Oe.test(Qe)){var lt=Oe.exec(Qe),pt=parseInt(lt[4],10)-1;return"data:image/png;base64,"+btoa(Se.images[pt])}if(et.test(Qe)){var kt=et.exec(Qe)[1];return"data:image/png;base64,"+Se.embeddedImages[kt]}return Qe}function le(Se){if(V){var Qe=document.createElement("div");V.appendChild(Qe),Te=(0,yu.renderHTML)(Se.isd,Qe,function(Oe){return ae(Se,Oe)},V.clientHeight,V.clientWidth,!1,function(Oe){b.info("renderCaption :",Oe)},Te,!0),Qe.id=Se.cueID,ue.trigger(h.Z.CAPTION_RENDERED,{captionDiv:Qe,currentTrackIdx:A})}}function we(Se,Qe){if(!Y.get().streaming.text.extendSegmentedCues||!Qe.cues||0===Qe.cues.length)return!1;var Oe=Qe.cues[Qe.cues.length-1];return!(Oe.endTime<Se.startTime||!function(et,lt,pt){for(var kt=0;kt<pt.length;kt++){var Yt=pt[kt];if(JSON.stringify(et[Yt])!==JSON.stringify(lt[Yt]))return!1}return!0}(Oe,Se,ai)||(Oe.endTime=Math.max(Oe.endTime,Se.endTime),0))}function B(Se,Qe){Qe&&Qe.forEach(function(Oe){Oe.kind&&"image"===Oe.kind&&(Oe.src=ae(Se,Oe.src)),B(Se,Oe.contents)})}function X(Se,Qe,Oe){var et=Je(Se);if(et&&Array.isArray(Oe)&&0!==Oe.length)for(var lt=0;lt<Oe.length;lt++){var pt=void 0,kt=Oe[lt];et.cellResolution=kt.cellResolution,et.isFromCEA608=kt.isFromCEA608,isNaN(kt.start)||isNaN(kt.end)||(pt="html"===kt.type&&V?Re(kt,Qe,et):kt.data?Be(kt,Qe,et):null);try{pt?Bt(et,pt)||(Y.get().streaming.text.webvtt.customRenderingEnabled?(et.manualCueList||(et.manualCueList=[]),et.manualCueList.push(pt)):we(pt,et)||et.addCue(pt)):b.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(Yt){throw Dt(et),et.addCue(pt),Yt}}}function Re(Se,Qe,Oe){var et=this,lt=new I(Se.start+Qe,Se.end+Qe,"");return lt.cueHTMLElement=Se.cueHTMLElement,lt.isd=Se.isd,lt.images=Se.images,lt.embeddedImages=Se.embeddedImages,lt.cueID=Se.cueID,lt.scaleCue=U.bind(et),lt.cellResolution=Se.cellResolution,lt.lineHeight=Se.lineHeight,lt.linePadding=Se.linePadding,lt.fontSize=Se.fontSize,V.style.left=j+"px",V.style.top=J+"px",V.style.width=ie+"px",V.style.height=ee+"px",lt.isd&&B(lt,lt.isd.contents),lt.onenter=function(){Oe.mode===d.Z.TEXT_SHOWING&&(this.isd?(le(this),b.debug("Cue enter id:"+this.cueID)):(V.appendChild(this.cueHTMLElement),U.call(et,this),ue.trigger(h.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:A})))},lt.onexit=function(){if(V)for(var pt=V.childNodes,kt=0;kt<pt.length;++kt)pt[kt].id===this.cueID&&(b.debug("Cue exit id:"+pt[kt].id),V.removeChild(pt[kt]),--kt)},lt}function Be(Se,Qe,Oe){var et=new I(Se.start-Qe,Se.end-Qe,Se.data);if(et.cueID="".concat(et.startTime,"_").concat(et.endTime),et.isActive=!1,Se.styles)try{void 0!==Se.styles.align&&"align"in et&&(et.align=Se.styles.align),void 0!==Se.styles.line&&"line"in et&&(et.line=Se.styles.line),void 0!==Se.styles.snapToLines&&"snapToLines"in et&&(et.snapToLines=Se.styles.snapToLines),void 0!==Se.styles.position&&"position"in et&&(et.position=Se.styles.position),void 0!==Se.styles.size&&"size"in et&&(et.size=Se.styles.size)}catch(lt){b.error(lt)}return et.onenter=function(){Oe.mode===d.Z.TEXT_SHOWING&&ue.trigger(h.Z.CAPTION_RENDERED,{currentTrackIdx:A})},et}function je(){var Se,Qe=[],Oe=function(lt,pt){var kt;if(typeof Symbol>"u"||null==lt[Symbol.iterator]){if(Array.isArray(lt)||(kt=function(Rn,tr){if(Rn){if("string"==typeof Rn)return Yd(Rn,void 0);var sr=Object.prototype.toString.call(Rn).slice(8,-1);return"Object"===sr&&Rn.constructor&&(sr=Rn.constructor.name),"Map"===sr||"Set"===sr?Array.from(Rn):"Arguments"===sr||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sr)?Yd(Rn,void 0):void 0}}(lt))){kt&&(lt=kt);var Yt=0,Mn=function(){};return{s:Mn,n:function(){return Yt>=lt.length?{done:!0}:{done:!1,value:lt[Yt++]}},e:function(Rn){throw Rn},f:Mn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var gn,hn=!0,ln=!1;return{s:function(){kt=lt[Symbol.iterator]()},n:function(){var Rn=kt.next();return hn=Rn.done,Rn},e:function(Rn){ln=!0,gn=Rn},f:function(){try{hn||null==kt.return||kt.return()}finally{if(ln)throw gn}}}}(_e.getTextTracks());try{for(Oe.s();!(Se=Oe.n()).done;){var et=Se.value;et.manualMode===d.Z.TEXT_SHOWING&&Qe.push(et)}}catch(lt){Oe.e(lt)}finally{Oe.f()}return Qe}function Je(Se){return Se>=0&&R[Se]?_e.getTextTrack(R[Se].kind,R[Se].id,R[Se].lang,R[Se].isTTML,R[Se].isEmbedded):null}function Pe(Se){var Qe=this;if(Se!==A){var Oe=Je(A=Se);nt.call(this,Oe),te&&(clearInterval(te),te=null),Oe&&"html"===Oe.renderingType&&(Z.call(this,Oe,!0),window.ResizeObserver?(z=new window.ResizeObserver(function(){Z.call(Qe,Oe,!0)})).observe(_e.getElement()):te=setInterval(Z.bind(this,Oe),500))}}function nt(Se){Le.call(this),Se&&"html"===Se.renderingType?qt.call(this):tn.call(this)}function Bt(Se,Qe){if(!Se.cues)return!1;for(var Oe=0;Oe<Se.cues.length;Oe++)if(Se.cues[Oe].startTime===Qe.startTime&&Se.cues[Oe].endTime===Qe.endTime)return!0;return!1}function vt(Se,Qe,Oe){var et=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Qe)||(et?Se.startTime:Se.endTime)>=Qe)&&(isNaN(Oe)||(et?Se.endTime:Se.startTime)<=Oe)}function Dt(Se,Qe,Oe){var et=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Se.cues)for(var lt=Se.cues,kt=lt.length-1;kt>=0;kt--)vt(lt[kt],Qe,Oe,et)&&(lt[kt].onexit&&lt[kt].onexit(),Se.removeCue(lt[kt]))}function qt(){var Se=document.getElementById("native-cue-style");if(!Se){(Se=document.createElement("style")).id="native-cue-style",document.head.appendChild(Se);var Qe=Se.sheet,Oe=_e.getElement();try{Oe&&Qe.insertRule(Oe.id?"#"+Oe.id+"::cue {background: transparent}":0!==Oe.classList.length?"."+Oe.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(et){b.info(""+et.message)}}}function tn(){var Se=document.getElementById("native-cue-style");Se&&document.head.removeChild(Se)}function Le(){if(V)for(;V.firstChild;)V.removeChild(V.firstChild)}return p={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(I=window.VTTCue||window.TextTrackCue,R=[],O=[],A=-1,j=0,J=0,ie=0,ee=0,V=null,re=null,te=null,ye=!1,de=2147483647,Te=null,void 0!==document.fullscreenElement?Ae="fullscreenElement":void 0!==document.webkitIsFullScreen?Ae="webkitIsFullScreen":document.msFullscreenElement?Ae="msFullscreenElement":document.mozFullScreen&&(Ae="mozFullScreen"))},getStreamId:function(){return C.id},addTextTrack:function(Se){R.push(Se)},addCaptions:X,createTracks:function(){R.sort(function(Rn,tr){return Rn.index-tr.index}),V=_e.getTTMLRenderingDiv(),re=_e.getVttRenderingDiv();for(var Se,Qe,kt=-1,Yt=0;Yt<R.length;Yt++){var Mn=(Qe=(Se=R[Yt]).kind,_e.addTextTrack(Qe,void 0!==Se.id?Se.id:Se.lang,Se.lang,Se.isTTML,Se.isEmbedded));O.push(Mn),R[Yt].defaultTrack&&(Mn.default=!0,kt=Yt);var gn=Je(Yt);gn&&(gn.mode=d.Z.TEXT_SHOWING,gn.renderingType=V&&(R[Yt].isTTML||R[Yt].isEmbedded)?"html":"default"),X(Yt,0,R[Yt].captionData),ue.trigger(h.Z.TEXT_TRACK_ADDED)}if(Pe.call(this,kt),kt>=0){ue.on(h.Z.PLAYBACK_METADATA_LOADED,function Rn(){var tr=Je(kt);tr&&"html"===tr.renderingType&&Z.call(this,tr,!0),ue.off(h.Z.PLAYBACK_METADATA_LOADED,Rn,this)},this);for(var hn=0;hn<R.length;hn++){var ln=Je(hn);ln&&(ln.mode=hn===kt?d.Z.TEXT_SHOWING:d.Z.TEXT_HIDDEN,ln.manualMode=hn===kt?d.Z.TEXT_SHOWING:d.Z.TEXT_HIDDEN)}}ue.trigger(m.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:A,tracks:R,streamId:C.id})},getCurrentTrackIdx:function(){return A},setCurrentTrackIdx:Pe,getTrackIdxForId:function(Se){for(var Qe=-1,Oe=0;Oe<R.length;Oe++)if(R[Oe].id===Se){Qe=Oe;break}return Qe},getCurrentTrackInfo:function(){return R[A]},setModeForTrackIdx:function(Se,Qe){var Oe=Je(Se);Oe&&Oe.mode!==Qe&&(Oe.mode=Qe),Oe&&Oe.manualMode!==Qe&&(Oe.manualMode=Qe)},deleteCuesFromTrackIdx:function(Se,Qe,Oe){var et=Je(Se);et&&Dt(et,Qe,Oe)},deleteAllTextTracks:function(){for(var Se=O?O.length:0,Qe=0;Qe<Se;Qe++){var Oe=Je(Qe);Oe&&Dt.call(this,Oe,C.start,C.start+C.duration,!1)}O=[],R=[],te&&(clearInterval(te),te=null),z&&_e&&(z.unobserve(_e.getElement()),z=null),A=-1,Le.call(this)},deleteTextTrack:function(Se){_e.removeChild(O[Se]),O.splice(Se,1)},manualCueProcessing:function(Se){var Qe=je();if(Qe&&Qe.length>0){var Oe=Qe[0].manualCueList;Oe&&Oe.length>0&&Oe.forEach(function(et){if(et.startTime<=Se&&et.endTime>=Se&&!et.isActive)et.isActive=!0,WebVTT.processCues(window,[et],re,et.cueID);else if(et.isActive&&(et.startTime>Se||et.endTime<Se)&&(et.isActive=!1,re))for(var lt=re.childNodes,pt=0;pt<lt.length;++pt)lt[pt].id===et.cueID&&(re.removeChild(lt[pt]),--pt)})}},disableManualTracks:function(){var Se=je();if(Se&&Se.length>0){var Qe=Se[0].manualCueList;Qe&&Qe.length>0&&Qe.forEach(function(Oe){if(Oe.isActive&&(Oe.isActive=!1,re))for(var et=re.childNodes,lt=0;lt<et.length;++lt)et[lt].id===Oe.cueID&&(re.removeChild(et[lt]),--lt)})}}},b=(0,N.Z)(pe).getInstance().getLogger(p),p}cp.__dashjs_factory_name="TextTracks";const vu=S.Z.getClassFactory(cp);function So(){var y,p,b,I,R,O;function j(V){var re=V.split(":"),te=re.length-1;return V=60*parseInt(re[te-1],10)+parseFloat(re[te]),2===te&&(V+=3600*parseInt(re[0],10)),V}function J(V){var re=V.split(I),te=re[1].split(O);return te.shift(),re[1]=te[0],te.shift(),{cuePoints:re,styles:ie(te)}}function ie(V){var re={};return V.forEach(function(te){if(te.split(/:/).length>1){var Ae=te.split(/:/)[1],ye=!1;Ae&&-1!=Ae.search(/%/)&&(ye=!0,Ae=parseInt(Ae.replace(/%/,""),10)),(te.match(/align/)||te.match(/A/))&&(re.align=Ae),(te.match(/line/)||te.match(/L/))&&(re.line="auto"===Ae?Ae:parseInt(Ae,10),ye&&(re.snapToLines=!1)),(te.match(/position/)||te.match(/P/))&&(re.position=Ae),(te.match(/size/)||te.match(/S/))&&(re.size=Ae)}}),re}function ee(V,re){for(var te,Ae=re,ye="",Te="";""!==V[Ae]&&Ae<V.length;)Ae++;if((te=Ae-re)>1)for(var de=0;de<te;de++){if((Te=V[re+de]).match(I)){ye="";break}ye+=Te,de!==te-1&&(ye+="\n")}else(Te=V[re]).match(I)||(ye=Te);return ye}return y={parse:function(V){var re,te,Ae=[];if(!V)return Ae;re=(V=V.split(b)).length,te=-1;for(var ye=0;ye<re;ye++){var Te=V[ye];if(Te.length>0&&"WEBVTT"!==Te&&Te.match(I)){var de=J(Te),z=de.cuePoints,pe=de.styles,ue=ee(V,ye+1),_e=j(z[0].replace(R,"")),C=j(z[1].replace(R,""));!isNaN(_e)&&!isNaN(C)&&_e>=te&&C>_e?""!==ue?(te=_e,Ae.push({start:_e,end:C,data:ue,styles:pe})):p.error("Skipping cue due to empty/malformed cue text"):p.error("Skipping cue due to incorrect cue timing")}}return Ae},getCaptionStyles:ie},p=(0,N.Z)(this.context).getInstance().getLogger(y),b=/(?:\r\n|\r|\n)/gm,I=/-->/,R=/(^[\s]+|[\s]+$)/g,O=/\s\b/g,y}So.__dashjs_factory_name="VTTParser";const g_=S.Z.getSingletonFactory(So);function $d(){var y,p;return y={parse:function(b){var I=[];return p.oncue=function(R){R.start=R.startTime,R.end=R.endTime,R.data=R.text,R.styles={align:R.align,line:R.line,position:R.position,size:R.size},I.push(R)},p.parse(b),I}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(p=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),y}$d.__dashjs_factory_name="VttCustomRenderingParser";const Ol=S.Z.getSingletonFactory($d);function Co(){var y,p,b=this.context,I=(0,w.Z)(b).getInstance(),R=0;return y={parse:function(O,A,j,J,ie){var ee,V,re,te="",Ae=[],ye={},Te={},de="",z="",pe={onOpenTag:function(K,Z,U){if(U[" imagetype"]&&!U[" imageType"]&&(I.trigger(h.Z.CONFORMANCE_VIOLATION,{level:yl.LEVELS.ERROR,event:yl.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),U[" imageType"]=U[" imagetype"]),"image"===Z&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===K||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===K)){if(!U[" imageType"]||"PNG"!==U[" imageType"].value)return void p.warn("smpte-tt imageType != PNG. Discarded");de=U["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){de&&(Te[de]=z.trim()),z="",de=""},onText:function(K){de&&(z+=K)}};if(!O)throw te="no ttml data to parse",new Error(te);ye.data=O,I.trigger(m.Z.TTML_TO_PARSE,ye);var ue=(0,yu.fromXML)(ye.data,function(K){te=K},pe);I.trigger(m.Z.TTML_PARSED,{ttmlString:ye.data,ttmlDoc:ue});var _e,C=ue.getMediaTimeEvents();for(re=0;re<C.length;re++){var Y=(0,yu.generateISD)(ue,C[re],function(K){te=K});Y.contents.some(function(K){return K.contents.length})&&(ee=C[re]+A)<(V=C[re+1]+A)&&Ae.push({start:ee,end:V,type:"html",cueID:(_e="cue_TTML_"+R,R++,_e),isd:Y,images:ie,embeddedImages:Te})}if(""!==te)throw p.error(te),new Error(te);return Ae}},p=(0,N.Z)(b).getInstance().getLogger(y),y}Co.__dashjs_factory_name="TTMLParser";const __=S.Z.getSingletonFactory(Co);function cc(y){var p,b,I,R,O,A,j,J,ie,ee,V,re,te=this.context,Ae=y.adapter,ye=y.errHandler,Te=y.manifestModel,de=y.mediaController,z=y.videoModel,pe=y.settings;function ue(ae){var le=ae.tracks,we=ae.index,B=ae.streamId;if(!1===pe.get().streaming.text.defaultEnabled&&!Y()||re)K(B,-1);else{var X=de.getCurrentTrackFor(d.Z.TEXT,B);if(X){var Re={lang:X.lang,role:X.roles[0],index:X.index,codec:X.codec,accessibility:X.accessibility[0]};le.some(function(Be,je){if(de.matchSettings(Re,Be))return K(B,je),we=je,!0})}ie=!1}b[B].lastEnabledIndex=we,J.trigger(h.Z.TEXT_TRACKS_ADDED,{enabled:Y(),index:we,tracks:le,streamId:B}),V=!0}function _e(ae){try{var le=ae.streamId;if(!R[le]||isNaN(ae.time))return;R[le].manualCueProcessing(ae.time)}catch{}}function C(ae){try{var le=ae.streamId;if(!R[le])return;R[le].disableManualTracks()}catch{}}function Y(){var ae=!0;return ie&&!ee&&(ae=!1),ae}function K(ae,le){(ie=-1===le)&&de&&de.saveTextSettingsDisabled();var we=Z(ae);if(we!==le&&R[ae]){R[ae].disableManualTracks(),R[ae].setModeForTrackIdx(we,d.Z.TEXT_HIDDEN),R[ae].setCurrentTrackIdx(le),R[ae].setModeForTrackIdx(le,d.Z.TEXT_SHOWING);var B=R[ae].getCurrentTrackInfo();B&&B.isFragmented&&!B.isEmbedded?function(X,Re,Be){if(I[X])for(var je=I[X].getConfig().fragmentedTracks,Je=0;Je<je.length;Je++){var Pe=je[Je];if(Re.lang===Pe.lang&&(Pe.id?Re.id===Pe.id:Re.index===Pe.index)){var nt=de.getCurrentTrackFor(d.Z.TEXT,X);(Pe.id?nt.id!==Pe.id:nt.index!==Pe.index)?(R[X].deleteCuesFromTrackIdx(Be),I[X].setCurrentFragmentedTrackIdx(Je)):-1===Be&&J.trigger(m.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:X,mediaType:d.Z.TEXT})}}}(ae,B,we):B&&!B.isFragmented&&J.trigger(m.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:B},{streamId:ae,mediaType:d.Z.TEXT}),de.setTrack(B)}}function Z(ae){return R[ae].getCurrentTrackIdx()}function U(){I={},R={},b={},ie=!0,V=!1,re=!1}return p={deactivateStream:function(ae){if(ae){var le=ae.id;I[le]&&I[le].resetMediaInfos(),R[le]&&R[le].deleteAllTextTracks()}},initialize:function(){J.on(m.Z.TEXT_TRACKS_QUEUE_INITIALIZED,ue,p),pe.get().streaming.text.webvtt.customRenderingEnabled&&(J.on(m.Z.PLAYBACK_TIME_UPDATED,_e,p),J.on(m.Z.PLAYBACK_SEEKING,C,p))},initializeForStream:function(ae){var le=ae.id,we=vu(te).create({videoModel:z,settings:pe,streamInfo:ae});we.initialize(),R[le]=we;var B=Os(te).create({errHandler:ye,adapter:Ae,manifestModel:Te,mediaController:de,videoModel:z,textTracks:we,vttParser:O,vttCustomRenderingParser:A,ttmlParser:j,streamInfo:ae,settings:pe});B.initialize(),I[le]=B,b[le]={},b[le].lastEnabledIndex=-1},createTracks:function(ae){var le=ae.id;R[le]&&R[le].createTracks()},getTextSourceBuffer:function(ae){var le=ae.id;if(I&&I[le])return I[le]},getAllTracksAreDisabled:function(){return ie},addEmbeddedTrack:function(ae,le){var we=ae.id;I[we]&&I[we].addEmbeddedTrack(le)},enableText:function(ae,le){return(0,fe.PS)(le,"boolean"),Y()!==le&&(le&&K(ae,b[ae].lastEnabledIndex),le||(b[ae].lastEnabledIndex=Z(ae),V?K(ae,-1):re=!0)),!0},isTextEnabled:Y,setTextTrack:K,getCurrentTrackIdx:Z,enableForcedTextStreaming:function(ae){return(0,fe.PS)(ae,"boolean"),ee=ae,!0},addMediaInfosToBuffer:function(ae,le,we){var X=ae.id;I[X]&&I[X].addMediaInfos(le,we,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function(){U(),J.off(m.Z.TEXT_TRACKS_QUEUE_INITIALIZED,ue,p),pe.get().streaming.text.webvtt.customRenderingEnabled&&(J.off(m.Z.PLAYBACK_TIME_UPDATED,_e,p),J.off(m.Z.PLAYBACK_SEEKING,C,p)),Object.keys(I).forEach(function(ae){I[ae].resetEmbedded(),I[ae].reset()})}},ee=!1,V=!1,re=!1,O=g_(te).getInstance(),A=Ol(te).getInstance(),j=__(te).getInstance(),J=(0,w.Z)(te).getInstance(),U(),p}cc.__dashjs_factory_name="TextController";const y_=S.Z.getClassFactory(cc);function Ps(){var y,p,b,I,R,O,A,j,J,ie,ee,V,re,te,Ae,ye,Te,de,z,pe,ue,_e,C,Y,K,Z,U,ae,le,we,B,X,Re,Be,je,Je,Pe,nt,Bt,vt="You must first call initialize() and set a source before calling this method",Dt="You must first call initialize() and set a valid source and view before calling this method",qt="You must first call attachView() to set the video element before calling this method",tn="You must first call attachSource() with a valid source before calling this method",Le="MediaPlayer not initialized!",Se=this.context,Qe=(0,w.Z)(Se).getInstance(),Oe=(0,Rt.Z)(Se).getInstance(),et=(0,N.Z)(Se).getInstance({settings:Oe});function lt(){hr(null),mr(null),I=null,te&&(te.reset(),te=null),Ae&&(Ae.reset(),Ae=null),pe&&pe.reset(),Oe.reset(),Te&&(Te.reset(),Te=null)}function pt(){return!!b&&!!Je.getElement()}function kt(){return(0,u0.e)()}function Yt(){if(!A)throw Dt;return ae.isPaused()}function Mn(){if(!A)throw Dt;return ae.getIsDynamic()}function gn(Ee){var ot=K&&K.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,It=X.getCurrentDVRInfo(ot);if(!It)return 0;var Jt=ae.getOriginalLiveDelay(),En=It.range.start+Ee;return En>It.range.end-Jt&&(En=It.range.end-Jt),En}function hn(Ee){if(!A)throw Dt;var ot=Wn().currentTime;if(void 0!==Ee)ot=K.getTimeRelativeToStreamId(ot,Ee);else if(ae.getIsDynamic()){var It=K&&K.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,Jt=X.getCurrentDVRInfo(It);ot=null===Jt||0===ot?0:Math.max(0,ot-Jt.range.start)}return ot}function ln(){if(!A)throw Dt;var Ee=Wn().duration;if(ae.getIsDynamic()){var ot=K&&K.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,It=X.getCurrentDVRInfo(ot);Ee=It?It.range.end-It.range.start:0}return Ee}function Rn(Ee){(0,fe.PS)(Ee,"boolean"),j=Ee}function tr(){pe.restoreDefaultUTCTimingSources()}function sr(){return X}function Wn(){if(!Je.getElement())throw qt;return Je.getElement()}function mr(Ee){if(!R)throw Le;Je.setElement(Ee),Ee&&(mt(),function(){if(!Ae){var ot=dashjs.MetricsReporting;if("function"==typeof ot){var It=ot(Se).create();Ae=It.createMetricsReporting({debug:et,eventBus:Qe,mediaElement:Wn(),adapter:de,dashMetrics:X,mediaPlayerModel:z,events:m.Z,constants:d.Z,metricsConstants:P.Z})}}}(),function(){if(!ye){var ot=dashjs.MssHandler;"function"==typeof ot&&(ge.extend(ot.errors),ye=ot(Se).create({eventBus:Qe,mediaPlayerModel:z,dashMetrics:X,manifestModel:Re,playbackController:ae,streamController:K,protectionController:te,baseURLController:_e,errHandler:ue,events:m.Z,constants:d.Z,debug:et,initSegmentType:Ve.w.INIT_SEGMENT_TYPE,BASE64:Gd,ISOBoxer:mu,settings:Oe}))}}(),K&&K.switchToVideoElement(J)),A&&Cn(),Ze(J)}function ir(Ee){if(!O)throw vt;var ot=K.getActiveStreamInfo();return ot?re.getTracksFor(Ee,ot.id):[]}function hr(Ee){var ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!R)throw Le;"string"==typeof Ee&&Pe.initialize(Ee),null==ot&&(ot=NaN),isNaN(ot)||(ot=Math.max(0,ot)),J=ot,b=Ee,(O||A)&&Cn(),pt()&&Ze(J)}function Pt(){if(!O)throw vt;var Ee=K.getActiveStreamInfo();return Ee?K.getStreamById(Ee.id):null}function Cn(){A=!1,O=!1,de.reset(),K.reset(),U.reset(),B.reset(),ae.reset(),le.reset(),we.reset(),ie.reset(),re.reset(),Bt.reset(),te&&(Oe.get().streaming.protection.keepProtectionMediaKeys?te.stop():(te.reset(),te=null,mt())),Z.reset(),Be.reset(),je.reset()}function vn(){return ic(Se).create({debug:et,errHandler:ue,dashMetrics:X,mediaPlayerModel:z,requestModifier:(0,De.Z)(Se).getInstance(),mssHandler:ye,settings:Oe})}function mt(){if(te)return te;var Ee=dashjs.Protection;if("function"==typeof Ee){var ot=Ee(Se).create();return m.Z.extend(Ee.events),h.Z.extend(Ee.events,{publicOnly:!0}),ge.extend(Ee.errors),C||(C=(0,Ci.Z)(Se).getInstance()),te=ot.createProtectionSystem({debug:et,errHandler:ue,videoModel:Je,customParametersModel:pe,capabilities:C,eventBus:Qe,events:m.Z,BASE64:Gd,constants:d.Z,cmcdModel:Be,settings:Oe})}return null}function Ht(){if(!R)throw Le;if(Te)return Te;var Ee=dashjs.OfflineController;if("function"==typeof Ee){m.Z.extend(Ee.events),h.Z.extend(Ee.events,{publicOnly:!0}),ge.extend(Ee.errors);var ot=vn(),It=La(Se).create();return It.setConfig({manifestModel:Re,adapter:de,manifestLoader:ot,errHandler:ue,contentSteeringController:we}),Te=Ee(Se).create({debug:et,manifestUpdater:It,baseURLController:_e,manifestLoader:ot,manifestModel:Re,mediaPlayerModel:z,abrController:ie,playbackController:ae,adapter:de,errHandler:ue,dashMetrics:X,timelineConverter:V,segmentBaseController:Bt,schemeLoaderFactory:ee,eventBus:Qe,events:m.Z,errors:ge,constants:d.Z,settings:Oe,dashConstants:f.Z,urlUtils:(0,Ge.Z)(Se).getInstance()})}return null}function dt(Ee){var ot=K&&K.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,It=X.getCurrentDVRInfo(ot);return It?Ee+(It.manifestInfo.availableFrom.getTime()/1e3+It.range.start):0}function Ze(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Te&&Te.resetRecords(),!O&&b&&(O=!0,p.info("Streaming Initialized"),function wn(){var Ee=vn();K||(K=Sd(Se).getInstance()),Z||(Z=y_(Se).create({errHandler:ue,manifestModel:Re,adapter:de,mediaController:re,videoModel:Je,settings:Oe})),Y.setConfig({capabilities:C,customParametersModel:pe,adapter:de,settings:Oe,manifestModel:Re,errHandler:ue}),K.setConfig({capabilities:C,capabilitiesFilter:Y,manifestLoader:Ee,manifestModel:Re,mediaPlayerModel:z,customParametersModel:pe,protectionController:te,textController:Z,adapter:de,dashMetrics:X,errHandler:ue,timelineConverter:V,videoModel:Je,playbackController:ae,serviceDescriptionController:le,contentSteeringController:we,abrController:ie,mediaController:re,settings:Oe,baseURLController:_e,uriFragmentModel:Pe,segmentBaseController:Bt}),U.setConfig({settings:Oe,playbackController:ae,streamController:K,videoModel:Je,timelineConverter:V,adapter:de}),ae.setConfig({streamController:K,serviceDescriptionController:le,dashMetrics:X,adapter:de,videoModel:Je,timelineConverter:V,settings:Oe}),B.setConfig({streamController:K,playbackController:ae,mediaPlayerModel:z,videoModel:Je,settings:Oe}),ie.setConfig({streamController:K,domStorage:nt,mediaPlayerModel:z,customParametersModel:pe,cmsdModel:je,dashMetrics:X,adapter:de,videoModel:Je,settings:Oe}),Be.setConfig({abrController:ie,dashMetrics:X,playbackController:ae}),je.setConfig({}),ie.initialize(),K.initialize(j,I),Z.initialize(),U.initialize(),B.initialize(),Be.initialize(),je.initialize(),we.initialize(),Bt.initialize()}(),"string"==typeof b?K.load(b,Ee):K.loadWithManifest(b,Ee)),!A&&pt()&&(A=!0,p.info("Playback Initialized"))}return y={initialize:function(Ee,ot,It){var Jt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;C||(C=(0,Ci.Z)(Se).getInstance()).setConfig({settings:Oe}),ue||(ue=Sl(Se).getInstance()),C.supportsMediaSource()?(R||(R=!0,V=ip(Se).getInstance(),ie||(ie=Ha(Se).getInstance()).setConfig({settings:Oe}),ee||(ee=xi(Se).getInstance()),ae||(ae=T(Se).getInstance()),re||(re=bl(Se).getInstance()),K||(K=Sd(Se).getInstance()),U||(U=Lh(Se).getInstance()),B||(B=ti(Se).getInstance()),le||(le=Cd(Se).getInstance()),we||(we=Fa(Se).getInstance()),Y||(Y=Al(Se).getInstance()),de=p0(Se).getInstance(),Re=Ks(Se).getInstance(),Be=zt(Se).getInstance(),je=Na(Se).getInstance(),X=_0(Se).getInstance({settings:Oe}),nt=c0(Se).getInstance({settings:Oe}),de.setConfig({constants:d.Z,cea608parser:k(),errHandler:ue,BASE64:Gd}),_e||(_e=Is(Se).create()),_e.setConfig({adapter:de,contentSteeringController:we}),le.setConfig({adapter:de}),Bt||(Bt=Kh(Se).getInstance({dashMetrics:X,mediaPlayerModel:z,errHandler:ue,baseURLController:_e,events:m.Z,eventBus:Qe,debug:et,boxParser:(0,qc.Z)(Se).getInstance(),requestModifier:(0,De.Z)(Se).getInstance(),errors:ge})),re.setConfig({domStorage:nt,settings:Oe,customParametersModel:pe}),z.setConfig({playbackController:ae,serviceDescriptionController:le}),we.setConfig({adapter:de,errHandler:ue,dashMetrics:X,mediaPlayerModel:z,manifestModel:Re,serviceDescriptionController:le,eventBus:Qe,requestModifier:(0,De.Z)(Se).getInstance()}),tr(),Rn(void 0===It||It),Ht()),Ee&&mr(Ee),ot&&hr(ot,Jt),p.info("[dash.js "+kt()+"] MediaPlayer has been initialized")):ue.error(new W.Z(ge.CAPABILITY_MEDIASOURCE_ERROR_CODE,ge.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(Ee){Ee&&(Ee.capabilities&&(C=Ee.capabilities),Ee.capabilitiesFilter&&(Y=Ee.capabilitiesFilter),Ee.streamController&&(K=Ee.streamController),Ee.textController&&(Z=Ee.textController),Ee.gapController&&(U=Ee.gapController),Ee.playbackController&&(ae=Ee.playbackController),Ee.serviceDescriptionController&&(le=Ee.serviceDescriptionController),Ee.contentSteeringController&&(we=Ee.contentSteeringController),Ee.catchupController&&(B=Ee.catchupController),Ee.mediaPlayerModel&&(z=Ee.mediaPlayerModel),Ee.customParametersModel&&(pe=Ee.customParametersModel),Ee.abrController&&(ie=Ee.abrController),Ee.schemeLoaderFactory&&(ee=Ee.schemeLoaderFactory),Ee.mediaController&&(re=Ee.mediaController),Ee.settings&&(Oe=Ee.settings))},on:function(Ee,ot,It,Jt){Qe.on(Ee,ot,It,Jt)},off:function(Ee,ot,It){Qe.off(Ee,ot,It)},extend:function(Ee,ot,It){S.Z.extend(Ee,ot,It,Se)},attachView:mr,attachSource:hr,isReady:pt,preload:function(){if(!Je.getElement()&&!O){if(!b)throw tn;Ze(J)}},play:function(){if(!A)throw Dt;(!j||Yt()&&A)&&ae.play(!0)},isPaused:Yt,pause:function(){if(!A)throw Dt;ae.pause()},isSeeking:function(){if(!A)throw Dt;return ae.isSeeking()},isDynamic:Mn,getLowLatencyModeEnabled:function(){if(!A)throw Dt;return ae.getLowLatencyModeEnabled()},seek:function(Ee){if(!A)throw Dt;if((0,fe.PS)(Ee,"number"),isNaN(Ee))throw d.Z.BAD_ARGUMENT_ERROR;Ee<0&&(Ee=0);var ot=ae.getIsDynamic()?gn(Ee):Ee,It=Wn();!ae.getIsDynamic()&&It.duration&&(ot=Math.min(It.duration,ot)),ae.seek(ot,!1,!1,!0)},seekToOriginalLive:function(){A&&Mn()&&ae.seekToOriginalLive()},setPlaybackRate:function(Ee){Wn().playbackRate=Ee},getPlaybackRate:function(){return Wn().playbackRate},setMute:function(Ee){(0,fe.PS)(Ee,"boolean"),Wn().muted=Ee},isMuted:function(){return Wn().muted},setVolume:function(Ee){if("number"!=typeof Ee||isNaN(Ee)||Ee<0||Ee>1)throw d.Z.BAD_ARGUMENT_ERROR;Wn().volume=Ee},getVolume:function(){return Wn().volume},time:hn,duration:ln,timeAsUTC:function(){if(!A)throw Dt;return hn()<0?NaN:dt(hn())},durationAsUTC:function(){if(!A)throw Dt;return dt(ln())},getActiveStream:Pt,getDVRWindowSize:function(){var Ee=K&&K.hasVideoTrack()?d.Z.VIDEO:d.Z.AUDIO,ot=X.getCurrentDVRInfo(Ee);return ot?ot.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:gn,getAvailableBaseUrls:function(){var Ee=Re.getValue();return Ee?_e.getBaseUrls(Ee):[]},getAvailableLocations:function(){var Ee=Re.getValue();if(!Ee)return[];var ot=de.getLocation(Ee),It=we.getSynthesizedLocationElements(ot);return ot.concat(It)},getTargetLiveDelay:function(){if(!A)throw Dt;return ae.getOriginalLiveDelay()},convertToTimeCode:function(Ee){Ee=Math.max(Ee,0);var ot=Math.floor(Ee/3600),It=Math.floor(Ee%3600/60),Jt=Math.floor(Ee%3600%60);return(0===ot?"":ot<10?"0"+ot.toString()+":":ot.toString()+":")+(It<10?"0"+It.toString():It.toString())+":"+(Jt<10?"0"+Jt.toString():Jt.toString())},formatUTC:function(Ee,ot,It){var Jt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],En=new Date(1e3*Ee),Jn=En.toLocaleDateString(ot),Wr=En.toLocaleTimeString(ot,{hour12:It});return Jt?Wr+" "+Jn:Wr},getVersion:kt,getDebug:function(){return et},getBufferLength:function(Ee){var ot=[d.Z.VIDEO,d.Z.AUDIO,d.Z.TEXT];if(Ee)return-1!==ot.indexOf(Ee)?sr().getCurrentBufferLevel(Ee)||NaN:(p.warn("getBufferLength requested for invalid type"),NaN);var It=ot.map(function(Jt){return ir(Jt).length>0?sr().getCurrentBufferLevel(Jt):Number.MAX_VALUE}).reduce(function(Jt,En){return Math.min(Jt,En)});return It===Number.MAX_VALUE?NaN:It},getTTMLRenderingDiv:function(){return Je?Je.getTTMLRenderingDiv():null},getVideoElement:Wn,getSource:function(){if(!b)throw tn;return b},updateSource:function(Ee){K.load(b=Ee)},getCurrentLiveLatency:function(){if(!R)throw Le;return A?ae.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(Ee){if(!O)throw vt;return ie.getTopBitrateInfoFor(Ee)},setAutoPlay:Rn,getAutoPlay:function(){return j},getDashMetrics:sr,getQualityFor:function(Ee){if(!O)throw vt;if(Ee===d.Z.IMAGE){var ot=Pt();if(!ot)return-1;var It=ot.getThumbnailController();return It?It.getCurrentTrackIndex():-1}return ie.getQualityFor(Ee)},setQualityFor:function(Ee,ot){var It=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!O)throw vt;if(Ee===d.Z.IMAGE){var Jt=Pt();if(!Jt)return;var En=Jt.getThumbnailController();En&&En.setTrackByIndex(ot)}ie.setPlaybackQuality(Ee,K.getActiveStreamInfo(),ot,{forceReplace:It})},updatePortalSize:function(){ie.setElementSize(),ie.setWindowResizeEventCalled(!0)},enableText:function(Ee){var ot=K.getActiveStreamInfo();return!(!ot||!Z)&&Z.enableText(ot.id,Ee)},enableForcedTextStreaming:function(Ee){return!(!K.getActiveStreamInfo()||!Z)&&Z.enableForcedTextStreaming(Ee)},isTextEnabled:function(){var Ee=K.getActiveStreamInfo();return!(!Ee||!Z)&&Z.isTextEnabled(Ee)},setTextTrack:function(Ee){if(!A)throw Dt;var ot=K.getActiveStreamInfo();ot&&Z&&Z.setTextTrack(ot.id,Ee)},getBitrateInfoListFor:function(Ee){if(!O)throw vt;var ot=Pt();return ot?ot.getBitrateListFor(Ee):[]},getStreamsFromManifest:function(Ee){if(!O)throw vt;return de.getStreamsInfo(Ee)},getTracksFor:ir,getTracksForTypeFromManifest:function(Ee,ot,It){if(!O)throw vt;return(It=It||de.getStreamsInfo(ot,1)[0])?de.getAllMediaInfoForType(It,Ee,ot):[]},getCurrentTrackFor:function(Ee){if(!O)throw vt;var ot=K.getActiveStreamInfo();return re.getCurrentTrackFor(Ee,ot.id)},setInitialMediaSettingsFor:function(Ee,ot){if(!R)throw Le;re.setInitialSettings(Ee,ot)},getInitialMediaSettingsFor:function(Ee){if(!R)throw Le;return re.getInitialSettings(Ee)},setCurrentTrack:function(Ee){if(!O)throw vt;re.setTrack(Ee)},addABRCustomRule:function(Ee,ot,It){pe.addAbrCustomRule(Ee,ot,It)},removeABRCustomRule:function(Ee){pe.removeAbrCustomRule(Ee)},removeAllABRCustomRule:function(){pe.removeAllAbrCustomRule()},getABRCustomRules:function(){return pe.getAbrCustomRules()},getAverageThroughput:function(Ee){var ot=ie.getThroughputHistory(),It=ae.getIsDynamic();return ot?ot.getAverageThroughput(Ee,It):0},retrieveManifest:function(Ee,ot){var It=vn(),Jt=this;Qe.on(m.Z.INTERNAL_MANIFEST_LOADED,function En(Jn){Jn.error?ot(null,Jn.error):ot(Jn.manifest),Qe.off(m.Z.INTERNAL_MANIFEST_LOADED,En,Jt),It.reset()},Jt),Pe.initialize(Ee),It.load(Ee)},addUTCTimingSource:function(Ee,ot){pe.addUTCTimingSource(Ee,ot)},removeUTCTimingSource:function(Ee,ot){pe.removeUTCTimingSource(Ee,ot)},clearDefaultUTCTimingSources:function(){pe.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:tr,setXHRWithCredentialsForType:function(Ee,ot){pe.setXHRWithCredentialsForType(Ee,ot)},getXHRWithCredentialsForType:function(Ee){return pe.getXHRWithCredentialsForType(Ee)},getProtectionController:function(){return mt()},attachProtectionController:function(Ee){te=Ee},setProtectionData:function(Ee){I=Ee,K&&K.setProtectionData(I)},registerLicenseRequestFilter:function(Ee){pe.registerLicenseRequestFilter(Ee)},registerLicenseResponseFilter:function(Ee){pe.registerLicenseResponseFilter(Ee)},unregisterLicenseRequestFilter:function(Ee){pe.unregisterLicenseRequestFilter(Ee)},unregisterLicenseResponseFilter:function(Ee){pe.unregisterLicenseResponseFilter(Ee)},registerCustomCapabilitiesFilter:function(Ee){pe.registerCustomCapabilitiesFilter(Ee)},unregisterCustomCapabilitiesFilter:function(Ee){pe.unregisterCustomCapabilitiesFilter(Ee)},setCustomInitialTrackSelectionFunction:function(Ee){pe.setCustomInitialTrackSelectionFunction(Ee)},resetCustomInitialTrackSelectionFunction:function(){pe.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(Ee){if(!Je.getElement())throw qt;Je.setTTMLRenderingDiv(Ee)},attachVttRenderingDiv:function(Ee){if(!Je.getElement())throw qt;Je.setVttRenderingDiv(Ee)},getCurrentTextTrackIndex:function(){var Ee=K.getActiveStreamInfo();if(Ee&&Z)return Z.getCurrentTrackIdx(Ee.id)},provideThumbnail:function(Ee,ot){if("function"==typeof ot)if(Ee<0)ot(null);else{var It=ae.getIsDynamic()?gn(Ee):Ee,Jt=K.getStreamForTime(It);if(null!==Jt){var En=Jt.getThumbnailController();if(En)return En.provide(It,ot);ot(null)}else ot(null)}},getDashAdapter:function(){return de},getOfflineController:function(){return Ht()},triggerSteeringRequest:function(){if(we)return we.loadSteeringData()},getCurrentSteeringResponseData:function(){if(we)return we.getCurrentSteeringResponseData()},getSettings:function(){return Oe.get()},updateSettings:function(Ee){Oe.update(Ee)},resetSettings:function(){Oe.reset()},reset:lt,destroy:function(){lt(),S.Z.deleteSingletonInstances(Se)}},p=et.getLogger(y),R=!1,A=!1,O=!1,j=!0,J=NaN,te=null,Te=null,I=null,de=null,Bt=null,m.Z.extend(h.Z),z=Mr(Se).getInstance(),pe=(0,Xt.Z)(Se).getInstance(),Je=Ud(Se).getInstance(),Pe=$h(Se).getInstance(),y}Ps.__dashjs_factory_name="MediaPlayer";var uc=S.Z.getClassFactory(Ps);uc.events=h.Z,uc.errors=ge,S.Z.updateClassFactory(Ps.__dashjs_factory_name,uc);const v_=uc},8825:(wt,He,L)=>{"use strict";function ve(w){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(w)}function k(w,m){return(k=Object.setPrototypeOf||function(S,N){return S.__proto__=N,S})(w,m)}function f(w){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(w)}L.d(He,{Z:()=>P});const P=new(function(w){!function(v,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),T&&k(v,T)}(h,w);var m,S,N=(m=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,T=f(m);if(S){var G=f(this).constructor;v=Reflect.construct(T,arguments,G)}else v=T.apply(this,arguments);return function d(w,m){return!m||"object"!==ve(m)&&"function"!=typeof m?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(w):m}(this,v)});function h(){var v;return function(T,G){if(!(T instanceof G))throw new TypeError("Cannot call a class as a function")}(this,h),(v=N.call(this)).AST_IN_FUTURE="astInFuture",v.BASE_URLS_UPDATED="baseUrlsUpdated",v.BUFFER_EMPTY="bufferStalled",v.BUFFER_LOADED="bufferLoaded",v.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",v.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",v.DYNAMIC_TO_STATIC="dynamicToStatic",v.ERROR="error",v.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",v.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",v.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",v.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",v.LOG="log",v.MANIFEST_LOADING_STARTED="manifestLoadingStarted",v.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",v.MANIFEST_LOADED="manifestLoaded",v.METRICS_CHANGED="metricsChanged",v.METRIC_CHANGED="metricChanged",v.METRIC_ADDED="metricAdded",v.METRIC_UPDATED="metricUpdated",v.PERIOD_SWITCH_STARTED="periodSwitchStarted",v.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",v.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",v.QUALITY_CHANGE_RENDERED="qualityChangeRendered",v.TRACK_CHANGE_RENDERED="trackChangeRendered",v.STREAM_INITIALIZING="streamInitializing",v.STREAM_UPDATED="streamUpdated",v.STREAM_ACTIVATED="streamActivated",v.STREAM_DEACTIVATED="streamDeactivated",v.STREAM_INITIALIZED="streamInitialized",v.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",v.TEXT_TRACKS_ADDED="allTextTracksAdded",v.TEXT_TRACK_ADDED="textTrackAdded",v.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",v.TTML_PARSED="ttmlParsed",v.TTML_TO_PARSE="ttmlToParse",v.CAPTION_RENDERED="captionRendered",v.CAPTION_CONTAINER_RESIZE="captionContainerResize",v.CAN_PLAY="canPlay",v.CAN_PLAY_THROUGH="canPlayThrough",v.PLAYBACK_ENDED="playbackEnded",v.PLAYBACK_ERROR="playbackError",v.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",v.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",v.PLAYBACK_LOADED_DATA="playbackLoadedData",v.PLAYBACK_PAUSED="playbackPaused",v.PLAYBACK_PLAYING="playbackPlaying",v.PLAYBACK_PROGRESS="playbackProgress",v.PLAYBACK_RATE_CHANGED="playbackRateChanged",v.PLAYBACK_SEEKED="playbackSeeked",v.PLAYBACK_SEEKING="playbackSeeking",v.PLAYBACK_STALLED="playbackStalled",v.PLAYBACK_STARTED="playbackStarted",v.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",v.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",v.PLAYBACK_WAITING="playbackWaiting",v.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",v.EVENT_MODE_ON_START="eventModeOnStart",v.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",v.CONFORMANCE_VIOLATION="conformanceViolation",v.REPRESENTATION_SWITCH="representationSwitch",v.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",v.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",v.INBAND_PRFT="inbandPrft",v}return h}(L(8342).Z))},3393:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>k});const k=new(function(){function d(){(function(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}var P;return(P=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&function ve(d,f){for(var P=0;P<f.length;P++){var w=f[P];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,w.key,w)}}(d.prototype,P),d}())},3860:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>k});const k=new(function(){function d(){(function(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")})(this,d),this.init()}var P;return(P=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&function ve(d,f){for(var P=0;P<f.length;P++){var w=f[P];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,w.key,w)}}(d.prototype,P),d}())},8080:(wt,He,L)=>{"use strict";L.d(He,{default:()=>x});var ve=function M(){(function(fe,se){if(!(fe instanceof se))throw new TypeError("Cannot call a class as a function")})(this,M),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};ve.SSL_CONNECTION_FAILED_PREFIX="SSL",ve.DNS_RESOLUTION_FAILED="C00",ve.HOST_UNREACHABLE="C01",ve.CONNECTION_REFUSED="C02",ve.CONNECTION_ERROR="C03",ve.CORRUPT_MEDIA_ISOBMFF="M00",ve.CORRUPT_MEDIA_OTHER="M01",ve.BASE_URL_CHANGED="F00",ve.BECAME_REPORTER="S00";const k=ve;var d=L(1180);function f(M){var fe,se,De=(M=M||{}).eventBus,Ge=M.dashMetrics,Ke=M.metricsConstants,Fe=M.events;function tt(Ot){var on=new k;if(se){for(var bn in Ot)Ot.hasOwnProperty(bn)&&(on[bn]=Ot[bn]);on.mpdurl||(on.mpdurl=se.originalUrl||se.url),on.terror||(on.terror=new Date),Ge.addDVBErrors(on)}}function it(Ot){Ot.error||(se=Ot.manifest)}function Ie(Ot){tt({errorcode:k.BASE_URL_CHANGED,servicelocation:Ot.entry})}function Xe(){tt({errorcode:k.BECAME_REPORTER})}function $e(Ot){var on;Ot.metric===Ke.HTTP_REQUEST&&(0===(on=Ot.value).responsecode||null==on.responsecode||on.responsecode>=400||on.responsecode<100||on.responsecode>=600)&&tt({errorcode:on.responsecode||k.CONNECTION_ERROR,url:on.url,terror:on.tresponse,servicelocation:on._serviceLocation})}function Tt(Ot){var on;switch(Ot.error?Ot.error.code:0){case MediaError.MEDIA_ERR_NETWORK:on=k.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:on=k.CORRUPT_MEDIA_OTHER;break;default:return}tt({errorcode:on})}return fe={initialize:function(){De.on(Fe.MANIFEST_UPDATED,it,fe),De.on(Fe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Ie,fe),De.on(Fe.METRIC_ADDED,$e,fe),De.on(Fe.METRIC_UPDATED,$e,fe),De.on(Fe.PLAYBACK_ERROR,Tt,fe),De.on(d.Z.BECAME_REPORTING_PLAYER,Xe,fe)},reset:function(){De.off(Fe.MANIFEST_UPDATED,it,fe),De.off(Fe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Ie,fe),De.off(Fe.METRIC_ADDED,$e,fe),De.off(Fe.METRIC_UPDATED,$e,fe),De.off(Fe.PLAYBACK_ERROR,Tt,fe),De.off(d.Z.BECAME_REPORTING_PLAYER,Xe,fe)}}}f.__dashjs_factory_name="DVBErrorsTranslator";const P=dashjs.FactoryMaker.getSingletonFactory(f);var w=L(2295);function m(M){var fe,se,De=!1,Ke=(M=M||{}).mediaElement;return fe={initialize:function(Fe){Fe&&Fe.length&&(Fe.forEach(function(tt){var it=tt.starttime;se.add(it,it+tt.duration)}),De=!!Fe[0]._useWallClockTime)},reset:function(){se.clear()},isEnabled:function(){var Fe,tt=se.length;if(!tt)return!0;Fe=De?(new Date).getTime()/1e3:Ke.currentTime;for(var it=0;it<tt;it+=1){var Ie=se.start(it),Xe=se.end(it);if(Ie<=Fe&&Fe<Xe)return!0}return!1}},se=(0,w.Z)(this.context).create(),fe}m.__dashjs_factory_name="RangeController";const S=dashjs.FactoryMaker.getClassFactory(m);function N(){return{serialise:function M(fe){var se,De,Ge=[],Ke=[];for(se in fe)if(fe.hasOwnProperty(se)&&0!==se.indexOf("_")){if(null==(De=fe[se])&&(De=""),Array.isArray(De)){if(!De.length)continue;Ke=[],De.forEach(function(Fe){var tt="Object"!==Object.prototype.toString.call(Fe).slice(8,-1);Ke.push(tt?Fe:M(Fe))}),De=Ke.map(encodeURIComponent).join(",")}else"string"==typeof De?De=encodeURIComponent(De):De instanceof Date?De=De.toISOString():"number"==typeof De&&(De=Math.round(De));Ge.push(se+"="+De)}return Ge.join("&")}}}N.__dashjs_factory_name="MetricSerialiser";const h=dashjs.FactoryMaker.getSingletonFactory(N);function v(){var M,fe,se,De=window.crypto||window.msCrypto,Ge=Uint32Array,Ke=Math.pow(2,8*Ge.BYTES_PER_ELEMENT)-1;function Fe(){De&&(M||(M=new Ge(10)),De.getRandomValues(M),fe=0)}return se={random:function(tt,it){var Ie;return tt||(tt=0),it||(it=1),De?(fe===M.length&&Fe(),Ie=M[fe]/Ke,fe+=1):Ie=Math.random(),Ie*(it-tt)+tt}},Fe(),se}v.__dashjs_factory_name="RNG";const T=dashjs.FactoryMaker.getSingletonFactory(v);var G=L(5717);function $(M){var fe,se,De,Ge,Ke,Fe,tt,it,Ie=this.context,Xe=[],$e=(M=M||{}).metricsConstants;function Tt(){Ke=!1,Fe=!1,tt=null,it=null}return fe={report:function(Ot,on){Array.isArray(on)||(on=[on]),Fe&&it.isEnabled()&&on.forEach(function(bn){var Nn=se.serialise(bn);Ot!==$e.DVB_ERRORS&&(Nn="metricname=".concat(Ot,"&").concat(Nn)),function(An,Qn,Un){var Dr=new XMLHttpRequest;Dr.withCredentials=De.getXHRWithCredentialsForType($e.HTTP_REQUEST_DVB_REPORTING_TYPE);var wi=function(){var Vr=Xe.indexOf(Dr);-1!==Vr&&(Xe.splice(Vr,1),!(Dr.status>=200&&Dr.status<300)&&Un&&Un())};Xe.push(Dr);try{Dr.open("GET",An),Dr.onloadend=wi,Dr.onerror=wi,Dr.send()}catch{Dr.onerror()}}(Nn="".concat(tt,"?").concat(Nn),0,function(){Fe=!1})})},initialize:function(Ot,on){var bn;if(it=on,!(tt=Ot.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");Ke||((bn=Ot.dvb_probability)&&(1e3===bn||bn/1e3>=Ge.random())&&(Fe=!0),Ke=!0)},reset:function(){Tt()}},se=h(Ie).getInstance(),Ge=T(Ie).getInstance(),De=(0,G.Z)(Ie).getInstance(),Tt(),fe}$.__dashjs_factory_name="DVBReporting";const ne=dashjs.FactoryMaker.getClassFactory($);function Q(M){var se={"urn:dvb:dash:reporting:2014":ne},De=this.context,Ge=(M=M||{}).debug?M.debug.getLogger(void 0):{},Ke=M.metricsConstants,Fe=M.mediaPlayerModel||{};return{create:function(tt,it){var Ie;try{(Ie=se[tt.schemeIdUri](De).create({metricsConstants:Ke,mediaPlayerModel:Fe})).initialize(tt,it)}catch(Xe){Ie=null,Ge.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(tt.schemeIdUri," (").concat(Xe.message,")"))}return Ie},register:function(tt,it){se[tt]=it},unregister:function(tt){delete se[tt]}}}Q.__dashjs_factory_name="ReportingFactory";const oe=dashjs.FactoryMaker.getSingletonFactory(Q);function H(M){var fe=[],se=oe(this.context).getInstance(M);return{initialize:function(De,Ge){De.some(function(Ke){var Fe=se.create(Ke,Ge);if(Fe)return fe.push(Fe),!0})},reset:function(){fe.forEach(function(De){return De.reset()}),fe=[]},report:function(De,Ge){fe.forEach(function(Ke){return Ke.report(De,Ge)})}}}H.__dashjs_factory_name="ReportingController";const F=dashjs.FactoryMaker.getClassFactory(H);function W(){return{reconstructFullMetricName:function(M,fe,se){var De=M;return fe&&(De+="("+fe,se&&se.length&&(De+=","+se),De+=")"),De},validateN:function(M){if(!M)throw new Error("missing n");if(isNaN(M))throw new Error("n is NaN");if(M<0)throw new Error("n must be positive");return M}}}W.__dashjs_factory_name="HandlerHelpers";const he=dashjs.FactoryMaker.getSingletonFactory(W);function ce(M){var fe,se,De,Ge,Ke;M=M||{};var tt=he(this.context).getInstance(),it=[],Ie=M.metricsConstants;function Xe(){var $e=function(){try{return Object.keys(it).map(function(Tt){return it[Tt]}).reduce(function(Tt,Ot){return Tt.level<Ot.level?Tt:Ot})}catch{return}}();$e&&Ke!==$e.t&&(Ke=$e.t,fe.report(De,$e))}return{initialize:function($e,Tt,Ot){Tt&&(se=tt.validateN(Ot),fe=Tt,De=tt.reconstructFullMetricName($e,Ot),Ge=setInterval(Xe,se))},reset:function(){clearInterval(Ge),Ge=null,se=0,fe=null,Ke=null},handleNewMetric:function($e,Tt,Ot){$e===Ie.BUFFER_LEVEL&&(it[Ot]=Tt)}}}ce.__dashjs_factory_name="BufferLevelHandler";const ze=dashjs.FactoryMaker.getClassFactory(ce),st=dashjs.FactoryMaker.getClassFactory(function(M){var fe,se=(M=M||{}).eventBus,De=M.metricsConstants;function Ge(){se.off(d.Z.METRICS_INITIALISATION_COMPLETE,Ge,this),se.trigger(d.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(Ke,Fe){Fe&&(fe=Fe,se.on(d.Z.METRICS_INITIALISATION_COMPLETE,Ge,this))},reset:function(){fe=null},handleNewMetric:function(Ke,Fe){Ke===De.DVB_ERRORS&&fe&&fe.report(Ke,Fe)}}});function ge(M){var fe,se,De,Ge,Ke;M=M||{};var Fe=[],tt=he(this.context).getInstance(),it=M.metricsConstants;function Ie(){Fe.length&&fe&&fe.report(Ge,Fe),Fe=[]}return{initialize:function(Xe,$e,Tt,Ot){$e&&(se=tt.validateN(Tt),fe=$e,Ot&&Ot.length&&(De=Ot),Ge=tt.reconstructFullMetricName(Xe,Tt,Ot),Ke=setInterval(Ie,se))},reset:function(){clearInterval(Ke),Ke=null,se=null,De=null,Fe=[],fe=null},handleNewMetric:function(Xe,$e){Xe===it.HTTP_REQUEST&&(De&&De!==$e.type||Fe.push($e))}}}ge.__dashjs_factory_name="HttpListHandler";const Rt=dashjs.FactoryMaker.getClassFactory(ge);function Ve(){var M,fe;return{initialize:function(se,De){M=se,fe=De},reset:function(){fe=null,M=void 0},handleNewMetric:function(se,De){se===M&&fe&&fe.report(M,De)}}}Ve.__dashjs_factory_name="GenericMetricHandler";const We=dashjs.FactoryMaker.getClassFactory(Ve);function Ne(M){var se=(M=M||{}).debug?M.debug.getLogger(void 0):{},De=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,Ge=this.context,Ke={BufferLevel:ze,DVBErrors:st,HttpList:Rt,PlayList:We,RepSwitchList:We,TcpList:We};return{create:function(Fe,tt){var it,Ie=Fe.match(De);if(Ie){try{(it=Ke[Ie[1]](Ge).create({eventBus:M.eventBus,metricsConstants:M.metricsConstants})).initialize(Ie[1],tt,Ie[3],Ie[5])}catch(Xe){it=null,se.error("MetricsHandlerFactory: Could not create handler for type ".concat(Ie[1]," with args ").concat(Ie[3],", ").concat(Ie[5]," (").concat(Xe.message,")"))}return it}},register:function(Fe,tt){Ke[Fe]=tt},unregister:function(Fe){delete Ke[Fe]}}}Ne.__dashjs_factory_name="MetricsHandlerFactory";const Ue=dashjs.FactoryMaker.getSingletonFactory(Ne);function rt(M){var fe,se=[],Ge=(M=M||{}).eventBus,Ke=M.events,Fe=Ue(this.context).getInstance({debug:M.debug,eventBus:M.eventBus,metricsConstants:M.metricsConstants});function tt(it){se.forEach(function(Ie){Ie.handleNewMetric(it.metric,it.value,it.mediaType)})}return fe={initialize:function(it,Ie){it.split(",").forEach(function(Xe,$e,Tt){var Ot;if(-1!==Xe.indexOf("(")&&-1===Xe.indexOf(")")){var on=Tt[$e+1];on&&-1===on.indexOf("(")&&-1!==on.indexOf(")")&&(Xe+=","+on,delete Tt[$e+1])}(Ot=Fe.create(Xe,Ie))&&se.push(Ot)}),Ge.on(Ke.METRIC_ADDED,tt,fe),Ge.on(Ke.METRIC_UPDATED,tt,fe)},reset:function(){Ge.off(Ke.METRIC_ADDED,tt,fe),Ge.off(Ke.METRIC_UPDATED,tt,fe),se.forEach(function(it){return it.reset()}),se=[]}}}rt.__dashjs_factory_name="MetricsHandlersController";const Mt=dashjs.FactoryMaker.getClassFactory(rt);function ht(M){var fe,se,De;M=M||{};var Ge=this.context;function Ke(){fe&&fe.reset(),se&&se.reset(),De&&De.reset()}return{initialize:function(Fe){try{(De=S(Ge).create({mediaElement:M.mediaElement})).initialize(Fe.Range),(se=F(Ge).create({debug:M.debug,metricsConstants:M.metricsConstants,mediaPlayerModel:M.mediaPlayerModel})).initialize(Fe.Reporting,De),(fe=Mt(Ge).create({debug:M.debug,eventBus:M.eventBus,metricsConstants:M.metricsConstants,events:M.events})).initialize(Fe.metrics,se)}catch(tt){throw Ke(),tt}},reset:Ke}}ht.__dashjs_factory_name="MetricsController";const ke=dashjs.FactoryMaker.getClassFactory(ht),gt=function M(){(function(fe,se){if(!(fe instanceof se))throw new TypeError("Cannot call a class as a function")})(this,M),this.metrics="",this.Range=[],this.Reporting=[]},St=function M(){(function(fe,se){if(!(fe instanceof se))throw new TypeError("Cannot call a class as a function")})(this,M),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},Ye=function M(){(function(fe,se){if(!(fe instanceof se))throw new TypeError("Cannot call a class as a function")})(this,M),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function yt(M){var fe=(M=M||{}).adapter,se=M.constants;return{getMetrics:function(De){var Ge=[];return De&&De.Metrics_asArray&&De.Metrics_asArray.forEach(function(Ke){var Fe=new gt,tt=fe.getIsDynamic(De);Ke.hasOwnProperty("metrics")&&(Fe.metrics=Ke.metrics,Ke.Range_asArray&&Ke.Range_asArray.forEach(function(it){var Xe,Tt,Ot,on,bn,Ie=new St;Ie.starttime=(Xe=De,Tt=it,bn=0,tt?bn=fe.getAvailabilityStartTime(Xe)/1e3:(Ot=fe.getRegularPeriods(Xe)).length&&(bn=Ot[0].start),on=bn,Tt&&Tt.hasOwnProperty(se.START_TIME)&&(on+=Tt.starttime),on),Ie.duration=it.hasOwnProperty("duration")?it.duration:fe.getDuration(De),Ie._useWallClockTime=tt,Fe.Range.push(Ie)}),Ke.Reporting_asArray&&(Ke.Reporting_asArray.forEach(function(it){var Ie=new Ye;it.hasOwnProperty(se.SCHEME_ID_URI)&&(Ie.schemeIdUri=it.schemeIdUri,it.hasOwnProperty("value")&&(Ie.value=it.value),it.hasOwnProperty(se.DVB_REPORTING_URL)&&(Ie.dvb_reportingUrl=it[se.DVB_REPORTING_URL]),it.hasOwnProperty(se.DVB_PROBABILITY)&&(Ie.dvb_probability=it[se.DVB_PROBABILITY]),Fe.Reporting.push(Ie))}),Ge.push(Fe)))}),Ge}}}yt.__dashjs_factory_name="ManifestParsing";const me=dashjs.FactoryMaker.getSingletonFactory(yt);function Ce(M){var fe,se={},De=this.context,Ge=(M=M||{}).eventBus,Ke=M.events;function Fe(it){if(!it.error){var Ie=Object.keys(se);me(De).getInstance({adapter:M.adapter,constants:M.constants}).getMetrics(it.manifest).forEach(function(Xe){var $e=JSON.stringify(Xe);if(se.hasOwnProperty($e))Ie.splice($e,1);else try{var Tt=ke(De).create(M);Tt.initialize(Xe),se[$e]=Tt}catch{}}),Ie.forEach(function(Xe){se[Xe].reset(),delete se[Xe]}),Ge.trigger(d.Z.METRICS_INITIALISATION_COMPLETE)}}function tt(){Object.keys(se).forEach(function(it){se[it].reset()}),se={}}return fe={reset:function(){Ge.off(Ke.MANIFEST_UPDATED,Fe,fe),Ge.off(Ke.STREAM_TEARDOWN_COMPLETE,tt,fe)}},Ge.on(Ke.MANIFEST_UPDATED,Fe,fe),Ge.on(Ke.STREAM_TEARDOWN_COMPLETE,tt,fe),fe}Ce.__dashjs_factory_name="MetricsCollectionController";const at=dashjs.FactoryMaker.getClassFactory(Ce);function E(){var M=this.context;return{createMetricsReporting:function(fe){return P(M).getInstance({eventBus:fe.eventBus,dashMetrics:fe.dashMetrics,metricsConstants:fe.metricsConstants,events:fe.events}).initialize(),at(M).create(fe)},getReportingFactory:function(){return oe(M).getInstance()},getMetricsHandlerFactory:function(){return Ue(M).getInstance()}}}E.__dashjs_factory_name="MetricsReporting";var _=dashjs.FactoryMaker.getClassFactory(E);_.events=d.Z,dashjs.FactoryMaker.updateClassFactory(E.__dashjs_factory_name,_);const x=_},1180:(wt,He,L)=>{"use strict";function ve(w){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(w)}function k(w,m){return(k=Object.setPrototypeOf||function(S,N){return S.__proto__=N,S})(w,m)}function f(w){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(w)}L.d(He,{Z:()=>P});const P=new(function(w){!function(v,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),T&&k(v,T)}(h,w);var m,S,N=(m=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,T=f(m);if(S){var G=f(this).constructor;v=Reflect.construct(T,arguments,G)}else v=T.apply(this,arguments);return function d(w,m){return!m||"object"!==ve(m)&&"function"!=typeof m?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(w):m}(this,v)});function h(){var v;return function(T,G){if(!(T instanceof G))throw new TypeError("Cannot call a class as a function")}(this,h),(v=N.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",v.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",v.CMCD_DATA_GENERATED="cmcdDataGenerated",v}return h}(L(8342).Z))},5717:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>S});var ve=L(2610),k=L(5448),d=L(1264),f=L(3106),P=L(1767),w=L(3393);function m(){var N,h,v,T,G,$,ne,Q,H=(0,d.Z)(this.context).getInstance();function F(){T=[],G=[],$=[],Q=[],ne=null,h=[]}function W(st,ge){var Rt=-1;st.some(function(Ve,We){if(Ve===ge)return Rt=We,!0}),Rt<0||st.splice(Rt,1)}function he(st){var ge;for(ge=0;ge<Q.length;ge++)if(Q[ge].rulename===st)return ge;return-1}function ce(st,ge){ze(st,ge);var Rt=new ve.Z;Rt.schemeIdUri=st,Rt.value=ge,h.push(Rt)}function ze(st,ge){(0,f.PS)(st,"string"),(0,f.PS)(ge,"string"),h.forEach(function(Rt,Ve){Rt.schemeIdUri===st&&Rt.value===ge&&h.splice(Ve,1)})}return N={getCustomInitialTrackSelectionFunction:function(){return ne},setCustomInitialTrackSelectionFunction:function(st){ne=st},resetCustomInitialTrackSelectionFunction:function(){ne=null},getLicenseResponseFilters:function(){return G},getLicenseRequestFilters:function(){return T},getCustomCapabilitiesFilters:function(){return $},registerCustomCapabilitiesFilter:function(st){$.push(st)},registerLicenseResponseFilter:function(st){G.push(st)},registerLicenseRequestFilter:function(st){T.push(st)},unregisterCustomCapabilitiesFilter:function(st){W($,st)},unregisterLicenseResponseFilter:function(st){W(G,st)},unregisterLicenseRequestFilter:function(st){W(T,st)},addAbrCustomRule:function(st,ge,Rt){if("string"!=typeof st||st!==P.Z.ABANDON_FRAGMENT_RULES&&st!==P.Z.QUALITY_SWITCH_RULES||"string"!=typeof ge)throw w.Z.BAD_ARGUMENT_ERROR;var Ve=he(ge);-1===Ve?Q.push({type:st,rulename:ge,rule:Rt}):(Q[Ve].type=st,Q[Ve].rule=Rt)},removeAllAbrCustomRule:function(){Q=[]},removeAbrCustomRule:function(st){if(st){var ge=he(st);-1!==ge&&Q.splice(ge,1)}else Q=[]},getAbrCustomRules:function(){return Q},addUTCTimingSource:ce,removeUTCTimingSource:ze,getUTCTimingSources:function(){return h},clearDefaultUTCTimingSources:function(){h=[]},restoreDefaultUTCTimingSources:function(){var st=H.get().streaming.utcSynchronization.defaultTimingSource;ce(st.scheme,st.value)},setXHRWithCredentialsForType:function st(ge,Rt){ge?v[ge]=!!Rt:Object.keys(v).forEach(function(Ve){st(Ve,Rt)})},getXHRWithCredentialsForType:function(st){var ge=v[st];return void 0===ge?v.default:ge},setConfig:function(){},reset:function(){F()}},v={default:!1},F(),N}m.__dashjs_factory_name="CustomParametersModel";const S=k.Z.getSingletonFactory(m)},9032:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f});var ve=L(5448),k=L(7473);function d(P){var w=(P=P||{}).requestModifier;function m(S){var N=new Date,h=S.request,v=new XMLHttpRequest;if(v.open(S.method,S.url,!0),h.responseType&&(v.responseType=h.responseType),h.range&&v.setRequestHeader("Range","bytes="+h.range),h.requestStartDate||(h.requestStartDate=N),w&&w.modifyRequestHeader&&(v=w.modifyRequestHeader(v,{url:S.url})),S.headers)for(var T in S.headers){var G=S.headers[T];G&&v.setRequestHeader(T,G)}v.withCredentials=S.withCredentials,v.onload=S.onload,v.onloadend=S.onend,v.onerror=S.onerror,v.onprogress=S.progress,v.onabort=S.onabort,v.ontimeout=S.ontimeout,v.timeout=S.timeout,v.send(),S.response=v}return{load:function(S){w&&w.modifyRequest?(0,k.k)(S,w).then(function(){return m(S)}):m(S)},abort:function(S){var N=S.response;N.onloadend=N.onerror=N.onprogress=void 0,N.abort()}}}d.__dashjs_factory_name="XHRLoader";const f=ve.Z.getClassFactory(d)},1737:(wt,He,L)=>{"use strict";L.d(He,{default:()=>ua});var k={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};const d=function(){function Gt(){!function(ut,xt){if(!(ut instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,Gt)}var jt;return(jt=[{key:"findCencContentProtection",value:function(ut){for(var xt=null,ft=0;ft<ut.length;++ft){var At=ut[ft];"urn:mpeg:dash:mp4protection:2011"!==At.schemeIdUri.toLowerCase()||"cenc"!==At.value.toLowerCase()&&"cbcs"!==At.value.toLowerCase()||(xt=At)}return xt}},{key:"getPSSHData",value:function(ut){var xt=8,ft=new DataView(ut),At=ft.getUint8(xt);return xt+=20,At>0&&(xt+=4+16*ft.getUint32(xt)),ut.slice(xt+=4)}},{key:"getPSSHForKeySystem",value:function(ut,xt){var ft=Gt.parsePSSHList(xt);return ut&&ft.hasOwnProperty(ut.uuid.toLowerCase())?ft[ut.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(ut,xt){return"pssh"in ut?(ut.pssh.__text=ut.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),xt.decodeArray(ut.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(ut){if(null==ut)return[];for(var xt=new DataView(ut.buffer||ut),ft={},At=0;;){var Qt,en,Sn=void 0,In=At;if(At>=xt.buffer.byteLength)break;if(Qt=At+xt.getUint32(At),1886614376===xt.getUint32(At+=4))if(0===(en=xt.getUint8(At+=4))||1===en){At++,At+=3,Sn="";var sn=void 0,Ft=void 0;for(sn=0;sn<4;sn++)Sn+=1===(Ft=xt.getUint8(At+sn).toString(16)).length?"0"+Ft:Ft;for(At+=4,Sn+="-",sn=0;sn<2;sn++)Sn+=1===(Ft=xt.getUint8(At+sn).toString(16)).length?"0"+Ft:Ft;for(At+=2,Sn+="-",sn=0;sn<2;sn++)Sn+=1===(Ft=xt.getUint8(At+sn).toString(16)).length?"0"+Ft:Ft;for(At+=2,Sn+="-",sn=0;sn<2;sn++)Sn+=1===(Ft=xt.getUint8(At+sn).toString(16)).length?"0"+Ft:Ft;for(At+=2,Sn+="-",sn=0;sn<6;sn++)Sn+=1===(Ft=xt.getUint8(At+sn).toString(16)).length?"0"+Ft:Ft;At+=6,At+=4,ft[Sn=Sn.toLowerCase()]=xt.buffer.slice(In,Qt),At=Qt}else At=Qt;else At=Qt}return ft}},{key:"getLicenseServerUrlFromMediaInfo",value:function(ut,xt){try{if(!ut||0===ut.length)return null;for(var ft=0,At=null;ft<ut.length&&!At;){var Qt=ut[ft];if(Qt&&Qt.contentProtection&&Qt.contentProtection.length>0){var en=Qt.contentProtection.filter(function(Dn){return Dn.schemeIdUri&&Dn.schemeIdUri===xt});if(en&&en.length>0)for(var Sn=0;Sn<en.length&&!At;){for(var In=en[Sn],sn=0;sn<k.attributes.length&&!At;){for(var Ft=0,un=k.attributes[sn];Ft<k.prefixes.length&&!At;)In[un]&&In[un].__prefix&&In[un].__prefix===k.prefixes[Ft]&&In[un].__text&&(At=In[un].__text),Ft+=1;sn+=1}Sn+=1}}ft+=1}return At}catch{return null}}}])&&function ve(Gt,Vt){for(var jt=0;jt<Vt.length;jt++){var ut=Vt[jt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(Gt,ut.key,ut)}}(Gt,jt),Gt}(),f=function Gt(Vt,jt){(function(ut,xt){if(!(ut instanceof xt))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.contentType=Vt,this.robustness=jt},P=function Gt(Vt,jt,ut,xt,ft){(function(At,Qt){if(!(At instanceof Qt))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.initDataTypes=["cenc"],Vt&&Vt.length&&(this.audioCapabilities=Vt),jt&&jt.length&&(this.videoCapabilities=jt),this.distinctiveIdentifier=ut,this.persistentState=xt,this.sessionTypes=ft};function w(Gt){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Vt){return typeof Vt}:function(Vt){return Vt&&"function"==typeof Symbol&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt})(Gt)}function m(Gt,Vt){return(m=Object.setPrototypeOf||function(jt,ut){return jt.__proto__=ut,jt})(Gt,Vt)}function N(Gt){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(Vt){return Vt.__proto__||Object.getPrototypeOf(Vt)})(Gt)}const h=new(function(Gt){!function(ft,At){if("function"!=typeof At&&null!==At)throw new TypeError("Super expression must either be null or a function");ft.prototype=Object.create(At&&At.prototype,{constructor:{value:ft,writable:!0,configurable:!0}}),At&&m(ft,At)}(xt,Gt);var Vt,jt,ut=(Vt=xt,jt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ft,At=N(Vt);if(jt){var Qt=N(this).constructor;ft=Reflect.construct(At,arguments,Qt)}else ft=At.apply(this,arguments);return function S(Gt,Vt){return!Vt||"object"!==w(Vt)&&"function"!=typeof Vt?function(jt){if(void 0===jt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jt}(Gt):Vt}(this,ft)});function xt(){var ft;return function(At,Qt){if(!(At instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,xt),(ft=ut.call(this)).MEDIA_KEYERR_CODE=100,ft.MEDIA_KEYERR_UNKNOWN_CODE=101,ft.MEDIA_KEYERR_CLIENT_CODE=102,ft.MEDIA_KEYERR_SERVICE_CODE=103,ft.MEDIA_KEYERR_OUTPUT_CODE=104,ft.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,ft.MEDIA_KEYERR_DOMAIN_CODE=106,ft.MEDIA_KEY_MESSAGE_ERROR_CODE=107,ft.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,ft.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,ft.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,ft.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,ft.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,ft.KEY_SESSION_CREATED_ERROR_CODE=113,ft.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,ft.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",ft.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",ft.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",ft.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",ft.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",ft.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",ft.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",ft.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",ft.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",ft.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",ft.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",ft.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",ft.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",ft.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",ft}return xt}(L(2230).Z));var v=L(5459);const T=function Gt(Vt,jt,ut,xt,ft,At,Qt,en){(function(Sn,In){if(!(Sn instanceof In))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.url=Vt,this.method=jt,this.responseType=ut,this.headers=xt,this.withCredentials=ft,this.messageType=At,this.sessionId=Qt,this.data=en},G=function Gt(Vt,jt,ut){(function(xt,ft){if(!(xt instanceof ft))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.url=Vt,this.headers=jt,this.data=ut};var $=L(7855),ne=L(703),Q=L(3393),oe=L(5448);function H(Gt){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Vt){return typeof Vt}:function(Vt){return Vt&&"function"==typeof Symbol&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt})(Gt)}function F(Gt){var Vt,jt,ut,xt,ft,At,Qt,en,Sn,In,sn,Ft=(Gt=Gt||{}).protectionKeyController,un=Gt.protectionModel,yn=Gt.eventBus,Dn=Gt.events,pr=Gt.BASE64,Ln=Gt.constants,Zt=[],zt=Gt.cmcdModel,nn=Gt.settings,Vn=Gt.customParametersModel;function Hn(){if(!(yn&&yn.hasOwnProperty("on")&&Ft&&Ft.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function Ar(Xt,fn){en||Sn?en&&Rr():function(mn,ei){if(!Sn){Sn=!0;var qr,xi=[];mn=mn.sort(function(oi,On){return(ft&&ft[oi.ks.systemString]&&ft[oi.ks.systemString].priority>=0?ft[oi.ks.systemString].priority:mn.length)-(ft&&ft[On.ks.systemString]&&ft[On.ks.systemString].priority>=0?ft[On.ks.systemString].priority:mn.length)});for(var Fr=0;Fr<mn.length;Fr++){var Lt=xa(mn[Fr]);xi.push({ks:mn[Fr].ks,configs:[Lt],protData:mn[Fr].protData})}un.requestKeySystemAccess(xi).then(function(oi){var On=(qr=oi.data).mksa&&qr.mksa.selectedSystemString?qr.mksa.selectedSystemString:qr.keySystem.systemString;return jt.info("DRM: KeySystem Access Granted for system string ("+On+")!  Selecting key system..."),un.selectKeySystem(qr)}).then(function(oi){if(en=oi,Sn=!1,un){yn.trigger(Dn.KEY_SYSTEM_SELECTED,{data:qr});var On=_i(en);On&&On.serverCertificate&&On.serverCertificate.length>0&&un.setServerCertificate(pr.decodeArray(On.serverCertificate).buffer),Rr()}}).catch(function(oi){en=null,Sn=!1,ei||yn.trigger(Dn.KEY_SYSTEM_SELECTED,{data:null,error:new v.Z(h.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,h.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+oi.error)})})}}(Xt,fn)}function Rr(){for(var Xt,fn=0;fn<ut.length;fn++)for(Xt=0;Xt<ut[fn].length;Xt++)if(en===ut[fn][Xt].ks){Fi(ut[fn][Xt]);break}ut=[]}function Fi(Xt){if(Ft.isClearKey(en)&&Xt.protData&&Xt.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Xt.protData.clearkeys).length){var fn={kids:Object.keys(Xt.protData.clearkeys)};Xt.initData=(new TextEncoder).encode(JSON.stringify(fn))}Xt.sessionId?Ri(Xt):null!==Xt.initData&&Yr(Xt)}function Ri(Xt){Hn(),un.loadKeySession(Xt)}function Yr(Xt){var fn=d.getPSSHForKeySystem(en,Xt?Xt.initData:null);if(fn){if(function(mn){if(!mn)return!1;try{for(var ei=un.getSessions(),qr=0;qr<ei.length;qr++)if(ei[qr].getKeyId()===mn)return!0;return!1}catch{return!1}}(Xt.keyId)||ii(fn))return;try{Xt.initData=fn,un.createKeySession(Xt)}catch(mn){yn.trigger(Dn.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+mn.message)})}}else Xt&&Xt.initData?un.createKeySession(Xt):yn.trigger(Dn.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(en?en.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function _i(Xt){if(Xt){var fn=Xt.systemString;if(ft)return fn in ft?ft[fn]:null}return null}function ii(Xt){if(!Xt)return!1;try{for(var fn=un.getAllInitData(),mn=0;mn<fn.length;mn++)if(Ft.initDataEquals(Xt,fn[mn]))return jt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Zi(Xt){Hn(),Xt?(un.setMediaElement(Xt),yn.on(Dn.NEED_KEY,Oa,Vt)):null===Xt&&(un.setMediaElement(Xt),yn.off(Dn.NEED_KEY,Oa,Vt))}function xa(Xt){var fn=Xt.protData,mn=[],ei=[],qr=fn&&fn.audioRobustness&&fn.audioRobustness.length>0?fn.audioRobustness:Qt,xi=fn&&fn.videoRobustness&&fn.videoRobustness.length>0?fn.videoRobustness:Qt,Fr=Xt.sessionType,Lt=fn&&fn.distinctiveIdentifier?fn.distinctiveIdentifier:"optional",oi=fn&&fn.persistentState?fn.persistentState:"temporary"===Fr?"optional":"required";return xt.forEach(function(On){On.type===Ln.AUDIO?mn.push(new f(On.codec,qr)):On.type===Ln.VIDEO&&ei.push(new f(On.codec,xi))}),new P(mn,ei,Lt,oi,[Fr])}function da(Xt){Xt.error?yn.trigger(Dn.KEY_STATUSES_CHANGED,{data:null,error:Xt.error}):jt.debug("DRM: key status = "+Xt.status)}function Gr(Xt){jt.debug("DRM: onKeyMessage");var fn=Xt.data;yn.trigger(Dn.KEY_MESSAGE,{data:fn});var mn=fn.messageType?fn.messageType:"license-request",ei=fn.message,qr=fn.sessionToken,xi=_i(en),Fr=Ft.getLicenseServerModelInstance(en,xi,mn),Lt={sessionToken:qr,messageType:mn};if(ei&&0!==ei.byteLength){if(!Fr)return jt.debug("DRM: License server request not required for this message (type = "+Xt.data.messageType+").  Session ID = "+qr.getSessionId()),void ui(Lt);if(Ft.isClearKey(en)){var oi=Ft.processClearKeyLicenseRequest(en,xi,ei);if(oi&&oi.keyPairs&&oi.keyPairs.length>0)return jt.debug("DRM: ClearKey license request handled by application!"),ui(Lt),void un.updateKeySession(qr,oi)}!function(On,vr,Ji){var fa=On.sessionToken,Lo=On.messageType?On.messageType:"license-request",ss={sessionToken:fa,messageType:Lo},Si=en?en.systemString:null,yd=function(Xr,ka,Fa,an,kh){var Ir=null,La=an.message;if(Xr&&Xr.serverURL){var As=Xr.serverURL;"string"==typeof As&&""!==As?Ir=As:"object"===H(As)&&As.hasOwnProperty(ka)&&(Ir=As[ka])}else if(Xr&&Xr.laURL&&""!==Xr.laURL)Ir=Xr.laURL;else if(!(Ir=d.getLicenseServerUrlFromMediaInfo(xt,en.schemeIdURI))&&!Ft.isClearKey(en)){var _l=d.getPSSHData(Fa.initData);(Ir=en.getLicenseServerURLFromInitData(_l))||(Ir=an.laURL)}return kh.getServerURLFromMessage(Ir,La,ka)}(Ji,Lo,fa,On,vr);if(yd){var Pa={},Gc=!1;Ji&&kr(Pa,Ji.httpRequestHeaders);var as=On.message;kr(Pa,en.getRequestHeadersFromMessage(as)),Object.keys(Pa).forEach(function(Xr){"authorization"===Xr.toLowerCase()&&(Gc=!0)}),Ji&&"boolean"==typeof Ji.withCredentials&&(Gc=Ji.withCredentials);var vd=function(Xr){if(un)if(Xr.status>=200&&Xr.status<=299){var ka=ne.Z.parseHttpHeaders(Xr.getAllResponseHeaders?Xr.getAllResponseHeaders():null),Fa=new G(Xr.responseURL,ka,Xr.response);hi(Vn.getLicenseResponseFilters(),Fa).then(function(){var an=vr.getLicenseMessage(Fa.data,Si,Lo);null!==an?(ui(ss),un.updateKeySession(fa,an)):Na(Xr,ss,Si,Lo,vr)})}else Na(Xr,ss,Si,Lo,vr)},bd=function(Xr){ui(ss,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Si+' update, XHR aborted. status is "'+Xr.statusText+'" ('+Xr.status+"), readyState is "+Xr.readyState))},Ph=function(Xr){ui(ss,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Si+' update, XHR error. status is "'+Xr.statusText+'" ('+Xr.status+"), readyState is "+Xr.readyState))},qc=en.getLicenseRequestFromMessage(as),Yc=vr.getHTTPMethod(Lo),$c=vr.getResponseType(Si,Lo),Ed=Ji&&!isNaN(Ji.httpTimeout)?Ji.httpTimeout:8e3,Td=fa.getSessionId()||null,bo=new T(yd,Yc,$c,Pa,Gc,Lo,Td,qc),Br=isNaN(nn.get().streaming.retryAttempts[$.w.LICENSE])?3:nn.get().streaming.retryAttempts[$.w.LICENSE];hi(Vn.getLicenseRequestFilters(),bo).then(function(){tc(bo,Br,Ed,vd,bd,Ph)})}else ui(ss,new v.Z(h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(fn,Fr,xi)}else ui(Lt,new v.Z(h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function ui(Xt,fn){yn.trigger(Dn.LICENSE_REQUEST_COMPLETE,{data:Xt,error:fn})}function tc(Xt,fn,mn,ei,qr,xi){var Fr=new XMLHttpRequest;if(nn.get().streaming.cmcd&&nn.get().streaming.cmcd.enabled&&nn.get().streaming.cmcd.mode===Q.Z.CMCD_MODE_QUERY){var Lt=zt.getQueryParameter({url:Xt.url,type:$.w.LICENSE});Lt&&(Xt.url=ne.Z.addAditionalQueryParameterToUrl(Xt.url,[Lt]))}for(var oi in Fr.open(Xt.method,Xt.url,!0),Fr.responseType=Xt.responseType,Fr.withCredentials=Xt.withCredentials,mn>0&&(Fr.timeout=mn),Xt.headers)Fr.setRequestHeader(oi,Xt.headers[oi]);if(nn.get().streaming.cmcd&&nn.get().streaming.cmcd.enabled&&nn.get().streaming.cmcd.mode===Q.Z.CMCD_MODE_HEADER){var On=zt.getHeaderParameters({url:Xt.url,type:$.w.LICENSE});if(On)for(var vr in On){var Ji=On[vr];Ji&&Fr.setRequestHeader(vr,Ji)}}var fa=function(){fn--;var Lo=isNaN(nn.get().streaming.retryIntervals[$.w.LICENSE])?1e3:nn.get().streaming.retryIntervals[$.w.LICENSE];sn=setTimeout(function(){tc(Xt,fn,mn,ei,qr,xi)},Lo)};Fr.onload=function(){In=null,this.status>=200&&this.status<=299||fn<=0?ei(this):(jt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+fn),fa())},Fr.ontimeout=Fr.onerror=function(){In=null,fn<=0?xi(this):(jt.warn("License request network request failed . Retrying it... Pending retries: "+fn),fa())},Fr.onabort=function(){qr(this)},yn.trigger(Dn.LICENSE_REQUEST_SENDING,{url:Xt.url,headers:Xt.headers,payload:Xt.data,sessionId:Xt.sessionId}),In=Fr,Fr.send(Xt.data)}function gl(){In&&(In.onloadend=In.onerror=In.onprogress=void 0,In.abort(),In=null),sn&&(clearTimeout(sn),sn=null)}function kr(Xt,fn){if(fn)for(var mn in fn)Xt[mn]=fn[mn]}function Na(Xt,fn,mn,ei,qr){var xi="NONE",Fr=null;Xt.response&&(xi=qr.getErrorResponse(Xt.response,mn,ei),Fr={serverResponse:Xt.response||null,responseCode:Xt.status||null,responseText:Xt.statusText||null}),ui(fn,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+mn+' update, XHR complete. status is "'+Xt.statusText+'" ('+Xt.status+"), readyState is "+Xt.readyState+".  Response is "+xi,Fr))}function hi(Xt,fn){return Xt?Xt.reduce(function(mn,ei){return mn.then(function(){return ei(fn)})},Promise.resolve()):Promise.resolve()}function Oa(Xt,fn){if(!nn.get().streaming.protection.ignoreEmeEncryptedEvent){if(jt.debug("DRM: onNeedKey"),"cenc"!==Xt.key.initDataType)return void jt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Xt.key.initDataType);if(0===xt.length&&(jt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(fn=void 0===fn?1:fn+1)<5))return void Zt.push(setTimeout(function(){Oa(Xt,fn)},500));var mn=Xt.key.initData;if(ArrayBuffer.isView(mn)&&(mn=mn.buffer),en){var ei=d.getPSSHForKeySystem(en,mn);if(ei&&ii(ei))return}jt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(mn)));var qr=Ft.getSupportedKeySystemsFromSegmentPssh(mn,ft,At);if(0===qr.length)return void jt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");ut.push(xi=qr),Ar(xi,!1)}var xi}return jt=Gt.debug.getLogger(Vt={initializeForMedia:function(Xt){if(!Xt)throw new Error("mediaInfo can not be null or undefined");Hn(),xt.push(Xt)},clearMediaInfoArray:function(){xt=[]},handleKeySystemFromManifest:function(){if(xt&&0!==xt.length){var Xt=[];xt.forEach(function(fn){var mn=Ft.getSupportedKeySystemsFromContentProtection(fn.contentProtection,ft,At);mn.length>0&&(0===Xt.length&&(Xt=mn),ut.push(mn))}),Xt&&Xt.length>0&&Ar(Xt,!0)}},createKeySession:Yr,loadKeySession:Ri,removeKeySession:function(Xt){Hn(),un.removeKeySession(Xt)},closeKeySession:function(Xt){Hn(),un.closeKeySession(Xt)},setServerCertificate:function(Xt){Hn(),un.setServerCertificate(Xt)},setMediaElement:Zi,setSessionType:function(Xt){At=Xt},setRobustnessLevel:function(Xt){Qt=Xt},setProtectionData:function(Xt){ft=Xt,Ft.setProtectionData(Xt)},getSupportedKeySystemsFromContentProtection:function(Xt){return Hn(),Ft.getSupportedKeySystemsFromContentProtection(Xt,ft,At)},getKeySystems:function(){return Ft?Ft.getKeySystems():[]},setKeySystems:function(Xt){Ft&&Ft.setKeySystems(Xt)},stop:function(){gl(),un&&un.stop()},reset:function(){yn.off(Dn.INTERNAL_KEY_MESSAGE,Gr,Vt),yn.off(Dn.INTERNAL_KEY_STATUS_CHANGED,da,Vt),Hn(),gl(),Zi(null),en=null,Sn=!1,un&&(un.reset(),un=null),Zt.forEach(function(Xt){return clearTimeout(Xt)}),Zt=[],xt=[],ut=[]}}),ut=[],xt=[],At="temporary",Qt="",In=null,sn=null,yn.on(Dn.INTERNAL_KEY_MESSAGE,Gr,Vt),yn.on(Dn.INTERNAL_KEY_STATUS_CHANGED,da,Vt),Vt}F.__dashjs_factory_name="ProtectionController";const W=oe.Z.getClassFactory(F),he=function Gt(Vt,jt){(function(ut,xt){if(!(ut instanceof xt))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.keyID=Vt,this.key=jt},ze=function(){function Gt(ut,xt){if(function(ft,At){if(!(ft instanceof At))throw new TypeError("Cannot call a class as a function")}(this,Gt),xt&&"persistent"!==xt&&"temporary"!==xt)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=ut,this.type=xt}var jt;return(jt=[{key:"toJWK",value:function(){var ut,xt=this.keyPairs.length,ft={keys:[]};for(ut=0;ut<xt;ut++)ft.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[ut].keyID,k:this.keyPairs[ut].key});this.type&&(ft.type=this.type);var Qt=JSON.stringify(ft),en=Qt.length,Sn=new ArrayBuffer(en),In=new Uint8Array(Sn);for(ut=0;ut<en;ut++)In[ut]=Qt.charCodeAt(ut);return Sn}}])&&function ce(Gt,Vt){for(var jt=0;jt<Vt.length;jt++){var ut=Vt[jt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(Gt,ut.key,ut)}}(Gt.prototype,jt),Gt}(),ge=new(function(){function Gt(){(function(ut,xt){if(!(ut instanceof xt))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.init()}var jt;return(jt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&function st(Gt,Vt){for(var jt=0;jt<Vt.length;jt++){var ut=Vt[jt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(Gt,ut.key,ut)}}(Gt.prototype,jt),Gt}());var Rt="e2719d58-a985-b3c9-781a-b030af78d30e",Ve=ge.CLEARKEY_KEYSTEM_STRING,We="urn:uuid:"+Rt;function Ne(Gt){var Vt=(Gt=Gt||{}).BASE64;return{uuid:Rt,schemeIdURI:We,systemString:Ve,getInitData:function(jt,ut){try{var xt=d.parseInitDataFromContentProtection(jt,Vt);if(!xt&&ut){var ft={kids:[function(At){try{var Qt=At.replace(/-/g,"");return(Qt=btoa(Qt.match(/\w{2}/g).map(function(en){return String.fromCharCode(parseInt(en,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(ut["cenc:default_KID"])]};xt=(new TextEncoder).encode(JSON.stringify(ft))}return xt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(jt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(jt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(jt,ut){var xt=null;if(jt){for(var ft=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(ut))),At=[],Qt=0;Qt<ft.kids.length;Qt++){var en=ft.kids[Qt],Sn=jt.clearkeys&&jt.clearkeys.hasOwnProperty(en)?jt.clearkeys[en]:null;if(!Sn)throw new Error("DRM: ClearKey keyID ("+en+") is not known!");At.push(new he(en,Sn))}xt=new ze(At)}return xt}}}Ne.__dashjs_factory_name="KeySystemClearKey";const Ue=dashjs.FactoryMaker.getSingletonFactory(Ne);var rt="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Mt=ge.CLEARKEY_KEYSTEM_STRING,ht="urn:uuid:"+rt;function ke(Gt){var jt=Gt.BASE64,ut=Gt.debug.getLogger(void 0);return{uuid:rt,schemeIdURI:ht,systemString:Mt,getInitData:function(xt){return d.parseInitDataFromContentProtection(xt,jt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(xt){return new Uint8Array(xt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(xt,ft){var At=null;if(xt){for(var Qt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(ft))),en=[],Sn=0;Sn<Qt.kids.length;Sn++){var In=Qt.kids[Sn],sn=xt.clearkeys&&xt.clearkeys.hasOwnProperty(In)?xt.clearkeys[In]:null;if(!sn)throw new Error("DRM: ClearKey keyID ("+In+") is not known!");en.push(new he(In,sn))}At=new ze(en),ut.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return At}}}ke.__dashjs_factory_name="KeySystemW3CClearKey";const gt=dashjs.FactoryMaker.getSingletonFactory(ke);var St="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ye=ge.WIDEVINE_KEYSTEM_STRING,yt="urn:uuid:"+St;function me(Gt){var Vt=(Gt=Gt||{}).BASE64;return{uuid:St,schemeIdURI:yt,systemString:Ye,getInitData:function(jt){return d.parseInitDataFromContentProtection(jt,Vt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(jt){return new Uint8Array(jt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}me.__dashjs_factory_name="KeySystemWidevine";const Ce=dashjs.FactoryMaker.getSingletonFactory(me);var at="9a04f079-9840-4286-ab92-e65be0885f95",E=ge.PLAYREADY_KEYSTEM_STRING,_="urn:uuid:"+at;function x(Gt){var Vt="utf-16",jt=(Gt=Gt||{}).BASE64,ut=Gt.settings;function xt(){if(!jt||!jt.hasOwnProperty("decodeArray")||!jt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:at,schemeIdURI:_,systemString:E,getInitData:function(ft){var At,Qt,en,Sn,In,sn=new Uint8Array([112,115,115,104,0,0,0,0]),Ft=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),un=0,yn=null;if(xt(),!ft)return null;if("pssh"in ft)return d.parseInitDataFromContentProtection(ft,jt);if("pro"in ft)yn=jt.decodeArray(ft.pro.__text);else{if(!("prheader"in ft))return null;yn=jt.decodeArray(ft.prheader.__text)}return Qt=4+sn.length+Ft.length+4+(At=yn.length),en=new ArrayBuffer(Qt),Sn=new Uint8Array(en),(In=new DataView(en)).setUint32(un,Qt),Sn.set(sn,un+=4),Sn.set(Ft,un+=sn.length),In.setUint32(un+=Ft.length,At),Sn.set(yn,un+=4),un+=At,Sn.buffer},getRequestHeadersFromMessage:function(ft){var At,Qt,en={},Sn=new DOMParser;if(ut&&ut.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Vt&&ft&&ft.byteLength%2==1)return en["Content-Type"]="text/xml; charset=utf-8",en;var In="utf-16"===Vt?new Uint16Array(ft):new Uint8Array(ft);At=String.fromCharCode.apply(null,In);for(var sn=(Qt=Sn.parseFromString(At,"application/xml")).getElementsByTagName("name"),Ft=Qt.getElementsByTagName("value"),un=0;un<sn.length;un++)en[sn[un].childNodes[0].nodeValue]=Ft[un].childNodes[0].nodeValue;return en.hasOwnProperty("Content")&&(en["Content-Type"]=en.Content,delete en.Content),en.hasOwnProperty("Content-Type")||(en["Content-Type"]="text/xml; charset=utf-8"),en},getLicenseRequestFromMessage:function(ft){var At=null,Qt=new DOMParser;if(ut&&ut.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Vt&&ft&&ft.byteLength%2==1)return ft;var en="utf-16"===Vt?new Uint16Array(ft):new Uint8Array(ft);xt();var Sn=String.fromCharCode.apply(null,en),In=Qt.parseFromString(Sn,"application/xml");if(!In.getElementsByTagName("PlayReadyKeyMessage")[0])return ft;var sn=In.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return sn&&(At=jt.decode(sn)),At},getLicenseServerURLFromInitData:function(ft){if(ft)for(var At=new DataView(ft),Qt=At.getUint16(4,!0),en=6,Sn=new DOMParser,In=0;In<Qt;In++){var sn=At.getUint16(en,!0),Ft=At.getUint16(en+=2,!0);if(en+=2,1===sn){var un=ft.slice(en,en+Ft),yn=String.fromCharCode.apply(null,new Uint16Array(un)),Dn=Sn.parseFromString(yn,"application/xml");if(Dn.getElementsByTagName("LA_URL")[0]){var er=Dn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(er)return er}if(Dn.getElementsByTagName("LUI_URL")[0]){var pr=Dn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(pr)return pr}}else en+=Ft}return null},getCDMData:function(ft){var At,Qt,en,Sn;if(xt(),!ft)return null;for(At=[],Sn=0;Sn<ft.length;++Sn)At.push(ft.charCodeAt(Sn)),At.push(0);for(At=String.fromCharCode.apply(null,At),At=jt.encode(At),Qt='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",At),en=[],Sn=0;Sn<Qt.length;++Sn)en.push(Qt.charCodeAt(Sn)),en.push(0);return new Uint8Array(en).buffer},setPlayReadyMessageFormat:function(ft){if("utf-8"!==ft&&"utf-16"!==ft)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Vt=ft}}}x.__dashjs_factory_name="KeySystemPlayReady";const M=dashjs.FactoryMaker.getSingletonFactory(x);function fe(Gt){var Vt=(Gt=Gt||{}).BASE64,jt={};return jt[ge.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(ut){return Vt.decodeArray(ut.license)},getErrorResponse:function(ut){return ut}},jt[ge.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(ut){return ut},getErrorResponse:function(ut){return String.fromCharCode.apply(null,new Uint8Array(ut))}},{getServerURLFromMessage:function(ut){return ut},getHTTPMethod:function(){return"POST"},getResponseType:function(ut){return jt[ut].responseType},getLicenseMessage:function(ut,xt){return function(){if(!Vt||!Vt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),jt[xt].getLicenseMessage(ut)},getErrorResponse:function(ut,xt){return jt[xt].getErrorResponse(ut)}}}fe.__dashjs_factory_name="DRMToday";const se=dashjs.FactoryMaker.getSingletonFactory(fe);function De(){var Gt="http://schemas.xmlsoap.org/soap/envelope/";function Vt(xt){var ft=String.fromCharCode.apply(null,new Uint8Array(xt));return decodeURIComponent(escape(ft))}function jt(xt){if(window.DOMParser){var ft=Vt(xt),At=(new window.DOMParser).parseFromString(ft,"text/xml"),Qt=At?At.getElementsByTagNameNS(Gt,"Envelope")[0]:null,en=Qt?Qt.getElementsByTagNameNS(Gt,"Body")[0]:null;if(en&&en.getElementsByTagNameNS(Gt,"Fault")[0])return null}return xt}function ut(xt){var ft="",At="",Qt="",en=-1,Sn=-1;if(window.DOMParser){var In=Vt(xt),sn=(new window.DOMParser).parseFromString(In,"text/xml"),Ft=sn?sn.getElementsByTagNameNS(Gt,"Envelope")[0]:null,un=Ft?Ft.getElementsByTagNameNS(Gt,"Body")[0]:null,yn=un?un.getElementsByTagNameNS(Gt,"Fault")[0]:null,Dn=yn?yn.getElementsByTagName("detail")[0]:null,er=Dn?Dn.getElementsByTagName("Exception")[0]:null,pr=null;if(null===yn)return In;ft=(pr=yn.getElementsByTagName("faultstring")[0].firstChild)?pr.nodeValue:null,null!==er&&(At=(pr=er.getElementsByTagName("StatusCode")[0])?pr.firstChild.nodeValue:null,en=(Qt=(pr=er.getElementsByTagName("Message")[0])?pr.firstChild.nodeValue:null)?Qt.lastIndexOf("[")+1:-1,Sn=Qt?Qt.indexOf("]"):-1,Qt=Qt?Qt.substring(en,Sn):"")}var Ln="code: ".concat(At,", name: ").concat(ft);return Qt&&(Ln+=", message: ".concat(Qt)),Ln}return{getServerURLFromMessage:function(xt){return xt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(xt){return jt.call(this,xt)},getErrorResponse:function(xt){return ut.call(this,xt)}}}De.__dashjs_factory_name="PlayReady";const Ge=oe.Z.getSingletonFactory(De);function Ke(){return{getServerURLFromMessage:function(Gt){return Gt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Gt){return Gt},getErrorResponse:function(Gt){return String.fromCharCode.apply(null,new Uint8Array(Gt))}}}Ke.__dashjs_factory_name="Widevine";const Fe=dashjs.FactoryMaker.getSingletonFactory(Ke);function tt(){return{getServerURLFromMessage:function(Gt){return Gt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Gt){if(!Gt.hasOwnProperty("keys"))return null;for(var Vt=[],jt=0;jt<Gt.keys.length;jt++){var ut=Gt.keys[jt],xt=ut.kid.replace(/=/g,""),ft=ut.k.replace(/=/g,"");Vt.push(new he(xt,ft))}return new ze(Vt)},getErrorResponse:function(Gt){return String.fromCharCode.apply(null,new Uint8Array(Gt))}}}tt.__dashjs_factory_name="ClearKey";const it=dashjs.FactoryMaker.getSingletonFactory(tt);function Ie(){var Gt,Vt,jt,ut,xt,ft,At,Qt,en=this.context;function Sn(Ft,un){return un&&Ft in un?un[Ft]:null}function In(Ft,un){return Ft&&Ft.sessionId?Ft.sessionId:un&&un.sessionId?un.sessionId:null}function sn(Ft,un){return Ft&&Ft.sessionType?Ft.sessionType:un}return Gt={initialize:function(){var Ft;ut=[],Ft=M(en).getInstance({BASE64:xt,settings:ft}),ut.push(Ft),Ft=Ce(en).getInstance({BASE64:xt}),ut.push(Ft),Ft=Ue(en).getInstance({BASE64:xt}),ut.push(Ft),At=Ft,Ft=gt(en).getInstance({BASE64:xt,debug:Vt}),ut.push(Ft),Qt=Ft},setProtectionData:function(Ft){for(var un,yn,Dn=0;Dn<ut.length;Dn++){var er=ut[Dn];er.hasOwnProperty("init")&&er.init((un=er.systemString,yn=void 0,yn=null,Ft&&(yn=un in Ft?Ft[un]:null),yn))}},isClearKey:function(Ft){return Ft===At||Ft===Qt},initDataEquals:function(Ft,un){if(Ft.byteLength===un.byteLength){for(var yn=new Uint8Array(Ft),Dn=new Uint8Array(un),er=0;er<yn.length;er++)if(yn[er]!==Dn[er])return!1;return!0}return!1},getKeySystems:function(){return ut},setKeySystems:function(Ft){ut=Ft},getKeySystemBySystemString:function(Ft){for(var un=0;un<ut.length;un++)if(ut[un].systemString===Ft)return ut[un];return null},getSupportedKeySystemsFromContentProtection:function(Ft,un,yn){var Dn,er,pr,Ln,Zt=[];if(Ft){var zt=d.findCencContentProtection(Ft);for(pr=0;pr<ut.length;++pr){var nn=Sn((er=ut[pr]).systemString,un);for(Ln=0;Ln<Ft.length;++Ln)if((Dn=Ft[Ln]).schemeIdUri.toLowerCase()===er.schemeIdURI){var Vn=er.getInitData(Dn,zt);Zt.push({ks:ut[pr],keyId:Dn.keyId,initData:Vn,protData:nn,cdmData:er.getCDMData(nn?nn.cdmData:null),sessionId:In(nn,Dn),sessionType:sn(nn,yn)})}}}return Zt},getSupportedKeySystemsFromSegmentPssh:function(Ft,un,yn){for(var Dn,er=[],pr=d.parsePSSHList(Ft),Ln=0;Ln<ut.length;++Ln){var Zt=Sn((Dn=ut[Ln]).systemString,un);Dn.uuid in pr&&er.push({ks:Dn,initData:pr[Dn.uuid],protData:Zt,cdmData:Dn.getCDMData(Zt?Zt.cdmData:null),sessionId:In(Zt),sessionType:sn(Zt,yn)})}return er},getLicenseServerModelInstance:function(Ft,un,yn){if("license-release"===yn||"individualization-request"===yn)return null;var Dn=null;return un&&un.hasOwnProperty("drmtoday")?Dn=se(en).getInstance({BASE64:xt}):Ft.systemString===ge.WIDEVINE_KEYSTEM_STRING?Dn=Fe(en).getInstance():Ft.systemString===ge.PLAYREADY_KEYSTEM_STRING?Dn=Ge(en).getInstance():Ft.systemString===ge.CLEARKEY_KEYSTEM_STRING&&(Dn=it(en).getInstance()),Dn},processClearKeyLicenseRequest:function(Ft,un,yn){try{return Ft.getClearKeysFromProtectionData(un,yn)}catch{return jt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(Ft){Ft&&(Ft.debug&&(jt=(Vt=Ft.debug).getLogger(Gt)),Ft.BASE64&&(xt=Ft.BASE64),Ft.settings&&(ft=Ft.settings))}}}Ie.__dashjs_factory_name="ProtectionKeyController";const Xe=dashjs.FactoryMaker.getSingletonFactory(Ie);function $e(Gt){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Vt){return typeof Vt}:function(Vt){return Vt&&"function"==typeof Symbol&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt})(Gt)}function Tt(Gt,Vt){return(Tt=Object.setPrototypeOf||function(jt,ut){return jt.__proto__=ut,jt})(Gt,Vt)}function on(Gt){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(Vt){return Vt.__proto__||Object.getPrototypeOf(Vt)})(Gt)}const bn=new(function(Gt){!function(ft,At){if("function"!=typeof At&&null!==At)throw new TypeError("Super expression must either be null or a function");ft.prototype=Object.create(At&&At.prototype,{constructor:{value:ft,writable:!0,configurable:!0}}),At&&Tt(ft,At)}(xt,Gt);var Vt,jt,ut=(Vt=xt,jt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ft,At=on(Vt);if(jt){var Qt=on(this).constructor;ft=Reflect.construct(At,arguments,Qt)}else ft=At.apply(this,arguments);return function Ot(Gt,Vt){return!Vt||"object"!==$e(Vt)&&"function"!=typeof Vt?function(jt){if(void 0===jt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jt}(Gt):Vt}(this,ft)});function xt(){var ft;return function(At,Qt){if(!(At instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,xt),(ft=ut.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",ft.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",ft.KEY_ADDED="public_keyAdded",ft.KEY_ERROR="public_keyError",ft.KEY_MESSAGE="public_keyMessage",ft.KEY_SESSION_CLOSED="public_keySessionClosed",ft.KEY_SESSION_CREATED="public_keySessionCreated",ft.KEY_SESSION_REMOVED="public_keySessionRemoved",ft.KEY_STATUSES_CHANGED="public_keyStatusesChanged",ft.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",ft.KEY_SYSTEM_SELECTED="public_keySystemSelected",ft.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",ft.LICENSE_REQUEST_SENDING="public_licenseRequestSending",ft.NEED_KEY="needkey",ft.PROTECTION_CREATED="public_protectioncreated",ft.PROTECTION_DESTROYED="public_protectiondestroyed",ft.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",ft.TEARDOWN_COMPLETE="protectionTeardownComplete",ft.VIDEO_ELEMENT_SELECTED="videoElementSelected",ft.KEY_SESSION_UPDATED="public_keySessionUpdated",ft}return xt}(L(8342).Z)),Nn=function Gt(Vt,jt){(function(ut,xt){if(!(ut instanceof xt))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.initData=Vt,this.initDataType=jt},An=function Gt(Vt,jt,ut,xt){(function(ft,At){if(!(ft instanceof At))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.sessionToken=Vt,this.message=jt,this.defaultURL=ut,this.messageType=xt||"license-request"},Qn=function Gt(Vt,jt){(function(ut,xt){if(!(ut instanceof xt))throw new TypeError("Cannot call a class as a function")})(this,Gt),this.keySystem=Vt,this.ksConfiguration=jt};var Un={};function Dr(Gt){var Vt,jt,ut,xt,ft,At,Qt,en,Sn=this.context,In=(Gt=Gt||{}).eventBus,sn=Gt.events;function un(Zt,zt,nn,Vn){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var Hn="Insecure origins are not allowed";return In.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{error:Hn}),void Vn({error:Hn})}var Yr,_i,Fi=Zt[zt].ks,Ri=Fi.systemString;(Yr=(Zt[zt].protData&&Zt[zt].protData.systemStringPriority?Zt[zt].protData.systemStringPriority:null)||(Un[Ri]?Un[Ri]:[Ri]),_i=Zt[zt].configs,new Promise(function(ii,Zi){yn(Yr,_i,0,ii,Zi)})).then(function(Yr){var _i="function"==typeof Yr.getConfiguration?Yr.getConfiguration():null,ii=new Qn(Fi,_i);ii.mksa=Yr,In.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{data:ii}),nn({data:ii})}).catch(function(Yr){if(zt+1<Zt.length)un(Zt,zt+1,nn,Vn);else{var _i="Key system access denied! ";In.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{error:_i+Yr.message}),Vn({error:_i+Yr.message})}})}function yn(Zt,zt,nn,Vn,Hn){var Ar=Zt[nn];jt.debug("Requesting key system access for system string ".concat(Ar)),navigator.requestMediaKeySystemAccess(Ar,zt).then(function(Rr){Rr.selectedSystemString=Ar,Vn(Rr)}).catch(function(Rr){nn+1<Zt.length?yn(Zt,zt,nn+1,Vn,Hn):Hn(Rr)})}function Dn(Zt){var zt=Zt.session;return zt.removeEventListener("keystatuseschange",Zt),zt.removeEventListener("message",Zt),zt.close()}function er(Zt){for(var zt=0;zt<At.length;zt++)if(At[zt]===Zt){At.splice(zt,1);break}}function pr(Zt){var zt,nn;return Zt&&Zt.length>0&&(Zt[0]&&("string"==typeof Zt[0]?zt=Zt[0]:nn=Zt[0]),Zt[1]&&("string"==typeof Zt[1]?zt=Zt[1]:nn=Zt[1])),{status:zt,keyId:nn}}function Ln(Zt,zt){var nn={session:Zt,keyId:zt.keyId,initData:zt.initData,sessionId:zt.sessionId,sessionType:zt.sessionType,handleEvent:function(Vn){switch(Vn.type){case"keystatuseschange":In.trigger(sn.KEY_STATUSES_CHANGED,{data:this}),Vn.target.keyStatuses.forEach(function(){var Ar=pr(arguments);In.trigger(sn.INTERNAL_KEY_STATUS_CHANGED,"expired"===Ar.status?{error:new v.Z(h.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,h.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:Ar)});break;case"message":var Hn=ArrayBuffer.isView(Vn.message)?Vn.message.buffer:Vn.message;In.trigger(sn.INTERNAL_KEY_MESSAGE,{data:new An(this,Hn,void 0,Vn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Zt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Zt.expiration},getKeyStatuses:function(){return Zt.keyStatuses},getUsable:function(){var Vn=!1;return Zt.keyStatuses.forEach(function(){"usable"===pr(arguments).status&&(Vn=!0)}),Vn}};return Zt.addEventListener("keystatuseschange",nn),Zt.addEventListener("message",nn),Zt.closed.then(function(){er(nn),jt.debug("DRM: Session closed.  SessionID = "+nn.getSessionId()),In.trigger(sn.KEY_SESSION_CLOSED,{data:nn.getSessionId()})}),At.push(nn),nn}return Vt={getAllInitData:function(){for(var Zt=[],zt=0;zt<At.length;zt++)At[zt].initData&&Zt.push(At[zt].initData);return Zt},getSessions:function(){return At},requestKeySystemAccess:function(Zt){return new Promise(function(zt,nn){un(Zt,0,zt,nn)})},selectKeySystem:function(Zt){return new Promise(function(zt,nn){Zt.mksa.createMediaKeys().then(function(Vn){return ut=Zt.keySystem,ft=Vn,xt?xt.setMediaKeys(ft):Promise.resolve()}).then(function(){zt(ut)}).catch(function(){nn({error:"Error selecting keys system ("+Zt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(Zt){xt!==Zt&&(xt&&(xt.removeEventListener("encrypted",Qt),xt.setMediaKeys&&xt.setMediaKeys(null)),(xt=Zt)&&(xt.addEventListener("encrypted",Qt),xt.setMediaKeys&&ft&&xt.setMediaKeys(ft)))},setServerCertificate:function(Zt){if(!ut||!ft)throw new Error("Can not set server certificate until you have selected a key system");ft.setServerCertificate(Zt).then(function(){jt.info("DRM: License server certificate successfully updated."),In.trigger(sn.SERVER_CERTIFICATE_UPDATED)}).catch(function(zt){In.trigger(sn.SERVER_CERTIFICATE_UPDATED,{error:new v.Z(h.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,h.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+zt.name)})})},createKeySession:function(Zt){if(!ut||!ft)throw new Error("Can not create sessions until you have selected a key system");var zt=ft.createSession(Zt.sessionType),nn=Ln(zt,Zt);zt.generateRequest(ut.systemString===ge.CLEARKEY_KEYSTEM_STRING&&(Zt.initData||Zt.protData&&Zt.protData.clearkeys)?ge.INITIALIZATION_DATA_TYPE_KEYIDS:ge.INITIALIZATION_DATA_TYPE_CENC,Zt.initData).then(function(){jt.debug("DRM: Session created.  SessionID = "+nn.getSessionId()),In.trigger(sn.KEY_SESSION_CREATED,{data:nn})}).catch(function(Hn){er(nn),In.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+Hn.name)})})},updateKeySession:function(Zt,zt){var nn=Zt.session;en.isClearKey(ut)&&(zt=zt.toJWK()),nn.update(zt).then(function(){In.trigger(sn.KEY_SESSION_UPDATED)}).catch(function(Vn){In.trigger(sn.KEY_ERROR,{error:new v.Z(h.MEDIA_KEYERR_CODE,"Error sending update() message! "+Vn.name,Zt)})})},loadKeySession:function(Zt){if(!ut||!ft)throw new Error("Can not load sessions until you have selected a key system");for(var zt=Zt.sessionId,nn=0;nn<At.length;nn++)if(zt===At[nn].sessionId)return void jt.warn("DRM: Ignoring session ID because we have already seen it!");var Vn=ft.createSession(Zt.sessionType),Hn=Ln(Vn,Zt);Vn.load(zt).then(function(Ar){Ar?(jt.debug("DRM: Session loaded.  SessionID = "+Hn.getSessionId()),In.trigger(sn.KEY_SESSION_CREATED,{data:Hn})):(er(Hn),In.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+zt+")")}))}).catch(function(Ar){er(Hn),In.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+zt+")! "+Ar.name)})})},removeKeySession:function(Zt){Zt.session.remove().then(function(){jt.debug("DRM: Session removed.  SessionID = "+Zt.getSessionId()),In.trigger(sn.KEY_SESSION_REMOVED,{data:Zt.getSessionId()})},function(zt){In.trigger(sn.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Zt.getSessionId()+"). "+zt.name})})},closeKeySession:function(Zt){Dn(Zt).catch(function(zt){er(Zt),In.trigger(sn.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Zt.getSessionId()+") "+zt.name})})},stop:function(){for(var Zt,zt=0;zt<At.length;zt++)(Zt=At[zt]).getUsable()||Dn(Zt).catch(function(){er(Zt)})},reset:function(){var Zt,zt=At.length;0!==zt?function(){for(var nn=function(Hn){er(Hn),0===At.length&&(xt?(xt.removeEventListener("encrypted",Qt),xt.setMediaKeys(null).then(function(){In.trigger(sn.TEARDOWN_COMPLETE)})):In.trigger(sn.TEARDOWN_COMPLETE))},Vn=0;Vn<zt;Vn++)!function(Hn){Zt.session.closed.then(function(){nn(Hn)}),Dn(Zt).catch(function(){nn(Hn)})}(Zt=At[Vn])}():In.trigger(sn.TEARDOWN_COMPLETE)}},jt=Gt.debug.getLogger(Vt),ut=null,xt=null,ft=null,At=[],en=Xe(Sn).getInstance(),Qt={handleEvent:function(Zt){if("encrypted"===Zt.type&&Zt.initData){var zt=ArrayBuffer.isView(Zt.initData)?Zt.initData.buffer:Zt.initData;In.trigger(sn.NEED_KEY,{key:new Nn(zt,Zt.initDataType)})}}},Vt}Un[ge.PLAYREADY_KEYSTEM_STRING]=[ge.PLAYREADY_KEYSTEM_STRING,ge.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Un[ge.WIDEVINE_KEYSTEM_STRING]=[ge.WIDEVINE_KEYSTEM_STRING],Un[ge.CLEARKEY_KEYSTEM_STRING]=[ge.CLEARKEY_KEYSTEM_STRING],Dr.__dashjs_factory_name="ProtectionModel_21Jan2015";const wi=dashjs.FactoryMaker.getClassFactory(Dr);function Vr(Gt){var Vt,jt,ut,xt,ft,At,Qt,en,Sn,In=this.context,sn=(Gt=Gt||{}).eventBus,Ft=Gt.events,yn=Gt.api;function Dn(){try{for(var Ln=0;Ln<Qt.length;Ln++)er(Qt[Ln]);ut&&ut.removeEventListener(yn.needkey,en),sn.trigger(Ft.TEARDOWN_COMPLETE)}catch(Zt){sn.trigger(Ft.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Zt.message})}}function er(Ln){var Zt=Ln.session;Zt.removeEventListener(yn.error,Ln),Zt.removeEventListener(yn.message,Ln),Zt.removeEventListener(yn.ready,Ln),Zt.removeEventListener(yn.close,Ln);for(var zt=0;zt<Qt.length;zt++)if(Qt[zt]===Ln){Qt.splice(zt,1);break}Zt[yn.release]()}function pr(){var Ln=null,Zt=function(){ut.removeEventListener("loadedmetadata",Ln),ut[yn.setMediaKeys](ft),sn.trigger(Ft.VIDEO_ELEMENT_SELECTED)};ut.readyState>=1?Zt():(Ln=Zt.bind(this),ut.addEventListener("loadedmetadata",Ln))}return Vt={getAllInitData:function(){for(var Ln=[],Zt=0;Zt<Qt.length;Zt++)Ln.push(Qt[Zt].initData);return Ln},getSessions:function(){return Qt},requestKeySystemAccess:function(Ln){return new Promise(function(Zt,zt){for(var nn=!1,Vn=0;Vn<Ln.length;Vn++)for(var Hn=Ln[Vn].ks.systemString,Ar=Ln[Vn].configs,Rr=null,Fi=null,Ri=0;Ri<Ar.length;Ri++){var Yr=Ar[Ri].audioCapabilities,_i=Ar[Ri].videoCapabilities;if(Yr&&0!==Yr.length){Rr=[];for(var ii=0;ii<Yr.length;ii++)window[yn.MediaKeys].isTypeSupported(Hn,Yr[ii].contentType)&&Rr.push(Yr[ii])}if(_i&&0!==_i.length){Fi=[];for(var Zi=0;Zi<_i.length;Zi++)window[yn.MediaKeys].isTypeSupported(Hn,_i[Zi].contentType)&&Fi.push(_i[Zi])}if(!(!Rr&&!Fi||Rr&&0===Rr.length||Fi&&0===Fi.length)){nn=!0;var xa=new P(Rr,Fi),da=Sn.getKeySystemBySystemString(Hn),Gr=new Qn(da,xa);sn.trigger(Ft.KEY_SYSTEM_ACCESS_COMPLETE,{data:Gr}),Zt({data:Gr});break}}if(!nn){var ui="Key system access denied! -- No valid audio/video content configurations detected!";sn.trigger(Ft.KEY_SYSTEM_ACCESS_COMPLETE,{error:ui}),zt({error:ui})}})},selectKeySystem:function(Ln){return new Promise(function(Zt,zt){try{ft=Ln.mediaKeys=new window[yn.MediaKeys](Ln.keySystem.systemString),xt=Ln.keySystem,At=Ln,ut&&pr(),Zt(xt)}catch{zt({error:"Error selecting keys system ("+xt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Ln){ut!==Ln&&(ut&&ut.removeEventListener(yn.needkey,en),(ut=Ln)&&(ut.addEventListener(yn.needkey,en),ft&&pr()))},createKeySession:function(Ln){if(!xt||!ft||!At)throw new Error("Can not create sessions until you have selected a key system");var Zt=null;if(At.ksConfiguration.videoCapabilities&&At.ksConfiguration.videoCapabilities.length>0&&(Zt=At.ksConfiguration.videoCapabilities[0]),null===Zt&&At.ksConfiguration.audioCapabilities&&At.ksConfiguration.audioCapabilities.length>0&&(Zt=At.ksConfiguration.audioCapabilities[0]),null===Zt)throw new Error("Can not create sessions for unknown content types.");var Ar,nn=ft.createSession(Zt.contentType,new Uint8Array(Ln.initData),Ln.cdmData?new Uint8Array(Ln.cdmData):null),Vn={session:nn,keyId:(Ar=Ln).keyId,initData:Ar.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Rr){switch(Rr.type){case yn.error:sn.trigger(Ft.KEY_ERROR,{error:new v.Z(h.MEDIA_KEYERR_CODE,"KeyError",this)});break;case yn.message:var Fi=ArrayBuffer.isView(Rr.message)?Rr.message.buffer:Rr.message;sn.trigger(Ft.INTERNAL_KEY_MESSAGE,{data:new An(this,Fi,Rr.destinationURL)});break;case yn.ready:jt.debug("DRM: Key added."),sn.trigger(Ft.KEY_ADDED);break;case yn.close:jt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),sn.trigger(Ft.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}};nn.addEventListener(yn.error,Vn),nn.addEventListener(yn.message,Vn),nn.addEventListener(yn.ready,Vn),nn.addEventListener(yn.close,Vn),Qt.push(Vn),jt.debug("DRM: Session created.  SessionID = "+Vn.getSessionId()),sn.trigger(Ft.KEY_SESSION_CREATED,{data:Vn})},updateKeySession:function(Ln,Zt){var zt=Ln.session;Sn.isClearKey(xt)?zt.update(new Uint8Array(Zt.toJWK())):zt.update(new Uint8Array(Zt)),sn.trigger(Ft.KEY_SESSION_UPDATED)},closeKeySession:er,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Dn,reset:Dn},jt=Gt.debug.getLogger(Vt),ut=null,xt=null,ft=null,At=null,Qt=[],Sn=Xe(In).getInstance(),en={handleEvent:function(Ln){if(Ln.type===yn.needkey&&Ln.initData){var Zt=ArrayBuffer.isView(Ln.initData)?Ln.initData.buffer:Ln.initData;sn.trigger(Ft.NEED_KEY,{key:new Nn(Zt,"cenc")})}}},Vt}Vr.__dashjs_factory_name="ProtectionModel_3Feb2014";const uo=dashjs.FactoryMaker.getClassFactory(Vr);function Mi(Gt){var Vt,jt,ut,xt,ft,At,Qt,en,Sn,In=this.context,sn=(Gt=Gt||{}).eventBus,Ft=Gt.events,yn=Gt.api,Dn=Gt.errHandler;function er(){ut&&Zt();for(var zt=0;zt<Qt.length;zt++)pr(Qt[zt]);sn.trigger(Ft.TEARDOWN_COMPLETE)}function pr(zt){try{ut[yn.cancelKeyRequest](xt.systemString,zt.sessionId)}catch(nn){sn.trigger(Ft.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+zt.sessionId+") "+nn.message})}}function Ln(zt,nn){if(nn&&zt){for(var Vn=zt.length,Hn=0;Hn<Vn;Hn++)if(zt[Hn].sessionId==nn)return zt[Hn];return null}return null}function Zt(){ut.removeEventListener(yn.keyerror,Sn),ut.removeEventListener(yn.needkey,Sn),ut.removeEventListener(yn.keymessage,Sn),ut.removeEventListener(yn.keyadded,Sn)}return jt=Gt.debug.getLogger(Vt={getAllInitData:function(){for(var zt=[],nn=0;nn<At.length;nn++)zt.push(At[nn].initData);for(var Vn=0;Vn<Qt.length;Vn++)zt.push(Qt[Vn].initData);return zt},getSessions:function(){return Qt.concat(At)},requestKeySystemAccess:function(zt){return new Promise(function(nn,Vn){var Hn=ut;Hn||(Hn=document.createElement("video"));for(var Ar=!1,Rr=0;Rr<zt.length;Rr++)for(var Fi=zt[Rr].ks.systemString,Ri=zt[Rr].configs,Yr=null,_i=0;_i<Ri.length;_i++){var ii=Ri[_i].videoCapabilities;if(ii&&0!==ii.length){Yr=[];for(var Zi=0;Zi<ii.length;Zi++)""!==Hn.canPlayType(ii[Zi].contentType,Fi)&&Yr.push(ii[Zi])}if(Yr&&(!Yr||0!==Yr.length)){Ar=!0;var xa=new P(null,Yr),da=ft.getKeySystemBySystemString(Fi),Gr=new Qn(da,xa);sn.trigger(Ft.KEY_SYSTEM_ACCESS_COMPLETE,{data:Gr}),nn({data:Gr});break}}if(!Ar){var ui="Key system access denied! -- No valid audio/video content configurations detected!";sn.trigger(Ft.KEY_SYSTEM_ACCESS_COMPLETE,{error:ui}),Vn({error:ui})}})},selectKeySystem:function(zt){return xt=zt.keySystem,Promise.resolve(xt)},setMediaElement:function(zt){if(ut!==zt){if(ut){Zt();for(var nn=0;nn<Qt.length;nn++)pr(Qt[nn]);Qt=[]}(ut=zt)&&(ut.addEventListener(yn.keyerror,Sn),ut.addEventListener(yn.needkey,Sn),ut.addEventListener(yn.keymessage,Sn),ut.addEventListener(yn.keyadded,Sn),sn.trigger(Ft.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(zt){if(!xt)throw new Error("Can not create sessions until you have selected a key system");if(en||0===Qt.length){var nn={sessionId:null,keyId:zt.keyId,initData:zt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return At.push(nn),ut[yn.generateKeyRequest](xt.systemString,new Uint8Array(zt.initData)),nn}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(zt,nn){var Vn=zt.sessionId;if(ft.isClearKey(xt))for(var Hn=0;Hn<nn.keyPairs.length;Hn++)ut[yn.addKey](xt.systemString,nn.keyPairs[Hn].key,nn.keyPairs[Hn].keyID,Vn);else ut[yn.addKey](xt.systemString,new Uint8Array(nn),new Uint8Array(zt.initData),Vn);sn.trigger(Ft.KEY_SESSION_UPDATED)},closeKeySession:pr,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:er,reset:er}),ut=null,xt=null,At=[],Qt=[],ft=Xe(In).getInstance(),Sn={handleEvent:function(zt){var nn=null;switch(zt.type){case yn.needkey:var Vn=ArrayBuffer.isView(zt.initData)?zt.initData.buffer:zt.initData;sn.trigger(Ft.NEED_KEY,{key:new Nn(Vn,"cenc")});break;case yn.keyerror:if((nn=Ln(Qt,zt.sessionId))||(nn=Ln(At,zt.sessionId)),nn){var Hn=h.MEDIA_KEYERR_CODE,Ar="";switch(zt.errorCode.code){case 1:Hn=h.MEDIA_KEYERR_UNKNOWN_CODE,Ar+="MEDIA_KEYERR_UNKNOWN - "+h.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Hn=h.MEDIA_KEYERR_CLIENT_CODE,Ar+="MEDIA_KEYERR_CLIENT - "+h.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Hn=h.MEDIA_KEYERR_SERVICE_CODE,Ar+="MEDIA_KEYERR_SERVICE - "+h.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Hn=h.MEDIA_KEYERR_OUTPUT_CODE,Ar+="MEDIA_KEYERR_OUTPUT - "+h.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Hn=h.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ar+="MEDIA_KEYERR_HARDWARECHANGE - "+h.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Hn=h.MEDIA_KEYERR_DOMAIN_CODE,Ar+="MEDIA_KEYERR_DOMAIN - "+h.MEDIA_KEYERR_DOMAIN_MESSAGE}sn.trigger(Ft.KEY_ERROR,{error:new v.Z(Hn,Ar+="  System Code = "+zt.systemCode,nn)})}else jt.error("No session token found for key error");break;case yn.keyadded:(nn=Ln(Qt,zt.sessionId))||(nn=Ln(At,zt.sessionId)),nn?(jt.debug("DRM: Key added."),sn.trigger(Ft.KEY_ADDED,{data:nn})):jt.debug("No session token found for key added");break;case yn.keymessage:if((en=null!=zt.sessionId)?!(nn=Ln(Qt,zt.sessionId))&&At.length>0&&(nn=At.shift(),Qt.push(nn),nn.sessionId=zt.sessionId,sn.trigger(Ft.KEY_SESSION_CREATED,{data:nn})):At.length>0&&(nn=At.shift(),Qt.push(nn),0!==At.length&&Dn.error(new v.Z(h.MEDIA_KEY_MESSAGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),nn){var Rr=ArrayBuffer.isView(zt.message)?zt.message.buffer:zt.message;nn.keyMessage=Rr,sn.trigger(Ft.INTERNAL_KEY_MESSAGE,{data:new An(nn,Rr,zt.defaultURL)})}else jt.warn("No session token found for key message")}}},Vt}Mi.__dashjs_factory_name="ProtectionModel_01b";const fo=dashjs.FactoryMaker.getClassFactory(Mi);var ho=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Hi=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Ko(){var Gt,Vt=this.context;function jt(ut,xt){for(var ft=0;ft<xt.length;ft++){var At=xt[ft];if("function"==typeof ut[At[Object.keys(At)[0]]])return At}return null}return Gt={createProtectionSystem:function(ut){var xt=null,ft=Xe(Vt).getInstance();ft.setConfig({debug:ut.debug,BASE64:ut.BASE64,settings:ut.settings}),ft.initialize();var Qt,en,Sn,In,sn,Ft,At=(Sn=(en=(Qt=ut).debug).getLogger(Gt),In=Qt.eventBus,sn=Qt.errHandler,(Ft=Qt.videoModel?Qt.videoModel.getElement():null)&&void 0===Ft.onencrypted||Ft&&void 0===Ft.mediaKeys?jt(Ft,Hi)?(Sn.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),uo(Vt).create({debug:en,eventBus:In,events:Qt.events,api:jt(Ft,Hi)})):jt(Ft,ho)?(Sn.info("EME detected on this user agent! (ProtectionModel_01b)"),fo(Vt).create({debug:en,eventBus:In,errHandler:sn,events:Qt.events,api:jt(Ft,ho)})):(Sn.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(Sn.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),wi(Vt).create({debug:en,eventBus:In,events:Qt.events})));return!xt&&At&&(xt=W(Vt).create({protectionModel:At,protectionKeyController:ft,eventBus:ut.eventBus,debug:ut.debug,events:ut.events,BASE64:ut.BASE64,constants:ut.constants,cmcdModel:ut.cmcdModel,customParametersModel:ut.customParametersModel,settings:ut.settings}),ut.capabilities.setEncryptedMediaSupported(!0)),xt}}}Ko.__dashjs_factory_name="Protection";var vo=dashjs.FactoryMaker.getClassFactory(Ko);vo.events=bn,vo.errors=h,dashjs.FactoryMaker.updateClassFactory(Ko.__dashjs_factory_name,vo);const ua=vo},2068:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>P});var ve=L(5448),k={DEFAULT:.5,STRONG:1,WEAK:0};function d(w,m,S){var v,T;return T=k.DEFAULT,(v=S)!==k.DEFAULT&&v!==k.STRONG&&v!==k.WEAK||(T=v),{quality:void 0===w?-1:w,reason:void 0===m?null:m,priority:T}}d.__dashjs_factory_name="SwitchRequest";var f=ve.Z.getClassFactory(d);f.NO_CHANGE=-1,f.PRIORITY=k,ve.Z.updateClassFactory(d.__dashjs_factory_name,f);const P=f},1767:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>Q});var ve=L(5628),k=L(6535),d=L(7423),f=L(895),P=L(6070),w=L(3112),m=L(1914),S=L(5435),N=L(5448),h=L(2068),v=L(3393),T="qualitySwitchRules",G="abandonFragmentRules";function $(oe){var H,F,W=this.context,he=(oe=oe||{}).mediaPlayerModel,ce=oe.customParametersModel,ze=oe.dashMetrics,st=oe.settings;function ge(Ve){return Ve.filter(function(We){return We.quality>h.Z.NO_CHANGE})}function Rt(Ve){var We,Ne,Ue,rt,Mt,ht={},ke=null;if(0!==Ve.length){for(ht[h.Z.PRIORITY.STRONG]={quality:h.Z.NO_CHANGE,reason:null},ht[h.Z.PRIORITY.WEAK]={quality:h.Z.NO_CHANGE,reason:null},ht[h.Z.PRIORITY.DEFAULT]={quality:h.Z.NO_CHANGE,reason:null},We=0,Ne=Ve.length;We<Ne;We+=1)(Ue=Ve[We]).quality!==h.Z.NO_CHANGE&&(ht[Ue.priority].quality===h.Z.NO_CHANGE||ht[Ue.priority].quality>Ue.quality)&&(ht[Ue.priority].quality=Ue.quality,ht[Ue.priority].reason=Ue.reason||null);return ht[h.Z.PRIORITY.WEAK].quality!==h.Z.NO_CHANGE&&(ke=ht[h.Z.PRIORITY.WEAK]),ht[h.Z.PRIORITY.DEFAULT].quality!==h.Z.NO_CHANGE&&(ke=ht[h.Z.PRIORITY.DEFAULT]),ht[h.Z.PRIORITY.STRONG].quality!==h.Z.NO_CHANGE&&(ke=ht[h.Z.PRIORITY.STRONG]),ke&&(rt=ke.quality,Mt=ke.reason),(0,h.Z)(W).create(rt,Mt)}}return{initialize:function(){H=[],F=[],st.get().streaming.abr.useDefaultABRRules&&(st.get().streaming.abr.ABRStrategy===v.Z.ABR_STRATEGY_L2A?H.push((0,m.Z)(W).create({dashMetrics:ze,settings:st})):st.get().streaming.abr.ABRStrategy===v.Z.ABR_STRATEGY_LoLP?H.push((0,S.Z)(W).create({dashMetrics:ze})):(H.push((0,w.Z)(W).create({dashMetrics:ze,mediaPlayerModel:he,settings:st})),H.push((0,ve.Z)(W).create({dashMetrics:ze})),st.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&H.push((0,k.Z)(W).create({dashMetrics:ze,settings:st})),st.get().streaming.abr.additionalAbrRules.switchHistoryRule&&H.push((0,P.Z)(W).create()),st.get().streaming.abr.additionalAbrRules.droppedFramesRule&&H.push((0,f.Z)(W).create()),st.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&F.push((0,d.Z)(W).create({dashMetrics:ze,mediaPlayerModel:he,settings:st})))),ce.getAbrCustomRules().forEach(function(Ve){Ve.type===T&&H.push(Ve.rule(W).create()),Ve.type===G&&F.push(Ve.rule(W).create())})},reset:function(){[H,F].forEach(function(Ve){Ve&&Ve.length&&Ve.forEach(function(We){return We.reset&&We.reset()})}),H=[],F=[]},getMaxQuality:function(Ve){return Rt(ge(H.map(function(We){return We.getMaxIndex(Ve)})))||(0,h.Z)(W).create()},getMinSwitchRequest:Rt,shouldAbandonFragment:function(Ve,We){return Rt(ge(F.map(function(Ne){return Ne.shouldAbandon(Ve,We)})))||(0,h.Z)(W).create()},getQualitySwitchRules:function(){return H}}}$.__dashjs_factory_name="ABRRulesCollection";var ne=N.Z.getClassFactory($);ne.QUALITY_SWITCH_RULES=T,ne.ABANDON_FRAGMENT_RULES=G,N.Z.updateSingletonFactory($.__dashjs_factory_name,ne);const Q=ne},7423:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>P});var ve=L(2068),k=L(5448),d=L(6398);function f(w){var m,S,N,h,v,T=this.context,G=(w=w||{}).mediaPlayerModel,$=w.dashMetrics,ne=w.settings;function Q(){N={},h={},v=[]}return m={shouldAbandon:function(oe){var H=(0,ve.Z)(T).create(ve.Z.NO_CHANGE,{name:f.__dashjs_factory_name});if(!(oe&&oe.hasOwnProperty("getMediaInfo")&&oe.hasOwnProperty("getMediaType")&&oe.hasOwnProperty("getCurrentRequest")&&oe.hasOwnProperty("getRepresentationInfo")&&oe.hasOwnProperty("getAbrController")))return H;var F,W,gt,St,he=oe.getMediaInfo(),ce=oe.getMediaType(),ze=oe.getStreamInfo(),st=ze?ze.id:null,ge=oe.getCurrentRequest();if(!isNaN(ge.index)){W=ge.index,N[F=ce]=N[F]||{},N[F][W]=N[F][W]||{};var Rt=G.getStableBufferTime();if($.getCurrentBufferLevel(ce)>Rt)return H;var Ve=N[ce][ge.index];if(null===Ve||null===ge.firstByteDate||h.hasOwnProperty(Ve.id))return H;if(void 0===Ve.firstByteTime&&(v[ce]=[],Ve.firstByteTime=ge.firstByteDate.getTime(),Ve.segmentDuration=ge.duration,Ve.bytesTotal=ge.bytesTotal,Ve.id=ge.index),Ve.bytesLoaded=ge.bytesLoaded,Ve.elapsedTime=(new Date).getTime()-Ve.firstByteTime,Ve.bytesLoaded>0&&Ve.elapsedTime>0&&(gt=ce,St=Math.round(8*Ve.bytesLoaded/Ve.elapsedTime),v[gt]=v[gt]||[],v[gt].push(St)),v[ce].length>=5&&Ve.elapsedTime>500&&Ve.bytesLoaded<Ve.bytesTotal){var We=v[ce].reduce(function(gt,St){return gt+St},0);if(Ve.measuredBandwidthInKbps=Math.round(We/v[ce].length),Ve.estimatedTimeOfDownload=+(8*Ve.bytesTotal/Ve.measuredBandwidthInKbps/1e3).toFixed(2),Ve.estimatedTimeOfDownload<1.8*Ve.segmentDuration||0===oe.getRepresentationInfo().quality)return H;if(!h.hasOwnProperty(Ve.id)){var Ne=oe.getAbrController(),Ue=Ve.bytesTotal-Ve.bytesLoaded,rt=Ne.getBitrateList(he),Mt=Ne.getQualityForBitrate(he,Ve.measuredBandwidthInKbps*ne.get().streaming.abr.bandwidthSafetyFactor,st),ht=Ne.getMinAllowedIndexFor(ce,st),ke=void 0!==ht?Math.max(ht,Mt):Mt;Ue>Ve.bytesTotal*rt[ke].bitrate/rt[Ne.getQualityFor(ce,st)].bitrate&&(H.quality=ke,H.reason.throughput=Ve.measuredBandwidthInKbps,H.reason.fragmentID=Ve.id,H.reason.rule=this.getClassName(),h[Ve.id]=Ve,S.debug("["+ce+"] frag id",Ve.id," is asking to abandon and switch to quality to ",ke," measured bandwidth was",Ve.measuredBandwidthInKbps),delete N[ce][Ve.id])}}else Ve.bytesLoaded===Ve.bytesTotal&&delete N[ce][Ve.id]}return H},reset:Q},S=(0,d.Z)(T).getInstance().getLogger(m),Q(),m}f.__dashjs_factory_name="AbandonRequestsRule";const P=k.Z.getClassFactory(f)},3112:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>T});var ve=L(3860),k=L(2068),d=L(5448),f=L(7855),P=L(5595),w=L(8512),m=L(6398),S=L(8825),N=L(3393),h=10;function v(G){var $,ne,Q,oe=this.context,H=(G=G||{}).dashMetrics,F=G.mediaPlayerModel,W=(0,P.Z)(oe).getInstance();function he(ke,gt,St){var Ye=St.reduce(function(Ce,at,E){return at>St[Ce]?E:Ce},0);if(0===Ye)return null;var yt=Math.max(ke,h+2*gt.length),me=(St[Ye]-1)/(yt/h-1);return{gp:me,Vp:h/me}}function ce(ke){ke.placeholderBuffer=0,ke.mostAdvancedSegmentStart=NaN,ke.lastSegmentWasReplacement=!1,ke.lastSegmentStart=NaN,ke.lastSegmentDurationS=NaN,ke.lastSegmentRequestTimeMs=NaN,ke.lastSegmentFinishTimeMs=NaN}function ze(ke,gt){var St=F.getStableBufferTime();if(ke.stableBufferTime!==St){var Ye=he(St,ke.bitrates,ke.utilities);if(Ye.Vp!==ke.Vp||Ye.gp!==ke.gp){var yt=H.getCurrentBufferLevel(gt),me=yt+ke.placeholderBuffer;me-=h,me*=Ye.Vp/ke.Vp,me+=h,ke.stableBufferTime=St,ke.Vp=Ye.Vp,ke.gp=Ye.gp,ke.placeholderBuffer=Math.max(0,me-yt)}}}function st(ke,gt){return ke.Vp*(ke.utilities[gt]+ke.gp)}function ge(ke,gt){for(var St=ke.bitrates[gt],Ye=ke.utilities[gt],yt=0,me=gt-1;me>=0;--me)if(ke.utilities[me]<ke.utilities[gt]){var Ce=ke.bitrates[me];yt=Math.max(yt,ke.Vp*(ke.gp+(St*ke.utilities[me]-Ce*Ye)/(St-Ce)))}return yt}function Rt(ke){var gt=ke.mediaType===N.Z.AUDIO?[N.Z.AUDIO]:Q;for(var St in gt)Q.hasOwnProperty(St)&&2===Q[St].state&&(Q[St].placeholderBuffer=0)}function Ve(){for(var ke in Q)if(Q.hasOwnProperty(ke)){var gt=Q[ke];0!==gt.state&&(gt.state=1,ce(gt))}}function We(ke){if(ke&&ke.chunk&&ke.chunk.mediaInfo){var gt=Q[ke.chunk.mediaInfo.type];if(gt&&0!==gt.state){var St=ke.chunk.start;isNaN(gt.mostAdvancedSegmentStart)||St>gt.mostAdvancedSegmentStart?(gt.mostAdvancedSegmentStart=St,gt.lastSegmentWasReplacement=!1):gt.lastSegmentWasReplacement=!0,gt.lastSegmentStart=St,gt.lastSegmentDurationS=ke.chunk.duration,gt.lastQuality=ke.chunk.quality,Ue(gt,ke.chunk.mediaInfo.type)}}}function Ne(ke){if(ke&&ke.metric===ve.Z.HTTP_REQUEST&&ke.value&&ke.value.type===f.w.MEDIA_SEGMENT_TYPE&&ke.value.trace&&ke.value.trace.length){var gt=Q[ke.mediaType];gt&&0!==gt.state&&(gt.lastSegmentRequestTimeMs=ke.value.trequest.getTime(),gt.lastSegmentFinishTimeMs=ke.value._tfinish.getTime(),Ue(gt,ke.mediaType))}}function Ue(ke,gt){if(!isNaN(ke.lastSegmentStart)&&!isNaN(ke.lastSegmentRequestTimeMs)&&!isNaN(ke.placeholderBuffer)){if(ke.placeholderBuffer*=.99,!isNaN(ke.lastSegmentFinishTimeMs)){var St=H.getCurrentBufferLevel(gt)+.001*(ke.lastSegmentFinishTimeMs-ke.lastSegmentRequestTimeMs),Ye=st(ke,ke.lastQuality),yt=Math.max(0,Ye-St);ke.placeholderBuffer=Math.min(yt,ke.placeholderBuffer)}ke.lastSegmentWasReplacement&&!isNaN(ke.lastSegmentDurationS)&&(ke.placeholderBuffer+=ke.lastSegmentDurationS),ke.lastSegmentStart=NaN,ke.lastSegmentRequestTimeMs=NaN}}function rt(ke){if(ke){var gt=Q[ke.mediaType];gt&&0!==gt.state&&(gt.abrQuality=ke.newQuality)}}function Mt(ke){if(ke){var gt=Q[ke.mediaType];if(gt&&0!==gt.state){var St,Ye=H.getCurrentBufferLevel(ke.mediaType);St=gt.abrQuality>0?ge(gt,gt.abrQuality):h;var yt=Math.max(0,St-Ye);gt.placeholderBuffer=Math.min(gt.placeholderBuffer,yt)}}}function ht(){Q={}}return $={getMaxIndex:function(ke){var gt=(0,k.Z)(oe).create();if(!(ke&&ke.hasOwnProperty("getMediaInfo")&&ke.hasOwnProperty("getMediaType")&&ke.hasOwnProperty("getScheduleController")&&ke.hasOwnProperty("getStreamInfo")&&ke.hasOwnProperty("getAbrController")&&ke.hasOwnProperty("useBufferOccupancyABR")))return gt;var St=ke.getMediaInfo(),Ye=ke.getMediaType(),yt=ke.getScheduleController(),me=ke.getStreamInfo(),Ce=ke.getAbrController(),at=Ce.getThroughputHistory(),E=me?me.id:null,_=me&&me.manifestInfo&&me.manifestInfo.isDynamic,x=ke.useBufferOccupancyABR();if(gt.reason=gt.reason||{},!x)return gt;yt.setTimeToLoadDelay(0);var it,Ie,Xe,M=(Ie=(it=ke).getMediaType(),(Xe=Q[Ie])?0!==Xe.state&&ze(Xe,Ie):(Xe=function($e){var Tt={},Ot=$e.getMediaInfo().bitrateList.map(function(An){return An.bandwidth}),on=Ot.map(function(Qn){return Math.log(Qn)});on=on.map(function(An){return An-on[0]+1});var bn=F.getStableBufferTime(),Nn=he(bn,Ot,on);return Nn?(Tt.state=1,Tt.bitrates=Ot,Tt.utilities=on,Tt.stableBufferTime=bn,Tt.Vp=Nn.Vp,Tt.gp=Nn.gp,Tt.lastQuality=0,ce(Tt)):Tt.state=0,Tt}(it),Q[Ie]=Xe),Xe);if(0===M.state)return gt;var fe,se=H.getCurrentBufferLevel(Ye),De=at.getAverageThroughput(Ye,_),Ge=at.getSafeAverageThroughput(Ye,_),Ke=at.getAverageLatency(Ye);if(gt.reason.state=M.state,gt.reason.throughput=De,gt.reason.latency=Ke,isNaN(De))return gt;switch(M.state){case 1:fe=Ce.getQualityForBitrate(St,Ge,E,Ke),gt.quality=fe,gt.reason.throughput=Ge,M.placeholderBuffer=Math.max(0,ge(M,fe)-se),M.lastQuality=fe,!isNaN(M.lastSegmentDurationS)&&se>=M.lastSegmentDurationS&&(M.state=2);break;case 2:(function(it,Ie){var Xe=Date.now();isNaN(it.lastSegmentFinishTimeMs)?isNaN(it.lastCallTimeMs)||(it.placeholderBuffer+=Math.max(0,.001*(Xe-it.lastCallTimeMs))):it.placeholderBuffer+=Math.max(0,.001*(Xe-it.lastSegmentFinishTimeMs)),it.lastCallTimeMs=Xe,it.lastSegmentStart=NaN,it.lastSegmentRequestTimeMs=NaN,it.lastSegmentFinishTimeMs=NaN,ze(it,Ie)})(M,Ye),fe=function(it,Ie){for(var Xe=it.bitrates.length,$e=NaN,Tt=NaN,Ot=0;Ot<Xe;++Ot){var on=(it.Vp*(it.utilities[Ot]+it.gp)-Ie)/it.bitrates[Ot];(isNaN(Tt)||on>=Tt)&&(Tt=on,$e=Ot)}return $e}(M,se+M.placeholderBuffer);var Fe=Ce.getQualityForBitrate(St,Ge,E,Ke);fe>M.lastQuality&&fe>Fe&&(fe=Math.max(Fe,M.lastQuality));var tt=Math.max(0,se+M.placeholderBuffer-st(M,fe));tt<=M.placeholderBuffer?(M.placeholderBuffer-=tt,tt=0):(tt-=M.placeholderBuffer,M.placeholderBuffer=0,fe<Ce.getMaxAllowedIndexFor(Ye,E)?yt.setTimeToLoadDelay(1e3*tt):tt=0),gt.quality=fe,gt.reason.throughput=De,gt.reason.latency=Ke,gt.reason.bufferLevel=se,gt.reason.placeholderBuffer=M.placeholderBuffer,gt.reason.delay=tt,M.lastQuality=fe;break;default:ne.debug("BOLA ABR rule invoked in bad state."),gt.quality=Ce.getQualityForBitrate(St,Ge,E,Ke),gt.reason.state=M.state,gt.reason.throughput=Ge,gt.reason.latency=Ke,M.state=1,ce(M)}return gt},reset:function(){ht(),W.off(S.Z.BUFFER_EMPTY,Rt,$),W.off(S.Z.PLAYBACK_SEEKING,Ve,$),W.off(S.Z.METRIC_ADDED,Ne,$),W.off(S.Z.QUALITY_CHANGE_REQUESTED,rt,$),W.off(S.Z.FRAGMENT_LOADING_ABANDONED,Mt,$),W.off(w.Z.MEDIA_FRAGMENT_LOADED,We,$)}},ne=(0,m.Z)(oe).getInstance().getLogger($),ht(),W.on(S.Z.BUFFER_EMPTY,Rt,$),W.on(S.Z.PLAYBACK_SEEKING,Ve,$),W.on(S.Z.METRIC_ADDED,Ne,$),W.on(S.Z.QUALITY_CHANGE_REQUESTED,rt,$),W.on(S.Z.FRAGMENT_LOADING_ABANDONED,Mt,$),W.on(w.Z.MEDIA_FRAGMENT_LOADED,We,$),$}v.__dashjs_factory_name="BolaRule";const T=d.Z.getClassFactory(v)},895:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>P});var ve=L(5448),k=L(2068),d=L(6398);function f(){var w,m,S=this.context;return w={getMaxIndex:function(N){var h=(0,k.Z)(S).create();if(!N||!N.hasOwnProperty("getDroppedFramesHistory"))return h;var v=N.getDroppedFramesHistory(),T=N.getStreamInfo().id;if(v){var G=v.getFrameHistory(T);if(!G||0===G.length)return h;for(var $=0,ne=0,Q=k.Z.NO_CHANGE,oe=1;oe<G.length;oe++)if(G[oe]&&($=G[oe].droppedVideoFrames,(ne=G[oe].totalVideoFrames)>375&&$/ne>.15)){m.debug("index: "+(Q=oe-1)+" Dropped Frames: "+$+" Total Frames: "+ne);break}return(0,k.Z)(S).create(Q,{droppedFrames:$})}return h}},m=(0,d.Z)(S).getInstance().getLogger(w),w}f.__dashjs_factory_name="DroppedFramesRule";const P=ve.Z.getClassFactory(f)},6535:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>h});var ve=L(5595),k=L(8512),d=L(5448),f=L(6398),P=L(2068),w=L(3393),m=L(3860),S=L(8825);function N(v){v=v||{};var T,G,$,ne=this.context,Q=(0,ve.Z)(ne).getInstance(),oe=v.dashMetrics;function H(){($={})[w.Z.VIDEO]={ignoreCount:2},$[w.Z.AUDIO]={ignoreCount:2}}function F(){H()}function W(he){isNaN(he.startTime)||he.mediaType!==w.Z.AUDIO&&he.mediaType!==w.Z.VIDEO||$[he.mediaType].ignoreCount>0&&$[he.mediaType].ignoreCount--}return T={getMaxIndex:function(he){var ce=(0,P.Z)(ne).create();if(!he||!he.hasOwnProperty("getMediaType"))return ce;!function(){if(!oe||!oe.hasOwnProperty("getCurrentBufferLevel")||!oe.hasOwnProperty("getCurrentBufferState"))throw new Error(w.Z.MISSING_CONFIG_ERROR)}();var ze=he.getMediaType(),st=oe.getCurrentBufferState(ze),ge=he.getRepresentationInfo().fragmentDuration,Rt=he.getStreamInfo(),Ve=Rt?Rt.id:null,We=he.getScheduleController(),Ne=Rt&&Rt.manifestInfo&&Rt.manifestInfo.isDynamic;if(!We.getPlaybackController().getLowLatencyModeEnabled()&&$[ze].ignoreCount>0||!ge)return ce;if(st&&st.state===m.Z.BUFFER_EMPTY)G.debug("["+ze+"] Switch to index 0; buffer is empty."),ce.quality=0,ce.reason="InsufficientBufferRule: Buffer is empty";else{var Ue=he.getMediaInfo(),rt=he.getAbrController(),Mt=rt.getThroughputHistory(),ht=oe.getCurrentBufferLevel(ze),ke=Mt.getAverageThroughput(ze,Ne),gt=Mt.getAverageLatency(ze);ce.quality=rt.getQualityForBitrate(Ue,ke*(ht/ge)*.5,Ve,gt),ce.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ce},reset:function(){H(),Q.off(S.Z.PLAYBACK_SEEKING,F,T),Q.off(k.Z.BYTES_APPENDED_END_FRAGMENT,W,T)}},G=(0,f.Z)(ne).getInstance().getLogger(T),H(),Q.on(S.Z.PLAYBACK_SEEKING,F,T),Q.on(k.Z.BYTES_APPENDED_END_FRAGMENT,W,T),T}N.__dashjs_factory_name="InsufficientBufferRule";const h=d.Z.getClassFactory(N)},1914:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>h});var ve=L(3860),k=L(2068),d=L(5448),f=L(7855),P=L(5595),w=L(8512),m=L(6398),S=L(3393);function N(v){var T,G,$,ne,Q=this.context,oe=(v=v||{}).dashMetrics,H=(0,P.Z)(Q).getInstance();function F(Ve){Ve.placeholderBuffer=0,Ve.mostAdvancedSegmentStart=NaN,Ve.lastSegmentWasReplacement=!1,Ve.lastSegmentStart=NaN,Ve.lastSegmentDurationS=NaN,Ve.lastSegmentRequestTimeMs=NaN,Ve.lastSegmentFinishTimeMs=NaN}function W(){for(var Ve in G)if(G.hasOwnProperty(Ve)){var We=G[Ve];0!==We.state&&(We.state=1,F(We))}}function he(Ve){if(Ve&&Ve.chunk&&Ve.chunk.mediaInfo){var We=G[Ve.chunk.mediaInfo.type],Ne=$[Ve.chunk.mediaInfo.type];if(We&&0!==We.state){var Ue=Ve.chunk.start;isNaN(We.mostAdvancedSegmentStart)||Ue>We.mostAdvancedSegmentStart?(We.mostAdvancedSegmentStart=Ue,We.lastSegmentWasReplacement=!1):We.lastSegmentWasReplacement=!0,We.lastSegmentStart=Ue,We.lastSegmentDurationS=Ve.chunk.duration,We.lastQuality=Ve.chunk.quality,ze(We,Ne)}}}function ce(Ve){if(Ve&&Ve.metric===ve.Z.HTTP_REQUEST&&Ve.value&&Ve.value.type===f.w.MEDIA_SEGMENT_TYPE&&Ve.value.trace&&Ve.value.trace.length){var We=G[Ve.mediaType],Ne=$[Ve.mediaType];We&&0!==We.state&&(We.lastSegmentRequestTimeMs=Ve.value.trequest.getTime(),We.lastSegmentFinishTimeMs=Ve.value._tfinish.getTime(),ze(We,Ne))}}function ze(Ve,We){isNaN(Ve.lastSegmentStart)||isNaN(Ve.lastSegmentRequestTimeMs)||(We.segment_request_start_s=.001*Ve.lastSegmentRequestTimeMs,We.segment_download_finish_s=.001*Ve.lastSegmentFinishTimeMs,Ve.lastSegmentStart=NaN,Ve.lastSegmentRequestTimeMs=NaN)}function st(Ve){if(Ve&&Ve.mediaType){var We=G[Ve.mediaType];We&&0!==We.state&&(We.abrQuality=Ve.newQuality)}}function ge(Ve,We){if(Ve.length!==We.length)return-1;for(var Ne=0,Ue=0;Ue<Ve.length;Ue++)Ne+=Ve[Ue]*We[Ue];return Ne}function Rt(){G={},$={}}return T={getMaxIndex:function(Ve){var We,Ne=(0,k.Z)(Q).create(),Ue=Math.pow(4,.99),rt=Math.max(Math.pow(4,1),Ue*Math.sqrt(4)),Mt=Ve.getMediaInfo(),ht=Ve.getMediaType(),ke=Mt.bitrateList.map(function(bn){return bn.bandwidth}),gt=ke.length,St=Ve.getScheduleController(),Ye=Ve.getStreamInfo(),yt=Ve.getAbrController(),me=yt.getThroughputHistory(),Ce=Ye&&Ye.manifestInfo&&Ye.manifestInfo.isDynamic,at=Ve.useL2AABR(),E=oe.getCurrentBufferLevel(ht,!0),_=me.getSafeAverageThroughput(ht,Ce),x=me.getAverageThroughput(ht,Ce),M=me.getAverageLatency(ht),fe=Ve.getVideoModel().getPlaybackRate();if(!(Ve&&Ve.hasOwnProperty("getMediaInfo")&&Ve.hasOwnProperty("getMediaType")&&Ve.hasOwnProperty("getScheduleController")&&Ve.hasOwnProperty("getStreamInfo")&&Ve.hasOwnProperty("getAbrController")&&Ve.hasOwnProperty("useL2AABR")&&(Ne.reason=Ne.reason||{},at&&ht!==S.Z.AUDIO)))return Ne;St.setTimeToLoadDelay(0);var bn,Vr,Un,Dr,wi,Nn,An,se=(Nn=(bn=Ve).getMediaType(),(An=G[Nn])||(Un={},wi=(Dr=bn.getMediaInfo()).bitrateList.map(function(Vr){return Vr.bandwidth/1e3}),Un.state=1,Un.bitrates=wi,Un.lastQuality=0,(Vr=Dr)&&Vr.type&&($[Vr.type]={},$[Vr.type].w=[],$[Vr.type].prev_w=[],$[Vr.type].Q=0,$[Vr.type].segment_request_start_s=0,$[Vr.type].segment_download_finish_s=0,$[Vr.type].B_target=1.5),F(Un),G[Nn]=An=Un),An);if(0===se.state)return Ne;var De=$[ht];if(!De||(Ne.reason.state=se.state,Ne.reason.throughput=x,Ne.reason.latency=M,isNaN(x)))return Ne;switch(se.state){case 1:if(We=yt.getQualityForBitrate(Mt,_,Ye.id,M),Ne.quality=We,Ne.reason.throughput=_,se.lastQuality=We,!isNaN(se.lastSegmentDurationS)&&E>=De.B_target){se.state=2,De.Q=Ue;for(var Ge=0;Ge<gt;++Ge)De.prev_w[Ge]=Ge===se.lastQuality?1:0}break;case 2:var Ke=[],Fe=oe.getCurrentHttpRequest(ht).trace.reduce(function(bn,Nn){return bn+Nn.d},0),tt=oe.getCurrentHttpRequest(ht).trace.reduce(function(bn,Nn){return bn+Nn.b[0]},0),it=Math.round(8*tt/Fe);it<1&&(it=1);for(var Ie=se.lastSegmentDurationS,Xe=1,$e=0;$e<gt;++$e)ke[$e]=ke[$e]/1e3,fe*ke[$e]>it&&(Xe=-1),De.w[$e]=De.prev_w[$e]+Xe*(Ie/(2*rt))*((De.Q+Ue)*(fe*ke[$e]/it));De.w=function(bn){for(var Nn=bn.length,An=!1,Qn=[],Un=0;Un<Nn;++Un)Qn[Un]=bn[Un];for(var Dr=bn.sort(function(ho,Hi){return Hi-ho}),wi=0,Vr=0,uo=[],Mi=0;Mi<Nn-1;++Mi)if((Vr=((wi+=Dr[Mi])-1)/(Mi+1))>=Dr[Mi+1]){An=!0;break}An||(Vr=(wi+Dr[Nn-1]-1)/Nn);for(var fo=0;fo<Nn;++fo)uo[fo]=Math.max(Qn[fo]-Vr,0);return uo}(De.w);for(var Tt=0;Tt<gt;++Tt)Ke[Tt]=De.w[Tt]-De.prev_w[Tt],De.prev_w[Tt]=De.w[Tt];De.Q=Math.max(0,De.Q-Ie+Ie*fe*((ge(ke,De.prev_w)+ge(ke,Ke))/it));for(var Ot=[],on=0;on<gt;++on)Ot[on]=Math.abs(ke[on]-ge(De.w,ke));(We=Ot.indexOf(Math.min.apply(Math,Ot)))>se.lastQuality&&ke[se.lastQuality+1]<=it&&(We=se.lastQuality+1),ke[We]>=it&&(De.Q=2*Math.max(Ue,De.Q)),Ne.quality=We,Ne.reason.throughput=x,Ne.reason.latency=M,Ne.reason.bufferLevel=E,se.lastQuality=Ne.quality;break;default:ne.debug("L2A ABR rule invoked in bad state."),Ne.quality=yt.getQualityForBitrate(Mt,_,Ye.id,M),Ne.reason.state=se.state,Ne.reason.throughput=_,Ne.reason.latency=M,se.state=1,F(se)}return Ne},reset:function(){Rt(),H.off(w.Z.PLAYBACK_SEEKING,W,T),H.off(w.Z.MEDIA_FRAGMENT_LOADED,he,T),H.off(w.Z.METRIC_ADDED,ce,T),H.off(w.Z.QUALITY_CHANGE_REQUESTED,st,T)}},ne=(0,m.Z)(Q).getInstance().getLogger(T),Rt(),H.on(w.Z.PLAYBACK_SEEKING,W,T),H.on(w.Z.MEDIA_FRAGMENT_LOADED,he,T),H.on(w.Z.METRIC_ADDED,ce,T),H.on(w.Z.QUALITY_CHANGE_REQUESTED,st,T),T}N.__dashjs_factory_name="L2ARule";const h=d.Z.getClassFactory(N)},6070:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>P});var ve=L(5448),k=L(6398),d=L(2068);function f(){var w,m,S=this.context;return w={getMaxIndex:function(N){for(var h=N?N.getSwitchHistory():null,v=h?h.getSwitchRequests():[],T=0,G=0,$=0,ne=(0,d.Z)(S).create(),Q=0;Q<v.length;Q++)if(void 0!==v[Q]&&($+=v[Q].dropSize,(T+=v[Q].drops)+(G+=v[Q].noDrops)>=6&&T/G>.075)){ne.quality=Q>0&&v[Q].drops>0?Q-1:Q,ne.reason={index:ne.quality,drops:T,noDrops:G,dropSize:$},m.debug("Switch history rule index: "+ne.quality+" samples: "+(T+G)+" drops: "+T);break}return ne}},m=(0,k.Z)(S).getInstance().getLogger(w),w}f.__dashjs_factory_name="SwitchHistoryRule";const P=ve.Z.getClassFactory(f)},5628:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>w});var ve=L(5448),k=L(2068),d=L(3393),f=L(3860);function P(m){var S=this.context,N=(m=m||{}).dashMetrics;return{getMaxIndex:function(h){var v=(0,k.Z)(S).create();if(!(h&&h.hasOwnProperty("getMediaInfo")&&h.hasOwnProperty("getMediaType")&&h.hasOwnProperty("useBufferOccupancyABR")&&h.hasOwnProperty("getAbrController")&&h.hasOwnProperty("getScheduleController")))return v;!function(){if(!N||!N.hasOwnProperty("getCurrentBufferState"))throw new Error(d.Z.MISSING_CONFIG_ERROR)}();var T=h.getMediaInfo(),G=h.getMediaType(),$=N.getCurrentBufferState(G),ne=h.getScheduleController(),Q=h.getAbrController(),oe=h.getStreamInfo(),H=oe?oe.id:null,F=oe&&oe.manifestInfo?oe.manifestInfo.isDynamic:null,W=Q.getThroughputHistory(),he=W.getSafeAverageThroughput(G,F),ce=W.getAverageLatency(G),ze=h.useBufferOccupancyABR();return isNaN(he)||!$||ze||Q.getAbandonmentStateFor(H,G)!==f.Z.ABANDON_LOAD&&($.state===f.Z.BUFFER_LOADED||F)&&(v.quality=Q.getQualityForBitrate(T,he,H,ce),ne.setTimeToLoadDelay(0),v.reason={throughput:he,latency:ce}),v},reset:function(){}}}P.__dashjs_factory_name="ThroughputRule";const w=ve.Z.getClassFactory(P)},4722:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f});var ve=L(5448),k=L(6398);function d(){var P,w,m,S,N,h,v,T,G;function ne(){m=null,S=1,N=100,h=0,v=null,T=null,G="dynamic_weight_selection"}function Q(){var he=0;if(m)for(var ce=0;ce<m.length;ce++){var ze=m[ce];ze.state.throughput>he&&(he=ze.state.throughput)}return he}function oe(he,ce,ze){var st=he.map(function(ge,Rt){return ze[Rt]*Math.pow(ge-ce[Rt],2)}).reduce(function(ge,Rt){return ge+Rt});return(st<0?-1:1)*Math.sqrt(Math.abs(st))}function H(he,ce){return oe([he.state.throughput,he.state.latency,he.state.rebuffer,he.state.switch],[ce.state.throughput,ce.state.latency,ce.state.rebuffer,ce.state.switch],[1,1,1,1])}function F(he,ce,ze){for(var st=0;st<ce.length;st++){var ge=ce[st],Rt=H(ge,he);W(ge,ze,Math.exp(-1*Math.pow(Rt,2)/(2*Math.pow(.1,2))))}}function W(he,ce,ze){var st=he.state,ge=[.01,.01,.01,.01];st.throughput=st.throughput+(ce[0]-st.throughput)*ge[0]*ze,st.latency=st.latency+(ce[1]-st.latency)*ge[1]*ze,st.rebuffer=st.rebuffer+(ce[2]-st.rebuffer)*ge[2]*ze,st.switch=st.switch+(ce[3]-st.switch)*ge[3]*ze}return P={getNextQuality:function(he,ce,ze,st,ge,Rt,Ve){var We=ze,Ne=st,Ue=ce,rt=function(De){if(!m){m=[];var Ge=De.bitrateList,Ke=[];h=Ge[0].bandwidth,Ge.forEach(function(Ie){Ke.push(Ie.bandwidth),Ie.bandwidth<h&&(h=Ie.bandwidth)}),it=Ke.map(function(Ie){return Math.pow(Ie,2)}).reduce(function(Ie,Xe){return Ie+Xe}),S=Math.sqrt(it);for(var Fe=0;Fe<Ge.length;Fe++)m.push({qualityIndex:Fe,bitrate:Ge[Fe].bandwidth,state:{throughput:Ge[Fe].bandwidth/S,latency:0,rebuffer:0,switch:0}});T=function(Ie){var Xe=[],$e=function(Gt){for(var Vt=[],jt=0;jt<Gt;jt++){var ut=[Math.random()*Q(),Math.random(),Math.random(),Math.random()];Vt.push(ut)}return Vt}(Math.pow(Ie.length,2));Xe.push($e[0]);for(var Tt=[1,1,1,1],Ot=1;Ot<Ie.length;Ot++){for(var on=null,bn=null,Nn=0;Nn<$e.length;Nn++){for(var An=$e[Nn],Qn=null,Un=0;Un<Xe.length;Un++){var Dr=oe(An,Xe[Un],Tt);(null===Qn||Dr<Qn)&&(Qn=Dr)}(null===bn||Qn>bn)&&(on=An,bn=Qn)}Xe.push(on)}for(var wi=null,Vr=null,uo=0;uo<Xe.length;uo++){for(var Mi=0,fo=0;fo<Xe.length;fo++)uo!==fo&&(Mi+=oe(Xe[uo],Xe[fo],Tt));(null===wi||Mi>wi)&&(wi=Mi,Vr=uo)}var ho=[];for(ho.push(Xe[Vr]),Xe.splice(Vr,1);Xe.length>0;){for(var Hi=null,Ko=null,vo=0;vo<Xe.length;vo++){var ua=oe(ho[0],Xe[vo],Tt);(null===Hi||ua<Hi)&&(Hi=ua,Ko=vo)}ho.push(Xe[Ko]),Xe.splice(Ko,1)}return ho}(m)}var it;return m}(he),Mt=ce/S;Mt>1&&(Mt=Q()),ze/=N,w.debug("getNextQuality called throughput:".concat(Mt," latency:").concat(ze," bufferSize:").concat(st," currentQualityIndex:").concat(Rt," playbackRate:").concat(ge));var ht=rt[Rt],ke=ht.bitrate*Ve.getSegmentDuration()/Ue,gt=Math.max(0,ke-Ne);if(Ne-ke<Ve.getMinBuffer())return w.debug("Buffer is low for bitrate= ".concat(ht.bitrate," downloadTime=").concat(ke," currentBuffer=").concat(Ne," rebuffer=").concat(gt)),function(De,Ge){var Ke=0,Fe=De;if(m)for(var tt=0;tt<m.length;tt++){var it=m[tt];it.bitrate<De.bitrate&&it.bitrate>Ke&&Ge>it.bitrate&&(Ke=it.bitrate,Fe=it)}return Fe}(ht,Ue).qualityIndex;switch(G){case"manual_weight_selection":v=[.4,.4,.4,.4];break;case"random_weight_selection":v=function(Ge,Ke){for(var Fe=[],tt=Math.sqrt(2/Ge),it=0;it<4;it++)Fe.push(Math.random()*tt);return v=Fe}(rt.length);break;default:!function(De,Ge,Ke,Fe,tt,it,Ie){v||(v=T[T.length-1]);var Xe=De.findWeightVector(Ge,Ke,Fe,tt,it,Ie);null!==Xe&&-1!==Xe&&(v=Xe)}(Ve,rt,We,Ne,gt,Ue,ge)}for(var St=null,Ye=null,yt=null,me=0;me<rt.length;me++){var Ce=rt[me],at=Ce.state,E=[at.throughput,at.latency,at.rebuffer,at.switch],_=v.slice(),x=Ve.getNextBufferWithBitrate(Ce.bitrate,Ne,Ue),M=x<Ve.getMinBuffer();M&&w.debug("Buffer is low for bitrate=".concat(Ce.bitrate," downloadTime=").concat(ke," currentBuffer=").concat(Ne," nextBuffer=").concat(x)),(Ce.bitrate>ce-1e4||M)&&Ce.bitrate!==h&&(_[0]=100);var fe=oe(E,[Mt,0,0,0],_);(null===St||fe<St)&&(St=fe,Ye=Ce.qualityIndex,yt=Ce)}var se=Math.abs(ht.bitrate-yt.bitrate)/S;return F(ht,rt,[Mt,ze,gt,se]),F(yt,rt,[Mt,0,0,se]),Ye},reset:function(){ne()}},w=(0,k.Z)(this.context).getInstance().getLogger(P),ne(),P}d.__dashjs_factory_name="LearningAbrController";const f=ve.Z.getClassFactory(d)},5317:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f});var ve=L(5448),k=L(2298);function d(){var P,w,m,S,N;function h(){w=null,m=null,S=null,N=null}function v(G,$,ne,Q){var oe=new k.Z;return oe.type=G,oe.weights.bitrateReward=$||1,oe.weights.bitrateSwitchPenalty=1,oe.weights.rebufferPenalty=ne||1e3,oe.weights.latencyPenalty=[],oe.weights.latencyPenalty.push({threshold:1.1,penalty:.05*Q}),oe.weights.latencyPenalty.push({threshold:1e8,penalty:.1*ne}),oe.weights.playbackSpeedPenalty=Q||200,oe}function T(G,$,ne,Q,oe){oe.bitrateWSum+=oe.weights.bitrateReward*G,oe.lastBitrate&&(oe.bitrateSwitchWSum+=oe.weights.bitrateSwitchPenalty*Math.abs(G-oe.lastBitrate)),oe.lastBitrate=G,oe.rebufferWSum+=oe.weights.rebufferPenalty*$;for(var H=0;H<oe.weights.latencyPenalty.length;H++){var F=oe.weights.latencyPenalty[H];if(ne<=F.threshold){oe.latencyWSum+=F.penalty*ne;break}}oe.playbackSpeedWSum+=oe.weights.playbackSpeedPenalty*Math.abs(1-Q),oe.totalQoe=oe.bitrateWSum-oe.bitrateSwitchWSum-oe.rebufferWSum-oe.latencyWSum-oe.playbackSpeedWSum}return P={setupPerSegmentQoe:function(G,$,ne){w=v("segment",G,$,ne),m=G,S=$,N=ne},logSegmentMetrics:function(G,$,ne,Q){w&&T(G,$,ne,Q,w)},getPerSegmentQoe:function(){return w},calculateSingleUseQoe:function(G,$,ne,Q){var oe=null;return m&&S&&N&&(oe=v("segment",m,S,N)),oe?(T(G,$,ne,Q,oe),oe.totalQoe):0},reset:function(){h()}},h(),P}d.__dashjs_factory_name="LoLpQoeEvaluator";const f=ve.Z.getClassFactory(d)},5435:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>h});var ve=L(6398),k=L(5448),d=L(4722),f=L(5317),P=L(2068),w=L(3860),m=L(6523),S=L(3393);function N(v){var T,G,$,ne,Q=(v=v||{}).dashMetrics,oe=this.context;return G={getMaxIndex:function(H){try{var F=(0,P.Z)(oe).create(),W=H.getMediaInfo().type,he=H.getAbrController(),ce=H.getStreamInfo(),ze=he.getQualityFor(W,ce.id),st=H.getMediaInfo(),ge=Q.getCurrentBufferState(W),Rt=H.getScheduleController(),Ve=Q.getCurrentBufferLevel(W,!0),We=ce&&ce.manifestInfo?ce.manifestInfo.isDynamic:null,Ne=Rt.getPlaybackController(),Ue=Ne.getCurrentLiveLatency();if(!H.useLoLPABR()||W===S.Z.AUDIO)return F;Ue||(Ue=0);var rt=Ne.getPlaybackRate(),Mt=he.getThroughputHistory().getSafeAverageThroughput(W,We);if(T.debug("Throughput ".concat(Math.round(Mt)," kbps")),isNaN(Mt)||!ge||he.getAbandonmentStateFor(ce.id,W)===w.Z.ABANDON_LOAD)return F;for(var ht=st.bitrateList,ke=H.getRepresentationInfo().fragmentDuration,gt=ht[0].bandwidth/1e3,St=ht[ht.length-1].bandwidth/1e3,Ye=0;Ye<ht.length;Ye++){var yt=ht[Ye].bandwidth/1e3;yt>St?St=yt:yt<gt&&(gt=yt)}var me=ht[ze].bandwidth/1e3,Ce=Q.getCurrentHttpRequest(W,!0),at=(Ce.tresponse.getTime()-Ce.trequest.getTime())/1e3,E=at>ke?at-ke:0;ne.setupPerSegmentQoe(ke,St,gt),ne.logSegmentMetrics(me,E,Ue,rt);var _=(0,m.Z)(oe).create({targetLatency:1.5,bufferMin:.3,segmentDuration:ke,qoeEvaluator:ne});return F.quality=$.getNextQuality(st,1e3*Mt,Ue,Ve,rt,ze,_),F.reason={throughput:Mt,latency:Ue},F.priority=P.Z.PRIORITY.STRONG,Rt.setTimeToLoadDelay(0),F.quality!==ze&&console.log("[TgcLearningRule]["+W+"] requesting switch to index: ",F.quality,"Average throughput",Math.round(Mt),"kbps"),F}catch(x){throw x}},reset:function(){$.reset(),ne.reset()}},T=(0,ve.Z)(oe).getInstance().getLogger(G),$=(0,d.Z)(oe).create(),ne=(0,f.Z)(oe).create(),G}N.__dashjs_factory_name="LoLPRule";const h=k.Z.getClassFactory(N)},6523:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>d});var ve=L(5448);function k(f){var P,w,m,S,N=f.targetLatency,h=f.bufferMin,v=f.segmentDuration,T=f.qoeEvaluator;function G(){return v}function $(ne,Q){var oe=G();return Q>oe?ne-oe:ne+oe-Q}return P={getMinBuffer:function(){return h},getSegmentDuration:G,getNextBufferWithBitrate:function(ne,Q,oe){return $(Q,ne*v/oe)},getNextBuffer:$,findWeightVector:function(ne,Q,oe,H,F,W){var he=null,ce=null,ze=null,st=Math.abs(Q-m);return ne.forEach(function(ge){w.forEach(function(Rt){var Ve=Rt[1],We=Rt[2],Ne=ge.bitrate*v/F,Ue=$(oe,Ne),rt=(0===We?10:1/We)*Math.max(1e-5,Ne-Ue),ht=T.calculateSingleUseQoe(ge.bitrate,rt,(0===Ve?10:1/Ve)*ge.state.latency,W);(null===he||ht>he)&&!(Q>N+st)&&Ue>=h&&(he=ht,ce=Rt,ze=ge.bitrate)})}),null===ce&&null===ze&&(ce=-1),m=Q,ce}},w=function ne(Q,oe,H){if(H===oe)return Q;for(var F=Q.length,W=0;W<F;W++)for(var he=Q.shift(),ce=0;ce<S.length;ce++)Q.push(he.concat(S[ce]));return ne(Q,oe,H+1)}((S=[.2,.4,.6,.8,1]).map(function(ne){return[ne]}),4,1),m=0,P}k.__dashjs_factory_name="LoLpWeightSelector";const d=ve.Z.getClassFactory(k)},2298:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>ve});const ve=function k(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,k),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:(wt,He,L)=>{"use strict";L.d(He,{Y:()=>v,Z:()=>G});var ve=L(3393),k=L(1553),d=L(5448),f=L(2128),P=L(2594),w=L(7387),m=L(7417),S=L(9032),N=L(9326),h=L(7802),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function T($){var ne,Q,oe,H,F,W,he,ce,ze=this.context,st=$.adapter,ge=$.baseURLController,Rt=$.streamInfo,Ve=$.timelineConverter,We=$.debug,Ne=$.eventBus,Ue=$.events,rt=$.dashConstants,Mt=(0,P.Z)(ze).getInstance();function ht(gt,St){var yt,me,Ye=new f.Z;Ye.id=gt.id,Ye.bitrate=gt.bandwidth,Ye.width=gt.width,Ye.height=gt.height,Ye.tilesHor=1,Ye.tilesVert=1,gt.essentialProperties&&gt.essentialProperties.forEach(function(yt){if(v.indexOf(yt.schemeIdUri)>=0&&yt.value){var me=yt.value.split("x");2!==me.length||isNaN(me[0])||isNaN(me[1])||(Ye.tilesHor=parseInt(me[0],10),Ye.tilesVert=parseInt(me[1],10))}}),St?W.updateSegmentData(gt).then(function(yt){var me,Ce,E,_;me=Ye,E=[],_=function(x,M){var fe,se,De,Ge,Ke=[],Fe=0;for(fe=0,se=x.segments.length;fe<se;fe++)De=x.segments[fe],(Ge=(0,w.TJ)(Ve,st.getIsDynamic(),M,De.startTime,De.duration,De.timescale,De.media,De.mediaRange,Fe))&&(Ke.push(Ge),Ge=null,Fe++);return Ke}(yt,Ce=gt),Ce.segments=_,me.segmentDuration=Ce.segments[0].duration,me.readThumbnail=function(x,M){var fe=null;E.some(function(se){if(se.start<=x&&se.end>x)return fe=se.url,!0}),fe?M(fe):Ce.segments.some(function(se){if(se.mediaStartTime<=x&&se.mediaStartTime+se.duration>x){var De=ge.resolve(Ce.path);return he.load({method:"get",url:De.url,request:{range:se.mediaRange,responseType:"arraybuffer"},onload:function(Ge){var Ke=ce.getSamplesInfo(Ge.target.response),Fe=new Blob([Ge.target.response.slice(Ke.sampleList[0].offset,Ke.sampleList[0].offset+Ke.sampleList[0].size)],{type:"image/jpeg"}),tt=window.URL.createObjectURL(Fe);E.push({start:se.mediaStartTime,end:se.mediaStartTime+se.duration,url:tt}),M&&M(tt)}}),!0}})}}):(Ye.startNumber=gt.startNumber,Ye.segmentDuration=gt.segmentDuration,Ye.timescale=gt.timescale,Ye.templateUrl=(me=Mt.isRelative((yt=gt).media)?Mt.resolve(yt.media,ge.resolve(yt.path).url):yt.media)?(0,w.Aj)(me,yt.id):""),Ye.tilesHor>0&&Ye.tilesVert>0&&(Ye.widthPerTile=Ye.width/Ye.tilesHor,Ye.heightPerTile=Ye.height/Ye.tilesVert,Q.push(Ye))}function ke(){Q=[],H=-1,F=null}return ne={getTracks:function(){return Q},addTracks:function(){if(Rt&&st&&(F=st.getMediaInfoForType(Rt,ve.Z.IMAGE))){var gt=st.getVoRepresentations(F);gt&&gt.length>0&&gt.forEach(function(St){(St.segmentInfoType===k.Z.SEGMENT_TEMPLATE&&St.segmentDuration>0&&St.media||St.segmentInfoType===k.Z.SEGMENT_TIMELINE)&&ht(St),St.segmentInfoType===k.Z.SEGMENT_BASE&&ht(St,!0)}),Q.length>0&&Q.sort(function(St,Ye){return St.bitrate-Ye.bitrate})}},reset:ke,setTrackByIndex:function(gt){Q&&0!==Q.length&&(gt>=Q.length&&(gt=Q.length-1),H=gt)},getCurrentTrack:function(){return H<0?null:Q[H]},getCurrentTrackIndex:function(){return H},getThumbnailRequestForTime:function(gt){for(var St,Ye=st.getVoRepresentations(F),yt=0;yt<Ye.length;yt++)if(Q[H].id===Ye[yt].id){St=Ye[yt];break}return oe.getSegmentRequestForTime(F,St,gt)}},ke(),he=(0,S.Z)(ze).create({}),ce=(0,m.Z)(ze).getInstance(),W=(0,h.Z)(ze).create({events:Ue,eventBus:Ne,streamInfo:Rt,timelineConverter:Ve,dashConstants:rt,dashMetrics:$.dashMetrics,segmentBaseController:$.segmentBaseController,type:ve.Z.IMAGE}),(oe=(0,N.Z)(ze).create({streamInfo:Rt,type:ve.Z.IMAGE,timelineConverter:Ve,segmentsController:W,baseURLController:ge,debug:We,eventBus:Ne,events:Ue,dashConstants:rt,urlUtils:Mt})).initialize(!!st&&st.getIsDynamic()),ne}T.__dashjs_factory_name="ThumbnailTracks";const G=d.Z.getClassFactory(T)},7417:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>m});var ve=L(6398),k=L(8260),d=L(5448),f=L(6934),P=L(9597);function w(){var S,N,h=this.context;function v($){if(!$)return null;void 0===$.fileStart&&($.fileStart=0);var ne=f.parseBuffer($),Q=(0,k.Z)(h).create();return Q.setData(ne),Q}function T($,ne){return $[ne+3]>>>0|$[ne+2]<<8>>>0|$[ne+1]<<16>>>0|$[ne]<<24>>>0}function G($,ne){return String.fromCharCode($[ne++])+String.fromCharCode($[ne++])+String.fromCharCode($[ne++])+String.fromCharCode($[ne])}return N={parse:v,findLastTopIsoBoxCompleted:function($,ne,Q){if(void 0===Q&&(Q=0),!ne||Q+8>=ne.byteLength)return new P.Z(0,!1);for(var oe,H=ne instanceof ArrayBuffer?new Uint8Array(ne):ne,F=0;Q<H.byteLength;){var W=T(H,Q),he=G(H,Q+4);if(0===W)break;Q+W<=H.byteLength&&($.indexOf(he)>=0?oe=new P.Z(Q,!0,W):F=Q+W),Q+=W}return oe||new P.Z(F,!1)},getMediaTimescaleFromMoov:function($){var ne=v($),Q=ne?ne.getBox("mdhd"):void 0;return Q?Q.timescale:NaN},getSamplesInfo:function($){if(!$||0===$.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var ne,Q,oe,H,F,W,he,ce,ze,st,ge,Rt,Ve,We,Ne,Ue,rt=v($),Mt=rt.getBoxes("moof"),ht=rt.getBoxes("mfhd");Ne=rt.getBoxes("moof").length,We=ht[ht.length-1].sequence_number,Q=0,F=[];var ke=-1,gt=-1;for(st=0;st<Mt.length;st++){var St=Mt[st],Ye=St.getChildBoxes("traf");for(ce=0;ce<Ye.length;ce++){var yt=Ye[ce],me=yt.getChildBox("tfhd"),Ce=yt.getChildBox("tfdt");H=Ce.baseMediaDecodeTime;var at=yt.getChildBoxes("trun"),E=yt.getChildBoxes("subs");for(ze=0;ze<at.length;ze++){var _=at[ze];for(Q=_.sample_count,Ve=(me.base_data_offset||0)+(_.data_offset||0),he=0;he<Q;he++){ne=void 0!==(W=_.samples[he]).sample_duration?W.sample_duration:me.default_sample_duration;var x={dts:H,cts:H+(void 0!==W.sample_composition_time_offset?W.sample_composition_time_offset:0),duration:ne,offset:St.offset+Ve,size:oe=void 0!==W.sample_size?W.sample_size:me.default_sample_size,subSizes:[oe]};if(E)for(ge=0;ge<E.length;ge++){var M=E[ge];if(ke<M.entry_count-1&&he>gt&&(ke++,gt+=M.entries[ke].sample_delta),he==gt){x.subSizes=[];var fe=M.entries[ke];for(Rt=0;Rt<fe.subsample_count;Rt++)x.subSizes.push(fe.subsamples[Rt].subsample_size)}}F.push(x),Ve+=oe,H+=ne}}Ue=H-Ce.baseMediaDecodeTime}}return{sampleList:F,lastSequenceNumber:We,totalDuration:Ue,numSequences:Ne}},findInitRange:function($){var ne=null,Q=v($);if(!Q)return ne;var oe=Q.getBox("ftyp"),H=Q.getBox("moov");return S.debug("Searching for initialization."),H&&H.isComplete&&S.debug("Found the initialization.  Range: "+(ne=(oe?oe.offset:H.offset)+"-"+(H.offset+H.size-1))),ne},parsePayload:function($,ne,Q){if(void 0===Q&&(Q=0),!ne||Q+8>=ne.byteLength)return new P.Z(0,!1);for(var oe,H=ne instanceof ArrayBuffer?new Uint8Array(ne):ne,F=0;Q<H.byteLength;){var W=T(H,Q),he=G(H,Q+4);if(0===W)break;Q+W<=H.byteLength&&($.indexOf(he)>=0?oe=new P.Z(Q,!0,W,he):F=Q+W),Q+=W}return oe||new P.Z(F,!1)}},S=(0,ve.Z)(h).getInstance().getLogger(N),N}w.__dashjs_factory_name="BoxParser";const m=d.Z.getSingletonFactory(w)},1715:(wt,He,L)=>{"use strict";L.d(He,{B:()=>P,Z:()=>m});var ve=L(5448),k=L(7803),d=L(3393),f=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function P(){var S="WebKitMediaSource"in window,N="MediaSource"in window;return S||N}function w(){var S,N,h;return S={setConfig:function(v){v&&v.settings&&(N=v.settings)},supportsMediaSource:P,supportsEncryptedMedia:function(){return h},supportsCodec:function(v,T){return T!==d.Z.AUDIO&&T!==d.Z.VIDEO?Promise.resolve(!0):(G=v,$=T,N.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(G.codec&&$===d.Z.AUDIO||$===d.Z.VIDEO&&G.codec&&G.width&&G.height&&G.bitrate&&G.framerate)?function(G,$){return new Promise(function(ne){if(G&&G.codec){var Q={type:"media-source"};Q[$]={},Q[$].contentType=G.codec,Q[$].width=G.width,Q[$].height=G.height,Q[$].bitrate=parseInt(G.bitrate),Q[$].framerate=parseFloat(G.framerate),navigator.mediaCapabilities.decodingInfo(Q).then(function(oe){ne(oe.supported)}).catch(function(){ne(!1)})}else ne(!1)})}(v,T):function(G){return new Promise(function($){if(G&&G.codec){var ne=G.codec;G.width&&G.height&&(ne+=';width="'+G.width+'";height="'+G.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(ne)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(ne)?$(!0):$(!1)}else $(!1)})}(v));var G,$},setEncryptedMediaSupported:function(v){h=v},supportsEssentialProperty:function(v){try{return-1!==k.Y.indexOf(v.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function(v,T){for(var G,$=v.split(".")[0],ne=0===T.indexOf($),Q=0;Q<f.length;Q++)if(f[Q].codec===$){G=f[Q];break}return G?ne||G.compatibleCodecs.some(function(oe){return 0===T.indexOf(oe)}):ne}},h=!1,S}w.__dashjs_factory_name="Capabilities";const m=ve.Z.getSingletonFactory(w)},2295:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f});var ve=L(5448),k=L(3106);function d(){return{customTimeRangeArray:[],length:0,add:function(P,w){var m;for(m=0;m<this.customTimeRangeArray.length&&P>this.customTimeRangeArray[m].start;m++);for(this.customTimeRangeArray.splice(m,0,{start:P,end:w}),m=0;m<this.customTimeRangeArray.length-1;m++)this.mergeRanges(m,m+1)&&m--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(P,w){for(var m=0;m<this.customTimeRangeArray.length;m++)if(P<=this.customTimeRangeArray[m].start&&w>=this.customTimeRangeArray[m].end)this.customTimeRangeArray.splice(m,1),m--;else{if(P>this.customTimeRangeArray[m].start&&w<this.customTimeRangeArray[m].end){this.customTimeRangeArray.splice(m+1,0,{start:w,end:this.customTimeRangeArray[m].end}),this.customTimeRangeArray[m].end=P;break}P>this.customTimeRangeArray[m].start&&P<this.customTimeRangeArray[m].end?this.customTimeRangeArray[m].end=P:w>this.customTimeRangeArray[m].start&&w<this.customTimeRangeArray[m].end&&(this.customTimeRangeArray[m].start=w)}this.length=this.customTimeRangeArray.length},mergeRanges:function(P,w){var m=this.customTimeRangeArray[P],S=this.customTimeRangeArray[w];return m.start<=S.start&&S.start<=m.end&&m.end<=S.end?(m.end=S.end,this.customTimeRangeArray.splice(w,1),!0):S.start<=m.start&&m.start<=S.end&&S.end<=m.end?(m.start=S.start,this.customTimeRangeArray.splice(w,1),!0):S.start<=m.start&&m.start<=S.end&&m.end<=S.end?(this.customTimeRangeArray.splice(P,1),!0):m.start<=S.start&&S.start<=m.end&&S.end<=m.end&&(this.customTimeRangeArray.splice(w,1),!0)},start:function(P){return(0,k.SE)(P),P>=this.customTimeRangeArray.length||P<0?NaN:this.customTimeRangeArray[P].start},end:function(P){return(0,k.SE)(P),P>=this.customTimeRangeArray.length||P<0?NaN:this.customTimeRangeArray[P].end}}}d.__dashjs_factory_name="CustomTimeRanges";const f=ve.Z.getClassFactory(d)},5:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>d});var ve=L(5448);function k(){var f,P=/^[a-z][a-z0-9+\-_.]*:/i,w=/^https?:\/\//i,m=/^https:\/\//i,S=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,N=function(oe,H){try{return new window.URL(oe,H).toString()}catch{return oe}},h=function(oe,H){var F=v;if(!H||!$(oe))return oe;ne(oe)&&(F=T),Q(oe)&&(F=G);var W=F(H),he="/"!==W.charAt(W.length-1)&&"/"!==oe.charAt(0)?"/":"";return[W,oe].join(he)};function v(oe){var H=oe.indexOf("/"),F=oe.lastIndexOf("/");return-1!==H?F===H+1?oe:(-1!==oe.indexOf("?")&&(oe=oe.substring(0,oe.indexOf("?"))),oe.substring(0,F+1)):""}function T(oe){var H=oe.match(S);return H?H[1]:""}function G(oe){var H=oe.match(P);return H?H[0]:""}function $(oe){return!P.test(oe)}function ne(oe){return $(oe)&&"/"===oe.charAt(0)}function Q(oe){return 0===oe.indexOf("//")}return function(){try{new window.URL("x","http://y"),f=N}catch{}finally{f=f||h}}(),{parseBaseUrl:v,parseOrigin:T,parseScheme:G,isRelative:$,isPathAbsolute:ne,isSchemeRelative:Q,isHTTPURL:function(oe){return w.test(oe)},isHTTPS:function(oe){return m.test(oe)},removeHostname:function(oe){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(oe)[2].substring(1)},resolve:function(oe,H){return f(oe,H)}}}k.__dashjs_factory_name="DefaultURLUtils";const d=ve.Z.getSingletonFactory(k)},8260:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f});var ve=L(2839),k=L(5448);function d(){var P;function w(S){var N=[];if(!S||!P||"function"!=typeof P.fetchAll)return N;for(var h,v=P.fetchAll(S),T=0,G=v.length;T<G;T++)(h=m(v[T]))&&N.push(h);return N}function m(S){if(!S)return null;var N=new ve.Z(S);return S.hasOwnProperty("_incomplete")&&(N.isComplete=!S._incomplete),N}return{getBox:function(S){return S&&P&&P.boxes&&0!==P.boxes.length&&"function"==typeof P.fetch?m(P.fetch(S)):null},getBoxes:w,setData:function(S){P=S},getLastBox:function(){if(!P||!P.boxes||!P.boxes.length)return null;var S=w(P.boxes[P.boxes.length-1].type);return S.length>0?S[S.length-1]:null}}}d.__dashjs_factory_name="IsoFile";const f=k.Z.getClassFactory(d)},7473:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f,k:()=>k});var ve=L(5448);function k(P,w){var m={url:P.url,method:P.method,headers:Object.assign({},P.headers),credentials:P.withCredentials?"include":void 0};return Promise.resolve(w.modifyRequest(m)).then(function(){return Object.assign(P,m,{withCredentials:"include"===m.credentials})})}function d(){return{modifyRequest:null,modifyRequestURL:function(P){return P},modifyRequestHeader:function(P,w){return P}}}d.__dashjs_factory_name="RequestModifier";const f=ve.Z.getSingletonFactory(d)},3106:(wt,He,L)=>{"use strict";L.d(He,{PS:()=>d,SE:()=>f});var ve=L(3393);function k(P){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(P)}function d(P,w){if(k(P)!==w)throw ve.Z.BAD_ARGUMENT_ERROR}function f(P){if(null===P||isNaN(P)||P%1!=0)throw ve.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f});var ve=L(5448),k=L(5);function d(){var P,w=[];function S(N,h,v){var T=function(G){var $;for($=0;$<w.length;$++)if(w[$].regex.test(G))return w[$].utils;return P}(v||h);return T&&"function"==typeof T[N]?T[N](h,v):P[N](h,v)}return P=(0,k.Z)(this.context).getInstance(),{registerUrlRegex:function(N,h){w.push({regex:N,utils:h})},parseBaseUrl:function(N){return S("parseBaseUrl",N)},parseOrigin:function(N){return S("parseOrigin",N)},parseScheme:function(N){return S("parseScheme",N)},isRelative:function(N){return S("isRelative",N)},isPathAbsolute:function(N){return S("isPathAbsolute",N)},isSchemeRelative:function(N){return S("isSchemeRelative",N)},isHTTPURL:function(N){return S("isHTTPURL",N)},isHTTPS:function(N){return S("isHTTPS",N)},removeHostname:function(N){return S("removeHostname",N)},resolve:function(N,h){return S("resolve",N,h)}}}d.__dashjs_factory_name="URLUtils";const f=ve.Z.getSingletonFactory(d)},5459:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>ve});const ve=function k(d,f,P){(function(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")})(this,k),this.code=d||null,this.message=f||null,this.data=P||null}},3186:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>f});var ve=L(7855),d=function(){function P(S){(function(N,h){if(!(N instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.action=P.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=S||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var m;return(m=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===ve.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(S){this.type=S&&S.init?ve.w.INIT_SEGMENT_TYPE:ve.w.MEDIA_SEGMENT_TYPE,this.url=S&&S.url?S.url:null,this.range=S&&S.range?S.range.start+"-"+S.range.end:null,this.mediaType=S&&S.mediaType?S.mediaType:null}}])&&function k(P,w){for(var m=0;m<w.length;m++){var S=w[m];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(P,S.key,S)}}(P.prototype,m),P}();d.ACTION_DOWNLOAD="download",d.ACTION_COMPLETE="complete";const f=d},2839:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>k});const k=function(){function d(w){if(function(G,$){if(!(G instanceof $))throw new TypeError("Cannot call a class as a function")}(this,d),this.offset=w._offset,this.type=w.type,this.size=w.size,this.boxes=[],w.boxes)for(var m=0;m<w.boxes.length;m++)this.boxes.push(new d(w.boxes[m]));switch(this.isComplete=!0,w.type){case"sidx":if(this.timescale=w.timescale,this.earliest_presentation_time=w.earliest_presentation_time,this.first_offset=w.first_offset,this.references=w.references,w.references){this.references=[];for(var S=0;S<w.references.length;S++)this.references.push({reference_type:w.references[S].reference_type,referenced_size:w.references[S].referenced_size,subsegment_duration:w.references[S].subsegment_duration})}break;case"emsg":this.id=w.id,this.version=1===w.version?1:0,this.value=w.value,this.timescale=w.timescale,this.scheme_id_uri=w.scheme_id_uri,this.presentation_time_delta=1===w.version?w.presentation_time:w.presentation_time_delta,this.event_duration=w.event_duration,this.message_data=w.message_data;break;case"mdhd":this.timescale=w.timescale;break;case"mfhd":this.sequence_number=w.sequence_number;break;case"subs":this.entry_count=w.entry_count,this.entries=w.entries;break;case"tfhd":this.base_data_offset=w.base_data_offset,this.sample_description_index=w.sample_description_index,this.default_sample_duration=w.default_sample_duration,this.default_sample_size=w.default_sample_size,this.default_sample_flags=w.default_sample_flags,this.flags=w.flags;break;case"tfdt":this.version=w.version,this.baseMediaDecodeTime=w.baseMediaDecodeTime,this.flags=w.flags;break;case"trun":if(this.sample_count=w.sample_count,this.first_sample_flags=w.first_sample_flags,this.data_offset=w.data_offset,this.flags=w.flags,this.samples=w.samples,w.samples){this.samples=[];for(var h=0,v=w.samples.length;h<v;h++)this.samples.push({sample_size:w.samples[h].sample_size,sample_duration:w.samples[h].sample_duration,sample_composition_time_offset:w.samples[h].sample_composition_time_offset})}break;case"prft":this.version=w.version,this.reference_track_ID=w.reference_track_ID,this.ntp_timestamp_sec=w.ntp_timestamp_sec,this.ntp_timestamp_frac=w.ntp_timestamp_frac,this.media_time=w.media_time,this.flags=w.flags}}var P;return(P=[{key:"getChildBox",value:function(w){for(var m=0;m<this.boxes.length;m++)if(this.boxes[m].type===w)return this.boxes[m]}},{key:"getChildBoxes",value:function(w){for(var m=[],S=0;S<this.boxes.length;S++)this.boxes[S].type===w&&m.push(this.boxes[S]);return m}}])&&function ve(d,f){for(var P=0;P<f.length;P++){var w=f[P];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(d,w.key,w)}}(d.prototype,P),d}()},9597:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>ve});const ve=function k(d,f,P){(function(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")})(this,k),this.lastCompletedOffset=d,this.found=f,this.size=P}},2128:(wt,He,L)=>{"use strict";L.d(He,{Z:()=>ve});const ve=function k(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,k),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:(wt,He,L)=>{"use strict";function ve(f,P){if(!(f instanceof P))throw new TypeError("Cannot call a class as a function")}L.d(He,{O:()=>d,w:()=>k});var k=function f(){ve(this,f),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},d=function f(){ve(this,f),this.s=null,this.d=null,this.b=[]};k.GET="GET",k.HEAD="HEAD",k.MPD_TYPE="MPD",k.XLINK_EXPANSION_TYPE="XLinkExpansion",k.INIT_SEGMENT_TYPE="InitializationSegment",k.INDEX_SEGMENT_TYPE="IndexSegment",k.MEDIA_SEGMENT_TYPE="MediaSegment",k.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",k.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",k.DVB_REPORTING_TYPE="DVBReporting",k.LICENSE="license",k.CONTENT_STEERING_TYPE="ContentSteering",k.OTHER_TYPE="other"},3039:(wt,He)=>{"use strict";function L(k,d){return function(f,P){for(var w,m,S,N=ve(f,"tag"),h=ve(P??"*","range"),v=[],T=-1;++T<h.length;)if(w=h[T].toLowerCase(),d||"*"!==w){for(m=-1,S=[];++m<N.length;)if(k(N[m].toLowerCase(),w)){if(!d)return N[m];v.push(N[m])}else S.push(N[m]);N=S}return d?v:void 0}}function ve(k,d){var f=k&&"string"==typeof k?[k]:k;if(!f||"object"!=typeof f||!("length"in f))throw new Error("Invalid "+d+" `"+f+"`, expected non-empty string");return f}He.basicFilter=L(function(k,d){return"*"===d||k===d||k.indexOf(d+"-")>-1},!0),He.extendedFilter=L(function(k,d){var f=k.split("-"),P=d.split("-"),w=0,m=0;if("*"!==P[m]&&f[w]!==P[m])return!1;for(w++,m++;m<P.length;)if("*"!==P[m]){if(!f[w])return!1;if(f[w]!==P[m]){if(1===f[w].length)return!1;w++}else w++,m++}else m++;return!0},!0),He.lookup=L(function(k,d){for(var f,P=d;;){if("*"===P||k===P)return!0;if((f=P.lastIndexOf("-"))<0)return!1;"-"===P.charAt(f-2)&&(f-=2),P=P.slice(0,f)}})},3973:(wt,He,L)=>{"use strict";wt.exports=L(3854)},3854:(wt,He,L)=>{"use strict";var ve=L(2415),k=L(3039),d=L(7778),f=L(5813),P=L(3165),w=L(9460);wt.exports=function($,ne){var Q,oe=ne||{},H=ve.parse(String($||"").toLowerCase(),oe),F=ve.stringify(H),W=-1;if(!F)return F;for(;++W<d.length;)k.extendedFilter(F,d[W].from).length&&(h(H,d[W].from,d[W].to),F=ve.stringify(H));for(W=-1;++W<f.length;)v(H,f[W].from.field,f[W].from.value)&&T(H,f[W].to.field,f[W].to.value);for(F=ve.stringify(Object.assign({},H,N)),W=-1;++W<P.length;)F===P[W]&&(h(H,P[W],P[W].split("-").slice(0,-1).join("-")),F=ve.stringify(Object.assign({},H,N)));if(H.extensions.sort(G),oe.warning)for(Q in w)m.call(w[Q],H[Q])&&oe.warning("Deprecated "+Q+" `"+H[Q]+"`, expected one of `"+w[Q][H[Q]].join("`, `")+"`",null,7);return H.script&&(H.script=H.script.charAt(0).toUpperCase()+H.script.slice(1)),H.region&&(H.region=H.region.toUpperCase()),ve.stringify(H)};var m={}.hasOwnProperty,S=new Intl.Collator,N={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function h($,ne,Q){var oe,H=ve.parse(ne),F=ve.parse(Q),W=[];for(oe in H)H[oe]&&H[oe].length&&v($,oe,H[oe])&&W.push(oe);for(oe in F)F[oe]&&F[oe].length&&(W.indexOf(oe)>-1||!$[oe]||!$[oe].length)&&T($,oe,F[oe])}function v($,ne,Q){var oe,H,F,W,he=!1;if(Q){if(H=oe=$[ne],oe&&"object"==typeof oe)for(H=[],F=-1;++F<oe.length;)Q.indexOf(W=oe[F])<0?H.push(W):he=!0;else oe===Q&&(H=null,he=!0);$[ne]=H}return he}function T($,ne,Q){var oe,H,F,W=$[ne];if(W&&"object"==typeof W)for(oe=[].concat(Q),H=-1;++H<oe.length;)W.indexOf(F=oe[H])<0&&W.push(F);else $[ne]=Q}function G($,ne){return S.compare($.singleton,ne.singleton)}},2415:(wt,He,L)=>{"use strict";He.parse=L(6903),He.stringify=L(6713)},6903:(wt,He,L)=>{"use strict";var ve=L(2219),k=L(3516),d=L(395),f=L(858),P=L(8589);wt.exports=function m(S,N){var h,v,T,G=N||{},$={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},ne=String(S),Q=ne.toLowerCase(),oe=0;if(null==S)throw new Error("Expected string, got `"+S+"`");if(w.call(P,Q))return(null==G.normalize||G.normalize)&&P[Q]?m(P[Q]):($[-1===f.indexOf(Q)?"irregular":"regular"]=ne,$);for(;k(Q.charCodeAt(oe))&&oe<9;)oe++;if(oe>1&&oe<9){if($.language=ne.slice(0,oe),oe<4)for(v=0;45===Q.charCodeAt(oe)&&k(Q.charCodeAt(oe+1))&&k(Q.charCodeAt(oe+2))&&k(Q.charCodeAt(oe+3))&&!k(Q.charCodeAt(oe+4));){if(v>2)return H(oe,3,"Too many extended language subtags, expected at most 3 subtags");$.extendedLanguageSubtags.push(ne.slice(oe+1,oe+4)),oe+=4,v++}for(45===Q.charCodeAt(oe)&&k(Q.charCodeAt(oe+1))&&k(Q.charCodeAt(oe+2))&&k(Q.charCodeAt(oe+3))&&k(Q.charCodeAt(oe+4))&&!k(Q.charCodeAt(oe+5))&&($.script=ne.slice(oe+1,oe+5),oe+=5),45===Q.charCodeAt(oe)&&(k(Q.charCodeAt(oe+1))&&k(Q.charCodeAt(oe+2))&&!k(Q.charCodeAt(oe+3))?($.region=ne.slice(oe+1,oe+3),oe+=3):d(Q.charCodeAt(oe+1))&&d(Q.charCodeAt(oe+2))&&d(Q.charCodeAt(oe+3))&&!d(Q.charCodeAt(oe+4))&&($.region=ne.slice(oe+1,oe+4),oe+=4));45===Q.charCodeAt(oe);){for(T=h=oe+1;ve(Q.charCodeAt(T));){if(T-h>7)return H(T,1,"Too long variant, expected at most 8 characters");T++}if(!(T-h>4||T-h>3&&d(Q.charCodeAt(h))))break;$.variants.push(ne.slice(h,T)),oe=T}for(;45===Q.charCodeAt(oe)&&120!==Q.charCodeAt(oe+1)&&ve(Q.charCodeAt(oe+1))&&45===Q.charCodeAt(oe+2)&&ve(Q.charCodeAt(oe+3));){for(T=oe+2,v=0;45===Q.charCodeAt(T)&&ve(Q.charCodeAt(T+1))&&ve(Q.charCodeAt(T+2));)for(T=(h=T+1)+2,v++;ve(Q.charCodeAt(T));){if(T-h>7)return H(T,2,"Too long extension, expected at most 8 characters");T++}if(!v)return H(T,4,"Empty extension, extensions must have at least 2 characters of content");$.extensions.push({singleton:ne.charAt(oe+1),extensions:ne.slice(oe+3,T).split("-")}),oe=T}}else oe=0;if(0===oe&&120===Q.charCodeAt(oe)||45===Q.charCodeAt(oe)&&120===Q.charCodeAt(oe+1))for(T=oe=oe?oe+2:1;45===Q.charCodeAt(T)&&ve(Q.charCodeAt(T+1));){for(T=h=oe+1;ve(Q.charCodeAt(T));){if(T-h>7)return H(T,5,"Too long private-use area, expected at most 8 characters");T++}$.privateuse.push(ne.slice(oe+1,T)),oe=T}return oe!==ne.length?H(oe,6,"Found superfluous content after tag"):$;function H(F,W,he){return G.warning&&G.warning(he,W,F),G.forgiving?$:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var w={}.hasOwnProperty},6713:wt=>{"use strict";wt.exports=function(He){var L,ve,k,d=He||{},f=[];if(d.irregular||d.regular)return d.irregular||d.regular;if(d.language)for(f=f.concat(d.language,d.extendedLanguageSubtags||[],d.script||[],d.region||[],d.variants||[]),L=d.extensions||[],ve=-1;++ve<L.length;)(k=L[ve]).singleton&&k.extensions&&k.extensions.length&&(f=f.concat(k.singleton,k.extensions));return d.privateuse&&d.privateuse.length&&(f=f.concat("x",d.privateuse)),f.join("-")}},1549:(wt,He,L)=>{"use strict";var ve=L(6693),k=L(2165),d="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;He.Buffer=w,He.SlowBuffer=function(E){return+E!=E&&(E=0),w.alloc(+E)},He.INSPECT_MAX_BYTES=50;var f=2147483647;function P(E){if(E>f)throw new RangeError('The value "'+E+'" is invalid for option "size"');var _=new Uint8Array(E);return Object.setPrototypeOf(_,w.prototype),_}function w(E,_,x){if("number"==typeof E){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return N(E)}return m(E,_,x)}function m(E,_,x){if("string"==typeof E)return function(se,De){if("string"==typeof De&&""!==De||(De="utf8"),!w.isEncoding(De))throw new TypeError("Unknown encoding: "+De);var Ge=0|G(se,De),Ke=P(Ge),Fe=Ke.write(se,De);return Fe!==Ge&&(Ke=Ke.slice(0,Fe)),Ke}(E,_);if(ArrayBuffer.isView(E))return function(se){if(me(se,Uint8Array)){var De=new Uint8Array(se);return v(De.buffer,De.byteOffset,De.byteLength)}return h(se)}(E);if(null==E)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(me(E,ArrayBuffer)||E&&me(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(E,SharedArrayBuffer)||E&&me(E.buffer,SharedArrayBuffer)))return v(E,_,x);if("number"==typeof E)throw new TypeError('The "value" argument must not be of type number. Received type number');var M=E.valueOf&&E.valueOf();if(null!=M&&M!==E)return w.from(M,_,x);var fe=function(se){if(w.isBuffer(se)){var De=0|T(se.length),Ge=P(De);return 0===Ge.length||se.copy(Ge,0,0,De),Ge}return void 0!==se.length?"number"!=typeof se.length||Ce(se.length)?P(0):h(se):"Buffer"===se.type&&Array.isArray(se.data)?h(se.data):void 0}(E);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof E[Symbol.toPrimitive])return w.from(E[Symbol.toPrimitive]("string"),_,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}function S(E){if("number"!=typeof E)throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function N(E){return S(E),P(E<0?0:0|T(E))}function h(E){for(var _=E.length<0?0:0|T(E.length),x=P(_),M=0;M<_;M+=1)x[M]=255&E[M];return x}function v(E,_,x){if(_<0||E.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<_+(x||0))throw new RangeError('"length" is outside of buffer bounds');var M;return M=void 0===_&&void 0===x?new Uint8Array(E):void 0===x?new Uint8Array(E,_):new Uint8Array(E,_,x),Object.setPrototypeOf(M,w.prototype),M}function T(E){if(E>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|E}function G(E,_){if(w.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||me(E,ArrayBuffer))return E.byteLength;if("string"!=typeof E)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);var x=E.length,M=arguments.length>2&&!0===arguments[2];if(!M&&0===x)return 0;for(var fe=!1;;)switch(_){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return St(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*x;case"hex":return x>>>1;case"base64":return Ye(E).length;default:if(fe)return M?-1:St(E).length;_=(""+_).toLowerCase(),fe=!0}}function $(E,_,x){var M=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===x||x>this.length)&&(x=this.length),x<=0)||(x>>>=0)<=(_>>>=0))return"";for(E||(E="utf8");;)switch(E){case"hex":return We(this,_,x);case"utf8":case"utf-8":return st(this,_,x);case"ascii":return Rt(this,_,x);case"latin1":case"binary":return Ve(this,_,x);case"base64":return ze(this,_,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,_,x);default:if(M)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),M=!0}}function ne(E,_,x){var M=E[_];E[_]=E[x],E[x]=M}function Q(E,_,x,M,fe){if(0===E.length)return-1;if("string"==typeof x?(M=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),Ce(x=+x)&&(x=fe?0:E.length-1),x<0&&(x=E.length+x),x>=E.length){if(fe)return-1;x=E.length-1}else if(x<0){if(!fe)return-1;x=0}if("string"==typeof _&&(_=w.from(_,M)),w.isBuffer(_))return 0===_.length?-1:oe(E,_,x,M,fe);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(E,_,x):Uint8Array.prototype.lastIndexOf.call(E,_,x):oe(E,[_],x,M,fe);throw new TypeError("val must be string, number or Buffer")}function oe(E,_,x,M,fe){var se,De=1,Ge=E.length,Ke=_.length;if(void 0!==M&&("ucs2"===(M=String(M).toLowerCase())||"ucs-2"===M||"utf16le"===M||"utf-16le"===M)){if(E.length<2||_.length<2)return-1;De=2,Ge/=2,Ke/=2,x/=2}function Fe(Xe,$e){return 1===De?Xe[$e]:Xe.readUInt16BE($e*De)}if(fe){var tt=-1;for(se=x;se<Ge;se++)if(Fe(E,se)===Fe(_,-1===tt?0:se-tt)){if(-1===tt&&(tt=se),se-tt+1===Ke)return tt*De}else-1!==tt&&(se-=se-tt),tt=-1}else for(x+Ke>Ge&&(x=Ge-Ke),se=x;se>=0;se--){for(var it=!0,Ie=0;Ie<Ke;Ie++)if(Fe(E,se+Ie)!==Fe(_,Ie)){it=!1;break}if(it)return se}return-1}function H(E,_,x,M){x=Number(x)||0;var fe=E.length-x;M?(M=Number(M))>fe&&(M=fe):M=fe;var se=_.length;M>se/2&&(M=se/2);for(var De=0;De<M;++De){var Ge=parseInt(_.substr(2*De,2),16);if(Ce(Ge))return De;E[x+De]=Ge}return De}function F(E,_,x,M){return yt(St(_,E.length-x),E,x,M)}function W(E,_,x,M){return yt(function(fe){for(var se=[],De=0;De<fe.length;++De)se.push(255&fe.charCodeAt(De));return se}(_),E,x,M)}function he(E,_,x,M){return yt(Ye(_),E,x,M)}function ce(E,_,x,M){return yt(function(fe,se){for(var De,Ge,Fe=[],tt=0;tt<fe.length&&!((se-=2)<0);++tt)Ge=(De=fe.charCodeAt(tt))>>8,Fe.push(De%256),Fe.push(Ge);return Fe}(_,E.length-x),E,x,M)}function ze(E,_,x){return ve.fromByteArray(0===_&&x===E.length?E:E.slice(_,x))}function st(E,_,x){x=Math.min(E.length,x);for(var M=[],fe=_;fe<x;){var se,De,Ge,Ke,Fe=E[fe],tt=null,it=Fe>239?4:Fe>223?3:Fe>191?2:1;if(fe+it<=x)switch(it){case 1:Fe<128&&(tt=Fe);break;case 2:128==(192&(se=E[fe+1]))&&(Ke=(31&Fe)<<6|63&se)>127&&(tt=Ke);break;case 3:De=E[fe+2],128==(192&(se=E[fe+1]))&&128==(192&De)&&(Ke=(15&Fe)<<12|(63&se)<<6|63&De)>2047&&(Ke<55296||Ke>57343)&&(tt=Ke);break;case 4:De=E[fe+2],Ge=E[fe+3],128==(192&(se=E[fe+1]))&&128==(192&De)&&128==(192&Ge)&&(Ke=(15&Fe)<<18|(63&se)<<12|(63&De)<<6|63&Ge)>65535&&Ke<1114112&&(tt=Ke)}null===tt?(tt=65533,it=1):tt>65535&&(M.push((tt-=65536)>>>10&1023|55296),tt=56320|1023&tt),M.push(tt),fe+=it}return function(Ie){var Xe=Ie.length;if(Xe<=ge)return String.fromCharCode.apply(String,Ie);for(var $e="",Tt=0;Tt<Xe;)$e+=String.fromCharCode.apply(String,Ie.slice(Tt,Tt+=ge));return $e}(M)}He.kMaxLength=f,(w.TYPED_ARRAY_SUPPORT=function(){try{var E=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(E,_),42===E.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),w.poolSize=8192,w.from=function(E,_,x){return m(E,_,x)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array),w.alloc=function(E,_,x){return fe=_,se=x,S(M=E),M<=0?P(M):void 0!==fe?"string"==typeof se?P(M).fill(fe,se):P(M).fill(fe):P(M);var M,fe,se},w.allocUnsafe=function(E){return N(E)},w.allocUnsafeSlow=function(E){return N(E)},w.isBuffer=function(E){return null!=E&&!0===E._isBuffer&&E!==w.prototype},w.compare=function(E,_){if(me(E,Uint8Array)&&(E=w.from(E,E.offset,E.byteLength)),me(_,Uint8Array)&&(_=w.from(_,_.offset,_.byteLength)),!w.isBuffer(E)||!w.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===_)return 0;for(var x=E.length,M=_.length,fe=0,se=Math.min(x,M);fe<se;++fe)if(E[fe]!==_[fe]){x=E[fe],M=_[fe];break}return x<M?-1:M<x?1:0},w.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(E,_){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(0===E.length)return w.alloc(0);var x;if(void 0===_)for(_=0,x=0;x<E.length;++x)_+=E[x].length;var M=w.allocUnsafe(_),fe=0;for(x=0;x<E.length;++x){var se=E[x];if(me(se,Uint8Array))fe+se.length>M.length?w.from(se).copy(M,fe):Uint8Array.prototype.set.call(M,se,fe);else{if(!w.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(M,fe)}fe+=se.length}return M},w.byteLength=G,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<E;_+=2)ne(this,_,_+1);return this},w.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<E;_+=4)ne(this,_,_+3),ne(this,_+1,_+2);return this},w.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<E;_+=8)ne(this,_,_+7),ne(this,_+1,_+6),ne(this,_+2,_+5),ne(this,_+3,_+4);return this},w.prototype.toLocaleString=w.prototype.toString=function(){var E=this.length;return 0===E?"":0===arguments.length?st(this,0,E):$.apply(this,arguments)},w.prototype.equals=function(E){if(!w.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||0===w.compare(this,E)},w.prototype.inspect=function(){var E="",_=He.INSPECT_MAX_BYTES;return E=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(E+=" ... "),"<Buffer "+E+">"},d&&(w.prototype[d]=w.prototype.inspect),w.prototype.compare=function(E,_,x,M,fe){if(me(E,Uint8Array)&&(E=w.from(E,E.offset,E.byteLength)),!w.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(void 0===_&&(_=0),void 0===x&&(x=E?E.length:0),void 0===M&&(M=0),void 0===fe&&(fe=this.length),_<0||x>E.length||M<0||fe>this.length)throw new RangeError("out of range index");if(M>=fe&&_>=x)return 0;if(M>=fe)return-1;if(_>=x)return 1;if(this===E)return 0;for(var se=(fe>>>=0)-(M>>>=0),De=(x>>>=0)-(_>>>=0),Ge=Math.min(se,De),Ke=this.slice(M,fe),Fe=E.slice(_,x),tt=0;tt<Ge;++tt)if(Ke[tt]!==Fe[tt]){se=Ke[tt],De=Fe[tt];break}return se<De?-1:De<se?1:0},w.prototype.includes=function(E,_,x){return-1!==this.indexOf(E,_,x)},w.prototype.indexOf=function(E,_,x){return Q(this,E,_,x,!0)},w.prototype.lastIndexOf=function(E,_,x){return Q(this,E,_,x,!1)},w.prototype.write=function(E,_,x,M){if(void 0===_)M="utf8",x=this.length,_=0;else if(void 0===x&&"string"==typeof _)M=_,x=this.length,_=0;else{if(!isFinite(_))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_>>>=0,isFinite(x)?(x>>>=0,void 0===M&&(M="utf8")):(M=x,x=void 0)}var fe=this.length-_;if((void 0===x||x>fe)&&(x=fe),E.length>0&&(x<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");for(var se=!1;;)switch(M){case"hex":return H(this,E,_,x);case"utf8":case"utf-8":return F(this,E,_,x);case"ascii":case"latin1":case"binary":return W(this,E,_,x);case"base64":return he(this,E,_,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,E,_,x);default:if(se)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),se=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ge=4096;function Rt(E,_,x){var M="";x=Math.min(E.length,x);for(var fe=_;fe<x;++fe)M+=String.fromCharCode(127&E[fe]);return M}function Ve(E,_,x){var M="";x=Math.min(E.length,x);for(var fe=_;fe<x;++fe)M+=String.fromCharCode(E[fe]);return M}function We(E,_,x){var M=E.length;(!_||_<0)&&(_=0),(!x||x<0||x>M)&&(x=M);for(var fe="",se=_;se<x;++se)fe+=at[E[se]];return fe}function Ne(E,_,x){for(var M=E.slice(_,x),fe="",se=0;se<M.length-1;se+=2)fe+=String.fromCharCode(M[se]+256*M[se+1]);return fe}function Ue(E,_,x){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+_>x)throw new RangeError("Trying to access beyond buffer length")}function rt(E,_,x,M,fe,se){if(!w.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>fe||_<se)throw new RangeError('"value" argument is out of bounds');if(x+M>E.length)throw new RangeError("Index out of range")}function Mt(E,_,x,M,fe,se){if(x+M>E.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function ht(E,_,x,M,fe){return _=+_,x>>>=0,fe||Mt(E,0,x,4),k.write(E,_,x,M,23,4),x+4}function ke(E,_,x,M,fe){return _=+_,x>>>=0,fe||Mt(E,0,x,8),k.write(E,_,x,M,52,8),x+8}w.prototype.slice=function(E,_){var x=this.length;(E=~~E)<0?(E+=x)<0&&(E=0):E>x&&(E=x),(_=void 0===_?x:~~_)<0?(_+=x)<0&&(_=0):_>x&&(_=x),_<E&&(_=E);var M=this.subarray(E,_);return Object.setPrototypeOf(M,w.prototype),M},w.prototype.readUintLE=w.prototype.readUIntLE=function(E,_,x){E>>>=0,_>>>=0,x||Ue(E,_,this.length);for(var M=this[E],fe=1,se=0;++se<_&&(fe*=256);)M+=this[E+se]*fe;return M},w.prototype.readUintBE=w.prototype.readUIntBE=function(E,_,x){E>>>=0,_>>>=0,x||Ue(E,_,this.length);for(var M=this[E+--_],fe=1;_>0&&(fe*=256);)M+=this[E+--_]*fe;return M},w.prototype.readUint8=w.prototype.readUInt8=function(E,_){return E>>>=0,_||Ue(E,1,this.length),this[E]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(E,_){return E>>>=0,_||Ue(E,2,this.length),this[E]|this[E+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(E,_){return E>>>=0,_||Ue(E,2,this.length),this[E]<<8|this[E+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(E,_){return E>>>=0,_||Ue(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(E,_){return E>>>=0,_||Ue(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},w.prototype.readIntLE=function(E,_,x){E>>>=0,_>>>=0,x||Ue(E,_,this.length);for(var M=this[E],fe=1,se=0;++se<_&&(fe*=256);)M+=this[E+se]*fe;return M>=(fe*=128)&&(M-=Math.pow(2,8*_)),M},w.prototype.readIntBE=function(E,_,x){E>>>=0,_>>>=0,x||Ue(E,_,this.length);for(var M=_,fe=1,se=this[E+--M];M>0&&(fe*=256);)se+=this[E+--M]*fe;return se>=(fe*=128)&&(se-=Math.pow(2,8*_)),se},w.prototype.readInt8=function(E,_){return E>>>=0,_||Ue(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},w.prototype.readInt16LE=function(E,_){E>>>=0,_||Ue(E,2,this.length);var x=this[E]|this[E+1]<<8;return 32768&x?4294901760|x:x},w.prototype.readInt16BE=function(E,_){E>>>=0,_||Ue(E,2,this.length);var x=this[E+1]|this[E]<<8;return 32768&x?4294901760|x:x},w.prototype.readInt32LE=function(E,_){return E>>>=0,_||Ue(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},w.prototype.readInt32BE=function(E,_){return E>>>=0,_||Ue(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},w.prototype.readFloatLE=function(E,_){return E>>>=0,_||Ue(E,4,this.length),k.read(this,E,!0,23,4)},w.prototype.readFloatBE=function(E,_){return E>>>=0,_||Ue(E,4,this.length),k.read(this,E,!1,23,4)},w.prototype.readDoubleLE=function(E,_){return E>>>=0,_||Ue(E,8,this.length),k.read(this,E,!0,52,8)},w.prototype.readDoubleBE=function(E,_){return E>>>=0,_||Ue(E,8,this.length),k.read(this,E,!1,52,8)},w.prototype.writeUintLE=w.prototype.writeUIntLE=function(E,_,x,M){E=+E,_>>>=0,x>>>=0,M||rt(this,E,_,x,Math.pow(2,8*x)-1,0);var fe=1,se=0;for(this[_]=255&E;++se<x&&(fe*=256);)this[_+se]=E/fe&255;return _+x},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(E,_,x,M){E=+E,_>>>=0,x>>>=0,M||rt(this,E,_,x,Math.pow(2,8*x)-1,0);var fe=x-1,se=1;for(this[_+fe]=255&E;--fe>=0&&(se*=256);)this[_+fe]=E/se&255;return _+x},w.prototype.writeUint8=w.prototype.writeUInt8=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,1,255,0),this[_]=255&E,_+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,2,65535,0),this[_]=255&E,this[_+1]=E>>>8,_+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,2,65535,0),this[_]=E>>>8,this[_+1]=255&E,_+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,4,4294967295,0),this[_+3]=E>>>24,this[_+2]=E>>>16,this[_+1]=E>>>8,this[_]=255&E,_+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,4,4294967295,0),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=255&E,_+4},w.prototype.writeIntLE=function(E,_,x,M){if(E=+E,_>>>=0,!M){var fe=Math.pow(2,8*x-1);rt(this,E,_,x,fe-1,-fe)}var se=0,De=1,Ge=0;for(this[_]=255&E;++se<x&&(De*=256);)E<0&&0===Ge&&0!==this[_+se-1]&&(Ge=1),this[_+se]=(E/De>>0)-Ge&255;return _+x},w.prototype.writeIntBE=function(E,_,x,M){if(E=+E,_>>>=0,!M){var fe=Math.pow(2,8*x-1);rt(this,E,_,x,fe-1,-fe)}var se=x-1,De=1,Ge=0;for(this[_+se]=255&E;--se>=0&&(De*=256);)E<0&&0===Ge&&0!==this[_+se+1]&&(Ge=1),this[_+se]=(E/De>>0)-Ge&255;return _+x},w.prototype.writeInt8=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,1,127,-128),E<0&&(E=255+E+1),this[_]=255&E,_+1},w.prototype.writeInt16LE=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,2,32767,-32768),this[_]=255&E,this[_+1]=E>>>8,_+2},w.prototype.writeInt16BE=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,2,32767,-32768),this[_]=E>>>8,this[_+1]=255&E,_+2},w.prototype.writeInt32LE=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,4,2147483647,-2147483648),this[_]=255&E,this[_+1]=E>>>8,this[_+2]=E>>>16,this[_+3]=E>>>24,_+4},w.prototype.writeInt32BE=function(E,_,x){return E=+E,_>>>=0,x||rt(this,E,_,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=255&E,_+4},w.prototype.writeFloatLE=function(E,_,x){return ht(this,E,_,!0,x)},w.prototype.writeFloatBE=function(E,_,x){return ht(this,E,_,!1,x)},w.prototype.writeDoubleLE=function(E,_,x){return ke(this,E,_,!0,x)},w.prototype.writeDoubleBE=function(E,_,x){return ke(this,E,_,!1,x)},w.prototype.copy=function(E,_,x,M){if(!w.isBuffer(E))throw new TypeError("argument should be a Buffer");if(x||(x=0),M||0===M||(M=this.length),_>=E.length&&(_=E.length),_||(_=0),M>0&&M<x&&(M=x),M===x||0===E.length||0===this.length)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),E.length-_<M-x&&(M=E.length-_+x);var fe=M-x;return this===E&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(_,x,M):Uint8Array.prototype.set.call(E,this.subarray(x,M),_),fe},w.prototype.fill=function(E,_,x,M){if("string"==typeof E){if("string"==typeof _?(M=_,_=0,x=this.length):"string"==typeof x&&(M=x,x=this.length),void 0!==M&&"string"!=typeof M)throw new TypeError("encoding must be a string");if("string"==typeof M&&!w.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(1===E.length){var fe=E.charCodeAt(0);("utf8"===M&&fe<128||"latin1"===M)&&(E=fe)}}else"number"==typeof E?E&=255:"boolean"==typeof E&&(E=Number(E));if(_<0||this.length<_||this.length<x)throw new RangeError("Out of range index");if(x<=_)return this;var se;if(_>>>=0,x=void 0===x?this.length:x>>>0,E||(E=0),"number"==typeof E)for(se=_;se<x;++se)this[se]=E;else{var De=w.isBuffer(E)?E:w.from(E,M),Ge=De.length;if(0===Ge)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(se=0;se<x-_;++se)this[se+_]=De[se%Ge]}return this};var gt=/[^+/0-9A-Za-z-_]/g;function St(E,_){var x;_=_||1/0;for(var M=E.length,fe=null,se=[],De=0;De<M;++De){if((x=E.charCodeAt(De))>55295&&x<57344){if(!fe){if(x>56319){(_-=3)>-1&&se.push(239,191,189);continue}if(De+1===M){(_-=3)>-1&&se.push(239,191,189);continue}fe=x;continue}if(x<56320){(_-=3)>-1&&se.push(239,191,189),fe=x;continue}x=65536+(fe-55296<<10|x-56320)}else fe&&(_-=3)>-1&&se.push(239,191,189);if(fe=null,x<128){if((_-=1)<0)break;se.push(x)}else if(x<2048){if((_-=2)<0)break;se.push(x>>6|192,63&x|128)}else if(x<65536){if((_-=3)<0)break;se.push(x>>12|224,x>>6&63|128,63&x|128)}else{if(!(x<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;se.push(x>>18|240,x>>12&63|128,x>>6&63|128,63&x|128)}}return se}function Ye(E){return ve.toByteArray(function(_){if((_=(_=_.split("=")[0]).trim().replace(gt,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}(E))}function yt(E,_,x,M){for(var fe=0;fe<M&&!(fe+x>=_.length||fe>=E.length);++fe)_[fe+x]=E[fe];return fe}function me(E,_){return E instanceof _||null!=E&&null!=E.constructor&&null!=E.constructor.name&&E.constructor.name===_.name}function Ce(E){return E!=E}var at=function(){for(var E="0123456789abcdef",_=new Array(256),x=0;x<16;++x)for(var M=16*x,fe=0;fe<16;++fe)_[M+fe]=E[x]+E[fe];return _}()},6693:(wt,He)=>{"use strict";He.byteLength=function(S){var N=w(S),v=N[1];return 3*(N[0]+v)/4-v},He.toByteArray=function(S){var N,h,F,v=w(S),T=v[0],G=v[1],$=new k(3*(T+(F=G))/4-F),ne=0,Q=G>0?T-4:T;for(h=0;h<Q;h+=4)N=ve[S.charCodeAt(h)]<<18|ve[S.charCodeAt(h+1)]<<12|ve[S.charCodeAt(h+2)]<<6|ve[S.charCodeAt(h+3)],$[ne++]=N>>16&255,$[ne++]=N>>8&255,$[ne++]=255&N;return 2===G&&(N=ve[S.charCodeAt(h)]<<2|ve[S.charCodeAt(h+1)]>>4,$[ne++]=255&N),1===G&&(N=ve[S.charCodeAt(h)]<<10|ve[S.charCodeAt(h+1)]<<4|ve[S.charCodeAt(h+2)]>>2,$[ne++]=N>>8&255,$[ne++]=255&N),$},He.fromByteArray=function(S){for(var N,h=S.length,v=h%3,T=[],G=16383,$=0,ne=h-v;$<ne;$+=G)T.push(m(S,$,$+G>ne?ne:$+G));return 1===v?T.push(L[(N=S[h-1])>>2]+L[N<<4&63]+"=="):2===v&&T.push(L[(N=(S[h-2]<<8)+S[h-1])>>10]+L[N>>4&63]+L[N<<2&63]+"="),T.join("")};for(var L=[],ve=[],k=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0;f<64;++f)L[f]=d[f],ve[d.charCodeAt(f)]=f;function w(S){var N=S.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=S.indexOf("=");return-1===h&&(h=N),[h,h===N?0:4-h%4]}function m(S,N,h){for(var T,G=[],$=N;$<h;$+=3)G.push(L[(T=(S[$]<<16&16711680)+(S[$+1]<<8&65280)+(255&S[$+2]))>>18&63]+L[T>>12&63]+L[T>>6&63]+L[63&T]);return G.join("")}ve["-".charCodeAt(0)]=62,ve["_".charCodeAt(0)]=63},2165:(wt,He)=>{He.read=function(L,ve,k,d,f){var P,w,m=8*f-d-1,S=(1<<m)-1,N=S>>1,h=-7,v=k?f-1:0,T=k?-1:1,G=L[ve+v];for(v+=T,P=G&(1<<-h)-1,G>>=-h,h+=m;h>0;P=256*P+L[ve+v],v+=T,h-=8);for(w=P&(1<<-h)-1,P>>=-h,h+=d;h>0;w=256*w+L[ve+v],v+=T,h-=8);if(0===P)P=1-N;else{if(P===S)return w?NaN:1/0*(G?-1:1);w+=Math.pow(2,d),P-=N}return(G?-1:1)*w*Math.pow(2,P-d)},He.write=function(L,ve,k,d,f,P){var w,m,S,N=8*P-f-1,h=(1<<N)-1,v=h>>1,T=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,G=d?0:P-1,$=d?1:-1,ne=ve<0||0===ve&&1/ve<0?1:0;for(ve=Math.abs(ve),isNaN(ve)||ve===1/0?(m=isNaN(ve)?1:0,w=h):(w=Math.floor(Math.log(ve)/Math.LN2),ve*(S=Math.pow(2,-w))<1&&(w--,S*=2),(ve+=w+v>=1?T/S:T*Math.pow(2,1-v))*S>=2&&(w++,S/=2),w+v>=h?(m=0,w=h):w+v>=1?(m=(ve*S-1)*Math.pow(2,f),w+=v):(m=ve*Math.pow(2,v-1)*Math.pow(2,f),w=0));f>=8;L[k+G]=255&m,G+=$,m/=256,f-=8);for(w=w<<f|m,N+=f;N>0;L[k+G]=255&w,G+=$,w/=256,N-=8);L[k+G-$]|=128*ne}},6934:(wt,He)=>{var L={parseBuffer:function(d){return new ve(d).parse()},addBoxProcessor:function(d,f){"string"==typeof d&&"function"==typeof f&&(k.prototype._boxProcessors[d]=f)},createFile:function(){return new ve},createBox:function(d,f,P){var w=k.create(d);return f&&f.append(w,P),w},createFullBox:function(d,f,P){var w=L.createBox(d,f,P);return w.version=0,w.flags=0,w},Utils:{}};L.Utils.dataViewToString=function(d,f){var P=f||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(P).decode(d);var w=[],m=0;if("utf-8"===P)for(;m<d.byteLength;){var S=d.getUint8(m++);S<128||(S<224?(S=(31&S)<<6,S|=63&d.getUint8(m++)):S<240?(S=(15&S)<<12,S|=(63&d.getUint8(m++))<<6,S|=63&d.getUint8(m++)):(S=(7&S)<<18,S|=(63&d.getUint8(m++))<<12,S|=(63&d.getUint8(m++))<<6,S|=63&d.getUint8(m++))),w.push(String.fromCharCode(S))}else for(;m<d.byteLength;)w.push(String.fromCharCode(d.getUint8(m++)));return w.join("")},L.Utils.utf8ToByteArray=function(d){var f,P;if(typeof TextEncoder<"u")f=(new TextEncoder).encode(d);else for(f=[],P=0;P<d.length;++P){var w=d.charCodeAt(P);w<128?f.push(w):w<2048?(f.push(192|w>>6),f.push(128|63&w)):w<65536?(f.push(224|w>>12),f.push(128|63&w>>6),f.push(128|63&w)):(f.push(240|w>>18),f.push(128|63&w>>12),f.push(128|63&w>>6),f.push(128|63&w))}return f},L.Utils.appendBox=function(d,f,P){if(f._offset=d._cursor.offset,f._root=d._root?d._root:d,f._raw=d._raw,f._parent=d,-1!==P)if(null!=P){var w,m=-1;if("number"==typeof P)m=P;else{if("string"==typeof P)w=P;else{if("object"!=typeof P||!P.type)return void d.boxes.push(f);w=P.type}for(var S=0;S<d.boxes.length;S++)if(w===d.boxes[S].type){m=S+1;break}}d.boxes.splice(m,0,f)}else d.boxes.push(f)},He.parseBuffer=L.parseBuffer,He.addBoxProcessor=L.addBoxProcessor,He.createFile=L.createFile,He.createBox=L.createBox,He.createFullBox=L.createFullBox,He.Utils=L.Utils,L.Cursor=function(d){this.offset=void 0===d?0:d};var ve=function(d){this._cursor=new L.Cursor,this.boxes=[],d&&(this._raw=new DataView(d))};ve.prototype.fetch=function(d){var f=this.fetchAll(d,!0);return f.length?f[0]:null},ve.prototype.fetchAll=function(d,f){var P=[];return ve._sweep.call(this,d,P,f),P},ve.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var d=k.parse(this);if(void 0===d.type)break;this.boxes.push(d)}return this},ve._sweep=function(d,f,P){for(var w in this.type&&this.type==d&&f.push(this),this.boxes){if(f.length&&P)return;ve._sweep.call(this.boxes[w],d,f,P)}},ve.prototype.write=function(){var d,f=0;for(d=0;d<this.boxes.length;d++)f+=this.boxes[d].getLength(!1);var P=new Uint8Array(f);for(this._rawo=new DataView(P.buffer),this.bytes=P,this._cursor.offset=0,d=0;d<this.boxes.length;d++)this.boxes[d].write();return P.buffer},ve.prototype.append=function(d,f){L.Utils.appendBox(this,d,f)};var k=function(){this._cursor=new L.Cursor};k.parse=function(d){var f=new k;return f._offset=d._cursor.offset,f._root=d._root?d._root:d,f._raw=d._raw,f._parent=d,f._parseBox(),d._cursor.offset=f._raw.byteOffset+f._raw.byteLength,f},k.create=function(d){var f=new k;return f.type=d,f.boxes=[],f},k.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],k.prototype._boxProcessors={},k.prototype._procField=function(d,f,P){this._parsing?this[d]=this._readField(f,P):this._writeField(f,P,this[d])},k.prototype._procFieldArray=function(d,f,P,w){var m;if(this._parsing)for(this[d]=[],m=0;m<f;m++)this[d][m]=this._readField(P,w);else for(m=0;m<this[d].length;m++)this._writeField(P,w,this[d][m])},k.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},k.prototype._procEntries=function(d,f,P){var w;if(this._parsing)for(this[d]=[],w=0;w<f;w++)this[d].push({}),P.call(this,this[d][w]);else for(w=0;w<f;w++)P.call(this,this[d][w])},k.prototype._procSubEntries=function(d,f,P,w){var m;if(this._parsing)for(d[f]=[],m=0;m<P;m++)d[f].push({}),w.call(this,d[f][m]);else for(m=0;m<P;m++)w.call(this,d[f][m])},k.prototype._procEntryField=function(d,f,P,w){this._parsing?d[f]=this._readField(P,w):this._writeField(P,w,d[f])},k.prototype._procSubBoxes=function(d,f){var P;if(this._parsing)for(this[d]=[],P=0;P<f;P++)this[d].push(k.parse(this));else for(P=0;P<f;P++)this._rawo?this[d][P].write():this.size+=this[d][P].getLength()},k.prototype._readField=function(d,f){switch(d){case"uint":return this._readUint(f);case"int":return this._readInt(f);case"template":return this._readTemplate(f);case"string":return-1===f?this._readTerminatedString():this._readString(f);case"data":return this._readData(f);case"utf8":return this._readUTF8String();default:return-1}},k.prototype._readInt=function(d){var f=null,P=this._cursor.offset-this._raw.byteOffset;switch(d){case 8:f=this._raw.getInt8(P);break;case 16:f=this._raw.getInt16(P);break;case 32:f=this._raw.getInt32(P);break;case 64:var w=this._raw.getInt32(P),m=this._raw.getInt32(P+4);f=w*Math.pow(2,32)+m}return this._cursor.offset+=d>>3,f},k.prototype._readUint=function(d){var f,P,w=null,m=this._cursor.offset-this._raw.byteOffset;switch(d){case 8:w=this._raw.getUint8(m);break;case 16:w=this._raw.getUint16(m);break;case 24:w=((f=this._raw.getUint16(m))<<8)+(P=this._raw.getUint8(m+2));break;case 32:w=this._raw.getUint32(m);break;case 64:f=this._raw.getUint32(m),P=this._raw.getUint32(m+4),w=f*Math.pow(2,32)+P}return this._cursor.offset+=d>>3,w},k.prototype._readString=function(d){for(var f="",P=0;P<d;P++){var w=this._readUint(8);f+=String.fromCharCode(w)}return f},k.prototype._readTemplate=function(d){return this._readUint(d/2)+this._readUint(d/2)/Math.pow(2,d/2)},k.prototype._readTerminatedString=function(){for(var d="";this._cursor.offset-this._offset<this._raw.byteLength;){var f=this._readUint(8);if(0===f)break;d+=String.fromCharCode(f)}return d},k.prototype._readData=function(d){var f=d>0?d:this._raw.byteLength-(this._cursor.offset-this._offset);if(f>0){var P=new Uint8Array(this._raw.buffer,this._cursor.offset,f);return this._cursor.offset+=f,P}return null},k.prototype._readUTF8String=function(){var d=this._raw.byteLength-(this._cursor.offset-this._offset),f=null;return d>0&&(f=new DataView(this._raw.buffer,this._cursor.offset,d),this._cursor.offset+=d),f&&L.Utils.dataViewToString(f)},k.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},k.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},k.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(k.parse(this))},k.prototype.append=function(d,f){L.Utils.appendBox(this,d,f)},k.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var d=0;d<this.boxes.length;d++)this.size+=this.boxes[d].getLength();return this._data&&this._writeData(this._data),this.size},k.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var d=0;d<this.boxes.length;d++)this.boxes[d].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},k.prototype._writeInt=function(d,f){if(this._rawo){var P=this._cursor.offset-this._rawo.byteOffset;switch(d){case 8:this._rawo.setInt8(P,f);break;case 16:this._rawo.setInt16(P,f);break;case 32:this._rawo.setInt32(P,f);break;case 64:var w=Math.floor(f/Math.pow(2,32)),m=f-w*Math.pow(2,32);this._rawo.setUint32(P,w),this._rawo.setUint32(P+4,m)}this._cursor.offset+=d>>3}else this.size+=d>>3},k.prototype._writeUint=function(d,f){if(this._rawo){var P,w,m=this._cursor.offset-this._rawo.byteOffset;switch(d){case 8:this._rawo.setUint8(m,f);break;case 16:this._rawo.setUint16(m,f);break;case 24:w=255&f,this._rawo.setUint16(m,P=(16776960&f)>>8),this._rawo.setUint8(m+2,w);break;case 32:this._rawo.setUint32(m,f);break;case 64:w=f-(P=Math.floor(f/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(m,P),this._rawo.setUint32(m+4,w)}this._cursor.offset+=d>>3}else this.size+=d>>3},k.prototype._writeString=function(d,f){for(var P=0;P<d;P++)this._writeUint(8,f.charCodeAt(P))},k.prototype._writeTerminatedString=function(d){if(0!==d.length){for(var f=0;f<d.length;f++)this._writeUint(8,d.charCodeAt(f));this._writeUint(8,0)}},k.prototype._writeTemplate=function(d,f){var P=Math.floor(f),w=(f-P)*Math.pow(2,d/2);this._writeUint(d/2,P),this._writeUint(d/2,w)},k.prototype._writeData=function(d){if(d)if(this._rawo){if(d instanceof Array){for(var f=this._cursor.offset-this._rawo.byteOffset,P=0;P<d.length;P++)this._rawo.setInt8(f+P,d[P]);this._cursor.offset+=d.length}d instanceof Uint8Array&&(this._root.bytes.set(d,this._cursor.offset),this._cursor.offset+=d.length)}else this.size+=d.length},k.prototype._writeUTF8String=function(d){var f=L.Utils.utf8ToByteArray(d);if(this._rawo)for(var P=new DataView(this._rawo.buffer,this._cursor.offset,f.length),w=0;w<f.length;w++)P.setUint8(w,f[w]);else this.size+=f.length},k.prototype._writeField=function(d,f,P){switch(d){case"uint":this._writeUint(f,P);break;case"int":this._writeInt(f,P);break;case"template":this._writeTemplate(f,P);break;case"string":-1==f?this._writeTerminatedString(P):this._writeString(f,P);break;case"data":this._writeData(P);break;case"utf8":this._writeUTF8String(P)}},k.prototype._boxProcessors.avc1=k.prototype._boxProcessors.avc2=k.prototype._boxProcessors.avc3=k.prototype._boxProcessors.avc4=k.prototype._boxProcessors.hvc1=k.prototype._boxProcessors.hev1=k.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},k.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_count","uint",32),this._procEntryField(d,"sample_offset",1===this.version?"int":"uint",32)})},k.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},k.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"segment_duration","uint",1===this.version?64:32),this._procEntryField(d,"media_time","int",1===this.version?64:32),this._procEntryField(d,"media_rate_integer","int",16),this._procEntryField(d,"media_rate_fraction","int",16)})},k.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},k.prototype._boxProcessors.free=k.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},k.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},k.prototype._boxProcessors.ftyp=k.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var d=-1;this._parsing&&(d=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",d,"string",4)},k.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},k.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},k.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},k.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},k.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},k.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},k.prototype._boxProcessors.mp4a=k.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},k.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},k.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},k.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},k.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},k.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},k.prototype._boxProcessors.sdtp=function(){this._procFullBox();var d=-1;this._parsing&&(d=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",d,"uint",8)},k.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(d){this._parsing||(d.reference=(1&d.reference_type)<<31,d.reference|=2147483647&d.referenced_size,d.sap=(1&d.starts_with_SAP)<<31,d.sap|=(3&d.SAP_type)<<28,d.sap|=268435455&d.SAP_delta_time),this._procEntryField(d,"reference","uint",32),this._procEntryField(d,"subsegment_duration","uint",32),this._procEntryField(d,"sap","uint",32),this._parsing&&(d.reference_type=d.reference>>31&1,d.referenced_size=2147483647&d.reference,d.starts_with_SAP=d.sap>>31&1,d.SAP_type=d.sap>>28&7,d.SAP_delta_time=268435455&d.sap)})},k.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},k.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(d){this._procEntryField(d,"ranges_count","uint",32),this._procSubEntries(d,"ranges",d.ranges_count,function(f){this._procEntryField(f,"level","uint",8),this._procEntryField(f,"range_size","uint",24)})})},k.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},k.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},k.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_count","uint",32),this._procEntryField(d,"sample_delta","uint",32)})},k.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_delta","uint",32),this._procEntryField(d,"subsample_count","uint",16),this._procSubEntries(d,"subsamples",d.subsample_count,function(f){this._procEntryField(f,"subsample_size","uint",1===this.version?32:16),this._procEntryField(f,"subsample_priority","uint",8),this._procEntryField(f,"discardable","uint",8),this._procEntryField(f,"codec_specific_parameters","uint",32)})})},k.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},k.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},k.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},k.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(d){this._procEntryField(d,"time","uint",1===this.version?64:32),this._procEntryField(d,"moof_offset","uint",1===this.version?64:32),this._procEntryField(d,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(d,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(d,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},k.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},k.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},k.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(d){256&this.flags&&this._procEntryField(d,"sample_duration","uint",32),512&this.flags&&this._procEntryField(d,"sample_size","uint",32),1024&this.flags&&this._procEntryField(d,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(d,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},k.prototype._boxProcessors["url "]=k.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},k.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},k.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},k.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},k.prototype._boxProcessors.vtte=function(){}},5530:(wt,He,L)=>{"use strict";wt.exports=L(6146).polyfill()},6146:function(wt,He,L){wt.exports=function(){"use strict";function ve(Ye){return"function"==typeof Ye}var k=Array.isArray?Array.isArray:function(Ye){return"[object Array]"===Object.prototype.toString.call(Ye)},d=0,f=void 0,P=void 0,w=function(Ye,yt){G[d]=Ye,G[d+1]=yt,2===(d+=2)&&(P?P($):F())},m=typeof window<"u"?window:void 0,S=m||{},N=S.MutationObserver||S.WebKitMutationObserver,h=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){var Ye=setTimeout;return function(){return Ye($,1)}}var G=new Array(1e3);function $(){for(var Ye=0;Ye<d;Ye+=2)(0,G[Ye])(G[Ye+1]),G[Ye]=void 0,G[Ye+1]=void 0;d=0}var ne,Q,oe,H,F=void 0;function W(Ye,yt){var me=this,Ce=new this.constructor(ze);void 0===Ce[ce]&&ke(Ce);var at=me._state;if(at){var E=arguments[at-1];w(function(){return Mt(at,Ce,E,me._result)})}else Ue(me,Ce,Ye,yt);return Ce}function he(Ye){if(Ye&&"object"==typeof Ye&&Ye.constructor===this)return Ye;var yt=new this(ze);return Rt(yt,Ye),yt}F=h?function(){return process.nextTick($)}:N?(Q=0,oe=new N($),H=document.createTextNode(""),oe.observe(H,{characterData:!0}),function(){H.data=Q=++Q%2}):v?((ne=new MessageChannel).port1.onmessage=$,function(){return ne.port2.postMessage(0)}):void 0===m?function(){try{var Ye=Function("return this")().require("vertx");return void 0!==(f=Ye.runOnLoop||Ye.runOnContext)?function(){f($)}:T()}catch{return T()}}():T();var ce=Math.random().toString(36).substring(2);function ze(){}var st=void 0;function ge(Ye,yt,me){var Ce,at;yt.constructor===Ye.constructor&&me===W&&yt.constructor.resolve===he?(Ce=Ye,1===(at=yt)._state?We(Ce,at._result):2===at._state?Ne(Ce,at._result):Ue(at,void 0,function(E){return Rt(Ce,E)},function(E){return Ne(Ce,E)})):void 0===me?We(Ye,yt):ve(me)?function(Ce,at,E){w(function(_){var x=!1,M=function(fe,se,De,Ge){try{fe.call(se,function(fe){x||(x=!0,at!==fe?Rt(_,fe):We(_,fe))},function(fe){x||(x=!0,Ne(_,fe))})}catch(Ke){return Ke}}(E,at);!x&&M&&(x=!0,Ne(_,M))},Ce)}(Ye,yt,me):We(Ye,yt)}function Rt(Ye,yt){if(Ye===yt)Ne(Ye,new TypeError("You cannot resolve a promise with itself"));else if(at=typeof(Ce=yt),null===Ce||"object"!==at&&"function"!==at)We(Ye,yt);else{var me=void 0;try{me=yt.then}catch(E){return void Ne(Ye,E)}ge(Ye,yt,me)}var Ce,at}function Ve(Ye){Ye._onerror&&Ye._onerror(Ye._result),rt(Ye)}function We(Ye,yt){Ye._state===st&&(Ye._result=yt,Ye._state=1,0!==Ye._subscribers.length&&w(rt,Ye))}function Ne(Ye,yt){Ye._state===st&&(Ye._state=2,Ye._result=yt,w(Ve,Ye))}function Ue(Ye,yt,me,Ce){var at=Ye._subscribers,E=at.length;Ye._onerror=null,at[E]=yt,at[E+1]=me,at[E+2]=Ce,0===E&&Ye._state&&w(rt,Ye)}function rt(Ye){var yt=Ye._subscribers,me=Ye._state;if(0!==yt.length){for(var Ce=void 0,at=void 0,E=Ye._result,_=0;_<yt.length;_+=3)at=yt[_+me],(Ce=yt[_])?Mt(me,Ce,at,E):at(E);Ye._subscribers.length=0}}function Mt(Ye,yt,me,Ce){var at=ve(me),E=void 0,_=void 0,x=!0;if(at){try{E=me(Ce)}catch(M){x=!1,_=M}if(yt===E)return void Ne(yt,new TypeError("A promises callback cannot return that same promise."))}else E=Ce;yt._state!==st||(at&&x?Rt(yt,E):!1===x?Ne(yt,_):1===Ye?We(yt,E):2===Ye&&Ne(yt,E))}var ht=0;function ke(Ye){Ye[ce]=ht++,Ye._state=void 0,Ye._result=void 0,Ye._subscribers=[]}var gt=function(){function Ye(yt,me){this._instanceConstructor=yt,this.promise=new yt(ze),this.promise[ce]||ke(this.promise),k(me)?(this.length=me.length,this._remaining=me.length,this._result=new Array(this.length),0===this.length?We(this.promise,this._result):(this.length=this.length||0,this._enumerate(me),0===this._remaining&&We(this.promise,this._result))):Ne(this.promise,new Error("Array Methods must be provided an Array"))}return Ye.prototype._enumerate=function(yt){for(var me=0;this._state===st&&me<yt.length;me++)this._eachEntry(yt[me],me)},Ye.prototype._eachEntry=function(yt,me){var Ce=this._instanceConstructor,at=Ce.resolve;if(at===he){var E=void 0,_=void 0,x=!1;try{E=yt.then}catch(fe){x=!0,_=fe}if(E===W&&yt._state!==st)this._settledAt(yt._state,me,yt._result);else if("function"!=typeof E)this._remaining--,this._result[me]=yt;else if(Ce===St){var M=new Ce(ze);x?Ne(M,_):ge(M,yt,E),this._willSettleAt(M,me)}else this._willSettleAt(new Ce(function(fe){return fe(yt)}),me)}else this._willSettleAt(at(yt),me)},Ye.prototype._settledAt=function(yt,me,Ce){var at=this.promise;at._state===st&&(this._remaining--,2===yt?Ne(at,Ce):this._result[me]=Ce),0===this._remaining&&We(at,this._result)},Ye.prototype._willSettleAt=function(yt,me){var Ce=this;Ue(yt,void 0,function(at){return Ce._settledAt(1,me,at)},function(at){return Ce._settledAt(2,me,at)})},Ye}(),St=function(){function Ye(yt){this[ce]=ht++,this._result=this._state=void 0,this._subscribers=[],ze!==yt&&("function"!=typeof yt&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Ye?function(me,Ce){try{Ce(function(at){Rt(me,at)},function(at){Ne(me,at)})}catch(at){Ne(me,at)}}(this,yt):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Ye.prototype.catch=function(yt){return this.then(null,yt)},Ye.prototype.finally=function(yt){var Ce=this.constructor;return ve(yt)?this.then(function(at){return Ce.resolve(yt()).then(function(){return at})},function(at){return Ce.resolve(yt()).then(function(){throw at})}):this.then(yt,yt)},Ye}();return St.prototype.then=W,St.all=function(Ye){return new gt(this,Ye).promise},St.race=function(Ye){var yt=this;return k(Ye)?new yt(function(me,Ce){for(var at=Ye.length,E=0;E<at;E++)yt.resolve(Ye[E]).then(me,Ce)}):new yt(function(me,Ce){return Ce(new TypeError("You must pass an array to race."))})},St.resolve=he,St.reject=function(Ye){var yt=new this(ze);return Ne(yt,Ye),yt},St._setScheduler=function(Ye){P=Ye},St._setAsap=function(Ye){w=Ye},St._asap=w,St.polyfill=function(){var Ye=void 0;if(void 0!==L.g)Ye=L.g;else if(typeof self<"u")Ye=self;else try{Ye=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var yt=Ye.Promise;if(yt){var me=null;try{me=Object.prototype.toString.call(yt.resolve())}catch{}if("[object Promise]"===me&&!yt.cast)return}Ye.Promise=St},St.Promise=St,St}()},1159:wt=>{"use strict";var He,L="object"==typeof Reflect?Reflect:null,ve=L&&"function"==typeof L.apply?L.apply:function($,ne,Q){return Function.prototype.apply.call($,ne,Q)};He=L&&"function"==typeof L.ownKeys?L.ownKeys:Object.getOwnPropertySymbols?function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:function($){return Object.getOwnPropertyNames($)};var k=Number.isNaN||function($){return $!=$};function d(){d.init.call(this)}wt.exports=d,wt.exports.once=function($,ne){return new Promise(function(Q,oe){function H(W){$.removeListener(ne,F),oe(W)}function F(){"function"==typeof $.removeListener&&$.removeListener("error",H),Q([].slice.call(arguments))}var W;G($,ne,F,{once:!0}),"error"!==ne&&"function"==typeof(W=$).on&&G(W,"error",H,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var f=10;function P($){if("function"!=typeof $)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof $)}function w($){return void 0===$._maxListeners?d.defaultMaxListeners:$._maxListeners}function m($,ne,Q,oe){var H,F,W;if(P(Q),void 0===(F=$._events)?(F=$._events=Object.create(null),$._eventsCount=0):(void 0!==F.newListener&&($.emit("newListener",ne,Q.listener?Q.listener:Q),F=$._events),W=F[ne]),void 0===W)W=F[ne]=Q,++$._eventsCount;else if("function"==typeof W?W=F[ne]=oe?[Q,W]:[W,Q]:oe?W.unshift(Q):W.push(Q),(H=w($))>0&&W.length>H&&!W.warned){W.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(ne)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=$,ce.type=ne,ce.count=W.length,console&&console.warn&&console.warn(ce)}return $}function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function N($,ne,Q){var oe={fired:!1,wrapFn:void 0,target:$,type:ne,listener:Q},H=S.bind(oe);return H.listener=Q,oe.wrapFn=H,H}function h($,ne,Q){var oe=$._events;if(void 0===oe)return[];var H=oe[ne];return void 0===H?[]:"function"==typeof H?Q?[H.listener||H]:[H]:Q?function(F){for(var W=new Array(F.length),he=0;he<W.length;++he)W[he]=F[he].listener||F[he];return W}(H):T(H,H.length)}function v($){var ne=this._events;if(void 0!==ne){var Q=ne[$];if("function"==typeof Q)return 1;if(void 0!==Q)return Q.length}return 0}function T($,ne){for(var Q=new Array(ne),oe=0;oe<ne;++oe)Q[oe]=$[oe];return Q}function G($,ne,Q,oe){if("function"==typeof $.on)oe.once?$.once(ne,Q):$.on(ne,Q);else{if("function"!=typeof $.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof $);$.addEventListener(ne,function H(F){oe.once&&$.removeEventListener(ne,H),Q(F)})}}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function($){if("number"!=typeof $||$<0||k($))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+$+".");f=$}}),d.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function($){if("number"!=typeof $||$<0||k($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this},d.prototype.getMaxListeners=function(){return w(this)},d.prototype.emit=function($){for(var ne=[],Q=1;Q<arguments.length;Q++)ne.push(arguments[Q]);var oe="error"===$,H=this._events;if(void 0!==H)oe=oe&&void 0===H.error;else if(!oe)return!1;if(oe){var F;if(ne.length>0&&(F=ne[0]),F instanceof Error)throw F;var W=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw W.context=F,W}var he=H[$];if(void 0===he)return!1;if("function"==typeof he)ve(he,this,ne);else{var ce=he.length,ze=T(he,ce);for(Q=0;Q<ce;++Q)ve(ze[Q],this,ne)}return!0},d.prototype.on=d.prototype.addListener=function($,ne){return m(this,$,ne,!1)},d.prototype.prependListener=function($,ne){return m(this,$,ne,!0)},d.prototype.once=function($,ne){return P(ne),this.on($,N(this,$,ne)),this},d.prototype.prependOnceListener=function($,ne){return P(ne),this.prependListener($,N(this,$,ne)),this},d.prototype.off=d.prototype.removeListener=function($,ne){var Q,oe,H,F,W;if(P(ne),void 0===(oe=this._events))return this;if(void 0===(Q=oe[$]))return this;if(Q===ne||Q.listener===ne)0==--this._eventsCount?this._events=Object.create(null):(delete oe[$],oe.removeListener&&this.emit("removeListener",$,Q.listener||ne));else if("function"!=typeof Q){for(H=-1,F=Q.length-1;F>=0;F--)if(Q[F]===ne||Q[F].listener===ne){W=Q[F].listener,H=F;break}if(H<0)return this;0===H?Q.shift():function(he,ce){for(;ce+1<he.length;ce++)he[ce]=he[ce+1];he.pop()}(Q,H),1===Q.length&&(oe[$]=Q[0]),void 0!==oe.removeListener&&this.emit("removeListener",$,W||ne)}return this},d.prototype.removeAllListeners=function($){var ne,Q,oe;if(void 0===(Q=this._events))return this;if(void 0===Q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Q[$]&&(0==--this._eventsCount?this._events=Object.create(null):delete Q[$]),this;if(0===arguments.length){var H,F=Object.keys(Q);for(oe=0;oe<F.length;++oe)"removeListener"!==(H=F[oe])&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ne=Q[$]))this.removeListener($,ne);else if(void 0!==ne)for(oe=ne.length-1;oe>=0;oe--)this.removeListener($,ne[oe]);return this},d.prototype.listeners=function($){return h(this,$,!0)},d.prototype.rawListeners=function($){return h(this,$,!1)},d.listenerCount=function($,ne){return"function"==typeof $.listenerCount?$.listenerCount(ne):v.call($,ne)},d.prototype.listenerCount=v,d.prototype.eventNames=function(){return this._eventsCount>0?He(this._events):[]}},3101:wt=>{"use strict";var He=Array.isArray,L=Object.keys,ve=Object.prototype.hasOwnProperty;wt.exports=function k(d,f){if(d===f)return!0;if(d&&f&&"object"==typeof d&&"object"==typeof f){var P,w,m,S=He(d),N=He(f);if(S&&N){if((w=d.length)!=f.length)return!1;for(P=w;0!=P--;)if(!k(d[P],f[P]))return!1;return!0}if(S!=N)return!1;var h=d instanceof Date,v=f instanceof Date;if(h!=v)return!1;if(h&&v)return d.getTime()==f.getTime();var T=d instanceof RegExp,G=f instanceof RegExp;if(T!=G)return!1;if(T&&G)return d.toString()==f.toString();var $=L(d);if((w=$.length)!==L(f).length)return!1;for(P=w;0!=P--;)if(!ve.call(f,$[P]))return!1;for(P=w;0!=P--;)if(!k(d[m=$[P]],f[m]))return!1;return!0}return d!=d&&f!=f}},3362:(wt,He,L)=>{!function(ve,k,d,f,P){function w(_){if("contents"in _)for(var x=("styleAttrs"in _?_.styleAttrs[f.byName.ruby.qname]:null),M="span"===_.kind&&("container"===x||"textContainer"===x||"baseContainer"===x),fe=_.contents.length-1;fe>=0;fe--)!M||"styleAttrs"in _.contents[fe]&&f.byName.ruby.qname in _.contents[fe].styleAttrs?w(_.contents[fe]):delete _.contents[fe]}function m(_,x,M,fe){var se=fe&&"seq"===fe.timeContainer,De=0;fe&&(De=se&&M?M.end:fe.begin),x.begin=x.explicit_begin?x.explicit_begin+De:De;var Ge=x.begin,Ke=null;if("sets"in x)for(var Fe=0;Fe<x.sets.length;Fe++)m(_,x.sets[Fe],Ke,x),Ge="seq"===x.timeContainer?x.sets[Fe].end:Math.max(Ge,x.sets[Fe].end),Ke=x.sets[Fe];if("contents"in x){if("contents"in x)for(var tt=0;tt<x.contents.length;tt++)m(_,x.contents[tt],Ke,x),Ge="seq"===x.timeContainer?x.contents[tt].end:Math.max(Ge,x.contents[tt].end),Ke=x.contents[tt]}else Ge=se?x.begin:Number.POSITIVE_INFINITY;x.end=null!==x.explicit_end&&null!==x.explicit_dur?Math.min(x.begin+x.explicit_dur,De+x.explicit_end):null===x.explicit_end&&null!==x.explicit_dur?x.begin+x.explicit_dur:null!==x.explicit_end&&null===x.explicit_dur?De+x.explicit_end:Ge,delete x.explicit_begin,delete x.explicit_dur,delete x.explicit_end,_._registerEvent(x)}function S(_){this.node=_}function N(){this.events=[],this.head=new h,this.body=null}function h(){this.styling=new v,this.layout=new $}function v(){this.styles={},this.initials={}}function T(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function G(){this.styleAttrs=null}function $(){this.regions={}}function ne(_,x){Q.call(this,"image"),this.src=_,this.type=x}function Q(_){this.kind=_}function oe(_){this.id=_}function H(_){this.regionID=_}function F(_){this.styleAttrs=_}function W(_){this.sets=_}function he(_){this.contents=_}function ce(_,x,M){this.explicit_begin=_,this.explicit_end=x,this.explicit_dur=M}function ze(){Q.call(this,"body")}function st(){Q.call(this,"div")}function ge(){Q.call(this,"p")}function Rt(){Q.call(this,"span")}function Ve(){Q.call(this,"span")}function We(){Q.call(this,"br")}function Ne(){}function Ue(){}function rt(_){return _&&"xml:id"in _.attributes&&_.attributes["xml:id"].value||null}function Mt(_){return _&&"style"in _.attributes?_.attributes.style.value.split(" "):[]}function ht(_,x){var M={};if(null!==_)for(var fe in _.attributes){var se=_.attributes[fe].uri+" "+_.attributes[fe].local,De=f.byQName[se];if(void 0!==De){var Ge=De.parse(_.attributes[fe].value);null!==Ge?(M[se]=Ge,De===f.byName.zIndex&&me(x,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ce(x,"Cannot parse styling attribute "+se+" --\x3e "+_.attributes[fe].value)}}return M}function ke(_,x,M){for(var fe in _.attributes)if(_.attributes[fe].uri===x&&_.attributes[fe].local===M)return _.attributes[fe].value;return null}function gt(_,x,M){var fe,se=null;return null!==(fe=/^(\d+(?:\.\d+)?)f$/.exec(M))?null!==x&&(se=parseFloat(fe[1])/x):null!==(fe=/^(\d+(?:\.\d+)?)t$/.exec(M))?null!==_&&(se=parseFloat(fe[1])/_):null!==(fe=/^(\d+(?:\.\d+)?)ms$/.exec(M))?se=parseFloat(fe[1])/1e3:null!==(fe=/^(\d+(?:\.\d+)?)s$/.exec(M))?se=parseFloat(fe[1]):null!==(fe=/^(\d+(?:\.\d+)?)h$/.exec(M))?se=3600*parseFloat(fe[1]):null!==(fe=/^(\d+(?:\.\d+)?)m$/.exec(M))?se=60*parseFloat(fe[1]):null!==(fe=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(M))?se=3600*parseInt(fe[1])+60*parseInt(fe[2])+parseFloat(fe[3]):null!==(fe=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(M))&&null!==x&&(se=3600*parseInt(fe[1])+60*parseInt(fe[2])+parseInt(fe[3])+(null===fe[4]?0:parseInt(fe[4])/x)),se}function St(_,x,M){for(;x.styleRefs.length>0;){var fe=x.styleRefs.pop();fe in _.styles?(St(_,_.styles[fe],M),yt(_.styles[fe].styleAttrs,x.styleAttrs)):Ce(M,"Non-existant style id referenced")}}function Ye(_,x,M,fe){for(var se=x.length-1;se>=0;se--){var De=x[se];De in _.styles?yt(_.styles[De].styleAttrs,M):Ce(fe,"Non-existant style id referenced")}}function yt(_,x){for(var M in _)_.hasOwnProperty(M)&&(M in x||(x[M]=_[M]))}function me(_,x){if(_&&_.warn&&_.warn(x))throw x}function Ce(_,x){if(_&&_.error&&_.error(x))throw x}function at(_,x){throw _&&_.fatal&&_.fatal(x),x}function E(_,x){for(var M,fe=0,se=_.length-1;fe<=se;){var De=_[M=Math.floor((fe+se)/2)];if(De<x)fe=M+1;else{if(!(De>x))return{found:!0,index:M};se=M-1}}return{found:!1,index:fe}}ve.fromXML=function(_,x,M){var fe=k.parser(!0,{xmlns:!0}),se=[],De=[],Ge=[],Ke=0,Fe=null;fe.onclosetag=function($e){if(se[0]instanceof Ne)null!==Fe.head&&null!==Fe.head.styling&&Ye(Fe.head.styling,se[0].styleRefs,se[0].styleAttrs,x),delete se[0].styleRefs;else if(se[0]instanceof v)for(var Tt in se[0].styles)se[0].styles.hasOwnProperty(Tt)&&St(se[0],se[0].styles[Tt],x);else if(se[0]instanceof ge||se[0]instanceof Rt){if(se[0].contents.length>1){var Ot,on=[se[0].contents[0]];for(Ot=1;Ot<se[0].contents.length;Ot++)se[0].contents[Ot]instanceof Ve&&on[on.length-1]instanceof Ve?on[on.length-1].text+=se[0].contents[Ot].text:on.push(se[0].contents[Ot]);se[0].contents=on}se[0]instanceof Rt&&1===se[0].contents.length&&se[0].contents[0]instanceof Ve&&(se[0].text=se[0].contents[0].text,delete se[0].contents)}else se[0]instanceof S&&(se[0].node.uri===d.ns_tt&&"metadata"===se[0].node.local?Ke--:Ke>0&&M&&"onCloseTag"in M&&M.onCloseTag());Ge.shift(),De.shift(),se.shift()},fe.ontext=function($e){if(void 0!==se[0])if(se[0]instanceof Rt||se[0]instanceof ge){if(se[0]instanceof Rt){var Tt=se[0].styleAttrs[f.byName.ruby.qname];if("container"===Tt||"textContainer"===Tt||"baseContainer"===Tt)return}var Ot=new Ve;Ot.initFromText(Fe,se[0],$e,De[0],Ge[0],x),se[0].contents.push(Ot)}else se[0]instanceof S&&Ke>0&&M&&"onText"in M&&M.onText($e)},fe.onopentag=function($e){var Tt=$e.attributes["xml:space"];Ge.unshift(Tt?Tt.value:0===Ge.length?"default":Ge[0]);var Ot=$e.attributes["xml:lang"];if(De.unshift(Ot?Ot.value:0===De.length?"":De[0]),$e.uri===d.ns_tt)if("tt"===$e.local)null!==Fe&&at(x,"Two <tt> elements at ("+this.line+","+this.column+")"),(Fe=new N).initFromNode($e,De[0],x),se.unshift(Fe);else if("head"===$e.local)se[0]instanceof N||at(x,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),se.unshift(Fe.head);else if("styling"===$e.local)se[0]instanceof h||at(x,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),se.unshift(Fe.head.styling);else if("style"===$e.local){var on;se[0]instanceof v?((on=new T).initFromNode($e,x),on.id?Fe.head.styling.styles[on.id]=on:Ce(x,"<style> element missing @id attribute"),se.unshift(on)):se[0]instanceof Ne?((on=new T).initFromNode($e,x),yt(on.styleAttrs,se[0].styleAttrs),se.unshift(on)):at(x,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===$e.local){var bn;if(se[0]instanceof v){for(var Nn in(bn=new G).initFromNode($e,x),bn.styleAttrs)bn.styleAttrs.hasOwnProperty(Nn)&&(Fe.head.styling.initials[Nn]=bn.styleAttrs[Nn]);se.unshift(bn)}else at(x,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===$e.local)se[0]instanceof h||at(x,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),se.unshift(Fe.head.layout);else if("region"===$e.local){se[0]instanceof $||at(x,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var An=new Ne;An.initFromNode(Fe,$e,De[0],x),!An.id||An.id in Fe.head.layout.regions?Ce(x,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Fe.head.layout.regions[An.id]=An,se.unshift(An)}else if("body"===$e.local){se[0]instanceof N||at(x,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Fe.body&&at(x,"Second <body> element at "+this.line+","+this.column+")");var Qn=new ze;Qn.initFromNode(Fe,$e,De[0],x),Fe.body=Qn,se.unshift(Qn)}else if("div"===$e.local){se[0]instanceof st||se[0]instanceof ze||at(x,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Un=new st;Un.initFromNode(Fe,se[0],$e,De[0],x);var Dr=Un.styleAttrs[f.byName.backgroundImage.qname];Dr&&(Un.contents.push(new ne(Dr)),delete Un.styleAttrs[f.byName.backgroundImage.qname]),se[0].contents.push(Un),se.unshift(Un)}else if("image"===$e.local){se[0]instanceof st||at(x,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var wi=new ne;wi.initFromNode(Fe,se[0],$e,De[0],x),se[0].contents.push(wi),se.unshift(wi)}else if("p"===$e.local){se[0]instanceof st||at(x,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Vr=new ge;Vr.initFromNode(Fe,se[0],$e,De[0],x),se[0].contents.push(Vr),se.unshift(Vr)}else if("span"===$e.local){se[0]instanceof Rt||se[0]instanceof ge||at(x,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var uo=new Rt;uo.initFromNode(Fe,se[0],$e,De[0],Ge[0],x),se[0].contents.push(uo),se.unshift(uo)}else if("br"===$e.local){se[0]instanceof Rt||se[0]instanceof ge||at(x,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Mi=new We;Mi.initFromNode(Fe,se[0],$e,De[0],x),se[0].contents.push(Mi),se.unshift(Mi)}else if("set"===$e.local){se[0]instanceof Rt||se[0]instanceof ge||se[0]instanceof st||se[0]instanceof ze||se[0]instanceof Ne||se[0]instanceof We||at(x,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var fo=new Ue;fo.initFromNode(Fe,se[0],$e,x),se[0].sets.push(fo),se.unshift(fo)}else se.unshift(new S($e));else se.unshift(new S($e));if(se[0]instanceof S)if($e.uri===d.ns_tt&&"metadata"===$e.local)Ke++;else if(Ke>0&&M&&"onOpenTag"in M){var ho=[];for(var Hi in $e.attributes)ho[$e.attributes[Hi].uri+" "+$e.attributes[Hi].local]={uri:$e.attributes[Hi].uri,local:$e.attributes[Hi].local,value:$e.attributes[Hi].value};M.onOpenTag($e.uri,$e.local,ho)}},fe.write(_).close(),delete Fe.head.styling.styles;var tt=!1;for(var it in Fe.head.layout.regions)if(Fe.head.layout.regions.hasOwnProperty(it)){tt=!0;break}if(!tt){var Ie=Ne.prototype.createDefaultRegion(Fe.lang);Fe.head.layout.regions[Ie.id]=Ie}for(var Xe in Fe.head.layout.regions)Fe.head.layout.regions.hasOwnProperty(Xe)&&m(Fe,Fe.head.layout.regions[Xe],null,null);return Fe.body&&m(Fe,Fe.body,null,null),Fe.body&&w(Fe.body),Fe},N.prototype.initFromNode=function(_,x,M){var fe=function(Ke,Fe){var tt=ke(Ke,d.ns_ttp,"cellResolution"),it=15,Ie=32;if(null!==tt){var Xe=/(\d+) (\d+)/.exec(tt);null!==Xe?(Ie=parseInt(Xe[1]),it=parseInt(Xe[2])):me(Fe,"Malformed cellResolution value (using initial value instead)")}return{w:Ie,h:it}}(_,M);this.cellLength={h:new P.ComputedLength(0,1/fe.h),w:new P.ComputedLength(1/fe.w,0)};var se=function(Ke,Fe){var tt,it=ke(Ke,d.ns_ttp,"frameRate"),Ie=30;null!==it&&(null!==(tt=/(\d+)/.exec(it))?Ie=parseInt(tt[1]):me(Fe,"Malformed frame rate attribute (using initial value instead)"));var Xe=ke(Ke,d.ns_ttp,"frameRateMultiplier"),$e=1;null!==Xe&&(null!==(tt=/(\d+) (\d+)/.exec(Xe))?$e=parseInt(tt[1])/parseInt(tt[2]):me(Fe,"Malformed frame rate multiplier attribute (using initial value instead)"));var Tt=$e*Ie,Ot=1,on=ke(Ke,d.ns_ttp,"tickRate");return null===on?null!==it&&(Ot=Tt):null!==(tt=/(\d+)/.exec(on))?Ot=parseInt(tt[1]):me(Fe,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Tt,tickRate:Ot}}(_,M);this.effectiveFrameRate=se.effectiveFrameRate,this.tickRate=se.tickRate,this.aspectRatio=function(Ke,Fe){var tt=ke(Ke,d.ns_ittp,"aspectRatio");null===tt&&(tt=ke(Ke,d.ns_ttp,"displayAspectRatio"));var it=null;if(null!==tt){var Ie=/(\d+)\s+(\d+)/.exec(tt);if(null!==Ie){var Xe=parseInt(Ie[1]),$e=parseInt(Ie[2]);0!==Xe&&0!==$e?it=Xe/$e:Ce(Fe,"Illegal aspectRatio values (ignoring)")}else Ce(Fe,"Malformed aspectRatio attribute (ignoring)")}return it}(_,M);var De=ke(_,d.ns_ttp,"timeBase");null!==De&&"media"!==De&&at(M,"Unsupported time base");var Ge=function(Ke,Fe){var tt=ke(Ke,d.ns_tts,"extent");if(null===tt)return null;var it=tt.split(" ");if(2!==it.length)return me(Fe,"Malformed extent (ignoring)"),null;var Ie=P.parseLength(it[0]),Xe=P.parseLength(it[1]);return Xe&&Ie?{h:Xe,w:Ie}:(me(Fe,"Malformed extent values (ignoring)"),null)}(_,M);null===Ge?this.pxLength={h:null,w:null}:("px"===Ge.h.unit&&"px"===Ge.w.unit||at(M,"Extent on TT must be in px or absent"),this.pxLength={h:new P.ComputedLength(0,1/Ge.h.value),w:new P.ComputedLength(1/Ge.w.value,0)}),this.dimensions={h:new P.ComputedLength(0,1),w:new P.ComputedLength(1,0)},this.lang=x},N.prototype._registerEvent=function(_){if(!(_.end<=_.begin)){var x=E(this.events,_.begin);if(x.found||this.events.splice(x.index,0,_.begin),_.end!==Number.POSITIVE_INFINITY){var M=E(this.events,_.end);M.found||this.events.splice(M.index,0,_.end)}}},N.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},N.prototype.getMediaTimeEvents=function(){return this.events},T.prototype.initFromNode=function(_,x){this.id=rt(_),this.styleAttrs=ht(_,x),this.styleRefs=Mt(_)},G.prototype.initFromNode=function(_,x){for(var M in this.styleAttrs={},_.attributes)_.attributes[M].uri!==d.ns_itts&&_.attributes[M].uri!==d.ns_ebutts&&_.attributes[M].uri!==d.ns_tts||(this.styleAttrs[_.attributes[M].uri+" "+_.attributes[M].local]=_.attributes[M].value)},ne.prototype.initFromNode=function(_,x,M,fe,se){this.src="src"in M.attributes?M.attributes.src.value:null,this.src||Ce(se,"Invalid image@src attribute"),this.type="type"in M.attributes?M.attributes.type.value:null,this.type||Ce(se,"Invalid image@type attribute"),F.prototype.initFromNode.call(this,_,x,M,se),ce.prototype.initFromNode.call(this,_,x,M,se),W.prototype.initFromNode.call(this,_,x,M,se),H.prototype.initFromNode.call(this,_,x,M,se),this.lang=fe},oe.prototype.initFromNode=function(_,x,M,fe){this.id=rt(M)},H.prototype.initFromNode=function(_,x,M,fe){var se;this.regionID=(se=M)&&"region"in se.attributes?se.attributes.region.value:""},F.prototype.initFromNode=function(_,x,M,fe){this.styleAttrs=ht(M,fe),null!==_.head&&null!==_.head.styling&&Ye(_.head.styling,Mt(M),this.styleAttrs,fe)},W.prototype.initFromNode=function(_,x,M,fe){this.sets=[]},he.prototype.initFromNode=function(_,x,M,fe){this.contents=[]},ce.prototype.initFromNode=function(_,x,M,fe){var De,Ke,se=function(De,Ge,Ke,Fe){var tt=null;Ke&&"begin"in Ke.attributes&&null===(tt=gt(De.tickRate,De.effectiveFrameRate,Ke.attributes.begin.value))&&me(Fe,"Malformed begin value "+Ke.attributes.begin.value+" (using 0)");var it=null;Ke&&"dur"in Ke.attributes&&null===(it=gt(De.tickRate,De.effectiveFrameRate,Ke.attributes.dur.value))&&me(Fe,"Malformed dur value "+Ke.attributes.dur.value+" (ignoring)");var Ie=null;return Ke&&"end"in Ke.attributes&&null===(Ie=gt(De.tickRate,De.effectiveFrameRate,Ke.attributes.end.value))&&me(Fe,"Malformed end value (ignoring)"),{explicit_begin:tt,explicit_end:Ie,explicit_dur:it}}(_,0,M,fe);this.explicit_begin=se.explicit_begin,this.explicit_end=se.explicit_end,this.explicit_dur=se.explicit_dur,this.timeContainer=(Ke=(De=M)&&"timeContainer"in De.attributes?De.attributes.timeContainer.value:null)&&"par"!==Ke?"seq"===Ke?"seq":(Ce(fe,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"},ze.prototype.initFromNode=function(_,x,M,fe){F.prototype.initFromNode.call(this,_,null,x,fe),ce.prototype.initFromNode.call(this,_,null,x,fe),W.prototype.initFromNode.call(this,_,null,x,fe),H.prototype.initFromNode.call(this,_,null,x,fe),he.prototype.initFromNode.call(this,_,null,x,fe),this.lang=M},st.prototype.initFromNode=function(_,x,M,fe,se){F.prototype.initFromNode.call(this,_,x,M,se),ce.prototype.initFromNode.call(this,_,x,M,se),W.prototype.initFromNode.call(this,_,x,M,se),H.prototype.initFromNode.call(this,_,x,M,se),he.prototype.initFromNode.call(this,_,x,M,se),this.lang=fe},ge.prototype.initFromNode=function(_,x,M,fe,se){F.prototype.initFromNode.call(this,_,x,M,se),ce.prototype.initFromNode.call(this,_,x,M,se),W.prototype.initFromNode.call(this,_,x,M,se),H.prototype.initFromNode.call(this,_,x,M,se),he.prototype.initFromNode.call(this,_,x,M,se),this.lang=fe},Rt.prototype.initFromNode=function(_,x,M,fe,se,De){F.prototype.initFromNode.call(this,_,x,M,De),ce.prototype.initFromNode.call(this,_,x,M,De),W.prototype.initFromNode.call(this,_,x,M,De),H.prototype.initFromNode.call(this,_,x,M,De),he.prototype.initFromNode.call(this,_,x,M,De),this.space=se,this.lang=fe},Ve.prototype.initFromText=function(_,x,M,fe,se,De){ce.prototype.initFromNode.call(this,_,x,null,De),this.text=M,this.space=se,this.lang=fe},We.prototype.initFromNode=function(_,x,M,fe,se){H.prototype.initFromNode.call(this,_,x,M,se),ce.prototype.initFromNode.call(this,_,x,M,se),this.lang=fe},Ne.prototype.createDefaultRegion=function(_){var x=new Ne;return oe.call(x,""),F.call(x,{}),W.call(x,[]),ce.call(x,0,Number.POSITIVE_INFINITY,null),this.lang=_,x},Ne.prototype.initFromNode=function(_,x,M,fe){oe.prototype.initFromNode.call(this,_,null,x,fe),ce.prototype.initFromNode.call(this,_,null,x,fe),W.prototype.initFromNode.call(this,_,null,x,fe),this.styleAttrs=ht(x,fe),this.styleRefs=Mt(x),this.lang=M},Ue.prototype.initFromNode=function(_,x,M,fe){ce.prototype.initFromNode.call(this,_,x,M,fe);var se=ht(M,fe);for(var De in this.qname=null,this.value=null,se)if(se.hasOwnProperty(De)){if(this.qname){Ce(fe,"More than one style specified on set");break}this.qname=De,this.value=se[De]}}}(He,typeof sax>"u"?L(5378):sax,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles,typeof imscUtils>"u"?L(5926):imscUtils)},506:(wt,He,L)=>{!function(ve,k,d){function f(F,W,he,ce){var ze;if("region"===he.kind)(ze=document.createElement("div")).style.position="absolute";else if("body"===he.kind)ze=document.createElement("div");else if("div"===he.kind)ze=document.createElement("div");else if("image"===he.kind){if(ze=document.createElement("img"),null!==F.imgResolver&&null!==he.src){var st=F.imgResolver(he.src,ze);st&&(ze.src=st),ze.height=F.regionH,ze.width=F.regionW}}else if("p"===he.kind)ze=document.createElement("p");else if("span"===he.kind)if("container"===he.styleAttrs[d.byName.ruby.qname])ze=document.createElement("ruby"),F.ruby=!0;else if("base"===he.styleAttrs[d.byName.ruby.qname])ze=document.createElement("rb");else if("text"===he.styleAttrs[d.byName.ruby.qname])ze=document.createElement("rt");else if("baseContainer"===he.styleAttrs[d.byName.ruby.qname])ze=document.createElement("rbc");else if("textContainer"===he.styleAttrs[d.byName.ruby.qname])ze=document.createElement("rtc");else{if("delimiter"===he.styleAttrs[d.byName.ruby.qname])return;ze=document.createElement("span")}else"br"===he.kind&&(ze=document.createElement("br"));if(ze){if(he.lang&&("region"!==he.kind&&he.lang===ce.lang||(ze.lang=he.lang)),W.appendChild(ze),ze.style.margin="0","region"===he.kind){var ge=he.styleAttrs[d.byName.writingMode.qname];"lrtb"===ge||"lr"===ge?(F.ipd="lr",F.bpd="tb"):"rltb"===ge||"rl"===ge?(F.ipd="rl",F.bpd="tb"):"tblr"===ge?(F.ipd="tb",F.bpd="lr"):"tbrl"!==ge&&"tb"!==ge||(F.ipd="tb",F.bpd="rl")}else"p"===he.kind&&"tb"===F.bpd&&(F.ipd="ltr"===he.styleAttrs[d.byName.direction.qname]?"lr":"rl");for(var Ve=0;Ve<T.length;Ve++){var We=T[Ve],Ne=he.styleAttrs[We.qname];void 0!==Ne&&null!==We.map&&We.map(F,ze,he,Ne)}var Ue=ze,rt=he.styleAttrs[d.byName.linePadding.qname];if(rt&&!rt.isZero()){var Mt=rt.toUsedLength(F.w,F.h);if(Mt>0){var ht=Math.ceil(Mt)+"px";"tb"===F.bpd?(Ue.style.paddingLeft=ht,Ue.style.paddingRight=ht):(Ue.style.paddingTop=ht,Ue.style.paddingBottom=ht),F.lp=rt}}var ke=he.styleAttrs[d.byName.multiRowAlign.qname];if(ke&&"auto"!==ke){var gt=document.createElement("span");gt.style.display="inline-block",gt.style.textAlign=ke,ze.appendChild(gt),Ue=gt,F.mra=ke}var St=he.styleAttrs[d.byName.rubyReserve.qname];if(St&&"none"!==St[0]&&(F.rubyReserve=St),he.styleAttrs[d.byName.fillLineGap.qname]&&(F.flg=!0),"span"===he.kind&&he.text){var Ye=he.styleAttrs[d.byName.textEmphasis.qname];if(Ye&&"none"!==Ye.style&&(F.textEmphasis=!0),d.byName.textCombine.qname in he.styleAttrs&&"all"===he.styleAttrs[d.byName.textCombine.qname])ze.textContent=he.text,Ye&&h(F,ze,0,Ye);else for(var yt="",me=0;me<he.text.length;me++){yt+=he.text.charAt(me);var Ce=he.text.charCodeAt(me);if(Ce<55296||Ce>56319||me===he.text.length-1){var at=document.createElement("span");at.textContent=yt,Ye&&h(F,at,0,Ye),ze.appendChild(at),yt="",at._isd_element=he}}}if("contents"in he)for(var E=0;E<he.contents.length;E++)f(F,Ue,he.contents[E],he);var _=[];if("p"===he.kind&&(N(F,Ue,_,null),F.rubyReserve&&(function(De,Ge){for(var Ke=0;Ke<De.length;Ke++){var Fe,tt,it=document.createElement("ruby"),Ie=document.createElement("rb");Ie.textContent="\u200b",it.appendChild(Ie);var $e=Ge.rubyReserve[1].toUsedLength(Ge.w,Ge.h)+"px";"both"===Ge.rubyReserve[0]||"outside"===Ge.rubyReserve[0]&&1==De.length?((Fe=document.createElement("rtc")).style[Q]=ne?"after":"under",Fe.textContent="\u200b",Fe.style.fontSize=$e,(tt=document.createElement("rtc")).style[Q]=ne?"before":"over",tt.textContent="\u200b",tt.style.fontSize=$e,it.appendChild(Fe),it.appendChild(tt)):((Fe=document.createElement("rtc")).textContent="\u200b",Fe.style.fontSize=$e,Fe.style[Q]="after"===Ge.rubyReserve[0]||"outside"===Ge.rubyReserve[0]&&Ke>0?ne?"after":"tb"===Ge.bpd||"rl"===Ge.bpd?"under":"over":ne?"before":"tb"===Ge.bpd||"rl"===Ge.bpd?"over":"under",it.appendChild(Fe));for(var Tt=null,Ot=0;Ot<De[Ke].rbc.length;Ot++)if("ruby"===De[Ke].rbc[Ot].localName){Tt=De[Ke].rbc[Ot];for(var on=0;on<Tt.style.length;on++)it.style.setProperty(Tt.style.item(on),Tt.style.getPropertyValue(Tt.style.item(on)));break}(Tt=Tt||De[Ke].elements[0].node).parentElement.insertBefore(it,Tt)}}(_,F),F.rubyReserve=null),(F.ruby||F.rubyReserve)&&(function(De,Ge){for(var Ke=0;Ke<De.length;Ke++)for(var Fe=0;Fe<De[Ke].rbc.length;Fe++)De[Ke].rbc[Fe].style[Q]||(De[Ke].rbc[Fe].style[Q]=ne?0===Ke?"before":"after":"tb"===Ge.bpd||"rl"===Ge.bpd?0===Ke?"over":"under":0===Ke?"under":"over")}(_,F),F.ruby=null),F.textEmphasis&&(function(De,Ge){for(var Ke=0;Ke<De.length;Ke++)for(var Fe=0;Fe<De[Ke].te.length;Fe++)De[Ke].te[Fe].style[H]&&"none"!==De[Ke].te[Fe].style[H]||(De[Ke].te[Fe].style[H]="tb"===Ge.bpd?0===Ke?"left over":"left under":"rl"===Ge.bpd?0===Ke?"right under":"left under":0===Ke?"left under":"right under")}(_,F),F.textEmphasis=null),F.mra&&(function(De){for(var Ge=0;Ge<De.length-1;Ge++){var Ke=De[Ge].elements.length;if(0!==Ke&&!1===De[Ge].br){var Fe=document.createElement("br"),tt=De[Ge].elements[Ke-1].node;tt.parentElement.insertBefore(Fe,tt.nextSibling)}}}(_),F.mra=null),F.lp&&(function(De,Ge,Ke){if(null!==De)for(var Fe=0;Fe<De.length;Fe++){var tt=De[Fe].elements.length,it=Math.ceil(Ge)+"px",Ie="-"+Math.ceil(Ge)+"px";if(0!==tt){var Xe=De[Fe].elements[De[Fe].start_elem],$e=De[Fe].elements[De[Fe].end_elem];if(Xe===$e&&(elementBoundingRect=Xe.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===Ke.ipd?(Xe.node.style.marginLeft=Ie,Xe.node.style.paddingLeft=it):"rl"===Ke.ipd?(Xe.node.style.paddingRight=it,Xe.node.style.marginRight=Ie):"tb"===Ke.ipd&&(Xe.node.style.paddingTop=it,Xe.node.style.marginTop=Ie),"lr"===Ke.ipd?($e.node.style.marginRight=Ie,$e.node.style.paddingRight=it):"rl"===Ke.ipd?($e.node.style.paddingLeft=it,$e.node.style.marginLeft=Ie):"tb"===Ke.ipd&&($e.node.style.paddingBottom=it,$e.node.style.marginBottom=Ie)}}}(_,F.lp.toUsedLength(F.w,F.h),F),F.lp=null),function(De){for(var Ge=0;Ge<De.length;Ge++)for(var Ke=De[Ge],Fe=1;Fe<Ke.elements.length;)w(Ke.elements[Fe-1].node,Ke.elements[Fe].node)?Ke.elements.splice(Fe,1):Fe++;for(var Ie,Xe,$e=[],Tt=0;Tt<De.length;Tt++)for(var Ot=0;Ot<De[Tt].elements.length;Ot++)(Xe=P(Ie=De[Tt].elements[Ot].node,$e,!1))&&(Ie.style.backgroundColor=Xe);for(var on=0;on<$e.length;on++)$e[on].style.backgroundColor=""}(_),F.flg)){var x=S(Ue.getBoundingClientRect(),F);(function(De,Ge,Ke,Fe,tt){for(var it=Math.sign(Ke-Ge),Ie=0;Ie<=De.length;Ie++){var Xe,$e,Tt,Ot;if(Xe=0===Ie?Math.round(Ge):Ie===De.length?Math.round(Ke):Math.round((De[Ie-1].after+De[Ie].before)/2),Ie>0&&De[Ie-1])for(Tt=0;Tt<De[Ie-1].elements.length;Tt++)$e=it*(Xe-(Ot=De[Ie-1].elements[Tt]).after)+"px","lr"===Fe.bpd?Ot.node.style.paddingRight=$e:"rl"===Fe.bpd?Ot.node.style.paddingLeft=$e:"tb"===Fe.bpd&&(Ot.node.style.paddingBottom=$e);if(Ie<De.length)for(Tt=0;Tt<De[Ie].elements.length;Tt++)$e=it*((Ot=De[Ie].elements[Tt]).before-Xe)+"px","lr"===Fe.bpd?Ot.node.style.paddingLeft=$e:"rl"===Fe.bpd?Ot.node.style.paddingRight=$e:"tb"===Fe.bpd&&(Ot.node.style.paddingTop=$e)}})(_,x.before,x.after,F),F.flg=null}if("region"===he.kind&&"tb"===F.bpd&&F.enableRollUp&&he.contents.length>0&&"after"===he.styleAttrs[d.byName.displayAlign.qname]){N(F,Ue,_,null);var M=new m(""===he.id?"_":he.id,_);if(F.currentISDState[M.id]=M,F.previousISDState&&M.id in F.previousISDState&&F.previousISDState[M.id].plist.length>0&&M.plist.length>1&&M.plist[M.plist.length-2].text===F.previousISDState[M.id].plist[F.previousISDState[M.id].plist.length-1].text){var fe=ze.firstElementChild,se=M.plist[M.plist.length-1].after-M.plist[M.plist.length-1].before;fe.style.bottom="-"+se+"px",fe.style.transition="transform 0.4s",fe.style.position="relative",fe.style.transform="translateY(-"+se+"px)"}}}else!function(De,Ge){if(De&&De.error&&De.error(Ge))throw Ge}(F.errorHandler,"Error processing ISD element kind: "+he.kind)}function P(F,W,he){return F.style.backgroundColor?(he&&!W.includes(F)&&W.push(F),F.style.backgroundColor):"SPAN"===F.parentElement.nodeName?P(F.parentElement,W,!0):void 0}function w(F,W){if("SPAN"===F.tagName&&"SPAN"===W.tagName&&F._isd_element===W._isd_element){F.textContent+=W.textContent;for(var he=0;he<W.style.length;he++){var ce=W.style[he];(ce.indexOf("border")>=0||ce.indexOf("padding")>=0||ce.indexOf("margin")>=0)&&(F.style[ce]=W.style[ce])}return W.parentElement.removeChild(W),!0}return!1}function m(F,W){this.id=F,this.plist=W}function S(F,W){var he={before:null,after:null,start:null,end:null};return"tb"===W.bpd?(he.before=F.top,he.after=F.bottom,"lr"===W.ipd?(he.start=F.left,he.end=F.right):(he.start=F.right,he.end=F.left)):"lr"===W.bpd?(he.before=F.left,he.after=F.right,he.start=F.top,he.end=F.bottom):"rl"===W.bpd&&(he.before=F.right,he.after=F.left,he.start=F.top,he.end=F.bottom),he}function N(F,W,he,ce){if("rt"!==W.localName&&"rtc"!==W.localName){var ze,st,ge,Rt,Ve=W.style.backgroundColor||ce;if(0===W.childElementCount)if("span"===W.localName||"rb"===W.localName){var We=S(W.getBoundingClientRect(),F);if(0!==he.length&&(ze=We.before,ge=he[he.length-1].before,(st=We.after)<(Rt=he[he.length-1].after)&&ze>ge||Rt<=st&&ge>=ze)){var Ne=Math.sign(We.after-We.before),Ue=Math.sign(We.end-We.start);Ne*(We.before-he[he.length-1].before)<0&&(he[he.length-1].before=We.before),Ne*(We.after-he[he.length-1].after)>0&&(he[he.length-1].after=We.after),Ue*(We.start-he[he.length-1].start)<0&&(he[he.length-1].start=We.start,he[he.length-1].start_elem=he[he.length-1].elements.length),Ue*(We.end-he[he.length-1].end)>0&&(he[he.length-1].end=We.end,he[he.length-1].end_elem=he[he.length-1].elements.length)}else he.push({before:We.before,after:We.after,start:We.start,end:We.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});he[he.length-1].text+=W.textContent,he[he.length-1].elements.push({node:W,bgcolor:Ve,before:We.before,after:We.after})}else"br"===W.localName&&0!==he.length&&(he[he.length-1].br=!0);else for(var rt=W.firstChild;rt;)rt.nodeType===Node.ELEMENT_NODE&&(N(F,rt,he,Ve),"ruby"===rt.localName||"rtc"===rt.localName?he.length>0&&he[he.length-1].rbc.push(rt):"span"===rt.localName&&rt.style[oe]&&"none"!==rt.style[oe]&&he.length>0&&he[he.length-1].te.push(rt)),rt=rt.nextSibling}}function h(F,W,he,ce){"none"!==ce.style&&(W.style[oe]="auto"===ce.style?"filled":ce.style+" "+ce.symbol,("before"===ce.position||"after"===ce.position)&&(W.style[H]="tb"===F.bpd?"before"===ce.position?"left over":"left under":"rl"===F.bpd?"before"===ce.position?"right under":"left under":"before"===ce.position?"left under":"right under"))}function v(F,W){this.qname=F,this.map=W}ve.render=function(F,W,he,ce,ze,st,ge,Rt,Ve){var We=ce||W.clientHeight,Ne=ze||W.clientWidth;if(null!==F.aspectRatio){var Ue=We*F.aspectRatio;Ue>Ne?We=Math.round(Ne/F.aspectRatio):Ne=Ue}var rt=document.createElement("div");rt.style.position="relative",rt.style.width=Ne+"px",rt.style.height=We+"px",rt.style.margin="auto",rt.style.top=0,rt.style.bottom=0,rt.style.left=0,rt.style.right=0,rt.style.zIndex=0;var Mt={h:We,w:Ne,regionH:null,regionW:null,imgResolver:he,displayForcedOnlyMode:st||!1,isd:F,errorHandler:ge,previousISDState:Rt,enableRollUp:Ve||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(W.appendChild(rt),"contents"in F)for(var ht=0;ht<F.contents.length;ht++)f(Mt,rt,F.contents[ht],F);return Mt.currentISDState};for(var T=[new v("http://www.w3.org/ns/ttml#styling backgroundColor",function(F,W,he,ce){0!==ce[3]&&(W.style.backgroundColor="rgba("+ce[0].toString()+","+ce[1].toString()+","+ce[2].toString()+","+(ce[3]/255).toString()+")")}),new v("http://www.w3.org/ns/ttml#styling color",function(F,W,he,ce){W.style.color="rgba("+ce[0].toString()+","+ce[1].toString()+","+ce[2].toString()+","+(ce[3]/255).toString()+")"}),new v("http://www.w3.org/ns/ttml#styling direction",function(F,W,he,ce){W.style.direction=ce}),new v("http://www.w3.org/ns/ttml#styling display",function(F,W,he,ce){}),new v("http://www.w3.org/ns/ttml#styling displayAlign",function(F,W,he,ce){W.style.display="flex",W.style.flexDirection="column","before"===ce?W.style.justifyContent="flex-start":"center"===ce?W.style.justifyContent="center":"after"===ce&&(W.style.justifyContent="flex-end")}),new v("http://www.w3.org/ns/ttml#styling extent",function(F,W,he,ce){F.regionH=ce.h.toUsedLength(F.w,F.h),F.regionW=ce.w.toUsedLength(F.w,F.h);var ze=0,st=0,ge=he.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];ge&&(ze=ge[0].toUsedLength(F.w,F.h)+ge[2].toUsedLength(F.w,F.h),st=ge[1].toUsedLength(F.w,F.h)+ge[3].toUsedLength(F.w,F.h)),W.style.height=F.regionH-ze+"px",W.style.width=F.regionW-st+"px"}),new v("http://www.w3.org/ns/ttml#styling fontFamily",function(F,W,he,ce){for(var ze=[],st=0;st<ce.length;st++)"monospaceSerif"===ce[st]?(ze.push("Courier New"),ze.push('"Liberation Mono"'),ze.push("Courier"),ze.push("monospace")):"proportionalSansSerif"===ce[st]?(ze.push("Arial"),ze.push("Helvetica"),ze.push('"Liberation Sans"'),ze.push("sans-serif")):"monospace"===ce[st]?ze.push("monospace"):"sansSerif"===ce[st]?ze.push("sans-serif"):"serif"===ce[st]?ze.push("serif"):"monospaceSansSerif"===ce[st]?(ze.push("Consolas"),ze.push("monospace")):ze.push("proportionalSerif"===ce[st]?"serif":ce[st]);if(ze.length>0){for(var ge=[ze[0]],Rt=1;Rt<ze.length;Rt++)-1==ge.indexOf(ze[Rt])&&ge.push(ze[Rt]);ze=ge}W.style.fontFamily=ze.join(",")}),new v("http://www.w3.org/ns/ttml#styling shear",function(F,W,he,ce){if(0!==ce){var ze=-.9*ce;W.style.transform="tb"===F.bpd?"skewX("+ze+"deg)":"skewY("+ze+"deg)"}}),new v("http://www.w3.org/ns/ttml#styling fontSize",function(F,W,he,ce){W.style.fontSize=ce.toUsedLength(F.w,F.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling fontStyle",function(F,W,he,ce){W.style.fontStyle=ce}),new v("http://www.w3.org/ns/ttml#styling fontWeight",function(F,W,he,ce){W.style.fontWeight=ce}),new v("http://www.w3.org/ns/ttml#styling lineHeight",function(F,W,he,ce){W.style.lineHeight="normal"===ce?"normal":ce.toUsedLength(F.w,F.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling opacity",function(F,W,he,ce){W.style.opacity=ce}),new v("http://www.w3.org/ns/ttml#styling origin",function(F,W,he,ce){W.style.top=ce.h.toUsedLength(F.w,F.h)+"px",W.style.left=ce.w.toUsedLength(F.w,F.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling overflow",function(F,W,he,ce){W.style.overflow=ce}),new v("http://www.w3.org/ns/ttml#styling padding",function(F,W,he,ce){var ze=[];ze[0]=ce[0].toUsedLength(F.w,F.h)+"px",ze[1]=ce[3].toUsedLength(F.w,F.h)+"px",ze[2]=ce[2].toUsedLength(F.w,F.h)+"px",ze[3]=ce[1].toUsedLength(F.w,F.h)+"px",W.style.padding=ze.join(" ")}),new v("http://www.w3.org/ns/ttml#styling position",function(F,W,he,ce){W.style.top=ce.h.toUsedLength(F.w,F.h)+"px",W.style.left=ce.w.toUsedLength(F.w,F.h)+"px"}),new v("http://www.w3.org/ns/ttml#styling rubyAlign",function(F,W,he,ce){W.style.rubyAlign="spaceAround"===ce?"space-around":"center"}),new v("http://www.w3.org/ns/ttml#styling rubyPosition",function(F,W,he,ce){"before"!==ce&&"after"!==ce||(W.parentElement.style[Q]=ne?ce:"tb"===F.bpd||"rl"===F.bpd?"before"===ce?"over":"under":"before"===ce?"under":"over")}),new v("http://www.w3.org/ns/ttml#styling showBackground",null),new v("http://www.w3.org/ns/ttml#styling textAlign",function(F,W,he,ce){W.style.textAlign="start"===ce?"rl"===F.ipd?"right":"left":"end"===ce?"rl"===F.ipd?"left":"right":ce}),new v("http://www.w3.org/ns/ttml#styling textDecoration",function(F,W,he,ce){W.style.textDecoration=ce.join(" ").replace("lineThrough","line-through")}),new v("http://www.w3.org/ns/ttml#styling textOutline",function(F,W,he,ce){}),new v("http://www.w3.org/ns/ttml#styling textShadow",function(F,W,he,ce){var ze=he.styleAttrs[d.byName.textOutline.qname];if("none"===ce&&"none"===ze)W.style.textShadow="";else{var st=[];if("none"!==ze){var ge="rgba("+ze.color[0].toString()+","+ze.color[1].toString()+","+ze.color[2].toString()+","+(ze.color[3]/255).toString()+")";st.push("1px 1px 1px "+ge),st.push("-1px 1px 1px "+ge),st.push("1px -1px 1px "+ge),st.push("-1px -1px 1px "+ge)}if("none"!==ce)for(var Rt=0;Rt<ce.length;Rt++)st.push(ce[Rt].x_off.toUsedLength(F.w,F.h)+"px "+ce[Rt].y_off.toUsedLength(F.w,F.h)+"px "+ce[Rt].b_radius.toUsedLength(F.w,F.h)+"px rgba("+ce[Rt].color[0].toString()+","+ce[Rt].color[1].toString()+","+ce[Rt].color[2].toString()+","+(ce[Rt].color[3]/255).toString()+")");W.style.textShadow=st.join(",")}}),new v("http://www.w3.org/ns/ttml#styling textCombine",function(F,W,he,ce){W.style.textCombineUpright=ce}),new v("http://www.w3.org/ns/ttml#styling textEmphasis",function(F,W,he,ce){}),new v("http://www.w3.org/ns/ttml#styling unicodeBidi",function(F,W,he,ce){W.style.unicodeBidi="bidiOverride"===ce?"bidi-override":ce}),new v("http://www.w3.org/ns/ttml#styling visibility",function(F,W,he,ce){W.style.visibility=ce}),new v("http://www.w3.org/ns/ttml#styling wrapOption",function(F,W,he,ce){W.style.whiteSpace="wrap"===ce?"preserve"===he.space?"pre-wrap":"normal":"preserve"===he.space?"pre":"noWrap"}),new v("http://www.w3.org/ns/ttml#styling writingMode",function(F,W,he,ce){"lrtb"===ce||"lr"===ce||"rltb"===ce||"rl"===ce?W.style.writingMode="horizontal-tb":"tblr"===ce?W.style.writingMode="vertical-lr":"tbrl"!==ce&&"tb"!==ce||(W.style.writingMode="vertical-rl")}),new v("http://www.w3.org/ns/ttml#styling zIndex",function(F,W,he,ce){W.style.zIndex=ce}),new v("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(F,W,he,ce){F.displayForcedOnlyMode&&!1===ce&&(W.style.visibility="hidden")})],G={},$=0;$<T.length;$++)G[T[$].qname]=T[$];var ne="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Q=ne?"webkitRubyPosition":"rubyPosition",oe="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",H="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(He,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles,typeof imscUtils>"u"?L(5926):imscUtils)},4080:(wt,He,L)=>{!function(ve,k,d,f){ve.generateISD=function(T,G,$){var ne,Q=new N(T),oe={},H={},F=T.head.styling.initials[d.byName.showBackground.qname],W=T.head.styling.initials[d.byName.backgroundColor.qname];for(var he in T.head.layout.regions)if(T.head.layout.regions.hasOwnProperty(he)){var ce=T.head.layout.regions[he],ze=ce.styleAttrs[d.byName.showBackground.qname]||F;H[ce.id]=("always"===ze||void 0===ze)&&void 0!==(ce.styleAttrs[d.byName.backgroundColor.qname]||W)&&!(G<ce.begin||G>=ce.end)}for(var ge in T.body&&T.body.regionID&&(H[T.body.regionID]=!0),ne=null!==T.body?function Ve(We,Ne){if(Ne.contents){var Ue={};for(var rt in Ne)Ne.hasOwnProperty(rt)&&(Ue[rt]=Ne[rt]);return Ue.contents=[],Ne.contents.filter(function(Mt){return!(We<Mt.begin||We>=Mt.end)}).forEach(function(Mt){var ht=Ve(We,Mt);ht.regionID&&(H[ht.regionID]=!0),null!==ht&&Ue.contents.push(ht)}),Ue}return Ne}(G,T.body):null,void 0!==H[""]&&(H[""]=!0),H)if(H[ge]){var Rt=w(T,G,T.head.layout.regions[ge],ne,null,"",T.head.layout.regions[ge],$,oe);null!==Rt&&Q.contents.push(Rt.element)}return Q};var P=[d.byName.color.qname,d.byName.textCombine.qname,d.byName.textDecoration.qname,d.byName.textEmphasis.qname,d.byName.textOutline.qname,d.byName.textShadow.qname];function w(T,G,$,ne,Q,oe,H,F,W){if(G<H.begin||G>=H.end)return null;var he="regionID"in H&&""!==H.regionID?H.regionID:oe;if(null!==Q&&he!==$.id&&(!("contents"in H)||"contents"in H&&0===H.contents.length||""!==he))return null;var ce=new h(H);if("sets"in H)for(var ze=0;ze<H.sets.length;ze++)G<H.sets[ze].begin||G>=H.sets[ze].end||(ce.styleAttrs[H.sets[ze].qname]=H.sets[ze].value);var st={};for(var ge in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(ge)&&(st[ge]=!0,"region"===ce.kind&&ge===d.byName.writingMode.qname&&!(d.byName.direction.qname in ce.styleAttrs))){var Rt=ce.styleAttrs[ge];"lrtb"===Rt||"lr"===Rt?ce.styleAttrs[d.byName.direction.qname]="ltr":"rltb"!==Rt&&"rl"!==Rt||(ce.styleAttrs[d.byName.direction.qname]="rtl")}if(null!==Q)for(var Ve=0;Ve<d.all.length;Ve++){var We=d.all[Ve];if(We.qname===d.byName.textDecoration.qname){var Ne=Q.styleAttrs[We.qname],Ue=ce.styleAttrs[We.qname],rt=[];void 0===Ue?rt=Ne:-1===Ue.indexOf("none")?((-1===Ue.indexOf("noUnderline")&&-1!==Ne.indexOf("underline")||-1!==Ue.indexOf("underline"))&&rt.push("underline"),(-1===Ue.indexOf("noLineThrough")&&-1!==Ne.indexOf("lineThrough")||-1!==Ue.indexOf("lineThrough"))&&rt.push("lineThrough"),(-1===Ue.indexOf("noOverline")&&-1!==Ne.indexOf("overline")||-1!==Ue.indexOf("overline"))&&rt.push("overline")):rt.push("none"),ce.styleAttrs[We.qname]=rt}else if(We.qname!==d.byName.fontSize.qname||We.qname in ce.styleAttrs||"span"!==ce.kind||"textContainer"!==ce.styleAttrs[d.byName.ruby.qname])if(We.qname!==d.byName.fontSize.qname||We.qname in ce.styleAttrs||"span"!==ce.kind||"text"!==ce.styleAttrs[d.byName.ruby.qname])We.inherit&&We.qname in Q.styleAttrs&&!(We.qname in ce.styleAttrs)&&(ce.styleAttrs[We.qname]=Q.styleAttrs[We.qname]);else{var Mt=Q.styleAttrs[d.byName.fontSize.qname];ce.styleAttrs[We.qname]="textContainer"===Q.styleAttrs[d.byName.ruby.qname]?Mt:new f.ComputedLength(.5*Mt.rw,.5*Mt.rh)}else{var ht=Q.styleAttrs[d.byName.fontSize.qname];ce.styleAttrs[We.qname]=new f.ComputedLength(.5*ht.rw,.5*ht.rh)}}for(var ke=0;ke<d.all.length;ke++){var gt=d.all[ke];if(!(gt.qname in ce.styleAttrs)&&!(gt.qname===d.byName.position.qname&&d.byName.origin.qname in ce.styleAttrs||gt.qname===d.byName.origin.qname&&d.byName.position.qname in ce.styleAttrs)){var St=T.head.styling.initials[gt.qname]||gt.initial;if(null!==St&&("region"===ce.kind||!1===gt.inherit&&null!==St)){var Ye=gt.parse(St);null!==Ye?(ce.styleAttrs[gt.qname]=Ye,st[gt.qname]=!0):v(F,"Invalid initial value for '"+gt.qname+"' on element '"+ce.kind)}}}for(var yt=0;yt<d.all.length;yt++){var me=d.all[yt];if(me.qname in st&&null!==me.compute){var Ce=me.compute(T,Q,ce,ce.styleAttrs[me.qname],W);null!==Ce?ce.styleAttrs[me.qname]=Ce:(ce.styleAttrs[me.qname]=me.compute(T,Q,ce,me.parse(me.initial),W),v(F,"Style '"+me.qname+"' on element '"+ce.kind+"' cannot be computed"))}}if("none"===ce.styleAttrs[d.byName.display.qname])return null;var at=null;null===Q?at=null===ne?[]:[ne]:"contents"in H&&(at=H.contents);for(var E=0;null!==at&&E<at.length;E++){var _=w(T,G,$,ne,ce,he,at[E],F,W);null!==_&&ce.contents.push(_.element)}for(var x in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(x)){var M=!1;if("span"===ce.kind){var fe=ce.styleAttrs[d.byName.ruby.qname];(M=("container"===fe||"textContainer"===fe||"baseContainer"===fe)&&-1!==P.indexOf(x))||(M="container"!==fe&&x===d.byName.rubyAlign.qname),M||(M=!("textContainer"===fe||"text"===fe)&&x===d.byName.rubyPosition.qname)}if(!M){var se=d.byQName[x];"applies"in se&&(M=-1===se.applies.indexOf(ce.kind))}M&&delete ce.styleAttrs[x]}var De=ce.styleAttrs[d.byName.ruby.qname];if("p"===ce.kind||"span"===ce.kind&&("textContainer"===De||"text"===De)){var Ge=[];m(ce,Ge),function(Ke){for(var Fe,tt=0;tt<Ke.length;)if("br"!==(Fe=Ke[tt]).kind&&"preserve"!==Fe.space){var it=Fe.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(it)&&(0===tt||"br"===(Ie=Ke[tt-1]).kind||/[\r\n\t ]$/.test(Ie.text))&&(it=it.substring(1)),Fe.text=it,0===it.length?Ke.splice(tt,1):tt++}else tt++;var Ie,Xe;for(tt=0;tt<Ke.length;tt++)"br"!==(Fe=Ke[tt]).kind&&"preserve"!==Fe.space?/[ ]$/.test(Fe.text)&&(tt===Ke.length-1||"br"===(Xe=Ke[tt+1]).kind||"preserve"===Xe.space&&/^[\r\n]/.test(Xe.text))&&(Fe.text=Fe.text.slice(0,-1)):tt++}(Ge),S(ce)}return"div"===ce.kind&&d.byName.backgroundImage.qname in ce.styleAttrs||"br"===ce.kind||"image"===ce.kind||"contents"in ce&&ce.contents.length>0||"span"===ce.kind&&null!==ce.text||"region"===ce.kind&&"always"===ce.styleAttrs[d.byName.showBackground.qname]?{region_id:he,element:ce}:null}function m(T,G){if("contents"in T)for(var $=0;$<T.contents.length;$++){var ne=T.contents[$],Q=ne.styleAttrs[d.byName.ruby.qname];("span"!==ne.kind||"textContainer"!==Q&&"text"!==Q)&&("contents"in ne?m(ne,G):("span"===ne.kind&&0!==ne.text.length||"br"===ne.kind)&&G.push(ne))}}function S(T){if("br"===T.kind)return!1;if("text"in T)return 0===T.text.length;if("contents"in T){for(var G=T.contents.length;G--;)S(T.contents[G])&&T.contents.splice(G,1);return 0===T.contents.length}}function N(T){this.contents=[],this.aspectRatio=T.aspectRatio,this.lang=T.lang}function h(T){for(var G in this.kind=T.kind||"region",this.lang=T.lang,T.id&&(this.id=T.id),this.styleAttrs={},T.styleAttrs)T.styleAttrs.hasOwnProperty(G)&&(this.styleAttrs[G]=T.styleAttrs[G]);"src"in T&&(this.src=T.src),"type"in T&&(this.type=T.type),"text"in T?this.text=T.text:("region"===this.kind||"contents"in T)&&(this.contents=[]),"space"in T&&(this.space=T.space)}function v(T,G){if(T&&T.error&&T.error(G))throw G}}(He,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles,typeof imscUtils>"u"?L(5926):imscUtils)},4403:(wt,He,L)=>{He.generateISD=L(4080).generateISD,He.fromXML=L(3362).fromXML,He.renderHTML=L(506).render},210:(wt,He)=>{var L;(L=He).ns_tt="http://www.w3.org/ns/ttml",L.ns_tts="http://www.w3.org/ns/ttml#styling",L.ns_ttp="http://www.w3.org/ns/ttml#parameter",L.ns_xml="http://www.w3.org/XML/1998/namespace",L.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",L.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",L.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",L.ns_ebutts="urn:ebu:tt:style"},6811:(wt,He,L)=>{!function(ve,k,d){function f(m,S,N,h,v,T,G,$){this.name=S,this.ns=m,this.qname=m+" "+S,this.inherit=v,this.animatable=T,this.initial=N,this.applies=h,this.parse=G,this.compute=$}for(var P in ve.all=[new f(k.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,d.parseColor,null),new f(k.ns_tts,"color","white",["span"],!0,!0,d.parseColor,null),new f(k.ns_tts,"direction","ltr",["p","span"],!0,!0,function(m){return m},null),new f(k.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(m){return m},null),new f(k.ns_tts,"displayAlign","before",["region"],!1,!0,function(m){return m},null),new f(k.ns_tts,"extent","auto",["tt","region"],!1,!0,function(m){if("auto"===m)return m;var S=m.split(" ");if(2!==S.length)return null;var N=d.parseLength(S[0]),h=d.parseLength(S[1]);return h&&N?{h,w:N}:null},function(m,S,N,h,v){var T,G;if("auto"===h)T=new d.ComputedLength(0,1);else if(null===(T=d.toComputedLength(h.h.value,h.h.unit,null,m.dimensions.h,null,m.pxLength.h)))return null;if("auto"===h)G=new d.ComputedLength(1,0);else if(null===(G=d.toComputedLength(h.w.value,h.w.unit,null,m.dimensions.w,null,m.pxLength.w)))return null;return{h:T,w:G}}),new f(k.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(m){for(var S=m.split(","),N=[],h=0;h<S.length;h++)"'"!==S[h].charAt(0)&&'"'!==S[h].charAt(0)&&"default"===S[h]?N.push("monospaceSerif"):N.push(S[h]);return N},null),new f(k.ns_tts,"shear","0%",["p"],!0,!0,d.parseLength,function(m,S,N,h){return"%"!==h.unit?null:Math.abs(h.value)>100?100*Math.sign(h.value):h.value}),new f(k.ns_tts,"fontSize","1c",["span","p"],!0,!0,d.parseLength,function(m,S,N,h,v){return d.toComputedLength(h.value,h.unit,null!==S?S.styleAttrs[ve.byName.fontSize.qname]:m.cellLength.h,null!==S?S.styleAttrs[ve.byName.fontSize.qname]:m.cellLength.h,m.cellLength.h,m.pxLength.h)}),new f(k.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(m){return m},null),new f(k.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(m){return m},null),new f(k.ns_tts,"lineHeight","normal",["p"],!0,!0,function(m){return"normal"===m?m:d.parseLength(m)},function(m,S,N,h,v){var T;if("normal"===h)T=h;else if(null===(T=d.toComputedLength(h.value,h.unit,N.styleAttrs[ve.byName.fontSize.qname],N.styleAttrs[ve.byName.fontSize.qname],m.cellLength.h,m.pxLength.h)))return null;return T}),new f(k.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new f(k.ns_tts,"origin","auto",["region"],!1,!0,function(m){if("auto"===m)return m;var S=m.split(" ");if(2!==S.length)return null;var N=d.parseLength(S[0]),h=d.parseLength(S[1]);return h&&N?{h,w:N}:null},function(m,S,N,h,v){var T,G;if("auto"===h)T=new d.ComputedLength(0,0);else if(null===(T=d.toComputedLength(h.h.value,h.h.unit,null,m.dimensions.h,null,m.pxLength.h)))return null;if("auto"===h)G=new d.ComputedLength(0,0);else if(null===(G=d.toComputedLength(h.w.value,h.w.unit,null,m.dimensions.w,null,m.pxLength.w)))return null;return{h:T,w:G}}),new f(k.ns_tts,"overflow","hidden",["region"],!1,!0,function(m){return m},null),new f(k.ns_tts,"padding","0px",["region"],!1,!0,function(m){var S=m.split(" ");if(S.length>4)return null;for(var N=[],h=0;h<S.length;h++){var v=d.parseLength(S[h]);if(!v)return null;N.push(v)}return N},function(m,S,N,h,v){var T;if(1===h.length)T=[h[0],h[0],h[0],h[0]];else if(2===h.length)T=[h[0],h[1],h[0],h[1]];else if(3===h.length)T=[h[0],h[1],h[2],h[1]];else{if(4!==h.length)return null;T=[h[0],h[1],h[2],h[3]]}var G=N.styleAttrs[ve.byName.writingMode.qname];if("lrtb"===G||"lr"===G)T=[T[0],T[3],T[2],T[1]];else if("rltb"===G||"rl"===G)T=[T[0],T[1],T[2],T[3]];else if("tblr"===G)T=[T[3],T[0],T[1],T[2]];else{if("tbrl"!==G&&"tb"!==G)return null;T=[T[3],T[2],T[1],T[0]]}for(var $=[],ne=0;ne<T.length;ne++)if(0===T[ne].value)$[ne]=new d.ComputedLength(0,0);else if($[ne]=d.toComputedLength(T[ne].value,T[ne].unit,N.styleAttrs[ve.byName.fontSize.qname],0===ne||2===ne?N.styleAttrs[ve.byName.extent.qname].h:N.styleAttrs[ve.byName.extent.qname].w,0===ne||2===ne?m.cellLength.h:m.cellLength.w,0===ne||2===ne?m.pxLength.h:m.pxLength.w),null===$[ne])return null;return $}),new f(k.ns_tts,"position","top left",["region"],!1,!0,function(m){return d.parsePosition(m)},function(m,S,N,h){var v,T;return null===(v=d.toComputedLength(h.v.offset.value,h.v.offset.unit,null,new d.ComputedLength(-N.styleAttrs[ve.byName.extent.qname].h.rw,m.dimensions.h.rh-N.styleAttrs[ve.byName.extent.qname].h.rh),null,m.pxLength.h))?null:("bottom"===h.v.edge&&(v=new d.ComputedLength(-v.rw-N.styleAttrs[ve.byName.extent.qname].h.rw,m.dimensions.h.rh-v.rh-N.styleAttrs[ve.byName.extent.qname].h.rh)),T=d.toComputedLength(h.h.offset.value,h.h.offset.unit,null,new d.ComputedLength(m.dimensions.w.rw-N.styleAttrs[ve.byName.extent.qname].w.rw,-N.styleAttrs[ve.byName.extent.qname].w.rh),null,m.pxLength.w),null===v?null:("right"===h.h.edge&&(T=new d.ComputedLength(m.dimensions.w.rw-T.rw-N.styleAttrs[ve.byName.extent.qname].w.rw,-T.rh-N.styleAttrs[ve.byName.extent.qname].w.rh)),{h:v,w:T}))}),new f(k.ns_tts,"ruby","none",["span"],!1,!0,function(m){return m},null),new f(k.ns_tts,"rubyAlign","center",["span"],!0,!0,function(m){return"center"!==m&&"spaceAround"!==m?null:m},null),new f(k.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(m){return m},null),new f(k.ns_tts,"rubyReserve","none",["p"],!0,!0,function(m){var S=m.split(" "),N=[null,null];if(0===S.length||S.length>2||"none"!==S[0]&&"both"!==S[0]&&"after"!==S[0]&&"before"!==S[0]&&"outside"!==S[0])return null;if(N[0]=S[0],2===S.length&&"none"!==S[0]){var h=d.parseLength(S[1]);if(!h)return null;N[1]=h}return N},function(m,S,N,h,v){return"none"===h[0]?h:null===(T=null===h[1]?new d.ComputedLength(.5*N.styleAttrs[ve.byName.fontSize.qname].rw,.5*N.styleAttrs[ve.byName.fontSize.qname].rh):d.toComputedLength(h[1].value,h[1].unit,N.styleAttrs[ve.byName.fontSize.qname],N.styleAttrs[ve.byName.fontSize.qname],m.cellLength.h,m.pxLength.h))?null:[h[0],T];var T}),new f(k.ns_tts,"showBackground","always",["region"],!1,!0,function(m){return m},null),new f(k.ns_tts,"textAlign","start",["p"],!0,!0,function(m){return m},function(m,S,N,h,v){return"left"===h?"start":"right"===h?"end":h}),new f(k.ns_tts,"textCombine","none",["span"],!0,!0,function(m){return"none"===m||"all"===m?m:null},null),new f(k.ns_tts,"textDecoration","none",["span"],!0,!0,function(m){return m.split(" ")},null),new f(k.ns_tts,"textEmphasis","none",["span"],!0,!0,function(m){for(var S=m.split(" "),N={style:null,symbol:null,color:null,position:null},h=0;h<S.length;h++)if("none"===S[h]||"auto"===S[h])N.style=S[h];else if("filled"===S[h]||"open"===S[h])N.style=S[h];else if("circle"===S[h]||"dot"===S[h]||"sesame"===S[h])N.symbol=S[h];else if("current"===S[h])N.color=S[h];else if("outside"===S[h]||"before"===S[h]||"after"===S[h])N.position=S[h];else if(N.color=d.parseColor(S[h]),null===N.color)return null;return null==N.style&&null==N.symbol?N.style="auto":(N.symbol=N.symbol||"circle",N.style=N.style||"filled"),N.position=N.position||"outside",N.color=N.color||"current",N},null),new f(k.ns_tts,"textOutline","none",["span"],!0,!0,function(m){if("none"===m)return m;var S={},N=m.split(" ");if(0===N.length||N.length>2)return null;var h=d.parseColor(N[0]);if(S.color=h,null!==h&&N.shift(),1!==N.length)return null;var v=d.parseLength(N[0]);return v?(S.thickness=v,S):null},function(m,S,N,h,v){if("none"===h)return h;var T={};return T.color=null===h.color?N.styleAttrs[ve.byName.color.qname]:h.color,T.thickness=d.toComputedLength(h.thickness.value,h.thickness.unit,N.styleAttrs[ve.byName.fontSize.qname],N.styleAttrs[ve.byName.fontSize.qname],m.cellLength.h,m.pxLength.h),null===T.thickness?null:T}),new f(k.ns_tts,"textShadow","none",["span"],!0,!0,d.parseTextShadow,function(m,S,N,h){if("none"===h)return h;for(var v=[],T=0;T<h.length;T++){var G={};if(G.x_off=d.toComputedLength(h[T][0].value,h[T][0].unit,null,N.styleAttrs[ve.byName.fontSize.qname],null,m.pxLength.w),null===G.x_off||(G.y_off=d.toComputedLength(h[T][1].value,h[T][1].unit,null,N.styleAttrs[ve.byName.fontSize.qname],null,m.pxLength.h),null===G.y_off))return null;if(null===h[T][2])G.b_radius=0;else if(G.b_radius=d.toComputedLength(h[T][2].value,h[T][2].unit,null,N.styleAttrs[ve.byName.fontSize.qname],null,m.pxLength.h),null===G.b_radius)return null;G.color=null===h[T][3]?N.styleAttrs[ve.byName.color.qname]:h[T][3],v.push(G)}return v}),new f(k.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(m){return m},null),new f(k.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(m){return m},null),new f(k.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(m){return m},null),new f(k.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(m){return m},null),new f(k.ns_tts,"zIndex","auto",["region"],!1,!0,function(m){var S;return"auto"===m?S=m:(S=parseInt(m),isNaN(S)&&(S=null)),S},null),new f(k.ns_ebutts,"linePadding","0c",["p"],!0,!1,d.parseLength,function(m,S,N,h,v){return d.toComputedLength(h.value,h.unit,null,null,m.cellLength.w,null)}),new f(k.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(m){return m},null),new f(k.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(m){return m},null),new f(k.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(m){return"true"===m},null),new f(k.ns_itts,"fillLineGap","false",["p"],!0,!0,function(m){return"true"===m},null)],ve.byQName={},ve.all)ve.byQName[ve.all[P].qname]=ve.all[P];for(var w in ve.byName={},ve.all)ve.byName[ve.all[w].name]=ve.all[w]}(He,typeof imscNames>"u"?L(210):imscNames,typeof imscUtils>"u"?L(5926):imscUtils)},5926:(wt,He)=>{!function(L){var ve=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,k=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,d=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,f={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};L.parseColor=function(w){var m,S=null,N=f[w.toLowerCase()];return void 0!==N?S=N:null!==(m=ve.exec(w))?S=[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),void 0!==m[4]?parseInt(m[4],16):255]:null!==(m=k.exec(w))?S=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),255]:null!==(m=d.exec(w))&&(S=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseInt(m[4])]),S};var P=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;L.parseLength=function(w){var m,S=null;return null!==(m=P.exec(w))&&(S={value:parseFloat(m[1]),unit:m[2]}),S},L.parseTextShadow=function(w){for(var m=w.match(/([^\(,\)]|\([^\)]+\))+/g),S=[],N=0;N<m.length;N++){var h=m[N].split(" ");if(1===h.length&&"none"===h[0])return"none";if(h.length>1&&h.length<5){var v=[null,null,null,null],T=L.parseLength(h.shift());if(null===T||(v[0]=T,null===(T=L.parseLength(h.shift()))))return null;if(v[1]=T,0===h.length){S.push(v);continue}if(null!==(T=L.parseLength(h[0]))&&(v[2]=T,h.shift()),0===h.length){S.push(v);continue}var G=L.parseColor(h[0]);if(null===G)return null;v[3]=G,S.push(v)}}return S},L.parsePosition=function(w){var m=w.split(" "),S=function(ne){return"center"===ne||"left"===ne||"top"===ne||"bottom"===ne||"right"===ne};if(m.length>4)return null;for(var N=0;N<m.length;N++)if(!S(m[N])){var h=L.parseLength(m[N]);if(null===h)return null;m[N]=h}for(var v={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},T=0;T<m.length;){var G=m[T++];if(S(G)){var $={value:0,unit:"%"};2!==m.length&&T<m.length&&!S(m[T])&&($=m[T++]),"right"===G?(v.h.edge=G,v.h.offset=$):"bottom"===G?(v.v.edge=G,v.v.offset=$):"left"===G?v.h.offset=$:"top"===G&&(v.v.offset=$)}else{if(1!==m.length&&2!==m.length)return null;1===T?v.h.offset=G:v.v.offset=G}}return v},L.ComputedLength=function(w,m){this.rw=w,this.rh=m},L.ComputedLength.prototype.toUsedLength=function(w,m){return w*this.rw+m*this.rh},L.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},L.toComputedLength=function(w,m,S,N,h,v){return"%"===m&&N?new L.ComputedLength(N.rw*w/100,N.rh*w/100):"em"===m&&S?new L.ComputedLength(S.rw*w,S.rh*w):"c"===m&&h?new L.ComputedLength(w*h.rw,w*h.rh):"px"===m&&v?new L.ComputedLength(w*v.rw,w*v.rh):"rh"===m?new L.ComputedLength(0,w/100):"rw"===m?new L.ComputedLength(w/100,0):null}}(He)},3516:wt=>{"use strict";wt.exports=function(He){var L="string"==typeof He?He.charCodeAt(0):He;return L>=97&&L<=122||L>=65&&L<=90}},2219:(wt,He,L)=>{"use strict";var ve=L(3516),k=L(395);wt.exports=function(d){return ve(d)||k(d)}},395:wt=>{"use strict";wt.exports=function(He){var L="string"==typeof He?He.charCodeAt(0):He;return L>=48&&L<=57}},3875:wt=>{"use strict";function He(k){if("string"!=typeof k)throw new TypeError("Path must be a string. Received "+JSON.stringify(k))}function L(k,d){for(var f,P="",w=0,m=-1,S=0,N=0;N<=k.length;++N){if(N<k.length)f=k.charCodeAt(N);else{if(47===f)break;f=47}if(47===f){if(m!==N-1&&1!==S)if(m!==N-1&&2===S){if(P.length<2||2!==w||46!==P.charCodeAt(P.length-1)||46!==P.charCodeAt(P.length-2))if(P.length>2){var h=P.lastIndexOf("/");if(h!==P.length-1){-1===h?(P="",w=0):w=(P=P.slice(0,h)).length-1-P.lastIndexOf("/"),m=N,S=0;continue}}else if(2===P.length||1===P.length){P="",w=0,m=N,S=0;continue}d&&(P.length>0?P+="/..":P="..",w=2)}else P.length>0?P+="/"+k.slice(m+1,N):P=k.slice(m+1,N),w=N-m-1;m=N,S=0}else 46===f&&-1!==S?++S:S=-1}return P}var ve={resolve:function(){for(var k,d="",f=!1,P=arguments.length-1;P>=-1&&!f;P--){var w;P>=0?w=arguments[P]:(void 0===k&&(k=process.cwd()),w=k),He(w),0!==w.length&&(d=w+"/"+d,f=47===w.charCodeAt(0))}return d=L(d,!f),f?d.length>0?"/"+d:"/":d.length>0?d:"."},normalize:function(k){if(He(k),0===k.length)return".";var d=47===k.charCodeAt(0),f=47===k.charCodeAt(k.length-1);return 0!==(k=L(k,!d)).length||d||(k="."),k.length>0&&f&&(k+="/"),d?"/"+k:k},isAbsolute:function(k){return He(k),k.length>0&&47===k.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var k,d=0;d<arguments.length;++d){var f=arguments[d];He(f),f.length>0&&(void 0===k?k=f:k+="/"+f)}return void 0===k?".":ve.normalize(k)},relative:function(k,d){if(He(k),He(d),k===d||(k=ve.resolve(k))===(d=ve.resolve(d)))return"";for(var f=1;f<k.length&&47===k.charCodeAt(f);++f);for(var P=k.length,w=P-f,m=1;m<d.length&&47===d.charCodeAt(m);++m);for(var S=d.length-m,N=w<S?w:S,h=-1,v=0;v<=N;++v){if(v===N){if(S>N){if(47===d.charCodeAt(m+v))return d.slice(m+v+1);if(0===v)return d.slice(m+v)}else w>N&&(47===k.charCodeAt(f+v)?h=v:0===v&&(h=0));break}var T=k.charCodeAt(f+v);if(T!==d.charCodeAt(m+v))break;47===T&&(h=v)}var G="";for(v=f+h+1;v<=P;++v)v!==P&&47!==k.charCodeAt(v)||(G+=0===G.length?"..":"/..");return G.length>0?G+d.slice(m+h):(47===d.charCodeAt(m+=h)&&++m,d.slice(m))},_makeLong:function(k){return k},dirname:function(k){if(He(k),0===k.length)return".";for(var d=k.charCodeAt(0),f=47===d,P=-1,w=!0,m=k.length-1;m>=1;--m)if(47===(d=k.charCodeAt(m))){if(!w){P=m;break}}else w=!1;return-1===P?f?"/":".":f&&1===P?"//":k.slice(0,P)},basename:function(k,d){if(void 0!==d&&"string"!=typeof d)throw new TypeError('"ext" argument must be a string');He(k);var f,P=0,w=-1,m=!0;if(void 0!==d&&d.length>0&&d.length<=k.length){if(d.length===k.length&&d===k)return"";var S=d.length-1,N=-1;for(f=k.length-1;f>=0;--f){var h=k.charCodeAt(f);if(47===h){if(!m){P=f+1;break}}else-1===N&&(m=!1,N=f+1),S>=0&&(h===d.charCodeAt(S)?-1==--S&&(w=f):(S=-1,w=N))}return P===w?w=N:-1===w&&(w=k.length),k.slice(P,w)}for(f=k.length-1;f>=0;--f)if(47===k.charCodeAt(f)){if(!m){P=f+1;break}}else-1===w&&(m=!1,w=f+1);return-1===w?"":k.slice(P,w)},extname:function(k){He(k);for(var d=-1,f=0,P=-1,w=!0,m=0,S=k.length-1;S>=0;--S){var N=k.charCodeAt(S);if(47!==N)-1===P&&(w=!1,P=S+1),46===N?-1===d?d=S:1!==m&&(m=1):-1!==d&&(m=-1);else if(!w){f=S+1;break}}return-1===d||-1===P||0===m||1===m&&d===P-1&&d===f+1?"":k.slice(d,P)},format:function(k){if(null===k||"object"!=typeof k)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof k);return w=(f=k).base||(f.name||"")+(f.ext||""),(P=f.dir||f.root)?P===f.root?P+w:P+"/"+w:w;var f,P,w},parse:function(k){He(k);var d={root:"",dir:"",base:"",ext:"",name:""};if(0===k.length)return d;var f,P=k.charCodeAt(0),w=47===P;w?(d.root="/",f=1):f=0;for(var m=-1,S=0,N=-1,h=!0,v=k.length-1,T=0;v>=f;--v)if(47!==(P=k.charCodeAt(v)))-1===N&&(h=!1,N=v+1),46===P?-1===m?m=v:1!==T&&(T=1):-1!==m&&(T=-1);else if(!h){S=v+1;break}return-1===m||-1===N||0===T||1===T&&m===N-1&&m===S+1?-1!==N&&(d.base=d.name=k.slice(0===S&&w?1:S,N)):(0===S&&w?(d.name=k.slice(1,m),d.base=k.slice(1,N)):(d.name=k.slice(S,m),d.base=k.slice(S,N)),d.ext=k.slice(m,N)),S>0?d.dir=k.slice(0,S-1):w&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null};ve.posix=ve,wt.exports=ve},8387:(wt,He,L)=>{var ve=L(1549),k=ve.Buffer;function d(P,w){for(var m in P)w[m]=P[m]}function f(P,w,m){return k(P,w,m)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?wt.exports=ve:(d(ve,He),He.Buffer=f),d(k,f),f.from=function(P,w,m){if("number"==typeof P)throw new TypeError("Argument must not be a number");return k(P,w,m)},f.alloc=function(P,w,m){if("number"!=typeof P)throw new TypeError("Argument must be a number");var S=k(P);return void 0!==w?"string"==typeof m?S.fill(w,m):S.fill(w):S.fill(0),S},f.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return k(P)},f.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return ve.SlowBuffer(P)}},5378:(wt,He,L)=>{!function(ve){ve.parser=function(E,_){return new f(E,_)},ve.SAXParser=f,ve.SAXStream=w,ve.createStream=function(E,_){return new w(E,_)},ve.MAX_BUFFER_LENGTH=65536;var k,d=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function f(E,_){if(!(this instanceof f))return new f(E,_);var x=this;(function(M){for(var fe=0,se=d.length;fe<se;fe++)M[d[fe]]=""})(x),x.q=x.c="",x.bufferCheckPosition=ve.MAX_BUFFER_LENGTH,x.opt=_||{},x.opt.lowercase=x.opt.lowercase||x.opt.lowercasetags,x.looseCase=x.opt.lowercase?"toLowerCase":"toUpperCase",x.tags=[],x.closed=x.closedRoot=x.sawRoot=!1,x.tag=x.error=null,x.strict=!!E,x.noscript=!(!E&&!x.opt.noscript),x.state=ge.BEGIN,x.strictEntities=x.opt.strictEntities,x.ENTITIES=Object.create(x.strictEntities?ve.XML_ENTITIES:ve.ENTITIES),x.attribList=[],x.opt.xmlns&&(x.ns=Object.create($)),x.trackPosition=!1!==x.opt.position,x.trackPosition&&(x.position=x.line=x.column=0),Ve(x,"onready")}ve.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(E){function _(){}return _.prototype=E,new _}),Object.keys||(Object.keys=function(E){var _=[];for(var x in E)E.hasOwnProperty(x)&&_.push(x);return _}),f.prototype={end:function(){Mt(this)},write:function(E){var _=this;if(this.error)throw this.error;if(_.closed)return rt(_,"Cannot write after close. Assign an onready handler.");if(null===E)return Mt(_);"object"==typeof E&&(E=E.toString());for(var x=0,M="";M=at(E,x++),_.c=M,M;)switch(_.trackPosition&&(_.position++,"\n"===M?(_.line++,_.column=0):_.column++),_.state){case ge.BEGIN:if(_.state=ge.BEGIN_WHITESPACE,"\ufeff"===M)continue;Ce(_,M);continue;case ge.BEGIN_WHITESPACE:Ce(_,M);continue;case ge.TEXT:if(_.sawRoot&&!_.closedRoot){for(var fe=x-1;M&&"<"!==M&&"&"!==M;)(M=at(E,x++))&&_.trackPosition&&(_.position++,"\n"===M?(_.line++,_.column=0):_.column++);_.textNode+=E.substring(fe,x-1)}"<"!==M||_.sawRoot&&_.closedRoot&&!_.strict?(!he(m,M)||_.sawRoot&&!_.closedRoot||ht(_,"Text data outside of root node."),"&"===M?_.state=ge.TEXT_ENTITY:_.textNode+=M):(_.state=ge.OPEN_WAKA,_.startTagPosition=_.position);continue;case ge.SCRIPT:"<"===M?_.state=ge.SCRIPT_ENDING:_.script+=M;continue;case ge.SCRIPT_ENDING:"/"===M?_.state=ge.CLOSE_TAG:(_.script+="<"+M,_.state=ge.SCRIPT);continue;case ge.OPEN_WAKA:"!"===M?(_.state=ge.SGML_DECL,_.sgmlDecl=""):W(m,M)||(W(ne,M)?(_.state=ge.OPEN_TAG,_.tagName=M):"/"===M?(_.state=ge.CLOSE_TAG,_.tagName=""):"?"===M?(_.state=ge.PROC_INST,_.procInstName=_.procInstBody=""):(ht(_,"Unencoded <"),_.startTagPosition+1<_.position&&(M=new Array(_.position-_.startTagPosition).join(" ")+M),_.textNode+="<"+M,_.state=ge.TEXT));continue;case ge.SGML_DECL:"[CDATA["===(_.sgmlDecl+M).toUpperCase()?(We(_,"onopencdata"),_.state=ge.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+M==="--"?(_.state=ge.COMMENT,_.comment="",_.sgmlDecl=""):"DOCTYPE"===(_.sgmlDecl+M).toUpperCase()?(_.state=ge.DOCTYPE,(_.doctype||_.sawRoot)&&ht(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):">"===M?(We(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=ge.TEXT):(W(h,M)&&(_.state=ge.SGML_DECL_QUOTED),_.sgmlDecl+=M);continue;case ge.SGML_DECL_QUOTED:M===_.q&&(_.state=ge.SGML_DECL,_.q=""),_.sgmlDecl+=M;continue;case ge.DOCTYPE:">"===M?(_.state=ge.TEXT,We(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=M,"["===M?_.state=ge.DOCTYPE_DTD:W(h,M)&&(_.state=ge.DOCTYPE_QUOTED,_.q=M));continue;case ge.DOCTYPE_QUOTED:_.doctype+=M,M===_.q&&(_.q="",_.state=ge.DOCTYPE);continue;case ge.DOCTYPE_DTD:_.doctype+=M,"]"===M?_.state=ge.DOCTYPE:W(h,M)&&(_.state=ge.DOCTYPE_DTD_QUOTED,_.q=M);continue;case ge.DOCTYPE_DTD_QUOTED:_.doctype+=M,M===_.q&&(_.state=ge.DOCTYPE_DTD,_.q="");continue;case ge.COMMENT:"-"===M?_.state=ge.COMMENT_ENDING:_.comment+=M;continue;case ge.COMMENT_ENDING:"-"===M?(_.state=ge.COMMENT_ENDED,_.comment=Ue(_.opt,_.comment),_.comment&&We(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+M,_.state=ge.COMMENT);continue;case ge.COMMENT_ENDED:">"!==M?(ht(_,"Malformed comment"),_.comment+="--"+M,_.state=ge.COMMENT):_.state=ge.TEXT;continue;case ge.CDATA:"]"===M?_.state=ge.CDATA_ENDING:_.cdata+=M;continue;case ge.CDATA_ENDING:"]"===M?_.state=ge.CDATA_ENDING_2:(_.cdata+="]"+M,_.state=ge.CDATA);continue;case ge.CDATA_ENDING_2:">"===M?(_.cdata&&We(_,"oncdata",_.cdata),We(_,"onclosecdata"),_.cdata="",_.state=ge.TEXT):"]"===M?_.cdata+="]":(_.cdata+="]]"+M,_.state=ge.CDATA);continue;case ge.PROC_INST:"?"===M?_.state=ge.PROC_INST_ENDING:W(m,M)?_.state=ge.PROC_INST_BODY:_.procInstName+=M;continue;case ge.PROC_INST_BODY:if(!_.procInstBody&&W(m,M))continue;"?"===M?_.state=ge.PROC_INST_ENDING:_.procInstBody+=M;continue;case ge.PROC_INST_ENDING:">"===M?(We(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=ge.TEXT):(_.procInstBody+="?"+M,_.state=ge.PROC_INST_BODY);continue;case ge.OPEN_TAG:W(Q,M)?_.tagName+=M:(ke(_),">"===M?Ye(_):"/"===M?_.state=ge.OPEN_TAG_SLASH:(he(m,M)&&ht(_,"Invalid character in tag name"),_.state=ge.ATTRIB));continue;case ge.OPEN_TAG_SLASH:">"===M?(Ye(_,!0),yt(_)):(ht(_,"Forward-slash in opening tag not followed by >"),_.state=ge.ATTRIB);continue;case ge.ATTRIB:if(W(m,M))continue;">"===M?Ye(_):"/"===M?_.state=ge.OPEN_TAG_SLASH:W(ne,M)?(_.attribName=M,_.attribValue="",_.state=ge.ATTRIB_NAME):ht(_,"Invalid attribute name");continue;case ge.ATTRIB_NAME:"="===M?_.state=ge.ATTRIB_VALUE:">"===M?(ht(_,"Attribute without value"),_.attribValue=_.attribName,St(_),Ye(_)):W(m,M)?_.state=ge.ATTRIB_NAME_SAW_WHITE:W(Q,M)?_.attribName+=M:ht(_,"Invalid attribute name");continue;case ge.ATTRIB_NAME_SAW_WHITE:if("="===M)_.state=ge.ATTRIB_VALUE;else{if(W(m,M))continue;ht(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",We(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",">"===M?Ye(_):W(ne,M)?(_.attribName=M,_.state=ge.ATTRIB_NAME):(ht(_,"Invalid attribute name"),_.state=ge.ATTRIB)}continue;case ge.ATTRIB_VALUE:if(W(m,M))continue;W(h,M)?(_.q=M,_.state=ge.ATTRIB_VALUE_QUOTED):(ht(_,"Unquoted attribute value"),_.state=ge.ATTRIB_VALUE_UNQUOTED,_.attribValue=M);continue;case ge.ATTRIB_VALUE_QUOTED:if(M!==_.q){"&"===M?_.state=ge.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=M;continue}St(_),_.q="",_.state=ge.ATTRIB_VALUE_CLOSED;continue;case ge.ATTRIB_VALUE_CLOSED:W(m,M)?_.state=ge.ATTRIB:">"===M?Ye(_):"/"===M?_.state=ge.OPEN_TAG_SLASH:W(ne,M)?(ht(_,"No whitespace between attributes"),_.attribName=M,_.attribValue="",_.state=ge.ATTRIB_NAME):ht(_,"Invalid attribute name");continue;case ge.ATTRIB_VALUE_UNQUOTED:if(he(v,M)){"&"===M?_.state=ge.ATTRIB_VALUE_ENTITY_U:_.attribValue+=M;continue}St(_),">"===M?Ye(_):_.state=ge.ATTRIB;continue;case ge.CLOSE_TAG:if(_.tagName)">"===M?yt(_):W(Q,M)?_.tagName+=M:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=ge.SCRIPT):(he(m,M)&&ht(_,"Invalid tagname in closing tag"),_.state=ge.CLOSE_TAG_SAW_WHITE);else{if(W(m,M))continue;he(ne,M)?_.script?(_.script+="</"+M,_.state=ge.SCRIPT):ht(_,"Invalid tagname in closing tag."):_.tagName=M}continue;case ge.CLOSE_TAG_SAW_WHITE:if(W(m,M))continue;">"===M?yt(_):ht(_,"Invalid characters in closing tag");continue;case ge.TEXT_ENTITY:case ge.ATTRIB_VALUE_ENTITY_Q:case ge.ATTRIB_VALUE_ENTITY_U:var De,Ge;switch(_.state){case ge.TEXT_ENTITY:De=ge.TEXT,Ge="textNode";break;case ge.ATTRIB_VALUE_ENTITY_Q:De=ge.ATTRIB_VALUE_QUOTED,Ge="attribValue";break;case ge.ATTRIB_VALUE_ENTITY_U:De=ge.ATTRIB_VALUE_UNQUOTED,Ge="attribValue"}";"===M?(_[Ge]+=me(_),_.entity="",_.state=De):W(_.entity.length?H:oe,M)?_.entity+=M:(ht(_,"Invalid character in entity name"),_[Ge]+="&"+_.entity+M,_.entity="",_.state=De);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&function(Ke){for(var Fe=Math.max(ve.MAX_BUFFER_LENGTH,10),tt=0,it=0,Ie=d.length;it<Ie;it++){var Xe=Ke[d[it]].length;if(Xe>Fe)switch(d[it]){case"textNode":Ne(Ke);break;case"cdata":We(Ke,"oncdata",Ke.cdata),Ke.cdata="";break;case"script":We(Ke,"onscript",Ke.script),Ke.script="";break;default:rt(Ke,"Max buffer length exceeded: "+d[it])}tt=Math.max(tt,Xe)}Ke.bufferCheckPosition=ve.MAX_BUFFER_LENGTH-tt+Ke.position}(_),_},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var E;Ne(E=this),""!==E.cdata&&(We(E,"oncdata",E.cdata),E.cdata=""),""!==E.script&&(We(E,"onscript",E.script),E.script="")}};try{k=L(182).Stream}catch{k=function(){}}var P=ve.EVENTS.filter(function(E){return"error"!==E&&"end"!==E});function w(E,_){if(!(this instanceof w))return new w(E,_);k.apply(this),this._parser=new f(E,_),this.writable=!0,this.readable=!0;var x=this;this._parser.onend=function(){x.emit("end")},this._parser.onerror=function(M){x.emit("error",M),x._parser.error=null},this._decoder=null,P.forEach(function(M){Object.defineProperty(x,"on"+M,{get:function(){return x._parser["on"+M]},set:function(fe){if(!fe)return x.removeAllListeners(M),x._parser["on"+M]=fe,fe;x.on(M,fe)},enumerable:!0,configurable:!1})})}(w.prototype=Object.create(k.prototype,{constructor:{value:w}})).write=function(E){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(E)){if(!this._decoder){var _=L(7503).s;this._decoder=new _("utf8")}E=this._decoder.write(E)}return this._parser.write(E.toString()),this.emit("data",E),!0},w.prototype.end=function(E){return E&&E.length&&this.write(E),this._parser.end(),!0},w.prototype.on=function(E,_){var x=this;return x._parser["on"+E]||-1===P.indexOf(E)||(x._parser["on"+E]=function(){var M=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);M.splice(0,0,E),x.emit.apply(x,M)}),k.prototype.on.call(x,E,_)};var m="\r\n\t ",S="0124356789",N="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",h="'\"",v=m+">",T="http://www.w3.org/XML/1998/namespace",G="http://www.w3.org/2000/xmlns/",$={xml:T,xmlns:G};m=F(m),S=F(S),N=F(N);var ne=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,oe=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function F(E){return E.split("").reduce(function(_,x){return _[x]=!0,_},{})}function W(E,_){return"[object RegExp]"===Object.prototype.toString.call(E)?!!_.match(E):E[_]}function he(E,_){return!W(E,_)}h=F(h),v=F(v);var ce,ze,st,ge=0;for(var Rt in ve.STATE={BEGIN:ge++,BEGIN_WHITESPACE:ge++,TEXT:ge++,TEXT_ENTITY:ge++,OPEN_WAKA:ge++,SGML_DECL:ge++,SGML_DECL_QUOTED:ge++,DOCTYPE:ge++,DOCTYPE_QUOTED:ge++,DOCTYPE_DTD:ge++,DOCTYPE_DTD_QUOTED:ge++,COMMENT_STARTING:ge++,COMMENT:ge++,COMMENT_ENDING:ge++,COMMENT_ENDED:ge++,CDATA:ge++,CDATA_ENDING:ge++,CDATA_ENDING_2:ge++,PROC_INST:ge++,PROC_INST_BODY:ge++,PROC_INST_ENDING:ge++,OPEN_TAG:ge++,OPEN_TAG_SLASH:ge++,ATTRIB:ge++,ATTRIB_NAME:ge++,ATTRIB_NAME_SAW_WHITE:ge++,ATTRIB_VALUE:ge++,ATTRIB_VALUE_QUOTED:ge++,ATTRIB_VALUE_CLOSED:ge++,ATTRIB_VALUE_UNQUOTED:ge++,ATTRIB_VALUE_ENTITY_Q:ge++,ATTRIB_VALUE_ENTITY_U:ge++,CLOSE_TAG:ge++,CLOSE_TAG_SAW_WHITE:ge++,SCRIPT:ge++,SCRIPT_ENDING:ge++},ve.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ve.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(ve.ENTITIES).forEach(function(E){var _=ve.ENTITIES[E],x="number"==typeof _?String.fromCharCode(_):_;ve.ENTITIES[E]=x}),ve.STATE)ve.STATE[ve.STATE[Rt]]=Rt;function Ve(E,_,x){E[_]&&E[_](x)}function We(E,_,x){E.textNode&&Ne(E),Ve(E,_,x)}function Ne(E){E.textNode=Ue(E.opt,E.textNode),E.textNode&&Ve(E,"ontext",E.textNode),E.textNode=""}function Ue(E,_){return E.trim&&(_=_.trim()),E.normalize&&(_=_.replace(/\s+/g," ")),_}function rt(E,_){return Ne(E),E.trackPosition&&(_+="\nLine: "+E.line+"\nColumn: "+E.column+"\nChar: "+E.c),_=new Error(_),E.error=_,Ve(E,"onerror",_),E}function Mt(E){return E.sawRoot&&!E.closedRoot&&ht(E,"Unclosed root tag"),E.state!==ge.BEGIN&&E.state!==ge.BEGIN_WHITESPACE&&E.state!==ge.TEXT&&rt(E,"Unexpected end"),Ne(E),E.c="",E.closed=!0,Ve(E,"onend"),f.call(E,E.strict,E.opt),E}function ht(E,_){if("object"!=typeof E||!(E instanceof f))throw new Error("bad call to strictFail");E.strict&&rt(E,_)}function ke(E){E.strict||(E.tagName=E.tagName[E.looseCase]());var _=E.tags[E.tags.length-1]||E,x=E.tag={name:E.tagName,attributes:{}};E.opt.xmlns&&(x.ns=_.ns),E.attribList.length=0,We(E,"onopentagstart",x)}function gt(E,_){var x=E.indexOf(":")<0?["",E]:E.split(":"),M=x[0],fe=x[1];return _&&"xmlns"===E&&(M="xmlns",fe=""),{prefix:M,local:fe}}function St(E){if(E.strict||(E.attribName=E.attribName[E.looseCase]()),-1!==E.attribList.indexOf(E.attribName)||E.tag.attributes.hasOwnProperty(E.attribName))E.attribName=E.attribValue="";else{if(E.opt.xmlns){var _=gt(E.attribName,!0),M=_.local;if("xmlns"===_.prefix)if("xml"===M&&E.attribValue!==T)ht(E,"xml: prefix must be bound to "+T+"\nActual: "+E.attribValue);else if("xmlns"===M&&E.attribValue!==G)ht(E,"xmlns: prefix must be bound to "+G+"\nActual: "+E.attribValue);else{var fe=E.tag,se=E.tags[E.tags.length-1]||E;fe.ns===se.ns&&(fe.ns=Object.create(se.ns)),fe.ns[M]=E.attribValue}E.attribList.push([E.attribName,E.attribValue])}else E.tag.attributes[E.attribName]=E.attribValue,We(E,"onattribute",{name:E.attribName,value:E.attribValue});E.attribName=E.attribValue=""}}function Ye(E,_){if(E.opt.xmlns){var x=E.tag,M=gt(E.tagName);x.prefix=M.prefix,x.local=M.local,x.uri=x.ns[M.prefix]||"",x.prefix&&!x.uri&&(ht(E,"Unbound namespace prefix: "+JSON.stringify(E.tagName)),x.uri=M.prefix),x.ns&&(E.tags[E.tags.length-1]||E).ns!==x.ns&&Object.keys(x.ns).forEach(function(Tt){We(E,"onopennamespace",{prefix:Tt,uri:x.ns[Tt]})});for(var se=0,De=E.attribList.length;se<De;se++){var Ge=E.attribList[se],Ke=Ge[0],Fe=Ge[1],tt=gt(Ke,!0),it=tt.prefix,Xe=""===it?"":x.ns[it]||"",$e={name:Ke,value:Fe,prefix:it,local:tt.local,uri:Xe};it&&"xmlns"!==it&&!Xe&&(ht(E,"Unbound namespace prefix: "+JSON.stringify(it)),$e.uri=it),E.tag.attributes[Ke]=$e,We(E,"onattribute",$e)}E.attribList.length=0}E.tag.isSelfClosing=!!_,E.sawRoot=!0,E.tags.push(E.tag),We(E,"onopentag",E.tag),_||(E.state=E.noscript||"script"!==E.tagName.toLowerCase()?ge.TEXT:ge.SCRIPT,E.tag=null,E.tagName=""),E.attribName=E.attribValue="",E.attribList.length=0}function yt(E){if(!E.tagName)return ht(E,"Weird empty close tag."),E.textNode+="</>",void(E.state=ge.TEXT);if(E.script){if("script"!==E.tagName)return E.script+="</"+E.tagName+">",E.tagName="",void(E.state=ge.SCRIPT);We(E,"onscript",E.script),E.script=""}var _=E.tags.length,x=E.tagName;E.strict||(x=x[E.looseCase]());for(var M=x;_--&&E.tags[_].name!==M;)ht(E,"Unexpected close tag");if(_<0)return ht(E,"Unmatched closing tag: "+E.tagName),E.textNode+="</"+E.tagName+">",void(E.state=ge.TEXT);E.tagName=x;for(var fe=E.tags.length;fe-- >_;){var se=E.tag=E.tags.pop();E.tagName=E.tag.name,We(E,"onclosetag",E.tagName);var De={};for(var Ge in se.ns)De[Ge]=se.ns[Ge];E.opt.xmlns&&se.ns!==(E.tags[E.tags.length-1]||E).ns&&Object.keys(se.ns).forEach(function(Fe){We(E,"onclosenamespace",{prefix:Fe,uri:se.ns[Fe]})})}0===_&&(E.closedRoot=!0),E.tagName=E.attribValue=E.attribName="",E.attribList.length=0,E.state=ge.TEXT}function me(E){var _,x=E.entity,M=x.toLowerCase(),fe="";return E.ENTITIES[x]?E.ENTITIES[x]:E.ENTITIES[M]?E.ENTITIES[M]:("#"===(x=M).charAt(0)&&("x"===x.charAt(1)?(x=x.slice(2),fe=(_=parseInt(x,16)).toString(16)):(x=x.slice(1),fe=(_=parseInt(x,10)).toString(10))),x=x.replace(/^0+/,""),fe.toLowerCase()!==x?(ht(E,"Invalid character entity"),"&"+E.entity+";"):String.fromCodePoint(_))}function Ce(E,_){"<"===_?(E.state=ge.OPEN_WAKA,E.startTagPosition=E.position):he(m,_)&&(ht(E,"Non-whitespace before first tag."),E.textNode=_,E.state=ge.TEXT)}function at(E,_){var x="";return _<E.length&&(x=E.charAt(_)),x}ge=ve.STATE,String.fromCodePoint||(ce=String.fromCharCode,ze=Math.floor,st=function(){var E,M=[],fe=-1,se=arguments.length;if(!se)return"";for(var De="";++fe<se;){var Ge=Number(arguments[fe]);if(!isFinite(Ge)||Ge<0||Ge>1114111||ze(Ge)!==Ge)throw RangeError("Invalid code point: "+Ge);Ge<=65535?M.push(Ge):(E=55296+((Ge-=65536)>>10),M.push(E,Ge%1024+56320)),(fe+1===se||M.length>16384)&&(De+=ce.apply(null,M),M.length=0)}return De},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:st,configurable:!0,writable:!0}):String.fromCodePoint=st)}(He)},182:(wt,He,L)=>{wt.exports=k;var ve=L(1159).EventEmitter;function k(){ve.call(this)}L(1765)(k,ve),k.Readable=L(2846),k.Writable=L(8318),k.Duplex=L(6138),k.Transform=L(9798),k.PassThrough=L(5472),k.finished=L(8800),k.pipeline=L(7295),k.Stream=k,k.prototype.pipe=function(d,f){var P=this;function w(G){d.writable&&!1===d.write(G)&&P.pause&&P.pause()}function m(){P.readable&&P.resume&&P.resume()}P.on("data",w),d.on("drain",m),d._isStdio||f&&!1===f.end||(P.on("end",N),P.on("close",h));var S=!1;function N(){S||(S=!0,d.end())}function h(){S||(S=!0,"function"==typeof d.destroy&&d.destroy())}function v(G){if(T(),0===ve.listenerCount(this,"error"))throw G}function T(){P.removeListener("data",w),d.removeListener("drain",m),P.removeListener("end",N),P.removeListener("close",h),P.removeListener("error",v),d.removeListener("error",v),P.removeListener("end",T),P.removeListener("close",T),d.removeListener("close",T)}return P.on("error",v),d.on("error",v),P.on("end",T),P.on("close",T),d.on("close",T),d.emit("pipe",P),d}},1765:wt=>{wt.exports="function"==typeof Object.create?function(He,L){L&&(He.super_=L,He.prototype=Object.create(L.prototype,{constructor:{value:He,enumerable:!1,writable:!0,configurable:!0}}))}:function(He,L){if(L){He.super_=L;var ve=function(){};ve.prototype=L.prototype,He.prototype=new ve,He.prototype.constructor=He}}},3690:wt=>{"use strict";var He={};function L(k,d,f){f||(f=Error);var P=function(w){var m,S;function N(h,v,T){return w.call(this,"string"==typeof d?d:d(h,v,T))||this}return S=w,(m=N).prototype=Object.create(S.prototype),m.prototype.constructor=m,m.__proto__=S,N}(f);P.prototype.name=f.name,P.prototype.code=k,He[k]=P}function ve(k,d){if(Array.isArray(k)){var f=k.length;return k=k.map(function(P){return String(P)}),f>2?"one of ".concat(d," ").concat(k.slice(0,f-1).join(", "),", or ")+k[f-1]:2===f?"one of ".concat(d," ").concat(k[0]," or ").concat(k[1]):"of ".concat(d," ").concat(k[0])}return"of ".concat(d," ").concat(String(k))}L("ERR_INVALID_OPT_VALUE",function(k,d){return'The value "'+d+'" is invalid for option "'+k+'"'},TypeError),L("ERR_INVALID_ARG_TYPE",function(k,d,f){var P,m,S,N,v,G;if("string"==typeof d&&"not "===d.substr(0,4)?(P="must not be",d=d.replace(/^not /,"")):P="must be",v=k,(void 0===G||G>v.length)&&(G=v.length)," argument"===v.substring(G-9,G))m="The ".concat(k," ").concat(P," ").concat(ve(d,"type"));else{var h=("number"!=typeof N&&(N=0),N+1>(S=k).length||-1===S.indexOf(".",N)?"argument":"property");m='The "'.concat(k,'" ').concat(h," ").concat(P," ").concat(ve(d,"type"))}return m+". Received type ".concat(typeof f)},TypeError),L("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),L("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),L("ERR_STREAM_PREMATURE_CLOSE","Premature close"),L("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),L("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),L("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),L("ERR_STREAM_WRITE_AFTER_END","write after end"),L("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),L("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),L("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),wt.exports.q=He},6138:(wt,He,L)=>{"use strict";var ve=Object.keys||function(h){var v=[];for(var T in h)v.push(T);return v};wt.exports=m;var k=L(2846),d=L(8318);L(1765)(m,k);for(var f=ve(d.prototype),P=0;P<f.length;P++){var w=f[P];m.prototype[w]||(m.prototype[w]=d.prototype[w])}function m(h){if(!(this instanceof m))return new m(h);k.call(this,h),d.call(this,h),this.allowHalfOpen=!0,h&&(!1===h.readable&&(this.readable=!1),!1===h.writable&&(this.writable=!1),!1===h.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",S)))}function S(){this._writableState.ended||process.nextTick(N,this)}function N(h){h.end()}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},5472:(wt,He,L)=>{"use strict";wt.exports=k;var ve=L(9798);function k(d){if(!(this instanceof k))return new k(d);ve.call(this,d)}L(1765)(k,ve),k.prototype._transform=function(d,f,P){P(null,d)}},2846:(wt,He,L)=>{"use strict";var ve;wt.exports=ce,ce.ReadableState=he,L(1159);var k,d=function(me,Ce){return me.listeners(Ce).length},f=L(9299),P=L(1549).Buffer,w=L.g.Uint8Array||function(){},m=L(964);k=m&&m.debuglog?m.debuglog("stream"):function(){};var S,N,h,v=L(8393),T=L(6163),G=L(7269).getHighWaterMark,$=L(3690).q,ne=$.ERR_INVALID_ARG_TYPE,Q=$.ERR_STREAM_PUSH_AFTER_EOF,oe=$.ERR_METHOD_NOT_IMPLEMENTED,H=$.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;L(1765)(ce,f);var F=T.errorOrDestroy,W=["error","close","destroy","pause","resume"];function he(me,Ce,at){ve=ve||L(6138),"boolean"!=typeof at&&(at=Ce instanceof ve),this.objectMode=!!(me=me||{}).objectMode,at&&(this.objectMode=this.objectMode||!!me.readableObjectMode),this.highWaterMark=G(this,me,"readableHighWaterMark",at),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==me.emitClose,this.autoDestroy=!!me.autoDestroy,this.destroyed=!1,this.defaultEncoding=me.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,me.encoding&&(S||(S=L(7503).s),this.decoder=new S(me.encoding),this.encoding=me.encoding)}function ce(me){if(ve=ve||L(6138),!(this instanceof ce))return new ce(me);this._readableState=new he(me,this,this instanceof ve),this.readable=!0,me&&("function"==typeof me.read&&(this._read=me.read),"function"==typeof me.destroy&&(this._destroy=me.destroy)),f.call(this)}function ze(me,Ce,at,E,_){k("readableAddChunk",Ce);var x,fe,se,De,Ge,M=me._readableState;if(null===Ce)M.reading=!1,function(fe,se){if(k("onEofChunk"),!se.ended){if(se.decoder){var De=se.decoder.end();De&&De.length&&(se.buffer.push(De),se.length+=se.objectMode?1:De.length)}se.ended=!0,se.sync?Ve(fe):(se.needReadable=!1,se.emittedReadable||(se.emittedReadable=!0,We(fe)))}}(me,M);else if(_||(fe=M,P.isBuffer(Ge=se=Ce)||Ge instanceof w||"string"==typeof se||void 0===se||fe.objectMode||(De=new ne("chunk",["string","Buffer","Uint8Array"],se)),x=De),x)F(me,x);else if(M.objectMode||Ce&&Ce.length>0)if("string"==typeof Ce||M.objectMode||Object.getPrototypeOf(Ce)===P.prototype||(Ce=function(fe){return P.from(fe)}(Ce)),E)M.endEmitted?F(me,new H):st(me,M,Ce,!0);else if(M.ended)F(me,new Q);else{if(M.destroyed)return!1;M.reading=!1,M.decoder&&!at?(Ce=M.decoder.write(Ce),M.objectMode||0!==Ce.length?st(me,M,Ce,!1):Ne(me,M)):st(me,M,Ce,!1)}else E||(M.reading=!1,Ne(me,M));return!M.ended&&(M.length<M.highWaterMark||0===M.length)}function st(me,Ce,at,E){Ce.flowing&&0===Ce.length&&!Ce.sync?(Ce.awaitDrain=0,me.emit("data",at)):(Ce.length+=Ce.objectMode?1:at.length,E?Ce.buffer.unshift(at):Ce.buffer.push(at),Ce.needReadable&&Ve(me)),Ne(me,Ce)}Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(me){this._readableState&&(this._readableState.destroyed=me)}}),ce.prototype.destroy=T.destroy,ce.prototype._undestroy=T.undestroy,ce.prototype._destroy=function(me,Ce){Ce(me)},ce.prototype.push=function(me,Ce){var at,E=this._readableState;return E.objectMode?at=!0:"string"==typeof me&&((Ce=Ce||E.defaultEncoding)!==E.encoding&&(me=P.from(me,Ce),Ce=""),at=!0),ze(this,me,Ce,!1,at)},ce.prototype.unshift=function(me){return ze(this,me,null,!0,!1)},ce.prototype.isPaused=function(){return!1===this._readableState.flowing},ce.prototype.setEncoding=function(me){S||(S=L(7503).s);var Ce=new S(me);this._readableState.decoder=Ce,this._readableState.encoding=this._readableState.decoder.encoding;for(var at=this._readableState.buffer.head,E="";null!==at;)E+=Ce.write(at.data),at=at.next;return this._readableState.buffer.clear(),""!==E&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var ge=1073741824;function Rt(me,Ce){return me<=0||0===Ce.length&&Ce.ended?0:Ce.objectMode?1:me!=me?Ce.flowing&&Ce.length?Ce.buffer.head.data.length:Ce.length:(me>Ce.highWaterMark&&(Ce.highWaterMark=((at=me)>=ge?at=ge:(at--,at|=at>>>1,at|=at>>>2,at|=at>>>4,at|=at>>>8,at|=at>>>16,at++),at)),me<=Ce.length?me:Ce.ended?Ce.length:(Ce.needReadable=!0,0));var at}function Ve(me){var Ce=me._readableState;k("emitReadable",Ce.needReadable,Ce.emittedReadable),Ce.needReadable=!1,Ce.emittedReadable||(k("emitReadable",Ce.flowing),Ce.emittedReadable=!0,process.nextTick(We,me))}function We(me){var Ce=me._readableState;k("emitReadable_",Ce.destroyed,Ce.length,Ce.ended),Ce.destroyed||!Ce.length&&!Ce.ended||(me.emit("readable"),Ce.emittedReadable=!1),Ce.needReadable=!Ce.flowing&&!Ce.ended&&Ce.length<=Ce.highWaterMark,ke(me)}function Ne(me,Ce){Ce.readingMore||(Ce.readingMore=!0,process.nextTick(Ue,me,Ce))}function Ue(me,Ce){for(;!Ce.reading&&!Ce.ended&&(Ce.length<Ce.highWaterMark||Ce.flowing&&0===Ce.length);){var at=Ce.length;if(k("maybeReadMore read 0"),me.read(0),at===Ce.length)break}Ce.readingMore=!1}function rt(me){var Ce=me._readableState;Ce.readableListening=me.listenerCount("readable")>0,Ce.resumeScheduled&&!Ce.paused?Ce.flowing=!0:me.listenerCount("data")>0&&me.resume()}function Mt(me){k("readable nexttick read 0"),me.read(0)}function ht(me,Ce){k("resume",Ce.reading),Ce.reading||me.read(0),Ce.resumeScheduled=!1,me.emit("resume"),ke(me),Ce.flowing&&!Ce.reading&&me.read(0)}function ke(me){var Ce=me._readableState;for(k("flow",Ce.flowing);Ce.flowing&&null!==me.read(););}function gt(me,Ce){return 0===Ce.length?null:(Ce.objectMode?at=Ce.buffer.shift():!me||me>=Ce.length?(at=Ce.decoder?Ce.buffer.join(""):1===Ce.buffer.length?Ce.buffer.first():Ce.buffer.concat(Ce.length),Ce.buffer.clear()):at=Ce.buffer.consume(me,Ce.decoder),at);var at}function St(me){var Ce=me._readableState;k("endReadable",Ce.endEmitted),Ce.endEmitted||(Ce.ended=!0,process.nextTick(Ye,Ce,me))}function Ye(me,Ce){if(k("endReadableNT",me.endEmitted,me.length),!me.endEmitted&&0===me.length&&(me.endEmitted=!0,Ce.readable=!1,Ce.emit("end"),me.autoDestroy)){var at=Ce._writableState;(!at||at.autoDestroy&&at.finished)&&Ce.destroy()}}function yt(me,Ce){for(var at=0,E=me.length;at<E;at++)if(me[at]===Ce)return at;return-1}ce.prototype.read=function(me){k("read",me),me=parseInt(me,10);var Ce=this._readableState,at=me;if(0!==me&&(Ce.emittedReadable=!1),0===me&&Ce.needReadable&&((0!==Ce.highWaterMark?Ce.length>=Ce.highWaterMark:Ce.length>0)||Ce.ended))return k("read: emitReadable",Ce.length,Ce.ended),0===Ce.length&&Ce.ended?St(this):Ve(this),null;if(0===(me=Rt(me,Ce))&&Ce.ended)return 0===Ce.length&&St(this),null;var E,_=Ce.needReadable;return k("need readable",_),(0===Ce.length||Ce.length-me<Ce.highWaterMark)&&k("length less than watermark",_=!0),Ce.ended||Ce.reading?k("reading or ended",_=!1):_&&(k("do read"),Ce.reading=!0,Ce.sync=!0,0===Ce.length&&(Ce.needReadable=!0),this._read(Ce.highWaterMark),Ce.sync=!1,Ce.reading||(me=Rt(at,Ce))),null===(E=me>0?gt(me,Ce):null)?(Ce.needReadable=Ce.length<=Ce.highWaterMark,me=0):(Ce.length-=me,Ce.awaitDrain=0),0===Ce.length&&(Ce.ended||(Ce.needReadable=!0),at!==me&&Ce.ended&&St(this)),null!==E&&this.emit("data",E),E},ce.prototype._read=function(me){F(this,new oe("_read()"))},ce.prototype.pipe=function(me,Ce){var at=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=me;break;case 1:E.pipes=[E.pipes,me];break;default:E.pipes.push(me)}E.pipesCount+=1,k("pipe count=%d opts=%j",E.pipesCount,Ce);var _=Ce&&!1===Ce.end||me===process.stdout||me===process.stderr?Fe:x;function x(){k("onend"),me.end()}E.endEmitted?process.nextTick(_):at.once("end",_),me.on("unpipe",function tt(it,Ie){k("onunpipe"),it===at&&Ie&&!1===Ie.hasUnpiped&&(Ie.hasUnpiped=!0,k("cleanup"),me.removeListener("close",Ge),me.removeListener("finish",Ke),me.removeListener("drain",M),me.removeListener("error",De),me.removeListener("unpipe",tt),at.removeListener("end",x),at.removeListener("end",Fe),at.removeListener("data",se),fe=!0,!E.awaitDrain||me._writableState&&!me._writableState.needDrain||M())});var tt,M=(tt=at,function(){var it=tt._readableState;k("pipeOnDrain",it.awaitDrain),it.awaitDrain&&it.awaitDrain--,0===it.awaitDrain&&d(tt,"data")&&(it.flowing=!0,ke(tt))});me.on("drain",M);var fe=!1;function se(tt){k("ondata");var it=me.write(tt);k("dest.write",it),!1===it&&((1===E.pipesCount&&E.pipes===me||E.pipesCount>1&&-1!==yt(E.pipes,me))&&!fe&&(k("false write response, pause",E.awaitDrain),E.awaitDrain++),at.pause())}function De(tt){k("onerror",tt),Fe(),me.removeListener("error",De),0===d(me,"error")&&F(me,tt)}function Ge(){me.removeListener("finish",Ke),Fe()}function Ke(){k("onfinish"),me.removeListener("close",Ge),Fe()}function Fe(){k("unpipe"),at.unpipe(me)}return at.on("data",se),function(tt,it,Ie){if("function"==typeof tt.prependListener)return tt.prependListener(it,Ie);tt._events&&tt._events[it]?Array.isArray(tt._events[it])?tt._events[it].unshift(Ie):tt._events[it]=[Ie,tt._events[it]]:tt.on(it,Ie)}(me,"error",De),me.once("close",Ge),me.once("finish",Ke),me.emit("pipe",at),E.flowing||(k("pipe resume"),at.resume()),me},ce.prototype.unpipe=function(me){var Ce=this._readableState,at={hasUnpiped:!1};if(0===Ce.pipesCount)return this;if(1===Ce.pipesCount)return me&&me!==Ce.pipes||(me||(me=Ce.pipes),Ce.pipes=null,Ce.pipesCount=0,Ce.flowing=!1,me&&me.emit("unpipe",this,at)),this;if(!me){var E=Ce.pipes,_=Ce.pipesCount;Ce.pipes=null,Ce.pipesCount=0,Ce.flowing=!1;for(var x=0;x<_;x++)E[x].emit("unpipe",this,{hasUnpiped:!1});return this}var M=yt(Ce.pipes,me);return-1===M||(Ce.pipes.splice(M,1),Ce.pipesCount-=1,1===Ce.pipesCount&&(Ce.pipes=Ce.pipes[0]),me.emit("unpipe",this,at)),this},ce.prototype.addListener=ce.prototype.on=function(me,Ce){var at=f.prototype.on.call(this,me,Ce),E=this._readableState;return"data"===me?(E.readableListening=this.listenerCount("readable")>0,!1!==E.flowing&&this.resume()):"readable"===me&&(E.endEmitted||E.readableListening||(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,k("on readable",E.length,E.reading),E.length?Ve(this):E.reading||process.nextTick(Mt,this))),at},ce.prototype.removeListener=function(me,Ce){var at=f.prototype.removeListener.call(this,me,Ce);return"readable"===me&&process.nextTick(rt,this),at},ce.prototype.removeAllListeners=function(me){var Ce=f.prototype.removeAllListeners.apply(this,arguments);return"readable"!==me&&void 0!==me||process.nextTick(rt,this),Ce},ce.prototype.resume=function(){var at,me=this._readableState;return me.flowing||(k("resume"),me.flowing=!me.readableListening,(at=me).resumeScheduled||(at.resumeScheduled=!0,process.nextTick(ht,this,at))),me.paused=!1,this},ce.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ce.prototype.wrap=function(me){var Ce=this,at=this._readableState,E=!1;for(var _ in me.on("end",function(){if(k("wrapped end"),at.decoder&&!at.ended){var M=at.decoder.end();M&&M.length&&Ce.push(M)}Ce.push(null)}),me.on("data",function(M){k("wrapped data"),at.decoder&&(M=at.decoder.write(M)),at.objectMode&&null==M||(at.objectMode||M&&M.length)&&(Ce.push(M)||(E=!0,me.pause()))}),me)void 0===this[_]&&"function"==typeof me[_]&&(this[_]=function(M){return function(){return me[M].apply(me,arguments)}}(_));for(var x=0;x<W.length;x++)me.on(W[x],this.emit.bind(this,W[x]));return this._read=function(M){k("wrapped _read",M),E&&(E=!1,me.resume())},this},"function"==typeof Symbol&&(ce.prototype[Symbol.asyncIterator]=function(){return void 0===N&&(N=L(7299)),N(this)}),Object.defineProperty(ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(me){this._readableState&&(this._readableState.flowing=me)}}),ce._fromList=gt,Object.defineProperty(ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ce.from=function(me,Ce){return void 0===h&&(h=L(6233)),h(ce,me,Ce)})},9798:(wt,He,L)=>{"use strict";wt.exports=S;var ve=L(3690).q,k=ve.ERR_METHOD_NOT_IMPLEMENTED,d=ve.ERR_MULTIPLE_CALLBACK,f=ve.ERR_TRANSFORM_ALREADY_TRANSFORMING,P=ve.ERR_TRANSFORM_WITH_LENGTH_0,w=L(6138);function m(v,T){var G=this._transformState;G.transforming=!1;var $=G.writecb;if(null===$)return this.emit("error",new d);G.writechunk=null,G.writecb=null,null!=T&&this.push(T),$(v);var ne=this._readableState;ne.reading=!1,(ne.needReadable||ne.length<ne.highWaterMark)&&this._read(ne.highWaterMark)}function S(v){if(!(this instanceof S))return new S(v);w.call(this,v),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&("function"==typeof v.transform&&(this._transform=v.transform),"function"==typeof v.flush&&(this._flush=v.flush)),this.on("prefinish",N)}function N(){var v=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(T,G){h(v,T,G)})}function h(v,T,G){if(T)return v.emit("error",T);if(null!=G&&v.push(G),v._writableState.length)throw new P;if(v._transformState.transforming)throw new f;return v.push(null)}L(1765)(S,w),S.prototype.push=function(v,T){return this._transformState.needTransform=!1,w.prototype.push.call(this,v,T)},S.prototype._transform=function(v,T,G){G(new k("_transform()"))},S.prototype._write=function(v,T,G){var $=this._transformState;if($.writecb=G,$.writechunk=v,$.writeencoding=T,!$.transforming){var ne=this._readableState;($.needTransform||ne.needReadable||ne.length<ne.highWaterMark)&&this._read(ne.highWaterMark)}},S.prototype._read=function(v){var T=this._transformState;null===T.writechunk||T.transforming?T.needTransform=!0:(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform))},S.prototype._destroy=function(v,T){w.prototype._destroy.call(this,v,function(G){T(G)})}},8318:(wt,He,L)=>{"use strict";function ve(Ne){var Ue=this;this.next=null,this.entry=null,this.finish=function(){!function(rt,Mt,ht){var ke=rt.entry;for(rt.entry=null;ke;){var gt=ke.callback;Mt.pendingcb--,gt(void 0),ke=ke.next}Mt.corkedRequestsFree.next=rt}(Ue,Ne)}}var k;wt.exports=ce,ce.WritableState=he;var d,f={deprecate:L(7839)},P=L(9299),w=L(1549).Buffer,m=L.g.Uint8Array||function(){},S=L(6163),N=L(7269).getHighWaterMark,h=L(3690).q,v=h.ERR_INVALID_ARG_TYPE,T=h.ERR_METHOD_NOT_IMPLEMENTED,G=h.ERR_MULTIPLE_CALLBACK,$=h.ERR_STREAM_CANNOT_PIPE,ne=h.ERR_STREAM_DESTROYED,Q=h.ERR_STREAM_NULL_VALUES,oe=h.ERR_STREAM_WRITE_AFTER_END,H=h.ERR_UNKNOWN_ENCODING,F=S.errorOrDestroy;function W(){}function he(Ne,Ue,rt){k=k||L(6138),"boolean"!=typeof rt&&(rt=Ue instanceof k),this.objectMode=!!(Ne=Ne||{}).objectMode,rt&&(this.objectMode=this.objectMode||!!Ne.writableObjectMode),this.highWaterMark=N(this,Ne,"writableHighWaterMark",rt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ne.decodeStrings),this.defaultEncoding=Ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ht){!function(ke,gt){var Ce,St=ke._writableState,Ye=St.sync,yt=St.writecb;if("function"!=typeof yt)throw new G;if((Ce=St).writing=!1,Ce.writecb=null,Ce.length-=Ce.writelen,Ce.writelen=0,gt)!function(Ce,at,E,_,x){--at.pendingcb,E?(process.nextTick(x,_),process.nextTick(We,Ce,at),Ce._writableState.errorEmitted=!0,F(Ce,_)):(x(_),Ce._writableState.errorEmitted=!0,F(Ce,_),We(Ce,at))}(ke,St,Ye,gt,yt);else{var me=Rt(St)||ke.destroyed;me||St.corked||St.bufferProcessing||!St.bufferedRequest||ge(ke,St),Ye?process.nextTick(st,ke,St,me,yt):st(ke,St,me,yt)}}(Ue,ht)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ne.emitClose,this.autoDestroy=!!Ne.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ve(this)}function ce(Ne){var Ue=this instanceof(k=k||L(6138));if(!Ue&&!d.call(ce,this))return new ce(Ne);this._writableState=new he(Ne,this,Ue),this.writable=!0,Ne&&("function"==typeof Ne.write&&(this._write=Ne.write),"function"==typeof Ne.writev&&(this._writev=Ne.writev),"function"==typeof Ne.destroy&&(this._destroy=Ne.destroy),"function"==typeof Ne.final&&(this._final=Ne.final)),P.call(this)}function ze(Ne,Ue,rt,Mt,ht,ke,gt){Ue.writelen=Mt,Ue.writecb=gt,Ue.writing=!0,Ue.sync=!0,Ue.destroyed?Ue.onwrite(new ne("write")):rt?Ne._writev(ht,Ue.onwrite):Ne._write(ht,ke,Ue.onwrite),Ue.sync=!1}function st(Ne,Ue,rt,Mt){var ht,ke;rt||(ht=Ne,0===(ke=Ue).length&&ke.needDrain&&(ke.needDrain=!1,ht.emit("drain"))),Ue.pendingcb--,Mt(),We(Ne,Ue)}function ge(Ne,Ue){Ue.bufferProcessing=!0;var rt=Ue.bufferedRequest;if(Ne._writev&&rt&&rt.next){var ht=new Array(Ue.bufferedRequestCount),ke=Ue.corkedRequestsFree;ke.entry=rt;for(var gt=0,St=!0;rt;)ht[gt]=rt,rt.isBuf||(St=!1),rt=rt.next,gt+=1;ht.allBuffers=St,ze(Ne,Ue,!0,Ue.length,ht,"",ke.finish),Ue.pendingcb++,Ue.lastBufferedRequest=null,ke.next?(Ue.corkedRequestsFree=ke.next,ke.next=null):Ue.corkedRequestsFree=new ve(Ue),Ue.bufferedRequestCount=0}else{for(;rt;){var Ye=rt.chunk;if(ze(Ne,Ue,!1,Ue.objectMode?1:Ye.length,Ye,rt.encoding,rt.callback),rt=rt.next,Ue.bufferedRequestCount--,Ue.writing)break}null===rt&&(Ue.lastBufferedRequest=null)}Ue.bufferedRequest=rt,Ue.bufferProcessing=!1}function Rt(Ne){return Ne.ending&&0===Ne.length&&null===Ne.bufferedRequest&&!Ne.finished&&!Ne.writing}function Ve(Ne,Ue){Ne._final(function(rt){Ue.pendingcb--,rt&&F(Ne,rt),Ue.prefinished=!0,Ne.emit("prefinish"),We(Ne,Ue)})}function We(Ne,Ue){var ht,ke,rt=Rt(Ue);if(rt&&(ht=Ne,(ke=Ue).prefinished||ke.finalCalled||("function"!=typeof ht._final||ke.destroyed?(ke.prefinished=!0,ht.emit("prefinish")):(ke.pendingcb++,ke.finalCalled=!0,process.nextTick(Ve,ht,ke))),0===Ue.pendingcb&&(Ue.finished=!0,Ne.emit("finish"),Ue.autoDestroy))){var Mt=Ne._readableState;(!Mt||Mt.autoDestroy&&Mt.endEmitted)&&Ne.destroy()}return rt}L(1765)(ce,P),he.prototype.getBuffer=function(){for(var Ne=this.bufferedRequest,Ue=[];Ne;)Ue.push(Ne),Ne=Ne.next;return Ue},function(){try{Object.defineProperty(he.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(ce,Symbol.hasInstance,{value:function(Ne){return!!d.call(this,Ne)||this===ce&&Ne&&Ne._writableState instanceof he}})):d=function(Ne){return Ne instanceof this},ce.prototype.pipe=function(){F(this,new $)},ce.prototype.write=function(Ne,Ue,rt){var Mt,St,Ye,yt,ht=this._writableState,ke=!1,gt=!ht.objectMode&&(w.isBuffer(Mt=Ne)||Mt instanceof m);return gt&&!w.isBuffer(Ne)&&(Ne=w.from(Ne)),"function"==typeof Ue&&(rt=Ue,Ue=null),gt?Ue="buffer":Ue||(Ue=ht.defaultEncoding),"function"!=typeof rt&&(rt=W),ht.ending?(St=this,Ye=rt,yt=new oe,F(St,yt),process.nextTick(Ye,yt)):(gt||function(St,Ye,yt,me){var Ce;return null===yt?Ce=new Q:"string"==typeof yt||Ye.objectMode||(Ce=new v("chunk",["string","Buffer"],yt)),!Ce||(F(St,Ce),process.nextTick(me,Ce),!1)}(this,ht,Ne,rt))&&(ht.pendingcb++,ke=function(St,Ye,yt,me,Ce,at){if(!yt){var E=(se=me,(fe=Ye).objectMode||!1===fe.decodeStrings||"string"!=typeof se||(se=w.from(se,Ce)),se);me!==E&&(yt=!0,Ce="buffer",me=E)}var fe,se,_=Ye.objectMode?1:me.length;Ye.length+=_;var x=Ye.length<Ye.highWaterMark;if(x||(Ye.needDrain=!0),Ye.writing||Ye.corked){var M=Ye.lastBufferedRequest;Ye.lastBufferedRequest={chunk:me,encoding:Ce,isBuf:yt,callback:at,next:null},M?M.next=Ye.lastBufferedRequest:Ye.bufferedRequest=Ye.lastBufferedRequest,Ye.bufferedRequestCount+=1}else ze(St,Ye,!1,_,me,Ce,at);return x}(this,ht,gt,Ne,Ue,rt)),ke},ce.prototype.cork=function(){this._writableState.corked++},ce.prototype.uncork=function(){var Ne=this._writableState;Ne.corked&&(Ne.corked--,Ne.writing||Ne.corked||Ne.bufferProcessing||!Ne.bufferedRequest||ge(this,Ne))},ce.prototype.setDefaultEncoding=function(Ne){if("string"==typeof Ne&&(Ne=Ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ne+"").toLowerCase())>-1))throw new H(Ne);return this._writableState.defaultEncoding=Ne,this},Object.defineProperty(ce.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ce.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ce.prototype._write=function(Ne,Ue,rt){rt(new T("_write()"))},ce.prototype._writev=null,ce.prototype.end=function(Ne,Ue,rt){var ke,gt,Mt=this._writableState;return"function"==typeof Ne?(rt=Ne,Ne=null,Ue=null):"function"==typeof Ue&&(rt=Ue,Ue=null),null!=Ne&&this.write(Ne,Ue),Mt.corked&&(Mt.corked=1,this.uncork()),Mt.ending||(gt=rt,(ke=Mt).ending=!0,We(this,ke),gt&&(ke.finished?process.nextTick(gt):this.once("finish",gt)),ke.ended=!0,this.writable=!1),this},Object.defineProperty(ce.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ne){this._writableState&&(this._writableState.destroyed=Ne)}}),ce.prototype.destroy=S.destroy,ce.prototype._undestroy=S.undestroy,ce.prototype._destroy=function(Ne,Ue){Ue(Ne)}},7299:(wt,He,L)=>{"use strict";var ve;function k(Q,oe,H){return oe in Q?Object.defineProperty(Q,oe,{value:H,enumerable:!0,configurable:!0,writable:!0}):Q[oe]=H,Q}var d=L(8800),f=Symbol("lastResolve"),P=Symbol("lastReject"),w=Symbol("error"),m=Symbol("ended"),S=Symbol("lastPromise"),N=Symbol("handlePromise"),h=Symbol("stream");function v(Q,oe){return{value:Q,done:oe}}function T(Q){var oe=Q[f];if(null!==oe){var H=Q[h].read();null!==H&&(Q[S]=null,Q[f]=null,Q[P]=null,oe(v(H,!1)))}}function G(Q){process.nextTick(T,Q)}var $=Object.getPrototypeOf(function(){}),ne=Object.setPrototypeOf((k(ve={get stream(){return this[h]},next:function(){var Q=this,oe=this[w];if(null!==oe)return Promise.reject(oe);if(this[m])return Promise.resolve(v(void 0,!0));if(this[h].destroyed)return new Promise(function(he,ce){process.nextTick(function(){Q[w]?ce(Q[w]):he(v(void 0,!0))})});var H,he,ce,F=this[S];if(F)H=new Promise((he=F,ce=this,function(ze,st){he.then(function(){ce[m]?ze(v(void 0,!0)):ce[N](ze,st)},st)}));else{var W=this[h].read();if(null!==W)return Promise.resolve(v(W,!1));H=new Promise(this[N])}return this[S]=H,H}},Symbol.asyncIterator,function(){return this}),k(ve,"return",function(){var Q=this;return new Promise(function(oe,H){Q[h].destroy(null,function(F){F?H(F):oe(v(void 0,!0))})})}),ve),$);wt.exports=function(Q){var oe,H=Object.create(ne,(k(oe={},h,{value:Q,writable:!0}),k(oe,f,{value:null,writable:!0}),k(oe,P,{value:null,writable:!0}),k(oe,w,{value:null,writable:!0}),k(oe,m,{value:Q._readableState.endEmitted,writable:!0}),k(oe,N,{value:function(F,W){var he=H[h].read();he?(H[S]=null,H[f]=null,H[P]=null,F(v(he,!1))):(H[f]=F,H[P]=W)},writable:!0}),oe));return H[S]=null,d(Q,function(F){if(F&&"ERR_STREAM_PREMATURE_CLOSE"!==F.code){var W=H[P];return null!==W&&(H[S]=null,H[f]=null,H[P]=null,W(F)),void(H[w]=F)}var he=H[f];null!==he&&(H[S]=null,H[f]=null,H[P]=null,he(v(void 0,!0))),H[m]=!0}),Q.on("readable",G.bind(null,H)),H}},8393:(wt,He,L)=>{"use strict";function ve(m,S){var N=Object.keys(m);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(m);S&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(m,v).enumerable})),N.push.apply(N,h)}return N}function k(m,S,N){return S in m?Object.defineProperty(m,S,{value:N,enumerable:!0,configurable:!0,writable:!0}):m[S]=N,m}var f=L(1549).Buffer,P=L(9862).inspect,w=P&&P.custom||"inspect";wt.exports=function(){function m(){(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var N;return N=[{key:"push",value:function(h){var v={data:h,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(h){var v={data:h,next:this.head};0===this.length&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(0!==this.length){var h=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(0===this.length)return"";for(var v=this.head,T=""+v.data;v=v.next;)T+=h+v.data;return T}},{key:"concat",value:function(h){if(0===this.length)return f.alloc(0);for(var $=f.allocUnsafe(h>>>0),ne=this.head,Q=0;ne;)f.prototype.copy.call(ne.data,$,Q),Q+=ne.data.length,ne=ne.next;return $}},{key:"consume",value:function(h,v){var T;return h<this.head.data.length?(T=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):T=h===this.head.data.length?this.shift():v?this._getString(h):this._getBuffer(h),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var v=this.head,T=1,G=v.data;for(h-=G.length;v=v.next;){var $=v.data,ne=h>$.length?$.length:h;if(G+=ne===$.length?$:$.slice(0,h),0==(h-=ne)){ne===$.length?(++T,this.head=v.next?v.next:this.tail=null):(this.head=v,v.data=$.slice(ne));break}++T}return this.length-=T,G}},{key:"_getBuffer",value:function(h){var v=f.allocUnsafe(h),T=this.head,G=1;for(T.data.copy(v),h-=T.data.length;T=T.next;){var $=T.data,ne=h>$.length?$.length:h;if($.copy(v,v.length-h,0,ne),0==(h-=ne)){ne===$.length?(++G,this.head=T.next?T.next:this.tail=null):(this.head=T,T.data=$.slice(ne));break}++G}return this.length-=G,v}},{key:w,value:function(h,v){return P(this,function(T){for(var G=1;G<arguments.length;G++){var $=null!=arguments[G]?arguments[G]:{};G%2?ve(Object($),!0).forEach(function(ne){k(T,ne,$[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors($)):ve(Object($)).forEach(function(ne){Object.defineProperty(T,ne,Object.getOwnPropertyDescriptor($,ne))})}return T}({},v,{depth:0,customInspect:!1}))}}],N&&function d(m,S){for(var N=0;N<S.length;N++){var h=S[N];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}(m.prototype,N),m}()},6163:wt=>{"use strict";function He(k,d){ve(k,d),L(k)}function L(k){k._writableState&&!k._writableState.emitClose||k._readableState&&!k._readableState.emitClose||k.emit("close")}function ve(k,d){k.emit("error",d)}wt.exports={destroy:function(k,d){var f=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(d?d(k):k&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ve,this,k)):process.nextTick(ve,this,k)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(k||null,function(m){!d&&m?f._writableState?f._writableState.errorEmitted?process.nextTick(L,f):(f._writableState.errorEmitted=!0,process.nextTick(He,f,m)):process.nextTick(He,f,m):d?(process.nextTick(L,f),d(m)):process.nextTick(L,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(k,d){var f=k._readableState,P=k._writableState;f&&f.autoDestroy||P&&P.autoDestroy?k.destroy(d):k.emit("error",d)}}},8800:(wt,He,L)=>{"use strict";var ve=L(3690).q.ERR_STREAM_PREMATURE_CLOSE;function k(){}wt.exports=function d(f,P,w){if("function"==typeof P)return d(f,null,P);var oe,H;P||(P={}),oe=w||k,H=!1,w=function(){if(!H){H=!0;for(var F=arguments.length,W=new Array(F),he=0;he<F;he++)W[he]=arguments[he];oe.apply(this,W)}};var m=P.readable||!1!==P.readable&&f.readable,S=P.writable||!1!==P.writable&&f.writable,N=function(){f.writable||v()},h=f._writableState&&f._writableState.finished,v=function(){S=!1,h=!0,m||w.call(f)},T=f._readableState&&f._readableState.endEmitted,G=function(){m=!1,T=!0,S||w.call(f)},$=function(oe){w.call(f,oe)},ne=function(){var oe;return m&&!T?(f._readableState&&f._readableState.ended||(oe=new ve),w.call(f,oe)):S&&!h?(f._writableState&&f._writableState.ended||(oe=new ve),w.call(f,oe)):void 0},Q=function(){f.req.on("finish",v)};return function(oe){return oe.setHeader&&"function"==typeof oe.abort}(f)?(f.on("complete",v),f.on("abort",ne),f.req?Q():f.on("request",Q)):S&&!f._writableState&&(f.on("end",N),f.on("close",N)),f.on("end",G),f.on("finish",v),!1!==P.error&&f.on("error",$),f.on("close",ne),function(){f.removeListener("complete",v),f.removeListener("abort",ne),f.removeListener("request",Q),f.req&&f.req.removeListener("finish",v),f.removeListener("end",N),f.removeListener("close",N),f.removeListener("finish",v),f.removeListener("end",G),f.removeListener("error",$),f.removeListener("close",ne)}}},6233:wt=>{wt.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:(wt,He,L)=>{"use strict";var ve,k=L(3690).q,d=k.ERR_MISSING_ARGS,f=k.ERR_STREAM_DESTROYED;function P(h){if(h)throw h}function m(h){h()}function S(h,v){return h.pipe(v)}wt.exports=function(){for(var h=arguments.length,v=new Array(h),T=0;T<h;T++)v[T]=arguments[T];var G,$=function N(h){return h.length?"function"!=typeof h[h.length-1]?P:h.pop():P}(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new d("streams");var ne=v.map(function(Q,oe){var H=oe<v.length-1;return function w(h,v,T,G){var Q,oe;Q=G,oe=!1,G=function(){oe||(oe=!0,Q.apply(void 0,arguments))};var $=!1;h.on("close",function(){$=!0}),void 0===ve&&(ve=L(8800)),ve(h,{readable:v,writable:T},function(Q){if(Q)return G(Q);$=!0,G()});var ne=!1;return function(Q){if(!$&&!ne)return ne=!0,function(oe){return oe.setHeader&&"function"==typeof oe.abort}(h)?h.abort():"function"==typeof h.destroy?h.destroy():void G(Q||new f("pipe"))}}(Q,H,oe>0,function(F){G||(G=F),F&&ne.forEach(m),H||(ne.forEach(m),$(G))})});return v.reduce(S)}},7269:(wt,He,L)=>{"use strict";var ve=L(3690).q.ERR_INVALID_OPT_VALUE;wt.exports={getHighWaterMark:function(k,d,f,P){var m,w=null!=(m=d).highWaterMark?m.highWaterMark:P?m[f]:null;if(null!=w){if(!isFinite(w)||Math.floor(w)!==w||w<0)throw new ve(P?f:"highWaterMark",w);return Math.floor(w)}return k.objectMode?16:16384}}},9299:(wt,He,L)=>{wt.exports=L(1159).EventEmitter},7503:(wt,He,L)=>{"use strict";var ve=L(8387).Buffer,k=ve.isEncoding||function(T){switch((T=""+T)&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(T){var G;switch(this.encoding=function($){var ne=function(Q){if(!Q)return"utf8";for(var oe;;)switch(Q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Q;default:if(oe)return;Q=(""+Q).toLowerCase(),oe=!0}}($);if("string"!=typeof ne&&(ve.isEncoding===k||!k($)))throw new Error("Unknown encoding: "+$);return ne||$}(T),this.encoding){case"utf16le":this.text=w,this.end=m,G=4;break;case"utf8":this.fillLast=P,G=4;break;case"base64":this.text=S,this.end=N,G=3;break;default:return this.write=h,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ve.allocUnsafe(G)}function f(T){return T<=127?0:T>>5==6?2:T>>4==14?3:T>>3==30?4:T>>6==2?-1:-2}function P(T){var G=this.lastTotal-this.lastNeed,$=function(ne,Q,oe){if(128!=(192&Q[0]))return ne.lastNeed=0,"\ufffd";if(ne.lastNeed>1&&Q.length>1){if(128!=(192&Q[1]))return ne.lastNeed=1,"\ufffd";if(ne.lastNeed>2&&Q.length>2&&128!=(192&Q[2]))return ne.lastNeed=2,"\ufffd"}}(this,T);return void 0!==$?$:this.lastNeed<=T.length?(T.copy(this.lastChar,G,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(T.copy(this.lastChar,G,0,T.length),void(this.lastNeed-=T.length))}function w(T,G){if((T.length-G)%2==0){var $=T.toString("utf16le",G);if($){var ne=$.charCodeAt($.length-1);if(ne>=55296&&ne<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",G,T.length-1)}function m(T){var G=T&&T.length?this.write(T):"";return this.lastNeed?G+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):G}function S(T,G){var $=(T.length-G)%3;return 0===$?T.toString("base64",G):(this.lastNeed=3-$,this.lastTotal=3,1===$?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",G,T.length-$))}function N(T){var G=T&&T.length?this.write(T):"";return this.lastNeed?G+this.lastChar.toString("base64",0,3-this.lastNeed):G}function h(T){return T.toString(this.encoding)}function v(T){return T&&T.length?this.write(T):""}He.s=d,d.prototype.write=function(T){if(0===T.length)return"";var G,$;if(this.lastNeed){if(void 0===(G=this.fillLast(T)))return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<T.length?G?G+this.text(T,$):this.text(T,$):G||""},d.prototype.end=function(T){var G=T&&T.length?this.write(T):"";return this.lastNeed?G+"\ufffd":G},d.prototype.text=function(T,G){var $=function(Q,oe,H){var F=oe.length-1;if(F<H)return 0;var W=f(oe[F]);return W>=0?(W>0&&(Q.lastNeed=W-1),W):--F<H||-2===W?0:(W=f(oe[F]))>=0?(W>0&&(Q.lastNeed=W-2),W):--F<H||-2===W?0:(W=f(oe[F]))>=0?(W>0&&(2===W?W=0:Q.lastNeed=W-3),W):0}(this,T,G);if(!this.lastNeed)return T.toString("utf8",G);this.lastTotal=$;var ne=T.length-($-this.lastNeed);return T.copy(this.lastChar,0,ne),T.toString("utf8",G,ne)},d.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length}},1067:function(wt,He,L){var ve;!function(k,d){"use strict";var f="function",P="undefined",w="object",m="string",S="model",N="name",h="type",v="vendor",T="version",G="architecture",$="console",ne="mobile",Q="tablet",oe="smarttv",H="wearable",F="embedded",W="Amazon",he="Apple",ze="BlackBerry",st="Browser",ge="Chrome",Rt="Firefox",Ve="Google",Ue="Microsoft",rt="Motorola",Mt="Opera",ht="Samsung",ke="Sony",St="Zebra",Ye="Facebook",yt=function(Ge){for(var Ke={},Fe=0;Fe<Ge.length;Fe++)Ke[Ge[Fe].toUpperCase()]=Ge[Fe];return Ke},me=function(Ge,Ke){return typeof Ge===m&&-1!==Ce(Ke).indexOf(Ce(Ge))},Ce=function(Ge){return Ge.toLowerCase()},at=function(Ge,Ke){if(typeof Ge===m)return Ge=Ge.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Ke===P?Ge:Ge.substring(0,255)},E=function(Ge,Ke){for(var Fe,tt,it,Ie,Xe,$e,Tt=0;Tt<Ke.length&&!Xe;){var Ot=Ke[Tt],on=Ke[Tt+1];for(Fe=tt=0;Fe<Ot.length&&!Xe;)if(Xe=Ot[Fe++].exec(Ge))for(it=0;it<on.length;it++)$e=Xe[++tt],typeof(Ie=on[it])===w&&Ie.length>0?2===Ie.length?this[Ie[0]]=typeof Ie[1]==f?Ie[1].call(this,$e):Ie[1]:3===Ie.length?this[Ie[0]]=typeof Ie[1]!==f||Ie[1].exec&&Ie[1].test?$e?$e.replace(Ie[1],Ie[2]):d:$e?Ie[1].call(this,$e,Ie[2]):d:4===Ie.length&&(this[Ie[0]]=$e?Ie[3].call(this,$e.replace(Ie[1],Ie[2])):d):this[Ie]=$e||d;Tt+=2}},_=function(Ge,Ke){for(var Fe in Ke)if(typeof Ke[Fe]===w&&Ke[Fe].length>0){for(var tt=0;tt<Ke[Fe].length;tt++)if(me(Ke[Fe][tt],Ge))return"?"===Fe?d:Fe}else if(me(Ke[Fe],Ge))return"?"===Fe?d:Fe;return Ge},x={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},M={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[T,[N,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[T,[N,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[N,T],[/opios[\/ ]+([\w\.]+)/i],[T,[N,Mt+" Mini"]],[/\bopr\/([\w\.]+)/i],[T,[N,Mt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[N,T],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[T,[N,"UC"+st]],[/\bqbcore\/([\w\.]+)/i],[T,[N,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[T,[N,"WeChat"]],[/konqueror\/([\w\.]+)/i],[T,[N,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[T,[N,"IE"]],[/yabrowser\/([\w\.]+)/i],[T,[N,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[N,/(.+)/,"$1 Secure "+st],T],[/\bfocus\/([\w\.]+)/i],[T,[N,Rt+" Focus"]],[/\bopt\/([\w\.]+)/i],[T,[N,Mt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[T,[N,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[T,[N,"Dolphin"]],[/coast\/([\w\.]+)/i],[T,[N,Mt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[T,[N,"MIUI "+st]],[/fxios\/([-\w\.]+)/i],[T,[N,Rt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[N,"360 "+st]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[N,/(.+)/,"$1 "+st],T],[/(comodo_dragon)\/([\w\.]+)/i],[[N,/_/g," "],T],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[N,T],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[N],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[N,Ye],T],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[N,T],[/\bgsa\/([\w\.]+) .*safari\//i],[T,[N,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[T,[N,ge+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[N,ge+" WebView"],T],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[T,[N,"Android "+st]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[N,T],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[T,[N,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[T,N],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[N,[T,_,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[N,T],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[N,"Netscape"],T],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[T,[N,Rt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[N,T]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[G,"amd64"]],[/(ia32(?=;))/i],[[G,Ce]],[/((?:i[346]|x)86)[;\)]/i],[[G,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[G,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[G,"armhf"]],[/windows (ce|mobile); ppc;/i],[[G,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[G,/ower/,"",Ce]],[/(sun4\w)[;\)]/i],[[G,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[G,Ce]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[S,[v,ht],[h,Q]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[S,[v,ht],[h,ne]],[/\((ip(?:hone|od)[\w ]*);/i],[S,[v,he],[h,ne]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[S,[v,he],[h,Q]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[S,[v,"Huawei"],[h,Q]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[S,[v,"Huawei"],[h,ne]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[S,/_/g," "],[v,"Xiaomi"],[h,ne]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[S,/_/g," "],[v,"Xiaomi"],[h,Q]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[S,[v,"OPPO"],[h,ne]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[S,[v,"Vivo"],[h,ne]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[S,[v,"Realme"],[h,ne]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[S,[v,rt],[h,ne]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[S,[v,rt],[h,Q]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[S,[v,"LG"],[h,Q]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[S,[v,"LG"],[h,ne]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[S,[v,"Lenovo"],[h,Q]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[S,/_/g," "],[v,"Nokia"],[h,ne]],[/(pixel c)\b/i],[S,[v,Ve],[h,Q]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[S,[v,Ve],[h,ne]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[S,[v,ke],[h,ne]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[S,"Xperia Tablet"],[v,ke],[h,Q]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[S,[v,"OnePlus"],[h,ne]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[S,[v,W],[h,Q]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[S,/(.+)/g,"Fire Phone $1"],[v,W],[h,ne]],[/(playbook);[-\w\),; ]+(rim)/i],[S,v,[h,Q]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[S,[v,ze],[h,ne]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[S,[v,"ASUS"],[h,Q]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[S,[v,"ASUS"],[h,ne]],[/(nexus 9)/i],[S,[v,"HTC"],[h,Q]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[v,[S,/_/g," "],[h,ne]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[S,[v,"Acer"],[h,Q]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[S,[v,"Meizu"],[h,ne]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[S,[v,"Sharp"],[h,ne]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,S,[h,ne]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,S,[h,Q]],[/(surface duo)/i],[S,[v,Ue],[h,Q]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[S,[v,"Fairphone"],[h,ne]],[/(u304aa)/i],[S,[v,"AT&T"],[h,ne]],[/\bsie-(\w*)/i],[S,[v,"Siemens"],[h,ne]],[/\b(rct\w+) b/i],[S,[v,"RCA"],[h,Q]],[/\b(venue[\d ]{2,7}) b/i],[S,[v,"Dell"],[h,Q]],[/\b(q(?:mv|ta)\w+) b/i],[S,[v,"Verizon"],[h,Q]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[S,[v,"Barnes & Noble"],[h,Q]],[/\b(tm\d{3}\w+) b/i],[S,[v,"NuVision"],[h,Q]],[/\b(k88) b/i],[S,[v,"ZTE"],[h,Q]],[/\b(nx\d{3}j) b/i],[S,[v,"ZTE"],[h,ne]],[/\b(gen\d{3}) b.+49h/i],[S,[v,"Swiss"],[h,ne]],[/\b(zur\d{3}) b/i],[S,[v,"Swiss"],[h,Q]],[/\b((zeki)?tb.*\b) b/i],[S,[v,"Zeki"],[h,Q]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],S,[h,Q]],[/\b(ns-?\w{0,9}) b/i],[S,[v,"Insignia"],[h,Q]],[/\b((nxa|next)-?\w{0,9}) b/i],[S,[v,"NextBook"],[h,Q]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],S,[h,ne]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],S,[h,ne]],[/\b(ph-1) /i],[S,[v,"Essential"],[h,ne]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[S,[v,"Envizen"],[h,Q]],[/\b(trio[-\w\. ]+) b/i],[S,[v,"MachSpeed"],[h,Q]],[/\btu_(1491) b/i],[S,[v,"Rotor"],[h,Q]],[/(shield[\w ]+) b/i],[S,[v,"Nvidia"],[h,Q]],[/(sprint) (\w+)/i],[v,S,[h,ne]],[/(kin\.[onetw]{3})/i],[[S,/\./g," "],[v,Ue],[h,ne]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[S,[v,St],[h,Q]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[S,[v,St],[h,ne]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,S,[h,$]],[/droid.+; (shield) bui/i],[S,[v,"Nvidia"],[h,$]],[/(playstation [345portablevi]+)/i],[S,[v,ke],[h,$]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[S,[v,Ue],[h,$]],[/smart-tv.+(samsung)/i],[v,[h,oe]],[/hbbtv.+maple;(\d+)/i],[[S,/^/,"SmartTV"],[v,ht],[h,oe]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,"LG"],[h,oe]],[/(apple) ?tv/i],[v,[S,he+" TV"],[h,oe]],[/crkey/i],[[S,ge+"cast"],[v,Ve],[h,oe]],[/droid.+aft(\w)( bui|\))/i],[S,[v,W],[h,oe]],[/\(dtv[\);].+(aquos)/i],[S,[v,"Sharp"],[h,oe]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,at],[S,at],[h,oe]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,oe]],[/((pebble))app/i],[v,S,[h,H]],[/droid.+; (glass) \d/i],[S,[v,Ve],[h,H]],[/droid.+; (wt63?0{2,3})\)/i],[S,[v,St],[h,H]],[/(quest( 2)?)/i],[S,[v,Ye],[h,H]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[h,F]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[S,[h,ne]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[S,[h,Q]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,Q]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,ne]],[/(android[-\w\. ]{0,9});.+buil/i],[S,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[T,[N,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[T,[N,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[N,T],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[T,N]],os:[[/microsoft (windows) (vista|xp)/i],[N,T],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[N,[T,_,x]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[N,"Windows"],[T,_,x]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[T,/_/g,"."],[N,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[N,"Mac OS"],[T,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[T,N],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[N,T],[/\(bb(10);/i],[T,[N,ze]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[T,[N,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[T,[N,Rt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[T,[N,"webOS"]],[/crkey\/([\d\.]+)/i],[T,[N,ge+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[N,"Chromium OS"],T],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[N,T],[/(sunos) ?([\w\.\d]*)/i],[[N,"Solaris"],T],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[N,T]]},fe=function(Ge,Ke){if(typeof Ge===w&&(Ke=Ge,Ge=d),!(this instanceof fe))return new fe(Ge,Ke).getResult();var Fe=Ge||(typeof k!==P&&k.navigator&&k.navigator.userAgent?k.navigator.userAgent:""),tt=Ke?function(it,Ie){var Xe={};for(var $e in it)Xe[$e]=Ie[$e]&&Ie[$e].length%2==0?Ie[$e].concat(it[$e]):it[$e];return Xe}(M,Ke):M;return this.getBrowser=function(){var it,Ie={};return Ie[N]=d,Ie[T]=d,E.call(Ie,Fe,tt.browser),Ie.major=typeof(it=Ie.version)===m?it.replace(/[^\d\.]/g,"").split(".")[0]:d,Ie},this.getCPU=function(){var it={};return it[G]=d,E.call(it,Fe,tt.cpu),it},this.getDevice=function(){var it={};return it[v]=d,it[S]=d,it[h]=d,E.call(it,Fe,tt.device),it},this.getEngine=function(){var it={};return it[N]=d,it[T]=d,E.call(it,Fe,tt.engine),it},this.getOS=function(){var it={};return it[N]=d,it[T]=d,E.call(it,Fe,tt.os),it},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Fe},this.setUA=function(it){return Fe=typeof it===m&&it.length>255?at(it,255):it,this},this.setUA(Fe),this};fe.VERSION="1.0.2",fe.BROWSER=yt([N,T,"major"]),fe.CPU=yt([G]),fe.DEVICE=yt([S,v,h,$,ne,oe,Q,H,F]),fe.ENGINE=fe.OS=yt([N,T]),typeof He!==P?(wt.exports&&(He=wt.exports=fe),He.UAParser=fe):L.amdO?(ve=function(){return fe}.call(He,L,He,wt))===d||(wt.exports=ve):typeof k!==P&&(k.UAParser=fe);var se=typeof k!==P&&(k.jQuery||k.Zepto);if(se&&!se.ua){var De=new fe;se.ua=De.getResult(),se.ua.get=function(){return De.getUA()},se.ua.set=function(Ge){De.setUA(Ge);var Ke=De.getResult();for(var Fe in Ke)se.ua[Fe]=Ke[Fe]}}}("object"==typeof window?window:this)},7839:(wt,He,L)=>{function ve(k){try{if(!L.g.localStorage)return!1}catch{return!1}var d=L.g.localStorage[k];return null!=d&&"true"===String(d).toLowerCase()}wt.exports=function(k,d){if(ve("noDeprecation"))return k;var f=!1;return function(){if(!f){if(ve("throwDeprecation"))throw new Error(d);ve("traceDeprecation")?console.trace(d):console.warn(d),f=!0}return k.apply(this,arguments)}}},9862:()=>{},964:()=>{},3165:wt=>{"use strict";wt.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:wt=>{"use strict";wt.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:wt=>{"use strict";wt.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:wt=>{"use strict";wt.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:wt=>{"use strict";wt.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:wt=>{"use strict";wt.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},ki={};function Kn(wt){var He=ki[wt];if(void 0!==He)return He.exports;var L=ki[wt]={exports:{}};return ml[wt].call(L.exports,L,L.exports,Kn),L.exports}Kn.amdO={},Kn.n=wt=>{var He=wt&&wt.__esModule?()=>wt.default:()=>wt;return Kn.d(He,{a:He}),He},Kn.d=(wt,He)=>{for(var L in He)Kn.o(He,L)&&!Kn.o(wt,L)&&Object.defineProperty(wt,L,{enumerable:!0,get:He[L]})},Kn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Kn.o=(wt,He)=>Object.prototype.hasOwnProperty.call(wt,He);var os={};return(()=>{"use strict";Kn.d(os,{default:()=>w}),Kn(8416);var wt,He=Kn(1715),L=Kn(8080),ve=Kn(1737),k=Kn(7688),d=function(){var m,S="application/dash+xml";function N(v,T,G){if(!v||!/^VIDEO$/i.test(v.nodeName))return null;if(v._dashjs_player)return v._dashjs_player;var $,ne=v.id||v.name||"video element";if(!(T=T||[].slice.call(v.querySelectorAll("source")).filter(function(Q){return Q.type==S})[0])&&v.src)(T=document.createElement("source")).src=v.src;else if(!T&&!v.src)return null;return($=(0,k.Z)(G=G||{}).create()).initialize(v,T.src,v.autoplay),m||(m=$.getDebug().getLogger()),m.debug("Converted "+ne+" to dash.js player and added content: "+T.src),v._dashjs_player=$,$}function h(v){return/^VIDEO$/i.test(v.nodeName)?v:h(v.parentNode)}return{create:N,createAll:function(v,T){var G=[];v=v||"[data-dashjs-player]";for(var $=(T=T||document).querySelectorAll(v),ne=0;ne<$.length;ne++){var Q=N($[ne],null);G.push(Q)}for(var oe=T.querySelectorAll('source[type="'+S+'"]'),H=0;H<oe.length;H++){var F=N(h(oe[H]),null);G.push(F)}return G}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?d.createAll():wt=window.setInterval(function(){window.dashjs&&(window.clearInterval(wt),d.createAll())},500):window.addEventListener("load",function m(){window.removeEventListener("load",m),d.createAll()}));const f=d;var P=Kn(6398);dashjs.Protection=ve.default,dashjs.MetricsReporting=L.default,dashjs.MediaPlayerFactory=f,dashjs.Debug=P.Z,dashjs.supportsMediaSource=He.B;const w=dashjs})(),os.default})()},37:()=>{var pl,ml;ml=pl||(pl={}),function(ki){var Kn="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),os=wt(ml);function wt(He,L){return function(ve,k){"function"!=typeof He[ve]&&Object.defineProperty(He,ve,{configurable:!0,writable:!0,value:k}),L&&L(ve,k)}}typeof Kn.Reflect>"u"?Kn.Reflect=ml:os=wt(Kn.Reflect,os),function(ki){var Kn=Object.prototype.hasOwnProperty,os="function"==typeof Symbol,wt=os&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",He=os&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",L="function"==typeof Object.create,ve={__proto__:[]}instanceof Array,k=!L&&!ve,d={create:L?function(){return it(Object.create(null))}:ve?function(){return it({__proto__:null})}:function(){return it({})},has:k?function(Ie,Xe){return Kn.call(Ie,Xe)}:function(Ie,Xe){return Xe in Ie},get:k?function(Ie,Xe){return Kn.call(Ie,Xe)?Ie[Xe]:void 0}:function(Ie,Xe){return Ie[Xe]}},f=Object.getPrototypeOf(Function),P="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,w=P||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Ke(){var Ie={},Xe=[],$e=function(){function bn(Nn,An,Qn){this._index=0,this._keys=Nn,this._values=An,this._selector=Qn}return bn.prototype["@@iterator"]=function(){return this},bn.prototype[He]=function(){return this},bn.prototype.next=function(){var Nn=this._index;if(Nn>=0&&Nn<this._keys.length){var An=this._selector(this._keys[Nn],this._values[Nn]);return Nn+1>=this._keys.length?(this._index=-1,this._keys=Xe,this._values=Xe):this._index++,{value:An,done:!1}}return{value:void 0,done:!0}},bn.prototype.throw=function(Nn){throw this._index>=0&&(this._index=-1,this._keys=Xe,this._values=Xe),Nn},bn.prototype.return=function(Nn){return this._index>=0&&(this._index=-1,this._keys=Xe,this._values=Xe),{value:Nn,done:!0}},bn}();return function(){function bn(){this._keys=[],this._values=[],this._cacheKey=Ie,this._cacheIndex=-2}return Object.defineProperty(bn.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),bn.prototype.has=function(Nn){return this._find(Nn,!1)>=0},bn.prototype.get=function(Nn){var An=this._find(Nn,!1);return An>=0?this._values[An]:void 0},bn.prototype.set=function(Nn,An){var Qn=this._find(Nn,!0);return this._values[Qn]=An,this},bn.prototype.delete=function(Nn){var An=this._find(Nn,!1);if(An>=0){for(var Qn=this._keys.length,Un=An+1;Un<Qn;Un++)this._keys[Un-1]=this._keys[Un],this._values[Un-1]=this._values[Un];return this._keys.length--,this._values.length--,Nn===this._cacheKey&&(this._cacheKey=Ie,this._cacheIndex=-2),!0}return!1},bn.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Ie,this._cacheIndex=-2},bn.prototype.keys=function(){return new $e(this._keys,this._values,Tt)},bn.prototype.values=function(){return new $e(this._keys,this._values,Ot)},bn.prototype.entries=function(){return new $e(this._keys,this._values,on)},bn.prototype["@@iterator"]=function(){return this.entries()},bn.prototype[He]=function(){return this.entries()},bn.prototype._find=function(Nn,An){return this._cacheKey!==Nn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Nn)),this._cacheIndex<0&&An&&(this._cacheIndex=this._keys.length,this._keys.push(Nn),this._values.push(void 0)),this._cacheIndex},bn}();function Tt(bn,Nn){return bn}function Ot(bn,Nn){return Nn}function on(bn,Nn){return[bn,Nn]}}():Map,m=P||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Fe(){return function(){function Ie(){this._map=new w}return Object.defineProperty(Ie.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Ie.prototype.has=function(Xe){return this._map.has(Xe)},Ie.prototype.add=function(Xe){return this._map.set(Xe,Xe),this},Ie.prototype.delete=function(Xe){return this._map.delete(Xe)},Ie.prototype.clear=function(){this._map.clear()},Ie.prototype.keys=function(){return this._map.keys()},Ie.prototype.values=function(){return this._map.values()},Ie.prototype.entries=function(){return this._map.entries()},Ie.prototype["@@iterator"]=function(){return this.keys()},Ie.prototype[He]=function(){return this.keys()},Ie}()}():Set,N=new(P||"function"!=typeof WeakMap?function tt(){var Ie=16,Xe=d.create(),$e=Tt();return function(){function An(){this._key=Tt()}return An.prototype.has=function(Qn){var Un=Ot(Qn,!1);return void 0!==Un&&d.has(Un,this._key)},An.prototype.get=function(Qn){var Un=Ot(Qn,!1);return void 0!==Un?d.get(Un,this._key):void 0},An.prototype.set=function(Qn,Un){return Ot(Qn,!0)[this._key]=Un,this},An.prototype.delete=function(Qn){var Un=Ot(Qn,!1);return void 0!==Un&&delete Un[this._key]},An.prototype.clear=function(){this._key=Tt()},An}();function Tt(){var An;do{An="@@WeakMap@@"+Nn()}while(d.has(Xe,An));return Xe[An]=!0,An}function Ot(An,Qn){if(!Kn.call(An,$e)){if(!Qn)return;Object.defineProperty(An,$e,{value:d.create()})}return An[$e]}function on(An,Qn){for(var Un=0;Un<Qn;++Un)An[Un]=255*Math.random()|0;return An}function Nn(){var An=function bn(An){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(An)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(An)):on(new Uint8Array(An),An):on(new Array(An),An)}(Ie);An[6]=79&An[6]|64,An[8]=191&An[8]|128;for(var Qn="",Un=0;Un<Ie;++Un){var Dr=An[Un];(4===Un||6===Un||8===Un)&&(Qn+="-"),Dr<16&&(Qn+="0"),Qn+=Dr.toString(16).toLowerCase()}return Qn}}():WeakMap);function ce(Ie,Xe,$e){var Tt=N.get(Ie);if(rt(Tt)){if(!$e)return;Tt=new w,N.set(Ie,Tt)}var Ot=Tt.get(Xe);if(rt(Ot)){if(!$e)return;Ot=new w,Tt.set(Xe,Ot)}return Ot}function ze(Ie,Xe,$e){if(st(Ie,Xe,$e))return!0;var Ot=Ge(Xe);return!Mt(Ot)&&ze(Ie,Ot,$e)}function st(Ie,Xe,$e){var Tt=ce(Xe,$e,!1);return!rt(Tt)&&function Ye(Ie){return!!Ie}(Tt.has(Ie))}function ge(Ie,Xe,$e){if(st(Ie,Xe,$e))return Rt(Ie,Xe,$e);var Ot=Ge(Xe);return Mt(Ot)?void 0:ge(Ie,Ot,$e)}function Rt(Ie,Xe,$e){var Tt=ce(Xe,$e,!1);if(!rt(Tt))return Tt.get(Ie)}function Ve(Ie,Xe,$e,Tt){ce($e,Tt,!0).set(Ie,Xe)}function We(Ie,Xe){var $e=Ne(Ie,Xe),Tt=Ge(Ie);if(null===Tt)return $e;var Ot=We(Tt,Xe);if(Ot.length<=0)return $e;if($e.length<=0)return Ot;for(var on=new m,bn=[],Nn=0,An=$e;Nn<An.length;Nn++)on.has(Qn=An[Nn])||(on.add(Qn),bn.push(Qn));for(var Dr=0,wi=Ot;Dr<wi.length;Dr++){var Qn;on.has(Qn=wi[Dr])||(on.add(Qn),bn.push(Qn))}return bn}function Ne(Ie,Xe){var $e=[],Tt=ce(Ie,Xe,!1);if(rt(Tt))return $e;for(var on=function M(Ie){var Xe=x(Ie,He);if(!at(Xe))throw new TypeError;var $e=Xe.call(Ie);if(!ke($e))throw new TypeError;return $e}(Tt.keys()),bn=0;;){var Nn=se(on);if(!Nn)return $e.length=bn,$e;var An=fe(Nn);try{$e[bn]=An}catch(Qn){try{De(on)}finally{throw Qn}}bn++}}function Ue(Ie){if(null===Ie)return 1;switch(typeof Ie){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Ie?1:6;default:return 6}}function rt(Ie){return void 0===Ie}function Mt(Ie){return null===Ie}function ke(Ie){return"object"==typeof Ie?null!==Ie:"function"==typeof Ie}function gt(Ie,Xe){switch(Ue(Ie)){case 0:case 1:case 2:case 3:case 4:case 5:return Ie}var $e=3===Xe?"string":5===Xe?"number":"default",Tt=x(Ie,wt);if(void 0!==Tt){var Ot=Tt.call(Ie,$e);if(ke(Ot))throw new TypeError;return Ot}return function St(Ie,Xe){if("string"===Xe){var $e=Ie.toString;if(at($e)&&!ke(Tt=$e.call(Ie)))return Tt;if(at(Ot=Ie.valueOf)&&!ke(Tt=Ot.call(Ie)))return Tt}else{var Ot;if(at(Ot=Ie.valueOf)&&!ke(Tt=Ot.call(Ie)))return Tt;var Tt,on=Ie.toString;if(at(on)&&!ke(Tt=on.call(Ie)))return Tt}throw new TypeError}(Ie,"default"===$e?"number":$e)}function me(Ie){var Xe=gt(Ie,3);return function ht(Ie){return"symbol"==typeof Ie}(Xe)?Xe:function yt(Ie){return""+Ie}(Xe)}function Ce(Ie){return Array.isArray?Array.isArray(Ie):Ie instanceof Object?Ie instanceof Array:"[object Array]"===Object.prototype.toString.call(Ie)}function at(Ie){return"function"==typeof Ie}function E(Ie){return"function"==typeof Ie}function x(Ie,Xe){var $e=Ie[Xe];if(null!=$e){if(!at($e))throw new TypeError;return $e}}function fe(Ie){return Ie.value}function se(Ie){var Xe=Ie.next();return!Xe.done&&Xe}function De(Ie){var Xe=Ie.return;Xe&&Xe.call(Ie)}function Ge(Ie){var Xe=Object.getPrototypeOf(Ie);if("function"!=typeof Ie||Ie===f||Xe!==f)return Xe;var $e=Ie.prototype,Tt=$e&&Object.getPrototypeOf($e);if(null==Tt||Tt===Object.prototype)return Xe;var Ot=Tt.constructor;return"function"!=typeof Ot||Ot===Ie?Xe:Ot}function it(Ie){return Ie.__=void 0,delete Ie.__,Ie}ki("decorate",function h(Ie,Xe,$e,Tt){if(rt($e)){if(!Ce(Ie))throw new TypeError;if(!E(Xe))throw new TypeError;return function W(Ie,Xe){for(var $e=Ie.length-1;$e>=0;--$e){var Ot=(0,Ie[$e])(Xe);if(!rt(Ot)&&!Mt(Ot)){if(!E(Ot))throw new TypeError;Xe=Ot}}return Xe}(Ie,Xe)}if(!Ce(Ie))throw new TypeError;if(!ke(Xe))throw new TypeError;if(!ke(Tt)&&!rt(Tt)&&!Mt(Tt))throw new TypeError;return Mt(Tt)&&(Tt=void 0),function he(Ie,Xe,$e,Tt){for(var Ot=Ie.length-1;Ot>=0;--Ot){var bn=(0,Ie[Ot])(Xe,$e,Tt);if(!rt(bn)&&!Mt(bn)){if(!ke(bn))throw new TypeError;Tt=bn}}return Tt}(Ie,Xe,$e=me($e),Tt)}),ki("metadata",function v(Ie,Xe){return function $e(Tt,Ot){if(!ke(Tt))throw new TypeError;if(!rt(Ot)&&!function _(Ie){switch(Ue(Ie)){case 3:case 4:return!0;default:return!1}}(Ot))throw new TypeError;Ve(Ie,Xe,Tt,Ot)}}),ki("defineMetadata",function T(Ie,Xe,$e,Tt){if(!ke($e))throw new TypeError;return rt(Tt)||(Tt=me(Tt)),Ve(Ie,Xe,$e,Tt)}),ki("hasMetadata",function G(Ie,Xe,$e){if(!ke(Xe))throw new TypeError;return rt($e)||($e=me($e)),ze(Ie,Xe,$e)}),ki("hasOwnMetadata",function $(Ie,Xe,$e){if(!ke(Xe))throw new TypeError;return rt($e)||($e=me($e)),st(Ie,Xe,$e)}),ki("getMetadata",function ne(Ie,Xe,$e){if(!ke(Xe))throw new TypeError;return rt($e)||($e=me($e)),ge(Ie,Xe,$e)}),ki("getOwnMetadata",function Q(Ie,Xe,$e){if(!ke(Xe))throw new TypeError;return rt($e)||($e=me($e)),Rt(Ie,Xe,$e)}),ki("getMetadataKeys",function oe(Ie,Xe){if(!ke(Ie))throw new TypeError;return rt(Xe)||(Xe=me(Xe)),We(Ie,Xe)}),ki("getOwnMetadataKeys",function H(Ie,Xe){if(!ke(Ie))throw new TypeError;return rt(Xe)||(Xe=me(Xe)),Ne(Ie,Xe)}),ki("deleteMetadata",function F(Ie,Xe,$e){if(!ke(Xe))throw new TypeError;rt($e)||($e=me($e));var Tt=ce(Xe,$e,!1);if(rt(Tt)||!Tt.delete(Ie))return!1;if(Tt.size>0)return!0;var Ot=N.get(Xe);return Ot.delete($e),Ot.size>0||N.delete(Xe),!0})}(os)}()}},pl=>{pl(pl.s=465)}]);