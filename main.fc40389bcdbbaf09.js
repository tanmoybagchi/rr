(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{654:(Za,za,xi)=>{"use strict";function Yn(t){return"function"==typeof t}function Ko(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Et=Ko(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ze(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class H{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Yn(r))try{r()}catch(o){n=o instanceof Et?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{f(o)}catch(l){n=n??[],l instanceof Et?n=[...n,...l.errors]:n.push(l)}}if(n)throw new Et(n)}}add(n){var e;if(n&&n!==this)if(this.closed)f(n);else{if(n instanceof H){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Ze(e,n)}remove(n){const{_finalizers:e}=this;e&&Ze(e,n),n instanceof H&&n._removeParent(this)}}H.EMPTY=(()=>{const t=new H;return t.closed=!0,t})();const ye=H.EMPTY;function N(t){return t instanceof H||t&&"closed"in t&&Yn(t.remove)&&Yn(t.add)&&Yn(t.unsubscribe)}function f(t){Yn(t)?t():t.unsubscribe()}const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I={setTimeout(t,n,...e){const{delegate:r}=I;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=I;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function A(t){I.setTimeout(()=>{const{onUnhandledError:n}=d;if(!n)throw t;n(t)})}function v(){}const w=y("C",void 0,void 0);function y(t,n,e){return{kind:t,value:n,error:e}}let T=null;function j(t){if(d.useDeprecatedSynchronousErrorHandling){const n=!T;if(n&&(T={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=T;if(T=null,e)throw r}}else t()}class Y extends H{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,N(n)&&n.add(this)):this.destination=Oe}static create(n,e,r){return new k(n,e,r)}next(n){this.isStopped?de(function h(t){return y("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?de(function D(t){return y("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?de(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function he(t,n){return $.call(t,n)}class z{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){K(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){K(r)}else K(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){K(e)}}}class k extends Y{constructor(n,e,r){let i;if(super(),Yn(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&d.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&he(n.next,o),error:n.error&&he(n.error,o),complete:n.complete&&he(n.complete,o)}):i=n}this.destination=new z(i)}}function K(t){d.useDeprecatedSynchronousErrorHandling?function X(t){d.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=t)}(t):A(t)}function de(t,n){const{onStoppedNotification:e}=d;e&&I.setTimeout(()=>e(t,n))}const Oe={closed:!0,next:v,error:function ue(t){throw t},complete:v},gt="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(t){return t}function ut(t){return 0===t.length?ve:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Ve=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function Qe(t){return t&&t instanceof Y||function ot(t){return t&&Yn(t.next)&&Yn(t.error)&&Yn(t.complete)}(t)&&N(t)}(e)?e:new k(e,r,i);return j(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ke(r))((i,o)=>{const l=new k({next:c=>{try{e(c)}catch(u){o(u),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[gt](){return this}pipe(...e){return ut(e)(this)}toPromise(e){return new(e=ke(e))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return t.create=n=>new t(n),t})();function ke(t){var n;return null!==(n=t??d.Promise)&&void 0!==n?n:Promise}const Rt=Ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xe=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new et(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Rt}next(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ye:(this.currentObservers=null,o.push(e),new H(()=>{this.currentObservers=null,Ze(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new Ve;return e.source=this,e}}return t.create=(n,e)=>new et(n,e),t})();class et extends xe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:ye}}function jt(t){return Yn(t?.lift)}function It(t){return n=>{if(jt(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(t,n,e,r,i){return new bt(t,n,e,r,i)}class bt extends Y{constructor(n,e,r,i,o,l){super(n),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=e?function(c){try{e(c)}catch(u){n.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function pe(t,n){return It((e,r)=>{let i=0;e.subscribe(Je(r,o=>{r.next(t.call(n,o,i++))}))})}function _n(t){return this instanceof _n?(this.v=t,this):new _n(t)}function Xn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function tt(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(l){return new Promise(function(c,u){!function i(o,l,c,u){Promise.resolve(u).then(function(m){o({value:m,done:c})},l)}(c,u,(l=t[o](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ys=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function zt(t){return Yn(t?.then)}function Ut(t){return Yn(t[gt])}function Ht(t){return Symbol.asyncIterator&&Yn(t?.[Symbol.asyncIterator])}function dt(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mt=function Dt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function St(t){return Yn(t?.[mt])}function en(t){return function Cn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(_e){r[_e]&&(i[_e]=function(Re){return new Promise(function(Ke,ct){o.push([_e,Re,Ke,ct])>1||c(_e,Re)})})}function c(_e,Re){try{!function u(_e){_e.value instanceof _n?Promise.resolve(_e.value.v).then(m,x):W(o[0][2],_e)}(r[_e](Re))}catch(Ke){W(o[0][3],Ke)}}function m(_e){c("next",_e)}function x(_e){c("throw",_e)}function W(_e,Re){_e(Re),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield _n(e.read());if(i)return yield _n(void 0);yield yield _n(r)}}finally{e.releaseLock()}})}function nn(t){return Yn(t?.getReader)}function fn(t){if(t instanceof Ve)return t;if(null!=t){if(Ut(t))return function Sn(t){return new Ve(n=>{const e=t[gt]();if(Yn(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ys(t))return function rn(t){return new Ve(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(zt(t))return function Lt(t){return new Ve(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,A)})}(t);if(Ht(t))return vn(t);if(St(t))return function yn(t){return new Ve(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(nn(t))return function Vn(t){return vn(en(t))}(t)}throw dt(t)}function vn(t){return new Ve(n=>{(function tr(t,n){var e,r,i,o;return function Fe(t,n,e,r){return new(e||(e=Promise))(function(o,l){function c(x){try{m(r.next(x))}catch(W){l(W)}}function u(x){try{m(r.throw(x))}catch(W){l(W)}}function m(x){x.done?o(x.value):function i(o){return o instanceof e?o:new e(function(l){l(o)})}(x.value).then(c,u)}m((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Xn(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function _r(t,n,e,r=0,i=!1){const o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function xt(t,n,e=1/0){return Yn(n)?xt((r,i)=>pe((o,l)=>n(r,o,i,l))(fn(t(r,i))),e):("number"==typeof n&&(e=n),It((r,i)=>function Fn(t,n,e,r,i,o,l,c){const u=[];let m=0,x=0,W=!1;const _e=()=>{W&&!u.length&&!m&&n.complete()},Re=ct=>m<r?Ke(ct):u.push(ct),Ke=ct=>{o&&n.next(ct),m++;let Bt=!1;fn(e(ct,x++)).subscribe(Je(n,Qt=>{i?.(Qt),o?Re(Qt):n.next(Qt)},()=>{Bt=!0},void 0,()=>{if(Bt)try{for(m--;u.length&&m<r;){const Qt=u.shift();l?_r(n,l,()=>Ke(Qt)):Ke(Qt)}_e()}catch(Qt){n.error(Qt)}}))};return t.subscribe(Je(n,Re,()=>{W=!0,_e()})),()=>{c?.()}}(r,i,t,e)))}function Zt(t=1/0){return xt(ve,t)}const Jt=new Ve(t=>t.complete());function yr(t){return t&&Yn(t.schedule)}function Sr(t){return t[t.length-1]}function Ri(t){return Yn(Sr(t))?t.pop():void 0}function ui(t){return yr(Sr(t))?t.pop():void 0}function mi(t,n=0){return It((e,r)=>{e.subscribe(Je(r,i=>_r(r,t,()=>r.next(i),n),()=>_r(r,t,()=>r.complete(),n),i=>_r(r,t,()=>r.error(i),n)))})}function ti(t,n=0){return It((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Zi(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ve(e=>{_r(e,n,()=>{const r=t[Symbol.asyncIterator]();_r(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ci(t,n){return n?function Uc(t,n){if(null!=t){if(Ut(t))return function Hi(t,n){return fn(t).pipe(ti(n),mi(n))}(t,n);if(Ys(t))return function $s(t,n){return new Ve(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(zt(t))return function ba(t,n){return fn(t).pipe(ti(n),mi(n))}(t,n);if(Ht(t))return Zi(t,n);if(St(t))return function Uo(t,n){return new Ve(e=>{let r;return _r(e,n,()=>{r=t[mt](),_r(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void e.error(l)}o?e.complete():e.next(i)},0,!0)}),()=>Yn(r?.return)&&r.return()})}(t,n);if(nn(t))return function Bc(t,n){return Zi(en(t),n)}(t,n)}throw dt(t)}(t,n):fn(t)}function To(...t){const n=ui(t),e=function qr(t,n){return"number"==typeof Sr(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?fn(r[0]):Zt(e)(Ci(r,n)):Jt}class zi extends xe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function $n(...t){return Ci(t,ui(t))}function Kt(t={}){const{connector:n=(()=>new xe),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let l,c,u,m=0,x=!1,W=!1;const _e=()=>{c?.unsubscribe(),c=void 0},Re=()=>{_e(),l=u=void 0,x=W=!1},Ke=()=>{const ct=l;Re(),ct?.unsubscribe()};return It((ct,Bt)=>{m++,!W&&!x&&_e();const Qt=u=u??n();Bt.add(()=>{m--,0===m&&!W&&!x&&(c=Dn(Ke,i))}),Qt.subscribe(Bt),!l&&m>0&&(l=new k({next:Mt=>Qt.next(Mt),error:Mt=>{W=!0,_e(),c=Dn(Re,e,Mt),Qt.error(Mt)},complete:()=>{x=!0,_e(),c=Dn(Re,r),Qt.complete()}}),fn(ct).subscribe(l))})(o)}}function Dn(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new k({next:()=>{r.unsubscribe(),t()}});return fn(n(...e)).subscribe(r)}function Gn(t,n){return It((e,r)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&r.complete();e.subscribe(Je(r,u=>{i?.unsubscribe();let m=0;const x=o++;fn(t(u,x)).subscribe(i=Je(r,W=>r.next(n?n(u,W,x,m++):W),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function si(t,n=ve){return t=t??Wr,It((e,r)=>{let i,o=!0;e.subscribe(Je(r,l=>{const c=n(l);(o||!t(i,c))&&(o=!1,i=c,r.next(l))}))})}function Wr(t,n){return t===n}function nr(t){for(let n in t)if(t[n]===nr)return n;throw Error("Could not find renamed property on target object.")}function Mr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ar(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ar).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function ai(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const jr=nr({__forward_ref__:nr});function wr(t){return t.__forward_ref__=wr,t.toString=function(){return Ar(this())},t}function Hn(t){return Qo(t)?t():t}function Qo(t){return"function"==typeof t&&t.hasOwnProperty(jr)&&t.__forward_ref__===wr}function co(t){return t&&!!t.\u0275providers}const ms="https://g.co/ng/security#xss";class Gt extends Error{constructor(n,e){super(function gs(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function rr(t){return"string"==typeof t?t:null==t?"":String(t)}function Ta(t,n){throw new Gt(-201,!1)}function wi(t,n){null==t&&function Jn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function En(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ga(t){return Ed(t,Ol)||Ed(t,Bh)}function Ed(t,n){return t.hasOwnProperty(n)?t[n]:null}function Hc(t){return t&&(t.hasOwnProperty(Td)||t.hasOwnProperty(Uh))?t[Td]:null}const Ol=nr({\u0275prov:nr}),Td=nr({\u0275inj:nr}),Bh=nr({ngInjectableDef:nr}),Uh=nr({ngInjectorDef:nr});var Er=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Er||{});let Zc;function Vh(){return Zc}function po(t){const n=Zc;return Zc=t,n}function Pl(t,n,e){const r=Ga(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Er.Optional?null:void 0!==n?n:void Ta(Ar(t))}const Yr=globalThis,kl={},Gc="__NG_DI_FLAG__",qc="ngTempTokenPath",Ad=/\n/gm,Fl="__source";let Ca;function Ks(t){const n=Ca;return Ca=t,n}function Zh(t,n=Er.Default){if(void 0===Ca)throw new Gt(-203,!1);return null===Ca?Pl(t,void 0,n):Ca.get(t,n&Er.Optional?null:void 0,n)}function Wt(t,n=Er.Default){return(Vh()||Zh)(Hn(t),n)}function $t(t,n=Er.Default){return Wt(t,Xs(n))}function Xs(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yc(t){const n=[];for(let e=0;e<t.length;e++){const r=Hn(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Gt(900,!1);let i,o=Er.Default;for(let l=0;l<r.length;l++){const c=r[l],u=c_(c);"number"==typeof u?-1===u?i=c.token:o|=u:i=c}n.push(Wt(i,o))}else n.push(Wt(r))}return n}function Ll(t,n){return t[Gc]=n,t.prototype[Gc]=n,t}function c_(t){return t[Gc]}function Cr(t){return{toString:t}.toString()}var Ya=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ya||{}),Vo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Vo||{});const wo={},Pr=[],$a=nr({\u0275cmp:nr}),Ul=nr({\u0275dir:nr}),Rd=nr({\u0275pipe:nr}),Vl=nr({\u0275mod:nr}),vs=nr({\u0275fac:nr}),jl=nr({__NG_ELEMENT_ID__:nr}),$c=nr({__NG_ENV_ID__:nr});function Wc(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}function Md(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],l=e[r++],c=e[r++];t.setAttribute(n,l,c,o)}else{const o=i,l=e[++r];Nd(o)?t.setProperty(n,o,l):t.setAttribute(n,o,l),r++}}return r}function Hl(t){return 3===t||4===t||6===t}function Nd(t){return 64===t.charCodeAt(0)}function Zl(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Kc(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Kc(t,n,e,r,i){let o=0,l=t.length;if(-1===n)l=-1;else for(;o<t.length;){const c=t[o++];if("number"==typeof c){if(c===n){l=-1;break}if(c>n){l=o-1;break}}}for(;o<t.length;){const c=t[o];if("number"==typeof c)break;if(c===e){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(t.splice(l,0,n),o=l+1),t.splice(o++,0,e),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Xc="ng-template";function u_(t,n,e){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const l=t[r++];if(e&&"class"===o&&-1!==Wc(l.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function zl(t){return 4===t.type&&t.value!==Xc}function d_(t,n,e){return n===(4!==t.type||e?t.value:Xc)}function f_(t,n,e){let r=4;const i=t.attrs||[],o=function Jc(t){for(let n=0;n<t.length;n++)if(Hl(t[n]))return n;return t.length}(i);let l=!1;for(let c=0;c<n.length;c++){const u=n[c];if("number"!=typeof u){if(!l)if(4&r){if(r=2|1&r,""!==u&&!d_(t,u,e)||""===u&&1===n.length){if(So(r))return!1;l=!0}}else{const m=8&r?u:n[++c];if(8&r&&null!==t.attrs){if(!u_(t.attrs,m,e)){if(So(r))return!1;l=!0}continue}const W=Gl(8&r?"class":u,i,zl(t),e);if(-1===W){if(So(r))return!1;l=!0;continue}if(""!==m){let _e;_e=W>o?"":i[W+1].toLowerCase();const Re=8&r?_e:null;if(Re&&-1!==Wc(Re,m,0)||2&r&&m!==_e){if(So(r))return!1;l=!0}}}}else{if(!l&&!So(r)&&!So(u))return!1;if(l&&So(u))continue;l=!1,r=u|1&r}}return So(r)||l}function So(t){return 0==(1&t)}function Gl(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){const l=n[i];if(l===t)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=n[++i];for(;"string"==typeof c;)c=n[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function p_(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Qc(t,n,e=!1){for(let r=0;r<n.length;r++)if(f_(t,n[r],e))return!0;return!1}function m_(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function zh(t,n){return t?":not("+n.trim()+")":n}function g_(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let l=t[e];if("string"==typeof l)if(2&r){const c=t[++e];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!So(l)&&(n+=zh(o,i),i=""),r=l,o=o||!So(r);e++}return""!==i&&(n+=zh(o,i)),n}function pr(t){return Cr(()=>{const n=qh(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ya.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vo.Emulated,styles:t.styles||Pr,_:null,schemas:t.schemas||null,tView:null,id:""};kd(e);const r=t.dependencies;return e.directiveDefs=ql(r,!1),e.pipeDefs=ql(r,!0),e.id=function b_(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function eu(t){return Dr(t)||qi(t)}function v_(t){return null!==t}function Xr(t){return Cr(()=>({type:t.type,bootstrap:t.bootstrap||Pr,declarations:t.declarations||Pr,imports:t.imports||Pr,exports:t.exports||Pr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Gh(t,n){if(null==t)return wo;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,n&&(n[i]=o)}return e}function Pn(t){return Cr(()=>{const n=qh(t);return kd(n),n})}function Gi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dr(t){return t[$a]||null}function qi(t){return t[Ul]||null}function no(t){return t[Rd]||null}function mo(t,n){const e=t[Vl]||null;if(!e&&!0===n)throw new Error(`Type ${Ar(t)} does not have '\u0275mod' property.`);return e}function qh(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gh(t.inputs,n),outputs:Gh(t.outputs)}}function kd(t){t.features?.forEach(n=>n(t))}function ql(t,n){if(!t)return null;const e=n?no:eu;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(v_)}const gi=0,Rn=1,dr=2,di=3,Co=4,Xa=5,ro=6,Qa=7,yi=8,Rs=9,Ms=10,ar=11,Yl=12,Fd=13,Ja=14,bi=15,$l=16,Qs=17,jo=18,Wl=19,Yh=20,Ns=21,Os=22,Kl=23,el=24,Tr=25,tu=1,Ld=2,es=7,tl=9,Oi=11;function uo(t){return Array.isArray(t)&&"object"==typeof t[tu]}function io(t){return Array.isArray(t)&&!0===t[tu]}function ru(t){return 0!=(4&t.flags)}function Ia(t){return t.componentOffset>-1}function Ql(t){return 1==(1&t.flags)}function ts(t){return!!t.template}function iu(t){return 0!=(512&t[dr])}function Aa(t,n){return t.hasOwnProperty(vs)?t[vs]:null}const Js=Symbol("SIGNAL");function Ud(t,n){return(null===t||"object"!=typeof t)&&Object.is(t,n)}let Yi=null,Jl=!1;function Ho(t){const n=Yi;return Yi=t,n}const ec={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qh(t){if(Jl)throw new Error("");if(null===Yi)return;const n=Yi.nextProducerIndex++;il(Yi),n<Yi.producerNode.length&&Yi.producerNode[n]!==t&&rl(Yi)&&lu(Yi.producerNode[n],Yi.producerIndexOfThis[n]),Yi.producerNode[n]!==t&&(Yi.producerNode[n]=t,Yi.producerIndexOfThis[n]=rl(Yi)?Vd(t,Yi,n):0),Yi.producerLastReadVersion[n]=t.version}function ou(t){if(!rl(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Jh(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function tc(t){if(void 0===t.liveConsumerNode)return;const n=Jl;Jl=!0;try{for(const e of t.liveConsumerNode)e.dirty||su(e)}finally{Jl=n}}function nc(){return!1!==Yi?.consumerAllowSignalWrites}function su(t){t.dirty=!0,tc(t),t.consumerMarkedDirty?.(t)}function au(t){return t&&(t.nextProducerIndex=0),Ho(t)}function Da(t,n){if(Ho(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(rl(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)lu(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jh(t){il(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(ou(e),r!==e.version))return!0}return!1}function ep(t){if(il(t),rl(t))for(let n=0;n<t.producerNode.length;n++)lu(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Vd(t,n,e){if(cu(t),il(t),0===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Vd(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function lu(t,n){if(cu(t),il(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)lu(t.producerNode[r],t.producerIndexOfThis[r]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];il(i),i.producerIndexOfThis[r]=n}}function rl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function il(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function cu(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ea(t,n){const e=Object.create(tp);e.computation=t,n?.equal&&(e.equal=n.equal);const r=()=>{if(ou(e),Qh(e),e.value===du)throw e.error;return e.value};return r[Js]=e,r}const jd=Symbol("UNSET"),uu=Symbol("COMPUTING"),du=Symbol("ERRORED"),tp=(()=>({...ec,value:jd,dirty:!0,error:null,equal:Ud,producerMustRecompute:t=>t.value===jd||t.value===uu,producerRecomputeValue(t){if(t.value===uu)throw new Error("Detected cycle in computations.");const n=t.value;t.value=uu;const e=au(t);let r;try{r=t.computation()}catch(i){r=du,t.error=i}finally{Da(t,e)}n!==jd&&n!==du&&r!==du&&t.equal(n,r)?t.value=n:(t.value=r,t.version++)}}))();let Hd=function C_(){throw new Error};function Zd(){Hd()}let zd=null;function ns(t,n){const e=Object.create(Gd);function r(){return Qh(e),e.value}return e.value=t,n?.equal&&(e.equal=n.equal),r.set=rp,r.update=_,r.mutate=p,r.asReadonly=b,r[Js]=e,r}const Gd=(()=>({...ec,equal:Ud,readonlyFn:void 0}))();function rc(t){t.version++,tc(t),zd?.()}function rp(t){const n=this[Js];nc()||Zd(),n.equal(n.value,t)||(n.value=t,rc(n))}function _(t){nc()||Zd(),rp.call(this,t(this[Js].value))}function p(t){const n=this[Js];nc()||Zd(),t(n.value),rc(n)}function b(){const t=this[Js];if(void 0===t.readonlyFn){const n=()=>this();n[Js]=t,t.readonlyFn=n}return t.readonlyFn}function R(t){const n=Ho(null);try{return t()}finally{Ho(n)}}const P=()=>{},C=(()=>({...ec,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:P}))();class J{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function ne(){return Q}function Q(t){return t.type.prototype.ngOnChanges&&(t.setInput=re),V}function V(){const t=Ie(this),n=t?.current;if(n){const e=t.previous;if(e===wo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function re(t,n,e,r){const i=this.declaredInputs[e],o=Ie(t)||function ge(t,n){return t[ee]=n}(t,{previous:wo,current:null}),l=o.current||(o.current={}),c=o.previous,u=c[i];l[i]=new J(u&&u.currentValue,n,c===wo),t[r]=n}ne.ngInherit=!0;const ee="__ngSimpleChanges__";function Ie(t){return t[ee]||null}const te=function(t,n,e){},Te="svg";function fe(t){for(;Array.isArray(t);)t=t[gi];return t}function q(t,n){return fe(n[t])}function Z(t,n){return fe(n[t.index])}function L(t,n){return t.data[n]}function se(t,n){return t[n]}function ie(t,n){const e=n[t];return uo(e)?e:e[gi]}function we(t,n){return null==n?null:t[n]}function Pe(t){t[Qs]=0}function Xe(t){1024&t[dr]||(t[dr]|=1024,Ue(t,1))}function Be(t){1024&t[dr]&&(t[dr]&=-1025,Ue(t,-1))}function Ue(t,n){let e=t[di];if(null===e)return;e[Xa]+=n;let r=e;for(e=e[di];null!==e&&(1===n&&1===r[Xa]||-1===n&&0===r[Xa]);)e[Xa]+=n,r=e,e=e[di]}function je(t,n){if(256==(256&t[dr]))throw new Gt(911,!1);null===t[Ns]&&(t[Ns]=[]),t[Ns].push(n)}const vt={lFrame:ys(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ne(){return vt.bindingsEnabled}function Me(){return null!==vt.skipHydrationRootTNode}function pt(){return vt.lFrame.lView}function on(){return vt.lFrame.tView}function ln(t){return vt.lFrame.contextLView=t,t[yi]}function cn(t){return vt.lFrame.contextLView=null,t}function bn(){let t=xn();for(;null!==t&&64===t.type;)t=t.parent;return t}function xn(){return vt.lFrame.currentTNode}function On(t,n){const e=vt.lFrame;e.currentTNode=t,e.isParent=n}function lr(){return vt.lFrame.isParent}function Qn(){vt.lFrame.isParent=!1}function mn(){const t=vt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function kt(){return vt.lFrame.bindingIndex++}function at(t){const n=vt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function rt(t,n){const e=vt.lFrame;e.bindingIndex=e.bindingRootIndex=t,tn(n)}function tn(t){vt.lFrame.currentDirectiveIndex=t}function Kn(){return vt.lFrame.currentQueryIndex}function Fr(t){vt.lFrame.currentQueryIndex=t}function $i(t){const n=t[Rn];return 2===n.type?n.declTNode:1===n.type?t[ro]:null}function Lr(t,n,e){if(e&Er.SkipSelf){let i=n,o=t;for(;!(i=i.parent,null!==i||e&Er.Host||(i=$i(o),null===i||(o=o[Ja],10&i.type))););if(null===i)return!1;n=i,t=o}const r=vt.lFrame=Mi();return r.currentTNode=n,r.lView=t,!0}function Pi(t){const n=Mi(),e=t[Rn];vt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Mi(){const t=vt.lFrame,n=null===t?null:t.child;return null===n?ys(t):n}function ys(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ta(){const t=vt.lFrame;return vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Zo=ta;function rs(){const t=ta();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ei(){return vt.lFrame.selectedIndex}function go(t){vt.lFrame.selectedIndex=t}function Vr(){const t=vt.lFrame;return L(t.tView,t.selectedIndex)}function na(){vt.lFrame.currentNamespace=Te}let al=!0;function _t(){return al}function Yt(t){al=t}function Un(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:m,ngOnDestroy:x}=o;l&&(t.contentHooks??=[]).push(-e,l),c&&((t.contentHooks??=[]).push(e,c),(t.contentCheckHooks??=[]).push(e,c)),u&&(t.viewHooks??=[]).push(-e,u),m&&((t.viewHooks??=[]).push(e,m),(t.viewCheckHooks??=[]).push(e,m)),null!=x&&(t.destroyHooks??=[]).push(e,x)}}function ur(t,n,e){Hr(t,n,3,e)}function fr(t,n,e,r){(3&t[dr])===e&&Hr(t,n,e,r)}function qn(t,n){let e=t[dr];(3&e)===n&&(e&=8191,e+=1,t[dr]=e)}function Hr(t,n,e,r){const o=r??-1,l=n.length-1;let c=0;for(let u=void 0!==r?65535&t[Qs]:0;u<l;u++)if("number"==typeof n[u+1]){if(c=n[u],null!=r&&c>=r)break}else n[u]<0&&(t[Qs]+=65536),(c<o||-1==o)&&(ks(t,e,n,u),t[Qs]=(4294901760&t[Qs])+u+2),u++}function Br(t,n){te(4,t,n);const e=Ho(null);try{n.call(t)}finally{Ho(e),te(5,t,n)}}function ks(t,n,e,r){const i=e[r]<0,o=e[r+1],c=t[i?-e[r]:e[r]];i?t[dr]>>13<t[Qs]>>16&&(3&t[dr])===n&&(t[dr]+=8192,Br(c,o)):Br(c,o)}const is=-1;class qd{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function A_(t){return t!==is}function Yd(t){return 32767&t}function $d(t,n){let e=function fN(t){return t>>16}(t),r=n;for(;e>0;)r=r[Ja],e--;return r}let D_=!0;function ip(t){const n=D_;return D_=t,n}const q0=255,Y0=5;let hN=0;const ra={};function op(t,n){const e=$0(t,n);if(-1!==e)return e;const r=n[Rn];r.firstCreatePass&&(t.injectorIndex=n.length,x_(r.data,t),x_(n,null),x_(r.blueprint,null));const i=sp(t,n),o=t.injectorIndex;if(A_(i)){const l=Yd(i),c=$d(i,n),u=c[Rn].data;for(let m=0;m<8;m++)n[o+m]=c[l+m]|u[l+m]}return n[o+8]=i,o}function x_(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $0(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function sp(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=tT(i),null===r)return is;if(e++,i=i[Ja],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return is}function R_(t,n,e){!function pN(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(jl)&&(r=e[jl]),null==r&&(r=e[jl]=hN++);const i=r&q0;n.data[t+(i>>Y0)]|=1<<i}(t,n,e)}function W0(t,n,e){if(e&Er.Optional||void 0!==t)return t;Ta()}function K0(t,n,e,r){if(e&Er.Optional&&void 0===r&&(r=null),!(e&(Er.Self|Er.Host))){const i=t[Rs],o=po(void 0);try{return i?i.get(n,r,e&Er.Optional):Pl(n,r,e&Er.Optional)}finally{po(o)}}return W0(r,0,e)}function X0(t,n,e,r=Er.Default,i){if(null!==t){if(2048&n[dr]&&!(r&Er.Self)){const l=function bN(t,n,e,r,i){let o=t,l=n;for(;null!==o&&null!==l&&2048&l[dr]&&!(512&l[dr]);){const c=Q0(o,l,e,r|Er.Self,ra);if(c!==ra)return c;let u=o.parent;if(!u){const m=l[Yh];if(m){const x=m.get(e,ra,r);if(x!==ra)return x}u=tT(l),l=l[Ja]}o=u}return i}(t,n,e,r,ra);if(l!==ra)return l}const o=Q0(t,n,e,r,ra);if(o!==ra)return o}return K0(n,e,r,i)}function Q0(t,n,e,r,i){const o=function _N(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(jl)?t[jl]:void 0;return"number"==typeof n?n>=0?n&q0:yN:n}(e);if("function"==typeof o){if(!Lr(n,t,r))return r&Er.Host?W0(i,0,r):K0(n,e,r,i);try{let l;if(l=o(r),null!=l||r&Er.Optional)return l;Ta()}finally{Zo()}}else if("number"==typeof o){let l=null,c=$0(t,n),u=is,m=r&Er.Host?n[bi][ro]:null;for((-1===c||r&Er.SkipSelf)&&(u=-1===c?sp(t,n):n[c+8],u!==is&&eT(r,!1)?(l=n[Rn],c=Yd(u),n=$d(u,n)):c=-1);-1!==c;){const x=n[Rn];if(J0(o,c,x.data)){const W=gN(c,n,e,l,r,m);if(W!==ra)return W}u=n[c+8],u!==is&&eT(r,n[Rn].data[c+8]===m)&&J0(o,c,n)?(l=x,c=Yd(u),n=$d(u,n)):c=-1}}return i}function gN(t,n,e,r,i,o){const l=n[Rn],c=l.data[t+8],x=ap(c,l,e,null==r?Ia(c)&&D_:r!=l&&0!=(3&c.type),i&Er.Host&&o===c);return null!==x?ic(n,l,x,c):ra}function ap(t,n,e,r,i){const o=t.providerIndexes,l=n.data,c=1048575&o,u=t.directiveStart,x=o>>20,_e=i?c+x:t.directiveEnd;for(let Re=r?c:c+x;Re<_e;Re++){const Ke=l[Re];if(Re<u&&e===Ke||Re>=u&&Ke.type===e)return Re}if(i){const Re=l[u];if(Re&&ts(Re)&&Re.type===e)return u}return null}function ic(t,n,e,r){let i=t[e];const o=n.data;if(function cN(t){return t instanceof qd}(i)){const l=i;l.resolving&&function Vc(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Gt(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Nr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rr(t)}(o[e]));const c=ip(l.canSeeViewProviders);l.resolving=!0;const m=l.injectImpl?po(l.injectImpl):null;Lr(t,r,Er.Default);try{i=t[e]=l.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&function In(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const l=Q(n);(e.preOrderHooks??=[]).push(t,l),(e.preOrderCheckHooks??=[]).push(t,l)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==m&&po(m),ip(c),l.resolving=!1,Zo()}}return i}function J0(t,n,e){return!!(e[n+(t>>Y0)]&1<<t)}function eT(t,n){return!(t&Er.Self||t&Er.Host&&n)}class Ao{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return X0(this._tNode,this._lView,n,Xs(r),e)}}function yN(){return new Ao(bn(),pt())}function Wi(t){return Cr(()=>{const n=t.prototype.constructor,e=n[vs]||M_(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[vs]||M_(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function M_(t){return Qo(t)?()=>{const n=M_(Hn(t));return n&&n()}:Aa(t)}function tT(t){const n=t[Rn],e=n.type;return 2===e?n.declTNode:1===e?t[ro]:null}function oc(t){return function mN(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(Hl(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===n)return e[i+1];i+=2}}}return null}(bn(),t)}const pu="__parameters__";function gu(t,n,e){return Cr(()=>{const r=function N_(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const l=new i(...o);return c.annotation=l,c;function c(u,m,x){const W=u.hasOwnProperty(pu)?u[pu]:Object.defineProperty(u,pu,{value:[]})[pu];for(;W.length<=x;)W.push(null);return(W[x]=W[x]||[]).push(l),u}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function vu(t,n){t.forEach(e=>Array.isArray(e)?vu(e,n):n(e))}function rT(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function lp(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Xd(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function os(t,n,e){let r=yu(t,n);return r>=0?t[1|r]=e:(r=~r,function AN(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function O_(t,n){const e=yu(t,n);if(e>=0)return t[1|e]}function yu(t,n){return function iT(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const o=r+(i-r>>1),l=t[o<<e];if(n===l)return o<<e;l>n?i=o:r=o+1}return~(i<<e)}(t,n,1)}const bu=Ll(gu("Optional"),8),up=Ll(gu("SkipSelf"),4);function mp(t){return 128==(128&t.flags)}var ll=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ll||{});const $N=/^>|^->|<!--|-->|--!>|<!-$/g,WN=/(<|>)/g,KN="\u200b$1\u200b";const B_=new Map;let XN=0;const V_="__ngContext__";function _o(t,n){uo(n)?(t[V_]=n[Wl],function JN(t){B_.set(t[Wl],t)}(n)):t[V_]=n}let j_;function H_(t,n){return j_(t,n)}function ef(t){const n=t[di];return io(n)?n[di]:n}function ST(t){return IT(t[Yl])}function CT(t){return IT(t[Co])}function IT(t){for(;null!==t&&!io(t);)t=t[Co];return t}function wu(t,n,e,r,i){if(null!=r){let o,l=!1;io(r)?o=r:uo(r)&&(l=!0,r=r[gi]);const c=fe(r);0===t&&null!==e?null==i?RT(n,e,c):sc(n,e,c,i||null,!0):1===t&&null!==e?sc(n,e,c,i||null,!0):2===t?function Tp(t,n,e){const r=bp(t,n);r&&function vO(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,c,l):3===t&&n.destroyNode(c),null!=o&&function EO(t,n,e,r,i){const o=e[es];o!==fe(e)&&wu(n,t,r,o,i);for(let c=Oi;c<e.length;c++){const u=e[c];nf(u[Rn],u,t,n,r,o)}}(n,t,o,e,i)}}function Z_(t,n){return t.createComment(function gT(t){return t.replace($N,n=>n.replace(WN,KN))}(n))}function vp(t,n,e){return t.createElement(n,e)}function DT(t,n){const e=t[tl],r=e.indexOf(n);Be(n),e.splice(r,1)}function yp(t,n){if(t.length<=Oi)return;const e=Oi+n,r=t[e];if(r){const i=r[$l];null!==i&&i!==t&&DT(i,r),n>0&&(t[e-1][Co]=r[Co]);const o=lp(t,Oi+n);!function uO(t,n){nf(t,n,n[ar],2,null,null),n[gi]=null,n[ro]=null}(r[Rn],r);const l=o[jo];null!==l&&l.detachView(o[Rn]),r[di]=null,r[Co]=null,r[dr]&=-129}return r}function z_(t,n){if(!(256&n[dr])){const e=n[ar];n[Kl]&&ep(n[Kl]),n[el]&&ep(n[el]),e.destroyNode&&nf(t,n,e,3,null,null),function hO(t){let n=t[Yl];if(!n)return G_(t[Rn],t);for(;n;){let e=null;if(uo(n))e=n[Yl];else{const r=n[Oi];r&&(e=r)}if(!e){for(;n&&!n[Co]&&n!==t;)uo(n)&&G_(n[Rn],n),n=n[di];null===n&&(n=t),uo(n)&&G_(n[Rn],n),e=n&&n[Co]}n=e}}(n)}}function G_(t,n){if(!(256&n[dr])){n[dr]&=-129,n[dr]|=256,function _O(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof qd)){const o=e[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],u=o[l+1];te(4,c,u);try{u.call(c)}finally{te(5,c,u)}}else{te(4,i,o);try{o.call(i)}finally{te(5,i,o)}}}}}(t,n),function gO(t,n){const e=t.cleanup,r=n[Qa];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const l=e[o+3];l>=0?r[l]():r[-l].unsubscribe(),o+=2}else e[o].call(r[e[o+1]]);null!==r&&(n[Qa]=null);const i=n[Ns];if(null!==i){n[Ns]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,n),1===n[Rn].type&&n[ar].destroy();const e=n[$l];if(null!==e&&io(n[di])){e!==n[di]&&DT(e,n);const r=n[jo];null!==r&&r.detachView(t)}!function eO(t){B_.delete(t[Wl])}(n)}}function q_(t,n,e){return function xT(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[gi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Vo.None||o===Vo.Emulated)return null}return Z(r,e)}}(t,n.parent,e)}function sc(t,n,e,r,i){t.insertBefore(n,e,r,i)}function RT(t,n,e){t.appendChild(n,e)}function MT(t,n,e,r,i){null!==r?sc(t,n,e,r,i):RT(t,n,e)}function bp(t,n){return t.parentNode(n)}function NT(t,n,e){return PT(t,n,e)}let Y_,wp,X_,Sp,PT=function OT(t,n,e){return 40&t.type?Z(t,e):null};function Ep(t,n,e,r){const i=q_(t,r,n),o=n[ar],c=NT(r.parent||n[ro],r,n);if(null!=i)if(Array.isArray(e))for(let u=0;u<e.length;u++)MT(o,i,e[u],c,!1);else MT(o,i,e,c,!1);void 0!==Y_&&Y_(o,r,n,e,i)}function tf(t,n){if(null!==n){const e=n.type;if(3&e)return Z(n,t);if(4&e)return $_(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return tf(t,r);{const i=t[n.index];return io(i)?$_(-1,i):fe(i)}}if(32&e)return H_(n,t)()||fe(t[n.index]);{const r=FT(t,n);return null!==r?Array.isArray(r)?r[0]:tf(ef(t[bi]),r):tf(t,n.next)}}return null}function FT(t,n){return null!==n?t[bi][ro].projection[n.projection]:null}function $_(t,n){const e=Oi+t+1;if(e<n.length){const r=n[e],i=r[Rn].firstChild;if(null!==i)return tf(r,i)}return n[es]}function W_(t,n,e,r,i,o,l){for(;null!=e;){const c=r[e.index],u=e.type;if(l&&0===n&&(c&&_o(fe(c),r),e.flags|=2),32!=(32&e.flags))if(8&u)W_(t,n,e.child,r,i,o,!1),wu(n,t,i,c,o);else if(32&u){const m=H_(e,r);let x;for(;x=m();)wu(n,t,i,x,o);wu(n,t,i,c,o)}else 16&u?BT(t,n,r,e,i,o):wu(n,t,i,c,o);e=l?e.projectionNext:e.next}}function nf(t,n,e,r,i,o){W_(e,r,t.firstChild,n,i,o,!1)}function BT(t,n,e,r,i,o){const l=e[bi],u=l[ro].projection[r.projection];if(Array.isArray(u))for(let m=0;m<u.length;m++)wu(n,t,i,u[m],o);else{let m=u;const x=l[di];mp(r)&&(m.flags|=128),W_(t,n,m,x,i,o,!0)}}function UT(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function VT(t,n,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&Md(t,n,r),null!==i&&UT(t,n,i),null!==o&&function wO(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}function Su(t){return function K_(){if(void 0===wp&&(wp=null,Yr.trustedTypes))try{wp=Yr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wp}()?.createHTML(t)||t}function Cu(){if(void 0!==X_)return X_;if(typeof document<"u")return document;throw new Gt(210,!1)}function Q_(){if(void 0===Sp&&(Sp=null,Yr.trustedTypes))try{Sp=Yr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sp}function jT(t){return Q_()?.createHTML(t)||t}function ZT(t){return Q_()?.createScriptURL(t)||t}class ac{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ms})`}}class DO extends ac{getTypeName(){return"HTML"}}class xO extends ac{getTypeName(){return"Style"}}class RO extends ac{getTypeName(){return"Script"}}class MO extends ac{getTypeName(){return"URL"}}class NO extends ac{getTypeName(){return"ResourceURL"}}function ss(t){return t instanceof ac?t.changingThisBreaksApplicationSecurity:t}function ia(t,n){const e=function OO(t){return t instanceof ac&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${ms})`)}return e===n}class UO{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Su(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class VO{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Su(n),e}}const HO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cp(t){return(t=String(t)).match(HO)?t:"unsafe:"+t}function Ra(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function rf(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const GT=Ra("area,br,col,hr,img,wbr"),qT=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YT=Ra("rp,rt"),J_=rf(GT,rf(qT,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rf(YT,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rf(YT,qT)),ev=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$T=rf(ev,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ZO=Ra("script,style,template");class zO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!J_.hasOwnProperty(e))return this.sanitizedSomething=!0,!ZO.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),l=o.name,c=l.toLowerCase();if(!$T.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;ev[c]&&(u=Cp(u)),this.buf.push(" ",l,'="',WT(u),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();J_.hasOwnProperty(e)&&!GT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(WT(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const GO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qO=/([^\#-~ |!])/g;function WT(t){return t.replace(/&/g,"&amp;").replace(GO,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(qO,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ip;function KT(t,n){let e=null;try{Ip=Ip||function zT(t){const n=new VO(t);return function jO(){try{return!!(new window.DOMParser).parseFromString(Su(""),"text/html")}catch{return!1}}()?new UO(n):n}(t);let r=n?String(n):"";e=Ip.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Ip.getInertBodyElement(r)}while(r!==o);return Su((new zO).sanitizeChildren(tv(e)||e))}finally{if(e){const r=tv(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function tv(t){return"content"in t&&function YO(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ki=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ki||{});function nv(t){const n=sf();return n?jT(n.sanitize(ki.HTML,t)||""):ia(t,"HTML")?jT(ss(t)):KT(Cu(),rr(t))}function XT(t){const n=sf();return n?n.sanitize(ki.STYLE,t)||"":ia(t,"Style")?ss(t):rr(t)}function lc(t){const n=sf();return n?n.sanitize(ki.URL,t)||"":ia(t,"URL")?ss(t):Cp(rr(t))}function QT(t){const n=sf();if(n)return ZT(n.sanitize(ki.RESOURCE_URL,t)||"");if(ia(t,"ResourceURL"))return ZT(ss(t));throw new Gt(904,!1)}function sf(){const t=pt();return t&&t[Ms].sanitizer}class un{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=En({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const af=new un("ENVIRONMENT_INITIALIZER"),ew=new un("INJECTOR",-1),tw=new un("INJECTOR_DEF_TYPES");class rv{get(n,e=kl){if(e===kl){const r=new Error(`NullInjectorError: No provider for ${Ar(n)}!`);throw r.name="NullInjectorError",r}return e}}function iv(t){return{\u0275providers:t}}function QO(...t){return{\u0275providers:nw(0,t),\u0275fromNgModule:!0}}function nw(t,...n){const e=[],r=new Set;let i;const o=l=>{e.push(l)};return vu(n,l=>{const c=l;Ap(c,o,[],r)&&(i||=[],i.push(c))}),void 0!==i&&rw(i,o),e}function rw(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:i}=t[e];ov(i,o=>{n(o,r)})}}function Ap(t,n,e,r){if(!(t=Hn(t)))return!1;let i=null,o=Hc(t);const l=!o&&Dr(t);if(o||l){if(l&&!l.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Hc(u),!o)return!1;i=u}const c=r.has(i);if(l){if(c)return!1;if(r.add(i),l.dependencies){const u="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const m of u)Ap(m,n,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let m;r.add(i);try{vu(o.imports,x=>{Ap(x,n,e,r)&&(m||=[],m.push(x))})}finally{}void 0!==m&&rw(m,n)}if(!c){const m=Aa(i)||(()=>new i);n({provide:i,useFactory:m,deps:Pr},i),n({provide:tw,useValue:i,multi:!0},i),n({provide:af,useValue:()=>Wt(i),multi:!0},i)}const u=o.providers;if(null!=u&&!c){const m=t;ov(u,x=>{n(x,m)})}}}return i!==t&&void 0!==t.providers}function ov(t,n){for(let e of t)co(e)&&(e=e.\u0275providers),Array.isArray(e)?ov(e,n):n(e)}const JO=nr({provide:String,useValue:nr});function sv(t){return null!==t&&"object"==typeof t&&JO in t}function cc(t){return"function"==typeof t}const av=new un("Set Injector scope."),Dp={},tP={};let lv;function xp(){return void 0===lv&&(lv=new rv),lv}class Fs{}class Rp extends Fs{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uv(n,l=>this.processProvider(l)),this.records.set(ew,Iu(void 0,this)),i.has("environment")&&this.records.set(Fs,Iu(void 0,this));const o=this.records.get(av);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tw.multi,Pr,Er.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ks(this),r=po(void 0);try{return n()}finally{Ks(e),po(r)}}get(n,e=kl,r=Er.Default){if(this.assertNotDestroyed(),n.hasOwnProperty($c))return n[$c](this);r=Xs(r);const o=Ks(this),l=po(void 0);try{if(!(r&Er.SkipSelf)){let u=this.records.get(n);if(void 0===u){const m=function sP(t){return"function"==typeof t||"object"==typeof t&&t instanceof un}(n)&&Ga(n);u=m&&this.injectableDefInScope(m)?Iu(cv(n),Dp):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(r&Er.Self?xp():this.parent).get(n,e=r&Er.Optional&&e===kl?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[qc]=c[qc]||[]).unshift(Ar(n)),o)throw c;return function Bl(t,n,e,r){const i=t[qc];throw n[Fl]&&i.unshift(n[Fl]),t.message=function xd(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ar(n);if(Array.isArray(n))i=n.map(Ar).join(" -> ");else if("object"==typeof n){let o=[];for(let l in n)if(n.hasOwnProperty(l)){let c=n[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):Ar(c)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(Ad,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[qc]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{po(l),Ks(o)}}resolveInjectorInitializers(){const n=Ks(this),e=po(void 0);try{const i=this.get(af.multi,Pr,Er.Self);for(const o of i)o()}finally{Ks(n),po(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Ar(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Gt(205,!1)}processProvider(n){let e=cc(n=Hn(n))?n:Hn(n&&n.provide);const r=function rP(t){return sv(t)?Iu(void 0,t.useValue):Iu(sw(t),Dp)}(n);if(cc(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Iu(void 0,Dp,!0),i.factory=()=>Yc(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Dp&&(e.value=tP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function oP(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Hn(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function cv(t){const n=Ga(t),e=null!==n?n.factory:Aa(t);if(null!==e)return e;if(t instanceof un)throw new Gt(204,!1);if(t instanceof Function)return function nP(t){const n=t.length;if(n>0)throw Xd(n,"?"),new Gt(204,!1);const e=function Lh(t){return t&&(t[Ol]||t[Bh])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Gt(204,!1)}function sw(t,n,e){let r;if(cc(t)){const i=Hn(t);return Aa(i)||cv(i)}if(sv(t))r=()=>Hn(t.useValue);else if(function ow(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Yc(t.deps||[]));else if(function iw(t){return!(!t||!t.useExisting)}(t))r=()=>Wt(Hn(t.useExisting));else{const i=Hn(t&&(t.useClass||t.provide));if(!function iP(t){return!!t.deps}(t))return Aa(i)||cv(i);r=()=>new i(...Yc(t.deps))}return r}function Iu(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function uv(t,n){for(const e of t)Array.isArray(e)?uv(e,n):e&&co(e)?uv(e.\u0275providers,n):n(e)}const Mp=new un("AppId",{providedIn:"root",factory:()=>aP}),aP="ng",aw=new un("Platform Initializer"),uc=new un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Es=new un("AnimationModuleType"),dv=new un("CSP nonce",{providedIn:"root",factory:()=>Cu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lw=(t,n,e)=>null;function yv(t,n,e=!1){return lw(t,n,e)}class _P{}class dw{}class yP{resolveComponentFactory(n){throw function vP(t){const n=Error(`No component factory found for ${Ar(t)}.`);return n.ngComponent=t,n}(n)}}let uf=(()=>{class t{static#e=this.NULL=new yP}return t})();function bP(){return xu(bn(),pt())}function xu(t,n){return new xr(Z(t,n))}let xr=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=bP}return t})();function EP(t){return t instanceof xr?t.nativeElement:t}class df{}let Ma=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function TP(){const t=pt(),e=ie(bn().index,t);return(uo(e)?e:t)[ar]}()}return t})(),wP=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>null})}return t})();class dc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const SP=new dc("16.2.8"),Tv={};function Lp(t){if(!Vh()&&!function Hh(){return Ca}())throw new Gt(-203,!1)}function gw(t,n=null,e=null,r){const i=_w(t,n,e,r);return i.resolveInjectorInitializers(),i}function _w(t,n=null,e=null,r,i=new Set){const o=[e||Pr,QO(t)];return r=r||("object"==typeof t?void 0:Ar(t)),new Rp(o,n||xp(),r||null,i)}let Do=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=kl;static#t=this.NULL=new rv;static create(e,r){if(Array.isArray(e))return gw({name:""},r,e,"");{const i=e.name??"";return gw({name:i},e.parent,e.providers,i)}}static#n=this.\u0275prov=En({token:t,providedIn:"any",factory:()=>Wt(ew)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function wv(t){return t.ngOriginalError}class Ts{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&wv(n);for(;e&&wv(e);)e=wv(e);return e||null}}let ff=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=MP;static#t=this.__NG_ENV_ID__=e=>e}return t})();class RP extends ff{constructor(n){super(),this._lView=n}onDestroy(n){return je(this._lView,n),()=>function Ot(t,n){if(null===t[Ns])return;const e=t[Ns].indexOf(n);-1!==e&&t[Ns].splice(e,1)}(this._lView,n)}}function MP(){return new RP(pt())}function Sv(t){return n=>{setTimeout(t,void 0,n)}}const Zr=class NP extends xe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,o=e||(()=>null),l=r;if(n&&"object"==typeof n){const u=n;i=u.next?.bind(u),o=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(o=Sv(o),i&&(i=Sv(i)),l&&(l=Sv(l)));const c=super.subscribe({next:i,error:o,complete:l});return n instanceof H&&n.add(c),c}};function yw(...t){}class ir{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zr(!1),this.onMicrotaskEmpty=new Zr(!1),this.onStable=new Zr(!1),this.onError=new Zr(!1),typeof Zone>"u")throw new Gt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function OP(){const t="function"==typeof Yr.requestAnimationFrame;let n=Yr[t?"requestAnimationFrame":"setTimeout"],e=Yr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function FP(t){const n=()=>{!function kP(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Iv(t),t.isCheckStableRunning=!0,Cv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Iv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,l,c)=>{if(function BP(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(c))return e.invokeTask(i,o,l,c);try{return bw(t),e.invokeTask(i,o,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),Ew(t)}},onInvoke:(e,r,i,o,l,c,u)=>{try{return bw(t),e.invoke(i,o,l,c,u)}finally{t.shouldCoalesceRunChangeDetection&&n(),Ew(t)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Iv(t),Cv(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ir.isInAngularZone())throw new Gt(909,!1)}static assertNotInAngularZone(){if(ir.isInAngularZone())throw new Gt(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,n,PP,yw,yw);try{return o.runTask(l,e,r)}finally{o.cancelTask(l)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const PP={};function Cv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Iv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ew(t){t._nesting--,Cv(t)}const Tw=new un("",{providedIn:"root",factory:ww});function ww(){const t=$t(ir);let n=!0;return To(new Ve(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ve(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ir.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const l=t.onUnstable.subscribe(()=>{ir.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),l.unsubscribe()}}).pipe(Kt()))}function Na(t){return t instanceof Function?t():t}let Av=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>new t})}return t})();function hf(t){for(;t;){t[dr]|=64;const n=ef(t);if(iu(t)&&!n)return t;t=n}return null}const Dw=new un("",{providedIn:"root",factory:()=>!1});let Up=null;function Nw(t,n){return t[n]??kw()}function Ow(t,n){const e=kw();e.producerNode?.length&&(t[n]=Up,e.lView=t,Up=Pw())}const $P={...ec,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hf(t.lView)},lView:null};function Pw(){return Object.create($P)}function kw(){return Up??=Pw(),Up}const mr={};function Xt(t){Fw(on(),pt(),Ei()+t,!1)}function Fw(t,n,e,r){if(!r)if(3==(3&n[dr])){const o=t.preOrderCheckHooks;null!==o&&ur(n,o,e)}else{const o=t.preOrderHooks;null!==o&&fr(n,o,0,e)}go(e)}function yt(t,n=Er.Default){const e=pt();return null===e?Wt(t,n):X0(bn(),e,Hn(t),n)}function Vp(){throw new Error("invalid")}function jp(t,n,e,r,i,o,l,c,u,m,x){const W=n.blueprint.slice();return W[gi]=i,W[dr]=140|r,(null!==m||t&&2048&t[dr])&&(W[dr]|=2048),Pe(W),W[di]=W[Ja]=t,W[yi]=e,W[Ms]=l||t&&t[Ms],W[ar]=c||t&&t[ar],W[Rs]=u||t&&t[Rs]||null,W[ro]=o,W[Wl]=function QN(){return XN++}(),W[Os]=x,W[Yh]=m,W[bi]=2==n.type?t[bi]:W,W}function Nu(t,n,e,r,i){let o=t.data[n];if(null===o)o=function Dv(t,n,e,r,i){const o=xn(),l=lr(),u=t.data[n]=function nk(t,n,e,r,i,o){let l=n?n.injectorIndex:-1,c=0;return Me()&&(c|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(l?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,n,e,r,i),function ze(){return vt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const l=function Ln(){const t=vt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return On(o,!0),o}function pf(t,n,e,r){if(0===e)return-1;const i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Lw(t,n,e,r,i){const o=Nw(n,Kl),l=Ei(),c=2&r;try{go(-1),c&&n.length>Tr&&Fw(t,n,Tr,!1),te(c?2:0,i);const m=c?o:null,x=au(m);try{null!==m&&(m.dirty=!1),e(r,i)}finally{Da(m,x)}}finally{c&&null===n[Kl]&&Ow(n,Kl),go(l),te(c?3:1,i)}}function xv(t,n,e){if(ru(n)){const r=Ho(null);try{const o=n.directiveEnd;for(let l=n.directiveStart;l<o;l++){const c=t.data[l];c.contentQueries&&c.contentQueries(1,e[l],l)}}finally{Ho(r)}}}function Rv(t,n,e){Ne()&&(function ck(t,n,e,r){const i=e.directiveStart,o=e.directiveEnd;Ia(e)&&function gk(t,n,e){const r=Z(n,t),i=Bw(e);let l=16;e.signals?l=4096:e.onPush&&(l=64);const c=Hp(t,jp(t,i,null,l,r,n,null,t[Ms].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=c}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||op(e,n),_o(r,n);const l=e.initialInputs;for(let c=i;c<o;c++){const u=t.data[c],m=ic(n,t,c,e);_o(m,n),null!==l&&_k(0,c-i,m,u,0,l),ts(u)&&(ie(e.index,n)[yi]=ic(n,t,c,e))}}(t,n,e,Z(e,n)),64==(64&e.flags)&&Zw(t,n,e))}function Mv(t,n,e=Z){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],c=-1===l?e(n,t):t[l];t[i++]=c}}}function Bw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Nv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Nv(t,n,e,r,i,o,l,c,u,m,x){const W=Tr+r,_e=W+i,Re=function KP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:mr);return e}(W,_e),Ke="function"==typeof m?m():m;return Re[Rn]={type:t,blueprint:Re,template:e,queries:null,viewQuery:c,declTNode:n,data:Re.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:u,consts:Ke,incompleteFirstPass:!1,ssrId:x}}let Uw=t=>null;function Vw(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const o=t[i];null===r?jw(e,n,i,o):r.hasOwnProperty(i)&&jw(e,n,r[i],o)}return e}function jw(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function as(t,n,e,r,i,o,l,c){const u=Z(n,e);let x,m=n.inputs;!c&&null!=m&&(x=m[r])?(Lv(t,e,x,r,i),Ia(n)&&function ok(t,n){const e=ie(n,t);16&e[dr]||(e[dr]|=64)}(e,n.index)):3&n.type&&(r=function ik(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=l?l(i,n.value||"",r):i,o.setProperty(u,r,i))}function Ov(t,n,e,r){if(Ne()){const i=null===r?null:{"":-1},o=function dk(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const l=e[o];if(Qc(n,l.selectors,!1))if(r||(r=[]),ts(l))if(null!==l.findHostDirectiveDefs){const c=[];i=i||new Map,l.findHostDirectiveDefs(l,c,i),r.unshift(...c,l),Pv(t,n,c.length)}else r.unshift(l),Pv(t,n,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,r,i),r.push(l)}return null===r?null:[r,i]}(t,e);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&Hw(t,n,e,l,i,c),i&&function fk(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const o=e[n[i+1]];if(null==o)throw new Gt(-301,!1);r.push(n[i],o)}}}(e,r,i)}e.mergedAttrs=Zl(e.mergedAttrs,e.attrs)}function Hw(t,n,e,r,i,o){for(let m=0;m<r.length;m++)R_(op(e,n),t,r[m].type);!function pk(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let m=0;m<r.length;m++){const x=r[m];x.providersResolver&&x.providersResolver(x)}let l=!1,c=!1,u=pf(t,n,r.length,null);for(let m=0;m<r.length;m++){const x=r[m];e.mergedAttrs=Zl(e.mergedAttrs,x.hostAttrs),mk(t,e,n,u,x),hk(u,x,i),null!==x.contentQueries&&(e.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(e.flags|=64);const W=x.type.prototype;!l&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),l=!0),!c&&(W.ngOnChanges||W.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),c=!0),u++}!function rk(t,n,e){const i=n.directiveEnd,o=t.data,l=n.attrs,c=[];let u=null,m=null;for(let x=n.directiveStart;x<i;x++){const W=o[x],_e=e?e.get(W):null,Ke=_e?_e.outputs:null;u=Vw(W.inputs,x,u,_e?_e.inputs:null),m=Vw(W.outputs,x,m,Ke);const ct=null===u||null===l||zl(n)?null:vk(u,x,l);c.push(ct)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=c,n.inputs=u,n.outputs=m}(t,e,o)}function Zw(t,n,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,l=function At(){return vt.lFrame.currentDirectiveIndex}();try{go(o);for(let c=r;c<i;c++){const u=t.data[c],m=n[c];tn(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&uk(u,m)}}finally{go(-1),tn(l)}}function uk(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Pv(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function hk(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;ts(n)&&(e[""]=t)}}function mk(t,n,e,r,i){t.data[r]=i;const o=i.factory||(i.factory=Aa(i.type)),l=new qd(o,ts(i),yt);t.blueprint[r]=l,e[r]=l,function ak(t,n,e,r,i){const o=i.hostBindings;if(o){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const c=~n.index;(function lk(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(l)!=c&&l.push(c),l.push(e,r,o)}}(t,n,r,pf(t,e,i.hostVars,mr),i)}function oa(t,n,e,r,i,o){const l=Z(t,n);!function kv(t,n,e,r,i,o,l){if(null==o)t.removeAttribute(n,i,e);else{const c=null==l?rr(o):l(o,r||"",i);t.setAttribute(n,i,c,e)}}(n[ar],l,o,t.value,e,r,i)}function _k(t,n,e,r,i,o){const l=o[n];if(null!==l)for(let c=0;c<l.length;)zw(r,e,l[c++],l[c++],l[c++])}function zw(t,n,e,r,i){const o=Ho(null);try{const l=t.inputTransforms;null!==l&&l.hasOwnProperty(r)&&(i=l[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{Ho(o)}}function vk(t,n,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const l=t[o];for(let c=0;c<l.length;c+=2)if(l[c]===n){r.push(o,l[c+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Gw(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function qw(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const l=t.data[o];Fr(e[r]),l.contentQueries(2,n[o],o)}}}function Hp(t,n){return t[Yl]?t[Fd][Co]=n:t[Yl]=n,t[Fd]=n,n}function Fv(t,n,e){Fr(0);const r=Ho(null);try{n(t,e)}finally{Ho(r)}}function Yw(t){return t[Qa]||(t[Qa]=[])}function $w(t){return t.cleanup||(t.cleanup=[])}function Kw(t,n){const e=t[Rs],r=e?e.get(Ts,null):null;r&&r.handleError(n)}function Lv(t,n,e,r,i){for(let o=0;o<e.length;){const l=e[o++],c=e[o++];zw(t.data[l],n[l],r,c,i)}}function Oa(t,n,e){const r=q(n,t);!function AT(t,n,e){t.setValue(n,e)}(t[ar],r,e)}function yk(t,n){const e=ie(n,t),r=e[Rn];!function bk(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[gi];null!==i&&null===e[Os]&&(e[Os]=yv(i,e[Rs])),Bv(r,e,e[yi])}function Bv(t,n,e){Pi(n);try{const r=t.viewQuery;null!==r&&Fv(1,r,e);const i=t.template;null!==i&&Lw(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qw(t,n),t.staticViewQueries&&Fv(2,t.viewQuery,e);const o=t.components;null!==o&&function Ek(t,n){for(let e=0;e<n.length;e++)yk(t,n[e])}(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[dr]&=-5,rs()}}let Xw=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const o=typeof Zone>"u"?null:Zone.current,l=function F(t,n,e){const r=Object.create(C);e&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=n;const i=l=>{r.cleanupFn=l};return r.ref={notify:()=>su(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Jh(r))return;r.hasRun=!0;const l=au(r);try{r.cleanupFn(),r.cleanupFn=P,r.fn(i)}finally{Da(r,l)}},cleanup:()=>r.cleanupFn()},r.ref}(e,m=>{this.all.has(m)&&this.queue.set(m,o)},i);let c;this.all.add(l),l.notify();const u=()=>{l.cleanup(),c?.(),this.all.delete(l),this.queue.delete(l)};return c=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>new t})}return t})();function Zp(t,n){!n?.injector&&Lp();const e=n?.injector??$t(Do),r=e.get(Xw),i=!0!==n?.manualCleanup?e.get(ff):null;return r.create(t,i,!!n?.allowSignalWrites)}function zp(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(null!==n)for(let l=0;l<n.length;l++){const c=n[l];"number"==typeof c?o=c:1==o?i=ai(i,c):2==o&&(r=ai(r,c+": "+n[++l]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function mf(t,n,e,r,i=!1){for(;null!==e;){const o=n[e.index];null!==o&&r.push(fe(o)),io(o)&&Qw(o,r);const l=e.type;if(8&l)mf(t,n,e.child,r);else if(32&l){const c=H_(e,n);let u;for(;u=c();)r.push(u)}else if(16&l){const c=FT(n,e);if(Array.isArray(c))r.push(...c);else{const u=ef(n[bi]);mf(u[Rn],u,c,r,!0)}}e=i?e.projectionNext:e.next}return r}function Qw(t,n){for(let e=Oi;e<t.length;e++){const r=t[e],i=r[Rn].firstChild;null!==i&&mf(r[Rn],r,i,n)}t[es]!==t[gi]&&n.push(t[es])}function Gp(t,n,e,r=!0){const i=n[Ms],o=i.rendererFactory,l=i.afterRenderEventManager;o.begin?.(),l?.begin();try{Jw(t,n,t.template,e)}catch(u){throw r&&Kw(n,u),u}finally{o.end?.(),i.effectManager?.flush(),l?.end()}}function Jw(t,n,e,r){const i=n[dr];if(256!=(256&i)){n[Ms].effectManager?.flush(),Pi(n);try{Pe(n),function ht(t){return vt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Lw(t,n,e,2,r);const l=3==(3&i);if(l){const m=t.preOrderCheckHooks;null!==m&&ur(n,m,null)}else{const m=t.preOrderHooks;null!==m&&fr(n,m,0,null),qn(n,0)}if(function wk(t){for(let n=ST(t);null!==n;n=CT(n)){if(!n[Ld])continue;const e=n[tl];for(let r=0;r<e.length;r++){Xe(e[r])}}}(n),eS(n,2),null!==t.contentQueries&&qw(t,n),l){const m=t.contentCheckHooks;null!==m&&ur(n,m)}else{const m=t.contentHooks;null!==m&&fr(n,m,1),qn(n,1)}!function WP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=Nw(n,el);try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)go(~o);else{const l=o,c=e[++i],u=e[++i];rt(c,l),r.dirty=!1;const m=au(r);try{u(2,n[l])}finally{Da(r,m)}}}}finally{null===n[el]&&Ow(n,el),go(-1)}}(t,n);const c=t.components;null!==c&&nS(n,c,0);const u=t.viewQuery;if(null!==u&&Fv(2,u,r),l){const m=t.viewCheckHooks;null!==m&&ur(n,m)}else{const m=t.viewHooks;null!==m&&fr(n,m,2),qn(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[dr]&=-73,Be(n)}finally{rs()}}}function eS(t,n){for(let e=ST(t);null!==e;e=CT(e))for(let r=Oi;r<e.length;r++)tS(e[r],n)}function Sk(t,n,e){tS(ie(n,t),e)}function tS(t,n){if(!function ce(t){return 128==(128&t[dr])}(t))return;const e=t[Rn],r=t[dr];if(80&r&&0===n||1024&r||2===n)Jw(e,t,e.template,t[yi]);else if(t[Xa]>0){eS(t,1);const i=e.components;null!==i&&nS(t,i,1)}}function nS(t,n,e){for(let r=0;r<n.length;r++)Sk(t,n[r],e)}class gf{get rootNodes(){const n=this._lView,e=n[Rn];return mf(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yi]}set context(n){this._lView[yi]=n}get destroyed(){return 256==(256&this._lView[dr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[di];if(io(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(yp(n,r),lp(e,r))}this._attachedToViewContainer=!1}z_(this._lView[Rn],this._lView)}onDestroy(n){je(this._lView,n)}markForCheck(){hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[dr]&=-129}reattach(){this._lView[dr]|=128}detectChanges(){Gp(this._lView[Rn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Gt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fO(t,n){nf(t,n,n[ar],2,null,null)}(this._lView[Rn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Gt(902,!1);this._appRef=n}}class Ck extends gf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Gp(n[Rn],n,n[yi],!1)}checkNoChanges(){}get context(){return null}}class rS extends uf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Dr(n);return new _f(e,this.ngModule)}}function iS(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class Ak{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=Xs(r);const i=this.injector.get(n,Tv,r);return i!==Tv||e===Tv?i:this.parentInjector.get(n,e,r)}}class _f extends dw{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=iS(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return iS(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Wa(t){return t.map(g_).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=(i=i||this.ngModule)instanceof Fs?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new Ak(n,o):n,c=l.get(df,null);if(null===c)throw new Gt(407,!1);const W={rendererFactory:c,sanitizer:l.get(wP,null),effectManager:l.get(Xw,null),afterRenderEventManager:l.get(Av,null)},_e=c.createRenderer(null,this.componentDef),Re=this.componentDef.selectors[0][0]||"div",Ke=r?function XP(t,n,e,r){const o=r.get(Dw,!1)||e===Vo.ShadowDom,l=t.selectRootElement(n,o);return function QP(t){Uw(t)}(l),l}(_e,r,this.componentDef.encapsulation,l):vp(_e,Re,function Ik(t){const n=t.toLowerCase();return"svg"===n?Te:"math"===n?"math":null}(Re)),Qt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Mt=null;null!==Ke&&(Mt=yv(Ke,l,!0));const Mn=Nv(0,null,null,1,0,null,null,null,null,null,null),kn=jp(null,Mn,null,Qt,null,null,W,_e,l,null,Mt);let hr,oi;Pi(kn);try{const pi=this.componentDef;let ho,hs=null;pi.findHostDirectiveDefs?(ho=[],hs=new Map,pi.findHostDirectiveDefs(pi,ho,hs),ho.push(pi)):ho=[pi];const qs=function xk(t,n){const e=t[Rn],r=Tr;return t[r]=n,Nu(e,r,2,"#host",null)}(kn,Ke),e_=function Rk(t,n,e,r,i,o,l){const c=i[Rn];!function Mk(t,n,e,r){for(const i of t)n.mergedAttrs=Zl(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(zp(n,n.mergedAttrs,!0),null!==e&&VT(r,e,n))}(r,t,n,l);let u=null;null!==n&&(u=yv(n,i[Rs]));const m=o.rendererFactory.createRenderer(n,e);let x=16;e.signals?x=4096:e.onPush&&(x=64);const W=jp(i,Bw(e),null,x,i[t.index],t,o,m,null,null,u);return c.firstCreatePass&&Pv(c,t,r.length-1),Hp(i,W),i[t.index]=W}(qs,Ke,pi,ho,kn,W,_e);oi=L(Mn,Tr),Ke&&function Ok(t,n,e,r){if(r)Md(t,e,["ng-version",SP.full]);else{const{attrs:i,classes:o}=function Od(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&n.push(o,t[++r]):8===i&&e.push(o);else{if(!So(i))break;i=o}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&Md(t,e,i),o&&o.length>0&&UT(t,e,o.join(" "))}}(_e,pi,Ke,r),void 0!==e&&function Pk(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(oi,this.ngContentSelectors,e),hr=function Nk(t,n,e,r,i,o){const l=bn(),c=i[Rn],u=Z(l,i);Hw(c,i,l,e,null,r);for(let x=0;x<e.length;x++)_o(ic(i,c,l.directiveStart+x,l),i);Zw(c,i,l),u&&_o(u,i);const m=ic(i,c,l.directiveStart+l.componentOffset,l);if(t[yi]=i[yi]=m,null!==o)for(const x of o)x(m,n);return xv(c,l,t),m}(e_,pi,ho,hs,kn,[kk]),Bv(Mn,kn,null)}finally{rs()}return new Dk(this.componentType,hr,xu(oi,kn),kn,oi)}}class Dk extends _P{constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Ck(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;Lv(o[Rn],o,i,n,e),this.previousInputValues.set(n,e),hf(ie(this._tNode.index,o))}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function kk(){const t=bn();Un(pt()[Rn],t)}function gr(t){let n=function oS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(ts(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Gt(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const l=t;l.inputs=qp(t.inputs),l.inputTransforms=qp(t.inputTransforms),l.declaredInputs=qp(t.declaredInputs),l.outputs=qp(t.outputs);const c=i.hostBindings;c&&Uk(t,c);const u=i.viewQuery,m=i.contentQueries;if(u&&Lk(t,u),m&&Bk(t,m),Mr(t.inputs,i.inputs),Mr(t.declaredInputs,i.declaredInputs),Mr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===l.inputTransforms&&(l.inputTransforms={}),Mr(l.inputTransforms,i.inputTransforms)),ts(i)&&i.data.animation){const x=t.data;x.animation=(x.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(t),c===gr&&(e=!1)}}n=Object.getPrototypeOf(n)}!function Fk(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Zl(i.hostAttrs,e=Zl(e,i.hostAttrs))}}(r)}function qp(t){return t===wo?{}:t===Pr?[]:t}function Lk(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function Bk(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,o)=>{n(r,i,o),e(r,i,o)}:n}function Uk(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function cS(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}t.inputTransforms=e}function Yp(t){return!!Uv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Uv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sa(t,n,e){return t[n]=e}function vo(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function fc(t,n,e,r){const i=vo(t,n,e);return vo(t,n+1,r)||i}function ni(t,n,e,r){const i=pt();return vo(i,kt(),n)&&(on(),oa(Vr(),i,t,n,e,r)),ni}function ku(t,n,e,r,i,o){const c=fc(t,function pn(){return vt.lFrame.bindingIndex}(),e,i);return at(2),c?n+rr(e)+r+rr(i)+o:mr}function An(t,n,e,r,i,o,l,c){const u=pt(),m=on(),x=t+Tr,W=m.firstCreatePass?function uF(t,n,e,r,i,o,l,c,u){const m=n.consts,x=Nu(n,t,4,l||null,we(m,c));Ov(n,e,x,we(m,u)),Un(n,x);const W=x.tView=Nv(2,x,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,m,null);return null!==n.queries&&(n.queries.template(n,x),W.queries=n.queries.embeddedTView(x)),x}(x,m,u,n,e,r,i,o,l):m.data[x];On(W,!1);const _e=TS(m,u,W,t);_t()&&Ep(m,u,_e,W),_o(_e,u),Hp(u,u[x]=Gw(_e,u,_e,W)),Ql(W)&&Rv(m,u,W),null!=l&&Mv(u,W,c)}let TS=function wS(t,n,e,r){return Yt(!0),n[ar].createComment("")};function Fi(t){return se(function cr(){return vt.lFrame.contextLView}(),Tr+t)}function qt(t,n,e){const r=pt();return vo(r,kt(),n)&&as(on(),Vr(),r,t,n,r[ar],e,!1),qt}function Gv(t,n,e,r,i){const l=i?"class":"style";Lv(t,e,n.inputs[l],l,r)}function sn(t,n,e,r){const i=pt(),o=on(),l=Tr+t,c=i[ar],u=o.firstCreatePass?function pF(t,n,e,r,i,o){const l=n.consts,u=Nu(n,t,2,r,we(l,i));return Ov(n,e,u,we(l,o)),null!==u.attrs&&zp(u,u.attrs,!1),null!==u.mergedAttrs&&zp(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(l,o,i,n,e,r):o.data[l],m=SS(o,i,u,c,n,t);i[l]=m;const x=Ql(u);return On(u,!0),VT(c,m,u),32!=(32&u.flags)&&_t()&&Ep(o,i,m,u),0===function hn(){return vt.lFrame.elementDepthCount}()&&_o(m,i),function Le(){vt.lFrame.elementDepthCount++}(),x&&(Rv(o,i,u),xv(o,u,i)),null!==r&&Mv(i,u),sn}function dn(){let t=bn();lr()?Qn():(t=t.parent,On(t,!1));const n=t;(function We(t){return vt.skipHydrationRootTNode===t})(n)&&function Ft(){vt.skipHydrationRootTNode=null}(),function it(){vt.lFrame.elementDepthCount--}();const e=on();return e.firstCreatePass&&(Un(e,t),ru(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function uN(t){return 0!=(8&t.flags)}(n)&&Gv(e,n,pt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function dN(t){return 0!=(16&t.flags)}(n)&&Gv(e,n,pt(),n.stylesWithoutHost,!1),dn}function Wn(t,n,e,r){return sn(t,n,e,r),dn(),Wn}let SS=(t,n,e,r,i,o)=>(Yt(!0),vp(r,i,function sl(){return vt.lFrame.currentNamespace}()));function aa(t,n,e){const r=pt(),i=on(),o=t+Tr,l=i.firstCreatePass?function _F(t,n,e,r,i){const o=n.consts,l=we(o,r),c=Nu(n,t,8,"ng-container",l);return null!==l&&zp(c,l,!0),Ov(n,e,c,we(o,i)),null!==n.queries&&n.queries.elementStart(n,c),c}(o,i,r,n,e):i.data[o];On(l,!0);const c=CS(i,r,l,t);return r[o]=c,_t()&&Ep(i,r,c,l),_o(c,r),Ql(l)&&(Rv(i,r,l),xv(i,l,r)),null!=e&&Mv(r,l),aa}function la(){let t=bn();const n=on();return lr()?Qn():(t=t.parent,On(t,!1)),n.firstCreatePass&&(Un(n,t),ru(t)&&n.queries.elementEnd(t)),la}function Tf(t,n,e){return aa(t,n,e),la(),Tf}let CS=(t,n,e,r)=>(Yt(!0),Z_(n[ar],""));function Ii(){return pt()}function wf(t){return!!t&&"function"==typeof t.then}function IS(t){return!!t&&"function"==typeof t.subscribe}function or(t,n,e,r){const i=pt(),o=on(),l=bn();return function DS(t,n,e,r,i,o,l){const c=Ql(r),m=t.firstCreatePass&&$w(t),x=n[yi],W=Yw(n);let _e=!0;if(3&r.type||l){const ct=Z(r,n),Bt=l?l(ct):ct,Qt=W.length,Mt=l?kn=>l(fe(kn[r.index])):r.index;let Mn=null;if(!l&&c&&(Mn=function bF(t,n,e,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===e&&i[o+1]===r){const c=n[Qa],u=i[o+2];return c.length>u?c[u]:null}"string"==typeof l&&(o+=2)}return null}(t,n,i,r.index)),null!==Mn)(Mn.__ngLastListenerFn__||Mn).__ngNextListenerFn__=o,Mn.__ngLastListenerFn__=o,_e=!1;else{o=RS(r,n,x,o,!1);const kn=e.listen(Bt,i,o);W.push(o,kn),m&&m.push(i,Mt,Qt,Qt+1)}}else o=RS(r,n,x,o,!1);const Re=r.outputs;let Ke;if(_e&&null!==Re&&(Ke=Re[i])){const ct=Ke.length;if(ct)for(let Bt=0;Bt<ct;Bt+=2){const hr=n[Ke[Bt]][Ke[Bt+1]].subscribe(o),oi=W.length;W.push(o,hr),m&&m.push(i,r.index,oi,-(oi+1))}}}(o,i,i[ar],l,t,n,r),or}function xS(t,n,e,r){try{return te(6,n,e),!1!==e(r)}catch(i){return Kw(t,i),!1}finally{te(7,n,e)}}function RS(t,n,e,r,i){return function o(l){if(l===Function)return r;hf(t.componentOffset>-1?ie(t.index,n):n);let u=xS(n,e,r,l),m=o.__ngNextListenerFn__;for(;m;)u=xS(n,e,m,l)&&u,m=m.__ngNextListenerFn__;return i&&!1===u&&l.preventDefault(),u}}function Nn(t=1){return function Io(t){return(vt.lFrame.contextLView=function Ps(t,n){for(;t>0;)n=n[Ja],t--;return n}(t,vt.lFrame.contextLView))[yi]}(t)}function EF(t,n){let e=null;const r=function h_(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?Qc(t,o,!0):m_(r,o))return i}else e=i}return e}function ca(t){const n=pt()[bi][ro];if(!n.projection){const r=n.projection=Xd(t?t.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const l=t?EF(o,t):0;null!==l&&(i[l]?i[l].projectionNext=o:r[l]=o,i[l]=o),o=o.next}}}function Ai(t,n=0,e){const r=pt(),i=on(),o=Nu(i,Tr+t,16,null,e||null);null===o.projection&&(o.projection=n),Qn(),(!r[Os]||Me())&&32!=(32&o.flags)&&function bO(t,n,e){BT(n[ar],0,n,e,q_(t,e,n),NT(e.parent||n[ro],e,n))}(i,r,o)}function Qp(t,n){return t<<17|n<<2}function cl(t){return t>>17&32767}function Yv(t){return 2|t}function hc(t){return(131068&t)>>2}function $v(t,n){return-131069&t|n<<2}function Wv(t){return 1|t}function VS(t,n,e,r,i){const o=t[e+1],l=null===n;let c=r?cl(o):hc(o),u=!1;for(;0!==c&&(!1===u||l);){const x=t[c+1];AF(t[c],n)&&(u=!0,t[c+1]=r?Wv(x):Yv(x)),c=r?cl(x):hc(x)}u&&(t[e+1]=r?Yv(o):Wv(o))}function AF(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&yu(t,n)>=0}function Zu(t,n,e){return Ls(t,n,e,!1),Zu}function Ti(t,n){return Ls(t,n,null,!0),Ti}function Ls(t,n,e,r){const i=pt(),o=on(),l=at(2);o.firstUpdatePass&&function $S(t,n,e,r){const i=t.data;if(null===i[e+1]){const o=i[Ei()],l=function YS(t,n){return n>=t.expandoStartIndex}(t,e);(function QS(t,n){return 0!=(t.flags&(n?8:16))})(o,r)&&null===n&&!l&&(n=!1),n=function FF(t,n,e,r){const i=function gn(t){const n=vt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Sf(e=Kv(null,t,n,e,r),n.attrs,r),o=null);else{const l=n.directiveStylingLast;if(-1===l||t[l]!==i)if(e=Kv(i,t,n,e,r),null===o){let u=function LF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==hc(r))return t[cl(r)]}(t,n,r);void 0!==u&&Array.isArray(u)&&(u=Kv(null,t,n,u[1],r),u=Sf(u,n.attrs,r),function BF(t,n,e,r){t[cl(e?n.classBindings:n.styleBindings)]=r}(t,n,r,u))}else o=function UF(t,n,e){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Sf(r,t[o].hostAttrs,e);return Sf(r,n.attrs,e)}(t,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),e}(i,o,n,r),function CF(t,n,e,r,i,o){let l=o?n.classBindings:n.styleBindings,c=cl(l),u=hc(l);t[r]=e;let x,m=!1;if(Array.isArray(e)?(x=e[1],(null===x||yu(e,x)>0)&&(m=!0)):x=e,i)if(0!==u){const _e=cl(t[c+1]);t[r+1]=Qp(_e,c),0!==_e&&(t[_e+1]=$v(t[_e+1],r)),t[c+1]=function wF(t,n){return 131071&t|n<<17}(t[c+1],r)}else t[r+1]=Qp(c,0),0!==c&&(t[c+1]=$v(t[c+1],r)),c=r;else t[r+1]=Qp(u,0),0===c?c=r:t[u+1]=$v(t[u+1],r),u=r;m&&(t[r+1]=Yv(t[r+1])),VS(t,x,r,!0),VS(t,x,r,!1),function IF(t,n,e,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&yu(o,n)>=0&&(e[r+1]=Wv(e[r+1]))}(n,x,t,r,o),l=Qp(c,u),o?n.classBindings=l:n.styleBindings=l}(i,o,n,e,l,r)}}(o,t,l,r),n!==mr&&vo(i,l,n)&&function KS(t,n,e,r,i,o,l,c){if(!(3&n.type))return;const u=t.data,m=u[c+1],x=function SF(t){return 1==(1&t)}(m)?XS(u,n,e,i,hc(m),l):void 0;Jp(x)||(Jp(o)||function TF(t){return 2==(2&t)}(m)&&(o=XS(u,null,e,i,c,l)),function TO(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:ll.DashCase;null==i?t.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ll.Important),t.setStyle(e,r,i,o))}}(r,l,q(Ei(),e),i,o))}(o,o.data[Ei()],i,i[ar],t,i[l+1]=function ZF(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ar(ss(t)))),t}(n,e),r,l)}function Kv(t,n,e,r,i){let o=null;const l=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<l&&(o=n[c],r=Sf(r,o.hostAttrs,i),o!==t);)c++;return null!==t&&(e.directiveStylingLast=c),r}function Sf(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?i=l:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),os(t,l,!!e||n[++o]))}return void 0===t?null:t}function XS(t,n,e,r,i,o){const l=null===n;let c;for(;i>0;){const u=t[i],m=Array.isArray(u),x=m?u[1]:u,W=null===x;let _e=e[i+1];_e===mr&&(_e=W?Pr:void 0);let Re=W?O_(_e,r):x===r?_e:void 0;if(m&&!Jp(Re)&&(Re=O_(u,r)),Jp(Re)&&(c=Re,l))return c;const Ke=t[i+1];i=l?cl(Ke):hc(Ke)}if(null!==n){let u=o?n.residualClasses:n.residualStyles;null!=u&&(c=O_(u,r))}return c}function Jp(t){return void 0!==t}function Or(t,n=""){const e=pt(),r=on(),i=t+Tr,o=r.firstCreatePass?Nu(r,i,1,n,null):r.data[i],l=JS(r,e,o,n,t);e[i]=l,_t()&&Ep(r,e,l,o),On(o,!1)}let JS=(t,n,e,r,i)=>(Yt(!0),function _p(t,n){return t.createText(n)}(n[ar],r));function xo(t){return Go("",t,""),xo}function Go(t,n,e){const r=pt(),i=function Pu(t,n,e,r){return vo(t,kt(),e)?n+rr(e)+r:mr}(r,t,n,e);return i!==mr&&Oa(r,Ei(),i),Go}function em(t,n,e,r,i){const o=pt(),l=ku(o,t,n,e,r,i);return l!==mr&&Oa(o,Ei(),l),em}function Cf(t,n,e){const r=pt();return vo(r,kt(),n)&&as(on(),Vr(),r,t,n,r[ar],e,!0),Cf}const Gu="en-US";let yC=Gu;function Jv(t,n,e,r,i){if(t=Hn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Jv(t[o],n,e,r,i);else{const o=on(),l=pt(),c=bn();let u=cc(t)?t:Hn(t.provide);const m=sw(t),x=1048575&c.providerIndexes,W=c.directiveStart,_e=c.providerIndexes>>20;if(cc(t)||!t.multi){const Re=new qd(m,i,yt),Ke=ty(u,n,i?x:x+_e,W);-1===Ke?(R_(op(c,l),o,u),ey(o,t,n.length),n.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(Re),l.push(Re)):(e[Ke]=Re,l[Ke]=Re)}else{const Re=ty(u,n,x+_e,W),Ke=ty(u,n,x,x+_e),Bt=Ke>=0&&e[Ke];if(i&&!Bt||!i&&!(Re>=0&&e[Re])){R_(op(c,l),o,u);const Qt=function d2(t,n,e,r,i){const o=new qd(t,e,yt);return o.multi=[],o.index=n,o.componentProviders=0,zC(o,i,r&&!e),o}(i?u2:c2,e.length,i,r,m);!i&&Bt&&(e[Ke].providerFactory=Qt),ey(o,t,n.length,0),n.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(Qt),l.push(Qt)}else ey(o,t,Re>-1?Re:Ke,zC(e[i?Ke:Re],m,!i&&r));!i&&r&&Bt&&e[Ke].componentProviders++}}}function ey(t,n,e,r){const i=cc(n),o=function eP(t){return!!t.useClass}(n);if(i||o){const u=(o?Hn(n.useClass):n).prototype.ngOnDestroy;if(u){const m=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const x=m.indexOf(e);-1===x?m.push(e,[r,u]):m[x+1].push(r,u)}else m.push(e,u)}}}function zC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function ty(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function c2(t,n,e,r){return ny(this.multi,[])}function u2(t,n,e,r){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=ic(e,e[Rn],this.providerFactory.index,r);o=c.slice(0,l),ny(i,o);for(let u=l;u<c.length;u++)o.push(c[u])}else o=[],ny(i,o);return o}function ny(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function $r(t,n=[]){return e=>{e.providersResolver=(r,i)=>function l2(t,n,e){const r=on();if(r.firstCreatePass){const i=ts(t);Jv(e,r.data,r.blueprint,i,!0),Jv(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class mc{}class GC{}class ry extends mc{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rS(this);const i=mo(n);this._bootstrapComponents=Na(i.bootstrap),this._r3Injector=_w(n,e,[{provide:mc,useValue:this},{provide:uf,useValue:this.componentFactoryResolver},...r],Ar(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class iy extends GC{constructor(n){super(),this.moduleType=n}create(n){return new ry(this.moduleType,n,[])}}class qC extends mc{constructor(n){super(),this.componentFactoryResolver=new rS(this),this.instance=null;const e=new Rp([...n.providers,{provide:mc,useValue:this},{provide:uf,useValue:this.componentFactoryResolver}],n.parent||xp(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function YC(t,n,e=null){return new qC({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let p2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=nw(0,e.type),i=r.length>0?YC([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=En({token:t,providedIn:"environment",factory:()=>new t(Wt(Fs))})}return t})();function Qr(t){t.getStandaloneInjector=n=>n.get(p2).getOrCreateStandaloneInjector(t)}function fa(t,n,e,r){return eI(pt(),mn(),t,n,e,r)}function sy(t,n,e,r,i){return function tI(t,n,e,r,i,o,l){const c=n+e;return fc(t,c,i,o)?sa(t,c+2,l?r.call(l,i,o):r(i,o)):Mf(t,c+2)}(pt(),mn(),t,n,e,r,i)}function Mf(t,n){const e=t[n];return e===mr?void 0:e}function eI(t,n,e,r,i,o){const l=n+e;return vo(t,l,i)?sa(t,l+1,o?r.call(o,i):r(i)):Mf(t,l+1)}function ul(t,n){const e=on();let r;const i=t+Tr;e.firstCreatePass?(r=function M2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=Aa(r.type)),c=po(yt);try{const u=ip(!1),m=o();return ip(u),function hF(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,pt(),i,m),m}finally{po(c)}}function dl(t,n,e){const r=t+Tr,i=pt(),o=se(i,r);return function Nf(t,n){return t[Rn].data[n].pure}(i,r)?eI(i,mn(),n,o.transform,e,o):o.transform(e)}function F2(){return this._results[Symbol.iterator]()}class qu{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Zr)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=qu.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=F2)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function bs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function CN(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function B2(t,n,e,r=!0){const i=n[Rn];if(function pO(t,n,e,r){const i=Oi+r,o=e.length;r>0&&(e[i-1][Co]=n),r<o-Oi?(n[Co]=e[i],rT(e,Oi+r,n)):(e.push(n),n[Co]=null),n[di]=e;const l=n[$l];null!==l&&e!==l&&function mO(t,n){const e=t[tl];n[bi]!==n[di][di][bi]&&(t[Ld]=!0),null===e?t[tl]=[n]:e.push(n)}(l,n);const c=n[jo];null!==c&&c.insertView(t),n[dr]|=128}(i,n,t,e),r){const o=$_(e,t),l=n[ar],c=bp(l,t[es]);null!==c&&function dO(t,n,e,r,i,o){r[gi]=i,r[ro]=n,nf(t,r,e,1,i,o)}(i,t[ro],l,n,c,o)}}let ha=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=j2}return t})();const U2=ha,V2=class extends U2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const i=function L2(t,n,e,r){const i=n.tView,c=jp(t,i,e,4096&t[dr]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);c[$l]=t[n.index];const m=t[jo];return null!==m&&(c[jo]=m.createEmbeddedView(i)),Bv(i,c,e),c}(this._declarationLView,this._declarationTContainer,n,{injector:e,hydrationInfo:r});return new gf(i)}};function j2(){return om(bn(),pt())}function om(t,n){return 4&t.type?new V2(n,t,xu(t,n)):null}let ls=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Y2}return t})();function Y2(){return dI(bn(),pt())}const $2=ls,cI=class extends $2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return xu(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const n=sp(this._hostTNode,this._hostLView);if(A_(n)){const e=$d(n,this._hostLView),r=Yd(n);return new Ao(e[Rn].data[r+8],e)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=uI(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Oi}createEmbeddedView(n,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const c=n.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(c,i,false),c}createComponent(n,e,r,i,o){const l=n&&!function Kd(t){return"function"==typeof t}(n);let c;if(l)c=e;else{const ct=e||{};c=ct.index,r=ct.injector,i=ct.projectableNodes,o=ct.environmentInjector||ct.ngModuleRef}const u=l?n:new _f(Dr(n)),m=r||this.parentInjector;if(!o&&null==u.ngModule){const Bt=(l?m:this.parentInjector).get(Fs,null);Bt&&(o=Bt)}Dr(u.componentType??{});const Re=u.create(m,i,null,o);return this.insertImpl(Re.hostView,c,false),Re}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView;if(function G(t){return io(t[di])}(i)){const u=this.indexOf(n);if(-1!==u)this.detach(u);else{const m=i[di],x=new cI(m,m[ro],m[di]);x.detach(x.indexOf(n))}}const l=this._adjustIndex(e),c=this._lContainer;return B2(c,i,l,!r),n.attachToViewContainerRef(),rT(ay(c),l,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=uI(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=yp(this._lContainer,e);r&&(lp(ay(this._lContainer),e),z_(r[Rn],r))}detach(n){const e=this._adjustIndex(n,-1),r=yp(this._lContainer,e);return r&&null!=lp(ay(this._lContainer),e)?new gf(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function uI(t){return t[8]}function ay(t){return t[8]||(t[8]=[])}function dI(t,n){let e;const r=n[t.index];return io(r)?e=r:(e=Gw(r,n,null,t),n[t.index]=e,Hp(n,e)),fI(e,n,t,r),new cI(e,t,n)}let fI=function hI(t,n,e,r){if(t[es])return;let i;i=8&e.type?fe(r):function W2(t,n){const e=t[ar],r=e.createComment(""),i=Z(n,t);return sc(e,bp(e,i),r,function yO(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[es]=i};class ly{constructor(n){this.queryList=n,this.matches=null}clone(){return new ly(this.queryList)}setDirty(){this.queryList.setDirty()}}class cy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const l=e.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new cy(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==vI(n,e).matches&&this.queries[e].setDirty()}}class pI{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class uy{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new uy(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class dy{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new dy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,e,Q2(e,o)),this.matchTNodeWithReadOption(n,e,ap(e,n,o,!1,!1))}else r===ha?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ap(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xr||i===ls||i===ha&&4&e.type)this.addMatch(e.index,-2);else{const o=ap(e,n,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function Q2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function eB(t,n,e,r){return-1===e?function J2(t,n){return 11&t.type?xu(t,n):4&t.type?om(t,n):null}(n,t):-2===e?function tB(t,n,e){return e===xr?xu(n,t):e===ha?om(n,t):e===ls?dI(n,t):void 0}(t,n,r):ic(t,t[Rn],e,n)}function mI(t,n,e,r){const i=n[jo].queries[r];if(null===i.matches){const o=t.data,l=e.matches,c=[];for(let u=0;u<l.length;u+=2){const m=l[u];c.push(m<0?null:eB(n,o[m],l[u+1],e.metadata.read))}i.matches=c}return i.matches}function fy(t,n,e,r){const i=t.queries.getByIndex(e),o=i.matches;if(null!==o){const l=mI(t,n,i,e);for(let c=0;c<o.length;c+=2){const u=o[c];if(u>0)r.push(l[c/2]);else{const m=o[c+1],x=n[-u];for(let W=Oi;W<x.length;W++){const _e=x[W];_e[$l]===_e[di]&&fy(_e[Rn],_e,m,r)}if(null!==x[tl]){const W=x[tl];for(let _e=0;_e<W.length;_e++){const Re=W[_e];fy(Re[Rn],Re,m,r)}}}}}return r}function ri(t){const n=pt(),e=on(),r=Kn();Fr(r+1);const i=vI(e,r);if(t.dirty&&function me(t){return 4==(4&t[dr])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?fy(e,n,r,[]):mI(e,n,i,r);t.reset(o,EP),t.notifyOnChanges()}return!0}return!1}function Mo(t,n,e){const r=on();r.firstCreatePass&&(_I(r,new pI(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),gI(r,pt(),n)}function Yo(t,n,e,r){const i=on();if(i.firstCreatePass){const o=bn();_I(i,new pI(n,e,r),o.index),function rB(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}gI(i,pt(),e)}function ii(){return function nB(t,n){return t[jo].queries[n].queryList}(pt(),Kn())}function gI(t,n,e){const r=new qu(4==(4&e));(function tk(t,n,e,r){const i=Yw(n);i.push(e),t.firstCreatePass&&$w(t).push(r,i.length-1)})(t,n,r,r.destroy),null===n[jo]&&(n[jo]=new cy),n[jo].queries.push(new ly(r))}function _I(t,n,e){null===t.queries&&(t.queries=new uy),t.queries.track(new dy(n,e))}function vI(t,n){return t.queries.getByIndex(n)}function hy(t,n){return om(t,n)}const kI=new un("Application Initializer");let yy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=$t(kI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const o=i();if(wf(o))e.push(o);else if(IS(o)){const l=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});e.push(l)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),FI=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const pa=new un("LocaleId",{providedIn:"root",factory:()=>$t(pa,Er.Optional|Er.SkipSelf)||function SB(){return typeof $localize<"u"&&$localize.locale||Gu}()});let LI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zi(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class AB{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let DB=(()=>{class t{compileModuleSync(e){return new iy(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=Na(mo(e).declarations).reduce((l,c)=>{const u=Dr(c);return u&&l.push(new _f(u)),l},[]);return new AB(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const jI=new un("");let fl=null;const Cy=new un("PlatformDestroyListeners"),Iy=new un("appBootstrapListener");function JB(t){try{const{rootComponent:n,appProviders:e,platformProviders:r}=t,i=function QB(t=[]){if(fl)return fl;const n=function GI(t=[],n){return Do.create({name:n,providers:[{provide:av,useValue:"platform"},{provide:Cy,useValue:new Set([()=>fl=null])},...t]})}(t);return fl=n,function ZI(){!function np(t){Hd=t}(()=>{throw new Gt(600,!1)})}(),function zI(t){t.get(aw,null)?.forEach(e=>e())}(n),n}(r),o=[iU(),...e||[]],c=new qC({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(ir);return u.run(()=>{c.resolveInjectorInitializers();const m=c.get(Ts,null);let x;u.runOutsideAngular(()=>{x=u.onError.subscribe({next:Re=>{m.handleError(Re)}})});const W=()=>c.destroy(),_e=i.get(Cy);return _e.add(W),c.onDestroy(()=>{x.unsubscribe(),_e.delete(W)}),function $I(t,n,e){try{const r=e();return wf(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(m,u,()=>{const Re=c.get(yy);return Re.runInitializers(),Re.donePromise.then(()=>{!function bC(t){wi(t,"Expected localeId to be defined"),"string"==typeof t&&(yC=t.toLowerCase().replace(/_/g,"-"))}(c.get(pa,Gu)||Gu);const ct=c.get(hl);return void 0!==n&&ct.bootstrap(n),ct})})})}catch(n){return Promise.reject(n)}}let hl=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(XI),this.zoneIsStable=$t(Tw),this.componentTypes=[],this.components=[],this.isStable=$t(LI).hasPendingTasks.pipe(Gn(e=>e?$n(!1):this.zoneIsStable),si(),Kt()),this._injector=$t(Fs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof dw;if(!this._injector.get(yy).done)throw!i&&function Ka(t){const n=Dr(t)||qi(t)||no(t);return null!==n&&n.standalone}(e),new Gt(405,!1);let l;l=i?e:this._injector.get(uf).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const c=function KB(t){return t.isBoundToModule}(l)?void 0:this._injector.get(mc),m=l.create(Do.NULL,[],r||l.selector,c),x=m.location.nativeElement,W=m.injector.get(jI,null);return W?.registerApplication(x),m.onDestroy(()=>{this.detachView(m.hostView),um(this.components,m),W?.unregisterApplication(x)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Gt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;um(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(Iy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>um(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Gt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function um(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const XI=new un("",{providedIn:"root",factory:()=>$t(Ts).handleError.bind(void 0)});function nU(){const t=$t(ir),n=$t(Ts);return e=>t.runOutsideAngular(()=>n.handleError(e))}let rU=(()=>{class t{constructor(){this.zone=$t(ir),this.applicationRef=$t(hl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QI(t){return[{provide:ir,useFactory:t},{provide:af,multi:!0,useFactory:()=>{const n=$t(rU,{optional:!0});return()=>n.initialize()}},{provide:XI,useFactory:nU},{provide:Tw,useFactory:ww}]}function iU(t){return iv([[],QI(()=>new ir(function YI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}(t)))])}let Oo=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oU}return t})();function oU(t){return function sU(t,n,e){if(Ia(t)&&!e){const r=ie(t.index,n);return new gf(r,r)}return 47&t.type?new gf(n[bi],n):null}(bn(),pt(),16==(16&t))}class nA{constructor(){}supports(n){return Yp(n)}create(n){return new fU(n)}}const dU=(t,n)=>n;class fU{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||dU}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const l=!r||e&&e.currentIndex<iA(r,i,o)?e:r,c=iA(l,i,o),u=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{o||(o=[]);const m=c-i,x=u-i;if(m!=x){for(let _e=0;_e<m;_e++){const Re=_e<o.length?o[_e]:o[_e]=0,Ke=Re+_e;x<=Ke&&Ke<m&&(o[_e]=Re+1)}o[l.previousIndex]=x-m}}c!==u&&n(l,c,u)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Yp(n))throw new Gt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,l,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)o=n[c],l=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,o,l,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,l,c),r=!0),e=e._next}else i=0,function qk(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,c=>{l=this._trackByFn(i,c),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,c,l,i)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new hU(e,r),o,i),n}_verifyReinsertion(n,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new rA),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rA),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class hU{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pU{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class rA{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new pU,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iA(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class oA{constructor(){}supports(n){return n instanceof Map||Uv(n)}create(){return new mU}}class mU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Uv(n)))throw new Gt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const r=new gU(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class gU{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sA(){return new hm([new nA])}let hm=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:sA});constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||sA()),deps:[[t,new up,new bu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Gt(901,!1)}}return t})();function aA(){return new kf([new oA])}let kf=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:aA});constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||aA()),deps:[[t,new up,new bu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Gt(901,!1)}}return t})();function Wu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Oy=null;function pl(){return Oy}class MU{}const Ir=new un("DocumentToken");let gA=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:function(){return $t(NU)},providedIn:"platform"})}return t})(),NU=(()=>{class t extends gA{constructor(){super(),this._doc=$t(Ir),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pl().getBaseHref(this._doc)}onPopState(e){const r=pl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=pl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function _A(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function vA(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function _c(t){return t&&"?"!==t[0]?"?"+t:t}let mm=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:function(){return $t(PU)},providedIn:"root"})}return t})();const OU=new un("appBaseHref");let PU=(()=>{class t extends mm{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$t(Ir).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _A(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+_c(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const l=this.prepareExternalUrl(i+_c(o));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){const l=this.prepareExternalUrl(i+_c(o));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(gA),Wt(OU,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gm=(()=>{class t{constructor(e){this._subject=new Zr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function LU(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(vA(yA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+_c(r))}normalize(e){return t.stripTrailingSlash(function FU(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,yA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_c(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_c(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static#e=this.normalizeQueryParams=_c;static#t=this.joinWithSlash=_A;static#n=this.stripTrailingSlash=vA;static#r=this.\u0275fac=function(r){return new(r||t)(Wt(mm))};static#i=this.\u0275prov=En({token:t,factory:function(){return function kU(){return new gm(Wt(mm))}()},providedIn:"root"})}return t})();function yA(t){return t.replace(/\/index.html$/,"")}const Zy=/\s+/,DA=[];let Xu=(()=>{class t{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=DA,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Zy):DA}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Zy):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Zy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(yt(hm),yt(kf),yt(xr),yt(Ma))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class wV{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ml=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wV(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===o?void 0:o);else if(null!==o){const c=r.get(o);r.move(c,l),RA(c,i)}});for(let i=0,o=r.length;i<o;i++){const c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{RA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(yt(ls),yt(ha),yt(hm))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function RA(t,n){t.context.$implicit=n.item}let Qi=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new SV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){MA("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){MA("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(yt(ls),yt(ha))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class SV{constructor(){this.$implicit=null,this.ngIf=null}}function MA(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ar(n)}'.`)}class zy{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Am=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Pn({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return t})(),NA=(()=>{class t{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new zy(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(r){return new(r||t)(yt(ls),yt(ha),yt(Am,9))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return t})(),Dm=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split("."),l=-1===i.indexOf("-")?void 0:ll.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(kf),yt(Ma))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),Gy=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(i,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(ls))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ne]})}return t})(),Bf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({})}return t})();const kA="browser";function FA(t){return"server"===t}class wj extends MU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ky extends wj{static makeCurrent(){!function RU(t){Oy||(Oy=t)}(new Ky)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Sj(){return Vf=Vf||document.querySelector("base"),Vf?Vf.getAttribute("href"):null}();return null==e?null:function Cj(t){Mm=Mm||document.createElement("a"),Mm.setAttribute("href",t);const n=Mm.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Vf=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function EV(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Mm,Vf=null,Aj=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})();const Xy=new un("EventManagerPlugins");let jA=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new Gt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Xy),Wt(ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})();class HA{constructor(n){this._doc=n}}const Qy="ng-app-id";let ZA=(()=>{class t{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=FA(o),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Qy}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(Qy),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Qy,this.appId),l}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const o=this.styleRef,l=o.get(r)?.elements;l?l.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir),Wt(Mp),Wt(dv,8),Wt(uc))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})();const Jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eb=/%COMP%/g,Mj=new un("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function GA(t,n){return n.map(e=>e.replace(eb,t))}let tb=(()=>{class t{constructor(e,r,i,o,l,c,u,m=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=c,this.ngZone=u,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=FA(c),this.defaultRenderer=new nb(e,l,u,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vo.ShadowDom&&(r={...r,encapsulation:Vo.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof YA?i.applyToHost(e):i instanceof rb&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const l=this.doc,c=this.ngZone,u=this.eventManager,m=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,W=this.platformIsServer;switch(r.encapsulation){case Vo.Emulated:o=new YA(u,m,r,this.appId,x,l,c,W);break;case Vo.ShadowDom:return new kj(u,m,e,r,l,c,this.nonce,W);default:o=new rb(u,m,r,x,l,c,W)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(jA),Wt(ZA),Wt(Mp),Wt(Mj),Wt(Ir),Wt(uc),Wt(ir),Wt(dv))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})();class nb{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Jy[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(qA(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(qA(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Gt(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const o=Jy[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=Jy[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(ll.DashCase|ll.Important)?n.style.setProperty(e,r,i&ll.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&ll.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=pl().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function qA(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class kj extends nb{constructor(n,e,r,i,o,l,c,u){super(n,o,l,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=GA(i.id,i.styles);for(const x of m){const W=document.createElement("style");c&&W.setAttribute("nonce",c),W.textContent=x,this.shadowRoot.appendChild(W)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rb extends nb{constructor(n,e,r,i,o,l,c,u){super(n,o,l,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=u?GA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class YA extends rb{constructor(n,e,r,i,o,l,c,u){const m=i+"-"+r.id;super(n,e,r,o,l,c,u,m),this.contentAttr=function Nj(t){return"_ngcontent-%COMP%".replace(eb,t)}(m),this.hostAttr=function Oj(t){return"_nghost-%COMP%".replace(eb,t)}(m)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}const $A=["alt","control","meta","shift"],Lj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function WA(t){return{appProviders:[...qj,...t?.providers??[]],platformProviders:zj}}const zj=[{provide:uc,useValue:kA},{provide:aw,useValue:function jj(){Ky.makeCurrent()},multi:!0},{provide:Ir,useFactory:function Zj(){return function AO(t){X_=t}(document),document},deps:[]}],qj=[{provide:av,useValue:"root"},{provide:Ts,useFactory:function Hj(){return new Ts},deps:[]},{provide:Xy,useClass:(()=>{class t extends HA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})(),multi:!0,deps:[Ir,ir,uc]},{provide:Xy,useClass:(()=>{class t extends HA{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const o=t.parseEventName(r),l=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pl().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let l="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),l="code."),$A.forEach(m=>{const x=r.indexOf(m);x>-1&&(r.splice(x,1),l+=m+".")}),l+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=l,u}static matchEventFullKeyCode(e,r){let i=Lj[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$A.forEach(l=>{l!==i&&(0,Bj[l])(e)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})(),multi:!0,deps:[Ir]},tb,ZA,jA,{provide:df,useExisting:tb},{provide:class ej{},useClass:Aj,deps:[]},[]];let KA=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir))};static#t=this.\u0275prov=En({token:t,factory:function(r){let i=null;return i=r?new r:function $j(){return new KA(Wt(Ir))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let js=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:function(r){let i=null;return i=r?new(r||t):Wt(JA),i},providedIn:"root"})}return t})(),JA=(()=>{class t extends js{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case ki.NONE:return r;case ki.HTML:return ia(r,"HTML")?ss(r):KT(this._doc,String(r)).toString();case ki.STYLE:return ia(r,"Style")?ss(r):r;case ki.SCRIPT:if(ia(r,"Script"))return ss(r);throw new Gt(5200,!1);case ki.URL:return ia(r,"URL")?ss(r):Cp(String(r));case ki.RESOURCE_URL:if(ia(r,"ResourceURL"))return ss(r);throw new Gt(5201,!1);default:throw new Gt(5202,!1)}}bypassSecurityTrustHtml(e){return function PO(t){return new DO(t)}(e)}bypassSecurityTrustStyle(e){return function kO(t){return new xO(t)}(e)}bypassSecurityTrustScript(e){return function FO(t){return new RO(t)}(e)}bypassSecurityTrustUrl(e){return function LO(t){return new MO(t)}(e)}bypassSecurityTrustResourceUrl(e){return function BO(t){return new NO(t)}(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir))};static#t=this.\u0275prov=En({token:t,factory:function(r){let i=null;return i=r?new r:function Qj(t){return new JA(t.get(Ir))}(Wt(Do)),i},providedIn:"root"})}return t})();function tD(t,n,e,r,i,o,l){try{var c=t[o](l),u=c.value}catch(m){return void e(m)}c.done?n(u):Promise.resolve(u).then(r,i)}function ci(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function l(u){tD(o,r,i,l,c,"next",u)}function c(u){tD(o,r,i,l,c,"throw",u)}l(void 0)})}}const Nm=Ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:e3}=Array,{getPrototypeOf:t3,prototype:n3,keys:r3}=Object;function nD(t){if(1===t.length){const n=t[0];if(e3(n))return{args:n,keys:null};if(function o3(t){return t&&"object"==typeof t&&t3(t)===n3}(n)){const e=r3(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:s3}=Array;function ob(t){return pe(n=>function a3(t,n){return s3(n)?t(...n):t(n)}(t,n))}function rD(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function sb(...t){const n=ui(t),e=Ri(t),{args:r,keys:i}=nD(t);if(0===r.length)return Ci([],n);const o=new Ve(function l3(t,n,e=ve){return r=>{iD(n,()=>{const{length:i}=t,o=new Array(i);let l=i,c=i;for(let u=0;u<i;u++)iD(n,()=>{const m=Ci(t[u],n);let x=!1;m.subscribe(Je(r,W=>{o[u]=W,x||(x=!0,c--),c||r.next(e(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,n,i?l=>rD(i,l):ve));return e?o.pipe(ob(e)):o}function iD(t,n,e){t?_r(e,t,n):n()}function jf(...t){return function c3(){return Zt(1)}()(Ci(t,ui(t)))}function oD(t){return new Ve(n=>{fn(t()).subscribe(n)})}function Qu(t,n){const e=Yn(t)?t:()=>t,r=i=>i.error(e());return new Ve(n?i=>n.schedule(r,0,i):r)}function ab(){return It((t,n)=>{let e=null;t._refCount++;const r=Je(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class sD extends Ve{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,jt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new H;const e=this.getSubject();n.add(this.source.subscribe(Je(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=H.EMPTY)}return n}refCount(){return ab()(this)}}function ko(t){return t<=0?()=>Jt:It((n,e)=>{let r=0;n.subscribe(Je(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Hf(...t){const n=ui(t);return It((e,r)=>{(n?jf(t,e,n):jf(t,e)).subscribe(r)})}function oo(t,n){return It((e,r)=>{let i=0;e.subscribe(Je(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Om(t){return It((n,e)=>{let r=!1;n.subscribe(Je(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function aD(t=u3){return It((n,e)=>{let r=!1;n.subscribe(Je(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function u3(){return new Nm}function vc(t,n){const e=arguments.length>=2;return r=>r.pipe(t?oo((i,o)=>t(i,o,r)):ve,ko(1),e?Om(n):aD(()=>new Nm))}function Zf(t,n){return Yn(n)?xt(t,n,1):xt(t,1)}function Jr(t,n,e){const r=Yn(t)||n||e?{next:t,error:n,complete:e}:t;return r?It((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let c=!0;i.subscribe(Je(o,u=>{var m;null===(m=r.next)||void 0===m||m.call(r,u),o.next(u)},()=>{var u;c=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var m;c=!1,null===(m=r.error)||void 0===m||m.call(r,u),o.error(u)},()=>{var u,m;c&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):ve}function _l(t){return It((n,e)=>{let o,r=null,i=!1;r=n.subscribe(Je(e,void 0,void 0,l=>{o=fn(t(l,_l(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function lb(t){return t<=0?()=>Jt:It((n,e)=>{let r=[];n.subscribe(Je(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function lD(t){return pe(()=>t)}function Pm(t){return It((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Bi(t){return It((n,e)=>{fn(t).subscribe(Je(e,()=>e.complete(),v)),!e.closed&&n.subscribe(e)})}const vr="primary",zf=Symbol("RouteTitle");class p3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ju(t){return new p3(t)}function m3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],c=t[o];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ma(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!cD(t[i],n[i]))return!1;return!0}function cD(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}return t===n}function uD(t){return t.length>0?t[t.length-1]:null}function vl(t){return function Jj(t){return!!t&&(t instanceof Ve||Yn(t.lift)&&Yn(t.subscribe))}(t)?t:wf(t)?Ci(Promise.resolve(t)):$n(t)}const _3={exact:function hD(t,n,e){if(!yc(t.segments,n.segments)||!km(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!hD(t.children[r],n.children[r],e))return!1;return!0},subset:pD},dD={exact:function v3(t,n){return ma(t,n)},subset:function y3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>cD(t[e],n[e]))},ignored:()=>!0};function fD(t,n,e){return _3[e.paths](t.root,n.root,e.matrixParams)&&dD[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function pD(t,n,e){return mD(t,n,n.segments,e)}function mD(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!yc(i,e)||n.hasChildren()||!km(i,e,r))}if(t.segments.length===e.length){if(!yc(t.segments,e)||!km(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!pD(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(yc(t.segments,i)&&km(t.segments,i,r)&&t.children[vr])&&mD(t.children[vr],n,o,r)}}function km(t,n,e){return n.every((r,i)=>dD[e](t[i].parameters,r.parameters))}class ed{constructor(n=new ei([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return T3.serialize(this)}}class ei{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fm(this)}}class Gf{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ju(this.parameters)),this._parameterMap}toString(){return vD(this)}}function yc(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let qf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:function(){return new cb},providedIn:"root"})}return t})();class cb{parse(n){const e=new O3(n);return new ed(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Yf(n.root,!0)}`,r=function C3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Lm(e)}=${Lm(i)}`).join("&"):`${Lm(e)}=${Lm(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function w3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const T3=new cb;function Fm(t){return t.segments.map(n=>vD(n)).join("/")}function Yf(t,n){if(!t.hasChildren())return Fm(t);if(n){const e=t.children[vr]?Yf(t.children[vr],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==vr&&r.push(`${i}:${Yf(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function E3(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===vr&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==vr&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===vr?[Yf(t.children[vr],!1)]:[`${i}:${Yf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[vr]?`${Fm(t)}/${e[0]}`:`${Fm(t)}/(${e.join("//")})`}}function gD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lm(t){return gD(t).replace(/%3B/gi,";")}function ub(t){return gD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bm(t){return decodeURIComponent(t)}function _D(t){return Bm(t.replace(/\+/g,"%20"))}function vD(t){return`${ub(t.path)}${function S3(t){return Object.keys(t).map(n=>`;${ub(n)}=${ub(t[n])}`).join("")}(t.parameters)}`}const I3=/^[^\/()?;#]+/;function db(t){const n=t.match(I3);return n?n[0]:""}const A3=/^[^\/()?;=#]+/,x3=/^[^=?&#]+/,M3=/^[^&#]+/;class O3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ei([],{}):new ei([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[vr]=new ei(n,e)),r}parseSegment(){const n=db(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Gt(4009,!1);return this.capture(n),new Gf(Bm(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function D3(t){const n=t.match(A3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=db(this.remaining);i&&(r=i,this.capture(r))}n[Bm(e)]=Bm(r)}parseQueryParam(n){const e=function R3(t){const n=t.match(x3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function N3(t){const n=t.match(M3);return n?n[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=_D(e),o=_D(r);if(n.hasOwnProperty(i)){let l=n[i];Array.isArray(l)||(l=[l],n[i]=l),l.push(o)}else n[i]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=db(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Gt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=vr);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[vr]:new ei([],l),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Gt(4011,!1)}}function yD(t){return t.segments.length>0?new ei([],{[vr]:t}):t}function bD(t){const n={};for(const r of Object.keys(t.children)){const o=bD(t.children[r]);if(r===vr&&0===o.segments.length&&o.hasChildren())for(const[l,c]of Object.entries(o.children))n[l]=c;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function P3(t){if(1===t.numberOfChildren&&t.children[vr]){const n=t.children[vr];return new ei(t.segments.concat(n.segments),n.children)}return t}(new ei(t.segments,n))}function bc(t){return t instanceof ed}function ED(t){let n;const i=yD(function e(o){const l={};for(const u of o.children){const m=e(u);l[u.outlet]=m}const c=new ei(o.url,l);return o===t&&(n=c),c}(t.root));return n??i}function TD(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return fb(i,i,i,e,r);const o=function F3(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new SD(!0,0,t);let n=0,e=!1;const r=t.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([u,m])=>{c[u]="string"==typeof m?m.split("/"):m}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?n++:""!=c&&i.push(c))}),i):[...i,o]},[]);return new SD(e,n,r)}(n);if(o.toRoot())return fb(i,i,new ei([],{}),e,r);const l=function L3(t,n,e){if(t.isAbsolute)return new Vm(n,!0,0);if(!e)return new Vm(n,!1,NaN);if(null===e.parent)return new Vm(e,!0,0);const r=Um(t.commands[0])?0:1;return function B3(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Gt(4005,!1);i=r.segments.length}return new Vm(r,!1,i-o)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),c=l.processChildren?Wf(l.segmentGroup,l.index,o.commands):CD(l.segmentGroup,l.index,o.commands);return fb(i,l.segmentGroup,c,e,r)}function Um(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $f(t){return"object"==typeof t&&null!=t&&t.outlets}function fb(t,n,e,r,i){let l,o={};r&&Object.entries(r).forEach(([u,m])=>{o[u]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),l=t===n?e:wD(t,n,e);const c=yD(bD(l));return new ed(c,o,i)}function wD(t,n,e){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===n?e:wD(o,n,e)}),new ei(t.segments,r)}class SD{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Um(r[0]))throw new Gt(4003,!1);const i=r.find($f);if(i&&i!==uD(r))throw new Gt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vm{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function CD(t,n,e){if(t||(t=new ei([],{})),0===t.segments.length&&t.hasChildren())return Wf(t,n,e);const r=function V3(t,n,e){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;const l=t.segments[i],c=e[r];if($f(c))break;const u=`${c}`,m=r<e.length-1?e[r+1]:null;if(i>0&&void 0===u)break;if(u&&m&&"object"==typeof m&&void 0===m.outlets){if(!AD(u,m,l))return o;r+=2}else{if(!AD(u,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ei(t.segments.slice(0,r.pathIndex),{});return o.children[vr]=new ei(t.segments.slice(r.pathIndex),t.children),Wf(o,0,i)}return r.match&&0===i.length?new ei(t.segments,{}):r.match&&!t.hasChildren()?hb(t,n,e):r.match?Wf(t,0,i):hb(t,n,e)}function Wf(t,n,e){if(0===e.length)return new ei(t.segments,{});{const r=function U3(t){return $f(t[0])?t[0].outlets:{[vr]:t}}(e),i={};if(Object.keys(r).some(o=>o!==vr)&&t.children[vr]&&1===t.numberOfChildren&&0===t.children[vr].segments.length){const o=Wf(t.children[vr],n,e);return new ei(t.segments,o.children)}return Object.entries(r).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[o]=CD(t.children[o],n,l))}),Object.entries(t.children).forEach(([o,l])=>{void 0===r[o]&&(i[o]=l)}),new ei(t.segments,i)}}function hb(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const o=e[i];if($f(o)){const u=j3(o.outlets);return new ei(r,u)}if(0===i&&Um(e[0])){r.push(new Gf(t.segments[n].path,ID(e[0]))),i++;continue}const l=$f(o)?o.outlets[vr]:`${o}`,c=i<e.length-1?e[i+1]:null;l&&c&&Um(c)?(r.push(new Gf(l,ID(c))),i+=2):(r.push(new Gf(l,{})),i++)}return new ei(r,{})}function j3(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=hb(new ei([],{}),0,r))}),n}function ID(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function AD(t,n,e){return t==e.path&&ma(n,e.parameters)}const Kf="imperative";class ga{constructor(n,e){this.id=n,this.url=e}}class pb extends ga{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class td extends ga{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xf extends ga{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qf extends ga{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class jm extends ga{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DD extends ga{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H3 extends ga{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z3 extends ga{constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class z3 extends ga{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G3 extends ga{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q3{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Y3{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $3{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W3{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K3{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X3{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mb{}class gb{constructor(n){this.url=n}}class Q3{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jf,this.attachRef=null}}let Jf=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Q3,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xD{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=_b(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=_b(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=vb(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return vb(n,this._root).map(e=>e.value)}}function _b(t,n){if(t===n.value)return n;for(const e of n.children){const r=_b(t,e);if(r)return r}return null}function vb(t,n){if(t===n.value)return[n];for(const e of n.children){const r=vb(t,e);if(r.length)return r.unshift(n),r}return[]}class Fa{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function nd(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class RD extends xD{constructor(n,e){super(n),this.snapshot=e,yb(this,n)}toString(){return this.snapshot.toString()}}function MD(t,n){const e=function J3(t,n){const l=new Hm([],{},{},"",{},vr,n,null,{});return new OD("",new Fa(l,[]))}(0,n),r=new zi([new Gf("",{})]),i=new zi({}),o=new zi({}),l=new zi({}),c=new zi(""),u=new _a(r,i,l,c,o,vr,n,e.root);return u.snapshot=e.root,new RD(new Fa(u,[]),e)}class _a{constructor(n,e,r,i,o,l,c,u){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(m=>m[zf]))??$n(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(n=>Ju(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(n=>Ju(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ND(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function eH(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Hm{get title(){return this.data?.[zf]}constructor(n,e,r,i,o,l,c,u,m){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.routeConfig=u,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ju(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OD extends xD{constructor(n,e){super(e),this.url=n,yb(this,e)}toString(){return PD(this._root)}}function yb(t,n){n.value._routerState=t,n.children.forEach(e=>yb(t,e))}function PD(t){const n=t.children.length>0?` { ${t.children.map(PD).join(", ")} } `:"";return`${t.value}${n}`}function bb(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ma(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),ma(n.params,e.params)||t.paramsSubject.next(e.params),function g3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!ma(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),ma(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Eb(t,n){const e=ma(t.params,n.params)&&function b3(t,n){return yc(t,n)&&t.every((e,r)=>ma(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Eb(t.parent,n.parent))}let Tb=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=vr,this.activateEvents=new Zr,this.deactivateEvents=new Zr,this.attachEvents=new Zr,this.detachEvents=new Zr,this.parentContexts=$t(Jf),this.location=$t(ls),this.changeDetector=$t(Oo),this.environmentInjector=$t(Fs),this.inputBinder=$t(Zm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Gt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Gt(4013,!1);this._activatedRoute=e;const i=this.location,l=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new tH(e,c,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Pn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ne]})}return t})();class tH{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===_a?this.route:n===Jf?this.childContexts:this.parent.get(n,e)}}const Zm=new un("");function eh(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function rH(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return eh(t,r,i);return eh(t,r)})}(t,n,e);return new Fa(r,i)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=n.value,l.children=n.children.map(c=>eh(t,c)),l}}const r=function iH(t){return new _a(new zi(t.url),new zi(t.params),new zi(t.queryParams),new zi(t.fragment),new zi(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(o=>eh(t,o));return new Fa(r,i)}}const wb="ngNavigationCancelingError";function FD(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=bc(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=LD(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function LD(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[wb]=!0,r.cancellationCode=n,e&&(r.url=e),r}function BD(t){return t&&t[wb]}let UD=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:1,vars:0,template:function(r,i){1&r&&Wn(0,"router-outlet")},dependencies:[Tb],encapsulation:2})}return t})();function Sb(t){const n=t.children&&t.children.map(Sb),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==vr&&(e.component=UD),e}function Hs(t){return t.outlet||vr}function th(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class fH{constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),bb(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=nd(e);n.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(n,e,l.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=nd(n);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(r&&r.outlet){const l=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:c})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=nd(n);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=nd(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new X3(o.value.snapshot))}),n.children.length&&this.forwardEvent(new W3(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(bb(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,l.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),bb(c.route.value),this.activateChildRoutes(n,null,l.children)}else{const c=th(i.snapshot);l.attachRef=null,l.route=i,l.injector=c,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(n,null,l.children)}}else this.activateChildRoutes(n,null,r)}}class VD{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class zm{constructor(n,e){this.component=n,this.route=e}}function hH(t,n,e){const r=t._root;return nh(r,n?n._root:null,e,[r.value])}function rd(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function Fh(t){return null!==Ga(t)}(t)?n.get(t):t:r}function nh(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=nd(n);return t.children.forEach(l=>{(function mH(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,l=n?n.value:null,c=e?e.getContext(t.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const u=function gH(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!yc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!yc(t.url,n.url)||!ma(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eb(t,n)||!ma(t.queryParams,n.queryParams);default:return!Eb(t,n)}}(l,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new VD(r)):(o.data=l.data,o._resolvedData=l._resolvedData),nh(t,n,o.component?c?c.children:null:e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new zm(c.outlet.component,l))}else l&&rh(n,c,i),i.canActivateChecks.push(new VD(r)),nh(t,null,o.component?c?c.children:null:e,r,i)})(l,o[l.value.outlet],e,r.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,c])=>rh(c,e.getContext(l),i)),i}function rh(t,n,e){const r=nd(t),i=t.value;Object.entries(r).forEach(([o,l])=>{rh(l,i.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new zm(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function ih(t){return"function"==typeof t}function jD(t){return t instanceof Nm||"EmptyError"===t?.name}const Gm=Symbol("INITIAL_VALUE");function id(){return Gn(t=>sb(t.map(n=>n.pipe(ko(1),Hf(Gm)))).pipe(pe(n=>{for(const e of n)if(!0!==e){if(e===Gm)return Gm;if(!1===e||e instanceof ed)return e}return!0}),oo(n=>n!==Gm),ko(1)))}function HD(t){return function Ge(...t){return ut(t)}(Jr(n=>{if(bc(n))throw FD(0,n)}),pe(n=>!0===n))}class qm{constructor(n){this.segmentGroup=n||null}}class ZD{constructor(n){this.urlTree=n}}function od(t){return Qu(new qm(t))}function zD(t){return Qu(new ZD(t))}class FH{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new Gt(4002,!1)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $n(r);if(i.numberOfChildren>1||!i.children[vr])return Qu(new Gt(4e3,!1));i=i.children[vr]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const o=this.createSegmentGroup(n,e.root,r,i);return new ed(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const c=o.substring(1);r[i]=e[c]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){const o=this.createSegments(n,e.segments,r,i);let l={};return Object.entries(e.children).forEach(([c,u])=>{l[c]=this.createSegmentGroup(n,u,r,i)}),new ei(o,l)}createSegments(n,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new Gt(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const Cb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LH(t,n,e,r,i){const o=Ib(t,n,e);return o.matched?(r=function sH(t,n){return t.providers&&!t._injector&&(t._injector=YC(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function OH(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?$n(i.map(l=>{const c=rd(l,t);return vl(function TH(t){return t&&ih(t.canMatch)}(c)?c.canMatch(n,e):t.runInContext(()=>c(n,e)))})).pipe(id(),HD()):$n(!0)}(r,n,e).pipe(pe(l=>!0===l?o:{...Cb}))):$n(o)}function Ib(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...Cb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||m3)(e,t,n);if(!i)return{...Cb};const o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function GD(t,n,e,r){return e.length>0&&function VH(t,n,e){return e.some(r=>Ym(t,n,r)&&Hs(r)!==vr)}(t,e,r)?{segmentGroup:new ei(n,UH(r,new ei(e,t.children))),slicedSegments:[]}:0===e.length&&function jH(t,n,e){return e.some(r=>Ym(t,n,r))}(t,e,r)?{segmentGroup:new ei(t.segments,BH(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ei(t.segments,t.children),slicedSegments:e}}function BH(t,n,e,r,i){const o={};for(const l of r)if(Ym(t,e,l)&&!i[Hs(l)]){const c=new ei([],{});o[Hs(l)]=c}return{...i,...o}}function UH(t,n){const e={};e[vr]=n;for(const r of t)if(""===r.path&&Hs(r)!==vr){const i=new ei([],{});e[Hs(r)]=i}return e}function Ym(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class GH{constructor(n,e,r,i,o,l,c){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new FH(this.urlSerializer,this.urlTree)}noMatchError(n){return new Gt(4002,!1)}recognize(){const n=GD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,vr).pipe(_l(e=>{if(e instanceof ZD)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof qm?this.noMatchError(e):e}),pe(e=>{const r=new Hm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vr,this.rootComponentType,null,{}),i=new Fa(r,e),o=new OD("",i),l=function k3(t,n,e=null,r=null){return TD(ED(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,vr).pipe(_l(r=>{throw r instanceof qm?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=ND(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0)}processChildren(n,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ci(i).pipe(Zf(o=>{const l=r.children[o],c=function uH(t,n){const e=t.filter(r=>Hs(r)===n);return e.push(...t.filter(r=>Hs(r)!==n)),e}(e,o);return this.processSegmentGroup(n,c,l,o)}),function f3(t,n){return It(function d3(t,n,e,r,i){return(o,l)=>{let c=e,u=n,m=0;o.subscribe(Je(l,x=>{const W=m++;u=c?t(u,x,W):(c=!0,x),r&&l.next(u)},i&&(()=>{c&&l.next(u),l.complete()})))}}(t,n,arguments.length>=2,!0))}((o,l)=>(o.push(...l),o)),Om(null),function h3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?oo((i,o)=>t(i,o,r)):ve,lb(1),e?Om(n):aD(()=>new Nm))}(),xt(o=>{if(null===o)return od(r);const l=qD(o);return function qH(t){t.sort((n,e)=>n.value.outlet===vr?-1:e.value.outlet===vr?1:n.value.outlet.localeCompare(e.value.outlet))}(l),$n(l)}))}processSegment(n,e,r,i,o,l){return Ci(e).pipe(Zf(c=>this.processSegmentAgainstRoute(c._injector??n,e,c,r,i,o,l).pipe(_l(u=>{if(u instanceof qm)return $n(null);throw u}))),vc(c=>!!c),_l(c=>{if(jD(c))return function ZH(t,n,e){return 0===n.length&&!t.children[e]}(r,i,o)?$n([]):od(r);throw c}))}processSegmentAgainstRoute(n,e,r,i,o,l,c){return function HH(t,n,e,r){return!!(Hs(t)===r||r!==vr&&Ym(n,e,t))&&("**"===t.path||Ib(n,t,e).matched)}(r,i,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,l,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,l):od(i):od(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zD(o):this.applyRedirects.lineralizeSegments(r,o).pipe(xt(l=>{const c=new ei(l,{});return this.processSegment(n,e,c,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,l){const{matched:c,consumedSegments:u,remainingSegments:m,positionalParamSegments:x}=Ib(e,i,o);if(!c)return od(e);const W=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,x);return i.redirectTo.startsWith("/")?zD(W):this.applyRedirects.lineralizeSegments(i,W).pipe(xt(_e=>this.processSegment(n,r,e,_e.concat(m),l,!1)))}matchSegmentAgainstRoute(n,e,r,i,o,l){let c;if("**"===r.path){const u=i.length>0?uD(i).parameters:{};c=$n({snapshot:new Hm(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YD(r),Hs(r),r.component??r._loadedComponent??null,r,$D(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else c=LH(e,r,i,n).pipe(pe(({matched:u,consumedSegments:m,remainingSegments:x,parameters:W})=>u?{snapshot:new Hm(m,W,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YD(r),Hs(r),r.component??r._loadedComponent??null,r,$D(r)),consumedSegments:m,remainingSegments:x}:null));return c.pipe(Gn(u=>null===u?od(e):this.getChildConfig(n=r._injector??n,r,i).pipe(Gn(({routes:m})=>{const x=r._loadedInjector??n,{snapshot:W,consumedSegments:_e,remainingSegments:Re}=u,{segmentGroup:Ke,slicedSegments:ct}=GD(e,_e,Re,m);if(0===ct.length&&Ke.hasChildren())return this.processChildren(x,m,Ke).pipe(pe(Qt=>null===Qt?null:[new Fa(W,Qt)]));if(0===m.length&&0===ct.length)return $n([new Fa(W,[])]);const Bt=Hs(r)===o;return this.processSegment(x,m,Ke,ct,Bt?vr:o,!0).pipe(pe(Qt=>[new Fa(W,Qt)]))}))))}getChildConfig(n,e,r){return e.children?$n({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?$n({routes:e._loadedRoutes,injector:e._loadedInjector}):function NH(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?$n(!0):$n(i.map(l=>{const c=rd(l,t);return vl(function vH(t){return t&&ih(t.canLoad)}(c)?c.canLoad(n,e):t.runInContext(()=>c(n,e)))})).pipe(id(),HD())}(n,e,r).pipe(xt(i=>i?this.configLoader.loadChildren(n,e).pipe(Jr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function kH(t){return Qu(LD(!1,3))}())):$n({routes:[],injector:n})}}function YH(t){const n=t.value.routeConfig;return n&&""===n.path}function qD(t){const n=[],e=new Set;for(const r of t){if(!YH(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=qD(r.children);n.push(new Fa(r.value,i))}return n.filter(r=>!e.has(r))}function YD(t){return t.data||{}}function $D(t){return t.resolve||{}}function WD(t){return"string"==typeof t.title||null===t.title}function Ab(t){return Gn(n=>{const e=t(n);return e?Ci(e).pipe(pe(()=>n)):$n(n)})}const $m=new un("ROUTES");let KD=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$t(DB)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return $n(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=vl(e.loadComponent()).pipe(pe(XD),Jr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Pm(()=>{this.componentLoaders.delete(e)})),i=new sD(r,()=>new xe).pipe(ab());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $n({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function eZ(t,n,e,r){return vl(t.loadChildren()).pipe(pe(XD),xt(i=>i instanceof GC||Array.isArray(i)?$n(i):Ci(n.compileModuleAsync(i))),pe(i=>{r&&r(t);let o,l,c=!1;return Array.isArray(i)?(l=i,!0):(o=i.create(e).injector,l=o.get($m,[],{optional:!0,self:!0}).flat()),{routes:l.map(Sb),injector:o}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(Pm(()=>{this.childrenLoaders.delete(r)})),l=new sD(o,()=>new xe).pipe(ab());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XD(t){return function tZ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Wm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe,this.transitionAbortSubject=new xe,this.configLoader=$t(KD),this.environmentInjector=$t(Fs),this.urlSerializer=$t(qf),this.rootContexts=$t(Jf),this.inputBindingEnabled=null!==$t(Zm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$n(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Y3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new q3(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new zi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:e.urlHandlingStrategy.extract(r),urlAfterRedirects:e.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oo(o=>0!==o.id),pe(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Gn(o=>{this.currentTransition=o;let l=!1,c=!1;return $n(o).pipe(Jr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gn(u=>{const m=u.currentBrowserUrl.toString(),x=!e.navigated||u.extractedUrl.toString()!==m||m!==u.currentUrlTree.toString();if(!x&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const _e="";return this.events.next(new Qf(u.id,this.urlSerializer.serialize(u.rawUrl),_e,0)),u.resolve(null),Jt}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return $n(u).pipe(Gn(_e=>{const Re=this.transitions?.getValue();return this.events.next(new pb(_e.id,this.urlSerializer.serialize(_e.extractedUrl),_e.source,_e.restoredState)),Re!==this.transitions?.getValue()?Jt:Promise.resolve(_e)}),function $H(t,n,e,r,i,o){return xt(l=>function zH(t,n,e,r,i,o,l="emptyOnly"){return new GH(t,n,e,r,i,l,o).recognize()}(t,n,e,r,l.extractedUrl,i,o).pipe(pe(({state:c,tree:u})=>({...l,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Jr(_e=>{o.targetSnapshot=_e.targetSnapshot,o.urlAfterRedirects=_e.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_e.urlAfterRedirects};const Re=new DD(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(Re)}));if(x&&e.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:_e,extractedUrl:Re,source:Ke,restoredState:ct,extras:Bt}=u,Qt=new pb(_e,this.urlSerializer.serialize(Re),Ke,ct);this.events.next(Qt);const Mt=MD(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:Mt,urlAfterRedirects:Re,extras:{...Bt,skipLocationChange:!1,replaceUrl:!1}},$n(o)}{const _e="";return this.events.next(new Qf(u.id,this.urlSerializer.serialize(u.extractedUrl),_e,1)),u.resolve(null),Jt}}),Jr(u=>{const m=new H3(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),pe(u=>(this.currentTransition=o={...u,guards:hH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function SH(t,n){return xt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?$n({...e,guardsResult:!0}):function CH(t,n,e,r){return Ci(t).pipe(xt(i=>function MH(t,n,e,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?$n(o.map(c=>{const u=th(n)??i,m=rd(c,u);return vl(function EH(t){return t&&ih(t.canDeactivate)}(m)?m.canDeactivate(t,n,e,r):u.runInContext(()=>m(t,n,e,r))).pipe(vc())})).pipe(id()):$n(!0)}(i.component,i.route,e,n,r)),vc(i=>!0!==i,!0))}(l,r,i,t).pipe(xt(c=>c&&function _H(t){return"boolean"==typeof t}(c)?function IH(t,n,e,r){return Ci(n).pipe(Zf(i=>jf(function DH(t,n){return null!==t&&n&&n(new $3(t)),$n(!0)}(i.route.parent,r),function AH(t,n){return null!==t&&n&&n(new K3(t)),$n(!0)}(i.route,r),function RH(t,n,e){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(l=>function pH(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(l)).filter(l=>null!==l).map(l=>oD(()=>$n(l.guards.map(u=>{const m=th(l.node)??e,x=rd(u,m);return vl(function bH(t){return t&&ih(t.canActivateChild)}(x)?x.canActivateChild(r,t):m.runInContext(()=>x(r,t))).pipe(vc())})).pipe(id())));return $n(o).pipe(id())}(t,i.path,e),function xH(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return $n(!0);const i=r.map(o=>oD(()=>{const l=th(n)??e,c=rd(o,l);return vl(function yH(t){return t&&ih(t.canActivate)}(c)?c.canActivate(n,t):l.runInContext(()=>c(n,t))).pipe(vc())}));return $n(i).pipe(id())}(t,i.route,e))),vc(i=>!0!==i,!0))}(r,o,t,n):$n(c)),pe(c=>({...e,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Jr(u=>{if(o.guardsResult=u.guardsResult,bc(u.guardsResult))throw FD(0,u.guardsResult);const m=new Z3(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(m)}),oo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Ab(u=>{if(u.guards.canActivateChecks.length)return $n(u).pipe(Jr(m=>{const x=new z3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(x)}),Gn(m=>{let x=!1;return $n(m).pipe(function WH(t,n){return xt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return $n(e);let o=0;return Ci(i).pipe(Zf(l=>function KH(t,n,e,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!WD(i)&&(o[zf]=i.title),function XH(t,n,e,r){const i=function QH(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $n({});const o={};return Ci(i).pipe(xt(l=>function JH(t,n,e,r){const i=th(n)??r,o=rd(t,i);return vl(o.resolve?o.resolve(n,e):i.runInContext(()=>o(n,e)))}(t[l],n,e,r).pipe(vc(),Jr(c=>{o[l]=c}))),lb(1),lD(o),_l(l=>jD(l)?Jt:Qu(l)))}(o,t,n,r).pipe(pe(l=>(t._resolvedData=l,t.data=ND(t,e).resolve,i&&WD(i)&&(t.data[zf]=i.title),null)))}(l.route,r,t,n)),Jr(()=>o++),lb(1),xt(l=>o===i.length?$n(e):Jt))})}(e.paramsInheritanceStrategy,this.environmentInjector),Jr({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(m,"",2)}}))}),Jr(m=>{const x=new G3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(x)}))}),Ab(u=>{const m=x=>{const W=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&W.push(this.configLoader.loadComponent(x.routeConfig).pipe(Jr(_e=>{x.component=_e}),pe(()=>{})));for(const _e of x.children)W.push(...m(_e));return W};return sb(m(u.targetSnapshot.root)).pipe(Om(),ko(1))}),Ab(()=>this.afterPreactivation()),pe(u=>{const m=function nH(t,n,e){const r=eh(t,n._root,e?e._root:void 0);return new RD(r,n)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:m},o}),Jr(()=>{this.events.next(new mb)}),((t,n,e,r)=>pe(i=>(new fH(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ko(1),Jr({next:u=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new td(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{l=!0}}),Bi(this.transitionAbortSubject.pipe(Jr(u=>{throw u}))),Pm(()=>{l||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),_l(u=>{if(c=!0,BD(u))this.events.next(new Xf(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function oH(t){return BD(t)&&bc(t.url)}(u)?this.events.next(new gb(u.url)):o.resolve(!1);else{this.events.next(new jm(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(u))}catch(m){o.reject(m)}}return Jt}))}))}cancelNavigationTransition(e,r,i){const o=new Xf(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QD(t){return t!==Kf}let JD=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===vr);return r}getResolvedTitleForRoute(e){return e.data[zf]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:function(){return $t(nZ)},providedIn:"root"})}return t})(),nZ=(()=>{class t extends JD{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(KA))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:function(){return $t(oZ)},providedIn:"root"})}return t})();class iZ{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let oZ=(()=>{class t extends iZ{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Db=new un("",{providedIn:"root",factory:()=>({})});let sZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:function(){return $t(aZ)},providedIn:"root"})}return t})(),aZ=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(oh||{});function lZ(t){throw t}function cZ(t,n,e){return n.parse("/")}const uZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=$t(FI),this.isNgZoneEnabled=!1,this._events=new xe,this.options=$t(Db,{optional:!0})||{},this.pendingTasks=$t(LI),this.errorHandler=this.options.errorHandler||lZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=$t(sZ),this.routeReuseStrategy=$t(rZ),this.titleStrategy=$t(JD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=$t($m,{optional:!0})?.flat()??[],this.navigationTransitions=$t(Wm),this.urlSerializer=$t(qf),this.location=$t(gm),this.componentInputBindingEnabled=!!$t(Zm,{optional:!0}),this.eventsSubscription=new H,this.isNgZoneEnabled=$t(ir)instanceof ir&&ir.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ed,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=MD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(tx(r)&&this._events.next(r));if(r instanceof pb)QD(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Qf)this.rawUrlTree=i.rawUrl;else if(r instanceof DD){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof mb)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Xf)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof gb){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||QD(i.source)};this.scheduleNavigation(o,Kf,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof jm&&this.restoreHistory(i,!0),r instanceof td&&(this.navigated=!0),tx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Sb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:c,preserveFragment:u}=r,m=u?this.currentUrlTree.fragment:l;let W,x=null;switch(c){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}null!==x&&(x=this.removeEmptyProps(x));try{W=ED(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),W=this.currentUrlTree.root}return TD(W,e,x,m??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=bc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Kf,null,r)}navigate(e,r={skipLocationChange:!1}){return function fZ(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new Gt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...uZ}:!1===r?{...dZ}:r,bc(e))return fD(this.currentUrlTree,e,i);const o=this.parseUrl(e);return fD(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let c,u,m;l?(c=l.resolve,u=l.reject,m=l.promise):m=new Promise((W,_e)=>{c=W,u=_e});const x=this.pendingTasks.add();return function ex(t,n){t.events.pipe(oo(e=>e instanceof td||e instanceof Xf||e instanceof jm||e instanceof Qf),pe(e=>e instanceof td||e instanceof Qf?oh.COMPLETE:e instanceof Xf&&(0===e.code||1===e.code)?oh.REDIRECTING:oh.FAILED),oo(e=>e!==oh.REDIRECTING),ko(1)).subscribe(()=>{n()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(W=>Promise.reject(W))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tx(t){return!(t instanceof mb||t instanceof gb)}let La=(()=>{class t{constructor(e,r,i,o,l,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new xe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof td&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function JT(t,n,e){return function XO(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?QT:lc}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(yt(Fo),yt(_a),oc("tabindex"),yt(Ma),yt(xr),yt(mm))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&or("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&ni("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Wu],skipLocationChange:["skipLocationChange","skipLocationChange",Wu],replaceUrl:["replaceUrl","replaceUrl",Wu],routerLink:"routerLink"},standalone:!0,features:[cS,ne]})}return t})();const xb=new un("");function rx(t){return t.routerState.root}function ix(){const t=$t(Do);return n=>{const e=t.get(hl);if(n!==e.components[0])return;const r=t.get(Fo),i=t.get(ox);1===t.get(Rb)&&r.initialNavigation(),t.get(sx,null,Er.Optional)?.setUpPreloading(),t.get(xb,null,Er.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ox=new un("",{factory:()=>new xe}),Rb=new un("",{providedIn:"root",factory:()=>1}),sx=new un("");let EZ=(()=>{class t{#e=$t(js);set data(e){this._data=e,this.#t()}#t(){const e=document.implementation.createHTMLDocument().createElement("p");e.innerHTML=this._data.embed,Array.from(e.getElementsByTagName("iframe")).forEach(r=>{r.setAttribute("loading","lazy"),r.style.position="relative",r.style.maxWidth="100vw"}),this._embed=this.#e.bypassSecurityTrustHtml(e.innerHTML)}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=pr({type:t,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(r,i){1&r&&Wn(0,"div",0),2&r&&qt("innerHTML",i._embed,nv)},changeDetection:0})}return t})();const TZ=["gallery"];function wZ(t,n){if(1&t){const e=Ii();sn(0,"figure")(1,"img",3),or("load",function(){return ln(e),cn(Nn().onLoad())})("click",function(){const o=ln(e).$implicit;return cn(Nn().onClick(o.href))}),dn()()}if(2&t){const e=n.$implicit,r=Nn();Xt(1),qt("src",e.src,lc)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const SZ=function(t){return{"set-scrollbar":t}};let CZ=(()=>{class t{#e;set fig(e){e&&e.nativeElement&&(this.#e=e.nativeElement)}onLoad(){this.#e&&(this.#e.scrollLeft=0)}onClick(e){String.isNullOrWhitespace(e)||window.open(e,"_blank","noopener,noreferrer")}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=pr({type:t,selectors:[["post-body-image"]],viewQuery:function(r,i){if(1&r&&Mo(TZ,5),2&r){let o;ri(o=ii())&&(i.fig=o.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(r,i){1&r&&(sn(0,"div",0,1),An(2,wZ,2,3,"figure",2),dn()),2&r&&(qt("ngClass",fa(2,SZ,i.data.images.length>1)),Xt(2),qt("ngForOf",i.data.images))},dependencies:[Xu,ml],changeDetection:0})}return t})(),lx=(()=>{class t{#e="";#t=$t(js);constructor(){this.#e=document.baseURI.replace(window.location.origin,""),this.#e.endsWith("/")&&(this.#e=this.#e.slice(0,-1))}sanitizeHTML(e){if(String.isNullOrWhitespace(e))return"";const r=document.implementation.createHTMLDocument().createElement("p");return r.innerHTML=this.#t.sanitize(ki.HTML,e),this.#n(r),r.innerHTML}sanitizeLink(e){if(String.isNullOrWhitespace(e))return{href:"",text:"",external:!1};let r=e;r.startsWith("/")&&(r=`${window.location.origin}${r}`),r=r.replace(window.location.origin,`${this.#e}`).replace("http://www.reddit.com/",`${this.#e}/`).replace("https://www.reddit.com/",`${this.#e}/`).replace("http://np.reddit.com/",`${this.#e}/`).replace("https://np.reddit.com/",`${this.#e}/`).replace("http://reddit.com/",`${this.#e}/`).replace("https://reddit.com/",`${this.#e}/`).replace("http://old.reddit.com/",`${this.#e}/`).replace("https://old.reddit.com/",`${this.#e}/`);const i=!r.startsWith(this.#e);if(!i){const c=r.indexOf("?");c>-1&&(r=r.slice(0,c)),r.endsWith("/")&&(r=r.slice(0,-1))}const o=r.replace(this.#e,""),l=document.createElement("a");return l.href=r,l.innerText=o,i&&(l.setAttribute("target","_blank"),l.setAttribute("rel","noopener noreferrer nofollow")),{href:r,text:o,external:i,el:l}}#n(e){const r=Array.from(e.getElementsByTagName("a"));0!==r.length&&r.forEach(i=>{const o=this.sanitizeLink(i.href);i.replaceWith(o.el)})}static#r=this.\u0275fac=function(r){return new(r||t)};static#i=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Km=(()=>{class t{#e={};save(e="",r=""){this.#e[window.location.href]={yScroll:window.scrollY},this.#t(e,r,this.#e[window.location.href])}#t(e,r,i){if(i.tag_name=e,i.element_id=r,i.element_heights=[],String.isNullOrWhitespace(r)||String.isNullOrWhitespace(e))return;const o=document.querySelectorAll(e);for(let l=0;l<o.length;l++){const c=o[l];if(i.element_heights.push({id:c.id,height:c.getBoundingClientRect().height}),c.id===r)break}}restore(){setTimeout(()=>{const e=this.#e[window.location.href];e?(this.#n(e),window.scrollTo(0,e.yScroll||0),delete this.#e[window.location.href]):window.scrollTo(0,0)},50)}#n(e){if(String.isNullOrWhitespace(e.element_id)||String.isNullOrWhitespace(e.tag_name)||0===e.element_heights?.length)return e.element_id="",e.tag_name="",void(e.element_heights=[]);const r=document.querySelectorAll(e.tag_name);for(let i=0;i<r.length;i++){const o=r[i],l=e.element_heights.find(c=>c.id===o.id);if(null!=l&&(o.style.height=`${l.height}px`,o.id===e.element_id))break}e.element_id="",e.tag_name="",e.element_heights=[]}static#r=this.\u0275fac=function(r){return new(r||t)};static#i=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function IZ(t,n){if(1&t&&(sn(0,"a",4),Or(1),dn()),2&t){const e=Nn(2);qt("href",e.href,lc),Xt(1),xo(e.text)}}function AZ(t,n){if(1&t){const e=Ii();sn(0,"a",5),or("click",function(){return ln(e),cn(Nn(2).on_internal_click())}),Or(1),dn()}if(2&t){const e=Nn(2);qt("routerLink",e.text),Xt(1),xo(e.text)}}function DZ(t,n){if(1&t&&(sn(0,"p",1),An(1,IZ,2,2,"a",2),An(2,AZ,2,2,"a",3),dn()),2&t){const e=Nn();Xt(1),qt("ngIf",e.is_external),Xt(1),qt("ngIf",!e.is_external&&e.show_internal)}}let xZ=(()=>{class t{#e;#t;#n;#r;set data(e){this.#r=e,this.#i()}constructor(){this.#e="",this.#t=$t(lx),this.#n=$t(Km),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,this.#e=document.baseURI,this.#e.endsWith("/")&&(this.#e=this.#e.slice(0,-1))}#i(){const e=this.#t.sanitizeLink(this.#r.url);if(this.href=e.href,this.is_external=e.external,this.is_external)return void(this.text=this.href);this.text=e.text;const r=this.text.indexOf("/r/")+3,i=this.text.indexOf("/",r),o=this.text.slice(r,i);this.show_internal=o.toLowerCase()!==this.#r.subreddit.toLowerCase()}on_internal_click(){this.#n.save("post",this.#r.id)}static#s=this.\u0275fac=function(r){return new(r||t)};static#o=this.\u0275cmp=pr({type:t,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(r,i){1&r&&An(0,DZ,3,2,"p",0),2&r&&qt("ngIf",i.is_external||i.show_internal)},dependencies:[Qi,La],changeDetection:0})}return t})();const RZ=["textPost"],MZ=function(t){return{masked:t}};let Nb,Mb=(()=>{class t{#e;#t;#n;#r;#i;#s;#o;#a;set data(e){null!=e&&(this.#a=e,this.#c())}#l;set post(e){e&&e.nativeElement&&(this.#l=e.nativeElement)}constructor(e,r,i,o,l){this.#e=!0,this._truncated=!0,this.#o="",this.#a="",this.#t=e,this.#n=r,this.#r=i,this.#i=o,this.#s=l,this.#o=document.baseURI,this.#o.endsWith("/")&&(this.#o=this.#o.slice(0,-1))}#c(){this._text=this.#n.bypassSecurityTrustHtml(this.#i.sanitizeHTML(this.#a)),setTimeout(()=>{this._truncated=this.#l.scrollHeight>this.#l.clientHeight,this.#e=this._truncated,this.#t.detectChanges()},0)}onClick(e){const r=e.target;if(r&&"A"===r.tagName){const i=r.href;i.startsWith(this.#o)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),this.#r.navigateByUrl(i.replace(this.#o,"")))}else if(this.#e){if(this._truncated)return this._truncated=!1,void this.#s.save();this._truncated=!0,this.#s.restore()}}static#u=this.\u0275fac=function(r){return new(r||t)(yt(Oo),yt(js),yt(Fo),yt(lx),yt(Km))};static#d=this.\u0275cmp=pr({type:t,selectors:[["text-block"]],viewQuery:function(r,i){if(1&r&&Mo(RZ,5),2&r){let o;ri(o=ii())&&(i.post=o.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(r,i){1&r&&(sn(0,"p",0,1),or("click",function(l){return i.onClick(l)}),dn()),2&r&&qt("ngClass",fa(2,MZ,i._truncated))("innerHTML",i._text,nv)},dependencies:[Xu],changeDetection:0})}return t})(),NZ=(()=>{class t{constructor(){this.data=null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"data"]],template:function(r,i){1&r&&Wn(0,"text-block",0),2&r&&qt("data",null==i.data?null:i.data.selftext_html)},dependencies:[Mb],changeDetection:0})}return t})();try{Nb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Nb=!1}let sd,Ji=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function QV(t){return t===kA}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Nb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(uc))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ux(){if(sd)return sd;if("object"!=typeof document||!document)return sd=new Set(cx),sd;let t=document.createElement("input");return sd=new Set(cx.filter(n=>(t.setAttribute("type",n),t.type===n))),sd}let sh,Tc,Ob;function Ec(t){return function OZ(){if(null==sh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sh=!0}))}finally{sh=sh||!1}return sh}()?t:!!t.capture}function PZ(){if(null==Tc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tc=!1,Tc;if("scrollBehavior"in document.documentElement.style)Tc=!0;else{const t=Element.prototype.scrollTo;Tc=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Tc}function yl(t){return t.composedPath?t.composedPath()[0]:t.target}function Pb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Lb(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class JZ extends H{constructor(n,e){super()}schedule(n,e=0){return this}}const Qm={setInterval(t,n,...e){const{delegate:r}=Qm;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Qm;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Bb extends JZ{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return Qm.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Qm.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ze(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const Ub={now:()=>(Ub.delegate||Date).now(),delegate:void 0};class ah{constructor(n,e=ah.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}ah.now=Ub.now;class Vb extends ah{constructor(n,e=ah.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const Jm=new Vb(Bb),e4=Jm;function jb(t,n=Jm){return It((e,r)=>{let i=null,o=null,l=null;const c=()=>{if(i){i.unsubscribe(),i=null;const m=o;o=null,r.next(m)}};function u(){const m=l+t,x=n.now();if(x<m)return i=this.schedule(void 0,m-x),void r.add(i);c()}e.subscribe(Je(r,m=>{o=m,l=n.now(),i||(i=n.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function px(t){return oo((n,e)=>t<=e)}function so(t){return null!=t&&"false"!=`${t}`}function wc(t,n=0){return function t4(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function eg(t){return Array.isArray(t)?t:[t]}function Ui(t){return null==t?"":"string"==typeof t?t:`${t}px`}function bl(t){return t instanceof xr?t.nativeElement:t}let n4=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mx=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({providers:[n4]})}return t})();const gx=new Set;let Sc,r4=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):o4}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function i4(t,n){if(!gx.has(t))try{Sc||(Sc=document.createElement("style"),n&&(Sc.nonce=n),Sc.setAttribute("type","text/css"),document.head.appendChild(Sc)),Sc.sheet&&(Sc.sheet.insertRule(`@media ${t} {body{ }}`,0),gx.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ji),Wt(dv,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function o4(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let s4=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new xe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _x(eg(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=sb(_x(eg(e)).map(l=>this._registerQuery(l).observable));return o=jf(o.pipe(ko(1)),o.pipe(px(1),jb(0))),o.pipe(pe(l=>{const c={matches:!1,breakpoints:{}};return l.forEach(({matches:u,query:m})=>{c.matches=c.matches||u,c.breakpoints[m]=u}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new Ve(l=>{const c=u=>this._zone.run(()=>l.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Hf(r),pe(({matches:l})=>({query:e,matches:l})),Bi(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(r4),Wt(ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _x(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function tg(t,n){return(t.getAttribute(n)||"").match(/\S+/g)||[]}const yx="cdk-describedby-message",ng="cdk-describedby-host";let Hb=0,c4=(()=>{class t{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Hb++,this._document=e,this._id=$t(Mp)+"-"+Hb++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=Zb(r,i);"string"!=typeof r?(bx(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=Zb(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${ng}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(ng);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");bx(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Zb(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=tg(e,"aria-describedby").filter(i=>0!=i.indexOf(yx));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function a4(t,n,e){const r=tg(t,n);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),t.setAttribute(n,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(ng,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function l4(t,n,e){const i=tg(t,n).filter(o=>o!=e.trim());i.length?t.setAttribute(n,i.join(" ")):t.removeAttribute(n)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(ng)}_isElementDescribedByMessage(e,r){const i=tg(e,"aria-describedby"),o=this._messageRegistry.get(r),l=o&&o.messageElement.id;return!!l&&-1!=i.indexOf(l)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir),Wt(Ji))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zb(t,n){return"string"==typeof t?`${n||""}/${t}`:t}function bx(t,n){t.id||(t.id=`${yx}-${n}-${Hb++}`)}class u4{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xe,this._typeaheadSubscription=H.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new xe,this.change=new xe,n instanceof qu&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Jr(e=>this._pressedLetters.push(e)),jb(n),oo(()=>this._pressedLetters.length>0),pe(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,l=r[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((i||Lb(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof qu?this._items.toArray():this._items}}class d4 extends u4{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function zb(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function Gb(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const _4=new un("cdk-input-modality-detector-options"),v4={ignoreKeys:[18,17,224,91,16]},ad=Ec({passive:!0,capture:!0});let y4=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new zi(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(c=>c===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yl(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(zb(l)?"keyboard":"mouse"),this._mostRecentTarget=yl(l))},this._onTouchstart=l=>{Gb(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yl(l))},this._options={...v4,...o},this.modalityDetected=this._modality.pipe(px(1)),this.modalityChanged=this.modalityDetected.pipe(si()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ad),i.addEventListener("mousedown",this._onMousedown,ad),i.addEventListener("touchstart",this._onTouchstart,ad)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ad),document.removeEventListener("mousedown",this._onMousedown,ad),document.removeEventListener("touchstart",this._onTouchstart,ad))}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ji),Wt(ir),Wt(Ir),Wt(_4,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const E4=new un("cdk-focus-monitor-default-options"),rg=Ec({passive:!0,capture:!0});let lh=(()=>{class t{constructor(e,r,i,o,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xe,this._rootNodeFocusAndBlurListener=c=>{for(let m=yl(c);m;m=m.parentElement)"focus"===c.type?this._onFocus(c,m):this._onBlur(c,m)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){const i=bl(e);if(!this._platform.isBrowser||1!==i.nodeType)return $n();const o=function FZ(t){if(function kZ(){if(null==Ob){const t=typeof document<"u"?document.head:null;Ob=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ob}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const c={checkChildren:r,subject:new xe,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const r=bl(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=bl(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=yl(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,rg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,rg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Bi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(ir),Wt(Ji),Wt(y4),Wt(Ir,8),Wt(E4,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wx="cdk-high-contrast-black-on-white",Sx="cdk-high-contrast-white-on-black",qb="cdk-high-contrast-active";let Cx=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=$t(s4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(qb,wx,Sx),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(qb,wx):2===r&&e.add(qb,Sx)}}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ji),Wt(Ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),T4=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Cx))};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[mx]})}return t})();const w4=new un("cdk-dir-doc",{providedIn:"root",factory:function S4(){return $t(Ir)}}),C4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ig=(()=>{class t{constructor(e){this.value="ltr",this.change=new Zr,e&&(this.value=function I4(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?C4.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(w4,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ch=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({})}return t})();const D4=new un("mat-sanity-checks",{providedIn:"root",factory:function A4(){return!0}});let eo=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Pb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Cx),Wt(D4,8),Wt(Ir))};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[ch,ch]})}return t})();function Dx(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=so(n)}constructor(...n){super(...n),this._disabled=!1}}}function og(t,n){return class extends t{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function Yb(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=so(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function x4(t,n=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?wc(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}function R4(t){return class extends t{updateErrorState(){const n=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==n&&(this.errorState=o,this.stateChanges.next())}constructor(...n){super(...n),this.errorState=!1}}}let xx=(()=>{class t{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class N4{constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Rx=Ec({passive:!0,capture:!0});class O4{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=yl(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(n))})}}addHandler(n,e,r,i){const o=this._events.get(e);if(o){const l=o.get(r);l?l.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Rx)})}removeHandler(n,e,r){const i=this._events.get(n);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,Rx)))}}const Mx={enterDuration:225,exitDuration:150},Nx=Ec({passive:!0,capture:!0}),Ox=["mousedown","touchstart"],Px=["mouseup","mouseleave","touchend","touchcancel"];class sg{static#e=this._eventManager=new O4;constructor(n,e,r,i){this._target=n,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=bl(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Mx,...r.animation};r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const l=r.radius||function k4(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),c=n-i.left,u=e-i.top,m=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=c-l+"px",x.style.top=u-l+"px",x.style.height=2*l+"px",x.style.width=2*l+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(x);const W=window.getComputedStyle(x),Re=W.transitionDuration,Ke="none"===W.transitionProperty||"0s"===Re||"0s, 0s"===Re||0===i.width&&0===i.height,ct=new N4(this,x,r,Ke);x.style.transform="scale3d(1, 1, 1)",ct.state=0,r.persistent||(this._mostRecentTransientRipple=ct);let Bt=null;return!Ke&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Qt=()=>this._finishRippleTransition(ct),Mt=()=>this._destroyRipple(ct);x.addEventListener("transitionend",Qt),x.addEventListener("transitioncancel",Mt),Bt={onTransitionEnd:Qt,onTransitionCancel:Mt}}),this._activeRipples.set(ct,Bt),(Ke||!m)&&this._finishRippleTransition(ct),ct}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...Mx,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=bl(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Ox.forEach(r=>{sg._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Px.forEach(e=>{this._triggerElement.addEventListener(e,this,Nx)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=zb(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Gb(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(Ox.forEach(e=>sg._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&Px.forEach(e=>n.removeEventListener(e,this,Nx)))}}const kx=new un("mat-ripple-global-options");let $b=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new sg(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(ir),yt(Ji),yt(kx,8),yt(Es,8))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&Ti("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})(),dh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[eo,eo]})}return t})();const Fx={capture:!0},Lx=["focus","click","mouseenter","touchstart"],Wb="mat-ripple-loader-uninitialized",Kb="mat-ripple-loader-class-name",Bx="mat-ripple-loader-centered",ag="mat-ripple-loader-disabled";let F4=(()=>{class t{constructor(){this._document=$t(Ir,{optional:!0}),this._animationMode=$t(Es,{optional:!0}),this._globalRippleOptions=$t(kx,{optional:!0}),this._platform=$t(Ji),this._ngZone=$t(ir),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const i=e.target.closest(`[${Wb}]`);i&&this.createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(const e of Lx)this._document?.addEventListener(e,this._onInteraction,Fx)})}ngOnDestroy(){for(const e of Lx)this._document?.removeEventListener(e,this._onInteraction,Fx)}configureRipple(e,r){e.setAttribute(Wb,""),(r.className||!e.hasAttribute(Kb))&&e.setAttribute(Kb,r.className||""),r.centered&&e.setAttribute(Bx,""),r.disabled&&e.setAttribute(ag,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,r){const i=e.matRipple;i?i.disabled=r:r?e.setAttribute(ag,""):e.removeAttribute(ag)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(Kb)),e.append(r);const i=new $b(new xr(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,i.centered=e.hasAttribute(Bx),i.disabled=e.hasAttribute(ag),this.attachRipple(e,i),i}attachRipple(e,r){e.removeAttribute(Wb),e.matRipple=r}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ux(...t){const n=Ri(t),{args:e,keys:r}=nD(t),i=new Ve(o=>{const{length:l}=e;if(!l)return void o.complete();const c=new Array(l);let u=l,m=l;for(let x=0;x<l;x++){let W=!1;fn(e[x]).subscribe(Je(o,_e=>{W||(W=!0,m--),c[x]=_e},()=>u--,void 0,()=>{(!u||!W)&&(m||o.next(r?rD(r,c):c),o.complete())}))}});return n?i.pipe(ob(n)):i}class Xb{}class Ua{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ua?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Ua;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ua?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=n.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(c=>-1===o.indexOf(c)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class L4{encodeKey(n){return Vx(n)}encodeValue(n){return Vx(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const U4=/%(\d[a-f0-9])/gi,V4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vx(t){return encodeURIComponent(t).replace(U4,(n,e)=>V4[e]??n)}function lg(t){return`${t}`}class El{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new L4,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function B4(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,c]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],u=e.get(l)||[];u.push(c),e.set(l,u)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(lg):[lg(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new El({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(lg(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(lg(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class j4{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function jx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Hx(t){return typeof Blob<"u"&&t instanceof Blob}function Zx(t){return typeof FormData<"u"&&t instanceof FormData}class fh{constructor(n,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function H4(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ua),this.context||(this.context=new j4),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+l}}else this.params=new El,this.urlWithParams=e}serializeBody(){return null===this.body?null:jx(this.body)||Hx(this.body)||Zx(this.body)||function Z4(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof El?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Zx(this.body)?null:Hx(this.body)?this.body.type||null:jx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof El?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,l=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,c=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let u=n.headers||this.headers,m=n.params||this.params;const x=n.context??this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((W,_e)=>W.set(_e,n.setHeaders[_e]),u)),n.setParams&&(m=Object.keys(n.setParams).reduce((W,_e)=>W.set(_e,n.setParams[_e]),m)),new fh(e,r,o,{params:m,headers:u,context:x,reportProgress:c,responseType:i,withCredentials:l})}}var Jb=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Jb||{});class z4{constructor(n,e=200,r="OK"){this.headers=n.headers||new Ua,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class hh extends z4{constructor(n={}){super(n),this.type=Jb.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new hh({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}function eE(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let tE=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof fh)o=e;else{let u,m;u=i.headers instanceof Ua?i.headers:new Ua(i.headers),i.params&&(m=i.params instanceof El?i.params:new El({fromObject:i.params})),o=new fh(e,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=$n(o).pipe(Zf(u=>this.handler.handle(u)));if(e instanceof fh||"events"===i.observe)return l;const c=l.pipe(oo(u=>u instanceof hh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(pe(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new El).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,eE(i,r))}post(e,r,i={}){return this.request("POST",e,eE(i,r))}put(e,r,i={}){return this.request("PUT",e,eE(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Xb))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})();const d5=["*"];let dg;function ph(t){return function f5(){if(void 0===dg&&(dg=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(dg=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return dg}()?.createHTML(t)||t}function Jx(t){return Error(`Unable to find icon with the name "${t}"`)}function eR(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function tR(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Ic{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let mh=(()=>{class t{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Ic(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const l=this._sanitizer.sanitize(ki.HTML,i);if(!l)throw tR(i);const c=ph(l);return this._addSvgIconConfig(e,r,new Ic("",c,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Ic(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize(ki.HTML,r);if(!o)throw tR(r);const l=ph(o);return this._addSvgIconSetConfig(e,new Ic("",l,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(ki.RESOURCE_URL,e);if(!r)throw eR(e);const i=this._cachedIconsByUrl.get(r);return i?$n(fg(i)):this._loadSvgIconFromConfig(new Ic(e,null)).pipe(Jr(o=>this._cachedIconsByUrl.set(r,o)),pe(o=>fg(o)))}getNamedSvgIcon(e,r=""){const i=nR(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):Qu(Jx(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?$n(fg(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(pe(r=>fg(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?$n(i):Ux(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(_l(c=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(ki.RESOURCE_URL,l.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(m)),$n(null)})))).pipe(pe(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw Jx(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(l,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Jr(r=>e.svgText=r),pe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?$n(null):this._fetchIcon(e).pipe(Jr(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const c=this._svgElementFromString(ph("<svg></svg>"));return c.appendChild(l),this._setSvgAttributes(c,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(ph("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:l,value:c}=i[o];"id"!==l&&r.setAttribute(l,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function h5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(ki.RESOURCE_URL,r);if(!l)throw eR(r);const c=this._inProgressUrlFetches.get(l);if(c)return c;const u=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe(pe(m=>ph(m)),Pm(()=>this._inProgressUrlFetches.delete(l)),Kt());return this._inProgressUrlFetches.set(l,u),u}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(nR(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return m5(o)?new Ic(o.url,null,o.options):new Ic(o,null)}}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(tE,8),Wt(js),Wt(Ir,8),Wt(Ts))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fg(t){return t.cloneNode(!0)}function nR(t,n){return t+":"+n}function m5(t){return!(!t.url||!t.options)}const g5=og(class{constructor(t){this._elementRef=t}}),_5=new un("MAT_ICON_DEFAULT_OPTIONS"),v5=new un("mat-icon-location",{providedIn:"root",factory:function y5(){const t=$t(Ir),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),rR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],b5=rR.map(t=>`[${t}]`).join(", "),E5=/^url\(['"]?#(.*?)['"]?\)$/;let wl=(()=>{class t extends g5{get inline(){return this._inline}set inline(e){this._inline=so(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,o,l,c){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=H.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(b5),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)rR.forEach(l=>{const c=r[o],u=c.getAttribute(l),m=u?u.match(E5):null;if(m){let x=i.get(c);x||(x=[],i.set(c,x)),x.push({name:l,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(ko(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(mh),oc("aria-hidden"),yt(v5),yt(Ts),yt(_5,8))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(r,i){2&r&&(ni("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ti("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[gr],ngContentSelectors:d5,decls:1,vars:0,template:function(r,i){1&r&&(ca(),Ai(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),us=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[eo,eo]})}return t})(),T5=(()=>{class t{transform(e){const r=new Date(0);r.setUTCSeconds(e||0);const i=r.toISOString().substring(11,19);return r.getUTCHours()>0?i:r.getUTCMinutes()>0?i.substring(3):i.substring(4)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Gi({name:"time",type:t,pure:!0,standalone:!0})}return t})();var w5=xi(584);const S5=["video"];function C5(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",12),or("click",function(){return ln(e),Nn(),cn(Fi(4).play())}),dn()}}function I5(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",13),or("click",function(){return ln(e),Nn(),cn(Fi(4).pause())}),dn()}}function A5(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",16),or("click",function(){ln(e),Nn(2);const i=Fi(4);return cn(i.muted=!i.muted)}),dn()}}function D5(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",17),or("click",function(){ln(e),Nn(2);const i=Fi(4);return cn(i.muted=!i.muted)}),dn()}}function x5(t,n){if(1&t&&(aa(0),An(1,A5,1,0,"mat-icon",14),An(2,D5,1,0,"mat-icon",15),la()),2&t){Nn();const e=Fi(4);Xt(1),qt("ngIf",e.muted),Xt(1),qt("ngIf",!e.muted)}}const R5=function(t){return{"--p":t}};let M5=(()=>{class t{constructor(){this.#e=new IntersectionObserver((e,r)=>this.#a(e,r),{root:null,rootMargin:"32px",threshold:0}),this.#n=!1,this.#r=0,this.#i=!1,this.#s="",this.has_audio=!0,this.cd=$t(Oo)}#e;#t;#n;#r;#i;#s;#o;set value(e){e&&e.nativeElement&&(this.#o=e.nativeElement)}#a(e,r){e[0].isIntersecting?this.#n||(this.#i?this.#t.attachSource(this.#s):this.#o.src=this.#s,this.#n=!0):this.#n&&(this.#o.paused||this.#o.ended||this.#o.pause())}ngOnInit(){var e=this;return ci(function*(){const r=e.data.videos.find(i=>"application/dash+xml"===i.type);e.#s=r?.url||e.data.videos[e.data.videos.length-1].url,null!=r?(e.#i=!0,yield e.#l(e.#s),e.#t=(0,w5.MediaPlayer)().create(),e.#t.initialize(e.#o,"",!1),e.#t.setMute(!0),e.#t.updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:e.#r-1}}}}),e.#e.observe(e.#o)):e.#e.observe(e.#o)})()}ngOnDestroy(){this.#t?.destroy()}onLoadeddata(){this.#i||(this.has_audio="mozHasAudio"in this.#o&&this.#o.mozHasAudio||"webkitAudioDecodedByteCount"in this.#o&&this.#o.webkitAudioDecodedByteCount>0||"audioTracks"in this.#o&&this.#o.audioTracks.length>0,this.#o.muted=!0)}skip(e,r,i){const o=r.getBoundingClientRect();i.currentTime=(e.pageX-o.left)/r.offsetWidth*i.duration}#l(e){var r=this;return ci(function*(){try{const i=yield fetch(e);if(!i.ok)return;const o=yield i.text();if(String.isNullOrWhitespace(o))return;const l=(new DOMParser).parseFromString(o,"application/xml");if(null==l)return;const c=l.querySelector('AdaptationSet[contentType="audio"]');r.has_audio=null!=c;const u=l.querySelector('AdaptationSet[contentType="video"]');if(null==u)return;const m=u.querySelectorAll("Representation");if(null==m||0===m.length)return;const x=Array.from(m).map(W=>Number(W.getAttribute("bandwidth"))).filter(W=>!isNaN(W));if(null==x||0===x.length)return;r.#r=Math.max(...x)}catch{return}})()}static#c=this.\u0275fac=function(r){return new(r||t)};static#u=this.\u0275cmp=pr({type:t,selectors:[["post-body-video"]],viewQuery:function(r,i){if(1&r&&Mo(S5,7),2&r){let o;ri(o=ii())&&(i.value=o.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(r,i){if(1&r){const o=Ii();sn(0,"div",0),Wn(1,"mat-icon",1)(2,"mat-icon",2),dn(),sn(3,"video",3,4),or("loadeddata",function(){return i.onLoadeddata()})("click",function(){ln(o);const c=Fi(4);return cn(c.paused||c.ended?c.play():c.pause())})("timeupdate",function(){return i.cd.detectChanges()}),dn(),sn(5,"div",5),An(6,C5,1,0,"mat-icon",6),An(7,I5,1,0,"mat-icon",7),sn(8,"div",8,9),or("click",function(c){ln(o);const u=Fi(9),m=Fi(4);return cn(i.skip(c,u,m))}),sn(10,"div",10),Or(11),ul(12,"time"),ul(13,"time"),dn()(),An(14,x5,3,2,"ng-container",11),dn()}if(2&r){const o=Fi(4);Xt(6),qt("ngIf",o.paused||o.ended),Xt(1),qt("ngIf",!o.paused&&!o.ended),Xt(1),qt("ngStyle",fa(10,R5,100*((null==o?null:o.currentTime)||0)/o.duration+"%")),Xt(3),em("",dl(12,6,o.currentTime)," / ",dl(13,8,o.duration)," "),Xt(3),qt("ngIf",i.has_audio)}},dependencies:[us,wl,Qi,Dm,T5],changeDetection:0})}return t})();function N5(t,n){1&t&&Wn(0,"post-body-embed",1),2&t&&qt("data",Nn()._data)}function O5(t,n){1&t&&Wn(0,"post-body-image",1),2&t&&qt("data",Nn()._data)}function P5(t,n){1&t&&Wn(0,"post-body-text",1),2&t&&qt("data",Nn()._data)}function k5(t,n){1&t&&Wn(0,"post-body-video",1),2&t&&qt("data",Nn()._data)}function F5(t,n){1&t&&Wn(0,"post-body-link",1),2&t&&qt("data",Nn()._data)}let L5=(()=>{class t{set data(e){this._data=e.is_crosspost?e.crosspost:e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(r,i){1&r&&(An(0,N5,1,1,"post-body-embed",0),An(1,O5,1,1,"post-body-image",0),An(2,P5,1,1,"post-body-text",0),An(3,k5,1,1,"post-body-video",0),An(4,F5,1,1,"post-body-link",0)),2&r&&(qt("ngIf",null==i._data?null:i._data.has_embed),Xt(1),qt("ngIf",null==i._data?null:i._data.has_image),Xt(1),qt("ngIf",null==i._data?null:i._data.has_text),Xt(1),qt("ngIf",null==i._data?null:i._data.has_video),Xt(1),qt("ngIf",null==i._data?null:i._data.has_link))},dependencies:[Qi,EZ,CZ,xZ,NZ,M5],changeDetection:0})}return t})();class Sl{}class iR extends Sl{}var Is=function(t){return t.Listing="Listing",t.Comment="t1",t.Account="t2",t.Link="t3",t.Message="t4",t.Subreddit="t5",t.Award="t6",t.More="more",t}(Is||{});const B5=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function rE(t,n){let e={};return function U5(t,n){if(n.is_crosspost=String.hasData(t.crosspost_parent)&&Array.isArray(t.crosspost_parent_list)&&t.crosspost_parent_list.length>0,t.media?.reddit_video)n.has_video=!0;else if(t.preview?.reddit_video_preview)n.has_video=!0;else if(t.preview&&Array.isArray(t.preview.images)&&t.preview.images[0].variants&&"mp4"in t.preview.images[0].variants)n.has_video=!0;else if(t.media_embed?.content)n.has_embed=!0;else{if(String.hasData(t.selftext_html)&&(n.has_text=!0),t.thumbnail&&"default"===t.thumbnail&&(n.has_link=!0),t.post_hint&&"link"===t.post_hint&&"imgur.com"!==t.domain&&(n.has_link=!0),!t.preview||!Array.isArray(t.preview.images))return t.gallery_data?(n.has_image=!0,void(n.has_image_gallery=!0)):void(B5.some(e=>t.url.endsWith(e))?n.has_image=!0:!n.has_image&&!n.has_text&&(n.has_link=!0));n.has_image=!0}}(t,e),function V5(t,n){n.author=t.author,n.created_utc=t.created_utc,n.downs=t.downs,n.id=t.id,n.num_comments=t.num_comments,n.stickied=t.stickied,n.subreddit=t.subreddit,n.title=t.title,n.ups=t.ups,n.url=t.url}(t,e),function j5(t,n,e){n.is_crosspost&&(n.crosspost=rE(t.crosspost_parent_list[0],e))}(t,e,n),function H5(t,n){n.has_embed&&(n.embed=t.media_embed.content)}(t,e),function Z5(t,n){n.has_image&&(n.images=null!=t.gallery_data?function z5(t){return t.gallery_data.items.map(n=>{const e=t.media_metadata[n.media_id];return"valid"!==e.status?{src:"",srcset:"",href:t.url}:{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:t.url}})}(t):null!=t.preview?function G5(t){const n=t.preview.images[0];return[{src:n.source.url,srcset:n.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:t.url}]}(t):function q5(t){return[{src:t.url,srcset:t.url,href:t.url}]}(t))}(t,e),function X5(t,n){n.has_link&&(n.url=t.url)}(t,e),function Q5(t,n){n.has_text&&(n.selftext_html=t.selftext_html)}(t,e),function Y5(t,n,e){n.has_video&&(n.videos=t.media&&t.media.reddit_video?function $5(t){return[{url:t.media.reddit_video.dash_url,type:"application/dash+xml"},{url:t.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:t.media.reddit_video.fallback_url,type:"video/mp4"}]}(t):t.preview&&t.preview.reddit_video_preview?function W5(t){return[{url:t.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:t.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:t.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}(t):function K5(t){return[{url:t.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(t),!e&&(n.videos=n.videos.filter(r=>"video/mp4"==r.type)))}(t,e,n),e}let oR=(()=>{class t{transform(e){if(null==e)return"-";const r=new Date(Date.now()-1e3*e);return r.getUTCFullYear()>1970?r.getUTCFullYear()-1970+"y":r.getUTCMonth()>0?`${r.getUTCMonth()}mo`:r.getUTCDate()>1?r.getUTCDate()-1+"d":r.getUTCHours()>0?`${r.getUTCHours()}h`:`${r.getUTCMinutes()}m`}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Gi({name:"age",type:t,pure:!0,standalone:!0})}return t})(),J5=(()=>{class t{transform(e){if(isNaN(+`${e}`)||0===e)return"0";const r=Math.log10(e);return r<3?`${e}`:r<6?`${Math.floor(e/1e3)}K`:r<9?`${Math.floor(e/1e6)}M`:"lots"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Gi({name:"count",type:t,pure:!0,standalone:!0})}return t})();class sR{constructor(n,e){this.storage=n,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(n,e,r){const i=this.createItemKey(n),o=new e8;o.value=e,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(n){const e=this.createItemKey(n),r=this.storage.getItem(e);return null===r?null:JSON.parse(r).value}remove(n){this.storage.removeItem(this.createItemKey(n))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const n=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const l=this.storage.getItem(o);if(!l)continue;const c=JSON.parse(l);c.expiresOn&&e>c.expiresOn&&n.push(o)}n.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(n){return`${this.keyPrefix}.${n}`}}class e8{}class iE{constructor(){this.keyPrefix=""}}let t8=(()=>{class t extends sR{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,e.keyPrefix)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(iE))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),n8=(()=>{class t{#e="profile";#t=$t(t8);#n={};#r=JSON.stringify(this.#n);#i=new xe;#s=this.#i.pipe(jb(300)).subscribe(()=>this.#a());#o=!1;get(e){return this.#n[e]}set(e,r){this.#n[e]=r,this.#i.next("")}load(){var e=this;return ci(function*(){if(e.#o)return;const r=e.#t.get(e.#e);null!=r&&(e.#n=r,e.#r=JSON.stringify(e.#n),e.#o=!0)})()}#a(){const e=JSON.stringify(this.#n);e!==this.#r&&(this.#r=e,this.#t.set(this.#e,this.#n))}ngOnDestroy(){this.#s.unsubscribe()}static#l=this.\u0275fac=function(r){return new(r||t)};static#c=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aR=(()=>{class t{#e="subreddits";#t=[];#n=$t(n8);add(e){String.isNullOrWhitespace(e)||this.#t.includes(e)||(this.#t.push(e),this.#t.sort(),this.#n.set(this.#e,this.#t))}get(){return[...this.#t]}remove(e){String.isNullOrWhitespace(e)||(this.#t=this.#t.filter(r=>r!==e),this.#n.set(this.#e,this.#t))}loadAsync(){var e=this;return ci(function*(){yield e.#n.load(),e.#t=["algotrading","android","angular","angular2","angularjs","artificial","askreddit","askscience","bestof","ChatGPT","ChatGPTCoding","ChatGPTPromptGenius","coding","computing","csharp","deeplearning","desmoines","dotnet","funny","futurology","GooglePixel","interestingasfuck","javascript","mademesmile","microsoft","nextfuckinglevel","personalfinance","pixel_phones","programming","science","space","starshipporn","startrek","technology","typescript","web_design","worldnews"]})()}static#r=this.\u0275fac=function(r){return new(r||t)};static#i=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),As=(()=>{class t{#e=new xe;constructor(){}raise(e){if(null==e)throw new Error("domainEvent missing");let r="function"==typeof e?new e:"object"==typeof e?e:null;if(!(r&&r instanceof Sl))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");this.#e.next(r)}handle(e){return this.#e.pipe(oo(r=>r instanceof e),pe(r=>r))}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ac extends Sl{}class Dc extends Sl{#e;get kill(){return this.#e}constructor(n=!1){super(),this.#e=n}}function ld(t){t||(Lp(),t=$t(ff));const n=new Ve(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(Bi(n))}const y8=["determinateSpinner"];function b8(t,n){if(1&t&&(na(),sn(0,"svg",11),Wn(1,"circle",12),dn()),2&t){const e=Nn();ni("viewBox",e._viewBox()),Xt(1),Zu("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),ni("r",e._circleRadius())}}const E8=og(class{constructor(t){this._elementRef=t}},"primary"),T8=new un("mat-progress-spinner-default-options",{providedIn:"root",factory:function w8(){return{diameter:vR}}}),vR=100;let C8=(()=>{class t extends E8{constructor(e,r,i){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=vR,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,wc(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=wc(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=wc(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(Es,8),yt(T8))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(1&r&&Mo(y8,5),2&r){let o;ri(o=ii())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(r,i){2&r&&(ni("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),Zu("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),Ti("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[gr],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(1&r&&(An(0,b8,2,8,"ng-template",null,0,hy),sn(2,"div",1,2),na(),sn(4,"svg",3),Wn(5,"circle",4),dn()(),function xa(){!function ol(){vt.lFrame.currentNamespace=null}()}(),sn(6,"div",5)(7,"div",6)(8,"div",7),Tf(9,8),dn(),sn(10,"div",9),Tf(11,8),dn(),sn(12,"div",10),Tf(13,8),dn()()()),2&r){const o=Fi(1);Xt(4),ni("viewBox",i._viewBox()),Xt(1),Zu("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),ni("r",i._circleRadius()),Xt(4),qt("ngTemplateOutlet",o),Xt(2),qt("ngTemplateOutlet",o),Xt(2),qt("ngTemplateOutlet",o)}},dependencies:[Gy],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return t})(),I8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[Bf,eo]})}return t})();function A8(t,n){1&t&&(sn(0,"div",1),Wn(1,"mat-spinner",2),dn())}let D8=(()=>{class t{#e;#t;constructor(e){this.#e=0,this.#t=250,this.show=ns(!1),e.handle(Ac).pipe(ld()).subscribe(r=>this.#n()),e.handle(Dc).pipe(ld()).subscribe(r=>this.#r(r))}#n(){this.#e++,window.setTimeout(()=>{0!==this.#e&&this.show.set(!0)},this.#t)}#r(e){e.kill?this.#e=0:this.#e>0&&this.#e--,0===this.#e&&this.show.set(!1)}static#i=this.\u0275fac=function(r){return new(r||t)(yt(As))};static#s=this.\u0275cmp=pr({type:t,selectors:[["throbber"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(r,i){1&r&&An(0,A8,2,0,"div",0),2&r&&qt("ngIf",i.show())},dependencies:[I8,C8,Qi],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"],changeDetection:0})}return t})(),x8=(()=>{class t{#e=$t(As);#t=$t(aR);ngOnInit(){var e=this;return ci(function*(){const r=[e.#t.loadAsync()];e.#e.raise(Ac);try{yield Promise.allSettled(r)}finally{e.#e.raise(Dc)}})()}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=pr({type:t,selectors:[["app-root"]],standalone:!0,features:[Qr],decls:2,vars:0,template:function(r,i){1&r&&Wn(0,"throbber")(1,"router-outlet")},dependencies:[Tb,D8],encapsulation:2})}return t})();class yR{}class R8{}const Va="*";function _h(t,n){return{type:7,name:t,definitions:n,options:{}}}function Il(t,n=null){return{type:4,styles:n,timings:t}}function bR(t,n=null){return{type:2,steps:t,options:n}}function Wo(t){return{type:6,styles:t,offset:null}}function xc(t,n,e){return{type:0,name:t,styles:n,options:e}}function Al(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class vh{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class ER{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++r==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function TR(t){return new Gt(3e3,!1)}function Dl(t){switch(t.length){case 0:return new vh;case 1:return t[0];default:return new ER(t)}}function wR(t,n,e=new Map,r=new Map){const i=[],o=[];let l=-1,c=null;if(n.forEach(u=>{const m=u.get("offset"),x=m==l,W=x&&c||new Map;u.forEach((_e,Re)=>{let Ke=Re,ct=_e;if("offset"!==Re)switch(Ke=t.normalizePropertyName(Ke,i),ct){case"!":ct=e.get(Re);break;case Va:ct=r.get(Re);break;default:ct=t.normalizeStyleValue(Re,Ke,ct,i)}W.set(Ke,ct)}),x||o.push(W),c=W,l=m}),i.length)throw function J8(t){return new Gt(3502,!1)}();return o}function cE(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&uE(e,"start",t)));break;case"done":t.onDone(()=>r(e&&uE(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&uE(e,"destroy",t)))}}function uE(t,n,e){const o=dE(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),l=t._data;return null!=l&&(o._data=l),o}function dE(t,n,e,r,i="",o=0,l){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function ds(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function SR(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const dz=(()=>typeof document>"u"?null:document.documentElement)();function fE(t){const n=t.parentNode||t.host||null;return n===dz?null:n}let Rc=null,CR=!1;function IR(t,n){for(;n;){if(n===t)return!0;n=fE(n)}return!1}function AR(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let DR=(()=>{class t{validateStyleProperty(e){return function hz(t){Rc||(Rc=function pz(){return typeof document<"u"?document.body:null}()||{},CR=!!Rc.style&&"WebkitAppearance"in Rc.style);let n=!0;return Rc.style&&!function fz(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Rc.style,!n&&CR&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Rc.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return IR(e,r)}getParentElement(e){return fE(e)}query(e,r,i){return AR(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,l,c=[],u){return new vh(i,o)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})(),hE=(()=>{class t{static#e=this.NOOP=new DR}return t})();const mz=1e3,pE="ng-enter",gg="ng-leave",_g="ng-trigger",vg=".ng-trigger",RR="ng-animating",mE=".ng-animating";function ja(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:gE(parseFloat(n[1]),n[2])}function gE(t,n){return"s"===n?t*mz:t}function yg(t,n,e){return t.hasOwnProperty("duration")?t:function _z(t,n,e){let i,o=0,l="";if("string"==typeof t){const c=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return n.push(TR()),{duration:0,delay:0,easing:""};i=gE(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(o=gE(parseFloat(u),c[4]));const m=c[5];m&&(l=m)}else i=t;if(!e){let c=!1,u=n.length;i<0&&(n.push(function M8(){return new Gt(3100,!1)}()),c=!0),o<0&&(n.push(function N8(){return new Gt(3101,!1)}()),c=!0),c&&n.splice(u,0,TR())}return{duration:i,delay:o,easing:l}}(t,n,e)}function yh(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function MR(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function xl(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function va(t,n,e){n.forEach((r,i)=>{const o=vE(i);e&&!e.has(i)&&e.set(i,t.style[o]),t.style[o]=r})}function Mc(t,n){n.forEach((e,r)=>{const i=vE(r);t.style[i]=""})}function bh(t){return Array.isArray(t)?1==t.length?t[0]:bR(t):t}const _E=new RegExp("{{\\s*(.+?)\\s*}}","g");function OR(t){let n=[];if("string"==typeof t){let e;for(;e=_E.exec(t);)n.push(e[1]);_E.lastIndex=0}return n}function Eh(t,n,e){const r=t.toString(),i=r.replace(_E,(o,l)=>{let c=n[l];return null==c&&(e.push(function P8(t){return new Gt(3003,!1)}()),c=""),c.toString()});return i==r?t:i}function bg(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const bz=/-+([a-z0-9])/g;function vE(t){return t.replace(bz,(...n)=>n[1].toUpperCase())}function fs(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function k8(t){return new Gt(3004,!1)}()}}function PR(t,n){return window.getComputedStyle(t)[n]}const Eg="*";function wz(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Sz(t,n,e){if(":"==t[0]){const u=function Cz(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function W8(t){return new Gt(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof u)return void n.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function $8(t){return new Gt(3015,!1)}()),n;const i=r[1],o=r[2],l=r[3];n.push(kR(i,l));"<"==o[0]&&!(i==Eg&&l==Eg)&&n.push(kR(l,i))}(r,e,n)):e.push(t),e}const Tg=new Set(["true","1"]),wg=new Set(["false","0"]);function kR(t,n){const e=Tg.has(t)||wg.has(t),r=Tg.has(n)||wg.has(n);return(i,o)=>{let l=t==Eg||t==i,c=n==Eg||n==o;return!l&&e&&"boolean"==typeof i&&(l=i?Tg.has(t):wg.has(t)),!c&&r&&"boolean"==typeof o&&(c=o?Tg.has(n):wg.has(n)),l&&c}}const Iz=new RegExp("s*:selfs*,?","g");function yE(t,n,e,r){return new Az(t).build(n,e,r)}class Az{constructor(n){this._driver=n}build(n,e,r){const i=new Rz(e);return this._resetContextStyleTimingState(i),fs(this,bh(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],l=[];return"@"==n.name.charAt(0)&&e.errors.push(function L8(){return new Gt(3006,!1)}()),n.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const u=c,m=u.name;m.toString().split(/\s*,\s*/).forEach(x=>{u.name=x,o.push(this.visitState(u,e))}),u.name=m}else if(1==c.type){const u=this.visitTransition(c,e);r+=u.queryCount,i+=u.depCount,l.push(u)}else e.errors.push(function B8(){return new Gt(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const o=new Set,l=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{OR(u).forEach(m=>{l.hasOwnProperty(m)||o.add(m)})})}),o.size&&(bg(o.values()),e.errors.push(function U8(t,n){return new Gt(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=fs(this,bh(n.animation),e);return{type:1,matchers:wz(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Nc(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>fs(this,r,e)),options:Nc(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const o=n.steps.map(l=>{e.currentTime=r;const c=fs(this,l,e);return i=Math.max(i,e.currentTime),c});return e.currentTime=i,{type:3,steps:o,options:Nc(n.options)}}visitAnimate(n,e){const r=function Nz(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return bE(yg(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=bE(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=yg(e,n);return bE(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,o=n.styles?n.styles:Wo({});if(5==o.type)i=this.visitKeyframes(o,e);else{let l=n.styles,c=!1;if(!l){c=!0;const m={};r.easing&&(m.easing=r.easing),l=Wo(m)}e.currentTime+=r.duration+r.delay;const u=this.visitStyle(l,e);u.isEmptyStep=c,i=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let c of i)"string"==typeof c?c===Va?r.push(c):e.errors.push(new Gt(3002,!1)):r.push(MR(c));let o=!1,l=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!o))for(let u of c.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:l,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,u)=>{const m=e.collectedStyles.get(e.currentQuerySelector),x=m.get(u);let W=!0;x&&(o!=i&&o>=x.startTime&&i<=x.endTime&&(e.errors.push(function j8(t,n,e,r,i){return new Gt(3010,!1)}()),W=!1),o=x.startTime),W&&m.set(u,{startTime:o,endTime:i}),e.options&&function yz(t,n,e){const r=n.params||{},i=OR(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function O8(t){return new Gt(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function H8(){return new Gt(3011,!1)}()),r;let o=0;const l=[];let c=!1,u=!1,m=0;const x=n.steps.map(Qt=>{const Mt=this._makeStyleAst(Qt,e);let Mn=null!=Mt.offset?Mt.offset:function Mz(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(Mt.styles),kn=0;return null!=Mn&&(o++,kn=Mt.offset=Mn),u=u||kn<0||kn>1,c=c||kn<m,m=kn,l.push(kn),Mt});u&&e.errors.push(function Z8(){return new Gt(3012,!1)}()),c&&e.errors.push(function z8(){return new Gt(3200,!1)}());const W=n.steps.length;let _e=0;o>0&&o<W?e.errors.push(function G8(){return new Gt(3202,!1)}()):0==o&&(_e=1/(W-1));const Re=W-1,Ke=e.currentTime,ct=e.currentAnimateTimings,Bt=ct.duration;return x.forEach((Qt,Mt)=>{const Mn=_e>0?Mt==Re?1:_e*Mt:l[Mt],kn=Mn*Bt;e.currentTime=Ke+ct.delay+kn,ct.duration=kn,this._validateStyleAst(Qt,e),Qt.offset=Mn,r.styles.push(Qt)}),r}visitReference(n,e){return{type:8,animation:fs(this,bh(n.animation),e),options:Nc(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Nc(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Nc(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[o,l]=function Dz(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Iz,"")),t=t.replace(/@\*/g,vg).replace(/@\w+/g,e=>vg+"-"+e.slice(1)).replace(/:animating/g,mE),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+o:o,ds(e.collectedStyles,e.currentQuerySelector,new Map);const c=fs(this,bh(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:c,originalSelector:n.selector,options:Nc(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function q8(){return new Gt(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:yg(n.timings,e.errors,!0);return{type:12,animation:fs(this,bh(n.animation),e),timings:r,options:null}}}class Rz{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Nc(t){return t?(t=yh(t)).params&&(t.params=function xz(t){return t?yh(t):null}(t.params)):t={},t}function bE(t,n,e){return{duration:t,delay:n,easing:e}}function EE(t,n,e,r,i,o,l=null,c=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:c}}class Sg{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const kz=new RegExp(":enter","g"),Lz=new RegExp(":leave","g");function TE(t,n,e,r,i,o=new Map,l=new Map,c,u,m=[]){return(new Bz).buildKeyframes(t,n,e,r,i,o,l,c,u,m)}class Bz{buildKeyframes(n,e,r,i,o,l,c,u,m,x=[]){m=m||new Sg;const W=new wE(n,e,m,i,o,x,[]);W.options=u;const _e=u.delay?ja(u.delay):0;W.currentTimeline.delayNextStep(_e),W.currentTimeline.setStyles([l],null,W.errors,u),fs(this,r,W);const Re=W.timelines.filter(Ke=>Ke.containsAnimation());if(Re.length&&c.size){let Ke;for(let ct=Re.length-1;ct>=0;ct--){const Bt=Re[ct];if(Bt.element===e){Ke=Bt;break}}Ke&&!Ke.allowOnlyTimelineStyles()&&Ke.setStyles([c],null,W.errors,u)}return Re.length?Re.map(Ke=>Ke.buildKeyframes()):[EE(e,[],[],[],0,_e,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const o=i?.delay;if(o){const l="number"==typeof o?o:ja(Eh(o,i?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(n,e,r){let o=e.currentTimeline.currentTime;const l=null!=r.duration?ja(r.duration):null,c=null!=r.delay?ja(r.delay):null;return 0!==l&&n.forEach(u=>{const m=e.appendInstructionToTimeline(u,l,c);o=Math.max(o,m.duration+m.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),fs(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const o=n.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cg);const l=ja(o.delay);i.delayNextStep(l)}n.steps.length&&(n.steps.forEach(l=>fs(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?ja(n.options.delay):0;n.steps.forEach(l=>{const c=e.createSubContext(n.options);o&&c.delayNextStep(o),fs(this,l,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return yg(e.params?Eh(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,c=e.createSubContext().currentTimeline;c.easing=r.easing,n.styles.forEach(u=>{c.forwardTime((u.offset||0)*o),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(i+o),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},o=i.delay?ja(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cg);let l=r;const c=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((m,x)=>{e.currentQueryIndex=x;const W=e.createSubContext(n.options,m);o&&W.delayNextStep(o),m===e.element&&(u=W.currentTimeline),fs(this,n.animation,W),W.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,W.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,o=n.timings,l=Math.abs(o.duration),c=l*(e.currentQueryTotal-1);let u=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=r.currentStaggerTime}const x=e.currentTimeline;u&&x.delayNextStep(u);const W=x.currentTime;fs(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-W+(i.startTime-r.currentTimeline.startTime)}}const Cg={};class wE{constructor(n,e,r,i,o,l,c,u){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Ig(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=ja(r.duration)),null!=r.delay&&(i.delay=ja(r.delay));const o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!l.hasOwnProperty(c))&&(l[c]=Eh(o[c],l,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,o=new wE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=Cg,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new Uz(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,o,l){let c=[];if(i&&c.push(this.element),n.length>0){n=(n=n.replace(kz,"."+this._enterClassName)).replace(Lz,"."+this._leaveClassName);let m=this._driver.query(this.element,n,1!=r);0!==r&&(m=r<0?m.slice(m.length+r,m.length):m.slice(0,r)),c.push(...m)}return!o&&0==c.length&&l.push(function Y8(t){return new Gt(3014,!1)}()),c}}class Ig{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Ig(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Va),this._currentKeyframe.set(e,Va);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},l=function Vz(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let o of r)e.set(o,Va)}else xl(i,e)}),e}(n,this._globalTimelineStyles);for(let[c,u]of l){const m=Eh(u,o,r);this._pendingStyles.set(c,m),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Va),this._updateStyle(c,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,u)=>{const m=xl(c,new Map,this._backFill);m.forEach((x,W)=>{"!"===x?n.add(W):x===Va&&e.add(W)}),r||m.set("offset",u/this.duration),i.push(m)});const o=n.size?bg(n.values()):[],l=e.size?bg(e.values()):[];if(r){const c=i[0],u=new Map(c);c.set("offset",0),u.set("offset",1),i=[c,u]}return EE(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class Uz extends Ig{constructor(n,e,r,i,o,l,c=!1){super(n,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=r+e,c=e/l,u=xl(n[0]);u.set("offset",0),o.push(u);const m=xl(n[0]);m.set("offset",BR(c)),o.push(m);const x=n.length-1;for(let W=1;W<=x;W++){let _e=xl(n[W]);const Re=_e.get("offset");_e.set("offset",BR((e+Re*r)/l)),o.push(_e)}r=l,e=0,i="",n=o}return EE(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function BR(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class SE{}const jz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hz extends SE{normalizePropertyName(n,e){return vE(n)}normalizeStyleValue(n,e,r,i){let o="";const l=r.toString().trim();if(jz.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function F8(t,n){return new Gt(3005,!1)}())}return l+o}}function UR(t,n,e,r,i,o,l,c,u,m,x,W,_e){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:l,timelines:c,queriedElements:u,preStyleProps:m,postStyleProps:x,totalTime:W,errors:_e}}const CE={};class VR{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function Zz(t,n,e,r,i){return t.some(o=>o(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,o,l,c,u,m,x){const W=[],_e=this.ast.options&&this.ast.options.params||CE,Ke=this.buildStyles(r,c&&c.params||CE,W),ct=u&&u.params||CE,Bt=this.buildStyles(i,ct,W),Qt=new Set,Mt=new Map,Mn=new Map,kn="void"===i,hr={params:zz(ct,_e),delay:this.ast.options?.delay},oi=x?[]:TE(n,e,this.ast.animation,o,l,Ke,Bt,hr,m,W);let pi=0;if(oi.forEach(hs=>{pi=Math.max(hs.duration+hs.delay,pi)}),W.length)return UR(e,this._triggerName,r,i,kn,Ke,Bt,[],[],Mt,Mn,pi,W);oi.forEach(hs=>{const qs=hs.element,e_=ds(Mt,qs,new Set);hs.preStyleProps.forEach(Fc=>e_.add(Fc));const Oh=ds(Mn,qs,new Set);hs.postStyleProps.forEach(Fc=>Oh.add(Fc)),qs!==e&&Qt.add(qs)});const ho=bg(Qt.values());return UR(e,this._triggerName,r,i,kn,Ke,Bt,oi,ho,Mt,Mn,pi)}}function zz(t,n){const e=yh(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class Gz{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=yh(this.defaultParams);return Object.keys(n).forEach(o=>{const l=n[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,c)=>{l&&(l=Eh(l,i,e));const u=this.normalizer.normalizePropertyName(c,e);l=this.normalizer.normalizeStyleValue(c,u,l,e),r.set(c,l)})}),r}}class Yz{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new Gz(i.style,i.options&&i.options.params||{},r))}),jR(this.states,"true","1"),jR(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new VR(n,i,this.states))}),this.fallbackTransition=function $z(t,n,e){return new VR(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(l=>l.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function jR(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const Wz=new Sg;class Kz{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],o=yE(this._driver,e,r,[]);if(r.length)throw function ez(t){return new Gt(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,r){const i=n.element,o=wR(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],o=this._animations.get(n);let l;const c=new Map;if(o?(l=TE(this._driver,e,o,pE,gg,new Map,new Map,r,Wz,i),l.forEach(x=>{const W=ds(c,x.element,new Map);x.postStyleProps.forEach(_e=>W.set(_e,null))})):(i.push(function tz(){return new Gt(3300,!1)}()),l=[]),i.length)throw function nz(t){return new Gt(3504,!1)}();c.forEach((x,W)=>{x.forEach((_e,Re)=>{x.set(Re,this._driver.computeStyle(W,Re,Va))})});const m=Dl(l.map(x=>{const W=c.get(x.element);return this._buildPlayer(x,new Map,W)}));return this._playersById.set(n,m),m.onDestroy(()=>this.destroy(n)),this.players.push(m),m}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function rz(t){return new Gt(3301,!1)}();return e}listen(n,e,r,i){const o=dE(e,"","","");return cE(this._getPlayer(n),r,o,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const HR="ng-animate-queued",IE="ng-animate-disabled",tG=[],ZR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zs="__ng_removed";class AE{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function sG(t){return t??null}(r?n.value:n),r){const o=yh(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Th="void",DE=new AE(Th);class rG{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ds(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function iz(t,n){return new Gt(3302,!1)}();if(null==r||0==r.length)throw function oz(t){return new Gt(3303,!1)}();if(!function aG(t){return"start"==t||"done"==t}(r))throw function sz(t,n){return new Gt(3400,!1)}();const o=ds(this._elementListeners,n,[]),l={name:e,phase:r,callback:i};o.push(l);const c=ds(this._engine.statesByElement,n,new Map);return c.has(e)||(Ds(n,_g),Ds(n,_g+"-"+e),c.set(e,DE)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(l);u>=0&&o.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function az(t){return new Gt(3401,!1)}();return e}trigger(n,e,r,i=!0){const o=this._getTrigger(e),l=new xE(this.id,e,n);let c=this._engine.statesByElement.get(n);c||(Ds(n,_g),Ds(n,_g+"-"+e),this._engine.statesByElement.set(n,c=new Map));let u=c.get(e);const m=new AE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&m.absorbOptions(u.options),c.set(e,m),u||(u=DE),m.value!==Th&&u.value===m.value){if(!function uG(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(u.params,m.params)){const ct=[],Bt=o.matchStyles(u.value,u.params,ct),Qt=o.matchStyles(m.value,m.params,ct);ct.length?this._engine.reportError(ct):this._engine.afterFlush(()=>{Mc(n,Bt),va(n,Qt)})}return}const _e=ds(this._engine.playersByElement,n,[]);_e.forEach(ct=>{ct.namespaceId==this.id&&ct.triggerName==e&&ct.queued&&ct.destroy()});let Re=o.matchTransition(u.value,m.value,n,m.params),Ke=!1;if(!Re){if(!i)return;Re=o.fallbackTransition,Ke=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:Re,fromState:u,toState:m,player:l,isFallbackTransition:Ke}),Ke||(Ds(n,HR),l.onStart(()=>{ud(n,HR)})),l.onDone(()=>{let ct=this.players.indexOf(l);ct>=0&&this.players.splice(ct,1);const Bt=this._engine.playersByElement.get(n);if(Bt){let Qt=Bt.indexOf(l);Qt>=0&&Bt.splice(Qt,1)}}),this.players.push(l),_e.push(l),l}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,vg,!0);r.forEach(i=>{if(i[Zs])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const o=this._engine.statesByElement.get(n),l=new Map;if(o){const c=[];if(o.forEach((u,m)=>{if(l.set(m,u.value),this._triggers.has(m)){const x=this.trigger(n,m,Th,i);x&&c.push(x)}}),c.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,l),r&&Dl(c).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const u=this._triggers.get(l).fallbackTransition,m=r.get(l)||DE,x=new AE(Th),W=new xE(this.id,l,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:l,transition:u,fromState:m,toState:x,player:W,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let l=n;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Zs];(!o||o===ZR)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){Ds(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,l=this._elementListeners.get(o);l&&l.forEach(c=>{if(c.name==r.triggerName){const u=dE(o,r.triggerName,r.fromState.value,r.toState.value);u._data=n,cE(r.player,c.phase,u,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class iG{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new rG(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,c=this.driver.getParentElement(e);for(;c;){const u=i.get(c);if(u){const m=r.indexOf(u);r.splice(m+1,0,n),l=!0;break}c=this.driver.getParentElement(c)}l||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(n,e,r,i){if(Ag(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!Ag(e))return;const o=e[Zs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(n){const l=this._fetchNamespace(n);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ds(n,IE)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ud(n,IE))}removeNode(n,e,r){if(Ag(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,o){this.collectedLeaveElements.push(e),e[Zs]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,r,i,o){return Ag(e)?this._fetchNamespace(n).listen(e,r,i,o):()=>{}}_buildInstruction(n,e,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,vg,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,mE,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Dl(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Zs];if(e&&e.setForRemoval){if(n[Zs]=ZR,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(IE)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ds(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Dl(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function lz(t){return new Gt(3402,!1)}()}_flushAnimations(n,e){const r=new Sg,i=[],o=new Map,l=[],c=new Map,u=new Map,m=new Map,x=new Set;this.disabledNodes.forEach(Zn=>{x.add(Zn);const er=this.driver.query(Zn,".ng-animate-queued",!0);for(let sr=0;sr<er.length;sr++)x.add(er[sr])});const W=this.bodyNode,_e=Array.from(this.statesByElement.keys()),Re=qR(_e,this.collectedEnterElements),Ke=new Map;let ct=0;Re.forEach((Zn,er)=>{const sr=pE+ct++;Ke.set(er,sr),Zn.forEach(Ur=>Ds(Ur,sr))});const Bt=[],Qt=new Set,Mt=new Set;for(let Zn=0;Zn<this.collectedLeaveElements.length;Zn++){const er=this.collectedLeaveElements[Zn],sr=er[Zs];sr&&sr.setForRemoval&&(Bt.push(er),Qt.add(er),sr.hasAnimation?this.driver.query(er,".ng-star-inserted",!0).forEach(Ur=>Qt.add(Ur)):Mt.add(er))}const Mn=new Map,kn=qR(_e,Array.from(Qt));kn.forEach((Zn,er)=>{const sr=gg+ct++;Mn.set(er,sr),Zn.forEach(Ur=>Ds(Ur,sr))}),n.push(()=>{Re.forEach((Zn,er)=>{const sr=Ke.get(er);Zn.forEach(Ur=>ud(Ur,sr))}),kn.forEach((Zn,er)=>{const sr=Mn.get(er);Zn.forEach(Ur=>ud(Ur,sr))}),Bt.forEach(Zn=>{this.processLeaveNode(Zn)})});const hr=[],oi=[];for(let Zn=this._namespaceList.length-1;Zn>=0;Zn--)this._namespaceList[Zn].drainQueuedTransitions(e).forEach(sr=>{const Ur=sr.player,ao=sr.element;if(hr.push(Ur),this.collectedEnterElements.length){const bo=ao[Zs];if(bo&&bo.setForMove){if(bo.previousTriggersValues&&bo.previousTriggersValues.has(sr.triggerName)){const Lc=bo.previousTriggersValues.get(sr.triggerName),xs=this.statesByElement.get(sr.element);if(xs&&xs.has(sr.triggerName)){const t_=xs.get(sr.triggerName);t_.value=Lc,xs.set(sr.triggerName,t_)}}return void Ur.destroy()}}const ya=!W||!this.driver.containsElement(W,ao),ps=Mn.get(ao),Nl=Ke.get(ao),Si=this._buildInstruction(sr,r,Nl,ps,ya);if(Si.errors&&Si.errors.length)return void oi.push(Si);if(ya)return Ur.onStart(()=>Mc(ao,Si.fromStyles)),Ur.onDestroy(()=>va(ao,Si.toStyles)),void i.push(Ur);if(sr.isFallbackTransition)return Ur.onStart(()=>Mc(ao,Si.fromStyles)),Ur.onDestroy(()=>va(ao,Si.toStyles)),void i.push(Ur);const lN=[];Si.timelines.forEach(bo=>{bo.stretchStartingKeyframe=!0,this.disabledNodes.has(bo.element)||lN.push(bo)}),Si.timelines=lN,r.append(ao,Si.timelines),l.push({instruction:Si,player:Ur,element:ao}),Si.queriedElements.forEach(bo=>ds(c,bo,[]).push(Ur)),Si.preStyleProps.forEach((bo,Lc)=>{if(bo.size){let xs=u.get(Lc);xs||u.set(Lc,xs=new Set),bo.forEach((t_,w0)=>xs.add(w0))}}),Si.postStyleProps.forEach((bo,Lc)=>{let xs=m.get(Lc);xs||m.set(Lc,xs=new Set),bo.forEach((t_,w0)=>xs.add(w0))})});if(oi.length){const Zn=[];oi.forEach(er=>{Zn.push(function cz(t,n){return new Gt(3505,!1)}())}),hr.forEach(er=>er.destroy()),this.reportError(Zn)}const pi=new Map,ho=new Map;l.forEach(Zn=>{const er=Zn.element;r.has(er)&&(ho.set(er,er),this._beforeAnimationBuild(Zn.player.namespaceId,Zn.instruction,pi))}),i.forEach(Zn=>{const er=Zn.element;this._getPreviousPlayers(er,!1,Zn.namespaceId,Zn.triggerName,null).forEach(Ur=>{ds(pi,er,[]).push(Ur),Ur.destroy()})});const hs=Bt.filter(Zn=>$R(Zn,u,m)),qs=new Map;GR(qs,this.driver,Mt,m,Va).forEach(Zn=>{$R(Zn,u,m)&&hs.push(Zn)});const Oh=new Map;Re.forEach((Zn,er)=>{GR(Oh,this.driver,new Set(Zn),u,"!")}),hs.forEach(Zn=>{const er=qs.get(Zn),sr=Oh.get(Zn);qs.set(Zn,new Map([...er?.entries()??[],...sr?.entries()??[]]))});const Fc=[],sN=[],aN={};l.forEach(Zn=>{const{element:er,player:sr,instruction:Ur}=Zn;if(r.has(er)){if(x.has(er))return sr.onDestroy(()=>va(er,Ur.toStyles)),sr.disabled=!0,sr.overrideTotalTime(Ur.totalTime),void i.push(sr);let ao=aN;if(ho.size>1){let ps=er;const Nl=[];for(;ps=ps.parentNode;){const Si=ho.get(ps);if(Si){ao=Si;break}Nl.push(ps)}Nl.forEach(Si=>ho.set(Si,ao))}const ya=this._buildAnimation(sr.namespaceId,Ur,pi,o,Oh,qs);if(sr.setRealPlayer(ya),ao===aN)Fc.push(sr);else{const ps=this.playersByElement.get(ao);ps&&ps.length&&(sr.parentPlayer=Dl(ps)),i.push(sr)}}else Mc(er,Ur.fromStyles),sr.onDestroy(()=>va(er,Ur.toStyles)),sN.push(sr),x.has(er)&&i.push(sr)}),sN.forEach(Zn=>{const er=o.get(Zn.element);if(er&&er.length){const sr=Dl(er);Zn.setRealPlayer(sr)}}),i.forEach(Zn=>{Zn.parentPlayer?Zn.syncPlayerEvents(Zn.parentPlayer):Zn.destroy()});for(let Zn=0;Zn<Bt.length;Zn++){const er=Bt[Zn],sr=er[Zs];if(ud(er,gg),sr&&sr.hasAnimation)continue;let Ur=[];if(c.size){let ya=c.get(er);ya&&ya.length&&Ur.push(...ya);let ps=this.driver.query(er,mE,!0);for(let Nl=0;Nl<ps.length;Nl++){let Si=c.get(ps[Nl]);Si&&Si.length&&Ur.push(...Si)}}const ao=Ur.filter(ya=>!ya.destroyed);ao.length?lG(this,er,ao):this.processLeaveNode(er)}return Bt.length=0,Fc.forEach(Zn=>{this.players.push(Zn),Zn.onDone(()=>{Zn.destroy();const er=this.players.indexOf(Zn);this.players.splice(er,1)}),Zn.play()}),Fc}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,o){let l=[];if(e){const c=this.playersByQueriedElement.get(n);c&&(l=c)}else{const c=this.playersByElement.get(n);if(c){const u=!o||o==Th;c.forEach(m=>{m.queued||!u&&m.triggerName!=i||l.push(m)})}}return(r||i)&&(l=l.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),l}_beforeAnimationBuild(n,e,r){const o=e.element,l=e.isRemovalTransition?void 0:n,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const m=u.element,x=m!==o,W=ds(r,m,[]);this._getPreviousPlayers(m,x,l,c,e.toState).forEach(Re=>{const Ke=Re.getRealPlayer();Ke.beforeDestroy&&Ke.beforeDestroy(),Re.destroy(),W.push(Re)})}Mc(o,e.fromStyles)}_buildAnimation(n,e,r,i,o,l){const c=e.triggerName,u=e.element,m=[],x=new Set,W=new Set,_e=e.timelines.map(Ke=>{const ct=Ke.element;x.add(ct);const Bt=ct[Zs];if(Bt&&Bt.removedBeforeQueried)return new vh(Ke.duration,Ke.delay);const Qt=ct!==u,Mt=function cG(t){const n=[];return YR(t,n),n}((r.get(ct)||tG).map(pi=>pi.getRealPlayer())).filter(pi=>!!pi.element&&pi.element===ct),Mn=o.get(ct),kn=l.get(ct),hr=wR(this._normalizer,Ke.keyframes,Mn,kn),oi=this._buildPlayer(Ke,hr,Mt);if(Ke.subTimeline&&i&&W.add(ct),Qt){const pi=new xE(n,c,ct);pi.setRealPlayer(oi),m.push(pi)}return oi});m.forEach(Ke=>{ds(this.playersByQueriedElement,Ke.element,[]).push(Ke),Ke.onDone(()=>function oG(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,Ke.element,Ke))}),x.forEach(Ke=>Ds(Ke,RR));const Re=Dl(_e);return Re.onDestroy(()=>{x.forEach(Ke=>ud(Ke,RR)),va(u,e.toStyles)}),W.forEach(Ke=>{ds(i,Ke,[]).push(Re)}),Re}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new vh(n.duration,n.delay)}}class xE{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new vh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>cE(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){ds(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Ag(t){return t&&1===t.nodeType}function zR(t,n){const e=t.style.display;return t.style.display=n??"none",e}function GR(t,n,e,r,i){const o=[];e.forEach(u=>o.push(zR(u)));const l=[];r.forEach((u,m)=>{const x=new Map;u.forEach(W=>{const _e=n.computeStyle(m,W,i);x.set(W,_e),(!_e||0==_e.length)&&(m[Zs]=nG,l.push(m))}),t.set(m,x)});let c=0;return e.forEach(u=>zR(u,o[c++])),l}function qR(t,n){const e=new Map;if(t.forEach(c=>e.set(c,[])),0==n.length)return e;const i=new Set(n),o=new Map;function l(c){if(!c)return 1;let u=o.get(c);if(u)return u;const m=c.parentNode;return u=e.has(m)?m:i.has(m)?1:l(m),o.set(c,u),u}return n.forEach(c=>{const u=l(c);1!==u&&e.get(u).push(c)}),e}function Ds(t,n){t.classList?.add(n)}function ud(t,n){t.classList?.remove(n)}function lG(t,n,e){Dl(e).onDone(()=>t.processLeaveNode(n))}function YR(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof ER?YR(r.players,n):n.push(r)}}function $R(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(o=>i.add(o)):n.set(t,r),e.delete(t),!0}class Dg{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new iG(n,e,r),this._timelineEngine=new Kz(n,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(n,e,r,i,o){const l=n+"-"+i;let c=this._triggerCache[l];if(!c){const u=[],x=yE(this._driver,o,u,[]);if(u.length)throw function Q8(t,n){return new Gt(3404,!1)}();c=function qz(t,n,e){return new Yz(t,n,e)}(i,x,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(e,i,c)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[o,l]=SR(r);this._timelineEngine.command(o,e,l,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,o){if("@"==r.charAt(0)){const[l,c]=SR(r);return this._timelineEngine.listen(l,e,c,o)}return this._transitionEngine.listen(n,e,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let fG=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&va(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(va(this._element,this._initialStyles),this._endStyles&&(va(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Mc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mc(this._element,this._endStyles),this._endStyles=null),va(this._element,this._initialStyles),this._state=3)}}return t})();function RE(t){let n=null;return t.forEach((e,r)=>{(function hG(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class WR{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:PR(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class pG{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return IR(n,e)}getParentElement(n){return fE(n)}query(n,e,r){return AR(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,o,l=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const m=new Map,x=l.filter(Re=>Re instanceof WR);(function Ez(t,n){return 0===t||0===n})(r,i)&&x.forEach(Re=>{Re.currentSnapshot.forEach((Ke,ct)=>m.set(ct,Ke))});let W=function vz(t){return t.length?t[0]instanceof Map?t:t.map(n=>MR(n)):[]}(e).map(Re=>xl(Re));W=function Tz(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<n.length;o++){let l=n[o];i.forEach(c=>l.set(c,PR(t,c)))}}return n}(n,W,m);const _e=function dG(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=RE(n[0]),n.length>1&&(r=RE(n[n.length-1]))):n instanceof Map&&(e=RE(n)),e||r?new fG(t,e,r):null}(n,W);return new WR(n,W,u,_e)}}let mG=(()=>{class t extends yR{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:Vo.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?bR(e):e;return KR(this._renderer,null,r,"register",[i]),new gG(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(df),Wt(Ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})();class gG extends R8{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new _G(this._id,n,e||{},this._renderer)}}class _G{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return KR(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KR(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const XR="@.disabled";let vG=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,l)=>{const c=l?.parentNode(o);c&&l.removeChild(c,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(o);return x||(x=new QR("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,x)),x}const l=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const u=x=>{Array.isArray(x)?x.forEach(u):this.engine.registerTrigger(l,c,e,x.name,x)};return r.data.animation.forEach(u),new yG(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,c]=o;l(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(df),Wt(Dg),Wt(ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})();class QR{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==XR?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class yG extends QR{constructor(n,e,r,i,o){super(e,r,i,o),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==XR?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function bG(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function EG(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(n,e,r)}}const CG=[{provide:hE,useFactory:()=>new pG},{provide:Es,useValue:"BrowserAnimations"},...[{provide:yR,useClass:mG},{provide:SE,useFactory:function wG(){return new Hz}},{provide:Dg,useClass:(()=>{class t extends Dg{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir),Wt(hE),Wt(SE),Wt(hl))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})()},{provide:df,useFactory:function SG(t,n,e){return new vG(t,n,e)},deps:[tb,Dg,ir]}]];function ME(){return(ME=ci(function*(t){const n=document.baseURI.includes("localhost")?"https://localhost:4200/":document.baseURI,e=yield fetch(new URL(`${n}${t}`));return e.ok?yield e.text():""})).apply(this,arguments)}class MG extends xe{constructor(n=1/0,e=1/0,r=Ub){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:l}=this;e||(r.push(n),!i&&r.push(o.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let l=0;l<o.length&&!n.closed;l+=r?1:2)n.next(o[l]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const l=e.now();let c=0;for(let u=1;u<r.length&&r[u]<=l;u+=2)c=u;c&&r.splice(0,c+1)}}}class OG{constructor(n){this._box=n,this._destroyed=new xe,this._resizeSubject=new xe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new Ve(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),r.unsubscribe(),this._elementObservables.delete(n)}}).pipe(oo(e=>e.some(r=>r.target===n)),function NG(t,n,e){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:e}=t):r=t??1/0,Kt({connector:()=>new MG(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}),Bi(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let PG=(()=>{class t{constructor(){this._observers=new Map,this._ngZone=$t(ir)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new OG(i)),this._observers.get(i).observe(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const kG=["notch"],FG=["matFormFieldNotchedOutline",""],LG=["*"],BG=["textField"],UG=["iconPrefixContainer"],VG=["textPrefixContainer"];function jG(t,n){1&t&&Wn(0,"span",19)}function HG(t,n){if(1&t&&(sn(0,"label",17),Ai(1,1),An(2,jG,1,0,"span",18),dn()),2&t){const e=Nn(2);qt("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),ni("for",e._control.id),Xt(2),qt("ngIf",!e.hideRequiredMarker&&e._control.required)}}function ZG(t,n){1&t&&An(0,HG,3,5,"label",16),2&t&&qt("ngIf",Nn()._hasFloatingLabel())}function zG(t,n){1&t&&Wn(0,"div",20)}function GG(t,n){}function qG(t,n){1&t&&An(0,GG,0,0,"ng-template",22),2&t&&(Nn(2),qt("ngTemplateOutlet",Fi(1)))}function YG(t,n){if(1&t&&(sn(0,"div",21),An(1,qG,1,1,"ng-template",9),dn()),2&t){const e=Nn();qt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),Xt(1),qt("ngIf",!e._forceDisplayInfixLabel())}}function $G(t,n){1&t&&(sn(0,"div",23,24),Ai(2,2),dn())}function WG(t,n){1&t&&(sn(0,"div",25,26),Ai(2,3),dn())}function KG(t,n){}function XG(t,n){1&t&&An(0,KG,0,0,"ng-template",22),2&t&&(Nn(),qt("ngTemplateOutlet",Fi(1)))}function QG(t,n){1&t&&(sn(0,"div",27),Ai(1,4),dn())}function JG(t,n){1&t&&(sn(0,"div",28),Ai(1,5),dn())}function e6(t,n){1&t&&Wn(0,"div",29)}function t6(t,n){1&t&&(sn(0,"div",30),Ai(1,6),dn()),2&t&&qt("@transitionMessages",Nn()._subscriptAnimationState)}function n6(t,n){if(1&t&&(sn(0,"mat-hint",34),Or(1),dn()),2&t){const e=Nn(2);qt("id",e._hintLabelId),Xt(1),xo(e.hintLabel)}}function r6(t,n){if(1&t&&(sn(0,"div",31),An(1,n6,2,2,"mat-hint",32),Ai(2,7),Wn(3,"div",33),Ai(4,8),dn()),2&t){const e=Nn();qt("@transitionMessages",e._subscriptAnimationState),Xt(1),qt("ngIf",e.hintLabel)}}const i6=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],o6=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let NE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Pn({type:t,selectors:[["mat-label"]]})}return t})(),s6=0;const eM=new un("MatError");let a6=(()=>{class t{constructor(e,r){this.id="mat-mdc-error-"+s6++,e||r.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(r){return new(r||t)(oc("aria-live"),yt(xr))};static#t=this.\u0275dir=Pn({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){2&r&&Cf("id",i.id)},inputs:{id:"id"},features:[$r([{provide:eM,useExisting:t}])]})}return t})(),l6=0,OE=(()=>{class t{constructor(){this.align="start",this.id="mat-mdc-hint-"+l6++}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Pn({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(Cf("id",i.id),ni("align",null),Ti("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}})}return t})();const c6=new un("MatPrefix"),tM=new un("MatSuffix");let u6=(()=>{class t{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Pn({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[$r([{provide:tM,useExisting:t}])]})}return t})();const nM=new un("FloatingLabelParent");let rM=(()=>{class t{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=$t(PG),this._ngZone=$t(ir),this._parent=$t(nM),this._resizeSubscription=new H}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function d6(t){if(null!==t.offsetParent)return t.scrollWidth;const e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr))};static#t=this.\u0275dir=Pn({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&Ti("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();const iM="mdc-line-ripple--active",Rg="mdc-line-ripple--deactivating";let oM=(()=>{class t{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,l=o.contains(Rg);"opacity"===i.propertyName&&l&&o.remove(iM,Rg)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Rg),e.add(iM)}deactivate(){this._elementRef.nativeElement.classList.add(Rg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(ir))};static#t=this.\u0275dir=Pn({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),sM=(()=>{class t{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(ir))};static#t=this.\u0275cmp=pr({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&Mo(kG,5),2&r){let o;ri(o=ii())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&Ti("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:FG,ngContentSelectors:LG,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(ca(),Wn(0,"div",0),sn(1,"div",1,2),Ai(3),dn(),Wn(4,"div",3))},encapsulation:2,changeDetection:0})}return t})();const f6={transitionMessages:_h("transitionMessages",[xc("enter",Wo({opacity:1,transform:"translateY(0%)"})),Al("void => enter",[Wo({opacity:0,transform:"translateY(-5px)"}),Il("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let aM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Pn({type:t})}return t})();const lM=new un("MatFormField"),cM=new un("MAT_FORM_FIELD_DEFAULT_OPTIONS");let uM=0,m6=(()=>{class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=so(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,o,l,c,u,m){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=l,this._defaults=c,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+uM++,this._hintLabelId="mat-mdc-hint-"+uM++,this._subscriptAnimationState="",this._destroyed=new xe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Bi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),To(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Bi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Bi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(Oo),yt(ir),yt(ig),yt(Ji),yt(cM,8),yt(Es,8),yt(Ir))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(1&r&&(Yo(o,NE,5),Yo(o,NE,7),Yo(o,aM,5),Yo(o,c6,5),Yo(o,tM,5),Yo(o,eM,5),Yo(o,OE,5)),2&r){let l;ri(l=ii())&&(i._labelChildNonStatic=l.first),ri(l=ii())&&(i._labelChildStatic=l.first),ri(l=ii())&&(i._formFieldControl=l.first),ri(l=ii())&&(i._prefixChildren=l),ri(l=ii())&&(i._suffixChildren=l),ri(l=ii())&&(i._errorChildren=l),ri(l=ii())&&(i._hintChildren=l)}},viewQuery:function(r,i){if(1&r&&(Mo(BG,5),Mo(UG,5),Mo(VG,5),Mo(rM,5),Mo(sM,5),Mo(oM,5)),2&r){let o;ri(o=ii())&&(i._textField=o.first),ri(o=ii())&&(i._iconPrefixContainer=o.first),ri(o=ii())&&(i._textPrefixContainer=o.first),ri(o=ii())&&(i._floatingLabel=o.first),ri(o=ii())&&(i._notchedOutline=o.first),ri(o=ii())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){2&r&&Ti("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[$r([{provide:lM,useExisting:t},{provide:nM,useExisting:t}])],ngContentSelectors:o6,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(r,i){1&r&&(ca(i6),An(0,ZG,1,1,"ng-template",null,0,hy),sn(2,"div",1,2),or("click",function(l){return i._control.onContainerClick(l)}),An(4,zG,1,0,"div",3),sn(5,"div",4),An(6,YG,2,2,"div",5),An(7,$G,3,0,"div",6),An(8,WG,3,0,"div",7),sn(9,"div",8),An(10,XG,1,1,"ng-template",9),Ai(11),dn(),An(12,QG,2,0,"div",10),An(13,JG,2,0,"div",11),dn(),An(14,e6,1,0,"div",12),dn(),sn(15,"div",13),An(16,t6,2,1,"div",14),An(17,r6,5,2,"div",15),dn()),2&r&&(Xt(2),Ti("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),Xt(2),qt("ngIf",!i._hasOutline()&&!i._control.disabled),Xt(2),qt("ngIf",i._hasOutline()),Xt(1),qt("ngIf",i._hasIconPrefix),Xt(1),qt("ngIf",i._hasTextPrefix),Xt(2),qt("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),Xt(2),qt("ngIf",i._hasTextSuffix),Xt(1),qt("ngIf",i._hasIconSuffix),Xt(1),qt("ngIf",!i._hasOutline()),Xt(1),Ti("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),qt("ngSwitch",i._getDisplayedMessages()),Xt(1),qt("ngSwitchCase","error"),Xt(1),qt("ngSwitchCase","hint"))},dependencies:[Qi,Gy,Am,NA,OE,rM,sM,oM],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[f6.transitionMessages]},changeDetection:0})}return t})(),PE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[eo,Bf,mx,eo]})}return t})();class _6{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const y6=new un("mat-snack-bar-default-options",{providedIn:"root",factory:function v6(){return new _6}}),E6=["mat-button",""],T6=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],w6=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],C6=["mat-icon-button",""],I6=["*"],A6=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],D6=og(Dx(Yb(class{constructor(t){this._elementRef=t}})));let kE,hM=(()=>{class t extends D6{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=so(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=so(e),this._updateRippleDisabled()}constructor(e,r,i,o){super(e),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=$t(lh),this._rippleLoader=$t(F4),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=e.nativeElement.classList;for(const c of A6)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(u=>{l.add(u)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){Vp()};static#t=this.\u0275dir=Pn({type:t,features:[gr]})}return t})(),Mg=(()=>{class t extends hM{constructor(e,r,i,o){super(e,r,i,o)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(Ji),yt(ir),yt(Es,8))};static#t=this.\u0275cmp=pr({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(r,i){2&r&&(ni("disabled",i.disabled||null),Ti("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[gr],attrs:E6,ngContentSelectors:w6,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(ca(T6),Wn(0,"span",0),Ai(1),sn(2,"span",1),Ai(3,1),dn(),Ai(4,2),Wn(5,"span",2)(6,"span",3)),2&r&&Ti("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return t})(),Ng=(()=>{class t extends hM{constructor(e,r,i,o){super(e,r,i,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(Ji),yt(ir),yt(Es,8))};static#t=this.\u0275cmp=pr({type:t,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(r,i){2&r&&(ni("disabled",i.disabled||null),Ti("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[gr],attrs:C6,ngContentSelectors:I6,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(ca(),Wn(0,"span",0),Ai(1),Wn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return t})(),zs=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[eo,dh,eo]})}return t})(),M6=1;const Og={};function pM(t){return t in Og&&(delete Og[t],!0)}const N6={setImmediate(t){const n=M6++;return Og[n]=!0,kE||(kE=Promise.resolve()),kE.then(()=>pM(n)&&t()),n},clearImmediate(t){pM(t)}},{setImmediate:O6,clearImmediate:P6}=N6,Pg={setImmediate(...t){const{delegate:n}=Pg;return(n?.setImmediate||O6)(...t)},clearImmediate(t){const{delegate:n}=Pg;return(n?.clearImmediate||P6)(t)},delegate:void 0},FE=new class F6 extends Vb{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class k6 extends Bb{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Pg.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:o}=n;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Pg.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});function mM(t,n){return n?e=>jf(n.pipe(ko(1),function L6(){return It((t,n)=>{t.subscribe(Je(n,v))})}()),e.pipe(mM(t))):xt((e,r)=>fn(t(e,r)).pipe(ko(1),lD(e)))}function gM(t=0,n,e=e4){let r=-1;return null!=n&&(yr(n)?e=n:r=n),new Ve(i=>{let o=function B6(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let l=0;return e.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function _M(t,n=Jm){const e=gM(t,n);return mM(()=>e)}class LE{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class vM extends LE{constructor(n,e,r,i,o){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class yM extends LE{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class U6 extends LE{constructor(n){super(),this.element=n instanceof xr?n.nativeElement:n}}class V6{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof vM?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof yM?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof U6?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class j6 extends V6{constructor(n,e,r,i,o){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=o}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||Do.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let H6=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({})}return t})();const Z6=["addListener","removeListener"],z6=["addEventListener","removeEventListener"],G6=["on","off"];function BE(t,n,e,r){if(Yn(e)&&(r=e,e=void 0),r)return BE(t,n,e).pipe(ob(r));const[i,o]=function $6(t){return Yn(t.addEventListener)&&Yn(t.removeEventListener)}(t)?z6.map(l=>c=>t[l](n,c,e)):function q6(t){return Yn(t.addListener)&&Yn(t.removeListener)}(t)?Z6.map(bM(t,n)):function Y6(t){return Yn(t.on)&&Yn(t.off)}(t)?G6.map(bM(t,n)):[];if(!i&&Ys(t))return xt(l=>BE(l,n,e))(fn(t));if(!i)throw new TypeError("Invalid event target");return new Ve(l=>{const c=(...u)=>l.next(1<u.length?u:u[0]);return i(c),()=>o(c)})}function bM(t,n){return e=>r=>t[e](n,r)}const wh={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=wh;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(o=>{e=void 0,t(o)});return new H(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=wh;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=wh;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class K6 extends Vb{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class W6 extends Bb{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=wh.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:o}=n;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(wh.cancelAnimationFrame(e),n._scheduled=void 0)}});function EM(t,n=Jm){return function Q6(t){return It((n,e)=>{let r=!1,i=null,o=null,l=!1;const c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const m=i;i=null,e.next(m)}l&&e.complete()},u=()=>{o=null,l&&e.complete()};n.subscribe(Je(e,m=>{r=!0,i=m,o||fn(t(m)).subscribe(o=Je(e,c,u))},()=>{l=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>gM(t,n))}let TM=(()=>{class t{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new xe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ve(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(EM(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$n()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(oo(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=bl(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>BE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(ir),Wt(Ji),Wt(Ir,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wM=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new xe,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(EM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ji),Wt(ir),Wt(Ir,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kg=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({})}return t})(),SM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[ch,kg,ch,kg]})}return t})();const CM=PZ();class tq{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Ui(-this._previousScrollPosition.left),n.style.top=Ui(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,o=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),CM&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CM&&(r.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class nq{constructor(n,e,r,i){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(oo(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class IM{enable(){}disable(){}attach(){}}function UE(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function AM(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class rq{constructor(n,e,r,i){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();UE(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let iq=(()=>{class t{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new IM,this.close=l=>new nq(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new tq(this._viewportRuler,this._document),this.reposition=l=>new rq(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(TM),Wt(wM),Wt(ir),Wt(Ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class DM{constructor(n){if(this.scrollStrategy=new IM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class oq{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let xM=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sq=(()=>{class t extends xM{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const c=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir),Wt(ir,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aq=(()=>{class t extends xM{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=yl(o)},this._clickListener=o=>{const l=yl(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let m=u.length-1;m>-1;m--){const x=u[m];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(l)||x.overlayElement.contains(c))break;const W=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>W.next(o)):W.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir),Wt(Ji),Wt(ir,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RM=(()=>{class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Pb()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),Pb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ir),Wt(Ji))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class lq{constructor(n,e,r,i,o,l,c,u,m,x=!1){this._portalOutlet=n,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=c,this._location=u,this._outsideClickDispatcher=m,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new xe,this._attachments=new xe,this._detachments=new xe,this._locationChanges=H.EMPTY,this._backdropClickHandler=W=>this._backdropClick.next(W),this._backdropTransitionendHandler=W=>{this._disposeBackdrop(W.target)},this._keydownEvents=new xe,this._outsidePointerEvents=new xe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ko(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Ui(this._config.width),n.height=Ui(this._config.height),n.minWidth=Ui(this._config.minWidth),n.minHeight=Ui(this._config.minHeight),n.maxWidth=Ui(this._config.maxWidth),n.maxHeight=Ui(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){const i=eg(e||[]).filter(o=>!!o);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Bi(To(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const MM="cdk-overlay-connected-position-bounding-box",cq=/([A-Za-z%]+)$/;class uq{get positions(){return this._preferredPositions}constructor(n,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xe,this._resizeSubscription=H.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(MM),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let l;for(let c of this._preferredPositions){let u=this._getOriginPoint(n,i,c),m=this._getOverlayPoint(u,e,c),x=this._getOverlayFit(m,e,r,c);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(x,m,r)?o.push({position:c,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!l||l.overlayFit.visibleArea<x.visibleArea)&&(l={overlayFit:x,overlayPoint:m,originPoint:u,position:c,overlayRect:e})}if(o.length){let c=null,u=-1;for(const m of o){const x=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);x>u&&(u=x,c=m)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Oc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let i,o;if("center"==r.originX)i=n.left+n.width/2;else{const l=this._isRtl()?n.right:n.left,c=this._isRtl()?n.left:n.right;i="start"==r.originX?l:c}return e.left<0&&(i-=e.left),o="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(n,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+i,y:n.y+o}}_getOverlayFit(n,e,r,i){const o=OM(e);let{x:l,y:c}=n,u=this._getOffset(i,"x"),m=this._getOffset(i,"y");u&&(l+=u),m&&(c+=m);let _e=0-c,Re=c+o.height-r.height,Ke=this._subtractOverflows(o.width,0-l,l+o.width-r.width),ct=this._subtractOverflows(o.height,_e,Re),Bt=Ke*ct;return{visibleArea:Bt,isCompletelyWithinViewport:o.width*o.height===Bt,fitsInViewportVertically:ct===o.height,fitsInViewportHorizontally:Ke==o.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,l=NM(this._overlayRef.getConfig().minHeight),c=NM(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=l&&l<=i)&&(n.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=OM(e),o=this._viewportRect,l=Math.max(n.x+i.width-o.width,0),c=Math.max(n.y+i.height-o.height,0),u=Math.max(o.top-r.top-n.y,0),m=Math.max(o.left-r.left-n.x,0);let x=0,W=0;return x=i.width<=o.width?m||-l:n.x<this._viewportMargin?o.left-r.left-n.x:0,W=i.height<=o.height?u||-c:n.y<this._viewportMargin?o.top-r.top-n.y:0,this._previousPushAmount={x,y:W},{x:n.x+x,y:n.y+W}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new oq(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,i=this._isRtl();let o,l,c,x,W,_e;if("top"===e.overlayY)l=n.y,o=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)c=r.height-n.y+2*this._viewportMargin,o=r.height-c+this._viewportMargin;else{const Re=Math.min(r.bottom-n.y+r.top,n.y),Ke=this._lastBoundingBoxSize.height;o=2*Re,l=n.y-Re,o>Ke&&!this._isInitialRender&&!this._growAfterOpen&&(l=n.y-Ke/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)_e=r.width-n.x+this._viewportMargin,x=n.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)W=n.x,x=r.right-n.x;else{const Re=Math.min(r.right-n.x+r.left,n.x),Ke=this._lastBoundingBoxSize.width;x=2*Re,W=n.x-Re,x>Ke&&!this._isInitialRender&&!this._growAfterOpen&&(W=n.x-Ke/2)}return{top:l,left:W,bottom:c,right:_e,width:x,height:o}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Ui(r.height),i.top=Ui(r.top),i.bottom=Ui(r.bottom),i.width=Ui(r.width),i.left=Ui(r.left),i.right=Ui(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Ui(o)),l&&(i.maxWidth=Ui(l))}this._lastBoundingBoxSize=r,Oc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Oc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Oc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const x=this._viewportRuler.getViewportScrollPosition();Oc(r,this._getExactOverlayY(e,n,x)),Oc(r,this._getExactOverlayX(e,n,x))}else r.position="static";let c="",u=this._getOffset(e,"x"),m=this._getOffset(e,"y");u&&(c+=`translateX(${u}px) `),m&&(c+=`translateY(${m}px)`),r.transform=c.trim(),l.maxHeight&&(i?r.maxHeight=Ui(l.maxHeight):o&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Ui(l.maxWidth):o&&(r.maxWidth="")),Oc(this._pane.style,r)}_getExactOverlayY(n,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Ui(o.y),i}_getExactOverlayX(n,e,r){let l,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),l=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Ui(o.x),i}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AM(n,r),isOriginOutsideView:UE(n,r),isOverlayClipped:AM(e,r),isOverlayOutsideView:UE(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&eg(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof xr)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function Oc(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function NM(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(cq);return e&&"px"!==e?null:parseFloat(n)}return t||null}function OM(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const PM="cdk-global-overlay-wrapper";class dq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(PM),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:c}=r,u=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),m=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),x=this._xPosition,W=this._xOffset,_e="rtl"===this._overlayRef.getConfig().direction;let Re="",Ke="",ct="";u?ct="flex-start":"center"===x?(ct="center",_e?Ke=W:Re=W):_e?"left"===x||"end"===x?(ct="flex-end",Re=W):("right"===x||"start"===x)&&(ct="flex-start",Ke=W):"left"===x||"start"===x?(ct="flex-start",Re=W):("right"===x||"end"===x)&&(ct="flex-end",Ke=W),n.position=this._cssPosition,n.marginLeft=u?"0":Re,n.marginTop=m?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=u?"0":Ke,e.justifyContent=ct,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(PM),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let fq=(()=>{class t{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new dq}flexibleConnectedTo(e){return new uq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(wM),Wt(Ir),Wt(Ji),Wt(RM))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hq=0,dd=(()=>{class t{constructor(e,r,i,o,l,c,u,m,x,W,_e,Re){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=c,this._ngZone=u,this._document=m,this._directionality=x,this._location=W,this._outsideClickDispatcher=_e,this._animationsModuleType=Re}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),l=new DM(e);return l.direction=l.direction||this._directionality.value,new lq(o,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+hq++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(hl)),new j6(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(iq),Wt(RM),Wt(uf),Wt(fq),Wt(sq),Wt(Do),Wt(ir),Wt(Ir),Wt(ig),Wt(gm),Wt(aq),Wt(Es,8))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gq={provide:new un("cdk-connected-overlay-scroll-strategy"),deps:[dd],useFactory:function mq(t){return()=>t.scrollStrategies.reposition()}};let kM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({providers:[dd,gq],imports:[ch,H6,SM,SM]})}return t})();const _q=["mat-menu-item",""];function vq(t,n){1&t&&(na(),sn(0,"svg",3),Wn(1,"polygon",4),dn())}const yq=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],bq=["mat-icon, [matMenuItemIcon]","*"];function Eq(t,n){if(1&t){const e=Ii();sn(0,"div",0),or("keydown",function(i){return ln(e),cn(Nn()._handleKeydown(i))})("click",function(){return ln(e),cn(Nn().closed.emit("click"))})("@transformMenu.start",function(i){return ln(e),cn(Nn()._onAnimationStart(i))})("@transformMenu.done",function(i){return ln(e),cn(Nn()._onAnimationDone(i))}),sn(1,"div",1),Ai(2),dn()()}if(2&t){const e=Nn();qt("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),ni("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Tq=["*"],VE=new un("MAT_MENU_PANEL"),wq=Yb(Dx(class{}));let Sh=(()=>{class t extends wq{constructor(e,r,i,o,l){super(),this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new xe,this._focused=new xe,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(Ir),yt(lh),yt(VE,8),yt(Oo))};static#t=this.\u0275cmp=pr({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,i){1&r&&or("click",function(l){return i._checkDisabled(l)})("mouseenter",function(){return i._handleMouseEnter()}),2&r&&(ni("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),Ti("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[gr],attrs:_q,ngContentSelectors:bq,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,i){1&r&&(ca(yq),Ai(0),sn(1,"span",0),Ai(2,1),dn(),Wn(3,"div",1),An(4,vq,2,0,"svg",2)),2&r&&(Xt(3),qt("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),Xt(1),qt("ngIf",i._triggersSubmenu))},dependencies:[Qi,$b],encapsulation:2,changeDetection:0})}return t})();const Sq=new un("MatMenuContent"),Fg={transformMenu:_h("transformMenu",[xc("void",Wo({opacity:0,transform:"scale(0.8)"})),Al("void => enter",Il("120ms cubic-bezier(0, 0, 0.2, 1)",Wo({opacity:1,transform:"scale(1)"}))),Al("* => void",Il("100ms 25ms linear",Wo({opacity:0})))]),fadeInItems:_h("fadeInItems",[xc("showing",Wo({opacity:1})),Al("void => *",[Wo({opacity:0}),Il("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Cq=0;const FM=new un("mat-menu-default-options",{providedIn:"root",factory:function Iq(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ch=(()=>{class t{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=so(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=so(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=o,this._directDescendantItems=new qu,this._classList={},this._panelAnimationState="void",this._animationDone=new xe,this.closed=new Zr,this.close=this.closed,this.panelId="mat-menu-panel-"+Cq++,this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this._overlapTrigger=i.overlapTrigger,this._hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new d4(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Hf(this._directDescendantItems),Gn(e=>To(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Hf(this._directDescendantItems),Gn(r=>To(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:Lb(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(ko(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Hf(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(ir),yt(FM),yt(Oo))};static#t=this.\u0275dir=Pn({type:t,contentQueries:function(r,i,o){if(1&r&&(Yo(o,Sq,5),Yo(o,Sh,5),Yo(o,Sh,4)),2&r){let l;ri(l=ii())&&(i.lazyContent=l.first),ri(l=ii())&&(i._allItems=l),ri(l=ii())&&(i.items=l)}},viewQuery:function(r,i){if(1&r&&Mo(ha,5),2&r){let o;ri(o=ii())&&(i.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return t})(),jE=(()=>{class t extends Ch{constructor(e,r,i,o){super(e,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(ir),yt(FM),yt(Oo))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(r,i){2&r&&ni("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[$r([{provide:VE,useExisting:t}]),gr],ngContentSelectors:Tq,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(r,i){1&r&&(ca(),An(0,Eq,3,6,"ng-template"))},dependencies:[Xu],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Fg.transformMenu,Fg.fadeInItems]},changeDetection:0})}return t})();const LM=new un("mat-menu-scroll-strategy"),Dq={provide:LM,deps:[dd],useFactory:function Aq(t){return()=>t.scrollStrategies.reposition()}},BM=Ec({passive:!0});let xq=(()=>{class t{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,o,l,c,u,m,x){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=c,this._dir=u,this._focusMonitor=m,this._ngZone=x,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=H.EMPTY,this._hoverSubscription=H.EMPTY,this._menuCloseSubscription=H.EMPTY,this._changeDetectorRef=$t(Oo),this._handleTouchStart=W=>{Gb(W)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Zr,this.onMenuOpen=this.menuOpened,this.menuClosed=new Zr,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=l instanceof Ch?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,BM)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,BM),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Ch&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Bi(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Ch?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(oo(i=>"void"===i.toState),ko(1),Bi(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new DM({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",l="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,l)):e.setPositionClasses(o,l)})}_setPosition(e,r){let[i,o]="before"===e.xPosition?["end","start"]:["start","end"],[l,c]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[u,m]=[l,c],[x,W]=[i,o],_e=0;if(this.triggersSubmenu()){if(W=i="before"===e.xPosition?"start":"end",o=x="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Re=this._parentMaterialMenu.items.first;this._parentInnerPadding=Re?Re._getHostElement().offsetTop:0}_e="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(u="top"===l?"bottom":"top",m="top"===c?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:x,overlayY:l,offsetY:_e},{originX:o,originY:u,overlayX:W,overlayY:l,offsetY:_e},{originX:i,originY:m,overlayX:x,overlayY:c,offsetY:-_e},{originX:o,originY:m,overlayX:W,overlayY:c,offsetY:-_e}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return To(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:$n(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(oo(l=>l!==this._menuItemInstance),oo(()=>this._menuOpen)):$n(),r)}_handleMousedown(e){zb(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(oo(e=>e===this._menuItemInstance&&!e.disabled),_M(0,FE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ch&&this.menu._isAnimating?this.menu._animationDone.pipe(ko(1),_M(0,FE),Bi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new yM(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(r){return new(r||t)(yt(dd),yt(xr),yt(ls),yt(LM),yt(VE,8),yt(Sh,10),yt(ig,8),yt(lh),yt(ir))};static#t=this.\u0275dir=Pn({type:t,hostVars:3,hostBindings:function(r,i){1&r&&or("click",function(l){return i._handleClick(l)})("mousedown",function(l){return i._handleMousedown(l)})("keydown",function(l){return i._handleKeydown(l)}),2&r&&ni("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return t})(),HE=(()=>{class t extends xq{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275dir=Pn({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[gr]})}return t})(),fd=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({providers:[Dq],imports:[Bf,dh,eo,kM,kg,eo]})}return t})();class UM extends Sl{constructor(n){super(),this.sort_requested=n}}const Rq=["hot","top","new","controversial","rising"];let Mq=(()=>{class t extends sR{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,e.keyPrefix)}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(iE))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ZE=(()=>{class t{constructor(e){this.sessionStorageService=e,this.key="UniqueId"}getUniqueId(){let e=this.sessionStorageService.get(this.key);return null==e&&(e=0),this.sessionStorageService.set(this.key,++e),e}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Mq))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();String.isNullOrWhitespace||(String.isNullOrWhitespace=function(t){return null==t||t.trim().length<1}),String.hasData||(String.hasData=t=>!String.isNullOrWhitespace(t)),String.toDate||(String.toDate=function(t){if(null==t||""===t)return null;if(t instanceof Date)return t;if(!(t instanceof String))return null;const n=t.split("/");if(3!==n.length)return null;const e=Number(n[0]),r=Number(n[1]);let i=Number(n[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o});class zE{}Object.trimUnusedProperties||(Object.trimUnusedProperties=function(t){if(null==t)return;if(null==t)return null;let n={...t};for(var e in n){const r=n[e];(null==r||Array.isArray(r)&&0===r.length)&&delete n[e],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete n[e],"number"==typeof r&&0===r&&delete n[e]}return n});class GE{}function Nq(t,n,e,r){return qE.apply(this,arguments)}function qE(){return(qE=ci(function*(t,n,e,r){this.set_posts({items:[],subreddit:""}),this.set_errors({});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(t)&&l.set("after",t),String.hasData(n)&&l.set("modhash",n);const c=new URL(`https://www.reddit.com/r/${o}/${e}.json`);c.search=`${l}`;try{const u=yield fetch(c);if(!u.ok){let _e=u.statusText||"Not Found";try{const Re=yield u.json();Re&&"reason"in Re&&(_e=Re.reason)}catch{}return void this.set_errors(_e)}const m=yield u.json();if(m.kind!==Is.Listing)return void this.set_errors(`Listing's kind isn't ${Is.Listing}, its ${m.kind} instead`);if(m.data?.children.some(_e=>_e.kind!==Is.Link))return void this.set_errors(`Not all of Listing's children are of kind ${Is.Link}`);const x=m.data,W=x.children.filter(_e=>null!=_e.data).map(_e=>rE(_e.data,this.is_MSE_supported()));W.forEach(_e=>_e.subreddit_subscribed=i.includes(_e.subreddit)),this.set_posts({after:x.after,items:W,modhash:x.modhash,sort:e,subreddit:o})}catch(u){this.set_errors(u)}})).apply(this,arguments)}function Oq(t){return YE.apply(this,arguments)}function YE(){return(YE=ci(function*(t){this.subscriptionService.add(t);const n=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=n.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}function Pq(t){return $E.apply(this,arguments)}function $E(){return($E=ci(function*(t){this.subscriptionService.remove(t);const n=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=n.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}let Lg=(()=>{class t{constructor(){this.domSanitizer=$t(js),this.subscriptionService=$t(aR),this.uniqueIdService=$t(ZE),this.#e=new zE,this.#t=new GE,this.#n=ns({posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""}}),this.#r=ns({}),this.errors=this.#r.asReadonly(),this.#i="MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported,this.posts=ea(()=>{const e=this.#n().posts;return null==e?null:{after:e.after,items:e.items?.map(r=>this.#s(r)),modhash:e.modhash,sort:e.sort,subreddit:e.subreddit}}),this.actions={listPostAsync:Nq.bind(this),subscribe:Oq.bind(this),unsubscribe:Pq.bind(this)}}#e;#t;#n;#r;set_errors(e){null!=e&&this.#r.set(e||{})}#i;is_MSE_supported(){return this.#i}#s(e){const r=JSON.parse(JSON.stringify(e));return r.images&&(r.images=r.images.map(i=>Object.freeze(i))),r.videos&&(r.videos=r.videos.map(i=>Object.freeze(i))),Object.freeze(r)}get_posts(){return R(this.#n).posts}set_posts(e){this.#n.mutate(r=>{const i=r.posts;i.after=String.hasData(e.after)?e.after:"",null!=e.items&&(i.items=e.items),i.modhash=String.hasData(e.modhash)?e.modhash:"",null!=e.sort&&(i.sort=e.sort),null!=e.subreddit&&(i.subreddit=e.subreddit)}),this.set_errors(null)}static#o=this.\u0275fac=function(r){return new(r||t)};static#a=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const kq=function(t){return{display:t}};function Fq(t,n){if(1&t){const e=Ii();sn(0,"a",14),or("click",function(){const o=ln(e).$implicit;return cn(Nn(2).change_sort(o))}),Or(1),dn()}if(2&t){const e=n.$implicit,r=Nn().ngIf;qt("ngStyle",fa(2,kq,r.sort===e?"none":"inherit")),Xt(1),Go(" ",e," ")}}function Lq(t,n){if(1&t){const e=Ii();aa(0),sn(1,"div",1)(2,"div",2),Or(3),dn(),sn(4,"button",3),Or(5),Wn(6,"mat-icon",4),dn(),sn(7,"button",5),Wn(8,"mat-icon",6),dn()(),sn(9,"mat-menu",null,7),An(11,Fq,2,4,"a",8),dn(),sn(12,"mat-menu",9,10)(14,"mat-icon",11),or("click",function(){return ln(e),cn(Nn().back_to_home())}),dn(),Wn(15,"mat-icon",12)(16,"mat-icon",13),dn(),la()}if(2&t){const e=n.ngIf,r=Fi(10),i=Fi(13),o=Nn();Xt(3),Go(" ",e.subreddit.includes("+")?"multi":e.subreddit," "),Xt(1),qt("matMenuTriggerFor",r),Xt(1),Go(" ",e.sort," "),Xt(2),qt("matMenuTriggerFor",i),Xt(4),qt("ngForOf",o.POST_SORT)}}let Bq=(()=>{class t{constructor(){this.#e=$t(As),this.POST_SORT=Rq,this.controller=$t(Lg)}#e;change_sort(e){var r=this;return ci(function*(){r.#e.raise(new UM(e))})()}back_to_home(){this.#e.raise(iR)}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=pr({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){1&r&&An(0,Lq,17,5,"ng-container",0),2&r&&qt("ngIf",i.controller.posts())},dependencies:[Qi,ml,Dm,zs,Mg,Ng,us,wl,fd,jE,Sh,HE,La],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0})}return t})();const Uq=["*",[["mat-toolbar-row"]]],Vq=["*","mat-toolbar-row"],jq=og(class{constructor(t){this._elementRef=t}});let VM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Pn({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),Hq=(()=>{class t extends jq{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(Ji),yt(Ir))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(1&r&&Yo(o,VM,5),2&r){let l;ri(l=ii())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,i){2&r&&Ti("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[gr],ngContentSelectors:Vq,decls:2,vars:0,template:function(r,i){1&r&&(ca(Uq),Ai(0),Ai(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return t})(),Bg=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[eo,eo]})}return t})();class jM extends Sl{constructor(n){super(),this.article=n}}function Zq(t,n){if(1&t){const e=Ii();sn(0,"button",4),or("click",function(){return ln(e),cn(Nn().on_share_click())}),Wn(1,"mat-icon",5),dn()}}function zq(t,n){if(1&t&&(sn(0,"button",6),Wn(1,"mat-icon",7),Or(2),ul(3,"count"),dn()),2&t){const e=Nn();Xt(2),Go(" ",dl(3,1,e.data.ups),"\n")}}function Gq(t,n){if(1&t&&(sn(0,"button",6),Wn(1,"mat-icon",8),Or(2),ul(3,"count"),dn()),2&t){const e=Nn();Xt(2),Go(" ",dl(3,1,e.data.downs),"\n")}}let qq=(()=>{class t{#e;#t;constructor(){this.#e=$t(As),this.#t="",this._can_share="share"in window.navigator,this.controller=$t(Lg),this.#t=document.baseURI,this.#t.endsWith("/")&&(this.#t=this.#t.slice(0,-1))}on_share_click(){const e=`${this.#t}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:e})}on_comment_click(){this.#e.raise(new jM(this.data.id))}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=pr({type:t,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(r,i){1&r&&(An(0,Zq,2,0,"button",0),sn(1,"button",1),or("click",function(){return i.on_comment_click()}),Wn(2,"mat-icon",2),Or(3),ul(4,"count"),dn(),An(5,zq,4,3,"button",3),An(6,Gq,4,3,"button",3)),2&r&&(qt("ngIf",i._can_share),Xt(3),Go(" ",dl(4,4,i.data.num_comments),"\n"),Xt(2),qt("ngIf",i.data.ups>0),Xt(1),qt("ngIf",i.data.downs>0))},dependencies:[J5,zs,Mg,Ng,us,wl,fd,dh,Bg,Qi],changeDetection:0})}return t})();class Ih extends Sl{constructor(n){super(),this.subreddit_requested=n}}function Yq(t,n){if(1&t){const e=Ii();sn(0,"a",9),or("click",function(i){ln(e);const o=Nn();return cn(o.change_subreddit(i,o.post.subreddit))}),Or(1),dn()}if(2&t){const e=Nn();qt("href","/r/"+e.post.subreddit,lc),Xt(1),Go(" r/",e.post.subreddit," ")}}function $q(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",12),or("click",function(){ln(e);const i=Nn(2);return cn(i.controller.actions.subscribe(i.post.subreddit))}),dn()}}function Wq(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",13),or("click",function(){ln(e);const i=Nn(2);return cn(i.controller.actions.unsubscribe(i.post.subreddit))}),dn()}}function Kq(t,n){if(1&t&&(aa(0),An(1,$q,1,0,"mat-icon",10),An(2,Wq,1,0,"mat-icon",11),la()),2&t){const e=Nn();Xt(1),qt("ngIf",!e.post.subreddit_subscribed),Xt(1),qt("ngIf",e.post.subreddit_subscribed)}}function Xq(t,n){1&t&&Wn(0,"mat-icon",14)}function Qq(t,n){1&t&&Wn(0,"mat-icon",15)}function Jq(t,n){1&t&&(sn(0,"a",16),Or(1,"x-post"),dn())}const eY=function(t){return["/u",t]};let tY=(()=>{class t{constructor(){this.#e=$t(As),this.controller=$t(Lg),this.has_image_gallery=!1,this.part_of_multi=!1}#e;set data(e){this.post=e.post,this.#t(e.subreddit)}#t(e){this.part_of_multi=this.post.subreddit.toLowerCase()!==e.toLowerCase();const r=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=r.has_image&&r.has_image_gallery}change_subreddit(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#e.raise(new Ih(r))}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=pr({type:t,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(r,i){1&r&&(sn(0,"section",0)(1,"div",1),Or(2),dn(),sn(3,"section",2),An(4,Yq,2,2,"a",3),sn(5,"a",4),Or(6),dn(),sn(7,"span"),Or(8),ul(9,"age"),dn(),An(10,Kq,3,2,"ng-container",5),An(11,Xq,1,0,"mat-icon",6),An(12,Qq,1,0,"mat-icon",7),An(13,Jq,2,0,"a",8),dn()()),2&r&&(Xt(2),xo(i.post.title),Xt(2),qt("ngIf",i.part_of_multi),Xt(1),qt("routerLink",fa(11,eY,i.post.author)),Xt(1),Go("u/",i.post.author,""),Xt(2),xo(dl(9,9,i.post.created_utc)),Xt(2),qt("ngIf",i.part_of_multi),Xt(1),qt("ngIf",!i.part_of_multi&&i.post.stickied),Xt(1),qt("ngIf",i.has_image_gallery),Xt(1),qt("ngIf",i.post.is_crosspost))},dependencies:[oR,zs,us,wl,fd,dh,Bg,Qi,La],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0})}return t})();function nY(t,n){1&t&&Wn(0,"post-body",0),2&t&&qt("data",Nn().post)}const rY=function(t,n){return{post:t,subreddit:n}};let HM=(()=>{class t{constructor(){this.subreddit="",this.show_body=!0}set data(e){this.post=e.item,this.subreddit=e.subreddit,this.show_body=!e.item.stickied||!e.hide_stickied}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(r,i){1&r&&(Wn(0,"post-header",0),An(1,nY,1,1,"post-body",1),Wn(2,"post-footer",0)),2&r&&(qt("data",sy(3,rY,i.post,i.subreddit)),Xt(1),qt("ngIf",i.show_body),Xt(1),qt("data",i.post))},dependencies:[Qi,L5,qq,tY],changeDetection:0})}return t})();xi(307);class iY{}class hd{static sort(n,e,r){let i;n.sort((o,l)=>{let c=0,u=o[e],m=l[e];return null==u&&null==m?0:(null==u&&(void 0===i&&(i=this.#e(m)),u=i),null==m&&(void 0===i&&(i=this.#e(u)),m=i),"string"==typeof u&&(c=u.localeCompare(m)),"number"==typeof u&&(c=u-m),"boolean"==typeof u&&(c=u===m?0:u?1:-1),u instanceof Date&&(c=u.valueOf()-m.valueOf()),"desc"===r&&(c=-c),c)})}static#e(n){switch(typeof n){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return n instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}static fromParamMap(n,e){const r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);const i=hd.adapt(n,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;const l=e.getAll(o);i[o]="string"!=typeof l?1!==l.length?l:l[0].split(","):l.split(",")}),i}static adapt(n,e){if(null==n)return null;"function"==typeof n&&(n=new n);const r="string"==typeof e?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{const l=o[0].toLowerCase()+o.slice(1);i[l]=r[o]}),this.#t(n,i),Object.keys(n).filter(o=>"object"==typeof n[o]&&n[o]instanceof iY).forEach(o=>this.adapt(n[o],o in i?i[o]:this.#i(i,`${o}_`))),n}static#t(n,e){null==n||null==e||this.#r(n).forEach(r=>{if(void 0===e[r])return;let i=typeof n[r];if("object"===i)switch(Reflect.getMetadata("design:type",n,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number"}switch(i){case"string":n[r]=null===e[r]?n[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":n[r]=null===e[r]?n[r]:this.#n(e[r]);break;case"number":n[r]=null===e[r]?n[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((n[r]instanceof Date||Reflect.getMetadata("design:type",n,r)===Date)&&(n[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(n[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",n,r)){const o=Reflect.getMetadata("design:type",n,r);e[r].forEach(l=>n[r].push(hd.adapt(o,l)))}}})}static#n(n){const e=typeof n;return"boolean"===e?n:"string"===e?"true"===n.toLowerCase():!!n}static#r(n){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(n).forEach(i=>!r.includes(i)&&r.push(i))}while((n=Object.getPrototypeOf(n))&&!e.includes(n));return r}static#i(n,e){const r={};return Object.keys(n).filter(i=>i.startsWith(e)).forEach(i=>r[i.replace(e,"")]=n[i]),r}}class Ah{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(n,e){const r=new Ah;return r.addError(n,e),r}addError(n,e){if(e&&String.hasData(e)){const i=e.split(".");let o=this.errors;for(let l=0;l<i.length;l++){const c=i[l],u=c[0].toLowerCase()+c.slice(1);l<i.length-1?(o[u]={},o=o[u]):o[u]=n}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),n.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(n),void(this.hasErrors=!0);const r=n[0].toLowerCase()+n.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}function oY(t,n){1&t&&(sn(0,"mat-toolbar-row")(1,"span"),Or(2,"You are not authorized."),dn()())}function sY(t,n){1&t&&(sn(0,"mat-toolbar-row")(1,"span"),Or(2,"Not found."),dn()())}function aY(t,n){if(1&t&&(sn(0,"mat-toolbar-row")(1,"span",4),Or(2),dn()()),2&t){const e=n.$implicit;Xt(2),xo(e)}}function lY(t,n){if(1&t&&(sn(0,"mat-toolbar",1),An(1,oY,3,0,"mat-toolbar-row",2),An(2,sY,3,0,"mat-toolbar-row",2),An(3,aY,3,1,"mat-toolbar-row",3),dn()),2&t){const e=Nn();Xt(1),qt("ngIf",null==e._errors.general?null:e._errors.general.forbidden),Xt(1),qt("ngIf",null==e._errors.general?null:e._errors.general.notFound),Xt(1),qt("ngForOf",null==e._errors.general?null:e._errors.general.default)}}let WE=(()=>{class t{set errors(e){this._errors=e instanceof Error?Ah.CreateErrorResult(`${e.message} `).errors:e instanceof Ah?e.errors:"string"!=typeof e&&"number"!=typeof e?e:Ah.CreateErrorResult(`${e} `).errors}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(r,i){1&r&&An(0,lY,4,3,"mat-toolbar",0),2&r&&qt("ngIf",null==i._errors?null:i._errors.general)},dependencies:[Bg,Hq,VM,ml,Qi],styles:["[_nghost-%COMP%]{width:100%}"]})}return t})();class ZM extends Sl{constructor(n){super(),this.sort_requested=n}}const cY=["best","confidence","top","new","controversial","old"];function hY(t,n){return KE.apply(this,arguments)}function KE(){return(KE=ci(function*(t,n,e=""){this.set_post_comments({items:[],post:null});const r=new URL(`https://www.reddit.com/comments/${t}.json`);r.searchParams.set("sort",`${n}`),r.searchParams.set("limit","100"),r.searchParams.set("raw_json","1"),r.searchParams.set("threaded","false"),String.hasData(e)&&r.searchParams.set("comment",e);try{const i=yield fetch(r);if(!i.ok)return void this.set_errors(i.statusText);const o=yield i.json(),l=o[0],c=o[1];if(c.kind!==Is.Listing)return void this.set_errors(`Comment listing's kind isn't ${Is.Listing}, its ${c.kind} instead`);if(c.data?.children.some(x=>x.kind!==Is.Comment&&x.kind!==Is.More))return void this.set_errors(`Not all of comment listing's children are of kind ${Is.Comment} or ${Is.More}`);const u=function fY(t){const n=[];let e;for(let r=0;r<t.length;r++){const i=t[r];if(i.parent_id.startsWith("t3_")){n.push(i);continue}if(!i.parent_id.startsWith("t1_"))continue;const o=i.parent_id.replace("t1_",""),l=n.find(c=>c.id===o);l&&(e=l,e.children??=[]),e&&e.children.push(i)}return n}(c.data.children.filter(x=>x.kind==Is.Comment&&null!=x.data).map(x=>function uY(t){let n={};return function dY(t,n){n.author=t.author,n.body_html=t.body_html,n.created_utc=t.created_utc,n.downs=t.downs,n.id=t.id,n.stickied=t.stickied,n.ups=t.ups,n.parent_id=t.parent_id}(t,n),n}(x.data))),m=rE(l.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:t,items:u,sort:n,post:m})}catch(i){this.set_errors(i)}})).apply(this,arguments)}let zM=(()=>{class t{constructor(){this.domSanitizer=$t(js),this.uniqueIdService=$t(ZE),this.#e=new zE,this.#t=new GE,this.#n=ns({post_comments:{article:"",items:null,sort:"best",post:null}}),this.#r=ns({}),this.errors=this.#r.asReadonly(),this.#i="MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported,this.post_comments=ea(()=>{const e=this.#n().post_comments;return null==e||null==e.items?null:{items:e.items?.map(r=>this.#s(r)),sort:e.sort,post:e.post}}),this.actions={listCommentAsync:hY.bind(this)}}#e;#t;#n;#r;set_errors(e){null!=e&&this.#r.set(e||{})}#i;is_MSE_supported(){return this.#i}#s(e){const r=JSON.parse(JSON.stringify(e));return Object.freeze(r)}set_post_comments(e){this.#n.mutate(r=>{const i=r.post_comments;i.article=String.hasData(e.article)?e.article:"",void 0!==e.items&&(i.items=e.items),null!=e.sort&&(i.sort=e.sort),void 0!==e.post&&(i.post=e.post)}),this.set_errors(null)}static#o=this.\u0275fac=function(r){return new(r||t)};static#a=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pY=function(t){return{display:t}};function mY(t,n){if(1&t){const e=Ii();sn(0,"a",13),or("click",function(){const o=ln(e).$implicit;return cn(Nn(2).change_sort(o))}),Or(1),dn()}if(2&t){const e=n.$implicit,r=Nn().ngIf;qt("ngStyle",fa(2,pY,r.sort===e?"none":"inherit")),Xt(1),Go(" ",e," ")}}function gY(t,n){if(1&t&&(aa(0),sn(1,"div",1)(2,"span"),Or(3,"Comments"),dn(),sn(4,"button",2),Or(5),Wn(6,"mat-icon",3),dn(),sn(7,"button",4),Wn(8,"mat-icon",5),dn()(),sn(9,"mat-menu",null,6),An(11,mY,2,4,"a",7),dn(),sn(12,"mat-menu",8,9),Wn(14,"mat-icon",10)(15,"mat-icon",11)(16,"mat-icon",12),dn(),la()),2&t){const e=n.ngIf,r=Fi(10),i=Fi(13),o=Nn();Xt(4),qt("matMenuTriggerFor",r),Xt(1),Go(" ",e.sort," "),Xt(2),qt("matMenuTriggerFor",i),Xt(4),qt("ngForOf",o.POST_COMMENT_SORT)}}let _Y=(()=>{class t{constructor(){this.#e=$t(As),this.POST_COMMENT_SORT=cY,this.controller=$t(zM)}#e;change_sort(e){var r=this;return ci(function*(){r.#e.raise(new ZM(e))})()}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=pr({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){1&r&&An(0,gY,17,4,"ng-container",0),2&r&&qt("ngIf",i.controller.post_comments())},dependencies:[zs,Mg,Ng,us,wl,fd,jE,Sh,HE,ml,Qi,Dm,La],changeDetection:0})}return t})(),vY=(()=>{class t{constructor(){this.data=null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"data"]],template:function(r,i){1&r&&Wn(0,"text-block",0),2&r&&qt("data",null==i.data?null:i.data.body_html)},dependencies:[Mb],changeDetection:0})}return t})();function yY(t,n){1&t&&Wn(0,"mat-icon",4)}function bY(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",7),or("click",function(){ln(e);const i=Nn(2);return cn(i.collapseClick.emit(i.data.id))}),dn()}}function EY(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",8),or("click",function(){ln(e);const i=Nn(2);return cn(i.collapseClick.emit(i.data.id))}),dn()}}function TY(t,n){if(1&t&&(aa(0),An(1,bY,1,0,"mat-icon",5),An(2,EY,1,0,"mat-icon",6),la()),2&t){const e=Nn();Xt(1),qt("ngIf",!e.isCollapsed),Xt(1),qt("ngIf",e.isCollapsed)}}const wY=function(t){return["/u",t]};let SY=(()=>{class t{constructor(){this.canCollapse=!0,this.isCollapsed=!1,this.collapseClick=new Zr}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["post-comment-header"]],inputs:{data:"data",canCollapse:"canCollapse",isCollapsed:"isCollapsed"},outputs:{collapseClick:"collapseClick"},standalone:!0,features:[Qr],decls:8,vars:9,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],[4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","expand_more","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","expand_less","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","expand_more",2,"transform","scale(.75)",3,"click"],["svgIcon","expand_less",2,"transform","scale(.75)",3,"click"]],template:function(r,i){1&r&&(sn(0,"section",0)(1,"a",1),Or(2),dn(),sn(3,"span"),Or(4),ul(5,"age"),dn(),An(6,yY,1,0,"mat-icon",2),An(7,TY,3,2,"ng-container",3),dn()),2&r&&(Xt(1),qt("routerLink",fa(7,wY,i.data.author)),Xt(1),Go("u/",i.data.author,""),Xt(2),xo(dl(5,5,i.data.created_utc)),Xt(2),qt("ngIf",i.data.stickied),Xt(1),qt("ngIf",i.canCollapse))},dependencies:[oR,us,wl,Qi,La],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0})}return t})();function CY(t,n){1&t&&Wn(0,"post-comment-body",2),2&t&&qt("data",Nn().data)}let IY=(()=>{class t{constructor(){this.canCollapse=!1,this.isCollapsed=!1,this.collapseClick=new Zr}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["post-comment"]],inputs:{data:"data",canCollapse:"canCollapse",isCollapsed:"isCollapsed"},outputs:{collapseClick:"collapseClick"},standalone:!0,features:[Qr],decls:2,vars:4,consts:[[3,"data","canCollapse","isCollapsed","collapseClick"],[3,"data",4,"ngIf"],[3,"data"]],template:function(r,i){1&r&&(sn(0,"post-comment-header",0),or("collapseClick",function(l){return i.collapseClick.emit(l)}),dn(),An(1,CY,1,1,"post-comment-body",1)),2&r&&(qt("data",i.data)("canCollapse",i.canCollapse)("isCollapsed",i.isCollapsed),Xt(1),qt("ngIf",!i.isCollapsed))},dependencies:[Qi,SY,vY],changeDetection:0})}return t})();const AY=function(t){return{item:t,subreddit:"",hide_stickied:!1,show_comments:!1}};function DY(t,n){if(1&t&&Wn(0,"post",5),2&t){const e=Nn().ngIf;qt("data",fa(1,AY,e.post))}}function xY(t,n){if(1&t){const e=Ii();sn(0,"post-comment",13),or("collapseClick",function(){ln(e);const i=Nn(3).$implicit;return cn(Nn(2).onCollapseClick(i.id))}),dn()}2&t&&qt("data",n.$implicit)("canCollapse",!0)}function RY(t,n){if(1&t&&(sn(0,"div"),An(1,xY,1,2,"post-comment",12),dn()),2&t){const e=Nn(2).$implicit,r=Nn(2);Xt(1),qt("ngForOf",e.children)("ngForTrackBy",r.trackByFn)}}function MY(t,n){if(1&t&&(sn(0,"div",9),Wn(1,"div",10),An(2,RY,2,2,"div",11),dn()),2&t){const e=Nn().$implicit,r=Nn(2);Xt(2),qt("ngIf",!r.collapsed[e.id])}}function NY(t,n){if(1&t){const e=Ii();sn(0,"section",6)(1,"post-comment",7),or("collapseClick",function(i){return ln(e),cn(Nn(2).onCollapseClick(i))}),dn(),An(2,MY,3,1,"div",8),dn()}if(2&t){const e=n.$implicit,r=Nn(2);Xt(1),qt("data",e)("id",e.id)("canCollapse",!0)("isCollapsed",r.collapsed[e.id]),Xt(1),qt("ngIf",e.children)}}function OY(t,n){if(1&t&&(sn(0,"div",2),An(1,DY,1,3,"post",3),An(2,NY,3,5,"section",4),dn()),2&t){const e=n.ngIf,r=Nn();Xt(1),qt("ngIf",e.post),Xt(1),qt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}let GM=(()=>{class t{#e;#t;#n;#r;constructor(){var e=this;this.#e=$t(As),this.#t=$t(Fo),this.#n=$t(_a),this.#r={a:"",i:"",so:"best"},this.controller=$t(zM),this.showHideReplies={},this.collapsed={},To(this.#e.handle(ZM).pipe(Jr(r=>this.#i(r))),this.#e.handle(Ih).pipe(Jr(r=>this.#s(r))),this.#n.paramMap.pipe(Jr(function(){var r=ci(function*(i){return yield e.#a(i)});return function(i){return r.apply(this,arguments)}}()))).pipe(ld()).subscribe(),Zp(()=>{const r=this.controller.post_comments();!r||!r.items||0===r.items.length||r.items.forEach(i=>this.collapsed[i.id]=i.stickied)})}trackByFn(e,r){return r.id}onCollapseClick(e){this.collapsed[e]=!this.collapsed[e],setTimeout(()=>{const r=document.getElementById(e);r&&r.scrollIntoView({block:"nearest"})},0)}#i(e){this.#r.so=e.sort_requested,this.#o(!0)}#s(e){this.#t.navigate(["r",e.subreddit_requested])}#o(e=!1){let r=Object.trimUnusedProperties(this.#r);delete r.a,this.#t.navigate(["comments",this.#r.a,r],{replaceUrl:e})}#a(e){var r=this;return ci(function*(){try{r.#e.raise(Ac),r.#r={a:"",i:"",so:"best"},hd.fromParamMap(r.#r,e),yield r.controller.actions.listCommentAsync(r.#r.a,r.#r.so,r.#r.i),setTimeout(()=>window.scrollTo(0,0),100)}finally{r.#e.raise(Dc)}})()}static#l=this.\u0275fac=function(r){return new(r||t)};static#c=this.\u0275cmp=pr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"],[1,"mat-elevation-z5"],[3,"data","id","canCollapse","isCollapsed","collapseClick"],["style","display: flex;",4,"ngIf"],[2,"display","flex"],[2,"border-left",".25em var(--primary-color) solid"],[4,"ngIf"],[3,"data","canCollapse","collapseClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"data","canCollapse","collapseClick"]],template:function(r,i){1&r&&(Wn(0,"page-header")(1,"general-error",0),An(2,OY,3,3,"div",1)),2&r&&(Xt(1),qt("errors",i.controller.errors()),Xt(1),qt("ngIf",i.controller.post_comments()))},dependencies:[WE,zs,us,ml,Qi,IY,_Y,HM],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0})}return t})();const PY=function(t,n){return{item:t,subreddit:n,hide_stickied:!0,show_comments:!0}};function kY(t,n){if(1&t&&Wn(0,"post",6),2&t){const e=n.$implicit,r=Nn().ngIf;qt("id",e.id)("data",sy(2,PY,e,r.subreddit))}}function FY(t,n){if(1&t){const e=Ii();sn(0,"div",2),An(1,kY,1,5,"post",3),sn(2,"div",4)(3,"button",5),or("click",function(){const o=ln(e).ngIf;return cn(Nn().next_page(o.after,o.modhash))}),Or(4,"Next"),dn()()()}if(2&t){const e=n.ngIf,r=Nn();Xt(1),qt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}let LY=(()=>{class t{#e;#t;#n;#r;#i;constructor(){var e=this;this.#e=$t(As),this.#t=$t(Fo),this.#n=$t(_a),this.#r=$t(Km),this.#i={a:"",m:"",so:"hot",su:""},this.controller=$t(Lg),this.id="",To(this.#e.handle(iR).pipe(Jr(r=>this.#s())),this.#e.handle(UM).pipe(Jr(r=>this.#o(r))),this.#e.handle(Ih).pipe(Jr(r=>this.#a(r))),this.#e.handle(jM).pipe(Jr(r=>this.#l(r))),this.#n.paramMap.pipe(Jr(function(){var r=ci(function*(i){return yield e.#u(i)});return function(i){return r.apply(this,arguments)}}()))).pipe(ld()).subscribe()}trackByFn(e,r){return`${r.id}${r.subreddit_subscribed}`}#s(){this.#i.a="",this.#i.m="",this.#i.so="hot",this.#i.su="frontpage",this.#c()}#o(e){this.#i.a="",this.#i.m="",this.#i.so=e.sort_requested,this.#c()}#a(e){this.#i.a="",this.#i.m="",this.#i.su=e.subreddit_requested,this.#c()}#l(e){this.id=e.article,this.#r.save("post",e.article),this.#t.navigate(["comments",e.article])}#c(){let e=Object.trimUnusedProperties(this.#i);delete e.su,this.#t.navigate(["r",this.#i.su,e])}next_page(e,r){this.#i.a=e,this.#i.m=r,this.go_to_top(),setTimeout(()=>{this.#r.save(),this.#c()},0)}go_to_top(){window.scrollTo(0,0)}#u(e){var r=this;return ci(function*(){r.#e.raise(Ac),r.#i={a:"",m:"",so:"hot",su:""},hd.fromParamMap(r.#i,e),yield r.controller.actions.listPostAsync(r.#i.a,r.#i.m,r.#i.so,r.#i.su),r.#r.restore(),r.#e.raise(Dc)})()}static#d=this.\u0275fac=function(r){return new(r||t)};static#f=this.\u0275cmp=pr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],[1,"mat-elevation-z5",3,"id","data"]],template:function(r,i){1&r&&(Wn(0,"page-header")(1,"general-error",0),An(2,FY,5,2,"div",1)),2&r&&(Xt(1),qt("errors",i.controller.errors()),Xt(1),qt("ngIf",i.controller.posts()))},dependencies:[WE,zs,Mg,us,ml,Qi,HM,Bq],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0})}return t})(),BY=(()=>{class t{#e='input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select';focusFirst(){window.setTimeout(()=>{const e=document.querySelectorAll(this.#e);0!==e.length&&e[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const e=Array.from(document.querySelectorAll(this.#e)).filter(r=>this.#t(r));0!==e.length&&e[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const e=Array.from(document.querySelectorAll(this.#e));if(0===e.length)return;let r=e.findIndex(i=>i===document.activeElement);for(r<0&&(r=0);r<e.length;){if(this.#t(e[r]))return void e[r].focus();r++}},50)}#t(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?!e.disabled&&String.isNullOrWhitespace(e.value):"MAT-SELECT"===e.nodeName&&String.isNullOrWhitespace(e.innerText)}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UY=(()=>{class t{scrollIntoView(){window.setTimeout(()=>{let e=document.querySelector(".generalError");if(e)return void e.scrollIntoView({behavior:"smooth"});if(e=document.querySelector(".mat-form-field-invalid,.has-error"),!e)return;e.scrollIntoView({behavior:"smooth",block:"nearest"});const r=e.querySelector("input");if(r)return r.select(),void r.focus();const i=e.querySelector("select,mat-select");i&&i.focus()},50)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qM=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(Ma),yt(xr))};static#t=this.\u0275dir=Pn({type:t})}return t})(),Pc=(()=>{class t extends qM{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275dir=Pn({type:t,features:[gr]})}return t})();const Gs=new un("NgValueAccessor"),jY={provide:Gs,useExisting:wr(()=>Ug),multi:!0},ZY=new un("CompositionEventMode");let Ug=(()=>{class t extends qM{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function HY(){const t=pl()?pl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(Ma),yt(xr),yt(ZY,8))};static#t=this.\u0275dir=Pn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&or("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[$r([jY]),gr]})}return t})();function Rl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function $M(t){return null!=t&&"number"==typeof t.length}const yo=new un("NgValidators"),Ml=new un("NgAsyncValidators"),zY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class GY{static min(n){return function WM(t){return n=>{if(Rl(n.value)||Rl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function KM(t){return n=>{if(Rl(n.value)||Rl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return XM(n)}static requiredTrue(n){return function QM(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function JM(t){return Rl(t.value)||zY.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function e1(t){return n=>Rl(n.value)||!$M(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function t1(t){return n=>$M(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function n1(t){if(!t)return Vg;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Rl(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return c1(n)}static composeAsync(n){return u1(n)}}function XM(t){return Rl(t.value)?{required:!0}:null}function Vg(t){return null}function r1(t){return null!=t}function o1(t){return wf(t)?Ci(t):t}function s1(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function a1(t,n){return n.map(e=>e(t))}function l1(t){return t.map(n=>function qY(t){return!t.validate}(n)?n:e=>n.validate(e))}function c1(t){if(!t)return null;const n=t.filter(r1);return 0==n.length?null:function(e){return s1(a1(e,n))}}function XE(t){return null!=t?c1(l1(t)):null}function u1(t){if(!t)return null;const n=t.filter(r1);return 0==n.length?null:function(e){return Ux(a1(e,n).map(o1)).pipe(pe(s1))}}function QE(t){return null!=t?u1(l1(t)):null}function d1(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function f1(t){return t._rawValidators}function h1(t){return t._rawAsyncValidators}function JE(t){return t?Array.isArray(t)?t:[t]:[]}function jg(t,n){return Array.isArray(t)?t.includes(n):t===n}function p1(t,n){const e=JE(n);return JE(t).forEach(i=>{jg(e,i)||e.push(i)}),e}function m1(t,n){return JE(n).filter(e=>!jg(t,e))}class g1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=XE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=QE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Lo extends g1{get formDirective(){return null}get path(){return null}}class Ha extends g1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _1{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let e0=(()=>{class t extends _1{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(Ha,2))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ti("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[gr]})}return t})();const Dh="VALID",Zg="INVALID",pd="PENDING",xh="DISABLED";function r0(t){return(zg(t)?t.validators:t)||null}function o0(t,n){return(zg(n)?n.asyncValidators:t)||null}function zg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class E1{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Dh}get invalid(){return this.status===Zg}get pending(){return this.status==pd}get disabled(){return this.status===xh}get enabled(){return this.status!==xh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(p1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(p1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(m1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(m1(n,this._rawAsyncValidators))}hasValidator(n){return jg(this._rawValidators,n)}hasAsyncValidator(n){return jg(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=pd,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=xh,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Dh,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dh||this.status===pd)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xh:Dh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=pd,this._hasOwnPendingAsyncValidator=!0;const e=o1(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Zr,this.statusChanges=new Zr}_calculateStatus(){return this._allControlsDisabled()?xh:this.errors?Zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pd)?pd:this._anyControlsHaveStatus(Zg)?Zg:Dh}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function XY(t){return Array.isArray(t)?XE(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function QY(t){return Array.isArray(t)?QE(t):t||null}(this._rawAsyncValidators)}}class s0 extends E1{constructor(n,e,r){super(r0(e),o0(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function b1(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new Gt(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function y1(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new Gt(1e3,"");if(!r[e])throw new Gt(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const md=new un("CallSetDisabledState",{providedIn:"root",factory:()=>Gg}),Gg="always";function Rh(t,n,e=Gg){a0(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function t$(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&T1(t,n)})}(t,n),function r$(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function n$(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&T1(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function e$(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Yg(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Wg(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $g(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function a0(t,n){const e=f1(t);null!==n.validator?t.setValidators(d1(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=h1(t);null!==n.asyncValidator?t.setAsyncValidators(d1(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();$g(n._rawValidators,i),$g(n._rawAsyncValidators,i)}function Wg(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=f1(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const i=h1(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}const r=()=>{};return $g(n._rawValidators,r),$g(n._rawAsyncValidators,r),e}function T1(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function w1(t,n){a0(t,n)}function S1(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const l$={provide:Lo,useExisting:wr(()=>Kg)},Mh=(()=>Promise.resolve())();let Kg=(()=>{class t extends Lo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Zr,this.form=new s0({},XE(e),QE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Mh.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Rh(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Mh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Mh.then(()=>{const r=this._findContainer(e.path),i=new s0({});w1(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Mh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Mh.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,S1(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(yt(yo,10),yt(Ml,10),yt(md,8))};static#t=this.\u0275dir=Pn({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&or("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$r([l$]),gr]})}return t})();function C1(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function I1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const A1=class extends E1{constructor(n=null,e,r){super(r0(e),o0(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=I1(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){C1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){C1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){I1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},d$={provide:Ha,useExisting:wr(()=>Xg)},R1=(()=>Promise.resolve())();let Xg=(()=>{class t extends Ha{constructor(e,r,i,o,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this.control=new A1,this._registered=!1,this.name="",this.update=new Zr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function u0(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===Ug?e=o:function s$(t){return Object.getPrototypeOf(t.constructor)===Pc}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function c0(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){R1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Wu(r);R1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function qg(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(r){return new(r||t)(yt(Lo,9),yt(yo,10),yt(Ml,10),yt(Gs,10),yt(Oo,8),yt(md,8))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$r([d$]),gr,ne]})}return t})(),N1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({})}return t})();const v$={provide:Lo,useExisting:wr(()=>Qg)};let Qg=(()=>{class t extends Lo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Zr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Rh(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Yg(e.control||null,e,!1),function a$(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,S1(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Yg(r||null,e),(t=>t instanceof A1)(i)&&(Rh(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);w1(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function i$(t,n){return Wg(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){a0(this.form,this),this._oldForm&&Wg(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(yt(yo,10),yt(Ml,10),yt(md,8))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&or("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$r([v$]),gr,ne]})}return t})(),kc=(()=>{class t{constructor(){this._validator=Vg}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vg,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Pn({type:t,features:[ne]})}return t})();const R$={provide:yo,useExisting:wr(()=>Jg),multi:!0};let Jg=(()=>{class t extends kc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Wu,this.createValidator=e=>XM}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275dir=Pn({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ni("required",i._enabled?"":null)},inputs:{required:"required"},features:[$r([R$]),gr]})}return t})(),F$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[N1]})}return t})(),K1=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:md,useValue:e.callSetDisabledState??Gg}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[F$]})}return t})(),B$=(()=>{class t{constructor(){this._listeners=[]}notify(e,r){for(let i of this._listeners)i(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const U$=["input"],V$=["*"];let X1=0;class Q1{constructor(n,e){this.source=n,this.value=e}}const j$={provide:Gs,useExisting:wr(()=>eN),multi:!0},J1=new un("MatRadioGroup"),H$=new un("mat-radio-default-options",{providedIn:"root",factory:function Z$(){return{color:"accent"}}});let z$=(()=>{class t{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=so(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=so(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+X1++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Zr}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Q1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(r){return new(r||t)(yt(Oo))};static#t=this.\u0275dir=Pn({type:t,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return t})();class G${constructor(n){this._elementRef=n}}const q$=Yb(x4(G$));let Y$=(()=>{class t extends q${get checked(){return this._checked}set checked(e){const r=so(e);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(so(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=so(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,r,i,o,l,c,u,m){super(r),this._changeDetector=i,this._focusMonitor=o,this._radioDispatcher=l,this._providerOverride=u,this._uniqueId="mat-radio-"+ ++X1,this.id=this._uniqueId,this.change=new Zr,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===c,m&&(this.tabIndex=wc(m,0))}focus(e,r){r?this._focusMonitor.focusVia(this._inputElement,r,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,r)=>{e!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Q1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let r;if(r=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}static#e=this.\u0275fac=function(r){Vp()};static#t=this.\u0275dir=Pn({type:t,viewQuery:function(r,i){if(1&r&&Mo(U$,5),2&r){let o;ri(o=ii())&&(i._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[gr]})}return t})(),eN=(()=>{class t extends z${static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275dir=Pn({type:t,selectors:[["mat-radio-group"]],contentQueries:function(r,i,o){if(1&r&&Yo(o,tN,5),2&r){let l;ri(l=ii())&&(i._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[$r([j$,{provide:J1,useExisting:t}]),gr]})}return t})(),tN=(()=>{class t extends Y${constructor(e,r,i,o,l,c,u,m){super(e,r,i,o,l,c,u,m)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(J1,8),yt(xr),yt(Oo),yt(lh),yt(B$),yt(Es,8),yt(H$,8),oc("tabindex"))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(r,i){1&r&&or("focus",function(){return i._inputElement.nativeElement.focus()}),2&r&&(ni("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ti("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[gr],ngContentSelectors:V$,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,i){if(1&r&&(ca(),sn(0,"div",0,1)(2,"div",2)(3,"div",3),or("click",function(l){return i._onTouchTargetClick(l)}),dn(),sn(4,"input",4,5),or("change",function(l){return i._onInputInteraction(l)}),dn(),sn(6,"div",6),Wn(7,"div",7)(8,"div",8),dn(),sn(9,"div",9),Wn(10,"div",10),dn()(),sn(11,"label",11),Ai(12),dn()()),2&r){const o=Fi(1);Ti("mdc-form-field--align-end","before"==i.labelPosition),Xt(2),Ti("mdc-radio--disabled",i.disabled),Xt(2),qt("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),ni("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),Xt(5),qt("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),Xt(2),qt("for",i.inputId)}},dependencies:[$b],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return t})(),$$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[eo,Bf,dh,eo]})}return t})();function W$(t){R(this.request)!=t&&this.update_state({request:t,search_result_reddit:null,search_result_reddit_names:null})}function K$(t){R(this.search_kind)!=t&&this.update_state({search_kind:t})}function X$(){return m0.apply(this,arguments)}function m0(){return(m0=ci(function*(){const t=R(this.request);try{const n=yield Q$.call(this,t);this.update_state({request:t,search_result_reddit:n})}catch(n){this.update_state({errors:n})}})).apply(this,arguments)}function Q$(t){return g0.apply(this,arguments)}function g0(){return(g0=ci(function*(t){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${t} site:reddit.com -wiki`)}&num=60`,i=yield fetch(r);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const m=new Sanitizer({allowElements:["a","span","div"]});l.setHTML(o,{sanitizer:m})}else l.innerHTML=this.domSanitizer.sanitize(ki.HTML,o);const c=[],u=l.querySelectorAll('a[href*="reddit.com/r/"]');for(let m=0;m<u.length;m++){const x=u[m];if(!x.hasChildNodes()||!Array.from(x.childNodes).some(kn=>kn.textContent?.includes("reddit.com")))continue;const W=x.href.indexOf("reddit.com/r/")+13,_e=x.href.indexOf("?",W);let Re=x.href.slice(W,_e);if(Re.endsWith("/")&&(Re=Re.slice(0,-1)),null!=c.find(kn=>kn.url==Re))continue;const ct=x.href.indexOf("/",W),Bt=x.href.slice(W,ct),Qt=x.childNodes.length-1,Mt=x.childNodes[Qt].textContent?.split(" : r/")[0]||"",Mn=x.parentElement?.parentElement?.parentElement?.parentElement?.parentElement?.parentElement?.querySelector(".lhLbod")?.parentElement?.innerText;c.push({text:Mn||Mt,display_name:Bt,url:Re})}return c})).apply(this,arguments)}function J$(){return _0.apply(this,arguments)}function _0(){return(_0=ci(function*(){const t=R(this.request);try{const e=(yield e9.call(this,t)).filter(r=>null!=r).map(r=>({accounts_active:0,display_name:r,public_description_html:"",subscribers:0,title:"",url:"",id:""}));this.update_state({request:t,search_result_reddit_names:e})}catch(n){this.update_state({errors:n})}})).apply(this,arguments)}function e9(t){return v0.apply(this,arguments)}function v0(){return(v0=ci(function*(t){const n=[t9.call(this,t),n9.call(this,t)],r=(yield Promise.allSettled(n)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function t9(t){return y0.apply(this,arguments)}function y0(){return(y0=ci(function*(t){const n=new URLSearchParams;n.set("query",t),n.set("exact","false"),n.set("include_over_18","true"),n.set("typeahead_active","false"),n.set("include_unadvertisable","true");const e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${n}`;try{const r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function n9(t){return b0.apply(this,arguments)}function b0(){return(b0=ci(function*(t){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${t} site:reddit.com -comments -wiki`)}&num=60`,i=yield fetch(r);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const u=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:u})}else l.innerHTML=this.domSanitizer.sanitize(ki.HTML,o);const c=[];return l.querySelectorAll('a[href*="reddit.com/r/"]').forEach(u=>{const m=u,x=m.href.indexOf("reddit.com/r/")+13,W=m.href.indexOf("&",x),_e=m.href.indexOf("/",x),Re=W>-1&&_e>-1?Math.min(W,_e):W>-1?W:_e,Ke=decodeURIComponent(m.href.slice(x,Re));Ke.includes("+")?Ke.split("+").forEach(ct=>!c.includes(ct)&&c.push(ct)):!c.includes(Ke)&&c.push(Ke)}),c})).apply(this,arguments)}function r9(){return T0.apply(this,arguments)}function T0(){return(T0=ci(function*(){const t=R(this.request);if(String.isNullOrWhitespace(t))return;const n=R(this.search_kind);"Reddit"!=n?"RedditNames"!=n||null==R(this.search_result_reddit_names)&&(yield J$.call(this)):null==R(this.search_result_reddit)&&(yield X$.call(this))})).apply(this,arguments)}let Nh=(()=>{class t{constructor(){this.domSanitizer=$t(js),this.#e=new zE,this.#t=new GE,this.#n={errors:ns({}),request:ns(""),search_kind:ns("RedditNames"),search_result_reddit_names:ns(null),search_result_reddit:ns(null)},this.errors=ea(()=>Object.freeze(structuredClone(this.#n.errors()))),this.request=ea(()=>this.#n.request()),this.search_kind=ea(()=>this.#n.search_kind()),this.search_result_reddit_names=ea(()=>this.#n.search_result_reddit_names()),this.search_result_reddit=ea(()=>this.#n.search_result_reddit()),this.actions={updateSearchKind:K$.bind(this),updateRequest:W$.bind(this),searchAsync:r9.bind(this)}}#e;#t;#n;update_state(e){void 0!==e.errors&&this.#n.errors.set(e.errors||{}),void 0!==e.request&&this.#n.request.set(e.request||""),void 0!==e.search_kind&&this.#n.search_kind.set(e.search_kind||"RedditNames"),void 0!==e.search_result_reddit&&this.#n.search_result_reddit.set(e.search_result_reddit),void 0!==e.search_result_reddit_names&&this.#n.search_result_reddit_names.set(e.search_result_reddit_names)}static#r=this.\u0275fac=function(r){return new(r||t)};static#i=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),i9=(()=>{class t{constructor(){this.#e=$t(As),this.store=$t(Nh)}#e;onSearchKindChangeAsync(e){var r=this;return ci(function*(){r.#e.raise(Ac),r.store.actions.updateSearchKind(e.value),yield r.store.actions.searchAsync(),r.#e.raise(Dc)})()}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=pr({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:14,vars:2,consts:[[1,"toolbar"],[3,"ngModel","change"],["value","RedditNames"],["value","Reddit"],["type","button","mat-icon-button","","aria-label","menu",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"]],template:function(r,i){if(1&r&&(sn(0,"div",0),Or(1," Search "),sn(2,"mat-radio-group",1),or("change",function(l){return i.onSearchKindChangeAsync(l)}),sn(3,"mat-radio-button",2),Or(4,"Reddit Names"),dn(),sn(5,"mat-radio-button",3),Or(6,"Reddit"),dn()(),sn(7,"button",4),Wn(8,"mat-icon",5),dn()(),sn(9,"mat-menu",6,7),Wn(11,"mat-icon",8)(12,"mat-icon",9)(13,"mat-icon",10),dn()),2&r){const o=Fi(10);Xt(2),qt("ngModel",i.store.search_kind()),Xt(5),qt("matMenuTriggerFor",o)}},dependencies:[K1,e0,Xg,zs,Ng,us,wl,fd,jE,HE,$$,eN,tN,La],changeDetection:0})}return t})();const nN=Ec({passive:!0});let o9=(()=>{class t{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Jt;const r=bl(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new xe,l="cdk-text-field-autofilled",c=u=>{"cdk-text-field-autofill-start"!==u.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===u.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",c,nN),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",c,nN)}}),o}stopMonitoring(e){const r=bl(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static#e=this.\u0275fac=function(r){return new(r||t)(Wt(Ji),Wt(ir))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({})}return t})();const a9=new un("MAT_INPUT_VALUE_ACCESSOR"),l9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let c9=0;const u9=R4(class{constructor(t,n,e,r){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new xe}});let d9=(()=>{class t extends u9{get disabled(){return this._disabled}set disabled(e){this._disabled=so(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(GY.required)??!1}set required(e){this._required=so(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ux().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=so(e)}constructor(e,r,i,o,l,c,u,m,x,W){super(c,o,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=m,this._formField=W,this._uid="mat-input-"+c9++,this.focused=!1,this.stateChanges=new xe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ke=>ux().has(Ke)),this._iOSKeyupListener=Ke=>{const ct=Ke.target;!ct.value&&0===ct.selectionStart&&0===ct.selectionEnd&&(ct.setSelectionRange(1,1),ct.setSelectionRange(0,0))};const _e=this._elementRef.nativeElement,Re=_e.nodeName.toLowerCase();this._inputValueAccessor=u||_e,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&x.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Re,this._isTextarea="textarea"===Re,this._isInFormField=!!W,this._isNativeSelect&&(this.controlType=_e.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){l9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(r){return new(r||t)(yt(xr),yt(Ji),yt(Ha,10),yt(Kg,8),yt(Qg,8),yt(xx),yt(a9,10),yt(o9),yt(ir),yt(lM,8))};static#t=this.\u0275dir=Pn({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){1&r&&or("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(Cf("id",i.id)("disabled",i.disabled)("required",i.required),ni("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Ti("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[$r([{provide:aM,useExisting:t}]),gr,ne]})}return t})(),f9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({imports:[eo,PE,PE,s9,eo]})}return t})();const h9=["tooltip"],rN=new un("mat-tooltip-scroll-strategy"),g9={provide:rN,deps:[dd],useFactory:function m9(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},v9=new un("mat-tooltip-default-options",{providedIn:"root",factory:function _9(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),iN="tooltip-panel",oN=Ec({passive:!0});let S9=(()=>{class t{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=so(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=so(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=wc(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=wc(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,i,o,l,c,u,m,x,W,_e,Re){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=l,this._platform=c,this._ariaDescriber=u,this._focusMonitor=m,this._dir=W,this._defaultOptions=_e,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new xe,this._scrollStrategy=x,this._document=Re,_e&&(this._showDelay=_e.showDelay,this._hideDelay=_e.hideDelay,_e.position&&(this.position=_e.position),_e.positionAtOrigin&&(this.positionAtOrigin=_e.positionAtOrigin),_e.touchGestures&&(this.touchGestures=_e.touchGestures)),W.change.pipe(Bi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Bi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,oN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new vM(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Bi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof xr)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Bi(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${iN}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Bi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Bi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Bi(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Lb(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(ko(1),Bi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let l;if(l="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",l!==this._currentPosition){const c=this._overlayRef;if(c){const u=`${this._cssClassPrefix}-${iN}-`;c.removePanelClass(u+this._currentPosition),c.addPanelClass(u+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(r=e),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const r=e.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,oN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(r){Vp()};static#t=this.\u0275dir=Pn({type:t,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return t})(),C9=(()=>{class t extends S9{constructor(e,r,i,o,l,c,u,m,x,W,_e,Re){super(e,r,i,o,l,c,u,m,x,W,_e,Re),this._tooltipComponent=A9,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const i=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=i?-8:8:"end"===e.originX&&(e.offsetX=i?8:-8),e}static#e=this.\u0275fac=function(r){return new(r||t)(yt(dd),yt(xr),yt(TM),yt(ls),yt(ir),yt(Ji),yt(c4),yt(lh),yt(rN),yt(ig,8),yt(v9,8),yt(Ir))};static#t=this.\u0275dir=Pn({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){2&r&&Ti("mat-mdc-tooltip-disabled",i.disabled)},exportAs:["matTooltip"],features:[gr]})}return t})(),I9=(()=>{class t{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new xe,this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(r);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(r){return new(r||t)(yt(Oo),yt(Es,8))};static#t=this.\u0275dir=Pn({type:t})}return t})(),A9=(()=>{class t extends I9{constructor(e,r,i){super(e,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(r){return new(r||t)(yt(Oo),yt(xr),yt(Es,8))};static#t=this.\u0275cmp=pr({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(r,i){if(1&r&&Mo(h9,7),2&r){let o;ri(o=ii())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,i){1&r&&or("mouseleave",function(l){return i._handleMouseLeave(l)}),2&r&&Zu("zoom",i.isVisible()?1:null)},features:[gr],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(r,i){1&r&&(sn(0,"div",0,1),or("animationend",function(l){return i._handleAnimationEnd(l)}),sn(2,"div",2),Or(3),dn()()),2&r&&(Ti("mdc-tooltip--multiline",i._isMultiline),qt("ngClass",i.tooltipClass),Xt(3),xo(i.message))},dependencies:[Xu],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return t})(),D9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Xr({type:t});static#n=this.\u0275inj=kr({providers:[g9],imports:[T4,Bf,kM,eo,eo,kg]})}return t})();class x9{static debounce(n,e=300){let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>n(...o),e)}}}function R9(t,n){if(1&t){const e=Ii();sn(0,"mat-icon",7),or("click",function(){return ln(e),cn(Nn().onClear())}),dn()}}function M9(t,n){if(1&t&&(sn(0,"mat-hint",8),Or(1),dn()),2&t){const e=Nn();Xt(1),xo(e.hint)}}function N9(t,n){if(1&t&&(sn(0,"mat-hint",9),Or(1),dn()),2&t){const e=Nn(),r=Fi(4);Xt(1),em("",r.value.length," / ",e._maxlength," ")}}function O9(t,n){if(1&t&&(sn(0,"mat-error"),Or(1),dn()),2&t){const e=Nn();Xt(1),xo(e.errMsg)}}const P9=function(t){return{readonly:t}};let k9=(()=>{class t{set model(e){this._model=e??""}set maxlength(e){!isNaN(e)&&e>0&&(this._maxlength=e)}set style(e){this._style=this.sanitizer.bypassSecurityTrustStyle(e)}#e;constructor(e,r){this.sanitizer=e,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.updateOnInput=!1,this._model="",this._maxlength=256,this.inputName=r.getUniqueId().toString(),this.modelChange=new Zr,this.errorStateMatcher=new xx,this.errorStateMatcher.isErrorState=()=>!this.disabled&&!this.readonly&&String.hasData(this.errMsg),this.#e=x9.debounce(()=>this.#t())}onClear(){this._model="",this.#t()}onChange(){!this.updateOnInput&&this.#t()}onInput(){this.updateOnInput&&this.#e()}#t(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}static#n=this.\u0275fac=function(r){return new(r||t)(yt(js),yt(ZE))};static#r=this.\u0275cmp=pr({type:t,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",updateOnInput:"updateOnInput",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[Qr],decls:9,vars:17,consts:[[2,"width","100%",3,"ngClass"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","input"],["inp",""],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start",4,"ngIf"],["align","end",4,"ngIf"],[4,"ngIf"],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click"],["align","start"],["align","end"]],template:function(r,i){1&r&&(sn(0,"mat-form-field",0)(1,"mat-label"),Or(2),dn(),sn(3,"input",1,2),or("ngModelChange",function(l){return i._model=l})("change",function(){return i.onChange()})("input",function(){return i.onInput()}),dn(),An(5,R9,1,0,"mat-icon",3),An(6,M9,2,1,"mat-hint",4),An(7,N9,2,2,"mat-hint",5),An(8,O9,2,1,"mat-error",6),dn()),2&r&&(qt("ngClass",fa(15,P9,i.readonly)),Xt(2),xo(i.label),Xt(1),qt("placeholder",i.placeholder)("readonly",i.readonly)("disabled",i.disabled)("required",i.required)("ngModel",i._model)("errorStateMatcher",i.errorStateMatcher),ni("name",i.inputName)("maxlength",i._maxlength)("style",i._style,XT),Xt(2),qt("ngIf",!i.readonly&&!i.disabled),Xt(1),qt("ngIf",!i.readonly&&!i.disabled),Xt(1),qt("ngIf",!i.readonly&&!i.disabled&&i._maxlength),Xt(1),qt("ngIf",!i.readonly&&!i.disabled))},dependencies:[K1,Ug,e0,Jg,Xg,us,wl,PE,m6,NE,OE,a6,u6,f9,d9,D9,C9,Xu,Qi],encapsulation:2})}return t})(),F9=(()=>{class t{constructor(){this.#e=$t(As),this.store=$t(Nh)}#e;ngOnInit(){}onModelChange(e){var r=this;return ci(function*(){r.#e.raise(Ac),r.store.actions.updateRequest(e),yield r.store.actions.searchAsync(),r.#e.raise(Dc)})()}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=pr({type:t,selectors:[["search-input"]],standalone:!0,features:[Qr],decls:3,vars:1,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10","top","50px"],[3,"model","modelChange"],["inp",""]],template:function(r,i){1&r&&(sn(0,"div",0)(1,"input-text",1,2),or("modelChange",function(l){return i.onModelChange(l)}),dn()()),2&r&&(Xt(1),qt("model",i.store.request()))},dependencies:[k9,zs,us,fd,Bg],changeDetection:0})}return t})(),L9=(()=>{class t{#e=$t(_a);#t=$t(Fo);on_click(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#t.navigate(["/r"].concat(r.url.split("/")),{relativeTo:this.#e})}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=pr({type:t,selectors:[["search-result-reddit"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:4,vars:3,consts:[[3,"href","click"],[3,"data"]],template:function(r,i){1&r&&(sn(0,"header")(1,"a",0),or("click",function(l){return i.on_click(l,i.data)}),Or(2),dn()(),Wn(3,"text-block",1)),2&r&&(Xt(1),qt("href","/r"+i.data.display_name,lc),Xt(1),xo(i.data.display_name),Xt(1),qt("data",i.data.text))},dependencies:[zs,us,Mb],changeDetection:0})}return t})(),B9=(()=>{class t{constructor(){this.#e=$t(As),this.store=$t(Nh)}#e;change_subreddit(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#e.raise(new Ih(r))}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=pr({type:t,selectors:[["search-result-reddit-names"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"href","click"]],template:function(r,i){1&r&&(sn(0,"header")(1,"a",0),or("click",function(l){return i.change_subreddit(l,i.data.display_name)}),Or(2),dn()()),2&r&&(Xt(1),qt("href","/r"+i.data.display_name,lc),Xt(1),xo(i.data.display_name))},dependencies:[zs,us],changeDetection:0})}return t})();function U9(t,n){if(1&t&&Wn(0,"search-result-reddit-names",4),2&t){const e=n.$implicit;qt("id",e.display_name)("data",e)}}function V9(t,n){if(1&t&&(sn(0,"div",2),An(1,U9,1,2,"search-result-reddit-names",3),dn()),2&t){const e=n.ngIf,r=Nn(2);Xt(1),qt("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function j9(t,n){if(1&t&&(aa(0),An(1,V9,2,2,"div",1),la()),2&t){const e=Nn();Xt(1),qt("ngIf",e.store.search_result_reddit_names())}}function H9(t,n){if(1&t&&Wn(0,"search-result-reddit",6),2&t){const e=n.$implicit;qt("id",e.display_name)("data",e)}}function Z9(t,n){if(1&t&&(sn(0,"div",2),An(1,H9,1,2,"search-result-reddit",5),dn()),2&t){const e=n.ngIf,r=Nn(2);Xt(1),qt("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function z9(t,n){if(1&t&&(aa(0),An(1,Z9,2,2,"div",1),la()),2&t){const e=Nn();Xt(1),qt("ngIf",e.store.search_result_reddit())}}let G9=(()=>{class t{constructor(){this.store=$t(Nh)}trackByFn(e,r){return r.display_name}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=pr({type:t,selectors:[["search-result"]],standalone:!0,features:[Qr],decls:2,vars:2,consts:[[4,"ngIf"],["class","layout",4,"ngIf"],[1,"layout"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","data"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(r,i){1&r&&(An(0,j9,2,1,"ng-container",0),An(1,z9,2,1,"ng-container",0)),2&r&&(qt("ngIf","RedditNames"===i.store.search_kind()),Xt(1),qt("ngIf","Reddit"===i.store.search_kind()))},dependencies:[ml,Qi,L9,B9],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0})}return t})();class q9{constructor(){this.q="",this.k=0}}const Y9=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:LY},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a",component:GM},{path:"comments/:a/:i",component:GM},{path:"s",component:(()=>{class t{#e;#t;#n;#r;#i;#s;#o;constructor(){this.#e=$t(BY),this.#t=$t(UY),this.#n=$t(As),this.#r=!0,this.#i=$t(_a),this.#s=$t(Fo),this.#o=$t(Km),this.pageState=new q9,this.store=$t(Nh),Zp(()=>{const e=this.store.errors();Object.keys(e).length>0&&this.#t.scrollIntoView()}),Zp(()=>{const e=this.store.request(),r=this.store.search_kind();this.#r?this.#r=!1:(this.#c(e,r),this.#u())}),To(this.#n.handle(Ih).pipe(Jr(e=>this.#a(e)))).pipe(ld()).subscribe()}ngOnInit(){var e=this;return ci(function*(){e.#n.raise(Ac),hd.adapt(e.pageState,e.#i.snapshot.queryParams),e.#l(),yield e.store.actions.searchAsync(),e.#o.restore(),e.#e.focusFirst(),e.#n.raise(Dc)})()}#a(e){this.#o.save(),this.#s.navigate(["r",e.subreddit_requested])}#l(){this.store.actions.updateRequest(this.pageState.q),this.store.actions.updateSearchKind(1==this.pageState.k?"Reddit":"RedditNames")}#c(e,r){this.pageState.k="Reddit"===r?1:0,this.pageState.q=e}#u(){const e=Object.trimUnusedProperties(Object.assign({},this.pageState));this.#s.navigate([],{queryParams:e,replaceUrl:!0})}static#d=this.\u0275fac=function(r){return new(r||t)};static#f=this.\u0275cmp=pr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:4,vars:1,consts:[[3,"errors"]],template:function(r,i){1&r&&Wn(0,"page-header")(1,"general-error",0)(2,"search-input")(3,"search-result"),2&r&&(Xt(1),qt("errors",i.store.errors()))},dependencies:[WE,zs,F9,i9,G9],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0})}return t})()}];(function Vj(t,n){return JB({rootComponent:t,...WA(n)})})(x8,{providers:[[{provide:kI,useFactory:function DG(t,n){return ci(function*(){const r=[{name:"arrow_downward",url:"assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"arrow_upward",url:"assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"clear",url:"assets/cancel_FILL0_wght400_GRAD0_opsz24.svg"},{name:"comment",url:"assets/comment_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_less",url:"assets/expand_less_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_more",url:"assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg"},{name:"favorite_filled",url:"assets/favorite_FILL1_wght400_GRAD0_opsz24.svg"},{name:"favorite",url:"assets/favorite_FILL0_wght400_GRAD0_opsz24.svg"},{name:"groups",url:"assets/groups_FILL0_wght400_GRAD0_opsz24.svg"},{name:"home",url:"assets/home_FILL0_wght400_GRAD0_opsz24.svg"},{name:"more_vert",url:"assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg"},{name:"pause",url:"assets/pause_FILL0_wght400_GRAD0_opsz24.svg"},{name:"person",url:"assets/person_FILL0_wght400_GRAD0_opsz24.svg"},{name:"photo_library",url:"assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg"},{name:"play_arrow",url:"assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg"},{name:"push_pin",url:"assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg"},{name:"search",url:"assets/search_FILL0_wght400_GRAD0_opsz24.svg"},{name:"share",url:"assets/share_FILL0_wght400_GRAD0_opsz24.svg"},{name:"trending_up",url:"assets/trending_up_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_mute",url:"assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_off",url:"assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"}].map(i=>function xG(t){return ME.apply(this,arguments)}(i.url).then(o=>t.addSvgIconLiteral(i.name,n.bypassSecurityTrustHtml(o))));yield Promise.allSettled(r)})},multi:!0,deps:[mh,js]}],[{provide:iE,useValue:{keyPrefix:"RedditReader"}}],[{provide:cM,useValue:{subscriptSizing:"dynamic"}},{provide:y6,useValue:{duration:3e3}}],function AG(){return[...CG]}(),function _Z(t,...n){return iv([{provide:$m,multi:!0,useValue:t},[],{provide:_a,useFactory:rx,deps:[Fo]},{provide:Iy,multi:!0,useFactory:ix},n.map(e=>e.\u0275providers)])}(Y9)]}).catch(t=>console.error(t))},584:Za=>{self,Za.exports=function(){var za={4593:function(Et,Ze){var H,ye,N,f,d,v={};H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=function(w){for(var D=0,h=[],y=0|w.length/3;0<y--;){var T=(w[D]<<16)+(w[D+1]<<8)+w[D+2];D+=3,h.push(H.charAt(63&T>>18)),h.push(H.charAt(63&T>>12)),h.push(H.charAt(63&T>>6)),h.push(H.charAt(63&T))}return w.length-D==2?(h.push(H.charAt(63&(T=(w[D]<<16)+(w[D+1]<<8))>>18)),h.push(H.charAt(63&T>>12)),h.push(H.charAt(63&T>>6)),h.push("=")):w.length-D==1&&(h.push(H.charAt(63&(T=w[D]<<16)>>18)),h.push(H.charAt(63&T>>12)),h.push("==")),h.join("")},N=function(){for(var w=[],D=0;D<64;++D)w[H.charCodeAt(D)]=D;return w["=".charCodeAt(0)]=0,w}(),f=function(w){for(var D=0,h=[],y=0|w.length/4;0<y--;){var T=(N[w.charCodeAt(D)]<<18)+(N[w.charCodeAt(D+1)]<<12)+(N[w.charCodeAt(D+2)]<<6)+N[w.charCodeAt(D+3)];h.push(255&T>>16),h.push(255&T>>8),h.push(255&T),D+=4}return h&&("="==w.charAt(D-2)?(h.pop(),h.pop()):"="==w.charAt(D-1)&&h.pop()),h},d={encode:function(w){for(var D=[],h=0;h<w.length;++h)D.push(w.charCodeAt(h));return D},decode:function(w){for(var D=0;D<s.length;++D)a[D]=String.fromCharCode(a[D]);return a.join("")}},v.decodeArray=function(w){var D=f(w);return new Uint8Array(D)},v.encodeASCII=function(w){var D=d.encode(w);return ye(D)},v.decodeASCII=function(w){var D=f(w);return d.decode(D)},v.encode=function(w){var D=function(w){for(var D=[],h=0;h<w.length;++h){var y=w.charCodeAt(h);y<128?D.push(y):y<2048?(D.push(192|y>>6),D.push(128|63&y)):y<65536?(D.push(224|y>>12),D.push(128|63&y>>6),D.push(128|63&y)):(D.push(240|y>>18),D.push(128|63&y>>12),D.push(128|63&y>>6),D.push(128|63&y))}return D}(w);return ye(D)},v.decode=function(w){return function(w){for(var D=[],h=0;h<w.length;){var y=w[h++];y<128||(y<224?(y=(31&y)<<6,y|=63&w[h++]):y<240?(y=(15&y)<<12,y|=(63&w[h++])<<6,y|=63&w[h++]):(y=(7&y)<<18,y|=(63&w[h++])<<12,y|=(63&w[h++])<<6,y|=63&w[h++])),D.push(String.fromCharCode(y))}return D.join("")}(f(w))},Ze.decode=v.decode,Ze.decodeArray=v.decodeArray,Ze.encode=v.encode,Ze.encodeASCII=v.encodeASCII},452:function(Et,Ze){!function(H){"use strict";var ye={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},N=function(z){var k=z;return ye.hasOwnProperty(z)&&(k=ye[z]),String.fromCharCode(k)},f=15,d=32,I={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},A={17:2,18:4,21:6,22:8,23:10,19:13,20:15},v={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},w={25:2,26:4,29:6,30:8,31:10,27:13,28:15},D=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(z){this.time=z},log:function(z,k){this.verboseLevel>=this.verboseFilter[z]&&console.log(this.time+" ["+z+"] "+k)}},y=function(z){for(var k=[],K=0;K<z.length;K++)k.push(z[K].toString(16));return k},T=function(z,k,K,ue,de){this.foreground=z||"white",this.underline=k||!1,this.italics=K||!1,this.background=ue||"black",this.flash=de||!1};T.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(z){for(var k=["foreground","underline","italics","background","flash"],K=0;K<k.length;K++){var ue=k[K];z.hasOwnProperty(ue)&&(this[ue]=z[ue])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(z){return this.foreground===z.foreground&&this.underline===z.underline&&this.italics===z.italics&&this.background===z.background&&this.flash===z.flash},copy:function(z){this.foreground=z.foreground,this.underline=z.underline,this.italics=z.italics,this.background=z.background,this.flash=z.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var j=function(z,k,K,ue,de,Oe){this.uchar=z||" ",this.penState=new T(k,K,ue,de,Oe)};j.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(z,k){this.uchar=z,this.penState.copy(k)},setPenState:function(z){this.penState.copy(z)},equals:function(z){return this.uchar===z.uchar&&this.penState.equals(z.penState)},copy:function(z){this.uchar=z.uchar,this.penState.copy(z.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var X=function(){this.chars=[];for(var z=0;z<d;z++)this.chars.push(new j);this.pos=0,this.currPenState=new T};X.prototype={equals:function(z){for(var k=!0,K=0;K<d;K++)if(!this.chars[K].equals(z.chars[K])){k=!1;break}return k},copy:function(z){for(var k=0;k<d;k++)this.chars[k].copy(z.chars[k])},isEmpty:function(){for(var z=!0,k=0;k<d;k++)if(!this.chars[k].isEmpty()){z=!1;break}return z},setCursor:function(z){this.pos!==z&&(this.pos=z),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>d&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=d)},moveCursor:function(z){var k=this.pos+z;if(z>1)for(var K=this.pos+1;K<k+1;K++)this.chars[K].setPenState(this.currPenState);this.setCursor(k)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(z){z>=144&&this.backSpace();var k=N(z);this.pos>=d?h.log("ERROR","Cannot insert "+z.toString(16)+" ("+k+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(k,this.currPenState),this.moveCursor(1))},clearFromPos:function(z){var k;for(k=z;k<d;k++)this.chars[k].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var z=[],k=!0,K=0;K<d;K++){var ue=this.chars[K].uchar;" "!==ue&&(k=!1),z.push(ue)}return k?"":z.join("")},setPenStyles:function(z){this.currPenState.setStyles(z),this.chars[this.pos].setPenState(this.currPenState)}};var Y=function(){this.rows=[];for(var z=0;z<f;z++)this.rows.push(new X);this.currRow=14,this.nrRollUpRows=null,this.reset()};Y.prototype={reset:function(){for(var z=0;z<f;z++)this.rows[z].clear();this.currRow=14},equals:function(z){for(var k=!0,K=0;K<f;K++)if(!this.rows[K].equals(z.rows[K])){k=!1;break}return k},copy:function(z){for(var k=0;k<f;k++)this.rows[k].copy(z.rows[k])},isEmpty:function(){for(var z=!0,k=0;k<f;k++)if(!this.rows[k].isEmpty()){z=!1;break}return z},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(z){this.rows[this.currRow].insertChar(z)},setPen:function(z){this.rows[this.currRow].setPenStyles(z)},moveCursor:function(z){this.rows[this.currRow].moveCursor(z)},setCursor:function(z){h.log("INFO","setCursor: "+z),this.rows[this.currRow].setCursor(z)},setPAC:function(z){h.log("INFO","pacData = "+JSON.stringify(z));var k=z.row-1;this.nrRollUpRows&&k<this.nrRollUpRows-1&&(k=this.nrRollUpRows-1),this.currRow=k;var K=this.rows[this.currRow];if(null!==z.indent){var de=Math.max(z.indent-1,0);K.setCursor(z.indent),z.color=K.chars[de].penState.foreground}this.setPen({foreground:z.color,underline:z.underline,italics:z.italics,background:"black",flash:!1})},setBkgData:function(z){h.log("INFO","bkgData = "+JSON.stringify(z)),this.backSpace(),this.setPen(z),this.insertChar(32)},setRollUpRows:function(z){this.nrRollUpRows=z},rollUp:function(){if(null!==this.nrRollUpRows){h.log("TEXT",this.getDisplayText());var k=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];k.clear(),this.rows.splice(this.currRow,0,k),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(z){z=z||!1;for(var k=[],K="",de=0;de<f;de++){var Oe=this.rows[de].getTextString();Oe&&k.push(z?"Row "+(de+1)+': "'+Oe+'"':Oe.trim())}return k.length>0&&(K=z?"["+k.join(" | ")+"]":k.join("\n")),K},getTextAndFormat:function(){return this.rows}};var $=function(z,k){this.chNr=z,this.outputFilter=k,this.mode=null,this.verbose=0,this.displayedMemory=new Y,this.nonDisplayedMemory=new Y,this.lastOutputScreen=new Y,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};$.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(z){this.outputFilter=z},setPAC:function(z){this.writeScreen.setPAC(z)},setBkgData:function(z){this.writeScreen.setBkgData(z)},setMode:function(z){z!==this.mode&&(this.mode=z,h.log("INFO","MODE="+z),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=z)},insertChars:function(z){for(var k=0;k<z.length;k++)this.writeScreen.insertChar(z[k]);h.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){h.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(z){h.log("INFO","RU("+z+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(z)},cc_FON:function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(h.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var z=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=z,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(z){h.log("INFO","TO("+z+") - Tab Offset"),this.writeScreen.moveCursor(z)},cc_MIDROW:function(z){var k={flash:!1};if(k.underline=z%2==1,k.italics=z>=46,k.italics)k.foreground="white";else{var K=Math.floor(z/2)-16;k.foreground=["white","green","blue","cyan","red","yellow","magenta"][K]}h.log("INFO","MIDROW: "+JSON.stringify(k)),this.writeScreen.setPen(k)},outputDataUpdate:function(){var z=h.time;null!==z&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(z,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,z,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:z):this.cueStartTime=z,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(z){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,z,this.displayedMemory),this.cueStartTime=z))}};var he=function(z,k,K){this.field=z||1,this.outputs=[k,K],this.channels=[new $(1,k),new $(2,K)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};he.prototype={getHandler:function(z){return this.channels[z].getHandler()},setHandler:function(z,k){this.channels[z].setHandler(k)},addData:function(z,k){var K,ue,de,Oe=!1;this.lastTime=z,h.setTime(z);for(var gt=0;gt<k.length;gt+=2)de=127&k[gt+1],(ue=127&k[gt])>=16&&ue<=31&&ue===this.lastCmdA&&de===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+y([ue,de])+") is dropped")):0!==ue||0!==de?(h.log("DATA","["+y([k[gt],k[gt+1]])+"] -> ("+y([ue,de])+")"),(K=this.parseCmd(ue,de))||(K=this.parseMidrow(ue,de)),K||(K=this.parsePAC(ue,de)),K||(K=this.parseBackgroundAttributes(ue,de)),K||(Oe=this.parseChars(ue,de))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Oe):h.log("WARNING","No channel found yet. TEXT-MODE?")),K?this.dataCounters.cmd+=2:Oe?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+y([ue,de])+" orig: "+y([k[gt],k[gt+1]])))):this.dataCounters.padding+=2},parseCmd:function(z,k){var K;if(!((20===z||21===z||28===z||29===z)&&32<=k&&k<=47||(23===z||31===z)&&33<=k&&k<=35))return!1;var ue=this.channels[(K=20===z||21===z||23===z?1:2)-1];return 20===z||21===z||28===z||29===z?32===k?ue.cc_RCL():33===k?ue.cc_BS():34===k?ue.cc_AOF():35===k?ue.cc_AON():36===k?ue.cc_DER():37===k?ue.cc_RU(2):38===k?ue.cc_RU(3):39===k?ue.cc_RU(4):40===k?ue.cc_FON():41===k?ue.cc_RDC():42===k?ue.cc_TR():43===k?ue.cc_RTD():44===k?ue.cc_EDM():45===k?ue.cc_CR():46===k?ue.cc_ENM():47===k&&ue.cc_EOC():ue.cc_TO(k-32),this.lastCmdA=z,this.lastCmdB=k,this.currChNr=K,!0},parseMidrow:function(z,k){var K=null;if((17===z||25===z)&&32<=k&&k<=47){if((K=17===z?1:2)!==this.currChNr)return h.log("ERROR","Mismatch channel in midrow parsing"),!1;var ue=this.channels[K-1];return ue.insertChars([32]),ue.cc_MIDROW(k),h.log("DEBUG","MIDROW ("+y([z,k])+")"),this.lastCmdA=z,this.lastCmdB=k,!0}return!1},parsePAC:function(z,k){var K;if(!((17<=z&&z<=23||25<=z&&z<=31)&&64<=k&&k<=127||(16===z||24===z)&&64<=k&&k<=95))return!1;K=z<=23?1:2;var de=this.interpretPAC(64<=k&&k<=95?1===K?I[z]:v[z]:1===K?A[z]:w[z],k);return this.channels[K-1].setPAC(de),this.lastCmdA=z,this.lastCmdB=k,this.currChNr=K,!0},interpretPAC:function(z,k){var K,ue={color:null,italics:!1,indent:null,underline:!1,row:z};return ue.underline=1==(1&(K=k>95?k-96:k-64)),K<=13?ue.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(K/2)]:K<=15?(ue.italics=!0,ue.color="white"):ue.indent=4*Math.floor((K-16)/2),ue},parseChars:function(z,k){var Oe,K=null,ue=null,de=null;if(z>=25?(K=2,de=z-8):(K=1,de=z),17<=de&&de<=19?(h.log("INFO","Special char '"+N(Oe=17===de?k+80:18===de?k+112:k+144)+"' in channel "+K),ue=[Oe],this.lastCmdA=z,this.lastCmdB=k):32<=z&&z<=127&&(ue=0===k?[z]:[z,k],this.lastCmdA=null,this.lastCmdB=null),ue){var gt=y(ue);h.log("DEBUG","Char codes =  "+gt.join(","))}return ue},parseBackgroundAttributes:function(z,k){var K,ue;return((16===z||24===z)&&32<=k&&k<=47||(23===z||31===z)&&45<=k&&k<=47)&&(K={},16===z||24===z?(ue=Math.floor((k-32)/2),K.background=D[ue],k%2==1&&(K.background=K.background+"_semi")):45===k?K.background="transparent":(K.foreground="black",47===k&&(K.underline=!0)),this.channels[(z<24?1:2)-1].setBkgData(K),this.lastCmdA=z,this.lastCmdB=k,!0)},reset:function(){for(var z=0;z<this.channels.length;z++)this.channels[z]&&this.channels[z].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(z){for(var k=0;k<this.channels.length;k++)this.channels[k]&&this.channels[k].cueSplitAtTime(z)}},H.logger=h,H.PenState=T,H.CaptionScreen=Y,H.Cea608Parser=he,H.findCea608Nalus=function(z,k,K){for(var ue=0,de=k,Oe=[],gt=function(ke,ot,Qe,Rt){if(4!==ke||ot<8)return null;var xe=Qe.getUint8(Rt),et=Qe.getUint16(Rt+1),jt=Qe.getUint32(Rt+3),It=Qe.getUint8(Rt+7);return 181==xe&&49==et&&1195456820==jt&&3==It};de<k+K;){if(ue=z.getUint32(de),6==(31&z.getUint8(de+4)))for(var ve=de+5,Ge=-1;ve<de+4+ue-1;){Ge=0;for(var ut=255;255===ut;)Ge+=ut=z.getUint8(ve),ve++;var Ve=0;for(ut=255;255===ut;)Ve+=ut=z.getUint8(ve),ve++;gt(Ge,Ve,z,ve)&&Oe.push([ve,Ve]),ve+=Ve}de+=ue+4}return Oe},H.extractCea608DataFromRange=function(z,k){var K=k[0],ue=[[],[]],de=31&z.getUint8(K+=8);K+=2;for(var Oe=0;Oe<de;Oe++){var gt=z.getUint8(K),ve=4&gt,Ge=3&gt;K++;var ut=z.getUint8(K);K++;var Ve=z.getUint8(K);K++,ve&&(127&ut)+(127&Ve)!=0&&(0===Ge?(ue[0].push(ut),ue[0].push(Ve)):1===Ge&&(ue[1].push(ut),ue[1].push(Ve)))}return ue}}(Ze)},8416:function(Et,Ze,H){"use strict";var ye=H(7688),N=H(5448),f=H(6398),d=H(2032),I=(H(5530),typeof window<"u"&&window||H.g),A=I.dashjs;A||(A=I.dashjs={}),A.MediaPlayer=ye.Z,A.FactoryMaker=N.Z,A.Debug=f.Z,A.Version=(0,d.e)()},6398:function(Et,Ze,H){"use strict";var ye=H(5595),N=H(8512),f=H(5448),d=1,I=2,A=3,v=4,w=5;function D(y){y=y||{};var T,j,X,Y,he=(0,ye.Z)(this.context).getInstance(),z=y.settings,k=[];function K(ut){return ut&&ut.bind?ut.bind(window.console):window.console.log.bind(window.console)}function ue(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[d,this].concat(Ve))}function de(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[I,this].concat(Ve))}function Oe(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[A,this].concat(Ve))}function gt(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[v,this].concat(Ve))}function ve(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[w,this].concat(Ve))}function Ge(ut,Ve){var ke="",ot=null;j&&(ot=(new Date).getTime(),ke+="["+(ot-Y)+"]"),X&&Ve&&Ve.getClassName&&(ke+="["+Ve.getClassName()+"]",Ve.getType&&(ke+="["+Ve.getType()+"]")),ke.length>0&&(ke+=" ");for(var Qe=arguments.length,Rt=new Array(Qe>2?Qe-2:0),xe=2;xe<Qe;xe++)Rt[xe-2]=arguments[xe];Array.apply(null,Rt).forEach(function(et){ke+=et+" "}),k[ut]&&z&&z.get().debug.logLevel>=ut&&k[ut](ke),z&&z.get().debug.dispatchEvent&&he.trigger(N.Z.LOG,{message:ke,level:ut})}return T={getLogger:function(ut){return{fatal:ue.bind(ut),error:de.bind(ut),warn:Oe.bind(ut),info:gt.bind(ut),debug:ve.bind(ut)}},setLogTimestampVisible:function(ut){j=ut},setCalleeNameVisible:function(ut){X=ut}},j=!0,X=!0,Y=(new Date).getTime(),typeof window<"u"&&window.console&&(k[d]=K(window.console.error),k[I]=K(window.console.error),k[A]=K(window.console.warn),k[v]=K(window.console.info),k[w]=K(window.console.debug)),T}D.__dashjs_factory_name="Debug";var h=f.Z.getSingletonFactory(D);h.LOG_LEVEL_NONE=0,h.LOG_LEVEL_FATAL=d,h.LOG_LEVEL_ERROR=I,h.LOG_LEVEL_WARNING=A,h.LOG_LEVEL_INFO=v,h.LOG_LEVEL_DEBUG=w,f.Z.updateSingletonFactory(D.__dashjs_factory_name,h),Ze.Z=h},5595:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(8825);function f(){var I={};function A(w,D,h){var y=-1;return I[w]&&I[w].some(function(T,j){if(T&&T.callback===D&&(!h||h===T.scope))return y=j,!0}),y}var v={on:function(w,D,h){var y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!w)throw new Error("event type cannot be null or undefined");if(!D||"function"!=typeof D)throw new Error("listener must be a function: "+D);var T=y.priority||0;if(!(A(w,D,h)>=0)){I[w]=I[w]||[];var j={callback:D,scope:h,priority:T};h&&h.getStreamId&&(j.streamId=h.getStreamId()),h&&h.getType&&(j.mediaType=h.getType()),y&&y.mode&&(j.mode=y.mode),I[w].some(function(Y,$){if(Y&&T>Y.priority)return I[w].splice($,0,j),!0})||I[w].push(j)}},off:function(w,D,h){if(w&&D&&I[w]){var y=A(w,D,h);y<0||(I[w][y]=null)}},trigger:function(w){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(w&&I[w]){if((D=D||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");D.type=w,h.streamId&&(D.streamId=h.streamId),h.mediaType&&(D.mediaType=h.mediaType),I[w].filter(function(y){return!(!y||h.streamId&&y.streamId&&y.streamId!==h.streamId||h.mediaType&&y.mediaType&&y.mediaType!==h.mediaType||h.mode&&y.mode&&y.mode!==h.mode||!y.mode&&h.mode&&h.mode===N.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(y){return y&&y.callback.call(y.scope,D)})}},reset:function(){I={}}};return v}f.__dashjs_factory_name="EventBus";var d=ye.Z.getSingletonFactory(f);d.EVENT_PRIORITY_LOW=0,d.EVENT_PRIORITY_HIGH=5e3,ye.Z.updateSingletonFactory(f.__dashjs_factory_name,d),Ze.Z=d},5448:function(Et,Ze){"use strict";var H=function(){var ye,N=[],f={},d={};function I(D,h){for(var y in N){var T=N[y];if(T.context===D&&T.name===h)return T.instance}return null}function A(D,h){return h[D]}function v(D,h,y){D in y&&(y[D]=h)}function w(D,h,y){var T,j=D.__dashjs_factory_name,X=h[j];if(X){var Y=X.instance;if(!X.override)return Y.apply({context:h,factory:ye},y);for(var $ in T=D.apply({context:h},y),Y=Y.apply({context:h,factory:ye,parent:T},y))T.hasOwnProperty($)&&(T[$]=Y[$])}else T=D.apply({context:h},y);return T.getClassName=function(){return j},T}return ye={extend:function(D,h,y,T){!T[D]&&h&&(T[D]={instance:h,override:y})},getSingletonInstance:I,setSingletonInstance:function(D,h,y){for(var T in N){var j=N[T];if(j.context===D&&j.name===h)return void(N[T].instance=y)}N.push({name:h,context:D,instance:y})},deleteSingletonInstances:function(D){N=N.filter(function(h){return h.context!==D})},getSingletonFactory:function(D){var h=A(D.__dashjs_factory_name,f);return h||(h=function(y){var T;return void 0===y&&(y={}),{getInstance:function(){return T||(T=I(y,D.__dashjs_factory_name)),T||(T=w(D,y,arguments),N.push({name:D.__dashjs_factory_name,context:y,instance:T})),T}}},f[D.__dashjs_factory_name]=h),h},getSingletonFactoryByName:function(D){return A(D,f)},updateSingletonFactory:function(D,h){v(D,h,f)},getClassFactory:function(D){var h=A(D.__dashjs_factory_name,d);return h||(h=function(y){return void 0===y&&(y={}),{create:function(){return w(D,y,arguments)}}},d[D.__dashjs_factory_name]=h),h},getClassFactoryByName:function(D){return A(D,d)},updateClassFactory:function(D,h){v(D,h,d)}},ye}();Ze.Z=H},1264:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(703),f=H(6398),d=H(3393),I=H(7855),A=H(5595),v=H(8512);function w(T){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(T)}function D(T,j,X){return j in T?Object.defineProperty(T,j,{value:X,enumerable:!0,configurable:!0,writable:!0}):T[j]=X,T}function h(){var T,j,Y=(0,A.Z)(this.context).getInstance(),$={"streaming.delay.liveDelay":v.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":v.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":v.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":v.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":v.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},he={debug:{logLevel:f.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:d.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:d.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:d.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:d.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(T={},D(T,I.w.MPD_TYPE,500),D(T,I.w.XLINK_EXPANSION_TYPE,500),D(T,I.w.MEDIA_SEGMENT_TYPE,1e3),D(T,I.w.INIT_SEGMENT_TYPE,1e3),D(T,I.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),D(T,I.w.INDEX_SEGMENT_TYPE,1e3),D(T,I.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),D(T,I.w.LICENSE,1e3),D(T,I.w.OTHER_TYPE,1e3),D(T,"lowLatencyReductionFactor",10),T),retryAttempts:(j={},D(j,I.w.MPD_TYPE,3),D(j,I.w.XLINK_EXPANSION_TYPE,1),D(j,I.w.MEDIA_SEGMENT_TYPE,3),D(j,I.w.INIT_SEGMENT_TYPE,3),D(j,I.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),D(j,I.w.INDEX_SEGMENT_TYPE,3),D(j,I.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),D(j,I.w.LICENSE,3),D(j,I.w.OTHER_TYPE,3),D(j,"lowLatencyMultiplyFactor",5),j),abr:{movingAverageMethod:d.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:d.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:d.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},z=N.Z.clone(he);function k(K,ue,de){for(var Oe in K)K.hasOwnProperty(Oe)&&(ue.hasOwnProperty(Oe)?"object"!==w(K[Oe])||K[Oe]instanceof Array||null===K[Oe]?(ue[Oe]=N.Z.clone(K[Oe]),$[de+Oe]&&Y.trigger($[de+Oe])):k(K[Oe],ue[Oe],de.slice()+Oe+"."):console.error("Settings parameter "+de+Oe+" is not supported"))}return{get:function(){return z},update:function(K){"object"===w(K)&&k(K,z,"")},reset:function(){z=N.Z.clone(he)}}}h.__dashjs_factory_name="Settings";var y=ye.Z.getSingletonFactory(h);Ze.Z=y},703:function(Et,Ze,H){"use strict";var ye=H(3875),N=H.n(ye),f=H(1067);function d(v){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}var A=function(){function v(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,v)}var D;return D=[{key:"mixin",value:function(h,y,T){var j,X={};if(h)for(var Y in y)y.hasOwnProperty(Y)&&(j=y[Y],Y in h&&(h[Y]===j||Y in X&&X[Y]===j)||(h[Y]="object"===d(h[Y])&&null!==h[Y]?v.mixin(h[Y],j,T):T(j)));return h}},{key:"clone",value:function(h){if(!h||"object"!==d(h))return h;var y;if(h instanceof Array){y=[];for(var T=0,j=h.length;T<j;++T)T in h&&y.push(v.clone(h[T]))}else y={};return v.mixin(y,h,v.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(h,y){try{if(!y||0===y.length)return h;var T=new URL(h);return y.forEach(function(j){j.key&&j.value&&T.searchParams.set(j.key,j.value)}),T.href}catch{return h}}},{key:"parseHttpHeaders",value:function(h){var y={};if(!h)return y;for(var T=h.trim().split("\r\n"),j=0,X=T.length;j<X;j++){var Y=T[j],$=Y.indexOf(": ");$>0&&(y[Y.substring(0,$)]=Y.substring($+2))}return y}},{key:"generateUuid",value:function(){var h=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(y){var T=(h+16*Math.random())%16|0;return h=Math.floor(h/16),("x"==y?T:3&T|8).toString(16)})}},{key:"generateHashCode",value:function(h){var y=0;if(0===h.length)return y;for(var T=0;T<h.length;T++)y=(y<<5)-y+h.charCodeAt(T),y|=0;return y}},{key:"getRelativeUrl",value:function(h,y){try{var T=new URL(h),j=new URL(y);if(T.protocol=j.protocol,T.origin!==j.origin)return y;var X=N().relative(T.pathname.substr(0,T.pathname.lastIndexOf("/")),j.pathname.substr(0,j.pathname.lastIndexOf("/"))),Y=0===X.length?1:0;return X+=j.pathname.substr(j.pathname.lastIndexOf("/")+Y,j.pathname.length-1),j.pathname.length<X.length?j.pathname:X}catch{return y}}},{key:"parseUserAgent",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var y=null===h&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,f.UAParser)(y)}catch{return{}}}},{key:"stringHasProtocol",value:function(h){return/(http(s?)):\/\//i.test(h)}}],D&&function I(v,w){for(var D=0;D<w.length;D++){var h=w[D];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}(v,D),v}();Ze.Z=A},2032:function(Et,Ze,H){"use strict";function ye(){return"4.7.2"}H.d(Ze,{e:function(){return ye}})},2230:function(Et,Ze){"use strict";var ye=function(){function N(){!function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}(this,N)}var d;return(d=[{key:"extend",value:function(I,A){if(I){var v=!!A&&A.override,w=!!A&&A.publicOnly;for(var D in I)!I.hasOwnProperty(D)||this[D]&&!v||w&&-1===I[D].indexOf("public_")||(this[D]=I[D])}}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}();Ze.Z=ye},4351:function(Et,Ze,H){"use strict";function ye(A){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(A)}function N(A,v){return(N=Object.setPrototypeOf||function(w,D){return w.__proto__=D,w})(A,v)}function d(A){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(A)}var I=function(A){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&N(y,T)}(h,A);var v,w,D=(v=h,w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=d(v);if(w){var j=d(this).constructor;y=Reflect.construct(T,arguments,j)}else y=T.apply(this,arguments);return function f(A,v){return!v||"object"!==ye(v)&&"function"!=typeof v?function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(A):v}(this,y)});function h(){var y;return function(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,h),(y=D.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",y.BUFFERING_COMPLETED="bufferingCompleted",y.BUFFER_CLEARED="bufferCleared",y.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",y.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",y.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",y.CMSD_STATIC_HEADER="cmsdStaticHeader",y.CURRENT_TRACK_CHANGED="currentTrackChanged",y.DATA_UPDATE_COMPLETED="dataUpdateCompleted",y.INBAND_EVENTS="inbandEvents",y.INITIAL_STREAM_SWITCH="initialStreamSwitch",y.INIT_FRAGMENT_LOADED="initFragmentLoaded",y.INIT_FRAGMENT_NEEDED="initFragmentNeeded",y.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",y.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",y.LOADING_COMPLETED="loadingCompleted",y.LOADING_PROGRESS="loadingProgress",y.LOADING_DATA_PROGRESS="loadingDataProgress",y.LOADING_ABANDONED="loadingAborted",y.MANIFEST_UPDATED="manifestUpdated",y.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",y.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",y.QUOTA_EXCEEDED="quotaExceeded",y.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",y.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",y.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",y.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",y.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",y.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",y.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",y.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",y.SOURCE_BUFFER_ERROR="sourceBufferError",y.STREAMS_COMPOSED="streamsComposed",y.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",y.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",y.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",y.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",y.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",y.URL_RESOLUTION_FAILED="urlResolutionFailed",y.VIDEO_CHUNK_RECEIVED="videoChunkReceived",y.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",y.XLINK_ELEMENT_LOADED="xlinkElementLoaded",y.XLINK_READY="xlinkReady",y.SEEK_TARGET="seekTarget",y.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",y.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",y.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",y.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",y.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",y}return h}(H(8342).Z);Ze.Z=I},8512:function(Et,Ze,H){"use strict";function ye(w){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(w)}function f(w,D){return(f=Object.setPrototypeOf||function(h,y){return h.__proto__=y,h})(w,D)}function I(w){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(w)}var A=function(w){!function(j,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(X&&X.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),X&&f(j,X)}(T,w);var D,h,y=(D=T,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var j,X=I(D);if(h){var Y=I(this).constructor;j=Reflect.construct(X,arguments,Y)}else j=X.apply(this,arguments);return function d(w,D){return!D||"object"!==ye(D)&&"function"!=typeof D?function(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(w):D}(this,j)});function T(){return function N(w,D){if(!(w instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),y.apply(this,arguments)}return T}(H(4351).Z),v=new A;Ze.Z=v},8342:function(Et,Ze){"use strict";var ye=function(){function N(){!function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}(this,N)}var d;return(d=[{key:"extend",value:function(I,A){if(I){var v=!!A&&A.override,w=!!A&&A.publicOnly;for(var D in I)!I.hasOwnProperty(D)||this[D]&&!v||w&&-1===I[D].indexOf("public_")||(this[D]=I[D])}}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}();Ze.Z=ye},9326:function(Et,Ze,H){"use strict";var ye=H(3186),N=H(7855),f=H(5448),d=H(8825),I=H(7387),A=H(1553);function v(w){var D,h,y,T,j,X=(w=w||{}).eventBus,$=w.urlUtils,he=w.type,z=w.streamInfo,k=w.segmentsController,K=w.timelineConverter,ue=w.baseURLController;function de(){return he}function Oe(){y=null}function gt(Ve,ke,ot){var Qe,Rt,xe=ue.resolve(ot.path),et={};return xe&&ke!==xe.url&&$.isRelative(ke)?(Qe=xe.url,Rt=xe.serviceLocation,et=xe.queryParams,ke&&(Qe=$.resolve(ke,Qe))):Qe=ke,!$.isRelative(Qe)&&(Ve.url=Qe,Ve.serviceLocation=Rt,Ve.queryParams=et,!0)}function ve(Ve,ke){if(null==ke)return null;var ot=new ye.Z,Qe=ke.representation,Rt=Qe.adaptation.period.mpd.manifest.Period_asArray[Qe.adaptation.period.index].AdaptationSet_asArray[Qe.adaptation.index].Representation_asArray[Qe.index].bandwidth,xe=ke.media;return xe=(0,I.vi)(xe,"Number",ke.replacementNumber),xe=(0,I.vi)(xe,"Time",ke.replacementTime),xe=(0,I.vi)(xe,"Bandwidth",Rt),xe=(0,I.Aj)(xe,Qe.id),xe=(0,I.eR)(xe),ot.mediaType=de(),ot.type=N.w.MEDIA_SEGMENT_TYPE,ot.range=ke.mediaRange,ot.startTime=ke.presentationStartTime,ot.mediaStartTime=ke.mediaStartTime,ot.duration=ke.duration,ot.timescale=Qe.timescale,ot.availabilityStartTime=ke.availabilityStartTime,ot.availabilityEndTime=ke.availabilityEndTime,ot.availabilityTimeComplete=Qe.availabilityTimeComplete,ot.wallStartTime=ke.wallStartTime,ot.quality=Qe.index,ot.index=ke.index,ot.mediaInfo=Ve,ot.adaptationIndex=Qe.adaptation.index,ot.representationId=Qe.id,gt(ot,xe,Qe)?ot:void 0}function Ge(Ve,ke,ot){var Qe=null;if(!ke||!ke.segmentInfoType)return Qe;var Rt=k.getSegmentByTime(ke,ot);return Rt&&(y=Rt,h.debug("Index for time "+ot+" is "+Rt.index),Qe=ve(Ve,Rt)),Qe}function ut(){h.debug("Dynamic stream complete"),j=!0}return D={initialize:function(Ve){T=Ve,j=!1,k.initialize(Ve)},getStreamId:function(){return z.id},getType:de,getStreamInfo:function(){return z},getInitRequest:function(Ve,ke){return ke?function(ot,Qe,Rt){var xe=new ye.Z,et=Qe.adaptation.period,jt=et.start;if(xe.mediaType=Rt,xe.type=N.w.INIT_SEGMENT_TYPE,xe.range=Qe.range,xe.availabilityStartTime=K.calcAvailabilityStartTimeFromPresentationTime(jt,Qe,T),xe.availabilityEndTime=K.calcAvailabilityEndTimeFromPresentationTime(jt+et.duration,Qe,T),xe.quality=Qe.index,xe.mediaInfo=ot,xe.representationId=Qe.id,gt(xe,Qe.initialization,Qe))return xe.url=(0,I.vi)(xe.url,"Bandwidth",Qe.bandwidth),xe}(Ve,ke,de()):null},getSegmentRequestForTime:Ge,getCurrentIndex:function(){return y?y.index:-1},getNextSegmentRequest:function(Ve,ke){var ot=null;if(!ke||!ke.segmentInfoType)return null;var Qe=y?y.index+1:0,Rt=k.getSegmentByIndex(ke,Qe,y?y.mediaStartTime:-1);if(Rt)ot=ve(Ve,Rt),y=Rt;else{if(T&&!j)return h.debug(de()+" No segment found at index: "+Qe+". Wait for next loop"),null;j=!0}return ot},isLastSegmentRequested:function(Ve,ke){return!(!Ve||!y||!j&&(!isFinite(Ve.adaptation.period.duration)||y.presentationStartTime+y.duration>ke||!(Ve.mediaFinishedInformation&&!isNaN(Ve.mediaFinishedInformation.numberOfSegments)&&!isNaN(y.index)&&y.index>=Ve.mediaFinishedInformation.numberOfSegments-1&&(!T||Ve.segmentInfoType===A.Z.SEGMENT_TEMPLATE||T&&Ve.segmentInfoType===A.Z.SEGMENT_LIST&&Ve.adaptation.period.nextPeriodId)||T&&Ve.adaptation.period.nextPeriodId&&Ve.segmentInfoType===A.Z.SEGMENT_TIMELINE&&Ve.mediaFinishedInformation&&!isNaN(Ve.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&y&&!isNaN(y.mediaStartTime)&&!isNaN(y.duration)&&y.mediaStartTime+y.duration>=Ve.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)))},reset:function(){Oe(),X.off(d.Z.DYNAMIC_TO_STATIC,ut,D)},getNextSegmentRequestIdempotent:function(Ve,ke){var Qe=k.getSegmentByIndex(ke,y?y.index+1:0,y?y.mediaStartTime:-1);return Qe?ve(Ve,Qe):null},getValidTimeAheadOfTargetTime:function(Ve,ke,ot,Qe){try{if(isNaN(Ve)||!ke||!ot)return NaN;if(Ve<0&&(Ve=0),isNaN(Qe)&&(Qe=.5),Ge(ke,ot,Ve))return Ve;if(ot.adaptation.period.start+ot.adaptation.period.duration<Ve)return NaN;for(var Rt=isFinite(ot.adaptation.period.duration)?ot.adaptation.period.start+ot.adaptation.period.duration:Ve+30,xe=Math.min(Ve+Qe,Rt),et=NaN,jt=null;xe<=Rt;){var It=null;if(xe<=Rt&&(It=Ge(ke,ot,xe)),It){et=xe,jt=It;break}xe+=Qe}if(jt){var Je=jt.startTime+jt.duration;return Ve>jt.startTime&&Je-Ve>Qe?Ve:!isNaN(jt.startTime)&&Ve<jt.startTime&&et>jt.startTime?jt.startTime+.001:Math.min(Je-Qe,et)}return et}catch{return NaN}}},h=w.debug.getLogger(D),Oe(),X.on(d.Z.DYNAMIC_TO_STATIC,ut,D),D}v.__dashjs_factory_name="DashHandler",Ze.Z=f.Z.getClassFactory(v)},1553:function(Et,Ze){"use strict";var ye=new(function(){function N(){(function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")})(this,N),this.init()}var d;return(d=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}());Ze.Z=ye},7802:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(1724),f=H(3636),d=H(1736),I=H(5246);function A(w){var D,h,y=this.context,T=(w=w||{}).dashConstants,j=w.type,X=w.segmentBaseController;function Y($){return $?$.segments?h[T.SEGMENT_BASE]:h[$.segmentInfoType]:null}return D={initialize:function($){h[T.SEGMENT_TIMELINE]=(0,N.Z)(y).create(w,$),h[T.SEGMENT_TEMPLATE]=(0,f.Z)(y).create(w,$),h[T.SEGMENT_LIST]=(0,d.Z)(y).create(w,$),h[T.SEGMENT_BASE]=(0,I.Z)(y).create(w,$)},updateInitData:function($,he){return he?Promise.resolve():X.getSegmentBaseInitSegment({representation:$,mediaType:j})},updateSegmentData:function($,he){return he?Promise.resolve():X.getSegmentList({mimeType:$.mimeType,representation:$,mediaType:j})},getSegmentByIndex:function($,he,z){var k=Y($);return k?k.getSegmentByIndex($,he,z):null},getSegmentByTime:function($,he){var z=Y($);return z?z.getSegmentByTime($,he):null},getMediaFinishedInformation:function($){var he=Y($);return he?he.getMediaFinishedInformation($):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},h={},D}A.__dashjs_factory_name="SegmentsController";var v=ye.Z.getClassFactory(A);Ze.Z=v},1736:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(3393),f=H(7387);function d(A,v){var w=(A=A||{}).timelineConverter;function D(){if(!w||!w.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(N.Z.MISSING_CONFIG_ERROR)}function h(y,T){if(D(),!y)return null;var j=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentList,X=j.SegmentURL_asArray.length,Y=y&&!isNaN(y.startNumber)?y.startNumber:1,$=Math.max(Y-1,0),he=Math.max(T-$,0),z=null;if(he<X){var k=j.SegmentURL_asArray[he];(z=(0,f.NF)(w,v,y,T))&&(z.replacementTime=(Y+T-1)*y.segmentDuration,z.media=k.media?k.media:"",z.mediaRange=k.mediaRange,z.indexRange=k.indexRange)}return z}return{getSegmentByIndex:h,getSegmentByTime:function(y,T){if(D(),!y)return null;var j=y.segmentDuration;if(isNaN(j))return null;var X=w.calcPeriodRelativeTimeFromMpdRelativeTime(y,T);return h(y,Math.floor(X/j))},getMediaFinishedInformation:function(y){var T={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!y)return T;var j=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentList,X=y&&!isNaN(y.startNumber)?y.startNumber:1,Y=Math.max(X-1,0);return T.numberOfSegments=Y+j.SegmentURL_asArray.length,T}}}d.__dashjs_factory_name="ListSegmentsGetter";var I=ye.Z.getClassFactory(d);Ze.Z=I},5246:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(3393);function f(I){var A=(I=I||{}).timelineConverter;function v(){if(!A||!A.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(N.Z.MISSING_CONFIG_ERROR)}function w(D,h){if(v(),!D)return null;var y,T=D.segments?D.segments.length:-1;if(h<T&&(y=D.segments[h])&&y.index===h)return y;for(var j=0;j<T;j++)if((y=D.segments[j])&&y.index===h)return y;return null}return{getSegmentByIndex:w,getSegmentByTime:function(D,h){return v(),w(D,function(T,j){if(!T)return-1;var X,Y,$,he,z,k=T.segments,K=k?k.length:null,ue=-1;if(k&&K>0)for(z=0;z<K;z++)if($=(Y=k[z]).presentationStartTime,j+(X=(he=Y.duration)/2)>=$&&j-X<$+he){ue=Y.index;break}return ue}(D,h))},getMediaFinishedInformation:function(D){var h={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return D&&D.segments&&(h.numberOfSegments=D.segments.length),h}}}f.__dashjs_factory_name="SegmentBaseGetter";var d=ye.Z.getClassFactory(f);Ze.Z=d},7387:function(Et,Ze,H){"use strict";H.d(Ze,{Aj:function(){return d},NF:function(){return w},TJ:function(){return D},eR:function(){return f},vi:function(){return I}});var ye=H(2011);function N(h,y){for(;h.length<y;)h="0"+h;return h}function f(h){return h&&h.split("$$").join("$")}function d(h,y){if(!y||!h||-1===h.indexOf("$RepresentationID$"))return h;var T=y.toString();return h.split("$RepresentationID$").join(T)}function I(h,y,T){var j,X,Y,$,he,z,k=y.length;if(!h)return h;for(;;){if((j=h.indexOf("$"+y))<0||(X=h.indexOf("$",j+k))<0)return h;if((Y=h.indexOf("%0",j+k))>j&&Y<X)switch($=h.charAt(X-1),he=parseInt(h.substring(Y+2,X-1),10),$){case"d":case"i":case"u":z=N(T.toString(),he);break;case"x":z=N(T.toString(16),he);break;case"X":z=N(T.toString(16),he).toUpperCase();break;case"o":z=N(T.toString(8),he);break;default:return h}else z=T;h=h.substring(0,j)+z+h.substring(X+1)}}function A(h,y,T,j,X,Y,$,he){var k=new ye.Z;return k.representation=h,k.duration=y,k.presentationStartTime=T,k.mediaStartTime=j,k.availabilityStartTime=X.calcAvailabilityStartTimeFromPresentationTime(Y,h,$),k.availabilityEndTime=X.calcAvailabilityEndTimeFromPresentationTime(Y+y,h,$),k.wallStartTime=X.calcWallTimeForSegment(k,$),k.replacementNumber=k.representation.startNumber+he,k.index=he,k}function v(h,y,T,j){var X=y.adaptation.period;if(isFinite(X.duration)&&X.start+X.duration<=T.presentationStartTime)return!1;if(j){if("INF"===y.availabilityTimeOffset)return!0;var Y=h.getClientReferenceTime();return T.availabilityStartTime.getTime()<=Y&&(!isFinite(T.availabilityEndTime)||T.availabilityEndTime.getTime()>=Y)}return!0}function w(h,y,T,j){var X,Y,$;X=T.segmentDuration,isNaN(X)&&(X=T.adaptation.period.duration),Y=parseFloat((T.adaptation.period.start+j*X).toFixed(5)),$=parseFloat((Y+X).toFixed(5));var he=A(T,X,Y,h.calcMediaTimeFromPresentationTime(Y,T),h,$,y,j);return v(h,T,he,y)?he:null}function D(h,y,T,j,X,Y,$,he,z,k){var K,ue,de=j/Y,Oe=X/Y;return K=h.calcPresentationTimeFromMediaTime(de,T),v(h,T,ue=A(T,Oe,K,de,h,K+Oe,y,z),y)?(ue.replacementTime=k||j,$=I($,"Number",ue.replacementNumber),$=I($,"Time",ue.replacementTime),ue.media=$,ue.mediaRange=he,ue):null}},3636:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(3393),f=H(7387);function d(A,v){var w=(A=A||{}).timelineConverter;function D(){if(!w||!w.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(N.Z.MISSING_CONFIG_ERROR)}function h(y,T){if(D(),!y)return null;var j=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentTemplate;T=Math.max(T,0);var X=(0,f.NF)(w,v,y,T);if(X){X.replacementTime=Math.round((T-1)*y.segmentDuration*y.timescale,10);var Y=j.media;Y=(0,f.vi)(Y,"Number",X.replacementNumber),Y=(0,f.vi)(Y,"Time",X.replacementTime),X.media=Y}return X}return{getSegmentByIndex:h,getSegmentByTime:function(y,T){if(D(),!y)return null;var j=y.segmentDuration;if(isNaN(j))return null;var X=w.calcPeriodRelativeTimeFromMpdRelativeTime(y,T);return h(y,Math.floor(X/j))},getMediaFinishedInformation:function(y){var T={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!y)return T;var j=y.segmentDuration;return T.numberOfSegments=isNaN(j)?1:Math.ceil(y.adaptation.period.duration/j),T}}}d.__dashjs_factory_name="TemplateSegmentsGetter";var I=ye.Z.getClassFactory(d);Ze.Z=I},1724:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(3393),f=H(7387);function d(A,v){var w=(A=A||{}).timelineConverter,D=A.dashMetrics;function h(){if(!w)throw new Error(N.Z.MISSING_CONFIG_ERROR)}function y(j,X){var Y,$,he,z,k,K,ue,de=j.adaptation.period.mpd.manifest.Period_asArray[j.adaptation.period.index].AdaptationSet_asArray[j.adaptation.index].Representation_asArray[j.index].SegmentTemplate||j.adaptation.period.mpd.manifest.Period_asArray[j.adaptation.period.index].AdaptationSet_asArray[j.adaptation.index].Representation_asArray[j.index].SegmentList,gt=de.SegmentURL_asArray,ve=0,Ge=-1;ue=j.timescale;var ut=!1;for(he=0,z=(Y=de.SegmentTimeline.S_asArray).length;he<z&&!ut;he++)for(K=0,($=Y[he]).hasOwnProperty("r")&&(K=$.r),$.hasOwnProperty("t")&&(ve=$.t),K<0&&(K=T(j,Y[he+1],$,ue,ve/ue)),k=0;k<=K&&!ut;k++)(ut=X(ve,de,gt,$,ue,++Ge,he))&&(j.segmentDuration=$.d/ue),ve+=$.d}function T(j,X,Y,$,he){var z;if(X&&X.hasOwnProperty("t"))z=X.t/$;else try{var k=0;if(isNaN(j.adaptation.period.start)||isNaN(j.adaptation.period.duration)||!isFinite(j.adaptation.period.duration)){var K=D.getCurrentDVRInfo();k=isNaN(K.end)?0:K.end}else k=j.adaptation.period.start+j.adaptation.period.duration;z=w.calcMediaTimeFromPresentationTime(k,j),j.segmentDuration=Y.d/$}catch{z=0}return Math.max(Math.ceil((z-he)/(Y.d/$))-1,0)}return{getSegmentByIndex:function(j,X,Y){if(h(),!j)return null;var $=null,he=!1;return y(j,function(z,k,K,ue,de,Oe,gt){if(he||Y<0){var ve=k.media,Ge=ue.mediaRange;return K&&(ve=K[gt].media||"",Ge=K[gt].mediaRange),$=(0,f.TJ)(w,v,j,z,ue.d,de,ve,Ge,Oe,ue.tManifest),!0}return z>=Y*de-.5*ue.d&&(he=!0),!1}),$},getSegmentByTime:function(j,X){if(h(),!j)return null;void 0===X&&(X=null);var Y=null,$=w.calcMediaTimeFromPresentationTime(X,j);return y(j,function(he,z,k,K,ue,de,Oe){var gt=parseFloat(($*ue).toPrecision(15));if(gt<he+K.d&&gt>=he){var ve=z.media,Ge=K.mediaRange;return k&&(ve=k[Oe].media||"",Ge=k[Oe].mediaRange),Y=(0,f.TJ)(w,v,j,he,K.d,ue,ve,Ge,de,K.tManifest),!0}return!1}),Y},getMediaFinishedInformation:function(j){if(!j)return 0;var X,Y,$,he,z,k,K,de=0,Oe=0,gt=0;for(K=j.timescale,he=(X=(j.adaptation.period.mpd.manifest.Period_asArray[j.adaptation.period.index].AdaptationSet_asArray[j.adaptation.index].Representation_asArray[j.index].SegmentTemplate||j.adaptation.period.mpd.manifest.Period_asArray[j.adaptation.period.index].AdaptationSet_asArray[j.adaptation.index].Representation_asArray[j.index].SegmentList).SegmentTimeline.S_asArray).length,$=0;$<he;$++)for(k=0,(Y=X[$]).hasOwnProperty("r")&&(k=Y.r),Y.hasOwnProperty("t")&&(Oe=(de=Y.t)/K),k<0&&(k=T(j,X[$+1],Y,K,Oe)),z=0;z<=k;z++)gt++,Oe=(de+=Y.d)/K;return{numberOfSegments:gt,mediaTimeOfLastSignaledSegment:Oe}}}}d.__dashjs_factory_name="TimelineSegmentsGetter";var I=ye.Z.getClassFactory(d);Ze.Z=I},2011:function(Et,Ze){"use strict";Ze.Z=function H(){(function(ye,N){if(!(ye instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:function(Et,Ze){"use strict";Ze.Z=function H(){(function(ye,N){if(!(ye instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.schemeIdUri="",this.value=""}},7688:function(Et,Ze,H){"use strict";H.d(Ze,{Z:function(){return rp}});var ye=H(452),N=H.n(ye),f=H(3393),d=H(1553),I=H(3860),A=H(5595),v=H(8512),w=H(5448),D=H(6398),h=H(8825);function y(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ce,te,Te,le,fe,S,q,Z=this.context,U=(0,A.Z)(Z).getInstance();function L(){ce(),ee=!1,ne=0,Q=0,ge=0,fe=!1,Ce=!1,S=!1,te=NaN,C&&(U.off(v.Z.DATA_UPDATE_COMPLETED,Ne,_),U.off(v.Z.LOADING_PROGRESS,Tn,_),U.off(v.Z.MANIFEST_UPDATED,kt,_),U.off(v.Z.STREAMS_COMPOSED,at,_),U.off(h.Z.PLAYBACK_ENDED,cr,_),U.off(h.Z.STREAM_INITIALIZING,pn,_),U.off(h.Z.REPRESENTATION_SWITCH,ht,_),U.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,nt,_),it(),C.removeEventListener("canplay",Me),C.removeEventListener("canplaythrough",We),C.removeEventListener("play",st),C.removeEventListener("waiting",Vt),C.removeEventListener("playing",Ft),C.removeEventListener("pause",pt),C.removeEventListener("error",Pt),C.removeEventListener("seeking",on),C.removeEventListener("seeked",ln),C.removeEventListener("timeupdate",cn),C.removeEventListener("progress",bn),C.removeEventListener("ratechange",xn),C.removeEventListener("loadedmetadata",Ln),C.removeEventListener("loadeddata",On),C.removeEventListener("stalled",mn),C.removeEventListener("ended",lr),C.removeEventListener("volumechange",Qn)),J=null,C=null,V=null,re=null}function se(){return parseFloat((ie(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-Xe()).toFixed(5))}function ie(ze){var be=ze||V;return be.start+be.duration}function me(){var ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0];V&&C&&C.getElement()?(ze&&re&&Pe(Xe()),C.play()):ee=!0}function ce(){V&&C&&C.pause()}function G(ze){var be=arguments.length>1&&void 0!==arguments[1]&&arguments[1],rt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=arguments.length>3&&void 0!==arguments[3]&&arguments[3];V&&C&&C.getElement()&&ze!==(isNaN(te)?C.getTime():te)&&((Te=!0===rt)||(te=ze),p.info("Requesting seek to time: "+ze+(Te?" (internal)":"")),re&&At&&Pe(ze),C.setCurrentTime(ze,be))}function we(){if(V&&C&&re){var ze=b&&b.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,be=F.getCurrentDVRInfo(ze);return be&&be.range?be.range.end:0}}function Pe(ze){var be=new Date(B.getClientReferenceTime()),rt=P.getRegularPeriods()[0],At=B.calcPresentationTimeFromWallTime(be,rt);ne=At-ze}function Xe(){return V&&C?C.getTime():null}function Be(){return V&&C?C.isPaused():null}function Ue(){return V&&C?C.isSeeking():null}function je(){return V&&C?C.isStalled():null}function Ot(){return V&&C?C.getPlaybackRate():null}function vt(){return V&&C?C.getEnded():null}function wt(){return re}function Ct(){var ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Be()&&re&&0!==C.getReadyState()&&!Ue()&&!fe){ze||(ze=b.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO);var be=Xe(),rt=function hn(ze,be){var rt=F.getCurrentDVRInfo(be),At=rt?rt.range:null;return At?ze>At.end?Math.max(At.end-ne,At.start):ze>0&&ze+.25<At.start&&Math.abs(ze-At.start)<31536e4?Ce?Math.max(At.end-ne,At.start):At.start:ze:NaN}(be,ze);!isNaN(rt)&&rt!==be&&!Ue()&&(je()||le||1===C.getReadyState())&&(p.debug("UpdateCurrentTime: Seek to actual time: ".concat(rt," from currentTime: ").concat(be)),G(rt,!1,!1))}}function Le(){null===J&&(J=setInterval(function(){var ze;U.trigger(v.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:re,time:new Date}),wt()&&(b.addDVRMetric(),Be()?(ze=Date.now(),(!Ie||ze>Ie+500)&&(Ie=ze,cn())):Ct())},q.get().streaming.wallclockTimeUpdateInterval))}function it(){clearInterval(J),J=null}function Ne(ze){var be=P.convertRepresentationToRepresentationInfo(ze.currentRepresentation),rt=be?be.mediaInfo.streamInfo:null;null!==rt&&V.id===rt.id&&(V=rt)}function Me(){U.trigger(v.Z.CAN_PLAY)}function We(){U.trigger(v.Z.CAN_PLAY_THROUGH)}function nt(ze){ze.streamId===b.getActiveStreamInfo().id&&(le=ze.state===I.Z.BUFFER_EMPTY,q.get().streaming.buffer.setStallState&&C.setStallState(ze.mediaType,ze.state===I.Z.BUFFER_EMPTY))}function st(){p.info("Native video element event: play"),Ct(),Le(),U.trigger(v.Z.PLAYBACK_STARTED,{startTime:Xe()})}function Vt(){p.info("Native video element event: waiting"),U.trigger(v.Z.PLAYBACK_WAITING,{playingTime:Xe()})}function Ft(){p.info("Native video element event: playing"),Te=!1,U.trigger(v.Z.PLAYBACK_PLAYING,{playingTime:Xe()})}function pt(){p.info("Native video element event: pause"),U.trigger(v.Z.PLAYBACK_PAUSED,{ended:vt()})}function on(){if(!Te){var ze=Xe();isNaN(te)||te===ze||(ze=te),te=NaN,p.info("Seeking to: "+ze),Le(),U.trigger(v.Z.PLAYBACK_SEEKING,{seekTime:ze,streamId:V.id})}}function ln(){p.info("Native video element event: seeked"),Te=!1,U.trigger(v.Z.PLAYBACK_SEEKED)}function cn(){V&&U.trigger(v.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:se(),time:Xe(),streamId:V.id})}function bn(){U.trigger(v.Z.PLAYBACK_PROGRESS,{streamId:V.id})}function xn(){var ze=Ot();p.info("Native video element event: ratechange: ",ze),U.trigger(v.Z.PLAYBACK_RATE_CHANGED,{playbackRate:ze})}function Ln(){p.info("Native video element event: loadedmetadata"),U.trigger(v.Z.PLAYBACK_METADATA_LOADED),Le()}function On(){p.info("Native video element event: loadeddata"),U.trigger(v.Z.PLAYBACK_LOADED_DATA)}function lr(){p.info("Native video element event: ended"),ce(),it();var ze=b?b.getActiveStreamInfo():null;ze&&U.trigger(v.Z.PLAYBACK_ENDED,{isLast:ze.isLast})}function Qn(){U.trigger(v.Z.PLAYBACK_VOLUME_CHANGED)}function cr(ze){if(J&&ze.isLast){p.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var be=ze.seekTime?ze.seekTime:ie();C.setCurrentTime(be),ce(),it()}}function Pt(ze){U.trigger(v.Z.PLAYBACK_ERROR,{error:(ze.target||ze.srcElement).error})}function Tn(ze){if(!1===ze.stream&&Ce&&!isNaN(ze.request.duration)){var be=1.2*ze.request.duration;be>ne&&(p.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",be.toFixed(2)),ne=be,Q=be)}}function mn(ze){U.trigger(v.Z.PLAYBACK_STALLED,{e:ze})}function pn(ze){var be;(be=ze.mediaInfo)&&be.supplementalProperties&&"true"===be.supplementalProperties[f.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(p.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),Ce=!0)}function ht(ze){var be=b.getActiveStreamInfo();ze&&be&&ze.currentRepresentation&&ze.streamId&&ze.streamId===be.id&&ze.mediaType&&(ze.mediaType===f.Z.VIDEO||ze.mediaType===f.Z.AUDIO)&&(Ce=!ze.currentRepresentation.availabilityTimeComplete)&&!S&&(S=!0)}function kt(){fe=!0}function at(){fe=!1}return _={initialize:function(ze,be){V=ze,!0!==be&&(C.addEventListener("canplay",Me),C.addEventListener("canplaythrough",We),C.addEventListener("play",st),C.addEventListener("waiting",Vt),C.addEventListener("playing",Ft),C.addEventListener("pause",pt),C.addEventListener("error",Pt),C.addEventListener("seeking",on),C.addEventListener("seeked",ln),C.addEventListener("timeupdate",cn),C.addEventListener("progress",bn),C.addEventListener("ratechange",xn),C.addEventListener("loadedmetadata",Ln),C.addEventListener("loadeddata",On),C.addEventListener("stalled",mn),C.addEventListener("ended",lr),C.addEventListener("volumechange",Qn),re=V.manifestInfo.isDynamic,le=!1,Te=!1,U.on(v.Z.DATA_UPDATE_COMPLETED,Ne,_),U.on(v.Z.LOADING_PROGRESS,Tn,_),U.on(v.Z.MANIFEST_UPDATED,kt,_),U.on(v.Z.STREAMS_COMPOSED,at,_),U.on(h.Z.PLAYBACK_ENDED,cr,_,{priority:A.Z.EVENT_PRIORITY_HIGH}),U.on(h.Z.STREAM_INITIALIZING,pn,_),U.on(h.Z.REPRESENTATION_SWITCH,ht,_),U.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,nt,_),ee&&(ee=!1,me()))},setConfig:function(ze){ze&&(ze.streamController&&(b=ze.streamController),ze.serviceDescriptionController&&(R=ze.serviceDescriptionController),ze.dashMetrics&&(F=ze.dashMetrics),ze.adapter&&(P=ze.adapter),ze.videoModel&&(C=ze.videoModel),ze.timelineConverter&&(B=ze.timelineConverter),ze.settings&&(q=ze.settings))},getTimeToStreamEnd:se,getBufferLevel:function(){var ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,be=null;return b.getActiveStreamProcessors().forEach(function(rt){if(!ze||0===ze.length||-1===ze.indexOf(rt.getType())){var At=rt.getBufferLevel();be=null===be?At:Math.min(be,At)}}),be},getPlaybackStalled:function(){return le},getTime:Xe,getLowLatencyModeEnabled:function(){return Ce},getInitialCatchupModeActivated:function(){return S},getIsManifestUpdateInProgress:function(){return fe},getPlaybackRate:Ot,getPlayedRanges:function(){return V&&C?C.getPlayedRanges():null},getEnded:vt,getIsDynamic:wt,getStreamController:function(){return b},computeAndSetLiveDelay:function(ze,be){var rt,At,tn,gn=!isNaN(ze)&&isFinite(ze)?ze:NaN,Kn=P.getSuggestedPresentationDelay(),Fr=R.getServiceDescriptionSettings();return rt=isNaN(q.get().streaming.delay.liveDelay)?null===q.get().streaming.delay.liveDelayFragmentCount||isNaN(q.get().streaming.delay.liveDelayFragmentCount)||isNaN(gn)?Fr&&!isNaN(Fr.liveDelay)&&Fr.liveDelay>0?Fr.liveDelay:!0===q.get().streaming.delay.useSuggestedPresentationDelay&&null!==Kn&&!isNaN(Kn)&&Kn>0?Kn:isNaN(gn)?be&&!isNaN(be.minBufferTime)?4*be.minBufferTime:4*V.manifestInfo.minBufferTime:4*gn:gn*q.get().streaming.delay.liveDelayFragmentCount:q.get().streaming.delay.liveDelay,null!==(tn=P.getAvailabilityStartTime())&&(ge=tn),At=be&&be.dvrWindowSize>0?Math.min(rt,be.dvrWindowSize):rt,ne=At,Q=At,At},getLiveDelay:function(){return ne},getOriginalLiveDelay:function(){return Q},getCurrentLiveLatency:function(){if(!re||isNaN(ge))return NaN;var ze=Xe();if(isNaN(ze)||0===ze)return 0;var be=(new Date).getTime()+1e3*B.getClientTimeOffset();return Math.max(((be-ge-1e3*ze)/1e3).toFixed(3),0)},play:me,isPaused:Be,isStalled:je,pause:ce,isSeeking:Ue,getStreamEndTime:ie,seek:G,seekToOriginalLive:function(){var ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],be=arguments.length>1&&void 0!==arguments[1]&&arguments[1],rt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=we();0!==At&&G(At-(ne=Q),ze,be,rt)},seekToCurrentLive:function(){var ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],be=arguments.length>1&&void 0!==arguments[1]&&arguments[1],rt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=we();0!==At&&G(At-ne,ze,be,rt)},reset:L,updateCurrentTime:Ct,getAvailabilityStartTime:function(){return ge}},p=(0,D.Z)(Z).getInstance().getLogger(_),L(),_}y.__dashjs_factory_name="PlaybackController";var T=w.Z.getSingletonFactory(y),j=H(3186),X="loading",Y="executed",$="failed";function he(_){var p,b,R,F,P=(_=_||{}).eventBus,C=_.events,B=_.dashMetrics,J=_.fragmentLoader,Q=_.streamInfo,V=_.type;function re(S){var q;return!!S&&(q=!1,R.some(function(Z){if(U=S,L=Z,!isNaN(U.index)&&U.startTime===L.startTime&&U.adaptationIndex===L.adaptationIndex&&U.type===L.type||(se=S,ie=Z,isNaN(se.index)&&isNaN(ie.index)&&se.quality===ie.quality)||function(se,ie){return se.action===j.Z.ACTION_COMPLETE&&se.action===ie.action}(S,Z))return q=!0;var se,ie,U,L}),q)}function ee(S){return isNaN(S.duration)?.25:Math.min(S.duration/8,.5)}function Ie(S){R=R.filter(function(q){var Z=ee(q);return isNaN(q.startTime)||void 0!==S&&q.startTime>=S-Z})}function ge(S,q){q<=S+.5||(R=R.filter(function(Z){var U=ee(Z);return isNaN(Z.startTime)||Z.startTime>=q-U||isNaN(Z.duration)||Z.startTime+Z.duration<=S+U}))}function Ee(S,q,Z){for(var U=S.length-1;U>=0;U--){var L=S[U],se=L.startTime,ie=se+L.duration;if(Z=isNaN(Z)?ee(L):Z,!isNaN(se)&&!isNaN(ie)&&q+Z>=se&&q-Z<ie||isNaN(se)&&isNaN(q))return L}return null}function Ce(S,q){B.addSchedulingInfo(S,q),B.addRequestsQueue(S.mediaType,F,R)}function te(S){S.sender===J&&(F.splice(F.indexOf(S.request),1),S.response&&!S.error&&R.push(S.request),Ce(S.request,S.error?$:Y),P.trigger(C.FRAGMENT_LOADING_COMPLETED,{request:S.request,response:S.response,error:S.error,sender:this},{streamId:Q.id,mediaType:V}))}function Te(S){S.sender===J&&P.trigger(C.FRAGMENT_LOADING_PROGRESS,{request:S.request,response:S.response,error:S.error,sender:this},{streamId:Q.id,mediaType:V})}function le(S){S.sender===J&&P.trigger(C.FRAGMENT_LOADING_ABANDONED,{request:S.request},{streamId:Q.id,mediaType:V})}function fe(){R=[],F=[]}return p={getStreamId:function(){return Q.id},getType:function(){return V},getRequests:function(S){var Z=[];return(S?S.state instanceof Array?S.state:[S.state]:[]).forEach(function(U){var se,ie,L=function(se){var ie;switch(se){case X:ie=F;break;case Y:ie=R;break;default:ie=[]}return ie}(U);Z=Z.concat((se=L,(ie=S).hasOwnProperty("time")?[Ee(se,ie.time,ie.threshold)]:se.filter(function(me){for(var ce in ie)if("state"!==ce&&ie.hasOwnProperty(ce)&&me[ce]!=ie[ce])return!1;return!0})))}),Z},isFragmentLoaded:re,isFragmentLoadedOrPending:function(S){var q,Z=!1,U=0;if(!(Z=re(S)))for(U=0;U<F.length;U++)S.url===(q=F[U]).url&&S.startTime===q.startTime&&(Z=!0);return Z},removeExecutedRequestsBeforeTime:Ie,removeExecutedRequestsAfterTime:function(S){R=R.filter(function(q){return isNaN(q.startTime)||void 0!==S&&q.startTime<S})},syncExecutedRequestsWithBufferedRange:function(S,q){if(S&&0!==S.length){for(var Z=0,U=0,L=S.length;U<L;U++)ge(Z,S.start(U)),Z=S.end(U);q>0&&ge(Z,q)}else Ie()},abortRequests:function(){b.debug("abort requests"),J.abort(),F=[]},executeRequest:function(S){var q;S.action===j.Z.ACTION_DOWNLOAD?(Ce(S,X),F.push(S),P.trigger(C.FRAGMENT_LOADING_STARTED,{request:q=S},{streamId:Q.id,mediaType:V}),J.load(q)):b.warn("Unknown request action.")},reset:function(){P.off(C.LOADING_COMPLETED,te,this),P.off(C.LOADING_DATA_PROGRESS,Te,this),P.off(C.LOADING_ABANDONED,le,this),J&&J.reset(),fe()},resetInitialSettings:fe,addExecutedRequest:function(S){R.push(S)}},b=_.debug.getLogger(p),fe(),P.on(C.LOADING_COMPLETED,te,p),P.on(C.LOADING_DATA_PROGRESS,Te,p),P.on(C.LOADING_ABANDONED,le,p),p}he.__dashjs_factory_name="FragmentModel";var z=w.Z.getClassFactory(he);z.FRAGMENT_MODEL_LOADING=X,z.FRAGMENT_MODEL_EXECUTED=Y,z.FRAGMENT_MODEL_CANCELED="canceled",z.FRAGMENT_MODEL_FAILED=$,w.Z.updateClassFactory(he.__dashjs_factory_name,z);var k=z,K=H(5459);function ue(_){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function de(_,p){return(de=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function gt(_){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var ve=new(function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&de(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=gt(p);if(b){var B=gt(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function Oe(_,p){return!p||"object"!==ue(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){var P;return function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}(this,F),(P=R.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,P.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,P.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,P.SEGMENT_BASE_LOADER_ERROR_CODE=15,P.TIME_SYNC_FAILED_ERROR_CODE=16,P.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,P.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,P.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,P.APPEND_ERROR_CODE=20,P.REMOVE_ERROR_CODE=21,P.DATA_UPDATE_FAILED_ERROR_CODE=22,P.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,P.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,P.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,P.DOWNLOAD_ERROR_ID_SIDX_CODE=26,P.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,P.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,P.DOWNLOAD_ERROR_ID_XLINK_CODE=29,P.MANIFEST_ERROR_ID_PARSE_CODE=31,P.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,P.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,P.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,P.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,P.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",P.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",P.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",P.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",P.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",P.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",P.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",P.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",P.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",P.APPEND_ERROR_MESSAGE="chunk is not defined",P.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",P.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",P.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",P.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",P.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",P.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",P}return F}(H(2230).Z)),Ge=H(1264),ut=H(7855);function Ve(_){var p,b,R,F,P,C,B=this.context,J=(0,Ge.Z)(B).getInstance(),ne=_.textController,Q=_.eventBus,V=[],re=[],ee=!1,Ie=_.mediaSource,ge=null;function Ee(L){return new Promise(function(se){U(function(){F.changeType&&F.changeType(L),se()})})}function Ce(L){return F=ne.getTextSourceBuffer(L),Promise.resolve()}function te(){if("function"==typeof F.addEventListener)try{F.addEventListener("updateend",q,!1),F.addEventListener("error",Z,!1),F.addEventListener("abort",Z,!1)}catch{C=setInterval(q,50)}else C=setInterval(q,50)}function Te(L){return new Promise(function(se){F&&J.get().streaming.buffer.useAppendWindow?U(function(){try{if(!F)return void se();var ie=Ie.duration,me=0;L&&!isNaN(L.start)&&!isNaN(L.duration)&&isFinite(L.duration)&&(ie=L.start+L.duration),L&&!isNaN(L.start)&&(me=L.start),F.appendWindowEnd===ie&&F.appendWindowStart===me||(F.appendWindowStart=0,F.appendWindowEnd=ie+.01,F.appendWindowStart=Math.max(me-.1,0),R.debug("Updated append window for ".concat(P.type,". Set start to ").concat(F.appendWindowStart," and end to ").concat(F.appendWindowEnd))),se()}catch{R.warn("Failed to set append window"),se()}}):se()})}function le(L){return new Promise(function(se){F?U(function(){try{F.timestampOffset===L||isNaN(L)||(F.timestampOffset=L,R.debug("Set MSE timestamp offset to ".concat(L))),se()}catch{se()}}):se()})}function fe(){if(!ee&&re.length>0){ee=!0;var L=re[0];re.splice(0,1);var se=function(){ee=!1,re.length>0&&fe.call(this),L&&L.data&&L.data.segmentType&&L.data.segmentType!==ut.w.INIT_SEGMENT_TYPE&&delete L.data.bytes,L.promise.resolve({chunk:L.data})};try{ge=L.request,0===L.data.bytes.byteLength?se.call(this):(F.appendBuffer?F.appendBuffer(L.data.bytes):F.append(L.data.bytes,L.data),U(se.bind(this)))}catch(ie){R.fatal('SourceBuffer append failed "'+ie+'"'),re.length>0?fe():ee=!1,delete L.data.bytes,L.promise.reject({chunk:L.data,error:new K.Z(ie.code,ie.message)})}}}function S(){V.length>0&&(F.updating||(V.shift()(),S()))}function q(){F.updating||S()}function Z(L){Q.trigger(v.Z.SOURCE_BUFFER_ERROR,{error:L.target||{},lastRequestAppended:ge},{streamId:P.streamInfo.id,mediaType:b})}function U(L){V.push(L),F.updating||S()}return p={getType:function(){return b},getAllBufferRanges:function(){try{return F.buffered}catch(L){return R.error("getAllBufferRanges exception: "+L.message),null}},getBuffer:function(){return F},append:function(L){var se=this,ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(me,ce){L?(re.push({data:L,promise:{resolve:me,reject:ce},request:ie}),U(fe.bind(se))):ce({chunk:L,error:new K.Z(ve.APPEND_ERROR_CODE,ve.APPEND_ERROR_MESSAGE)})})},remove:function(L){return new Promise(function(se,ie){var me=L.start,ce=L.end;me>=0&&ce>me?U(function(){try{F.remove(me,ce),U(function(){se({from:me,to:ce,unintended:!1}),L.resolve&&L.resolve()})}catch(G){ie({from:me,to:ce,unintended:!1,error:new K.Z(ve.REMOVE_ERROR_CODE,ve.REMOVE_ERROR_MESSAGE)}),L.reject&&L.reject(G)}}):se()})},abort:function(){return new Promise(function(L){try{re=[],"open"===Ie.readyState?U(function(){try{F&&F.abort(),L()}catch{L()}}):(F&&F.setTextTrack&&"ended"===Ie.readyState&&F.abort(),L())}catch{L()}})},reset:function(){if(F){try{V=[],function(){try{"function"==typeof F.removeEventListener&&(F.removeEventListener("updateend",q,!1),F.removeEventListener("error",Z,!1),F.removeEventListener("abort",Z,!1)),clearInterval(C)}catch(L){R.error(L)}}(),ee=!1,re=[],F.getClassName&&"TextSourceBuffer"===F.getClassName()||(R.debug("Removing sourcebuffer from media source"),Ie.removeSourceBuffer(F))}catch{}F=null}ge=null},updateTimestampOffset:le,initializeForStreamSwitch:function(L,se,ie){b=(P=L).type;var me=P.codec;F=ie.getBuffer(),te();var ce=[];return ce.push(new Promise(function(G){U(function(){var we=F.appendWindowStart,Pe=F.appendWindowEnd;F&&(F.abort(),F.appendWindowStart=we,F.appendWindowEnd=Pe),G()})})),ce.push(Te(P.streamInfo)),J.get().streaming.buffer.useChangeTypeForTrackSwitch&&ce.push(Ee(me)),se&&void 0!==se.MSETimeOffset&&ce.push(le(se.MSETimeOffset)),Promise.all(ce)},initializeForFirstUse:function(L,se,ie){b=(P=se).type;var me=P.codec;try{if(me.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ce(L);F=Ie.addSourceBuffer(me),te();var ce=[];return ce.push(Te(P.streamInfo)),ie&&void 0!==ie.MSETimeOffset&&ce.push(le(ie.MSETimeOffset)),Promise.all(ce)}catch(G){return P.type==f.Z.TEXT&&!P.isFragmented||-1!==me.indexOf('codecs="stpp')||-1!==me.indexOf('codecs="vtt')||-1!==me.indexOf("text/vtt")?Ce(L):Promise.reject(G)}},updateAppendWindow:Te,changeType:Ee},R=(0,D.Z)(B).getInstance().getLogger(p),p}Ve.__dashjs_factory_name="SourceBufferSink";var ke=w.Z.getClassFactory(Ve);function ot(_){var p,b,R,P=[],C=_;function B(J,ne){return P=P.filter(function(Q){return!((isNaN(ne)||Q.start<ne)&&(isNaN(J)||Q.end>J))}),Promise.resolve()}return p={getAllBufferRanges:function(){for(var J=[],ne=0;ne<P.length;ne++){var Q=P[ne];0===J.length||Q.start>J[J.length-1].end?J.push({start:Q.start,end:Q.end}):J[J.length-1].end=Q.end}var V={start:function(re){return J[re].start},end:function(re){return J[re].end}};return Object.defineProperty(V,"length",{get:function(){return J.length}}),V},append:function(J){return"InitializationSegment"!==J.segmentType?(P.push(J),P.sort(function(ne,Q){return ne.start-Q.start}),R=null):R=J,b.debug("PreBufferSink appended chunk s: "+J.start+"; e: "+J.end),C&&C({chunk:J}),Promise.resolve()},remove:B,abort:function(){return Promise.resolve()},discharge:function(J,ne){var V,re,Q=(V=J,re=ne,P.filter(function(ee){return(isNaN(re)||ee.start<re)&&(isNaN(V)||ee.end>V)}));return R&&(Q.push(R),R=null),B(J,ne),Q},reset:function(){P=[],R=null,C=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(J){J()},getBuffer:function(){return this}},b=(0,D.Z)(this.context).getInstance().getLogger(p),p}ot.__dashjs_factory_name="PreBufferSink";var Qe=w.Z.getClassFactory(ot);function Rt(){var _={};return{save:function(p){var b=p.streamId,R=p.representationId;_[b]=_[b]||{},_[b][R]=p},extract:function(p,b){return _&&_[p]&&_[p][b]?_[p][b]:null},reset:function(){_={}}}}Rt.__dashjs_factory_name="InitCache";var xe=w.Z.getSingletonFactory(Rt),jt="BufferController";function It(_){_=_||{};var p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ee,Ce,te,Te,le,fe,S=this.context,q=(0,A.Z)(S).getInstance(),Z=_.errHandler,U=_.fragmentModel,L=_.representationController,se=_.adapter,ie=_.textController,me=_.abrController,ce=_.playbackController,G=_.streamInfo,we=_.type,Pe=_.settings;function Xe(at){var ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(be,rt){C=at,ne&&ze&&"function"==typeof ne.discharge?(Q=ne,Ue(ze).then(function(){be()}).catch(function(At){rt(At)})):be()})}function Be(at){return se.convertRepresentationToRepresentationInfo(L.getRepresentationForQuality(at))}function Ue(at){var ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(be,rt){te&&at?C?(V=!1,function Ot(at,ze){return new Promise(function(be,rt){var tn,gn,Kn,Fr,At=me.getQualityFor(we,G.id);ne=ke(S).create({mediaSource:C,textController:ie,eventBus:q}),(tn=at,gn=ze,Kn=At,Fr=Be(Kn),gn&&gn[we]&&(we===f.Z.VIDEO||we===f.Z.AUDIO)?ne.initializeForStreamSwitch(tn,Fr,gn[we]):ne.initializeForFirstUse(G,tn,Fr)).then(function(){return On(Be(At))}).then(function(){be(ne)}).catch(function(tn){b.fatal("Caught error on create SourceBuffer: "+tn),Z.error(new K.Z(ve.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ve.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+we)),rt(tn)})})}(at,ze).then(function(At){be(At)}).catch(function(At){rt(At)})):(V=!0,function je(){var at=this;return new Promise(function(ze,be){var rt=me.getQualityFor(we,G.id);ne=Qe(S).create(Le.bind(at)),On(Be(rt)).then(function(){ze(ne)}).catch(function(){be()})})}().then(function(At){be(At)}).catch(function(At){rt(At)})):be(null)})}function vt(at){Pe.get().streaming.cacheInitSegments&&(b.info("Init fragment finished loading saving to",we+"'s init cache"),te.save(at.chunk)),b.debug("Append Init fragment",we," with representationId:",at.chunk.representationId," and quality:",at.chunk.quality,", data size:",at.chunk.bytes.byteLength),Ct(at.chunk)}function wt(at){Ct(at.chunk,at.request)}function Ct(at){ne&&(ne.append(at,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(be){Le(be)}).catch(function(be){Le(be)}),at.mediaInfo.type===f.Z.VIDEO&&ht(v.Z.VIDEO_CHUNK_RECEIVED,{chunk:at}))}function hn(at){if(at&&at.length>0)for(var ze=0,be=at.length;ze<be;ze++)b.debug("Buffered range: "+at.start(ze)+" - "+at.end(ze)+", currentTime = ",ce.getTime())}function Le(at){if(at.error)return 22===at.error.code&&function(){if(Ce=!0,P=.8*Tn(),b.warn("Quota exceeded, Critical Buffer: "+P),P>0){var rt=Math.max(.2*P,1),At=P-rt,tn=Math.min(Pe.get().streaming.buffer.bufferTimeAtTopQuality,.9*At),gn=Math.min(Pe.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*At),Kn={streaming:{buffer:{bufferToKeep:parseFloat(rt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(tn.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(gn.toFixed(5))}}};Pe.update(Kn)}}(),void(22!==at.error.code&&pn()||(b.warn("Clearing playback buffer to overcome quota exceed situation"),ht(v.Z.QUOTA_EXCEEDED,{criticalBufferLevel:P,quotaExceededTime:at.chunk.start}),bn(cn())));if(ne&&(Vt(),Ce=!1,(Ie=at.chunk)&&Ie.endFragment)){Ie&&!isNaN(Ie.index)&&(B=Math.max(Ie.index,B),Ft());var ze=ne.getAllBufferRanges();Ie.segmentType===ut.w.MEDIA_SEGMENT_TYPE&&(hn(ze),Me(),function(){if(!isNaN(fe)&&!V)if(we===f.Z.AUDIO||we===f.Z.VIDEO){var rt=ce.getTime(),At=st(rt,0),tn=st(fe,0);if(At&&tn&&At.start===tn.start)fe=NaN;else{var gn=L.getCurrentRepresentation().segmentDuration,Kn=st(fe,gn);Kn&&(Pe.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(rt-fe)>gn?fe<=Kn.end&&ce.seek(Math.max(fe,Kn.start),!1,!0):rt<Kn.start&&ce.seek(Kn.start,!1,!0))}}else fe=NaN}());var be=!1;re&&(re.indexOf(Ie)>0&&(be=!0),re=null),Ie&&!be&&ht(v.Z.BYTES_APPENDED_END_FRAGMENT,{quality:Ie.quality,startTime:Ie.start,index:Ie.index,bufferedRanges:ze,segmentType:Ie.segmentType,mediaType:we})}}function it(){return new Promise(function(at,ze){var be=Ne();if(!be||0===be.length)return Me(),void at();bn(be).then(function(){at()}).catch(function(rt){ze(rt)})})}function Ne(at){var ze=[],be=ne.getAllBufferRanges();if(!be||0===be.length)return ze;if(!at&&0!==at||isNaN(at))ze.push({start:be.start(0),end:be.end(be.length-1)+.5});else{var rt=function(tn,gn){var Kn=Pe.get().streaming.buffer.bufferToKeep,Fr=gn.start(0);if(tn-Fr>Kn){var $i=Math.max(0,tn-Kn),Lr=U.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:tn,threshold:.01})[0];if(Lr&&($i=Math.min(Lr.startTime,$i)),$i>0)return{start:Fr,end:$i}}return null}(at,be),At=function(tn,gn){var Kn=gn.end(gn.length-1)+.5,Fr=mn(tn),$i=G.manifestInfo.duration>=Pe.get().streaming.buffer.longFormContentDurationThreshold?Pe.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Pe.get().streaming.buffer.bufferTimeAtTopQuality,Lr=isNaN(Fr)?tn:Math.min(Fr,tn+$i);if(Lr>=gn.end(gn.length-1))return null;var Pi=U.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:tn,threshold:.01})[0];if(Pi&&(Lr=Math.max(Pi.startTime+Pi.duration,Lr)),Pe.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Mi=0;Mi<gn.length;Mi++)if(gn.start(Mi)<=tn&&tn<=gn.end(Mi)&&gn.start(Mi)<=Lr&&Lr<=gn.end(Mi)){var ys=Lr;Lr=Mi+1<gn.length?gn.start(Mi+1):gn.end(Mi)+1,b.debug("Buffered range ["+gn.start(Mi)+", "+gn.end(Mi)+"] overlaps with targetTime "+tn+" and range to be pruned ["+ys+", "+Kn+"], using ["+Lr+", "+Kn+"] instead"+(Lr<Kn?"":" (no actual pruning)"));break}return Lr<gn.end(gn.length-1)?{start:Lr,end:Kn}:null}(at,be);rt&&ze.push(rt),At&&ze.push(At)}return ze}function Me(){(!le||we===f.Z.TEXT&&ie.isTextEnabled())&&Vt()}function We(){pt()}function nt(){pt(),fe=NaN}function st(at,ze){if(!ne)return null;var be,rt,At=ne.getAllBufferRanges(),tn=0,gn=0,Kn=null,Fr=null,$i=0,Lr=isNaN(ze)?.15:ze;if(null!=At){for(rt=0,be=At.length;rt<be;rt++)if(tn=At.start(rt),gn=At.end(rt),null===Kn)$i=Math.abs(tn-at),(at>=tn&&at<gn||$i<=Lr)&&(Kn=tn,Fr=gn);else{if(!(($i=tn-Fr)<=Lr))break;Fr=gn}if(null!==Kn)return{start:Kn,end:Fr}}return null}function Vt(){if(ce){var at=ce.getTime()||0;V&&(at=isNaN(fe)?0:fe);var ze=Pe.get().streaming.gaps.jumpGaps&&!isNaN(Pe.get().streaming.gaps.smallGapLimit)?Pe.get().streaming.gaps.smallGapLimit:NaN;F=Math.max((be=at,rt=ze,Pe.get().streaming.gaps.jumpGaps&&(rt=Pe.get().streaming.gaps.smallGapLimit),null===(At=st(be,rt))?0:At.end-be),0),ht(v.Z.BUFFER_LEVEL_UPDATED,{mediaType:we,bufferLevel:F}),pt()}var be,rt,At}function Ft(){var at=B>=J-1,ze=ce.getTimeToStreamEnd(G)-F<1e-5;!at&&!ze||R||(Pt(!0),b.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(G.id," and type ").concat(we)))}function pt(){we!==f.Z.AUDIO&&we!==f.Z.VIDEO||((!ce.getLowLatencyModeEnabled()&&F<Pe.get().streaming.buffer.stallThreshold||0===F)&&!R?on(I.Z.BUFFER_EMPTY):(R||F>=Pe.get().streaming.buffer.stallThreshold||ce.getLowLatencyModeEnabled()&&F>0)&&on(I.Z.BUFFER_LOADED))}function on(at){ee===at||at===I.Z.BUFFER_EMPTY&&0===ce.getTime()||we===f.Z.TEXT&&!ie.isTextEnabled()||(ee=at,ht(v.Z.BUFFER_LEVEL_STATE_CHANGED,{state:at}),ht(at===I.Z.BUFFER_LOADED?v.Z.BUFFER_LOADED:v.Z.BUFFER_EMPTY),b.debug(at===I.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function ln(){ne&&we!==f.Z.TEXT&&(R||bn(cn()))}function cn(){var at=[],ze=ne.getAllBufferRanges();if(!ze||0===ze.length)return at;var be=ce.getTime(),rt=Math.max(0,be-Pe.get().streaming.buffer.bufferToKeep),At=U.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:be,threshold:.01})[0];if(At)rt=Math.min(At.startTime,rt);else if(0===be&&ce.getIsDynamic())return[];if(ze.start(0)<=rt){for(var tn={start:0,end:rt},gn=0;gn<ze.length&&ze.end(gn)<=rt;gn++)tn.end=ze.end(gn);tn.start<tn.end&&at.push(tn)}return at}function bn(at){return new Promise(function(ze,be){if(at&&ne&&0!==at.length){var rt=[];at.forEach(function(At){var tn;rt.push((tn=At,new Promise(function(gn,Kn){tn.resolve=gn,tn.reject=Kn,Te.push(tn)})))}),Ee||xn(),Promise.all(rt).then(function(){ze()}).catch(function(At){be(At)})}else ze()})}function xn(){try{if(0===Te.length||!ne)return b.debug("Nothing to prune, halt pruning"),Te=[],void(Ee=!1);var at=ne.getBuffer();if(!at||!at.buffered||0===at.buffered.length)return b.debug("SourceBuffer is empty (or does not exist), halt pruning"),Te=[],void(Ee=!1);var ze=Te.shift();b.debug("".concat(we,": Removing buffer from: ").concat(ze.start," to ").concat(ze.end)),Ee=!0,ce.getTime()<ze.end&&Pt(!1),ne.remove(ze).then(function(be){Ln(be)}).catch(function(be){Ln(be)})}catch{Ee=!1}}function Ln(at){b.debug("onRemoved buffer from:",at.from,"to",at.to),ne&&(hn(ne.getAllBufferRanges()),0===Te.length&&(Ee=!1,Vt()),at.unintended&&(b.warn("Detected unintended removal from:",at.from,"to",at.to,"setting streamprocessor time to",at.from),ht(v.Z.SEEK_TARGET,{time:at.from})),Ee?xn():(le?le=!1:Vt(),ht(v.Z.BUFFER_CLEARED,{from:at.from,to:at.to,unintended:at.unintended,hasEnoughSpaceToAppend:pn(),quotaExceeded:Ce})))}function On(at){return new Promise(function(ze){at&&void 0!==at.MSETimeOffset&&ne&&ne.updateTimestampOffset?ne.updateTimestampOffset(at.MSETimeOffset).then(function(){ze()}).catch(function(){ze()}):ze()})}function lr(){return ne&&!R?ne.updateAppendWindow(G):Promise.resolve()}function Qn(){++ge*(Pe.get().streaming.wallclockTimeUpdateInterval/1e3)>=Pe.get().streaming.buffer.bufferPruningInterval&&(ge=0,ln())}function cr(){pt()}function Pt(at){(R=at)?ht(v.Z.BUFFERING_COMPLETED):J=Number.POSITIVE_INFINITY}function Tn(){try{var at,ze,be=ne.getAllBufferRanges(),rt=0;if(!be)return rt;for(ze=0,at=be.length;ze<at;ze++)rt+=be.end(ze)-be.start(ze);return rt}catch{return 0}}function mn(at){try{var ze=at,be=ne.getAllBufferRanges();if(!be||0===be.length)return NaN;for(var rt=0;ze===at&&rt<be.length;){var At=be.start(rt),tn=be.end(rt);ze>=At&&ze<=tn&&(ze=tn),rt+=1}return ze===at?NaN:ze}catch{}}function pn(){var at=Tn();return isNaN(at)||at<P}function ht(at,ze){q.trigger(at,ze||{},{streamId:G.id,mediaType:we})}function kt(at,ze){if(P=Number.POSITIVE_INFINITY,ee=void 0,J=Number.POSITIVE_INFINITY,B=0,Ie=null,R=!1,Ee=!1,Ce=!1,F=0,ge=0,Te=[],fe=NaN,V=!1,ne){var be=ne;ne=null,at||ze||be.abort().then(function(){be.reset(ze),be=null})}le=!1}return p={initialize:function(at){Xe(at),q.on(v.Z.INIT_FRAGMENT_LOADED,vt,p),q.on(v.Z.MEDIA_FRAGMENT_LOADED,wt,p),q.on(v.Z.WALLCLOCK_TIME_UPDATED,Qn,p),q.on(h.Z.PLAYBACK_PLAYING,nt,p),q.on(h.Z.PLAYBACK_PROGRESS,Me,p),q.on(h.Z.PLAYBACK_TIME_UPDATED,Me,p),q.on(h.Z.PLAYBACK_RATE_CHANGED,cr,p),q.on(h.Z.PLAYBACK_STALLED,We,p)},getStreamId:function(){return G.id},getType:function(){return we},getBufferControllerType:function(){return jt},createBufferSink:Ue,dischargePreBuffer:function(){if(ne&&Q&&"function"==typeof Q.discharge){var at=Q.getAllBufferRanges();if(at.length>0){for(var ze="Beginning "+we+"PreBuffer discharge, adding buffer for:",be=0;be<at.length;be++)ze+=" start: "+at.start(be)+", end: "+at.end(be)+";";b.debug(ze)}else b.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");re=[];for(var rt=Q.discharge(),At=null,tn=0;tn<rt.length;tn++){var gn=rt[tn];if(gn.segmentType!==ut.w.INIT_SEGMENT_TYPE){var Kn=te.extract(gn.streamId,gn.representationId);Kn&&At!==Kn&&(re.push(Kn),ne.append(Kn),At=Kn)}re.push(gn),ne.append(gn)}Q.reset(),Q=null}},getBuffer:function(){return ne},getBufferLevel:function(){return F},getRangeAt:st,hasBufferAtTime:function(at){try{var ze=ne.getAllBufferRanges();if(!ze||0===ze.length)return!1;for(var be=0;be<ze.length;){var rt=ze.start(be),At=ze.end(be);if(at>=rt&&at<=At)return!0;be+=1}return!1}catch(tn){return b.error(tn),!1}},pruneBuffer:ln,setMediaSource:Xe,getMediaSource:function(){return C},appendInitSegmentFromCache:function(at){var ze=te.extract(G.id,at);return!!ze&&(b.info("Append Init fragment",we," with representationId:",ze.representationId," and quality:",ze.quality,", data size:",ze.bytes.byteLength),Ct(ze),!0)},getIsBufferingCompleted:function(){return R},setIsBufferingCompleted:Pt,getIsPruningInProgress:function(){return Ee},reset:function(at,ze){q.off(v.Z.INIT_FRAGMENT_LOADED,vt,this),q.off(v.Z.MEDIA_FRAGMENT_LOADED,wt,this),q.off(v.Z.WALLCLOCK_TIME_UPDATED,Qn,this),q.off(h.Z.PLAYBACK_PLAYING,nt,this),q.off(h.Z.PLAYBACK_PROGRESS,Me,this),q.off(h.Z.PLAYBACK_TIME_UPDATED,Me,this),q.off(h.Z.PLAYBACK_RATE_CHANGED,cr,this),q.off(h.Z.PLAYBACK_STALLED,We,this),kt(at,ze)},prepareForPlaybackSeek:function(){return R&&Pt(!1),ne.abort()},prepareForReplacementTrackSwitch:function(at){return new Promise(function(ze,be){ne.abort().then(function(){return lr()}).then(function(){return Pe.get().streaming.buffer.useChangeTypeForTrackSwitch?ne.changeType(at):Promise.resolve()}).then(function(){return it()}).then(function(){Pt(!1),ze()}).catch(function(rt){be(rt)})})},prepareForNonReplacementTrackSwitch:function(at){return new Promise(function(ze,be){lr().then(function(){return Pe.get().streaming.buffer.useChangeTypeForTrackSwitch?ne.changeType(at):Promise.resolve()}).then(function(){ze()}).catch(function(rt){be(rt)})})},prepareForForceReplacementQualitySwitch:function(at){return new Promise(function(ze,be){ne.abort().then(function(){return lr()}).then(function(){return it()}).then(function(){return On(at)}).then(function(){Pt(!1),ze()}).catch(function(rt){be(rt)})})},updateAppendWindow:lr,getAllRangesWithSafetyFactor:Ne,getContinuousBufferTimeForTargetTime:mn,clearBuffers:bn,pruneAllSafely:it,updateBufferTimestampOffset:On,setSeekTarget:function(at){fe=at},segmentRequestingCompleted:function(at){isNaN(at)||(J=at,Ft())}},b=(0,D.Z)(S).getInstance().getLogger(p),te=xe(S).getInstance(),kt(),p}It.__dashjs_factory_name=jt;var Je=w.Z.getClassFactory(It),bt="NotFragmentedTextBufferController";function pe(_){_=_||{};var p,b,R,F,P,C,B=this.context,J=(0,A.Z)(B).getInstance(),ne=_.textController,Q=_.errHandler,V=_.streamInfo,re=_.type;function ee(Ee){F=Ee}function Ie(Ee){b!==Ee&&(b=Ee)&&J.trigger(v.Z.BUFFERING_COMPLETED,{},{streamId:V.id,mediaType:re})}function ge(Ee){Ee.chunk.bytes&&!b&&(C.save(Ee.chunk),P.append(Ee.chunk),Ie(!0))}return p={initialize:function(Ee){ee(Ee)},getStreamId:function(){return V.id},getType:function(){return re},getBufferControllerType:function(){return bt},createBufferSink:function(Ee){return new Promise(function(Ce,te){try{(P=ke(B).create({mediaSource:F,textController:ne,eventBus:J})).initializeForFirstUse(V,Ee),R||(P.getBuffer()&&"function"==typeof P.getBuffer().initialize&&P.getBuffer().initialize(),R=!0),Ce(P)}catch(Te){Q.error(new K.Z(ve.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ve.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+re)),te(Te)}})},dischargePreBuffer:function(){},getBuffer:function(){return P},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:ee,getMediaSource:function(){return F},appendInitSegmentFromCache:function(Ee){return null!==C.extract(V.id,Ee)},getIsBufferingCompleted:function(){return b},setIsBufferingCompleted:Ie,getIsPruningInProgress:function(){return!1},reset:function(Ee){J.off(v.Z.INIT_FRAGMENT_LOADED,ge,p),!Ee&&P&&(P.abort(),P.reset(),P=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return b=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},R=!1,F=null,b=!1,C=xe(B).getInstance(),J.on(v.Z.INIT_FRAGMENT_LOADED,ge,p),p}pe.__dashjs_factory_name=bt;var Ae=w.Z.getClassFactory(pe);function lt(_){_=_||{};var p,b,R,F,P,C,B,J,ne,Q,V,re,ee=this.context,Ie=(0,A.Z)(ee).getInstance(),ge=_.dashMetrics,Ee=_.mediaPlayerModel,Ce=_.fragmentModel,te=_.abrController,Te=_.playbackController,le=_.textController,fe=_.type,S=_.bufferController,q=_.representationController,Z=_.settings;function U(Be){if(!S.getIsBufferingCompleted()){L();var Ue=isNaN(Be)?0:Be;P=setTimeout(se,Ue)}}function L(){P&&(clearTimeout(P),P=null)}function se(){try{if(function(){try{return fe===f.Z.TEXT&&!le.isTextEnabled()||Te.isPaused()&&(!Te.getStreamController().getInitialPlayback()||!Te.getStreamController().getAutoPlay())&&!Z.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void L();if(function(){try{return q.getCurrentRepresentationInfo()&&(isNaN(ne)||Q||(Ot=te.getMaxAllowedIndexFor(fe,b.id),!(!isNaN(J)&&J==Ot||(R.info("Top quality "+fe+" index has changed from "+J+" to "+Ot),J=Ot,0)))||(vt=q.getCurrentRepresentationInfo(),!fe||!vt||ge.getCurrentBufferLevel(fe)<ie()))}catch{return!1}var vt,Ot}()){var Be=!1;re&&(Be=te.checkPlaybackQuality(fe,b.id)),Be||(Ue=q.getCurrentRepresentationInfo(),V||Ue.quality!==ne||Q?(Q?(R.debug("Switch track for "+fe+", representation id = "+Ue.id),Q=!1):R.debug("Quality has changed, get init request for representationid = "+Ue.id),Ie.trigger(v.Z.INIT_FRAGMENT_NEEDED,{representationId:Ue.id,sender:p},{streamId:b.id,mediaType:fe}),re=!1,V=!1):(R.debug("Media segment needed for ".concat(fe," and stream id ").concat(b.id)),Ie.trigger(v.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:b.id,mediaType:fe}),re=!0))}else U(Te.getLowLatencyModeEnabled()?Z.get().streaming.scheduling.lowLatencyTimeout:Z.get().streaming.scheduling.defaultTimeout)}catch{U(Te.getLowLatencyModeEnabled()?Z.get().streaming.scheduling.lowLatencyTimeout:Z.get().streaming.scheduling.defaultTimeout)}var Ue}function ie(){var Be=NaN,Ue=q.getCurrentRepresentationInfo();return fe&&Ue&&(Be=fe===f.Z.TEXT?function(){try{if(le.isTextEnabled()){var je=q.getCurrentRepresentationInfo();if(isNaN(je.fragmentDuration)){var Ot=ge.getCurrentSchedulingInfo(I.Z.SCHEDULING_INFO);return Ot?Ot.duration:0}return je.fragmentDuration}return 0}catch{return 0}}():fe===f.Z.AUDIO&&C?function(){try{var je=ge.getCurrentBufferLevel(f.Z.VIDEO),Ot=q.getCurrentRepresentationInfo();return isNaN(Ot.fragmentDuration)?je+1:Math.max(je+1,Ot.fragmentDuration)}catch{return 0}}():function(){try{var je=q.getCurrentRepresentationInfo().mediaInfo.streamInfo;return te.isPlayingAtTopQuality(je)?je.manifestInfo.duration>=Z.get().streaming.buffer.longFormContentDurationThreshold?Z.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Z.get().streaming.buffer.bufferTimeAtTopQuality:Ee.getStableBufferTime()}catch{return Ee.getStableBufferTime()}}()),Be}function me(){ce(!0)}function ce(Be){if(Te&&Ce){var Ue=Ce.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Te.getTime(),threshold:0})[0];Ue&&Te.getTime()>=Ue.startTime&&((!B.mediaInfo||Ue.mediaInfo.type===B.mediaInfo.type&&Ue.mediaInfo.index!==B.mediaInfo.index)&&Be&&Ie.trigger(v.Z.TRACK_CHANGE_RENDERED,{mediaType:fe,oldMediaInfo:B.mediaInfo,newMediaInfo:Ue.mediaInfo,streamId:b.id}),Ue.quality===B.quality&&Ue.adaptationIndex===B.adaptationIndex||!Be||(R.debug("Quality change rendered for streamId ".concat(b.id," and type ").concat(fe)),Ie.trigger(v.Z.QUALITY_CHANGE_RENDERED,{mediaType:fe,oldQuality:B.quality,newQuality:Ue.quality,streamId:b.id})),B={mediaInfo:Ue.mediaInfo,quality:Ue.quality,adaptationIndex:Ue.adaptationIndex})}}function G(){Ce.abortRequests(),L()}function we(){Z.get().streaming.scheduling.scheduleWhilePaused||U()}function Pe(Be){ge.updatePlayListTraceMetrics({playbackspeed:Be.playbackRate.toString()})}function Xe(){re=!0,F=0,ne=NaN,B={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},J=NaN,Q=!1,V=!1}return p={initialize:function(Be){C=Be,Ie.on(v.Z.URL_RESOLUTION_FAILED,G,p),Ie.on(h.Z.PLAYBACK_STARTED,we,p),Ie.on(h.Z.PLAYBACK_RATE_CHANGED,Pe,p),Ie.on(h.Z.PLAYBACK_TIME_UPDATED,me,p)},getType:function(){return fe},getStreamId:function(){return b.id},setTimeToLoadDelay:function(Be){F=Be},getTimeToLoadDelay:function(){return F},setSwitchTrack:function(Be){Q=Be},getSwitchTrack:function(){return Q},startScheduleTimer:U,clearScheduleTimer:L,reset:function(){Ie.off(v.Z.URL_RESOLUTION_FAILED,G,p),Ie.off(h.Z.PLAYBACK_STARTED,we,p),Ie.off(h.Z.PLAYBACK_RATE_CHANGED,Pe,p),Ie.off(h.Z.PLAYBACK_TIME_UPDATED,me,p),L(),ce(!1),Xe(),b=null},getBufferTarget:ie,getPlaybackController:function(){return Te},setCheckPlaybackQuality:function(Be){re=Be},setInitSegmentRequired:function(Be){V=Be},setLastInitializedQuality:function(Be){ne=Be}},R=(0,D.Z)(ee).getInstance().getLogger(p),Xe(),b=_.streamInfo,p}lt.__dashjs_factory_name="ScheduleController";var E=w.Z.getClassFactory(lt),g=H(7387);function M(_){var p,b,R,F,P,C,B=(_=_||{}).eventBus,J=_.events,ne=_.abrController,Q=_.dashMetrics,V=_.playbackController,re=_.timelineConverter,ee=_.type,Ie=_.streamInfo,ge=_.dashConstants,Ee=_.segmentsController,Ce=_.isDynamic,te=_.adapter;function Te(){return ee}function le(){return R}function fe(){return C}function S(){b=null,R=!0,F=[],P=null}function q(me){return new Promise(function(ce,G){var we=me.hasInitialization(),Pe=me.hasSegments(),Xe=[];Xe.push(Ee.updateInitData(me,we)),Xe.push(Ee.updateSegmentData(me,Pe)),Promise.all(Xe).then(function(Be){var Ue,Ot;Be[0]&&!Be[0].error&&(me=(Ot=Be[0])&&!Ot.error&&Ot.representation?Ot.representation:me),Be[1]&&!Be[1].error&&(me=function(je,Ot){if(Ot&&!Ot.error){var vt,wt,Ct,hn,Le=Ot.segments,it=[],Ne=0;for(vt=0,wt=Le?Le.length:0;vt<wt;vt++)(hn=(0,g.TJ)(re,Ce,je,(Ct=Le[vt]).startTime,Ct.duration,Ct.timescale,Ct.media,Ct.mediaRange,Ne))&&(it.push(hn),hn=null,Ne++);return it.length>0&&(je.segments=it),je}}(me,Be[1])),(Ue=me).mediaFinishedInformation=Ee.getMediaFinishedInformation(Ue),function(je){if(le()){var Ot,wt=Q.getCurrentManifestUpdate(),Ct=!1;if(wt){for(var hn=0;hn<wt.representationInfo.length;hn++)if((Ot=wt.representationInfo[hn]).index===je.index&&Ot.mediaType===Te()){Ct=!0;break}Ct||Q.addManifestUpdateRepresentationInfo(je,Te())}if(function(){for(var it=0,Ne=F.length;it<Ne;it++){var Me=F[it].segmentInfoType;if(!F[it].hasInitialization()||(Me===ge.SEGMENT_BASE||Me===ge.BASE_URL)&&!F[it].segments)return!1}return!0}()){ne.setPlaybackQuality(ee,Ie,F.indexOf(C));var Le=Q.getCurrentDVRInfo(ee);Le&&Q.updateManifestUpdateInfo({latency:Le.range.end-V.getTime()}),Q.getCurrentRepresentationSwitch(fe().adaptation.type)||Z(),L()}}}(me),ce()}).catch(function(Be){G(Be)})})}function Z(){!function(){if(!(ne&&Q&&V&&re))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var me=new Date,ce=fe(),G=1e3*V.getTime();ce&&Q.addRepresentationSwitch(ce.adaptation.type,me,G,ce.id),B.trigger(h.Z.REPRESENTATION_SWITCH,{mediaType:ee,streamId:Ie.id,currentRepresentation:ce,numberOfRepresentations:F.length},{streamId:Ie.id,mediaType:ee})}function U(me){return null==me||me>=F.length?null:F[me]}function L(me){R=!1,B.trigger(J.DATA_UPDATE_COMPLETED,{data:b,currentRepresentation:C,error:me},{streamId:Ie.id,mediaType:ee})}function se(me){P=te.convertRepresentationToRepresentationInfo(C=me)}function ie(me){if(me.newDuration){var ce=fe();ce&&ce.adaptation.period&&(ce.adaptation.period.duration=me.newDuration)}}return p={getStreamId:function(){return Ie.id},getType:Te,getData:function(){return b},isUpdating:le,updateData:function(me,ce,G,we,Pe){return new Promise(function(Xe,Be){if(R=!0,F=ce,b=me,se(U(Pe)),G!==f.Z.VIDEO&&G!==f.Z.AUDIO&&(G!==f.Z.TEXT||!we))return L(),void Xe();for(var Ue=[],je=0,Ot=F.length;je<Ot;je++)Ue.push(q(F[je]));Promise.all(Ue).then(function(){se(U(Pe)),Xe()}).catch(function(wt){Be(wt)})})},getCurrentRepresentation:fe,getCurrentRepresentationInfo:function(){return P},getRepresentationForQuality:U,prepareQualityChange:function(me){se(U(me)),Z()},reset:function(){B.off(h.Z.MANIFEST_VALIDITY_CHANGED,ie,p),S()}},S(),B.on(h.Z.MANIFEST_VALIDITY_CHANGED,ie,p),p}M.__dashjs_factory_name="RepresentationController";var O=w.Z.getClassFactory(M),ae=H(3106),oe=H(9326),De=H(7473),$e=H(2594);function Ye(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var Fe=function _(){Ye(this,_),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Fe.INITIAL_PLAYOUT_START_REASON="initial_playout",Fe.SEEK_START_REASON="seek",Fe.RESUME_FROM_PAUSE_START_REASON="resume",Fe.METRICS_COLLECTION_START_REASON="metrics_collection_start";var qe=function _(){Ye(this,_),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};qe.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",qe.REBUFFERING_REASON="rebuffering",qe.USER_REQUEST_STOP_REASON="user_request",qe.END_OF_PERIOD_STOP_REASON="end_of_period",qe.END_OF_CONTENT_STOP_REASON="end_of_content",qe.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",qe.FAILURE_STOP_REASON="failure";var ft=H(7802);function Se(){return{ntpToUTC:function(_){var p=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(p.getTime()+_).getTime()}}}Se.__dashjs_factory_name="TimeUtils";var tt=w.Z.getSingletonFactory(Se);function He(_){_=_||{};var p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge=this.context,Ee=(0,A.Z)(ge).getInstance(),Ce=_.streamInfo,te=_.type,Te=_.errHandler,le=_.mimeType,fe=_.timelineConverter,S=_.adapter,q=_.manifestModel,Z=_.mediaPlayerModel,U=_.fragmentModel,L=_.abrController,se=_.playbackController,ie=_.mediaController,me=_.textController,ce=_.dashMetrics,G=_.settings,we=_.boxParser,Pe=_.segmentBlacklistController;function Xe(){return Ce.id}function Be(){return te}function Ue(){return S.getIsTextTrack(J.getData())}function je(){P=[],F=null,ee=0,ne=!1,Q=!1,Ie=null}function Ot(ht){return!isNaN(ht)&&!isNaN(Ce.duration)&&isFinite(Ce.duration)&&ht>=Ce.start+Ce.duration}function vt(ht){var kt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ht.sender)if(se.getIsManifestUpdateInProgress())it();else if((!Ue()||me.isTextEnabled())&&C&&ht.representationId&&!C.appendInitSegmentFromCache(ht.representationId)){var at=J.getCurrentRepresentation();if(0===at.range)return void wt();var ze=V?V.getInitRequest(F,at):null;ze?U.executeRequest(ze):kt&&(B.setInitSegmentRequired(!0),it())}}function wt(ht){var kt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(se.getIsManifestUpdateInProgress()||C.getIsPruningInProgress())it();else{var at=function Le(){var ht,kt=On();if(isNaN(ee)||Be()===f.Z.TEXT&&!me.isTextEnabled())return null;if(V){var at=J&&kt?J.getRepresentationForQuality(kt.quality):null;ht=ne?V.getSegmentRequestForTime(F,at,ee):V.getNextSegmentRequest(F,at)}return ht}();at?(ne=!1,function Ct(ht){var kt,at;isNaN(ht.startTime+ht.duration)||(ee=ht.startTime+ht.duration),ht.delayLoadingTime=(new Date).getTime()+B.getTimeToLoadDelay(),B.setTimeToLoadDelay(0),at=(kt=ht).url,kt.range&&(at=at.concat("_",kt.range)),Pe.contains(at)?(b.warn("Fragment request url ".concat(ht.url," for stream id ").concat(Ce.id," and media type ").concat(te," is on the ignore list and will be skipped")),it()):(b.debug("Next fragment request url for stream id ".concat(Ce.id," and media type ").concat(te," is ").concat(ht.url)),U.executeRequest(ht))}(at)):function hn(ht){var kt,at=J.getCurrentRepresentation();if(!G.get().streaming.gaps.enableSeekFix||!ne&&0!==se.getTime()||(R?R&&at.segmentInfoType===d.Z.SEGMENT_TIMELINE&&(kt=V.getValidTimeAheadOfTargetTime(ee,F,at,G.get().streaming.gaps.threshold)):kt=V.getValidTimeAheadOfTargetTime(ee,F,at,G.get().streaming.gaps.threshold),isNaN(kt)||kt===ee)){if(V.isLastSegmentRequested(at,ee)){var ze=V.getCurrentIndex();return b.debug("Segment requesting for stream ".concat(Ce.id," has finished")),Ee.trigger(v.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:ze},{streamId:Ce.id,mediaType:te}),C.segmentRequestingCompleted(ze),void B.clearScheduleTimer()}ht&&it()}else se.isSeeking()||0===se.getTime()?(b.warn("Adjusting playback time ".concat(kt," because of gap in the manifest. Seeking by ").concat(kt-ee)),se.seek(kt,!1,!1)):(b.warn("Adjusting buffering time ".concat(kt," because of gap in the manifest. Adjusting time by ").concat(kt-ee)),pn(kt),ht&&it())}(kt)}}function it(){B.startScheduleTimer(se.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}function Ne(ht){ht.error||C.getIsBufferingCompleted()||C.updateBufferTimestampOffset(ht.currentRepresentation)}function Me(ht){ce.addBufferState(te,ht.state,B.getBufferTarget()),ht.state!==I.Z.BUFFER_EMPTY||se.isSeeking()||(b.info("Buffer is empty! Stalling!"),ce.pushPlayListTraceMetrics(new Date,qe.REBUFFERING_REASON))}function We(ht){U.syncExecutedRequestsWithBufferedRange(C.getBuffer().getAllBufferRanges(),Ce.duration),ht.quotaExceeded&&ht.from>se.getTime()&&pn(ht.from),ht.hasEnoughSpaceToAppend&&ht.quotaExceeded&&B.startScheduleTimer()}function nt(ht){if(ht&&ht.lastRequestAppended&&ht.lastRequestAppended.url){var kt=ht.lastRequestAppended.url;ht.lastRequestAppended.range&&(kt=kt.concat("_",ht.lastRequestAppended.range)),b.warn("Blacklisting segment with url ".concat(kt)),Pe.add(kt)}}function st(ht){b.debug("Appended bytes for ".concat(ht.mediaType," and stream id ").concat(ht.streamId)),ht.segmentType===ut.w.INIT_SEGMENT_TYPE&&(B.setLastInitializedQuality(ht.quality),b.info("["+te+"] lastInitializedRepresentationInfo changed to "+ht.quality)),Ie?Vt(Ie):B.startScheduleTimer(0)}function Vt(ht){var kt=U.getRequests({state:k.FRAGMENT_MODEL_LOADING});if(kt&&kt.length>0)return b.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(Ie=ht);C.updateBufferTimestampOffset(ht).then(function(){F.segmentAlignment||F.subSegmentAlignment?B.startScheduleTimer():Tn(),Ie=null,Q=!1}).catch(function(){Ie=null,Q=!1})}function Ft(ht){b.info("onFragmentLoadingAbandoned request: "+ht.request.url+" has been aborted"),se.isSeeking()||B.getSwitchTrack()||Q||(b.info("onFragmentLoadingAbandoned request: "+ht.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ht.request&&ht.request.isInitializationRequest()?B.setInitSegmentRequired(!0):pn(ht.request.startTime+ht.request.duration/2),B.startScheduleTimer(0))}function pt(ht){var kt;b.info("OnFragmentLoadingCompleted for stream id "+Ce.id+" and media type "+te+" - Url:",ht.request?ht.request.url:"undefined",ht.request.range?", Range:"+ht.request.range:""),Ue()&&B.startScheduleTimer(0),ht.error&&ht.request.serviceLocation&&(kt=ht,b.info("Fragment loading completed with an error"),kt&&kt.request&&kt.request.type&&(kt.request.type===ut.w.INIT_SEGMENT_TYPE?vt({representationId:kt.request.representationId,sender:{}},!1):kt.request.type===ut.w.MEDIA_SEGMENT_TYPE&&(pn(kt.request.startTime+kt.request.duration/2),wt({},!1))))}function on(){pn(se.getTime()),Ln().startScheduleTimer()}function ln(ht){var kt=ht.currentTrackInfo;if(kt){var at=P.find(function(ze){return ze.index===kt.index&&ze.lang===kt.lang});at&&xn(at).then(function(){C.setIsBufferingCompleted(!1),pn(se.getTime()),B.setInitSegmentRequired(!0),B.startScheduleTimer()})}}function cn(ht){pn(ht.quotaExceededTime),B.clearScheduleTimer()}function bn(){return C?C.getBuffer():null}function xn(ht){ht===F||ht&&F&&ht.type!==F.type||(F=ht);var kt=S.getRealAdaptation(Ce,F),at=S.getVoRepresentations(F);if(J){var ze,be=J.getData(),rt=L.getMaxAllowedIndexFor(te,Ce.id),At=L.getMinAllowedIndexFor(te,Ce.id),tn=null;return null!==be&&be.id===kt.id||te===f.Z.TEXT?ze=L.getQualityFor(te,Ce.id):(tn=L.getThroughputHistory().getAverageThroughput(te,R)||L.getInitialBitrateFor(te,Ce.id),ze=L.getQualityForBitrate(F,tn,Ce.id)),void 0!==At&&ze<At&&(ze=At),ze>rt&&(ze=rt),J.updateData(kt,at,te,F.isFragmented,ze)}return Promise.resolve()}function Ln(){return B}function On(ht){var kt;return void 0!==ht?((0,ae.SE)(ht),kt=J?J.getRepresentationForQuality(ht):null):kt=J?J.getCurrentRepresentation():null,S.convertRepresentationToRepresentationInfo(kt)}function lr(){return!!C&&C.getIsBufferingCompleted()}function Qn(ht){if(G.get().streaming.enableManifestTimescaleMismatchFix){var kt=ht.chunk,at=kt.bytes,ze=On(kt.quality),be=J&&ze?J.getRepresentationForQuality(ze.quality):null;ze&&be&&(be.timescale=we.getMediaTimescaleFromMoov(at))}}function cr(ht){var Lr,Pi,Mi,ys,kt=ht.chunk,at=kt.bytes,ze=kt.quality,be=On(ze),rt=J&&be?J.getRepresentationForQuality(be.quality):null;if(be&&rt){var At;if(G.get().streaming.parseInbandPrft&&ht.request.type===ut.w.MEDIA_SEGMENT_TYPE){var tn=(Lr=At=At||we.parse(at),Pi=rt.timescale,Mi=Lr.getBoxes("prft"),ys=[],Mi.forEach(function(ta){ys.push(function(Zo,rs){var Io="unknown";switch(Zo.flags){case 0:Io=d.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:Io=d.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:Io=d.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var Ps=1e3*Zo.ntp_timestamp_sec+Zo.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:Io,ntpTimestamp:Ps=tt(ge).getInstance().ntpToUTC(Ps),mediaTime:Zo.media_time/rs}}(ta,Pi))}),ys);tn&&tn.length&&Ee.trigger(h.Z.INBAND_PRFT,{data:tn},{streamId:Ce.id,mediaType:te})}var gn=S.getEventsFor(be.mediaInfo,null,Ce),Kn=S.getEventsFor(be,rt,Ce);if(gn&&gn.length>0||Kn&&Kn.length>0){var Fr=U.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,quality:ze,index:kt.index})[0],$i=function(Lr,Pi,Mi,ys){try{for(var ta={},Zo=[],rs=Mi.concat(ys),Io=0,Ps=rs.length;Io<Ps;Io++)ta[rs[Io].schemeIdUri+"/"+rs[Io].value]=rs[Io];var Ei=Lr.getBoxes("emsg");if(!Ei||0===Ei.length)return Zo;for(var go=Lr.getBox("sidx"),Vr=!go||isNaN(go.earliest_presentation_time)||isNaN(go.timescale)?Pi&&!isNaN(Pi.mediaStartTime)?Pi.mediaStartTime:0:go.earliest_presentation_time/go.timescale,na=Math.max(Vr,0),fu=J.getCurrentRepresentation(),xa=0,ol=Ei.length;xa<ol;xa++){var sl=S.getEvent(Ei[xa],ta,na,fu);sl&&Zo.push(sl)}return Zo}catch{return[]}}(At=At||we.parse(at),Fr,gn,Kn);Ee.trigger(v.Z.INBAND_EVENTS,{events:$i},{streamId:Ce.id})}}}function Pt(){var ht=se.getTime();G.get().streaming.buffer.flushBufferAtTrackSwitch&&se.seek(ht+.001,!1,!0),pn(ht),C.setSeekTarget(ht),B.startScheduleTimer()}function Tn(){var ht=se.getTime(),kt=C.getContinuousBufferTimeForTargetTime(ht);pn(isNaN(kt)?ht:kt),B.startScheduleTimer()}function mn(ht){ht&&!isNaN(ht.time)&&(pn(ht.time),C.setSeekTarget(ht.time))}function pn(ht){ee=ht,ne=!0}return p={initialize:function(ht,kt,at){var ze;re=(0,ft.Z)(ge).create({events:v.Z,eventBus:Ee,streamInfo:Ce,timelineConverter:fe,dashConstants:d.Z,segmentBaseController:_.segmentBaseController,type:te}),(V=(0,oe.Z)(ge).create({streamInfo:Ce,type:te,timelineConverter:fe,dashMetrics:ce,mediaPlayerModel:Z,baseURLController:_.baseURLController,errHandler:Te,segmentsController:re,settings:G,boxParser:we,events:v.Z,eventBus:Ee,errors:ve,debug:(0,D.Z)(ge).getInstance(),requestModifier:(0,De.Z)(ge).getInstance(),dashConstants:d.Z,constants:f.Z,urlUtils:(0,$e.Z)(ge).getInstance()})).initialize(R=Ce.manifestInfo.isDynamic),L.registerStreamType(te,p),J=O(ge).create({streamInfo:Ce,type:te,abrController:L,dashMetrics:ce,playbackController:se,timelineConverter:fe,dashConstants:d.Z,events:v.Z,eventBus:Ee,errors:ve,isDynamic:R,adapter:S,segmentsController:re}),(C=(ze=te)?ze!==f.Z.TEXT||at?Je(ge).create({streamInfo:Ce,type:ze,mediaPlayerModel:Z,manifestModel:q,fragmentModel:U,errHandler:Te,mediaController:ie,representationController:J,adapter:S,textController:me,abrController:L,playbackController:se,settings:G}):Ae(ge).create({streamInfo:Ce,type:ze,mimeType:le,fragmentModel:U,textController:me,errHandler:Te,settings:G}):(Te.error(new K.Z(ve.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ve.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null))&&C.initialize(ht),(B=E(ge).create({streamInfo:Ce,type:te,mimeType:le,adapter:S,dashMetrics:ce,mediaPlayerModel:Z,fragmentModel:U,abrController:L,playbackController:se,textController:me,mediaController:ie,bufferController:C,representationController:J,settings:G})).initialize(kt),ee=0,ne=!1},getStreamId:Xe,getType:Be,isUpdating:function(){return!!J&&J.isUpdating()},getBufferController:function(){return C},dischargePreBuffer:function(){C.dischargePreBuffer()},getFragmentModel:function(){return U},getScheduleController:Ln,getRepresentationController:function(){return J},getRepresentationInfo:On,getBufferLevel:function(){return C?C.getBufferLevel():0},isBufferingCompleted:lr,createBufferSinks:function(ht){var kt=bn();return kt?Promise.resolve(kt):C?C.createBufferSink(F,ht):Promise.resolve(null)},updateStreamInfo:function(ht){return Ce=ht,lr()?Promise.resolve():C.updateAppendWindow()},getStreamInfo:function(){return Ce},selectMediaInfo:xn,clearMediaInfoArray:function(){P=[]},addMediaInfo:function(ht){-1===P.indexOf(ht)&&P.push(ht)},prepareTrackSwitch:function(){return new Promise(function(ht){b.debug("Preparing track switch for type ".concat(te));var kt=te===f.Z.TEXT||G.get().streaming.trackSwitchMode[te]===f.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&se.getTimeToStreamEnd(Ce)>G.get().streaming.buffer.stallThreshold;if(C.getIsBufferingCompleted()&&!kt)return C.prepareForNonReplacementTrackSwitch(F.codec).then(function(){Ee.trigger(v.Z.BUFFERING_COMPLETED,{},{streamId:Ce.id,mediaType:te})}).catch(function(){Ee.trigger(v.Z.BUFFERING_COMPLETED,{},{streamId:Ce.id,mediaType:te})}),void ht();B.clearScheduleTimer(),B.setSwitchTrack(!0),kt?(Ee.trigger(v.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:te,streamId:Ce.id},{mediaType:te,streamId:Ce.id}),U.abortRequests(),C.prepareForReplacementTrackSwitch(F.codec).then(function(){var at=On();return C.updateBufferTimestampOffset(at)}).then(function(){Pt(),ht()}).catch(function(){Pt(),ht()})):C.prepareForNonReplacementTrackSwitch(F.codec).then(function(){Tn(),ht()}).catch(function(){Tn(),ht()})})},prepareQualityChange:function(ht){Ie&&b.warning("Canceling queued representation switch to ".concat(Ie.quality," for ").concat(te)),b.debug("Preparing quality switch for type ".concat(te));var kt=ht.newQuality;Q=!0,B.clearScheduleTimer(),J.prepareQualityChange(kt);var ze,at=On(kt);ht.reason&&ht.reason.forceReplace?(ze=at,U.abortRequests(),Ee.trigger(v.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:te,streamId:Ce.id},{mediaType:te,streamId:Ce.id}),C.prepareForForceReplacementQualitySwitch(ze).then(function(){Pt(),Q=!1}).catch(function(){Pt(),Q=!1})):G.get().streaming.buffer.fastSwitchEnabled?function(ze){var be=se.getTime(),rt=1.5*(isNaN(ze.fragmentDuration)?1:ze.fragmentDuration),At=U.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:be+rt,threshold:0})[0];if(At&&!Ue()){var tn=C.getBufferLevel(),gn=L.getAbandonmentStateFor(Ce.id,te);At.quality<ze.quality&&tn>=rt&&gn!==I.Z.ABANDON_LOAD?C.updateBufferTimestampOffset(ze).then(function(){U.abortRequests(),pn(be+rt),B.setCheckPlaybackQuality(!1),B.startScheduleTimer(),Q=!1}).catch(function(){Q=!1}):Vt(ze)}else B.startScheduleTimer(),Q=!1}(at):Vt(at),ce.pushPlayListTraceMetrics(new Date,qe.REPRESENTATION_SWITCH_STOP_REASON),ce.createPlaylistTraceMetrics(at.id,1e3*se.getTime(),se.getPlaybackRate())},getMediaInfo:function(){return F},getMediaSource:function(){return C.getMediaSource()},setMediaSource:function(ht){return C.setMediaSource(ht,F)},getBuffer:bn,setExplicitBufferingTime:pn,finalisePlayList:function(ht,kt){ce.pushPlayListTraceMetrics(ht,kt)},probeNextRequest:function(){var ht=On(),kt=J&&ht?J.getRepresentationForQuality(ht.quality):null;return V.getNextSegmentRequestIdempotent(F,kt)},prepareInnerPeriodPlaybackSeeking:function(ht){return new Promise(function(kt){if(C.hasBufferAtTime(ht.seekTime))return C.pruneBuffer(),Ot(C.getContinuousBufferTimeForTargetTime(ht.seekTime))&&C.setIsBufferingCompleted(!0),void kt();B.clearScheduleTimer(),U.abortRequests(),C.prepareForPlaybackSeek().then(function(){var at=C.getAllRangesWithSafetyFactor(ht.seekTime);return C.clearBuffers(at)}).then(function(){var at=C.getContinuousBufferTimeForTargetTime(ht.seekTime);if(Ot(at))C.setIsBufferingCompleted(!0),kt();else{var ze=isNaN(at)?ht.seekTime:at;pn(ze),C.setSeekTarget(ze);var be=[];be.push(C.updateAppendWindow());var rt=On();be.push(C.updateBufferTimestampOffset(rt)),Promise.all(be).then(function(){B.setInitSegmentRequired(!0),B.setCheckPlaybackQuality(!1),B.startScheduleTimer(),kt()})}}).catch(function(at){b.error(at)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(ht,kt){try{B.clearScheduleTimer(),U.abortRequests(),C.prepareForPlaybackSeek().then(function(){return C.pruneAllSafely()}).then(function(){ht()})}catch(at){kt(at)}})},reset:function(ht,kt){V&&V.reset(),C&&(C.reset(ht,kt),C=null),B&&(B.reset(),B=null),J&&(J.reset(),J=null),re&&(re=null),L&&L.unRegisterStreamType(Xe(),te),Ee.off(v.Z.DATA_UPDATE_COMPLETED,Ne,p),Ee.off(v.Z.INIT_FRAGMENT_NEEDED,vt,p),Ee.off(v.Z.MEDIA_FRAGMENT_NEEDED,wt,p),Ee.off(v.Z.INIT_FRAGMENT_LOADED,Qn,p),Ee.off(v.Z.MEDIA_FRAGMENT_LOADED,cr,p),Ee.off(v.Z.BUFFER_LEVEL_STATE_CHANGED,Me,p),Ee.off(v.Z.BUFFER_CLEARED,We,p),Ee.off(v.Z.SEEK_TARGET,mn,p),Ee.off(v.Z.FRAGMENT_LOADING_ABANDONED,Ft,p),Ee.off(v.Z.FRAGMENT_LOADING_COMPLETED,pt,p),Ee.off(v.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,on,p),Ee.off(v.Z.SET_NON_FRAGMENTED_TEXT,ln,p),Ee.off(v.Z.QUOTA_EXCEEDED,cn,p),Ee.off(v.Z.SOURCE_BUFFER_ERROR,nt,p),Ee.off(v.Z.BYTES_APPENDED_END_FRAGMENT,st,p),je(),te=null,Ce=null}},b=(0,D.Z)(ge).getInstance().getLogger(p),je(),Ee.on(v.Z.DATA_UPDATE_COMPLETED,Ne,p,{priority:A.Z.EVENT_PRIORITY_HIGH}),Ee.on(v.Z.INIT_FRAGMENT_NEEDED,vt,p),Ee.on(v.Z.MEDIA_FRAGMENT_NEEDED,wt,p),Ee.on(v.Z.INIT_FRAGMENT_LOADED,Qn,p),Ee.on(v.Z.MEDIA_FRAGMENT_LOADED,cr,p),Ee.on(v.Z.BUFFER_LEVEL_STATE_CHANGED,Me,p),Ee.on(v.Z.BUFFER_CLEARED,We,p),Ee.on(v.Z.SEEK_TARGET,mn,p),Ee.on(v.Z.FRAGMENT_LOADING_ABANDONED,Ft,p),Ee.on(v.Z.FRAGMENT_LOADING_COMPLETED,pt,p),Ee.on(v.Z.QUOTA_EXCEEDED,cn,p),Ee.on(v.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,on,p),Ee.on(v.Z.SET_NON_FRAGMENTED_TEXT,ln,p),Ee.on(v.Z.SOURCE_BUFFER_ERROR,nt,p),Ee.on(v.Z.BYTES_APPENDED_END_FRAGMENT,st,p),p}He.__dashjs_factory_name="StreamProcessor";var Tt=w.Z.getClassFactory(He),Nt=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},an=H(9032);function _n(_,p){if(_){if("string"==typeof _)return Cn(_,p);var b=Object.prototype.toString.call(_).slice(8,-1);return"Object"===b&&_.constructor&&(b=_.constructor.name),"Map"===b||"Set"===b?Array.from(_):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?Cn(_,p):void 0}}function Cn(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,R=new Array(p);b<p;b++)R[b]=_[b];return R}function wn(_){var b,F=(_=_||{}).requestModifier,P=_.lowLatencyThroughputModel,C=_.boxParser,B=(0,Ge.Z)(this.context).getInstance();function J(V){var re,ee=new Date,Ie=V.request,ge=new Headers;if(Ie.range&&ge.append("Range","bytes="+Ie.range),V.headers)for(var Ee in V.headers){var Ce=V.headers[Ee];Ce&&ge.append(Ee,Ce)}Ie.requestStartDate||(Ie.requestStartDate=ee),F&&F.modifyRequestHeader&&F.modifyRequestHeader({setRequestHeader:function(S,q){ge.append(S,q)}},{url:V.url}),"function"==typeof window.AbortController&&(re=new AbortController,V.abortController=re,re.signal.onabort=V.onabort);var te={method:V.method,headers:ge,credentials:V.withCredentials?"include":void 0,signal:re?re.signal:void 0},Te=B.get().streaming.abr.fetchThroughputCalculationMode,le=Date.now(),fe=0;new Promise(function(S){if(Te===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P&&(fe=P.getThroughputCapacityDelayMS(Ie,1e3*b.getCurrentBufferLevel(Ie.mediaType))))return setTimeout(S,fe);S()}).then(function(){var S=Date.now();fetch(V.url,te).then(function(q){V.response||(V.response={}),V.response.status=q.status,V.response.statusText=q.statusText,V.response.responseURL=q.url,q.ok||V.onerror();var Z,U="",L=function(Me,We){var nt;if(typeof Symbol>"u"||null==Me[Symbol.iterator]){if(Array.isArray(Me)||(nt=_n(Me))){nt&&(Me=nt);var st=0,Vt=function(){};return{s:Vt,n:function(){return st>=Me.length?{done:!0}:{done:!1,value:Me[st++]}},e:function(ln){throw ln},f:Vt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ft,pt=!0,on=!1;return{s:function(){nt=Me[Symbol.iterator]()},n:function(){var ln=nt.next();return pt=ln.done,ln},e:function(ln){on=!0,Ft=ln},f:function(){try{pt||null==nt.return||nt.return()}finally{if(on)throw Ft}}}}(q.headers.keys());try{for(L.s();!(Z=L.n()).done;){var se=Z.value;U+=se+": "+q.headers.get(se)+"\r\n"}}catch(Me){L.e(Me)}finally{L.f()}if(V.response.responseHeaders=U,!q.body)return q.arrayBuffer().then(function(Me){V.response.response=Me,V.progress({loaded:Me.byteLength,total:Me.byteLength,stream:!1}),V.onload(),V.onend()});var ie,me,ce,we=parseInt(q.headers.get("Content-Length"),10),Pe=0,Xe=!1,Be=new Uint8Array,Ue=0;if(Te===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P){var je=S,Ot=0,vt=(2,function(Me){if(Array.isArray(Me))return Me}(ce=q.body.tee())||function(Me,We){if(typeof Symbol<"u"&&Symbol.iterator in Object(Me)){var nt=[],st=!0,Vt=!1,Ft=void 0;try{for(var pt,on=Me[Symbol.iterator]();!(st=(pt=on.next()).done)&&(nt.push(pt.value),2!==nt.length);st=!0);}catch(ln){Vt=!0,Ft=ln}finally{try{st||null==on.return||on.return()}finally{if(Vt)throw Ft}}return nt}}(ce)||_n(ce,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Ct=vt[1];ie=vt[0].getReader(),me=[],ie.read().then(function Me(We){var nt=We.value,st=We.done;if(Ot=Date.now(),nt&&nt.length){var Vt=Ot-je,Ft=nt.length;me.push({chunkDownloadTimeRelativeMS:Ot-S,chunkDownloadDurationMS:Vt,chunkBytes:Ft,kbps:Math.round(8*Ft/(Vt/1e3)),bufferLevel:b.getCurrentBufferLevel(Ie.mediaType)})}if(st){var pt=Ot-S,on=me.reduce(function(ln,cn){return ln+cn.chunkBytes},0);return P.addMeasurement(Ie,pt,me,le,fe,U),void V.progress({loaded:on,total:on,lengthComputable:!0,time:P.getEstimatedDownloadDurationMS(Ie),stream:!0})}return je=Date.now(),ie.read().then(Me)}),V.reader=Ct.getReader()}else V.reader=q.body.getReader();var hn=[],Le=[],it=[],Ne=!0;ne(V,function Me(We){var nt=We.value;if(We.done){if(Be){if(Te!==f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var st=null,Vt=null;Te===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(st=function(ln,cn){try{var bn,xn;bn=ln.filter(function(Tn,mn){return mn<ln.length-1}),xn=cn.filter(function(Tn,mn){return mn<cn.length-1});var Ln=[];if(bn.length>1){for(var On=0,lr=0,Qn=0;Qn<bn.length;Qn++)if(bn[Qn]&&xn[Qn]){var cr=xn[Qn].ts-bn[Qn].ts;if(cr>1)Ln.push(8*xn[Qn].bytes/cr),lr=0;else{0===lr&&(lr=bn[Qn].ts,On=0);var Pt=xn[Qn].ts-lr;Pt>1?(Ln.push(8*(On+=xn[Qn].bytes)/Pt),lr=0):On+=xn[Qn].bytes}}if(Ln.length>0)return Ln.reduce(function(Tn,mn){return Tn+mn},0)/Ln.length}return null}catch{return null}}(Le,it))&&(Vt=8*Pe/st):Te===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Vt=Q(hn,Pe)),V.progress({loaded:Pe,total:isNaN(we)?Pe:we,lengthComputable:!0,time:Vt,stream:!0})}V.response.response=Be.buffer}return V.onload(),void V.onend()}if(nt&&nt.length>0){Be=function(ln,cn){if(0===ln.length)return cn;var bn=new Uint8Array(ln.length+cn.length);return bn.set(ln),bn.set(cn,ln.length),bn}(Be,nt),Pe+=nt.length,hn.push({ts:Date.now(),bytes:nt.length}),Te===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ne&&C.findLastTopIsoBoxCompleted(["moof"],Be,Ue).found&&(Ne=!1,Le.push({ts:performance.now(),bytes:nt.length}));var Ft=C.findLastTopIsoBoxCompleted(["moov","mdat"],Be,Ue);if(Ft.found){var pt,on=Ft.lastCompletedOffset+Ft.size;Te!==f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||Ne||(Ne=!0,it.push({ts:performance.now(),bytes:Be.length})),on===Be.length?(pt=Be,Be=new Uint8Array):(pt=new Uint8Array(Be.subarray(0,on)),Be=Be.subarray(on)),V.progress({data:pt.buffer,lengthComputable:!1,noTrace:!0}),Ue=0}else Ue=Ft.lastCompletedOffset,Xe||(V.progress({lengthComputable:!1,noTrace:!0}),Xe=!0)}ne(V,Me)})}).catch(function(q){V.onerror&&V.onerror(q)})})}function ne(V,re){V.reader.read().then(re).catch(function(ee){V.onerror&&200===V.response.status&&V.onerror(ee)})}function Q(V,re){try{if((V=V.filter(function(ge){return ge.bytes>re/4/V.length})).length>1){var ee=0,Ie=(V[V.length-1].ts-V[0].ts)/V.length;return V.forEach(function(ge,Ee){var Ce=V[Ee+1];if(Ce){var te=Ce.ts-ge.ts;ee+=te<Ie?te:0}}),ee}return null}catch{return null}}return{load:function(V){F&&F.modifyRequest?(0,De.k)(V,F).then(function(){return J(V)}):J(V)},abort:function(V){if(V.abortController)V.abortController.abort();else if(V.reader)try{V.reader.cancel(),V.onabort()}catch{}},calculateDownloadedTime:Q,setup:function(V){b=V.dashMetrics}}}wn.__dashjs_factory_name="FetchLoader";var Xn=w.Z.getClassFactory(wn),Bn=H(1180);var _i=function(){function _(){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var b;return(b=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==d.Z.BASE_URL&&this.segmentInfoType!==d.Z.SEGMENT_BASE&&!this.indexRange}}])&&function br(_,p){for(var b=0;b<p.length;b++){var R=p[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}(_.prototype,b),_}(),Rr=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.period=null,this.index=-1,this.type=null},lo=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};lo.DEFAULT_ID="defaultId";var vi=lo,Vi=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},Eo=H(2610),ji=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},Bo=function _(p,b,R,F){(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=p||"",this.serviceLocation=b||p||"",this.dvb_priority=R||1,this.dvb_weight=F||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};Bo.DEFAULT_DVB_PRIORITY=1,Bo.DEFAULT_DVB_WEIGHT=1;var Xo=Bo,Ys=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},zt=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Ut=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};var dt=function(){function _(){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,_),this.schemeIdUri=null,this.value=null,this.id=null}var b;return(b=[{key:"init",value:function(R){return R&&(this.schemeIdUri=R.schemeIdUri?R.schemeIdUri:null,this.value=R.value?R.value:null,this.id=R.id?R.id:null),this}}])&&function Ht(_,p){for(var b=0;b<p.length;b++){var R=p[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}(_.prototype,b),_}(),Dt=H(3101),mt=H.n(Dt);function St(){return{areEqual:function(_,p){return mt()(_,p)}}}St.__dashjs_factory_name="ObjectUtils";var en=w.Z.getSingletonFactory(St),nn=H(7803),fn=function _(p,b){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=p||"",this.serviceLocation=b||null,this.queryParams={}},Sn=function _(p,b,R){(function(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=p||"",this.serviceLocation=b||null,this.ttl=R||NaN,this.queryParams={}};function rn(_,p){var b;if(typeof Symbol>"u"||null==_[Symbol.iterator]){if(Array.isArray(_)||(b=Lt(_))||p&&_&&"number"==typeof _.length){b&&(_=b);var R=0,F=function(){};return{s:F,n:function(){return R>=_.length?{done:!0}:{done:!1,value:_[R++]}},e:function(J){throw J},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,C=!0,B=!1;return{s:function(){b=_[Symbol.iterator]()},n:function(){var J=b.next();return C=J.done,J},e:function(J){B=!0,P=J},f:function(){try{C||null==b.return||b.return()}finally{if(B)throw P}}}}function Lt(_,p){if(_){if("string"==typeof _)return yn(_,p);var b=Object.prototype.toString.call(_).slice(8,-1);return"Object"===b&&_.constructor&&(b=_.constructor.name),"Map"===b||"Set"===b?Array.from(_):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?yn(_,p):void 0}}function yn(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,R=new Array(p);b<p;b++)R[b]=_[b];return R}function vn(){var _,p,b,R,F=this.context,P=(0,$e.Z)(F).getInstance(),C=Number.isInteger||function(S){return"number"==typeof S&&isFinite(S)&&Math.floor(S)===S};function B(S,q){if(!S)throw new Error("adaptation is not defined");if(!q)throw new Error("type is not defined");if(S.Representation_asArray&&S.Representation_asArray.length){var Z=Ee(S.Representation_asArray[0]);if(Z&&Z.length>0&&nn.Y.indexOf(Z[0].schemeIdUri)>=0)return q===f.Z.IMAGE}if(S.ContentComponent_asArray&&S.ContentComponent_asArray.length>0){if(S.ContentComponent_asArray.length>1)return q===f.Z.MUXED;if(S.ContentComponent_asArray[0].contentType===q)return!0}var U=q===f.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(q);if(S.Representation_asArray&&S.Representation_asArray.length&&U.test(S.Representation_asArray[0].codecs))return!0;if(S.hasOwnProperty(d.Z.MIME_TYPE))return U.test(S.mimeType);if(S.Representation_asArray)for(var se,ie=0;ie<S.Representation_asArray.length;ie++)if((se=S.Representation_asArray[ie]).hasOwnProperty(d.Z.MIME_TYPE))return U.test(se.mimeType);return!1}function J(S){if(!S)throw new Error("adaptation is not defined");if(S.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)||S.hasOwnProperty(d.Z.SEGMENT_TIMELINE)||S.hasOwnProperty(d.Z.SEGMENT_LIST)||S.hasOwnProperty(d.Z.SEGMENT_BASE))return!0;if(S.Representation_asArray&&S.Representation_asArray.length>0){var q=S.Representation_asArray[0];if(q.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)||q.hasOwnProperty(d.Z.SEGMENT_TIMELINE)||q.hasOwnProperty(d.Z.SEGMENT_LIST)||q.hasOwnProperty(d.Z.SEGMENT_BASE))return!0}return!1}function ne(S){return B(S,f.Z.VIDEO)}function Q(S){return B(S,f.Z.TEXT)}function V(S){return B(S,f.Z.IMAGE)}function re(S){return S&&Array.isArray(S.Representation_asArray)&&S.Representation_asArray.sort(function(q,Z){return q.bandwidth-Z.bandwidth}),S}function ee(S,q){return S&&S.Period_asArray&&C(q)&&S.Period_asArray[q]?S.Period_asArray[q].AdaptationSet_asArray:[]}function Ie(S){return S&&S.Period_asArray?S.Period_asArray:[]}function ge(S){var q=!1;return S&&S.hasOwnProperty("type")&&(q=S.type===d.Z.DYNAMIC),q}function Ee(S){return S&&S.EssentialProperty_asArray&&S.EssentialProperty_asArray.length?S.EssentialProperty_asArray.map(function(q){return{schemeIdUri:q.schemeIdUri,value:q.value}}):null}function Ce(S){if(!S||!S.S_asArray)return NaN;var q=S.S_asArray[0],Z=S.S_asArray[1];return q.hasOwnProperty("d")?q.d:Z.t-q.t}function te(S,q){if(!S)throw new Error("Period cannot be null or undefined");var Z=vi.DEFAULT_ID+"_"+q;return S.hasOwnProperty(d.Z.ID)&&S.id.length>0&&"__proto__"!==S.id&&(Z=S.id),Z}function Te(S,q,Z){var U,L=[];if(!S)return L;for(U=0;U<S.length;U++){var se=new Ys;if(se.timescale=1,se.representation=q,!S[U].hasOwnProperty(f.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");se.schemeIdUri=S[U].schemeIdUri,S[U].hasOwnProperty(d.Z.TIMESCALE)&&(se.timescale=S[U].timescale),S[U].hasOwnProperty(d.Z.VALUE)&&(se.value=S[U].value),L.push(se),se.period=Z}return L}function le(S){var q=[],U=!1;return(S.BaseURL_asArray||[S.baseUri]).some(function(L){if(L){var se=new Xo,ie=L.__text||L;return P.isRelative(ie)&&(U=!0,S.baseUri&&(ie=P.resolve(ie,S.baseUri))),se.url=ie,se.serviceLocation=L.hasOwnProperty(d.Z.SERVICE_LOCATION)&&L.serviceLocation.length?L.serviceLocation:ie,L.hasOwnProperty(d.Z.DVB_PRIORITY)&&(se.dvb_priority=L[d.Z.DVB_PRIORITY]),L.hasOwnProperty(d.Z.DVB_WEIGHT)&&(se.dvb_weight=L[d.Z.DVB_WEIGHT]),L.hasOwnProperty(d.Z.AVAILABILITY_TIME_OFFSET)&&(se.availabilityTimeOffset=L[d.Z.AVAILABILITY_TIME_OFFSET]),L.hasOwnProperty(d.Z.AVAILABILITY_TIME_COMPLETE)&&(se.availabilityTimeComplete="false"!==L[d.Z.AVAILABILITY_TIME_COMPLETE]),q.push(se),U}}),q}function fe(S){var q=new Ut;return q.serverUrl=S.__text,S.hasOwnProperty(d.Z.DEFAULT_SERVICE_LOCATION)&&(q.defaultServiceLocation=S[d.Z.DEFAULT_SERVICE_LOCATION],q.defaultServiceLocationArray=q.defaultServiceLocation.split(" ")),S.hasOwnProperty(d.Z.QUERY_BEFORE_START)&&(q.queryBeforeStart="true"===S[d.Z.QUERY_BEFORE_START].toLowerCase()),S.hasOwnProperty(d.Z.CLIENT_REQUIREMENT)&&(q.clientRequirement="false"!==S[d.Z.CLIENT_REQUIREMENT].toLowerCase()),q}return _={getIsTypeOf:B,getIsText:Q,getIsFragmented:J,getProducerReferenceTimesForAdaptation:function(S){var q=S&&S.hasOwnProperty(d.Z.PRODUCERREFERENCETIME_ASARRAY)?S[d.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(S&&S.hasOwnProperty(d.Z.REPRESENTATION_ASARRAY)?S[d.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(U){var L;U.hasOwnProperty(d.Z.PRODUCERREFERENCETIME_ASARRAY)&&q.push.apply(q,function(se){if(Array.isArray(se))return yn(se)}(L=U[d.Z.PRODUCERREFERENCETIME_ASARRAY])||function(se){if(typeof Symbol<"u"&&Symbol.iterator in Object(se))return Array.from(se)}(L)||Lt(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});var Z=[];return q.forEach(function(U){var L=new zt;U.hasOwnProperty(d.Z.ID)&&(L[d.Z.ID]=U[d.Z.ID],U.hasOwnProperty(d.Z.WALL_CLOCK_TIME)&&(L[d.Z.WALL_CLOCK_TIME]=U[d.Z.WALL_CLOCK_TIME],U.hasOwnProperty(d.Z.PRESENTATION_TIME)&&(L[d.Z.PRESENTATION_TIME]=U[d.Z.PRESENTATION_TIME],U.hasOwnProperty(d.Z.INBAND)&&(L[d.Z.INBAND]="false"!==U[d.Z.INBAND]),U.hasOwnProperty(d.Z.TYPE)&&(L[d.Z.TYPE]=U[d.Z.TYPE]),Z.push(L))))}),Z},getLanguageForAdaptation:function(S){var q="";return S&&S.hasOwnProperty(d.Z.LANG)&&(q=S.lang),q},getViewpointForAdaptation:function(S){return S&&S.hasOwnProperty(d.Z.VIEWPOINT_ASARRAY)&&S[d.Z.VIEWPOINT_ASARRAY].length?S[d.Z.VIEWPOINT_ASARRAY].map(function(q){return(new dt).init(q)}):[]},getRolesForAdaptation:function(S){return S&&S.hasOwnProperty(d.Z.ROLE_ASARRAY)&&S[d.Z.ROLE_ASARRAY].length?S[d.Z.ROLE_ASARRAY].map(function(q){return(new dt).init(q)}):[]},getAccessibilityForAdaptation:function(S){return S&&S.hasOwnProperty(d.Z.ACCESSIBILITY_ASARRAY)&&S[d.Z.ACCESSIBILITY_ASARRAY].length?S[d.Z.ACCESSIBILITY_ASARRAY].map(function(q){return(new dt).init(q)}):[]},getAudioChannelConfigurationForAdaptation:function(S){return S&&S.hasOwnProperty(d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&S[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?S[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(q){return(new dt).init(q)}):[]},getAudioChannelConfigurationForRepresentation:function(S){return S&&S.hasOwnProperty(d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&S[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?S[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(q){return(new dt).init(q)}):[]},getAdaptationForIndex:function(S,q,Z){var U=ee(q,Z);return U.length>0&&C(S)?U[S]:null},getIndexForAdaptation:function(S,q,Z){if(!S)return-1;for(var U=ee(q,Z),L=0;L<U.length;L++)if(en(F).getInstance().areEqual(U[L],S))return L;return-1},getAdaptationForId:function(S,q,Z){var U,L,se=ee(q,Z);for(U=0,L=se.length;U<L;U++)if(se[U].hasOwnProperty(d.Z.ID)&&se[U].id===S)return se[U];return null},getAdaptationsForType:function(S,q,Z){var U,L,se=ee(S,q),ie=[];for(U=0,L=se.length;U<L;U++)B(se[U],Z)&&ie.push(re(se[U]));return ie},getRealPeriods:Ie,getRealPeriodForIndex:function(S,q){var Z=Ie(q);return Z.length>0&&C(S)?Z[S]:null},getCodec:function(S,q,Z){var U=null;if(S&&S.Representation_asArray&&S.Representation_asArray.length>0){var L=C(q)&&q>=0&&q<S.Representation_asArray.length?S.Representation_asArray[q]:S.Representation_asArray[0];L&&(U=L.mimeType+';codecs="'+L.codecs+'"',Z&&void 0!==L.width&&(U+=';width="'+L.width+'";height="'+L.height+'"'))}return U&&(U=U.replace(/\sprofiles=[^;]*/g,"")),U},getSelectionPriority:function(S){try{var q=S&&void 0!==S.selectionPriority?parseInt(S.selectionPriority):1;return isNaN(q)?1:q}catch{return 1}},getMimeType:function(S){return S&&S.Representation_asArray&&S.Representation_asArray.length>0?S.Representation_asArray[0].mimeType:null},getKID:function(S){return S&&S.hasOwnProperty(d.Z.CENC_DEFAULT_KID)?S[d.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(S){if(!S||!Array.isArray(S.Label_asArray))return[];for(var q=[],Z=0;Z<S.Label_asArray.length;Z++)q.push({lang:S.Label_asArray[Z].lang,text:S.Label_asArray[Z].__text||S.Label_asArray[Z]});return q},getContentProtectionData:function(S){return S&&S.hasOwnProperty(d.Z.CONTENTPROTECTION_ASARRAY)&&0!==S.ContentProtection_asArray.length?S.ContentProtection_asArray:null},getIsDynamic:ge,getId:function(S){return S&&S[d.Z.ID]||null},hasProfile:function(S,q){var Z=!1;return S&&S.profiles&&S.profiles.length>0&&(Z=-1!==S.profiles.indexOf(q)),Z},getDuration:function(S){return S&&S.hasOwnProperty(d.Z.MEDIA_PRESENTATION_DURATION)?S.mediaPresentationDuration:S&&"dynamic"==S.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(S){return S&&S.bandwidth?S.bandwidth:NaN},getManifestUpdatePeriod:function(S){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Z=NaN;return S&&S.hasOwnProperty(d.Z.MINIMUM_UPDATE_PERIOD)&&(Z=S.minimumUpdatePeriod),isNaN(Z)?Z:Math.max(Z-q,1)},getPublishTime:function(S){return S&&S.hasOwnProperty(d.Z.PUBLISH_TIME)?new Date(S[d.Z.PUBLISH_TIME]):null},getRepresentationCount:function(S){return S&&Array.isArray(S.Representation_asArray)?S.Representation_asArray.length:0},getBitrateListForAdaptation:function(S){var q=re(S);return(q&&Array.isArray(q.Representation_asArray)?q.Representation_asArray:[]).map(function(Z){return{bandwidth:Z.bandwidth,width:Z.width||0,height:Z.height||0,scanType:Z.scanType||null,id:Z.id||null}})},getRepresentationFor:function(S,q){return q&&q.Representation_asArray&&q.Representation_asArray.length>0&&C(S)?q.Representation_asArray[S]:null},getRepresentationsForAdaptation:function(S){var q,Z,U,L,se=[],ie=function(Be){if(Be&&Be.period&&C(Be.period.index)){var Ue=Be.period.mpd.manifest.Period_asArray[Be.period.index];if(Ue&&Ue.AdaptationSet_asArray&&C(Be.index))return re(Ue.AdaptationSet_asArray[Be.index])}}(S);if(ie&&ie.Representation_asArray){if(S&&S.period&&C(S.period.index)){var me=le(S.period.mpd.manifest);me&&(Z=me[0])}for(var ce=0,G=ie.Representation_asArray.length;ce<G;++ce){var we=ie.Representation_asArray[ce],Pe=new _i;if(Pe.index=ce,Pe.adaptation=S,we.hasOwnProperty(d.Z.ID)&&(Pe.id=we.id),we.hasOwnProperty(d.Z.CODECS)&&(Pe.codecs=we.codecs),we.hasOwnProperty(d.Z.MIME_TYPE)&&(Pe.mimeType=we[d.Z.MIME_TYPE]),we.hasOwnProperty(d.Z.CODEC_PRIVATE_DATA)&&(Pe.codecPrivateData=we.codecPrivateData),we.hasOwnProperty(d.Z.BANDWITH)&&(Pe.bandwidth=we.bandwidth),we.hasOwnProperty(d.Z.WIDTH)&&(Pe.width=we.width),we.hasOwnProperty(d.Z.HEIGHT)&&(Pe.height=we.height),we.hasOwnProperty(d.Z.SCAN_TYPE)&&(Pe.scanType=we.scanType),we.hasOwnProperty(d.Z.MAX_PLAYOUT_RATE)&&(Pe.maxPlayoutRate=we.maxPlayoutRate),we.hasOwnProperty(d.Z.SEGMENT_BASE)?(q=we.SegmentBase,Pe.segmentInfoType=d.Z.SEGMENT_BASE):we.hasOwnProperty(d.Z.SEGMENT_LIST)?Pe.segmentInfoType=(q=we.SegmentList).hasOwnProperty(d.Z.SEGMENT_TIMELINE)?d.Z.SEGMENT_TIMELINE:d.Z.SEGMENT_LIST:we.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)?(Pe.segmentInfoType=(q=we.SegmentTemplate).hasOwnProperty(d.Z.SEGMENT_TIMELINE)?d.Z.SEGMENT_TIMELINE:d.Z.SEGMENT_TEMPLATE,q.hasOwnProperty(d.Z.INITIALIZATION_MINUS)&&(Pe.initialization=q.initialization.split("$Bandwidth$").join(we.bandwidth).split("$RepresentationID$").join(we.id))):Pe.segmentInfoType=d.Z.BASE_URL,Pe.essentialProperties=Ee(we),q){if(q.hasOwnProperty(d.Z.INITIALIZATION)){var Xe=q.Initialization;Xe.hasOwnProperty(d.Z.SOURCE_URL)&&(Pe.initialization=Xe.sourceURL),Xe.hasOwnProperty(d.Z.RANGE)&&(Pe.range=Xe.range)}else Q(ie)&&J(ie)&&ie.mimeType&&-1===ie.mimeType.indexOf("application/mp4")&&(Pe.range=0);q.hasOwnProperty(d.Z.TIMESCALE)&&(Pe.timescale=q.timescale),q.hasOwnProperty(d.Z.DURATION)?Pe.segmentDuration=q.duration/Pe.timescale:we.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)&&(q=we.SegmentTemplate).hasOwnProperty(d.Z.SEGMENT_TIMELINE)&&(Pe.segmentDuration=Ce(q.SegmentTimeline)/Pe.timescale),q.hasOwnProperty(d.Z.MEDIA)&&(Pe.media=q.media),q.hasOwnProperty(d.Z.START_NUMBER)&&(Pe.startNumber=q.startNumber),q.hasOwnProperty(d.Z.INDEX_RANGE)&&(Pe.indexRange=q.indexRange),q.hasOwnProperty(d.Z.PRESENTATION_TIME_OFFSET)&&(Pe.presentationTimeOffset=q.presentationTimeOffset/Pe.timescale),q.hasOwnProperty(d.Z.AVAILABILITY_TIME_OFFSET)?Pe.availabilityTimeOffset=q.availabilityTimeOffset:Z&&void 0!==Z.availabilityTimeOffset&&(Pe.availabilityTimeOffset=Z.availabilityTimeOffset),q.hasOwnProperty(d.Z.AVAILABILITY_TIME_COMPLETE)?Pe.availabilityTimeComplete="false"!==q.availabilityTimeComplete:Z&&void 0!==Z.availabilityTimeComplete&&(Pe.availabilityTimeComplete=Z.availabilityTimeComplete)}Pe.MSETimeOffset=(L=(U=Pe).presentationTimeOffset,U.adaptation.period.start-L),Pe.path=[S.period.index,S.index,ce],se.push(Pe)}}return se},getAdaptationsForPeriod:function(S){var q,Z,U,L=S&&C(S.index)?S.mpd.manifest.Period_asArray[S.index]:null,se=[];if(L&&L.AdaptationSet_asArray)for(U=0;U<L.AdaptationSet_asArray.length;U++)Z=L.AdaptationSet_asArray[U],q=new Rr,Z.hasOwnProperty(d.Z.ID)&&(q.id=Z.id),q.index=U,q.period=S,B(Z,f.Z.MUXED)?q.type=f.Z.MUXED:B(Z,f.Z.AUDIO)?q.type=f.Z.AUDIO:ne(Z)?q.type=f.Z.VIDEO:Q(Z)?q.type=f.Z.TEXT:V(Z)?q.type=f.Z.IMAGE:p.warn("Unknown Adaptation stream type"),se.push(q);return se},getRegularPeriods:function(S){var q,Z,U=!!S&&ge(S.manifest),L=[],se=null,ie=null,me=null,ce=null;for(Z=0,q=S&&S.manifest&&S.manifest.Period_asArray?S.manifest.Period_asArray.length:0;Z<q;Z++)(ie=S.manifest.Period_asArray[Z]).hasOwnProperty(d.Z.START)?(ce=new vi).start=ie.start:null!==se&&se.hasOwnProperty(d.Z.DURATION)&&null!==me?(ce=new vi).start=parseFloat((me.start+me.duration).toFixed(5)):0!==Z||U||((ce=new vi).start=0),null!==me&&isNaN(me.duration)&&(null!==ce?me.duration=parseFloat((ce.start-me.start).toFixed(5)):p.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==ce&&(ce.id=te(ie,Z),ce.index=Z,ce.mpd=S,ie.hasOwnProperty(d.Z.DURATION)&&(ce.duration=ie.duration),me&&(me.nextPeriodId=ce.id),L.push(ce),se=ie,me=ce),ie=null,ce=null;return 0===L.length||null!==me&&isNaN(me.duration)&&(me.duration=parseFloat((function(G){!function(){if(!b||!b.hasOwnProperty("error"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var we,Pe=ge(G.mpd.manifest);return G.mpd.manifest.mediaPresentationDuration?we=G.mpd.manifest.mediaPresentationDuration:G.duration?we=G.duration:Pe?we=Number.POSITIVE_INFINITY:b.error(new K.Z(ve.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",G)),we}(me)-me.start).toFixed(5))),L},getMpd:function(S){var q=new Vi;return S&&(q.manifest=S,S.hasOwnProperty(d.Z.AVAILABILITY_START_TIME)?q.availabilityStartTime=new Date(S.availabilityStartTime.getTime()):S.loadedTime&&(q.availabilityStartTime=new Date(S.loadedTime.getTime())),S.hasOwnProperty(d.Z.AVAILABILITY_END_TIME)&&(q.availabilityEndTime=new Date(S.availabilityEndTime.getTime())),S.hasOwnProperty(d.Z.MINIMUM_UPDATE_PERIOD)&&(q.minimumUpdatePeriod=S.minimumUpdatePeriod),S.hasOwnProperty(d.Z.MEDIA_PRESENTATION_DURATION)&&(q.mediaPresentationDuration=S.mediaPresentationDuration),S.hasOwnProperty(d.Z.SUGGESTED_PRESENTATION_DELAY)&&(q.suggestedPresentationDelay=S.suggestedPresentationDelay),S.hasOwnProperty(d.Z.TIMESHIFT_BUFFER_DEPTH)&&(q.timeShiftBufferDepth=S.timeShiftBufferDepth),S.hasOwnProperty(d.Z.MAX_SEGMENT_DURATION)&&(q.maxSegmentDuration=S.maxSegmentDuration),S.hasOwnProperty(d.Z.PUBLISH_TIME)&&(q.publishTime=new Date(S.publishTime))),q},getEventsForPeriod:function(S){var q,Z,U=S&&S.mpd&&S.mpd.manifest?S.mpd.manifest:null,L=U?U.Period_asArray:null,se=L&&S&&C(S.index)?L[S.index].EventStream_asArray:null,ie=[];if(se)for(q=0;q<se.length;q++){var me=new Ys;if(me.period=S,me.timescale=1,!se[q].hasOwnProperty(f.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(me.schemeIdUri=se[q][f.Z.SCHEME_ID_URI],se[q].hasOwnProperty(d.Z.TIMESCALE)&&(me.timescale=se[q][d.Z.TIMESCALE]),se[q].hasOwnProperty(d.Z.VALUE)&&(me.value=se[q][d.Z.VALUE]),se[q].hasOwnProperty(d.Z.PRESENTATION_TIME_OFFSET)&&(me.presentationTimeOffset=se[q][d.Z.PRESENTATION_TIME_OFFSET]),Z=0;se[q].Event_asArray&&Z<se[q].Event_asArray.length;Z++){var ce=se[q].Event_asArray[Z],G=new ji;G.presentationTime=0,G.eventStream=me,ce.hasOwnProperty(d.Z.PRESENTATION_TIME)&&(G.presentationTime=ce.presentationTime),G.calculatedPresentationTime=G.presentationTime/me.timescale+S.start-(me.presentationTimeOffset?me.presentationTimeOffset/me.timescale:0),ce.hasOwnProperty(d.Z.DURATION)&&(G.duration=ce.duration/me.timescale),G.id=ce.hasOwnProperty(d.Z.ID)?ce.id:null,G.messageData=ce.Signal&&ce.Signal.Binary?R.decodeArray(ce.Signal.Binary.toString()):ce.messageData||ce.__cdata||ce.__text,ie.push(G)}}return ie},getEssentialPropertiesForRepresentation:Ee,getEventStreamForAdaptationSet:function(S,q,Z){var U,L,se;return S&&S.Period_asArray&&q&&q.period&&C(q.period.index)&&(L=S.Period_asArray[q.period.index])&&L.AdaptationSet_asArray&&C(q.index)&&(se=L.AdaptationSet_asArray[q.index])&&(U=se.InbandEventStream_asArray),Te(U,null,Z)},getEventStreamForRepresentation:function(S,q,Z){var U,L,se,ie;return S&&S.Period_asArray&&q&&q.adaptation&&q.adaptation.period&&C(q.adaptation.period.index)&&(L=S.Period_asArray[q.adaptation.period.index])&&L.AdaptationSet_asArray&&C(q.adaptation.index)&&(se=L.AdaptationSet_asArray[q.adaptation.index])&&se.Representation_asArray&&C(q.index)&&(ie=se.Representation_asArray[q.index])&&(U=ie.InbandEventStream_asArray),Te(U,q,Z)},getUTCTimingSources:function(S){var q=ge(S),Z=!!S&&S.hasOwnProperty(d.Z.AVAILABILITY_START_TIME),U=S?S.UTCTiming_asArray:null,L=[];return(q||Z)&&U&&U.forEach(function(se){var ie=new Eo.Z;se.hasOwnProperty(f.Z.SCHEME_ID_URI)&&(ie.schemeIdUri=se.schemeIdUri,se.hasOwnProperty(d.Z.VALUE)&&(ie.value=se.value.toString(),L.push(ie)))}),L},getBaseURLsFromElement:le,getRepresentationSortFunction:function(){return function(S,q){return S.bandwidth-q.bandwidth}},getContentSteering:function(S){if(S&&S.hasOwnProperty(d.Z.CONTENT_STEERING_AS_ARRAY))return fe(S[d.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(S){return S&&S.hasOwnProperty(d.Z.LOCATION_AS_ARRAY)?S[d.Z.LOCATION_AS_ARRAY].map(function(q){var Z=q.__text||q,U=q.hasOwnProperty(d.Z.SERVICE_LOCATION)?q[d.Z.SERVICE_LOCATION]:null;return new fn(Z,U)}):[]},getPatchLocation:function(S){return S&&S.hasOwnProperty(d.Z.PATCH_LOCATION_AS_ARRAY)?S[d.Z.PATCH_LOCATION_AS_ARRAY].map(function(q){var Z=q.__text||q,U=q.hasOwnProperty(d.Z.SERVICE_LOCATION)?q[d.Z.SERVICE_LOCATION]:null,L=q.hasOwnProperty(d.Z.TTL)?1e3*parseFloat(q[d.Z.TTL]):NaN;return new Sn(Z,U,L)}):[]},getSuggestedPresentationDelay:function(S){return S&&S.hasOwnProperty(d.Z.SUGGESTED_PRESENTATION_DELAY)?S.suggestedPresentationDelay:null},getAvailabilityStartTime:function(S){return S&&S.hasOwnProperty(d.Z.AVAILABILITY_START_TIME)&&null!==S.availabilityStartTime?S.availabilityStartTime.getTime():null},getServiceDescriptions:function(S){var q=[];if(S&&S.hasOwnProperty(d.Z.SERVICE_DESCRIPTION)){var Z,U=rn(S.ServiceDescription_asArray);try{for(U.s();!(Z=U.n()).done;){var L=Z.value,se=null,ie=null,me=null,ce=null,G=null,we=null,Pe=null;for(var Xe in L)L.hasOwnProperty(Xe)&&(Xe===d.Z.ID?se=L[Xe]:Xe===d.Z.SERVICE_DESCRIPTION_SCOPE?ie=L[Xe].schemeIdUri:Xe===d.Z.SERVICE_DESCRIPTION_LATENCY?me={target:parseInt(L[Xe].target),max:parseInt(L[Xe].max),min:parseInt(L[Xe].min),referenceId:parseInt(L[Xe].referenceId)}:Xe===d.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?ce={max:parseFloat(L[Xe].max),min:parseFloat(L[Xe].min)}:Xe===d.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?G={mediaType:L[Xe].mediaType,max:parseInt(L[Xe].max),min:parseInt(L[Xe].min),target:parseInt(L[Xe].target),type:L[Xe].type,maxQualityDifference:parseInt(L[Xe].maxQualityDifference)}:Xe===d.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?we={mediaType:L[Xe].mediaType,max:parseInt(L[Xe].max),min:parseInt(L[Xe].min),target:parseInt(L[Xe].target)}:Xe===d.Z.CONTENT_STEERING&&(Pe=fe(L[Xe])));q.push({id:se,schemeIdUri:ie,latency:me,playbackRate:ce,operatingQuality:G,operatingBandwidth:we,contentSteering:Pe})}}catch(Be){U.e(Be)}finally{U.f()}}return q},getSegmentAlignment:function(S){return!(!S||!S.hasOwnProperty(d.Z.SEGMENT_ALIGNMENT))&&"true"===S[d.Z.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(S){return!(!S||!S.hasOwnProperty(d.Z.SUB_SEGMENT_ALIGNMENT))&&"true"===S[d.Z.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(S){var q={};if(S&&S.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var Z,U=rn(S.SupplementalProperty_asArray);try{for(U.s();!(Z=U.n()).done;){var L=Z.value;L.hasOwnProperty(f.Z.SCHEME_ID_URI)&&L.hasOwnProperty(d.Z.VALUE)&&(q[L[f.Z.SCHEME_ID_URI]]=L[d.Z.VALUE])}}catch(se){U.e(se)}finally{U.f()}}return q},getSupplementalPropertiesAsArrayForAdaptation:function(S){return S&&S.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&S.SupplementalProperty_asArray.length?S.SupplementalProperty_asArray.map(function(q){return(new dt).init(q)}):[]},getSupplementalPropertiesForRepresentation:function(S){var q={};if(S&&S.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var Z,U=rn(S.SupplementalProperty_asArray);try{for(U.s();!(Z=U.n()).done;){var L=Z.value;L.hasOwnProperty(f.Z.SCHEME_ID_URI)&&L.hasOwnProperty(d.Z.VALUE)&&(q[L[f.Z.SCHEME_ID_URI]]=L[d.Z.VALUE])}}catch(se){U.e(se)}finally{U.f()}}return q},getSupplementalPropertiesAsArrayForRepresentation:function(S){return S&&S.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&S.SupplementalProperty_asArray.length?S.SupplementalProperty_asArray.map(function(q){return(new dt).init(q)}):[]},setConfig:function(S){S&&(S.errHandler&&(b=S.errHandler),S.BASE64&&(R=S.BASE64))}},p=(0,D.Z)(F).getInstance().getLogger(_),_}vn.__dashjs_factory_name="DashManifestModel";var Vn=w.Z.getSingletonFactory(vn),tr=H(703);function _r(_,p){var b;if(typeof Symbol>"u"||null==_[Symbol.iterator]){if(Array.isArray(_)||(b=function(J,ne){if(J){if("string"==typeof J)return Fn(J,undefined);var Q=Object.prototype.toString.call(J).slice(8,-1);return"Object"===Q&&J.constructor&&(Q=J.constructor.name),"Map"===Q||"Set"===Q?Array.from(J):"Arguments"===Q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?Fn(J,undefined):void 0}}(_))||p&&_&&"number"==typeof _.length){b&&(_=b);var R=0,F=function(){};return{s:F,n:function(){return R>=_.length?{done:!0}:{done:!1,value:_[R++]}},e:function(J){throw J},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,C=!0,B=!1;return{s:function(){b=_[Symbol.iterator]()},n:function(){var J=b.next();return C=J.done,J},e:function(J){B=!0,P=J},f:function(){try{C||null==b.return||b.return()}finally{if(B)throw P}}}}function Fn(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,R=new Array(p);b<p;b++)R[b]=_[b];return R}function xt(){var _,p,b,R,F,P,C,B,J,ne,Q=this.context,V=(0,A.Z)(Q).getInstance(),re=(0,Ge.Z)(Q).getInstance();function ee(){b={pr:1,nor:null,st:null,sf:null,sid:"".concat(tr.Z.generateUuid()),cid:null},J={},B={},ne={},ge()}function Ie(){ge()}function ge(){if(P){var L=P.getStreamController();if(L&&"function"==typeof L.getActiveStream){var se=L.getActiveStream();se&&(C=se.getProcessors())}}}function Ee(L,se){var ie,me={},ce=_r(se);try{for(ce.s();!(ie=ce.n()).done;){var G=ie.value;L[G]&&(me[G]=L[G])}}catch(we){ce.e(we)}finally{ce.f()}return me}function Ce(L){var se=re.get().streaming.cmcd.enabledKeys;return L.filter(function(ie){return se.includes(ie)})}function te(L){try{return L.type===ut.w.MPD_TYPE?((ie=Te()).ot="m",ie):L.type===ut.w.MEDIA_SEGMENT_TYPE?(ne.hasOwnProperty(se=L.mediaType)||(ne[se]=!1),B.hasOwnProperty(se)||(B[se]=!1),J.hasOwnProperty(se)||(J[se]=!1),function(me){var ce,G=Te(),we=function(Ct){try{return parseInt(Ct.mediaInfo.bitrateList[Ct.quality].bandwidth/1e3)}catch{return null}}(me),Pe=function(Ct){try{return isNaN(Ct.duration)?NaN:Math.round(1e3*Ct.duration)}catch{return null}}(me),Xe=function(Ct){try{return 100*parseInt(R.getThroughputHistory().getSafeAverageThroughput(Ct)/100)}catch{return null}}(me.mediaType),Be=function(Ct){try{var hn=b.pr,Le=F.getCurrentBufferLevel(Ct);return isNaN(hn)||isNaN(Le)?null:100*parseInt(Le/hn*10)}catch{return null}}(me.mediaType),Ue=le(me.mediaType),je=function(Ct){try{var hn=R.getTopBitrateInfoFor(Ct);return Math.round(hn.bitrate/1e3)}catch{return null}}(me.mediaType),Ot=b.pr,vt=function(Ct){if(C&&0!==C.length){var hn,Le=_r(C);try{for(Le.s();!(hn=Le.n()).done;){var it=hn.value;if(it.getType()===Ct)return it.probeNextRequest()}}catch(Ne){Le.e(Ne)}finally{Le.f()}}}(me.mediaType);me.mediaType===f.Z.VIDEO&&(ce="v"),me.mediaType===f.Z.AUDIO&&(ce="a"),me.mediaType===f.Z.TEXT&&(ce="application/mp4"===me.mediaInfo.mimeType?"tt":"c");var wt=re.get().streaming.cmcd.rtp;return wt||(wt=function(Ct){try{var hn=P.getPlaybackRate();hn||(hn=1);var Le=Ct.quality,Ne=Ct.mediaInfo,Me=Ct.duration;if(!Ne)return NaN;var We=le(Ct.mediaType);0===We&&(We=500);var nt=Ne.bitrateList[Le].bandwidth*Me/1e3/(We/hn/1e3),st=re.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(re.get().streaming.cmcd.rtpSafetyFactor)?re.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(nt*st/100)+1)}catch{return NaN}}(me)),isNaN(wt)||(G.rtp=wt),vt&&(me.url!==vt.url?G.nor=encodeURIComponent(tr.Z.getRelativeUrl(me.url,vt.url)):vt.range&&(G.nrr=vt.range)),we&&(G.br=we),ce&&(G.ot=ce),isNaN(Pe)||(G.d=Pe),isNaN(Xe)||(G.mtp=Xe),isNaN(Be)||(G.dl=Be),isNaN(Ue)||(G.bl=Ue),isNaN(je)||(G.tb=je),isNaN(Ot)||1===Ot||(G.pr=Ot),J[me.mediaType]&&(G.bs=!0,J[me.mediaType]=!1),!B[me.mediaType]&&ne[me.mediaType]||(G.su=!0,B[me.mediaType]=!1,ne[me.mediaType]=!0),G}(L)):L.type===ut.w.INIT_SEGMENT_TYPE?((me=Te()).ot="i",me.su=!0,me):L.type===ut.w.OTHER_TYPE||L.type===ut.w.XLINK_EXPANSION_TYPE?function(){var me=Te();return me.ot="o",me}():L.type===ut.w.LICENSE?((ce=Te()).ot="k",ce):null}catch{return null}var ce,me,se,ie}function Te(){var L={},se=re.get().streaming.cmcd.cid?re.get().streaming.cmcd.cid:b.cid;return L.v=1,L.sid=re.get().streaming.cmcd.sid?re.get().streaming.cmcd.sid:b.sid,L.sid="".concat(L.sid),se&&(L.cid="".concat(se)),isNaN(b.pr)||1===b.pr||null===b.pr||(L.pr=b.pr),b.st&&(L.st=b.st),b.sf&&(L.sf=b.sf),L}function le(L){try{var se=F.getCurrentBufferLevel(L);return isNaN(se)?null:100*parseInt(10*se)}catch{return null}}function fe(L){try{b.pr=L.playbackRate}catch{}}function S(L){try{var se=_.getIsDynamic(L.data)?"l":"v",ie=L.protocol&&"MSS"===L.protocol?"s":"d";b.st="".concat(se),b.sf="".concat(ie)}catch{}}function q(L){try{L.state&&L.mediaType&&L.state===h.Z.BUFFER_EMPTY&&(J[L.mediaType]||(J[L.mediaType]=!0),B[L.mediaType]||(B[L.mediaType]=!0))}catch{}}function Z(){for(var L in J)J.hasOwnProperty(L)&&(J[L]=!0);for(var se in B)B.hasOwnProperty(se)&&(B[se]=!0)}function U(L){try{if(!L)return null;var se=Object.keys(L).sort(function(ce,G){return ce.localeCompare(G)}),ie=se.length,me=se.reduce(function(ce,G,we){return"v"===G&&1===L[G]||(ce+="string"==typeof L[G]&&"ot"!==G&&"sf"!==G&&"st"!==G?"".concat(G,"=").concat(JSON.stringify(L[G])):"".concat(G,"=").concat(L[G]),we<ie-1&&(ce+=",")),ce},"");return(me=me.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return p={getQueryParameter:function(L){try{if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var se=te(L),me=U(function(ce){try{var G=re.get().streaming.cmcd.enabledKeys;return Object.keys(ce).filter(function(we){return G.includes(we)}).reduce(function(we,Pe){return we[Pe]=ce[Pe],we},{})}catch{return ce}}(se));return V.trigger(Bn.Z.CMCD_DATA_GENERATED,{url:L.url,mediaType:L.mediaType,cmcdData:se,cmcdString:me}),{key:"CMCD",value:me}}return null}catch{return null}},getHeaderParameters:function(L){try{if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var se=te(L),ie=Ee(se,Ce(["br","d","ot","tb"])),me=Ee(se,Ce(["bl","dl","mtp","nor","nrr","su"])),ce=Ee(se,Ce(["bs","rtp"])),G=Ee(se,Ce(["cid","pr","sf","sid","st","v"])),we={"CMCD-Object":U(ie),"CMCD-Request":U(me),"CMCD-Status":U(ce),"CMCD-Session":U(G)};return V.trigger(Bn.Z.CMCD_DATA_GENERATED,{url:L.url,mediaType:L.mediaType,cmcdData:se,headers:we}),we}return null}catch{return null}},setConfig:function(L){L&&(L.abrController&&(R=L.abrController),L.dashMetrics&&(F=L.dashMetrics),L.playbackController&&(P=L.playbackController))},reset:function(){V.off(h.Z.PLAYBACK_RATE_CHANGED,fe,this),V.off(h.Z.MANIFEST_LOADED,S,this),V.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,q,p),V.off(h.Z.PLAYBACK_SEEKED,Z,p),ee()},initialize:function(){V.on(h.Z.PLAYBACK_RATE_CHANGED,fe,p),V.on(h.Z.MANIFEST_LOADED,S,p),V.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,q,p),V.on(h.Z.PLAYBACK_SEEKED,Z,p),V.on(h.Z.PERIOD_SWITCH_COMPLETED,Ie,p)}},_=Vn(Q).getInstance(),ee(),p}xt.__dashjs_factory_name="CmcdModel";var Zt=w.Z.getSingletonFactory(xt);function Jt(_){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function jn(_,p){jn=function(B,J){return new P(B,void 0,J)};var b=yr(RegExp),R=RegExp.prototype,F=new WeakMap;function P(B,J,ne){var Q=b.call(this,B,J);return F.set(Q,ne||F.get(B)),Q}function C(B,J){var ne=F.get(J);return Object.keys(ne).reduce(function(Q,V){return Q[V]=B[ne[V]],Q},Object.create(null))}return function zn(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),p&&ui(_,p)}(P,b),P.prototype.exec=function(B){var J=R.exec.call(this,B);return J&&(J.groups=C(J,this)),J},P.prototype[Symbol.replace]=function(B,J){if("string"==typeof J){var ne=F.get(this);return R[Symbol.replace].call(this,B,J.replace(/\$<([^>]+)>/g,function(V,re){return"$"+ne[re]}))}if("function"==typeof J){var Q=this;return R[Symbol.replace].call(this,B,function(){var V=[];return V.push.apply(V,arguments),"object"!==Jt(V[V.length-1])&&V.push(C(V,Q)),J.apply(this,V)})}return R[Symbol.replace].call(this,B,J)},jn.apply(this,arguments)}function yr(_){var p="function"==typeof Map?new Map:void 0;return yr=function(b){if(null===b||-1===Function.toString.call(b).indexOf("[native code]"))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==p){if(p.has(b))return p.get(b);p.set(b,F)}function F(){return Sr(b,arguments,qr(this).constructor)}return F.prototype=Object.create(b.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),ui(F,b)},yr(_)}function Sr(_,p,b){return(Sr=function Ri(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(R,F,P){var C=[null];C.push.apply(C,F);var B=new(Function.bind.apply(R,C));return P&&ui(B,P.prototype),B}).apply(null,arguments)}function ui(_,p){return(ui=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function qr(_){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var ti="dynamic",$s="cmsd-"+ti,Uo="stream",Zi=["mb","st","sf","v"],Bc={video:"v",audio:"a",text:"tt",stream:Uo},Uc=/^[-0-9]/;function Ci(){var _,p,b,R,F=this.context,P=(0,A.Z)(F).getInstance();function C(){b={},R={}}function B(ee){ee&&Object.keys(ee).forEach(function(Ie){Zi.includes(Ie)||delete ee[Ie]})}function J(ee){return!ee||"false"!==ee.toLowerCase()&&(Uc.test(ee)?parseInt(ee,10):ee.replace(/["]+/g,""))}function ne(ee){try{for(var Ie={},ge=ee.split(","),Ee=0;Ee<ge.length;Ee++){var Ce=ge[Ee].split("="),te=Ce[0],Te=J(Ce[1]);Ie[te]=Te}return Ie}catch(le){p.error("Failed to parse CMSD-Static response header value:",le)}}function Q(ee){try{for(var Ie={},ge=ee.split(","),Ee=ge[ge.length-1].split(";"),Ce=1;Ce<Ee.length;Ce++){var te=Ee[Ce].split("="),Te=te[0],le=J(te[1]);Ie[Te]=le}return Ie}catch(fe){return p.error("Failed to parse CMSD-Dynamic response header value:",fe),[]}}function V(ee){return Bc[ee]||"o"}function re(ee,Ie,ge){var Ee="static"===ee?b:R;return(Ee[Ie]||{})[ge]||(Ee[Uo]||{})[ge]}return _={setConfig:function(){},initialize:function(){},reset:function(){C()},parseResponseHeaders:function(ee,Ie){for(var ge=null,Ee=null,Ce=ee.split("\r\n"),te=Ce.length-1;te>=0;te--){var Te=Ce[te].match(jn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(Te&&Te.groups){var le=Te.groups.key.toLowerCase(),fe=Te.groups.value;switch(le){case"cmsd-static":ge=ne(fe),P.trigger(v.Z.CMSD_STATIC_HEADER,ge);break;case $s:Ee||(Ee=Q(fe))}}}var S=Uo;return ge&&ge.ot?S=ge.ot:Ie&&(S=V(Ie)),B(b[S]),B(R[S]),ge&&(b[S]=Object.assign(b[S]||{},ge)),Ee&&(R[S]=Object.assign(R[S]||{},Ee)),{static:ge,dynamic:Ee}},getMaxBitrate:function(ee){var Ie=V(ee);return re(ti,Ie,"mb")||-1},getEstimatedThroughput:function(ee){var Ie=V(ee);return re(ti,Ie,"etp")||null},getResponseDelay:function(ee){var Ie=V(ee);return re(ti,Ie,"rd")||null},getRoundTripTime:function(ee){var Ie=V(ee);return re(ti,Ie,"rtt")||null}},p=(0,D.Z)(F).getInstance().getLogger(_),C(),_}Ci.__dashjs_factory_name="CmsdModel";var To=w.Z.getSingletonFactory(Ci);function zi(){var _,p,b=this.context,R={};function F(){p=(0,D.Z)(b).getInstance().getLogger(_)}function P(B){for(var J={},ne=0,Q=0,V=0,re=0,ee=B.length,Ie=0;Ie<ee;++Ie)ne+=B[Ie].chunkDownloadTimeRelativeMS,Q+=B[Ie].bufferLevel,V+=B[Ie].chunkDownloadTimeRelativeMS*B[Ie].bufferLevel,re+=B[Ie].chunkDownloadTimeRelativeMS*B[Ie].chunkDownloadTimeRelativeMS;return J.m=(V-ne*Q/ee)/(re-ne*ne/ee),J.b=Q/ee-J.m*ne/ee,function(ge){return J.m*ge+J.b}}function C(B){var J,ne=!0,Q=B.reduce(function(V,re){return V+re.bufferLevelAtSegmentEnd},0)/B.length;return B.forEach(function(V){Math.abs(V.bufferLevelAtSegmentEnd/V.bufferLevelAtSegmentStart)<.95&&(ne=!1),V.bufferLevelAtSegmentEnd/Q<.8&&(ne=!1),J?J>V.bitrate&&(ne=!1):J=V.bitrate}),ne}return _={setup:F,addMeasurement:function(B,J,ne,Q,V){B&&B.mediaType&&!R[B.mediaType]&&(R[B.mediaType]=[]);var re=B.mediaInfo.bitrateList.find(function(ee){return ee.id===B.representationId});R[B.mediaType].push({index:B.index,repId:B.representationId,mediaType:B.mediaType,requestTimeMS:Q,adjustedAvailabilityStartTimeMS:B.availabilityStartTime.getTime(),segDurationMS:1e3*B.duration,chunksDurationMS:ne.reduce(function(ee,Ie){return ee+Ie.chunkDownloadDurationMS},0),segmentBytes:ne.reduce(function(ee,Ie){return ee+Ie.chunkBytes},0),bitrate:re&&re.bandwidth,bitrateList:B.mediaInfo.bitrateList,chunkMeasurements:ne,fetchDownloadDurationMS:J,throughputCapacityDelayMS:V,getEstimatedBufferLevel:P(ne.slice(1))}),R[B.mediaType].length>10&&R[B.mediaType].shift()},getThroughputCapacityDelayMS:function(B,J){var ne=R[B.mediaType]&&R[B.mediaType].slice(-3);return!ne||ne.length<3?0:C(ne)?J/4>250?250:J/4:0},getEstimatedDownloadDurationMS:function(B){var J=R[B.mediaType].slice(-1).pop(),ne=R[B.mediaType].slice(-3),Q=J.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;J.bufferLevelAtSegmentStart=J.getEstimatedBufferLevel(Q/2),J.bufferLevelAtSegmentEnd=J.getEstimatedBufferLevel(Q);var V=C(ne),re=V?.6:.8;if(J.isBufferStable&&1.05*J.segDurationMS<J.fetchDownloadDurationMS)return J.fetchDownloadDurationMS;if(!V||J.segDurationMS<J.fetchDownloadDurationMS||J.adjustedAvailabilityStartTimeMS<=J.requestTimeMS+J.throughputCapacityDelayMS-J.segDurationMS)return.8*J.fetchDownloadDurationMS;for(var ee=J.requestTimeMS+J.throughputCapacityDelayMS-J.adjustedAvailabilityStartTimeMS,Ie=0,ge=0,Ee=0,Ce=0;Ce<J.chunkMeasurements.length;Ce++){var te=J.chunkMeasurements[Ce];if(ee<ge+te.chunkDownloadDurationMS)break;ge+=te.chunkDownloadDurationMS,Ie+=te.chunkBytes,Ee++}if(ee<0&&p.warn("request time was before adjusted availibitly start time"),Ie&&ge&&Ee>.2*J.chunkMeasurements.length){var le=J.segmentBytes/(Ie/ge);return J.fetchDownloadDurationMS<le?J.fetchDownloadDurationMS*re:le*re}var fe=J.bitrate;return J.bitrateList.some(function(S){if(S.bandwidth>J.bitrate)return fe=S.bandwidth,!0}),fe===J.bitrate?J.fetchDownloadDurationMS*re:re*J.segmentBytes*8*1e3/fe}},F(),_}zi.__dashjs_factory_name="LowLatencyThroughputModel";var $n=w.Z.getSingletonFactory(zi),Kt=H(5717);function Dn(_,p,b){return p in _?Object.defineProperty(_,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[p]=b,_}function Gn(_){var p,b,R,F,P,C,B,J,ne,Q,V,re=this.context,ee=(_=_||{}).errHandler,Ie=_.dashMetrics,ge=_.mediaPlayerModel,Ee=_.requestModifier,Ce=_.boxParser,te=_.errors,Te=_.requestTimeout||0,le=(0,A.Z)(re).getInstance(),fe=(0,Ge.Z)(re).getInstance();function S(q,Z){var U,L=q.request,se=[],ie=!0,me=!0,ce=new Date,G=ce,we=0,Pe=null,Xe=null;if(!Ee||!Ie||!ee)throw new Error("config object is not correct or missing");var Be,Ue=function(We){L.requestStartDate=ce,L.requestEndDate=new Date,L.firstByteDate=L.firstByteDate||ce,L.fileLoaderType=Xe;var nt=U.response?U.response.responseURL:null,st=U.response?U.response.status:null,Vt=U.response&&U.response.getAllResponseHeaders?U.response.getAllResponseHeaders():U.response?U.response.responseHeaders:null,Ft=Vt&&fe.get().streaming.cmsd&&fe.get().streaming.cmsd.enabled?B.parseResponseHeaders(Vt,L.mediaType):null;Ie.addHttpRequest(L,nt,st,Vt,We?se:null,Ft)},je=function(We){me=!1,Ue(We),L.type===ut.w.MPD_TYPE&&(Ie.addManifestUpdate(L),le.trigger(v.Z.MANIFEST_LOADING_FINISHED,{request:L}))},Ot=function(){if(Pe&&(clearTimeout(Pe),Pe=null),-1!==b.indexOf(U)&&(b.splice(b.indexOf(U),1),me))if(je(!1),Z>0){try{fe.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&L.type===ut.w.MEDIA_SEGMENT_TYPE&&ge.getRetryAttemptsForType(ut.w.MEDIA_SEGMENT_TYPE)===Z&&le.trigger(v.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}Z--;var We={config:q};F.push(We),We.timeout=setTimeout(function(){-1!==F.indexOf(We)&&(F.splice(F.indexOf(We),1),S(q,Z))},ge.getRetryIntervalsForType(L.type))}else{if(L.type===ut.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;ee.error(new K.Z(P[L.type],L.url+" is not available",{request:L,response:U.response})),q.error&&q.error(L,"error",U.response.statusText,U.response),q.complete&&q.complete(L,U.response.statusText)}};L.hasOwnProperty("availabilityTimeComplete")&&!1===L.availabilityTimeComplete&&window.fetch&&"arraybuffer"===L.responseType&&L.type===ut.w.MEDIA_SEGMENT_TYPE?((Be=Xn(re).create({requestModifier:Ee,lowLatencyThroughputModel:ne,boxParser:Ce})).setup({dashMetrics:Ie}),Xe=f.Z.FILE_LOADER_TYPES.FETCH):(Be=(0,an.Z)(re).create({requestModifier:Ee}),Xe=f.Z.FILE_LOADER_TYPES.XHR);var vt=null,wt=Ee.modifyRequestURL?Ee.modifyRequestURL(L.url):L.url;if(fe.get().streaming.cmcd&&fe.get().streaming.cmcd.enabled){var Ct=fe.get().streaming.cmcd.mode;if(Ct===f.Z.CMCD_MODE_QUERY){var hn=function(We){try{var nt=[],st=C.getQueryParameter(We);return st&&nt.push(st),nt}catch{return[]}}(L);wt=tr.Z.addAditionalQueryParameterToUrl(wt,hn)}else Ct===f.Z.CMCD_MODE_HEADER&&(vt=C.getHeaderParameters(L))}var Le=J.getXHRWithCredentialsForType(L.type);if(L.queryParams){var it=Object.keys(L.queryParams).map(function(We){return{key:We,value:L.queryParams[We]}});wt=tr.Z.addAditionalQueryParameterToUrl(wt,it)}L.url=wt,U={url:wt,method:ut.w.GET,withCredentials:Le,request:L,onload:function(){U.response.status>=200&&U.response.status<=299&&(je(!0),q.success&&q.success(U.response.response,U.response.statusText,U.response.responseURL),q.complete&&q.complete(L,U.response.statusText))},onend:Ot,onerror:Ot,progress:function(We){var nt=new Date;ie&&(ie=!1,(!We.lengthComputable||We.lengthComputable&&We.total!==We.loaded)&&(L.firstByteDate=nt)),We.lengthComputable&&(L.bytesLoaded=We.loaded,L.bytesTotal=We.total),We.noTrace||(se.push({s:G,d:We.time?We.time:nt.getTime()-G.getTime(),b:[We.loaded?We.loaded-we:0]}),G=nt,we=We.loaded),Pe&&(clearTimeout(Pe),Pe=null),fe.get().streaming.fragmentRequestProgressTimeout>0&&(Pe=setTimeout(function(){Q.warn("Abort request "+U.url+" due to progress timeout"),U.response.onabort=null,U.loader.abort(U),Ot()},fe.get().streaming.fragmentRequestProgressTimeout)),q.progress&&We&&q.progress(We)},onabort:function(){Ue(!0),Pe&&(clearTimeout(Pe),Pe=null),q.abort&&q.abort(L)},ontimeout:function(We){var nt;nt=We.lengthComputable?"Request timeout: loaded: "+We.loaded+", out of: "+We.total+" : "+(We.loaded/We.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Q.warn(nt)},loader:Be,timeout:Te,headers:vt};var Ne=(new Date).getTime();if(isNaN(L.delayLoadingTime)||Ne>=L.delayLoadingTime)b.push(U),Be.load(U);else{var Me={httpRequest:U};R.push(Me),Me.delayTimeout=setTimeout(function(){if(-1!==R.indexOf(Me)){R.splice(R.indexOf(Me),1);try{G=ce=new Date,b.push(Me.httpRequest),Be.load(Me.httpRequest)}catch{Me.httpRequest.onerror()}}},L.delayLoadingTime-Ne)}}return p={load:function(q){q.request?S(q,ge.getRetryAttemptsForType(q.request.type)):q.error&&q.error(q.request,"error")},abort:function(){F.forEach(function(q){clearTimeout(q.timeout),q.config.request&&q.config.abort&&q.config.abort(q.config.request)}),F=[],R.forEach(function(q){return clearTimeout(q.delayTimeout)}),R=[],b.forEach(function(q){q.request.type!==ut.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(q.onloadend=q.onerror=q.onprogress=void 0,q.loader.abort(q))}),b=[]}},Q=(0,D.Z)(re).getInstance().getLogger(p),b=[],R=[],F=[],C=Zt(re).getInstance(),B=To(re).getInstance(),ne=$n(re).getInstance(),J=(0,Kt.Z)(re).getInstance(),Dn(V={},ut.w.MPD_TYPE,te.DOWNLOAD_ERROR_ID_MANIFEST_CODE),Dn(V,ut.w.XLINK_EXPANSION_TYPE,te.DOWNLOAD_ERROR_ID_XLINK_CODE),Dn(V,ut.w.INIT_SEGMENT_TYPE,te.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),Dn(V,ut.w.MEDIA_SEGMENT_TYPE,te.DOWNLOAD_ERROR_ID_CONTENT_CODE),Dn(V,ut.w.INDEX_SEGMENT_TYPE,te.DOWNLOAD_ERROR_ID_CONTENT_CODE),Dn(V,ut.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,te.DOWNLOAD_ERROR_ID_CONTENT_CODE),Dn(V,ut.w.OTHER_TYPE,te.DOWNLOAD_ERROR_ID_CONTENT_CODE),P=V,p}Gn.__dashjs_factory_name="HTTPLoader";var si=w.Z.getClassFactory(Gn);function Wr(){var _;function p(){_={}}function b(){p()}return b(),{getLoader:function(R){for(var F in _)if(_.hasOwnProperty(F)&&R.startsWith(F))return _[F];return si},registerLoader:function(R,F){_[R]=F},unregisterLoader:function(R){_[R]&&delete _[R]},unregisterAllLoader:p,reset:b}}Wr.__dashjs_factory_name="SchemeLoaderFactory";var nr=w.Z.getSingletonFactory(Wr);function Mr(_){_=_||{};var p,b,R=this.context;return p=nr(R).getInstance(),{load:function(F){if(!b){var P=p.getLoader(F&&F.request?F.request.url:null);b=P(R).create({errHandler:_.errHandler,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,dashMetrics:_.dashMetrics,boxParser:_.boxParser?_.boxParser:null,constants:_.constants?_.constants:null,dashConstants:_.dashConstants?_.dashConstants:null,urlUtils:_.urlUtils?_.urlUtils:null,requestTimeout:isNaN(_.requestTimeout)?0:_.requestTimeout,errors:_.errors})}b.load(F)},abort:function(){b&&b.abort()}}}Mr.__dashjs_factory_name="URLLoader";var Ar=w.Z.getClassFactory(Mr);function ai(_){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function jr(_,p){return(jr=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function Hn(_){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Qo=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&jr(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Hn(p);if(b){var B=Hn(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function wr(_,p){return!p||"object"!==ai(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(P){var C;return function(B,J){if(!(B instanceof J))throw new TypeError("Cannot call a class as a function")}(this,F),(C=R.call(this,P)).checkForExistenceOnly=!0,C}return F}(j.Z);function co(_){var p,b,F=(_=_||{}).eventBus,P=_.events,C=_.urlUtils,B=_.errors,J=_.streamId;return p={checkForExistence:function(ne){var Q=function(re){F.trigger(P.CHECK_FOR_EXISTENCE_COMPLETED,{request:ne,exists:re})};if(ne){var V=new Qo(ne.url);b.load({request:V,success:function(){Q(!0)},error:function(){Q(!1)}})}else Q(!1)},load:function(ne){var Q=function(V,re){F.trigger(P.LOADING_COMPLETED,{request:ne,response:V||null,error:re||null,sender:p})};ne?b.load({request:ne,progress:function(V){F.trigger(P.LOADING_PROGRESS,{request:ne,stream:V.stream,streamId:J}),V.data&&F.trigger(P.LOADING_DATA_PROGRESS,{request:ne,response:V.data||null,error:null,sender:p})},success:function(V){Q(V)},error:function(V,re,ee){Q(void 0,new K.Z(B.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ee,re))},abort:function(V){V&&F.trigger(P.LOADING_ABANDONED,{mediaType:V.mediaType,request:V,sender:p})}}):Q(void 0,new K.Z(B.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,B.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){b&&b.abort()},reset:function(){b&&(b.abort(),b=null)}},b=Ar(this.context).create({errHandler:_.errHandler,errors:B,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,urlUtils:C,constants:f.Z,boxParser:_.boxParser,dashConstants:_.dashConstants,requestTimeout:_.settings.get().streaming.fragmentRequestTimeout}),p}co.__dashjs_factory_name="FragmentLoader";var Ea=w.Z.getClassFactory(co);function ms(){return{modifyResponseAsync:function(_){return Promise.resolve(_)}}}ms.__dashjs_factory_name="SegmentResponseModifier";var Gt=w.Z.getSingletonFactory(ms);function gs(_){_=_||{};var p,b,R,F=this.context,P=(0,A.Z)(F).getInstance(),C=_.errHandler,B=_.mediaPlayerModel,J=_.dashMetrics,ne=(0,D.Z)(F).getInstance(),Q=Gt(F).getInstance(),V=_.streamInfo;function re(){return V.id}function ee(){for(var ge in R)R[ge].reset();R={}}function Ie(ge){if(ge.sender){var Ee=ge.request,Ce=ge.response,te=Ee.isInitializationRequest(),Te=Ee.mediaInfo.streamInfo;if(ge.error&&(Ee.mediaType===f.Z.AUDIO||Ee.mediaType===f.Z.VIDEO||Ee.mediaType===f.Z.TEXT&&Ee.mediaInfo.isFragmented)&&P.trigger(v.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:ge.request.serviceLocation}),Ce&&Te){var le=(fe=Ce,S=Ee,q=V.id,Z=ge.type!==v.Z.FRAGMENT_LOADING_PROGRESS,(U=new Nt).streamId=q,U.mediaInfo=S.mediaInfo,U.segmentType=S.type,U.start=S.startTime,U.duration=S.duration,U.end=U.start+U.duration,U.bytes=fe,U.index=S.index,U.quality=S.quality,U.representationId=S.representationId,U.endFragment=Z,U);Q.modifyResponseAsync(le).then(function(fe){P.trigger(te?v.Z.INIT_FRAGMENT_LOADED:v.Z.MEDIA_FRAGMENT_LOADED,{chunk:fe,request:Ee},{streamId:Te.id,mediaType:Ee.mediaType})}).catch(function(fe){b.error(fe),P.trigger(te?v.Z.INIT_FRAGMENT_LOADED:v.Z.MEDIA_FRAGMENT_LOADED,{chunk:le,request:Ee},{streamId:Te.id,mediaType:Ee.mediaType})})}else b.warn("No "+Ee.mediaType+" bytes to push or stream is inactive.")}var fe,S,q,Z,U}return b=ne.getLogger(p={getStreamId:re,getModel:function(ge){var Ee=R[ge];return Ee||(Ee=k(F).create({streamInfo:V,type:ge,dashMetrics:J,fragmentLoader:Ea(F).create({dashMetrics:J,mediaPlayerModel:B,errHandler:C,requestModifier:(0,De.Z)(F).getInstance(),settings:_.settings,boxParser:_.boxParser,eventBus:P,events:v.Z,errors:ve,dashConstants:_.dashConstants,urlUtils:_.urlUtils,streamId:re()}),debug:ne,eventBus:P,events:v.Z}),R[ge]=Ee),Ee},reset:function(){P.off(h.Z.FRAGMENT_LOADING_COMPLETED,Ie,this),P.off(h.Z.FRAGMENT_LOADING_PROGRESS,Ie,this),ee()}}),ee(),P.on(h.Z.FRAGMENT_LOADING_COMPLETED,Ie,p),P.on(h.Z.FRAGMENT_LOADING_PROGRESS,Ie,p),p}gs.__dashjs_factory_name="FragmentController";var rr=w.Z.getClassFactory(gs),Nr=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},Vc=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function gd(_){var p,b,R=this.context,F=_.streamInfo;function P(B){b.setTrackByIndex(B)}function C(){b&&b.reset()}return p={getStreamId:function(){return F.id},initialize:function(){b.addTracks();var B=b.getTracks();B&&B.length>0&&P(0)},provide:function(B,J){if("function"==typeof J){var Q,V=b.getCurrentTrack();if(!V||V.segmentDuration<=0||null==B)J(null);else{(Q=b.getThumbnailRequestForTime(B))&&(V.segmentDuration=Q.duration);var re=Math.floor(B%V.segmentDuration*V.tilesHor*V.tilesVert/V.segmentDuration),ee=new Nr;if(ee.width=Math.floor(V.widthPerTile),ee.height=Math.floor(V.heightPerTile),ee.x=Math.floor(re%V.tilesHor)*V.widthPerTile,ee.y=Math.floor(re/V.tilesHor)*V.heightPerTile,"readThumbnail"in V)return V.readThumbnail(B,function(ge){ee.url=ge,J(ee)});if(Q)ee.url=Q.url,V.segmentDuration=NaN;else{var Ie=Math.floor(B/V.segmentDuration);ee.url=(te=(0,g.vi)((ge=V).templateUrl,"Number",Ce=Ie+ge.startNumber),te=(0,g.vi)(te,"Time",(Ce-1)*ge.segmentDuration*ge.timescale),te=(0,g.vi)(te,"Bandwidth",ge.bandwidth),(0,g.eR)(te))}J(ee)}}var ge,Ce,te},setTrackByIndex:P,getCurrentTrackIndex:function(){return b.getCurrentTrackIndex()},getBitrateList:function(){var B=b.getTracks(),J=0;return B.map(function(ne){var Q=new Vc;return Q.mediaType=f.Z.IMAGE,Q.qualityIndex=J++,Q.bitrate=ne.bitrate,Q.width=ne.width,Q.height=ne.height,Q})},reset:C},C(),b=(0,nn.Z)(R).create({streamInfo:F,adapter:_.adapter,baseURLController:_.baseURLController,timelineConverter:_.timelineConverter,debug:_.debug,eventBus:_.eventBus,events:_.events,dashConstants:_.dashConstants,dashMetrics:_.dashMetrics,segmentBaseController:_.segmentBaseController}),p}gd.__dashjs_factory_name="ThumbnailController";var _d=w.Z.getClassFactory(gd),Ta=H(7417);function to(_){var p;_=_||{};var b=[],R=(0,A.Z)(this.context).getInstance(),F=_.updateEventName,P=_.addBlacklistEventName;function C(B){-1===b.indexOf(B)&&(b.push(B),R.trigger(F,{entry:B}))}return p={add:C,contains:function(B){return!!(b.length&&B&&B.length)&&-1!==b.indexOf(B)},reset:function(){b=[]}},P&&R.on(P,function(B){C(B.entry)},p),p}to.__dashjs_factory_name="BlackListController";var jc=w.Z.getClassFactory(to),vd=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT,f.Z.MUXED,f.Z.IMAGE];function yd(_){_=_||{};var p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ee,Ce,te,Te=this.context,le=(0,A.Z)(Te).getInstance(),fe=(0,$e.Z)(Te).getInstance(),S=_.manifestModel,q=_.mediaPlayerModel,Z=_.dashMetrics,U=_.manifestUpdater,L=_.adapter,se=_.timelineConverter,ie=_.capabilities,me=_.errHandler,ce=_.abrController,G=_.playbackController,we=_.eventController,Pe=_.mediaController,Xe=_.protectionController,Be=_.textController,Ue=_.videoModel,je=_.streamInfo,Ot=_.settings;function vt(Pt,Tn){return new Promise(function(mn,pn){nt(),Q=!0,Vt();var ht=Ue.getElement(),kt=[];vd.forEach(function(at){(at!==f.Z.TEXT||Pt)&&(at!==f.Z.VIDEO||!ht||ht&&/^VIDEO$/i.test(ht.nodeName))&&kt.push(wt(at,Pt))}),Promise.all(kt).then(function(){return at=Tn,new Promise(function(ze){var be={},rt=R.map(function(At){return At.createBufferSinks(at)});Promise.all(rt).then(function(At){At.forEach(function(tn){tn&&(be[tn.getType()]=tn)}),ze(be)}).catch(function(){ze(be)})});var at}).then(function(at){if(Q=!1,0===R.length){var ze="No streams to play.";me.error(new K.Z(ve.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ze,S.getValue())),b.fatal(ze)}else Ft();Pt&&Be.createTracks(je),mn(at)}).catch(function(at){pn(at)})})}function wt(Pt,Tn){var mn,pn=L.getAllMediaInfoForType(je,Pt),ht=[],kt=null;if(!pn||0===pn.length)return b.info("No "+Pt+" data."),Promise.resolve();Pt===f.Z.VIDEO&&(B=!0),Pt===f.Z.AUDIO&&(J=!0);for(var at=0,ze=pn.length;at<ze;at++)kt=pn[at],Pt===f.Z.TEXT&&kt.isEmbedded&&(Be.addEmbeddedTrack(je,kt),ht.push(kt)),Ct(kt)&&Pe.addTrack(kt);if(ht.length>0&&(Pe.setInitialMediaSettingsForType(Pt,je),Be.addMediaInfosToBuffer(je,Pt,ht)),0===(pn=pn.filter(function(rt){return!rt.isEmbedded})).length)return Promise.resolve();if(Pt===f.Z.IMAGE)return(re=_d(Te).create({streamInfo:je,adapter:L,baseURLController:_.baseURLController,timelineConverter:_.timelineConverter,debug:Ee,eventBus:le,events:v.Z,dashConstants:d.Z,dashMetrics:_.dashMetrics,segmentBaseController:_.segmentBaseController})).initialize(),Promise.resolve();le.trigger(v.Z.STREAM_INITIALIZING,{streamInfo:je,mediaInfo:kt}),Pe.setInitialMediaSettingsForType(Pt,je);var be=function(rt,At){var tn=rt&&rt.length>0?rt[0]:null,gn=V.getModel(tn?tn.type:null),Kn=tn?tn.type:null,Fr=tn?tn.mimeType:null,$i=tn?tn.isFragmented:null,Lr=Tt(Te).create({streamInfo:je,type:Kn,mimeType:Fr,timelineConverter:se,adapter:L,manifestModel:S,mediaPlayerModel:q,fragmentModel:gn,dashMetrics:_.dashMetrics,baseURLController:_.baseURLController,segmentBaseController:_.segmentBaseController,abrController:ce,playbackController:G,mediaController:Pe,textController:Be,errHandler:me,settings:Ot,boxParser:ge,segmentBlacklistController:ee});Lr.initialize(At,B,$i),R.push(Lr);for(var Pi=0;Pi<rt.length;Pi++)Lr.addMediaInfo(rt[Pi]);return Kn===f.Z.TEXT&&Be.addMediaInfosToBuffer(je,Kn,rt,gn),Lr}(pn,Tn);return(mn=Pe.getCurrentTrackFor(Pt,je.id))?(ce.updateTopQualityIndex(mn),be.selectMediaInfo(Pt===f.Z.TEXT&&mn.isEmbedded?pn[0]:mn)):Promise.resolve()}function Ct(Pt){var mn=Pt?Pt.type:null;return mn===f.Z.MUXED?(b.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),me.error(new K.Z(ve.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",S.getValue())),!1):!(mn!==f.Z.TEXT&&mn!==f.Z.IMAGE&&Pt.contentProtection&&!ie.supportsEncryptedMedia()&&(me.error(new K.Z(ve.CAPABILITY_MEDIAKEYS_ERROR_CODE,ve.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function hn(Pt){for(var Tn=R?R.length:0,mn=0;mn<Tn;mn++){var pn=R[mn].getFragmentModel();pn.abortRequests(),pn.resetInitialSettings(),R[mn].reset(!1,Pt)}Be&&Be.deactivateStream(je),R=[],P=!1,C=!1,Qn(!1),it(!1),le.trigger(v.Z.STREAM_DEACTIVATED,{streamInfo:je})}function Le(Pt){hn(Pt),F=!1,B=!1,J=!1,ne={},Q=!1,Ce=!1,te=[]}function it(Pt){Ce=Pt}function Ne(){return je?je.start:NaN}function Me(){return je?je.id:null}function We(){return je}function nt(){if(!Ue||!ce)throw new Error(f.Z.MISSING_CONFIG_ERROR)}function st(Pt){Pt.error&&(me.error(Pt.error),b.fatal(Pt.error.message))}function Vt(){if(we){var Pt=L.getEventsFor(je);Pt&&Pt.length>0&&we.addInlineEvents(Pt,je.id)}}function Ft(){for(var Pt=R.length,Tn=ne.audio||ne.video?new K.Z(ve.DATA_UPDATE_FAILED_ERROR_CODE,ve.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,mn=0;mn<Pt;mn++)if(R[mn].isUpdating()||Q)return;if(Xe){Xe.clearMediaInfoArray();for(var pn=0;pn<Pt&&R[pn];pn++){var ht=R[pn].getType(),kt=R[pn].getMediaInfo();if(ht===f.Z.AUDIO||ht===f.Z.VIDEO||ht===f.Z.TEXT&&kt.isFragmented){var at=R[pn].getMediaInfo();at&&Xe.initializeForMedia(at)}}Xe.handleKeySystemFromManifest()}Tn?me.error(Tn):F||(F=!0,Ue.waitForReadyState(f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){le.trigger(v.Z.STREAM_INITIALIZED,{streamInfo:je})}))}function pt(){var Pt=xn(),Tn=Pt.length;if(0!==Tn){for(var mn=0;mn<Tn;mn++)if(!Pt[mn].isBufferingCompleted()&&(Pt[mn].getType()===f.Z.AUDIO||Pt[mn].getType()===f.Z.VIDEO))return void b.debug("onBufferingCompleted - One streamProcessor has finished but",Pt[mn].getType(),"one is not buffering completed");b.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),C=!0,le.trigger(v.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:je},{streamInfo:je})}else b.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function on(Pt){ne[Pt.mediaType]=Pt.error,Ft()}function ln(Pt){we&&we.addInbandEvents(Pt.events,je.id)}function cn(Pt){return Pt&&Pt.type?bn(Pt.type):null}function bn(Pt){return Pt?xn().filter(function(Tn){return Tn.getType()===Pt})[0]:null}function xn(){for(var Pt,Tn,mn=[],pn=0;pn<R.length;pn++)(Pt=(Tn=R[pn]).getType())!==f.Z.AUDIO&&Pt!==f.Z.VIDEO&&Pt!==f.Z.TEXT||mn.push(Tn);return mn}function Ln(Pt,Tn){var mn=We(),pn=Tn.getStreamInfo();if(!pn||!mn)return!0;var ht=L.getAdaptationForType(pn.index,Pt,pn),kt=L.getAdaptationForType(mn.index,Pt,mn);return ht&&kt?!(!On(kt)&&On(ht)):!ht&&!kt}function On(Pt){return!!Pt&&!!(Pt.ContentProtection||Pt.Representation_asArray&&Pt.Representation_asArray.length>0&&Pt.Representation_asArray[0].ContentProtection)}function lr(Pt,Tn){var mn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Pt||!Pt.hasOwnProperty("getStreamInfo"))return!1;var pn=Pt.getStreamInfo(),ht=mn?mn.getStreamInfo():We();if(!pn||!ht)return!1;var kt=L.getAdaptationForType(pn.index,Tn,pn),at=L.getAdaptationForType(ht.index,Tn,ht);if(!kt||!at)return!kt&&!at;var ze=kt&&at&&kt.mimeType===at.mimeType,be=at.Representation_asArray.map(function(gn){return gn.codecs}),rt=kt.Representation_asArray.map(function(gn){return gn.codecs}),At=rt.some(function(gn){return be.indexOf(gn)>-1}),tn=rt.some(function(gn){return be.some(function(Kn){return ie.codecRootCompatibleWithCodec(Kn,gn)})});return At||tn&&ze}function Qn(Pt){Ie=Pt}function cr(){return Ie}return p={initialize:function(){le.on(v.Z.BUFFERING_COMPLETED,pt,p),le.on(v.Z.DATA_UPDATE_COMPLETED,on,p),le.on(v.Z.INBAND_EVENTS,ln,p),Xe&&(le.on(v.Z.KEY_ERROR,st,p),le.on(v.Z.SERVER_CERTIFICATE_UPDATED,st,p),le.on(v.Z.LICENSE_REQUEST_COMPLETE,st,p),le.on(v.Z.KEY_SYSTEM_SELECTED,st,p),le.on(v.Z.KEY_SESSION_CREATED,st,p),le.on(v.Z.KEY_STATUSES_CHANGED,st,p)),Be.initializeForStream(je),le.trigger(v.Z.STREAM_UPDATED,{streamInfo:je})},getStreamId:function(){return je?je.id:null},activate:function(Pt,Tn){return new Promise(function(mn,pn){if(!P)return cr()?(P=!0,le.trigger(v.Z.STREAM_ACTIVATED,{streamInfo:je}),void mn(Tn)):void(ht=Pt,kt=Tn,vt(ht,kt)).then(function(ht){P=!0,le.trigger(v.Z.STREAM_ACTIVATED,{streamInfo:je}),mn(ht)}).catch(function(ht){pn(ht)});var ht,kt;mn(Tn)})},deactivate:hn,getIsActive:function(){return P},getDuration:function(){return je?je.duration:NaN},getStartTime:Ne,getId:Me,getStreamInfo:We,getHasAudioTrack:function(){return J},getHasVideoTrack:function(){return B},startPreloading:function(Pt,Tn){return new Promise(function(mn,pn){cr()?pn():(b.info("[startPreloading] Preloading next stream with id ".concat(Me())),Qn(!0),vt(Pt,Tn).then(function(){for(var ht=0;ht<R.length&&R[ht];ht++)R[ht].setExplicitBufferingTime(Ne()),R[ht].getScheduleController().startScheduleTimer();mn()}).catch(function(){Qn(!1),pn()}))})},initializeForTextWithMediaSource:function(Pt){return new Promise(function(Tn,mn){wt(f.Z.TEXT,Pt).then(function(){return(pn=bn(f.Z.TEXT))?pn.createBufferSinks():Promise.resolve();var pn}).then(function(){Be.createTracks(je),Tn()}).catch(function(pn){mn(pn)})})},getThumbnailController:function(){return re},getBitrateListFor:function(Pt){if(nt(),Pt===f.Z.IMAGE)return re?re.getBitrateList():[];var Tn=function(mn){for(var pn=null,ht=0;ht<R.length;ht++)if((pn=R[ht]).getType()===mn)return pn.getMediaInfo();return null}(Pt);return ce.getBitrateList(Tn)},updateData:function(Pt){return new Promise(function(Tn){Q=!0,je=Pt,we&&Vt();for(var mn=[],pn=0,ht=R.length;pn<ht;pn++){var kt=R[pn],at=kt.getMediaInfo();mn.push(kt.updateStreamInfo(je));var ze=L.getAllMediaInfoForType(je,kt.getType());if(ze=ze.filter(function(At){return!At.isEmbedded})){kt.clearMediaInfoArray();for(var be=0;be<ze.length;be++){var rt=ze[be];kt.addMediaInfo(ze[be]),L.areMediaInfosEqual(at,rt)&&(ce.updateTopQualityIndex(rt),mn.push(kt.selectMediaInfo(rt)))}}}Promise.all(mn).then(function(){for(mn=[];te.length>0;){var At=te.pop(),tn=At.newMediaInfo,gn=cn(At.oldMediaInfo);if(!gn)return;mn.push(gn.prepareTrackSwitch()),mn.push(gn.selectMediaInfo(tn))}return Promise.all(mn)}).then(function(){Q=!1,Ft(),le.trigger(v.Z.STREAM_UPDATED,{streamInfo:je}),Tn()})})},reset:function(Pt){V&&(V.reset(),V=null),ce&&je&&ce.clearDataForStream(je.id),ee&&(ee.reset(),ee=null),Le(Pt),je=null,le.off(v.Z.DATA_UPDATE_COMPLETED,on,p),le.off(v.Z.BUFFERING_COMPLETED,pt,p),le.off(v.Z.INBAND_EVENTS,ln,p),Xe&&(le.off(v.Z.KEY_ERROR,st,p),le.off(v.Z.SERVER_CERTIFICATE_UPDATED,st,p),le.off(v.Z.LICENSE_REQUEST_COMPLETE,st,p),le.off(v.Z.KEY_SYSTEM_SELECTED,st,p),le.off(v.Z.KEY_SESSION_CREATED,st,p),le.off(v.Z.KEY_STATUSES_CHANGED,st,p))},getProcessors:xn,setMediaSource:function(Pt){return new Promise(function(Tn,mn){for(var pn=[],ht=0;ht<R.length;)Ct(R[ht].getMediaInfo())?(pn.push(R[ht].setMediaSource(Pt)),ht++):(R[ht].reset(),R.splice(ht,1));Promise.all(pn).then(function(){for(var kt=0;kt<R.length;kt++)R[kt].dischargePreBuffer();if(0===R.length){var at="No streams to play.";me.error(new K.Z(ve.MANIFEST_ERROR_ID_NOSTREAMS_CODE,at+"nostreams",S.getValue())),b.fatal(at)}Tn()}).catch(function(kt){b.error(kt),mn(kt)})})},isMediaCodecCompatible:function(Pt){var Tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return lr(Pt,f.Z.VIDEO,Tn)&&lr(Pt,f.Z.AUDIO,Tn)},isProtectionCompatible:function(Pt){return!Pt||Ln(f.Z.VIDEO,Pt)&&Ln(f.Z.AUDIO,Pt)},getPreloaded:cr,getIsEndedEventSignaled:function(){return Ce},setIsEndedEventSignaled:it,getAdapter:function(){return L},getHasFinishedBuffering:function(){return C},setPreloaded:Qn,startScheduleControllers:function(){for(var Pt=R.length,Tn=0;Tn<Pt&&R[Tn];Tn++)R[Tn].getScheduleController().startScheduleTimer()},prepareTrackChange:function(Pt){if(P&&je){C=!1;var Tn=Pt.newMediaInfo,mn=S.getValue();L.setCurrentMediaInfo(je.id,Tn.type,Tn);var pn=cn(Tn);if(pn){var ht=G.getTime();b.info("Stream -  Process track changed at current time "+ht),mn.refreshManifestOnSwitchTrack?(te.push(Pt),U.getIsUpdating()||(b.debug("Stream -  Refreshing manifest for switch track"),U.refreshManifest())):pn.selectMediaInfo(Tn).then(function(){Tn.type!==f.Z.VIDEO&&Tn.type!==f.Z.AUDIO||ce.updateTopQualityIndex(Tn),pn.prepareTrackSwitch()})}}},prepareQualityChange:function(Pt){var Tn=bn(Pt.mediaType);Tn&&Tn.prepareQualityChange(Pt)}},function(){try{Ee=(0,D.Z)(Te).getInstance(),b=Ee.getLogger(p),Le(),ge=(0,Ta.Z)(Te).getInstance(),ee=jc(Te).create({updateEventName:v.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:v.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),V=rr(Te).create({streamInfo:je,mediaPlayerModel:q,dashMetrics:Z,errHandler:me,settings:Ot,boxParser:ge,dashConstants:d.Z,urlUtils:fe})}catch(Pt){throw Pt}}(),p}yd.__dashjs_factory_name="Stream";var _s=w.Z.getClassFactory(yd),Ph=function _(p){(function(b,R){if(!(b instanceof R))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=p||null,this.type=ut.w.CONTENT_STEERING_TYPE,this.responseType="json"},Kr=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function wa(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge=this.context,Ee=(0,$e.Z)(ge).getInstance();function Ce(ce){S(ce,"baseUrl")}function te(ce){S(ce,"location")}function Te(ce){if(ce&&ce.request&&ce.request.serviceLocation&&ce.request.requestStartDate&&ce.request.requestEndDate&&!isNaN(ce.request.bytesTotal)){var G=ce.request.serviceLocation,we=ce.request.requestEndDate.getTime()-ce.request.requestStartDate.getTime();fe(G,parseInt(8*ce.request.bytesTotal/we*1e3))}}function le(ce){ce&&ce.httpRequest&&ce.httpRequest._serviceLocation&&!isNaN(ce.throughput)&&fe(ce.httpRequest._serviceLocation,1e3*ce.throughput)}function fe(ce,G){F[ce]||(F[ce]=[]),F[ce].push(G),F[ce].length>4&&F[ce].shift()}function S(ce,G){if(ce&&ce.request&&ce.request.serviceLocation){var we=ce.request.serviceLocation;-1===R[G].all.indexOf(we)&&R[G].all.push(we),R[G].current=we}}function q(){var ce=Q.getValue(),G=Ie.getContentSteering(ce);return G||(G=re.getServiceDescriptionSettings().contentSteering),G}function Z(){return new Promise(function(ce){try{var G=q();if(!G||!G.serverUrl)return void ce();var we=function(Xe){var Be=Xe.serverUrl;b&&b.reloadUri&&(Be=Ee.isRelative(b.reloadUri)?Ee.resolve(b.reloadUri,Xe.serverUrl):b.reloadUri);var Ue=[],je=R.baseUrl.all.concat(R.location.all);if(je.length>0){var Ot=je.map(function(Ct){return{serviceLocation:Ct,throughput:function(Le){if(!Le||!F[Le]||0===F[Le].length)return-1;var it=F[Le].reduce(function(Ne,Me){return Ne+Me})/F[Le].length;return parseInt(it)}(Ct)}});Ot.sort(function(Ct,hn){return hn.throughput-Ct.throughput});var vt="",wt="";Ot.forEach(function(Ct,hn){0!==hn&&(vt="".concat(vt,","),Ct.throughput>-1&&(wt="".concat(wt,","))),vt="".concat(vt).concat(Ct.serviceLocation),Ct.throughput>-1&&(wt="".concat(wt).concat(Ct.throughput))}),Ue.push({key:"_DASH_pathway",value:'"'.concat(vt,'"')}),Ue.push({key:"_DASH_throughput",value:wt})}return tr.Z.addAditionalQueryParameterToUrl(Be,Ue)}(G),Pe=new Ph(we);C.load({request:Pe,success:function(Xe){var Be;(Be=Xe)&&Be[d.Z.CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(Be[d.Z.CONTENT_STEERING_RESPONSE.VERSION])&&((b=new Kr).version=Be[d.Z.CONTENT_STEERING_RESPONSE.VERSION],Be[d.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Be[d.Z.CONTENT_STEERING_RESPONSE.TTL])&&(b.ttl=Be[d.Z.CONTENT_STEERING_RESPONSE.TTL]),Be[d.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(b.reloadUri=Be[d.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Be[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(b.pathwayPriority=Be[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Be[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(b.pathwayClones=Be[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],b.pathwayClones=b.pathwayClones.filter(function(Ue){return(je=Ue)[d.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&je[d.Z.CONTENT_STEERING_RESPONSE.ID]&&je[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&je[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.HOST];var je})),se()),ee.trigger(h.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:b,url:we}),ce()},error:function(Xe,Be,Ue,je){(function(Ot,vt){try{switch(p.warn("Error fetching data from content steering server",Ot),vt.status){case 410:break;case 429:var wt=vt&&vt.getResponseHeader?vt.getResponseHeader("retry-after"):null;null!==wt&&(b||(b={}),b.ttl=parseInt(wt)),se();break;default:se()}}catch(Ct){p.error(Ct)}})(Xe,je),ce(Xe)},complete:function(){R.baseUrl.all=U(R.baseUrl),R.location.all=U(R.location)}})}catch(Xe){ce(Xe)}})}function U(ce){return ce.all&&0!==ce.all.length&&ce.current?ce.all.filter(function(G){return G===ce.current}):[]}function L(ce){try{var G=[];return ce&&0!==ce.length&&b&&b.pathwayClones&&0!==b.pathwayClones.length&&b.pathwayClones.forEach(function(we){var Pe=ce.filter(function(Ot){return we[d.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===Ot.serviceLocation}),Xe=null;if(Pe&&Pe.length>0&&(Xe=Pe[0]),Xe){var Be=new URL(Xe.url),Ue=we[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.HOST];Ue=tr.Z.stringHasProtocol(Ue)?Ue:"".concat(Be.protocol,"//").concat(Ue);var je={synthesizedUrl:"".concat(Ue).concat(Be.pathname),serviceLocation:we[d.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:we[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Xe};G.push(je)}}),G}catch(we){return p.error(we),[]}}function se(){b&&b.ttl&&!isNaN(b.ttl)&&(P&&clearTimeout(P),P=setTimeout(function(){Z()},1e3*b.ttl))}function ie(){P&&clearTimeout(P),P=null}function me(){b=null,F={},R={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},ie()}return _={reset:function(){me(),ee.off(h.Z.FRAGMENT_LOADING_STARTED,Ce,_),ee.off(h.Z.MANIFEST_LOADING_STARTED,te,_),ee.off(h.Z.MANIFEST_LOADING_FINISHED,Te,_),ee.off(h.Z.THROUGHPUT_MEASUREMENT_STORED,le,_)},setConfig:function(ce){ce&&(ce.adapter&&(Ie=ce.adapter),ce.errHandler&&(B=ce.errHandler),ce.dashMetrics&&(J=ce.dashMetrics),ce.mediaPlayerModel&&(ne=ce.mediaPlayerModel),ce.requestModifier&&(V=ce.requestModifier),ce.manifestModel&&(Q=ce.manifestModel),ce.serviceDescriptionController&&(re=ce.serviceDescriptionController),ce.eventBus&&(ee=ce.eventBus))},loadSteeringData:Z,getCurrentSteeringResponseData:function(){return b},shouldQueryBeforeStart:function(){var ce=q();return!!ce&&ce.queryBeforeStart},getSteeringDataFromManifest:q,stopSteeringRequestTimer:ie,getSynthesizedBaseUrlElements:function(ce){try{return L(ce).map(function(G){var we=new Xo(G.synthesizedUrl,G.serviceLocation);return we.queryParams=G.queryParams,we.dvb_priority=G.reference.dvb_priority,we.dvb_weight=G.reference.dvb_weight,we.availabilityTimeOffset=G.reference.availabilityTimeOffset,we.availabilityTimeComplete=G.reference.availabilityTimeComplete,we})}catch(G){return p.error(G),[]}},getSynthesizedLocationElements:function(ce){try{return L(ce).map(function(G){var we=new fn(G.synthesizedUrl,G.serviceLocation);return we.queryParams=G.queryParams,we})}catch(G){return p.error(G),[]}},initialize:function(){C=Ar(ge).create({errHandler:B,dashMetrics:J,mediaPlayerModel:ne,requestModifier:V,errors:ve}),ee.on(h.Z.FRAGMENT_LOADING_STARTED,Ce,_),ee.on(h.Z.MANIFEST_LOADING_STARTED,te,_),ee.on(h.Z.MANIFEST_LOADING_FINISHED,Te,_),ee.on(h.Z.THROUGHPUT_MEASUREMENT_STORED,le,_)}},p=(0,D.Z)(ge).getInstance().getLogger(_),me(),_}wa.__dashjs_factory_name="ContentSteeringController";var Sa=w.Z.getSingletonFactory(wa);function Ws(){var _,p,b,R=this.context,F=(0,Ge.Z)(R).getInstance();return _={select:function(P){if(!P||0===P.length)return null;var B,J,C=null;return F.get().streaming.applyContentSteering&&(B=P,C=(J=b.getCurrentSteeringResponseData())&&J.pathwayPriority&&J.pathwayPriority.length>0?function(){for(var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],V=0,re=null,ee=function(){var Ie=ne[V],ge=Q.findIndex(function(Ee){return Ee.serviceLocation&&Ee.serviceLocation===Ie});if(-1!==ge&&!p.contains(Q[ge].serviceLocation))return re=Q[ge],"break";V+=1};V<ne.length&&"break"!==ee(););return re}(J.pathwayPriority,B):null),C||(C=function(B){return B[0]}(P)),C},setConfig:function(P){P.blacklistController&&(p=P.blacklistController),P.contentSteeringController&&(b=P.contentSteeringController)},reset:function(){p.reset()}},p=jc(R).create({updateEventName:v.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:v.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),b=Sa(R).getInstance(),_}Ws.__dashjs_factory_name="LocationSelector";var kh=w.Z.getClassFactory(Ws);function Jo(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie=this.context,ge=(0,A.Z)(Ie).getInstance(),Ee=(0,$e.Z)(Ie).getInstance();function Ce(){b=NaN,C=!1,F=!0,P=!1,te()}function te(){null!==R&&(clearTimeout(R),R=null)}function Te(ie){te(),P||(isNaN(ie)&&!isNaN(b)&&(ie=1e3*b),isNaN(ie)||(p.debug("Refresh manifest in "+ie+" milliseconds."),R=setTimeout(q,ie)))}function le(){var ie=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C=!0;var me=J.getValue(),ce=me.url,G=null,we=Q.getPatchLocation(me),Pe=ne.select(we),Xe=null;if(Pe&&!ie)ce=Pe.url,G=Pe.serviceLocation,Xe=Pe.queryParams;else{var Be=function fe(ie){var me=Q.getLocation(ie),ce=re.getSynthesizedLocationElements(me);return me.concat(ce)}(me),Ue=ne.select(Be);Ue&&(ce=Ue.url,G=Ue.serviceLocation,Xe=Ue.queryParams)}Ee.isRelative(ce)&&(ce=Ee.resolve(ce,me.url)),B.load(ce,G,Xe)}function S(ie){if(ie){if(Q.getIsPatch(ie)){var me=ie;ie=J.getValue();var ce=Q.isPatchValid(ie,me),G=ce;if(ce){var we=Q.getPublishTime(ie);G=Q.applyPatchToManifest(ie,me);var Pe=Q.getPublishTime(ie);G=we.getTime()!=Pe.getTime()}if(!G)return p.debug("Patch provided is invalid, performing full manifest refresh"),void le(!0);ie.loadedTime=new Date}}else(ie=J.getValue()).loadedTime=new Date;if(J.getValue()&&J.getValue().type===d.Z.DYNAMIC&&ie.type===d.Z.STATIC)return ge.trigger(v.Z.DYNAMIC_TO_STATIC),C=!1,void(P=!0);J.setValue(ie);var Xe=new Date,Be=(Xe.getTime()-ie.loadedTime.getTime())/1e3;1e3*(b=Q.getManifestUpdatePeriod(ie,Be))>2147483647&&(b=2147483.647),ge.trigger(v.Z.MANIFEST_UPDATED,{manifest:ie}),p.info("Manifest has been refreshed at "+Xe+"["+Xe.getTime()/1e3+"] "),F||Te()}function q(){F||(C?Te(ee.get().streaming.manifestUpdateRetryInterval):le())}function Z(ie){ie.error?ie.error.code===ve.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&V.error(ie.error):S(ie.manifest)}function U(){F=!1,Te()}function L(){(F=!ee.get().streaming.scheduling.scheduleWhilePaused)&&te()}function se(){C=!1}return _={initialize:function(){Ce(),ge.on(v.Z.STREAMS_COMPOSED,se,this),ge.on(h.Z.PLAYBACK_STARTED,U,this),ge.on(h.Z.PLAYBACK_PAUSED,L,this),ge.on(v.Z.INTERNAL_MANIFEST_LOADED,Z,this)},setManifest:function(ie){S(ie)},refreshManifest:le,getIsUpdating:function(){return C},setConfig:function(ie){ie&&(ie.manifestModel&&(J=ie.manifestModel),ie.adapter&&(Q=ie.adapter),ie.manifestLoader&&(B=ie.manifestLoader),ie.errHandler&&(V=ie.errHandler),ie.locationSelector&&(ne=ie.locationSelector),ie.settings&&(ee=ie.settings),ie.contentSteeringController&&(re=ie.contentSteeringController))},reset:function(){ge.off(h.Z.PLAYBACK_STARTED,U,this),ge.off(h.Z.PLAYBACK_PAUSED,L,this),ge.off(v.Z.STREAMS_COMPOSED,se,this),ge.off(v.Z.INTERNAL_MANIFEST_LOADED,Z,this),Ce()}},p=(0,D.Z)(Ie).getInstance().getLogger(_),ne=kh(Ie).create(),_}Jo.__dashjs_factory_name="ManifestUpdater";var bd=w.Z.getClassFactory(Jo);function wi(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ee=this.context,Ce=(0,A.Z)(Ee).getInstance(),te=(0,$e.Z)(Ee).getInstance();function Te(){B=[],J=[],ne=null,Q=null,re=null,V=NaN,b=!1,R=!1,ee=F.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function le(){F.get().streaming.utcSynchronization.enabled&&!b&&!R&&re&&re.value&&re.schemeIdUri&&!isNaN(V)&&!isNaN(F.get().streaming.utcSynchronization.backgroundAttempts)&&(Q&&(Date.now()-Q)/1e3<30||(B=[],R=!0,fe(isNaN(F.get().streaming.utcSynchronization.backgroundAttempts)?2:F.get().streaming.utcSynchronization.backgroundAttempts)))}function fe(Ue){try{if(Ue<=0)return void Xe();var je=Date.now();P[re.schemeIdUri](re.value,function(Ot){var vt=Date.now(),wt=q(je,vt,Ot);B.push(wt),fe(Ue-1)},function(){Xe()})}catch{Xe()}}function S(){var je=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!J||0===J.length||je>=J.length)Z();else{var Ot=J[je];if(Ot)if(P.hasOwnProperty(Ot.schemeIdUri)){var vt=(new Date).getTime();P[Ot.schemeIdUri](Ot.value,function(wt){var Ct=(new Date).getTime(),hn=q(vt,Ct,wt);re=Ot,Z(hn)},function(){S(je+1)})}else S(je+1);else Z()}}function q(Ue,je,Ot){return Ot-(je-(je-Ue)/2)}function Z(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,je=isNaN(Ue);je&&F.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function we(){var Ue=C.getLatestMPDRequestHeaderValueByID("Date"),je=null!==Ue?new Date(Ue).getTime():Number.NaN;isNaN(je)?Pe(!0):Pe(!1,je-Date.now())}():Pe(je,Ue)}function U(Ue){var vt,wt,Ct,je=Date.parse(Ue);return isNaN(je)&&(Ct=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Ue),vt=Date.UTC(parseInt(Ct[1],10),parseInt(Ct[2],10)-1,parseInt(Ct[3],10),parseInt(Ct[4],10),parseInt(Ct[5],10),Ct[6]&&(parseInt(Ct[6],10)||0),Ct[7]&&1e3*parseFloat(Ct[7])||0),Ct[9]&&Ct[10]&&(wt=60*parseInt(Ct[9],10)+parseInt(Ct[10],10),vt+=("+"===Ct[8]?-1:1)*wt*60*1e3),je=new Date(vt).getTime()),je}function L(Ue){return Date.parse(Ue)}function se(Ue){return Date.parse(Ue)}function ie(Ue,je,Ot){Ot()}function me(Ue,je,Ot){var vt=U(Ue);isNaN(vt)?Ot():je(vt)}function ce(Ue,je,Ot,vt,wt){var Ct,hn,Le=!1,it=new XMLHttpRequest,Ne=wt?ut.w.HEAD:ut.w.GET,Me=je.match(/\S+/g);if(je=Me.shift(),Ct=function(){Le||(Le=!0,Me.length?ce(Ue,Me.join(" "),Ot,vt,wt):vt())},hn=function(){var nt,st;200===it.status&&(nt=wt?it.getResponseHeader("Date"):it.response,st=Ue(nt),isNaN(st)||(Ot(st),Le=!0))},te.isRelative(je)){var We=ge.resolve();We&&(je=te.resolve(je,We.url))}it.open(Ne,je),it.timeout=5e3,it.onload=hn,it.onloadend=Ct,it.send()}function G(Ue,je,Ot){ce(se,Ue,je,Ot,!0)}function Pe(Ue,je){if(isNaN(V)||isNaN(je)||Ue||function(vt){try{var wt,Ct=Be(vt),hn=isNaN(ee)?30:ee,Le=isNaN(F.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:F.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,it=isNaN(F.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:F.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ne=isNaN(F.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:F.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Ct?(wt=Math.min(hn*Le,it),p.debug("Increasing timeBetweenSyncAttempts to ".concat(wt))):(wt=Math.max(hn/Le,Ne),p.debug("Decreasing timeBetweenSyncAttempts to ".concat(wt))),ee=wt}catch{}}(je),!Ue&&!isNaN(je)){ne=Date.now(),b=!1;var Ot=isNaN(V);V=je,Ot&&le(),p.debug("Completed UTC sync. Setting client - server offset to ".concat(je))}Ue&&(re=null,b=!1,Ie.error(new K.Z(ve.TIME_SYNC_FAILED_ERROR_CODE,ve.TIME_SYNC_FAILED_ERROR_MESSAGE))),Ce.trigger(v.Z.UPDATE_TIME_SYNC_OFFSET,{offset:je}),Ce.trigger(v.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Xe(){if(B&&0!==B.length){var Ue=B.reduce(function(je,Ot){return je+Ot},0)/B.length;Be(Ue)?p.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(p.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ue)),Ce.trigger(v.Z.UPDATE_TIME_SYNC_OFFSET,{offset:V=Ue})),R=!1,Q=Date.now()}}function Be(Ue){try{if(isNaN(V))return!0;var je=F.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(F.get().streaming.utcSynchronization.maximumAllowedDrift)?F.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ue>=V-je&&Ue<=V+je}catch{return!0}}return _={initialize:function(){Te(),P={"urn:mpeg:dash:utc:http-head:2014":G,"urn:mpeg:dash:utc:http-xsdate:2014":ce.bind(null,U),"urn:mpeg:dash:utc:http-iso:2014":ce.bind(null,L),"urn:mpeg:dash:utc:direct:2014":me,"urn:mpeg:dash:utc:http-head:2012":G,"urn:mpeg:dash:utc:http-xsdate:2012":ce.bind(null,U),"urn:mpeg:dash:utc:http-iso:2012":ce.bind(null,L),"urn:mpeg:dash:utc:direct:2012":me,"urn:mpeg:dash:utc:http-ntp:2014":ie,"urn:mpeg:dash:utc:ntp:2014":ie,"urn:mpeg:dash:utc:sntp:2014":ie}},attemptSync:function(Ue,je){J=Ue,b||(function(Ot){try{if(!Ot||!F.get().streaming.utcSynchronization.enabled)return!1;var vt=isNaN(ee)?30:ee;return!(ne&&vt&&!isNaN(vt))||(Date.now()-ne)/1e3>=vt}catch{return!0}}(je)?(b=!0,S()):Ce.trigger(v.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Ue){Ue&&(Ue.dashMetrics&&(C=Ue.dashMetrics),Ue.baseURLController&&(ge=Ue.baseURLController),Ue.errHandler&&(Ie=Ue.errHandler),Ue.settings&&(F=Ue.settings))},reset:function(){Te(),Ce.off(v.Z.ATTEMPT_BACKGROUND_SYNC,le,_)}},p=(0,D.Z)(Ee).getInstance().getLogger(_),Ce.on(v.Z.ATTEMPT_BACKGROUND_SYNC,le,_),_}wi.__dashjs_factory_name="TimeSyncController";var Jn=w.Z.getSingletonFactory(wi);Jn.HTTP_TIMEOUT_MS=5e3,w.Z.updateSingletonFactory(wi.__dashjs_factory_name,Jn);var S0=Jn;function n_(){var _,p,b,R;return _={createMediaSource:function(){var P="WebKitMediaSource"in window;return"MediaSource"in window?p=new MediaSource:P&&(p=new WebKitMediaSource),p},attachMediaSource:function(P){var C=window.URL.createObjectURL(p);return P.setSource(C),C},detachMediaSource:function(P){P.setSource(null)},setDuration:function P(C){p&&"open"===p.readyState&&(null===C&&isNaN(C)||p.duration!==C&&(C!==1/0||b.get().streaming.buffer.mediaSourceDurationInfinity||(C=Math.pow(2,32)),function(B){for(var J=B.sourceBuffers,ne=0;ne<J.length;ne++)if(J[ne].updating)return!0;return!1}(p)?setTimeout(P.bind(null,C),50):(R.info("Set MediaSource duration:"+C),p.duration=C)))},setSeekable:function(P,C){p&&"function"==typeof p.setLiveSeekableRange&&"function"==typeof p.clearLiveSeekableRange&&"open"===p.readyState&&P>=0&&P<C&&(p.clearLiveSeekableRange(),p.setLiveSeekableRange(P,C))},signalEndOfStream:function(P){if(P&&"open"===P.readyState){for(var C=P.sourceBuffers,B=0;B<C.length;B++)if(C[B].updating||0===C[B].buffered.length)return;R.info("call to mediaSource endOfStream"),P.endOfStream()}},setConfig:function(P){P&&P.settings&&(b=P.settings)}},R=(0,D.Z)(this.context).getInstance().getLogger(_),_}n_.__dashjs_factory_name="MediaSourceController";var C0=w.Z.getSingletonFactory(n_);function En(){var _,p,b,R,F,P,C,B,J,ne,Q,V="urn:mpeg:dash:event:2012",ee="updated",Ie="added",ge=this.context,Ee=(0,A.Z)(ge).getInstance();function Ce(){if(!C||!B)throw new Error("setConfig function has to be called previously")}function te(){Q=!1,b={},R={},F=null,ne=!1,P=Date.now()/1e3}function Te(){try{if(!ne){ne=!0;var ie=B.getTime(),me=ie-P;me=P>0?Math.max(0,me):0,le(R,me,ie),le(b,me,ie),fe(R),fe(b),P=ie,ne=!1}}catch(ce){ne=!1,p.error(ce)}}function le(ie,me,ce){try{U(ie,function(G){if(void 0!==G){var we=isNaN(G.duration)?0:G.duration;G.calculatedPresentationTime<=ce&&G.calculatedPresentationTime+me+we>=ce?se(G,h.Z.EVENT_MODE_ON_START):(L(ce,we+me,G.calculatedPresentationTime)||function(Pe){try{return Pe.calculatedPresentationTime>Pe.eventStream.period.start+Pe.eventStream.period.duration}catch(Be){return p.error(Be),!1}}(G))&&(p.debug("Removing event ".concat(G.id," from period ").concat(G.eventStream.period.id," as it is expired or invalid")),function(Pe,Xe){try{var Be=Xe.eventStream.schemeIdUri,Ue=Xe.eventStream.period.id,je=Xe.eventStream.value,Ot=Xe.id;Pe[Ue][Be]=Pe[Ue][Be].filter(function(vt){return je&&vt.eventStream.value&&vt.eventStream.value!==je||vt.id!==Ot}),0===Pe[Ue][Be].length&&delete Pe[Ue][Be]}catch(vt){p.error(vt)}}(ie,G))}})}catch(G){p.error(G)}}function fe(ie){try{for(var me in ie)ie.hasOwnProperty(me)&&0===Object.keys(ie[me]).length&&delete ie[me]}catch(ce){p.error(ce)}}function S(ie,me){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2],G=ie.eventStream.schemeIdUri,we=ie.eventStream.value,Pe=ie.id,Xe="discarded";me[G]||(me[G]=[]);var Be=me[G].findIndex(function(je){return(!we||je.eventStream.value&&je.eventStream.value===we)&&je.id===Pe});if(-1===Be)me[G].push(ie),ie.triggeredReceivedEvent=!1,ie.triggeredStartEvent=!1,Xe=Ie;else if(ce){var Ue=me[G][Be];ie.triggeredReceivedEvent=Ue.triggeredReceivedEvent,ie.triggeredStartEvent=Ue.triggeredStartEvent,me[G][Be]=ie,Xe=ee}return Xe}function q(ie){try{1==ie.eventStream.value&&Ee.trigger(h.Z.MANIFEST_VALIDITY_CHANGED,{id:ie.id,validUntil:ie.calculatedPresentationTime,newDuration:4294967295==ie.calculatedPresentationTime?NaN:ie.calculatedPresentationTime+ie.duration,newManifestValidAfter:NaN},{mode:h.Z.EVENT_MODE_ON_START})}catch(G){p.error(G)}}function Z(ie){try{var me=B.getTime();U(ie,function(ce){var G=ce.eventStream&&ce.eventStream.period&&!isNaN(ce.eventStream.period.duration)?ce.eventStream.period.duration:NaN,we=ce.eventStream&&ce.eventStream.period&&!isNaN(ce.eventStream.period.start)?ce.eventStream.period.start:NaN;isNaN(G)||isNaN(we)||Math.abs(ce.calculatedPresentationTime-me)<300&&se(ce,h.Z.EVENT_MODE_ON_START)})}catch(ce){p.error(ce)}}function U(ie,me){try{if(ie)for(var ce=Object.keys(ie),G=0;G<ce.length;G++)for(var we=ie[ce[G]],Pe=Object.keys(we),Xe=0;Xe<Pe.length;Xe++)we[Pe[Xe]].forEach(function(Be){void 0!==Be&&me(Be)})}catch(Be){p.error(Be)}}function L(ie,me,ce){try{return ie-me>ce}catch(G){return p.error(G),!1}}function se(ie,me){try{var ce=B.getTime(),G=ie.id;if(me===h.Z.EVENT_MODE_ON_RECEIVE&&!ie.triggeredReceivedEvent)return p.debug("Received event ".concat(G)),ie.triggeredReceivedEvent=!0,void Ee.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:me});ie.triggeredStartEvent||(ie.eventStream.schemeIdUri===V&&1==ie.eventStream.value?0===ie.duration&&0===ie.presentationTimeDelta||(p.debug("Starting manifest refresh event ".concat(G," at ").concat(ce)),function(){try{Ce(),C.refreshManifest()}catch(we){p.error(we)}}()):"urn:mpeg:dash:event:callback:2015"===ie.eventStream.schemeIdUri&&1==ie.eventStream.value?(p.debug("Starting callback event ".concat(G," at ").concat(ce)),function(we){try{(0,an.Z)(ge).create({}).load({method:"get",url:we,request:{responseType:"arraybuffer"}})}catch(Pe){p.error(Pe)}}(ie.messageData)):(p.debug("Starting event ".concat(G," from period ").concat(ie.eventStream.period.id," at ").concat(ce)),Ee.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:me})),ie.triggeredStartEvent=!0)}catch(we){p.error(we)}}return _={addInlineEvents:function(ie,me){try{if(Ce(),b[me]||(b[me]={}),ie)for(var ce=0;ce<ie.length;ce++){var G=ie[ce];if(!L(B.getTime(),isNaN(G.duration)?0:G.duration,G.calculatedPresentationTime)){var we=S(G,b[me],!0);we===Ie?(p.debug("Added inline event with id ".concat(G.id," from period ").concat(me)),se(G,h.Z.EVENT_MODE_ON_RECEIVE)):we===ee&&p.debug("Updated inline event with id ".concat(G.id," from period ").concat(me))}}}catch(Pe){throw Pe}},addInbandEvents:function(ie,me){try{Ce(),R[me]||(R[me]={});for(var ce=0;ce<ie.length;ce++){var G=ie[ce];L(B.getTime(),isNaN(G.duration)?0:G.duration,G.calculatedPresentationTime)||(S(G,R[me],!1)===Ie?(G.eventStream.schemeIdUri===V&&q(G),p.debug("Added inband event with id ".concat(G.id," from period ").concat(me)),se(G,h.Z.EVENT_MODE_ON_RECEIVE)):p.debug("Inband event with scheme_id_uri ".concat(G.eventStream.schemeIdUri,", value ").concat(G.eventStream.value,", period id ").concat(me," and event id ").concat(G.id," was ignored because it has been added before.")))}Te()}catch(we){throw we}},getInbandEvents:function(){return R},getInlineEvents:function(){return b},start:function(){try{Ce(),p.debug("Start Event Controller");var ie=J.get().streaming.eventControllerRefreshDelay;Q||isNaN(ie)||(Q=!0,F=setInterval(Te,ie))}catch(me){throw me}},setConfig:function(ie){try{if(!ie)return;ie.manifestUpdater&&(C=ie.manifestUpdater),ie.playbackController&&(B=ie.playbackController),ie.settings&&(J=ie.settings)}catch(me){throw me}},reset:function(){(function(){try{null!==F&&Q&&(clearInterval(F),F=null,Q=!1,function(){try{Z(R),Z(b)}catch(ie){p.error(ie)}}())}catch(ie){throw ie}})(),te()}},p=(0,D.Z)(ge).getInstance().getLogger(_),te(),_}En.__dashjs_factory_name="EventController";var I0=w.Z.getSingletonFactory(En),kr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Ga(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,R=new Array(p);b<p;b++)R[b]=_[b];return R}function Fh(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ee,Ce,te,Te,le,fe,S,q,Z,U,L,se,ie,me,ce,G,we,Pe,Xe,Be,Ue,je,Ot,vt,wt,Ct,hn,Le,it,Ne,Me,We,nt=this.context,st=(0,A.Z)(nt).getInstance();function Vt(){if(!(P&&P.hasOwnProperty("load")&&le&&le.hasOwnProperty("initialize")&&le.hasOwnProperty("reset")&&le.hasOwnProperty("getClientTimeOffset")&&C&&Te&&J&&we))throw new Error(f.Z.MISSING_CONFIG_ERROR)}function pt(){!function(){try{var _t=B.getStreamsInfo();if(!S&&0===_t.length)throw new Error("There are no periods in the MPD");S&&_t.length>0&&J.updateManifestUpdateInfo({currentTime:we.getTime(),buffered:G.getBufferRange(),presentationStartTime:_t[0].start,clientTimeOffset:le.getClientTimeOffset()}),fe.length>0&&(0!==(fr=_t).length?fe=fe.filter(function(qn){var Hr=fr.filter(function(Br){return Br.id===qn.getId()}).length>0||qn.getId()===S.getId();return Hr||(p.debug("Removing stream ".concat(qn.getId())),qn.reset(!0)),Hr}):p.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects."));for(var Yt=[],In=0,Un=_t.length;In<Un;In++){var ur=_t[In];Yt.push(ln(ur)),J.addManifestUpdateStreamInfo(ur)}Promise.all(Yt).then(function(){return new Promise(function(fr,qn){S?fr():cn(_t,fr,qn)})}).then(function(){st.trigger(v.Z.STREAMS_COMPOSED),gn()}).catch(function(fr){throw fr})}catch(fr){Te.error(new K.Z(ve.MANIFEST_ERROR_ID_NOSTREAMS_CODE,fr.message+" nostreamscomposed",C.getValue())),me=!0,ol()}var fr}()}function on(){it=!0}function ln(_t){var Yt=na(_t.id);return Yt?Yt.updateData(_t):(Yt=_s(nt).create({manifestModel:C,mediaPlayerModel:Xe,dashMetrics:J,manifestUpdater:F,adapter:B,timelineConverter:le,capabilities:b,capabilitiesFilter:R,errHandler:Te,baseURLController:re,segmentBaseController:ee,textController:Z,abrController:ge,playbackController:we,eventController:Ce,mediaController:Ee,protectionController:q,videoModel:G,streamInfo:_t,settings:Le}),fe.push(Yt),Yt.initialize(),Promise.resolve())}function cn(_t,Yt,In){try{ht();var Un=J.getCurrentDVRInfo().range;if(Un.end<Un.start){Ne&&clearTimeout(Ne);var ur=Math.min(1e3*(-1*(Un.end-Un.start)+2),2147483647);return p.debug("Waiting for ".concat(ur," ms before playback can start")),st.trigger(v.Z.AST_IN_FUTURE,{delay:ur}),void(Ne=setTimeout(function(){cn(_t,Yt,In)},ur))}Le.get().streaming.applyProducerReferenceTime&&Pe.calculateProducerReferenceTimeOffsets(_t);var fr=_t[0].manifestInfo;if(Le.get().streaming.applyServiceDescription&&Pe.applyServiceDescription(fr),B.getIsDynamic()){var qn=ta(_t,fr);we.computeAndSetLiveDelay(qn,fr)}(Le.get().streaming.applyContentSteering&&V.shouldQueryBeforeStart()?V.loadSteeringData():Promise.resolve()).then(function(){var Hr=C.getValue();Hr&&re.update(Hr),bn(),Yt()}).catch(function(Hr){p.error(Hr),bn(),Yt()})}catch(Hr){In(Hr)}}function bn(){var _t=function(){var Un;if(B.getIsDynamic()){var ur=J.getCurrentDVRInfo();Un=(ur&&ur.range?ur.range.end:0)-we.getOriginalLiveDelay();var fr=ur?ur.range:null;if(fr){if(isNaN(Me)&&-1===Me.toString().indexOf("posix:")){var qn=Pi(!0);isNaN(qn)||(p.info("Start time from URI parameters: ".concat(qn)),Un=Math.min(Un,qn))}else{p.info("Start time provided by the app: ".concat(Me));var Hr=Mi(!0,Me);isNaN(Hr)||(Un=Math.min(Un,Hr))}var Br=Le.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Un=Math.max(Un,fr.start+Br)}}else if(Un=al()[0].getStreamInfo().start,isNaN(Me)){var ks=Pi(!1);isNaN(ks)||(p.info("Start time from URI parameters: ".concat(ks)),Un=Math.max(Un,ks))}else{p.info("Start time provided by the app: ".concat(Me));var is=Mi(!1,Me);isNaN(is)||(Un=Math.max(Un,is))}return Un}(),Yt=pn(_t),In=null!==Yt?Yt:fe[0];st.trigger(v.Z.INITIAL_STREAM_SWITCH,{startTime:_t}),xn(In,null,_t),vt||(vt=setInterval(function(){!se&&we.getTimeToStreamEnd()<=0&&!we.isSeeking()&&st.trigger(v.Z.PLAYBACK_ENDED,{isLast:Vr().isLast})},200))}function xn(_t,Yt,In){try{if(se||!_t||Yt===_t&&_t.getIsActive())return;se=!0,st.trigger(v.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:Yt?Yt.getStreamInfo():null,toStreamInfo:_t.getStreamInfo()});var Un=!1;S=_t,Yt&&(Un=Tn(_t,Yt),Yt.deactivate(Un)),In=isNaN(In)?!Un&&Yt?_t.getStreamInfo().start:NaN:In,p.info("Switch to stream ".concat(_t.getId(),". Seektime is ").concat(In,", current playback time is ").concat(we.getTime(),". Seamless period switch is set to ").concat(Un)),Ct=Ct.filter(function(ur){return ur.getId()!==S.getId()}),we.initialize(Vr(),!!Yt),G.getElement()?Ln(In,Un,!1):On(In,Un)}catch{se=!1}}function Ln(_t,Yt){var In,Un=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function ur(){if(ce&&"open"===ce.readyState){p.debug("MediaSource is open!"),window.URL.revokeObjectURL(In),ce.removeEventListener("sourceopen",ur),ce.removeEventListener("webkitsourceopen",ur),Lr();var qn=J.getCurrentDVRInfo();ne.setSeekable(qn.range.start,qn.range.end),Un?(isNaN(_t)||we.seek(_t,!0,!0),S.setMediaSource(ce).then(function(){S.initializeForTextWithMediaSource(ce)})):On(_t,Yt)}}function fr(){ce.addEventListener("sourceopen",ur,!1),ce.addEventListener("webkitsourceopen",ur,!1),In=ne.attachMediaSource(G),p.debug("MediaSource attached to element.  Waiting on open...")}ce?Yt?On(_t,Yt):(ne.detachMediaSource(G),fr()):(ce=ne.createMediaSource(),fr())}function On(_t,Yt){S.activate(ce,Yt?wt:void 0,_t).then(function(In){if(In){var Un=Object.keys(In);Un.length>0&&In[Un[0]].getBuffer().changeType&&(hn=!0),wt=In}isNaN(_t)||(st.trigger(v.Z.SEEK_TARGET,{time:_t},{streamId:S.getId()}),we.seek(_t,!1,!0),S.startScheduleControllers()),se=!1,st.trigger(v.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Vr()})})}function lr(_t){var In,Un,ur,fr,Yt=pn(_t.seekTime);Yt&&Yt!==S?Yt&&Yt!==S&&(Qn(),Un=Yt,ur=(In=_t)&&!isNaN(In.seekTime)?In.seekTime:NaN,fr=S.getProcessors().map(function(qn){return qn.prepareOuterPeriodPlaybackSeeking(In)}),Promise.all(fr).then(function(){xn(Un,S,ur)}).catch(function(qn){Te.error(qn)})):(Qn(),function(In){S.getProcessors().forEach(function(Un){return Un.prepareInnerPeriodPlaybackSeeking(In)}),Ps(qe.USER_REQUEST_STOP_REASON)}(_t)),Ei(Fe.SEEK_START_REASON)}function Qn(){cr()}function cr(){Ct&&Ct.length>0&&(Ct.forEach(function(_t){_t.deactivate(!0)}),Ct=[])}function Pt(_t){if(_t.newMediaInfo.streamInfo.id===S.getId()){if(cr(),Le.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&_t.oldMediaInfo&&_t.oldMediaInfo.codec!==_t.newMediaInfo.codec){var Yt=we.getTime();return S.deactivate(!1),void Ln(Yt,!1,!1)}S.prepareTrackChange(_t)}}function Tn(_t,Yt){try{return Le.get().streaming.buffer.reuseExistingSourceBuffers&&(Yt.isProtectionCompatible(_t)||it)&&(hn&&Le.get().streaming.buffer.useChangeTypeForTrackSwitch||Yt.isMediaCodecCompatible(_t,Yt))}catch{return!1}}function mn(_t){var Yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ce&&!_t.getPreloaded()&&Tn(_t,Yt)&&_t.startPreloading(ce,wt).then(function(){Ct.push(_t)})}function pn(_t){if(isNaN(_t))return null;for(var Yt=fe.length,In=0;In<Yt;In++){var Un=fe[In];if(_t<parseFloat((Un.getStartTime()+Un.getDuration()).toFixed(5)))return Un}return null}function ht(){try{var _t=B.getIsDynamic(),Yt=B.getStreamsInfo()[0].manifestInfo,In=we.getTime(),Un=le.calcTimeShiftBufferWindow(fe,_t),ur=Fr();if(void 0===Un.start||void 0===Un.end)return;ur&&0!==ur.length?ur.forEach(function(fr){J.addDVRInfo(fr.getType(),In,Yt,Un)}):J.addDVRInfo(f.Z.VIDEO,In,Yt,Un)}catch{}}function kt(_t){if(je&&L){var Yt=Xe.getInitialBufferLevel(),In=[f.Z.TEXT];(isNaN(Yt)||Yt<=we.getBufferLevel(In)||B.getIsDynamic()&&Yt>we.getLiveDelay())&&(je=!1,Ei(Fe.INITIAL_PLAYOUT_START_REASON),we.play())}_t&&_t.mediaType&&J.addBufferLevel(_t.mediaType,new Date,1e3*_t.bufferLevel)}function at(_t){_t.streamInfo.id===S.getId()&&_t.reason&&_t.reason.forceReplace&&cr(),na(_t.streamInfo.id).prepareQualityChange(_t)}function ze(){if(B.getIsDynamic()&&0!==we.getOriginalLiveDelay()&&S){var _t=B.getStreamsInfo();if(_t.length>0){var Yt=_t[0].manifestInfo,In=ta(_t,Yt);we.computeAndSetLiveDelay(In,Yt)}}}function be(){if(rs()){var _t=G.getPlaybackQuality();_t&&J.addDroppedFrames(_t)}}function rt(){p.debug("[onPlaybackStarted]"),!je&&Ue&&Ei(Fe.RESUME_FROM_PAUSE_START_REASON),je&&(je=!1),Ot&&(Ot=!1,Le.get().streaming.applyContentSteering&&!V.shouldQueryBeforeStart()&&V.loadSteeringData()),Ue=!1}function At(_t){p.debug("[onPlaybackPaused]"),_t.ended||(Ue=!0,Ps(qe.USER_REQUEST_STOP_REASON))}function tn(_t){p.debug("Stream with id ".concat(_t.streamInfo.id," finished buffering")),ce&&_t.streamInfo.isLast?(p.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),ne.signalEndOfStream(ce)):gn()}function gn(){if(S&&S.getHasFinishedBuffering())for(var _t=function(){var ur=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var fr=ur||S||null;if(fr){var qn=fr.getStreamInfo();return fe.filter(function(Hr){var Br=Hr.getStreamInfo();return Br.start>qn.start&&qn.id!==Br.id})}}catch{return[]}}(S),Yt=0;Yt<_t.length;){var In=_t[Yt],Un=0===Yt?S:_t[Yt-1];!In.getPreloaded()&&Un.getHasFinishedBuffering()&&ce&&mn(In,Un),Yt+=1}}function Kn(){vt&&(clearInterval(vt),vt=null)}function Fr(){return S?S.getProcessors():[]}function $i(_t){if(S&&!S.getIsEndedEventSignaled()){S.setIsEndedEventSignaled(!0);var Yt=function(){var Un=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||S||null;if(!Un)return null;for(var ur=Un.getStreamInfo(),fr=ur.start,qn=0,Hr=-1,Br=NaN;qn<fe.length;){var ks=fe[qn].getStreamInfo(),is=ks.start-fr;is>0&&(isNaN(Br)||is<Br)&&ur.id!==ks.id&&(Br=is,Hr=qn),qn+=1}return Hr>=0?fe[Hr]:null}();Yt?(p.debug("StreamController onEnded, found next stream with id ".concat(Yt.getStreamInfo().id,". Switching from ").concat(S.getStreamInfo().id," to ").concat(Yt.getStreamInfo().id)),xn(Yt,S,NaN)):(p.debug("StreamController no next stream found"),S.setIsEndedEventSignaled(!1)),Ps(Yt?qe.END_OF_PERIOD_STOP_REASON:qe.END_OF_CONTENT_STOP_REASON)}_t&&_t.isLast&&(Kn(),V.stopSteeringRequestTimer())}function Lr(_t){var Yt=_t||Vr().manifestInfo.duration;ne.setDuration(Yt)}function Pi(_t){var Yt=Ie.getURIFragmentData();if(!Yt||!Yt.t)return NaN;var In=al()[0].getStreamInfo().start;return Yt.t=Yt.t.split(",")[0],ys(_t,Yt.t,In)}function Mi(_t,Yt){var In=0;return _t||(In=al()[0].getStreamInfo().start),ys(_t,Yt,In)}function ys(_t,Yt,In){var Un=B.getRegularPeriods()[0],ur=Yt.toString(),fr=-1!==ur.indexOf("posix:")?"now"===ur.substring(6)?Date.now()/1e3:parseFloat(ur.substring(6)):NaN;return _t&&!isNaN(fr)?le.calcPresentationTimeFromWallTime(new Date(1e3*fr),Un):parseFloat(ur)+In}function ta(_t,Yt){try{var In=NaN;if(Yt&&!isNaN(Yt.maxFragmentDuration)&&isFinite(Yt.maxFragmentDuration))return Yt.maxFragmentDuration;if(_t&&1===_t.length){var Un=_t[0],ur=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT].reduce(function(qn,Hr){var Br=B.getMediaInfoForType(Un,Hr);return Br&&!1!==Br.isFragmented&&qn.push(Br),qn},[]).reduce(function(qn,Hr){var Br=B.getVoRepresentations(Hr);return Br&&Br.length>0&&Br.forEach(function(ks){ks&&qn.push(ks)}),qn},[]).reduce(function(qn,Hr){var Br=B.convertRepresentationToRepresentationInfo(Hr);return Br&&Br.fragmentDuration&&!isNaN(Br.fragmentDuration)&&qn.push(Br.fragmentDuration),qn},[]);In=Math.max.apply(Math,function(qn){if(Array.isArray(qn))return Ga(qn)}(fr=ur)||function(qn){if(typeof Symbol<"u"&&Symbol.iterator in Object(qn))return Array.from(qn)}(fr)||function(qn,Hr){if(qn){if("string"==typeof qn)return Ga(qn,undefined);var Br=Object.prototype.toString.call(qn).slice(8,-1);return"Object"===Br&&qn.constructor&&(Br=qn.constructor.name),"Map"===Br||"Set"===Br?Array.from(qn):"Arguments"===Br||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Br)?Ga(qn,undefined):void 0}}(fr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return isFinite(In)?In:NaN}catch{return NaN}var fr}function Zo(_t){if(_t.error)me=!0,ol();else{p.info("Manifest updated... updating data system wide.");var Yt=_t.manifest;B.updatePeriods(Yt);var In=B.getUTCTimingSources();!B.getIsDynamic()||In&&0!==In.length||st.trigger(h.Z.CONFORMANCE_VIOLATION,{level:kr.LEVELS.WARNING,event:kr.EVENTS.NO_UTC_TIMING_ELEMENT});var Un=B.getIsDynamic()?In.concat(Be.getUTCTimingSources()):In;R.filterUnsupportedFeatures(Yt).then(function(){re.initialize(Yt),Q.attemptSync(Un,B.getIsDynamic())})}}function rs(){return!!S&&S.getHasVideoTrack()}function Io(){return!!S&&S.getHasAudioTrack()}function Ps(_t,Yt){Yt=Yt||new Date,Fr().forEach(function(In){In.finalisePlayList(Yt,_t)}),J.addPlayList()}function Ei(_t){J.createPlaylistMetrics(1e3*we.getTime(),_t)}function go(_t){if(_t.error){var Yt="";switch(_t.error.code){case 1:Yt="MEDIA_ERR_ABORTED";break;case 2:Yt="MEDIA_ERR_NETWORK";break;case 3:Yt="MEDIA_ERR_DECODE",We.counts.mediaErrorDecode+=1;break;case 4:Yt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Yt="MEDIA_ERR_ENCRYPTED";break;default:Yt="UNKNOWN"}"MEDIA_ERR_DECODE"===Yt&&Le.get().errors.recoverAttempts.mediaErrorDecode>=We.counts.mediaErrorDecode?function(){p.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var In=we.getTime();S.deactivate(!1),p.warn("MediaSource has been resetted. Resuming playback from time ".concat(In)),Ln(In,!1,!1)}():(ie=!0,_t.error.message&&(Yt+=" ("+_t.error.message+")"),_t.error.msExtendedCode&&(Yt+=" (0x"+(_t.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),p.fatal("Video Element Error: "+Yt),_t.error&&p.fatal(_t.error),Te.error(new K.Z(_t.error.code,Yt)),ol())}}function Vr(){return S?S.getStreamInfo():null}function na(_t){for(var Yt=0,In=fe.length;Yt<In;Yt++)if(fe[Yt].getId()===_t)return fe[Yt];return null}function fu(_t){isNaN(_t.newDuration)||Lr(_t.newDuration)}function xa(){fe=[],Me=NaN,q=null,se=!1,S=null,ie=!1,me=!1,je=!0,Ot=!0,Ue=!1,L=!0,vt=null,it=!1,hn=!1,Ct=[],Ne=null,We={counts:{mediaErrorDecode:0}}}function ol(){Vt(),Q.reset(),Ps(ie||me?qe.FAILURE_STOP_REASON:qe.USER_REQUEST_STOP_REASON);for(var _t=0,Yt=fe?fe.length:0;_t<Yt;_t++)fe[_t].reset(ie);st.off(h.Z.PLAYBACK_TIME_UPDATED,be,_),st.off(h.Z.PLAYBACK_SEEKING,lr,_),st.off(h.Z.PLAYBACK_ERROR,go,_),st.off(h.Z.PLAYBACK_STARTED,rt,_),st.off(h.Z.PLAYBACK_PAUSED,At,_),st.off(h.Z.PLAYBACK_ENDED,$i,_),st.off(h.Z.METRIC_ADDED,sl,_),st.off(h.Z.MANIFEST_VALIDITY_CHANGED,fu,_),st.off(h.Z.BUFFER_LEVEL_UPDATED,kt,_),st.off(h.Z.QUALITY_CHANGE_REQUESTED,at,_),v.Z.KEY_SESSION_UPDATED&&st.off(v.Z.KEY_SESSION_UPDATED,on,_),st.off(v.Z.MANIFEST_UPDATED,Zo,_),st.off(v.Z.STREAM_BUFFERING_COMPLETED,tn,_),st.off(v.Z.TIME_SYNCHRONIZATION_COMPLETED,pt,_),st.off(v.Z.CURRENT_TRACK_CHANGED,Pt,_),st.off(v.Z.SETTING_UPDATED_LIVE_DELAY,ze,_),st.off(v.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ze,_),re.reset(),F.reset(),Ce.reset(),J.clearAllCurrentMetrics(),C.setValue(null),P.reset(),le.reset(),te.reset(),ce&&(ne.detachMediaSource(G),ce=null),G=null,q&&(q=null,U=null,C.getValue()&&st.trigger(v.Z.PROTECTION_DESTROYED,{data:C.getValue().url})),Kn(),st.trigger(v.Z.STREAM_TEARDOWN_COMPLETE),xa()}function sl(_t){if(_t.metric===I.Z.DVR_INFO){var Yt=Io()?f.Z.AUDIO:f.Z.VIDEO;_t.mediaType===Yt&&ne.setSeekable(_t.value.range.start,_t.value.range.end)}}function al(){return fe}return _={initialize:function(_t,Yt){Vt(),L=_t,U=Yt,le.initialize(),(F=bd(nt).create()).setConfig({manifestModel:C,adapter:B,manifestLoader:P,errHandler:Te,settings:Le,contentSteeringController:V}),F.initialize(),(Ce=I0(nt).getInstance()).setConfig({manifestUpdater:F,playbackController:we,settings:Le}),Ce.start(),Q.setConfig({dashMetrics:J,baseURLController:re,errHandler:Te,settings:Le}),Q.initialize(),ne.setConfig({settings:Le}),q&&(st.trigger(v.Z.PROTECTION_CREATED,{controller:q}),q.setMediaElement(G.getElement()),U&&q.setProtectionData(U)),st.on(h.Z.PLAYBACK_TIME_UPDATED,be,_),st.on(h.Z.PLAYBACK_SEEKING,lr,_),st.on(h.Z.PLAYBACK_ERROR,go,_),st.on(h.Z.PLAYBACK_STARTED,rt,_),st.on(h.Z.PLAYBACK_PAUSED,At,_),st.on(h.Z.PLAYBACK_ENDED,$i,_),st.on(h.Z.METRIC_ADDED,sl,_),st.on(h.Z.MANIFEST_VALIDITY_CHANGED,fu,_),st.on(h.Z.BUFFER_LEVEL_UPDATED,kt,_),st.on(h.Z.QUALITY_CHANGE_REQUESTED,at,_),v.Z.KEY_SESSION_UPDATED&&st.on(v.Z.KEY_SESSION_UPDATED,on,_),st.on(v.Z.MANIFEST_UPDATED,Zo,_),st.on(v.Z.STREAM_BUFFERING_COMPLETED,tn,_),st.on(v.Z.TIME_SYNCHRONIZATION_COMPLETED,pt,_),st.on(v.Z.CURRENT_TRACK_CHANGED,Pt,_),st.on(v.Z.SETTING_UPDATED_LIVE_DELAY,ze,_),st.on(v.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ze,_)},getActiveStreamInfo:Vr,addDVRMetric:ht,hasVideoTrack:rs,hasAudioTrack:Io,getStreamById:na,getStreamForTime:pn,getTimeRelativeToStreamId:function(_t,Yt){for(var In=null,Un=0,ur=0,fr=null,qn=0;qn<fe.length;qn++){if(ur=(In=fe[qn]).getStartTime(),fr=In.getDuration(),Number.isFinite(ur)&&(Un=ur),In.getId()===Yt)return _t-Un;Number.isFinite(fr)&&(Un+=fr)}return null},load:function(_t){var Yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Vt(),Me=Yt,P.load(_t)},loadWithManifest:function(_t){var Yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function Ft(){if(!F||!F.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Me=Yt,F.setManifest(_t)},getActiveStreamProcessors:Fr,setConfig:function(_t){_t&&(_t.capabilities&&(b=_t.capabilities),_t.capabilitiesFilter&&(R=_t.capabilitiesFilter),_t.manifestLoader&&(P=_t.manifestLoader),_t.manifestModel&&(C=_t.manifestModel),_t.mediaPlayerModel&&(Xe=_t.mediaPlayerModel),_t.customParametersModel&&(Be=_t.customParametersModel),_t.protectionController&&(q=_t.protectionController),_t.adapter&&(B=_t.adapter),_t.dashMetrics&&(J=_t.dashMetrics),_t.errHandler&&(Te=_t.errHandler),_t.timelineConverter&&(le=_t.timelineConverter),_t.videoModel&&(G=_t.videoModel),_t.playbackController&&(we=_t.playbackController),_t.serviceDescriptionController&&(Pe=_t.serviceDescriptionController),_t.contentSteeringController&&(V=_t.contentSteeringController),_t.textController&&(Z=_t.textController),_t.abrController&&(ge=_t.abrController),_t.mediaController&&(Ee=_t.mediaController),_t.settings&&(Le=_t.settings),_t.baseURLController&&(re=_t.baseURLController),_t.uriFragmentModel&&(Ie=_t.uriFragmentModel),_t.segmentBaseController&&(ee=_t.segmentBaseController))},setProtectionData:function(_t){U=_t,q&&q.setProtectionData(U)},getIsStreamSwitchInProgress:function(){return se},switchToVideoElement:function(_t){S&&(we.initialize(Vr()),Ln(_t,!1,!0))},getHasMediaOrInitialisationError:function(){return ie||me},getStreams:al,getActiveStream:function(){return S},getInitialPlayback:function(){return je},getAutoPlay:function(){return L},reset:ol},p=(0,D.Z)(nt).getInstance().getLogger(_),Q=S0(nt).getInstance(),ne=C0(nt).getInstance(),te=xe(nt).getInstance(),xa(),_}Fh.__dashjs_factory_name="StreamController";var Ed=w.Z.getSingletonFactory(Fh);function Lh(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re=this.context,ee=(0,A.Z)(re).getInstance();function Ie(){V.debug("Stopping the gap controller"),F&&(clearInterval(F),F=null),function(){ee.off(v.Z.WALLCLOCK_TIME_UPDATED,Te,this),ee.off(v.Z.INITIAL_STREAM_SWITCH,te,this),ee.off(v.Z.PLAYBACK_SEEKING,ge,this),ee.off(v.Z.BUFFER_REPLACEMENT_STARTED,Ee,_),ee.off(v.Z.TRACK_CHANGE_RENDERED,Ce,_)}(),F=null,P=NaN,R=0,ne=null,Q={}}function ge(){ne&&(clearTimeout(ne),ne=null)}function Ee(U){try{if(U.streamId!==B.getActiveStreamInfo().id||U.mediaType!==f.Z.VIDEO&&U.mediaType!==f.Z.AUDIO)return;U.streamId===B.getActiveStreamInfo().id&&(Q[U.mediaType]=!0)}catch(L){V.error(L)}}function Ce(U){U&&U.mediaType&&(Q[U.mediaType]=!1)}function te(){F||function(){try{F||(V.debug("Starting the gap controller"),F=setInterval(function(){le()&&Z(C.getTime())},100))}catch{}}()}function Te(){if(le(b.get().streaming.gaps.enableSeekFix)&&++R>=10){var U=C.getTime();p===U?Z(U,!0):(p=U,P=NaN),R=0}}function le(){var U=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!B.getActiveStream())return!1;var L=Object.keys(Q).some(function(ie){return Q[ie]}),se=!!U&&function fe(){var U=B.getActiveStream(),L=parseFloat((U.getStartTime()+U.getDuration()).toFixed(5));return C.getTime()+b.get().streaming.gaps.threshold>=L}();return!L&&b.get().streaming.gaps.jumpGaps&&B.getActiveStreamProcessors().length>0&&(!C.isSeeking()||se)&&!C.isPaused()&&!B.getIsStreamSwitchInProgress()&&!B.getHasMediaOrInitialisationError()}function Z(U){var L,se=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ie=b.get().streaming.gaps.enableStallFix,me=b.get().streaming.gaps.stallSeek,ce=b.get().streaming.gaps.smallGapLimit,G=b.get().streaming.gaps.jumpLargeGaps,we=J.getBufferRange(),Pe=NaN,Xe=!1;if(L=function S(U,L){try{if(!U||U.length<=1&&L>0)return NaN;for(var se=NaN,ie=0;isNaN(se)&&ie<U.length;){var me=ie>0?U.end(ie-1):0;L<U.start(ie)&&me-L<b.get().streaming.gaps.threshold&&(se=ie),ie+=1}return se}catch{return null}}(we,U),!isNaN(L)){var Be=we.start(L),Ue=Be-U;Ue>0&&(Ue<=ce||G)&&(Pe=Be)}var je=C.getTimeToStreamEnd();if(isNaN(Pe)&&se&&isFinite(je)&&!isNaN(je)&&je<ce&&(Pe=parseFloat(C.getStreamEndTime().toFixed(5)),Xe=!0),ie&&isNaN(Pe)&&se&&isNaN(L)&&function q(U,L){for(var se=0,ie=U.length;se<ie;se++)if(L>=U.start(se)&&L<=U.end(se))return!0;return!1}(we,U)&&(0===me?(V.warn("Toggle play pause to break stall"),J.pause(),J.play()):(V.warn("Jumping ".concat(me,"s to break stall")),Pe=U+me)),Pe>0&&P!==Pe&&Pe>U&&!ne){var Ot=Pe-U;if(Xe){var vt=B.getStreamForTime(Pe),wt=vt&&!!vt.getPreloaded();V.warn("Jumping to end of stream because of gap from ".concat(U," to ").concat(Pe,". Gap duration: ").concat(Ot)),C.seek(Pe,!0,wt)}else{var Ct=C.getIsDynamic(),hn=L>0?we.end(L-1):U,Le=Ct?1e3*Math.max(0,Ot-.1):0;ne=window.setTimeout(function(){C.seek(Pe,!0,!0),V.warn("Jumping gap occuring in period ".concat(B.getActiveStream().getStreamId()," starting at ").concat(hn," and ending at ").concat(Pe,". Jumping by: ").concat(Pe-hn)),ne=null},Le)}P=Pe}}return _={reset:Ie,setConfig:function(U){U&&(U.settings&&(b=U.settings),U.playbackController&&(C=U.playbackController),U.streamController&&(B=U.streamController),U.videoModel&&(J=U.videoModel))},initialize:function(){!function(){ee.on(v.Z.WALLCLOCK_TIME_UPDATED,Te,this),ee.on(v.Z.INITIAL_STREAM_SWITCH,te,this),ee.on(v.Z.PLAYBACK_SEEKING,ge,this),ee.on(v.Z.BUFFER_REPLACEMENT_STARTED,Ee,_),ee.on(v.Z.TRACK_CHANGE_RENDERED,Ce,_)}()}},V=(0,D.Z)(re).getInstance().getLogger(_),Ie(),_}Lh.__dashjs_factory_name="GapController";var Hc=w.Z.getSingletonFactory(Lh);function Ol(){var _,p,b,R,F,P,C,B,J,ne,Q=this.context,V=(0,A.Z)(Q).getInstance();function re(){p=!1;var fe=tr.Z.parseUserAgent();b=fe&&fe.browser&&fe.browser.name&&"safari"===fe.browser.name.toLowerCase()}function ee(){p=!1}function Ie(fe){if(fe.streamId===P.getActiveStreamInfo().id&&J){var S=C.getLiveDelay();C.getBufferLevel()>S/2&&(J=!1)}}function ge(fe){fe.streamId===P.getActiveStreamInfo().id&&(J=fe.state===I.Z.BUFFER_EMPTY)}function Ee(){B.getCatchupModeEnabled()||R.setPlaybackRate(1)}function Ce(){C.getIsDynamic()&&B.getCatchupModeEnabled()&&(B.getCatchupPlaybackRates().max>0||B.getCatchupPlaybackRates().min<0)&&!C.isPaused()&&!C.isSeeking()&&function(){try{return!(!C.getTime()>0||p)&&(Te()===f.Z.LIVE_CATCHUP_MODE_LOLP?function(fe,S){try{return Math.abs(te())>0||fe<S}catch{return!1}}(C.getBufferLevel(),F.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(te())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!p&&R){var fe,S=R.getPlaybackRate(),q=B.getCatchupPlaybackRates(),Z=C.getBufferLevel(),U=te(),L=B.getCatchupMaxDrift();if(!isNaN(L)&&L>0&&U>L)ne.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),p=!0,C.seekToCurrentLive(!0,!1);else{var se=C.getCurrentLiveLatency(),ie=C.getLiveDelay();fe=Te()===f.Z.LIVE_CATCHUP_MODE_LOLP?function(ce,G,we,Pe,Xe){var Be;if(Xe<Pe){var Ue=Math.abs(ce.min);Be=1-Ue+2*Ue/(1+Math.pow(Math.E,-5*(Xe-Pe))),ne.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Xe+", newRate: "+Be)}else{var Ot=ce.max;Be=Math.abs(G-we)<=.02*we?1:1-Ot+2*Ot/(1+Math.pow(Math.E,-5*(G-we))),ne.debug("[LoL+ playback control_latency-based] latency: "+G+", newRate: "+Be)}return Be}(q,se,ie,F.get().streaming.liveCatchup.playbackBufferMin,Z):function(ce,G,we,Pe){if(J)return 1;var Xe=G-we,Be=Xe<0?Math.abs(ce.min):ce.max,je=1-Be+2*Be/(1+Math.pow(Math.E,-5*Xe));return C.getPlaybackStalled()&&Pe<=we/2&&Xe>0&&(je=1),je}(q,se,ie,Z);var me=b?.25:.02/(.5/q.max);fe&&Math.abs(S-fe)>=me&&(ne.debug("[CatchupController]: Setting playback rate to ".concat(fe)),R.setPlaybackRate(fe))}}}()}function te(){return C.getCurrentLiveLatency()-C.getLiveDelay()}function Te(){var fe=F.get().streaming.liveCatchup.playbackBufferMin;return F.get().streaming.liveCatchup.mode!==f.Z.LIVE_CATCHUP_MODE_LOLP||null===fe||isNaN(fe)?f.Z.LIVE_CATCHUP_MODE_DEFAULT:f.Z.LIVE_CATCHUP_MODE_LOLP}function le(){B.getCatchupPlaybackRates(!0)}return _={reset:function(){V.off(h.Z.BUFFER_LEVEL_UPDATED,Ie,_),V.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,ge,_),V.off(h.Z.PLAYBACK_PROGRESS,Ce,_),V.off(h.Z.PLAYBACK_TIME_UPDATED,Ce,_),V.off(h.Z.PLAYBACK_SEEKED,ee,_),V.off(v.Z.SETTING_UPDATED_CATCHUP_ENABLED,Ee,_),V.off(v.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,le,_),V.off(v.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,le,_),V.off(h.Z.STREAM_INITIALIZED,le,_),re(),R.setPlaybackRate(1,!0)},setConfig:function(fe){fe&&(fe.settings&&(F=fe.settings),fe.videoModel&&(R=fe.videoModel),fe.streamController&&(P=fe.streamController),fe.playbackController&&(C=fe.playbackController),fe.mediaPlayerModel&&(B=fe.mediaPlayerModel))},initialize:function(){V.on(h.Z.BUFFER_LEVEL_UPDATED,Ie,_),V.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,ge,_),V.on(h.Z.PLAYBACK_PROGRESS,Ce,_),V.on(h.Z.PLAYBACK_TIME_UPDATED,Ce,_),V.on(h.Z.PLAYBACK_SEEKED,ee,_),V.on(v.Z.SETTING_UPDATED_CATCHUP_ENABLED,Ee,_),V.on(v.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,le,_),V.on(v.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,le,_),V.on(h.Z.STREAM_INITIALIZED,le,_),le()}},ne=(0,D.Z)(Q).getInstance().getLogger(_),re(),_}Ol.__dashjs_factory_name="CatchupController";var Td=w.Z.getSingletonFactory(Ol),Bh=[f.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME];function Zc(){var _,p,b,R,F;function C(){p={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},b=[]}function B(J,ne,Q){try{p[J][ne]=Q/1e3}catch(V){R.error(V)}}return _={getServiceDescriptionSettings:function(){return p},getProducerReferenceTimeOffsets:function(){return b},calculateProducerReferenceTimeOffsets:function(J){try{var ne=[];if(J&&J.length>0){var Q=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT],V=F.getAvailabilityStartTime()/1e3;J.forEach(function(re){var ee=Q.reduce(function(Ie,ge){return Ie.concat(F.getAllMediaInfoForType(re,ge))},[]).reduce(function(Ie,ge){return F.getProducerReferenceTimes(re,ge).forEach(function(Ee){var Ce=F.getVoRepresentations(ge);if(Ce&&Ce.length>0&&Ce[0].adaptation&&Ce[0].segmentInfoType===d.Z.SEGMENT_TEMPLATE){var te=Ce[0],Te=new Date(Ee[d.Z.WALL_CLOCK_TIME]).getTime()/1e3-(Ee[d.Z.PRESENTATION_TIME]/te[d.Z.TIMESCALE]-te[d.Z.PRESENTATION_TIME_OFFSET]+re.start);Ie.push({id:Ee[d.Z.ID],to:V-Te})}}),Ie},[]);ne=ne.concat(ee)})}b=ne}catch(re){R.error(re),b=[]}},applyServiceDescription:function(J){if(J&&J.serviceDescriptions){var ne=J.serviceDescriptions.filter(function(re){return Bh.includes(re.schemeIdUri)}),Q=J.serviceDescriptions.filter(function(re){return null==re.schemeIdUri}),V=ne.length>0?ne[ne.length-1]:Q[Q.length-1];V&&(V.latency&&V.latency.target>0&&function(re){var ee,Ce;if(ee={liveDelay:(Ce=re).latency.target/1e3,maxDrift:!isNaN(Ce.latency.max)&&Ce.latency.max>Ce.latency.target?(Ce.latency.max-Ce.latency.target+500)/1e3:NaN,referenceId:Ce.latency.referenceId||NaN},b.length>0){var Ie=function(Ce){var te,Te=0,le=b.filter(function(fe){return fe.id===Ce.referenceId});return 0===le.length?(Te=b.length>0?b[0].to:0,te=b[0].id||NaN):(Te=le[0].to||0,te=le[0].id||NaN),{to:Te,id:te}}(ee),ge=Ie.to,Ee=Ie.id;p.liveDelay=ee.liveDelay-ge,p.liveCatchup.maxDrift=ee.maxDrift,R.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ge," from ProducerReferenceTime element with id ").concat(Ee,".\n                Live Delay: ").concat(ee.liveDelay-ge,", Live catchup max drift: ").concat(ee.maxDrift,"\n            "))}else p.liveDelay=ee.liveDelay,p.liveCatchup.maxDrift=ee.maxDrift,R.debug("Found latency properties coming from service description: Live Delay: ".concat(ee.liveDelay,", Live catchup max drift: ").concat(ee.maxDrift))}(V),V.playbackRate&&(ee=(re=V).playbackRate.min?Math.round(1e3*(re.playbackRate.min-1))/1e3:NaN,Ie=re.playbackRate.max?Math.round(1e3*(re.playbackRate.max-1))/1e3:NaN,p.liveCatchup.playbackRate.min=ee,p.liveCatchup.playbackRate.max=Ie,R.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(ee)),R.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(Ie))),V.operatingBandwidth&&function(re){if(re&&re.operatingBandwidth&&re.operatingBandwidth.mediaType&&"all"!==re.operatingBandwidth.mediaType){var ee={};ee.minBandwidth=re.operatingBandwidth.min,ee.maxBandwidth=re.operatingBandwidth.max,ee.targetBandwidth=re.operatingBandwidth.target;var Ie=[];"video"===re.operatingBandwidth.mediaType||"audio"===re.operatingBandwidth.mediaType?Ie.push(re.operatingBandwidth.mediaType):"any"===re.operatingBandwidth.mediaType&&(Ie.push("audio"),Ie.push("video")),Ie.forEach(function(ge){isNaN(ee.minBandwidth)||B("minBitrate",ge,ee.minBandwidth),isNaN(ee.maxBandwidth)||B("maxBitrate",ge,ee.maxBandwidth),isNaN(ee.targetBandwidth)||B("initialBitrate",ge,ee.targetBandwidth)})}}(V),V.contentSteering&&function(re){p.contentSteering=re.contentSteering}(V))}var re,ee,Ie},reset:function(){C()},setConfig:function(J){J&&J.adapter&&(F=J.adapter)}},R=(0,D.Z)(this.context).getInstance().getLogger(_),C(),_}Zc.__dashjs_factory_name="ServiceDescriptionController";var Vh=w.Z.getSingletonFactory(Zc),po=H(3973),Pl=H.n(po),r_=H(3039);function Yr(){var _,p,b,R,F,P,C,B,J=this.context,ne=(0,A.Z)(J).getInstance();function Q(G,we){return G&&b[we]&&b[we][G]?b[we][G].list:[]}function V(G,we){return G&&b[we]&&b[we][G]?b[we][G].current:null}function re(G){var we=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(G&&G.streamInfo){var Pe=G.type,Be=G.streamInfo.id,Ue=V(Pe,Be);if(b[Be]&&b[Be][Pe]&&(b[Be][Pe].current=G,b[Be][Pe].current&&(Pe!==f.Z.TEXT&&!ge(G,Ue)||Pe===f.Z.TEXT&&G.isFragmented)&&ne.trigger(v.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ue,newMediaInfo:G,switchMode:R.get().streaming.trackSwitchMode[Pe]},{streamId:Be}),!we)){var je=function Ce(G){var we={lang:G.lang,viewpoint:G.viewpoint,roles:G.roles,accessibility:G.accessibility,audioChannelConfiguration:G.audioChannelConfiguration,codec:G.codec};return we.lang||we.viewpoint||we.role&&we.role.length>0||we.accessibility&&we.accessibility.length>0||we.audioChannelConfiguration&&we.audioChannelConfiguration.length>0?we:null}(G);if(!je||!b[Be][Pe].storeLastSettings)return;je.roles&&(je.role=je.roles[0],delete je.roles),je.accessibility&&(je.accessibility=je.accessibility[0]),je.audioChannelConfiguration&&(je.audioChannelConfiguration=je.audioChannelConfiguration[0]),P[Pe]=je,B.setSavedMediaSettings(Pe,je)}}}function ee(G,we){G&&we&&(F[G]=we)}function Ie(G){return G?F[G]:null}function ge(G,we){if(!G&&!we)return!0;if(!G||!we)return!1;var Pe=G.id===we.id,Xe=G.viewpoint===we.viewpoint,Be=JSON.stringify(G.viewpointsWithSchemeIdUri)===JSON.stringify(we.viewpointsWithSchemeIdUri),Ue=G.lang===we.lang,je=G.codec===we.codec,Ot=G.roles.toString()===we.roles.toString(),vt=JSON.stringify(G.rolesWithSchemeIdUri)===JSON.stringify(we.rolesWithSchemeIdUri),wt=G.accessibility.toString()===we.accessibility.toString(),Ct=JSON.stringify(G.accessibilitiesWithSchemeIdUri)===JSON.stringify(we.accessibilitiesWithSchemeIdUri),hn=G.audioChannelConfiguration.toString()===we.audioChannelConfiguration.toString(),Le=JSON.stringify(G.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(we.audioChannelConfigurationsWithSchemeIdUri);return Pe&&je&&Xe&&Be&&Ue&&Ot&&vt&&wt&&Ct&&hn&&Le}function Ee(){b={},P={},F={audio:null,video:null,text:null}}function te(G,we,Pe){var Xe=[];return G.forEach(function(Be){we(Pe,Be)&&Xe.push(Be)}),0!==Xe.length?Xe:G}function Te(G,we){return!G.lang||G.lang instanceof RegExp?we.lang.match(G.lang):""!==we.lang&&(0,r_.extendedFilter)(we.lang,Pl()(G.lang)).length>0}function le(G,we){return null==G.index||we.index===G.index}function fe(G,we){return!G.viewpoint||G.viewpoint===we.viewpoint}function S(G,we){var Pe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!G.role||!!we.roles.filter(function(Be){return Be===G.role})[0]||we.type===f.Z.AUDIO&&Pe}function q(G,we){return G.accessibility?!!we.accessibility.filter(function(Pe){return Pe===G.accessibility})[0]:!we.accessibility.length}function Z(G,we){return!G.audioChannelConfiguration||!!we.audioChannelConfiguration.filter(function(Pe){return Pe===G.audioChannelConfiguration})[0]}function U(G,we){return!G.codec||G.codec===we.codec}function L(G){var we,Pe=0,Xe=[];return G.forEach(function(Be){(we=Math.max.apply(Math,Be.bitrateList.map(function(Ue){return Ue.bandwidth})))>Pe?(Pe=we,Xe=[Be]):we===Pe&&Xe.push(Be)}),Xe}function se(G){var we,Pe=1/0,Xe=[];return G.forEach(function(Be){var Ue=Be.bitrateList.reduce(function(je,Ot){var vt=Math.max(1,Ot.width*Ot.height);return je+Ot.bandwidth/vt},0);(we=Ue/Be.bitrateList.length)<Pe?(Pe=we,Xe=[Be]):we===Pe&&Xe.push(Be)}),Xe}function ie(G){var we,Pe=0,Xe=[];return G.forEach(function(Be){(we=Be.representationCount)>Pe?(Pe=we,Xe=[Be]):we===Pe&&Xe.push(Be)}),Xe}function me(G,we){if(G===f.Z.TEXT)return we[0];var Pe,je,Ot,vt,Xe=R.get().streaming.selectionModeForInitialTrack,Be=C.getCustomInitialTrackSelectionFunction();if(Be&&"function"==typeof Be)Pe=Be(we);else switch(Xe){case f.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:je=0,Ot=[],we.forEach(function(wt){isNaN(wt.selectionPriority)||(wt.selectionPriority>je?(je=wt.selectionPriority,Ot=[wt]):wt.selectionPriority===je&&Ot.push(wt))}),(vt=Ot).length>1&&(vt=L(vt)),vt.length>1&&(vt=ie(vt)),Pe=vt;break;case f.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Pe=function(Ue){var je=L(Ue);return je.length>1&&(je=ie(je)),je}(we);break;case f.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Pe=ce(we);break;case f.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Pe=function(Ue){var je=se(Ue);return je.length>1&&(je=L(je)),je}(we);break;case f.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Pe=function(Ue){var je=ie(Ue);return je.length>1&&(je=L(Ue)),je}(we);break;default:p.warn("Track selection mode ".concat(Xe," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Pe=ce(we)}return Pe.length>0?Pe[0]:we[0]}function ce(G){return G[0]}return _={setInitialMediaSettingsForType:function(G,we){var Pe=P[G]||Ie(G),Xe=Q(G,we.id),Be=[];Pe||((Pe=B.getSavedMediaSettings(G))&&delete Pe.codec,ee(G,Pe)),Xe&&0!==Xe.length&&(Pe&&(Be=te(Be=Array.from(Xe),Te,Pe),Be=te(Be,le,Pe),Be=te(Be,fe,Pe),G===f.Z.AUDIO&&P[G]||(Be=te(Be,S,Pe)),Be=te(Be,q,Pe),Be=te(Be,Z,Pe),Be=te(Be,U,Pe)),0===Be.length?re(me(G,Xe),!0):re(Be.length>1?me(G,Be):Be[0]))},addTrack:function(G){if(G){var we=G.type;if((Pe=we)===f.Z.AUDIO||Pe===f.Z.VIDEO||Pe===f.Z.TEXT||Pe===f.Z.IMAGE){var Pe,Xe,Be=G.streamInfo.id;b[Be]||(b[Be]={audio:{list:[],storeLastSettings:Xe=R.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:Xe,current:null},text:{list:[],storeLastSettings:Xe,current:null},image:{list:[],storeLastSettings:Xe,current:null}});for(var Ue=b[Be][we].list,je=0,Ot=Ue.length;je<Ot;++je)if(ge(Ue[je],G))return;Ue.push(G)}}},getTracksFor:Q,getCurrentTrackFor:V,isCurrentTrack:function(G){if(!G)return!1;var we=G.type,Pe=G.streamInfo.id;return b[Pe]&&b[Pe][we]&&ge(b[Pe][we].current,G)},setTrack:re,selectInitialTrack:me,setInitialSettings:ee,getInitialSettings:Ie,getTracksWithHighestBitrate:L,getTracksWithHighestEfficiency:se,getTracksWithWidestRange:ie,isTracksEqual:ge,matchSettings:function(G,we){var Pe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Xe=!1;if(G.lang){if(G.lang instanceof RegExp)Xe=we.lang.match(G.lang);else if(""!==we.lang){var Be=Pl()(G.lang);Be&&(Xe=(0,r_.extendedFilter)(we.lang,Be).length>0)}}else Xe=!0;var Ue=null==G.index||we.index===G.index,je=!G.viewpoint||G.viewpoint===we.viewpoint,Ot=!G.role||!!we.roles.filter(function(Ct){return Ct===G.role})[0],vt=!G.accessibility||!!we.accessibility.filter(function(Ct){return Ct===G.accessibility})[0],wt=!G.audioChannelConfiguration||!!we.audioChannelConfiguration.filter(function(Ct){return Ct===G.audioChannelConfiguration})[0];return Xe&&Ue&&je&&(Ot||we.type===f.Z.AUDIO&&Pe)&&vt&&wt}catch{return!1}},matchSettingsLang:Te,matchSettingsIndex:le,matchSettingsViewPoint:fe,matchSettingsRole:S,matchSettingsAccessibility:q,matchSettingsAudioChannelConfig:Z,saveTextSettingsDisabled:function(){B.setSavedMediaSettings(f.Z.TEXT,null)},setConfig:function(G){G&&(G.domStorage&&(B=G.domStorage),G.settings&&(R=G.settings),G.customParametersModel&&(C=G.customParametersModel))},reset:Ee},p=(0,D.Z)(J).getInstance().getLogger(_),Ee(),_}Yr.__dashjs_factory_name="MediaController";var i_=w.Z.getSingletonFactory(Yr);w.Z.updateSingletonFactory(Yr.__dashjs_factory_name,i_);var A0=i_,zc=function _(p,b){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,_),this.data={baseUrls:p||null,selectedIdx:b||NaN},this.children=[]};function wd(){var _,p,b,R,P=en(this.context).getInstance();function C(Q,V,re){var ee=B(re);Q[V]?P.areEqual(ee,Q[V].data.baseUrls)||(Q[V].data.baseUrls=ee,Q[V].data.selectedIdx=NaN):Q[V]=new zc(ee)}function B(Q){var V=b.getBaseURLsFromElement(Q),re=R.getSynthesizedBaseUrlElements(V);return re&&re.length>0&&(V=V.concat(re)),V}function J(Q,V){var re=V||p;Q(re.data),re.children&&re.children.forEach(function(ee){return J(Q,ee)})}function ne(){p=new zc}return _={reset:ne,update:function(Q){!function(V){!function(){if(!b||!b.hasOwnProperty("getBaseURLsFromElement")||!b.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var re=B(V);P.areEqual(re,p.data.baseUrls)||(p.data.baseUrls=re,p.data.selectedIdx=NaN),V&&V.Period_asArray&&V.Period_asArray.forEach(function(ee,Ie){C(p.children,Ie,ee),ee.AdaptationSet_asArray&&ee.AdaptationSet_asArray.forEach(function(ge,Ee){C(p.children[Ie].children,Ee,ge),ge.Representation_asArray&&ge.Representation_asArray.sort(b.getRepresentationSortFunction()).forEach(function(Ce,te){C(p.children[Ie].children[Ee].children,te,Ce)})})})}(Q)},getForPath:function(Q){var V=p,re=[V.data];return Q&&Q.forEach(function(ee){(V=V.children[ee])&&re.push(V.data)}),re.filter(function(ee){return ee.baseUrls.length})},invalidateSelectedIndexes:function(Q){J(function(V){isNaN(V.selectedIdx)||Q===V.baseUrls[V.selectedIdx].serviceLocation&&(V.selectedIdx=NaN)})},setConfig:function(Q){Q.adapter&&(b=Q.adapter),Q.contentSteeringController&&(R=Q.contentSteeringController)},getBaseUrls:function(Q){return B(Q)}},ne(),_}wd.__dashjs_factory_name="BaseURLTreeModel";var Sd=w.Z.getClassFactory(wd);function jh(_){var p=(_=_||{}).blacklistController;return{select:function(b){return b&&function(F){var P,C,B=0,J=[],ne=0;if((C=F.sort(function(Q,V){var re=Q.dvb_priority-V.dvb_priority;return isNaN(re)?0:re}).filter(function(Q,V,re){return!V||re[0].dvb_priority&&Q.dvb_priority&&re[0].dvb_priority===Q.dvb_priority})).length)return C.length>1&&(C.forEach(function(Q){J.push(B+=Q.dvb_weight)}),P=Math.floor(Math.random()*(B-1)),J.every(function(Q,V){return ne=V,!(P<Q)})),C[ne]}((R=[],b.filter(function(F){return!p.contains(F.serviceLocation)||(F.dvb_priority&&R.push(F.dvb_priority),!1)}).filter(function(F){return!R.length||!F.dvb_priority||-1===R.indexOf(F.dvb_priority)})));var R}}}jh.__dashjs_factory_name="DVBSelector";var Cd=w.Z.getClassFactory(jh);function o_(_){var p=(_=_||{}).blacklistController;return{select:function(b){var R,F=0;return b&&b.some(function(P,C){return F=C,!p.contains(P.serviceLocation)})&&(R=b[F]),R}}}o_.__dashjs_factory_name="BasicSelector";var D0=w.Z.getClassFactory(o_);function s_(){var _,p,b;function F(){for(var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],B=0,J=NaN,ne=function(){var V=P[B],re=C.findIndex(function(ee){return ee.serviceLocation&&ee.serviceLocation===V});if(-1!==re&&!b.contains(C[re].serviceLocation))return J=re,"break";B+=1};B<P.length&&"break"!==ne(););return J}return _={selectBaseUrlIndex:function(P){var C=NaN;if(isNaN(P.selectedIdx)){var B=p.getSteeringDataFromManifest();B&&B.defaultServiceLocationArray.length>0&&(C=F(B.defaultServiceLocationArray,P.baseUrls))}var J=p.getCurrentSteeringResponseData();return P.baseUrls&&P.baseUrls.length&&J&&J.pathwayPriority&&J.pathwayPriority.length&&(C=F(J.pathwayPriority,P.baseUrls)),C},setConfig:function(P){P.blacklistController&&(b=P.blacklistController),P.contentSteeringController&&(p=P.contentSteeringController)}},p=Sa(this.context).getInstance(),_}s_.__dashjs_factory_name="ContentSteeringSelector";var x0=w.Z.getClassFactory(s_);function a_(){var _,p,b,R,F,P,C=this.context,B=(0,A.Z)(C).getInstance(),J=(0,Ge.Z)(C).getInstance();function ne(){p.reset()}return _={chooseSelector:function(Q){(0,ae.PS)(Q,"boolean"),P=Q?R:b},select:function(Q){if(Q){if(J.get().streaming.applyContentSteering){var V=F.selectBaseUrlIndex(Q);isNaN(V)||-1===V||(Q.selectedIdx=V)}if(!isNaN(Q.selectedIdx))return Q.baseUrls[Q.selectedIdx];var re=P.select(Q.baseUrls);return re?(Q.selectedIdx=Q.baseUrls.indexOf(re),re):(B.trigger(v.Z.URL_RESOLUTION_FAILED,{error:new K.Z(ve.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,ve.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(P===b&&ne()))}},reset:ne,setConfig:function(Q){Q.selector&&(P=Q.selector),Q.contentSteeringSelector&&(F=Q.contentSteeringSelector)}},p=jc(C).create({updateEventName:v.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:v.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),b=D0(C).create({blacklistController:p}),R=Cd(C).create({blacklistController:p}),(F=x0(C).create()).setConfig({blacklistController:p}),P=b,_}a_.__dashjs_factory_name="BaseURLSelector";var kl=w.Z.getClassFactory(a_);function Gc(){var _,p,b,R,F,P=this.context,C=(0,A.Z)(P).getInstance(),B=(0,$e.Z)(P).getInstance();function J(Q){b.update(Q),R.chooseSelector(p.getIsDVB(Q)),C.trigger(h.Z.BASE_URLS_UPDATED,{baseUrls:ne(Q)})}function ne(Q){return b.getBaseUrls(Q)}return _={reset:function(){b.reset(),R.reset()},initialize:function(Q){b.setConfig({adapter:p,contentSteeringController:F}),J(Q)},resolve:function(Q){var V=b.getForPath(Q).reduce(function(re,ee){var Ie=R.select(ee);return Ie?(B.isRelative(Ie.url)?re.url=B.resolve(Ie.url,re.url):(re.url=Ie.url,re.serviceLocation=Ie.serviceLocation),re.availabilityTimeOffset=Ie.availabilityTimeOffset,re.availabilityTimeComplete=Ie.availabilityTimeComplete,re.queryParams=Ie.queryParams,re):new Xo},new Xo);if(!B.isRelative(V.url))return V},setConfig:function(Q){Q.baseURLTreeModel&&(b=Q.baseURLTreeModel),Q.baseURLSelector&&(R=Q.baseURLSelector),Q.adapter&&(p=Q.adapter),Q.contentSteeringController&&(F=Q.contentSteeringController)},getBaseUrls:ne,update:J},b=Sd(P).create(),R=kl(P).create(),C.on(v.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(Q){b.invalidateSelectedIndexes(Q.entry)},_),_}Gc.__dashjs_factory_name="BaseURLController";var qc=w.Z.getClassFactory(Gc);function Id(_){return(Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Ad(_,p){return(Ad=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function Fl(_){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Ca=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Ad(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Fl(p);if(b){var B=Fl(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function l_(_,p){return!p||"object"!==Id(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(P,C){var B;return function(J,ne){if(!(J instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,F),(B=R.call(this)).url=P||null,B.type=C||null,B.mediaType=f.Z.STREAM,B.responseType="",B}return F}(j.Z);function Hh(_){_=_||{};var p=this.context,b=(0,A.Z)(p).getInstance(),R=Ar(p).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,errors:ve});return{load:function(F,P,C){var B=function(ne,Q){P.resolved=!0,P.resolvedContent=ne||null,b.trigger(v.Z.XLINK_ELEMENT_LOADED,{element:P,resolveObject:C,error:ne||Q?null:new K.Z(ve.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,ve.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+F)})};if("urn:mpeg:dash:resolve-to-zero:2013"===F)B(null,!0);else{var J=new Ca(F,ut.w.XLINK_EXPANSION_TYPE);R.load({request:J,success:function(ne){B(ne)},error:function(){B(null)}})}},reset:function(){R&&(R.abort(),R=null)}}}Hh.__dashjs_factory_name="XlinkLoader";var Ks=w.Z.getClassFactory(Hh),Zh=function(_){function p(te){var Te=te.localName;return null==Te&&(Te=te.baseName),null!=Te&&""!=Te||(Te=te.nodeName),Te}function b(te){return"string"==typeof te?te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):te}function R(te,Te,le,fe){for(var S=0;S<te.length;S++){var q=te[S];if("string"==typeof q){if(q==fe)break}else if(q instanceof RegExp){if(q.test(fe))break}else if("function"==typeof q&&q(Te,le,fe))break}return S!=te.length}function F(te,Te,le){"property"===_.arrayAccessForm&&(te[Te+"_asArray"]=te[Te]instanceof Array?te[Te]:[te[Te]]),!(te[Te]instanceof Array)&&_.arrayAccessFormPaths.length>0&&R(_.arrayAccessFormPaths,te,Te,le)&&(te[Te]=[te[Te]])}function P(te){var Te=te.split(/[-T:+Z]/g),le=new Date(Te[0],Te[1]-1,Te[2]),fe=Te[5].split(".");if(le.setHours(Te[3],Te[4],fe[0]),fe.length>1&&le.setMilliseconds(fe[1]),Te[6]&&Te[7]){var S=60*Te[6]+Number(Te[7]);S=0+("-"==(/\d\d-\d\d:\d\d$/.test(te)?"-":"+")?-1*S:S),le.setMinutes(le.getMinutes()-S-le.getTimezoneOffset())}else-1!==te.indexOf("Z",te.length-1)&&(le=new Date(Date.UTC(le.getFullYear(),le.getMonth(),le.getDate(),le.getHours(),le.getMinutes(),le.getSeconds(),le.getMilliseconds())));return le}function C(te,Te,le,fe){return!(1==Te&&_.xmlElementsFilter.length>0)||R(_.xmlElementsFilter,te,le,fe)}function B(te,Te){if(9==te.nodeType){for(var le=new Object,fe=te.childNodes,S=0;S<fe.length;S++)1==(Z=fe[S]).nodeType&&(_.ignoreRoot?le=B(Z):(le={})[U=p(Z)]=B(Z));return le}if(1==te.nodeType){(le=new Object).__cnt=0;var q=[];for(fe=te.childNodes,S=0;S<fe.length;S++){var Z,U=p(Z=fe[S]);if(8!=Z.nodeType){var L=Te+"."+U;if(C(le,Z.nodeType,U,L))if(le.__cnt++,null==le[U]){var se=B(Z,L);("#text"!=U||/[^\s]/.test(se))&&((ie={})[U]=se,q.push(ie)),le[U]=se,F(le,U,L)}else{var ie;null!=le[U]&&(le[U]instanceof Array||(le[U]=[le[U]],F(le,U,L))),se=B(Z,L),("#text"!=U||/[^\s]/.test(se))&&((ie={})[U]=se,q.push(ie)),le[U][le[U].length]=se}}}le.__children=q;for(var me=p(te),ce=0;ce<te.attributes.length;ce++){var G=te.attributes[ce];le.__cnt++;for(var we=G.value,Pe=0,Xe=_.matchers.length;Pe<Xe;Pe++){var Be=_.matchers[Pe];Be.test(G,me)&&(we=Be.converter(G.value))}le[_.attributePrefix+G.name]=we}var Ue=te.prefix;return null!=Ue&&""!=Ue&&(le.__cnt++,le.__prefix=Ue),null!=le["#text"]&&(le.__text=le["#text"],le.__text instanceof Array&&(le.__text=le.__text.join("\n")),_.stripWhitespaces&&(le.__text=le.__text.trim()),delete le["#text"],"property"==_.arrayAccessForm&&delete le["#text_asArray"],le.__text=function(je,Ot,vt){if(_.datetimeAccessFormPaths.length>0){var wt=vt.split(".#")[0];return R(_.datetimeAccessFormPaths,je,Ot,wt)?P(je):je}return je}(le.__text,U,Te+"."+U)),null!=le["#cdata-section"]&&(le.__cdata=le["#cdata-section"],delete le["#cdata-section"],"property"==_.arrayAccessForm&&delete le["#cdata-section_asArray"]),0==le.__cnt&&"text"==_.emptyNodeForm?le="":1==le.__cnt&&null!=le.__text?le=le.__text:1!=le.__cnt||null==le.__cdata||_.keepCData?le.__cnt>1&&null!=le.__text&&_.skipEmptyTextNodesForObj&&(_.stripWhitespaces&&""==le.__text||""==le.__text.trim())&&delete le.__text:le=le.__cdata,delete le.__cnt,!_.enableToStringFunc||null==le.__text&&null==le.__cdata||(le.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),le}if(3==te.nodeType||4==te.nodeType)return te.nodeValue}function J(te,Te,le,fe){var S="<"+(null!=te&&null!=te.__prefix?te.__prefix+":":"")+Te;if(null!=le)for(var q=0;q<le.length;q++){var Z=le[q],U=te[Z];_.escapeMode&&(U=b(U)),S+=" "+Z.substr(_.attributePrefix.length)+"=",S+=_.useDoubleQuotes?'"'+U+'"':"'"+U+"'"}return S+(fe?"/>":">")}function ne(te,Te){return"</"+(null!=te.__prefix?te.__prefix+":":"")+Te+">"}function Q(te,Te){return"property"==_.arrayAccessForm&&(fe="_asArray",-1!==(le=Te.toString()).indexOf(fe,le.length-8))||0==Te.toString().indexOf(_.attributePrefix)||0==Te.toString().indexOf("__")||te[Te]instanceof Function;var le,fe}function V(te){var Te=0;if(te instanceof Object)for(var le in te)Q(te,le)||Te++;return Te}function re(te,Te,le){return 0==_.jsonPropertiesFilter.length||""==le||R(_.jsonPropertiesFilter,te,Te,le)}function ee(te){var Te=[];if(te instanceof Object)for(var le in te)-1==le.toString().indexOf("__")&&0==le.toString().indexOf(_.attributePrefix)&&Te.push(le);return Te}function Ie(te){var le,fe,Te="";return te instanceof Object?Te+=(fe="",null!=(le=te).__cdata&&(fe+="<![CDATA["+le.__cdata+"]]>"),null!=le.__text&&(fe+=_.escapeMode?b(le.__text):le.__text),fe):null!=te&&(Te+=_.escapeMode?b(te):te),Te}function ge(te,Te){return""===te?Te:te+"."+Te}function Ee(te,Te,le,fe){var S="";if(0==te.length)S+=J(te,Te,le,!0);else for(var q=0;q<te.length;q++)S+=J(te[q],Te,ee(te[q]),!1),S+=Ce(te[q],ge(fe,Te)),S+=ne(te[q],Te);return S}function Ce(te,Te){var le="";if(V(te)>0)for(var fe in te)if(!Q(te,fe)&&(""==Te||re(te,fe,ge(Te,fe)))){var S=te[fe],q=ee(S);null==S||null==S?le+=J(S,fe,q,!0):S instanceof Object?S instanceof Array?le+=Ee(S,fe,q,Te):S instanceof Date?(le+=J(S,fe,q,!1),le+=S.toISOString(),le+=ne(S,fe)):V(S)>0||null!=S.__text||null!=S.__cdata?(le+=J(S,fe,q,!1),le+=Ce(S,ge(Te,fe)),le+=ne(S,fe)):le+=J(S,fe,q,!0):(le+=J(S,fe,q,!1),le+=Ie(S),le+=ne(S,fe))}return le+Ie(te)}void 0===(_=_||{}).escapeMode&&(_.escapeMode=!0),void 0===_.attributePrefix&&(_.attributePrefix="_"),_.arrayAccessForm=_.arrayAccessForm||"none",_.emptyNodeForm=_.emptyNodeForm||"text",void 0===_.enableToStringFunc&&(_.enableToStringFunc=!0),_.arrayAccessFormPaths=_.arrayAccessFormPaths||[],void 0===_.skipEmptyTextNodesForObj&&(_.skipEmptyTextNodesForObj=!0),void 0===_.stripWhitespaces&&(_.stripWhitespaces=!0),_.datetimeAccessFormPaths=_.datetimeAccessFormPaths||[],void 0===_.useDoubleQuotes&&(_.useDoubleQuotes=!1),_.xmlElementsFilter=_.xmlElementsFilter||[],_.jsonPropertiesFilter=_.jsonPropertiesFilter||[],void 0===_.keepCData&&(_.keepCData=!1),void 0===_.ignoreRoot&&(_.ignoreRoot=!1),this.parseXmlString=function(te){var Te;if(window,void 0===te)return null;if(window.DOMParser){var le=new window.DOMParser;try{(Te=le.parseFromString(te,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(Te=null)}catch{Te=null}}else 0==te.indexOf("<?")&&(te=te.substr(te.indexOf("?>")+2)),(Te=new ActiveXObject("Microsoft.XMLDOM")).async="false",Te.loadXML(te);return Te},this.asArray=function(te){return void 0===te||null==te?[]:te instanceof Array?te:[te]},this.toXmlDateTime=function(te){return te instanceof Date?te.toISOString():"number"==typeof te?new Date(te).toISOString():null},this.asDateTime=function(te){return"string"==typeof te?P(te):te},this.xml2json=function(te){return B(te)},this.xml_str2json=function(te){var Te=this.parseXmlString(te);return null!=Te?this.xml2json(Te):null},this.json2xml_str=function(te){return Ce(te,"")},this.json2xml=function(te){var Te=this.json2xml_str(te);return this.parseXmlString(Te)},this.getVersion=function(){return"1.2.0"}},Wt="onLoad";function Dd(_){_=_||{};var p,b,R,F,P,C,B=this.context,J=(0,A.Z)(B).getInstance(),ne=(0,$e.Z)(B).getInstance();function Q(ge,Ee,Ce){var te,Te,le={};le.elements=ge,le.type=Ee,le.resolveType=Ce,0===le.elements.length&&re(le);for(var fe=0;fe<le.elements.length;fe++)Te=ne.isHTTPURL((te=le.elements[fe]).url)?te.url:te.originalContent.BaseURL+te.url,C.load(Te,te,le)}function V(ge){var Ee,Ce,te="";if(Ce=ge.resolveObject,(Ee=ge.element).resolvedContent){var Te=0;0===Ee.resolvedContent.indexOf("<?xml")&&(Te=Ee.resolvedContent.indexOf("?>")+2),te=Ee.resolvedContent.substr(0,Te)+"<response>"+Ee.resolvedContent.substr(Te)+"</response>",Ee.resolvedContent=P.xml_str2json(te)}(function(le){var fe;for(fe=0;fe<le.elements.length;fe++)if(!1===le.elements[fe].resolved)return!1;return!0})(Ce)&&re(Ce)}function re(ge){var Ee,Ce,te=[];if(function(Te){var le,fe,q,Z,U,L=[];for(q=Te.elements.length-1;q>=0;q--){if(fe=(le=Te.elements[q]).type+"_asArray",le.resolvedContent){if(le.resolvedContent)for(Z=0;Z<le.resolvedContent[fe].length;Z++)L.push(le.resolvedContent[fe][Z])}else delete le.originalContent["xlink:actuate"],delete le.originalContent["xlink:href"],L.push(le.originalContent);for(le.parentElement[fe].splice(le.index,1),U=0;U<L.length;U++)le.parentElement[fe].splice(le.index+U,0,L[U]);L=[]}Te.elements.length>0&&R.run(F)}(ge),"onActuate"===ge.resolveType&&J.trigger(v.Z.XLINK_READY,{manifest:F}),ge.resolveType===Wt)switch(ge.type){case d.Z.PERIOD:for(Ee=0;Ee<F[d.Z.PERIOD+"_asArray"].length;Ee++)(Ce=F[d.Z.PERIOD+"_asArray"][Ee]).hasOwnProperty(d.Z.ADAPTATION_SET+"_asArray")&&(te=te.concat(ee(Ce[d.Z.ADAPTATION_SET+"_asArray"],Ce,d.Z.ADAPTATION_SET,Wt))),Ce.hasOwnProperty(d.Z.EVENT_STREAM+"_asArray")&&(te=te.concat(ee(Ce[d.Z.EVENT_STREAM+"_asArray"],Ce,d.Z.EVENT_STREAM,Wt)));Q(te,d.Z.ADAPTATION_SET,Wt);break;case d.Z.ADAPTATION_SET:J.trigger(v.Z.XLINK_READY,{manifest:F})}}function ee(ge,Ee,Ce,te){var Te,le,fe,S=[];for(le=ge.length-1;le>=0;le--)(Te=ge[le]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Te["xlink:href"]&&ge.splice(le,1);for(le=0;le<ge.length;le++)(Te=ge[le]).hasOwnProperty("xlink:href")&&Te.hasOwnProperty("xlink:actuate")&&Te["xlink:actuate"]===te&&(fe=Ie(Te["xlink:href"],Ee,Ce,le,te,Te),S.push(fe));return S}function Ie(ge,Ee,Ce,te,Te,le){return{url:ge,parentElement:Ee,type:Ce,index:te,resolveType:Te,originalContent:le,resolvedContent:null,resolved:!1}}return p={resolveManifestOnLoad:function(ge){P=new Zh({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:b}),(F=ge).Period_asArray?Q(ee(F.Period_asArray,F,d.Z.PERIOD,Wt),d.Z.PERIOD,Wt):J.trigger(v.Z.XLINK_READY,{manifest:F})},setMatchers:function(ge){ge&&(b=ge)},setIron:function(ge){ge&&(R=ge)},reset:function(){J.off(v.Z.XLINK_ELEMENT_LOADED,V,p),C&&(C.reset(),C=null)}},J.on(v.Z.XLINK_ELEMENT_LOADED,V,p),C=Ks(B).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings}),p}Dd.__dashjs_factory_name="XlinkController";var $t=w.Z.getClassFactory(Dd);function Xs(_){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Yc(_){function p(F,P){for(var C in F)P.hasOwnProperty(C)||(P[C]=F[C])}function b(F,P,C){for(var B=0,J=F.length;B<J;++B){var ne=F[B];if(P[ne.name])if(C[ne.name]){if(ne.merge){var Q=P[ne.name],V=C[ne.name];"object"===Xs(Q)&&"object"===Xs(V)?p(Q,V):C[ne.name]=Q+V}}else C[ne.name]=P[ne.name]}}function R(F,P){for(var C=0,B=F.children.length;C<B;++C){var J=F.children[C],ne=P[J.name+"_asArray"];if(ne)for(var Q=0,V=ne.length;Q<V;++Q){var re=ne[Q];b(F.properties,P,re),R(J,re)}}}return{run:function(F){if(null===F||"object"!==Xs(F))return F;if(F.Period_asArray&&"period"in _)for(var P=_.period,C=F.Period_asArray,B=0,J=C.length;B<J;++B){var ne=C[B];if(R(P,ne),"adaptationset"in _){var Q=ne.AdaptationSet_asArray;if(Q)for(var V=_.adaptationset,re=0,ee=Q.length;re<ee;++re)R(V,Q[re])}}return F}}}Yc.__dashjs_factory_name="ObjectIron";var Ll=w.Z.getClassFactory(Yc);var Bl=function(){function _(R,F){(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this._test=R,this._converter=F}var b;return(b=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&function c_(_,p){for(var b=0;b<p.length;b++){var R=p[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}(_.prototype,b),_}();function xd(_){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Cr(_,p,b){return p in _?Object.defineProperty(_,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[p]=b,_}function Ya(_,p){return(Ya=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function wo(_){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Pr=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Ya(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=wo(p);if(b){var B=wo(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function Vo(_,p){return!p||"object"!==xd(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),R.call(this,function(P,C){var B,J=(Cr(B={},d.Z.MPD,[d.Z.ID,d.Z.PROFILES]),Cr(B,d.Z.PERIOD,[d.Z.ID]),Cr(B,d.Z.BASE_URL,[d.Z.SERVICE_LOCATION,d.Z.BYTE_RANGE]),Cr(B,d.Z.SEGMENT_BASE,[d.Z.INDEX_RANGE]),Cr(B,d.Z.INITIALIZATION,[d.Z.RANGE]),Cr(B,d.Z.REPRESENTATION_INDEX,[d.Z.RANGE]),Cr(B,d.Z.SEGMENT_LIST,[d.Z.INDEX_RANGE]),Cr(B,d.Z.BITSTREAM_SWITCHING,[d.Z.RANGE]),Cr(B,d.Z.SEGMENT_URL,[d.Z.MEDIA_RANGE,d.Z.INDEX_RANGE]),Cr(B,d.Z.SEGMENT_TEMPLATE,[d.Z.INDEX_RANGE,d.Z.MEDIA,d.Z.INDEX,d.Z.INITIALIZATION_MINUS,d.Z.BITSTREAM_SWITCHING_MINUS]),Cr(B,d.Z.ASSET_IDENTIFIER,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.EVENT_STREAM,[d.Z.VALUE]),Cr(B,d.Z.ADAPTATION_SET,[d.Z.PROFILES,d.Z.MIME_TYPE,d.Z.SEGMENT_PROFILES,d.Z.CODECS,d.Z.CONTENT_TYPE]),Cr(B,d.Z.FRAME_PACKING,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.AUDIO_CHANNEL_CONFIGURATION,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.CONTENT_PROTECTION,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.ESSENTIAL_PROPERTY,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.SUPPLEMENTAL_PROPERTY,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.INBAND_EVENT_STREAM,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.ACCESSIBILITY,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.ROLE,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.RATING,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.VIEWPOINT,[d.Z.VALUE,d.Z.ID]),Cr(B,d.Z.CONTENT_COMPONENT,[d.Z.CONTENT_TYPE]),Cr(B,d.Z.REPRESENTATION,[d.Z.ID,d.Z.DEPENDENCY_ID,d.Z.MEDIA_STREAM_STRUCTURE_ID]),Cr(B,d.Z.SUBSET,[d.Z.ID]),Cr(B,d.Z.METRICS,[d.Z.METRICS_MINUS]),Cr(B,d.Z.REPORTING,[d.Z.VALUE,d.Z.ID]),B);if(J.hasOwnProperty(C)){var ne=J[C];return void 0!==ne&&ne.indexOf(P.name)>=0}return!1},function(P){return String(P)})}return F}(Bl);function $a(_){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Ul(_,p){return(Ul=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function Vl(_){return(Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var vs=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,jl=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Ul(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Vl(p);if(b){var B=Vl(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function Rd(_,p){return!p||"object"!==$a(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),R.call(this,function(P){for(var C=[d.Z.MIN_BUFFER_TIME,d.Z.MEDIA_PRESENTATION_DURATION,d.Z.MINIMUM_UPDATE_PERIOD,d.Z.TIMESHIFT_BUFFER_DEPTH,d.Z.MAX_SEGMENT_DURATION,d.Z.MAX_SUBSEGMENT_DURATION,d.Z.SUGGESTED_PRESENTATION_DELAY,d.Z.START,f.Z.START_TIME,d.Z.DURATION],B=C.length,J=0;J<B;J++)if(P.nodeName===C[J])return vs.test(P.value);return!1},function(P){var C=vs.exec(P),B=31536e3*parseFloat(C[3]||0)+2592e3*parseFloat(C[5]||0)+86400*parseFloat(C[7]||0)+3600*parseFloat(C[9]||0)+60*parseFloat(C[11]||0)+parseFloat(C[13]||0);return void 0!==C[1]&&(B=-B),B})}return F}(Bl);function $c(_){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Wc(_,p){return(Wc=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function Hl(_){return(Hl=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Nd=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,Zl=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Wc(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Hl(p);if(b){var B=Hl(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function Md(_,p){return!p||"object"!==$c(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),R.call(this,function(P){return Nd.test(P.value)},function(P){var C,B=Nd.exec(P);if(C=Date.UTC(parseInt(B[1],10),parseInt(B[2],10)-1,parseInt(B[3],10),parseInt(B[4],10),parseInt(B[5],10),B[6]&&parseInt(B[6],10)||0,B[7]&&1e3*parseFloat(B[7])||0),B[9]&&B[10]){var J=60*parseInt(B[9],10)+parseInt(B[10],10);C+=("+"===B[8]?-1:1)*J*60*1e3}return new Date(C)})}return F}(Bl);function Kc(_){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Xc(_,p){return(Xc=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function zl(_){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var d_=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,f_=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Xc(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=zl(p);if(b){var B=zl(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function u_(_,p){return!p||"object"!==Kc(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),R.call(this,function(P){return d_.test(P.value)},function(P){return parseFloat(P)})}return F}(Bl);function So(_){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Gl(_,p,b){return p in _?Object.defineProperty(_,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[p]=b,_}function Qc(_,p){return(Qc=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function Jc(_){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var p_=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Qc(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Jc(p);if(b){var B=Jc(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function h_(_,p){return!p||"object"!==So(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),R.call(this,function(P,C){var B,J=(Gl(B={},d.Z.ADAPTATION_SET,[d.Z.LANG]),Gl(B,d.Z.REPRESENTATION,[d.Z.LANG]),Gl(B,d.Z.CONTENT_COMPONENT,[d.Z.LANG]),Gl(B,d.Z.LABEL,[d.Z.LANG]),Gl(B,d.Z.GROUP_LABEL,[d.Z.LANG]),B);if(J.hasOwnProperty(C)){var ne=J[C];return void 0!==ne&&ne.indexOf(P.name)>=0}return!1},function(P){var C=Pl()(P);return void 0!==C?C:String(P)})}return F}(Bl);var zh=function(){function _(R){var F;(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this._name=R,this._merge=(F=R)&&F.length&&F.charAt(0)===F.charAt(0).toUpperCase()}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&function m_(_,p){for(var b=0;b<p.length;b++){var R=p[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}(_.prototype,b),_}();var Wa=function(){function _(R,F,P){var C=this;(function(B,J){if(!(B instanceof J))throw new TypeError("Cannot call a class as a function")})(this,_),this._name=R||"",this._properties=[],this._children=P||[],Array.isArray(F)&&F.forEach(function(B){C._properties.push(new zh(B))})}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&function g_(_,p){for(var b=0;b<p.length;b++){var R=p[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}(_.prototype,b),_}();function Od(_){return(Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function pr(_,p){return(pr=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function eu(_){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var v_=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&pr(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=eu(p);if(b){var B=eu(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function __(_,p){return!p||"object"!==Od(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){!function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}(this,F);var P=[d.Z.PROFILES,d.Z.WIDTH,d.Z.HEIGHT,d.Z.SAR,d.Z.FRAMERATE,d.Z.AUDIO_SAMPLING_RATE,d.Z.MIME_TYPE,d.Z.SEGMENT_PROFILES,d.Z.CODECS,d.Z.MAXIMUM_SAP_PERIOD,d.Z.START_WITH_SAP,d.Z.MAX_PLAYOUT_RATE,d.Z.CODING_DEPENDENCY,d.Z.SCAN_TYPE,d.Z.FRAME_PACKING,d.Z.AUDIO_CHANNEL_CONFIGURATION,d.Z.CONTENT_PROTECTION,d.Z.ESSENTIAL_PROPERTY,d.Z.ESSENTIAL_PROPERTY+"_asArray",d.Z.SUPPLEMENTAL_PROPERTY,d.Z.INBAND_EVENT_STREAM];return R.call(this,d.Z.ADAPTATION_SET,P,[new Wa(d.Z.REPRESENTATION,P,[new Wa(d.Z.SUB_REPRESENTATION,P)])])}return F}(Wa);function Xr(_){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Pd(_,p){return(Pd=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function Pn(_){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Gi=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Pd(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Pn(p);if(b){var B=Pn(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function Gh(_,p){return!p||"object"!==Xr(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){!function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}(this,F);var P=[d.Z.SEGMENT_BASE,d.Z.SEGMENT_TEMPLATE,d.Z.SEGMENT_LIST];return R.call(this,d.Z.PERIOD,P,[new Wa(d.Z.ADAPTATION_SET,P,[new Wa(d.Z.REPRESENTATION,P)])])}return F}(Wa);function Dr(_){var p,b,R,F,P,C=this.context;return p={parse:function(J){var ne,Q=window.performance.now();if(!(ne=F.xml_str2json(J)))throw new Error("parsing the manifest failed");var V=window.performance.now();ne.Patch?((ne=ne.Patch).add_asArray&&ne.add_asArray.forEach(function(ee){return P.run(ee)}),ne.replace_asArray&&ne.replace_asArray.forEach(function(ee){return P.run(ee)})):P.run(ne=ne.MPD);var re=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(V-Q).toPrecision(3)+"ms, objectiron: "+(re-V).toPrecision(3)+"ms, total: "+((re-Q)/1e3).toPrecision(3)+"s)"),ne.protocol="DASH",ne},getMatchers:function(){return R},getIron:function(){return P}},b=(_=_||{}).debug.getLogger(p),R=[new jl,new Zl,new f_,new p_,new Pr],F=new Zh({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:R}),P=Ll(C).create({adaptationset:new v_,period:new Gi}),p}Dr.__dashjs_factory_name="DashParser";var qi=w.Z.getClassFactory(Dr);function no(_){var p,b,R,F,P,C=this.context,B=(_=_||{}).debug,J=_.settings,ne=(0,A.Z)(C).getInstance(),Q=(0,$e.Z)(C).getInstance(),V=_.mssHandler,re=_.errHandler;function ee(ge){ne.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:ge.manifest})}return p={load:function(ge){var Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,te=new Date,Te=new Ca(ge,ut.w.MPD_TYPE);Ee&&(Te.serviceLocation=Ee),Ce&&(Te.queryParams=Ce),Te.requestStartDate||(Te.requestStartDate=te),ne.trigger(v.Z.MANIFEST_LOADING_STARTED,{request:Te}),R.load({request:Te,success:function(le,fe,S){var q,Z,U;if(F)if(S&&S!==ge?(Z=Q.parseBaseUrl(S),q=S):(Q.isRelative(ge)&&(ge=Q.resolve(ge,window.location.href)),Z=Q.parseBaseUrl(ge)),"No Content"!=fe)if(null===P&&(P=function Ie(ge){var Ee=null;return ge.indexOf("SmoothStreamingMedia")>-1?(V&&(Ee=V.createMssParser(),V.createMssFragmentProcessor(),V.registerEvents()),Ee):ge.indexOf("MPD")>-1||ge.indexOf("Patch")>-1?qi(C).create({debug:B}):Ee}(le)),null!==P){F.setMatchers(P.getMatchers()),F.setIron(P.getIron());try{U=P.parse(le)}catch{return void ne.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(ve.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ve.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ge))})}if(U){if(U.url=q||ge,U.originalUrl||(U.originalUrl=U.url),J&&J.get().streaming.enableManifestDurationMismatchFix&&U.mediaPresentationDuration&&U.Period_asArray.length>1){var L=U.Period_asArray.reduce(function(se,ie){return se+ie.duration},0);!isNaN(L)&&U.mediaPresentationDuration>L&&(b.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),U.mediaPresentationDuration=L)}U.baseUri=Z,U.loadedTime=new Date,F.resolveManifestOnLoad(U),ne.trigger(v.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:le})}else ne.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(ve.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ve.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ge))})}else ne.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(ve.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ve.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ge))});else ne.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(le,fe,S){ne.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(ve.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,ve.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ge,", ").concat(S))})}})},reset:function(){ne.off(v.Z.XLINK_READY,ee,p),V&&V.reset(),F&&(F.reset(),F=null),R&&(R.abort(),R=null)}},b=B.getLogger(p),ne.on(v.Z.XLINK_READY,ee,p),R=Ar(C).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,urlUtils:Q,constants:f.Z,dashConstants:d.Z,errors:ve,requestTimeout:_.settings.get().streaming.manifestRequestTimeout}),F=$t(C).create({errHandler:re,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings}),P=null,p}no.__dashjs_factory_name="ManifestLoader";var Ka=w.Z.getClassFactory(no);function mo(){var p=(0,A.Z)(this.context).getInstance();return{error:function(b){p.trigger(v.Z.ERROR,{error:b})}}}mo.__dashjs_factory_name="ErrorHandler";var qh=w.Z.getSingletonFactory(mo),kd=H(1715);function ql(){var _,p,b,R,F,P,C=this.context,B=(0,A.Z)(C).getInstance();function J(ne,Q){if(!Q||!Q.Period_asArray||0===Q.Period_asArray.length)return Promise.resolve();var V=[];return Q.Period_asArray.forEach(function(re){var ee,Ie;V.push((ee=re,Ie=ne,new Promise(function(ge){if(ee&&ee.AdaptationSet_asArray&&0!==ee.AdaptationSet_asArray.length){var Ee=[];ee.AdaptationSet_asArray.forEach(function(Ce){var te,Te;p.getIsTypeOf(Ce,Ie)&&Ee.push((te=Ce,Te=Ie,new Promise(function(le){if(te.Representation_asArray&&0!==te.Representation_asArray.length){var fe=[],S=[];te.Representation_asArray.forEach(function(q,Z){var U=p.getCodec(te,Z,!1),L=function(se,ie,me){switch(se){case f.Z.VIDEO:return{codec:me,width:(ce=ie).width||null,height:ce.height||null,framerate:ce.frameRate||null,bitrate:ce.bandwidth||null};case f.Z.AUDIO:return function(ce,G){return{codec:G,bitrate:ce.bandwidth||null,samplerate:ce.audioSamplingRate||null}}(ie,me);default:return null}var ce}(Te,q,U);S.push(L),fe.push(b.supportsCodec(L,Te))}),Promise.all(fe).then(function(q){te.Representation_asArray=te.Representation_asArray.filter(function(Z,U){return q[U]||P.debug("[Stream] Codec ".concat(S[U].codec," not supported ")),q[U]}),le()}).catch(function(){le()})}else le()})))}),Promise.all(Ee).then(function(){ee.AdaptationSet_asArray=ee.AdaptationSet_asArray.filter(function(Ce){var te=Ce.Representation_asArray&&Ce.Representation_asArray.length>0;return te||(B.trigger(v.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Ce}),P.warn("AdaptationSet has been removed because of no supported Representation")),te}),ge()}).catch(function(){ge()})}else ge()})))}),Promise.all(V)}return _={setConfig:function(ne){ne&&(ne.adapter&&(p=ne.adapter),ne.capabilities&&(b=ne.capabilities),ne.settings&&(R=ne.settings),ne.customParametersModel&&(F=ne.customParametersModel))},filterUnsupportedFeatures:function(ne){return new Promise(function(Q){var V=[];V.push(J(f.Z.VIDEO,ne)),V.push(J(f.Z.AUDIO,ne)),Promise.all(V).then(function(){var re;R.get().streaming.capabilities.filterUnsupportedEssentialProperties&&(re=ne)&&re.Period_asArray&&0!==re.Period_asArray.length&&re.Period_asArray.forEach(function(ee){ee.AdaptationSet_asArray=ee.AdaptationSet_asArray.filter(function(Ie){return!Ie.Representation_asArray||0===Ie.Representation_asArray.length||(Ie.Representation_asArray=Ie.Representation_asArray.filter(function(ge){var Ee=p.getEssentialPropertiesForRepresentation(ge);if(Ee&&Ee.length>0)for(var Ce=0;Ce<Ee.length;){if(!b.supportsEssentialProperty(Ee[Ce]))return P.debug("[Stream] EssentialProperty not supported: "+Ee[Ce].schemeIdUri),!1;Ce+=1}return!0}),Ie.Representation_asArray&&Ie.Representation_asArray.length>0)})}),function(re){var ee=F.getCustomCapabilitiesFilters();ee&&0!==ee.length&&re&&re.Period_asArray&&0!==re.Period_asArray.length&&re.Period_asArray.forEach(function(Ie){Ie.AdaptationSet_asArray=Ie.AdaptationSet_asArray.filter(function(ge){return!ge.Representation_asArray||0===ge.Representation_asArray.length||(ge.Representation_asArray=ge.Representation_asArray.filter(function(Ee){return!ee.some(function(Ce){return!Ce(Ee)})}),ge.Representation_asArray&&ge.Representation_asArray.length>0)})})}(ne),Q()}).catch(function(){Q()})})}},P=(0,D.Z)(C).getInstance().getLogger(_),_}ql.__dashjs_factory_name="CapabilitiesFilter";var y_=w.Z.getSingletonFactory(ql),b_=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function gi(){var _;return{initialize:function(p){if(_=new b_,!p)return null;var b=p.indexOf("#");if(-1!==b)for(var R=p.substr(b+1).split("&"),F=0,P=R.length;F<P;++F){var C=R[F],B=C.indexOf("=");if(-1!==B){var J=C.substring(0,B);_.hasOwnProperty(J)&&(_[J]=C.substr(B+1))}}},getURIFragmentData:function(){return _}}}gi.__dashjs_factory_name="URIFragmentModel";var Rn=w.Z.getSingletonFactory(gi);function dr(){var _,b=(0,A.Z)(this.context).getInstance();return{getValue:function(){return _},setValue:function(R){_=R,R&&b.trigger(v.Z.MANIFEST_LOADED,{data:R})}}}dr.__dashjs_factory_name="ManifestModel";var di=w.Z.getSingletonFactory(dr);function Xa(){var _,p,b,R,F=this.context,P=(0,Ge.Z)(F).getInstance();function C(ne,Q){return isNaN(ne)?0:ne>0?(Q&&p.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ne<-.5?(Q&&p.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(-.5,": ").concat(-50,"% playback speed.")),-.5):ne}function B(ne,Q){return isNaN(ne)?0:ne<0?(Q&&p.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ne>1?(Q&&p.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ne}function J(){var ne=P.get().streaming.buffer.stableBufferTime>0?P.get().streaming.buffer.stableBufferTime:P.get().streaming.buffer.fastSwitchEnabled?20:12,Q=b.getLiveDelay();return!isNaN(Q)&&Q>0?Math.min(ne,Q):ne}return _={getCatchupMaxDrift:function(){if(!isNaN(P.get().streaming.liveCatchup.maxDrift)&&P.get().streaming.liveCatchup.maxDrift>0)return P.get().streaming.liveCatchup.maxDrift;var ne=R.getServiceDescriptionSettings();return ne&&ne.liveCatchup&&!isNaN(ne.liveCatchup.maxDrift)&&ne.liveCatchup.maxDrift>0?ne.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==P.get().streaming.liveCatchup.enabled?P.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:J,getInitialBufferLevel:function(){var ne=P.get().streaming.buffer.initialBufferLevel;return isNaN(ne)||ne<0?0:Math.min(J(),ne)},getRetryAttemptsForType:function(ne){var Q=isNaN(P.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:P.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?P.get().streaming.retryAttempts[ne]*Q:P.get().streaming.retryAttempts[ne]},getRetryIntervalsForType:function(ne){var Q=isNaN(P.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:P.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?P.get().streaming.retryIntervals[ne]/Q:P.get().streaming.retryIntervals[ne]},getCatchupPlaybackRates:function(ne){var Q=P.get().streaming.liveCatchup.playbackRate;if(!isNaN(Q.min)||!isNaN(Q.max))return{min:C(Q.min,ne),max:B(Q.max,ne)};var V=R.getServiceDescriptionSettings();if(V&&V.liveCatchup&&(!isNaN(V.liveCatchup.playbackRate.min)||!isNaN(V.liveCatchup.playbackRate.max))){var re=V.liveCatchup.playbackRate;return{min:C(re.min,ne),max:B(re.max,ne)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(ne,Q){try{var V=P.get().streaming.abr[ne][Q];if(!isNaN(V)&&-1!==V)return V;var re=R.getServiceDescriptionSettings();return re&&re[ne]&&!isNaN(re[ne][Q])?re[ne][Q]:-1}catch{return-1}},setConfig:function(ne){ne.playbackController&&(b=ne.playbackController),ne.serviceDescriptionController&&(R=ne.serviceDescriptionController)},reset:function(){}},p=(0,D.Z)(F).getInstance().getLogger(_),_}Xa.__dashjs_factory_name="MediaPlayerModel";var ro=w.Z.getSingletonFactory(Xa),Qa=H(1767);function yi(_){var p=(_=_||{}).abrController,b=_.switchHistory,R=_.droppedFramesHistory,F=_.currentRequest,P=_.useBufferOccupancyABR,C=_.useL2AABR,B=_.useLoLPABR,J=_.streamProcessor?_.streamProcessor.getScheduleController():null,ne=_.streamProcessor?_.streamProcessor.getRepresentationInfo():null,Q=_.videoModel?_.videoModel:null;function V(){return ne?ne.mediaInfo:null}return{getMediaType:function(){var re=V();return re?re.type:null},getMediaInfo:V,getDroppedFramesHistory:function(){return R},getCurrentRequest:function(){return F},getSwitchHistory:function(){return b},getStreamInfo:function(){var re=V();return re?re.streamInfo:null},getScheduleController:function(){return J},getAbrController:function(){return p},getRepresentationInfo:function(){return ne},useBufferOccupancyABR:function(){return P},useL2AABR:function(){return C},useLoLPABR:function(){return B},getVideoModel:function(){return Q}}}yi.__dashjs_factory_name="RulesContext";var Rs=w.Z.getClassFactory(yi),Ms=H(2068);function ar(){var _=[],p=[];return{push:function(b){b.newValue===Ms.Z.NO_CHANGE&&(b.newValue=b.oldValue),_[b.oldValue]||(_[b.oldValue]={noDrops:0,drops:0,dropSize:0});var R=b.newValue-b.oldValue,F=R<0?1:0,P=F?-R:0,C=F?0:1;if(_[b.oldValue].drops+=F,_[b.oldValue].dropSize+=P,_[b.oldValue].noDrops+=C,p.push({idx:b.oldValue,noDrop:C,drop:F,dropSize:P}),p.length>8){var B=p.shift();_[B.idx].drops-=B.drop,_[B.idx].dropSize-=B.dropSize,_[B.idx].noDrops-=B.noDrop}},getSwitchRequests:function(){return _},reset:function(){_=[],p=[]}}}ar.__dashjs_factory_name="SwitchRequestHistory";var Yl=w.Z.getClassFactory(ar);function Fd(){var _={},p={},b={};return{push:function(R,F,P){if(F){_[R]||(_[R]=[],p[R]=0,b[R]=0);var C=P&&P.droppedVideoFrames?P.droppedVideoFrames:0,B=P&&P.totalVideoFrames?P.totalVideoFrames:0,J=C-p[R];p[R]=C;var ne=B-b[R];b[R]=B;var Q=_[R];isNaN(F)||(Q[F]?(Q[F].droppedVideoFrames+=J,Q[F].totalVideoFrames+=ne):Q[F]={droppedVideoFrames:J,totalVideoFrames:ne})}},getFrameHistory:function(R){return _[R]},clearForStream:function(R){try{delete _[R],delete p[R],delete b[R]}catch{}},reset:function(){_={},p={},b={}}}}Fd.__dashjs_factory_name="DroppedFramesHistory";var Ja=w.Z.getClassFactory(Fd);function bi(_){var p,b,R,F,P,B=(_=_||{}).settings,J=(0,A.Z)(this.context).getInstance();function ne(ge,Ee,Ce,te){var Te=Math.pow(.5,Ce/te.fast);ge.fastEstimate=(1-Te)*Ee+Te*ge.fastEstimate;var le=Math.pow(.5,Ce/te.slow);ge.slowEstimate=(1-le)*Ee+le*ge.slowEstimate,ge.totalWeight+=Ce}function Q(ge,Ee,Ce){return B.get().streaming.abr.movingAverageMethod!==f.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(te,Te){var le=te?P.throughputHalfLife:P.latencyHalfLife,fe=te?R[Te]:F[Te];if(!fe||fe.totalWeight<=0)return NaN;var S=fe.fastEstimate/(1-Math.pow(.5,fe.totalWeight/le.fast)),q=fe.slowEstimate/(1-Math.pow(.5,fe.totalWeight/le.slow));return te?Math.min(S,q):Math.max(S,q)}(ge,Ee):(fe=function(q,Z,U){var L,se;if(q?(L=p[Z],se=U?3:4):(L=b[Z],se=4),L){if(se>=L.length)se=L.length;else if(q)for(var ie=1;ie<se;++ie){var me=L[L.length-ie]/L[L.length-ie-1];if((me>=1.3||me<=.7692307692307692)&&(se+=1)===L.length)break}}else se=0;return se}(te=ge,Te=Ee,Ce),S=(te?p:b)[Te],0!==fe&&S&&0!==S.length?(S=S.slice(-fe)).reduce(function(q,Z){return q+Z})/S.length:NaN);var te,Te,fe,S}function V(ge,Ee){return Q(!0,ge,Ee)}function re(ge){p[ge]=p[ge]||[],b[ge]=b[ge]||[],R[ge]=R[ge]||{fastEstimate:0,slowEstimate:0,totalWeight:0},F[ge]=F[ge]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function ee(){p={},b={},R={},F={}}var Ie={push:function(ge,Ee,Ce){if(Ee.trace&&Ee.trace.length){var te,Te=Ee.tresponse.getTime()-Ee.trequest.getTime()||1,le=Ee._tfinish.getTime()-Ee.tresponse.getTime()||1,fe=Ee.trace.reduce(function(U,L){return U+L.b[0]},0),S=0;if(0!==(te=Ee._fileLoaderType&&Ee._fileLoaderType===f.Z.FILE_LOADER_TYPES.FETCH?Ee.trace.reduce(function(U,L){return U+L.d},0):Ce?le:Te+le)&&(S=Math.round(8*fe/te)),Ee.cmsd){var q=Ee.cmsd.dynamic&&Ee.cmsd.dynamic.etp?Ee.cmsd.dynamic.etp:null;if(q){var Z=B.get().streaming.cmsd.abr.etpWeightRatio;Z>0&&Z<=1&&(S=S*(1-Z)+q*Z)}}if(re(ge),se=le,(U=ge)===f.Z.VIDEO?se<B.get().streaming.cacheLoadThresholds[f.Z.VIDEO]:U===f.Z.AUDIO?se<B.get().streaming.cacheLoadThresholds[f.Z.AUDIO]:void 0){if(p[ge].length>0&&!p[ge].hasCachedEntries)return;p[ge].hasCachedEntries=!0}else p[ge]&&p[ge].hasCachedEntries&&function(U){delete p[U],delete b[U],delete R[U],delete F[U],re(U)}(ge);p[ge].push(S),J.trigger(h.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:S,mediaType:ge,httpRequest:Ee}),p[ge].length>20&&p[ge].shift(),b[ge].push(Te),b[ge].length>20&&b[ge].shift(),ne(R[ge],S,.001*le,P.throughputHalfLife),ne(F[ge],Te,1,P.latencyHalfLife)}var U,se},getAverageThroughput:V,getSafeAverageThroughput:function(ge,Ee){var Ce=V(ge,Ee);return isNaN(Ce)||(Ce*=B.get().streaming.abr.bandwidthSafetyFactor),Ce},getAverageLatency:function(ge){return Q(!1,ge)},reset:ee};return P={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},ee(),Ie}bi.__dashjs_factory_name="ThroughputHistory";var $l=w.Z.getClassFactory(bi);function Qs(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ee,Ce,te,Te,le,fe,S,q,Z,U,L,se=this.context,ie=(0,D.Z)(se).getInstance(),me=(0,A.Z)(se).getInstance();function ce(){F={},P={},B={},C={},Te={},S={},q={},Z={},void 0===ne&&(ne=!1),le&&le.reset(),te=void 0,le=void 0,fe=void 0,clearTimeout(J),J=null}function G(Le){var it=Le.request.mediaType,Ne=Le.streamId;if(it&&Ne&&C[Ne]&&L.get().streaming.abr.autoSwitchBitrate[it]){var Me=C[Ne][it];if(Me){var We=Rs(se).create({abrController:_,streamProcessor:Me,currentRequest:Le.request,useBufferOccupancyABR:S[it],useL2AABR:q[it],useLoLPABR:Z[it],videoModel:ee}),nt=b.shouldAbandonFragment(We,Ne);nt.quality>Ms.Z.NO_CHANGE&&Me.getFragmentModel().getRequests({state:k.FRAGMENT_MODEL_LOADING,index:Le.request.index})[0]&&(B[Ne][it].state=I.Z.ABANDON_LOAD,Te[Ne][it].reset(),Te[Ne][it].push({oldValue:Ue(it,Ne),newValue:nt.quality,confidence:1,reason:nt.reason}),je(it,R.getActiveStreamInfo(),nt.quality,nt.reason),clearTimeout(J),J=setTimeout(function(){B[Ne][it].state=I.Z.ALLOW_LOAD,J=null},L.get().streaming.abandonLoadTimeout))}}}function we(Le){Le.mediaType===f.Z.VIDEO&&(void 0!==te&&le.push(Le.streamId,te,ee.getPlaybackQuality()),te=Le.newQuality)}function Pe(Le){var it,Ne;Le.metric!==I.Z.HTTP_REQUEST||!Le.value||Le.value.type!==ut.w.MEDIA_SEGMENT_TYPE||Le.mediaType!==f.Z.AUDIO&&Le.mediaType!==f.Z.VIDEO||fe.push(Le.mediaType,Le.value,L.get().streaming.abr.useDeadTimeLatency),Le.metric!==I.Z.BUFFER_LEVEL||Le.mediaType!==f.Z.AUDIO&&Le.mediaType!==f.Z.VIDEO||(it=Le.mediaType,Ne=.001*Le.value.level,L.get().streaming.abr.ABRStrategy===f.Z.ABR_STRATEGY_DYNAMIC&&function(Me,We){try{var nt=Ie.getStableBufferTime(),Ft=S[Me],pt=We>(Ft?.5*nt:nt);S[Me]=pt,pt!==Ft&&p.info(pt?"["+Me+"] switching from throughput to buffer occupancy ABR rule (buffer: "+We.toFixed(3)+").":"["+Me+"] switching from buffer occupancy to throughput ABR rule (buffer: "+We.toFixed(3)+").")}catch(on){p.error(on)}}(it,Ne))}function Xe(Le,it){try{var Ne;return F[it]=F[it]||{},F[it].hasOwnProperty(Le)||(F[it][Le]=0),Ne=function(Me,We){var nt=F[We][Me],st=nt;if(!C[We]||!C[We][Me])return st;var Vt=Be(Me,We);void 0!==Vt&&(st=Math.max(nt,Vt));var Ft=function(pt,on){try{var ln=Ie.getAbrBitrateParameter("maxBitrate",pt);return ln>-1?wt(C[on][pt].getMediaInfo(),ln,on):void 0}catch{return}}(Me,We);return void 0!==Ft&&(st=Math.min(st,Ft)),st}(Le,it),Me=Ne,st=F[it][We=Le],Vt=L.get().streaming.abr.maxRepresentationRatio[We],Ne=function(Me,We,nt){if(We!==f.Z.VIDEO||!L.get().streaming.abr.limitBitrateByPortal||!C[nt]||!C[nt][We])return Me;ne||hn();var st=C[nt][We].getStreamInfo(),Vt=re.getAdaptationForType(st.index,We,st).Representation_asArray,Ft=Me;if(Q>0&&V>0){for(;Ft>0&&Vt[Ft]&&Q<Vt[Ft].width&&Q-Vt[Ft-1].width<Vt[Ft].width-Q;)Ft-=1;for(;Ft<Vt.length-1&&Vt[Ft].width===Vt[Ft+1].width;)Ft+=1}return Ft}(Ne=isNaN(Vt)||Vt>=1||Vt<0?Me:Math.min(Me,Math.round(st*Vt)),Le,it),L.get().streaming.cmsd.enabled&&L.get().streaming.cmsd.abr.applyMb&&(Ne=function(Me,We,nt){if("video"!==We)return Me;var st=Ee.getMaxBitrate(We);if(st<0)return Me;var Vt=vt(nt,"audio",Ue("audio",nt));st-=Vt?Vt.bitrate/1e3:0;var Ft=wt(C[nt][We].getMediaInfo(),st,nt);return p.debug("Stream ID: "+nt+" ["+We+"] Apply max bit rate from CMSD: "+st),Math.min(Me,Ft)}(Ne,Le,it)),Ne}catch{return}var Me,We,st,Vt}function Be(Le,it){try{return function(Ne,Me){try{var We=Ie.getAbrBitrateParameter("minBitrate",Ne);if(We>-1){var nt=C[Me][Ne].getMediaInfo(),st=Ct(nt),Vt=wt(nt,We,Me);return st[Vt]&&Vt<st.length-1&&st[Vt].bitrate<1e3*We&&Vt++,Vt}return}catch{return}}(Le,it)}catch{return}}function Ue(Le){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return it||(it=R.getActiveStreamInfo().id),Le&&C[it]&&C[it][Le]&&it?(P[it]=P[it]||{},P[it].hasOwnProperty(Le)||(P[it][Le]=0),P[it][Le]):0}catch{return 0}}function je(Le,it,Ne){var Me=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(it&&it.id&&Le){var We=it.id,nt=Ue(Le,We);(0,ae.SE)(Ne);var st=Xe(Le,We);Ne!==nt&&Ne>=0&&Ne<=st&&Ot(Le,nt,Ne,st,Me,We)}}function Ot(Le,it,Ne,Me,We,nt){if(Le&&C[nt]&&C[nt][Le]){var st=C[nt][Le].getStreamInfo(),Vt=st&&st.manifestInfo&&st.manifestInfo.isDynamic,Ft=U.getCurrentBufferLevel(Le);p.info("Stream ID: "+nt+" ["+Le+"] switch from "+it+" to "+Ne+"/"+Me+" (buffer: "+Ft+") "+(We?JSON.stringify(We):".")),P[nt]=P[nt]||{},P[nt][Le]=Ne;var pt=vt(nt,Le,Ne);me.trigger(v.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:it,newQuality:Ne,reason:We,streamInfo:st,bitrateInfo:pt,maxIdx:Me,mediaType:Le},{streamId:st.id,mediaType:Le});var on=fe.getAverageThroughput(Le,Vt);isNaN(on)||Ce.setSavedBitrateSettings(Le,on)}}function vt(Le,it,Ne){if(it&&C&&C[Le]&&C[Le][it]){var Me=Ct(C[Le][it].getMediaInfo());return Me[Ne]?Me[Ne]:null}return null}function wt(Le,it,Ne){var Me=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,We=Le&&Le.type?C[Ne][Le.type].getRepresentationInfo():null;if(L.get().streaming.abr.useDeadTimeLatency&&Me&&We&&We.fragmentDuration){var nt=We.fragmentDuration;if((Me/=1e3)>nt)return 0;it*=1-Me/nt}for(var Vt=Ct(Le),Ft=Vt.length-1;Ft>=0;Ft--)if(1e3*it>=Vt[Ft].bitrate)return Ft;return 0}function Ct(Le){var it=[];if(!Le||!Le.bitrateList)return it;for(var Ne,Me=Le.bitrateList,We=Le.type,nt=0,st=Me.length;nt<st;nt++)(Ne=new Vc).mediaType=We,Ne.qualityIndex=nt,Ne.bitrate=Me[nt].bandwidth,Ne.width=Me[nt].width,Ne.height=Me[nt].height,Ne.scanType=Me[nt].scanType,it.push(Ne);return it}function hn(){if(ee){var Le=L.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;Q=ee.getClientWidth()*Le,V=ee.getClientHeight()*Le}}return _={initialize:function(){le=Ja(se).create(),fe=$l(se).create({settings:L}),(b=(0,Qa.Z)(se).create({dashMetrics:U,customParametersModel:ge,mediaPlayerModel:Ie,settings:L})).initialize(),me.on(h.Z.QUALITY_CHANGE_RENDERED,we,_),me.on(h.Z.METRIC_ADDED,Pe,_),me.on(v.Z.LOADING_PROGRESS,G,_)},isPlayingAtTopQuality:function(Le){var it=Le?Le.id:null,Ne=Ue(f.Z.AUDIO,it),Me=Ue(f.Z.VIDEO,it);return Ne===Xe(f.Z.AUDIO,it)&&Me===Xe(f.Z.VIDEO,it)},updateTopQualityIndex:function(Le){var it=Le.type,Ne=Le.streamInfo.id,Me=Le.representationCount-1;return F[Ne]=F[Ne]||{},F[Ne][it]=Me,Me},clearDataForStream:function(Le){le&&le.clearForStream(Le),C[Le]&&delete C[Le],Te[Le]&&delete Te[Le],B[Le]&&delete B[Le]},getThroughputHistory:function(){return fe},getBitrateList:Ct,getQualityForBitrate:wt,getTopBitrateInfoFor:function(Le){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(it||(it=R.getActiveStreamInfo().id),Le&&C&&C[it]&&C[it][Le]){var Ne=Xe(Le,it),Me=Ct(C[it][Le].getMediaInfo());return Me[Ne]?Me[Ne]:null}return null},getMinAllowedIndexFor:Be,getMaxAllowedIndexFor:Xe,getInitialBitrateFor:function(Le,it){if(function(){if(!Ce||!Ce.hasOwnProperty("getSavedBitrateSettings"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}(),Le===f.Z.TEXT)return NaN;var Ne=Ce.getSavedBitrateSettings(Le),Me=Ie.getAbrBitrateParameter("initialBitrate",Le),We=L.get().streaming.abr.initialRepresentationRatio[Le];if(-1===Me)if(We>-1){var nt=C[it][Le].getStreamInfo(),st=re.getAdaptationForType(nt.index,Le,nt).Representation_asArray;Me=Array.isArray(st)?st[Math.max(Math.round(st.length*We)-1,0)].bandwidth/1e3:0}else Me=isNaN(Ne)?Le===f.Z.VIDEO?1e3:100:Ne;return Me},getQualityFor:Ue,getAbandonmentStateFor:function(Le,it){return B[Le]&&B[Le][it]?B[Le][it].state:null},setPlaybackQuality:je,checkPlaybackQuality:function(Le,it){try{if(!(Le&&C&&C[it]&&C[it][Le]))return!1;if(le){var Ne=ee.getPlaybackQuality();Ne&&le.push(it,te,Ne)}if(!L.get().streaming.abr.autoSwitchBitrate[Le])return!1;var Me=Ue(Le,it),We=Rs(se).create({abrController:_,switchHistory:Te[it][Le],droppedFramesHistory:le,streamProcessor:C[it][Le],currentValue:Me,useBufferOccupancyABR:S[Le],useL2AABR:q[Le],useLoLPABR:Z[Le],videoModel:ee}),nt=Be(Le,it),st=Xe(Le,it),Vt=b.getMaxQuality(We),Ft=Vt.quality;return void 0!==nt&&(Ft>Ms.Z.NO_CHANGE?Ft:Me)<nt&&(Ft=nt),Ft>st&&(Ft=st),Te[it][Le].push({oldValue:Me,newValue:Ft}),Ft>Ms.Z.NO_CHANGE&&Ft!==Me&&(B[it][Le].state===I.Z.ALLOW_LOAD||Ft<Me)&&(Ot(Le,Me,Ft,st,Vt.reason,it),!0)}catch{return!1}},setElementSize:hn,setWindowResizeEventCalled:function(Le){ne=Le},registerStreamType:function(Le,it){var Me,We,Ne=it.getStreamInfo().id;C[Ne]||(C[Ne]={}),Te[Ne]||(Te[Ne]={}),B[Ne]||(B[Ne]={}),Te[Ne][Le]=Yl(se).create(),C[Ne][Le]=it,B[Ne][Le]={},B[Ne][Le].state=I.Z.ALLOW_LOAD,Me=Le,(We=L.get().streaming.abr.ABRStrategy)===f.Z.ABR_STRATEGY_L2A?(S[Me]=!1,Z[Me]=!1,q[Me]=!0):We===f.Z.ABR_STRATEGY_LoLP?(S[Me]=!1,Z[Me]=!0,q[Me]=!1):We===f.Z.ABR_STRATEGY_BOLA?(S[Me]=!0,Z[Me]=!1,q[Me]=!1):We===f.Z.ABR_STRATEGY_THROUGHPUT?(S[Me]=!1,Z[Me]=!1,q[Me]=!1):We===f.Z.ABR_STRATEGY_DYNAMIC&&(S[Me]=!(!S||!S[Me])&&S[Me],Z[Me]=!1,q[Me]=!1),Le===f.Z.VIDEO&&hn()},unRegisterStreamType:function(Le,it){try{C[Le]&&C[Le][it]&&delete C[Le][it],Te[Le]&&Te[Le][it]&&delete Te[Le][it],B[Le]&&B[Le][it]&&delete B[Le][it]}catch{}},setConfig:function(Le){Le&&(Le.streamController&&(R=Le.streamController),Le.domStorage&&(Ce=Le.domStorage),Le.mediaPlayerModel&&(Ie=Le.mediaPlayerModel),Le.customParametersModel&&(ge=Le.customParametersModel),Le.cmsdModel&&(Ee=Le.cmsdModel),Le.dashMetrics&&(U=Le.dashMetrics),Le.adapter&&(re=Le.adapter),Le.videoModel&&(ee=Le.videoModel),Le.settings&&(L=Le.settings))},reset:function(){ce(),me.off(v.Z.LOADING_PROGRESS,G,_),me.off(h.Z.QUALITY_CHANGE_RENDERED,we,_),me.off(h.Z.METRIC_ADDED,Pe,_),b&&b.reset()}},p=ie.getLogger(_),ce(),_}Qs.__dashjs_factory_name="AbrController";var jo=w.Z.getSingletonFactory(Qs);jo.QUALITY_DEFAULT=0,w.Z.updateSingletonFactory(Qs.__dashjs_factory_name,jo);var Wl=jo,Yh=new Map([[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Ns(){var _,p,b,R,F,P,C,B,J=this.context,ne=(0,A.Z)(J).getInstance(),Q=[];function V(){b&&(b.playbackRate=1,b.removeEventListener("canplay",V))}function re(){return Q.length>0}function ee(){if(b&&re()&&0===b.playbackRate){var le=document.createEvent("Event");le.initEvent("waiting",!0,!1),b.dispatchEvent(le)}}function Ie(le,fe){b&&b.addEventListener(le,fe)}function ge(le,fe){b&&b.removeEventListener(le,fe)}function Ee(){return b?b.readyState:NaN}function Ce(){return b?b.buffered:null}function te(le,fe,S,q,Z){if(b)for(var U=0;U<b.textTracks.length;U++)if(b.textTracks[U].kind===le&&(!fe||b.textTracks[U].label==fe)&&b.textTracks[U].language===S&&b.textTracks[U].isTTML===q&&b.textTracks[U].isEmbedded===Z)return b.textTracks[U];return null}function Te(le,fe){return le===f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||Ee()>=le?(fe(),null):(S=Yh.get(le),q=fe,Ie(S,Z=function U(){ge(S,U),q(S)}),{func:Z,event:S});var S,q,Z}return _={addEventListener:Ie,addTextTrack:function(le,fe,S,q,Z){if(!b)return null;var U=te(le,fe,S,q,Z);return U||((U=b.addTextTrack(le,fe,S)).isEmbedded=Z,U.isTTML=q),U},appendChild:function(le){b&&(b.appendChild(le),void 0!==le.isTTML&&(b.textTracks[b.textTracks.length-1].isTTML=le.isTTML,b.textTracks[b.textTracks.length-1].isEmbedded=le.isEmbedded))},getBufferRange:Ce,getClientHeight:function(){return b?b.clientHeight:NaN},getClientWidth:function(){return b?b.clientWidth:NaN},getElement:function(){return b},getEnded:function(){return b?b.ended:null},getPlaybackQuality:function(){if(!b)return null;var le="webkitDroppedFrameCount"in b&&"webkitDecodedFrameCount"in b,fe=null;return"getVideoPlaybackQuality"in b?fe=b.getVideoPlaybackQuality():le&&(fe={droppedVideoFrames:b.webkitDroppedFrameCount,totalVideoFrames:b.webkitDroppedFrameCount+b.webkitDecodedFrameCount,creationTime:new Date}),fe},getPlaybackRate:function(){return b?b.playbackRate:null},getPlayedRanges:function(){return b?b.played:null},getReadyState:Ee,getSource:function(){return b?b.src:null},getTTMLRenderingDiv:function(){return P},getTextTrack:te,getTextTracks:function(){return b?b.textTracks:[]},getTime:function(){return b?isNaN(R)?b.currentTime:R:null},getVideoHeight:function(){return b?b.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(b){var le=b.parentNode.host||b.parentNode;return le?b.getBoundingClientRect().left-le.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(b){var le=b.parentNode.host||b.parentNode;return le?b.getBoundingClientRect().top-le.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return b?b.videoWidth:NaN},getVttRenderingDiv:function(){return C},initialize:function(){ne.on(v.Z.PLAYBACK_PLAYING,ee,this)},isPaused:function(){return b?b.paused:null},isSeeking:function(){return b?b.seeking||!isNaN(R):null},isStalled:re,pause:function(){b&&(b.pause(),b.autoplay=!1)},play:function(){if(b){b.autoplay=!0;var le=b.play();le&&le.catch&&typeof Promise<"u"&&le.catch(function(fe){"NotAllowedError"===fe.name&&ne.trigger(v.Z.PLAYBACK_NOT_ALLOWED),p.warn("Caught pending play exception - continuing (".concat(fe,")"))})}},removeChild:function(le){b&&b.removeChild(le)},removeEventListener:ge,reset:function(){clearTimeout(B),ne.off(v.Z.PLAYBACK_PLAYING,ee,this)},setCurrentTime:function(le,fe){b&&(F&&F.func&&F.event&&ge(F.event,F.func),R=le,F=Te(f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(b)if(b.currentTime!==R)try{R=fe?function(S){var q=Ce(),Z=S,U=9999999999;if(q)for(var L=0;L<q.length;L++){var se=q.start(L),ie=q.end(L),me=Math.abs(se-S),ce=Math.abs(ie-S);if(S>=se&&S<=ie)return S;me<U&&(U=me,Z=se),ce<U&&(U=ce,Z=ie)}return Z}(R):R,isNaN(R)||(b.currentTime=R),R=NaN}catch(S){0===b.readyState&&S.code===S.INVALID_STATE_ERR&&(B=setTimeout(function(){b.currentTime=R,R=NaN},400))}else R=NaN}))},setElement:function(le){if(!(null==le||le&&/^(VIDEO|AUDIO)$/i.test(le.nodeName)))throw"element is not video or audio DOM type!";(b=le)&&(b.preload="auto")},setPlaybackRate:function(le){b&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&b.readyState<=2&&le>0?b.addEventListener("canplay",V):b.playbackRate=le)},setSource:function(le){b&&(le?b.src=le:(b.removeAttribute("src"),b.load()))},setStallState:function(le,fe){var S,Z;S=le,fe?null!==(Z=S)&&b&&!b.seeking&&-1===Q.indexOf(Z)&&Q.push(Z):function(Z){var U=Q.indexOf(Z);null!==Z&&-1!==U&&Q.splice(U,1)}(S)},setTTMLRenderingDiv:function(le){(P=le).style.position="absolute",P.style.display="flex",P.style.overflow="hidden",P.style.pointerEvents="none",P.style.top=0,P.style.left=0},setVttRenderingDiv:function(le){C=le},waitForReadyState:Te},p=(0,D.Z)(J).getInstance().getLogger(_),R=NaN,_}Ns.__dashjs_factory_name="VideoModel";var Os=w.Z.getSingletonFactory(Ns),Kl=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],el="dashjs_?_bitrate",Tr="dashjs_?_settings",Xl="localStorage",tu="lastBitrate",Ld="lastMediaSettings";function es(_){var p,b,R,P=(_=_||{}).settings;function C(Q){if(void 0!==R)return R;var V;R=!1;try{typeof window<"u"&&(V=window[Q])}catch(re){return b.warn("DOMStorage access denied: "+re.message),R}if(!V||Q!==Xl&&"sessionStorage"!==Q)return R;try{V.setItem("1","1"),V.removeItem("1"),R=!0}catch(re){b.warn("DOMStorage is supported, but cannot be used: "+re.message)}return R}function B(){var Q=6e5;return Math.round((new Date).getTime()/Q)*Q}function J(Q,V){return C(Q)&&P.get().streaming[V+"CachingInfo"].enabled}function ne(){if(!P)throw new Error(f.Z.MISSING_CONFIG_ERROR)}return p={getSavedBitrateSettings:function(Q){if(ne(),!P.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var V=NaN;if(J(Xl,tu)){var re=el.replace(/\?/,Q);try{var ee=JSON.parse(localStorage.getItem(re))||{},Ie=(new Date).getTime()-parseInt(ee.timestamp,10)>=P.get().streaming.lastBitrateCachingInfo.ttl||!1,ge=parseFloat(ee.bitrate);isNaN(ge)||Ie?Ie&&localStorage.removeItem(re):(V=ge,b.debug("Last saved bitrate for "+Q+" was "+ge))}catch{return null}}return V},setSavedBitrateSettings:function(Q,V){if(J(Xl,tu)&&V){var re=el.replace(/\?/,Q);try{localStorage.setItem(re,JSON.stringify({bitrate:V.toFixed(3),timestamp:B()}))}catch(ee){b.error(ee.message)}}},getSavedMediaSettings:function(Q){if(ne(),!P.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var V=null;if(J(Xl,Ld)){var re=Tr.replace(/\?/,Q);try{var ee=JSON.parse(localStorage.getItem(re))||{},Ie=(new Date).getTime()-parseInt(ee.timestamp,10)>=P.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;V=ee.settings,Ie&&(localStorage.removeItem(re),V=null)}catch{return null}}return V},setSavedMediaSettings:function(Q,V){if(J(Xl,Ld)){var re=Tr.replace(/\?/,Q);try{localStorage.setItem(re,JSON.stringify({settings:V,timestamp:B()}))}catch(ee){b.error(ee.message)}}}},b=(0,D.Z)(this.context).getInstance().getLogger(p),C(Xl)&&Kl.forEach(function(Q){var V=localStorage.getItem(Q.oldKey);if(V){localStorage.removeItem(Q.oldKey);try{localStorage.setItem(Q.newKey,V)}catch(re){b.error(re.message)}}}),p}es.__dashjs_factory_name="DOMStorage";var nu=w.Z.getSingletonFactory(es),tl=H(2032),nl=H(2011);function Oi(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re,ee=this.context;function Ie(te,Te,le,fe){var S=null,q=te?re.resolve(te.path):null,Z=fe||{init:!0,url:q?q.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:Te};p.debug("Start searching for initialization.");var U=Ce(Z);B.load({request:U,success:function(L){if(Z.bytesLoaded=Z.range.end,!(S=R.findInitRange(L)))return Z.range.end=Z.bytesLoaded+Z.bytesToLoad,Ie(te,Te,le,Z);te.range=S,le(te)},error:function(){le(te)}}),p.debug("Perform init search: "+Z.url)}function ge(te,Te,le,fe,S,q){if(le&&(void 0===le.start||void 0===le.end)){var Z=le?le.toString().split("-"):null;le=Z?{start:parseFloat(Z[0]),end:parseFloat(Z[1])}:null}S=S||Ee;var U=null,L=null,se=!!le,ie=te?re.resolve(te.path):null,me={init:!1,url:ie?ie.url:void 0,range:se?le:{start:0,end:1500},searching:!se,bytesLoaded:q?q.bytesLoaded:0,bytesToLoad:1500,mediaType:Te},ce=Ce(me);B.load({request:ce,success:function(G){var we=me.bytesToLoad,Pe=G.byteLength;if(me.bytesLoaded=me.range.end-me.range.start,U=R.parse(G),(L=U.getBox("sidx"))&&L.isComplete){var Xe,Be,Ue=L.references;if(null!=Ue&&Ue.length>0&&(Xe=1===Ue[0].reference_type),Xe){var je,Ot,vt,wt;p.debug("Initiate multiple SIDX load."),me.range.end=me.range.start+L.size;var Ct=[],hn=0,Le=(L.offset||me.range.start)+L.size,it=function(Me){Me?(Ct=Ct.concat(Me),++hn>=Ot&&(Ct.sort(function(We,nt){return We.startTime-nt.startTime<0?-1:0}),S(Ct,te,fe))):S(null,te,fe)};for(je=0,Ot=Ue.length;je<Ot;je++)vt=Le,wt=Le+Ue[je].referenced_size-1,Le+=Ue[je].referenced_size,ge(te,Te,{start:vt,end:wt},fe,it,me)}else p.debug("Parsing segments from SIDX. representation "+Te+" - id: "+te.id+" for range : "+me.range.start+" - "+me.range.end),Be=function(Me,We){for(var nt,Vt,Ft,pt=Me.references,on=pt.length,ln=Me.timescale,cn=Me.earliest_presentation_time,bn=We.range.start+Me.offset+Me.first_offset+Me.size,xn=[],Ln=0;Ln<on;Ln++)Vt=pt[Ln].subsegment_duration,Ft=pt[Ln].referenced_size,(nt=new nl.Z).duration=Vt,nt.startTime=cn,nt.timescale=ln,nt.mediaRange=bn+"-"+(bn+Ft-1),xn.push(nt),cn+=Vt,bn+=Ft;return xn}(L,me),S(Be,te,fe)}else{if(L)me.range.start=L.offset||me.range.start,me.range.end=me.range.start+(L.size||we);else{if(Pe<me.bytesLoaded)return void S(null,te,fe);var Ne=U.getLastBox();Ne&&Ne.size?(me.range.start=Ne.offset+Ne.size,me.range.end=me.range.start+we):me.range.end+=we}ge(te,Te,me.range,fe,null,me)}},error:function(){S(null,te,fe)}}),p.debug("Perform SIDX load for type ".concat(Te," : ").concat(me.url," with range ").concat(me.range.start," - ").concat(me.range.end))}function Ee(te,Te,le){le({segments:te,representation:Te,error:te?void 0:new K.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Ce(te){if(te.url){var Te=new j.Z;return Te.setInfo(te),Te}}return _={setConfig:function(te){te.baseURLController&&(re=te.baseURLController),te.dashMetrics&&(P=te.dashMetrics),te.mediaPlayerModel&&(C=te.mediaPlayerModel),te.errHandler&&(b=te.errHandler),te.boxParser&&(R=te.boxParser),te.debug&&(p=te.debug.getLogger(_)),te.requestModifier&&(F=te.requestModifier),te.errors&&(J=te.errors),te.urlUtils&&(V=te.urlUtils),te.constants&&(ne=te.constants),te.dashConstants&&(Q=te.dashConstants)},initialize:function(){B=Ar(ee).create({errHandler:b,dashMetrics:P,mediaPlayerModel:C,requestModifier:F,boxParser:R,errors:J,urlUtils:V,constants:ne,dashConstants:Q})},loadInitialization:function(te,Te){return new Promise(function(le){Ie(te,Te,le)})},loadSegments:function(te,Te,le){return new Promise(function(fe){ge(te,Te,le,fe)})},reset:function(){B&&(B.abort(),B=null)}}}Oi.__dashjs_factory_name="SegmentBaseLoader";var R0=w.Z.getSingletonFactory(Oi);function uo(_){var p;_=_||{};var b=new DataView(_.data),R=0;function F(C,B){var J=!0,ne=0;if(void 0===B&&(B=!1),C.tag>16777215?(b.getUint32(R)!==C.tag&&(J=!1),ne=4):C.tag>65535?(256*b.getUint16(R)+b.getUint8(R+2)!==C.tag&&(J=!1),ne=3):C.tag>255?(b.getUint16(R)!==C.tag&&(J=!1),ne=2):(b.getUint8(R)!==C.tag&&(J=!1),ne=1),!J&&C.required&&!B)throw new Error("required tag not found");return J&&(R+=ne),J}function P(C){var B=1,J=128,ne=-1,Q=0,V=b.getUint8(R),re=0;for(re=0;re<8;re+=1){if((V&J)===J){Q=void 0===C?V&~J:V,ne=re;break}J>>=1}for(re=0;re<ne;re+=1,B+=1)Q=Q<<8|255&b.getUint8(R+B);return R+=B,Q}return p={getPos:function(){return R},setPos:function(C){R=C},consumeTag:F,consumeTagAndSize:function(C,B){var J=F(C,B);return J&&P(),J},parseTag:function(C){var B;return F(C),B=P(),p[C.parse](B)},skipOverElement:function(C,B){var J,ne=F(C,B);return ne&&(J=P(),R+=J),ne},getMatroskaCodedNum:P,getMatroskaFloat:function(C){var B;switch(C){case 4:B=b.getFloat32(R),R+=4;break;case 8:B=b.getFloat64(R),R+=8}return B},getMatroskaUint:function(C){if(C>4)return function(ne){for(var Q=Math.floor(Number.MAX_SAFE_INTEGER/256),V=0,re=0;re<ne;re+=1){if(V>Q)throw new Error("Value exceeds safe integer limit");V*=256;var ee=b.getUint8(R+re);if(V>Number.MAX_SAFE_INTEGER-ee)throw new Error("Value exceeds safe integer limit");V+=ee}return R+=ne,V}(C);for(var B=0,J=0;J<C;J+=1)B<<=8,B|=255&b.getUint8(R+J);return R+=C,B>>>0},moreData:function(){return R<b.byteLength}}}uo.__dashjs_factory_name="EBMLParser";var io=w.Z.getClassFactory(uo);function ru(){var _,p,b,R,F,P,C,B,J,ne,Q=this.context;function V(re){var ee=new j.Z;return ee.setInfo(re),ee}return _={setConfig:function(re){if(!(re.baseURLController&&re.dashMetrics&&re.mediaPlayerModel&&re.errHandler))throw new Error(f.Z.MISSING_CONFIG_ERROR);ne=re.baseURLController,P=re.dashMetrics,C=re.mediaPlayerModel,R=re.errHandler,J=re.errors,p=re.debug.getLogger(_),F=re.requestModifier},initialize:function(){B=Ar(Q).create({errHandler:R,dashMetrics:P,mediaPlayerModel:C,requestModifier:F,errors:J})},loadInitialization:function(re,ee){return new Promise(function(Ie){var ge=null,Ee=re?ne.resolve(re.path):null,Ce=re?re.range.split("-"):null,te={range:{start:Ce?parseFloat(Ce[0]):null,end:Ce?parseFloat(Ce[1]):null},request:ge,url:Ee?Ee.url:void 0,init:!0,mediaType:ee};p.info("Start loading initialization."),ge=V(te),B.load({request:ge,success:function(){Ie(re)},error:function(){Ie(re)}}),p.debug("Perform init load: "+te.url)})},loadSegments:function(re,ee,Ie){return new Promise(function(ge){var Ee=null,Ce=re?ne.resolve(re.path):null,te=Ce?Ce.url:void 0;Ee=V({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Ee,url:te,init:!1,mediaType:ee}),p.debug("Parsing ebml header"),B.load({request:Ee,success:function(Te){!function(le,fe,S,q){if(le&&0!==le.byteLength){var Z,U,L,se,ie=io(Q).create({data:le}),me=S?S.split("-"):null,ce=null,G={url:fe,range:{start:me?parseFloat(me[0]):null,end:me?parseFloat(me[1]):null},request:ce};for(p.debug("Parse EBML header: "+G.url),ie.skipOverElement(b.EBML),ie.consumeTag(b.Segment),L=ie.getMatroskaCodedNum(),L+=ie.getPos(),se=ie.getPos();ie.moreData()&&!ie.consumeTagAndSize(b.Segment.Info,!0);)if(!(ie.skipOverElement(b.Segment.SeekHead,!0)||ie.skipOverElement(b.Segment.Tracks,!0)||ie.skipOverElement(b.Segment.Cues,!0)||ie.skipOverElement(b.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Z;){var we=ie.getMatroskaCodedNum(!0),Pe=ie.getMatroskaCodedNum();we===b.Segment.Info.Duration.tag?Z=ie[b.Segment.Info.Duration.parse](Pe):ie.setPos(ie.getPos()+Pe)}ce=V(G),B.load({request:ce,success:function(Xe){U=function(Be,Ue,je,Ot){var wt,Ct,hn,Le,it;for(Ct=[],Le=0,it=(wt=function(We){var nt,st,Vt=[],Ft=io(Q).create({data:We});for(Ft.consumeTagAndSize(b.Segment.Cues);Ft.moreData()&&Ft.consumeTagAndSize(b.Segment.Cues.CuePoint,!0);){for((nt={}).CueTime=Ft.parseTag(b.Segment.Cues.CuePoint.CueTime),nt.CueTracks=[];Ft.moreData()&&Ft.consumeTag(b.Segment.Cues.CuePoint.CueTrackPositions,!0);){var pt=Ft.getMatroskaCodedNum(),on=Ft.getPos();if((st={}).Track=Ft.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===st.Track)throw new Error("Cue track cannot be 0");st.ClusterPosition=Ft.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),nt.CueTracks.push(st),Ft.setPos(on+pt)}if(0===nt.CueTracks.length)throw new Error("Mandatory cuetrack not found");Vt.push(nt)}if(0===Vt.length)throw new Error("mandatory cuepoint not found");return Vt}(Be)).length;Le<it;Le+=1)(hn=new nl.Z).duration=Le<wt.length-1?wt[Le+1].CueTime-wt[Le].CueTime:Ot-wt[Le].CueTime,hn.startTime=wt[Le].CueTime,hn.timescale=1e3,hn.mediaRange=wt[Le].CueTracks[0].ClusterPosition+Ue+"-"+(Le<wt.length-1?wt[Le+1].CueTracks[0].ClusterPosition+Ue-1:je-1),Ct.push(hn);return p.debug("Parsed cues: "+Ct.length+" cues."),Ct}(Xe,se,L,Z),q(U)},error:function(){p.error("Download Error: Cues "+G.url),q(null)}}),p.debug("Perform cues load: "+G.url+" bytes="+G.range.start+"-"+G.range.end)}else q(null)}(Te,te,Ie,function(le){ge({segments:le,representation:re,error:le?void 0:new K.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ge({representation:re,error:new K.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){B&&(B.abort(),B=null)}},b={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},_}ru.__dashjs_factory_name="WebmSegmentBaseLoader";var Ia=w.Z.getSingletonFactory(ru);function Ql(_){var p,b,R,F=this.context,P=(_=_||{}).eventBus,C=_.events,B=_.dashMetrics,J=_.mediaPlayerModel,ne=_.errHandler,Q=_.baseURLController,V=_.debug,re=_.boxParser,ee=_.requestModifier,Ie=_.errors;function ge(Ee){return"webm"===(Ee?Ee.split("/")[1]:"").toLowerCase()}return p={initialize:function(){b.initialize(),R.initialize()},getSegmentBaseInitSegment:function(Ee){return ge(Ee.representation.mimeType)?R.loadInitialization(Ee.representation,Ee.mediaType):b.loadInitialization(Ee.representation,Ee.mediaType)},getSegmentList:function(Ee){return ge(Ee.mimeType)?R.loadSegments(Ee.representation,Ee.mediaType,Ee.representation?Ee.representation.indexRange:null):b.loadSegments(Ee.representation,Ee.mediaType,Ee.representation?Ee.representation.indexRange:null)},reset:function(){b.reset(),R.reset()}},b=R0(F).getInstance(),R=Ia(F).getInstance(),b.setConfig({baseURLController:Q,dashMetrics:B,mediaPlayerModel:J,errHandler:ne,eventBus:P,events:C,errors:Ie,debug:V,boxParser:re,requestModifier:ee}),R.setConfig({baseURLController:Q,dashMetrics:B,mediaPlayerModel:J,errHandler:ne,eventBus:P,events:C,errors:Ie,debug:V,requestModifier:ee}),p}Ql.__dashjs_factory_name="SegmentBaseController";var ts=w.Z.getSingletonFactory(Ql),iu=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Bd=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},$h=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},M0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};var T_=function(){function _(R){var F=this;(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this.valid="/"==R[0],this.path=R.split("/").filter(function(P){return 0!==P.length}).map(function(P){var C={name:P},B=P.indexOf("[");if(-1!=B){C.name=P.substring(0,B);var J=P.substring(B+1,P.length-1);F.valid=F.valid&&-1==J.indexOf("[");var ne=J.indexOf("=");-1!=ne?(C.attribute={name:J.substring(1,ne),value:J.substring(ne+1)},-1!=["'",'"'].indexOf(C.attribute.value[0])&&(C.attribute.value=C.attribute.value.substring(1,C.attribute.value.length-1))):C.position=parseInt(J,10)-1}return C})}var b;return(b=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return"text()"===this.path[this.path.length-1].name}},{key:"getMpdTarget",value:function(R,F){for(var P=null,C=R,B=1,J="MPD";B<this.path.length&&null!==C;){P=C;var ne=this.path[B];if(J=ne.name,B!==this.path.length-1||!J.startsWith("@")&&"text()"!==J){var Q=P[J+"_asArray"]||[];0===Q.length&&P[J]&&Q.push(P[J]),ne.position?C=Q[ne.position]||null:ne.attribute?function(){var V=ne.attribute;C=Q.filter(function(re){return re[V.name]==V.value})[0]||null}():C=Q[0]||null}B++}return null===C?null:J.startsWith("@")?{name:J.substring(1),leaf:C,target:C}:"text()"===J?{name:"__text",leaf:C,target:C}:{name:J,leaf:C,target:F?P:C}}}])&&function E_(_,p){for(var b=0;b<p.length;b++){var R=p[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}(_.prototype,b),_}();var O0=function(){function _(R,F,P){(function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")})(this,_),this.action=R,this.xpath=F,this.value=P,this.position=null}var b;return(b=[{key:"getMpdTarget",value:function(R){return this.xpath.getMpdTarget(R,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}])&&function N0(_,p){for(var b=0;b<p.length;b++){var R=p[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}(_.prototype,b),_}();function w_(){var _,p;return _={getIsPatch:function(R){return R&&R.hasOwnProperty(d.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(R){return R&&R.hasOwnProperty(d.Z.PUBLISH_TIME)?new Date(R[d.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(R){return R&&R.hasOwnProperty(d.Z.ORIGINAL_PUBLISH_TIME)?new Date(R[d.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(R){return R&&R[d.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(R){return R?(R.__children||[]).map(function(F){var P=Object.keys(F)[0];if("add"!==P&&"remove"!==P&&"replace"!==P)return p.warn("Ignoring node of invalid action: ".concat(P)),null;var C=F[P],B=C.sel;if("add"===P&&C.type){if(!C.type.startsWith("@"))return p.warn("Ignoring add action for prefixed namespace declaration: ".concat(C.type,"=").concat(C.__text)),null;B="".concat(B,"/").concat(C.type)}var J=new T_(B);if(!J.isValid())return p.warn("Ignoring action with invalid selector: ".concat(P," - ").concat(B)),null;var ne=null;J.findsAttribute()||J.findsTextReplace()?ne=C.__text||"":"remove"!==P&&(ne=C.__children.reduce(function(V,re){var ee=Object.keys(re)[0];return"#text"!==ee&&(V[ee]=V[ee]||[],V[ee].push(re[ee])),V},{}));var Q=new O0(P,J,ne);return"add"===P&&(Q.position=C.pos),Q}).filter(function(F){return!!F}):[]}},p=(0,D.Z)(this.context).getInstance().getLogger(_),_}w_.__dashjs_factory_name="PatchManifestModel";var P0=w.Z.getSingletonFactory(w_);function S_(){var _,p,b,R,F,P,C,B=this.context;function J(Z,U,L){var ie=p.getAdaptationsForType(R[0].mpd.manifest,Z,U);if(!ie||0===ie.length)return null;if(ie.length>1&&L){var me=V(L,U);if(F[L.id]&&F[L.id][U])for(var ce=0,G=ie.length;ce<G;ce++)if(ne(F[L.id][U],me[ce]))return ie[ce];for(var we=0,Pe=ie.length;we<Pe;we++)if(p.getRolesForAdaptation(ie[we]).filter(function(Xe){return Xe.value===d.Z.MAIN})[0])return ie[we]}return ie[0]}function ne(Z,U){if(!Z||!U)return!1;var L=Z.id===U.id,se=Z.codec===U.codec,ie=Z.viewpoint===U.viewpoint,me=JSON.stringify(Z.viewpointsWithSchemeIdUri)===JSON.stringify(U.viewpointsWithSchemeIdUri),ce=Z.lang===U.lang,G=Z.roles.toString()===U.roles.toString(),we=JSON.stringify(Z.rolesWithSchemeIdUri)===JSON.stringify(U.rolesWithSchemeIdUri),Pe=Z.accessibility.toString()===U.accessibility.toString(),Xe=JSON.stringify(Z.accessibilitiesWithSchemeIdUri)===JSON.stringify(U.accessibilitiesWithSchemeIdUri),Be=Z.audioChannelConfiguration.toString()===U.audioChannelConfiguration.toString(),Ue=JSON.stringify(Z.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(U.audioChannelConfigurationsWithSchemeIdUri);return L&&se&&ie&&me&&ce&&G&&we&&Pe&&Xe&&Be&&Ue}function Q(Z,U,L,se,ie,me){var G,we,Pe,Xe,Be,Ue=[];if(!se||0===se.length)return[];var je=p.getAdaptationsForPeriod(U);for(Pe=0,Be=se.length;Pe<Be;Pe++)if(G=te(je[we=p.getIndexForAdaptation(se[Pe],Z,L.index)]),me){var Ot=G.accessibility.length;for(Xe=0;Xe<Ot;Xe++)if(G){var vt=G.accessibility[Xe];if(0===vt.indexOf("cea-608:")){var wt=vt.substring(8).split(";");if("CC"===wt[0].substring(0,2))for(Xe=0;Xe<wt.length;Xe++)G||(G=te.call(this,je[we])),Te(G,wt[Xe].substring(0,3),wt[Xe].substring(4)),Ue.push(G),G=null;else for(Xe=0;Xe<wt.length;Xe++)G||(G=te.call(this,je[we])),Te(G,"CC"+(Xe+1),wt[Xe]),Ue.push(G),G=null}else 0===vt.indexOf("cea-608")&&(Te(G,P.CC1,"eng"),Ue.push(G),G=null)}}else ie===P.IMAGE?(G.type=P.IMAGE,Ue.push(G),G=null):G&&Ue.push(G);return Ue}function V(Z,U,L){var se=R,ie=L,me=[];if(ie)fe(),se=re(ie);else{if(!(R.length>0))return me;ie=R[0].mpd.manifest}var ce=Ce(Z,se),G=p.getAdaptationsForType(ie,Z?Z.index:null,U);return me=Q(ie,ce,Z,G,U),U===P.TEXT&&(G=p.getAdaptationsForType(ie,Z?Z.index:null,P.VIDEO),me=me.concat(Q(ie,ce,Z,G,U,!0))),me}function re(Z){var U=ee(Z);return p.getRegularPeriods(U)}function ee(Z){var U=ge(Z);return p.getMpd(U)}function Ie(){R=[],F={}}function ge(Z){return Z||(R.length>0?R[0].mpd.manifest:null)}function Ee(Z){try{var U=Ce(Z.streamInfo,R),L=p.getAdaptationsForPeriod(U);return Z&&Z.streamInfo&&void 0!==Z.streamInfo.id&&L?L[Z.index]:null}catch{return null}}function Ce(Z,U){for(var L=U.length,se=0;se<L;se++){var ie=U[se];if(Z&&Z.id===ie.id)return ie}return null}function te(Z){if(!Z)return null;var U,L,se,ie,me,ce=new Bd,G=Z.period.mpd.manifest.Period_asArray[Z.period.index].AdaptationSet_asArray[Z.index];if(ce.id=Z.id,ce.index=Z.index,ce.type=Z.type,ce.streamInfo=le(Z.period),ce.representationCount=p.getRepresentationCount(G),ce.labels=p.getLabelsForAdaptation(G),ce.lang=p.getLanguageForAdaptation(G),ce.segmentAlignment=p.getSegmentAlignment(G),ce.subSegmentAlignment=p.getSubSegmentAlignment(G),U=p.getViewpointForAdaptation(G),ce.viewpoint=U.length?U[0].value:void 0,ce.viewpointsWithSchemeIdUri=U,me=p.getAccessibilityForAdaptation(G),ce.accessibility=me.map(function(Ue){var je=Ue.value,Ot=je;return Ue.schemeIdUri&&Ue.schemeIdUri.search("cea-608")>=0&&void 0!==C&&(Ot=je?"cea-608:"+je:"cea-608",ce.embeddedCaptions=!0),Ot}),ce.accessibilitiesWithSchemeIdUri=me,L=p.getAudioChannelConfigurationForAdaptation(G),ce.audioChannelConfiguration=L.map(function(Ue){return Ue.value}),ce.audioChannelConfigurationsWithSchemeIdUri=L,0===ce.audioChannelConfiguration.length&&Array.isArray(G.Representation_asArray)&&G.Representation_asArray.length>0&&(se=p.getAudioChannelConfigurationForRepresentation(G.Representation_asArray[0]),ce.audioChannelConfiguration=se.map(function(Ue){return Ue.value}),ce.audioChannelConfigurationsWithSchemeIdUri=se),ie=p.getRolesForAdaptation(G),ce.roles=ie.map(function(Ue){return Ue.value}),ce.rolesWithSchemeIdUri=ie,ce.codec=p.getCodec(G),ce.mimeType=p.getMimeType(G),ce.contentProtection=p.getContentProtectionData(G),ce.bitrateList=p.getBitrateListForAdaptation(G),ce.selectionPriority=p.getSelectionPriority(G),ce.contentProtection){var we=ce.contentProtection.map(function(Ue){return p.getKID(Ue)}).filter(function(Ue){return null!==Ue});if(we.length){var Pe=we[0];ce.contentProtection.forEach(function(Ue){Ue.keyId=Pe})}}if(ce.isText=p.getIsText(G),ce.supplementalProperties=p.getSupplementalPropertiesForAdaptation(G),(!ce.supplementalProperties||0===Object.keys(ce.supplementalProperties).length)&&Array.isArray(G.Representation_asArray)&&G.Representation_asArray.length>0){var Xe=G.Representation_asArray.map(function(Ue){return p.getSupplementalPropertiesForRepresentation(Ue)});Xe.every(function(Ue){return JSON.stringify(Ue)===JSON.stringify(Xe[0])})&&(ce.supplementalProperties=Xe[0])}if(ce.supplementalPropertiesAsArray=p.getSupplementalPropertiesAsArrayForAdaptation(G),(!ce.supplementalPropertiesAsArray||0===ce.supplementalPropertiesAsArray.length)&&Array.isArray(G.Representation_asArray)&&G.Representation_asArray.length>0){var Be=G.Representation_asArray.map(function(Ue){return p.getSupplementalPropertiesAsArrayForRepresentation(Ue)});Be.every(function(Ue){return JSON.stringify(Ue)===JSON.stringify(Be[0])})&&(ce.supplementalPropertiesAsArray=Be[0])}return ce.isFragmented=p.getIsFragmented(G),ce.isEmbedded=!1,ce}function Te(Z,U,L){Z.id=U,Z.index=100+parseInt(U.substring(2,3)),Z.type=P.TEXT,Z.codec="cea-608-in-SEI",Z.isEmbedded=!0,Z.isFragmented=!1,Z.lang=Pl()(L),Z.roles=["caption"],Z.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function le(Z){var U,L,se=new $h;return se.id=Z.id,se.index=Z.index,se.start=Z.start,se.duration=Z.duration,se.manifestInfo=(U=Z.mpd,(L=new M0).dvrWindowSize=U.timeShiftBufferDepth,L.loadedTime=U.manifest.loadedTime,L.availableFrom=U.availabilityStartTime,L.minBufferTime=U.manifest.minBufferTime,L.maxFragmentDuration=U.maxSegmentDuration,L.duration=p.getDuration(U.manifest),L.isDynamic=p.getIsDynamic(U.manifest),L.serviceDescriptions=p.getServiceDescriptions(U.manifest),L.protocol=U.manifest.protocol,L),se.isLast=1===Z.mpd.manifest.Period_asArray.length||Math.abs(se.start+se.duration-se.manifestInfo.duration)<1,se}function fe(){if(!P)throw new Error("setConfig function has to be called previously")}function S(Z){return R.length>0?R[0].mpd.manifest.Period_asArray[Z]:null}function q(Z,U,L){var se,ie,me,ce,G;if(Z)for(se=Z.AdaptationSet_asArray,ce=0;ce<se.length;ce+=1)for(me=se[ce].Representation_asArray,G=0;G<me.length;G+=1)if(U===(ie=me[G]).id)return L?G:ie;return null}return _={getBandwidthForRepresentation:function(Z,U){var L;return(L=q(S(U),Z))?L.bandwidth:null},getIndexForRepresentation:function(Z,U){return null!==(ie=q(S(U),Z,!0))?ie:-1;var ie},getMaxIndexForBufferType:function(Z,U){return function(L,se){var ie,me,ce,G;if(!L||!se)return-1;for(me=L.AdaptationSet_asArray,G=0;G<me.length;G+=1)if(ce=(ie=me[G]).Representation_asArray,p.getIsTypeOf(ie,se))return ce.length;return-1}(S(U),Z)},convertRepresentationToRepresentationInfo:function(Z){if(Z){var U=new iu,se=p.getRepresentationFor(Z.index,Z.adaptation.period.mpd.manifest.Period_asArray[Z.adaptation.period.index].AdaptationSet_asArray[Z.adaptation.index]);return U.id=Z.id,U.quality=Z.index,U.bandwidth=p.getBandwidth(se),U.fragmentDuration=Z.segmentDuration||(Z.segments&&Z.segments.length>0?Z.segments[0].duration:NaN),U.MSETimeOffset=Z.MSETimeOffset,U.mediaInfo=te(Z.adaptation),U}return null},getStreamsInfo:function(Z,U){var L=[],se=R;if(Z&&(fe(),se=re(Z)),se.length>0){(!U||U>se.length)&&(U=se.length);for(var ie=0;ie<U;ie++)L.push(le(se[ie]))}return L},getMediaInfoForType:function(Z,U){if(0===R.length||!Z)return null;var L=Ce(Z,R);if(!L)return null;var se=p.getAdaptationsForPeriod(L),ie=J(Z.index,U,Z);return ie?te(se[p.getIndexForAdaptation(ie,R[0].mpd.manifest,Z.index)]):null},getAllMediaInfoForType:V,getAdaptationForType:J,getRealAdaptation:function(Z,U){var L,se,ie=Ce(Z,R);return L=U?U.id:null,R.length>0&&ie&&(se=L?p.getAdaptationForId(L,R[0].mpd.manifest,ie.index):p.getAdaptationForIndex(U?U.index:null,R[0].mpd.manifest,ie.index)),se},getProducerReferenceTimes:function(Z,U){var L,se,ie=Ce(Z,R);return L=U?U.id:null,R.length>0&&ie&&(se=L?p.getAdaptationForId(L,R[0].mpd.manifest,ie.index):p.getAdaptationForIndex(U?U.index:null,R[0].mpd.manifest,ie.index)),se?p.getProducerReferenceTimesForAdaptation(se):[]},getRealPeriodByIndex:function(Z){return p.getRealPeriodForIndex(Z,R[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(Z){try{return p.getEssentialPropertiesForRepresentation(Z)}catch{return[]}},getVoRepresentations:function(Z){var U=Ee(Z);return p.getRepresentationsForAdaptation(U)},getEventsFor:function(Z,U,L){var se=[];if(R.length>0){var ie=R[0].mpd.manifest;if(Z instanceof $h){var me=Ce(Z,R);se=p.getEventsForPeriod(me)}else if(Z instanceof Bd){var ce=Ce(L,R);se=p.getEventStreamForAdaptationSet(ie,Ee(Z),ce)}else if(Z instanceof iu){var G=Ce(L,R);se=p.getEventStreamForRepresentation(ie,U,G)}}return se},getEvent:function(Z,U,L,se){try{if(!Z||!U||isNaN(L)||!se)return null;var ie=Z.scheme_id_uri,me=Z.value;if(!U[ie+"/"+me])return null;var ce,G=new ji,we=Z.timescale||1,Pe=se.adaptation.period.start,Xe=U[ie+"/"+me],Be=isNaN(se.presentationTimeOffset)?isNaN(Xe.presentationTimeOffset)?0:Xe.presentationTimeOffset:se.presentationTimeOffset,Ue=Z.presentation_time_delta/we;ce=0===Z.version?Pe+L-Be+Ue:Pe-Be+Ue;var je=Z.event_duration/we,Ot=Z.id,vt=Z.message_data;return G.eventStream=Xe,G.eventStream.value=me,G.eventStream.timescale=we,G.duration=je,G.id=Ot,G.calculatedPresentationTime=ce,G.messageData=vt,G.presentationTimeDelta=Ue,G}catch{return null}},getMpd:ee,setConfig:function(Z){Z&&(Z.constants&&(P=Z.constants),Z.cea608parser&&(C=Z.cea608parser),Z.errHandler&&p.setConfig({errHandler:Z.errHandler}),Z.BASE64&&p.setConfig({BASE64:Z.BASE64}))},updatePeriods:function(Z){if(!Z)return null;fe(),R=re(Z)},getIsTextTrack:function(Z){return p.getIsText(Z)},getUTCTimingSources:function(){var Z=ge();return p.getUTCTimingSources(Z)},getSuggestedPresentationDelay:function(){return p.getSuggestedPresentationDelay(R.length>0?R[0].mpd:null)},getAvailabilityStartTime:function(Z){var U=ee(Z);return p.getAvailabilityStartTime(U)},getIsTypeOf:function(Z,U){return p.getIsTypeOf(Z,U)},getIsDynamic:function(Z){var U=ge(Z);return p.getIsDynamic(U)},getDuration:function(Z){var U=ge(Z);return p.getDuration(U)},getRegularPeriods:re,getContentSteering:function(Z){return p.getContentSteering(Z)},getLocation:function(Z){return p.getLocation(Z)},getPatchLocation:function(Z){var U=p.getPatchLocation(Z),L=p.getPublishTime(Z);return U&&0!==U.length&&L?U.filter(function(se){return isNaN(se.ttl)||L.getTime()+se.ttl>(new Date).getTime()}):[]},getManifestUpdatePeriod:function(Z){return p.getManifestUpdatePeriod(Z,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function(Z){return p.getPublishTime(Z)},getIsDVB:function(Z){return p.hasProfile(Z,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(Z){return b.getIsPatch(Z)},getBaseURLsFromElement:function(Z){return p.getBaseURLsFromElement(Z)},getRepresentationSortFunction:function(){return p.getRepresentationSortFunction()},getCodec:function(Z,U,L){return p.getCodec(Z,U,L)},getPeriodById:function(Z){if(!Z||0===R.length)return null;var U=R.filter(function(L){return L.id===Z});return U&&U.length>0?U[0]:null},setCurrentMediaInfo:function(Z,U,L){F[Z]=F[Z]||{},F[Z][U]=F[Z][U]||{},F[Z][U]=L},isPatchValid:function(Z,U){var L=p.getId(Z),se=b.getMpdId(U),ie=p.getPublishTime(Z),me=b.getPublishTime(U),ce=b.getOriginalPublishTime(U);return!!(L&&se&&L==se&&ie&&ce&&ie.getTime()==ce.getTime()&&me&&ie.getTime()<me.getTime())},applyPatchToManifest:function(Z,U){b.getPatchOperations(U).forEach(function(L){var se=L.getMpdTarget(Z);if(null!==se){var ie=se.name,me=se.target,ce=se.leaf;if(L.xpath.findsAttribute()||"__text"===ie)switch(L.action){case"add":case"replace":me[ie]=L.value;break;case"remove":delete me[ie]}else{var G=(me[ie+"_asArray"]||[]).indexOf(ce),we="prepend"===L.position||"before"===L.position;if(("remove"===L.action||"replace"===L.action)&&(delete me[ie],-1!=G)){var Pe=me[ie+"_asArray"];Pe.splice(G,1),Pe.length>1?me[ie]=Pe:1==Pe.length?me[ie]=Pe[0]:delete me[ie+"_asArray"]}"add"!==L.action&&"replace"!==L.action||Object.keys(L.value).forEach(function(Xe){var Be=L.value[Xe],Ue=me[Xe+"_asArray"]||[];0===Ue.length&&me[Xe]&&Ue.push(me[Xe]),0===Ue.length?Ue=Be:Ue.splice.apply(Ue,[Xe==ie&&-1!=G?G+(we?0:1)+("replace"==L.action?-1:0):we?0:Ue.length,0].concat(Be)),me[Xe+"_asArray"]=Ue,me[Xe]=1==Ue.length?Ue[0]:Ue})}}})},areMediaInfosEqual:ne,reset:Ie},p=Vn(B).getInstance(),b=P0(B).getInstance(),Ie(),_}S_.__dashjs_factory_name="DashAdapter";var k0=w.Z.getSingletonFactory(S_);var L0=function(){function _(){!function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}(this,_)}var b;return(b=[{key:"round10",value:function(R,F){return P="round",C=R,void 0===(B=F)||0==+B?Math[P](C):(B=+B,null===(C=+C)||isNaN(C)||"number"!=typeof B||B%1!=0?NaN:(C=C.toString().split("e"),+((C=(C=Math[P](+(C[0]+"e"+(C[1]?+C[1]-B:-B)))).toString().split("e"))[0]+"e"+(C[1]?+C[1]+B:B))));var P,C,B}}])&&function F0(_,p){for(var b=0;b<p.length;b++){var R=p[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}(_,b),_}(),B0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},U0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.mt=null,this.to=null,this.lto=null},V0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.level=null},j0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.target=null,this.state=I.Z.BUFFER_EMPTY},Wh=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.time=null,this.range=null,this.manifestInfo=null},Kh=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.time=null,this.droppedFrames=null};function Xh(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var H0=function _(){Xh(this,_),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},Z0=function _(){Xh(this,_),this.id=null,this.index=null,this.start=null,this.duration=null},Aa=function _(){Xh(this,_),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},Js=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},z0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.loadingRequests=[],this.executedRequests=[]};function Ud(_){var p,b,R=(_=_||{}).settings,P=(0,A.Z)(this.context).getInstance();function C(){P.trigger(v.Z.METRICS_CHANGED)}function B(ee){P.trigger(v.Z.METRIC_CHANGED,{mediaType:ee}),C()}function J(ee,Ie,ge){P.trigger(v.Z.METRIC_UPDATED,{mediaType:ee,metric:Ie,value:ge}),B(ee)}function ne(ee,Ie,ge){P.trigger(v.Z.METRIC_ADDED,{mediaType:ee,metric:Ie,value:ge}),B(ee)}function Q(ee,Ie){var ge=null;return ee&&(b.hasOwnProperty(ee)?ge=b[ee]:Ie||(ge=new B0,b[ee]=ge)),ge}function V(ee,Ie,ge){var Ee=Q(ee);null!==Ee&&(Ee[Ie].push(ge),Ee[Ie].length>R.get().streaming.metrics.maxListDepth&&Ee[Ie].shift())}function re(ee,Ie,ge){V(ee,Ie,ge),ne(ee,Ie,ge)}return p={clearCurrentMetricsForType:function(ee){delete b[ee],B(ee)},clearAllCurrentMetrics:function(){b={},C()},getMetricsFor:Q,addHttpRequest:function ee(Ie,ge,Ee,Ce,te,Te,le,fe,S,q,Z,U,L,se,ie,me,ce){var G=new ut.w;Te&&Te!==Ce&&(ee(Ie,null,Ee,Ce,te,null,null,fe,S,null,null,null,L,null,null,me,ce),G.actualurl=Te),G.tcpid=ge,G.type=Ee,G.url=Ce,G.range=fe,G.trequest=S,G.tresponse=q,G.responsecode=U,G.cmsd=ce,G._tfinish=Z,G._stream=Ie,G._mediaduration=L,G._quality=te,G._responseHeaders=se,G._serviceLocation=le,G._fileLoaderType=me,ie?ie.forEach(function(we){var Pe,Xe,Be,Ue,je;Pe=G,Xe=we.s,Be=we.d,Ue=we.b,(je=new ut.O).s=Xe,je.d=Be,je.b=Ue,Pe.trace.push(je),Pe.interval||(Pe.interval=0),Pe.interval+=Be}):(delete G.interval,delete G.trace),re(Ie,I.Z.HTTP_REQUEST,G)},addRepresentationSwitch:function(ee,Ie,ge,Ee,Ce){var te=new U0;te.t=Ie,te.mt=ge,te.to=Ee,Ce?te.lto=Ce:delete te.lto,re(ee,I.Z.TRACK_SWITCH,te)},addBufferLevel:function(ee,Ie,ge){var Ee=new V0;Ee.t=Ie,Ee.level=ge,re(ee,I.Z.BUFFER_LEVEL,Ee)},addBufferState:function(ee,Ie,ge){var Ee=new j0;Ee.target=ge,Ee.state=Ie,re(ee,I.Z.BUFFER_STATE,Ee)},addDVRInfo:function(ee,Ie,ge,Ee){var Ce=new Wh;Ce.time=Ie,Ce.range=Ee,Ce.manifestInfo=ge,re(ee,I.Z.DVR_INFO,Ce)},addDroppedFrames:function(ee,Ie){var ge=new Kh,Ee=Q(ee).DroppedFrames;Ie&&(ge.time=Ie.creationTime,ge.droppedFrames=Ie.droppedVideoFrames,Ee.length>0&&Ee[Ee.length-1]==ge||re(ee,I.Z.DROPPED_FRAMES,ge))},addSchedulingInfo:function(ee,Ie,ge,Ee,Ce,te,Te,le,fe){var S=new Js;S.mediaType=ee,S.t=Ie,S.type=ge,S.startTime=Ee,S.availabilityStartTime=Ce,S.duration=te,S.quality=Te,S.range=le,S.state=fe,re(ee,I.Z.SCHEDULING_INFO,S)},addRequestsQueue:function(ee,Ie,ge){var Ee=new z0;Ee.loadingRequests=Ie,Ee.executedRequests=ge,Q(ee).RequestsQueue=Ee,ne(ee,I.Z.REQUESTS_QUEUE,Ee)},addManifestUpdate:function(ee,Ie,ge,Ee,Ce,te,Te,le,fe,S){var q=new H0;q.mediaType=ee,q.type=Ie,q.requestTime=ge,q.fetchTime=Ee,q.availabilityStartTime=Ce,q.presentationStartTime=te,q.clientTimeOffset=Te,q.currentTime=le,q.buffered=fe,q.latency=S,V(f.Z.STREAM,I.Z.MANIFEST_UPDATE,q),ne(ee,I.Z.MANIFEST_UPDATE,q)},updateManifestUpdateInfo:function(ee,Ie){if(ee){for(var ge in Ie)ee[ge]=Ie[ge];J(ee.mediaType,I.Z.MANIFEST_UPDATE,ee)}},addManifestUpdateStreamInfo:function(ee,Ie,ge,Ee,Ce){if(ee){var te=new Z0;te.id=Ie,te.index=ge,te.start=Ee,te.duration=Ce,ee.streamInfo.push(te),J(ee.mediaType,I.Z.MANIFEST_UPDATE_STREAM_INFO,ee)}},addManifestUpdateRepresentationInfo:function(ee,Ie,ge,Ee,Ce,te,Te,le){if(ee&&ee.representationInfo){var fe=new Aa;fe.id=Ie,fe.index=ge,fe.streamIndex=Ee,fe.mediaType=Ce,fe.startNumber=Te,fe.fragmentInfoType=le,fe.presentationTimeOffset=te,ee.representationInfo.push(fe),J(ee.mediaType,I.Z.MANIFEST_UPDATE_TRACK_INFO,ee)}},addPlayList:function(ee){ee.trace&&Array.isArray(ee.trace)?ee.trace.forEach(function(Ie){Ie.hasOwnProperty("subreplevel")&&!Ie.subreplevel&&delete Ie.subreplevel}):delete ee.trace,re(f.Z.STREAM,I.Z.PLAY_LIST,ee)},addDVBErrors:function(ee){re(f.Z.STREAM,I.Z.DVB_ERRORS,ee)}},b={},p}Ud.__dashjs_factory_name="MetricsModel";var Yi=w.Z.getSingletonFactory(Ud);function Jl(_){var p,b,R,F,C=(_=_||{}).metricsModel;function B(Q){var V=C.getMetricsFor(Q,!0);if(!V)return null;var re,ee=V.HttpList,Ie=null;if(!ee||ee.length<=0)return null;for(re=ee.length-1;re>=0;){if(ee[re].responsecode){Ie=ee[re];break}re--}return Ie}function J(Q){var V=C.getMetricsFor(Q,!0);return V&&V.HttpList?V.HttpList:[]}function ne(Q,V){if(!Q)return null;var re=Q[V];return re&&0!==re.length?re[re.length-1]:null}return p={getCurrentRepresentationSwitch:function(Q){return ne(C.getMetricsFor(Q,!0),I.Z.TRACK_SWITCH)},getCurrentBufferState:function(Q){return ne(C.getMetricsFor(Q,!0),I.Z.BUFFER_STATE)},getCurrentBufferLevel:function(Q){var V=ne(C.getMetricsFor(Q,!0),I.Z.BUFFER_LEVEL);return V?L0.round10(V.level/1e3,-3):0},getCurrentHttpRequest:B,getHttpRequests:J,getCurrentDroppedFrames:function(){return ne(C.getMetricsFor(f.Z.VIDEO,!0),I.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(Q){return ne(C.getMetricsFor(Q,!0),I.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(Q){return ne(Q?C.getMetricsFor(Q,!0):C.getMetricsFor(f.Z.VIDEO,!0)||C.getMetricsFor(f.Z.AUDIO,!0),I.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return ne(C.getMetricsFor(f.Z.STREAM),I.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(Q,V){if(!V)return null;var re={},ee=B(Q);ee&&(re=tr.Z.parseHttpHeaders(ee._responseHeaders));var Ie=re[V.toLowerCase()];return void 0===Ie?null:Ie},getLatestMPDRequestHeaderValueByID:function(Q){if(!Q)return null;var V,re,ee,Ie={};for(ee=(V=J(f.Z.STREAM)).length-1;ee>=0;ee--)if((re=V[ee]).type===ut.w.MPD_TYPE){Ie=tr.Z.parseHttpHeaders(re._responseHeaders);break}var ge=Ie[Q.toLowerCase()];return void 0===ge?null:ge},addRepresentationSwitch:function(Q,V,re,ee,Ie){C.addRepresentationSwitch(Q,V,re,ee,Ie)},addDVRInfo:function(Q,V,re,ee){C.addDVRInfo(Q,V,re,ee)},updateManifestUpdateInfo:function(Q){var V=this.getCurrentManifestUpdate();C.updateManifestUpdateInfo(V,Q)},addManifestUpdateStreamInfo:function(Q){if(Q){var V=this.getCurrentManifestUpdate();C.addManifestUpdateStreamInfo(V,Q.id,Q.index,Q.start,Q.duration)}},addManifestUpdateRepresentationInfo:function(Q,V){if(Q){var re=this.getCurrentManifestUpdate();C.addManifestUpdateRepresentationInfo(re,Q.id,Q.index,Q.streamIndex,V,Q.presentationTimeOffset,Q.startNumber,Q.fragmentInfoType)}},addManifestUpdate:function(Q){C.addManifestUpdate(f.Z.STREAM,Q.type,Q.requestStartDate,Q.requestEndDate)},addHttpRequest:function(Q,V,re,ee,Ie,ge){C.addHttpRequest(Q.mediaType,null,Q.type,Q.url,Q.quality,V,Q.serviceLocation||null,Q.range||null,Q.requestStartDate,Q.firstByteDate,Q.requestEndDate,re,Q.duration,ee,Ie,Q.fileLoaderType,ge)},addSchedulingInfo:function(Q,V){C.addSchedulingInfo(Q.mediaType,new Date,Q.type,Q.startTime,Q.availabilityStartTime,Q.duration,Q.quality,Q.range,V)},addRequestsQueue:function(Q,V,re){C.addRequestsQueue(Q,V,re)},addBufferLevel:function(Q,V,re){C.addBufferLevel(Q,V,re)},addBufferState:function(Q,V,re){C.addBufferState(Q,V,re)},addDroppedFrames:function(Q){C.addDroppedFrames(f.Z.VIDEO,Q)},addPlayList:function(){F&&(C.addPlayList(F),F=null)},addDVBErrors:function(Q){C.addDVBErrors(Q)},createPlaylistMetrics:function(Q,V){(F=new Fe).start=new Date,F.mstart=Q,F.starttype=V},createPlaylistTraceMetrics:function(Q,V,re){!0===b&&(b=!1,(R=new qe).representationid=Q,R.start=new Date,R.mstart=V,R.playbackspeed=null!==re?re.toString():null)},updatePlayListTraceMetrics:function(Q){if(R)for(var V in R)R[V]=Q[V]},pushPlayListTraceMetrics:function(Q,V){if(!1===b&&F&&R&&R.start){var re=R.start,ee=Q.getTime()-re.getTime();R.duration=ee,R.stopreason=V,F.trace.push(R),b=!0}},clearAllCurrentMetrics:function(){C.clearAllCurrentMetrics()}},C=C||Yi(this.context).getInstance({settings:_.settings}),b=!0,R=null,F=null,p}Jl.__dashjs_factory_name="DashMetrics";var Ho=w.Z.getSingletonFactory(Jl);function ec(){var _,p,b,R,F=this.context,P=(0,A.Z)(F).getInstance(),C=(0,Ge.Z)(F).getInstance();function B(Ce){R=Ce}function J(Ce,te,Te,le){var fe,S=te.adaptation.period.mpd,q=S.availabilityStartTime;if(le)fe=Te&&S.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(q.getTime()+1e3*(Ce+S.timeShiftBufferDepth)):S.availabilityEndTime;else if(Te){var Z=te.availabilityTimeOffset;fe=new Date(q.getTime()+1e3*(Ce-Z))}else fe=q;return fe}function ne(Ce,te){return(Ce.getTime()-te.mpd.availabilityStartTime.getTime()+1e3*R)/1e3}function Q(Ce,te){return Ce+(te.adaptation.period.start-te.presentationTimeOffset)}function V(Ce){var te={start:NaN,end:NaN},Te=Ce[0].getAdapter().getRegularPeriods()[0],le=ne(new Date,Te);if(!Ce||0===Ce.length)return{range:te,now:le};Ce.forEach(function(S){var q=S.getAdapter(),Z=q.getMediaInfoForType(S.getStreamInfo(),f.Z.VIDEO)||q.getMediaInfoForType(S.getStreamInfo(),f.Z.AUDIO),U=q.getVoRepresentations(Z)[0],L={start:NaN,end:NaN};if(U)if(U.segmentInfoType===d.Z.SEGMENT_TIMELINE)L=function(ie){var me,ce,G,we,Xe=p.getRepresentationFor(ie.index,ie.adaptation.period.mpd.manifest.Period_asArray[ie.adaptation.period.index].AdaptationSet_asArray[ie.adaptation.index]),Be=Xe.SegmentTemplate||Xe.SegmentList,je=Be.timescale,Ot=Be.SegmentTimeline.S_asArray,vt={start:0,end:0},wt=Ot[0].t,Ct=!isNaN(wt),hn=Ct?wt:0,Le=0;for(Ct&&(vt.start=Q(hn/je,ie)),G=0,we=Ot.length;G<we;G++)ce=0,(me=Ot[G]).hasOwnProperty("r")&&(ce=me.r),Le+=me.d*(1+ce);return vt.end=Q((hn+Le)/je,ie),vt}(U);else{var se=U.adaptation.period;L.start=se.start,L.end=Math.max(le,se.start+se.duration)}!isNaN(L.start)&&(isNaN(te.start)||te.start>L.start)&&(te.start=L.start),!isNaN(L.end)&&(isNaN(te.end)||te.end<L.end)&&(te.end=L.end)}),te.end=Math.min(le,te.end);var fe=ee(Ce,te.end,!0);return te.end=isNaN(fe)?te.end:fe,te.start=Te&&Te.mpd&&Te.mpd.timeShiftBufferDepth&&!isNaN(Te.mpd.timeShiftBufferDepth)&&!isNaN(te.end)?Math.max(te.end-Te.mpd.timeShiftBufferDepth,te.start):te.start,te.start=ee(Ce,te.start),{range:te,now:le}}function re(Ce,te){b=Ce-te.end}function ee(Ce,te){var Te=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var le=0,fe=!1,S=NaN;!fe&&le<Ce.length;){var q=Ce[le].getStreamInfo();q.start<=te&&(!isFinite(q.duration)||q.start+q.duration>=te)?(S=te,fe=!0):!Te&&q.start>te&&(isNaN(S)||q.start<S)?S=q.start:Te&&q.start+q.duration<te&&(isNaN(S)||q.start+q.duration>S)&&(S=q.start+q.duration),le+=1}return S}catch{return te}}function Ie(Ce){void 0===Ce.offset||isNaN(Ce.offset)||B(Ce.offset/1e3)}function ge(){R=0,b=0}function Ee(){P.off(v.Z.UPDATE_TIME_SYNC_OFFSET,Ie,this),ge()}return _={initialize:function(){ge(),P.on(v.Z.UPDATE_TIME_SYNC_OFFSET,Ie,this)},getClientTimeOffset:function(){return R},setClientTimeOffset:B,getClientReferenceTime:function(){return Date.now()-1e3*b+1e3*R},calcAvailabilityStartTimeFromPresentationTime:function(Ce,te,Te){return J(Ce,te,Te)},calcAvailabilityEndTimeFromPresentationTime:function(Ce,te,Te){return J(Ce,te,Te,!0)},calcPresentationTimeFromWallTime:ne,calcPresentationTimeFromMediaTime:Q,calcPeriodRelativeTimeFromMpdRelativeTime:function(Ce,te){return te-Ce.adaptation.period.start},calcMediaTimeFromPresentationTime:function(Ce,te){return Ce-te.adaptation.period.start+te.presentationTimeOffset},calcWallTimeForSegment:function(Ce,te){var le,fe;return te&&(le=Ce.presentationStartTime+Ce.representation.adaptation.period.mpd.suggestedPresentationDelay,fe=new Date(Ce.availabilityStartTime.getTime()+1e3*le)),fe},calcTimeShiftBufferWindow:function(Ce,te){if(!te)return fe={start:NaN,end:NaN},S=0,q=NaN,Ce.forEach(function(Z){var U=Z.getStreamInfo();S+=U.duration,(isNaN(q)||U.start<q)&&(q=U.start)}),fe.start=q,fe.end=q+S,fe;var fe,S,q;if(C.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Te=V(Ce);return re(Te.now,Te.range),Te.range}return function(le){var fe={start:NaN,end:NaN};if(!le||0===le.length)return fe;var S=le[0].getAdapter().getRegularPeriods()[0],q=ne(new Date,S),Z=S.mpd.timeShiftBufferDepth,U=isNaN(Z)?0:q-Z;if(fe.start=ee(le,U),fe.end=!isNaN(fe.start)&&q<fe.start?q:ee(le,q,!0),!isNaN(Z)&&fe.end<q-Z&&(fe.end=NaN),C.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var L=V(le);if(L.range.end<fe.start)return P.trigger(h.Z.CONFORMANCE_VIOLATION,{level:kr.LEVELS.WARNING,event:kr.EVENTS.INVALID_DVR_WINDOW}),re(L.now,L.range),L.range}return fe}(Ce)},reset:Ee},p=Vn(F).getInstance(),Ee(),_}ec.__dashjs_factory_name="TimelineConverter";var Qh=w.Z.getSingletonFactory(ec),ou=H(4593),tc=H(6934);function nc(_){return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function su(_,p){return(su=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(_,p)}function Da(_){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Jh=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&su(P,C)}(F,_);var p,b,R=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Da(p);if(b){var B=Da(this).constructor;P=Reflect.construct(C,arguments,B)}else P=C.apply(this,arguments);return function au(_,p){return!p||"object"!==nc(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){var P;return function(C,B){if(!(C instanceof B))throw new TypeError("Cannot call a class as a function")}(this,F),(P=R.call(this)).captionData=null,P.label=null,P.defaultTrack=!1,P.kind=null,P.isFragmented=!1,P.isEmbedded=!1,P.isTTML=null,P}return F}(Bd),ep=H(2295);function Vd(){var _=0;function p(B){for(var J="",ne=0;ne<B.length;++ne)J+=B[ne].uchar;return J.length-J.replace(/^\s+/,"").length}function b(B){return"left: "+3.125*B.x+"%; top: "+6.66*B.y1+"%; width: "+(100-3.125*B.x)+"%; height: "+6.66*Math.max(B.y2-1-B.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function R(B){return"red"===B?"rgb(255, 0, 0)":"green"===B?"rgb(0, 255, 0)":"blue"===B?"rgb(0, 0, 255)":"cyan"===B?"rgb(0, 255, 255)":"magenta"===B?"rgb(255, 0, 255)":"yellow"===B?"rgb(255, 255, 0)":"white"===B?"rgb(255, 255, 255)":"black"===B?"rgb(0, 0, 0)":B}function F(B,J){var ne=B.videoHeight/15;return J?"font-size: "+ne+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(J.foreground?R(J.foreground):"rgb(255, 255, 255)")+"; font-style: "+(J.italics?"italic":"normal")+"; text-decoration: "+(J.underline?"underline":"none")+"; white-space: pre; background-color: "+(J.background?R(J.background):"transparent")+";":"font-size: "+ne+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function P(B){return B.replace(/^\s+/g,"")}function C(B){return B.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(B,J,ne,Q){var V,re,ee=null,Ie=!1,ge=-1,Ee={start:J,end:ne,spans:[]},Ce="style_cea608_white_black",te={},Te={},le=[];for(V=0;V<15;++V){var fe=Q.rows[V],S="",q=null;if(!1===fe.isEmpty()){var Z=p(fe.chars);null===ee&&(ee={x:Z,y1:V,y2:V+1,p:[]}),Z!==ge&&Ie&&(ee.p.push(Ee),Ee={start:J,end:ne,spans:[]},ee.y2=V,ee.name="region_"+ee.x+"_"+ee.y1+"_"+ee.y2,!1===te.hasOwnProperty(ee.name)?(le.push(ee),te[ee.name]=ee):te[ee.name].p.contat(ee.p),ee={x:Z,y1:V,y2:V+1,p:[]});for(var U=0;U<fe.chars.length;++U){var L=fe.chars[U],se=L.penState;if(null===q||!se.equals(q)){S.trim().length>0&&(Ee.spans.push({name:Ce,line:S,row:V}),S="");var ie="style_cea608_"+se.foreground+"_"+se.background;se.underline&&(ie+="_underline"),se.italics&&(ie+="_italics"),Te.hasOwnProperty(ie)||(Te[ie]=JSON.parse(JSON.stringify(se))),q=se,Ce=ie}S+=L.uchar}S.trim().length>0&&Ee.spans.push({name:Ce,line:S,row:V}),Ie=!0,ge=Z}else Ie=!1,ge=-1,ee&&(ee.p.push(Ee),Ee={start:J,end:ne,spans:[]},ee.y2=V,ee.name="region_"+ee.x+"_"+ee.y1+"_"+ee.y2,!1===te.hasOwnProperty(ee.name)?(le.push(ee),te[ee.name]=ee):te[ee.name].p.contat(ee.p),ee=null)}ee&&(ee.p.push(Ee),ee.y2=V+1,ee.name="region_"+ee.x+"_"+ee.y1+"_"+ee.y2,!1===te.hasOwnProperty(ee.name)?(le.push(ee),te[ee.name]=ee):te[ee.name].p.contat(ee.p),ee=null);var me=[];for(V=0;V<le.length;++V){var ce=le[V],G="sub_cea608_"+_++,we=document.createElement("div");we.id=G;var Pe=b(ce);we.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Pe;var Xe=document.createElement("div");Xe.className="paragraph bodyStyle",Xe.style.cssText=F(B);var Be=document.createElement("div");Be.className="cueUniWrapper",Be.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ue=0;Ue<ce.p.length;++Ue){var je=ce.p[Ue],Ot=0;for(re=0;re<je.spans.length;++re){var vt=je.spans[re];if(vt.line.length>0){if(0!==re&&Ot!=vt.row){var wt=document.createElement("br");wt.className="lineBreak",Be.appendChild(wt)}var Ct=!1;Ot===vt.row&&(Ct=!0),Ot=vt.row;var hn=Te[vt.name],Le=document.createElement("span");Le.className="spanPadding "+vt.name+" customSpanColor",Le.style.cssText=F(B,hn),Le.textContent=0!==re&&Ct?re===je.spans.length-1?C(vt.line):vt.line:je.spans.length>1&&re<je.spans.length-1&&vt.row===je.spans[re+1].row?P(vt.line):vt.line.trim(),Be.appendChild(Le)}}}Xe.appendChild(Be),we.appendChild(Xe);var it={bodyStyle:["%",90]};for(var Ne in Te)Te.hasOwnProperty(Ne)&&(it[Ne]=["%",90]);me.push({type:"html",start:J,end:ne,cueHTMLElement:we,cueID:G,cellResolution:[32,15],isFromCEA608:!0,fontSize:it,lineHeight:{},linePadding:{}})}return me}}}Vd.__dashjs_factory_name="EmbeddedTextHtmlRender";var lu=w.Z.getSingletonFactory(Vd);function rl(_){var p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ee,Ce,te=_.errHandler,Te=_.manifestModel,le=_.mediaController,fe=_.videoModel,S=_.textTracks,q=_.vttParser,Z=_.vttCustomRenderingParser,U=_.ttmlParser,L=_.streamInfo,se=_.settings,ie=this.context,me=(0,A.Z)(ie).getInstance(),ce=!1;function G(){C=null,J=NaN,ne=[],Q=null,B=!1,P=[],F=null}function we(wt){var Le,it,Ct=new Jh;for(var hn in wt)Ct[hn]=wt[hn];Ct.labels=wt.labels,Ct.defaultTrack=(Le=wt,it=!1,re.length>1&&Le.isEmbedded?it=Le.id&&Le.id===f.Z.CC1:1===re.length?Le.id&&"string"==typeof Le.id&&"CC"===Le.id.substring(0,2)&&(it=!0):0===re.length&&(it=Le.index===P[0].index),it),Ct.isFragmented=wt.isFragmented,Ct.isEmbedded=!!wt.isEmbedded,Ct.isTTML=function(Le){return Le.codec&&Le.codec.search(f.Z.STPP)>=0||Le.mimeType&&Le.mimeType.search(f.Z.TTML)>=0}(wt),Ct.kind=function(Le,it){var Ne=Le.roles&&Le.roles.length>0?it[Le.roles[0]]:it.caption;return Ne===it.caption||Ne===it.subtitle?Ne:it.caption}(wt,{subtitle:"subtitles",caption:"captions"}),S.addTextTrack(Ct)}function Pe(wt){var Ct=wt.chunk;Ct.mediaInfo.embeddedCaptions&&Be(Ct.bytes,Ct)}function Xe(wt){V=wt}function Be(wt,Ct){var hn=Ct.mediaInfo,Le=hn.type,Ne=hn.codec||hn.mimeType;Ne?-1!==hn.codec.indexOf("application/mp4")?function(Me,We,nt){var st;if("InitializationSegment"===We.segmentType)B=!0,J=R.getMediaTimescaleFromMoov(Me);else{if(!B)return;(st=R.getSamplesInfo(Me).sampleList).length>0&&(Q=st[0].cts-We.start*J),nt.search(f.Z.STPP)>=0?function(Vt,Ft,pt){var on,ln;for(F=null!==F?F:Ot(pt),on=0;on<Ft.length;on++){var cn=Ft[on],bn=cn.cts,xn=je(),Ln=xn+bn/J;p.buffered.add(Ln,Ln+cn.duration/J);var lr=new DataView(Vt,cn.offset,cn.subSizes[0]),Qn=tc.Utils.dataViewToString(lr,f.Z.UTF8),cr=[],Pt=cn.offset+cn.subSizes[0];for(ln=1;ln<cn.subSizes.length;ln++){var Tn=new Uint8Array(Vt,Pt,cn.subSizes[ln]),mn=String.fromCharCode.apply(null,Tn);cr.push(mn),Pt+=cn.subSizes[ln]}try{var pn=Te.getValue().ttmlTimeIsRelative?bn/J:0,ht=F.parse(Qn,pn,bn/J,(bn+cn.duration)/J,cr);S.addCaptions(V,xn,ht)}catch(kt){C.removeExecutedRequestsBeforeTime(),this.remove(),b.error("TTML parser error: "+kt.message)}}}(Me,st,nt):function(Vt,Ft){var pt,on,ln,cn=[];for(pt=0;pt<Ft.length;pt++){var bn=Ft[pt];bn.cts-=Q;var xn=je()+bn.cts/J;p.buffered.add(xn,xn+bn.duration/J);var On=Vt.slice(bn.offset,bn.offset+bn.size),lr=tc.parseBuffer(On);for(on=0;on<lr.boxes.length;on++){var Qn=lr.boxes[on];if(b.debug("VTT box1: "+Qn.type),"vtte"!==Qn.type&&"vttc"===Qn.type){b.debug("VTT vttc boxes.length = "+Qn.boxes.length);var cr={styles:{}};for(ln=0;ln<Qn.boxes.length;ln++){var Pt=Qn.boxes[ln];if(b.debug("VTT box2: "+Pt.type),"payl"===Pt.type)cr.start=bn.cts/J,cr.end=(bn.cts+bn.duration)/J,cr.data=Pt.cue_text;else if("sttg"===Pt.type&&Pt.settings&&""!==Pt.settings)try{var Tn=Pt.settings.split(" ");cr.styles=q.getCaptionStyles(Tn)}catch{}}cr&&cr.data&&(cn.push(cr),b.debug("VTT  ".concat(cr.start," - ").concat(cr.end," :  ").concat(cr.data)))}}}cn.length>0&&S.addCaptions(V,0,cn)}(Me,st)}}(wt,Ct,Ne):Le===f.Z.VIDEO?function(Me,We){var nt,st,xn,Ln,lr,Qn;if(We.segmentType===ut.w.INIT_SEGMENT_TYPE)0===ee&&(ee=R.getMediaTimescaleFromMoov(Me));else if(We.segmentType===ut.w.MEDIA_SEGMENT_TYPE){if(0===ee)return void b.warn("CEA-608: No timescale for embeddedTextTrack yet");var Vt=(st=R.getSamplesInfo(Me)).lastSequenceNumber,Ft=Math.trunc(We.start),pt=Math.trunc(We.end);if(Ee[0]||Ee[1]||function(){for(var xn,Ln=0;Ln<re.length;Ln++){if(-1===(xn=S.getTrackIdxForId(re[Ln].id)))return void b.warn("CEA-608: data before track is ready.");var On=Ue(xn);Ee[Ln]=new(N().Cea608Parser)(Ln+1,{newCue:On},null)}}(),ee){if(Ln=Vt,lr=ge,Qn=Ft,null!==(xn=Ie)&&null!==Ln&&null!==lr&&null!==Qn&&(Ln===xn?lr!==Qn:Ln!==xn+st.numSequences))for(nt=0;nt<Ee.length;nt++)Ee[nt]&&Ee[nt].reset();for(var on=function(xn,Ln){if(0===Ln.length)return null;for(var On={splits:[],fields:[[],[]]},lr=new DataView(xn),Qn=0;Qn<Ln.length;Qn++)for(var cr=Ln[Qn],Pt=N().findCea608Nalus(lr,cr.offset,cr.size),Tn=null,mn=0,pn=0;pn<Pt.length;pn++)for(var ht=N().extractCea608DataFromRange(lr,Pt[pn]),kt=0;kt<2;kt++)if(ht[kt].length>0){cr.cts!==Tn?mn=0:mn+=1;var at=je();On.fields[kt].push([cr.cts+at*ee,ht[kt],mn]),Tn=cr.cts}return On.fields.forEach(function(ze){ze.sort(function(be,rt){return be[0]===rt[0]?be[2]-rt[2]:be[0]-rt[0]})}),On}(Me,st.sampleList),ln=0;ln<Ee.length;ln++){var cn=on.fields[ln],bn=Ee[ln];if(bn)for(nt=0;nt<cn.length;nt++)bn.addData(cn[nt][0]/ee,cn[nt][1])}Ie=Vt,ge=pt}}}(wt,Ct):function(Me,We,nt){var st,Vt,Ft=new DataView(Me,0,Me.byteLength);Vt=tc.Utils.dataViewToString(Ft,f.Z.UTF8);try{st=Ot(nt).parse(Vt,0),S.addCaptions(S.getCurrentTrackIdx(),0,st),p.buffered&&p.buffered.add(We.start,We.end)}catch(pt){te.error(new K.Z(ve.TIMED_TEXT_ERROR_ID_PARSE_CODE,ve.TIMED_TEXT_ERROR_MESSAGE_PARSE+pt.message,Vt))}}(wt,Ct,Ne):b.error("No text type defined")}function Ue(wt){return function(Ct,hn,Le){var it;(it=fe.getTTMLRenderingDiv()?Ce.createHTMLCaptionsFromScreen(fe.getElement(),Ct,hn,Le):[{start:Ct,end:hn,data:Le.getDisplayText(),styles:{}}])&&S.addCaptions(wt,0,it)}}function je(){return isNaN(p.timestampOffset)?0:p.timestampOffset}function Ot(wt){var Ct;return wt.search(f.Z.VTT)>=0?Ct=se.get().streaming.text.webvtt.customRenderingEnabled&&Z?Z:q:(wt.search(f.Z.TTML)>=0||wt.search(f.Z.STPP)>=0)&&(Ct=U),Ct}function vt(wt){re.forEach(function(Ct){var hn=S.getTrackIdxForId(Ct.id);hn>=0&&S.deleteCuesFromTrackIdx(hn,wt.from,wt.to)})}return p={initialize:function(){ce||(re=[],V=null,ee=0,Ee=[],Ie=null,ge=null,ce=!0,Ce=lu(ie).getInstance(),me.on(v.Z.VIDEO_CHUNK_RECEIVED,Pe,p),me.on(v.Z.BUFFER_CLEARED,vt,p))},addMediaInfos:function(wt,Ct,hn){if(P=P.concat(Ct),wt===f.Z.TEXT&&Ct[0].isFragmented&&!Ct[0].isEmbedded){C=hn,p.buffered=(0,ep.Z)(ie).create(),ne=le.getTracksFor(f.Z.TEXT,L.id).filter(function(Me){return Me.isFragmented});for(var Le=le.getCurrentTrackFor(f.Z.TEXT,L.id),it=0;it<ne.length;it++)if(ne[it]===Le){Xe(it);break}}for(var Ne=0;Ne<Ct.length;Ne++)we(Ct[Ne])},resetMediaInfos:function(){P=[]},getStreamId:function(){return L.id},append:Be,abort:function(){},addEmbeddedTrack:function(wt){if(ce&&wt)if(wt.id===f.Z.CC1||wt.id===f.Z.CC3){for(var Ct=0;Ct<re.length;Ct++)if(re[Ct].id===wt.id)return;re.push(wt)}else b.warn("Embedded track "+wt.id+" not supported!")},resetEmbedded:function(){me.off(v.Z.VIDEO_CHUNK_RECEIVED,Pe,p),me.off(v.Z.BUFFER_CLEARED,vt,p),S&&S.deleteAllTextTracks(),ce=!1,re=[],Ee=[null,null],Ie=null,ge=null},getConfig:function(){return{fragmentModel:C,fragmentedTracks:ne,videoModel:fe}},setCurrentFragmentedTrackIdx:Xe,remove:function(wt,Ct){void 0===wt&&wt===Ct&&(wt=p.buffered.start(0),Ct=p.buffered.end(p.buffered.length-1)),p.buffered.remove(wt,Ct),S.deleteCuesFromTrackIdx(V,wt,Ct)},reset:function(){G(),P=[],R=null}},b=(0,D.Z)(ie).getInstance().getLogger(p),R=(0,Ta.Z)(ie).getInstance(),G(),p}rl.__dashjs_factory_name="TextSourceBuffer";var il=w.Z.getClassFactory(rl),cu=H(4403);function ea(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,R=new Array(p);b<p;b++)R[b]=_[b];return R}var jd=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function uu(_){var p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ee,Ce,te,Te=this.context,le=(0,A.Z)(Te).getInstance(),fe=_.videoModel,S=_.streamInfo,q=_.settings;function Z(Ne,Me,We,nt,st,Vt){var Ft=0,pt=0;Ne/Me>We/nt?Ft=(pt=Me)/nt*We:pt=(Ft=Ne)/We*nt;var on,ln,cn=0,bn=0;return Ft/pt>st?(bn=pt,cn=pt*st):(cn=Ft,bn=Ft/st),on=(Ne-cn)/2,ln=(Me-bn)/2,Vt?{x:on+.1*cn,y:ln+.1*bn,w:.8*cn,h:.8*bn}:{x:on,y:ln,w:cn,h:bn}}function U(Ne,Me){var We=fe.getClientWidth(),nt=fe.getClientHeight(),st=fe.getVideoWidth(),Vt=fe.getVideoHeight(),Ft=fe.getVideoRelativeOffsetTop(),pt=fe.getVideoRelativeOffsetLeft();if(0!==st&&0!==Vt){var on=st/Vt,ln=!1;Ne.isFromCEA608&&(on=1.1666666666666667,ln=!0);var cn=Z.call(this,We,nt,st,Vt,on,ln),bn=cn.w,xn=cn.h,Ln=cn.x,On=cn.y;if(bn!=ne||xn!=Q||Ln!=B||On!=J||Me){if(B=Ln+pt,J=On+Ft,ne=bn,Q=xn,V){var lr=V.style;lr&&(lr.left=B+"px",lr.top=J+"px",lr.width=ne+"px",lr.height=Q+"px",lr.zIndex=Ie&&document[Ie]||ge?Ce:null,le.trigger(h.Z.CAPTION_CONTAINER_RESIZE))}var Qn=Ne.activeCues;if(Qn)for(var cr=Qn.length,Pt=0;Pt<cr;++Pt){var Tn=Qn[Pt];Tn.scaleCue(Tn)}}}}function L(Ne){var Me,We,nt,st,Vt;if(Ne.cellResolution){var on=[ne/Ne.cellResolution[0],Q/Ne.cellResolution[1]];if(Ne.linePadding)for(Me in Ne.linePadding)if(Ne.linePadding.hasOwnProperty(Me)){We=(Ne.linePadding[Me]*on[0]).toString();for(var ln=document.getElementsByClassName("spanPadding"),cn=0;cn<ln.length;cn++)ln[cn].style.cssText=ln[cn].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+We),ln[cn].style.cssText=ln[cn].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+We)}if(Ne.fontSize){for(Me in Ne.fontSize)if(Ne.fontSize.hasOwnProperty(Me)){"%"===Ne.fontSize[Me][0]?nt=Ne.fontSize[Me][1]/100:"c"===Ne.fontSize[Me][0]&&(nt=Ne.fontSize[Me][1]),We=(nt*on[1]).toString(),Vt="defaultFontSize"!==Me?document.getElementsByClassName(Me):document.getElementsByClassName("paragraph");for(var bn=0;bn<Vt.length;bn++)Vt[bn].style.cssText=Vt[bn].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+We)}if(Ne.lineHeight)for(Me in Ne.lineHeight)if(Ne.lineHeight.hasOwnProperty(Me)){"%"===Ne.lineHeight[Me][0]?st=Ne.lineHeight[Me][1]/100:"c"===Ne.fontSize[Me][0]&&(st=Ne.lineHeight[Me][1]),We=(st*on[1]).toString(),Vt=document.getElementsByClassName(Me);for(var xn=0;xn<Vt.length;xn++)Vt[xn].style.cssText=Vt[xn].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+We)}}}if(Ne.isd){var Ln=document.getElementById(Ne.cueID);Ln&&V.removeChild(Ln),ie(Ne)}}function se(Ne,Me){var We=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,nt=/^#(.*)$/;if(We.test(Me)){var st=We.exec(Me),Vt=parseInt(st[4],10)-1;return"data:image/png;base64,"+btoa(Ne.images[Vt])}if(nt.test(Me)){var Ft=nt.exec(Me)[1];return"data:image/png;base64,"+Ne.embeddedImages[Ft]}return Me}function ie(Ne){if(V){var Me=document.createElement("div");V.appendChild(Me),Ee=(0,cu.renderHTML)(Ne.isd,Me,function(We){return se(Ne,We)},V.clientHeight,V.clientWidth,!1,function(We){b.info("renderCaption :",We)},Ee,!0),Me.id=Ne.cueID,le.trigger(h.Z.CAPTION_RENDERED,{captionDiv:Me,currentTrackIdx:C})}}function me(Ne,Me){if(!q.get().streaming.text.extendSegmentedCues||!Me.cues||0===Me.cues.length)return!1;var We=Me.cues[Me.cues.length-1];return!(We.endTime<Ne.startTime||!function(nt,st,Vt){for(var Ft=0;Ft<Vt.length;Ft++){var pt=Vt[Ft];if(JSON.stringify(nt[pt])!==JSON.stringify(st[pt]))return!1}return!0}(We,Ne,jd)||(We.endTime=Math.max(We.endTime,Ne.endTime),0))}function ce(Ne,Me){Me&&Me.forEach(function(We){We.kind&&"image"===We.kind&&(We.src=se(Ne,We.src)),ce(Ne,We.contents)})}function G(Ne,Me,We){var nt=Ue(Ne);if(nt&&Array.isArray(We)&&0!==We.length)for(var st=0;st<We.length;st++){var Vt=void 0,Ft=We[st];nt.cellResolution=Ft.cellResolution,nt.isFromCEA608=Ft.isFromCEA608,isNaN(Ft.start)||isNaN(Ft.end)||(Vt="html"===Ft.type&&V?we(Ft,Me,nt):Ft.data?Pe(Ft,Me,nt):null);try{Vt?vt(nt,Vt)||(q.get().streaming.text.webvtt.customRenderingEnabled?(nt.manualCueList||(nt.manualCueList=[]),nt.manualCueList.push(Vt)):me(Vt,nt)||nt.addCue(Vt)):b.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(pt){throw Ct(nt),nt.addCue(Vt),pt}}}function we(Ne,Me,We){var nt=this,st=new R(Ne.start+Me,Ne.end+Me,"");return st.cueHTMLElement=Ne.cueHTMLElement,st.isd=Ne.isd,st.images=Ne.images,st.embeddedImages=Ne.embeddedImages,st.cueID=Ne.cueID,st.scaleCue=L.bind(nt),st.cellResolution=Ne.cellResolution,st.lineHeight=Ne.lineHeight,st.linePadding=Ne.linePadding,st.fontSize=Ne.fontSize,V.style.left=B+"px",V.style.top=J+"px",V.style.width=ne+"px",V.style.height=Q+"px",st.isd&&ce(st,st.isd.contents),st.onenter=function(){We.mode===f.Z.TEXT_SHOWING&&(this.isd?(ie(this),b.debug("Cue enter id:"+this.cueID)):(V.appendChild(this.cueHTMLElement),L.call(nt,this),le.trigger(h.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:C})))},st.onexit=function(){if(V)for(var Vt=V.childNodes,Ft=0;Ft<Vt.length;++Ft)Vt[Ft].id===this.cueID&&(b.debug("Cue exit id:"+Vt[Ft].id),V.removeChild(Vt[Ft]),--Ft)},st}function Pe(Ne,Me,We){var nt=new R(Ne.start-Me,Ne.end-Me,Ne.data);if(nt.cueID="".concat(nt.startTime,"_").concat(nt.endTime),nt.isActive=!1,Ne.styles)try{void 0!==Ne.styles.align&&"align"in nt&&(nt.align=Ne.styles.align),void 0!==Ne.styles.line&&"line"in nt&&(nt.line=Ne.styles.line),void 0!==Ne.styles.snapToLines&&"snapToLines"in nt&&(nt.snapToLines=Ne.styles.snapToLines),void 0!==Ne.styles.position&&"position"in nt&&(nt.position=Ne.styles.position),void 0!==Ne.styles.size&&"size"in nt&&(nt.size=Ne.styles.size)}catch(st){b.error(st)}return nt.onenter=function(){We.mode===f.Z.TEXT_SHOWING&&le.trigger(h.Z.CAPTION_RENDERED,{currentTrackIdx:C})},nt}function Xe(Ne){if(re)for(var Me=re.childNodes,We=0;We<Me.length;++We)Me[We].id===Ne.cueID&&(re.removeChild(Me[We]),--We)}function Be(){var Ne,Me=[],We=function(st,Vt){var Ft;if(typeof Symbol>"u"||null==st[Symbol.iterator]){if(Array.isArray(st)||(Ft=function(xn,Ln){if(xn){if("string"==typeof xn)return ea(xn,undefined);var On=Object.prototype.toString.call(xn).slice(8,-1);return"Object"===On&&xn.constructor&&(On=xn.constructor.name),"Map"===On||"Set"===On?Array.from(xn):"Arguments"===On||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(On)?ea(xn,undefined):void 0}}(st))){Ft&&(st=Ft);var pt=0,on=function(){};return{s:on,n:function(){return pt>=st.length?{done:!0}:{done:!1,value:st[pt++]}},e:function(xn){throw xn},f:on}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ln,cn=!0,bn=!1;return{s:function(){Ft=st[Symbol.iterator]()},n:function(){var xn=Ft.next();return cn=xn.done,xn},e:function(xn){bn=!0,ln=xn},f:function(){try{cn||null==Ft.return||Ft.return()}finally{if(bn)throw ln}}}}(fe.getTextTracks());try{for(We.s();!(Ne=We.n()).done;){var nt=Ne.value;nt.manualMode===f.Z.TEXT_SHOWING&&Me.push(nt)}}catch(st){We.e(st)}finally{We.f()}return Me}function Ue(Ne){return Ne>=0&&F[Ne]?fe.getTextTrack(F[Ne].kind,F[Ne].id,F[Ne].lang,F[Ne].isTTML,F[Ne].isEmbedded):null}function je(Ne){var Me=this;if(Ne!==C){var We=Ue(C=Ne);Ot.call(this,We),ee&&(clearInterval(ee),ee=null),We&&"html"===We.renderingType&&(U.call(this,We,!0),window.ResizeObserver?(te=new window.ResizeObserver(function(){U.call(Me,We,!0)})).observe(fe.getElement()):ee=setInterval(U.bind(this,We),500))}}function Ot(Ne){it.call(this),Ne&&"html"===Ne.renderingType?hn.call(this):Le.call(this)}function vt(Ne,Me){if(!Ne.cues)return!1;for(var We=0;We<Ne.cues.length;We++)if(Ne.cues[We].startTime===Me.startTime&&Ne.cues[We].endTime===Me.endTime)return!0;return!1}function wt(Ne,Me,We){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return!!Ne&&(isNaN(Me)||(nt?Ne.startTime:Ne.endTime)>=Me)&&(isNaN(We)||(nt?Ne.endTime:Ne.startTime)<=We)}function Ct(Ne,Me,We){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Ne&&(Ne.cues||Ne.manualCueList)){var st=Ne.cues&&Ne.cues.length>0?"native":"custom",Vt="native"===st?Ne.cues:Ne.manualCueList;if(!Vt||0===Vt.length)return;for(var pt=Vt.length-1;pt>=0;pt--)wt(Vt[pt],Me,We,nt)&&("native"===st?(Vt[pt].onexit&&Vt[pt].onexit(),Ne.removeCue(Vt[pt])):(Xe(Vt[pt]),delete Ne.manualCueList[pt]))}}function hn(){var Ne=document.getElementById("native-cue-style");if(!Ne){(Ne=document.createElement("style")).id="native-cue-style",document.head.appendChild(Ne);var Me=Ne.sheet,We=fe.getElement();try{We&&Me.insertRule(We.id?"#"+We.id+"::cue {background: transparent}":0!==We.classList.length?"."+We.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(nt){b.info(""+nt.message)}}}function Le(){var Ne=document.getElementById("native-cue-style");Ne&&document.head.removeChild(Ne)}function it(){if(V)for(;V.firstChild;)V.removeChild(V.firstChild)}return p={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(R=window.VTTCue||window.TextTrackCue,F=[],P=[],C=-1,B=0,J=0,ne=0,Q=0,V=null,re=null,ee=null,ge=!1,Ce=2147483647,Ee=null,void 0!==document.fullscreenElement?Ie="fullscreenElement":void 0!==document.webkitIsFullScreen?Ie="webkitIsFullScreen":document.msFullscreenElement?Ie="msFullscreenElement":document.mozFullScreen&&(Ie="mozFullScreen"))},getStreamId:function(){return S.id},addTextTrack:function(Ne){F.push(Ne)},addCaptions:G,createTracks:function(){F.sort(function(xn,Ln){return xn.index-Ln.index}),V=fe.getTTMLRenderingDiv(),re=fe.getVttRenderingDiv();for(var Ne,Me,Ft=-1,pt=0;pt<F.length;pt++){var on=(Me=(Ne=F[pt]).kind,fe.addTextTrack(Me,void 0!==Ne.id?Ne.id:Ne.lang,Ne.lang,Ne.isTTML,Ne.isEmbedded));P.push(on),F[pt].defaultTrack&&(on.default=!0,Ft=pt);var ln=Ue(pt);ln&&(ln.mode=f.Z.TEXT_SHOWING,ln.renderingType=V&&(F[pt].isTTML||F[pt].isEmbedded)?"html":"default"),G(pt,0,F[pt].captionData),le.trigger(h.Z.TEXT_TRACK_ADDED)}if(je.call(this,Ft),Ft>=0){le.on(h.Z.PLAYBACK_METADATA_LOADED,function xn(){var Ln=Ue(Ft);Ln&&"html"===Ln.renderingType&&U.call(this,Ln,!0),le.off(h.Z.PLAYBACK_METADATA_LOADED,xn,this)},this);for(var cn=0;cn<F.length;cn++){var bn=Ue(cn);bn&&(bn.mode=cn===Ft?f.Z.TEXT_SHOWING:f.Z.TEXT_HIDDEN,bn.manualMode=cn===Ft?f.Z.TEXT_SHOWING:f.Z.TEXT_HIDDEN)}}le.trigger(v.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:C,tracks:F,streamId:S.id})},getCurrentTrackIdx:function(){return C},setCurrentTrackIdx:je,getTrackIdxForId:function(Ne){for(var Me=-1,We=0;We<F.length;We++)if(F[We].id===Ne){Me=We;break}return Me},getCurrentTrackInfo:function(){return F[C]},setModeForTrackIdx:function(Ne,Me){var We=Ue(Ne);We&&We.mode!==Me&&(We.mode=Me),We&&We.manualMode!==Me&&(We.manualMode=Me)},deleteCuesFromTrackIdx:function(Ne,Me,We){var nt=Ue(Ne);nt&&Ct(nt,Me,We)},deleteAllTextTracks:function(){for(var Ne=P?P.length:0,Me=0;Me<Ne;Me++){var We=Ue(Me);We&&Ct.call(this,We,S.start,S.start+S.duration,!1)}P=[],F=[],ee&&(clearInterval(ee),ee=null),te&&fe&&(te.unobserve(fe.getElement()),te=null),C=-1,it.call(this)},deleteTextTrack:function(Ne){fe.removeChild(P[Ne]),P.splice(Ne,1)},manualCueProcessing:function(Ne){var Me=Be();if(Me&&Me.length>0){var We=Me[0].manualCueList;We&&We.length>0&&We.forEach(function(nt){nt.startTime<=Ne&&nt.endTime>=Ne&&!nt.isActive?(nt.isActive=!0,WebVTT.processCues(window,[nt],re,nt.cueID)):nt.isActive&&(nt.startTime>Ne||nt.endTime<Ne)&&(nt.isActive=!1,Xe(nt))})}},disableManualTracks:function(){var Ne=Be();if(Ne&&Ne.length>0){var Me=Ne[0].manualCueList;Me&&Me.length>0&&Me.forEach(function(We){if(We.isActive&&(We.isActive=!1,re))for(var nt=re.childNodes,st=0;st<nt.length;++st)nt[st].id===We.cueID&&(re.removeChild(nt[st]),--st)})}}},b=(0,D.Z)(Te).getInstance().getLogger(p),p}uu.__dashjs_factory_name="TextTracks";var du=w.Z.getClassFactory(uu);function tp(){var _,p,b,R,F,P;function B(V){var re=V.split(":"),ee=re.length-1;return V=60*parseInt(re[ee-1],10)+parseFloat(re[ee]),2===ee&&(V+=3600*parseInt(re[0],10)),V}function J(V){var re=V.split(R),ee=re[1].split(P);return ee.shift(),re[1]=ee[0],ee.shift(),{cuePoints:re,styles:ne(ee)}}function ne(V){var re={};return V.forEach(function(ee){if(ee.split(/:/).length>1){var Ie=ee.split(/:/)[1],ge=!1;Ie&&-1!=Ie.search(/%/)&&(ge=!0,Ie=parseInt(Ie.replace(/%/,""),10)),(ee.match(/align/)||ee.match(/A/))&&(re.align=Ie),(ee.match(/line/)||ee.match(/L/))&&(re.line="auto"===Ie?Ie:parseInt(Ie,10),ge&&(re.snapToLines=!1)),(ee.match(/position/)||ee.match(/P/))&&(re.position=Ie),(ee.match(/size/)||ee.match(/S/))&&(re.size=Ie)}}),re}function Q(V,re){for(var ee,Ie=re,ge="",Ee="";""!==V[Ie]&&Ie<V.length;)Ie++;if((ee=Ie-re)>1)for(var Ce=0;Ce<ee;Ce++){if((Ee=V[re+Ce]).match(R)){ge="";break}ge+=Ee,Ce!==ee-1&&(ge+="\n")}else(Ee=V[re]).match(R)||(ge=Ee);return ge}return _={parse:function(V){var re,ee,Ie=[];if(!V)return Ie;re=(V=V.split(b)).length,ee=-1;for(var ge=0;ge<re;ge++){var Ee=V[ge];if(Ee.length>0&&"WEBVTT"!==Ee&&Ee.match(R)){var Ce=J(Ee),te=Ce.cuePoints,Te=Ce.styles,le=Q(V,ge+1),fe=B(te[0].replace(F,"")),S=B(te[1].replace(F,""));!isNaN(fe)&&!isNaN(S)&&fe>=ee&&S>fe?""!==le?(ee=fe,Ie.push({start:fe,end:S,data:le,styles:Te})):p.error("Skipping cue due to empty/malformed cue text"):p.error("Skipping cue due to incorrect cue timing")}}return Ie},getCaptionStyles:ne},p=(0,D.Z)(this.context).getInstance().getLogger(_),b=/(?:\r\n|\r|\n)/gm,R=/-->/,F=/(^[\s]+|[\s]+$)/g,P=/\s\b/g,_}tp.__dashjs_factory_name="VTTParser";var C_=w.Z.getSingletonFactory(tp);function Hd(){var _,p;return _={parse:function(b){var R=[];return p.oncue=function(F){F.start=F.startTime,F.end=F.endTime,F.data=F.text,F.styles={align:F.align,line:F.line,position:F.position,size:F.size},R.push(F)},p.parse(b),R}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(p=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),_}Hd.__dashjs_factory_name="VttCustomRenderingParser";var Zd=w.Z.getSingletonFactory(Hd);function np(){var _,p,b=this.context,R=(0,A.Z)(b).getInstance(),F=0;return _={parse:function(P,C,B,J,ne){var Q,V,re,ee="",Ie=[],ge={},Ee={},Ce="",te="",Te={onOpenTag:function(Z,U,L){if(L[" imagetype"]&&!L[" imageType"]&&(R.trigger(h.Z.CONFORMANCE_VIOLATION,{level:kr.LEVELS.ERROR,event:kr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),L[" imageType"]=L[" imagetype"]),"image"===U&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Z||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Z)){if(!L[" imageType"]||"PNG"!==L[" imageType"].value)return void p.warn("smpte-tt imageType != PNG. Discarded");Ce=L["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Ce&&(Ee[Ce]=te.trim()),te="",Ce=""},onText:function(Z){Ce&&(te+=Z)}};if(!P)throw ee="no ttml data to parse",new Error(ee);ge.data=P,R.trigger(v.Z.TTML_TO_PARSE,ge);var le=(0,cu.fromXML)(ge.data,function(Z){ee=Z},Te);R.trigger(v.Z.TTML_PARSED,{ttmlString:ge.data,ttmlDoc:le});var fe,S=le.getMediaTimeEvents();for(re=0;re<S.length;re++){var q=(0,cu.generateISD)(le,S[re],function(Z){ee=Z});q.contents.some(function(Z){return Z.contents.length})&&(Q=S[re]+C)<(V=S[re+1]+C)&&Ie.push({start:Q,end:V,type:"html",cueID:(fe="cue_TTML_"+F,F++,fe),isd:q,images:ne,embeddedImages:Ee})}if(""!==ee)throw p.error(ee),new Error(ee);return Ie}},p=(0,D.Z)(b).getInstance().getLogger(_),_}np.__dashjs_factory_name="TTMLParser";var zd=w.Z.getSingletonFactory(np);function ns(_){var p,b,R,F,P,C,B,J,ne,Q,V,re,ee=this.context,Ie=_.adapter,ge=_.errHandler,Ee=_.manifestModel,Ce=_.mediaController,te=_.videoModel,Te=_.settings;function le(se){var ie=se.tracks,me=se.index,ce=se.streamId;if(!1===Te.get().streaming.text.defaultEnabled&&!q()||re)Z(ce,-1);else{var G=Ce.getCurrentTrackFor(f.Z.TEXT,ce);if(G){var we={lang:G.lang,role:G.roles[0],index:G.index,codec:G.codec,accessibility:G.accessibility[0]};ie.some(function(Pe,Xe){if(Ce.matchSettings(we,Pe))return Z(ce,Xe),me=Xe,!0})}ne=!1}b[ce].lastEnabledIndex=me,J.trigger(h.Z.TEXT_TRACKS_ADDED,{enabled:q(),index:me,tracks:ie,streamId:ce}),V=!0}function fe(se){try{var ie=se.streamId;if(!F[ie]||isNaN(se.time))return;F[ie].manualCueProcessing(se.time)}catch{}}function S(se){try{var ie=se.streamId;if(!F[ie])return;F[ie].disableManualTracks()}catch{}}function q(){var se=!0;return ne&&!Q&&(se=!1),se}function Z(se,ie){(ne=-1===ie)&&Ce&&Ce.saveTextSettingsDisabled();var me=U(se);if(me!==ie&&F[se]){F[se].disableManualTracks(),F[se].setModeForTrackIdx(me,f.Z.TEXT_HIDDEN),F[se].setCurrentTrackIdx(ie),F[se].setModeForTrackIdx(ie,f.Z.TEXT_SHOWING);var ce=F[se].getCurrentTrackInfo();ce&&ce.isFragmented&&!ce.isEmbedded?function(G,we,Pe){if(R[G])for(var Xe=R[G].getConfig().fragmentedTracks,Be=0;Be<Xe.length;Be++){var Ue=Xe[Be];if(we.lang===Ue.lang&&(Ue.id?we.id===Ue.id:we.index===Ue.index)){var je=Ce.getCurrentTrackFor(f.Z.TEXT,G);(Ue.id?je.id!==Ue.id:je.index!==Ue.index)?(F[G].deleteCuesFromTrackIdx(Pe),R[G].setCurrentFragmentedTrackIdx(Be)):-1===Pe&&J.trigger(v.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:G,mediaType:f.Z.TEXT})}}}(se,ce,me):ce&&!ce.isFragmented&&J.trigger(v.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ce},{streamId:se,mediaType:f.Z.TEXT}),Ce.setTrack(ce)}}function U(se){return F[se].getCurrentTrackIdx()}function L(){R={},F={},b={},ne=!0,V=!1,re=!1}return p={deactivateStream:function(se){if(se){var ie=se.id;R[ie]&&R[ie].resetMediaInfos(),F[ie]&&F[ie].deleteAllTextTracks()}},initialize:function(){J.on(v.Z.TEXT_TRACKS_QUEUE_INITIALIZED,le,p),Te.get().streaming.text.webvtt.customRenderingEnabled&&(J.on(v.Z.PLAYBACK_TIME_UPDATED,fe,p),J.on(v.Z.PLAYBACK_SEEKING,S,p))},initializeForStream:function(se){var ie=se.id,me=du(ee).create({videoModel:te,settings:Te,streamInfo:se});me.initialize(),F[ie]=me;var ce=il(ee).create({errHandler:ge,adapter:Ie,manifestModel:Ee,mediaController:Ce,videoModel:te,textTracks:me,vttParser:P,vttCustomRenderingParser:C,ttmlParser:B,streamInfo:se,settings:Te});ce.initialize(),R[ie]=ce,b[ie]={},b[ie].lastEnabledIndex=-1},createTracks:function(se){var ie=se.id;F[ie]&&F[ie].createTracks()},getTextSourceBuffer:function(se){var ie=se.id;if(R&&R[ie])return R[ie]},getAllTracksAreDisabled:function(){return ne},addEmbeddedTrack:function(se,ie){var me=se.id;R[me]&&R[me].addEmbeddedTrack(ie)},enableText:function(se,ie){return(0,ae.PS)(ie,"boolean"),q()!==ie&&(ie&&Z(se,b[se].lastEnabledIndex),ie||(b[se].lastEnabledIndex=U(se),V?Z(se,-1):re=!0)),!0},isTextEnabled:q,setTextTrack:Z,getCurrentTrackIdx:U,enableForcedTextStreaming:function(se){return(0,ae.PS)(se,"boolean"),Q=se,!0},addMediaInfosToBuffer:function(se,ie,me){var G=se.id;R[G]&&R[G].addMediaInfos(ie,me,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function(){L(),J.off(v.Z.TEXT_TRACKS_QUEUE_INITIALIZED,le,p),Te.get().streaming.text.webvtt.customRenderingEnabled&&(J.off(v.Z.PLAYBACK_TIME_UPDATED,fe,p),J.off(v.Z.PLAYBACK_SEEKING,S,p)),Object.keys(R).forEach(function(se){R[se].resetEmbedded(),R[se].reset()})}},Q=!1,V=!1,re=!1,P=C_(ee).getInstance(),C=Zd(ee).getInstance(),B=zd(ee).getInstance(),J=(0,A.Z)(ee).getInstance(),L(),p}ns.__dashjs_factory_name="TextController";var G0=w.Z.getClassFactory(ns);function Gd(){var _,p,b,R,F,P,C,B,J,ne,Q,V,re,ee,Ie,ge,Ee,Ce,te,Te,le,fe,S,q,Z,U,L,se,ie,me,ce,G,we,Pe,Xe,Be,Ue,je,Ot,vt="You must first call initialize() and set a source before calling this method",wt="You must first call initialize() and set a valid source and view before calling this method",Ct="You must first call attachView() to set the video element before calling this method",hn="You must first call attachSource() with a valid source before calling this method",Le="MediaPlayer not initialized!",it=this.context,Ne=(0,A.Z)(it).getInstance(),Me=(0,Ge.Z)(it).getInstance(),We=(0,D.Z)(it).getInstance({settings:Me});function nt(){cr(null),lr(null),R=null,ee&&(ee.reset(),ee=null),Ie&&(Ie.reset(),Ie=null),Te&&Te.reset(),Me.reset(),Ee&&(Ee.reset(),Ee=null)}function st(){return!!b&&!!Be.getElement()}function Vt(){return(0,tl.e)()}function Ft(){if(!C)throw wt;return se.isPaused()}function pt(){if(!C)throw wt;return se.getIsDynamic()}function on(be){var rt=Z&&Z.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,At=G.getCurrentDVRInfo(rt);if(!At)return 0;var tn=se.getOriginalLiveDelay(),gn=At.range.start+be;return gn>At.range.end-tn&&(gn=At.range.end-tn),gn}function ln(be){if(!C)throw wt;var rt=On().currentTime;if(void 0!==be)rt=Z.getTimeRelativeToStreamId(rt,be);else if(se.getIsDynamic()){var At=Z&&Z.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,tn=G.getCurrentDVRInfo(At);rt=null===tn||0===rt?0:Math.max(0,rt-tn.range.start)}return rt}function cn(){if(!C)throw wt;var be=On().duration;if(se.getIsDynamic()){var rt=Z&&Z.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,At=G.getCurrentDVRInfo(rt);be=At?At.range.end-At.range.start:0}return be}function bn(be){(0,ae.PS)(be,"boolean"),B=be}function xn(){Te.restoreDefaultUTCTimingSources()}function Ln(){return G}function On(){if(!Be.getElement())throw Ct;return Be.getElement()}function lr(be){if(!F)throw Le;Be.setElement(be),be&&(ht(),function(){if(!Ie){var rt=dashjs.MetricsReporting;if("function"==typeof rt){var At=rt(it).create();Ie=At.createMetricsReporting({debug:We,eventBus:Ne,mediaElement:On(),adapter:Ce,dashMetrics:G,mediaPlayerModel:te,events:v.Z,constants:f.Z,metricsConstants:I.Z})}}}(),function(){if(!ge){var rt=dashjs.MssHandler;"function"==typeof rt&&(ve.extend(rt.errors),ge=rt(it).create({eventBus:Ne,mediaPlayerModel:te,dashMetrics:G,manifestModel:we,playbackController:se,streamController:Z,protectionController:ee,baseURLController:fe,errHandler:le,events:v.Z,constants:f.Z,debug:We,initSegmentType:ut.w.INIT_SEGMENT_TYPE,BASE64:ou,ISOBoxer:tc,settings:Me}))}}(),Z&&Z.switchToVideoElement(J)),C&&Tn(),ze(J)}function Qn(be){if(!P)throw vt;var rt=Z.getActiveStreamInfo();return rt?re.getTracksFor(be,rt.id):[]}function cr(be){var rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!F)throw Le;"string"==typeof be&&Ue.initialize(be),null==rt&&(rt=NaN),isNaN(rt)||(rt=Math.max(0,rt)),J=rt,b=be,(P||C)&&Tn(),st()&&ze(J)}function Pt(){if(!P)throw vt;var be=Z.getActiveStreamInfo();return be?Z.getStreamById(be.id):null}function Tn(){C=!1,P=!1,Ce.reset(),Z.reset(),L.reset(),ce.reset(),se.reset(),ie.reset(),me.reset(),ne.reset(),re.reset(),Ot.reset(),ee&&(Me.get().streaming.protection.keepProtectionMediaKeys?ee.stop():(ee.reset(),ee=null,ht())),U.reset(),Pe.reset(),Xe.reset()}function pn(){return Ka(it).create({debug:We,errHandler:le,dashMetrics:G,mediaPlayerModel:te,requestModifier:(0,De.Z)(it).getInstance(),mssHandler:ge,settings:Me})}function ht(){if(ee)return ee;var be=dashjs.Protection;if("function"==typeof be){var rt=be(it).create();return v.Z.extend(be.events),h.Z.extend(be.events,{publicOnly:!0}),ve.extend(be.errors),S||(S=(0,kd.Z)(it).getInstance()),ee=rt.createProtectionSystem({debug:We,errHandler:le,videoModel:Be,customParametersModel:Te,capabilities:S,eventBus:Ne,events:v.Z,BASE64:ou,constants:f.Z,cmcdModel:Pe,settings:Me})}return null}function kt(){if(!F)throw Le;if(Ee)return Ee;var be=dashjs.OfflineController;if("function"==typeof be){v.Z.extend(be.events),h.Z.extend(be.events,{publicOnly:!0}),ve.extend(be.errors);var rt=pn(),At=bd(it).create();return At.setConfig({manifestModel:we,adapter:Ce,manifestLoader:rt,errHandler:le,contentSteeringController:me}),Ee=be(it).create({debug:We,manifestUpdater:At,baseURLController:fe,manifestLoader:rt,manifestModel:we,mediaPlayerModel:te,abrController:ne,playbackController:se,adapter:Ce,errHandler:le,dashMetrics:G,timelineConverter:V,segmentBaseController:Ot,schemeLoaderFactory:Q,eventBus:Ne,events:v.Z,errors:ve,constants:f.Z,settings:Me,dashConstants:d.Z,urlUtils:(0,$e.Z)(it).getInstance()})}return null}function at(be){var rt=Z&&Z.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,At=G.getCurrentDVRInfo(rt);return At?be+(At.manifestInfo.availableFrom.getTime()/1e3+At.range.start):0}function ze(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Ee&&Ee.resetRecords(),!P&&b&&(P=!0,p.info("Streaming Initialized"),function mn(){var be=pn();Z||(Z=Ed(it).getInstance()),U||(U=G0(it).create({errHandler:le,manifestModel:we,adapter:Ce,mediaController:re,videoModel:Be,settings:Me})),q.setConfig({capabilities:S,customParametersModel:Te,adapter:Ce,settings:Me,manifestModel:we,errHandler:le}),Z.setConfig({capabilities:S,capabilitiesFilter:q,manifestLoader:be,manifestModel:we,mediaPlayerModel:te,customParametersModel:Te,protectionController:ee,textController:U,adapter:Ce,dashMetrics:G,errHandler:le,timelineConverter:V,videoModel:Be,playbackController:se,serviceDescriptionController:ie,contentSteeringController:me,abrController:ne,mediaController:re,settings:Me,baseURLController:fe,uriFragmentModel:Ue,segmentBaseController:Ot}),L.setConfig({settings:Me,playbackController:se,streamController:Z,videoModel:Be,timelineConverter:V,adapter:Ce}),se.setConfig({streamController:Z,serviceDescriptionController:ie,dashMetrics:G,adapter:Ce,videoModel:Be,timelineConverter:V,settings:Me}),ce.setConfig({streamController:Z,playbackController:se,mediaPlayerModel:te,videoModel:Be,settings:Me}),ne.setConfig({streamController:Z,domStorage:je,mediaPlayerModel:te,customParametersModel:Te,cmsdModel:Xe,dashMetrics:G,adapter:Ce,videoModel:Be,settings:Me}),Pe.setConfig({abrController:ne,dashMetrics:G,playbackController:se}),Xe.setConfig({}),ne.initialize(),Z.initialize(B,R),U.initialize(),L.initialize(),ce.initialize(),Pe.initialize(),Xe.initialize(),me.initialize(),Ot.initialize()}(),"string"==typeof b?Z.load(b,be):Z.loadWithManifest(b,be)),!C&&st()&&(C=!0,p.info("Playback Initialized"))}return _={initialize:function(be,rt,At){var tn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;S||(S=(0,kd.Z)(it).getInstance()).setConfig({settings:Me}),le||(le=qh(it).getInstance()),S.supportsMediaSource()?(F||(F=!0,V=Qh(it).getInstance(),ne||(ne=Wl(it).getInstance()).setConfig({settings:Me}),Q||(Q=nr(it).getInstance()),se||(se=T(it).getInstance()),re||(re=A0(it).getInstance()),Z||(Z=Ed(it).getInstance()),L||(L=Hc(it).getInstance()),ce||(ce=Td(it).getInstance()),ie||(ie=Vh(it).getInstance()),me||(me=Sa(it).getInstance()),q||(q=y_(it).getInstance()),Ce=k0(it).getInstance(),we=di(it).getInstance(),Pe=Zt(it).getInstance(),Xe=To(it).getInstance(),G=Ho(it).getInstance({settings:Me}),je=nu(it).getInstance({settings:Me}),Ce.setConfig({constants:f.Z,cea608parser:N(),errHandler:le,BASE64:ou}),fe||(fe=qc(it).create()),fe.setConfig({adapter:Ce,contentSteeringController:me}),ie.setConfig({adapter:Ce}),Ot||(Ot=ts(it).getInstance({dashMetrics:G,mediaPlayerModel:te,errHandler:le,baseURLController:fe,events:v.Z,eventBus:Ne,debug:We,boxParser:(0,Ta.Z)(it).getInstance(),requestModifier:(0,De.Z)(it).getInstance(),errors:ve})),re.setConfig({domStorage:je,settings:Me,customParametersModel:Te}),te.setConfig({playbackController:se,serviceDescriptionController:ie}),me.setConfig({adapter:Ce,errHandler:le,dashMetrics:G,mediaPlayerModel:te,manifestModel:we,serviceDescriptionController:ie,eventBus:Ne,requestModifier:(0,De.Z)(it).getInstance()}),xn(),bn(void 0===At||At),kt()),be&&lr(be),rt&&cr(rt,tn),p.info("[dash.js "+Vt()+"] MediaPlayer has been initialized")):le.error(new K.Z(ve.CAPABILITY_MEDIASOURCE_ERROR_CODE,ve.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(be){be&&(be.capabilities&&(S=be.capabilities),be.capabilitiesFilter&&(q=be.capabilitiesFilter),be.streamController&&(Z=be.streamController),be.textController&&(U=be.textController),be.gapController&&(L=be.gapController),be.playbackController&&(se=be.playbackController),be.serviceDescriptionController&&(ie=be.serviceDescriptionController),be.contentSteeringController&&(me=be.contentSteeringController),be.catchupController&&(ce=be.catchupController),be.mediaPlayerModel&&(te=be.mediaPlayerModel),be.customParametersModel&&(Te=be.customParametersModel),be.abrController&&(ne=be.abrController),be.schemeLoaderFactory&&(Q=be.schemeLoaderFactory),be.mediaController&&(re=be.mediaController),be.settings&&(Me=be.settings))},on:function(be,rt,At,tn){Ne.on(be,rt,At,tn)},off:function(be,rt,At){Ne.off(be,rt,At)},extend:function(be,rt,At){w.Z.extend(be,rt,At,it)},attachView:lr,attachSource:cr,isReady:st,preload:function(){if(!Be.getElement()&&!P){if(!b)throw hn;ze(J)}},play:function(){if(!C)throw wt;(!B||Ft()&&C)&&se.play(!0)},isPaused:Ft,pause:function(){if(!C)throw wt;se.pause()},isSeeking:function(){if(!C)throw wt;return se.isSeeking()},isDynamic:pt,getLowLatencyModeEnabled:function(){if(!C)throw wt;return se.getLowLatencyModeEnabled()},seek:function(be){if(!C)throw wt;if((0,ae.PS)(be,"number"),isNaN(be))throw f.Z.BAD_ARGUMENT_ERROR;be<0&&(be=0);var rt=se.getIsDynamic()?on(be):be,At=On();!se.getIsDynamic()&&At.duration&&(rt=Math.min(At.duration,rt)),se.seek(rt,!1,!1,!0)},seekToOriginalLive:function(){C&&pt()&&se.seekToOriginalLive()},setPlaybackRate:function(be){On().playbackRate=be},getPlaybackRate:function(){return On().playbackRate},setMute:function(be){(0,ae.PS)(be,"boolean"),On().muted=be},isMuted:function(){return On().muted},setVolume:function(be){if("number"!=typeof be||isNaN(be)||be<0||be>1)throw f.Z.BAD_ARGUMENT_ERROR;On().volume=be},getVolume:function(){return On().volume},time:ln,duration:cn,timeAsUTC:function(){if(!C)throw wt;return ln()<0?NaN:at(ln())},durationAsUTC:function(){if(!C)throw wt;return at(cn())},getActiveStream:Pt,getDVRWindowSize:function(){var be=Z&&Z.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,rt=G.getCurrentDVRInfo(be);return rt?rt.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:on,getAvailableBaseUrls:function(){var be=we.getValue();return be?fe.getBaseUrls(be):[]},getAvailableLocations:function(){var be=we.getValue();if(!be)return[];var rt=Ce.getLocation(be),At=me.getSynthesizedLocationElements(rt);return rt.concat(At)},getTargetLiveDelay:function(){if(!C)throw wt;return se.getOriginalLiveDelay()},convertToTimeCode:function(be){be=Math.max(be,0);var rt=Math.floor(be/3600),At=Math.floor(be%3600/60),tn=Math.floor(be%3600%60);return(0===rt?"":rt<10?"0"+rt.toString()+":":rt.toString()+":")+(At<10?"0"+At.toString():At.toString())+":"+(tn<10?"0"+tn.toString():tn.toString())},formatUTC:function(be,rt,At){var tn=arguments.length>3&&void 0!==arguments[3]&&arguments[3],gn=new Date(1e3*be),Kn=gn.toLocaleDateString(rt),Fr=gn.toLocaleTimeString(rt,{hour12:At});return tn?Fr+" "+Kn:Fr},getVersion:Vt,getDebug:function(){return We},getBufferLength:function(be){var rt=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT];if(be)return-1!==rt.indexOf(be)?Ln().getCurrentBufferLevel(be)||NaN:(p.warn("getBufferLength requested for invalid type"),NaN);var At=rt.map(function(tn){return Qn(tn).length>0?Ln().getCurrentBufferLevel(tn):Number.MAX_VALUE}).reduce(function(tn,gn){return Math.min(tn,gn)});return At===Number.MAX_VALUE?NaN:At},getTTMLRenderingDiv:function(){return Be?Be.getTTMLRenderingDiv():null},getVideoElement:On,getSource:function(){if(!b)throw hn;return b},updateSource:function(be){Z.load(b=be)},getCurrentLiveLatency:function(){if(!F)throw Le;return C?se.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(be){if(!P)throw vt;return ne.getTopBitrateInfoFor(be)},setAutoPlay:bn,getAutoPlay:function(){return B},getDashMetrics:Ln,getQualityFor:function(be){if(!P)throw vt;if(be===f.Z.IMAGE){var rt=Pt();if(!rt)return-1;var At=rt.getThumbnailController();return At?At.getCurrentTrackIndex():-1}return ne.getQualityFor(be)},setQualityFor:function(be,rt){var At=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!P)throw vt;if(be===f.Z.IMAGE){var tn=Pt();if(!tn)return;var gn=tn.getThumbnailController();gn&&gn.setTrackByIndex(rt)}ne.setPlaybackQuality(be,Z.getActiveStreamInfo(),rt,{forceReplace:At})},updatePortalSize:function(){ne.setElementSize(),ne.setWindowResizeEventCalled(!0)},enableText:function(be){var rt=Z.getActiveStreamInfo();return!(!rt||!U)&&U.enableText(rt.id,be)},enableForcedTextStreaming:function(be){return!(!Z.getActiveStreamInfo()||!U)&&U.enableForcedTextStreaming(be)},isTextEnabled:function(){var be=Z.getActiveStreamInfo();return!(!be||!U)&&U.isTextEnabled(be)},setTextTrack:function(be){if(!C)throw wt;var rt=Z.getActiveStreamInfo();rt&&U&&U.setTextTrack(rt.id,be)},getBitrateInfoListFor:function(be){if(!P)throw vt;var rt=Pt();return rt?rt.getBitrateListFor(be):[]},getStreamsFromManifest:function(be){if(!P)throw vt;return Ce.getStreamsInfo(be)},getTracksFor:Qn,getTracksForTypeFromManifest:function(be,rt,At){if(!P)throw vt;return(At=At||Ce.getStreamsInfo(rt,1)[0])?Ce.getAllMediaInfoForType(At,be,rt):[]},getCurrentTrackFor:function(be){if(!P)throw vt;var rt=Z.getActiveStreamInfo();return re.getCurrentTrackFor(be,rt.id)},setInitialMediaSettingsFor:function(be,rt){if(!F)throw Le;re.setInitialSettings(be,rt)},getInitialMediaSettingsFor:function(be){if(!F)throw Le;return re.getInitialSettings(be)},setCurrentTrack:function(be){if(!P)throw vt;re.setTrack(be,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},addABRCustomRule:function(be,rt,At){Te.addAbrCustomRule(be,rt,At)},removeABRCustomRule:function(be){Te.removeAbrCustomRule(be)},removeAllABRCustomRule:function(){Te.removeAllAbrCustomRule()},getABRCustomRules:function(){return Te.getAbrCustomRules()},getAverageThroughput:function(be){var rt=ne.getThroughputHistory(),At=se.getIsDynamic();return rt?rt.getAverageThroughput(be,At):0},retrieveManifest:function(be,rt){var At=pn(),tn=this;Ne.on(v.Z.INTERNAL_MANIFEST_LOADED,function gn(Kn){Kn.error?rt(null,Kn.error):rt(Kn.manifest),Ne.off(v.Z.INTERNAL_MANIFEST_LOADED,gn,tn),At.reset()},tn),Ue.initialize(be),At.load(be)},addUTCTimingSource:function(be,rt){Te.addUTCTimingSource(be,rt)},removeUTCTimingSource:function(be,rt){Te.removeUTCTimingSource(be,rt)},clearDefaultUTCTimingSources:function(){Te.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:xn,setXHRWithCredentialsForType:function(be,rt){Te.setXHRWithCredentialsForType(be,rt)},getXHRWithCredentialsForType:function(be){return Te.getXHRWithCredentialsForType(be)},getProtectionController:function(){return ht()},attachProtectionController:function(be){ee=be},setProtectionData:function(be){R=be,Z&&Z.setProtectionData(R)},registerLicenseRequestFilter:function(be){Te.registerLicenseRequestFilter(be)},registerLicenseResponseFilter:function(be){Te.registerLicenseResponseFilter(be)},unregisterLicenseRequestFilter:function(be){Te.unregisterLicenseRequestFilter(be)},unregisterLicenseResponseFilter:function(be){Te.unregisterLicenseResponseFilter(be)},registerCustomCapabilitiesFilter:function(be){Te.registerCustomCapabilitiesFilter(be)},unregisterCustomCapabilitiesFilter:function(be){Te.unregisterCustomCapabilitiesFilter(be)},setCustomInitialTrackSelectionFunction:function(be){Te.setCustomInitialTrackSelectionFunction(be)},resetCustomInitialTrackSelectionFunction:function(){Te.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(be){if(!Be.getElement())throw Ct;Be.setTTMLRenderingDiv(be)},attachVttRenderingDiv:function(be){if(!Be.getElement())throw Ct;Be.setVttRenderingDiv(be)},getCurrentTextTrackIndex:function(){var be=Z.getActiveStreamInfo();if(be&&U)return U.getCurrentTrackIdx(be.id)},provideThumbnail:function(be,rt){if("function"==typeof rt)if(be<0)rt(null);else{var At=se.getIsDynamic()?on(be):be,tn=Z.getStreamForTime(At);if(null!==tn){var gn=tn.getThumbnailController();if(gn)return gn.provide(At,rt);rt(null)}else rt(null)}},getDashAdapter:function(){return Ce},getOfflineController:function(){return kt()},triggerSteeringRequest:function(){if(me)return me.loadSteeringData()},getCurrentSteeringResponseData:function(){if(me)return me.getCurrentSteeringResponseData()},getSettings:function(){return Me.get()},updateSettings:function(be){Me.update(be)},resetSettings:function(){Me.reset()},reset:nt,destroy:function(){nt(),w.Z.deleteSingletonInstances(it)}},p=We.getLogger(_),F=!1,C=!1,P=!1,B=!0,J=NaN,ee=null,Ee=null,R=null,Ce=null,Ot=null,v.Z.extend(h.Z),te=ro(it).getInstance(),Te=(0,Kt.Z)(it).getInstance(),Be=Os(it).getInstance(),Ue=Rn(it).getInstance(),_}Gd.__dashjs_factory_name="MediaPlayer";var rc=w.Z.getClassFactory(Gd);rc.events=h.Z,rc.errors=ve,w.Z.updateClassFactory(Gd.__dashjs_factory_name,rc);var rp=rc},8825:function(Et,Ze,H){"use strict";function ye(A){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(A)}function N(A,v){return(N=Object.setPrototypeOf||function(w,D){return w.__proto__=D,w})(A,v)}function d(A){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(A)}var I=new(function(A){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&N(y,T)}(h,A);var v,w,D=(v=h,w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=d(v);if(w){var j=d(this).constructor;y=Reflect.construct(T,arguments,j)}else y=T.apply(this,arguments);return function f(A,v){return!v||"object"!==ye(v)&&"function"!=typeof v?function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(A):v}(this,y)});function h(){var y;return function(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,h),(y=D.call(this)).AST_IN_FUTURE="astInFuture",y.BASE_URLS_UPDATED="baseUrlsUpdated",y.BUFFER_EMPTY="bufferStalled",y.BUFFER_LOADED="bufferLoaded",y.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",y.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",y.DYNAMIC_TO_STATIC="dynamicToStatic",y.ERROR="error",y.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",y.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",y.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",y.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",y.LOG="log",y.MANIFEST_LOADING_STARTED="manifestLoadingStarted",y.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",y.MANIFEST_LOADED="manifestLoaded",y.METRICS_CHANGED="metricsChanged",y.METRIC_CHANGED="metricChanged",y.METRIC_ADDED="metricAdded",y.METRIC_UPDATED="metricUpdated",y.PERIOD_SWITCH_STARTED="periodSwitchStarted",y.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",y.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",y.QUALITY_CHANGE_RENDERED="qualityChangeRendered",y.TRACK_CHANGE_RENDERED="trackChangeRendered",y.STREAM_INITIALIZING="streamInitializing",y.STREAM_UPDATED="streamUpdated",y.STREAM_ACTIVATED="streamActivated",y.STREAM_DEACTIVATED="streamDeactivated",y.STREAM_INITIALIZED="streamInitialized",y.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",y.TEXT_TRACKS_ADDED="allTextTracksAdded",y.TEXT_TRACK_ADDED="textTrackAdded",y.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",y.TTML_PARSED="ttmlParsed",y.TTML_TO_PARSE="ttmlToParse",y.CAPTION_RENDERED="captionRendered",y.CAPTION_CONTAINER_RESIZE="captionContainerResize",y.CAN_PLAY="canPlay",y.CAN_PLAY_THROUGH="canPlayThrough",y.PLAYBACK_ENDED="playbackEnded",y.PLAYBACK_ERROR="playbackError",y.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",y.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",y.PLAYBACK_LOADED_DATA="playbackLoadedData",y.PLAYBACK_PAUSED="playbackPaused",y.PLAYBACK_PLAYING="playbackPlaying",y.PLAYBACK_PROGRESS="playbackProgress",y.PLAYBACK_RATE_CHANGED="playbackRateChanged",y.PLAYBACK_SEEKED="playbackSeeked",y.PLAYBACK_SEEKING="playbackSeeking",y.PLAYBACK_STALLED="playbackStalled",y.PLAYBACK_STARTED="playbackStarted",y.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",y.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",y.PLAYBACK_WAITING="playbackWaiting",y.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",y.EVENT_MODE_ON_START="eventModeOnStart",y.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",y.CONFORMANCE_VIOLATION="conformanceViolation",y.REPRESENTATION_SWITCH="representationSwitch",y.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",y.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",y.INBAND_PRFT="inbandPrft",y}return h}(H(8342).Z));Ze.Z=I},3393:function(Et,Ze){"use strict";var ye=new(function(){function N(){(function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")})(this,N),this.init()}var d;return(d=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}());Ze.Z=ye},3860:function(Et,Ze){"use strict";var ye=new(function(){function N(){(function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")})(this,N),this.init()}var d;return(d=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}());Ze.Z=ye},8080:function(Et,Ze,H){"use strict";H.d(Ze,{default:function(){return M}});var ye=function O(){(function(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,O),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};ye.SSL_CONNECTION_FAILED_PREFIX="SSL",ye.DNS_RESOLUTION_FAILED="C00",ye.HOST_UNREACHABLE="C01",ye.CONNECTION_REFUSED="C02",ye.CONNECTION_ERROR="C03",ye.CORRUPT_MEDIA_ISOBMFF="M00",ye.CORRUPT_MEDIA_OTHER="M01",ye.BASE_URL_CHANGED="F00",ye.BECAME_REPORTER="S00";var N=ye,f=H(1180);function d(O){var ae,oe,De=(O=O||{}).eventBus,$e=O.dashMetrics,Ye=O.metricsConstants,Fe=O.events;function qe(Nt){var an=new N;if(oe){for(var _n in Nt)Nt.hasOwnProperty(_n)&&(an[_n]=Nt[_n]);an.mpdurl||(an.mpdurl=oe.originalUrl||oe.url),an.terror||(an.terror=new Date),$e.addDVBErrors(an)}}function ft(Nt){Nt.error||(oe=Nt.manifest)}function Se(Nt){qe({errorcode:N.BASE_URL_CHANGED,servicelocation:Nt.entry})}function tt(){qe({errorcode:N.BECAME_REPORTER})}function He(Nt){var an;Nt.metric===Ye.HTTP_REQUEST&&(0===(an=Nt.value).responsecode||null==an.responsecode||an.responsecode>=400||an.responsecode<100||an.responsecode>=600)&&qe({errorcode:an.responsecode||N.CONNECTION_ERROR,url:an.url,terror:an.tresponse,servicelocation:an._serviceLocation})}function Tt(Nt){var an;switch(Nt.error?Nt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:an=N.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:an=N.CORRUPT_MEDIA_OTHER;break;default:return}qe({errorcode:an})}return ae={initialize:function(){De.on(Fe.MANIFEST_UPDATED,ft,ae),De.on(Fe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Se,ae),De.on(Fe.METRIC_ADDED,He,ae),De.on(Fe.METRIC_UPDATED,He,ae),De.on(Fe.PLAYBACK_ERROR,Tt,ae),De.on(f.Z.BECAME_REPORTING_PLAYER,tt,ae)},reset:function(){De.off(Fe.MANIFEST_UPDATED,ft,ae),De.off(Fe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Se,ae),De.off(Fe.METRIC_ADDED,He,ae),De.off(Fe.METRIC_UPDATED,He,ae),De.off(Fe.PLAYBACK_ERROR,Tt,ae),De.off(f.Z.BECAME_REPORTING_PLAYER,tt,ae)}}}d.__dashjs_factory_name="DVBErrorsTranslator";var I=dashjs.FactoryMaker.getSingletonFactory(d),A=H(2295);function v(O){var ae,oe,De=!1,Ye=(O=O||{}).mediaElement;return ae={initialize:function(Fe){Fe&&Fe.length&&(Fe.forEach(function(qe){var ft=qe.starttime;oe.add(ft,ft+qe.duration)}),De=!!Fe[0]._useWallClockTime)},reset:function(){oe.clear()},isEnabled:function(){var Fe,qe=oe.length;if(!qe)return!0;Fe=De?(new Date).getTime()/1e3:Ye.currentTime;for(var ft=0;ft<qe;ft+=1){var Se=oe.start(ft),tt=oe.end(ft);if(Se<=Fe&&Fe<tt)return!0}return!1}},oe=(0,A.Z)(this.context).create(),ae}v.__dashjs_factory_name="RangeController";var w=dashjs.FactoryMaker.getClassFactory(v);function D(){return{serialise:function O(ae){var oe,De,$e=[],Ye=[];for(oe in ae)if(ae.hasOwnProperty(oe)&&0!==oe.indexOf("_")){if(null==(De=ae[oe])&&(De=""),Array.isArray(De)){if(!De.length)continue;Ye=[],De.forEach(function(Fe){var qe="Object"!==Object.prototype.toString.call(Fe).slice(8,-1);Ye.push(qe?Fe:O(Fe))}),De=Ye.map(encodeURIComponent).join(",")}else"string"==typeof De?De=encodeURIComponent(De):De instanceof Date?De=De.toISOString():"number"==typeof De&&(De=Math.round(De));$e.push(oe+"="+De)}return $e.join("&")}}}D.__dashjs_factory_name="MetricSerialiser";var h=dashjs.FactoryMaker.getSingletonFactory(D);function y(){var O,ae,oe,De=window.crypto||window.msCrypto,$e=Uint32Array,Ye=Math.pow(2,8*$e.BYTES_PER_ELEMENT)-1;function Fe(){De&&(O||(O=new $e(10)),De.getRandomValues(O),ae=0)}return oe={random:function(qe,ft){var Se;return qe||(qe=0),ft||(ft=1),De?(ae===O.length&&Fe(),Se=O[ae]/Ye,ae+=1):Se=Math.random(),Se*(ft-qe)+qe}},Fe(),oe}y.__dashjs_factory_name="RNG";var T=dashjs.FactoryMaker.getSingletonFactory(y),j=H(5717);function X(O){var ae,oe,De,$e,Ye,Fe,qe,ft,Se=this.context,tt=[],He=(O=O||{}).metricsConstants;function Tt(){Ye=!1,Fe=!1,qe=null,ft=null}return ae={report:function(Nt,an){Array.isArray(an)||(an=[an]),Fe&&ft.isEnabled()&&an.forEach(function(_n){var Cn=oe.serialise(_n);Nt!==He.DVB_ERRORS&&(Cn="metricname=".concat(Nt,"&").concat(Cn)),function(wn,Xn,Bn){var br=new XMLHttpRequest;br.withCredentials=De.getXHRWithCredentialsForType(He.HTTP_REQUEST_DVB_REPORTING_TYPE);var _i=function(){var Rr=tt.indexOf(br);-1!==Rr&&(tt.splice(Rr,1),!(br.status>=200&&br.status<300)&&Bn&&Bn())};tt.push(br);try{br.open("GET",wn),br.onloadend=_i,br.onerror=_i,br.send()}catch{br.onerror()}}(Cn="".concat(qe,"?").concat(Cn),0,function(){Fe=!1})})},initialize:function(Nt,an){var _n;if(ft=an,!(qe=Nt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");Ye||((_n=Nt.dvb_probability)&&(1e3===_n||_n/1e3>=$e.random())&&(Fe=!0),Ye=!0)},reset:function(){Tt()}},oe=h(Se).getInstance(),$e=T(Se).getInstance(),De=(0,j.Z)(Se).getInstance(),Tt(),ae}X.__dashjs_factory_name="DVBReporting";var Y=dashjs.FactoryMaker.getClassFactory(X);function $(O){var oe={"urn:dvb:dash:reporting:2014":Y},De=this.context,$e=(O=O||{}).debug?O.debug.getLogger(undefined):{},Ye=O.metricsConstants,Fe=O.mediaPlayerModel||{};return{create:function(qe,ft){var Se;try{(Se=oe[qe.schemeIdUri](De).create({metricsConstants:Ye,mediaPlayerModel:Fe})).initialize(qe,ft)}catch(tt){Se=null,$e.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(qe.schemeIdUri," (").concat(tt.message,")"))}return Se},register:function(qe,ft){oe[qe]=ft},unregister:function(qe){delete oe[qe]}}}$.__dashjs_factory_name="ReportingFactory";var he=dashjs.FactoryMaker.getSingletonFactory($);function z(O){var ae=[],oe=he(this.context).getInstance(O);return{initialize:function(De,$e){De.some(function(Ye){var Fe=oe.create(Ye,$e);if(Fe)return ae.push(Fe),!0})},reset:function(){ae.forEach(function(De){return De.reset()}),ae=[]},report:function(De,$e){ae.forEach(function(Ye){return Ye.report(De,$e)})}}}z.__dashjs_factory_name="ReportingController";var k=dashjs.FactoryMaker.getClassFactory(z);function K(){return{reconstructFullMetricName:function(O,ae,oe){var De=O;return ae&&(De+="("+ae,oe&&oe.length&&(De+=","+oe),De+=")"),De},validateN:function(O){if(!O)throw new Error("missing n");if(isNaN(O))throw new Error("n is NaN");if(O<0)throw new Error("n must be positive");return O}}}K.__dashjs_factory_name="HandlerHelpers";var ue=dashjs.FactoryMaker.getSingletonFactory(K);function de(O){var ae,oe,De,$e,Ye;O=O||{};var qe=ue(this.context).getInstance(),ft=[],Se=O.metricsConstants;function tt(){var He=function(){try{return Object.keys(ft).map(function(Tt){return ft[Tt]}).reduce(function(Tt,Nt){return Tt.level<Nt.level?Tt:Nt})}catch{return}}();He&&Ye!==He.t&&(Ye=He.t,ae.report(De,He))}return{initialize:function(He,Tt,Nt){Tt&&(oe=qe.validateN(Nt),ae=Tt,De=qe.reconstructFullMetricName(He,Nt),$e=setInterval(tt,oe))},reset:function(){clearInterval($e),$e=null,oe=0,ae=null,Ye=null},handleNewMetric:function(He,Tt,Nt){He===Se.BUFFER_LEVEL&&(ft[Nt]=Tt)}}}de.__dashjs_factory_name="BufferLevelHandler";var Oe=dashjs.FactoryMaker.getClassFactory(de),gt=dashjs.FactoryMaker.getClassFactory(function(O){var ae,oe=(O=O||{}).eventBus,De=O.metricsConstants;function $e(){oe.off(f.Z.METRICS_INITIALISATION_COMPLETE,$e,this),oe.trigger(f.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(Ye,Fe){Fe&&(ae=Fe,oe.on(f.Z.METRICS_INITIALISATION_COMPLETE,$e,this))},reset:function(){ae=null},handleNewMetric:function(Ye,Fe){Ye===De.DVB_ERRORS&&ae&&ae.report(Ye,Fe)}}});function ve(O){var ae,oe,De,$e,Ye;O=O||{};var Fe=[],qe=ue(this.context).getInstance(),ft=O.metricsConstants;function Se(){Fe.length&&ae&&ae.report($e,Fe),Fe=[]}return{initialize:function(tt,He,Tt,Nt){He&&(oe=qe.validateN(Tt),ae=He,Nt&&Nt.length&&(De=Nt),$e=qe.reconstructFullMetricName(tt,Tt,Nt),Ye=setInterval(Se,oe))},reset:function(){clearInterval(Ye),Ye=null,oe=null,De=null,Fe=[],ae=null},handleNewMetric:function(tt,He){tt===ft.HTTP_REQUEST&&(De&&De!==He.type||Fe.push(He))}}}ve.__dashjs_factory_name="HttpListHandler";var Ge=dashjs.FactoryMaker.getClassFactory(ve);function ut(){var O,ae;return{initialize:function(oe,De){O=oe,ae=De},reset:function(){ae=null,O=void 0},handleNewMetric:function(oe,De){oe===O&&ae&&ae.report(O,De)}}}ut.__dashjs_factory_name="GenericMetricHandler";var Ve=dashjs.FactoryMaker.getClassFactory(ut);function ke(O){var oe=(O=O||{}).debug?O.debug.getLogger(undefined):{},De=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,$e=this.context,Ye={BufferLevel:Oe,DVBErrors:gt,HttpList:Ge,PlayList:Ve,RepSwitchList:Ve,TcpList:Ve};return{create:function(Fe,qe){var ft,Se=Fe.match(De);if(Se){try{(ft=Ye[Se[1]]($e).create({eventBus:O.eventBus,metricsConstants:O.metricsConstants})).initialize(Se[1],qe,Se[3],Se[5])}catch(tt){ft=null,oe.error("MetricsHandlerFactory: Could not create handler for type ".concat(Se[1]," with args ").concat(Se[3],", ").concat(Se[5]," (").concat(tt.message,")"))}return ft}},register:function(Fe,qe){Ye[Fe]=qe},unregister:function(Fe){delete Ye[Fe]}}}ke.__dashjs_factory_name="MetricsHandlerFactory";var ot=dashjs.FactoryMaker.getSingletonFactory(ke);function Qe(O){var ae,oe=[],$e=(O=O||{}).eventBus,Ye=O.events,Fe=ot(this.context).getInstance({debug:O.debug,eventBus:O.eventBus,metricsConstants:O.metricsConstants});function qe(ft){oe.forEach(function(Se){Se.handleNewMetric(ft.metric,ft.value,ft.mediaType)})}return ae={initialize:function(ft,Se){ft.split(",").forEach(function(tt,He,Tt){var Nt;if(-1!==tt.indexOf("(")&&-1===tt.indexOf(")")){var an=Tt[He+1];an&&-1===an.indexOf("(")&&-1!==an.indexOf(")")&&(tt+=","+an,delete Tt[He+1])}(Nt=Fe.create(tt,Se))&&oe.push(Nt)}),$e.on(Ye.METRIC_ADDED,qe,ae),$e.on(Ye.METRIC_UPDATED,qe,ae)},reset:function(){$e.off(Ye.METRIC_ADDED,qe,ae),$e.off(Ye.METRIC_UPDATED,qe,ae),oe.forEach(function(ft){return ft.reset()}),oe=[]}}}Qe.__dashjs_factory_name="MetricsHandlersController";var Rt=dashjs.FactoryMaker.getClassFactory(Qe);function xe(O){var ae,oe,De;O=O||{};var $e=this.context;function Ye(){ae&&ae.reset(),oe&&oe.reset(),De&&De.reset()}return{initialize:function(Fe){try{(De=w($e).create({mediaElement:O.mediaElement})).initialize(Fe.Range),(oe=k($e).create({debug:O.debug,metricsConstants:O.metricsConstants,mediaPlayerModel:O.mediaPlayerModel})).initialize(Fe.Reporting,De),(ae=Rt($e).create({debug:O.debug,eventBus:O.eventBus,metricsConstants:O.metricsConstants,events:O.events})).initialize(Fe.metrics,oe)}catch(qe){throw Ye(),qe}},reset:Ye}}xe.__dashjs_factory_name="MetricsController";var et=dashjs.FactoryMaker.getClassFactory(xe),jt=function O(){(function(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,O),this.metrics="",this.Range=[],this.Reporting=[]},It=function O(){(function(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,O),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},Je=function O(){(function(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,O),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function bt(O){var ae=(O=O||{}).adapter,oe=O.constants;return{getMetrics:function(De){var $e=[];return De&&De.Metrics_asArray&&De.Metrics_asArray.forEach(function(Ye){var Fe=new jt,qe=ae.getIsDynamic(De);Ye.hasOwnProperty("metrics")&&(Fe.metrics=Ye.metrics,Ye.Range_asArray&&Ye.Range_asArray.forEach(function(ft){var tt,Tt,Nt,an,_n,Se=new It;Se.starttime=(tt=De,Tt=ft,_n=0,qe?_n=ae.getAvailabilityStartTime(tt)/1e3:(Nt=ae.getRegularPeriods(tt)).length&&(_n=Nt[0].start),an=_n,Tt&&Tt.hasOwnProperty(oe.START_TIME)&&(an+=Tt.starttime),an),Se.duration=ft.hasOwnProperty("duration")?ft.duration:ae.getDuration(De),Se._useWallClockTime=qe,Fe.Range.push(Se)}),Ye.Reporting_asArray&&(Ye.Reporting_asArray.forEach(function(ft){var Se=new Je;ft.hasOwnProperty(oe.SCHEME_ID_URI)&&(Se.schemeIdUri=ft.schemeIdUri,ft.hasOwnProperty("value")&&(Se.value=ft.value),ft.hasOwnProperty(oe.DVB_REPORTING_URL)&&(Se.dvb_reportingUrl=ft[oe.DVB_REPORTING_URL]),ft.hasOwnProperty(oe.DVB_PROBABILITY)&&(Se.dvb_probability=ft[oe.DVB_PROBABILITY]),Fe.Reporting.push(Se))}),$e.push(Fe)))}),$e}}}bt.__dashjs_factory_name="ManifestParsing";var pe=dashjs.FactoryMaker.getSingletonFactory(bt);function Ae(O){var ae,oe={},De=this.context,$e=(O=O||{}).eventBus,Ye=O.events;function Fe(ft){if(!ft.error){var Se=Object.keys(oe);pe(De).getInstance({adapter:O.adapter,constants:O.constants}).getMetrics(ft.manifest).forEach(function(tt){var He=JSON.stringify(tt);if(oe.hasOwnProperty(He))Se.splice(He,1);else try{var Tt=et(De).create(O);Tt.initialize(tt),oe[He]=Tt}catch{}}),Se.forEach(function(tt){oe[tt].reset(),delete oe[tt]}),$e.trigger(f.Z.METRICS_INITIALISATION_COMPLETE)}}function qe(){Object.keys(oe).forEach(function(ft){oe[ft].reset()}),oe={}}return ae={reset:function(){$e.off(Ye.MANIFEST_UPDATED,Fe,ae),$e.off(Ye.STREAM_TEARDOWN_COMPLETE,qe,ae)}},$e.on(Ye.MANIFEST_UPDATED,Fe,ae),$e.on(Ye.STREAM_TEARDOWN_COMPLETE,qe,ae),ae}Ae.__dashjs_factory_name="MetricsCollectionController";var lt=dashjs.FactoryMaker.getClassFactory(Ae);function E(){var O=this.context;return{createMetricsReporting:function(ae){return I(O).getInstance({eventBus:ae.eventBus,dashMetrics:ae.dashMetrics,metricsConstants:ae.metricsConstants,events:ae.events}).initialize(),lt(O).create(ae)},getReportingFactory:function(){return he(O).getInstance()},getMetricsHandlerFactory:function(){return ot(O).getInstance()}}}E.__dashjs_factory_name="MetricsReporting";var g=dashjs.FactoryMaker.getClassFactory(E);g.events=f.Z,dashjs.FactoryMaker.updateClassFactory(E.__dashjs_factory_name,g);var M=g},1180:function(Et,Ze,H){"use strict";function ye(A){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(A)}function N(A,v){return(N=Object.setPrototypeOf||function(w,D){return w.__proto__=D,w})(A,v)}function d(A){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(A)}var I=new(function(A){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&N(y,T)}(h,A);var v,w,D=(v=h,w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=d(v);if(w){var j=d(this).constructor;y=Reflect.construct(T,arguments,j)}else y=T.apply(this,arguments);return function f(A,v){return!v||"object"!==ye(v)&&"function"!=typeof v?function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(A):v}(this,y)});function h(){var y;return function(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,h),(y=D.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",y.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",y.CMCD_DATA_GENERATED="cmcdDataGenerated",y}return h}(H(8342).Z));Ze.Z=I},5717:function(Et,Ze,H){"use strict";var ye=H(2610),N=H(5448),f=H(1264),d=H(3106),I=H(1767),A=H(3393);function v(){var w,D,h,y,T,j,X,Y,he=(0,f.Z)(this.context).getInstance();function z(){y=[],T=[],j=[],Y=[],X=null,D=[]}function k(Oe,gt){var ve=-1;Oe.some(function(Ge,ut){if(Ge===gt)return ve=ut,!0}),ve<0||Oe.splice(ve,1)}function K(Oe){var gt;for(gt=0;gt<Y.length;gt++)if(Y[gt].rulename===Oe)return gt;return-1}function ue(Oe,gt){de(Oe,gt);var ve=new ye.Z;ve.schemeIdUri=Oe,ve.value=gt,D.push(ve)}function de(Oe,gt){(0,d.PS)(Oe,"string"),(0,d.PS)(gt,"string"),D.forEach(function(ve,Ge){ve.schemeIdUri===Oe&&ve.value===gt&&D.splice(Ge,1)})}return w={getCustomInitialTrackSelectionFunction:function(){return X},setCustomInitialTrackSelectionFunction:function(Oe){X=Oe},resetCustomInitialTrackSelectionFunction:function(){X=null},getLicenseResponseFilters:function(){return T},getLicenseRequestFilters:function(){return y},getCustomCapabilitiesFilters:function(){return j},registerCustomCapabilitiesFilter:function(Oe){j.push(Oe)},registerLicenseResponseFilter:function(Oe){T.push(Oe)},registerLicenseRequestFilter:function(Oe){y.push(Oe)},unregisterCustomCapabilitiesFilter:function(Oe){k(j,Oe)},unregisterLicenseResponseFilter:function(Oe){k(T,Oe)},unregisterLicenseRequestFilter:function(Oe){k(y,Oe)},addAbrCustomRule:function(Oe,gt,ve){if("string"!=typeof Oe||Oe!==I.Z.ABANDON_FRAGMENT_RULES&&Oe!==I.Z.QUALITY_SWITCH_RULES||"string"!=typeof gt)throw A.Z.BAD_ARGUMENT_ERROR;var Ge=K(gt);-1===Ge?Y.push({type:Oe,rulename:gt,rule:ve}):(Y[Ge].type=Oe,Y[Ge].rule=ve)},removeAllAbrCustomRule:function(){Y=[]},removeAbrCustomRule:function(Oe){if(Oe){var gt=K(Oe);-1!==gt&&Y.splice(gt,1)}else Y=[]},getAbrCustomRules:function(){return Y},addUTCTimingSource:ue,removeUTCTimingSource:de,getUTCTimingSources:function(){return D},clearDefaultUTCTimingSources:function(){D=[]},restoreDefaultUTCTimingSources:function(){var Oe=he.get().streaming.utcSynchronization.defaultTimingSource;ue(Oe.scheme,Oe.value)},setXHRWithCredentialsForType:function Oe(gt,ve){gt?h[gt]=!!ve:Object.keys(h).forEach(function(Ge){Oe(Ge,ve)})},getXHRWithCredentialsForType:function(Oe){var gt=h[Oe];return void 0===gt?h.default:gt},setConfig:function(){},reset:function(){z()}},h={default:!1},z(),w}v.__dashjs_factory_name="CustomParametersModel",Ze.Z=N.Z.getSingletonFactory(v)},9032:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(7473);function f(I){var A=(I=I||{}).requestModifier;function v(w){var D=new Date,h=w.request,y=new XMLHttpRequest;if(y.open(w.method,w.url,!0),h.responseType&&(y.responseType=h.responseType),h.range&&y.setRequestHeader("Range","bytes="+h.range),h.requestStartDate||(h.requestStartDate=D),A&&A.modifyRequestHeader&&(y=A.modifyRequestHeader(y,{url:w.url})),w.headers)for(var T in w.headers){var j=w.headers[T];j&&y.setRequestHeader(T,j)}y.withCredentials=w.withCredentials,y.onload=w.onload,y.onloadend=w.onend,y.onerror=w.onerror,y.onprogress=w.progress,y.onabort=w.onabort,y.ontimeout=w.ontimeout,y.timeout=w.timeout,y.send(),w.response=y}return{load:function(w){A&&A.modifyRequest?(0,N.k)(w,A).then(function(){return v(w)}):v(w)},abort:function(w){var D=w.response;D.onloadend=D.onerror=D.onprogress=void 0,D.abort()}}}f.__dashjs_factory_name="XHRLoader";var d=ye.Z.getClassFactory(f);Ze.Z=d},1737:function(Et,Ze,H){"use strict";H.d(Ze,{default:function(){return Ys}});var N={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},f=function(){function zt(){!function(dt,Dt){if(!(dt instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,zt)}var Ht;return(Ht=[{key:"findCencContentProtection",value:function(dt){for(var Dt=null,mt=0;mt<dt.length;++mt){var St=dt[mt];"urn:mpeg:dash:mp4protection:2011"!==St.schemeIdUri.toLowerCase()||"cenc"!==St.value.toLowerCase()&&"cbcs"!==St.value.toLowerCase()||(Dt=St)}return Dt}},{key:"getPSSHData",value:function(dt){var Dt=8,mt=new DataView(dt),St=mt.getUint8(Dt);return Dt+=20,St>0&&(Dt+=4+16*mt.getUint32(Dt)),dt.slice(Dt+=4)}},{key:"getPSSHForKeySystem",value:function(dt,Dt){var mt=zt.parsePSSHList(Dt);return dt&&mt.hasOwnProperty(dt.uuid.toLowerCase())?mt[dt.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(dt,Dt){return"pssh"in dt?(dt.pssh.__text=dt.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),Dt.decodeArray(dt.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(dt){if(null==dt)return[];for(var Dt=new DataView(dt.buffer||dt),mt={},St=0;;){var en,nn,fn=void 0,Sn=St;if(St>=Dt.buffer.byteLength)break;if(en=St+Dt.getUint32(St),1886614376===Dt.getUint32(St+=4))if(0===(nn=Dt.getUint8(St+=4))||1===nn){St++,St+=3,fn="";var rn=void 0,Lt=void 0;for(rn=0;rn<4;rn++)fn+=1===(Lt=Dt.getUint8(St+rn).toString(16)).length?"0"+Lt:Lt;for(St+=4,fn+="-",rn=0;rn<2;rn++)fn+=1===(Lt=Dt.getUint8(St+rn).toString(16)).length?"0"+Lt:Lt;for(St+=2,fn+="-",rn=0;rn<2;rn++)fn+=1===(Lt=Dt.getUint8(St+rn).toString(16)).length?"0"+Lt:Lt;for(St+=2,fn+="-",rn=0;rn<2;rn++)fn+=1===(Lt=Dt.getUint8(St+rn).toString(16)).length?"0"+Lt:Lt;for(St+=2,fn+="-",rn=0;rn<6;rn++)fn+=1===(Lt=Dt.getUint8(St+rn).toString(16)).length?"0"+Lt:Lt;St+=6,St+=4,mt[fn=fn.toLowerCase()]=Dt.buffer.slice(Sn,en),St=en}else St=en;else St=en}return mt}},{key:"getLicenseServerUrlFromMediaInfo",value:function(dt,Dt){try{if(!dt||0===dt.length)return null;for(var mt=0,St=null;mt<dt.length&&!St;){var en=dt[mt];if(en&&en.contentProtection&&en.contentProtection.length>0){var nn=en.contentProtection.filter(function(Vn){return Vn.schemeIdUri&&Vn.schemeIdUri===Dt});if(nn&&nn.length>0)for(var fn=0;fn<nn.length&&!St;){for(var Sn=nn[fn],rn=0;rn<N.attributes.length&&!St;){for(var Lt=0,yn=N.attributes[rn];Lt<N.prefixes.length&&!St;)Sn[yn]&&Sn[yn].__prefix&&Sn[yn].__prefix===N.prefixes[Lt]&&Sn[yn].__text&&(St=Sn[yn].__text),Lt+=1;rn+=1}fn+=1}}mt+=1}return St}catch{return null}}}])&&function ye(zt,Ut){for(var Ht=0;Ht<Ut.length;Ht++){var dt=Ut[Ht];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(zt,dt.key,dt)}}(zt,Ht),zt}(),d=function zt(Ut,Ht){(function(dt,Dt){if(!(dt instanceof Dt))throw new TypeError("Cannot call a class as a function")})(this,zt),this.contentType=Ut,this.robustness=Ht},I=function zt(Ut,Ht,dt,Dt,mt){(function(St,en){if(!(St instanceof en))throw new TypeError("Cannot call a class as a function")})(this,zt),this.initDataTypes=["cenc"],Ut&&Ut.length&&(this.audioCapabilities=Ut),Ht&&Ht.length&&(this.videoCapabilities=Ht),this.distinctiveIdentifier=dt,this.persistentState=Dt,this.sessionTypes=mt};function A(zt){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(zt)}function v(zt,Ut){return(v=Object.setPrototypeOf||function(Ht,dt){return Ht.__proto__=dt,Ht})(zt,Ut)}function D(zt){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)})(zt)}var h=new(function(zt){!function(mt,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(St&&St.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),St&&v(mt,St)}(Dt,zt);var Ut,Ht,dt=(Ut=Dt,Ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var mt,St=D(Ut);if(Ht){var en=D(this).constructor;mt=Reflect.construct(St,arguments,en)}else mt=St.apply(this,arguments);return function w(zt,Ut){return!Ut||"object"!==A(Ut)&&"function"!=typeof Ut?function(Ht){if(void 0===Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(zt):Ut}(this,mt)});function Dt(){var mt;return function(St,en){if(!(St instanceof en))throw new TypeError("Cannot call a class as a function")}(this,Dt),(mt=dt.call(this)).MEDIA_KEYERR_CODE=100,mt.MEDIA_KEYERR_UNKNOWN_CODE=101,mt.MEDIA_KEYERR_CLIENT_CODE=102,mt.MEDIA_KEYERR_SERVICE_CODE=103,mt.MEDIA_KEYERR_OUTPUT_CODE=104,mt.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,mt.MEDIA_KEYERR_DOMAIN_CODE=106,mt.MEDIA_KEY_MESSAGE_ERROR_CODE=107,mt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,mt.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,mt.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,mt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,mt.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,mt.KEY_SESSION_CREATED_ERROR_CODE=113,mt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,mt.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",mt.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",mt.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",mt.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",mt.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",mt.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",mt.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",mt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",mt.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",mt.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",mt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",mt.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",mt.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",mt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",mt}return Dt}(H(2230).Z)),y=H(5459),T=function zt(Ut,Ht,dt,Dt,mt,St,en,nn){(function(fn,Sn){if(!(fn instanceof Sn))throw new TypeError("Cannot call a class as a function")})(this,zt),this.url=Ut,this.method=Ht,this.responseType=dt,this.headers=Dt,this.withCredentials=mt,this.messageType=St,this.sessionId=en,this.data=nn},j=function zt(Ut,Ht,dt){(function(Dt,mt){if(!(Dt instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,zt),this.url=Ut,this.headers=Ht,this.data=dt},X=H(7855),Y=H(703),$=H(3393),he=H(5448);function z(zt){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(zt)}function k(zt){var Ut,Ht,dt,Dt,mt,St,en,nn,fn,Sn,rn,Lt=(zt=zt||{}).protectionKeyController,yn=zt.protectionModel,vn=zt.eventBus,Vn=zt.events,_r=zt.BASE64,Fn=zt.constants,xt=[],Zt=zt.cmcdModel,Jt=zt.settings,jn=zt.customParametersModel;function zn(){if(!(vn&&vn.hasOwnProperty("on")&&Lt&&Lt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function yr(Kt,Dn){nn||fn?nn&&Sr():function(Gn,si){if(!fn){fn=!0;var Wr,nr=[];Gn=Gn.sort(function(ai,jr){return(mt&&mt[ai.ks.systemString]&&mt[ai.ks.systemString].priority>=0?mt[ai.ks.systemString].priority:Gn.length)-(mt&&mt[jr.ks.systemString]&&mt[jr.ks.systemString].priority>=0?mt[jr.ks.systemString].priority:Gn.length)});for(var Mr=0;Mr<Gn.length;Mr++){var Ar=ba(Gn[Mr]);nr.push({ks:Gn[Mr].ks,configs:[Ar],protData:Gn[Mr].protData})}yn.requestKeySystemAccess(nr).then(function(ai){var jr=(Wr=ai.data).mksa&&Wr.mksa.selectedSystemString?Wr.mksa.selectedSystemString:Wr.keySystem.systemString;return Ht.info("DRM: KeySystem Access Granted for system string ("+jr+")!  Selecting key system..."),yn.selectKeySystem(Wr)}).then(function(ai){if(nn=ai,fn=!1,yn){vn.trigger(Vn.KEY_SYSTEM_SELECTED,{data:Wr});var jr=mi(nn);jr&&jr.serverCertificate&&jr.serverCertificate.length>0&&yn.setServerCertificate(_r.decodeArray(jr.serverCertificate).buffer),Sr()}}).catch(function(ai){nn=null,fn=!1,si||vn.trigger(Vn.KEY_SYSTEM_SELECTED,{data:null,error:new y.Z(h.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,h.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+ai.error)})})}}(Kt,Dn)}function Sr(){for(var Kt,Dn=0;Dn<dt.length;Dn++)for(Kt=0;Kt<dt[Dn].length;Kt++)if(nn===dt[Dn][Kt].ks){Ri(dt[Dn][Kt]);break}dt=[]}function Ri(Kt){if(Lt.isClearKey(nn)&&Kt.protData&&Kt.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Kt.protData.clearkeys).length){var Dn={kids:Object.keys(Kt.protData.clearkeys)};Kt.initData=(new TextEncoder).encode(JSON.stringify(Dn))}Kt.sessionId?ui(Kt):null!==Kt.initData&&qr(Kt)}function ui(Kt){zn(),yn.loadKeySession(Kt)}function qr(Kt){var Dn=f.getPSSHForKeySystem(nn,Kt?Kt.initData:null);if(Dn){if(function(Gn){if(!Gn)return!1;try{for(var si=yn.getSessions(),Wr=0;Wr<si.length;Wr++)if(si[Wr].getKeyId()===Gn)return!0;return!1}catch{return!1}}(Kt.keyId)||ti(Dn))return;try{Kt.initData=Dn,yn.createKeySession(Kt)}catch(Gn){vn.trigger(Vn.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+Gn.message)})}}else Kt&&Kt.initData?yn.createKeySession(Kt):vn.trigger(Vn.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(nn?nn.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function mi(Kt){if(Kt){var Dn=Kt.systemString;if(mt)return Dn in mt?mt[Dn]:null}return null}function ti(Kt){if(!Kt)return!1;try{for(var Dn=yn.getAllInitData(),Gn=0;Gn<Dn.length;Gn++)if(Lt.initDataEquals(Kt,Dn[Gn]))return Ht.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Hi(Kt){zn(),Kt?(yn.setMediaElement(Kt),vn.on(Vn.NEED_KEY,$n,Ut)):null===Kt&&(yn.setMediaElement(Kt),vn.off(Vn.NEED_KEY,$n,Ut))}function ba(Kt){var Dn=Kt.protData,Gn=[],si=[],Wr=Dn&&Dn.audioRobustness&&Dn.audioRobustness.length>0?Dn.audioRobustness:en,nr=Dn&&Dn.videoRobustness&&Dn.videoRobustness.length>0?Dn.videoRobustness:en,Mr=Kt.sessionType,Ar=Dn&&Dn.distinctiveIdentifier?Dn.distinctiveIdentifier:"optional",ai=Dn&&Dn.persistentState?Dn.persistentState:"temporary"===Mr?"optional":"required";return Dt.forEach(function(jr){jr.type===Fn.AUDIO?Gn.push(new d(jr.codec,Wr)):jr.type===Fn.VIDEO&&si.push(new d(jr.codec,nr))}),new I(Gn,si,Ar,ai,[Mr])}function $s(Kt){Kt.error?vn.trigger(Vn.KEY_STATUSES_CHANGED,{data:null,error:Kt.error}):Ht.debug("DRM: key status = "+Kt.status)}function Uo(Kt){Ht.debug("DRM: onKeyMessage");var Dn=Kt.data;vn.trigger(Vn.KEY_MESSAGE,{data:Dn});var Gn=Dn.messageType?Dn.messageType:"license-request",si=Dn.message,Wr=Dn.sessionToken,nr=mi(nn),Mr=Lt.getLicenseServerModelInstance(nn,nr,Gn),Ar={sessionToken:Wr,messageType:Gn};if(si&&0!==si.byteLength){if(!Mr)return Ht.debug("DRM: License server request not required for this message (type = "+Kt.data.messageType+").  Session ID = "+Wr.getSessionId()),void Zi(Ar);if(Lt.isClearKey(nn)){var ai=Lt.processClearKeyLicenseRequest(nn,nr,si);if(ai&&ai.keyPairs&&ai.keyPairs.length>0)return Ht.debug("DRM: ClearKey license request handled by application!"),Zi(Ar),void yn.updateKeySession(Wr,ai)}!function(jr,wr,Hn){var Qo=jr.sessionToken,co=jr.messageType?jr.messageType:"license-request",Ea={sessionToken:Qo,messageType:co},ms=nn?nn.systemString:null,Gt=function(Kr,wa,Sa,Ws,kh){var Jo=null,bd=Ws.message;if(Kr&&Kr.serverURL){var wi=Kr.serverURL;"string"==typeof wi&&""!==wi?Jo=wi:"object"===z(wi)&&wi.hasOwnProperty(wa)&&(Jo=wi[wa])}else if(Kr&&Kr.laURL&&""!==Kr.laURL)Jo=Kr.laURL;else if(!(Jo=f.getLicenseServerUrlFromMediaInfo(Dt,nn.schemeIdURI))&&!Lt.isClearKey(nn)){var Jn=f.getPSSHData(Sa.initData);(Jo=nn.getLicenseServerURLFromInitData(Jn))||(Jo=Ws.laURL)}return kh.getServerURLFromMessage(Jo,bd,wa)}(Hn,co,Qo,jr,wr);if(Gt){var gs={},rr=!1;Hn&&Ci(gs,Hn.httpRequestHeaders);var Nr=jr.message;Ci(gs,nn.getRequestHeadersFromMessage(Nr)),Object.keys(gs).forEach(function(Kr){"authorization"===Kr.toLowerCase()&&(rr=!0)}),Hn&&"boolean"==typeof Hn.withCredentials&&(rr=Hn.withCredentials);var Vc=function(Kr){if(yn)if(Kr.status>=200&&Kr.status<=299){var wa=Y.Z.parseHttpHeaders(Kr.getAllResponseHeaders?Kr.getAllResponseHeaders():null),Sa=new j(Kr.responseURL,wa,Kr.response);zi(jn.getLicenseResponseFilters(),Sa).then(function(){var Ws=wr.getLicenseMessage(Sa.data,ms,co);null!==Ws?(Zi(Ea),yn.updateKeySession(Qo,Ws)):To(Kr,Ea,ms,co,wr)})}else To(Kr,Ea,ms,co,wr)},gd=function(Kr){Zi(Ea,new y.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ms+' update, XHR aborted. status is "'+Kr.statusText+'" ('+Kr.status+"), readyState is "+Kr.readyState))},_d=function(Kr){Zi(Ea,new y.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ms+' update, XHR error. status is "'+Kr.statusText+'" ('+Kr.status+"), readyState is "+Kr.readyState))},Ta=nn.getLicenseRequestFromMessage(Nr),to=wr.getHTTPMethod(co),jc=wr.getResponseType(ms,co),vd=Hn&&!isNaN(Hn.httpTimeout)?Hn.httpTimeout:8e3,yd=Qo.getSessionId()||null,_s=new T(Gt,to,jc,gs,rr,co,yd,Ta),Ph=isNaN(Jt.get().streaming.retryAttempts[X.w.LICENSE])?3:Jt.get().streaming.retryAttempts[X.w.LICENSE];zi(jn.getLicenseRequestFilters(),_s).then(function(){Bc(_s,Ph,vd,Vc,gd,_d)})}else Zi(Ea,new y.Z(h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Dn,Mr,nr)}else Zi(Ar,new y.Z(h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Zi(Kt,Dn){vn.trigger(Vn.LICENSE_REQUEST_COMPLETE,{data:Kt,error:Dn})}function Bc(Kt,Dn,Gn,si,Wr,nr){var Mr=new XMLHttpRequest;if(Jt.get().streaming.cmcd&&Jt.get().streaming.cmcd.enabled&&Jt.get().streaming.cmcd.mode===$.Z.CMCD_MODE_QUERY){var Ar=Zt.getQueryParameter({url:Kt.url,type:X.w.LICENSE});Ar&&(Kt.url=Y.Z.addAditionalQueryParameterToUrl(Kt.url,[Ar]))}for(var ai in Mr.open(Kt.method,Kt.url,!0),Mr.responseType=Kt.responseType,Mr.withCredentials=Kt.withCredentials,Gn>0&&(Mr.timeout=Gn),Kt.headers)Mr.setRequestHeader(ai,Kt.headers[ai]);if(Jt.get().streaming.cmcd&&Jt.get().streaming.cmcd.enabled&&Jt.get().streaming.cmcd.mode===$.Z.CMCD_MODE_HEADER){var jr=Zt.getHeaderParameters({url:Kt.url,type:X.w.LICENSE});if(jr)for(var wr in jr){var Hn=jr[wr];Hn&&Mr.setRequestHeader(wr,Hn)}}var Qo=function(){Dn--;var co=isNaN(Jt.get().streaming.retryIntervals[X.w.LICENSE])?1e3:Jt.get().streaming.retryIntervals[X.w.LICENSE];rn=setTimeout(function(){Bc(Kt,Dn,Gn,si,Wr,nr)},co)};Mr.onload=function(){Sn=null,this.status>=200&&this.status<=299||Dn<=0?si(this):(Ht.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Dn),Qo())},Mr.ontimeout=Mr.onerror=function(){Sn=null,Dn<=0?nr(this):(Ht.warn("License request network request failed . Retrying it... Pending retries: "+Dn),Qo())},Mr.onabort=function(){Wr(this)},vn.trigger(Vn.LICENSE_REQUEST_SENDING,{url:Kt.url,headers:Kt.headers,payload:Kt.data,sessionId:Kt.sessionId}),Sn=Mr,Mr.send(Kt.data)}function Uc(){Sn&&(Sn.onloadend=Sn.onerror=Sn.onprogress=void 0,Sn.abort(),Sn=null),rn&&(clearTimeout(rn),rn=null)}function Ci(Kt,Dn){if(Dn)for(var Gn in Dn)Kt[Gn]=Dn[Gn]}function To(Kt,Dn,Gn,si,Wr){var nr="NONE",Mr=null;Kt.response&&(nr=Wr.getErrorResponse(Kt.response,Gn,si),Mr={serverResponse:Kt.response||null,responseCode:Kt.status||null,responseText:Kt.statusText||null}),Zi(Dn,new y.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Gn+' update, XHR complete. status is "'+Kt.statusText+'" ('+Kt.status+"), readyState is "+Kt.readyState+".  Response is "+nr,Mr))}function zi(Kt,Dn){return Kt?Kt.reduce(function(Gn,si){return Gn.then(function(){return si(Dn)})},Promise.resolve()):Promise.resolve()}function $n(Kt,Dn){if(!Jt.get().streaming.protection.ignoreEmeEncryptedEvent){if(Ht.debug("DRM: onNeedKey"),"cenc"!==Kt.key.initDataType)return void Ht.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Kt.key.initDataType);if(0===Dt.length&&(Ht.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Dn=void 0===Dn?1:Dn+1)<5))return void xt.push(setTimeout(function(){$n(Kt,Dn)},500));var Gn=Kt.key.initData;if(ArrayBuffer.isView(Gn)&&(Gn=Gn.buffer),nn){var si=f.getPSSHForKeySystem(nn,Gn);if(si&&ti(si))return}Ht.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Gn)));var Wr=Lt.getSupportedKeySystemsFromSegmentPssh(Gn,mt,St);if(0===Wr.length)return void Ht.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");dt.push(nr=Wr),yr(nr,!1)}var nr}return Ht=zt.debug.getLogger(Ut={initializeForMedia:function(Kt){if(!Kt)throw new Error("mediaInfo can not be null or undefined");zn(),Dt.push(Kt)},clearMediaInfoArray:function(){Dt=[]},handleKeySystemFromManifest:function(){if(Dt&&0!==Dt.length){var Kt=[];Dt.forEach(function(Dn){var Gn=Lt.getSupportedKeySystemsFromContentProtection(Dn.contentProtection,mt,St);Gn.length>0&&(0===Kt.length&&(Kt=Gn),dt.push(Gn))}),Kt&&Kt.length>0&&yr(Kt,!0)}},createKeySession:qr,loadKeySession:ui,removeKeySession:function(Kt){zn(),yn.removeKeySession(Kt)},closeKeySession:function(Kt){zn(),yn.closeKeySession(Kt)},setServerCertificate:function(Kt){zn(),yn.setServerCertificate(Kt)},setMediaElement:Hi,setSessionType:function(Kt){St=Kt},setRobustnessLevel:function(Kt){en=Kt},setProtectionData:function(Kt){mt=Kt,Lt.setProtectionData(Kt)},getSupportedKeySystemsFromContentProtection:function(Kt){return zn(),Lt.getSupportedKeySystemsFromContentProtection(Kt,mt,St)},getKeySystems:function(){return Lt?Lt.getKeySystems():[]},setKeySystems:function(Kt){Lt&&Lt.setKeySystems(Kt)},stop:function(){Uc(),yn&&yn.stop()},reset:function(){vn.off(Vn.INTERNAL_KEY_MESSAGE,Uo,Ut),vn.off(Vn.INTERNAL_KEY_STATUS_CHANGED,$s,Ut),zn(),Uc(),Hi(null),nn=null,fn=!1,yn&&(yn.reset(),yn=null),xt.forEach(function(Kt){return clearTimeout(Kt)}),xt=[],Dt=[],dt=[]}}),dt=[],Dt=[],St="temporary",en="",Sn=null,rn=null,vn.on(Vn.INTERNAL_KEY_MESSAGE,Uo,Ut),vn.on(Vn.INTERNAL_KEY_STATUS_CHANGED,$s,Ut),Ut}k.__dashjs_factory_name="ProtectionController";var K=he.Z.getClassFactory(k),ue=function zt(Ut,Ht){(function(dt,Dt){if(!(dt instanceof Dt))throw new TypeError("Cannot call a class as a function")})(this,zt),this.keyID=Ut,this.key=Ht};var Oe=function(){function zt(dt,Dt){if(function(mt,St){if(!(mt instanceof St))throw new TypeError("Cannot call a class as a function")}(this,zt),Dt&&"persistent"!==Dt&&"temporary"!==Dt)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=dt,this.type=Dt}var Ht;return(Ht=[{key:"toJWK",value:function(){var dt,Dt=this.keyPairs.length,mt={keys:[]};for(dt=0;dt<Dt;dt++)mt.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[dt].keyID,k:this.keyPairs[dt].key});this.type&&(mt.type=this.type);var en=JSON.stringify(mt),nn=en.length,fn=new ArrayBuffer(nn),Sn=new Uint8Array(fn);for(dt=0;dt<nn;dt++)Sn[dt]=en.charCodeAt(dt);return fn}}])&&function de(zt,Ut){for(var Ht=0;Ht<Ut.length;Ht++){var dt=Ut[Ht];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(zt,dt.key,dt)}}(zt.prototype,Ht),zt}();var ve=new(function(){function zt(){(function(dt,Dt){if(!(dt instanceof Dt))throw new TypeError("Cannot call a class as a function")})(this,zt),this.init()}var Ht;return(Ht=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&function gt(zt,Ut){for(var Ht=0;Ht<Ut.length;Ht++){var dt=Ut[Ht];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(zt,dt.key,dt)}}(zt.prototype,Ht),zt}()),Ge="e2719d58-a985-b3c9-781a-b030af78d30e",ut=ve.CLEARKEY_KEYSTEM_STRING,Ve="urn:uuid:"+Ge;function ke(zt){var Ut=(zt=zt||{}).BASE64;return{uuid:Ge,schemeIdURI:Ve,systemString:ut,getInitData:function(Ht,dt){try{var Dt=f.parseInitDataFromContentProtection(Ht,Ut);if(!Dt&&dt){var mt={kids:[function(St){try{var en=St.replace(/-/g,"");return(en=btoa(en.match(/\w{2}/g).map(function(nn){return String.fromCharCode(parseInt(nn,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(dt["cenc:default_KID"])]};Dt=(new TextEncoder).encode(JSON.stringify(mt))}return Dt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Ht){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Ht))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Ht,dt){var Dt=null;if(Ht){for(var mt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(dt))),St=[],en=0;en<mt.kids.length;en++){var nn=mt.kids[en],fn=Ht.clearkeys&&Ht.clearkeys.hasOwnProperty(nn)?Ht.clearkeys[nn]:null;if(!fn)throw new Error("DRM: ClearKey keyID ("+nn+") is not known!");St.push(new ue(nn,fn))}Dt=new Oe(St)}return Dt}}}ke.__dashjs_factory_name="KeySystemClearKey";var ot=dashjs.FactoryMaker.getSingletonFactory(ke),Qe="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Rt=ve.CLEARKEY_KEYSTEM_STRING,xe="urn:uuid:"+Qe;function et(zt){var Ht=zt.BASE64,dt=zt.debug.getLogger(undefined);return{uuid:Qe,schemeIdURI:xe,systemString:Rt,getInitData:function(Dt){return f.parseInitDataFromContentProtection(Dt,Ht)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Dt){return new Uint8Array(Dt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Dt,mt){var St=null;if(Dt){for(var en=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(mt))),nn=[],fn=0;fn<en.kids.length;fn++){var Sn=en.kids[fn],rn=Dt.clearkeys&&Dt.clearkeys.hasOwnProperty(Sn)?Dt.clearkeys[Sn]:null;if(!rn)throw new Error("DRM: ClearKey keyID ("+Sn+") is not known!");nn.push(new ue(Sn,rn))}St=new Oe(nn),dt.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return St}}}et.__dashjs_factory_name="KeySystemW3CClearKey";var jt=dashjs.FactoryMaker.getSingletonFactory(et),It="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Je=ve.WIDEVINE_KEYSTEM_STRING,bt="urn:uuid:"+It;function pe(zt){var Ut=(zt=zt||{}).BASE64;return{uuid:It,schemeIdURI:bt,systemString:Je,getInitData:function(Ht){return f.parseInitDataFromContentProtection(Ht,Ut)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Ht){return new Uint8Array(Ht)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}pe.__dashjs_factory_name="KeySystemWidevine";var Ae=dashjs.FactoryMaker.getSingletonFactory(pe),lt="9a04f079-9840-4286-ab92-e65be0885f95",E=ve.PLAYREADY_KEYSTEM_STRING,g="urn:uuid:"+lt;function M(zt){var Ut="utf-16",Ht=(zt=zt||{}).BASE64,dt=zt.settings;function Dt(){if(!Ht||!Ht.hasOwnProperty("decodeArray")||!Ht.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:lt,schemeIdURI:g,systemString:E,getInitData:function(mt){var St,en,nn,fn,Sn,rn=new Uint8Array([112,115,115,104,0,0,0,0]),Lt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),yn=0,vn=null;if(Dt(),!mt)return null;if("pssh"in mt)return f.parseInitDataFromContentProtection(mt,Ht);if("pro"in mt)vn=Ht.decodeArray(mt.pro.__text);else{if(!("prheader"in mt))return null;vn=Ht.decodeArray(mt.prheader.__text)}return en=4+rn.length+Lt.length+4+(St=vn.length),nn=new ArrayBuffer(en),fn=new Uint8Array(nn),(Sn=new DataView(nn)).setUint32(yn,en),fn.set(rn,yn+=4),fn.set(Lt,yn+=rn.length),Sn.setUint32(yn+=Lt.length,St),fn.set(vn,yn+=4),yn+=St,fn.buffer},getRequestHeadersFromMessage:function(mt){var St,en,nn={},fn=new DOMParser;if(dt&&dt.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Ut&&mt&&mt.byteLength%2==1)return nn["Content-Type"]="text/xml; charset=utf-8",nn;var Sn="utf-16"===Ut?new Uint16Array(mt):new Uint8Array(mt);St=String.fromCharCode.apply(null,Sn);for(var rn=(en=fn.parseFromString(St,"application/xml")).getElementsByTagName("name"),Lt=en.getElementsByTagName("value"),yn=0;yn<rn.length;yn++)nn[rn[yn].childNodes[0].nodeValue]=Lt[yn].childNodes[0].nodeValue;return nn.hasOwnProperty("Content")&&(nn["Content-Type"]=nn.Content,delete nn.Content),nn.hasOwnProperty("Content-Type")||(nn["Content-Type"]="text/xml; charset=utf-8"),nn},getLicenseRequestFromMessage:function(mt){var St=null,en=new DOMParser;if(dt&&dt.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Ut&&mt&&mt.byteLength%2==1)return mt;var nn="utf-16"===Ut?new Uint16Array(mt):new Uint8Array(mt);Dt();var fn=String.fromCharCode.apply(null,nn),Sn=en.parseFromString(fn,"application/xml");if(!Sn.getElementsByTagName("PlayReadyKeyMessage")[0])return mt;var rn=Sn.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return rn&&(St=Ht.decode(rn)),St},getLicenseServerURLFromInitData:function(mt){if(mt)for(var St=new DataView(mt),en=St.getUint16(4,!0),nn=6,fn=new DOMParser,Sn=0;Sn<en;Sn++){var rn=St.getUint16(nn,!0),Lt=St.getUint16(nn+=2,!0);if(nn+=2,1===rn){var yn=mt.slice(nn,nn+Lt),vn=String.fromCharCode.apply(null,new Uint16Array(yn)),Vn=fn.parseFromString(vn,"application/xml");if(Vn.getElementsByTagName("LA_URL")[0]){var tr=Vn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(tr)return tr}if(Vn.getElementsByTagName("LUI_URL")[0]){var _r=Vn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(_r)return _r}}else nn+=Lt}return null},getCDMData:function(mt){var St,en,nn,fn;if(Dt(),!mt)return null;for(St=[],fn=0;fn<mt.length;++fn)St.push(mt.charCodeAt(fn)),St.push(0);for(St=String.fromCharCode.apply(null,St),St=Ht.encode(St),en='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",St),nn=[],fn=0;fn<en.length;++fn)nn.push(en.charCodeAt(fn)),nn.push(0);return new Uint8Array(nn).buffer},setPlayReadyMessageFormat:function(mt){if("utf-8"!==mt&&"utf-16"!==mt)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Ut=mt}}}M.__dashjs_factory_name="KeySystemPlayReady";var O=dashjs.FactoryMaker.getSingletonFactory(M);function ae(zt){var Ut=(zt=zt||{}).BASE64,Ht={};return Ht[ve.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(dt){return Ut.decodeArray(dt.license)},getErrorResponse:function(dt){return dt}},Ht[ve.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(dt){return dt},getErrorResponse:function(dt){return String.fromCharCode.apply(null,new Uint8Array(dt))}},{getServerURLFromMessage:function(dt){return dt},getHTTPMethod:function(){return"POST"},getResponseType:function(dt){return Ht[dt].responseType},getLicenseMessage:function(dt,Dt){return function(){if(!Ut||!Ut.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Ht[Dt].getLicenseMessage(dt)},getErrorResponse:function(dt,Dt){return Ht[Dt].getErrorResponse(dt)}}}ae.__dashjs_factory_name="DRMToday";var oe=dashjs.FactoryMaker.getSingletonFactory(ae);function De(){var zt="http://schemas.xmlsoap.org/soap/envelope/";function Ut(Dt){var mt=String.fromCharCode.apply(null,new Uint8Array(Dt));return decodeURIComponent(escape(mt))}function Ht(Dt){if(window.DOMParser){var mt=Ut(Dt),St=(new window.DOMParser).parseFromString(mt,"text/xml"),en=St?St.getElementsByTagNameNS(zt,"Envelope")[0]:null,nn=en?en.getElementsByTagNameNS(zt,"Body")[0]:null;if(nn&&nn.getElementsByTagNameNS(zt,"Fault")[0])return null}return Dt}function dt(Dt){var mt="",St="",en="",nn=-1,fn=-1;if(window.DOMParser){var Sn=Ut(Dt),rn=(new window.DOMParser).parseFromString(Sn,"text/xml"),Lt=rn?rn.getElementsByTagNameNS(zt,"Envelope")[0]:null,yn=Lt?Lt.getElementsByTagNameNS(zt,"Body")[0]:null,vn=yn?yn.getElementsByTagNameNS(zt,"Fault")[0]:null,Vn=vn?vn.getElementsByTagName("detail")[0]:null,tr=Vn?Vn.getElementsByTagName("Exception")[0]:null,_r=null;if(null===vn)return Sn;mt=(_r=vn.getElementsByTagName("faultstring")[0].firstChild)?_r.nodeValue:null,null!==tr&&(St=(_r=tr.getElementsByTagName("StatusCode")[0])?_r.firstChild.nodeValue:null,nn=(en=(_r=tr.getElementsByTagName("Message")[0])?_r.firstChild.nodeValue:null)?en.lastIndexOf("[")+1:-1,fn=en?en.indexOf("]"):-1,en=en?en.substring(nn,fn):"")}var Fn="code: ".concat(St,", name: ").concat(mt);return en&&(Fn+=", message: ".concat(en)),Fn}return{getServerURLFromMessage:function(Dt){return Dt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Dt){return Ht.call(this,Dt)},getErrorResponse:function(Dt){return dt.call(this,Dt)}}}De.__dashjs_factory_name="PlayReady";var $e=he.Z.getSingletonFactory(De);function Ye(){return{getServerURLFromMessage:function(zt){return zt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(zt){return zt},getErrorResponse:function(zt){return String.fromCharCode.apply(null,new Uint8Array(zt))}}}Ye.__dashjs_factory_name="Widevine";var Fe=dashjs.FactoryMaker.getSingletonFactory(Ye);function qe(){return{getServerURLFromMessage:function(zt){return zt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(zt){if(!zt.hasOwnProperty("keys"))return null;for(var Ut=[],Ht=0;Ht<zt.keys.length;Ht++){var dt=zt.keys[Ht],Dt=dt.kid.replace(/=/g,""),mt=dt.k.replace(/=/g,"");Ut.push(new ue(Dt,mt))}return new Oe(Ut)},getErrorResponse:function(zt){return String.fromCharCode.apply(null,new Uint8Array(zt))}}}qe.__dashjs_factory_name="ClearKey";var ft=dashjs.FactoryMaker.getSingletonFactory(qe);function Se(){var zt,Ut,Ht,dt,Dt,mt,St,en,nn=this.context;function fn(Lt,yn){return yn&&Lt in yn?yn[Lt]:null}function Sn(Lt,yn){return Lt&&Lt.sessionId?Lt.sessionId:yn&&yn.sessionId?yn.sessionId:null}function rn(Lt,yn){return Lt&&Lt.sessionType?Lt.sessionType:yn}return zt={initialize:function(){var Lt;dt=[],Lt=O(nn).getInstance({BASE64:Dt,settings:mt}),dt.push(Lt),Lt=Ae(nn).getInstance({BASE64:Dt}),dt.push(Lt),Lt=ot(nn).getInstance({BASE64:Dt}),dt.push(Lt),St=Lt,Lt=jt(nn).getInstance({BASE64:Dt,debug:Ut}),dt.push(Lt),en=Lt},setProtectionData:function(Lt){for(var yn,vn,Vn=0;Vn<dt.length;Vn++){var tr=dt[Vn];tr.hasOwnProperty("init")&&tr.init((yn=tr.systemString,vn=void 0,vn=null,Lt&&(vn=yn in Lt?Lt[yn]:null),vn))}},isClearKey:function(Lt){return Lt===St||Lt===en},initDataEquals:function(Lt,yn){if(Lt.byteLength===yn.byteLength){for(var vn=new Uint8Array(Lt),Vn=new Uint8Array(yn),tr=0;tr<vn.length;tr++)if(vn[tr]!==Vn[tr])return!1;return!0}return!1},getKeySystems:function(){return dt},setKeySystems:function(Lt){dt=Lt},getKeySystemBySystemString:function(Lt){for(var yn=0;yn<dt.length;yn++)if(dt[yn].systemString===Lt)return dt[yn];return null},getSupportedKeySystemsFromContentProtection:function(Lt,yn,vn){var Vn,tr,_r,Fn,xt=[];if(Lt){var Zt=f.findCencContentProtection(Lt);for(_r=0;_r<dt.length;++_r){var Jt=fn((tr=dt[_r]).systemString,yn);for(Fn=0;Fn<Lt.length;++Fn)if((Vn=Lt[Fn]).schemeIdUri.toLowerCase()===tr.schemeIdURI){var jn=tr.getInitData(Vn,Zt);xt.push({ks:dt[_r],keyId:Vn.keyId,initData:jn,protData:Jt,cdmData:tr.getCDMData(Jt?Jt.cdmData:null),sessionId:Sn(Jt,Vn),sessionType:rn(Jt,vn)})}}}return xt},getSupportedKeySystemsFromSegmentPssh:function(Lt,yn,vn){for(var Vn,tr=[],_r=f.parsePSSHList(Lt),Fn=0;Fn<dt.length;++Fn){var xt=fn((Vn=dt[Fn]).systemString,yn);Vn.uuid in _r&&tr.push({ks:Vn,initData:_r[Vn.uuid],protData:xt,cdmData:Vn.getCDMData(xt?xt.cdmData:null),sessionId:Sn(xt),sessionType:rn(xt,vn)})}return tr},getLicenseServerModelInstance:function(Lt,yn,vn){if("license-release"===vn||"individualization-request"===vn)return null;var Vn=null;return yn&&yn.hasOwnProperty("drmtoday")?Vn=oe(nn).getInstance({BASE64:Dt}):Lt.systemString===ve.WIDEVINE_KEYSTEM_STRING?Vn=Fe(nn).getInstance():Lt.systemString===ve.PLAYREADY_KEYSTEM_STRING?Vn=$e(nn).getInstance():Lt.systemString===ve.CLEARKEY_KEYSTEM_STRING&&(Vn=ft(nn).getInstance()),Vn},processClearKeyLicenseRequest:function(Lt,yn,vn){try{return Lt.getClearKeysFromProtectionData(yn,vn)}catch{return Ht.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(Lt){Lt&&(Lt.debug&&(Ht=(Ut=Lt.debug).getLogger(zt)),Lt.BASE64&&(Dt=Lt.BASE64),Lt.settings&&(mt=Lt.settings))}}}Se.__dashjs_factory_name="ProtectionKeyController";var tt=dashjs.FactoryMaker.getSingletonFactory(Se);function He(zt){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(zt)}function Tt(zt,Ut){return(Tt=Object.setPrototypeOf||function(Ht,dt){return Ht.__proto__=dt,Ht})(zt,Ut)}function an(zt){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)})(zt)}var _n=new(function(zt){!function(mt,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(St&&St.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),St&&Tt(mt,St)}(Dt,zt);var Ut,Ht,dt=(Ut=Dt,Ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var mt,St=an(Ut);if(Ht){var en=an(this).constructor;mt=Reflect.construct(St,arguments,en)}else mt=St.apply(this,arguments);return function Nt(zt,Ut){return!Ut||"object"!==He(Ut)&&"function"!=typeof Ut?function(Ht){if(void 0===Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(zt):Ut}(this,mt)});function Dt(){var mt;return function(St,en){if(!(St instanceof en))throw new TypeError("Cannot call a class as a function")}(this,Dt),(mt=dt.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",mt.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",mt.KEY_ADDED="public_keyAdded",mt.KEY_ERROR="public_keyError",mt.KEY_MESSAGE="public_keyMessage",mt.KEY_SESSION_CLOSED="public_keySessionClosed",mt.KEY_SESSION_CREATED="public_keySessionCreated",mt.KEY_SESSION_REMOVED="public_keySessionRemoved",mt.KEY_STATUSES_CHANGED="public_keyStatusesChanged",mt.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",mt.KEY_SYSTEM_SELECTED="public_keySystemSelected",mt.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",mt.LICENSE_REQUEST_SENDING="public_licenseRequestSending",mt.NEED_KEY="needkey",mt.PROTECTION_CREATED="public_protectioncreated",mt.PROTECTION_DESTROYED="public_protectiondestroyed",mt.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",mt.TEARDOWN_COMPLETE="protectionTeardownComplete",mt.VIDEO_ELEMENT_SELECTED="videoElementSelected",mt.KEY_SESSION_UPDATED="public_keySessionUpdated",mt}return Dt}(H(8342).Z)),Cn=function zt(Ut,Ht){(function(dt,Dt){if(!(dt instanceof Dt))throw new TypeError("Cannot call a class as a function")})(this,zt),this.initData=Ut,this.initDataType=Ht},wn=function zt(Ut,Ht,dt,Dt){(function(mt,St){if(!(mt instanceof St))throw new TypeError("Cannot call a class as a function")})(this,zt),this.sessionToken=Ut,this.message=Ht,this.defaultURL=dt,this.messageType=Dt||"license-request"},Xn=function zt(Ut,Ht){(function(dt,Dt){if(!(dt instanceof Dt))throw new TypeError("Cannot call a class as a function")})(this,zt),this.keySystem=Ut,this.ksConfiguration=Ht},Bn={};function br(zt){var Ut,Ht,dt,Dt,mt,St,en,nn,fn=this.context,Sn=(zt=zt||{}).eventBus,rn=zt.events;function yn(xt,Zt,Jt,jn){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var zn="Insecure origins are not allowed";return Sn.trigger(rn.KEY_SYSTEM_ACCESS_COMPLETE,{error:zn}),void jn({error:zn})}var qr,mi,Ri=xt[Zt].ks,ui=Ri.systemString;(qr=(xt[Zt].protData&&xt[Zt].protData.systemStringPriority?xt[Zt].protData.systemStringPriority:null)||(Bn[ui]?Bn[ui]:[ui]),mi=xt[Zt].configs,new Promise(function(ti,Hi){vn(qr,mi,0,ti,Hi)})).then(function(qr){var mi="function"==typeof qr.getConfiguration?qr.getConfiguration():null,ti=new Xn(Ri,mi);ti.mksa=qr,Sn.trigger(rn.KEY_SYSTEM_ACCESS_COMPLETE,{data:ti}),Jt({data:ti})}).catch(function(qr){if(Zt+1<xt.length)yn(xt,Zt+1,Jt,jn);else{var mi="Key system access denied! ";Sn.trigger(rn.KEY_SYSTEM_ACCESS_COMPLETE,{error:mi+qr.message}),jn({error:mi+qr.message})}})}function vn(xt,Zt,Jt,jn,zn){var yr=xt[Jt];Ht.debug("Requesting key system access for system string ".concat(yr)),navigator.requestMediaKeySystemAccess(yr,Zt).then(function(Sr){Sr.selectedSystemString=yr,jn(Sr)}).catch(function(Sr){Jt+1<xt.length?vn(xt,Zt,Jt+1,jn,zn):zn(Sr)})}function Vn(xt){if(!xt||!xt.session)return Promise.resolve;var Zt=xt.session;return Zt.removeEventListener("keystatuseschange",xt),Zt.removeEventListener("message",xt),Zt.close()}function tr(xt){for(var Zt=0;Zt<St.length;Zt++)if(St[Zt]===xt){St.splice(Zt,1);break}}function _r(xt){var Zt,Jt;return xt&&xt.length>0&&(xt[0]&&("string"==typeof xt[0]?Zt=xt[0]:Jt=xt[0]),xt[1]&&("string"==typeof xt[1]?Zt=xt[1]:Jt=xt[1])),{status:Zt,keyId:Jt}}function Fn(xt,Zt){var Jt={session:xt,keyId:Zt.keyId,initData:Zt.initData,sessionId:Zt.sessionId,sessionType:Zt.sessionType,handleEvent:function(jn){switch(jn.type){case"keystatuseschange":Sn.trigger(rn.KEY_STATUSES_CHANGED,{data:this}),jn.target.keyStatuses.forEach(function(){var yr=_r(arguments);Sn.trigger(rn.INTERNAL_KEY_STATUS_CHANGED,"expired"===yr.status?{error:new y.Z(h.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,h.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:yr)});break;case"message":var zn=ArrayBuffer.isView(jn.message)?jn.message.buffer:jn.message;Sn.trigger(rn.INTERNAL_KEY_MESSAGE,{data:new wn(this,zn,void 0,jn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return xt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return xt.expiration},getKeyStatuses:function(){return xt.keyStatuses},getUsable:function(){var jn=!1;return xt.keyStatuses.forEach(function(){"usable"===_r(arguments).status&&(jn=!0)}),jn}};return xt.addEventListener("keystatuseschange",Jt),xt.addEventListener("message",Jt),xt.closed.then(function(){tr(Jt),Ht.debug("DRM: Session closed.  SessionID = "+Jt.getSessionId()),Sn.trigger(rn.KEY_SESSION_CLOSED,{data:Jt.getSessionId()})}),St.push(Jt),Jt}return Ut={getAllInitData:function(){for(var xt=[],Zt=0;Zt<St.length;Zt++)St[Zt].initData&&xt.push(St[Zt].initData);return xt},getSessions:function(){return St},requestKeySystemAccess:function(xt){return new Promise(function(Zt,Jt){yn(xt,0,Zt,Jt)})},selectKeySystem:function(xt){return new Promise(function(Zt,Jt){xt.mksa.createMediaKeys().then(function(jn){return dt=xt.keySystem,mt=jn,Dt?Dt.setMediaKeys(mt):Promise.resolve()}).then(function(){Zt(dt)}).catch(function(){Jt({error:"Error selecting keys system ("+xt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(xt){Dt!==xt&&(Dt&&(Dt.removeEventListener("encrypted",en),Dt.setMediaKeys&&Dt.setMediaKeys(null)),(Dt=xt)&&(Dt.addEventListener("encrypted",en),Dt.setMediaKeys&&mt&&Dt.setMediaKeys(mt)))},setServerCertificate:function(xt){if(!dt||!mt)throw new Error("Can not set server certificate until you have selected a key system");mt.setServerCertificate(xt).then(function(){Ht.info("DRM: License server certificate successfully updated."),Sn.trigger(rn.SERVER_CERTIFICATE_UPDATED)}).catch(function(Zt){Sn.trigger(rn.SERVER_CERTIFICATE_UPDATED,{error:new y.Z(h.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,h.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Zt.name)})})},createKeySession:function(xt){if(!dt||!mt)throw new Error("Can not create sessions until you have selected a key system");var Zt=mt.createSession(xt.sessionType),Jt=Fn(Zt,xt);Zt.generateRequest(dt.systemString===ve.CLEARKEY_KEYSTEM_STRING&&(xt.initData||xt.protData&&xt.protData.clearkeys)?ve.INITIALIZATION_DATA_TYPE_KEYIDS:ve.INITIALIZATION_DATA_TYPE_CENC,xt.initData).then(function(){Ht.debug("DRM: Session created.  SessionID = "+Jt.getSessionId()),Sn.trigger(rn.KEY_SESSION_CREATED,{data:Jt})}).catch(function(zn){tr(Jt),Sn.trigger(rn.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+zn.name)})})},updateKeySession:function(xt,Zt){var Jt=xt.session;nn.isClearKey(dt)&&(Zt=Zt.toJWK()),Jt.update(Zt).then(function(){Sn.trigger(rn.KEY_SESSION_UPDATED)}).catch(function(jn){Sn.trigger(rn.KEY_ERROR,{error:new y.Z(h.MEDIA_KEYERR_CODE,"Error sending update() message! "+jn.name,xt)})})},loadKeySession:function(xt){if(!dt||!mt)throw new Error("Can not load sessions until you have selected a key system");for(var Zt=xt.sessionId,Jt=0;Jt<St.length;Jt++)if(Zt===St[Jt].sessionId)return void Ht.warn("DRM: Ignoring session ID because we have already seen it!");var jn=mt.createSession(xt.sessionType),zn=Fn(jn,xt);jn.load(Zt).then(function(yr){yr?(Ht.debug("DRM: Session loaded.  SessionID = "+zn.getSessionId()),Sn.trigger(rn.KEY_SESSION_CREATED,{data:zn})):(tr(zn),Sn.trigger(rn.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Zt+")")}))}).catch(function(yr){tr(zn),Sn.trigger(rn.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Zt+")! "+yr.name)})})},removeKeySession:function(xt){xt.session.remove().then(function(){Ht.debug("DRM: Session removed.  SessionID = "+xt.getSessionId()),Sn.trigger(rn.KEY_SESSION_REMOVED,{data:xt.getSessionId()})},function(Zt){Sn.trigger(rn.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+xt.getSessionId()+"). "+Zt.name})})},closeKeySession:function(xt){Vn(xt).catch(function(Zt){tr(xt),Sn.trigger(rn.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+xt.getSessionId()+") "+Zt.name})})},stop:function(){for(var xt,Zt=0;Zt<St.length;Zt++)(xt=St[Zt]).getUsable()||(Vn(xt),tr(xt))},reset:function(){var xt,Zt=St.length;0!==Zt?function(){for(var Jt=function(zn){tr(zn),0===St.length&&(Dt?(Dt.removeEventListener("encrypted",en),Dt.setMediaKeys(null).then(function(){Sn.trigger(rn.TEARDOWN_COMPLETE)})):Sn.trigger(rn.TEARDOWN_COMPLETE))},jn=0;jn<Zt;jn++)zn=xt=St[jn],Vn(xt),Jt(zn);var zn}():Sn.trigger(rn.TEARDOWN_COMPLETE)}},Ht=zt.debug.getLogger(Ut),dt=null,Dt=null,mt=null,St=[],nn=tt(fn).getInstance(),en={handleEvent:function(xt){if("encrypted"===xt.type&&xt.initData){var Zt=ArrayBuffer.isView(xt.initData)?xt.initData.buffer:xt.initData;Sn.trigger(rn.NEED_KEY,{key:new Cn(Zt,xt.initDataType)})}}},Ut}Bn[ve.PLAYREADY_KEYSTEM_STRING]=[ve.PLAYREADY_KEYSTEM_STRING,ve.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Bn[ve.WIDEVINE_KEYSTEM_STRING]=[ve.WIDEVINE_KEYSTEM_STRING],Bn[ve.CLEARKEY_KEYSTEM_STRING]=[ve.CLEARKEY_KEYSTEM_STRING],br.__dashjs_factory_name="ProtectionModel_21Jan2015";var _i=dashjs.FactoryMaker.getClassFactory(br);function Rr(zt){var Ut,Ht,dt,Dt,mt,St,en,nn,fn,Sn=this.context,rn=(zt=zt||{}).eventBus,Lt=zt.events,vn=zt.api;function Vn(){try{for(var Fn=0;Fn<en.length;Fn++)tr(en[Fn]);dt&&dt.removeEventListener(vn.needkey,nn),rn.trigger(Lt.TEARDOWN_COMPLETE)}catch(xt){rn.trigger(Lt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+xt.message})}}function tr(Fn){var xt=Fn.session;xt.removeEventListener(vn.error,Fn),xt.removeEventListener(vn.message,Fn),xt.removeEventListener(vn.ready,Fn),xt.removeEventListener(vn.close,Fn);for(var Zt=0;Zt<en.length;Zt++)if(en[Zt]===Fn){en.splice(Zt,1);break}xt[vn.release]()}function _r(){var Fn=null,xt=function(){dt.removeEventListener("loadedmetadata",Fn),dt[vn.setMediaKeys](mt),rn.trigger(Lt.VIDEO_ELEMENT_SELECTED)};dt.readyState>=1?xt():(Fn=xt.bind(this),dt.addEventListener("loadedmetadata",Fn))}return Ut={getAllInitData:function(){for(var Fn=[],xt=0;xt<en.length;xt++)Fn.push(en[xt].initData);return Fn},getSessions:function(){return en},requestKeySystemAccess:function(Fn){return new Promise(function(xt,Zt){for(var Jt=!1,jn=0;jn<Fn.length;jn++)for(var zn=Fn[jn].ks.systemString,yr=Fn[jn].configs,Sr=null,Ri=null,ui=0;ui<yr.length;ui++){var qr=yr[ui].audioCapabilities,mi=yr[ui].videoCapabilities;if(qr&&0!==qr.length){Sr=[];for(var ti=0;ti<qr.length;ti++)window[vn.MediaKeys].isTypeSupported(zn,qr[ti].contentType)&&Sr.push(qr[ti])}if(mi&&0!==mi.length){Ri=[];for(var Hi=0;Hi<mi.length;Hi++)window[vn.MediaKeys].isTypeSupported(zn,mi[Hi].contentType)&&Ri.push(mi[Hi])}if(!(!Sr&&!Ri||Sr&&0===Sr.length||Ri&&0===Ri.length)){Jt=!0;var ba=new I(Sr,Ri),$s=fn.getKeySystemBySystemString(zn),Uo=new Xn($s,ba);rn.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Uo}),xt({data:Uo});break}}if(!Jt){var Zi="Key system access denied! -- No valid audio/video content configurations detected!";rn.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Zi}),Zt({error:Zi})}})},selectKeySystem:function(Fn){return new Promise(function(xt,Zt){try{mt=Fn.mediaKeys=new window[vn.MediaKeys](Fn.keySystem.systemString),Dt=Fn.keySystem,St=Fn,dt&&_r(),xt(Dt)}catch{Zt({error:"Error selecting keys system ("+Dt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Fn){dt!==Fn&&(dt&&dt.removeEventListener(vn.needkey,nn),(dt=Fn)&&(dt.addEventListener(vn.needkey,nn),mt&&_r()))},createKeySession:function(Fn){if(!Dt||!mt||!St)throw new Error("Can not create sessions until you have selected a key system");var xt=null;if(St.ksConfiguration.videoCapabilities&&St.ksConfiguration.videoCapabilities.length>0&&(xt=St.ksConfiguration.videoCapabilities[0]),null===xt&&St.ksConfiguration.audioCapabilities&&St.ksConfiguration.audioCapabilities.length>0&&(xt=St.ksConfiguration.audioCapabilities[0]),null===xt)throw new Error("Can not create sessions for unknown content types.");var yr,Jt=mt.createSession(xt.contentType,new Uint8Array(Fn.initData),Fn.cdmData?new Uint8Array(Fn.cdmData):null),jn={session:Jt,keyId:(yr=Fn).keyId,initData:yr.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Sr){switch(Sr.type){case vn.error:rn.trigger(Lt.KEY_ERROR,{error:new y.Z(h.MEDIA_KEYERR_CODE,"KeyError",this)});break;case vn.message:var Ri=ArrayBuffer.isView(Sr.message)?Sr.message.buffer:Sr.message;rn.trigger(Lt.INTERNAL_KEY_MESSAGE,{data:new wn(this,Ri,Sr.destinationURL)});break;case vn.ready:Ht.debug("DRM: Key added."),rn.trigger(Lt.KEY_ADDED);break;case vn.close:Ht.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),rn.trigger(Lt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}};Jt.addEventListener(vn.error,jn),Jt.addEventListener(vn.message,jn),Jt.addEventListener(vn.ready,jn),Jt.addEventListener(vn.close,jn),en.push(jn),Ht.debug("DRM: Session created.  SessionID = "+jn.getSessionId()),rn.trigger(Lt.KEY_SESSION_CREATED,{data:jn})},updateKeySession:function(Fn,xt){var Zt=Fn.session;fn.isClearKey(Dt)?Zt.update(new Uint8Array(xt.toJWK())):Zt.update(new Uint8Array(xt)),rn.trigger(Lt.KEY_SESSION_UPDATED)},closeKeySession:tr,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Vn,reset:Vn},Ht=zt.debug.getLogger(Ut),dt=null,Dt=null,mt=null,St=null,en=[],fn=tt(Sn).getInstance(),nn={handleEvent:function(Fn){if(Fn.type===vn.needkey&&Fn.initData){var xt=ArrayBuffer.isView(Fn.initData)?Fn.initData.buffer:Fn.initData;rn.trigger(Lt.NEED_KEY,{key:new Cn(xt,"cenc")})}}},Ut}Rr.__dashjs_factory_name="ProtectionModel_3Feb2014";var lo=dashjs.FactoryMaker.getClassFactory(Rr);function vi(zt){var Ut,Ht,dt,Dt,mt,St,en,nn,fn,Sn=this.context,rn=(zt=zt||{}).eventBus,Lt=zt.events,vn=zt.api,Vn=zt.errHandler;function tr(){dt&&xt();for(var Zt=0;Zt<en.length;Zt++)_r(en[Zt]);rn.trigger(Lt.TEARDOWN_COMPLETE)}function _r(Zt){try{dt[vn.cancelKeyRequest](Dt.systemString,Zt.sessionId)}catch(Jt){rn.trigger(Lt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Zt.sessionId+") "+Jt.message})}}function Fn(Zt,Jt){if(Jt&&Zt){for(var jn=Zt.length,zn=0;zn<jn;zn++)if(Zt[zn].sessionId==Jt)return Zt[zn];return null}return null}function xt(){dt.removeEventListener(vn.keyerror,fn),dt.removeEventListener(vn.needkey,fn),dt.removeEventListener(vn.keymessage,fn),dt.removeEventListener(vn.keyadded,fn)}return Ht=zt.debug.getLogger(Ut={getAllInitData:function(){for(var Zt=[],Jt=0;Jt<St.length;Jt++)Zt.push(St[Jt].initData);for(var jn=0;jn<en.length;jn++)Zt.push(en[jn].initData);return Zt},getSessions:function(){return en.concat(St)},requestKeySystemAccess:function(Zt){return new Promise(function(Jt,jn){var zn=dt;zn||(zn=document.createElement("video"));for(var yr=!1,Sr=0;Sr<Zt.length;Sr++)for(var Ri=Zt[Sr].ks.systemString,ui=Zt[Sr].configs,qr=null,mi=0;mi<ui.length;mi++){var ti=ui[mi].videoCapabilities;if(ti&&0!==ti.length){qr=[];for(var Hi=0;Hi<ti.length;Hi++)""!==zn.canPlayType(ti[Hi].contentType,Ri)&&qr.push(ti[Hi])}if(qr&&(!qr||0!==qr.length)){yr=!0;var ba=new I(null,qr),$s=mt.getKeySystemBySystemString(Ri),Uo=new Xn($s,ba);rn.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Uo}),Jt({data:Uo});break}}if(!yr){var Zi="Key system access denied! -- No valid audio/video content configurations detected!";rn.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Zi}),jn({error:Zi})}})},selectKeySystem:function(Zt){return Dt=Zt.keySystem,Promise.resolve(Dt)},setMediaElement:function(Zt){if(dt!==Zt){if(dt){xt();for(var Jt=0;Jt<en.length;Jt++)_r(en[Jt]);en=[]}(dt=Zt)&&(dt.addEventListener(vn.keyerror,fn),dt.addEventListener(vn.needkey,fn),dt.addEventListener(vn.keymessage,fn),dt.addEventListener(vn.keyadded,fn),rn.trigger(Lt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Zt){if(!Dt)throw new Error("Can not create sessions until you have selected a key system");if(nn||0===en.length){var Jt={sessionId:null,keyId:Zt.keyId,initData:Zt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return St.push(Jt),dt[vn.generateKeyRequest](Dt.systemString,new Uint8Array(Zt.initData)),Jt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Zt,Jt){var jn=Zt.sessionId;if(mt.isClearKey(Dt))for(var zn=0;zn<Jt.keyPairs.length;zn++)dt[vn.addKey](Dt.systemString,Jt.keyPairs[zn].key,Jt.keyPairs[zn].keyID,jn);else dt[vn.addKey](Dt.systemString,new Uint8Array(Jt),new Uint8Array(Zt.initData),jn);rn.trigger(Lt.KEY_SESSION_UPDATED)},closeKeySession:_r,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:tr,reset:tr}),dt=null,Dt=null,St=[],en=[],mt=tt(Sn).getInstance(),fn={handleEvent:function(Zt){var Jt=null;switch(Zt.type){case vn.needkey:var jn=ArrayBuffer.isView(Zt.initData)?Zt.initData.buffer:Zt.initData;rn.trigger(Lt.NEED_KEY,{key:new Cn(jn,"cenc")});break;case vn.keyerror:if((Jt=Fn(en,Zt.sessionId))||(Jt=Fn(St,Zt.sessionId)),Jt){var zn=h.MEDIA_KEYERR_CODE,yr="";switch(Zt.errorCode.code){case 1:zn=h.MEDIA_KEYERR_UNKNOWN_CODE,yr+="MEDIA_KEYERR_UNKNOWN - "+h.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:zn=h.MEDIA_KEYERR_CLIENT_CODE,yr+="MEDIA_KEYERR_CLIENT - "+h.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:zn=h.MEDIA_KEYERR_SERVICE_CODE,yr+="MEDIA_KEYERR_SERVICE - "+h.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:zn=h.MEDIA_KEYERR_OUTPUT_CODE,yr+="MEDIA_KEYERR_OUTPUT - "+h.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:zn=h.MEDIA_KEYERR_HARDWARECHANGE_CODE,yr+="MEDIA_KEYERR_HARDWARECHANGE - "+h.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:zn=h.MEDIA_KEYERR_DOMAIN_CODE,yr+="MEDIA_KEYERR_DOMAIN - "+h.MEDIA_KEYERR_DOMAIN_MESSAGE}rn.trigger(Lt.KEY_ERROR,{error:new y.Z(zn,yr+="  System Code = "+Zt.systemCode,Jt)})}else Ht.error("No session token found for key error");break;case vn.keyadded:(Jt=Fn(en,Zt.sessionId))||(Jt=Fn(St,Zt.sessionId)),Jt?(Ht.debug("DRM: Key added."),rn.trigger(Lt.KEY_ADDED,{data:Jt})):Ht.debug("No session token found for key added");break;case vn.keymessage:if((nn=null!=Zt.sessionId)?!(Jt=Fn(en,Zt.sessionId))&&St.length>0&&(Jt=St.shift(),en.push(Jt),Jt.sessionId=Zt.sessionId,rn.trigger(Lt.KEY_SESSION_CREATED,{data:Jt})):St.length>0&&(Jt=St.shift(),en.push(Jt),0!==St.length&&Vn.error(new y.Z(h.MEDIA_KEY_MESSAGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Jt){var Sr=ArrayBuffer.isView(Zt.message)?Zt.message.buffer:Zt.message;Jt.keyMessage=Sr,rn.trigger(Lt.INTERNAL_KEY_MESSAGE,{data:new wn(Jt,Sr,Zt.defaultURL)})}else Ht.warn("No session token found for key message")}}},Ut}vi.__dashjs_factory_name="ProtectionModel_01b";var Vi=dashjs.FactoryMaker.getClassFactory(vi),Eo=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],ji=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Bo(){var zt,Ut=this.context;function Ht(dt,Dt){for(var mt=0;mt<Dt.length;mt++){var St=Dt[mt];if("function"==typeof dt[St[Object.keys(St)[0]]])return St}return null}return zt={createProtectionSystem:function(dt){var Dt=null,mt=tt(Ut).getInstance();mt.setConfig({debug:dt.debug,BASE64:dt.BASE64,settings:dt.settings}),mt.initialize();var en,nn,fn,Sn,rn,Lt,St=(fn=(nn=(en=dt).debug).getLogger(zt),Sn=en.eventBus,rn=en.errHandler,(Lt=en.videoModel?en.videoModel.getElement():null)&&void 0===Lt.onencrypted||Lt&&void 0===Lt.mediaKeys?Ht(Lt,ji)?(fn.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),lo(Ut).create({debug:nn,eventBus:Sn,events:en.events,api:Ht(Lt,ji)})):Ht(Lt,Eo)?(fn.info("EME detected on this user agent! (ProtectionModel_01b)"),Vi(Ut).create({debug:nn,eventBus:Sn,errHandler:rn,events:en.events,api:Ht(Lt,Eo)})):(fn.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(fn.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),_i(Ut).create({debug:nn,eventBus:Sn,events:en.events})));return!Dt&&St&&(Dt=K(Ut).create({protectionModel:St,protectionKeyController:mt,eventBus:dt.eventBus,debug:dt.debug,events:dt.events,BASE64:dt.BASE64,constants:dt.constants,cmcdModel:dt.cmcdModel,customParametersModel:dt.customParametersModel,settings:dt.settings}),dt.capabilities.setEncryptedMediaSupported(!0)),Dt}}}Bo.__dashjs_factory_name="Protection";var Xo=dashjs.FactoryMaker.getClassFactory(Bo);Xo.events=_n,Xo.errors=h,dashjs.FactoryMaker.updateClassFactory(Bo.__dashjs_factory_name,Xo);var Ys=Xo},2068:function(Et,Ze,H){"use strict";var ye=H(5448),N={DEFAULT:.5,STRONG:1,WEAK:0};function f(I,A,v){var h,y;return y=N.DEFAULT,(h=v)!==N.DEFAULT&&h!==N.STRONG&&h!==N.WEAK||(y=h),{quality:void 0===I?-1:I,reason:void 0===A?null:A,priority:y}}f.__dashjs_factory_name="SwitchRequest";var d=ye.Z.getClassFactory(f);d.NO_CHANGE=-1,d.PRIORITY=N,ye.Z.updateClassFactory(f.__dashjs_factory_name,d),Ze.Z=d},1767:function(Et,Ze,H){"use strict";var ye=H(5628),N=H(6535),f=H(7423),d=H(895),I=H(6070),A=H(3112),v=H(1914),w=H(5435),D=H(5448),h=H(2068),y=H(3393),T="qualitySwitchRules",j="abandonFragmentRules";function X($){var he,z,k=this.context,K=($=$||{}).mediaPlayerModel,ue=$.customParametersModel,de=$.dashMetrics,Oe=$.settings;function gt(Ge){return Ge.filter(function(ut){return ut.quality>h.Z.NO_CHANGE})}function ve(Ge){var ut,Ve,ke,ot,Qe,Rt={},xe=null;if(0!==Ge.length){for(Rt[h.Z.PRIORITY.STRONG]={quality:h.Z.NO_CHANGE,reason:null},Rt[h.Z.PRIORITY.WEAK]={quality:h.Z.NO_CHANGE,reason:null},Rt[h.Z.PRIORITY.DEFAULT]={quality:h.Z.NO_CHANGE,reason:null},ut=0,Ve=Ge.length;ut<Ve;ut+=1)(ke=Ge[ut]).quality!==h.Z.NO_CHANGE&&(Rt[ke.priority].quality===h.Z.NO_CHANGE||Rt[ke.priority].quality>ke.quality)&&(Rt[ke.priority].quality=ke.quality,Rt[ke.priority].reason=ke.reason||null);return Rt[h.Z.PRIORITY.WEAK].quality!==h.Z.NO_CHANGE&&(xe=Rt[h.Z.PRIORITY.WEAK]),Rt[h.Z.PRIORITY.DEFAULT].quality!==h.Z.NO_CHANGE&&(xe=Rt[h.Z.PRIORITY.DEFAULT]),Rt[h.Z.PRIORITY.STRONG].quality!==h.Z.NO_CHANGE&&(xe=Rt[h.Z.PRIORITY.STRONG]),xe&&(ot=xe.quality,Qe=xe.reason),(0,h.Z)(k).create(ot,Qe)}}return{initialize:function(){he=[],z=[],Oe.get().streaming.abr.useDefaultABRRules&&(Oe.get().streaming.abr.ABRStrategy===y.Z.ABR_STRATEGY_L2A?he.push((0,v.Z)(k).create({dashMetrics:de,settings:Oe})):Oe.get().streaming.abr.ABRStrategy===y.Z.ABR_STRATEGY_LoLP?he.push((0,w.Z)(k).create({dashMetrics:de})):(he.push((0,A.Z)(k).create({dashMetrics:de,mediaPlayerModel:K,settings:Oe})),he.push((0,ye.Z)(k).create({dashMetrics:de})),Oe.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&he.push((0,N.Z)(k).create({dashMetrics:de,settings:Oe})),Oe.get().streaming.abr.additionalAbrRules.switchHistoryRule&&he.push((0,I.Z)(k).create()),Oe.get().streaming.abr.additionalAbrRules.droppedFramesRule&&he.push((0,d.Z)(k).create()),Oe.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&z.push((0,f.Z)(k).create({dashMetrics:de,mediaPlayerModel:K,settings:Oe})))),ue.getAbrCustomRules().forEach(function(Ge){Ge.type===T&&he.push(Ge.rule(k).create()),Ge.type===j&&z.push(Ge.rule(k).create())})},reset:function(){[he,z].forEach(function(Ge){Ge&&Ge.length&&Ge.forEach(function(ut){return ut.reset&&ut.reset()})}),he=[],z=[]},getMaxQuality:function(Ge){return ve(gt(he.map(function(ut){return ut.getMaxIndex(Ge)})))||(0,h.Z)(k).create()},getMinSwitchRequest:ve,shouldAbandonFragment:function(Ge,ut){return ve(gt(z.map(function(Ve){return Ve.shouldAbandon(Ge,ut)})))||(0,h.Z)(k).create()},getQualitySwitchRules:function(){return he}}}X.__dashjs_factory_name="ABRRulesCollection";var Y=D.Z.getClassFactory(X);Y.QUALITY_SWITCH_RULES=T,Y.ABANDON_FRAGMENT_RULES=j,D.Z.updateSingletonFactory(X.__dashjs_factory_name,Y),Ze.Z=Y},7423:function(Et,Ze,H){"use strict";var ye=H(2068),N=H(5448),f=H(6398);function d(I){var A,v,w,D,h,y=this.context,T=(I=I||{}).mediaPlayerModel,j=I.dashMetrics,X=I.settings;function Y(){w={},D={},h=[]}return A={shouldAbandon:function($){var he=(0,ye.Z)(y).create(ye.Z.NO_CHANGE,{name:d.__dashjs_factory_name});if(!($&&$.hasOwnProperty("getMediaInfo")&&$.hasOwnProperty("getMediaType")&&$.hasOwnProperty("getCurrentRequest")&&$.hasOwnProperty("getRepresentationInfo")&&$.hasOwnProperty("getAbrController")))return he;var z,k,et,jt,K=$.getMediaInfo(),ue=$.getMediaType(),de=$.getStreamInfo(),Oe=de?de.id:null,gt=$.getCurrentRequest();if(!isNaN(gt.index)){k=gt.index,w[z=ue]=w[z]||{},w[z][k]=w[z][k]||{};var ve=T.getStableBufferTime();if(j.getCurrentBufferLevel(ue)>ve)return he;var Ge=w[ue][gt.index];if(null===Ge||null===gt.firstByteDate||D.hasOwnProperty(Ge.id))return he;if(void 0===Ge.firstByteTime&&(h[ue]=[],Ge.firstByteTime=gt.firstByteDate.getTime(),Ge.segmentDuration=gt.duration,Ge.bytesTotal=gt.bytesTotal,Ge.id=gt.index),Ge.bytesLoaded=gt.bytesLoaded,Ge.elapsedTime=(new Date).getTime()-Ge.firstByteTime,Ge.bytesLoaded>0&&Ge.elapsedTime>0&&(et=ue,jt=Math.round(8*Ge.bytesLoaded/Ge.elapsedTime),h[et]=h[et]||[],h[et].push(jt)),h[ue].length>=5&&Ge.elapsedTime>500&&Ge.bytesLoaded<Ge.bytesTotal){var ut=h[ue].reduce(function(et,jt){return et+jt},0);if(Ge.measuredBandwidthInKbps=Math.round(ut/h[ue].length),Ge.estimatedTimeOfDownload=+(8*Ge.bytesTotal/Ge.measuredBandwidthInKbps/1e3).toFixed(2),Ge.estimatedTimeOfDownload<1.8*Ge.segmentDuration||0===$.getRepresentationInfo().quality)return he;if(!D.hasOwnProperty(Ge.id)){var Ve=$.getAbrController(),ke=Ge.bytesTotal-Ge.bytesLoaded,ot=Ve.getBitrateList(K),Qe=Ve.getQualityForBitrate(K,Ge.measuredBandwidthInKbps*X.get().streaming.abr.bandwidthSafetyFactor,Oe),Rt=Ve.getMinAllowedIndexFor(ue,Oe),xe=void 0!==Rt?Math.max(Rt,Qe):Qe;ke>Ge.bytesTotal*ot[xe].bitrate/ot[Ve.getQualityFor(ue,Oe)].bitrate&&(he.quality=xe,he.reason.throughput=Ge.measuredBandwidthInKbps,he.reason.fragmentID=Ge.id,he.reason.rule=this.getClassName(),D[Ge.id]=Ge,v.debug("["+ue+"] frag id",Ge.id," is asking to abandon and switch to quality to ",xe," measured bandwidth was",Ge.measuredBandwidthInKbps),delete w[ue][Ge.id])}}else Ge.bytesLoaded===Ge.bytesTotal&&delete w[ue][Ge.id]}return he},reset:Y},v=(0,f.Z)(y).getInstance().getLogger(A),Y(),A}d.__dashjs_factory_name="AbandonRequestsRule",Ze.Z=N.Z.getClassFactory(d)},3112:function(Et,Ze,H){"use strict";var ye=H(3860),N=H(2068),f=H(5448),d=H(7855),I=H(5595),A=H(8512),v=H(6398),w=H(8825),D=H(3393),h=10;function y(T){var j,X,Y,$=this.context,he=(T=T||{}).dashMetrics,z=T.mediaPlayerModel,k=(0,I.Z)($).getInstance();function K(xe,et,jt){var It=jt.reduce(function(pe,Ae,lt){return Ae>jt[pe]?lt:pe},0);if(0===It)return null;var Je=Math.max(xe,h+2*et.length),bt=(jt[It]-1)/(Je/h-1);return{gp:bt,Vp:h/bt}}function ue(xe){xe.placeholderBuffer=0,xe.mostAdvancedSegmentStart=NaN,xe.lastSegmentWasReplacement=!1,xe.lastSegmentStart=NaN,xe.lastSegmentDurationS=NaN,xe.lastSegmentRequestTimeMs=NaN,xe.lastSegmentFinishTimeMs=NaN}function de(xe,et){var jt=z.getStableBufferTime();if(xe.stableBufferTime!==jt){var It=K(jt,xe.bitrates,xe.utilities);if(It.Vp!==xe.Vp||It.gp!==xe.gp){var Je=he.getCurrentBufferLevel(et),bt=Je+xe.placeholderBuffer;bt-=h,bt*=It.Vp/xe.Vp,bt+=h,xe.stableBufferTime=jt,xe.Vp=It.Vp,xe.gp=It.gp,xe.placeholderBuffer=Math.max(0,bt-Je)}}}function Oe(xe,et){return xe.Vp*(xe.utilities[et]+xe.gp)}function gt(xe,et){for(var jt=xe.bitrates[et],It=xe.utilities[et],Je=0,bt=et-1;bt>=0;--bt)if(xe.utilities[bt]<xe.utilities[et]){var pe=xe.bitrates[bt];Je=Math.max(Je,xe.Vp*(xe.gp+(jt*xe.utilities[bt]-pe*It)/(jt-pe)))}return Je}function ve(xe){var et=xe.mediaType===D.Z.AUDIO?[D.Z.AUDIO]:Y;for(var jt in et)Y.hasOwnProperty(jt)&&2===Y[jt].state&&(Y[jt].placeholderBuffer=0)}function Ge(){for(var xe in Y)if(Y.hasOwnProperty(xe)){var et=Y[xe];0!==et.state&&(et.state=1,ue(et))}}function ut(xe){if(xe&&xe.chunk&&xe.chunk.mediaInfo){var et=Y[xe.chunk.mediaInfo.type];if(et&&0!==et.state){var jt=xe.chunk.start;isNaN(et.mostAdvancedSegmentStart)||jt>et.mostAdvancedSegmentStart?(et.mostAdvancedSegmentStart=jt,et.lastSegmentWasReplacement=!1):et.lastSegmentWasReplacement=!0,et.lastSegmentStart=jt,et.lastSegmentDurationS=xe.chunk.duration,et.lastQuality=xe.chunk.quality,ke(et,xe.chunk.mediaInfo.type)}}}function Ve(xe){if(xe&&xe.metric===ye.Z.HTTP_REQUEST&&xe.value&&xe.value.type===d.w.MEDIA_SEGMENT_TYPE&&xe.value.trace&&xe.value.trace.length){var et=Y[xe.mediaType];et&&0!==et.state&&(et.lastSegmentRequestTimeMs=xe.value.trequest.getTime(),et.lastSegmentFinishTimeMs=xe.value._tfinish.getTime(),ke(et,xe.mediaType))}}function ke(xe,et){if(!isNaN(xe.lastSegmentStart)&&!isNaN(xe.lastSegmentRequestTimeMs)&&!isNaN(xe.placeholderBuffer)){if(xe.placeholderBuffer*=.99,!isNaN(xe.lastSegmentFinishTimeMs)){var jt=he.getCurrentBufferLevel(et)+.001*(xe.lastSegmentFinishTimeMs-xe.lastSegmentRequestTimeMs),It=Oe(xe,xe.lastQuality),Je=Math.max(0,It-jt);xe.placeholderBuffer=Math.min(Je,xe.placeholderBuffer)}xe.lastSegmentWasReplacement&&!isNaN(xe.lastSegmentDurationS)&&(xe.placeholderBuffer+=xe.lastSegmentDurationS),xe.lastSegmentStart=NaN,xe.lastSegmentRequestTimeMs=NaN}}function ot(xe){if(xe){var et=Y[xe.mediaType];et&&0!==et.state&&(et.abrQuality=xe.newQuality)}}function Qe(xe){if(xe){var et=Y[xe.mediaType];if(et&&0!==et.state){var jt,It=he.getCurrentBufferLevel(xe.mediaType);jt=et.abrQuality>0?gt(et,et.abrQuality):h;var Je=Math.max(0,jt-It);et.placeholderBuffer=Math.min(et.placeholderBuffer,Je)}}}function Rt(){Y={}}return j={getMaxIndex:function(xe){var et=(0,N.Z)($).create();if(!(xe&&xe.hasOwnProperty("getMediaInfo")&&xe.hasOwnProperty("getMediaType")&&xe.hasOwnProperty("getScheduleController")&&xe.hasOwnProperty("getStreamInfo")&&xe.hasOwnProperty("getAbrController")&&xe.hasOwnProperty("useBufferOccupancyABR")))return et;var jt=xe.getMediaInfo(),It=xe.getMediaType(),Je=xe.getScheduleController(),bt=xe.getStreamInfo(),pe=xe.getAbrController(),Ae=pe.getThroughputHistory(),lt=bt?bt.id:null,E=bt&&bt.manifestInfo&&bt.manifestInfo.isDynamic,g=xe.useBufferOccupancyABR();if(et.reason=et.reason||{},!g)return et;Je.setTimeToLoadDelay(0);var qe,ft,Se,M=(ft=(qe=xe).getMediaType(),(Se=Y[ft])?0!==Se.state&&de(Se,ft):(Se=function(tt){var He={},Tt=tt.getMediaInfo().bitrateList.map(function(Cn){return Cn.bandwidth}),Nt=Tt.map(function(wn){return Math.log(wn)});Nt=Nt.map(function(Cn){return Cn-Nt[0]+1});var an=z.getStableBufferTime(),_n=K(an,Tt,Nt);return _n?(He.state=1,He.bitrates=Tt,He.utilities=Nt,He.stableBufferTime=an,He.Vp=_n.Vp,He.gp=_n.gp,He.lastQuality=0,ue(He)):He.state=0,He}(qe),Y[ft]=Se),Se);if(0===M.state)return et;var O,ae=he.getCurrentBufferLevel(It),oe=Ae.getAverageThroughput(It,E),De=Ae.getSafeAverageThroughput(It,E),$e=Ae.getAverageLatency(It);if(et.reason.state=M.state,et.reason.throughput=oe,et.reason.latency=$e,isNaN(oe))return et;switch(M.state){case 1:O=pe.getQualityForBitrate(jt,De,lt,$e),et.quality=O,et.reason.throughput=De,M.placeholderBuffer=Math.max(0,gt(M,O)-ae),M.lastQuality=O,!isNaN(M.lastSegmentDurationS)&&ae>=M.lastSegmentDurationS&&(M.state=2);break;case 2:(function(qe,ft){var Se=Date.now();isNaN(qe.lastSegmentFinishTimeMs)?isNaN(qe.lastCallTimeMs)||(qe.placeholderBuffer+=Math.max(0,.001*(Se-qe.lastCallTimeMs))):qe.placeholderBuffer+=Math.max(0,.001*(Se-qe.lastSegmentFinishTimeMs)),qe.lastCallTimeMs=Se,qe.lastSegmentStart=NaN,qe.lastSegmentRequestTimeMs=NaN,qe.lastSegmentFinishTimeMs=NaN,de(qe,ft)})(M,It),O=function(qe,ft){for(var Se=qe.bitrates.length,tt=NaN,He=NaN,Tt=0;Tt<Se;++Tt){var Nt=(qe.Vp*(qe.utilities[Tt]+qe.gp)-ft)/qe.bitrates[Tt];(isNaN(He)||Nt>=He)&&(He=Nt,tt=Tt)}return tt}(M,ae+M.placeholderBuffer);var Ye=pe.getQualityForBitrate(jt,De,lt,$e);O>M.lastQuality&&O>Ye&&(O=Math.max(Ye,M.lastQuality));var Fe=Math.max(0,ae+M.placeholderBuffer-Oe(M,O));Fe<=M.placeholderBuffer?(M.placeholderBuffer-=Fe,Fe=0):(Fe-=M.placeholderBuffer,M.placeholderBuffer=0,O<pe.getMaxAllowedIndexFor(It,lt)?Je.setTimeToLoadDelay(1e3*Fe):Fe=0),et.quality=O,et.reason.throughput=oe,et.reason.latency=$e,et.reason.bufferLevel=ae,et.reason.placeholderBuffer=M.placeholderBuffer,et.reason.delay=Fe,M.lastQuality=O;break;default:X.debug("BOLA ABR rule invoked in bad state."),et.quality=pe.getQualityForBitrate(jt,De,lt,$e),et.reason.state=M.state,et.reason.throughput=De,et.reason.latency=$e,M.state=1,ue(M)}return et},reset:function(){Rt(),k.off(w.Z.BUFFER_EMPTY,ve,j),k.off(w.Z.PLAYBACK_SEEKING,Ge,j),k.off(w.Z.METRIC_ADDED,Ve,j),k.off(w.Z.QUALITY_CHANGE_REQUESTED,ot,j),k.off(w.Z.FRAGMENT_LOADING_ABANDONED,Qe,j),k.off(A.Z.MEDIA_FRAGMENT_LOADED,ut,j)}},X=(0,v.Z)($).getInstance().getLogger(j),Rt(),k.on(w.Z.BUFFER_EMPTY,ve,j),k.on(w.Z.PLAYBACK_SEEKING,Ge,j),k.on(w.Z.METRIC_ADDED,Ve,j),k.on(w.Z.QUALITY_CHANGE_REQUESTED,ot,j),k.on(w.Z.FRAGMENT_LOADING_ABANDONED,Qe,j),k.on(A.Z.MEDIA_FRAGMENT_LOADED,ut,j),j}y.__dashjs_factory_name="BolaRule",Ze.Z=f.Z.getClassFactory(y)},895:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(2068),f=H(6398);function d(){var I,A,v=this.context;return I={getMaxIndex:function(w){var D=(0,N.Z)(v).create();if(!w||!w.hasOwnProperty("getDroppedFramesHistory"))return D;var h=w.getDroppedFramesHistory(),y=w.getStreamInfo().id;if(h){var T=h.getFrameHistory(y);if(!T||0===T.length)return D;for(var j=0,X=0,Y=N.Z.NO_CHANGE,$=1;$<T.length;$++)if(T[$]&&(j=T[$].droppedVideoFrames,(X=T[$].totalVideoFrames)>375&&j/X>.15)){A.debug("index: "+(Y=$-1)+" Dropped Frames: "+j+" Total Frames: "+X);break}return(0,N.Z)(v).create(Y,{droppedFrames:j})}return D}},A=(0,f.Z)(v).getInstance().getLogger(I),I}d.__dashjs_factory_name="DroppedFramesRule",Ze.Z=ye.Z.getClassFactory(d)},6535:function(Et,Ze,H){"use strict";var ye=H(5595),N=H(8512),f=H(5448),d=H(6398),I=H(2068),A=H(3393),v=H(3860),w=H(8825);function D(h){h=h||{};var y,T,j,X=this.context,Y=(0,ye.Z)(X).getInstance(),$=h.dashMetrics;function he(){(j={})[A.Z.VIDEO]={ignoreCount:2},j[A.Z.AUDIO]={ignoreCount:2}}function z(){he()}function k(K){isNaN(K.startTime)||K.mediaType!==A.Z.AUDIO&&K.mediaType!==A.Z.VIDEO||j[K.mediaType].ignoreCount>0&&j[K.mediaType].ignoreCount--}return y={getMaxIndex:function(K){var ue=(0,I.Z)(X).create();if(!K||!K.hasOwnProperty("getMediaType"))return ue;!function(){if(!$||!$.hasOwnProperty("getCurrentBufferLevel")||!$.hasOwnProperty("getCurrentBufferState"))throw new Error(A.Z.MISSING_CONFIG_ERROR)}();var de=K.getMediaType(),Oe=$.getCurrentBufferState(de),gt=K.getRepresentationInfo().fragmentDuration,ve=K.getStreamInfo(),Ge=ve?ve.id:null,ut=K.getScheduleController(),Ve=ve&&ve.manifestInfo&&ve.manifestInfo.isDynamic;if(!ut.getPlaybackController().getLowLatencyModeEnabled()&&j[de].ignoreCount>0||!gt)return ue;if(Oe&&Oe.state===v.Z.BUFFER_EMPTY)T.debug("["+de+"] Switch to index 0; buffer is empty."),ue.quality=0,ue.reason="InsufficientBufferRule: Buffer is empty";else{var ke=K.getMediaInfo(),ot=K.getAbrController(),Qe=ot.getThroughputHistory(),Rt=$.getCurrentBufferLevel(de),xe=Qe.getAverageThroughput(de,Ve),et=Qe.getAverageLatency(de);ue.quality=ot.getQualityForBitrate(ke,xe*(Rt/gt)*.5,Ge,et),ue.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ue},reset:function(){he(),Y.off(w.Z.PLAYBACK_SEEKING,z,y),Y.off(N.Z.BYTES_APPENDED_END_FRAGMENT,k,y)}},T=(0,d.Z)(X).getInstance().getLogger(y),he(),Y.on(w.Z.PLAYBACK_SEEKING,z,y),Y.on(N.Z.BYTES_APPENDED_END_FRAGMENT,k,y),y}D.__dashjs_factory_name="InsufficientBufferRule",Ze.Z=f.Z.getClassFactory(D)},1914:function(Et,Ze,H){"use strict";var ye=H(3860),N=H(2068),f=H(5448),d=H(7855),I=H(5595),A=H(8512),v=H(6398),w=H(3393);function D(h){var y,T,j,X,Y=this.context,$=(h=h||{}).dashMetrics,he=(0,I.Z)(Y).getInstance();function z(Ge){Ge.placeholderBuffer=0,Ge.mostAdvancedSegmentStart=NaN,Ge.lastSegmentWasReplacement=!1,Ge.lastSegmentStart=NaN,Ge.lastSegmentDurationS=NaN,Ge.lastSegmentRequestTimeMs=NaN,Ge.lastSegmentFinishTimeMs=NaN,Ge.lastSegmentUrl=""}function k(){for(var Ge in T)if(T.hasOwnProperty(Ge)){var ut=T[Ge];0!==ut.state&&(ut.state=1,z(ut))}}function K(Ge){if(Ge&&Ge.chunk&&Ge.chunk.mediaInfo){var ut=T[Ge.chunk.mediaInfo.type],Ve=j[Ge.chunk.mediaInfo.type];if(ut&&0!==ut.state){var ke=Ge.chunk.start;isNaN(ut.mostAdvancedSegmentStart)||ke>ut.mostAdvancedSegmentStart?(ut.mostAdvancedSegmentStart=ke,ut.lastSegmentWasReplacement=!1):ut.lastSegmentWasReplacement=!0,ut.lastSegmentStart=ke,ut.lastSegmentDurationS=Ge.chunk.duration,ut.lastQuality=Ge.chunk.quality,de(ut,Ve)}}}function ue(Ge){if(Ge&&Ge.metric===ye.Z.HTTP_REQUEST&&Ge.value&&Ge.value.type===d.w.MEDIA_SEGMENT_TYPE&&Ge.value.trace&&Ge.value.trace.length){var ut=T[Ge.mediaType],Ve=j[Ge.mediaType];ut&&0!==ut.state&&(ut.lastSegmentRequestTimeMs=Ge.value.trequest.getTime(),ut.lastSegmentFinishTimeMs=Ge.value._tfinish.getTime(),de(ut,Ve))}}function de(Ge,ut){isNaN(Ge.lastSegmentStart)||isNaN(Ge.lastSegmentRequestTimeMs)||(ut.segment_request_start_s=.001*Ge.lastSegmentRequestTimeMs,ut.segment_download_finish_s=.001*Ge.lastSegmentFinishTimeMs,Ge.lastSegmentStart=NaN,Ge.lastSegmentRequestTimeMs=NaN)}function Oe(Ge){if(Ge&&Ge.mediaType){var ut=T[Ge.mediaType];ut&&0!==ut.state&&(ut.abrQuality=Ge.newQuality)}}function gt(Ge,ut){if(Ge.length!==ut.length)return-1;for(var Ve=0,ke=0;ke<Ge.length;ke++)Ve+=Ge[ke]*ut[ke];return Ve}function ve(){T={},j={}}return y={getMaxIndex:function(Ge){var ut,Ve=(0,N.Z)(Y).create(),ke=Math.pow(4,.99),ot=Math.max(Math.pow(4,1),ke*Math.sqrt(4)),Qe=Ge.getMediaInfo(),Rt=Ge.getMediaType(),xe=Qe.bitrateList.map(function(_n){return _n.bandwidth}),et=xe.length,jt=Ge.getScheduleController(),It=Ge.getStreamInfo(),Je=Ge.getAbrController(),bt=Je.getThroughputHistory(),pe=It&&It.manifestInfo&&It.manifestInfo.isDynamic,Ae=Ge.useL2AABR(),lt=$.getCurrentBufferLevel(Rt,!0),E=bt.getSafeAverageThroughput(Rt,pe),g=bt.getAverageThroughput(Rt,pe),M=bt.getAverageLatency(Rt),O=Ge.getVideoModel().getPlaybackRate();if(!(Ge&&Ge.hasOwnProperty("getMediaInfo")&&Ge.hasOwnProperty("getMediaType")&&Ge.hasOwnProperty("getScheduleController")&&Ge.hasOwnProperty("getStreamInfo")&&Ge.hasOwnProperty("getAbrController")&&Ge.hasOwnProperty("useL2AABR")&&(Ve.reason=Ve.reason||{},Ae&&Rt!==w.Z.AUDIO)))return Ve;jt.setTimeToLoadDelay(0);var _n,Rr,Bn,br,_i,Cn,wn,ae=(Cn=(_n=Ge).getMediaType(),(wn=T[Cn])||(Bn={},_i=(br=_n.getMediaInfo()).bitrateList.map(function(Rr){return Rr.bandwidth/1e3}),Bn.state=1,Bn.bitrates=_i,Bn.lastQuality=0,(Rr=br)&&Rr.type&&(j[Rr.type]={},j[Rr.type].w=[],j[Rr.type].prev_w=[],j[Rr.type].Q=0,j[Rr.type].segment_request_start_s=0,j[Rr.type].segment_download_finish_s=0,j[Rr.type].B_target=1.5),z(Bn),T[Cn]=wn=Bn),wn);if(0===ae.state)return Ve;var oe=j[Rt];if(!oe||(Ve.reason.state=ae.state,Ve.reason.throughput=g,Ve.reason.latency=M,isNaN(g)))return Ve;switch(ae.state){case 1:if(ut=Je.getQualityForBitrate(Qe,E,It.id,M),Ve.quality=ut,Ve.reason.throughput=E,ae.lastQuality=ut,!isNaN(ae.lastSegmentDurationS)&&lt>=oe.B_target){ae.state=2,oe.Q=ke;for(var De=0;De<et;++De)oe.prev_w[De]=De===ae.lastQuality?1:0}break;case 2:var $e=[],Ye=$.getCurrentHttpRequest(Rt).trace.reduce(function(_n,Cn){return _n+Cn.d},0),Fe=$.getCurrentHttpRequest(Rt).trace.reduce(function(_n,Cn){return _n+Cn.b[0]},0),qe=Math.round(8*Fe/Ye),ft=$.getCurrentHttpRequest(Rt);if(qe<1&&(qe=1),ft.url===ae.lastSegmentUrl||ft.type===d.w.INIT_SEGMENT_TYPE)ut=ae.lastQuality;else{for(var Se=ae.lastSegmentDurationS,tt=1,He=0;He<et;++He)xe[He]=xe[He]/1e3,O*xe[He]>qe&&(tt=-1),oe.w[He]=oe.prev_w[He]+tt*(Se/(2*ot))*((oe.Q+ke)*(O*xe[He]/qe));oe.w=function(_n){for(var Cn=_n.length,wn=!1,Xn=[],Bn=0;Bn<Cn;++Bn)Xn[Bn]=_n[Bn];for(var br=_n.sort(function(Eo,ji){return ji-Eo}),_i=0,Rr=0,lo=[],vi=0;vi<Cn-1;++vi)if((Rr=((_i+=br[vi])-1)/(vi+1))>=br[vi+1]){wn=!0;break}wn||(Rr=(_i+br[Cn-1]-1)/Cn);for(var Vi=0;Vi<Cn;++Vi)lo[Vi]=Math.max(Xn[Vi]-Rr,0);return lo}(oe.w);for(var Tt=0;Tt<et;++Tt)$e[Tt]=oe.w[Tt]-oe.prev_w[Tt],oe.prev_w[Tt]=oe.w[Tt];oe.Q=Math.max(0,oe.Q-Se+Se*O*((gt(xe,oe.prev_w)+gt(xe,$e))/qe));for(var Nt=[],an=0;an<et;++an)Nt[an]=Math.abs(xe[an]-gt(oe.w,xe));(ut=Nt.indexOf(Math.min.apply(Math,Nt)))>ae.lastQuality&&xe[ae.lastQuality+1]<=qe&&(ut=ae.lastQuality+1),xe[ut]>=qe&&(oe.Q=2*Math.max(ke,oe.Q)),ae.lastSegmentUrl=ft.url}Ve.quality=ut,Ve.reason.throughput=g,Ve.reason.latency=M,Ve.reason.bufferLevel=lt,ae.lastQuality=Ve.quality;break;default:X.debug("L2A ABR rule invoked in bad state."),Ve.quality=Je.getQualityForBitrate(Qe,E,It.id,M),Ve.reason.state=ae.state,Ve.reason.throughput=E,Ve.reason.latency=M,ae.state=1,z(ae)}return Ve},reset:function(){ve(),he.off(A.Z.PLAYBACK_SEEKING,k,y),he.off(A.Z.MEDIA_FRAGMENT_LOADED,K,y),he.off(A.Z.METRIC_ADDED,ue,y),he.off(A.Z.QUALITY_CHANGE_REQUESTED,Oe,y)}},X=(0,v.Z)(Y).getInstance().getLogger(y),ve(),he.on(A.Z.PLAYBACK_SEEKING,k,y),he.on(A.Z.MEDIA_FRAGMENT_LOADED,K,y),he.on(A.Z.METRIC_ADDED,ue,y),he.on(A.Z.QUALITY_CHANGE_REQUESTED,Oe,y),y}D.__dashjs_factory_name="L2ARule",Ze.Z=f.Z.getClassFactory(D)},6070:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(6398),f=H(2068);function d(){var I,A,v=this.context;return I={getMaxIndex:function(w){for(var D=w?w.getSwitchHistory():null,h=D?D.getSwitchRequests():[],y=0,T=0,j=0,X=(0,f.Z)(v).create(),Y=0;Y<h.length;Y++)if(void 0!==h[Y]&&(j+=h[Y].dropSize,(y+=h[Y].drops)+(T+=h[Y].noDrops)>=6&&y/T>.075)){X.quality=Y>0&&h[Y].drops>0?Y-1:Y,X.reason={index:X.quality,drops:y,noDrops:T,dropSize:j},A.debug("Switch history rule index: "+X.quality+" samples: "+(y+T)+" drops: "+y);break}return X}},A=(0,N.Z)(v).getInstance().getLogger(I),I}d.__dashjs_factory_name="SwitchHistoryRule",Ze.Z=ye.Z.getClassFactory(d)},5628:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(2068),f=H(3393),d=H(3860);function I(A){var v=this.context,w=(A=A||{}).dashMetrics;return{getMaxIndex:function(D){var h=(0,N.Z)(v).create();if(!(D&&D.hasOwnProperty("getMediaInfo")&&D.hasOwnProperty("getMediaType")&&D.hasOwnProperty("useBufferOccupancyABR")&&D.hasOwnProperty("getAbrController")&&D.hasOwnProperty("getScheduleController")))return h;!function(){if(!w||!w.hasOwnProperty("getCurrentBufferState"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var y=D.getMediaInfo(),T=D.getMediaType(),j=w.getCurrentBufferState(T),X=D.getScheduleController(),Y=D.getAbrController(),$=D.getStreamInfo(),he=$?$.id:null,z=$&&$.manifestInfo?$.manifestInfo.isDynamic:null,k=Y.getThroughputHistory(),K=k.getSafeAverageThroughput(T,z),ue=k.getAverageLatency(T),de=D.useBufferOccupancyABR();return isNaN(K)||!j||de||Y.getAbandonmentStateFor(he,T)!==d.Z.ABANDON_LOAD&&(j.state===d.Z.BUFFER_LOADED||z)&&(h.quality=Y.getQualityForBitrate(y,K,he,ue),X.setTimeToLoadDelay(0),h.reason={throughput:K,latency:ue}),h},reset:function(){}}}I.__dashjs_factory_name="ThroughputRule",Ze.Z=ye.Z.getClassFactory(I)},4722:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(6398);function f(){var d,I,A,v,w,D,h,y,T;function X(){A=null,v=1,w=100,D=0,h=null,y=null,T="dynamic_weight_selection"}function Y(){var K=0;if(A)for(var ue=0;ue<A.length;ue++){var de=A[ue];de.state.throughput>K&&(K=de.state.throughput)}return K}function $(K,ue,de){var Oe=K.map(function(gt,ve){return de[ve]*Math.pow(gt-ue[ve],2)}).reduce(function(gt,ve){return gt+ve});return(Oe<0?-1:1)*Math.sqrt(Math.abs(Oe))}function he(K,ue){return $([K.state.throughput,K.state.latency,K.state.rebuffer,K.state.switch],[ue.state.throughput,ue.state.latency,ue.state.rebuffer,ue.state.switch],[1,1,1,1])}function z(K,ue,de){for(var Oe=0;Oe<ue.length;Oe++){var gt=ue[Oe],ve=he(gt,K);k(gt,de,Math.exp(-1*Math.pow(ve,2)/(2*Math.pow(.1,2))))}}function k(K,ue,de){var Oe=K.state,gt=[.01,.01,.01,.01];Oe.throughput=Oe.throughput+(ue[0]-Oe.throughput)*gt[0]*de,Oe.latency=Oe.latency+(ue[1]-Oe.latency)*gt[1]*de,Oe.rebuffer=Oe.rebuffer+(ue[2]-Oe.rebuffer)*gt[2]*de,Oe.switch=Oe.switch+(ue[3]-Oe.switch)*gt[3]*de}return d={getNextQuality:function(K,ue,de,Oe,gt,ve,Ge){var ut=de,Ve=Oe,ke=ue,ot=function(oe){if(!A){A=[];var De=oe.bitrateList,$e=[];D=De[0].bandwidth,De.forEach(function(ft){$e.push(ft.bandwidth),ft.bandwidth<D&&(D=ft.bandwidth)}),qe=$e.map(function(ft){return Math.pow(ft,2)}).reduce(function(ft,Se){return ft+Se}),v=Math.sqrt(qe);for(var Ye=0;Ye<De.length;Ye++)A.push({qualityIndex:Ye,bitrate:De[Ye].bandwidth,state:{throughput:De[Ye].bandwidth/v,latency:0,rebuffer:0,switch:0}});y=function(ft){var Se=[],tt=function(Ys){for(var zt=[],Ut=0;Ut<Ys;Ut++){var Ht=[Math.random()*Y(),Math.random(),Math.random(),Math.random()];zt.push(Ht)}return zt}(Math.pow(ft.length,2));Se.push(tt[0]);for(var He=[1,1,1,1],Tt=1;Tt<ft.length;Tt++){for(var Nt=null,an=null,_n=0;_n<tt.length;_n++){for(var Cn=tt[_n],wn=null,Xn=0;Xn<Se.length;Xn++){var Bn=$(Cn,Se[Xn],He);(null===wn||Bn<wn)&&(wn=Bn)}(null===an||wn>an)&&(Nt=Cn,an=wn)}Se.push(Nt)}for(var br=null,_i=null,Rr=0;Rr<Se.length;Rr++){for(var lo=0,vi=0;vi<Se.length;vi++)Rr!==vi&&(lo+=$(Se[Rr],Se[vi],He));(null===br||lo>br)&&(br=lo,_i=Rr)}var Vi=[];for(Vi.push(Se[_i]),Se.splice(_i,1);Se.length>0;){for(var Eo=null,ji=null,Bo=0;Bo<Se.length;Bo++){var Xo=$(Vi[0],Se[Bo],He);(null===Eo||Xo<Eo)&&(Eo=Xo,ji=Bo)}Vi.push(Se[ji]),Se.splice(ji,1)}return Vi}(A)}var qe;return A}(K),Qe=ue/v;Qe>1&&(Qe=Y()),de/=w,I.debug("getNextQuality called throughput:".concat(Qe," latency:").concat(de," bufferSize:").concat(Oe," currentQualityIndex:").concat(ve," playbackRate:").concat(gt));var Rt=ot[ve],xe=Rt.bitrate*Ge.getSegmentDuration()/ke,et=Math.max(0,xe-Ve);if(Ve-xe<Ge.getMinBuffer())return I.debug("Buffer is low for bitrate= ".concat(Rt.bitrate," downloadTime=").concat(xe," currentBuffer=").concat(Ve," rebuffer=").concat(et)),function(oe,De){var $e=0,Ye=oe;if(A)for(var Fe=0;Fe<A.length;Fe++){var qe=A[Fe];qe.bitrate<oe.bitrate&&qe.bitrate>$e&&De>qe.bitrate&&($e=qe.bitrate,Ye=qe)}return Ye}(Rt,ke).qualityIndex;switch(T){case"manual_weight_selection":h=[.4,.4,.4,.4];break;case"random_weight_selection":h=function(De,$e){for(var Ye=[],Fe=Math.sqrt(2/De),qe=0;qe<4;qe++)Ye.push(Math.random()*Fe);return h=Ye}(ot.length);break;default:!function(oe,De,$e,Ye,Fe,qe,ft){h||(h=y[y.length-1]);var Se=oe.findWeightVector(De,$e,Ye,Fe,qe,ft);null!==Se&&-1!==Se&&(h=Se)}(Ge,ot,ut,Ve,et,ke,gt)}for(var jt=null,It=null,Je=null,bt=0;bt<ot.length;bt++){var pe=ot[bt],Ae=pe.state,lt=[Ae.throughput,Ae.latency,Ae.rebuffer,Ae.switch],E=h.slice(),g=Ge.getNextBufferWithBitrate(pe.bitrate,Ve,ke),M=g<Ge.getMinBuffer();M&&I.debug("Buffer is low for bitrate=".concat(pe.bitrate," downloadTime=").concat(xe," currentBuffer=").concat(Ve," nextBuffer=").concat(g)),(pe.bitrate>ue-1e4||M)&&pe.bitrate!==D&&(E[0]=100);var O=$(lt,[Qe,0,0,0],E);(null===jt||O<jt)&&(jt=O,It=pe.qualityIndex,Je=pe)}var ae=Math.abs(Rt.bitrate-Je.bitrate)/v;return z(Rt,ot,[Qe,de,et,ae]),z(Je,ot,[Qe,0,0,ae]),It},reset:function(){X()}},I=(0,N.Z)(this.context).getInstance().getLogger(d),X(),d}f.__dashjs_factory_name="LearningAbrController",Ze.Z=ye.Z.getClassFactory(f)},5317:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(2298);function f(){var d,I,A,v,w;function D(){I=null,A=null,v=null,w=null}function h(T,j,X,Y){var $=new N.Z;return $.type=T,$.weights.bitrateReward=j||1,$.weights.bitrateSwitchPenalty=1,$.weights.rebufferPenalty=X||1e3,$.weights.latencyPenalty=[],$.weights.latencyPenalty.push({threshold:1.1,penalty:.05*Y}),$.weights.latencyPenalty.push({threshold:1e8,penalty:.1*X}),$.weights.playbackSpeedPenalty=Y||200,$}function y(T,j,X,Y,$){$.bitrateWSum+=$.weights.bitrateReward*T,$.lastBitrate&&($.bitrateSwitchWSum+=$.weights.bitrateSwitchPenalty*Math.abs(T-$.lastBitrate)),$.lastBitrate=T,$.rebufferWSum+=$.weights.rebufferPenalty*j;for(var he=0;he<$.weights.latencyPenalty.length;he++){var z=$.weights.latencyPenalty[he];if(X<=z.threshold){$.latencyWSum+=z.penalty*X;break}}$.playbackSpeedWSum+=$.weights.playbackSpeedPenalty*Math.abs(1-Y),$.totalQoe=$.bitrateWSum-$.bitrateSwitchWSum-$.rebufferWSum-$.latencyWSum-$.playbackSpeedWSum}return d={setupPerSegmentQoe:function(T,j,X){I=h("segment",T,j,X),A=T,v=j,w=X},logSegmentMetrics:function(T,j,X,Y){I&&y(T,j,X,Y,I)},getPerSegmentQoe:function(){return I},calculateSingleUseQoe:function(T,j,X,Y){var $=null;return A&&v&&w&&($=h("segment",A,v,w)),$?(y(T,j,X,Y,$),$.totalQoe):0},reset:function(){D()}},D(),d}f.__dashjs_factory_name="LoLpQoeEvaluator",Ze.Z=ye.Z.getClassFactory(f)},5435:function(Et,Ze,H){"use strict";var ye=H(6398),N=H(5448),f=H(4722),d=H(5317),I=H(2068),A=H(3860),v=H(6523),w=H(3393);function D(h){var y,T,j,X,Y=(h=h||{}).dashMetrics,$=this.context;return T={getMaxIndex:function(he){try{var z=(0,I.Z)($).create(),k=he.getMediaInfo().type,K=he.getAbrController(),ue=he.getStreamInfo(),de=K.getQualityFor(k,ue.id),Oe=he.getMediaInfo(),gt=Y.getCurrentBufferState(k),ve=he.getScheduleController(),Ge=Y.getCurrentBufferLevel(k,!0),ut=ue&&ue.manifestInfo?ue.manifestInfo.isDynamic:null,Ve=ve.getPlaybackController(),ke=Ve.getCurrentLiveLatency();if(!he.useLoLPABR()||k===w.Z.AUDIO)return z;ke||(ke=0);var ot=Ve.getPlaybackRate(),Qe=K.getThroughputHistory().getSafeAverageThroughput(k,ut);if(y.debug("Throughput ".concat(Math.round(Qe)," kbps")),isNaN(Qe)||!gt||K.getAbandonmentStateFor(ue.id,k)===A.Z.ABANDON_LOAD)return z;for(var Rt=Oe.bitrateList,xe=he.getRepresentationInfo().fragmentDuration,et=Rt[0].bandwidth/1e3,jt=Rt[Rt.length-1].bandwidth/1e3,It=0;It<Rt.length;It++){var Je=Rt[It].bandwidth/1e3;Je>jt?jt=Je:Je<et&&(et=Je)}var bt=Rt[de].bandwidth/1e3,pe=Y.getCurrentHttpRequest(k,!0),Ae=(pe.tresponse.getTime()-pe.trequest.getTime())/1e3,lt=Ae>xe?Ae-xe:0;X.setupPerSegmentQoe(xe,jt,et),X.logSegmentMetrics(bt,lt,ke,ot);var E=(0,v.Z)($).create({targetLatency:1.5,bufferMin:.3,segmentDuration:xe,qoeEvaluator:X});return z.quality=j.getNextQuality(Oe,1e3*Qe,ke,Ge,ot,de,E),z.reason={throughput:Qe,latency:ke},z.priority=I.Z.PRIORITY.STRONG,ve.setTimeToLoadDelay(0),z.quality!==de&&y.debug("[TgcLearningRule]["+k+"] requesting switch to index: ",z.quality,"Average throughput",Math.round(Qe),"kbps"),z}catch(g){throw g}},reset:function(){j.reset(),X.reset()}},y=(0,ye.Z)($).getInstance().getLogger(T),j=(0,f.Z)($).create(),X=(0,d.Z)($).create(),T}D.__dashjs_factory_name="LoLPRule",Ze.Z=N.Z.getClassFactory(D)},6523:function(Et,Ze,H){"use strict";var ye=H(5448);function N(f){var d,I,A,v,w=f.targetLatency,D=f.bufferMin,h=f.segmentDuration,y=f.qoeEvaluator;function T(){return h}function j(X,Y){var $=T();return Y>$?X-$:X+$-Y}return d={getMinBuffer:function(){return D},getSegmentDuration:T,getNextBufferWithBitrate:function(X,Y,$){return j(Y,X*h/$)},getNextBuffer:j,findWeightVector:function(X,Y,$,he,z,k){var K=null,ue=null,de=null,Oe=Math.abs(Y-A);return X.forEach(function(gt){I.forEach(function(ve){var Ge=ve[1],ut=ve[2],Ve=gt.bitrate*h/z,ke=j($,Ve),ot=(0===ut?10:1/ut)*Math.max(1e-5,Ve-ke),Rt=y.calculateSingleUseQoe(gt.bitrate,ot,(0===Ge?10:1/Ge)*gt.state.latency,k);(null===K||Rt>K)&&(!(Y>w+Oe)&&ke>=D)&&(K=Rt,ue=ve,de=gt.bitrate)})}),null===ue&&null===de&&(ue=-1),A=Y,ue}},I=function X(Y,$,he){if(he===$)return Y;for(var z=Y.length,k=0;k<z;k++)for(var K=Y.shift(),ue=0;ue<v.length;ue++)Y.push(K.concat(v[ue]));return X(Y,$,he+1)}((v=[.2,.4,.6,.8,1]).map(function(X){return[X]}),4,1),A=0,d}N.__dashjs_factory_name="LoLpWeightSelector",Ze.Z=ye.Z.getClassFactory(N)},2298:function(Et,Ze){"use strict";Ze.Z=function H(){(function(ye,N){if(!(ye instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:function(Et,Ze,H){"use strict";H.d(Ze,{Y:function(){return y}});var ye=H(3393),N=H(1553),f=H(5448),d=H(2128),I=H(2594),A=H(7387),v=H(7417),w=H(9032),D=H(9326),h=H(7802),y=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function T(j){var X,Y,$,he,z,k,K,ue,de=this.context,Oe=j.adapter,gt=j.baseURLController,ve=j.streamInfo,Ge=j.timelineConverter,ut=j.debug,Ve=j.eventBus,ke=j.events,ot=j.dashConstants,Qe=(0,I.Z)(de).getInstance();function Rt(et,jt){var Je,bt,It=new d.Z;It.id=et.id,It.bitrate=et.bandwidth,It.width=et.width,It.height=et.height,It.tilesHor=1,It.tilesVert=1,et.essentialProperties&&et.essentialProperties.forEach(function(Je){if(y.indexOf(Je.schemeIdUri)>=0&&Je.value){var bt=Je.value.split("x");2!==bt.length||isNaN(bt[0])||isNaN(bt[1])||(It.tilesHor=parseInt(bt[0],10),It.tilesVert=parseInt(bt[1],10))}}),jt?k.updateSegmentData(et).then(function(Je){var bt,pe,lt,E;bt=It,lt=[],E=function(g,M){var O,ae,oe,De,$e=[],Ye=0;for(O=0,ae=g.segments.length;O<ae;O++)oe=g.segments[O],(De=(0,A.TJ)(Ge,Oe.getIsDynamic(),M,oe.startTime,oe.duration,oe.timescale,oe.media,oe.mediaRange,Ye))&&($e.push(De),De=null,Ye++);return $e}(Je,pe=et),pe.segments=E,bt.segmentDuration=pe.segments[0].duration,bt.readThumbnail=function(g,M){var O=null;lt.some(function(ae){if(ae.start<=g&&ae.end>g)return O=ae.url,!0}),O?M(O):pe.segments.some(function(ae){if(ae.mediaStartTime<=g&&ae.mediaStartTime+ae.duration>g){var oe=gt.resolve(pe.path);return K.load({method:"get",url:oe.url,request:{range:ae.mediaRange,responseType:"arraybuffer"},onload:function(De){var $e=ue.getSamplesInfo(De.target.response),Ye=new Blob([De.target.response.slice($e.sampleList[0].offset,$e.sampleList[0].offset+$e.sampleList[0].size)],{type:"image/jpeg"}),Fe=window.URL.createObjectURL(Ye);lt.push({start:ae.mediaStartTime,end:ae.mediaStartTime+ae.duration,url:Fe}),M&&M(Fe)}}),!0}})}}):(It.startNumber=et.startNumber,It.segmentDuration=et.segmentDuration,It.timescale=et.timescale,It.templateUrl=(bt=Qe.isRelative((Je=et).media)?Qe.resolve(Je.media,gt.resolve(Je.path).url):Je.media)?(0,A.Aj)(bt,Je.id):""),It.tilesHor>0&&It.tilesVert>0&&(It.widthPerTile=It.width/It.tilesHor,It.heightPerTile=It.height/It.tilesVert,Y.push(It))}function xe(){Y=[],he=-1,z=null}return X={getTracks:function(){return Y},addTracks:function(){if(ve&&Oe&&(z=Oe.getMediaInfoForType(ve,ye.Z.IMAGE))){var et=Oe.getVoRepresentations(z);et&&et.length>0&&et.forEach(function(jt){(jt.segmentInfoType===N.Z.SEGMENT_TEMPLATE&&jt.segmentDuration>0&&jt.media||jt.segmentInfoType===N.Z.SEGMENT_TIMELINE)&&Rt(jt),jt.segmentInfoType===N.Z.SEGMENT_BASE&&Rt(jt,!0)}),Y.length>0&&Y.sort(function(jt,It){return jt.bitrate-It.bitrate})}},reset:xe,setTrackByIndex:function(et){Y&&0!==Y.length&&(et>=Y.length&&(et=Y.length-1),he=et)},getCurrentTrack:function(){return he<0?null:Y[he]},getCurrentTrackIndex:function(){return he},getThumbnailRequestForTime:function(et){for(var jt,It=Oe.getVoRepresentations(z),Je=0;Je<It.length;Je++)if(Y[he].id===It[Je].id){jt=It[Je];break}return $.getSegmentRequestForTime(z,jt,et)}},xe(),K=(0,w.Z)(de).create({}),ue=(0,v.Z)(de).getInstance(),k=(0,h.Z)(de).create({events:ke,eventBus:Ve,streamInfo:ve,timelineConverter:Ge,dashConstants:ot,dashMetrics:j.dashMetrics,segmentBaseController:j.segmentBaseController,type:ye.Z.IMAGE}),($=(0,D.Z)(de).create({streamInfo:ve,type:ye.Z.IMAGE,timelineConverter:Ge,segmentsController:k,baseURLController:gt,debug:ut,eventBus:Ve,events:ke,dashConstants:ot,urlUtils:Qe})).initialize(!!Oe&&Oe.getIsDynamic()),X}T.__dashjs_factory_name="ThumbnailTracks",Ze.Z=f.Z.getClassFactory(T)},7417:function(Et,Ze,H){"use strict";var ye=H(6398),N=H(8260),f=H(5448),d=H(6934),I=H(9597);function A(){var v,w,D=this.context;function h(j){if(!j)return null;void 0===j.fileStart&&(j.fileStart=0);var X=d.parseBuffer(j),Y=(0,N.Z)(D).create();return Y.setData(X),Y}function y(j,X){return j[X+3]>>>0|j[X+2]<<8>>>0|j[X+1]<<16>>>0|j[X]<<24>>>0}function T(j,X){return String.fromCharCode(j[X++])+String.fromCharCode(j[X++])+String.fromCharCode(j[X++])+String.fromCharCode(j[X])}return w={parse:h,findLastTopIsoBoxCompleted:function(j,X,Y){if(void 0===Y&&(Y=0),!X||Y+8>=X.byteLength)return new I.Z(0,!1);for(var $,he=X instanceof ArrayBuffer?new Uint8Array(X):X,z=0;Y<he.byteLength;){var k=y(he,Y),K=T(he,Y+4);if(0===k)break;Y+k<=he.byteLength&&(j.indexOf(K)>=0?$=new I.Z(Y,!0,k):z=Y+k),Y+=k}return $||new I.Z(z,!1)},getMediaTimescaleFromMoov:function(j){var X=h(j),Y=X?X.getBox("mdhd"):void 0;return Y?Y.timescale:NaN},getSamplesInfo:function(j){if(!j||0===j.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var X,Y,$,he,z,k,K,ue,de,Oe,gt,ve,Ge,ut,Ve,ke,ot=h(j),Qe=ot.getBoxes("moof"),Rt=ot.getBoxes("mfhd");Ve=ot.getBoxes("moof").length,ut=Rt[Rt.length-1].sequence_number,Y=0,z=[];var xe=-1,et=-1;for(Oe=0;Oe<Qe.length;Oe++){var jt=Qe[Oe],It=jt.getChildBoxes("traf");for(ue=0;ue<It.length;ue++){var Je=It[ue],bt=Je.getChildBox("tfhd"),pe=Je.getChildBox("tfdt");he=pe.baseMediaDecodeTime;var Ae=Je.getChildBoxes("trun"),lt=Je.getChildBoxes("subs");for(de=0;de<Ae.length;de++){var E=Ae[de];for(Y=E.sample_count,Ge=(bt.base_data_offset||0)+(E.data_offset||0),K=0;K<Y;K++){X=void 0!==(k=E.samples[K]).sample_duration?k.sample_duration:bt.default_sample_duration;var g={dts:he,cts:he+(void 0!==k.sample_composition_time_offset?k.sample_composition_time_offset:0),duration:X,offset:jt.offset+Ge,size:$=void 0!==k.sample_size?k.sample_size:bt.default_sample_size,subSizes:[$]};if(lt)for(gt=0;gt<lt.length;gt++){var M=lt[gt];if(xe<M.entry_count-1&&K>et&&(xe++,et+=M.entries[xe].sample_delta),K==et){g.subSizes=[];var O=M.entries[xe];for(ve=0;ve<O.subsample_count;ve++)g.subSizes.push(O.subsamples[ve].subsample_size)}}z.push(g),Ge+=$,he+=X}}ke=he-pe.baseMediaDecodeTime}}return{sampleList:z,lastSequenceNumber:ut,totalDuration:ke,numSequences:Ve}},findInitRange:function(j){var X=null,Y=h(j);if(!Y)return X;var $=Y.getBox("ftyp"),he=Y.getBox("moov");return v.debug("Searching for initialization."),he&&he.isComplete&&v.debug("Found the initialization.  Range: "+(X=($?$.offset:he.offset)+"-"+(he.offset+he.size-1))),X},parsePayload:function(j,X,Y){if(void 0===Y&&(Y=0),!X||Y+8>=X.byteLength)return new I.Z(0,!1);for(var $,he=X instanceof ArrayBuffer?new Uint8Array(X):X,z=0;Y<he.byteLength;){var k=y(he,Y),K=T(he,Y+4);if(0===k)break;Y+k<=he.byteLength&&(j.indexOf(K)>=0?$=new I.Z(Y,!0,k,K):z=Y+k),Y+=k}return $||new I.Z(z,!1)}},v=(0,ye.Z)(D).getInstance().getLogger(w),w}A.__dashjs_factory_name="BoxParser",Ze.Z=f.Z.getSingletonFactory(A)},1715:function(Et,Ze,H){"use strict";H.d(Ze,{B:function(){return I}});var ye=H(5448),N=H(7803),f=H(3393),d=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function I(){var v="WebKitMediaSource"in window,w="MediaSource"in window;return v||w}function A(){var v,w,D;return v={setConfig:function(h){h&&h.settings&&(w=h.settings)},supportsMediaSource:I,supportsEncryptedMedia:function(){return D},supportsCodec:function(h,y){return y!==f.Z.AUDIO&&y!==f.Z.VIDEO?Promise.resolve(!0):(T=h,j=y,w.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&j===f.Z.AUDIO||j===f.Z.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)?function(T,j){return new Promise(function(X){if(T&&T.codec){var Y={type:"media-source"};Y[j]={},Y[j].contentType=T.codec,Y[j].width=T.width,Y[j].height=T.height,Y[j].bitrate=parseInt(T.bitrate),Y[j].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(Y).then(function($){X($.supported)}).catch(function(){X(!1)})}else X(!1)})}(h,y):function(T){return new Promise(function(j){if(T&&T.codec){var X=T.codec;T.width&&T.height&&(X+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(X)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(X)?j(!0):j(!1)}else j(!1)})}(h));var T,j},setEncryptedMediaSupported:function(h){D=h},supportsEssentialProperty:function(h){try{return-1!==N.Y.indexOf(h.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function(h,y){for(var T,j=h.split(".")[0],X=0===y.indexOf(j),Y=0;Y<d.length;Y++)if(d[Y].codec===j){T=d[Y];break}return T?X||T.compatibleCodecs.some(function($){return 0===y.indexOf($)}):X}},D=!1,v}A.__dashjs_factory_name="Capabilities",Ze.Z=ye.Z.getSingletonFactory(A)},2295:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(3106);function f(){return{customTimeRangeArray:[],length:0,add:function(d,I){var A;for(A=0;A<this.customTimeRangeArray.length&&d>this.customTimeRangeArray[A].start;A++);for(this.customTimeRangeArray.splice(A,0,{start:d,end:I}),A=0;A<this.customTimeRangeArray.length-1;A++)this.mergeRanges(A,A+1)&&A--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(d,I){for(var A=0;A<this.customTimeRangeArray.length;A++)if(d<=this.customTimeRangeArray[A].start&&I>=this.customTimeRangeArray[A].end)this.customTimeRangeArray.splice(A,1),A--;else{if(d>this.customTimeRangeArray[A].start&&I<this.customTimeRangeArray[A].end){this.customTimeRangeArray.splice(A+1,0,{start:I,end:this.customTimeRangeArray[A].end}),this.customTimeRangeArray[A].end=d;break}d>this.customTimeRangeArray[A].start&&d<this.customTimeRangeArray[A].end?this.customTimeRangeArray[A].end=d:I>this.customTimeRangeArray[A].start&&I<this.customTimeRangeArray[A].end&&(this.customTimeRangeArray[A].start=I)}this.length=this.customTimeRangeArray.length},mergeRanges:function(d,I){var A=this.customTimeRangeArray[d],v=this.customTimeRangeArray[I];return A.start<=v.start&&v.start<=A.end&&A.end<=v.end?(A.end=v.end,this.customTimeRangeArray.splice(I,1),!0):v.start<=A.start&&A.start<=v.end&&v.end<=A.end?(A.start=v.start,this.customTimeRangeArray.splice(I,1),!0):v.start<=A.start&&A.start<=v.end&&A.end<=v.end?(this.customTimeRangeArray.splice(d,1),!0):A.start<=v.start&&v.start<=A.end&&v.end<=A.end&&(this.customTimeRangeArray.splice(I,1),!0)},start:function(d){return(0,N.SE)(d),d>=this.customTimeRangeArray.length||d<0?NaN:this.customTimeRangeArray[d].start},end:function(d){return(0,N.SE)(d),d>=this.customTimeRangeArray.length||d<0?NaN:this.customTimeRangeArray[d].end}}}f.__dashjs_factory_name="CustomTimeRanges",Ze.Z=ye.Z.getClassFactory(f)},5:function(Et,Ze,H){"use strict";var ye=H(5448);function N(){var f,d=/^[a-z][a-z0-9+\-_.]*:/i,I=/^https?:\/\//i,A=/^https:\/\//i,v=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,w=function($,he){try{return new window.URL($,he).toString()}catch{return $}},D=function($,he){var z=h;if(!he||!j($))return $;X($)&&(z=y),Y($)&&(z=T);var k=z(he),K="/"!==k.charAt(k.length-1)&&"/"!==$.charAt(0)?"/":"";return[k,$].join(K)};function h($){var he=$.indexOf("/"),z=$.lastIndexOf("/");return-1!==he?z===he+1?$:(-1!==$.indexOf("?")&&($=$.substring(0,$.indexOf("?"))),$.substring(0,z+1)):""}function y($){var he=$.match(v);return he?he[1]:""}function T($){var he=$.match(d);return he?he[0]:""}function j($){return!d.test($)}function X($){return j($)&&"/"===$.charAt(0)}function Y($){return 0===$.indexOf("//")}return function(){try{new window.URL("x","http://y"),f=w}catch{}finally{f=f||D}}(),{parseBaseUrl:h,parseOrigin:y,parseScheme:T,isRelative:j,isPathAbsolute:X,isSchemeRelative:Y,isHTTPURL:function($){return I.test($)},isHTTPS:function($){return A.test($)},removeHostname:function($){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec($)[2].substring(1)},resolve:function($,he){return f($,he)}}}N.__dashjs_factory_name="DefaultURLUtils",Ze.Z=ye.Z.getSingletonFactory(N)},8260:function(Et,Ze,H){"use strict";var ye=H(2839),N=H(5448);function f(){var d;function I(v){var w=[];if(!v||!d||"function"!=typeof d.fetchAll)return w;for(var D,h=d.fetchAll(v),y=0,T=h.length;y<T;y++)(D=A(h[y]))&&w.push(D);return w}function A(v){if(!v)return null;var w=new ye.Z(v);return v.hasOwnProperty("_incomplete")&&(w.isComplete=!v._incomplete),w}return{getBox:function(v){return v&&d&&d.boxes&&0!==d.boxes.length&&"function"==typeof d.fetch?A(d.fetch(v)):null},getBoxes:I,setData:function(v){d=v},getLastBox:function(){if(!d||!d.boxes||!d.boxes.length)return null;var v=I(d.boxes[d.boxes.length-1].type);return v.length>0?v[v.length-1]:null}}}f.__dashjs_factory_name="IsoFile",Ze.Z=N.Z.getClassFactory(f)},7473:function(Et,Ze,H){"use strict";H.d(Ze,{k:function(){return N}});var ye=H(5448);function N(d,I){var A={url:d.url,method:d.method,headers:Object.assign({},d.headers),credentials:d.withCredentials?"include":void 0};return Promise.resolve(I.modifyRequest(A)).then(function(){return Object.assign(d,A,{withCredentials:"include"===A.credentials})})}function f(){return{modifyRequest:null,modifyRequestURL:function(d){return d},modifyRequestHeader:function(d,I){return d}}}f.__dashjs_factory_name="RequestModifier",Ze.Z=ye.Z.getSingletonFactory(f)},3106:function(Et,Ze,H){"use strict";H.d(Ze,{PS:function(){return f},SE:function(){return d}});var ye=H(3393);function N(I){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(I)}function f(I,A){if(N(I)!==A)throw ye.Z.BAD_ARGUMENT_ERROR}function d(I){if(null===I||isNaN(I)||I%1!=0)throw ye.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:function(Et,Ze,H){"use strict";var ye=H(5448),N=H(5);function f(){var I,A=[];function w(D,h,y){var T=function(j){var X;for(X=0;X<A.length;X++)if(A[X].regex.test(j))return A[X].utils;return I}(y||h);return T&&"function"==typeof T[D]?T[D](h,y):I[D](h,y)}return I=(0,N.Z)(this.context).getInstance(),{registerUrlRegex:function(D,h){A.push({regex:D,utils:h})},parseBaseUrl:function(D){return w("parseBaseUrl",D)},parseOrigin:function(D){return w("parseOrigin",D)},parseScheme:function(D){return w("parseScheme",D)},isRelative:function(D){return w("isRelative",D)},isPathAbsolute:function(D){return w("isPathAbsolute",D)},isSchemeRelative:function(D){return w("isSchemeRelative",D)},isHTTPURL:function(D){return w("isHTTPURL",D)},isHTTPS:function(D){return w("isHTTPS",D)},removeHostname:function(D){return w("removeHostname",D)},resolve:function(D,h){return w("resolve",D,h)}}}f.__dashjs_factory_name="URLUtils";var d=ye.Z.getSingletonFactory(f);Ze.Z=d},5459:function(Et,Ze){"use strict";Ze.Z=function H(ye,N,f){(function(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")})(this,H),this.code=ye||null,this.message=N||null,this.data=f||null}},3186:function(Et,Ze,H){"use strict";var ye=H(7855);var f=function(){function d(v){(function(w,D){if(!(w instanceof D))throw new TypeError("Cannot call a class as a function")})(this,d),this.action=d.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=v||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var A;return(A=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===ye.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(v){this.type=v&&v.init?ye.w.INIT_SEGMENT_TYPE:ye.w.MEDIA_SEGMENT_TYPE,this.url=v&&v.url?v.url:null,this.range=v&&v.range?v.range.start+"-"+v.range.end:null,this.mediaType=v&&v.mediaType?v.mediaType:null}}])&&function N(d,I){for(var A=0;A<I.length;A++){var v=I[A];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}(d.prototype,A),d}();f.ACTION_DOWNLOAD="download",f.ACTION_COMPLETE="complete",Ze.Z=f},2839:function(Et,Ze){"use strict";var ye=function(){function N(I){if(function(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,N),this.offset=I._offset,this.type=I.type,this.size=I.size,this.boxes=[],I.boxes)for(var A=0;A<I.boxes.length;A++)this.boxes.push(new N(I.boxes[A]));switch(this.isComplete=!0,I.type){case"sidx":if(this.timescale=I.timescale,this.earliest_presentation_time=I.earliest_presentation_time,this.first_offset=I.first_offset,this.references=I.references,I.references){this.references=[];for(var v=0;v<I.references.length;v++)this.references.push({reference_type:I.references[v].reference_type,referenced_size:I.references[v].referenced_size,subsegment_duration:I.references[v].subsegment_duration})}break;case"emsg":this.id=I.id,this.version=1===I.version?1:0,this.value=I.value,this.timescale=I.timescale,this.scheme_id_uri=I.scheme_id_uri,this.presentation_time_delta=1===I.version?I.presentation_time:I.presentation_time_delta,this.event_duration=I.event_duration,this.message_data=I.message_data;break;case"mdhd":this.timescale=I.timescale;break;case"mfhd":this.sequence_number=I.sequence_number;break;case"subs":this.entry_count=I.entry_count,this.entries=I.entries;break;case"tfhd":this.base_data_offset=I.base_data_offset,this.sample_description_index=I.sample_description_index,this.default_sample_duration=I.default_sample_duration,this.default_sample_size=I.default_sample_size,this.default_sample_flags=I.default_sample_flags,this.flags=I.flags;break;case"tfdt":this.version=I.version,this.baseMediaDecodeTime=I.baseMediaDecodeTime,this.flags=I.flags;break;case"trun":if(this.sample_count=I.sample_count,this.first_sample_flags=I.first_sample_flags,this.data_offset=I.data_offset,this.flags=I.flags,this.samples=I.samples,I.samples){this.samples=[];for(var D=0,h=I.samples.length;D<h;D++)this.samples.push({sample_size:I.samples[D].sample_size,sample_duration:I.samples[D].sample_duration,sample_composition_time_offset:I.samples[D].sample_composition_time_offset})}break;case"prft":this.version=I.version,this.reference_track_ID=I.reference_track_ID,this.ntp_timestamp_sec=I.ntp_timestamp_sec,this.ntp_timestamp_frac=I.ntp_timestamp_frac,this.media_time=I.media_time,this.flags=I.flags}}var d;return(d=[{key:"getChildBox",value:function(I){for(var A=0;A<this.boxes.length;A++)if(this.boxes[A].type===I)return this.boxes[A]}},{key:"getChildBoxes",value:function(I){for(var A=[],v=0;v<this.boxes.length;v++)this.boxes[v].type===I&&A.push(this.boxes[v]);return A}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}();Ze.Z=ye},9597:function(Et,Ze){"use strict";Ze.Z=function H(ye,N,f){(function(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")})(this,H),this.lastCompletedOffset=ye,this.found=N,this.size=f}},2128:function(Et,Ze){"use strict";Ze.Z=function H(){(function(ye,N){if(!(ye instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:function(Et,Ze,H){"use strict";function ye(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")}H.d(Ze,{O:function(){return f},w:function(){return N}});var N=function d(){ye(this,d),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},f=function d(){ye(this,d),this.s=null,this.d=null,this.b=[]};N.GET="GET",N.HEAD="HEAD",N.MPD_TYPE="MPD",N.XLINK_EXPANSION_TYPE="XLinkExpansion",N.INIT_SEGMENT_TYPE="InitializationSegment",N.INDEX_SEGMENT_TYPE="IndexSegment",N.MEDIA_SEGMENT_TYPE="MediaSegment",N.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",N.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",N.DVB_REPORTING_TYPE="DVBReporting",N.LICENSE="license",N.CONTENT_STEERING_TYPE="ContentSteering",N.OTHER_TYPE="other"},3039:function(Et,Ze){"use strict";function H(N,f){return function(d,I){for(var A,v,w,D=ye(d,"tag"),h=ye(I??"*","range"),y=[],T=-1;++T<h.length;)if(A=h[T].toLowerCase(),f||"*"!==A){for(v=-1,w=[];++v<D.length;)if(N(D[v].toLowerCase(),A)){if(!f)return D[v];y.push(D[v])}else w.push(D[v]);D=w}return f?y:void 0}}function ye(N,f){var d=N&&"string"==typeof N?[N]:N;if(!d||"object"!=typeof d||!("length"in d))throw new Error("Invalid "+f+" `"+d+"`, expected non-empty string");return d}Ze.basicFilter=H(function(N,f){return"*"===f||N===f||N.indexOf(f+"-")>-1},!0),Ze.extendedFilter=H(function(N,f){var d=N.split("-"),I=f.split("-"),A=0,v=0;if("*"!==I[v]&&d[A]!==I[v])return!1;for(A++,v++;v<I.length;)if("*"!==I[v]){if(!d[A])return!1;if(d[A]!==I[v]){if(1===d[A].length)return!1;A++}else A++,v++}else v++;return!0},!0),Ze.lookup=H(function(N,f){for(var d,I=f;;){if("*"===I||N===I)return!0;if((d=I.lastIndexOf("-"))<0)return!1;"-"===I.charAt(d-2)&&(d-=2),I=I.slice(0,d)}})},3973:function(Et,Ze,H){"use strict";Et.exports=H(3854)},3854:function(Et,Ze,H){"use strict";var ye=H(2415),N=H(3039),f=H(7778),d=H(5813),I=H(3165),A=H(9460);Et.exports=function(X,Y){var $,he=Y||{},z=ye.parse(String(X||"").toLowerCase(),he),k=ye.stringify(z),K=-1;if(!k)return k;for(;++K<f.length;)N.extendedFilter(k,f[K].from).length&&(h(z,f[K].from,f[K].to),k=ye.stringify(z));for(K=-1;++K<d.length;)y(z,d[K].from.field,d[K].from.value)&&T(z,d[K].to.field,d[K].to.value);for(k=ye.stringify(Object.assign({},z,D)),K=-1;++K<I.length;)k===I[K]&&(h(z,I[K],I[K].split("-").slice(0,-1).join("-")),k=ye.stringify(Object.assign({},z,D)));if(z.extensions.sort(j),he.warning)for($ in A)v.call(A[$],z[$])&&he.warning("Deprecated "+$+" `"+z[$]+"`, expected one of `"+A[$][z[$]].join("`, `")+"`",null,7);return z.script&&(z.script=z.script.charAt(0).toUpperCase()+z.script.slice(1)),z.region&&(z.region=z.region.toUpperCase()),ye.stringify(z)};var v={}.hasOwnProperty,w=new Intl.Collator,D={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function h(X,Y,$){var he,z=ye.parse(Y),k=ye.parse($),K=[];for(he in z)z[he]&&z[he].length&&y(X,he,z[he])&&K.push(he);for(he in k)k[he]&&k[he].length&&(K.indexOf(he)>-1||!X[he]||!X[he].length)&&T(X,he,k[he])}function y(X,Y,$){var he,z,k,K,ue=!1;if($){if(z=he=X[Y],he&&"object"==typeof he)for(z=[],k=-1;++k<he.length;)$.indexOf(K=he[k])<0?z.push(K):ue=!0;else he===$&&(z=null,ue=!0);X[Y]=z}return ue}function T(X,Y,$){var he,z,k,K=X[Y];if(K&&"object"==typeof K)for(he=[].concat($),z=-1;++z<he.length;)K.indexOf(k=he[z])<0&&K.push(k);else X[Y]=$}function j(X,Y){return w.compare(X.singleton,Y.singleton)}},2415:function(Et,Ze,H){"use strict";Ze.parse=H(6903),Ze.stringify=H(6713)},6903:function(Et,Ze,H){"use strict";var ye=H(2219),N=H(3516),f=H(395),d=H(858),I=H(8589);Et.exports=function v(w,D){var h,y,T,j=D||{},X={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},Y=String(w),$=Y.toLowerCase(),he=0;if(null==w)throw new Error("Expected string, got `"+w+"`");if(A.call(I,$))return(null==j.normalize||j.normalize)&&I[$]?v(I[$]):(X[-1===d.indexOf($)?"irregular":"regular"]=Y,X);for(;N($.charCodeAt(he))&&he<9;)he++;if(he>1&&he<9){if(X.language=Y.slice(0,he),he<4)for(y=0;45===$.charCodeAt(he)&&N($.charCodeAt(he+1))&&N($.charCodeAt(he+2))&&N($.charCodeAt(he+3))&&!N($.charCodeAt(he+4));){if(y>2)return z(he,3,"Too many extended language subtags, expected at most 3 subtags");X.extendedLanguageSubtags.push(Y.slice(he+1,he+4)),he+=4,y++}for(45===$.charCodeAt(he)&&N($.charCodeAt(he+1))&&N($.charCodeAt(he+2))&&N($.charCodeAt(he+3))&&N($.charCodeAt(he+4))&&!N($.charCodeAt(he+5))&&(X.script=Y.slice(he+1,he+5),he+=5),45===$.charCodeAt(he)&&(N($.charCodeAt(he+1))&&N($.charCodeAt(he+2))&&!N($.charCodeAt(he+3))?(X.region=Y.slice(he+1,he+3),he+=3):f($.charCodeAt(he+1))&&f($.charCodeAt(he+2))&&f($.charCodeAt(he+3))&&!f($.charCodeAt(he+4))&&(X.region=Y.slice(he+1,he+4),he+=4));45===$.charCodeAt(he);){for(T=h=he+1;ye($.charCodeAt(T));){if(T-h>7)return z(T,1,"Too long variant, expected at most 8 characters");T++}if(!(T-h>4||T-h>3&&f($.charCodeAt(h))))break;X.variants.push(Y.slice(h,T)),he=T}for(;45===$.charCodeAt(he)&&120!==$.charCodeAt(he+1)&&ye($.charCodeAt(he+1))&&45===$.charCodeAt(he+2)&&ye($.charCodeAt(he+3));){for(T=he+2,y=0;45===$.charCodeAt(T)&&ye($.charCodeAt(T+1))&&ye($.charCodeAt(T+2));)for(T=(h=T+1)+2,y++;ye($.charCodeAt(T));){if(T-h>7)return z(T,2,"Too long extension, expected at most 8 characters");T++}if(!y)return z(T,4,"Empty extension, extensions must have at least 2 characters of content");X.extensions.push({singleton:Y.charAt(he+1),extensions:Y.slice(he+3,T).split("-")}),he=T}}else he=0;if(0===he&&120===$.charCodeAt(he)||45===$.charCodeAt(he)&&120===$.charCodeAt(he+1))for(T=he=he?he+2:1;45===$.charCodeAt(T)&&ye($.charCodeAt(T+1));){for(T=h=he+1;ye($.charCodeAt(T));){if(T-h>7)return z(T,5,"Too long private-use area, expected at most 8 characters");T++}X.privateuse.push(Y.slice(he+1,T)),he=T}return he!==Y.length?z(he,6,"Found superfluous content after tag"):X;function z(k,K,ue){return j.warning&&j.warning(ue,K,k),j.forgiving?X:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var A={}.hasOwnProperty},6713:function(Et){"use strict";Et.exports=function(Ze){var H,ye,N,f=Ze||{},d=[];if(f.irregular||f.regular)return f.irregular||f.regular;if(f.language)for(d=d.concat(f.language,f.extendedLanguageSubtags||[],f.script||[],f.region||[],f.variants||[]),H=f.extensions||[],ye=-1;++ye<H.length;)(N=H[ye]).singleton&&N.extensions&&N.extensions.length&&(d=d.concat(N.singleton,N.extensions));return f.privateuse&&f.privateuse.length&&(d=d.concat("x",f.privateuse)),d.join("-")}},1549:function(Et,Ze,H){"use strict";var ye=H(6693),N=H(2165),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ze.Buffer=A,Ze.SlowBuffer=function(E){return+E!=E&&(E=0),A.alloc(+E)},Ze.INSPECT_MAX_BYTES=50;var d=2147483647;function I(E){if(E>d)throw new RangeError('The value "'+E+'" is invalid for option "size"');var g=new Uint8Array(E);return Object.setPrototypeOf(g,A.prototype),g}function A(E,g,M){if("number"==typeof E){if("string"==typeof g)throw new TypeError('The "string" argument must be of type string. Received type number');return D(E)}return v(E,g,M)}function v(E,g,M){if("string"==typeof E)return function(oe,De){if("string"==typeof De&&""!==De||(De="utf8"),!A.isEncoding(De))throw new TypeError("Unknown encoding: "+De);var $e=0|j(oe,De),Ye=I($e),Fe=Ye.write(oe,De);return Fe!==$e&&(Ye=Ye.slice(0,Fe)),Ye}(E,g);if(ArrayBuffer.isView(E))return function(oe){if(pe(oe,Uint8Array)){var De=new Uint8Array(oe);return y(De.buffer,De.byteOffset,De.byteLength)}return h(oe)}(E);if(null==E)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(pe(E,ArrayBuffer)||E&&pe(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(E,SharedArrayBuffer)||E&&pe(E.buffer,SharedArrayBuffer)))return y(E,g,M);if("number"==typeof E)throw new TypeError('The "value" argument must not be of type number. Received type number');var O=E.valueOf&&E.valueOf();if(null!=O&&O!==E)return A.from(O,g,M);var ae=function(oe){if(A.isBuffer(oe)){var De=0|T(oe.length),$e=I(De);return 0===$e.length||oe.copy($e,0,0,De),$e}return void 0!==oe.length?"number"!=typeof oe.length||Ae(oe.length)?I(0):h(oe):"Buffer"===oe.type&&Array.isArray(oe.data)?h(oe.data):void 0}(E);if(ae)return ae;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof E[Symbol.toPrimitive])return A.from(E[Symbol.toPrimitive]("string"),g,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}function w(E){if("number"!=typeof E)throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function D(E){return w(E),I(E<0?0:0|T(E))}function h(E){for(var g=E.length<0?0:0|T(E.length),M=I(g),O=0;O<g;O+=1)M[O]=255&E[O];return M}function y(E,g,M){if(g<0||E.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<g+(M||0))throw new RangeError('"length" is outside of buffer bounds');var O;return O=void 0===g&&void 0===M?new Uint8Array(E):void 0===M?new Uint8Array(E,g):new Uint8Array(E,g,M),Object.setPrototypeOf(O,A.prototype),O}function T(E){if(E>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|E}function j(E,g){if(A.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||pe(E,ArrayBuffer))return E.byteLength;if("string"!=typeof E)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);var M=E.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===M)return 0;for(var ae=!1;;)switch(g){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return It(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Je(E).length;default:if(ae)return O?-1:It(E).length;g=(""+g).toLowerCase(),ae=!0}}function X(E,g,M){var O=!1;if((void 0===g||g<0)&&(g=0),g>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(g>>>=0))return"";for(E||(E="utf8");;)switch(E){case"hex":return Ve(this,g,M);case"utf8":case"utf-8":return gt(this,g,M);case"ascii":return Ge(this,g,M);case"latin1":case"binary":return ut(this,g,M);case"base64":return Oe(this,g,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ke(this,g,M);default:if(O)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),O=!0}}function Y(E,g,M){var O=E[g];E[g]=E[M],E[M]=O}function $(E,g,M,O,ae){if(0===E.length)return-1;if("string"==typeof M?(O=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Ae(M=+M)&&(M=ae?0:E.length-1),M<0&&(M=E.length+M),M>=E.length){if(ae)return-1;M=E.length-1}else if(M<0){if(!ae)return-1;M=0}if("string"==typeof g&&(g=A.from(g,O)),A.isBuffer(g))return 0===g.length?-1:he(E,g,M,O,ae);if("number"==typeof g)return g&=255,"function"==typeof Uint8Array.prototype.indexOf?ae?Uint8Array.prototype.indexOf.call(E,g,M):Uint8Array.prototype.lastIndexOf.call(E,g,M):he(E,[g],M,O,ae);throw new TypeError("val must be string, number or Buffer")}function he(E,g,M,O,ae){var oe,De=1,$e=E.length,Ye=g.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(E.length<2||g.length<2)return-1;De=2,$e/=2,Ye/=2,M/=2}function Fe(tt,He){return 1===De?tt[He]:tt.readUInt16BE(He*De)}if(ae){var qe=-1;for(oe=M;oe<$e;oe++)if(Fe(E,oe)===Fe(g,-1===qe?0:oe-qe)){if(-1===qe&&(qe=oe),oe-qe+1===Ye)return qe*De}else-1!==qe&&(oe-=oe-qe),qe=-1}else for(M+Ye>$e&&(M=$e-Ye),oe=M;oe>=0;oe--){for(var ft=!0,Se=0;Se<Ye;Se++)if(Fe(E,oe+Se)!==Fe(g,Se)){ft=!1;break}if(ft)return oe}return-1}function z(E,g,M,O){M=Number(M)||0;var ae=E.length-M;O?(O=Number(O))>ae&&(O=ae):O=ae;var oe=g.length;O>oe/2&&(O=oe/2);for(var De=0;De<O;++De){var $e=parseInt(g.substr(2*De,2),16);if(Ae($e))return De;E[M+De]=$e}return De}function k(E,g,M,O){return bt(It(g,E.length-M),E,M,O)}function K(E,g,M,O){return bt(function(ae){for(var oe=[],De=0;De<ae.length;++De)oe.push(255&ae.charCodeAt(De));return oe}(g),E,M,O)}function ue(E,g,M,O){return bt(Je(g),E,M,O)}function de(E,g,M,O){return bt(function(ae,oe){for(var De,$e,Fe=[],qe=0;qe<ae.length&&!((oe-=2)<0);++qe)$e=(De=ae.charCodeAt(qe))>>8,Fe.push(De%256),Fe.push($e);return Fe}(g,E.length-M),E,M,O)}function Oe(E,g,M){return ye.fromByteArray(0===g&&M===E.length?E:E.slice(g,M))}function gt(E,g,M){M=Math.min(E.length,M);for(var O=[],ae=g;ae<M;){var oe,De,$e,Ye,Fe=E[ae],qe=null,ft=Fe>239?4:Fe>223?3:Fe>191?2:1;if(ae+ft<=M)switch(ft){case 1:Fe<128&&(qe=Fe);break;case 2:128==(192&(oe=E[ae+1]))&&(Ye=(31&Fe)<<6|63&oe)>127&&(qe=Ye);break;case 3:De=E[ae+2],128==(192&(oe=E[ae+1]))&&128==(192&De)&&(Ye=(15&Fe)<<12|(63&oe)<<6|63&De)>2047&&(Ye<55296||Ye>57343)&&(qe=Ye);break;case 4:De=E[ae+2],$e=E[ae+3],128==(192&(oe=E[ae+1]))&&128==(192&De)&&128==(192&$e)&&(Ye=(15&Fe)<<18|(63&oe)<<12|(63&De)<<6|63&$e)>65535&&Ye<1114112&&(qe=Ye)}null===qe?(qe=65533,ft=1):qe>65535&&(O.push((qe-=65536)>>>10&1023|55296),qe=56320|1023&qe),O.push(qe),ae+=ft}return function(Se){var tt=Se.length;if(tt<=ve)return String.fromCharCode.apply(String,Se);for(var He="",Tt=0;Tt<tt;)He+=String.fromCharCode.apply(String,Se.slice(Tt,Tt+=ve));return He}(O)}Ze.kMaxLength=d,(A.TYPED_ARRAY_SUPPORT=function(){try{var E=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(E,g),42===E.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(E,g,M){return v(E,g,M)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(E,g,M){return ae=g,oe=M,w(O=E),O<=0?I(O):void 0!==ae?"string"==typeof oe?I(O).fill(ae,oe):I(O).fill(ae):I(O);var O,ae,oe},A.allocUnsafe=function(E){return D(E)},A.allocUnsafeSlow=function(E){return D(E)},A.isBuffer=function(E){return null!=E&&!0===E._isBuffer&&E!==A.prototype},A.compare=function(E,g){if(pe(E,Uint8Array)&&(E=A.from(E,E.offset,E.byteLength)),pe(g,Uint8Array)&&(g=A.from(g,g.offset,g.byteLength)),!A.isBuffer(E)||!A.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===g)return 0;for(var M=E.length,O=g.length,ae=0,oe=Math.min(M,O);ae<oe;++ae)if(E[ae]!==g[ae]){M=E[ae],O=g[ae];break}return M<O?-1:O<M?1:0},A.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(E,g){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(0===E.length)return A.alloc(0);var M;if(void 0===g)for(g=0,M=0;M<E.length;++M)g+=E[M].length;var O=A.allocUnsafe(g),ae=0;for(M=0;M<E.length;++M){var oe=E[M];if(pe(oe,Uint8Array))ae+oe.length>O.length?A.from(oe).copy(O,ae):Uint8Array.prototype.set.call(O,oe,ae);else{if(!A.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(O,ae)}ae+=oe.length}return O},A.byteLength=j,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<E;g+=2)Y(this,g,g+1);return this},A.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<E;g+=4)Y(this,g,g+3),Y(this,g+1,g+2);return this},A.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<E;g+=8)Y(this,g,g+7),Y(this,g+1,g+6),Y(this,g+2,g+5),Y(this,g+3,g+4);return this},A.prototype.toString=function(){var E=this.length;return 0===E?"":0===arguments.length?gt(this,0,E):X.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(E){if(!A.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||0===A.compare(this,E)},A.prototype.inspect=function(){var E="",g=Ze.INSPECT_MAX_BYTES;return E=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(E+=" ... "),"<Buffer "+E+">"},f&&(A.prototype[f]=A.prototype.inspect),A.prototype.compare=function(E,g,M,O,ae){if(pe(E,Uint8Array)&&(E=A.from(E,E.offset,E.byteLength)),!A.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(void 0===g&&(g=0),void 0===M&&(M=E?E.length:0),void 0===O&&(O=0),void 0===ae&&(ae=this.length),g<0||M>E.length||O<0||ae>this.length)throw new RangeError("out of range index");if(O>=ae&&g>=M)return 0;if(O>=ae)return-1;if(g>=M)return 1;if(this===E)return 0;for(var oe=(ae>>>=0)-(O>>>=0),De=(M>>>=0)-(g>>>=0),$e=Math.min(oe,De),Ye=this.slice(O,ae),Fe=E.slice(g,M),qe=0;qe<$e;++qe)if(Ye[qe]!==Fe[qe]){oe=Ye[qe],De=Fe[qe];break}return oe<De?-1:De<oe?1:0},A.prototype.includes=function(E,g,M){return-1!==this.indexOf(E,g,M)},A.prototype.indexOf=function(E,g,M){return $(this,E,g,M,!0)},A.prototype.lastIndexOf=function(E,g,M){return $(this,E,g,M,!1)},A.prototype.write=function(E,g,M,O){if(void 0===g)O="utf8",M=this.length,g=0;else if(void 0===M&&"string"==typeof g)O=g,M=this.length,g=0;else{if(!isFinite(g))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");g>>>=0,isFinite(M)?(M>>>=0,void 0===O&&(O="utf8")):(O=M,M=void 0)}var ae=this.length-g;if((void 0===M||M>ae)&&(M=ae),E.length>0&&(M<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(var oe=!1;;)switch(O){case"hex":return z(this,E,g,M);case"utf8":case"utf-8":return k(this,E,g,M);case"ascii":case"latin1":case"binary":return K(this,E,g,M);case"base64":return ue(this,E,g,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,E,g,M);default:if(oe)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),oe=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ve=4096;function Ge(E,g,M){var O="";M=Math.min(E.length,M);for(var ae=g;ae<M;++ae)O+=String.fromCharCode(127&E[ae]);return O}function ut(E,g,M){var O="";M=Math.min(E.length,M);for(var ae=g;ae<M;++ae)O+=String.fromCharCode(E[ae]);return O}function Ve(E,g,M){var O=E.length;(!g||g<0)&&(g=0),(!M||M<0||M>O)&&(M=O);for(var ae="",oe=g;oe<M;++oe)ae+=lt[E[oe]];return ae}function ke(E,g,M){for(var O=E.slice(g,M),ae="",oe=0;oe<O.length-1;oe+=2)ae+=String.fromCharCode(O[oe]+256*O[oe+1]);return ae}function ot(E,g,M){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+g>M)throw new RangeError("Trying to access beyond buffer length")}function Qe(E,g,M,O,ae,oe){if(!A.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>ae||g<oe)throw new RangeError('"value" argument is out of bounds');if(M+O>E.length)throw new RangeError("Index out of range")}function Rt(E,g,M,O,ae,oe){if(M+O>E.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function xe(E,g,M,O,ae){return g=+g,M>>>=0,ae||Rt(E,0,M,4),N.write(E,g,M,O,23,4),M+4}function et(E,g,M,O,ae){return g=+g,M>>>=0,ae||Rt(E,0,M,8),N.write(E,g,M,O,52,8),M+8}A.prototype.slice=function(E,g){var M=this.length;(E=~~E)<0?(E+=M)<0&&(E=0):E>M&&(E=M),(g=void 0===g?M:~~g)<0?(g+=M)<0&&(g=0):g>M&&(g=M),g<E&&(g=E);var O=this.subarray(E,g);return Object.setPrototypeOf(O,A.prototype),O},A.prototype.readUintLE=A.prototype.readUIntLE=function(E,g,M){E>>>=0,g>>>=0,M||ot(E,g,this.length);for(var O=this[E],ae=1,oe=0;++oe<g&&(ae*=256);)O+=this[E+oe]*ae;return O},A.prototype.readUintBE=A.prototype.readUIntBE=function(E,g,M){E>>>=0,g>>>=0,M||ot(E,g,this.length);for(var O=this[E+--g],ae=1;g>0&&(ae*=256);)O+=this[E+--g]*ae;return O},A.prototype.readUint8=A.prototype.readUInt8=function(E,g){return E>>>=0,g||ot(E,1,this.length),this[E]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(E,g){return E>>>=0,g||ot(E,2,this.length),this[E]|this[E+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(E,g){return E>>>=0,g||ot(E,2,this.length),this[E]<<8|this[E+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(E,g){return E>>>=0,g||ot(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(E,g){return E>>>=0,g||ot(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},A.prototype.readIntLE=function(E,g,M){E>>>=0,g>>>=0,M||ot(E,g,this.length);for(var O=this[E],ae=1,oe=0;++oe<g&&(ae*=256);)O+=this[E+oe]*ae;return O>=(ae*=128)&&(O-=Math.pow(2,8*g)),O},A.prototype.readIntBE=function(E,g,M){E>>>=0,g>>>=0,M||ot(E,g,this.length);for(var O=g,ae=1,oe=this[E+--O];O>0&&(ae*=256);)oe+=this[E+--O]*ae;return oe>=(ae*=128)&&(oe-=Math.pow(2,8*g)),oe},A.prototype.readInt8=function(E,g){return E>>>=0,g||ot(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},A.prototype.readInt16LE=function(E,g){E>>>=0,g||ot(E,2,this.length);var M=this[E]|this[E+1]<<8;return 32768&M?4294901760|M:M},A.prototype.readInt16BE=function(E,g){E>>>=0,g||ot(E,2,this.length);var M=this[E+1]|this[E]<<8;return 32768&M?4294901760|M:M},A.prototype.readInt32LE=function(E,g){return E>>>=0,g||ot(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},A.prototype.readInt32BE=function(E,g){return E>>>=0,g||ot(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},A.prototype.readFloatLE=function(E,g){return E>>>=0,g||ot(E,4,this.length),N.read(this,E,!0,23,4)},A.prototype.readFloatBE=function(E,g){return E>>>=0,g||ot(E,4,this.length),N.read(this,E,!1,23,4)},A.prototype.readDoubleLE=function(E,g){return E>>>=0,g||ot(E,8,this.length),N.read(this,E,!0,52,8)},A.prototype.readDoubleBE=function(E,g){return E>>>=0,g||ot(E,8,this.length),N.read(this,E,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(E,g,M,O){E=+E,g>>>=0,M>>>=0,O||Qe(this,E,g,M,Math.pow(2,8*M)-1,0);var ae=1,oe=0;for(this[g]=255&E;++oe<M&&(ae*=256);)this[g+oe]=E/ae&255;return g+M},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(E,g,M,O){E=+E,g>>>=0,M>>>=0,O||Qe(this,E,g,M,Math.pow(2,8*M)-1,0);var ae=M-1,oe=1;for(this[g+ae]=255&E;--ae>=0&&(oe*=256);)this[g+ae]=E/oe&255;return g+M},A.prototype.writeUint8=A.prototype.writeUInt8=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,1,255,0),this[g]=255&E,g+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,2,65535,0),this[g]=255&E,this[g+1]=E>>>8,g+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,2,65535,0),this[g]=E>>>8,this[g+1]=255&E,g+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,4,4294967295,0),this[g+3]=E>>>24,this[g+2]=E>>>16,this[g+1]=E>>>8,this[g]=255&E,g+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,4,4294967295,0),this[g]=E>>>24,this[g+1]=E>>>16,this[g+2]=E>>>8,this[g+3]=255&E,g+4},A.prototype.writeIntLE=function(E,g,M,O){if(E=+E,g>>>=0,!O){var ae=Math.pow(2,8*M-1);Qe(this,E,g,M,ae-1,-ae)}var oe=0,De=1,$e=0;for(this[g]=255&E;++oe<M&&(De*=256);)E<0&&0===$e&&0!==this[g+oe-1]&&($e=1),this[g+oe]=(E/De>>0)-$e&255;return g+M},A.prototype.writeIntBE=function(E,g,M,O){if(E=+E,g>>>=0,!O){var ae=Math.pow(2,8*M-1);Qe(this,E,g,M,ae-1,-ae)}var oe=M-1,De=1,$e=0;for(this[g+oe]=255&E;--oe>=0&&(De*=256);)E<0&&0===$e&&0!==this[g+oe+1]&&($e=1),this[g+oe]=(E/De>>0)-$e&255;return g+M},A.prototype.writeInt8=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,1,127,-128),E<0&&(E=255+E+1),this[g]=255&E,g+1},A.prototype.writeInt16LE=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,2,32767,-32768),this[g]=255&E,this[g+1]=E>>>8,g+2},A.prototype.writeInt16BE=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,2,32767,-32768),this[g]=E>>>8,this[g+1]=255&E,g+2},A.prototype.writeInt32LE=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,4,2147483647,-2147483648),this[g]=255&E,this[g+1]=E>>>8,this[g+2]=E>>>16,this[g+3]=E>>>24,g+4},A.prototype.writeInt32BE=function(E,g,M){return E=+E,g>>>=0,M||Qe(this,E,g,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[g]=E>>>24,this[g+1]=E>>>16,this[g+2]=E>>>8,this[g+3]=255&E,g+4},A.prototype.writeFloatLE=function(E,g,M){return xe(this,E,g,!0,M)},A.prototype.writeFloatBE=function(E,g,M){return xe(this,E,g,!1,M)},A.prototype.writeDoubleLE=function(E,g,M){return et(this,E,g,!0,M)},A.prototype.writeDoubleBE=function(E,g,M){return et(this,E,g,!1,M)},A.prototype.copy=function(E,g,M,O){if(!A.isBuffer(E))throw new TypeError("argument should be a Buffer");if(M||(M=0),O||0===O||(O=this.length),g>=E.length&&(g=E.length),g||(g=0),O>0&&O<M&&(O=M),O===M||0===E.length||0===this.length)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),E.length-g<O-M&&(O=E.length-g+M);var ae=O-M;return this===E&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(g,M,O):Uint8Array.prototype.set.call(E,this.subarray(M,O),g),ae},A.prototype.fill=function(E,g,M,O){if("string"==typeof E){if("string"==typeof g?(O=g,g=0,M=this.length):"string"==typeof M&&(O=M,M=this.length),void 0!==O&&"string"!=typeof O)throw new TypeError("encoding must be a string");if("string"==typeof O&&!A.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(1===E.length){var ae=E.charCodeAt(0);("utf8"===O&&ae<128||"latin1"===O)&&(E=ae)}}else"number"==typeof E?E&=255:"boolean"==typeof E&&(E=Number(E));if(g<0||this.length<g||this.length<M)throw new RangeError("Out of range index");if(M<=g)return this;var oe;if(g>>>=0,M=void 0===M?this.length:M>>>0,E||(E=0),"number"==typeof E)for(oe=g;oe<M;++oe)this[oe]=E;else{var De=A.isBuffer(E)?E:A.from(E,O),$e=De.length;if(0===$e)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(oe=0;oe<M-g;++oe)this[oe+g]=De[oe%$e]}return this};var jt=/[^+/0-9A-Za-z-_]/g;function It(E,g){var M;g=g||1/0;for(var O=E.length,ae=null,oe=[],De=0;De<O;++De){if((M=E.charCodeAt(De))>55295&&M<57344){if(!ae){if(M>56319){(g-=3)>-1&&oe.push(239,191,189);continue}if(De+1===O){(g-=3)>-1&&oe.push(239,191,189);continue}ae=M;continue}if(M<56320){(g-=3)>-1&&oe.push(239,191,189),ae=M;continue}M=65536+(ae-55296<<10|M-56320)}else ae&&(g-=3)>-1&&oe.push(239,191,189);if(ae=null,M<128){if((g-=1)<0)break;oe.push(M)}else if(M<2048){if((g-=2)<0)break;oe.push(M>>6|192,63&M|128)}else if(M<65536){if((g-=3)<0)break;oe.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((g-=4)<0)break;oe.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return oe}function Je(E){return ye.toByteArray(function(g){if((g=(g=g.split("=")[0]).trim().replace(jt,"")).length<2)return"";for(;g.length%4!=0;)g+="=";return g}(E))}function bt(E,g,M,O){for(var ae=0;ae<O&&!(ae+M>=g.length||ae>=E.length);++ae)g[ae+M]=E[ae];return ae}function pe(E,g){return E instanceof g||null!=E&&null!=E.constructor&&null!=E.constructor.name&&E.constructor.name===g.name}function Ae(E){return E!=E}var lt=function(){for(var E="0123456789abcdef",g=new Array(256),M=0;M<16;++M)for(var O=16*M,ae=0;ae<16;++ae)g[O+ae]=E[M]+E[ae];return g}()},6693:function(Et,Ze){"use strict";Ze.byteLength=function(w){var D=A(w),y=D[1];return 3*(D[0]+y)/4-y},Ze.toByteArray=function(w){var D,h,k,y=A(w),T=y[0],j=y[1],X=new N(3*(T+(k=j))/4-k),Y=0,$=j>0?T-4:T;for(h=0;h<$;h+=4)D=ye[w.charCodeAt(h)]<<18|ye[w.charCodeAt(h+1)]<<12|ye[w.charCodeAt(h+2)]<<6|ye[w.charCodeAt(h+3)],X[Y++]=D>>16&255,X[Y++]=D>>8&255,X[Y++]=255&D;return 2===j&&(D=ye[w.charCodeAt(h)]<<2|ye[w.charCodeAt(h+1)]>>4,X[Y++]=255&D),1===j&&(D=ye[w.charCodeAt(h)]<<10|ye[w.charCodeAt(h+1)]<<4|ye[w.charCodeAt(h+2)]>>2,X[Y++]=D>>8&255,X[Y++]=255&D),X},Ze.fromByteArray=function(w){for(var D,h=w.length,y=h%3,T=[],j=16383,X=0,Y=h-y;X<Y;X+=j)T.push(v(w,X,X+j>Y?Y:X+j));return 1===y?T.push(H[(D=w[h-1])>>2]+H[D<<4&63]+"=="):2===y&&T.push(H[(D=(w[h-2]<<8)+w[h-1])>>10]+H[D>>4&63]+H[D<<2&63]+"="),T.join("")};for(var H=[],ye=[],N=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0;d<64;++d)H[d]=f[d],ye[f.charCodeAt(d)]=d;function A(w){var D=w.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=w.indexOf("=");return-1===h&&(h=D),[h,h===D?0:4-h%4]}function v(w,D,h){for(var T,j=[],X=D;X<h;X+=3)j.push(H[(T=(w[X]<<16&16711680)+(w[X+1]<<8&65280)+(255&w[X+2]))>>18&63]+H[T>>12&63]+H[T>>6&63]+H[63&T]);return j.join("")}ye["-".charCodeAt(0)]=62,ye["_".charCodeAt(0)]=63},2165:function(Et,Ze){Ze.read=function(H,ye,N,f,d){var I,A,v=8*d-f-1,w=(1<<v)-1,D=w>>1,h=-7,y=N?d-1:0,T=N?-1:1,j=H[ye+y];for(y+=T,I=j&(1<<-h)-1,j>>=-h,h+=v;h>0;I=256*I+H[ye+y],y+=T,h-=8);for(A=I&(1<<-h)-1,I>>=-h,h+=f;h>0;A=256*A+H[ye+y],y+=T,h-=8);if(0===I)I=1-D;else{if(I===w)return A?NaN:1/0*(j?-1:1);A+=Math.pow(2,f),I-=D}return(j?-1:1)*A*Math.pow(2,I-f)},Ze.write=function(H,ye,N,f,d,I){var A,v,w,D=8*I-d-1,h=(1<<D)-1,y=h>>1,T=23===d?Math.pow(2,-24)-Math.pow(2,-77):0,j=f?0:I-1,X=f?1:-1,Y=ye<0||0===ye&&1/ye<0?1:0;for(ye=Math.abs(ye),isNaN(ye)||ye===1/0?(v=isNaN(ye)?1:0,A=h):(A=Math.floor(Math.log(ye)/Math.LN2),ye*(w=Math.pow(2,-A))<1&&(A--,w*=2),(ye+=A+y>=1?T/w:T*Math.pow(2,1-y))*w>=2&&(A++,w/=2),A+y>=h?(v=0,A=h):A+y>=1?(v=(ye*w-1)*Math.pow(2,d),A+=y):(v=ye*Math.pow(2,y-1)*Math.pow(2,d),A=0));d>=8;H[N+j]=255&v,j+=X,v/=256,d-=8);for(A=A<<d|v,D+=d;D>0;H[N+j]=255&A,j+=X,A/=256,D-=8);H[N+j-X]|=128*Y}},6934:function(Et,Ze){var H={parseBuffer:function(f){return new ye(f).parse()},addBoxProcessor:function(f,d){"string"==typeof f&&"function"==typeof d&&(N.prototype._boxProcessors[f]=d)},createFile:function(){return new ye},createBox:function(f,d,I){var A=N.create(f);return d&&d.append(A,I),A},createFullBox:function(f,d,I){var A=H.createBox(f,d,I);return A.version=0,A.flags=0,A},Utils:{}};H.Utils.dataViewToString=function(f,d){var I=d||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(I).decode(f);var A=[],v=0;if("utf-8"===I)for(;v<f.byteLength;){var w=f.getUint8(v++);w<128||(w<224?(w=(31&w)<<6,w|=63&f.getUint8(v++)):w<240?(w=(15&w)<<12,w|=(63&f.getUint8(v++))<<6,w|=63&f.getUint8(v++)):(w=(7&w)<<18,w|=(63&f.getUint8(v++))<<12,w|=(63&f.getUint8(v++))<<6,w|=63&f.getUint8(v++))),A.push(String.fromCharCode(w))}else for(;v<f.byteLength;)A.push(String.fromCharCode(f.getUint8(v++)));return A.join("")},H.Utils.utf8ToByteArray=function(f){var d,I;if(typeof TextEncoder<"u")d=(new TextEncoder).encode(f);else for(d=[],I=0;I<f.length;++I){var A=f.charCodeAt(I);A<128?d.push(A):A<2048?(d.push(192|A>>6),d.push(128|63&A)):A<65536?(d.push(224|A>>12),d.push(128|63&A>>6),d.push(128|63&A)):(d.push(240|A>>18),d.push(128|63&A>>12),d.push(128|63&A>>6),d.push(128|63&A))}return d},H.Utils.appendBox=function(f,d,I){if(d._offset=f._cursor.offset,d._root=f._root?f._root:f,d._raw=f._raw,d._parent=f,-1!==I)if(null!=I){var A,v=-1;if("number"==typeof I)v=I;else{if("string"==typeof I)A=I;else{if("object"!=typeof I||!I.type)return void f.boxes.push(d);A=I.type}for(var w=0;w<f.boxes.length;w++)if(A===f.boxes[w].type){v=w+1;break}}f.boxes.splice(v,0,d)}else f.boxes.push(d)},Ze.parseBuffer=H.parseBuffer,Ze.addBoxProcessor=H.addBoxProcessor,Ze.createFile=H.createFile,Ze.createBox=H.createBox,Ze.createFullBox=H.createFullBox,Ze.Utils=H.Utils,H.Cursor=function(f){this.offset=void 0===f?0:f};var ye=function(f){this._cursor=new H.Cursor,this.boxes=[],f&&(this._raw=new DataView(f))};ye.prototype.fetch=function(f){var d=this.fetchAll(f,!0);return d.length?d[0]:null},ye.prototype.fetchAll=function(f,d){var I=[];return ye._sweep.call(this,f,I,d),I},ye.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var f=N.parse(this);if(void 0===f.type)break;this.boxes.push(f)}return this},ye._sweep=function(f,d,I){for(var A in this.type&&this.type==f&&d.push(this),this.boxes){if(d.length&&I)return;ye._sweep.call(this.boxes[A],f,d,I)}},ye.prototype.write=function(){var f,d=0;for(f=0;f<this.boxes.length;f++)d+=this.boxes[f].getLength(!1);var I=new Uint8Array(d);for(this._rawo=new DataView(I.buffer),this.bytes=I,this._cursor.offset=0,f=0;f<this.boxes.length;f++)this.boxes[f].write();return I.buffer},ye.prototype.append=function(f,d){H.Utils.appendBox(this,f,d)};var N=function(){this._cursor=new H.Cursor};N.parse=function(f){var d=new N;return d._offset=f._cursor.offset,d._root=f._root?f._root:f,d._raw=f._raw,d._parent=f,d._parseBox(),f._cursor.offset=d._raw.byteOffset+d._raw.byteLength,d},N.create=function(f){var d=new N;return d.type=f,d.boxes=[],d},N.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],N.prototype._boxProcessors={},N.prototype._procField=function(f,d,I){this._parsing?this[f]=this._readField(d,I):this._writeField(d,I,this[f])},N.prototype._procFieldArray=function(f,d,I,A){var v;if(this._parsing)for(this[f]=[],v=0;v<d;v++)this[f][v]=this._readField(I,A);else for(v=0;v<this[f].length;v++)this._writeField(I,A,this[f][v])},N.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},N.prototype._procEntries=function(f,d,I){var A;if(this._parsing)for(this[f]=[],A=0;A<d;A++)this[f].push({}),I.call(this,this[f][A]);else for(A=0;A<d;A++)I.call(this,this[f][A])},N.prototype._procSubEntries=function(f,d,I,A){var v;if(this._parsing)for(f[d]=[],v=0;v<I;v++)f[d].push({}),A.call(this,f[d][v]);else for(v=0;v<I;v++)A.call(this,f[d][v])},N.prototype._procEntryField=function(f,d,I,A){this._parsing?f[d]=this._readField(I,A):this._writeField(I,A,f[d])},N.prototype._procSubBoxes=function(f,d){var I;if(this._parsing)for(this[f]=[],I=0;I<d;I++)this[f].push(N.parse(this));else for(I=0;I<d;I++)this._rawo?this[f][I].write():this.size+=this[f][I].getLength()},N.prototype._readField=function(f,d){switch(f){case"uint":return this._readUint(d);case"int":return this._readInt(d);case"template":return this._readTemplate(d);case"string":return-1===d?this._readTerminatedString():this._readString(d);case"data":return this._readData(d);case"utf8":return this._readUTF8String();default:return-1}},N.prototype._readInt=function(f){var d=null,I=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:d=this._raw.getInt8(I);break;case 16:d=this._raw.getInt16(I);break;case 32:d=this._raw.getInt32(I);break;case 64:var A=this._raw.getInt32(I),v=this._raw.getInt32(I+4);d=A*Math.pow(2,32)+v}return this._cursor.offset+=f>>3,d},N.prototype._readUint=function(f){var d,I,A=null,v=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:A=this._raw.getUint8(v);break;case 16:A=this._raw.getUint16(v);break;case 24:A=((d=this._raw.getUint16(v))<<8)+(I=this._raw.getUint8(v+2));break;case 32:A=this._raw.getUint32(v);break;case 64:d=this._raw.getUint32(v),I=this._raw.getUint32(v+4),A=d*Math.pow(2,32)+I}return this._cursor.offset+=f>>3,A},N.prototype._readString=function(f){for(var d="",I=0;I<f;I++){var A=this._readUint(8);d+=String.fromCharCode(A)}return d},N.prototype._readTemplate=function(f){return this._readUint(f/2)+this._readUint(f/2)/Math.pow(2,f/2)},N.prototype._readTerminatedString=function(){for(var f="";this._cursor.offset-this._offset<this._raw.byteLength;){var d=this._readUint(8);if(0===d)break;f+=String.fromCharCode(d)}return f},N.prototype._readData=function(f){var d=f>0?f:this._raw.byteLength-(this._cursor.offset-this._offset);if(d>0){var I=new Uint8Array(this._raw.buffer,this._cursor.offset,d);return this._cursor.offset+=d,I}return null},N.prototype._readUTF8String=function(){var f=this._raw.byteLength-(this._cursor.offset-this._offset),d=null;return f>0&&(d=new DataView(this._raw.buffer,this._cursor.offset,f),this._cursor.offset+=f),d&&H.Utils.dataViewToString(d)},N.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},N.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},N.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(N.parse(this))},N.prototype.append=function(f,d){H.Utils.appendBox(this,f,d)},N.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var f=0;f<this.boxes.length;f++)this.size+=this.boxes[f].getLength();return this._data&&this._writeData(this._data),this.size},N.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var f=0;f<this.boxes.length;f++)this.boxes[f].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},N.prototype._writeInt=function(f,d){if(this._rawo){var I=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setInt8(I,d);break;case 16:this._rawo.setInt16(I,d);break;case 32:this._rawo.setInt32(I,d);break;case 64:var A=Math.floor(d/Math.pow(2,32)),v=d-A*Math.pow(2,32);this._rawo.setUint32(I,A),this._rawo.setUint32(I+4,v)}this._cursor.offset+=f>>3}else this.size+=f>>3},N.prototype._writeUint=function(f,d){if(this._rawo){var I,A,v=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setUint8(v,d);break;case 16:this._rawo.setUint16(v,d);break;case 24:A=255&d,this._rawo.setUint16(v,I=(16776960&d)>>8),this._rawo.setUint8(v+2,A);break;case 32:this._rawo.setUint32(v,d);break;case 64:A=d-(I=Math.floor(d/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(v,I),this._rawo.setUint32(v+4,A)}this._cursor.offset+=f>>3}else this.size+=f>>3},N.prototype._writeString=function(f,d){for(var I=0;I<f;I++)this._writeUint(8,d.charCodeAt(I))},N.prototype._writeTerminatedString=function(f){if(0!==f.length){for(var d=0;d<f.length;d++)this._writeUint(8,f.charCodeAt(d));this._writeUint(8,0)}},N.prototype._writeTemplate=function(f,d){var I=Math.floor(d),A=(d-I)*Math.pow(2,f/2);this._writeUint(f/2,I),this._writeUint(f/2,A)},N.prototype._writeData=function(f){if(f)if(this._rawo){if(f instanceof Array){for(var d=this._cursor.offset-this._rawo.byteOffset,I=0;I<f.length;I++)this._rawo.setInt8(d+I,f[I]);this._cursor.offset+=f.length}f instanceof Uint8Array&&(this._root.bytes.set(f,this._cursor.offset),this._cursor.offset+=f.length)}else this.size+=f.length},N.prototype._writeUTF8String=function(f){var d=H.Utils.utf8ToByteArray(f);if(this._rawo)for(var I=new DataView(this._rawo.buffer,this._cursor.offset,d.length),A=0;A<d.length;A++)I.setUint8(A,d[A]);else this.size+=d.length},N.prototype._writeField=function(f,d,I){switch(f){case"uint":this._writeUint(d,I);break;case"int":this._writeInt(d,I);break;case"template":this._writeTemplate(d,I);break;case"string":-1==d?this._writeTerminatedString(I):this._writeString(d,I);break;case"data":this._writeData(I);break;case"utf8":this._writeUTF8String(I)}},N.prototype._boxProcessors.avc1=N.prototype._boxProcessors.avc2=N.prototype._boxProcessors.avc3=N.prototype._boxProcessors.avc4=N.prototype._boxProcessors.hvc1=N.prototype._boxProcessors.hev1=N.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},N.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_count","uint",32),this._procEntryField(f,"sample_offset",1===this.version?"int":"uint",32)})},N.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},N.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"segment_duration","uint",1===this.version?64:32),this._procEntryField(f,"media_time","int",1===this.version?64:32),this._procEntryField(f,"media_rate_integer","int",16),this._procEntryField(f,"media_rate_fraction","int",16)})},N.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},N.prototype._boxProcessors.free=N.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},N.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},N.prototype._boxProcessors.ftyp=N.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var f=-1;this._parsing&&(f=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",f,"string",4)},N.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},N.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},N.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},N.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},N.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},N.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},N.prototype._boxProcessors.mp4a=N.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},N.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},N.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},N.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},N.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},N.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},N.prototype._boxProcessors.sdtp=function(){this._procFullBox();var f=-1;this._parsing&&(f=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",f,"uint",8)},N.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(f){this._parsing||(f.reference=(1&f.reference_type)<<31,f.reference|=2147483647&f.referenced_size,f.sap=(1&f.starts_with_SAP)<<31,f.sap|=(3&f.SAP_type)<<28,f.sap|=268435455&f.SAP_delta_time),this._procEntryField(f,"reference","uint",32),this._procEntryField(f,"subsegment_duration","uint",32),this._procEntryField(f,"sap","uint",32),this._parsing&&(f.reference_type=f.reference>>31&1,f.referenced_size=2147483647&f.reference,f.starts_with_SAP=f.sap>>31&1,f.SAP_type=f.sap>>28&7,f.SAP_delta_time=268435455&f.sap)})},N.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},N.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(f){this._procEntryField(f,"ranges_count","uint",32),this._procSubEntries(f,"ranges",f.ranges_count,function(d){this._procEntryField(d,"level","uint",8),this._procEntryField(d,"range_size","uint",24)})})},N.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},N.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},N.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_count","uint",32),this._procEntryField(f,"sample_delta","uint",32)})},N.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_delta","uint",32),this._procEntryField(f,"subsample_count","uint",16),this._procSubEntries(f,"subsamples",f.subsample_count,function(d){this._procEntryField(d,"subsample_size","uint",1===this.version?32:16),this._procEntryField(d,"subsample_priority","uint",8),this._procEntryField(d,"discardable","uint",8),this._procEntryField(d,"codec_specific_parameters","uint",32)})})},N.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},N.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},N.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},N.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(f){this._procEntryField(f,"time","uint",1===this.version?64:32),this._procEntryField(f,"moof_offset","uint",1===this.version?64:32),this._procEntryField(f,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(f,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(f,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},N.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},N.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},N.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(f){256&this.flags&&this._procEntryField(f,"sample_duration","uint",32),512&this.flags&&this._procEntryField(f,"sample_size","uint",32),1024&this.flags&&this._procEntryField(f,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(f,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},N.prototype._boxProcessors["url "]=N.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},N.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},N.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},N.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},N.prototype._boxProcessors.vtte=function(){}},5530:function(Et,Ze,H){"use strict";Et.exports=H(6146).polyfill()},6146:function(Et,Ze,H){Et.exports=function(){"use strict";function ye(Je){return"function"==typeof Je}var N=Array.isArray?Array.isArray:function(Je){return"[object Array]"===Object.prototype.toString.call(Je)},f=0,d=void 0,I=void 0,A=function(Je,bt){j[f]=Je,j[f+1]=bt,2===(f+=2)&&(I?I(X):k())},v=typeof window<"u"?window:void 0,w=v||{},D=w.MutationObserver||w.WebKitMutationObserver,h=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),y=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){var Je=setTimeout;return function(){return Je(X,1)}}var j=new Array(1e3);function X(){for(var Je=0;Je<f;Je+=2)(0,j[Je])(j[Je+1]),j[Je]=void 0,j[Je+1]=void 0;f=0}var Y,$,he,z,k=void 0;function K(Je,bt){var pe=this,Ae=new this.constructor(Oe);void 0===Ae[de]&&et(Ae);var lt=pe._state;if(lt){var E=arguments[lt-1];A(function(){return Rt(lt,Ae,E,pe._result)})}else ot(pe,Ae,Je,bt);return Ae}function ue(Je){if(Je&&"object"==typeof Je&&Je.constructor===this)return Je;var bt=new this(Oe);return Ge(bt,Je),bt}k=h?function(){return process.nextTick(X)}:D?($=0,he=new D(X),z=document.createTextNode(""),he.observe(z,{characterData:!0}),function(){z.data=$=++$%2}):y?((Y=new MessageChannel).port1.onmessage=X,function(){return Y.port2.postMessage(0)}):void 0===v?function(){try{var Je=Function("return this")().require("vertx");return void 0!==(d=Je.runOnLoop||Je.runOnContext)?function(){d(X)}:T()}catch{return T()}}():T();var de=Math.random().toString(36).substring(2);function Oe(){}var gt=void 0;function ve(Je,bt,pe){var Ae,lt;bt.constructor===Je.constructor&&pe===K&&bt.constructor.resolve===ue?(Ae=Je,1===(lt=bt)._state?Ve(Ae,lt._result):2===lt._state?ke(Ae,lt._result):ot(lt,void 0,function(E){return Ge(Ae,E)},function(E){return ke(Ae,E)})):void 0===pe?Ve(Je,bt):ye(pe)?function(Ae,lt,E){A(function(g){var M=!1,O=function(ae,oe,De,$e){try{ae.call(oe,function(ae){M||(M=!0,lt!==ae?Ge(g,ae):Ve(g,ae))},function(ae){M||(M=!0,ke(g,ae))})}catch(Ye){return Ye}}(E,lt);!M&&O&&(M=!0,ke(g,O))},Ae)}(Je,bt,pe):Ve(Je,bt)}function Ge(Je,bt){if(Je===bt)ke(Je,new TypeError("You cannot resolve a promise with itself"));else if(lt=typeof(Ae=bt),null===Ae||"object"!==lt&&"function"!==lt)Ve(Je,bt);else{var pe=void 0;try{pe=bt.then}catch(E){return void ke(Je,E)}ve(Je,bt,pe)}var Ae,lt}function ut(Je){Je._onerror&&Je._onerror(Je._result),Qe(Je)}function Ve(Je,bt){Je._state===gt&&(Je._result=bt,Je._state=1,0!==Je._subscribers.length&&A(Qe,Je))}function ke(Je,bt){Je._state===gt&&(Je._state=2,Je._result=bt,A(ut,Je))}function ot(Je,bt,pe,Ae){var lt=Je._subscribers,E=lt.length;Je._onerror=null,lt[E]=bt,lt[E+1]=pe,lt[E+2]=Ae,0===E&&Je._state&&A(Qe,Je)}function Qe(Je){var bt=Je._subscribers,pe=Je._state;if(0!==bt.length){for(var Ae=void 0,lt=void 0,E=Je._result,g=0;g<bt.length;g+=3)lt=bt[g+pe],(Ae=bt[g])?Rt(pe,Ae,lt,E):lt(E);Je._subscribers.length=0}}function Rt(Je,bt,pe,Ae){var lt=ye(pe),E=void 0,g=void 0,M=!0;if(lt){try{E=pe(Ae)}catch(O){M=!1,g=O}if(bt===E)return void ke(bt,new TypeError("A promises callback cannot return that same promise."))}else E=Ae;bt._state!==gt||(lt&&M?Ge(bt,E):!1===M?ke(bt,g):1===Je?Ve(bt,E):2===Je&&ke(bt,E))}var xe=0;function et(Je){Je[de]=xe++,Je._state=void 0,Je._result=void 0,Je._subscribers=[]}var jt=function(){function Je(bt,pe){this._instanceConstructor=bt,this.promise=new bt(Oe),this.promise[de]||et(this.promise),N(pe)?(this.length=pe.length,this._remaining=pe.length,this._result=new Array(this.length),0===this.length?Ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(pe),0===this._remaining&&Ve(this.promise,this._result))):ke(this.promise,new Error("Array Methods must be provided an Array"))}return Je.prototype._enumerate=function(bt){for(var pe=0;this._state===gt&&pe<bt.length;pe++)this._eachEntry(bt[pe],pe)},Je.prototype._eachEntry=function(bt,pe){var Ae=this._instanceConstructor,lt=Ae.resolve;if(lt===ue){var E=void 0,g=void 0,M=!1;try{E=bt.then}catch(ae){M=!0,g=ae}if(E===K&&bt._state!==gt)this._settledAt(bt._state,pe,bt._result);else if("function"!=typeof E)this._remaining--,this._result[pe]=bt;else if(Ae===It){var O=new Ae(Oe);M?ke(O,g):ve(O,bt,E),this._willSettleAt(O,pe)}else this._willSettleAt(new Ae(function(ae){return ae(bt)}),pe)}else this._willSettleAt(lt(bt),pe)},Je.prototype._settledAt=function(bt,pe,Ae){var lt=this.promise;lt._state===gt&&(this._remaining--,2===bt?ke(lt,Ae):this._result[pe]=Ae),0===this._remaining&&Ve(lt,this._result)},Je.prototype._willSettleAt=function(bt,pe){var Ae=this;ot(bt,void 0,function(lt){return Ae._settledAt(1,pe,lt)},function(lt){return Ae._settledAt(2,pe,lt)})},Je}(),It=function(){function Je(bt){this[de]=xe++,this._result=this._state=void 0,this._subscribers=[],Oe!==bt&&("function"!=typeof bt&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Je?function(pe,Ae){try{Ae(function(lt){Ge(pe,lt)},function(lt){ke(pe,lt)})}catch(lt){ke(pe,lt)}}(this,bt):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Je.prototype.catch=function(bt){return this.then(null,bt)},Je.prototype.finally=function(bt){var Ae=this.constructor;return ye(bt)?this.then(function(lt){return Ae.resolve(bt()).then(function(){return lt})},function(lt){return Ae.resolve(bt()).then(function(){throw lt})}):this.then(bt,bt)},Je}();return It.prototype.then=K,It.all=function(Je){return new jt(this,Je).promise},It.race=function(Je){var bt=this;return N(Je)?new bt(function(pe,Ae){for(var lt=Je.length,E=0;E<lt;E++)bt.resolve(Je[E]).then(pe,Ae)}):new bt(function(pe,Ae){return Ae(new TypeError("You must pass an array to race."))})},It.resolve=ue,It.reject=function(Je){var bt=new this(Oe);return ke(bt,Je),bt},It._setScheduler=function(Je){I=Je},It._setAsap=function(Je){A=Je},It._asap=A,It.polyfill=function(){var Je=void 0;if(void 0!==H.g)Je=H.g;else if(typeof self<"u")Je=self;else try{Je=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var bt=Je.Promise;if(bt){var pe=null;try{pe=Object.prototype.toString.call(bt.resolve())}catch{}if("[object Promise]"===pe&&!bt.cast)return}Je.Promise=It},It.Promise=It,It}()},1159:function(Et){"use strict";var Ze,H="object"==typeof Reflect?Reflect:null,ye=H&&"function"==typeof H.apply?H.apply:function(X,Y,$){return Function.prototype.apply.call(X,Y,$)};Ze=H&&"function"==typeof H.ownKeys?H.ownKeys:Object.getOwnPropertySymbols?function(X){return Object.getOwnPropertyNames(X).concat(Object.getOwnPropertySymbols(X))}:function(X){return Object.getOwnPropertyNames(X)};var N=Number.isNaN||function(X){return X!=X};function f(){f.init.call(this)}Et.exports=f,Et.exports.once=function(X,Y){return new Promise(function($,he){function z(K){X.removeListener(Y,k),he(K)}function k(){"function"==typeof X.removeListener&&X.removeListener("error",z),$([].slice.call(arguments))}var K;j(X,Y,k,{once:!0}),"error"!==Y&&("function"==typeof(K=X).on&&j(K,"error",z,{once:!0}))})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var d=10;function I(X){if("function"!=typeof X)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof X)}function A(X){return void 0===X._maxListeners?f.defaultMaxListeners:X._maxListeners}function v(X,Y,$,he){var z,k,K;if(I($),void 0===(k=X._events)?(k=X._events=Object.create(null),X._eventsCount=0):(void 0!==k.newListener&&(X.emit("newListener",Y,$.listener?$.listener:$),k=X._events),K=k[Y]),void 0===K)K=k[Y]=$,++X._eventsCount;else if("function"==typeof K?K=k[Y]=he?[$,K]:[K,$]:he?K.unshift($):K.push($),(z=A(X))>0&&K.length>z&&!K.warned){K.warned=!0;var de=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(Y)+" listeners added. Use emitter.setMaxListeners() to increase limit");de.name="MaxListenersExceededWarning",de.emitter=X,de.type=Y,de.count=K.length,console&&console.warn&&console.warn(de)}return X}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function D(X,Y,$){var he={fired:!1,wrapFn:void 0,target:X,type:Y,listener:$},z=w.bind(he);return z.listener=$,he.wrapFn=z,z}function h(X,Y,$){var he=X._events;if(void 0===he)return[];var z=he[Y];return void 0===z?[]:"function"==typeof z?$?[z.listener||z]:[z]:$?function(k){for(var K=new Array(k.length),ue=0;ue<K.length;++ue)K[ue]=k[ue].listener||k[ue];return K}(z):T(z,z.length)}function y(X){var Y=this._events;if(void 0!==Y){var $=Y[X];if("function"==typeof $)return 1;if(void 0!==$)return $.length}return 0}function T(X,Y){for(var $=new Array(Y),he=0;he<Y;++he)$[he]=X[he];return $}function j(X,Y,$,he){if("function"==typeof X.on)he.once?X.once(Y,$):X.on(Y,$);else{if("function"!=typeof X.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof X);X.addEventListener(Y,function z(k){he.once&&X.removeEventListener(Y,z),$(k)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(X){if("number"!=typeof X||X<0||N(X))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+X+".");d=X}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(X){if("number"!=typeof X||X<0||N(X))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+X+".");return this._maxListeners=X,this},f.prototype.getMaxListeners=function(){return A(this)},f.prototype.emit=function(X){for(var Y=[],$=1;$<arguments.length;$++)Y.push(arguments[$]);var he="error"===X,z=this._events;if(void 0!==z)he=he&&void 0===z.error;else if(!he)return!1;if(he){var k;if(Y.length>0&&(k=Y[0]),k instanceof Error)throw k;var K=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw K.context=k,K}var ue=z[X];if(void 0===ue)return!1;if("function"==typeof ue)ye(ue,this,Y);else{var de=ue.length,Oe=T(ue,de);for($=0;$<de;++$)ye(Oe[$],this,Y)}return!0},f.prototype.on=f.prototype.addListener=function(X,Y){return v(this,X,Y,!1)},f.prototype.prependListener=function(X,Y){return v(this,X,Y,!0)},f.prototype.once=function(X,Y){return I(Y),this.on(X,D(this,X,Y)),this},f.prototype.prependOnceListener=function(X,Y){return I(Y),this.prependListener(X,D(this,X,Y)),this},f.prototype.off=f.prototype.removeListener=function(X,Y){var $,he,z,k,K;if(I(Y),void 0===(he=this._events))return this;if(void 0===($=he[X]))return this;if($===Y||$.listener===Y)0==--this._eventsCount?this._events=Object.create(null):(delete he[X],he.removeListener&&this.emit("removeListener",X,$.listener||Y));else if("function"!=typeof $){for(z=-1,k=$.length-1;k>=0;k--)if($[k]===Y||$[k].listener===Y){K=$[k].listener,z=k;break}if(z<0)return this;0===z?$.shift():function(ue,de){for(;de+1<ue.length;de++)ue[de]=ue[de+1];ue.pop()}($,z),1===$.length&&(he[X]=$[0]),void 0!==he.removeListener&&this.emit("removeListener",X,K||Y)}return this},f.prototype.removeAllListeners=function(X){var Y,$,he;if(void 0===($=this._events))return this;if(void 0===$.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==$[X]&&(0==--this._eventsCount?this._events=Object.create(null):delete $[X]),this;if(0===arguments.length){var z,k=Object.keys($);for(he=0;he<k.length;++he)"removeListener"!==(z=k[he])&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(Y=$[X]))this.removeListener(X,Y);else if(void 0!==Y)for(he=Y.length-1;he>=0;he--)this.removeListener(X,Y[he]);return this},f.prototype.listeners=function(X){return h(this,X,!0)},f.prototype.rawListeners=function(X){return h(this,X,!1)},f.listenerCount=function(X,Y){return"function"==typeof X.listenerCount?X.listenerCount(Y):y.call(X,Y)},f.prototype.listenerCount=y,f.prototype.eventNames=function(){return this._eventsCount>0?Ze(this._events):[]}},3101:function(Et){"use strict";var Ze=Array.isArray,H=Object.keys,ye=Object.prototype.hasOwnProperty;Et.exports=function N(f,d){if(f===d)return!0;if(f&&d&&"object"==typeof f&&"object"==typeof d){var I,A,v,w=Ze(f),D=Ze(d);if(w&&D){if((A=f.length)!=d.length)return!1;for(I=A;0!=I--;)if(!N(f[I],d[I]))return!1;return!0}if(w!=D)return!1;var h=f instanceof Date,y=d instanceof Date;if(h!=y)return!1;if(h&&y)return f.getTime()==d.getTime();var T=f instanceof RegExp,j=d instanceof RegExp;if(T!=j)return!1;if(T&&j)return f.toString()==d.toString();var X=H(f);if((A=X.length)!==H(d).length)return!1;for(I=A;0!=I--;)if(!ye.call(d,X[I]))return!1;for(I=A;0!=I--;)if(!N(f[v=X[I]],d[v]))return!1;return!0}return f!=f&&d!=d}},3362:function(Et,Ze,H){!function(ye,N,f,d,I){function A(g){if("contents"in g)for(var M=("styleAttrs"in g?g.styleAttrs[d.byName.ruby.qname]:null),O="span"===g.kind&&("container"===M||"textContainer"===M||"baseContainer"===M),ae=g.contents.length-1;ae>=0;ae--)!O||"styleAttrs"in g.contents[ae]&&d.byName.ruby.qname in g.contents[ae].styleAttrs?A(g.contents[ae]):delete g.contents[ae]}function v(g,M,O,ae){var oe=ae&&"seq"===ae.timeContainer,De=0;ae&&(De=oe&&O?O.end:ae.begin),M.begin=M.explicit_begin?M.explicit_begin+De:De;var $e=M.begin,Ye=null;if("sets"in M)for(var Fe=0;Fe<M.sets.length;Fe++)v(g,M.sets[Fe],Ye,M),$e="seq"===M.timeContainer?M.sets[Fe].end:Math.max($e,M.sets[Fe].end),Ye=M.sets[Fe];if("contents"in M){if("contents"in M)for(var qe=0;qe<M.contents.length;qe++)v(g,M.contents[qe],Ye,M),$e="seq"===M.timeContainer?M.contents[qe].end:Math.max($e,M.contents[qe].end),Ye=M.contents[qe]}else $e=oe?M.begin:Number.POSITIVE_INFINITY;M.end=null!==M.explicit_end&&null!==M.explicit_dur?Math.min(M.begin+M.explicit_dur,De+M.explicit_end):null===M.explicit_end&&null!==M.explicit_dur?M.begin+M.explicit_dur:null!==M.explicit_end&&null===M.explicit_dur?De+M.explicit_end:$e,delete M.explicit_begin,delete M.explicit_dur,delete M.explicit_end,g._registerEvent(M)}function w(g){this.node=g}function D(){this.events=[],this.head=new h,this.body=null}function h(){this.styling=new y,this.layout=new X}function y(){this.styles={},this.initials={}}function T(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function j(){this.styleAttrs=null}function X(){this.regions={}}function Y(g,M){$.call(this,"image"),this.src=g,this.type=M}function $(g){this.kind=g}function he(g){this.id=g}function z(g){this.regionID=g}function k(g){this.styleAttrs=g}function K(g){this.sets=g}function ue(g){this.contents=g}function de(g,M,O){this.explicit_begin=g,this.explicit_end=M,this.explicit_dur=O}function Oe(){$.call(this,"body")}function gt(){$.call(this,"div")}function ve(){$.call(this,"p")}function Ge(){$.call(this,"span")}function ut(){$.call(this,"span")}function Ve(){$.call(this,"br")}function ke(){}function ot(){}function Qe(g){return g&&"xml:id"in g.attributes&&g.attributes["xml:id"].value||null}function Rt(g){return g&&"style"in g.attributes?g.attributes.style.value.split(" "):[]}function xe(g,M){var O={};if(null!==g)for(var ae in g.attributes){var oe=g.attributes[ae].uri+" "+g.attributes[ae].local,De=d.byQName[oe];if(void 0!==De){var $e=De.parse(g.attributes[ae].value);null!==$e?(O[oe]=$e,De===d.byName.zIndex&&pe(M,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ae(M,"Cannot parse styling attribute "+oe+" --\x3e "+g.attributes[ae].value)}}return O}function et(g,M,O){for(var ae in g.attributes)if(g.attributes[ae].uri===M&&g.attributes[ae].local===O)return g.attributes[ae].value;return null}function jt(g,M,O){var ae,oe=null;return null!==(ae=/^(\d+(?:\.\d+)?)f$/.exec(O))?null!==M&&(oe=parseFloat(ae[1])/M):null!==(ae=/^(\d+(?:\.\d+)?)t$/.exec(O))?null!==g&&(oe=parseFloat(ae[1])/g):null!==(ae=/^(\d+(?:\.\d+)?)ms$/.exec(O))?oe=parseFloat(ae[1])/1e3:null!==(ae=/^(\d+(?:\.\d+)?)s$/.exec(O))?oe=parseFloat(ae[1]):null!==(ae=/^(\d+(?:\.\d+)?)h$/.exec(O))?oe=3600*parseFloat(ae[1]):null!==(ae=/^(\d+(?:\.\d+)?)m$/.exec(O))?oe=60*parseFloat(ae[1]):null!==(ae=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(O))?oe=3600*parseInt(ae[1])+60*parseInt(ae[2])+parseFloat(ae[3]):null!==(ae=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(O))&&null!==M&&(oe=3600*parseInt(ae[1])+60*parseInt(ae[2])+parseInt(ae[3])+(null===ae[4]?0:parseInt(ae[4])/M)),oe}function It(g,M,O){for(;M.styleRefs.length>0;){var ae=M.styleRefs.pop();ae in g.styles?(It(g,g.styles[ae],O),bt(g.styles[ae].styleAttrs,M.styleAttrs)):Ae(O,"Non-existant style id referenced")}}function Je(g,M,O,ae){for(var oe=M.length-1;oe>=0;oe--){var De=M[oe];De in g.styles?bt(g.styles[De].styleAttrs,O):Ae(ae,"Non-existant style id referenced")}}function bt(g,M){for(var O in g)g.hasOwnProperty(O)&&(O in M||(M[O]=g[O]))}function pe(g,M){if(g&&g.warn&&g.warn(M))throw M}function Ae(g,M){if(g&&g.error&&g.error(M))throw M}function lt(g,M){throw g&&g.fatal&&g.fatal(M),M}function E(g,M){for(var O,ae=0,oe=g.length-1;ae<=oe;){var De=g[O=Math.floor((ae+oe)/2)];if(De<M)ae=O+1;else{if(!(De>M))return{found:!0,index:O};oe=O-1}}return{found:!1,index:ae}}ye.fromXML=function(g,M,O){var ae=N.parser(!0,{xmlns:!0}),oe=[],De=[],$e=[],Ye=0,Fe=null;ae.onclosetag=function(He){if(oe[0]instanceof ke)null!==Fe.head&&null!==Fe.head.styling&&Je(Fe.head.styling,oe[0].styleRefs,oe[0].styleAttrs,M),delete oe[0].styleRefs;else if(oe[0]instanceof y)for(var Tt in oe[0].styles)oe[0].styles.hasOwnProperty(Tt)&&It(oe[0],oe[0].styles[Tt],M);else if(oe[0]instanceof ve||oe[0]instanceof Ge){if(oe[0].contents.length>1){var Nt,an=[oe[0].contents[0]];for(Nt=1;Nt<oe[0].contents.length;Nt++)oe[0].contents[Nt]instanceof ut&&an[an.length-1]instanceof ut?an[an.length-1].text+=oe[0].contents[Nt].text:an.push(oe[0].contents[Nt]);oe[0].contents=an}oe[0]instanceof Ge&&1===oe[0].contents.length&&oe[0].contents[0]instanceof ut&&(oe[0].text=oe[0].contents[0].text,delete oe[0].contents)}else oe[0]instanceof w&&(oe[0].node.uri===f.ns_tt&&"metadata"===oe[0].node.local?Ye--:Ye>0&&O&&"onCloseTag"in O&&O.onCloseTag());$e.shift(),De.shift(),oe.shift()},ae.ontext=function(He){if(void 0!==oe[0])if(oe[0]instanceof Ge||oe[0]instanceof ve){if(oe[0]instanceof Ge){var Tt=oe[0].styleAttrs[d.byName.ruby.qname];if("container"===Tt||"textContainer"===Tt||"baseContainer"===Tt)return}var Nt=new ut;Nt.initFromText(Fe,oe[0],He,De[0],$e[0],M),oe[0].contents.push(Nt)}else oe[0]instanceof w&&Ye>0&&O&&"onText"in O&&O.onText(He)},ae.onopentag=function(He){var Tt=He.attributes["xml:space"];$e.unshift(Tt?Tt.value:0===$e.length?"default":$e[0]);var Nt=He.attributes["xml:lang"];if(De.unshift(Nt?Nt.value:0===De.length?"":De[0]),He.uri===f.ns_tt)if("tt"===He.local)null!==Fe&&lt(M,"Two <tt> elements at ("+this.line+","+this.column+")"),(Fe=new D).initFromNode(He,De[0],M),oe.unshift(Fe);else if("head"===He.local)oe[0]instanceof D||lt(M,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),oe.unshift(Fe.head);else if("styling"===He.local)oe[0]instanceof h||lt(M,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),oe.unshift(Fe.head.styling);else if("style"===He.local){var an;oe[0]instanceof y?((an=new T).initFromNode(He,M),an.id?Fe.head.styling.styles[an.id]=an:Ae(M,"<style> element missing @id attribute"),oe.unshift(an)):oe[0]instanceof ke?((an=new T).initFromNode(He,M),bt(an.styleAttrs,oe[0].styleAttrs),oe.unshift(an)):lt(M,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===He.local){var _n;if(oe[0]instanceof y){for(var Cn in(_n=new j).initFromNode(He,M),_n.styleAttrs)_n.styleAttrs.hasOwnProperty(Cn)&&(Fe.head.styling.initials[Cn]=_n.styleAttrs[Cn]);oe.unshift(_n)}else lt(M,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===He.local)oe[0]instanceof h||lt(M,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),oe.unshift(Fe.head.layout);else if("region"===He.local){oe[0]instanceof X||lt(M,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var wn=new ke;wn.initFromNode(Fe,He,De[0],M),!wn.id||wn.id in Fe.head.layout.regions?Ae(M,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Fe.head.layout.regions[wn.id]=wn,oe.unshift(wn)}else if("body"===He.local){oe[0]instanceof D||lt(M,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Fe.body&&lt(M,"Second <body> element at "+this.line+","+this.column+")");var Xn=new Oe;Xn.initFromNode(Fe,He,De[0],M),Fe.body=Xn,oe.unshift(Xn)}else if("div"===He.local){oe[0]instanceof gt||oe[0]instanceof Oe||lt(M,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Bn=new gt;Bn.initFromNode(Fe,oe[0],He,De[0],M);var br=Bn.styleAttrs[d.byName.backgroundImage.qname];br&&(Bn.contents.push(new Y(br)),delete Bn.styleAttrs[d.byName.backgroundImage.qname]),oe[0].contents.push(Bn),oe.unshift(Bn)}else if("image"===He.local){oe[0]instanceof gt||lt(M,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var _i=new Y;_i.initFromNode(Fe,oe[0],He,De[0],M),oe[0].contents.push(_i),oe.unshift(_i)}else if("p"===He.local){oe[0]instanceof gt||lt(M,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Rr=new ve;Rr.initFromNode(Fe,oe[0],He,De[0],M),oe[0].contents.push(Rr),oe.unshift(Rr)}else if("span"===He.local){oe[0]instanceof Ge||oe[0]instanceof ve||lt(M,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var lo=new Ge;lo.initFromNode(Fe,oe[0],He,De[0],$e[0],M),oe[0].contents.push(lo),oe.unshift(lo)}else if("br"===He.local){oe[0]instanceof Ge||oe[0]instanceof ve||lt(M,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var vi=new Ve;vi.initFromNode(Fe,oe[0],He,De[0],M),oe[0].contents.push(vi),oe.unshift(vi)}else if("set"===He.local){oe[0]instanceof Ge||oe[0]instanceof ve||oe[0]instanceof gt||oe[0]instanceof Oe||oe[0]instanceof ke||oe[0]instanceof Ve||lt(M,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Vi=new ot;Vi.initFromNode(Fe,oe[0],He,M),oe[0].sets.push(Vi),oe.unshift(Vi)}else oe.unshift(new w(He));else oe.unshift(new w(He));if(oe[0]instanceof w)if(He.uri===f.ns_tt&&"metadata"===He.local)Ye++;else if(Ye>0&&O&&"onOpenTag"in O){var Eo=[];for(var ji in He.attributes)Eo[He.attributes[ji].uri+" "+He.attributes[ji].local]={uri:He.attributes[ji].uri,local:He.attributes[ji].local,value:He.attributes[ji].value};O.onOpenTag(He.uri,He.local,Eo)}},ae.write(g).close(),delete Fe.head.styling.styles;var qe=!1;for(var ft in Fe.head.layout.regions)if(Fe.head.layout.regions.hasOwnProperty(ft)){qe=!0;break}if(!qe){var Se=ke.prototype.createDefaultRegion(Fe.lang);Fe.head.layout.regions[Se.id]=Se}for(var tt in Fe.head.layout.regions)Fe.head.layout.regions.hasOwnProperty(tt)&&v(Fe,Fe.head.layout.regions[tt],null,null);return Fe.body&&v(Fe,Fe.body,null,null),Fe.body&&A(Fe.body),Fe},D.prototype.initFromNode=function(g,M,O){var ae=function(Ye,Fe){var qe=et(Ye,f.ns_ttp,"cellResolution"),ft=15,Se=32;if(null!==qe){var tt=/(\d+) (\d+)/.exec(qe);null!==tt?(Se=parseInt(tt[1]),ft=parseInt(tt[2])):pe(Fe,"Malformed cellResolution value (using initial value instead)")}return{w:Se,h:ft}}(g,O);this.cellLength={h:new I.ComputedLength(0,1/ae.h),w:new I.ComputedLength(1/ae.w,0)};var oe=function(Ye,Fe){var qe,ft=et(Ye,f.ns_ttp,"frameRate"),Se=30;null!==ft&&(null!==(qe=/(\d+)/.exec(ft))?Se=parseInt(qe[1]):pe(Fe,"Malformed frame rate attribute (using initial value instead)"));var tt=et(Ye,f.ns_ttp,"frameRateMultiplier"),He=1;null!==tt&&(null!==(qe=/(\d+) (\d+)/.exec(tt))?He=parseInt(qe[1])/parseInt(qe[2]):pe(Fe,"Malformed frame rate multiplier attribute (using initial value instead)"));var Tt=He*Se,Nt=1,an=et(Ye,f.ns_ttp,"tickRate");return null===an?null!==ft&&(Nt=Tt):null!==(qe=/(\d+)/.exec(an))?Nt=parseInt(qe[1]):pe(Fe,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Tt,tickRate:Nt}}(g,O);this.effectiveFrameRate=oe.effectiveFrameRate,this.tickRate=oe.tickRate,this.aspectRatio=function(Ye,Fe){var qe=et(Ye,f.ns_ittp,"aspectRatio");null===qe&&(qe=et(Ye,f.ns_ttp,"displayAspectRatio"));var ft=null;if(null!==qe){var Se=/(\d+)\s+(\d+)/.exec(qe);if(null!==Se){var tt=parseInt(Se[1]),He=parseInt(Se[2]);0!==tt&&0!==He?ft=tt/He:Ae(Fe,"Illegal aspectRatio values (ignoring)")}else Ae(Fe,"Malformed aspectRatio attribute (ignoring)")}return ft}(g,O);var De=et(g,f.ns_ttp,"timeBase");null!==De&&"media"!==De&&lt(O,"Unsupported time base");var $e=function(Ye,Fe){var qe=et(Ye,f.ns_tts,"extent");if(null===qe)return null;var ft=qe.split(" ");if(2!==ft.length)return pe(Fe,"Malformed extent (ignoring)"),null;var Se=I.parseLength(ft[0]),tt=I.parseLength(ft[1]);return tt&&Se?{h:tt,w:Se}:(pe(Fe,"Malformed extent values (ignoring)"),null)}(g,O);null===$e?this.pxLength={h:null,w:null}:("px"===$e.h.unit&&"px"===$e.w.unit||lt(O,"Extent on TT must be in px or absent"),this.pxLength={h:new I.ComputedLength(0,1/$e.h.value),w:new I.ComputedLength(1/$e.w.value,0)}),this.dimensions={h:new I.ComputedLength(0,1),w:new I.ComputedLength(1,0)},this.lang=M},D.prototype._registerEvent=function(g){if(!(g.end<=g.begin)){var M=E(this.events,g.begin);if(M.found||this.events.splice(M.index,0,g.begin),g.end!==Number.POSITIVE_INFINITY){var O=E(this.events,g.end);O.found||this.events.splice(O.index,0,g.end)}}},D.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},D.prototype.getMediaTimeEvents=function(){return this.events},T.prototype.initFromNode=function(g,M){this.id=Qe(g),this.styleAttrs=xe(g,M),this.styleRefs=Rt(g)},j.prototype.initFromNode=function(g,M){for(var O in this.styleAttrs={},g.attributes)g.attributes[O].uri!==f.ns_itts&&g.attributes[O].uri!==f.ns_ebutts&&g.attributes[O].uri!==f.ns_tts||(this.styleAttrs[g.attributes[O].uri+" "+g.attributes[O].local]=g.attributes[O].value)},Y.prototype.initFromNode=function(g,M,O,ae,oe){this.src="src"in O.attributes?O.attributes.src.value:null,this.src||Ae(oe,"Invalid image@src attribute"),this.type="type"in O.attributes?O.attributes.type.value:null,this.type||Ae(oe,"Invalid image@type attribute"),k.prototype.initFromNode.call(this,g,M,O,oe),de.prototype.initFromNode.call(this,g,M,O,oe),K.prototype.initFromNode.call(this,g,M,O,oe),z.prototype.initFromNode.call(this,g,M,O,oe),this.lang=ae},he.prototype.initFromNode=function(g,M,O,ae){this.id=Qe(O)},z.prototype.initFromNode=function(g,M,O,ae){var oe;this.regionID=(oe=O)&&"region"in oe.attributes?oe.attributes.region.value:""},k.prototype.initFromNode=function(g,M,O,ae){this.styleAttrs=xe(O,ae),null!==g.head&&null!==g.head.styling&&Je(g.head.styling,Rt(O),this.styleAttrs,ae)},K.prototype.initFromNode=function(g,M,O,ae){this.sets=[]},ue.prototype.initFromNode=function(g,M,O,ae){this.contents=[]},de.prototype.initFromNode=function(g,M,O,ae){var De,Ye,oe=function(De,$e,Ye,Fe){var qe=null;Ye&&"begin"in Ye.attributes&&null===(qe=jt(De.tickRate,De.effectiveFrameRate,Ye.attributes.begin.value))&&pe(Fe,"Malformed begin value "+Ye.attributes.begin.value+" (using 0)");var ft=null;Ye&&"dur"in Ye.attributes&&null===(ft=jt(De.tickRate,De.effectiveFrameRate,Ye.attributes.dur.value))&&pe(Fe,"Malformed dur value "+Ye.attributes.dur.value+" (ignoring)");var Se=null;return Ye&&"end"in Ye.attributes&&null===(Se=jt(De.tickRate,De.effectiveFrameRate,Ye.attributes.end.value))&&pe(Fe,"Malformed end value (ignoring)"),{explicit_begin:qe,explicit_end:Se,explicit_dur:ft}}(g,0,O,ae);this.explicit_begin=oe.explicit_begin,this.explicit_end=oe.explicit_end,this.explicit_dur=oe.explicit_dur,this.timeContainer=(Ye=(De=O)&&"timeContainer"in De.attributes?De.attributes.timeContainer.value:null)&&"par"!==Ye?"seq"===Ye?"seq":(Ae(ae,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"},Oe.prototype.initFromNode=function(g,M,O,ae){k.prototype.initFromNode.call(this,g,null,M,ae),de.prototype.initFromNode.call(this,g,null,M,ae),K.prototype.initFromNode.call(this,g,null,M,ae),z.prototype.initFromNode.call(this,g,null,M,ae),ue.prototype.initFromNode.call(this,g,null,M,ae),this.lang=O},gt.prototype.initFromNode=function(g,M,O,ae,oe){k.prototype.initFromNode.call(this,g,M,O,oe),de.prototype.initFromNode.call(this,g,M,O,oe),K.prototype.initFromNode.call(this,g,M,O,oe),z.prototype.initFromNode.call(this,g,M,O,oe),ue.prototype.initFromNode.call(this,g,M,O,oe),this.lang=ae},ve.prototype.initFromNode=function(g,M,O,ae,oe){k.prototype.initFromNode.call(this,g,M,O,oe),de.prototype.initFromNode.call(this,g,M,O,oe),K.prototype.initFromNode.call(this,g,M,O,oe),z.prototype.initFromNode.call(this,g,M,O,oe),ue.prototype.initFromNode.call(this,g,M,O,oe),this.lang=ae},Ge.prototype.initFromNode=function(g,M,O,ae,oe,De){k.prototype.initFromNode.call(this,g,M,O,De),de.prototype.initFromNode.call(this,g,M,O,De),K.prototype.initFromNode.call(this,g,M,O,De),z.prototype.initFromNode.call(this,g,M,O,De),ue.prototype.initFromNode.call(this,g,M,O,De),this.space=oe,this.lang=ae},ut.prototype.initFromText=function(g,M,O,ae,oe,De){de.prototype.initFromNode.call(this,g,M,null,De),this.text=O,this.space=oe,this.lang=ae},Ve.prototype.initFromNode=function(g,M,O,ae,oe){z.prototype.initFromNode.call(this,g,M,O,oe),de.prototype.initFromNode.call(this,g,M,O,oe),this.lang=ae},ke.prototype.createDefaultRegion=function(g){var M=new ke;return he.call(M,""),k.call(M,{}),K.call(M,[]),de.call(M,0,Number.POSITIVE_INFINITY,null),this.lang=g,M},ke.prototype.initFromNode=function(g,M,O,ae){he.prototype.initFromNode.call(this,g,null,M,ae),de.prototype.initFromNode.call(this,g,null,M,ae),K.prototype.initFromNode.call(this,g,null,M,ae),this.styleAttrs=xe(M,ae),this.styleRefs=Rt(M),this.lang=O},ot.prototype.initFromNode=function(g,M,O,ae){de.prototype.initFromNode.call(this,g,M,O,ae);var oe=xe(O,ae);for(var De in this.qname=null,this.value=null,oe)if(oe.hasOwnProperty(De)){if(this.qname){Ae(ae,"More than one style specified on set");break}this.qname=De,this.value=oe[De]}}}(Ze,typeof sax>"u"?H(5378):sax,typeof imscNames>"u"?H(210):imscNames,typeof imscStyles>"u"?H(6811):imscStyles,typeof imscUtils>"u"?H(5926):imscUtils)},506:function(Et,Ze,H){!function(ye,N,f){function d(k,K,ue,de){var Oe;if("region"===ue.kind)(Oe=document.createElement("div")).style.position="absolute";else if("body"===ue.kind)Oe=document.createElement("div");else if("div"===ue.kind)Oe=document.createElement("div");else if("image"===ue.kind){if(Oe=document.createElement("img"),null!==k.imgResolver&&null!==ue.src){var gt=k.imgResolver(ue.src,Oe);gt&&(Oe.src=gt),Oe.height=k.regionH,Oe.width=k.regionW}}else if("p"===ue.kind)Oe=document.createElement("p");else if("span"===ue.kind)if("container"===ue.styleAttrs[f.byName.ruby.qname])Oe=document.createElement("ruby"),k.ruby=!0;else if("base"===ue.styleAttrs[f.byName.ruby.qname])Oe=document.createElement("rb");else if("text"===ue.styleAttrs[f.byName.ruby.qname])Oe=document.createElement("rt");else if("baseContainer"===ue.styleAttrs[f.byName.ruby.qname])Oe=document.createElement("rbc");else if("textContainer"===ue.styleAttrs[f.byName.ruby.qname])Oe=document.createElement("rtc");else{if("delimiter"===ue.styleAttrs[f.byName.ruby.qname])return;Oe=document.createElement("span")}else"br"===ue.kind&&(Oe=document.createElement("br"));if(Oe){if(ue.lang&&("region"!==ue.kind&&ue.lang===de.lang||(Oe.lang=ue.lang)),K.appendChild(Oe),Oe.style.margin="0","region"===ue.kind){var ve=ue.styleAttrs[f.byName.writingMode.qname];"lrtb"===ve||"lr"===ve?(k.ipd="lr",k.bpd="tb"):"rltb"===ve||"rl"===ve?(k.ipd="rl",k.bpd="tb"):"tblr"===ve?(k.ipd="tb",k.bpd="lr"):"tbrl"!==ve&&"tb"!==ve||(k.ipd="tb",k.bpd="rl")}else"p"===ue.kind&&"tb"===k.bpd&&(k.ipd="ltr"===ue.styleAttrs[f.byName.direction.qname]?"lr":"rl");for(var ut=0;ut<T.length;ut++){var Ve=T[ut],ke=ue.styleAttrs[Ve.qname];void 0!==ke&&null!==Ve.map&&Ve.map(k,Oe,ue,ke)}var ot=Oe,Qe=ue.styleAttrs[f.byName.linePadding.qname];if(Qe&&!Qe.isZero()){var Rt=Qe.toUsedLength(k.w,k.h);if(Rt>0){var xe=Math.ceil(Rt)+"px";"tb"===k.bpd?(ot.style.paddingLeft=xe,ot.style.paddingRight=xe):(ot.style.paddingTop=xe,ot.style.paddingBottom=xe),k.lp=Qe}}var et=ue.styleAttrs[f.byName.multiRowAlign.qname];if(et&&"auto"!==et){var jt=document.createElement("span");jt.style.display="inline-block",jt.style.textAlign=et,Oe.appendChild(jt),ot=jt,k.mra=et}var It=ue.styleAttrs[f.byName.rubyReserve.qname];if(It&&"none"!==It[0]&&(k.rubyReserve=It),ue.styleAttrs[f.byName.fillLineGap.qname]&&(k.flg=!0),"span"===ue.kind&&ue.text){var Je=ue.styleAttrs[f.byName.textEmphasis.qname];if(Je&&"none"!==Je.style&&(k.textEmphasis=!0),f.byName.textCombine.qname in ue.styleAttrs&&"all"===ue.styleAttrs[f.byName.textCombine.qname])Oe.textContent=ue.text,Je&&h(k,Oe,0,Je);else for(var bt="",pe=0;pe<ue.text.length;pe++){bt+=ue.text.charAt(pe);var Ae=ue.text.charCodeAt(pe);if(Ae<55296||Ae>56319||pe===ue.text.length-1){var lt=document.createElement("span");lt.textContent=bt,Je&&h(k,lt,0,Je),Oe.appendChild(lt),bt="",lt._isd_element=ue}}}if("contents"in ue)for(var E=0;E<ue.contents.length;E++)d(k,ot,ue.contents[E],ue);var g=[];if("p"===ue.kind&&(D(k,ot,g,null),k.rubyReserve&&(function(De,$e){for(var Ye=0;Ye<De.length;Ye++){var Fe,qe,ft=document.createElement("ruby"),Se=document.createElement("rb");Se.textContent="\u200b",ft.appendChild(Se);var He=$e.rubyReserve[1].toUsedLength($e.w,$e.h)+"px";"both"===$e.rubyReserve[0]||"outside"===$e.rubyReserve[0]&&1==De.length?((Fe=document.createElement("rtc")).style[$]=Y?"after":"under",Fe.textContent="\u200b",Fe.style.fontSize=He,(qe=document.createElement("rtc")).style[$]=Y?"before":"over",qe.textContent="\u200b",qe.style.fontSize=He,ft.appendChild(Fe),ft.appendChild(qe)):((Fe=document.createElement("rtc")).textContent="\u200b",Fe.style.fontSize=He,Fe.style[$]="after"===$e.rubyReserve[0]||"outside"===$e.rubyReserve[0]&&Ye>0?Y?"after":"tb"===$e.bpd||"rl"===$e.bpd?"under":"over":Y?"before":"tb"===$e.bpd||"rl"===$e.bpd?"over":"under",ft.appendChild(Fe));for(var Tt=null,Nt=0;Nt<De[Ye].rbc.length;Nt++)if("ruby"===De[Ye].rbc[Nt].localName){Tt=De[Ye].rbc[Nt];for(var an=0;an<Tt.style.length;an++)ft.style.setProperty(Tt.style.item(an),Tt.style.getPropertyValue(Tt.style.item(an)));break}(Tt=Tt||De[Ye].elements[0].node).parentElement.insertBefore(ft,Tt)}}(g,k),k.rubyReserve=null),(k.ruby||k.rubyReserve)&&(function(De,$e){for(var Ye=0;Ye<De.length;Ye++)for(var Fe=0;Fe<De[Ye].rbc.length;Fe++)De[Ye].rbc[Fe].style[$]||(De[Ye].rbc[Fe].style[$]=Y?0===Ye?"before":"after":"tb"===$e.bpd||"rl"===$e.bpd?0===Ye?"over":"under":0===Ye?"under":"over")}(g,k),k.ruby=null),k.textEmphasis&&(function(De,$e){for(var Ye=0;Ye<De.length;Ye++)for(var Fe=0;Fe<De[Ye].te.length;Fe++)De[Ye].te[Fe].style[z]&&"none"!==De[Ye].te[Fe].style[z]||(De[Ye].te[Fe].style[z]="tb"===$e.bpd?0===Ye?"left over":"left under":"rl"===$e.bpd?0===Ye?"right under":"left under":0===Ye?"left under":"right under")}(g,k),k.textEmphasis=null),k.mra&&(function(De){for(var $e=0;$e<De.length-1;$e++){var Ye=De[$e].elements.length;if(0!==Ye&&!1===De[$e].br){var Fe=document.createElement("br"),qe=De[$e].elements[Ye-1].node;qe.parentElement.insertBefore(Fe,qe.nextSibling)}}}(g),k.mra=null),k.lp&&(function(De,$e,Ye){if(null!==De)for(var Fe=0;Fe<De.length;Fe++){var qe=De[Fe].elements.length,ft=Math.ceil($e)+"px",Se="-"+Math.ceil($e)+"px";if(0!==qe){var tt=De[Fe].elements[De[Fe].start_elem],He=De[Fe].elements[De[Fe].end_elem];if(tt===He&&(elementBoundingRect=tt.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===Ye.ipd?(tt.node.style.marginLeft=Se,tt.node.style.paddingLeft=ft):"rl"===Ye.ipd?(tt.node.style.paddingRight=ft,tt.node.style.marginRight=Se):"tb"===Ye.ipd&&(tt.node.style.paddingTop=ft,tt.node.style.marginTop=Se),"lr"===Ye.ipd?(He.node.style.marginRight=Se,He.node.style.paddingRight=ft):"rl"===Ye.ipd?(He.node.style.paddingLeft=ft,He.node.style.marginLeft=Se):"tb"===Ye.ipd&&(He.node.style.paddingBottom=ft,He.node.style.marginBottom=Se)}}}(g,k.lp.toUsedLength(k.w,k.h),k),k.lp=null),function(De){for(var $e=0;$e<De.length;$e++)for(var Ye=De[$e],Fe=1;Fe<Ye.elements.length;)A(Ye.elements[Fe-1].node,Ye.elements[Fe].node)?Ye.elements.splice(Fe,1):Fe++;for(var Se,tt,He=[],Tt=0;Tt<De.length;Tt++)for(var Nt=0;Nt<De[Tt].elements.length;Nt++)(tt=I(Se=De[Tt].elements[Nt].node,He,!1))&&(Se.style.backgroundColor=tt);for(var an=0;an<He.length;an++)He[an].style.backgroundColor=""}(g),k.flg)){var M=w(ot.getBoundingClientRect(),k);(function(De,$e,Ye,Fe,qe){for(var ft=Math.sign(Ye-$e),Se=0;Se<=De.length;Se++){var tt,He,Tt,Nt;if(tt=0===Se?Math.round($e):Se===De.length?Math.round(Ye):Math.round((De[Se-1].after+De[Se].before)/2),Se>0&&De[Se-1])for(Tt=0;Tt<De[Se-1].elements.length;Tt++)He=ft*(tt-(Nt=De[Se-1].elements[Tt]).after)+"px","lr"===Fe.bpd?Nt.node.style.paddingRight=He:"rl"===Fe.bpd?Nt.node.style.paddingLeft=He:"tb"===Fe.bpd&&(Nt.node.style.paddingBottom=He);if(Se<De.length)for(Tt=0;Tt<De[Se].elements.length;Tt++)He=ft*((Nt=De[Se].elements[Tt]).before-tt)+"px","lr"===Fe.bpd?Nt.node.style.paddingLeft=He:"rl"===Fe.bpd?Nt.node.style.paddingRight=He:"tb"===Fe.bpd&&(Nt.node.style.paddingTop=He)}})(g,M.before,M.after,k),k.flg=null}if("region"===ue.kind&&"tb"===k.bpd&&k.enableRollUp&&ue.contents.length>0&&"after"===ue.styleAttrs[f.byName.displayAlign.qname]){D(k,ot,g,null);var O=new v(""===ue.id?"_":ue.id,g);if(k.currentISDState[O.id]=O,k.previousISDState&&O.id in k.previousISDState&&k.previousISDState[O.id].plist.length>0&&O.plist.length>1&&O.plist[O.plist.length-2].text===k.previousISDState[O.id].plist[k.previousISDState[O.id].plist.length-1].text){var ae=Oe.firstElementChild,oe=O.plist[O.plist.length-1].after-O.plist[O.plist.length-1].before;ae.style.bottom="-"+oe+"px",ae.style.transition="transform 0.4s",ae.style.position="relative",ae.style.transform="translateY(-"+oe+"px)"}}}else!function(De,$e){if(De&&De.error&&De.error($e))throw $e}(k.errorHandler,"Error processing ISD element kind: "+ue.kind)}function I(k,K,ue){return k.style.backgroundColor?(ue&&!K.includes(k)&&K.push(k),k.style.backgroundColor):"SPAN"===k.parentElement.nodeName?I(k.parentElement,K,!0):void 0}function A(k,K){if("SPAN"===k.tagName&&"SPAN"===K.tagName&&k._isd_element===K._isd_element){k.textContent+=K.textContent;for(var ue=0;ue<K.style.length;ue++){var de=K.style[ue];(de.indexOf("border")>=0||de.indexOf("padding")>=0||de.indexOf("margin")>=0)&&(k.style[de]=K.style[de])}return K.parentElement.removeChild(K),!0}return!1}function v(k,K){this.id=k,this.plist=K}function w(k,K){var ue={before:null,after:null,start:null,end:null};return"tb"===K.bpd?(ue.before=k.top,ue.after=k.bottom,"lr"===K.ipd?(ue.start=k.left,ue.end=k.right):(ue.start=k.right,ue.end=k.left)):"lr"===K.bpd?(ue.before=k.left,ue.after=k.right,ue.start=k.top,ue.end=k.bottom):"rl"===K.bpd&&(ue.before=k.right,ue.after=k.left,ue.start=k.top,ue.end=k.bottom),ue}function D(k,K,ue,de){if("rt"!==K.localName&&"rtc"!==K.localName){var Oe,gt,ve,Ge,ut=K.style.backgroundColor||de;if(0===K.childElementCount)if("span"===K.localName||"rb"===K.localName){var Ve=w(K.getBoundingClientRect(),k);if(0!==ue.length&&(Oe=Ve.before,ve=ue[ue.length-1].before,(gt=Ve.after)<(Ge=ue[ue.length-1].after)&&Oe>ve||Ge<=gt&&ve>=Oe)){var ke=Math.sign(Ve.after-Ve.before),ot=Math.sign(Ve.end-Ve.start);ke*(Ve.before-ue[ue.length-1].before)<0&&(ue[ue.length-1].before=Ve.before),ke*(Ve.after-ue[ue.length-1].after)>0&&(ue[ue.length-1].after=Ve.after),ot*(Ve.start-ue[ue.length-1].start)<0&&(ue[ue.length-1].start=Ve.start,ue[ue.length-1].start_elem=ue[ue.length-1].elements.length),ot*(Ve.end-ue[ue.length-1].end)>0&&(ue[ue.length-1].end=Ve.end,ue[ue.length-1].end_elem=ue[ue.length-1].elements.length)}else ue.push({before:Ve.before,after:Ve.after,start:Ve.start,end:Ve.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});ue[ue.length-1].text+=K.textContent,ue[ue.length-1].elements.push({node:K,bgcolor:ut,before:Ve.before,after:Ve.after})}else"br"===K.localName&&0!==ue.length&&(ue[ue.length-1].br=!0);else for(var Qe=K.firstChild;Qe;)Qe.nodeType===Node.ELEMENT_NODE&&(D(k,Qe,ue,ut),"ruby"===Qe.localName||"rtc"===Qe.localName?ue.length>0&&ue[ue.length-1].rbc.push(Qe):"span"===Qe.localName&&Qe.style[he]&&"none"!==Qe.style[he]&&ue.length>0&&ue[ue.length-1].te.push(Qe)),Qe=Qe.nextSibling}}function h(k,K,ue,de){"none"!==de.style&&(K.style[he]="auto"===de.style?"filled":de.style+" "+de.symbol,("before"===de.position||"after"===de.position)&&(K.style[z]="tb"===k.bpd?"before"===de.position?"left over":"left under":"rl"===k.bpd?"before"===de.position?"right under":"left under":"before"===de.position?"left under":"right under"))}function y(k,K){this.qname=k,this.map=K}ye.render=function(k,K,ue,de,Oe,gt,ve,Ge,ut){var Ve=de||K.clientHeight,ke=Oe||K.clientWidth;if(null!==k.aspectRatio){var ot=Ve*k.aspectRatio;ot>ke?Ve=Math.round(ke/k.aspectRatio):ke=ot}var Qe=document.createElement("div");Qe.style.position="relative",Qe.style.width=ke+"px",Qe.style.height=Ve+"px",Qe.style.margin="auto",Qe.style.top=0,Qe.style.bottom=0,Qe.style.left=0,Qe.style.right=0,Qe.style.zIndex=0;var Rt={h:Ve,w:ke,regionH:null,regionW:null,imgResolver:ue,displayForcedOnlyMode:gt||!1,isd:k,errorHandler:ve,previousISDState:Ge,enableRollUp:ut||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(K.appendChild(Qe),"contents"in k)for(var xe=0;xe<k.contents.length;xe++)d(Rt,Qe,k.contents[xe],k);return Rt.currentISDState};for(var T=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(k,K,ue,de){0!==de[3]&&(K.style.backgroundColor="rgba("+de[0].toString()+","+de[1].toString()+","+de[2].toString()+","+(de[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(k,K,ue,de){K.style.color="rgba("+de[0].toString()+","+de[1].toString()+","+de[2].toString()+","+(de[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(k,K,ue,de){K.style.direction=de}),new y("http://www.w3.org/ns/ttml#styling display",function(k,K,ue,de){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(k,K,ue,de){K.style.display="flex",K.style.flexDirection="column","before"===de?K.style.justifyContent="flex-start":"center"===de?K.style.justifyContent="center":"after"===de&&(K.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(k,K,ue,de){k.regionH=de.h.toUsedLength(k.w,k.h),k.regionW=de.w.toUsedLength(k.w,k.h);var Oe=0,gt=0,ve=ue.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];ve&&(Oe=ve[0].toUsedLength(k.w,k.h)+ve[2].toUsedLength(k.w,k.h),gt=ve[1].toUsedLength(k.w,k.h)+ve[3].toUsedLength(k.w,k.h)),K.style.height=k.regionH-Oe+"px",K.style.width=k.regionW-gt+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(k,K,ue,de){for(var Oe=[],gt=0;gt<de.length;gt++)"monospaceSerif"===de[gt]?(Oe.push("Courier New"),Oe.push('"Liberation Mono"'),Oe.push("Courier"),Oe.push("monospace")):"proportionalSansSerif"===de[gt]?(Oe.push("Arial"),Oe.push("Helvetica"),Oe.push('"Liberation Sans"'),Oe.push("sans-serif")):"monospace"===de[gt]?Oe.push("monospace"):"sansSerif"===de[gt]?Oe.push("sans-serif"):"serif"===de[gt]?Oe.push("serif"):"monospaceSansSerif"===de[gt]?(Oe.push("Consolas"),Oe.push("monospace")):Oe.push("proportionalSerif"===de[gt]?"serif":de[gt]);if(Oe.length>0){for(var ve=[Oe[0]],Ge=1;Ge<Oe.length;Ge++)-1==ve.indexOf(Oe[Ge])&&ve.push(Oe[Ge]);Oe=ve}K.style.fontFamily=Oe.join(",")}),new y("http://www.w3.org/ns/ttml#styling shear",function(k,K,ue,de){if(0!==de){var Oe=-.9*de;K.style.transform="tb"===k.bpd?"skewX("+Oe+"deg)":"skewY("+Oe+"deg)"}}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(k,K,ue,de){K.style.fontSize=de.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(k,K,ue,de){K.style.fontStyle=de}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(k,K,ue,de){K.style.fontWeight=de}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(k,K,ue,de){K.style.lineHeight="normal"===de?"normal":de.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(k,K,ue,de){K.style.opacity=de}),new y("http://www.w3.org/ns/ttml#styling origin",function(k,K,ue,de){K.style.top=de.h.toUsedLength(k.w,k.h)+"px",K.style.left=de.w.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(k,K,ue,de){K.style.overflow=de}),new y("http://www.w3.org/ns/ttml#styling padding",function(k,K,ue,de){var Oe=[];Oe[0]=de[0].toUsedLength(k.w,k.h)+"px",Oe[1]=de[3].toUsedLength(k.w,k.h)+"px",Oe[2]=de[2].toUsedLength(k.w,k.h)+"px",Oe[3]=de[1].toUsedLength(k.w,k.h)+"px",K.style.padding=Oe.join(" ")}),new y("http://www.w3.org/ns/ttml#styling position",function(k,K,ue,de){K.style.top=de.h.toUsedLength(k.w,k.h)+"px",K.style.left=de.w.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling rubyAlign",function(k,K,ue,de){K.style.rubyAlign="spaceAround"===de?"space-around":"center"}),new y("http://www.w3.org/ns/ttml#styling rubyPosition",function(k,K,ue,de){"before"!==de&&"after"!==de||(K.parentElement.style[$]=Y?de:"tb"===k.bpd||"rl"===k.bpd?"before"===de?"over":"under":"before"===de?"under":"over")}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(k,K,ue,de){K.style.textAlign="start"===de?"rl"===k.ipd?"right":"left":"end"===de?"rl"===k.ipd?"left":"right":de}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(k,K,ue,de){K.style.textDecoration=de.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(k,K,ue,de){}),new y("http://www.w3.org/ns/ttml#styling textShadow",function(k,K,ue,de){var Oe=ue.styleAttrs[f.byName.textOutline.qname];if("none"===de&&"none"===Oe)K.style.textShadow="";else{var gt=[];if("none"!==Oe){var ve="rgba("+Oe.color[0].toString()+","+Oe.color[1].toString()+","+Oe.color[2].toString()+","+(Oe.color[3]/255).toString()+")";gt.push("1px 1px 1px "+ve),gt.push("-1px 1px 1px "+ve),gt.push("1px -1px 1px "+ve),gt.push("-1px -1px 1px "+ve)}if("none"!==de)for(var Ge=0;Ge<de.length;Ge++)gt.push(de[Ge].x_off.toUsedLength(k.w,k.h)+"px "+de[Ge].y_off.toUsedLength(k.w,k.h)+"px "+de[Ge].b_radius.toUsedLength(k.w,k.h)+"px rgba("+de[Ge].color[0].toString()+","+de[Ge].color[1].toString()+","+de[Ge].color[2].toString()+","+(de[Ge].color[3]/255).toString()+")");K.style.textShadow=gt.join(",")}}),new y("http://www.w3.org/ns/ttml#styling textCombine",function(k,K,ue,de){K.style.textCombineUpright=de}),new y("http://www.w3.org/ns/ttml#styling textEmphasis",function(k,K,ue,de){}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(k,K,ue,de){K.style.unicodeBidi="bidiOverride"===de?"bidi-override":de}),new y("http://www.w3.org/ns/ttml#styling visibility",function(k,K,ue,de){K.style.visibility=de}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(k,K,ue,de){K.style.whiteSpace="wrap"===de?"preserve"===ue.space?"pre-wrap":"normal":"preserve"===ue.space?"pre":"noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(k,K,ue,de){"lrtb"===de||"lr"===de||"rltb"===de||"rl"===de?K.style.writingMode="horizontal-tb":"tblr"===de?K.style.writingMode="vertical-lr":"tbrl"!==de&&"tb"!==de||(K.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(k,K,ue,de){K.style.zIndex=de}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(k,K,ue,de){k.displayForcedOnlyMode&&!1===de&&(K.style.visibility="hidden")})],j={},X=0;X<T.length;X++)j[T[X].qname]=T[X];var Y="webkitRubyPosition"in window.getComputedStyle(document.documentElement),$=Y?"webkitRubyPosition":"rubyPosition",he="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",z="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(Ze,typeof imscNames>"u"?H(210):imscNames,typeof imscStyles>"u"?H(6811):imscStyles,typeof imscUtils>"u"?H(5926):imscUtils)},4080:function(Et,Ze,H){!function(ye,N,f,d){ye.generateISD=function(T,j,X){var Y,$=new D(T),he={},z={},k=T.head.styling.initials[f.byName.showBackground.qname],K=T.head.styling.initials[f.byName.backgroundColor.qname];for(var ue in T.head.layout.regions)if(T.head.layout.regions.hasOwnProperty(ue)){var de=T.head.layout.regions[ue],Oe=de.styleAttrs[f.byName.showBackground.qname]||k;z[de.id]=("always"===Oe||void 0===Oe)&&void 0!==(de.styleAttrs[f.byName.backgroundColor.qname]||K)&&!(j<de.begin||j>=de.end)}for(var ve in T.body&&T.body.regionID&&(z[T.body.regionID]=!0),Y=null!==T.body?function ut(Ve,ke){if(ke.contents){var ot={};for(var Qe in ke)ke.hasOwnProperty(Qe)&&(ot[Qe]=ke[Qe]);return ot.contents=[],ke.contents.filter(function(Rt){return!(Ve<Rt.begin||Ve>=Rt.end)}).forEach(function(Rt){var xe=ut(Ve,Rt);xe.regionID&&(z[xe.regionID]=!0),null!==xe&&ot.contents.push(xe)}),ot}return ke}(j,T.body):null,void 0!==z[""]&&(z[""]=!0),z)if(z[ve]){var Ge=A(T,j,T.head.layout.regions[ve],Y,null,"",T.head.layout.regions[ve],X,he);null!==Ge&&$.contents.push(Ge.element)}return $};var I=[f.byName.color.qname,f.byName.textCombine.qname,f.byName.textDecoration.qname,f.byName.textEmphasis.qname,f.byName.textOutline.qname,f.byName.textShadow.qname];function A(T,j,X,Y,$,he,z,k,K){if(j<z.begin||j>=z.end)return null;var ue="regionID"in z&&""!==z.regionID?z.regionID:he;if(null!==$&&ue!==X.id&&(!("contents"in z)||"contents"in z&&0===z.contents.length||""!==ue))return null;var de=new h(z);if("sets"in z)for(var Oe=0;Oe<z.sets.length;Oe++)j<z.sets[Oe].begin||j>=z.sets[Oe].end||(de.styleAttrs[z.sets[Oe].qname]=z.sets[Oe].value);var gt={};for(var ve in de.styleAttrs)if(de.styleAttrs.hasOwnProperty(ve)&&(gt[ve]=!0,"region"===de.kind&&ve===f.byName.writingMode.qname&&!(f.byName.direction.qname in de.styleAttrs))){var Ge=de.styleAttrs[ve];"lrtb"===Ge||"lr"===Ge?de.styleAttrs[f.byName.direction.qname]="ltr":"rltb"!==Ge&&"rl"!==Ge||(de.styleAttrs[f.byName.direction.qname]="rtl")}if(null!==$)for(var ut=0;ut<f.all.length;ut++){var Ve=f.all[ut];if(Ve.qname===f.byName.textDecoration.qname){var ke=$.styleAttrs[Ve.qname],ot=de.styleAttrs[Ve.qname],Qe=[];void 0===ot?Qe=ke:-1===ot.indexOf("none")?((-1===ot.indexOf("noUnderline")&&-1!==ke.indexOf("underline")||-1!==ot.indexOf("underline"))&&Qe.push("underline"),(-1===ot.indexOf("noLineThrough")&&-1!==ke.indexOf("lineThrough")||-1!==ot.indexOf("lineThrough"))&&Qe.push("lineThrough"),(-1===ot.indexOf("noOverline")&&-1!==ke.indexOf("overline")||-1!==ot.indexOf("overline"))&&Qe.push("overline")):Qe.push("none"),de.styleAttrs[Ve.qname]=Qe}else if(Ve.qname!==f.byName.fontSize.qname||Ve.qname in de.styleAttrs||"span"!==de.kind||"textContainer"!==de.styleAttrs[f.byName.ruby.qname])if(Ve.qname!==f.byName.fontSize.qname||Ve.qname in de.styleAttrs||"span"!==de.kind||"text"!==de.styleAttrs[f.byName.ruby.qname])Ve.inherit&&Ve.qname in $.styleAttrs&&!(Ve.qname in de.styleAttrs)&&(de.styleAttrs[Ve.qname]=$.styleAttrs[Ve.qname]);else{var Rt=$.styleAttrs[f.byName.fontSize.qname];de.styleAttrs[Ve.qname]="textContainer"===$.styleAttrs[f.byName.ruby.qname]?Rt:new d.ComputedLength(.5*Rt.rw,.5*Rt.rh)}else{var xe=$.styleAttrs[f.byName.fontSize.qname];de.styleAttrs[Ve.qname]=new d.ComputedLength(.5*xe.rw,.5*xe.rh)}}for(var et=0;et<f.all.length;et++){var jt=f.all[et];if(!(jt.qname in de.styleAttrs)&&!(jt.qname===f.byName.position.qname&&f.byName.origin.qname in de.styleAttrs||jt.qname===f.byName.origin.qname&&f.byName.position.qname in de.styleAttrs)){var It=T.head.styling.initials[jt.qname]||jt.initial;if(null!==It&&("region"===de.kind||!1===jt.inherit&&null!==It)){var Je=jt.parse(It);null!==Je?(de.styleAttrs[jt.qname]=Je,gt[jt.qname]=!0):y(k,"Invalid initial value for '"+jt.qname+"' on element '"+de.kind)}}}for(var bt=0;bt<f.all.length;bt++){var pe=f.all[bt];if(pe.qname in gt&&null!==pe.compute){var Ae=pe.compute(T,$,de,de.styleAttrs[pe.qname],K);null!==Ae?de.styleAttrs[pe.qname]=Ae:(de.styleAttrs[pe.qname]=pe.compute(T,$,de,pe.parse(pe.initial),K),y(k,"Style '"+pe.qname+"' on element '"+de.kind+"' cannot be computed"))}}if("none"===de.styleAttrs[f.byName.display.qname])return null;var lt=null;null===$?lt=null===Y?[]:[Y]:"contents"in z&&(lt=z.contents);for(var E=0;null!==lt&&E<lt.length;E++){var g=A(T,j,X,Y,de,ue,lt[E],k,K);null!==g&&de.contents.push(g.element)}for(var M in de.styleAttrs)if(de.styleAttrs.hasOwnProperty(M)){var O=!1;if("span"===de.kind){var ae=de.styleAttrs[f.byName.ruby.qname];(O=("container"===ae||"textContainer"===ae||"baseContainer"===ae)&&-1!==I.indexOf(M))||(O="container"!==ae&&M===f.byName.rubyAlign.qname),O||(O=!("textContainer"===ae||"text"===ae)&&M===f.byName.rubyPosition.qname)}if(!O){var oe=f.byQName[M];"applies"in oe&&(O=-1===oe.applies.indexOf(de.kind))}O&&delete de.styleAttrs[M]}var De=de.styleAttrs[f.byName.ruby.qname];if("p"===de.kind||"span"===de.kind&&("textContainer"===De||"text"===De)){var $e=[];v(de,$e),function(Ye){for(var Fe,qe=0;qe<Ye.length;)if("br"!==(Fe=Ye[qe]).kind&&"preserve"!==Fe.space){var ft=Fe.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(ft)&&(0===qe||"br"===(Se=Ye[qe-1]).kind||/[\r\n\t ]$/.test(Se.text))&&(ft=ft.substring(1)),Fe.text=ft,0===ft.length?Ye.splice(qe,1):qe++}else qe++;var Se,tt;for(qe=0;qe<Ye.length;qe++)"br"!==(Fe=Ye[qe]).kind&&"preserve"!==Fe.space?/[ ]$/.test(Fe.text)&&(qe===Ye.length-1||"br"===(tt=Ye[qe+1]).kind||"preserve"===tt.space&&/^[\r\n]/.test(tt.text))&&(Fe.text=Fe.text.slice(0,-1)):qe++}($e),w(de)}return"div"===de.kind&&f.byName.backgroundImage.qname in de.styleAttrs||"br"===de.kind||"image"===de.kind||"contents"in de&&de.contents.length>0||"span"===de.kind&&null!==de.text||"region"===de.kind&&"always"===de.styleAttrs[f.byName.showBackground.qname]?{region_id:ue,element:de}:null}function v(T,j){if("contents"in T)for(var X=0;X<T.contents.length;X++){var Y=T.contents[X],$=Y.styleAttrs[f.byName.ruby.qname];("span"!==Y.kind||"textContainer"!==$&&"text"!==$)&&("contents"in Y?v(Y,j):("span"===Y.kind&&0!==Y.text.length||"br"===Y.kind)&&j.push(Y))}}function w(T){if("br"===T.kind)return!1;if("text"in T)return 0===T.text.length;if("contents"in T){for(var j=T.contents.length;j--;)w(T.contents[j])&&T.contents.splice(j,1);return 0===T.contents.length}}function D(T){this.contents=[],this.aspectRatio=T.aspectRatio,this.lang=T.lang}function h(T){for(var j in this.kind=T.kind||"region",this.lang=T.lang,T.id&&(this.id=T.id),this.styleAttrs={},T.styleAttrs)T.styleAttrs.hasOwnProperty(j)&&(this.styleAttrs[j]=T.styleAttrs[j]);"src"in T&&(this.src=T.src),"type"in T&&(this.type=T.type),"text"in T?this.text=T.text:("region"===this.kind||"contents"in T)&&(this.contents=[]),"space"in T&&(this.space=T.space)}function y(T,j){if(T&&T.error&&T.error(j))throw j}}(Ze,typeof imscNames>"u"?H(210):imscNames,typeof imscStyles>"u"?H(6811):imscStyles,typeof imscUtils>"u"?H(5926):imscUtils)},4403:function(Et,Ze,H){Ze.generateISD=H(4080).generateISD,Ze.fromXML=H(3362).fromXML,Ze.renderHTML=H(506).render},210:function(Et,Ze){var H;(H=Ze).ns_tt="http://www.w3.org/ns/ttml",H.ns_tts="http://www.w3.org/ns/ttml#styling",H.ns_ttp="http://www.w3.org/ns/ttml#parameter",H.ns_xml="http://www.w3.org/XML/1998/namespace",H.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",H.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",H.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",H.ns_ebutts="urn:ebu:tt:style"},6811:function(Et,Ze,H){!function(ye,N,f){function d(v,w,D,h,y,T,j,X){this.name=w,this.ns=v,this.qname=v+" "+w,this.inherit=y,this.animatable=T,this.initial=D,this.applies=h,this.parse=j,this.compute=X}for(var I in ye.all=[new d(N.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,f.parseColor,null),new d(N.ns_tts,"color","white",["span"],!0,!0,f.parseColor,null),new d(N.ns_tts,"direction","ltr",["p","span"],!0,!0,function(v){return v},null),new d(N.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(v){return v},null),new d(N.ns_tts,"displayAlign","before",["region"],!1,!0,function(v){return v},null),new d(N.ns_tts,"extent","auto",["tt","region"],!1,!0,function(v){if("auto"===v)return v;var w=v.split(" ");if(2!==w.length)return null;var D=f.parseLength(w[0]),h=f.parseLength(w[1]);return h&&D?{h,w:D}:null},function(v,w,D,h,y){var T,j;if("auto"===h)T=new f.ComputedLength(0,1);else if(null===(T=f.toComputedLength(h.h.value,h.h.unit,null,v.dimensions.h,null,v.pxLength.h)))return null;if("auto"===h)j=new f.ComputedLength(1,0);else if(null===(j=f.toComputedLength(h.w.value,h.w.unit,null,v.dimensions.w,null,v.pxLength.w)))return null;return{h:T,w:j}}),new d(N.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(v){for(var w=v.split(","),D=[],h=0;h<w.length;h++)"'"!==w[h].charAt(0)&&'"'!==w[h].charAt(0)&&"default"===w[h]?D.push("monospaceSerif"):D.push(w[h]);return D},null),new d(N.ns_tts,"shear","0%",["p"],!0,!0,f.parseLength,function(v,w,D,h){return"%"!==h.unit?null:Math.abs(h.value)>100?100*Math.sign(h.value):h.value}),new d(N.ns_tts,"fontSize","1c",["span","p"],!0,!0,f.parseLength,function(v,w,D,h,y){return f.toComputedLength(h.value,h.unit,null!==w?w.styleAttrs[ye.byName.fontSize.qname]:v.cellLength.h,null!==w?w.styleAttrs[ye.byName.fontSize.qname]:v.cellLength.h,v.cellLength.h,v.pxLength.h)}),new d(N.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(v){return v},null),new d(N.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(v){return v},null),new d(N.ns_tts,"lineHeight","normal",["p"],!0,!0,function(v){return"normal"===v?v:f.parseLength(v)},function(v,w,D,h,y){var T;if("normal"===h)T=h;else if(null===(T=f.toComputedLength(h.value,h.unit,D.styleAttrs[ye.byName.fontSize.qname],D.styleAttrs[ye.byName.fontSize.qname],v.cellLength.h,v.pxLength.h)))return null;return T}),new d(N.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new d(N.ns_tts,"origin","auto",["region"],!1,!0,function(v){if("auto"===v)return v;var w=v.split(" ");if(2!==w.length)return null;var D=f.parseLength(w[0]),h=f.parseLength(w[1]);return h&&D?{h,w:D}:null},function(v,w,D,h,y){var T,j;if("auto"===h)T=new f.ComputedLength(0,0);else if(null===(T=f.toComputedLength(h.h.value,h.h.unit,null,v.dimensions.h,null,v.pxLength.h)))return null;if("auto"===h)j=new f.ComputedLength(0,0);else if(null===(j=f.toComputedLength(h.w.value,h.w.unit,null,v.dimensions.w,null,v.pxLength.w)))return null;return{h:T,w:j}}),new d(N.ns_tts,"overflow","hidden",["region"],!1,!0,function(v){return v},null),new d(N.ns_tts,"padding","0px",["region"],!1,!0,function(v){var w=v.split(" ");if(w.length>4)return null;for(var D=[],h=0;h<w.length;h++){var y=f.parseLength(w[h]);if(!y)return null;D.push(y)}return D},function(v,w,D,h,y){var T;if(1===h.length)T=[h[0],h[0],h[0],h[0]];else if(2===h.length)T=[h[0],h[1],h[0],h[1]];else if(3===h.length)T=[h[0],h[1],h[2],h[1]];else{if(4!==h.length)return null;T=[h[0],h[1],h[2],h[3]]}var j=D.styleAttrs[ye.byName.writingMode.qname];if("lrtb"===j||"lr"===j)T=[T[0],T[3],T[2],T[1]];else if("rltb"===j||"rl"===j)T=[T[0],T[1],T[2],T[3]];else if("tblr"===j)T=[T[3],T[0],T[1],T[2]];else{if("tbrl"!==j&&"tb"!==j)return null;T=[T[3],T[2],T[1],T[0]]}for(var X=[],Y=0;Y<T.length;Y++)if(0===T[Y].value)X[Y]=new f.ComputedLength(0,0);else if(X[Y]=f.toComputedLength(T[Y].value,T[Y].unit,D.styleAttrs[ye.byName.fontSize.qname],0===Y||2===Y?D.styleAttrs[ye.byName.extent.qname].h:D.styleAttrs[ye.byName.extent.qname].w,0===Y||2===Y?v.cellLength.h:v.cellLength.w,0===Y||2===Y?v.pxLength.h:v.pxLength.w),null===X[Y])return null;return X}),new d(N.ns_tts,"position","top left",["region"],!1,!0,function(v){return f.parsePosition(v)},function(v,w,D,h){var y,T;return null===(y=f.toComputedLength(h.v.offset.value,h.v.offset.unit,null,new f.ComputedLength(-D.styleAttrs[ye.byName.extent.qname].h.rw,v.dimensions.h.rh-D.styleAttrs[ye.byName.extent.qname].h.rh),null,v.pxLength.h))?null:("bottom"===h.v.edge&&(y=new f.ComputedLength(-y.rw-D.styleAttrs[ye.byName.extent.qname].h.rw,v.dimensions.h.rh-y.rh-D.styleAttrs[ye.byName.extent.qname].h.rh)),T=f.toComputedLength(h.h.offset.value,h.h.offset.unit,null,new f.ComputedLength(v.dimensions.w.rw-D.styleAttrs[ye.byName.extent.qname].w.rw,-D.styleAttrs[ye.byName.extent.qname].w.rh),null,v.pxLength.w),null===y?null:("right"===h.h.edge&&(T=new f.ComputedLength(v.dimensions.w.rw-T.rw-D.styleAttrs[ye.byName.extent.qname].w.rw,-T.rh-D.styleAttrs[ye.byName.extent.qname].w.rh)),{h:y,w:T}))}),new d(N.ns_tts,"ruby","none",["span"],!1,!0,function(v){return v},null),new d(N.ns_tts,"rubyAlign","center",["span"],!0,!0,function(v){return"center"!==v&&"spaceAround"!==v?null:v},null),new d(N.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(v){return v},null),new d(N.ns_tts,"rubyReserve","none",["p"],!0,!0,function(v){var w=v.split(" "),D=[null,null];if(0===w.length||w.length>2||"none"!==w[0]&&"both"!==w[0]&&"after"!==w[0]&&"before"!==w[0]&&"outside"!==w[0])return null;if(D[0]=w[0],2===w.length&&"none"!==w[0]){var h=f.parseLength(w[1]);if(!h)return null;D[1]=h}return D},function(v,w,D,h,y){return"none"===h[0]?h:null===(T=null===h[1]?new f.ComputedLength(.5*D.styleAttrs[ye.byName.fontSize.qname].rw,.5*D.styleAttrs[ye.byName.fontSize.qname].rh):f.toComputedLength(h[1].value,h[1].unit,D.styleAttrs[ye.byName.fontSize.qname],D.styleAttrs[ye.byName.fontSize.qname],v.cellLength.h,v.pxLength.h))?null:[h[0],T];var T}),new d(N.ns_tts,"showBackground","always",["region"],!1,!0,function(v){return v},null),new d(N.ns_tts,"textAlign","start",["p"],!0,!0,function(v){return v},function(v,w,D,h,y){return"left"===h?"start":"right"===h?"end":h}),new d(N.ns_tts,"textCombine","none",["span"],!0,!0,function(v){return"none"===v||"all"===v?v:null},null),new d(N.ns_tts,"textDecoration","none",["span"],!0,!0,function(v){return v.split(" ")},null),new d(N.ns_tts,"textEmphasis","none",["span"],!0,!0,function(v){for(var w=v.split(" "),D={style:null,symbol:null,color:null,position:null},h=0;h<w.length;h++)if("none"===w[h]||"auto"===w[h])D.style=w[h];else if("filled"===w[h]||"open"===w[h])D.style=w[h];else if("circle"===w[h]||"dot"===w[h]||"sesame"===w[h])D.symbol=w[h];else if("current"===w[h])D.color=w[h];else if("outside"===w[h]||"before"===w[h]||"after"===w[h])D.position=w[h];else if(D.color=f.parseColor(w[h]),null===D.color)return null;return null==D.style&&null==D.symbol?D.style="auto":(D.symbol=D.symbol||"circle",D.style=D.style||"filled"),D.position=D.position||"outside",D.color=D.color||"current",D},null),new d(N.ns_tts,"textOutline","none",["span"],!0,!0,function(v){if("none"===v)return v;var w={},D=v.split(" ");if(0===D.length||D.length>2)return null;var h=f.parseColor(D[0]);if(w.color=h,null!==h&&D.shift(),1!==D.length)return null;var y=f.parseLength(D[0]);return y?(w.thickness=y,w):null},function(v,w,D,h,y){if("none"===h)return h;var T={};return T.color=null===h.color?D.styleAttrs[ye.byName.color.qname]:h.color,T.thickness=f.toComputedLength(h.thickness.value,h.thickness.unit,D.styleAttrs[ye.byName.fontSize.qname],D.styleAttrs[ye.byName.fontSize.qname],v.cellLength.h,v.pxLength.h),null===T.thickness?null:T}),new d(N.ns_tts,"textShadow","none",["span"],!0,!0,f.parseTextShadow,function(v,w,D,h){if("none"===h)return h;for(var y=[],T=0;T<h.length;T++){var j={};if(j.x_off=f.toComputedLength(h[T][0].value,h[T][0].unit,null,D.styleAttrs[ye.byName.fontSize.qname],null,v.pxLength.w),null===j.x_off||(j.y_off=f.toComputedLength(h[T][1].value,h[T][1].unit,null,D.styleAttrs[ye.byName.fontSize.qname],null,v.pxLength.h),null===j.y_off))return null;if(null===h[T][2])j.b_radius=0;else if(j.b_radius=f.toComputedLength(h[T][2].value,h[T][2].unit,null,D.styleAttrs[ye.byName.fontSize.qname],null,v.pxLength.h),null===j.b_radius)return null;j.color=null===h[T][3]?D.styleAttrs[ye.byName.color.qname]:h[T][3],y.push(j)}return y}),new d(N.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(v){return v},null),new d(N.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(v){return v},null),new d(N.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(v){return v},null),new d(N.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(v){return v},null),new d(N.ns_tts,"zIndex","auto",["region"],!1,!0,function(v){var w;return"auto"===v?w=v:(w=parseInt(v),isNaN(w)&&(w=null)),w},null),new d(N.ns_ebutts,"linePadding","0c",["p"],!0,!1,f.parseLength,function(v,w,D,h,y){return f.toComputedLength(h.value,h.unit,null,null,v.cellLength.w,null)}),new d(N.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(v){return v},null),new d(N.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(v){return v},null),new d(N.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(v){return"true"===v},null),new d(N.ns_itts,"fillLineGap","false",["p"],!0,!0,function(v){return"true"===v},null)],ye.byQName={},ye.all)ye.byQName[ye.all[I].qname]=ye.all[I];for(var A in ye.byName={},ye.all)ye.byName[ye.all[A].name]=ye.all[A]}(Ze,typeof imscNames>"u"?H(210):imscNames,typeof imscUtils>"u"?H(5926):imscUtils)},5926:function(Et,Ze){!function(H){var ye=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,N=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,f=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,d={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};H.parseColor=function(A){var v,w=null,D=d[A.toLowerCase()];return void 0!==D?w=D:null!==(v=ye.exec(A))?w=[parseInt(v[1],16),parseInt(v[2],16),parseInt(v[3],16),void 0!==v[4]?parseInt(v[4],16):255]:null!==(v=N.exec(A))?w=[parseInt(v[1]),parseInt(v[2]),parseInt(v[3]),255]:null!==(v=f.exec(A))&&(w=[parseInt(v[1]),parseInt(v[2]),parseInt(v[3]),parseInt(v[4])]),w};var I=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;H.parseLength=function(A){var v,w=null;return null!==(v=I.exec(A))&&(w={value:parseFloat(v[1]),unit:v[2]}),w},H.parseTextShadow=function(A){for(var v=A.match(/([^\(,\)]|\([^\)]+\))+/g),w=[],D=0;D<v.length;D++){var h=v[D].split(" ");if(1===h.length&&"none"===h[0])return"none";if(h.length>1&&h.length<5){var y=[null,null,null,null],T=H.parseLength(h.shift());if(null===T||(y[0]=T,null===(T=H.parseLength(h.shift()))))return null;if(y[1]=T,0===h.length){w.push(y);continue}if(null!==(T=H.parseLength(h[0]))&&(y[2]=T,h.shift()),0===h.length){w.push(y);continue}var j=H.parseColor(h[0]);if(null===j)return null;y[3]=j,w.push(y)}}return w},H.parsePosition=function(A){var v=A.split(" "),w=function(Y){return"center"===Y||"left"===Y||"top"===Y||"bottom"===Y||"right"===Y};if(v.length>4)return null;for(var D=0;D<v.length;D++)if(!w(v[D])){var h=H.parseLength(v[D]);if(null===h)return null;v[D]=h}for(var y={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},T=0;T<v.length;){var j=v[T++];if(w(j)){var X={value:0,unit:"%"};2!==v.length&&T<v.length&&!w(v[T])&&(X=v[T++]),"right"===j?(y.h.edge=j,y.h.offset=X):"bottom"===j?(y.v.edge=j,y.v.offset=X):"left"===j?y.h.offset=X:"top"===j&&(y.v.offset=X)}else{if(1!==v.length&&2!==v.length)return null;1===T?y.h.offset=j:y.v.offset=j}}return y},H.ComputedLength=function(A,v){this.rw=A,this.rh=v},H.ComputedLength.prototype.toUsedLength=function(A,v){return A*this.rw+v*this.rh},H.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},H.toComputedLength=function(A,v,w,D,h,y){return"%"===v&&D?new H.ComputedLength(D.rw*A/100,D.rh*A/100):"em"===v&&w?new H.ComputedLength(w.rw*A,w.rh*A):"c"===v&&h?new H.ComputedLength(A*h.rw,A*h.rh):"px"===v&&y?new H.ComputedLength(A*y.rw,A*y.rh):"rh"===v?new H.ComputedLength(0,A/100):"rw"===v?new H.ComputedLength(A/100,0):null}}(Ze)},3516:function(Et){"use strict";Et.exports=function(Ze){var H="string"==typeof Ze?Ze.charCodeAt(0):Ze;return H>=97&&H<=122||H>=65&&H<=90}},2219:function(Et,Ze,H){"use strict";var ye=H(3516),N=H(395);Et.exports=function(f){return ye(f)||N(f)}},395:function(Et){"use strict";Et.exports=function(Ze){var H="string"==typeof Ze?Ze.charCodeAt(0):Ze;return H>=48&&H<=57}},3875:function(Et){"use strict";function Ze(N){if("string"!=typeof N)throw new TypeError("Path must be a string. Received "+JSON.stringify(N))}function H(N,f){for(var d,I="",A=0,v=-1,w=0,D=0;D<=N.length;++D){if(D<N.length)d=N.charCodeAt(D);else{if(47===d)break;d=47}if(47===d){if(v!==D-1&&1!==w)if(v!==D-1&&2===w){if(I.length<2||2!==A||46!==I.charCodeAt(I.length-1)||46!==I.charCodeAt(I.length-2))if(I.length>2){var h=I.lastIndexOf("/");if(h!==I.length-1){-1===h?(I="",A=0):A=(I=I.slice(0,h)).length-1-I.lastIndexOf("/"),v=D,w=0;continue}}else if(2===I.length||1===I.length){I="",A=0,v=D,w=0;continue}f&&(I.length>0?I+="/..":I="..",A=2)}else I.length>0?I+="/"+N.slice(v+1,D):I=N.slice(v+1,D),A=D-v-1;v=D,w=0}else 46===d&&-1!==w?++w:w=-1}return I}var ye={resolve:function(){for(var N,f="",d=!1,I=arguments.length-1;I>=-1&&!d;I--){var A;I>=0?A=arguments[I]:(void 0===N&&(N=process.cwd()),A=N),Ze(A),0!==A.length&&(f=A+"/"+f,d=47===A.charCodeAt(0))}return f=H(f,!d),d?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(N){if(Ze(N),0===N.length)return".";var f=47===N.charCodeAt(0),d=47===N.charCodeAt(N.length-1);return 0!==(N=H(N,!f)).length||f||(N="."),N.length>0&&d&&(N+="/"),f?"/"+N:N},isAbsolute:function(N){return Ze(N),N.length>0&&47===N.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var N,f=0;f<arguments.length;++f){var d=arguments[f];Ze(d),d.length>0&&(void 0===N?N=d:N+="/"+d)}return void 0===N?".":ye.normalize(N)},relative:function(N,f){if(Ze(N),Ze(f),N===f||(N=ye.resolve(N))===(f=ye.resolve(f)))return"";for(var d=1;d<N.length&&47===N.charCodeAt(d);++d);for(var I=N.length,A=I-d,v=1;v<f.length&&47===f.charCodeAt(v);++v);for(var w=f.length-v,D=A<w?A:w,h=-1,y=0;y<=D;++y){if(y===D){if(w>D){if(47===f.charCodeAt(v+y))return f.slice(v+y+1);if(0===y)return f.slice(v+y)}else A>D&&(47===N.charCodeAt(d+y)?h=y:0===y&&(h=0));break}var T=N.charCodeAt(d+y);if(T!==f.charCodeAt(v+y))break;47===T&&(h=y)}var j="";for(y=d+h+1;y<=I;++y)y!==I&&47!==N.charCodeAt(y)||(j+=0===j.length?"..":"/..");return j.length>0?j+f.slice(v+h):(47===f.charCodeAt(v+=h)&&++v,f.slice(v))},_makeLong:function(N){return N},dirname:function(N){if(Ze(N),0===N.length)return".";for(var f=N.charCodeAt(0),d=47===f,I=-1,A=!0,v=N.length-1;v>=1;--v)if(47===(f=N.charCodeAt(v))){if(!A){I=v;break}}else A=!1;return-1===I?d?"/":".":d&&1===I?"//":N.slice(0,I)},basename:function(N,f){if(void 0!==f&&"string"!=typeof f)throw new TypeError('"ext" argument must be a string');Ze(N);var d,I=0,A=-1,v=!0;if(void 0!==f&&f.length>0&&f.length<=N.length){if(f.length===N.length&&f===N)return"";var w=f.length-1,D=-1;for(d=N.length-1;d>=0;--d){var h=N.charCodeAt(d);if(47===h){if(!v){I=d+1;break}}else-1===D&&(v=!1,D=d+1),w>=0&&(h===f.charCodeAt(w)?-1==--w&&(A=d):(w=-1,A=D))}return I===A?A=D:-1===A&&(A=N.length),N.slice(I,A)}for(d=N.length-1;d>=0;--d)if(47===N.charCodeAt(d)){if(!v){I=d+1;break}}else-1===A&&(v=!1,A=d+1);return-1===A?"":N.slice(I,A)},extname:function(N){Ze(N);for(var f=-1,d=0,I=-1,A=!0,v=0,w=N.length-1;w>=0;--w){var D=N.charCodeAt(w);if(47!==D)-1===I&&(A=!1,I=w+1),46===D?-1===f?f=w:1!==v&&(v=1):-1!==f&&(v=-1);else if(!A){d=w+1;break}}return-1===f||-1===I||0===v||1===v&&f===I-1&&f===d+1?"":N.slice(f,I)},format:function(N){if(null===N||"object"!=typeof N)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof N);return A=(d=N).base||(d.name||"")+(d.ext||""),(I=d.dir||d.root)?I===d.root?I+A:I+"/"+A:A;var d,I,A},parse:function(N){Ze(N);var f={root:"",dir:"",base:"",ext:"",name:""};if(0===N.length)return f;var d,I=N.charCodeAt(0),A=47===I;A?(f.root="/",d=1):d=0;for(var v=-1,w=0,D=-1,h=!0,y=N.length-1,T=0;y>=d;--y)if(47!==(I=N.charCodeAt(y)))-1===D&&(h=!1,D=y+1),46===I?-1===v?v=y:1!==T&&(T=1):-1!==v&&(T=-1);else if(!h){w=y+1;break}return-1===v||-1===D||0===T||1===T&&v===D-1&&v===w+1?-1!==D&&(f.base=f.name=N.slice(0===w&&A?1:w,D)):(0===w&&A?(f.name=N.slice(1,v),f.base=N.slice(1,D)):(f.name=N.slice(w,v),f.base=N.slice(w,D)),f.ext=N.slice(v,D)),w>0?f.dir=N.slice(0,w-1):A&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};ye.posix=ye,Et.exports=ye},8387:function(Et,Ze,H){var ye=H(1549),N=ye.Buffer;function f(I,A){for(var v in I)A[v]=I[v]}function d(I,A,v){return N(I,A,v)}N.from&&N.alloc&&N.allocUnsafe&&N.allocUnsafeSlow?Et.exports=ye:(f(ye,Ze),Ze.Buffer=d),f(N,d),d.from=function(I,A,v){if("number"==typeof I)throw new TypeError("Argument must not be a number");return N(I,A,v)},d.alloc=function(I,A,v){if("number"!=typeof I)throw new TypeError("Argument must be a number");var w=N(I);return void 0!==A?"string"==typeof v?w.fill(A,v):w.fill(A):w.fill(0),w},d.allocUnsafe=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return N(I)},d.allocUnsafeSlow=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return ye.SlowBuffer(I)}},5378:function(Et,Ze,H){!function(ye){ye.parser=function(E,g){return new d(E,g)},ye.SAXParser=d,ye.SAXStream=A,ye.createStream=function(E,g){return new A(E,g)},ye.MAX_BUFFER_LENGTH=65536;var N,f=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function d(E,g){if(!(this instanceof d))return new d(E,g);var M=this;(function(O){for(var ae=0,oe=f.length;ae<oe;ae++)O[f[ae]]=""})(M),M.q=M.c="",M.bufferCheckPosition=ye.MAX_BUFFER_LENGTH,M.opt=g||{},M.opt.lowercase=M.opt.lowercase||M.opt.lowercasetags,M.looseCase=M.opt.lowercase?"toLowerCase":"toUpperCase",M.tags=[],M.closed=M.closedRoot=M.sawRoot=!1,M.tag=M.error=null,M.strict=!!E,M.noscript=!(!E&&!M.opt.noscript),M.state=ve.BEGIN,M.strictEntities=M.opt.strictEntities,M.ENTITIES=Object.create(M.strictEntities?ye.XML_ENTITIES:ye.ENTITIES),M.attribList=[],M.opt.xmlns&&(M.ns=Object.create(X)),M.trackPosition=!1!==M.opt.position,M.trackPosition&&(M.position=M.line=M.column=0),ut(M,"onready")}ye.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(E){function g(){}return g.prototype=E,new g}),Object.keys||(Object.keys=function(E){var g=[];for(var M in E)E.hasOwnProperty(M)&&g.push(M);return g}),d.prototype={end:function(){Rt(this)},write:function(E){var g=this;if(this.error)throw this.error;if(g.closed)return Qe(g,"Cannot write after close. Assign an onready handler.");if(null===E)return Rt(g);"object"==typeof E&&(E=E.toString());for(var M=0,O="";O=lt(E,M++),g.c=O,O;)switch(g.trackPosition&&(g.position++,"\n"===O?(g.line++,g.column=0):g.column++),g.state){case ve.BEGIN:if(g.state=ve.BEGIN_WHITESPACE,"\ufeff"===O)continue;Ae(g,O);continue;case ve.BEGIN_WHITESPACE:Ae(g,O);continue;case ve.TEXT:if(g.sawRoot&&!g.closedRoot){for(var ae=M-1;O&&"<"!==O&&"&"!==O;)(O=lt(E,M++))&&g.trackPosition&&(g.position++,"\n"===O?(g.line++,g.column=0):g.column++);g.textNode+=E.substring(ae,M-1)}"<"!==O||g.sawRoot&&g.closedRoot&&!g.strict?(!ue(v,O)||g.sawRoot&&!g.closedRoot||xe(g,"Text data outside of root node."),"&"===O?g.state=ve.TEXT_ENTITY:g.textNode+=O):(g.state=ve.OPEN_WAKA,g.startTagPosition=g.position);continue;case ve.SCRIPT:"<"===O?g.state=ve.SCRIPT_ENDING:g.script+=O;continue;case ve.SCRIPT_ENDING:"/"===O?g.state=ve.CLOSE_TAG:(g.script+="<"+O,g.state=ve.SCRIPT);continue;case ve.OPEN_WAKA:"!"===O?(g.state=ve.SGML_DECL,g.sgmlDecl=""):K(v,O)||(K(Y,O)?(g.state=ve.OPEN_TAG,g.tagName=O):"/"===O?(g.state=ve.CLOSE_TAG,g.tagName=""):"?"===O?(g.state=ve.PROC_INST,g.procInstName=g.procInstBody=""):(xe(g,"Unencoded <"),g.startTagPosition+1<g.position&&(O=new Array(g.position-g.startTagPosition).join(" ")+O),g.textNode+="<"+O,g.state=ve.TEXT));continue;case ve.SGML_DECL:"[CDATA["===(g.sgmlDecl+O).toUpperCase()?(Ve(g,"onopencdata"),g.state=ve.CDATA,g.sgmlDecl="",g.cdata=""):g.sgmlDecl+O==="--"?(g.state=ve.COMMENT,g.comment="",g.sgmlDecl=""):"DOCTYPE"===(g.sgmlDecl+O).toUpperCase()?(g.state=ve.DOCTYPE,(g.doctype||g.sawRoot)&&xe(g,"Inappropriately located doctype declaration"),g.doctype="",g.sgmlDecl=""):">"===O?(Ve(g,"onsgmldeclaration",g.sgmlDecl),g.sgmlDecl="",g.state=ve.TEXT):(K(h,O)&&(g.state=ve.SGML_DECL_QUOTED),g.sgmlDecl+=O);continue;case ve.SGML_DECL_QUOTED:O===g.q&&(g.state=ve.SGML_DECL,g.q=""),g.sgmlDecl+=O;continue;case ve.DOCTYPE:">"===O?(g.state=ve.TEXT,Ve(g,"ondoctype",g.doctype),g.doctype=!0):(g.doctype+=O,"["===O?g.state=ve.DOCTYPE_DTD:K(h,O)&&(g.state=ve.DOCTYPE_QUOTED,g.q=O));continue;case ve.DOCTYPE_QUOTED:g.doctype+=O,O===g.q&&(g.q="",g.state=ve.DOCTYPE);continue;case ve.DOCTYPE_DTD:g.doctype+=O,"]"===O?g.state=ve.DOCTYPE:K(h,O)&&(g.state=ve.DOCTYPE_DTD_QUOTED,g.q=O);continue;case ve.DOCTYPE_DTD_QUOTED:g.doctype+=O,O===g.q&&(g.state=ve.DOCTYPE_DTD,g.q="");continue;case ve.COMMENT:"-"===O?g.state=ve.COMMENT_ENDING:g.comment+=O;continue;case ve.COMMENT_ENDING:"-"===O?(g.state=ve.COMMENT_ENDED,g.comment=ot(g.opt,g.comment),g.comment&&Ve(g,"oncomment",g.comment),g.comment=""):(g.comment+="-"+O,g.state=ve.COMMENT);continue;case ve.COMMENT_ENDED:">"!==O?(xe(g,"Malformed comment"),g.comment+="--"+O,g.state=ve.COMMENT):g.state=ve.TEXT;continue;case ve.CDATA:"]"===O?g.state=ve.CDATA_ENDING:g.cdata+=O;continue;case ve.CDATA_ENDING:"]"===O?g.state=ve.CDATA_ENDING_2:(g.cdata+="]"+O,g.state=ve.CDATA);continue;case ve.CDATA_ENDING_2:">"===O?(g.cdata&&Ve(g,"oncdata",g.cdata),Ve(g,"onclosecdata"),g.cdata="",g.state=ve.TEXT):"]"===O?g.cdata+="]":(g.cdata+="]]"+O,g.state=ve.CDATA);continue;case ve.PROC_INST:"?"===O?g.state=ve.PROC_INST_ENDING:K(v,O)?g.state=ve.PROC_INST_BODY:g.procInstName+=O;continue;case ve.PROC_INST_BODY:if(!g.procInstBody&&K(v,O))continue;"?"===O?g.state=ve.PROC_INST_ENDING:g.procInstBody+=O;continue;case ve.PROC_INST_ENDING:">"===O?(Ve(g,"onprocessinginstruction",{name:g.procInstName,body:g.procInstBody}),g.procInstName=g.procInstBody="",g.state=ve.TEXT):(g.procInstBody+="?"+O,g.state=ve.PROC_INST_BODY);continue;case ve.OPEN_TAG:K($,O)?g.tagName+=O:(et(g),">"===O?Je(g):"/"===O?g.state=ve.OPEN_TAG_SLASH:(ue(v,O)&&xe(g,"Invalid character in tag name"),g.state=ve.ATTRIB));continue;case ve.OPEN_TAG_SLASH:">"===O?(Je(g,!0),bt(g)):(xe(g,"Forward-slash in opening tag not followed by >"),g.state=ve.ATTRIB);continue;case ve.ATTRIB:if(K(v,O))continue;">"===O?Je(g):"/"===O?g.state=ve.OPEN_TAG_SLASH:K(Y,O)?(g.attribName=O,g.attribValue="",g.state=ve.ATTRIB_NAME):xe(g,"Invalid attribute name");continue;case ve.ATTRIB_NAME:"="===O?g.state=ve.ATTRIB_VALUE:">"===O?(xe(g,"Attribute without value"),g.attribValue=g.attribName,It(g),Je(g)):K(v,O)?g.state=ve.ATTRIB_NAME_SAW_WHITE:K($,O)?g.attribName+=O:xe(g,"Invalid attribute name");continue;case ve.ATTRIB_NAME_SAW_WHITE:if("="===O)g.state=ve.ATTRIB_VALUE;else{if(K(v,O))continue;xe(g,"Attribute without value"),g.tag.attributes[g.attribName]="",g.attribValue="",Ve(g,"onattribute",{name:g.attribName,value:""}),g.attribName="",">"===O?Je(g):K(Y,O)?(g.attribName=O,g.state=ve.ATTRIB_NAME):(xe(g,"Invalid attribute name"),g.state=ve.ATTRIB)}continue;case ve.ATTRIB_VALUE:if(K(v,O))continue;K(h,O)?(g.q=O,g.state=ve.ATTRIB_VALUE_QUOTED):(xe(g,"Unquoted attribute value"),g.state=ve.ATTRIB_VALUE_UNQUOTED,g.attribValue=O);continue;case ve.ATTRIB_VALUE_QUOTED:if(O!==g.q){"&"===O?g.state=ve.ATTRIB_VALUE_ENTITY_Q:g.attribValue+=O;continue}It(g),g.q="",g.state=ve.ATTRIB_VALUE_CLOSED;continue;case ve.ATTRIB_VALUE_CLOSED:K(v,O)?g.state=ve.ATTRIB:">"===O?Je(g):"/"===O?g.state=ve.OPEN_TAG_SLASH:K(Y,O)?(xe(g,"No whitespace between attributes"),g.attribName=O,g.attribValue="",g.state=ve.ATTRIB_NAME):xe(g,"Invalid attribute name");continue;case ve.ATTRIB_VALUE_UNQUOTED:if(ue(y,O)){"&"===O?g.state=ve.ATTRIB_VALUE_ENTITY_U:g.attribValue+=O;continue}It(g),">"===O?Je(g):g.state=ve.ATTRIB;continue;case ve.CLOSE_TAG:if(g.tagName)">"===O?bt(g):K($,O)?g.tagName+=O:g.script?(g.script+="</"+g.tagName,g.tagName="",g.state=ve.SCRIPT):(ue(v,O)&&xe(g,"Invalid tagname in closing tag"),g.state=ve.CLOSE_TAG_SAW_WHITE);else{if(K(v,O))continue;ue(Y,O)?g.script?(g.script+="</"+O,g.state=ve.SCRIPT):xe(g,"Invalid tagname in closing tag."):g.tagName=O}continue;case ve.CLOSE_TAG_SAW_WHITE:if(K(v,O))continue;">"===O?bt(g):xe(g,"Invalid characters in closing tag");continue;case ve.TEXT_ENTITY:case ve.ATTRIB_VALUE_ENTITY_Q:case ve.ATTRIB_VALUE_ENTITY_U:var De,$e;switch(g.state){case ve.TEXT_ENTITY:De=ve.TEXT,$e="textNode";break;case ve.ATTRIB_VALUE_ENTITY_Q:De=ve.ATTRIB_VALUE_QUOTED,$e="attribValue";break;case ve.ATTRIB_VALUE_ENTITY_U:De=ve.ATTRIB_VALUE_UNQUOTED,$e="attribValue"}";"===O?(g[$e]+=pe(g),g.entity="",g.state=De):K(g.entity.length?z:he,O)?g.entity+=O:(xe(g,"Invalid character in entity name"),g[$e]+="&"+g.entity+O,g.entity="",g.state=De);continue;default:throw new Error(g,"Unknown state: "+g.state)}return g.position>=g.bufferCheckPosition&&function(Ye){for(var Fe=Math.max(ye.MAX_BUFFER_LENGTH,10),qe=0,ft=0,Se=f.length;ft<Se;ft++){var tt=Ye[f[ft]].length;if(tt>Fe)switch(f[ft]){case"textNode":ke(Ye);break;case"cdata":Ve(Ye,"oncdata",Ye.cdata),Ye.cdata="";break;case"script":Ve(Ye,"onscript",Ye.script),Ye.script="";break;default:Qe(Ye,"Max buffer length exceeded: "+f[ft])}qe=Math.max(qe,tt)}Ye.bufferCheckPosition=ye.MAX_BUFFER_LENGTH-qe+Ye.position}(g),g},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var E;ke(E=this),""!==E.cdata&&(Ve(E,"oncdata",E.cdata),E.cdata=""),""!==E.script&&(Ve(E,"onscript",E.script),E.script="")}};try{N=H(182).Stream}catch{N=function(){}}var I=ye.EVENTS.filter(function(E){return"error"!==E&&"end"!==E});function A(E,g){if(!(this instanceof A))return new A(E,g);N.apply(this),this._parser=new d(E,g),this.writable=!0,this.readable=!0;var M=this;this._parser.onend=function(){M.emit("end")},this._parser.onerror=function(O){M.emit("error",O),M._parser.error=null},this._decoder=null,I.forEach(function(O){Object.defineProperty(M,"on"+O,{get:function(){return M._parser["on"+O]},set:function(ae){if(!ae)return M.removeAllListeners(O),M._parser["on"+O]=ae,ae;M.on(O,ae)},enumerable:!0,configurable:!1})})}(A.prototype=Object.create(N.prototype,{constructor:{value:A}})).write=function(E){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(E)){if(!this._decoder){var g=H(7503).s;this._decoder=new g("utf8")}E=this._decoder.write(E)}return this._parser.write(E.toString()),this.emit("data",E),!0},A.prototype.end=function(E){return E&&E.length&&this.write(E),this._parser.end(),!0},A.prototype.on=function(E,g){var M=this;return M._parser["on"+E]||-1===I.indexOf(E)||(M._parser["on"+E]=function(){var O=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,E),M.emit.apply(M,O)}),N.prototype.on.call(M,E,g)};var v="\r\n\t ",w="0124356789",D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",h="'\"",y=v+">",T="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",X={xml:T,xmlns:j};v=k(v),w=k(w),D=k(D);var Y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,he=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function k(E){return E.split("").reduce(function(g,M){return g[M]=!0,g},{})}function K(E,g){return"[object RegExp]"===Object.prototype.toString.call(E)?!!g.match(E):E[g]}function ue(E,g){return!K(E,g)}h=k(h),y=k(y);var de,Oe,gt,ve=0;for(var Ge in ye.STATE={BEGIN:ve++,BEGIN_WHITESPACE:ve++,TEXT:ve++,TEXT_ENTITY:ve++,OPEN_WAKA:ve++,SGML_DECL:ve++,SGML_DECL_QUOTED:ve++,DOCTYPE:ve++,DOCTYPE_QUOTED:ve++,DOCTYPE_DTD:ve++,DOCTYPE_DTD_QUOTED:ve++,COMMENT_STARTING:ve++,COMMENT:ve++,COMMENT_ENDING:ve++,COMMENT_ENDED:ve++,CDATA:ve++,CDATA_ENDING:ve++,CDATA_ENDING_2:ve++,PROC_INST:ve++,PROC_INST_BODY:ve++,PROC_INST_ENDING:ve++,OPEN_TAG:ve++,OPEN_TAG_SLASH:ve++,ATTRIB:ve++,ATTRIB_NAME:ve++,ATTRIB_NAME_SAW_WHITE:ve++,ATTRIB_VALUE:ve++,ATTRIB_VALUE_QUOTED:ve++,ATTRIB_VALUE_CLOSED:ve++,ATTRIB_VALUE_UNQUOTED:ve++,ATTRIB_VALUE_ENTITY_Q:ve++,ATTRIB_VALUE_ENTITY_U:ve++,CLOSE_TAG:ve++,CLOSE_TAG_SAW_WHITE:ve++,SCRIPT:ve++,SCRIPT_ENDING:ve++},ye.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ye.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(ye.ENTITIES).forEach(function(E){var g=ye.ENTITIES[E],M="number"==typeof g?String.fromCharCode(g):g;ye.ENTITIES[E]=M}),ye.STATE)ye.STATE[ye.STATE[Ge]]=Ge;function ut(E,g,M){E[g]&&E[g](M)}function Ve(E,g,M){E.textNode&&ke(E),ut(E,g,M)}function ke(E){E.textNode=ot(E.opt,E.textNode),E.textNode&&ut(E,"ontext",E.textNode),E.textNode=""}function ot(E,g){return E.trim&&(g=g.trim()),E.normalize&&(g=g.replace(/\s+/g," ")),g}function Qe(E,g){return ke(E),E.trackPosition&&(g+="\nLine: "+E.line+"\nColumn: "+E.column+"\nChar: "+E.c),g=new Error(g),E.error=g,ut(E,"onerror",g),E}function Rt(E){return E.sawRoot&&!E.closedRoot&&xe(E,"Unclosed root tag"),E.state!==ve.BEGIN&&E.state!==ve.BEGIN_WHITESPACE&&E.state!==ve.TEXT&&Qe(E,"Unexpected end"),ke(E),E.c="",E.closed=!0,ut(E,"onend"),d.call(E,E.strict,E.opt),E}function xe(E,g){if("object"!=typeof E||!(E instanceof d))throw new Error("bad call to strictFail");E.strict&&Qe(E,g)}function et(E){E.strict||(E.tagName=E.tagName[E.looseCase]());var g=E.tags[E.tags.length-1]||E,M=E.tag={name:E.tagName,attributes:{}};E.opt.xmlns&&(M.ns=g.ns),E.attribList.length=0,Ve(E,"onopentagstart",M)}function jt(E,g){var M=E.indexOf(":")<0?["",E]:E.split(":"),O=M[0],ae=M[1];return g&&"xmlns"===E&&(O="xmlns",ae=""),{prefix:O,local:ae}}function It(E){if(E.strict||(E.attribName=E.attribName[E.looseCase]()),-1!==E.attribList.indexOf(E.attribName)||E.tag.attributes.hasOwnProperty(E.attribName))E.attribName=E.attribValue="";else{if(E.opt.xmlns){var g=jt(E.attribName,!0),O=g.local;if("xmlns"===g.prefix)if("xml"===O&&E.attribValue!==T)xe(E,"xml: prefix must be bound to "+T+"\nActual: "+E.attribValue);else if("xmlns"===O&&E.attribValue!==j)xe(E,"xmlns: prefix must be bound to "+j+"\nActual: "+E.attribValue);else{var ae=E.tag,oe=E.tags[E.tags.length-1]||E;ae.ns===oe.ns&&(ae.ns=Object.create(oe.ns)),ae.ns[O]=E.attribValue}E.attribList.push([E.attribName,E.attribValue])}else E.tag.attributes[E.attribName]=E.attribValue,Ve(E,"onattribute",{name:E.attribName,value:E.attribValue});E.attribName=E.attribValue=""}}function Je(E,g){if(E.opt.xmlns){var M=E.tag,O=jt(E.tagName);M.prefix=O.prefix,M.local=O.local,M.uri=M.ns[O.prefix]||"",M.prefix&&!M.uri&&(xe(E,"Unbound namespace prefix: "+JSON.stringify(E.tagName)),M.uri=O.prefix),M.ns&&(E.tags[E.tags.length-1]||E).ns!==M.ns&&Object.keys(M.ns).forEach(function(Tt){Ve(E,"onopennamespace",{prefix:Tt,uri:M.ns[Tt]})});for(var oe=0,De=E.attribList.length;oe<De;oe++){var $e=E.attribList[oe],Ye=$e[0],Fe=$e[1],qe=jt(Ye,!0),ft=qe.prefix,tt=""===ft?"":M.ns[ft]||"",He={name:Ye,value:Fe,prefix:ft,local:qe.local,uri:tt};ft&&"xmlns"!==ft&&!tt&&(xe(E,"Unbound namespace prefix: "+JSON.stringify(ft)),He.uri=ft),E.tag.attributes[Ye]=He,Ve(E,"onattribute",He)}E.attribList.length=0}E.tag.isSelfClosing=!!g,E.sawRoot=!0,E.tags.push(E.tag),Ve(E,"onopentag",E.tag),g||(E.state=E.noscript||"script"!==E.tagName.toLowerCase()?ve.TEXT:ve.SCRIPT,E.tag=null,E.tagName=""),E.attribName=E.attribValue="",E.attribList.length=0}function bt(E){if(!E.tagName)return xe(E,"Weird empty close tag."),E.textNode+="</>",void(E.state=ve.TEXT);if(E.script){if("script"!==E.tagName)return E.script+="</"+E.tagName+">",E.tagName="",void(E.state=ve.SCRIPT);Ve(E,"onscript",E.script),E.script=""}var g=E.tags.length,M=E.tagName;E.strict||(M=M[E.looseCase]());for(var O=M;g--&&E.tags[g].name!==O;)xe(E,"Unexpected close tag");if(g<0)return xe(E,"Unmatched closing tag: "+E.tagName),E.textNode+="</"+E.tagName+">",void(E.state=ve.TEXT);E.tagName=M;for(var ae=E.tags.length;ae-- >g;){var oe=E.tag=E.tags.pop();E.tagName=E.tag.name,Ve(E,"onclosetag",E.tagName);var De={};for(var $e in oe.ns)De[$e]=oe.ns[$e];E.opt.xmlns&&oe.ns!==(E.tags[E.tags.length-1]||E).ns&&Object.keys(oe.ns).forEach(function(Fe){Ve(E,"onclosenamespace",{prefix:Fe,uri:oe.ns[Fe]})})}0===g&&(E.closedRoot=!0),E.tagName=E.attribValue=E.attribName="",E.attribList.length=0,E.state=ve.TEXT}function pe(E){var g,M=E.entity,O=M.toLowerCase(),ae="";return E.ENTITIES[M]?E.ENTITIES[M]:E.ENTITIES[O]?E.ENTITIES[O]:("#"===(M=O).charAt(0)&&("x"===M.charAt(1)?(M=M.slice(2),ae=(g=parseInt(M,16)).toString(16)):(M=M.slice(1),ae=(g=parseInt(M,10)).toString(10))),M=M.replace(/^0+/,""),ae.toLowerCase()!==M?(xe(E,"Invalid character entity"),"&"+E.entity+";"):String.fromCodePoint(g))}function Ae(E,g){"<"===g?(E.state=ve.OPEN_WAKA,E.startTagPosition=E.position):ue(v,g)&&(xe(E,"Non-whitespace before first tag."),E.textNode=g,E.state=ve.TEXT)}function lt(E,g){var M="";return g<E.length&&(M=E.charAt(g)),M}ve=ye.STATE,String.fromCodePoint||(de=String.fromCharCode,Oe=Math.floor,gt=function(){var E,O=[],ae=-1,oe=arguments.length;if(!oe)return"";for(var De="";++ae<oe;){var $e=Number(arguments[ae]);if(!isFinite($e)||$e<0||$e>1114111||Oe($e)!==$e)throw RangeError("Invalid code point: "+$e);$e<=65535?O.push($e):(E=55296+(($e-=65536)>>10),O.push(E,$e%1024+56320)),(ae+1===oe||O.length>16384)&&(De+=de.apply(null,O),O.length=0)}return De},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:gt,configurable:!0,writable:!0}):String.fromCodePoint=gt)}(Ze)},182:function(Et,Ze,H){Et.exports=N;var ye=H(1159).EventEmitter;function N(){ye.call(this)}H(1765)(N,ye),N.Readable=H(2846),N.Writable=H(8318),N.Duplex=H(6138),N.Transform=H(9798),N.PassThrough=H(5472),N.finished=H(8800),N.pipeline=H(7295),N.Stream=N,N.prototype.pipe=function(f,d){var I=this;function A(j){f.writable&&!1===f.write(j)&&I.pause&&I.pause()}function v(){I.readable&&I.resume&&I.resume()}I.on("data",A),f.on("drain",v),f._isStdio||d&&!1===d.end||(I.on("end",D),I.on("close",h));var w=!1;function D(){w||(w=!0,f.end())}function h(){w||(w=!0,"function"==typeof f.destroy&&f.destroy())}function y(j){if(T(),0===ye.listenerCount(this,"error"))throw j}function T(){I.removeListener("data",A),f.removeListener("drain",v),I.removeListener("end",D),I.removeListener("close",h),I.removeListener("error",y),f.removeListener("error",y),I.removeListener("end",T),I.removeListener("close",T),f.removeListener("close",T)}return I.on("error",y),f.on("error",y),I.on("end",T),I.on("close",T),f.on("close",T),f.emit("pipe",I),f}},1765:function(Et){Et.exports="function"==typeof Object.create?function(Ze,H){H&&(Ze.super_=H,Ze.prototype=Object.create(H.prototype,{constructor:{value:Ze,enumerable:!1,writable:!0,configurable:!0}}))}:function(Ze,H){if(H){Ze.super_=H;var ye=function(){};ye.prototype=H.prototype,Ze.prototype=new ye,Ze.prototype.constructor=Ze}}},3690:function(Et){"use strict";var Ze={};function H(N,f,d){d||(d=Error);var I=function(A){var v,w;function D(h,y,T){return A.call(this,"string"==typeof f?f:f(h,y,T))||this}return w=A,(v=D).prototype=Object.create(w.prototype),v.prototype.constructor=v,v.__proto__=w,D}(d);I.prototype.name=d.name,I.prototype.code=N,Ze[N]=I}function ye(N,f){if(Array.isArray(N)){var d=N.length;return N=N.map(function(I){return String(I)}),d>2?"one of ".concat(f," ").concat(N.slice(0,d-1).join(", "),", or ")+N[d-1]:2===d?"one of ".concat(f," ").concat(N[0]," or ").concat(N[1]):"of ".concat(f," ").concat(N[0])}return"of ".concat(f," ").concat(String(N))}H("ERR_INVALID_OPT_VALUE",function(N,f){return'The value "'+f+'" is invalid for option "'+N+'"'},TypeError),H("ERR_INVALID_ARG_TYPE",function(N,f,d){var I,v,w,D,y,j;if("string"==typeof f&&"not "===f.substr(0,"not ".length)?(I="must not be",f=f.replace(/^not /,"")):I="must be",y=N,(void 0===j||j>y.length)&&(j=y.length)," argument"===y.substring(j-" argument".length,j))v="The ".concat(N," ").concat(I," ").concat(ye(f,"type"));else{var h=("number"!=typeof D&&(D=0),D+1>(w=N).length||-1===w.indexOf(".",D)?"argument":"property");v='The "'.concat(N,'" ').concat(h," ").concat(I," ").concat(ye(f,"type"))}return v+". Received type ".concat(typeof d)},TypeError),H("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),H("ERR_METHOD_NOT_IMPLEMENTED",function(N){return"The "+N+" method is not implemented"}),H("ERR_STREAM_PREMATURE_CLOSE","Premature close"),H("ERR_STREAM_DESTROYED",function(N){return"Cannot call "+N+" after a stream was destroyed"}),H("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),H("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),H("ERR_STREAM_WRITE_AFTER_END","write after end"),H("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),H("ERR_UNKNOWN_ENCODING",function(N){return"Unknown encoding: "+N},TypeError),H("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Et.exports.q=Ze},6138:function(Et,Ze,H){"use strict";var ye=Object.keys||function(h){var y=[];for(var T in h)y.push(T);return y};Et.exports=v;var N=H(2846),f=H(8318);H(1765)(v,N);for(var d=ye(f.prototype),I=0;I<d.length;I++){var A=d[I];v.prototype[A]||(v.prototype[A]=f.prototype[A])}function v(h){if(!(this instanceof v))return new v(h);N.call(this,h),f.call(this,h),this.allowHalfOpen=!0,h&&(!1===h.readable&&(this.readable=!1),!1===h.writable&&(this.writable=!1),!1===h.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",w)))}function w(){this._writableState.ended||process.nextTick(D,this)}function D(h){h.end()}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},5472:function(Et,Ze,H){"use strict";Et.exports=N;var ye=H(9798);function N(f){if(!(this instanceof N))return new N(f);ye.call(this,f)}H(1765)(N,ye),N.prototype._transform=function(f,d,I){I(null,f)}},2846:function(Et,Ze,H){"use strict";var ye;Et.exports=de,de.ReadableState=ue,H(1159);var N,f=function(pe,Ae){return pe.listeners(Ae).length},d=H(9299),I=H(1549).Buffer,A=H.g.Uint8Array||function(){},v=H(964);N=v&&v.debuglog?v.debuglog("stream"):function(){};var w,D,h,y=H(8393),T=H(6163),j=H(7269).getHighWaterMark,X=H(3690).q,Y=X.ERR_INVALID_ARG_TYPE,$=X.ERR_STREAM_PUSH_AFTER_EOF,he=X.ERR_METHOD_NOT_IMPLEMENTED,z=X.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;H(1765)(de,d);var k=T.errorOrDestroy,K=["error","close","destroy","pause","resume"];function ue(pe,Ae,lt){ye=ye||H(6138),"boolean"!=typeof lt&&(lt=Ae instanceof ye),this.objectMode=!!(pe=pe||{}).objectMode,lt&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=j(this,pe,"readableHighWaterMark",lt),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==pe.emitClose,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(w||(w=H(7503).s),this.decoder=new w(pe.encoding),this.encoding=pe.encoding)}function de(pe){if(ye=ye||H(6138),!(this instanceof de))return new de(pe);this._readableState=new ue(pe,this,this instanceof ye),this.readable=!0,pe&&("function"==typeof pe.read&&(this._read=pe.read),"function"==typeof pe.destroy&&(this._destroy=pe.destroy)),d.call(this)}function Oe(pe,Ae,lt,E,g){N("readableAddChunk",Ae);var M,ae,oe,De,$e,O=pe._readableState;if(null===Ae)O.reading=!1,function(ae,oe){if(N("onEofChunk"),!oe.ended){if(oe.decoder){var De=oe.decoder.end();De&&De.length&&(oe.buffer.push(De),oe.length+=oe.objectMode?1:De.length)}oe.ended=!0,oe.sync?ut(ae):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,Ve(ae)))}}(pe,O);else if(g||(ae=O,I.isBuffer($e=oe=Ae)||$e instanceof A||"string"==typeof oe||void 0===oe||ae.objectMode||(De=new Y("chunk",["string","Buffer","Uint8Array"],oe)),M=De),M)k(pe,M);else if(O.objectMode||Ae&&Ae.length>0)if("string"==typeof Ae||O.objectMode||Object.getPrototypeOf(Ae)===I.prototype||(Ae=function(ae){return I.from(ae)}(Ae)),E)O.endEmitted?k(pe,new z):gt(pe,O,Ae,!0);else if(O.ended)k(pe,new $);else{if(O.destroyed)return!1;O.reading=!1,O.decoder&&!lt?(Ae=O.decoder.write(Ae),O.objectMode||0!==Ae.length?gt(pe,O,Ae,!1):ke(pe,O)):gt(pe,O,Ae,!1)}else E||(O.reading=!1,ke(pe,O));return!O.ended&&(O.length<O.highWaterMark||0===O.length)}function gt(pe,Ae,lt,E){Ae.flowing&&0===Ae.length&&!Ae.sync?(Ae.awaitDrain=0,pe.emit("data",lt)):(Ae.length+=Ae.objectMode?1:lt.length,E?Ae.buffer.unshift(lt):Ae.buffer.push(lt),Ae.needReadable&&ut(pe)),ke(pe,Ae)}Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(pe){this._readableState&&(this._readableState.destroyed=pe)}}),de.prototype.destroy=T.destroy,de.prototype._undestroy=T.undestroy,de.prototype._destroy=function(pe,Ae){Ae(pe)},de.prototype.push=function(pe,Ae){var lt,E=this._readableState;return E.objectMode?lt=!0:"string"==typeof pe&&((Ae=Ae||E.defaultEncoding)!==E.encoding&&(pe=I.from(pe,Ae),Ae=""),lt=!0),Oe(this,pe,Ae,!1,lt)},de.prototype.unshift=function(pe){return Oe(this,pe,null,!0,!1)},de.prototype.isPaused=function(){return!1===this._readableState.flowing},de.prototype.setEncoding=function(pe){w||(w=H(7503).s);var Ae=new w(pe);this._readableState.decoder=Ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var lt=this._readableState.buffer.head,E="";null!==lt;)E+=Ae.write(lt.data),lt=lt.next;return this._readableState.buffer.clear(),""!==E&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var ve=1073741824;function Ge(pe,Ae){return pe<=0||0===Ae.length&&Ae.ended?0:Ae.objectMode?1:pe!=pe?Ae.flowing&&Ae.length?Ae.buffer.head.data.length:Ae.length:(pe>Ae.highWaterMark&&(Ae.highWaterMark=((lt=pe)>=ve?lt=ve:(lt--,lt|=lt>>>1,lt|=lt>>>2,lt|=lt>>>4,lt|=lt>>>8,lt|=lt>>>16,lt++),lt)),pe<=Ae.length?pe:Ae.ended?Ae.length:(Ae.needReadable=!0,0));var lt}function ut(pe){var Ae=pe._readableState;N("emitReadable",Ae.needReadable,Ae.emittedReadable),Ae.needReadable=!1,Ae.emittedReadable||(N("emitReadable",Ae.flowing),Ae.emittedReadable=!0,process.nextTick(Ve,pe))}function Ve(pe){var Ae=pe._readableState;N("emitReadable_",Ae.destroyed,Ae.length,Ae.ended),Ae.destroyed||!Ae.length&&!Ae.ended||(pe.emit("readable"),Ae.emittedReadable=!1),Ae.needReadable=!Ae.flowing&&!Ae.ended&&Ae.length<=Ae.highWaterMark,et(pe)}function ke(pe,Ae){Ae.readingMore||(Ae.readingMore=!0,process.nextTick(ot,pe,Ae))}function ot(pe,Ae){for(;!Ae.reading&&!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.flowing&&0===Ae.length);){var lt=Ae.length;if(N("maybeReadMore read 0"),pe.read(0),lt===Ae.length)break}Ae.readingMore=!1}function Qe(pe){var Ae=pe._readableState;Ae.readableListening=pe.listenerCount("readable")>0,Ae.resumeScheduled&&!Ae.paused?Ae.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function Rt(pe){N("readable nexttick read 0"),pe.read(0)}function xe(pe,Ae){N("resume",Ae.reading),Ae.reading||pe.read(0),Ae.resumeScheduled=!1,pe.emit("resume"),et(pe),Ae.flowing&&!Ae.reading&&pe.read(0)}function et(pe){var Ae=pe._readableState;for(N("flow",Ae.flowing);Ae.flowing&&null!==pe.read(););}function jt(pe,Ae){return 0===Ae.length?null:(Ae.objectMode?lt=Ae.buffer.shift():!pe||pe>=Ae.length?(lt=Ae.decoder?Ae.buffer.join(""):1===Ae.buffer.length?Ae.buffer.first():Ae.buffer.concat(Ae.length),Ae.buffer.clear()):lt=Ae.buffer.consume(pe,Ae.decoder),lt);var lt}function It(pe){var Ae=pe._readableState;N("endReadable",Ae.endEmitted),Ae.endEmitted||(Ae.ended=!0,process.nextTick(Je,Ae,pe))}function Je(pe,Ae){if(N("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&0===pe.length&&(pe.endEmitted=!0,Ae.readable=!1,Ae.emit("end"),pe.autoDestroy)){var lt=Ae._writableState;(!lt||lt.autoDestroy&&lt.finished)&&Ae.destroy()}}function bt(pe,Ae){for(var lt=0,E=pe.length;lt<E;lt++)if(pe[lt]===Ae)return lt;return-1}de.prototype.read=function(pe){N("read",pe),pe=parseInt(pe,10);var Ae=this._readableState,lt=pe;if(0!==pe&&(Ae.emittedReadable=!1),0===pe&&Ae.needReadable&&((0!==Ae.highWaterMark?Ae.length>=Ae.highWaterMark:Ae.length>0)||Ae.ended))return N("read: emitReadable",Ae.length,Ae.ended),0===Ae.length&&Ae.ended?It(this):ut(this),null;if(0===(pe=Ge(pe,Ae))&&Ae.ended)return 0===Ae.length&&It(this),null;var E,g=Ae.needReadable;return N("need readable",g),(0===Ae.length||Ae.length-pe<Ae.highWaterMark)&&N("length less than watermark",g=!0),Ae.ended||Ae.reading?N("reading or ended",g=!1):g&&(N("do read"),Ae.reading=!0,Ae.sync=!0,0===Ae.length&&(Ae.needReadable=!0),this._read(Ae.highWaterMark),Ae.sync=!1,Ae.reading||(pe=Ge(lt,Ae))),null===(E=pe>0?jt(pe,Ae):null)?(Ae.needReadable=Ae.length<=Ae.highWaterMark,pe=0):(Ae.length-=pe,Ae.awaitDrain=0),0===Ae.length&&(Ae.ended||(Ae.needReadable=!0),lt!==pe&&Ae.ended&&It(this)),null!==E&&this.emit("data",E),E},de.prototype._read=function(pe){k(this,new he("_read()"))},de.prototype.pipe=function(pe,Ae){var lt=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=pe;break;case 1:E.pipes=[E.pipes,pe];break;default:E.pipes.push(pe)}E.pipesCount+=1,N("pipe count=%d opts=%j",E.pipesCount,Ae);var g=Ae&&!1===Ae.end||pe===process.stdout||pe===process.stderr?Fe:M;function M(){N("onend"),pe.end()}E.endEmitted?process.nextTick(g):lt.once("end",g),pe.on("unpipe",function qe(ft,Se){N("onunpipe"),ft===lt&&Se&&!1===Se.hasUnpiped&&(Se.hasUnpiped=!0,N("cleanup"),pe.removeListener("close",$e),pe.removeListener("finish",Ye),pe.removeListener("drain",O),pe.removeListener("error",De),pe.removeListener("unpipe",qe),lt.removeListener("end",M),lt.removeListener("end",Fe),lt.removeListener("data",oe),ae=!0,!E.awaitDrain||pe._writableState&&!pe._writableState.needDrain||O())});var qe,O=(qe=lt,function(){var ft=qe._readableState;N("pipeOnDrain",ft.awaitDrain),ft.awaitDrain&&ft.awaitDrain--,0===ft.awaitDrain&&f(qe,"data")&&(ft.flowing=!0,et(qe))});pe.on("drain",O);var ae=!1;function oe(qe){N("ondata");var ft=pe.write(qe);N("dest.write",ft),!1===ft&&((1===E.pipesCount&&E.pipes===pe||E.pipesCount>1&&-1!==bt(E.pipes,pe))&&!ae&&(N("false write response, pause",E.awaitDrain),E.awaitDrain++),lt.pause())}function De(qe){N("onerror",qe),Fe(),pe.removeListener("error",De),0===f(pe,"error")&&k(pe,qe)}function $e(){pe.removeListener("finish",Ye),Fe()}function Ye(){N("onfinish"),pe.removeListener("close",$e),Fe()}function Fe(){N("unpipe"),lt.unpipe(pe)}return lt.on("data",oe),function(qe,ft,Se){if("function"==typeof qe.prependListener)return qe.prependListener(ft,Se);qe._events&&qe._events[ft]?Array.isArray(qe._events[ft])?qe._events[ft].unshift(Se):qe._events[ft]=[Se,qe._events[ft]]:qe.on(ft,Se)}(pe,"error",De),pe.once("close",$e),pe.once("finish",Ye),pe.emit("pipe",lt),E.flowing||(N("pipe resume"),lt.resume()),pe},de.prototype.unpipe=function(pe){var Ae=this._readableState,lt={hasUnpiped:!1};if(0===Ae.pipesCount)return this;if(1===Ae.pipesCount)return pe&&pe!==Ae.pipes||(pe||(pe=Ae.pipes),Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1,pe&&pe.emit("unpipe",this,lt)),this;if(!pe){var E=Ae.pipes,g=Ae.pipesCount;Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1;for(var M=0;M<g;M++)E[M].emit("unpipe",this,{hasUnpiped:!1});return this}var O=bt(Ae.pipes,pe);return-1===O||(Ae.pipes.splice(O,1),Ae.pipesCount-=1,1===Ae.pipesCount&&(Ae.pipes=Ae.pipes[0]),pe.emit("unpipe",this,lt)),this},de.prototype.addListener=de.prototype.on=function(pe,Ae){var lt=d.prototype.on.call(this,pe,Ae),E=this._readableState;return"data"===pe?(E.readableListening=this.listenerCount("readable")>0,!1!==E.flowing&&this.resume()):"readable"===pe&&(E.endEmitted||E.readableListening||(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,N("on readable",E.length,E.reading),E.length?ut(this):E.reading||process.nextTick(Rt,this))),lt},de.prototype.removeListener=function(pe,Ae){var lt=d.prototype.removeListener.call(this,pe,Ae);return"readable"===pe&&process.nextTick(Qe,this),lt},de.prototype.removeAllListeners=function(pe){var Ae=d.prototype.removeAllListeners.apply(this,arguments);return"readable"!==pe&&void 0!==pe||process.nextTick(Qe,this),Ae},de.prototype.resume=function(){var lt,pe=this._readableState;return pe.flowing||(N("resume"),pe.flowing=!pe.readableListening,this,(lt=pe).resumeScheduled||(lt.resumeScheduled=!0,process.nextTick(xe,this,lt))),pe.paused=!1,this},de.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},de.prototype.wrap=function(pe){var Ae=this,lt=this._readableState,E=!1;for(var g in pe.on("end",function(){if(N("wrapped end"),lt.decoder&&!lt.ended){var O=lt.decoder.end();O&&O.length&&Ae.push(O)}Ae.push(null)}),pe.on("data",function(O){N("wrapped data"),lt.decoder&&(O=lt.decoder.write(O)),lt.objectMode&&null==O||(lt.objectMode||O&&O.length)&&(Ae.push(O)||(E=!0,pe.pause()))}),pe)void 0===this[g]&&"function"==typeof pe[g]&&(this[g]=function(O){return function(){return pe[O].apply(pe,arguments)}}(g));for(var M=0;M<K.length;M++)pe.on(K[M],this.emit.bind(this,K[M]));return this._read=function(O){N("wrapped _read",O),E&&(E=!1,pe.resume())},this},"function"==typeof Symbol&&(de.prototype[Symbol.asyncIterator]=function(){return void 0===D&&(D=H(7299)),D(this)}),Object.defineProperty(de.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(de.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(de.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(pe){this._readableState&&(this._readableState.flowing=pe)}}),de._fromList=jt,Object.defineProperty(de.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(de.from=function(pe,Ae){return void 0===h&&(h=H(6233)),h(de,pe,Ae)})},9798:function(Et,Ze,H){"use strict";Et.exports=w;var ye=H(3690).q,N=ye.ERR_METHOD_NOT_IMPLEMENTED,f=ye.ERR_MULTIPLE_CALLBACK,d=ye.ERR_TRANSFORM_ALREADY_TRANSFORMING,I=ye.ERR_TRANSFORM_WITH_LENGTH_0,A=H(6138);function v(y,T){var j=this._transformState;j.transforming=!1;var X=j.writecb;if(null===X)return this.emit("error",new f);j.writechunk=null,j.writecb=null,null!=T&&this.push(T),X(y);var Y=this._readableState;Y.reading=!1,(Y.needReadable||Y.length<Y.highWaterMark)&&this._read(Y.highWaterMark)}function w(y){if(!(this instanceof w))return new w(y);A.call(this,y),this._transformState={afterTransform:v.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&("function"==typeof y.transform&&(this._transform=y.transform),"function"==typeof y.flush&&(this._flush=y.flush)),this.on("prefinish",D)}function D(){var y=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(T,j){h(y,T,j)})}function h(y,T,j){if(T)return y.emit("error",T);if(null!=j&&y.push(j),y._writableState.length)throw new I;if(y._transformState.transforming)throw new d;return y.push(null)}H(1765)(w,A),w.prototype.push=function(y,T){return this._transformState.needTransform=!1,A.prototype.push.call(this,y,T)},w.prototype._transform=function(y,T,j){j(new N("_transform()"))},w.prototype._write=function(y,T,j){var X=this._transformState;if(X.writecb=j,X.writechunk=y,X.writeencoding=T,!X.transforming){var Y=this._readableState;(X.needTransform||Y.needReadable||Y.length<Y.highWaterMark)&&this._read(Y.highWaterMark)}},w.prototype._read=function(y){var T=this._transformState;null===T.writechunk||T.transforming?T.needTransform=!0:(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform))},w.prototype._destroy=function(y,T){A.prototype._destroy.call(this,y,function(j){T(j)})}},8318:function(Et,Ze,H){"use strict";function ye(ke){var ot=this;this.next=null,this.entry=null,this.finish=function(){!function(Qe,Rt,xe){var et=Qe.entry;for(Qe.entry=null;et;){var jt=et.callback;Rt.pendingcb--,jt(void 0),et=et.next}Rt.corkedRequestsFree.next=Qe}(ot,ke)}}var N;Et.exports=de,de.WritableState=ue;var f,d={deprecate:H(7839)},I=H(9299),A=H(1549).Buffer,v=H.g.Uint8Array||function(){},w=H(6163),D=H(7269).getHighWaterMark,h=H(3690).q,y=h.ERR_INVALID_ARG_TYPE,T=h.ERR_METHOD_NOT_IMPLEMENTED,j=h.ERR_MULTIPLE_CALLBACK,X=h.ERR_STREAM_CANNOT_PIPE,Y=h.ERR_STREAM_DESTROYED,$=h.ERR_STREAM_NULL_VALUES,he=h.ERR_STREAM_WRITE_AFTER_END,z=h.ERR_UNKNOWN_ENCODING,k=w.errorOrDestroy;function K(){}function ue(ke,ot,Qe){N=N||H(6138),"boolean"!=typeof Qe&&(Qe=ot instanceof N),this.objectMode=!!(ke=ke||{}).objectMode,Qe&&(this.objectMode=this.objectMode||!!ke.writableObjectMode),this.highWaterMark=D(this,ke,"writableHighWaterMark",Qe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ke.decodeStrings),this.defaultEncoding=ke.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xe){!function(et,jt){var Ae,It=et._writableState,Je=It.sync,bt=It.writecb;if("function"!=typeof bt)throw new j;if((Ae=It).writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0,jt)!function(Ae,lt,E,g,M){--lt.pendingcb,E?(process.nextTick(M,g),process.nextTick(Ve,Ae,lt),Ae._writableState.errorEmitted=!0,k(Ae,g)):(M(g),Ae._writableState.errorEmitted=!0,k(Ae,g),Ve(Ae,lt))}(et,It,Je,jt,bt);else{var pe=Ge(It)||et.destroyed;pe||It.corked||It.bufferProcessing||!It.bufferedRequest||ve(et,It),Je?process.nextTick(gt,et,It,pe,bt):gt(et,It,pe,bt)}}(ot,xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ke.emitClose,this.autoDestroy=!!ke.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ye(this)}function de(ke){var ot=this instanceof(N=N||H(6138));if(!ot&&!f.call(de,this))return new de(ke);this._writableState=new ue(ke,this,ot),this.writable=!0,ke&&("function"==typeof ke.write&&(this._write=ke.write),"function"==typeof ke.writev&&(this._writev=ke.writev),"function"==typeof ke.destroy&&(this._destroy=ke.destroy),"function"==typeof ke.final&&(this._final=ke.final)),I.call(this)}function Oe(ke,ot,Qe,Rt,xe,et,jt){ot.writelen=Rt,ot.writecb=jt,ot.writing=!0,ot.sync=!0,ot.destroyed?ot.onwrite(new Y("write")):Qe?ke._writev(xe,ot.onwrite):ke._write(xe,et,ot.onwrite),ot.sync=!1}function gt(ke,ot,Qe,Rt){var xe,et;Qe||(xe=ke,0===(et=ot).length&&et.needDrain&&(et.needDrain=!1,xe.emit("drain"))),ot.pendingcb--,Rt(),Ve(ke,ot)}function ve(ke,ot){ot.bufferProcessing=!0;var Qe=ot.bufferedRequest;if(ke._writev&&Qe&&Qe.next){var xe=new Array(ot.bufferedRequestCount),et=ot.corkedRequestsFree;et.entry=Qe;for(var jt=0,It=!0;Qe;)xe[jt]=Qe,Qe.isBuf||(It=!1),Qe=Qe.next,jt+=1;xe.allBuffers=It,Oe(ke,ot,!0,ot.length,xe,"",et.finish),ot.pendingcb++,ot.lastBufferedRequest=null,et.next?(ot.corkedRequestsFree=et.next,et.next=null):ot.corkedRequestsFree=new ye(ot),ot.bufferedRequestCount=0}else{for(;Qe;){var Je=Qe.chunk;if(Oe(ke,ot,!1,ot.objectMode?1:Je.length,Je,Qe.encoding,Qe.callback),Qe=Qe.next,ot.bufferedRequestCount--,ot.writing)break}null===Qe&&(ot.lastBufferedRequest=null)}ot.bufferedRequest=Qe,ot.bufferProcessing=!1}function Ge(ke){return ke.ending&&0===ke.length&&null===ke.bufferedRequest&&!ke.finished&&!ke.writing}function ut(ke,ot){ke._final(function(Qe){ot.pendingcb--,Qe&&k(ke,Qe),ot.prefinished=!0,ke.emit("prefinish"),Ve(ke,ot)})}function Ve(ke,ot){var xe,et,Qe=Ge(ot);if(Qe&&(xe=ke,(et=ot).prefinished||et.finalCalled||("function"!=typeof xe._final||et.destroyed?(et.prefinished=!0,xe.emit("prefinish")):(et.pendingcb++,et.finalCalled=!0,process.nextTick(ut,xe,et))),0===ot.pendingcb&&(ot.finished=!0,ke.emit("finish"),ot.autoDestroy))){var Rt=ke._readableState;(!Rt||Rt.autoDestroy&&Rt.endEmitted)&&ke.destroy()}return Qe}H(1765)(de,I),ue.prototype.getBuffer=function(){for(var ke=this.bufferedRequest,ot=[];ke;)ot.push(ke),ke=ke.next;return ot},function(){try{Object.defineProperty(ue.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(de,Symbol.hasInstance,{value:function(ke){return!!f.call(this,ke)||this===de&&ke&&ke._writableState instanceof ue}})):f=function(ke){return ke instanceof this},de.prototype.pipe=function(){k(this,new X)},de.prototype.write=function(ke,ot,Qe){var Rt,It,Je,bt,xe=this._writableState,et=!1,jt=!xe.objectMode&&(A.isBuffer(Rt=ke)||Rt instanceof v);return jt&&!A.isBuffer(ke)&&(ke=A.from(ke)),"function"==typeof ot&&(Qe=ot,ot=null),jt?ot="buffer":ot||(ot=xe.defaultEncoding),"function"!=typeof Qe&&(Qe=K),xe.ending?(It=this,Je=Qe,bt=new he,k(It,bt),process.nextTick(Je,bt)):(jt||function(It,Je,bt,pe){var Ae;return null===bt?Ae=new $:"string"==typeof bt||Je.objectMode||(Ae=new y("chunk",["string","Buffer"],bt)),!Ae||(k(It,Ae),process.nextTick(pe,Ae),!1)}(this,xe,ke,Qe))&&(xe.pendingcb++,et=function(It,Je,bt,pe,Ae,lt){if(!bt){var E=(oe=pe,(ae=Je).objectMode||!1===ae.decodeStrings||"string"!=typeof oe||(oe=A.from(oe,Ae)),oe);pe!==E&&(bt=!0,Ae="buffer",pe=E)}var ae,oe,g=Je.objectMode?1:pe.length;Je.length+=g;var M=Je.length<Je.highWaterMark;if(M||(Je.needDrain=!0),Je.writing||Je.corked){var O=Je.lastBufferedRequest;Je.lastBufferedRequest={chunk:pe,encoding:Ae,isBuf:bt,callback:lt,next:null},O?O.next=Je.lastBufferedRequest:Je.bufferedRequest=Je.lastBufferedRequest,Je.bufferedRequestCount+=1}else Oe(It,Je,!1,g,pe,Ae,lt);return M}(this,xe,jt,ke,ot,Qe)),et},de.prototype.cork=function(){this._writableState.corked++},de.prototype.uncork=function(){var ke=this._writableState;ke.corked&&(ke.corked--,ke.writing||ke.corked||ke.bufferProcessing||!ke.bufferedRequest||ve(this,ke))},de.prototype.setDefaultEncoding=function(ke){if("string"==typeof ke&&(ke=ke.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ke+"").toLowerCase())>-1))throw new z(ke);return this._writableState.defaultEncoding=ke,this},Object.defineProperty(de.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(de.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),de.prototype._write=function(ke,ot,Qe){Qe(new T("_write()"))},de.prototype._writev=null,de.prototype.end=function(ke,ot,Qe){var et,jt,Rt=this._writableState;return"function"==typeof ke?(Qe=ke,ke=null,ot=null):"function"==typeof ot&&(Qe=ot,ot=null),null!=ke&&this.write(ke,ot),Rt.corked&&(Rt.corked=1,this.uncork()),Rt.ending||(this,jt=Qe,(et=Rt).ending=!0,Ve(this,et),jt&&(et.finished?process.nextTick(jt):this.once("finish",jt)),et.ended=!0,this.writable=!1),this},Object.defineProperty(de.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ke){this._writableState&&(this._writableState.destroyed=ke)}}),de.prototype.destroy=w.destroy,de.prototype._undestroy=w.undestroy,de.prototype._destroy=function(ke,ot){ot(ke)}},7299:function(Et,Ze,H){"use strict";var ye;function N($,he,z){return he in $?Object.defineProperty($,he,{value:z,enumerable:!0,configurable:!0,writable:!0}):$[he]=z,$}var f=H(8800),d=Symbol("lastResolve"),I=Symbol("lastReject"),A=Symbol("error"),v=Symbol("ended"),w=Symbol("lastPromise"),D=Symbol("handlePromise"),h=Symbol("stream");function y($,he){return{value:$,done:he}}function T($){var he=$[d];if(null!==he){var z=$[h].read();null!==z&&($[w]=null,$[d]=null,$[I]=null,he(y(z,!1)))}}function j($){process.nextTick(T,$)}var X=Object.getPrototypeOf(function(){}),Y=Object.setPrototypeOf((N(ye={get stream(){return this[h]},next:function(){var $=this,he=this[A];if(null!==he)return Promise.reject(he);if(this[v])return Promise.resolve(y(void 0,!0));if(this[h].destroyed)return new Promise(function(ue,de){process.nextTick(function(){$[A]?de($[A]):ue(y(void 0,!0))})});var z,ue,de,k=this[w];if(k)z=new Promise((ue=k,de=this,function(Oe,gt){ue.then(function(){de[v]?Oe(y(void 0,!0)):de[D](Oe,gt)},gt)}));else{var K=this[h].read();if(null!==K)return Promise.resolve(y(K,!1));z=new Promise(this[D])}return this[w]=z,z}},Symbol.asyncIterator,function(){return this}),N(ye,"return",function(){var $=this;return new Promise(function(he,z){$[h].destroy(null,function(k){k?z(k):he(y(void 0,!0))})})}),ye),X);Et.exports=function($){var he,z=Object.create(Y,(N(he={},h,{value:$,writable:!0}),N(he,d,{value:null,writable:!0}),N(he,I,{value:null,writable:!0}),N(he,A,{value:null,writable:!0}),N(he,v,{value:$._readableState.endEmitted,writable:!0}),N(he,D,{value:function(k,K){var ue=z[h].read();ue?(z[w]=null,z[d]=null,z[I]=null,k(y(ue,!1))):(z[d]=k,z[I]=K)},writable:!0}),he));return z[w]=null,f($,function(k){if(k&&"ERR_STREAM_PREMATURE_CLOSE"!==k.code){var K=z[I];return null!==K&&(z[w]=null,z[d]=null,z[I]=null,K(k)),void(z[A]=k)}var ue=z[d];null!==ue&&(z[w]=null,z[d]=null,z[I]=null,ue(y(void 0,!0))),z[v]=!0}),$.on("readable",j.bind(null,z)),z}},8393:function(Et,Ze,H){"use strict";function ye(v,w){var D=Object.keys(v);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(v);w&&(h=h.filter(function(y){return Object.getOwnPropertyDescriptor(v,y).enumerable})),D.push.apply(D,h)}return D}function N(v,w,D){return w in v?Object.defineProperty(v,w,{value:D,enumerable:!0,configurable:!0,writable:!0}):v[w]=D,v}var d=H(1549).Buffer,I=H(9862).inspect,A=I&&I.custom||"inspect";Et.exports=function(){function v(){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v),this.head=null,this.tail=null,this.length=0}var D;return D=[{key:"push",value:function(h){var y={data:h,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(h){var y={data:h,next:this.head};0===this.length&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(0!==this.length){var h=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(0===this.length)return"";for(var y=this.head,T=""+y.data;y=y.next;)T+=h+y.data;return T}},{key:"concat",value:function(h){if(0===this.length)return d.alloc(0);for(var X=d.allocUnsafe(h>>>0),Y=this.head,$=0;Y;)d.prototype.copy.call(Y.data,X,$),$+=Y.data.length,Y=Y.next;return X}},{key:"consume",value:function(h,y){var T;return h<this.head.data.length?(T=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):T=h===this.head.data.length?this.shift():y?this._getString(h):this._getBuffer(h),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var y=this.head,T=1,j=y.data;for(h-=j.length;y=y.next;){var X=y.data,Y=h>X.length?X.length:h;if(j+=Y===X.length?X:X.slice(0,h),0==(h-=Y)){Y===X.length?(++T,this.head=y.next?y.next:this.tail=null):(this.head=y,y.data=X.slice(Y));break}++T}return this.length-=T,j}},{key:"_getBuffer",value:function(h){var y=d.allocUnsafe(h),T=this.head,j=1;for(T.data.copy(y),h-=T.data.length;T=T.next;){var X=T.data,Y=h>X.length?X.length:h;if(X.copy(y,y.length-h,0,Y),0==(h-=Y)){Y===X.length?(++j,this.head=T.next?T.next:this.tail=null):(this.head=T,T.data=X.slice(Y));break}++j}return this.length-=j,y}},{key:A,value:function(h,y){return I(this,function(T){for(var j=1;j<arguments.length;j++){var X=null!=arguments[j]?arguments[j]:{};j%2?ye(Object(X),!0).forEach(function(Y){N(T,Y,X[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(X)):ye(Object(X)).forEach(function(Y){Object.defineProperty(T,Y,Object.getOwnPropertyDescriptor(X,Y))})}return T}({},y,{depth:0,customInspect:!1}))}}],D&&function f(v,w){for(var D=0;D<w.length;D++){var h=w[D];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}(v.prototype,D),v}()},6163:function(Et){"use strict";function Ze(N,f){ye(N,f),H(N)}function H(N){N._writableState&&!N._writableState.emitClose||N._readableState&&!N._readableState.emitClose||N.emit("close")}function ye(N,f){N.emit("error",f)}Et.exports={destroy:function(N,f){var d=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(f?f(N):N&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ye,this,N)):process.nextTick(ye,this,N)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(N||null,function(v){!f&&v?d._writableState?d._writableState.errorEmitted?process.nextTick(H,d):(d._writableState.errorEmitted=!0,process.nextTick(Ze,d,v)):process.nextTick(Ze,d,v):f?(process.nextTick(H,d),f(v)):process.nextTick(H,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(N,f){var d=N._readableState,I=N._writableState;d&&d.autoDestroy||I&&I.autoDestroy?N.destroy(f):N.emit("error",f)}}},8800:function(Et,Ze,H){"use strict";var ye=H(3690).q.ERR_STREAM_PREMATURE_CLOSE;function N(){}Et.exports=function f(d,I,A){if("function"==typeof I)return f(d,null,I);var he,z;I||(I={}),he=A||N,z=!1,A=function(){if(!z){z=!0;for(var k=arguments.length,K=new Array(k),ue=0;ue<k;ue++)K[ue]=arguments[ue];he.apply(this,K)}};var v=I.readable||!1!==I.readable&&d.readable,w=I.writable||!1!==I.writable&&d.writable,D=function(){d.writable||y()},h=d._writableState&&d._writableState.finished,y=function(){w=!1,h=!0,v||A.call(d)},T=d._readableState&&d._readableState.endEmitted,j=function(){v=!1,T=!0,w||A.call(d)},X=function(he){A.call(d,he)},Y=function(){var he;return v&&!T?(d._readableState&&d._readableState.ended||(he=new ye),A.call(d,he)):w&&!h?(d._writableState&&d._writableState.ended||(he=new ye),A.call(d,he)):void 0},$=function(){d.req.on("finish",y)};return function(he){return he.setHeader&&"function"==typeof he.abort}(d)?(d.on("complete",y),d.on("abort",Y),d.req?$():d.on("request",$)):w&&!d._writableState&&(d.on("end",D),d.on("close",D)),d.on("end",j),d.on("finish",y),!1!==I.error&&d.on("error",X),d.on("close",Y),function(){d.removeListener("complete",y),d.removeListener("abort",Y),d.removeListener("request",$),d.req&&d.req.removeListener("finish",y),d.removeListener("end",D),d.removeListener("close",D),d.removeListener("finish",y),d.removeListener("end",j),d.removeListener("error",X),d.removeListener("close",Y)}}},6233:function(Et){Et.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:function(Et,Ze,H){"use strict";var ye,N=H(3690).q,f=N.ERR_MISSING_ARGS,d=N.ERR_STREAM_DESTROYED;function I(h){if(h)throw h}function v(h){h()}function w(h,y){return h.pipe(y)}Et.exports=function(){for(var h=arguments.length,y=new Array(h),T=0;T<h;T++)y[T]=arguments[T];var j,X=function D(h){return h.length?"function"!=typeof h[h.length-1]?I:h.pop():I}(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new f("streams");var Y=y.map(function($,he){var z=he<y.length-1;return function A(h,y,T,j){var $,he;$=j,he=!1,j=function(){he||(he=!0,$.apply(void 0,arguments))};var X=!1;h.on("close",function(){X=!0}),void 0===ye&&(ye=H(8800)),ye(h,{readable:y,writable:T},function($){if($)return j($);X=!0,j()});var Y=!1;return function($){if(!X&&!Y)return Y=!0,function(he){return he.setHeader&&"function"==typeof he.abort}(h)?h.abort():"function"==typeof h.destroy?h.destroy():void j($||new d("pipe"))}}($,z,he>0,function(k){j||(j=k),k&&Y.forEach(v),z||(Y.forEach(v),X(j))})});return y.reduce(w)}},7269:function(Et,Ze,H){"use strict";var ye=H(3690).q.ERR_INVALID_OPT_VALUE;Et.exports={getHighWaterMark:function(N,f,d,I){var v,A=null!=(v=f).highWaterMark?v.highWaterMark:I?v[d]:null;if(null!=A){if(!isFinite(A)||Math.floor(A)!==A||A<0)throw new ye(I?d:"highWaterMark",A);return Math.floor(A)}return N.objectMode?16:16384}}},9299:function(Et,Ze,H){Et.exports=H(1159).EventEmitter},7503:function(Et,Ze,H){"use strict";var ye=H(8387).Buffer,N=ye.isEncoding||function(T){switch((T=""+T)&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(T){var j;switch(this.encoding=function(X){var Y=function($){if(!$)return"utf8";for(var he;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(he)return;$=(""+$).toLowerCase(),he=!0}}(X);if("string"!=typeof Y&&(ye.isEncoding===N||!N(X)))throw new Error("Unknown encoding: "+X);return Y||X}(T),this.encoding){case"utf16le":this.text=A,this.end=v,j=4;break;case"utf8":this.fillLast=I,j=4;break;case"base64":this.text=w,this.end=D,j=3;break;default:return this.write=h,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ye.allocUnsafe(j)}function d(T){return T<=127?0:T>>5==6?2:T>>4==14?3:T>>3==30?4:T>>6==2?-1:-2}function I(T){var j=this.lastTotal-this.lastNeed,X=function(Y,$,he){if(128!=(192&$[0]))return Y.lastNeed=0,"\ufffd";if(Y.lastNeed>1&&$.length>1){if(128!=(192&$[1]))return Y.lastNeed=1,"\ufffd";if(Y.lastNeed>2&&$.length>2&&128!=(192&$[2]))return Y.lastNeed=2,"\ufffd"}}(this,T);return void 0!==X?X:this.lastNeed<=T.length?(T.copy(this.lastChar,j,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(T.copy(this.lastChar,j,0,T.length),void(this.lastNeed-=T.length))}function A(T,j){if((T.length-j)%2==0){var X=T.toString("utf16le",j);if(X){var Y=X.charCodeAt(X.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],X.slice(0,-1)}return X}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",j,T.length-1)}function v(T){var j=T&&T.length?this.write(T):"";return this.lastNeed?j+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):j}function w(T,j){var X=(T.length-j)%3;return 0===X?T.toString("base64",j):(this.lastNeed=3-X,this.lastTotal=3,1===X?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",j,T.length-X))}function D(T){var j=T&&T.length?this.write(T):"";return this.lastNeed?j+this.lastChar.toString("base64",0,3-this.lastNeed):j}function h(T){return T.toString(this.encoding)}function y(T){return T&&T.length?this.write(T):""}Ze.s=f,f.prototype.write=function(T){if(0===T.length)return"";var j,X;if(this.lastNeed){if(void 0===(j=this.fillLast(T)))return"";X=this.lastNeed,this.lastNeed=0}else X=0;return X<T.length?j?j+this.text(T,X):this.text(T,X):j||""},f.prototype.end=function(T){var j=T&&T.length?this.write(T):"";return this.lastNeed?j+"\ufffd":j},f.prototype.text=function(T,j){var X=function($,he,z){var k=he.length-1;if(k<z)return 0;var K=d(he[k]);return K>=0?(K>0&&($.lastNeed=K-1),K):--k<z||-2===K?0:(K=d(he[k]))>=0?(K>0&&($.lastNeed=K-2),K):--k<z||-2===K?0:(K=d(he[k]))>=0?(K>0&&(2===K?K=0:$.lastNeed=K-3),K):0}(this,T,j);if(!this.lastNeed)return T.toString("utf8",j);this.lastTotal=X;var Y=T.length-(X-this.lastNeed);return T.copy(this.lastChar,0,Y),T.toString("utf8",j,Y)},f.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length}},1067:function(Et,Ze,H){var ye;!function(N,f){"use strict";var d="function",I="undefined",A="object",v="string",w="model",D="name",h="type",y="vendor",T="version",j="architecture",X="console",Y="mobile",$="tablet",he="smarttv",z="wearable",k="embedded",K="Amazon",ue="Apple",Oe="BlackBerry",gt="Browser",ve="Chrome",Ge="Firefox",ut="Google",ot="Microsoft",Qe="Motorola",Rt="Opera",xe="Samsung",et="Sony",It="Zebra",Je="Facebook",bt=function($e){for(var Ye={},Fe=0;Fe<$e.length;Fe++)Ye[$e[Fe].toUpperCase()]=$e[Fe];return Ye},pe=function($e,Ye){return typeof $e===v&&-1!==Ae(Ye).indexOf(Ae($e))},Ae=function($e){return $e.toLowerCase()},lt=function($e,Ye){if(typeof $e===v)return $e=$e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Ye===I?$e:$e.substring(0,255)},E=function($e,Ye){for(var Fe,qe,ft,Se,tt,He,Tt=0;Tt<Ye.length&&!tt;){var Nt=Ye[Tt],an=Ye[Tt+1];for(Fe=qe=0;Fe<Nt.length&&!tt;)if(tt=Nt[Fe++].exec($e))for(ft=0;ft<an.length;ft++)He=tt[++qe],typeof(Se=an[ft])===A&&Se.length>0?2===Se.length?this[Se[0]]=typeof Se[1]==d?Se[1].call(this,He):Se[1]:3===Se.length?this[Se[0]]=typeof Se[1]!==d||Se[1].exec&&Se[1].test?He?He.replace(Se[1],Se[2]):f:He?Se[1].call(this,He,Se[2]):f:4===Se.length&&(this[Se[0]]=He?Se[3].call(this,He.replace(Se[1],Se[2])):f):this[Se]=He||f;Tt+=2}},g=function($e,Ye){for(var Fe in Ye)if(typeof Ye[Fe]===A&&Ye[Fe].length>0){for(var qe=0;qe<Ye[Fe].length;qe++)if(pe(Ye[Fe][qe],$e))return"?"===Fe?f:Fe}else if(pe(Ye[Fe],$e))return"?"===Fe?f:Fe;return $e},M={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},O={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[T,[D,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[T,[D,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[D,T],[/opios[\/ ]+([\w\.]+)/i],[T,[D,Rt+" Mini"]],[/\bopr\/([\w\.]+)/i],[T,[D,Rt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[D,T],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[T,[D,"UC"+gt]],[/\bqbcore\/([\w\.]+)/i],[T,[D,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[T,[D,"WeChat"]],[/konqueror\/([\w\.]+)/i],[T,[D,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[T,[D,"IE"]],[/yabrowser\/([\w\.]+)/i],[T,[D,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[D,/(.+)/,"$1 Secure "+gt],T],[/\bfocus\/([\w\.]+)/i],[T,[D,Ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[T,[D,Rt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[T,[D,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[T,[D,"Dolphin"]],[/coast\/([\w\.]+)/i],[T,[D,Rt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[T,[D,"MIUI "+gt]],[/fxios\/([-\w\.]+)/i],[T,[D,Ge]],[/\bqihu|(qi?ho?o?|360)browser/i],[[D,"360 "+gt]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[D,/(.+)/,"$1 "+gt],T],[/(comodo_dragon)\/([\w\.]+)/i],[[D,/_/g," "],T],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[D,T],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[D],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[D,Je],T],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[D,T],[/\bgsa\/([\w\.]+) .*safari\//i],[T,[D,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[T,[D,ve+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[D,ve+" WebView"],T],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[T,[D,"Android "+gt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[D,T],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[T,[D,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[T,D],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[D,[T,g,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[D,T],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[D,"Netscape"],T],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[T,[D,Ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[D,T]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[j,"amd64"]],[/(ia32(?=;))/i],[[j,Ae]],[/((?:i[346]|x)86)[;\)]/i],[[j,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[j,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[j,"armhf"]],[/windows (ce|mobile); ppc;/i],[[j,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[j,/ower/,"",Ae]],[/(sun4\w)[;\)]/i],[[j,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[j,Ae]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[y,xe],[h,$]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[w,[y,xe],[h,Y]],[/\((ip(?:hone|od)[\w ]*);/i],[w,[y,ue],[h,Y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[y,ue],[h,$]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[y,"Huawei"],[h,$]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[w,[y,"Huawei"],[h,Y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[w,/_/g," "],[y,"Xiaomi"],[h,Y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[y,"Xiaomi"],[h,$]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[y,"OPPO"],[h,Y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[y,"Vivo"],[h,Y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[w,[y,"Realme"],[h,Y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[y,Qe],[h,Y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[y,Qe],[h,$]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[y,"LG"],[h,$]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[y,"LG"],[h,Y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[y,"Lenovo"],[h,$]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[y,"Nokia"],[h,Y]],[/(pixel c)\b/i],[w,[y,ut],[h,$]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[y,ut],[h,Y]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[y,et],[h,Y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[y,et],[h,$]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[y,"OnePlus"],[h,Y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[y,K],[h,$]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[y,K],[h,Y]],[/(playbook);[-\w\),; ]+(rim)/i],[w,y,[h,$]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[y,Oe],[h,Y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[y,"ASUS"],[h,$]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[y,"ASUS"],[h,Y]],[/(nexus 9)/i],[w,[y,"HTC"],[h,$]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[y,[w,/_/g," "],[h,Y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[y,"Acer"],[h,$]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[y,"Meizu"],[h,Y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[y,"Sharp"],[h,Y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,w,[h,Y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,w,[h,$]],[/(surface duo)/i],[w,[y,ot],[h,$]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[y,"Fairphone"],[h,Y]],[/(u304aa)/i],[w,[y,"AT&T"],[h,Y]],[/\bsie-(\w*)/i],[w,[y,"Siemens"],[h,Y]],[/\b(rct\w+) b/i],[w,[y,"RCA"],[h,$]],[/\b(venue[\d ]{2,7}) b/i],[w,[y,"Dell"],[h,$]],[/\b(q(?:mv|ta)\w+) b/i],[w,[y,"Verizon"],[h,$]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[y,"Barnes & Noble"],[h,$]],[/\b(tm\d{3}\w+) b/i],[w,[y,"NuVision"],[h,$]],[/\b(k88) b/i],[w,[y,"ZTE"],[h,$]],[/\b(nx\d{3}j) b/i],[w,[y,"ZTE"],[h,Y]],[/\b(gen\d{3}) b.+49h/i],[w,[y,"Swiss"],[h,Y]],[/\b(zur\d{3}) b/i],[w,[y,"Swiss"],[h,$]],[/\b((zeki)?tb.*\b) b/i],[w,[y,"Zeki"],[h,$]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],w,[h,$]],[/\b(ns-?\w{0,9}) b/i],[w,[y,"Insignia"],[h,$]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[y,"NextBook"],[h,$]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],w,[h,Y]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],w,[h,Y]],[/\b(ph-1) /i],[w,[y,"Essential"],[h,Y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[y,"Envizen"],[h,$]],[/\b(trio[-\w\. ]+) b/i],[w,[y,"MachSpeed"],[h,$]],[/\btu_(1491) b/i],[w,[y,"Rotor"],[h,$]],[/(shield[\w ]+) b/i],[w,[y,"Nvidia"],[h,$]],[/(sprint) (\w+)/i],[y,w,[h,Y]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[y,ot],[h,Y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[y,It],[h,$]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[y,It],[h,Y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,w,[h,X]],[/droid.+; (shield) bui/i],[w,[y,"Nvidia"],[h,X]],[/(playstation [345portablevi]+)/i],[w,[y,et],[h,X]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[y,ot],[h,X]],[/smart-tv.+(samsung)/i],[y,[h,he]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[y,xe],[h,he]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[h,he]],[/(apple) ?tv/i],[y,[w,ue+" TV"],[h,he]],[/crkey/i],[[w,ve+"cast"],[y,ut],[h,he]],[/droid.+aft(\w)( bui|\))/i],[w,[y,K],[h,he]],[/\(dtv[\);].+(aquos)/i],[w,[y,"Sharp"],[h,he]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[y,lt],[w,lt],[h,he]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,he]],[/((pebble))app/i],[y,w,[h,z]],[/droid.+; (glass) \d/i],[w,[y,ut],[h,z]],[/droid.+; (wt63?0{2,3})\)/i],[w,[y,It],[h,z]],[/(quest( 2)?)/i],[w,[y,Je],[h,z]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[h,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[w,[h,Y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[h,$]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,$]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,Y]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[T,[D,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[T,[D,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[D,T],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[T,D]],os:[[/microsoft (windows) (vista|xp)/i],[D,T],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[D,[T,g,M]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[D,"Windows"],[T,g,M]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[T,/_/g,"."],[D,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[D,"Mac OS"],[T,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[T,D],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[D,T],[/\(bb(10);/i],[T,[D,Oe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[T,[D,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[T,[D,Ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[T,[D,"webOS"]],[/crkey\/([\d\.]+)/i],[T,[D,ve+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[D,"Chromium OS"],T],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[D,T],[/(sunos) ?([\w\.\d]*)/i],[[D,"Solaris"],T],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[D,T]]},ae=function($e,Ye){if(typeof $e===A&&(Ye=$e,$e=f),!(this instanceof ae))return new ae($e,Ye).getResult();var Fe=$e||(typeof N!==I&&N.navigator&&N.navigator.userAgent?N.navigator.userAgent:""),qe=Ye?function(ft,Se){var tt={};for(var He in ft)tt[He]=Se[He]&&Se[He].length%2==0?Se[He].concat(ft[He]):ft[He];return tt}(O,Ye):O;return this.getBrowser=function(){var ft,Se={};return Se[D]=f,Se[T]=f,E.call(Se,Fe,qe.browser),Se.major=typeof(ft=Se.version)===v?ft.replace(/[^\d\.]/g,"").split(".")[0]:f,Se},this.getCPU=function(){var ft={};return ft[j]=f,E.call(ft,Fe,qe.cpu),ft},this.getDevice=function(){var ft={};return ft[y]=f,ft[w]=f,ft[h]=f,E.call(ft,Fe,qe.device),ft},this.getEngine=function(){var ft={};return ft[D]=f,ft[T]=f,E.call(ft,Fe,qe.engine),ft},this.getOS=function(){var ft={};return ft[D]=f,ft[T]=f,E.call(ft,Fe,qe.os),ft},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Fe},this.setUA=function(ft){return Fe=typeof ft===v&&ft.length>255?lt(ft,255):ft,this},this.setUA(Fe),this};ae.VERSION="1.0.2",ae.BROWSER=bt([D,T,"major"]),ae.CPU=bt([j]),ae.DEVICE=bt([w,y,h,X,Y,he,$,z,k]),ae.ENGINE=ae.OS=bt([D,T]),typeof Ze!==I?(Et.exports&&(Ze=Et.exports=ae),Ze.UAParser=ae):H.amdO?(ye=function(){return ae}.call(Ze,H,Ze,Et))===f||(Et.exports=ye):typeof N!==I&&(N.UAParser=ae);var oe=typeof N!==I&&(N.jQuery||N.Zepto);if(oe&&!oe.ua){var De=new ae;oe.ua=De.getResult(),oe.ua.get=function(){return De.getUA()},oe.ua.set=function($e){De.setUA($e);var Ye=De.getResult();for(var Fe in Ye)oe.ua[Fe]=Ye[Fe]}}}("object"==typeof window?window:this)},7839:function(Et,Ze,H){function ye(N){try{if(!H.g.localStorage)return!1}catch{return!1}var f=H.g.localStorage[N];return null!=f&&"true"===String(f).toLowerCase()}Et.exports=function(N,f){if(ye("noDeprecation"))return N;var d=!1;return function(){if(!d){if(ye("throwDeprecation"))throw new Error(f);ye("traceDeprecation")?console.trace(f):console.warn(f),d=!0}return N.apply(this,arguments)}}},9862:function(){},964:function(){},3165:function(Et){"use strict";Et.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:function(Et){"use strict";Et.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:function(Et){"use strict";Et.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:function(Et){"use strict";Et.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:function(Et){"use strict";Et.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:function(Et){"use strict";Et.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},xi={};function Yn(Et){var Ze=xi[Et];if(void 0!==Ze)return Ze.exports;var H=xi[Et]={exports:{}};return za[Et].call(H.exports,H,H.exports,Yn),H.exports}Yn.amdO={},Yn.n=function(Et){var Ze=Et&&Et.__esModule?function(){return Et.default}:function(){return Et};return Yn.d(Ze,{a:Ze}),Ze},Yn.d=function(Et,Ze){for(var H in Ze)Yn.o(Ze,H)&&!Yn.o(Et,H)&&Object.defineProperty(Et,H,{enumerable:!0,get:Ze[H]})},Yn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Yn.o=function(Et,Ze){return Object.prototype.hasOwnProperty.call(Et,Ze)};var Ko={};return function(){"use strict";Yn.d(Ko,{default:function(){return A}}),Yn(8416);var Et,Ze=Yn(1715),H=Yn(8080),ye=Yn(1737),N=Yn(7688),f=function(){var v,w="application/dash+xml";function D(y,T,j){if(!y||!/^VIDEO$/i.test(y.nodeName))return null;if(y._dashjs_player)return y._dashjs_player;var X,Y=y.id||y.name||"video element";if(!(T=T||[].slice.call(y.querySelectorAll("source")).filter(function($){return $.type==w})[0])&&y.src)(T=document.createElement("source")).src=y.src;else if(!T&&!y.src)return null;return(X=(0,N.Z)(j=j||{}).create()).initialize(y,T.src,y.autoplay),v||(v=X.getDebug().getLogger()),v.debug("Converted "+Y+" to dash.js player and added content: "+T.src),y._dashjs_player=X,X}function h(y){return/^VIDEO$/i.test(y.nodeName)?y:h(y.parentNode)}return{create:D,createAll:function(y,T){var j=[];y=y||"[data-dashjs-player]";for(var X=(T=T||document).querySelectorAll(y),Y=0;Y<X.length;Y++){var $=D(X[Y],null);j.push($)}for(var he=T.querySelectorAll('source[type="'+w+'"]'),z=0;z<he.length;z++){var k=D(h(he[z]),null);j.push(k)}return j}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?f.createAll():Et=window.setInterval(function(){window.dashjs&&(window.clearInterval(Et),f.createAll())},500):window.addEventListener("load",function v(){window.removeEventListener("load",v),f.createAll()}));var d=f,I=Yn(6398);dashjs.Protection=ye.default,dashjs.MetricsReporting=H.default,dashjs.MediaPlayerFactory=d,dashjs.Debug=I.Z,dashjs.supportsMediaSource=Ze.B;var A=dashjs}(),Ko.default}()},307:()=>{var Za,za;za=Za||(Za={}),function(xi){var Yn="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),Ko=Et(za);function Et(Ze,H){return function(ye,N){"function"!=typeof Ze[ye]&&Object.defineProperty(Ze,ye,{configurable:!0,writable:!0,value:N}),H&&H(ye,N)}}typeof Yn.Reflect>"u"?Yn.Reflect=za:Ko=Et(Yn.Reflect,Ko),function(xi){var Yn=Object.prototype.hasOwnProperty,Ko="function"==typeof Symbol,Et=Ko&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",Ze=Ko&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",H="function"==typeof Object.create,ye={__proto__:[]}instanceof Array,N=!H&&!ye,f={create:H?function(){return ft(Object.create(null))}:ye?function(){return ft({__proto__:null})}:function(){return ft({})},has:N?function(Se,tt){return Yn.call(Se,tt)}:function(Se,tt){return tt in Se},get:N?function(Se,tt){return Yn.call(Se,tt)?Se[tt]:void 0}:function(Se,tt){return Se[tt]}},d=Object.getPrototypeOf(Function),I="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,A=I||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Ye(){var Se={},tt=[],He=function(){function _n(Cn,wn,Xn){this._index=0,this._keys=Cn,this._values=wn,this._selector=Xn}return _n.prototype["@@iterator"]=function(){return this},_n.prototype[Ze]=function(){return this},_n.prototype.next=function(){var Cn=this._index;if(Cn>=0&&Cn<this._keys.length){var wn=this._selector(this._keys[Cn],this._values[Cn]);return Cn+1>=this._keys.length?(this._index=-1,this._keys=tt,this._values=tt):this._index++,{value:wn,done:!1}}return{value:void 0,done:!0}},_n.prototype.throw=function(Cn){throw this._index>=0&&(this._index=-1,this._keys=tt,this._values=tt),Cn},_n.prototype.return=function(Cn){return this._index>=0&&(this._index=-1,this._keys=tt,this._values=tt),{value:Cn,done:!0}},_n}();return function(){function _n(){this._keys=[],this._values=[],this._cacheKey=Se,this._cacheIndex=-2}return Object.defineProperty(_n.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),_n.prototype.has=function(Cn){return this._find(Cn,!1)>=0},_n.prototype.get=function(Cn){var wn=this._find(Cn,!1);return wn>=0?this._values[wn]:void 0},_n.prototype.set=function(Cn,wn){var Xn=this._find(Cn,!0);return this._values[Xn]=wn,this},_n.prototype.delete=function(Cn){var wn=this._find(Cn,!1);if(wn>=0){for(var Xn=this._keys.length,Bn=wn+1;Bn<Xn;Bn++)this._keys[Bn-1]=this._keys[Bn],this._values[Bn-1]=this._values[Bn];return this._keys.length--,this._values.length--,Cn===this._cacheKey&&(this._cacheKey=Se,this._cacheIndex=-2),!0}return!1},_n.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Se,this._cacheIndex=-2},_n.prototype.keys=function(){return new He(this._keys,this._values,Tt)},_n.prototype.values=function(){return new He(this._keys,this._values,Nt)},_n.prototype.entries=function(){return new He(this._keys,this._values,an)},_n.prototype["@@iterator"]=function(){return this.entries()},_n.prototype[Ze]=function(){return this.entries()},_n.prototype._find=function(Cn,wn){return this._cacheKey!==Cn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Cn)),this._cacheIndex<0&&wn&&(this._cacheIndex=this._keys.length,this._keys.push(Cn),this._values.push(void 0)),this._cacheIndex},_n}();function Tt(_n,Cn){return _n}function Nt(_n,Cn){return Cn}function an(_n,Cn){return[_n,Cn]}}():Map,v=I||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Fe(){return function(){function Se(){this._map=new A}return Object.defineProperty(Se.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Se.prototype.has=function(tt){return this._map.has(tt)},Se.prototype.add=function(tt){return this._map.set(tt,tt),this},Se.prototype.delete=function(tt){return this._map.delete(tt)},Se.prototype.clear=function(){this._map.clear()},Se.prototype.keys=function(){return this._map.keys()},Se.prototype.values=function(){return this._map.values()},Se.prototype.entries=function(){return this._map.entries()},Se.prototype["@@iterator"]=function(){return this.keys()},Se.prototype[Ze]=function(){return this.keys()},Se}()}():Set,D=new(I||"function"!=typeof WeakMap?function qe(){var Se=16,tt=f.create(),He=Tt();return function(){function wn(){this._key=Tt()}return wn.prototype.has=function(Xn){var Bn=Nt(Xn,!1);return void 0!==Bn&&f.has(Bn,this._key)},wn.prototype.get=function(Xn){var Bn=Nt(Xn,!1);return void 0!==Bn?f.get(Bn,this._key):void 0},wn.prototype.set=function(Xn,Bn){return Nt(Xn,!0)[this._key]=Bn,this},wn.prototype.delete=function(Xn){var Bn=Nt(Xn,!1);return void 0!==Bn&&delete Bn[this._key]},wn.prototype.clear=function(){this._key=Tt()},wn}();function Tt(){var wn;do{wn="@@WeakMap@@"+Cn()}while(f.has(tt,wn));return tt[wn]=!0,wn}function Nt(wn,Xn){if(!Yn.call(wn,He)){if(!Xn)return;Object.defineProperty(wn,He,{value:f.create()})}return wn[He]}function an(wn,Xn){for(var Bn=0;Bn<Xn;++Bn)wn[Bn]=255*Math.random()|0;return wn}function Cn(){var wn=function _n(wn){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(wn)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(wn)):an(new Uint8Array(wn),wn):an(new Array(wn),wn)}(Se);wn[6]=79&wn[6]|64,wn[8]=191&wn[8]|128;for(var Xn="",Bn=0;Bn<Se;++Bn){var br=wn[Bn];(4===Bn||6===Bn||8===Bn)&&(Xn+="-"),br<16&&(Xn+="0"),Xn+=br.toString(16).toLowerCase()}return Xn}}():WeakMap);function de(Se,tt,He){var Tt=D.get(Se);if(Qe(Tt)){if(!He)return;Tt=new A,D.set(Se,Tt)}var Nt=Tt.get(tt);if(Qe(Nt)){if(!He)return;Nt=new A,Tt.set(tt,Nt)}return Nt}function Oe(Se,tt,He){if(gt(Se,tt,He))return!0;var Nt=$e(tt);return!Rt(Nt)&&Oe(Se,Nt,He)}function gt(Se,tt,He){var Tt=de(tt,He,!1);return!Qe(Tt)&&function Je(Se){return!!Se}(Tt.has(Se))}function ve(Se,tt,He){if(gt(Se,tt,He))return Ge(Se,tt,He);var Nt=$e(tt);return Rt(Nt)?void 0:ve(Se,Nt,He)}function Ge(Se,tt,He){var Tt=de(tt,He,!1);if(!Qe(Tt))return Tt.get(Se)}function ut(Se,tt,He,Tt){de(He,Tt,!0).set(Se,tt)}function Ve(Se,tt){var He=ke(Se,tt),Tt=$e(Se);if(null===Tt)return He;var Nt=Ve(Tt,tt);if(Nt.length<=0)return He;if(He.length<=0)return Nt;for(var an=new v,_n=[],Cn=0,wn=He;Cn<wn.length;Cn++)an.has(Xn=wn[Cn])||(an.add(Xn),_n.push(Xn));for(var br=0,_i=Nt;br<_i.length;br++){var Xn;an.has(Xn=_i[br])||(an.add(Xn),_n.push(Xn))}return _n}function ke(Se,tt){var He=[],Tt=de(Se,tt,!1);if(Qe(Tt))return He;for(var an=function O(Se){var tt=M(Se,Ze);if(!lt(tt))throw new TypeError;var He=tt.call(Se);if(!et(He))throw new TypeError;return He}(Tt.keys()),_n=0;;){var Cn=oe(an);if(!Cn)return He.length=_n,He;var wn=ae(Cn);try{He[_n]=wn}catch(Xn){try{De(an)}finally{throw Xn}}_n++}}function ot(Se){if(null===Se)return 1;switch(typeof Se){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Se?1:6;default:return 6}}function Qe(Se){return void 0===Se}function Rt(Se){return null===Se}function et(Se){return"object"==typeof Se?null!==Se:"function"==typeof Se}function jt(Se,tt){switch(ot(Se)){case 0:case 1:case 2:case 3:case 4:case 5:return Se}var He=3===tt?"string":5===tt?"number":"default",Tt=M(Se,Et);if(void 0!==Tt){var Nt=Tt.call(Se,He);if(et(Nt))throw new TypeError;return Nt}return function It(Se,tt){if("string"===tt){var He=Se.toString;if(lt(He)&&!et(Tt=He.call(Se)))return Tt;if(lt(Nt=Se.valueOf)&&!et(Tt=Nt.call(Se)))return Tt}else{var Nt;if(lt(Nt=Se.valueOf)&&!et(Tt=Nt.call(Se)))return Tt;var Tt,an=Se.toString;if(lt(an)&&!et(Tt=an.call(Se)))return Tt}throw new TypeError}(Se,"default"===He?"number":He)}function pe(Se){var tt=jt(Se,3);return function xe(Se){return"symbol"==typeof Se}(tt)?tt:function bt(Se){return""+Se}(tt)}function Ae(Se){return Array.isArray?Array.isArray(Se):Se instanceof Object?Se instanceof Array:"[object Array]"===Object.prototype.toString.call(Se)}function lt(Se){return"function"==typeof Se}function E(Se){return"function"==typeof Se}function M(Se,tt){var He=Se[tt];if(null!=He){if(!lt(He))throw new TypeError;return He}}function ae(Se){return Se.value}function oe(Se){var tt=Se.next();return!tt.done&&tt}function De(Se){var tt=Se.return;tt&&tt.call(Se)}function $e(Se){var tt=Object.getPrototypeOf(Se);if("function"!=typeof Se||Se===d||tt!==d)return tt;var He=Se.prototype,Tt=He&&Object.getPrototypeOf(He);if(null==Tt||Tt===Object.prototype)return tt;var Nt=Tt.constructor;return"function"!=typeof Nt||Nt===Se?tt:Nt}function ft(Se){return Se.__=void 0,delete Se.__,Se}xi("decorate",function h(Se,tt,He,Tt){if(Qe(He)){if(!Ae(Se))throw new TypeError;if(!E(tt))throw new TypeError;return function K(Se,tt){for(var He=Se.length-1;He>=0;--He){var Nt=(0,Se[He])(tt);if(!Qe(Nt)&&!Rt(Nt)){if(!E(Nt))throw new TypeError;tt=Nt}}return tt}(Se,tt)}if(!Ae(Se))throw new TypeError;if(!et(tt))throw new TypeError;if(!et(Tt)&&!Qe(Tt)&&!Rt(Tt))throw new TypeError;return Rt(Tt)&&(Tt=void 0),function ue(Se,tt,He,Tt){for(var Nt=Se.length-1;Nt>=0;--Nt){var _n=(0,Se[Nt])(tt,He,Tt);if(!Qe(_n)&&!Rt(_n)){if(!et(_n))throw new TypeError;Tt=_n}}return Tt}(Se,tt,He=pe(He),Tt)}),xi("metadata",function y(Se,tt){return function He(Tt,Nt){if(!et(Tt))throw new TypeError;if(!Qe(Nt)&&!function g(Se){switch(ot(Se)){case 3:case 4:return!0;default:return!1}}(Nt))throw new TypeError;ut(Se,tt,Tt,Nt)}}),xi("defineMetadata",function T(Se,tt,He,Tt){if(!et(He))throw new TypeError;return Qe(Tt)||(Tt=pe(Tt)),ut(Se,tt,He,Tt)}),xi("hasMetadata",function j(Se,tt,He){if(!et(tt))throw new TypeError;return Qe(He)||(He=pe(He)),Oe(Se,tt,He)}),xi("hasOwnMetadata",function X(Se,tt,He){if(!et(tt))throw new TypeError;return Qe(He)||(He=pe(He)),gt(Se,tt,He)}),xi("getMetadata",function Y(Se,tt,He){if(!et(tt))throw new TypeError;return Qe(He)||(He=pe(He)),ve(Se,tt,He)}),xi("getOwnMetadata",function $(Se,tt,He){if(!et(tt))throw new TypeError;return Qe(He)||(He=pe(He)),Ge(Se,tt,He)}),xi("getMetadataKeys",function he(Se,tt){if(!et(Se))throw new TypeError;return Qe(tt)||(tt=pe(tt)),Ve(Se,tt)}),xi("getOwnMetadataKeys",function z(Se,tt){if(!et(Se))throw new TypeError;return Qe(tt)||(tt=pe(tt)),ke(Se,tt)}),xi("deleteMetadata",function k(Se,tt,He){if(!et(tt))throw new TypeError;Qe(He)||(He=pe(He));var Tt=de(tt,He,!1);if(Qe(Tt)||!Tt.delete(Se))return!1;if(Tt.size>0)return!0;var Nt=D.get(tt);return Nt.delete(He),Nt.size>0||D.delete(tt),!0})}(Ko)}()}},Za=>{Za(Za.s=654)}]);