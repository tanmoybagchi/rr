(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{83:(Ka,Xa,Ni)=>{"use strict";function Kn(t){return"function"==typeof t}function rs(t){const r=t(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const At=rs(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Ze(t,e){if(t){const r=t.indexOf(e);0<=r&&t.splice(r,1)}}class F{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const o of r)o.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Kn(n))try{n()}catch(o){e=o instanceof At?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{f(o)}catch(l){e=e??[],l instanceof At?e=[...e,...l.errors]:e.push(l)}}if(e)throw new At(e)}}add(e){var r;if(e&&e!==this)if(this.closed)f(e);else{if(e instanceof F){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}_hasParent(e){const{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){const{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&Ze(r,e)}remove(e){const{_finalizers:r}=this;r&&Ze(r,e),e instanceof F&&e._removeParent(this)}}F.EMPTY=(()=>{const t=new F;return t.closed=!0,t})();const ye=F.EMPTY;function P(t){return t instanceof F||t&&"closed"in t&&Kn(t.remove)&&Kn(t.add)&&Kn(t.unsubscribe)}function f(t){Kn(t)?t():t.unsubscribe()}const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},O={setTimeout(t,e,...r){const{delegate:n}=O;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){const{delegate:e}=O;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function S(t){O.setTimeout(()=>{const{onUnhandledError:e}=h;if(!e)throw t;e(t)})}function g(){}const C=y("C",void 0,void 0);function y(t,e,r){return{kind:t,value:e,error:r}}let T=null;function q(t){if(h.useDeprecatedSynchronousErrorHandling){const e=!T;if(e&&(T={errorThrown:!1,error:null}),t(),e){const{errorThrown:r,error:n}=T;if(T=null,r)throw n}}else t()}class ne extends F{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,P(e)&&e.add(this)):this.destination=qe}static create(e,r,n){return new k(e,r,n)}next(e){this.isStopped?ce(function p(t){return y("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ce(function M(t){return y("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ce(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const J=Function.prototype.bind;function se(t,e){return J.call(t,e)}class H{constructor(e){this.partialObserver=e}next(e){const{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){K(n)}}error(e){const{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){K(n)}else K(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){K(r)}}}class k extends ne{constructor(e,r,n){let i;if(super(),Kn(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&h.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&se(e.next,o),error:e.error&&se(e.error,o),complete:e.complete&&se(e.complete,o)}):i=e}this.destination=new H(i)}}function K(t){h.useDeprecatedSynchronousErrorHandling?function W(t){h.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=t)}(t):S(t)}function ce(t,e){const{onStoppedNotification:r}=h;r&&O.setTimeout(()=>r(t,e))}const qe={closed:!0,next:g,error:function de(t){throw t},complete:g},ot="function"==typeof Symbol&&Symbol.observable||"@@observable";function pe(t){return t}function He(t){return 0===t.length?pe:1===t.length?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}let Ke=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){const o=function it(t){return t&&t instanceof ne||function je(t){return t&&Kn(t.next)&&Kn(t.error)&&Kn(t.complete)}(t)&&P(t)}(r)?r:new k(r,n,i);return q(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Ne(n))((i,o)=>{const l=new k({next:c=>{try{r(c)}catch(u){o(u),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[ot](){return this}pipe(...r){return He(r)(this)}toPromise(r){return new(r=Ne(r))((n,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>n(o))})}}return t.create=e=>new t(e),t})();function Ne(t){var e;return null!==(e=t??h.Promise)&&void 0!==e?e:Promise}const Mt=rs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ut=(()=>{class t extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new ke(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Mt}next(r){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:i,observers:o}=this;return n||i?ye:(this.currentObservers=null,o.push(r),new F(()=>{this.currentObservers=null,Ze(o,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){const r=new Ke;return r.source=this,r}}return t.create=(e,r)=>new ke(e,r),t})();class ke extends ut{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,e)}error(e){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,e)}complete(){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===r||r.call(e)}_subscribe(e){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(e))&&void 0!==n?n:ye}}function _t(t){return Kn(t?.lift)}function xt(t){return e=>{if(_t(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(t,e,r,n,i){return new yt(t,e,r,n,i)}class yt extends ne{constructor(e,r,n,i,o,l){super(e),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=r?function(c){try{r(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(t,e){return xt((r,n)=>{let i=0;r.subscribe($e(n,o=>{n.next(t.call(e,o,i++))}))})}function Tn(t){return this instanceof Tn?(this.v=t,this):new Tn(t)}function jn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function We(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(l){return new Promise(function(c,u){!function i(o,l,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},l)}(c,u,(l=t[o](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Fs=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function qt(t){return Kn(t?.then)}function Ut(t){return Kn(t[ot])}function Vt(t){return Symbol.asyncIterator&&Kn(t?.[Symbol.asyncIterator])}function lt(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gt=function Ot(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Rt(t){return Kn(t?.[gt])}function tn(t){return function xn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(he){n[he]&&(i[he]=function(we){return new Promise(function(Pe,Ue){o.push([he,we,Pe,Ue])>1||c(he,we)})})}function c(he,we){try{!function u(he){he.value instanceof Tn?Promise.resolve(he.value.v).then(d,w):U(o[0][2],he)}(n[he](we))}catch(Pe){U(o[0][3],Pe)}}function d(he){c("next",he)}function w(he){c("throw",he)}function U(he,we){he(we),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const r=t.getReader();try{for(;;){const{value:n,done:i}=yield Tn(r.read());if(i)return yield Tn(void 0);yield yield Tn(n)}}finally{r.releaseLock()}})}function rn(t){return Kn(t?.getReader)}function cn(t){if(t instanceof Ke)return t;if(null!=t){if(Ut(t))return function In(t){return new Ke(e=>{const r=t[ot]();if(Kn(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Fs(t))return function an(t){return new Ke(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}(t);if(qt(t))return function Bt(t){return new Ke(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,S)})}(t);if(Vt(t))return pn(t);if(Rt(t))return function mn(t){return new Ke(e=>{for(const r of t)if(e.next(r),e.closed)return;e.complete()})}(t);if(rn(t))return function Fn(t){return pn(tn(t))}(t)}throw lt(t)}function pn(t){return new Ke(e=>{(function ir(t,e){var r,n,i,o;return function Le(t,e,r,n){return new(r||(r=Promise))(function(o,l){function c(w){try{d(n.next(w))}catch(U){l(U)}}function u(w){try{d(n.throw(w))}catch(U){l(U)}}function d(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(l){l(o)})}(w.value).then(c,u)}d((n=n.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(r=jn(t);!(n=yield r.next()).done;)if(e.next(n.value),e.closed)return}catch(l){i={error:l}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(r=>e.error(r))})}function Er(t,e,r,n=0,i=!1){const o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Lt(t,e,r=1/0){return Kn(e)?Lt((n,i)=>me((o,l)=>e(n,o,i,l))(cn(t(n,i))),r):("number"==typeof e&&(r=e),xt((n,i)=>function Ln(t,e,r,n,i,o,l,c){const u=[];let d=0,w=0,U=!1;const he=()=>{U&&!u.length&&!d&&e.complete()},we=Ue=>d<n?Pe(Ue):u.push(Ue),Pe=Ue=>{o&&e.next(Ue),d++;let Et=!1;cn(r(Ue,w++)).subscribe($e(e,Dt=>{i?.(Dt),o?we(Dt):e.next(Dt)},()=>{Et=!0},void 0,()=>{if(Et)try{for(d--;u.length&&d<n;){const Dt=u.shift();l?Er(e,l,()=>Pe(Dt)):Pe(Dt)}he()}catch(Dt){e.error(Dt)}}))};return t.subscribe($e(e,we,()=>{U=!0,he()})),()=>{c?.()}}(n,i,t,r)))}function Ht(t=1/0){return Lt(pe,t)}const Jt=new Ke(t=>t.complete());function Cr(t){return t&&Kn(t.schedule)}function Dr(t){return t[t.length-1]}function Oi(t){return Kn(Dr(t))?t.pop():void 0}function gi(t){return Cr(Dr(t))?t.pop():void 0}function bi(t,e=0){return xt((r,n)=>{r.subscribe($e(n,i=>Er(n,t,()=>n.next(i),e),()=>Er(n,t,()=>n.complete(),e),i=>Er(n,t,()=>n.error(i),e)))})}function ai(t,e=0){return xt((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function $i(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ke(r=>{Er(r,e,()=>{const n=t[Symbol.asyncIterator]();Er(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function Di(t,e){return e?function Vc(t,e){if(null!=t){if(Ut(t))return function Yi(t,e){return cn(t).pipe(ai(e),bi(e))}(t,e);if(Fs(t))return function ra(t,e){return new Ke(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}(t,e);if(qt(t))return function Aa(t,e){return cn(t).pipe(ai(e),bi(e))}(t,e);if(Vt(t))return $i(t,e);if(Rt(t))return function zo(t,e){return new Ke(r=>{let n;return Er(r,e,()=>{n=t[gt](),Er(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(l){return void r.error(l)}o?r.complete():r.next(i)},0,!0)}),()=>Kn(n?.return)&&n.return()})}(t,e);if(rn(t))return function Uc(t,e){return $i(tn(t),e)}(t,e)}throw lt(t)}(t,e):cn(t)}function Io(...t){const e=gi(t),r=function Kr(t,e){return"number"==typeof Dr(t)?t.pop():e}(t,1/0),n=t;return n.length?1===n.length?cn(n[0]):Ht(r)(Di(n,e)):Jt}class Wi extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){const{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}function Jn(...t){return Di(t,gi(t))}function Xt(t={}){const{connector:e=(()=>new ut),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let l,c,u,d=0,w=!1,U=!1;const he=()=>{c?.unsubscribe(),c=void 0},we=()=>{he(),l=u=void 0,w=U=!1},Pe=()=>{const Ue=l;we(),Ue?.unsubscribe()};return xt((Ue,Et)=>{d++,!U&&!w&&he();const Dt=u=u??e();Et.add(()=>{d--,0===d&&!U&&!w&&(c=Nn(Pe,i))}),Dt.subscribe(Et),!l&&d>0&&(l=new k({next:wt=>Dt.next(wt),error:wt=>{U=!0,he(),c=Nn(we,r,wt),Dt.error(wt)},complete:()=>{w=!0,he(),c=Nn(we,n),Dt.complete()}}),cn(Ue).subscribe(l))})(o)}}function Nn(t,e,...r){if(!0===e)return void t();if(!1===e)return;const n=new k({next:()=>{n.unsubscribe(),t()}});return cn(e(...r)).subscribe(n)}function Wn(t,e){return xt((r,n)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&n.complete();r.subscribe($e(n,u=>{i?.unsubscribe();let d=0;const w=o++;cn(t(u,w)).subscribe(i=$e(n,U=>n.next(e?e(u,U,w,d++):U),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function di(t,e=pe){return t=t??ei,xt((r,n)=>{let i,o=!0;r.subscribe($e(n,l=>{const c=e(l);(o||!t(i,c))&&(o=!1,i=c,n.next(l))}))})}function ei(t,e){return t===e}function or(t){for(let e in t)if(t[e]===or)return e;throw Error("Could not find renamed property on target object.")}function Lr(t,e){for(const r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Mr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Mr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const r=e.indexOf("\n");return-1===r?e:e.substring(0,r)}function fi(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const zr=or({__forward_ref__:or});function Ir(t){return t.__forward_ref__=Ir,t.toString=function(){return Mr(this())},t}function Un(t){return is(t)?t():t}function is(t){return"function"==typeof t&&t.hasOwnProperty(zr)&&t.__forward_ref__===Ir}function mo(t){return t&&!!t.\u0275providers}const bs="https://g.co/ng/security#xss";class zt extends Error{constructor(e,r){super(function Es(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,r)),this.code=e}}function sr(t){return"string"==typeof t?t:null==t?"":String(t)}function Da(t,e){throw new zt(-201,!1)}function Ai(t,e){null==t&&function tr(t,e,r,n){throw new Error(`ASSERTION ERROR: ${t}`+(null==n?"":` [Expected=> ${r} ${n} ${e} <=Actual]`))}(e,t,null,"!=")}function gn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qa(t){return yd(t,kl)||yd(t,Nh)}function yd(t,e){return t.hasOwnProperty(e)?t[e]:null}function Zc(t){return t&&(t.hasOwnProperty(bd)||t.hasOwnProperty(Oh))?t[bd]:null}const kl=or({\u0275prov:or}),bd=or({\u0275inj:or}),Nh=or({ngInjectableDef:or}),Oh=or({ngInjectorDef:or});var Tr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tr||{});let zc;function Ph(){return zc}function vo(t){const e=zc;return zc=t,e}function Ll(t,e,r){const n=Qa(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Tr.Optional?null:void 0!==e?e:void Da(Mr(t))}const Gr=globalThis,Fl={},qc="__NG_DI_FLAG__",Yc="ngTempTokenPath",Cd=/\n/gm,Bl="__source";let Ma;function oa(t){const e=Ma;return Ma=t,e}function Fh(t,e=Tr.Default){if(void 0===Ma)throw new zt(-203,!1);return null===Ma?Ll(t,void 0,e):Ma.get(t,e&Tr.Optional?null:void 0,e)}function Wt(t,e=Tr.Default){return(Ph()||Fh)(Un(t),e)}function $t(t,e=Tr.Default){return Wt(t,sa(e))}function sa(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $c(t){const e=[];for(let r=0;r<t.length;r++){const n=Un(t[r]);if(Array.isArray(n)){if(0===n.length)throw new zt(900,!1);let i,o=Tr.Default;for(let l=0;l<n.length;l++){const c=n[l],u=o_(c);"number"==typeof u?-1===u?i=c.token:o|=u:i=c}e.push(Wt(i,o))}else e.push(Wt(n))}return e}function Ul(t,e){return t[qc]=e,t.prototype[qc]=e,t}function o_(t){return t[qc]}function xr(t){return{toString:t}.toString()}var el=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(el||{}),Go=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Go||{});const Do={},Ur=[],tl=or({\u0275cmp:or}),jl=or({\u0275dir:or}),Dd=or({\u0275pipe:or}),Hl=or({\u0275mod:or}),Ts=or({\u0275fac:or}),Zl=or({__NG_ELEMENT_ID__:or}),Wc=or({__NG_ENV_ID__:or});function Kc(t,e,r){let n=t.length;for(;;){const i=t.indexOf(e,r);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function xd(t,e,r){let n=0;for(;n<r.length;){const i=r[n];if("number"==typeof i){if(0!==i)break;n++;const o=r[n++],l=r[n++],c=r[n++];t.setAttribute(e,l,c,o)}else{const o=i,l=r[++n];Rd(o)?t.setProperty(e,o,l):t.setAttribute(e,o,l),n++}}return n}function zl(t){return 3===t||4===t||6===t}function Rd(t){return 64===t.charCodeAt(0)}function Gl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i?r=i:0===r||Xc(t,r,i,null,-1===r||2===r?e[++n]:null)}}return t}function Xc(t,e,r,n,i){let o=0,l=t.length;if(-1===e)l=-1;else for(;o<t.length;){const c=t[o++];if("number"==typeof c){if(c===e){l=-1;break}if(c>e){l=o-1;break}}}for(;o<t.length;){const c=t[o];if("number"==typeof c)break;if(c===r){if(null===n)return void(null!==i&&(t[o+1]=i));if(n===t[o+1])return void(t[o+2]=i)}o++,null!==n&&o++,null!==i&&o++}-1!==l&&(t.splice(l,0,e),o=l+1),t.splice(o++,0,r),null!==n&&t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}const Qc="ng-template";function s_(t,e,r){let n=0,i=!0;for(;n<t.length;){let o=t[n++];if("string"==typeof o&&i){const l=t[n++];if(r&&"class"===o&&-1!==Kc(l.toLowerCase(),e,0))return!0}else{if(1===o){for(;n<t.length&&"string"==typeof(o=t[n++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function ql(t){return 4===t.type&&t.value!==Qc}function a_(t,e,r){return e===(4!==t.type||r?t.value:Qc)}function l_(t,e,r){let n=4;const i=t.attrs||[],o=function eu(t){for(let e=0;e<t.length;e++)if(zl(t[e]))return e;return t.length}(i);let l=!1;for(let c=0;c<e.length;c++){const u=e[c];if("number"!=typeof u){if(!l)if(4&n){if(n=2|1&n,""!==u&&!a_(t,u,r)||""===u&&1===e.length){if(xo(n))return!1;l=!0}}else{const d=8&n?u:e[++c];if(8&n&&null!==t.attrs){if(!s_(t.attrs,d,r)){if(xo(n))return!1;l=!0}continue}const U=Yl(8&n?"class":u,i,ql(t),r);if(-1===U){if(xo(n))return!1;l=!0;continue}if(""!==d){let he;he=U>o?"":i[U+1].toLowerCase();const we=8&n?he:null;if(we&&-1!==Kc(we,d,0)||2&n&&d!==he){if(xo(n))return!1;l=!0}}}}else{if(!l&&!xo(n)&&!xo(u))return!1;if(l&&xo(u))continue;l=!1,n=u|1&n}}return xo(n)||l}function xo(t){return 0==(1&t)}function Yl(t,e,r,n){if(null===e)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){const l=e[i];if(l===t)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function u_(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const n=t[r];if("number"==typeof n)return-1;if(n===e)return r;r++}return-1}(e,t)}function Jc(t,e,r=!1){for(let n=0;n<e.length;n++)if(l_(t,e[n],r))return!0;return!1}function d_(t,e){e:for(let r=0;r<e.length;r++){const n=e[r];if(t.length===n.length){for(let i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function Bh(t,e){return t?":not("+e.trim()+")":e}function f_(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let l=t[r];if("string"==typeof l)if(2&n){const c=t[++r];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&n?i+="."+l:4&n&&(i+=" "+l);else""!==i&&!xo(l)&&(e+=Bh(o,i),i=""),n=l,o=o||!xo(n);r++}return""!==i&&(e+=Bh(o,i)),e}function gr(t){return xr(()=>{const e=Vh(t),r={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===el.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Go.Emulated,styles:t.styles||Ur,_:null,schemas:t.schemas||null,tView:null,id:""};Od(r);const n=t.dependencies;return r.directiveDefs=$l(n,!1),r.pipeDefs=$l(n,!0),r.id=function g_(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(r),r})}function tu(t){return Nr(t)||Xi(t)}function p_(t){return null!==t}function ni(t){return xr(()=>({type:t.type,bootstrap:t.bootstrap||Ur,declarations:t.declarations||Ur,imports:t.imports||Ur,exports:t.exports||Ur,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Uh(t,e){if(null==t)return Do;const r={};for(const n in t)if(t.hasOwnProperty(n)){let i=t[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),r[i]=n,e&&(e[i]=o)}return r}function kn(t){return xr(()=>{const e=Vh(t);return Od(e),e})}function Ki(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nr(t){return t[tl]||null}function Xi(t){return t[jl]||null}function oo(t){return t[Dd]||null}function yo(t,e){const r=t[Hl]||null;if(!r&&!0===e)throw new Error(`Type ${Mr(t)} does not have '\u0275mod' property.`);return r}function Vh(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Do,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ur,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Uh(t.inputs,e),outputs:Uh(t.outputs)}}function Od(t){t.features?.forEach(e=>e(t))}function $l(t,e){if(!t)return null;const r=e?oo:tu;return()=>("function"==typeof t?t():t).map(n=>r(n)).filter(p_)}const Ei=0,On=1,fr=2,_i=3,Ro=4,il=5,so=6,ol=7,wi=8,Bs=9,Us=10,ur=11,Wl=12,Pd=13,sl=14,Ti=15,Kl=16,aa=17,qo=18,Xl=19,jh=20,Vs=21,js=22,nu=23,Ql=24,Ar=25,ru=1,kd=2,ss=7,al=9,Bi=11;function go(t){return Array.isArray(t)&&"object"==typeof t[ru]}function ao(t){return Array.isArray(t)&&!0===t[ru]}function ou(t){return 0!=(4&t.flags)}function Na(t){return t.componentOffset>-1}function ec(t){return 1==(1&t.flags)}function as(t){return!!t.template}function su(t){return 0!=(512&t[fr])}function Oa(t,e){return t.hasOwnProperty(Ts)?t[Ts]:null}const qh=Symbol("SIGNAL");function au(t,e,r={}){return e[qh]=t,Object.assign(e,r)}function Yh(t,e){return(null===t||"object"!=typeof t)&&Object.is(t,e)}let E_=Gr.WeakRef??class $h{constructor(e){this.ref=e}deref(){return this.ref}},Fd=0,Mo=null,cl=!1;function xi(t){const e=Mo;return Mo=t,e}class lu{constructor(){this.id=Fd++,this.ref=function Wh(t){return new E_(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,r]of this.producers){const n=r.producerNode.deref();if(null!=n&&r.atTrackingVersion===this.trackingVersion){if(n.producerPollStatus(r.seenValueVersion))return!0}else this.producers.delete(e),n?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=cl;cl=!0;try{for(const[r,n]of this.consumers){const i=n.consumerNode.deref();null!=i&&i.trackingVersion===n.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(r),i?.producers.delete(this.id))}}finally{cl=e}}producerAccessed(){if(cl)throw new Error("");if(null===Mo)return;let e=Mo.producers.get(this.id);void 0===e?(e={consumerNode:Mo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Mo.trackingVersion},Mo.producers.set(this.id,e),this.consumers.set(Mo.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Mo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Mo?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}function Ss(t,e){const r=new w_(t,e?.equal??Yh);return au(r,r.signal.bind(r))}const Bd=Symbol("UNSET"),Ud=Symbol("COMPUTING"),tc=Symbol("ERRORED");class w_ extends lu{constructor(e,r){super(),this.computation=e,this.equal=r,this.value=Bd,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==Bd&&this.value!==Ud&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===Ud)throw new Error("Detected cycle in computations.");const e=this.value;this.value=Ud,this.trackingVersion++;const r=xi(this);let n;try{n=this.computation()}catch(i){n=tc,this.error=i}finally{xi(r)}this.stale=!1,e!==Bd&&e!==tc&&n!==tc&&this.equal(e,n)?this.value=e:(this.value=n,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===tc)throw this.error;return this.value}}let Xh=function Kh(){throw new Error};function nc(){Xh()}class Jh extends lu{constructor(e,r){super(),this.value=e,this.equal=r,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(e){this.producerUpdatesAllowed||nc(),this.equal(this.value,e)||(this.value=e,this.valueVersion++,this.producerMayHaveChanged())}update(e){this.producerUpdatesAllowed||nc(),this.set(e(this.value))}mutate(e){this.producerUpdatesAllowed||nc(),e(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=au(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function Cs(t,e){const r=new Jh(t,e?.equal??Yh);return au(r,r.signal.bind(r),{set:r.set.bind(r),update:r.update.bind(r),mutate:r.mutate.bind(r),asReadonly:r.asReadonly.bind(r)})}function ls(t){const e=xi(null);try{return t()}finally{xi(e)}}const Vd=()=>{};class S_ extends lu{constructor(e,r,n){super(),this.watch=e,this.schedule=r,this.dirty=!1,this.cleanupFn=Vd,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=n}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=xi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Vd,this.watch(this.registerOnCleanup)}finally{xi(e)}}cleanup(){this.cleanupFn()}}class ep{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function No(){return jd}function jd(t){return t.type.prototype.ngOnChanges&&(t.setInput=Hd),C_}function C_(){const t=tp(this),e=t?.current;if(e){const r=t.previous;if(r===Do)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function Hd(t,e,r,n){const i=this.declaredInputs[r],o=tp(t)||function v(t,e){return t[rc]=e}(t,{previous:Do,current:null}),l=o.current||(o.current={}),c=o.previous,u=c[i];l[i]=new ep(u&&u.currentValue,e,c===Do),t[n]=e}No.ngInherit=!0;const rc="__ngSimpleChanges__";function tp(t){return t[rc]||null}const D=function(t,e,r){},L="svg";function A(t){for(;Array.isArray(t);)t=t[Ei];return t}function ee(t,e){return A(e[t])}function ie(t,e){return A(e[t.index])}function V(t,e){return t.data[e]}function re(t,e){return t[e]}function X(t,e){const r=e[t];return go(r)?r:r[Ei]}function Ce(t,e){return null==e?null:t[e]}function Y(t){t[aa]=0}function _e(t){1024&t[fr]||(t[fr]|=1024,be(t,1))}function fe(t){1024&t[fr]&&(t[fr]&=-1025,be(t,-1))}function be(t,e){let r=t[_i];if(null===r)return;r[il]+=e;let n=r;for(r=r[_i];null!==r&&(1===e&&1===n[il]||-1===e&&0===n[il]);)r[il]+=e,n=r,r=r[_i]}function I(t,e){if(256==(256&t[fr]))throw new zt(911,!1);null===t[Vs]&&(t[Vs]=[]),t[Vs].push(e)}const G={lFrame:pt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function z(){return G.bindingsEnabled}function Q(){return null!==G.skipHydrationRootTNode}function Ie(){return G.lFrame.lView}function Ct(){return G.lFrame.tView}function ht(t){return G.lFrame.contextLView=t,t[wi]}function bt(t){return G.lFrame.contextLView=null,t}function Ft(){let t=sn();for(;null!==t&&64===t.type;)t=t.parent;return t}function sn(){return G.lFrame.currentTNode}function Te(t,e){const r=G.lFrame;r.currentTNode=t,r.isParent=e}function et(){return G.lFrame.isParent}function Oe(){G.lFrame.isParent=!1}function Pt(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Sn(){return G.lFrame.bindingIndex++}function dn(t){const e=G.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function er(t,e){const r=G.lFrame;r.bindingIndex=r.bindingRootIndex=t,zn(e)}function zn(t){G.lFrame.currentDirectiveIndex=t}function nr(){return G.lFrame.currentQueryIndex}function pr(t){G.lFrame.currentQueryIndex=t}function jt(t){const e=t[On];return 2===e.type?e.declTNode:1===e.type?t[so]:null}function En(t,e,r){if(r&Tr.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||r&Tr.Host||(i=jt(o),null===i||(o=o[sl],10&i.type))););if(null===i)return!1;e=i,t=o}const n=G.lFrame=_n();return n.currentTNode=e,n.lView=t,!0}function bn(t){const e=_n(),r=t[On];G.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function _n(){const t=G.lFrame,e=null===t?null:t.child;return null===e?pt(t):e}function pt(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Zt(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ct=Zt;function Ge(){const t=Zt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function It(){return G.lFrame.selectedIndex}function Qt(t){G.lFrame.selectedIndex=t}function nn(){const t=G.lFrame;return V(t.tView,t.selectedIndex)}function Xn(){G.lFrame.currentNamespace=L}let Pi=!0;function Yo(){return Pi}function bo(t){Pi=t}function $o(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){const o=t.data[r].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:w}=o;l&&(t.contentHooks??=[]).push(-r,l),c&&((t.contentHooks??=[]).push(r,c),(t.contentCheckHooks??=[]).push(r,c)),u&&(t.viewHooks??=[]).push(-r,u),d&&((t.viewHooks??=[]).push(r,d),(t.viewCheckHooks??=[]).push(r,d)),null!=w&&(t.destroyHooks??=[]).push(r,w)}}function lo(t,e,r){Hs(t,e,3,r)}function Wo(t,e,r,n){(3&t[fr])===r&&Hs(t,e,r,n)}function As(t,e){let r=t[fr];(3&r)===e&&(r&=8191,r+=1,t[fr]=r)}function Hs(t,e,r,n){const o=n??-1,l=e.length-1;let c=0;for(let u=void 0!==n?65535&t[aa]:0;u<l;u++)if("number"==typeof e[u+1]){if(c=e[u],null!=n&&c>=n)break}else e[u]<0&&(t[aa]+=65536),(c<o||-1==o)&&(ic(t,r,e,u),t[aa]=(4294901760&t[aa])+u+2),u++}function Zs(t,e){D(4,t,e);const r=xi(null);try{e.call(t)}finally{xi(r),D(5,t,e)}}function ic(t,e,r,n){const i=r[n]<0,o=r[n+1],c=t[i?-r[n]:r[n]];i?t[fr]>>13<t[aa]>>16&&(3&t[fr])===e&&(t[fr]+=8192,Zs(c,o)):Zs(c,o)}const zs=-1;class Is{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function _r(t){return t!==zs}function qn(t){return 32767&t}function Pr(t,e){let r=function Xr(t){return t>>16}(t),n=e;for(;r>0;)n=n[sl],r--;return n}let us=!0;function Gs(t){const e=us;return us=t,e}const q0=255,Y0=5;let aN=0;const la={};function np(t,e){const r=$0(t,e);if(-1!==r)return r;const n=e[On];n.firstCreatePass&&(t.injectorIndex=e.length,A_(n.data,t),A_(e,null),A_(n.blueprint,null));const i=rp(t,e),o=t.injectorIndex;if(_r(i)){const l=qn(i),c=Pr(i,e),u=c[On].data;for(let d=0;d<8;d++)e[o+d]=c[l+d]|u[l+d]}return e[o+8]=i,o}function A_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function rp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;null!==i;){if(n=tw(i),null===n)return zs;if(r++,i=i[sl],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return zs}function I_(t,e,r){!function lN(t,e,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(Zl)&&(n=r[Zl]),null==n&&(n=r[Zl]=aN++);const i=n&q0;e.data[t+(i>>Y0)]|=1<<i}(t,e,r)}function W0(t,e,r){if(r&Tr.Optional||void 0!==t)return t;Da()}function K0(t,e,r,n){if(r&Tr.Optional&&void 0===n&&(n=null),!(r&(Tr.Self|Tr.Host))){const i=t[Bs],o=vo(void 0);try{return i?i.get(e,n,r&Tr.Optional):Ll(e,n,r&Tr.Optional)}finally{vo(o)}}return W0(n,0,r)}function X0(t,e,r,n=Tr.Default,i){if(null!==t){if(2048&e[fr]&&!(n&Tr.Self)){const l=function pN(t,e,r,n,i){let o=t,l=e;for(;null!==o&&null!==l&&2048&l[fr]&&!(512&l[fr]);){const c=Q0(o,l,r,n|Tr.Self,la);if(c!==la)return c;let u=o.parent;if(!u){const d=l[jh];if(d){const w=d.get(r,la,n);if(w!==la)return w}u=tw(l),l=l[sl]}o=u}return i}(t,e,r,n,la);if(l!==la)return l}const o=Q0(t,e,r,n,la);if(o!==la)return o}return K0(e,r,n,i)}function Q0(t,e,r,n,i){const o=function dN(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Zl)?t[Zl]:void 0;return"number"==typeof e?e>=0?e&q0:hN:e}(r);if("function"==typeof o){if(!En(e,t,n))return n&Tr.Host?W0(i,0,n):K0(e,r,n,i);try{let l;if(l=o(n),null!=l||n&Tr.Optional)return l;Da()}finally{ct()}}else if("number"==typeof o){let l=null,c=$0(t,e),u=zs,d=n&Tr.Host?e[Ti][so]:null;for((-1===c||n&Tr.SkipSelf)&&(u=-1===c?rp(t,e):e[c+8],u!==zs&&ew(n,!1)?(l=e[On],c=qn(u),e=Pr(u,e)):c=-1);-1!==c;){const w=e[On];if(J0(o,c,w.data)){const U=uN(c,e,r,l,n,d);if(U!==la)return U}u=e[c+8],u!==zs&&ew(n,e[On].data[c+8]===d)&&J0(o,c,e)?(l=w,c=qn(u),e=Pr(u,e)):c=-1}}return i}function uN(t,e,r,n,i,o){const l=e[On],c=l.data[t+8],w=ip(c,l,r,null==n?Na(c)&&us:n!=l&&0!=(3&c.type),i&Tr.Host&&o===c);return null!==w?oc(e,l,w,c):la}function ip(t,e,r,n,i){const o=t.providerIndexes,l=e.data,c=1048575&o,u=t.directiveStart,w=o>>20,he=i?c+w:t.directiveEnd;for(let we=n?c:c+w;we<he;we++){const Pe=l[we];if(we<u&&r===Pe||we>=u&&Pe.type===r)return we}if(i){const we=l[u];if(we&&as(we)&&we.type===r)return u}return null}function oc(t,e,r,n){let i=t[r];const o=e.data;if(function ul(t){return t instanceof Is}(i)){const l=i;l.resolving&&function jc(t,e){const r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new zt(-200,`Circular dependency in DI detected for ${t}${r}`)}(function Fr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():sr(t)}(o[r]));const c=Gs(l.canSeeViewProviders);l.resolving=!0;const d=l.injectImpl?vo(l.injectImpl):null;En(t,n,Tr.Default);try{i=t[r]=l.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&function cs(t,e,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){const l=jd(e);(r.preOrderHooks??=[]).push(t,l),(r.preOrderCheckHooks??=[]).push(t,l)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}(r,o[r],e)}finally{null!==d&&vo(d),Gs(c),l.resolving=!1,ct()}}return i}function J0(t,e,r){return!!(r[e+(t>>Y0)]&1<<t)}function ew(t,e){return!(t&Tr.Self||t&Tr.Host&&e)}class Oo{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return X0(this._tNode,this._lView,e,sa(n),r)}}function hN(){return new Oo(Ft(),Ie())}function Ji(t){return xr(()=>{const e=t.prototype.constructor,r=e[Ts]||D_(e),n=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){const o=i[Ts]||D_(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function D_(t){return is(t)?()=>{const e=D_(Un(t));return e&&e()}:Oa(t)}function tw(t){const e=t[On],r=e.type;return 2===r?e.declTNode:1===r?t[so]:null}function sc(t){return function cN(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const r=t.attrs;if(r){const n=r.length;let i=0;for(;i<n;){const o=r[i];if(zl(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<n&&"string"==typeof r[i];)i++;else{if(o===e)return r[i+1];i+=2}}}return null}(Ft(),t)}const fu="__parameters__";function pu(t,e,r){return xr(()=>{const n=function x_(t){return function(...r){if(t){const n=t(...r);for(const i in n)this[i]=n[i]}}}(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;const l=new i(...o);return c.annotation=l,c;function c(u,d,w){const U=u.hasOwnProperty(fu)?u[fu]:Object.defineProperty(u,fu,{value:[]})[fu];for(;U.length<=w;)U.push(null);return(U[w]=U[w]||[]).push(l),u}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function gu(t,e){t.forEach(r=>Array.isArray(r)?gu(r,e):e(r))}function rw(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function op(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gd(t,e){const r=[];for(let n=0;n<t;n++)r.push(e);return r}function ds(t,e,r){let n=_u(t,e);return n>=0?t[1|n]=r:(n=~n,function EN(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(1===i)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=r,t[e+1]=n}}(t,n,e,r)),n}function R_(t,e){const r=_u(t,e);if(r>=0)return t[1|r]}function _u(t,e){return function iw(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){const o=n+(i-n>>1),l=t[o<<r];if(e===l)return o<<r;l>e?i=o:n=o+1}return~(i<<r)}(t,e,1)}const vu=Ul(pu("Optional"),8),ap=Ul(pu("SkipSelf"),4);function fp(t){return 128==(128&t.flags)}var dl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(dl||{});const HN=/^>|^->|<!--|-->|--!>|<!-$/g,ZN=/(<|>)/g,zN="\u200b$1\u200b";const k_=new Map;let GN=0;const F_="__ngContext__";function Eo(t,e){go(e)?(t[F_]=e[Xl],function YN(t){k_.set(t[Xl],t)}(e)):t[F_]=e}let B_;function U_(t,e){return B_(t,e)}function $d(t){const e=t[_i];return ao(e)?e[_i]:e}function Sw(t){return Aw(t[Wl])}function Cw(t){return Aw(t[Ro])}function Aw(t){for(;null!==t&&!ao(t);)t=t[Ro];return t}function Eu(t,e,r,n,i){if(null!=n){let o,l=!1;ao(n)?o=n:go(n)&&(l=!0,n=n[Ei]);const c=A(n);0===t&&null!==r?null==i?Rw(e,r,c):ac(e,r,c,i||null,!0):1===t&&null!==r?ac(e,r,c,i||null,!0):2===t?function yp(t,e,r){const n=_p(t,e);n&&function fO(t,e,r,n){t.removeChild(e,r,n)}(t,n,e,r)}(e,c,l):3===t&&e.destroyNode(c),null!=o&&function mO(t,e,r,n,i){const o=r[ss];o!==A(r)&&Eu(e,t,n,o,i);for(let c=Bi;c<r.length;c++){const u=r[c];Kd(u[On],u,t,e,n,o)}}(e,t,o,r,i)}}function V_(t,e){return t.createComment(function gw(t){return t.replace(HN,e=>e.replace(ZN,zN))}(e))}function mp(t,e,r){return t.createElement(e,r)}function Dw(t,e){const r=t[al],n=r.indexOf(e);fe(e),r.splice(n,1)}function gp(t,e){if(t.length<=Bi)return;const r=Bi+e,n=t[r];if(n){const i=n[Kl];null!==i&&i!==t&&Dw(i,n),e>0&&(t[r-1][Ro]=n[Ro]);const o=op(t,Bi+e);!function iO(t,e){Kd(t,e,e[ur],2,null,null),e[Ei]=null,e[so]=null}(n[On],n);const l=o[qo];null!==l&&l.detachView(o[On]),n[_i]=null,n[Ro]=null,n[fr]&=-129}return n}function j_(t,e){if(!(256&e[fr])){const r=e[ur];e[nu]?.destroy(),e[Ql]?.destroy(),r.destroyNode&&Kd(t,e,r,3,null,null),function aO(t){let e=t[Wl];if(!e)return H_(t[On],t);for(;e;){let r=null;if(go(e))r=e[Wl];else{const n=e[Bi];n&&(r=n)}if(!r){for(;e&&!e[Ro]&&e!==t;)go(e)&&H_(e[On],e),e=e[_i];null===e&&(e=t),go(e)&&H_(e[On],e),r=e&&e[Ro]}e=r}}(e)}}function H_(t,e){if(!(256&e[fr])){e[fr]&=-129,e[fr]|=256,function dO(t,e){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let n=0;n<r.length;n+=2){const i=e[r[n]];if(!(i instanceof Is)){const o=r[n+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],u=o[l+1];D(4,c,u);try{u.call(c)}finally{D(5,c,u)}}else{D(4,i,o);try{o.call(i)}finally{D(5,i,o)}}}}}(t,e),function uO(t,e){const r=t.cleanup,n=e[ol];if(null!==r)for(let o=0;o<r.length-1;o+=2)if("string"==typeof r[o]){const l=r[o+3];l>=0?n[l]():n[-l].unsubscribe(),o+=2}else r[o].call(n[r[o+1]]);null!==n&&(e[ol]=null);const i=e[Vs];if(null!==i){e[Vs]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[On].type&&e[ur].destroy();const r=e[Kl];if(null!==r&&ao(e[_i])){r!==e[_i]&&Dw(r,e);const n=e[qo];null!==n&&n.detachView(t)}!function $N(t){k_.delete(t[Xl])}(e)}}function Z_(t,e,r){return function xw(t,e,r){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return r[Ei];{const{componentOffset:i}=n;if(i>-1){const{encapsulation:o}=t.data[n.directiveStart+i];if(o===Go.None||o===Go.Emulated)return null}return ie(n,r)}}(t,e.parent,r)}function ac(t,e,r,n,i){t.insertBefore(e,r,n,i)}function Rw(t,e,r){t.appendChild(e,r)}function Mw(t,e,r,n,i){null!==n?ac(t,e,r,n,i):Rw(t,e,r)}function _p(t,e){return t.parentNode(e)}function Nw(t,e,r){return Pw(t,e,r)}let z_,bp,$_,Ep,Pw=function Ow(t,e,r){return 40&t.type?ie(t,r):null};function vp(t,e,r,n){const i=Z_(t,n,e),o=e[ur],c=Nw(n.parent||e[so],n,e);if(null!=i)if(Array.isArray(r))for(let u=0;u<r.length;u++)Mw(o,i,r[u],c,!1);else Mw(o,i,r,c,!1);void 0!==z_&&z_(o,n,e,r,i)}function Wd(t,e){if(null!==e){const r=e.type;if(3&r)return ie(e,t);if(4&r)return G_(-1,t[e.index]);if(8&r){const n=e.child;if(null!==n)return Wd(t,n);{const i=t[e.index];return ao(i)?G_(-1,i):A(i)}}if(32&r)return U_(e,t)()||A(t[e.index]);{const n=Lw(t,e);return null!==n?Array.isArray(n)?n[0]:Wd($d(t[Ti]),n):Wd(t,e.next)}}return null}function Lw(t,e){return null!==e?t[Ti][so].projection[e.projection]:null}function G_(t,e){const r=Bi+t+1;if(r<e.length){const n=e[r],i=n[On].firstChild;if(null!==i)return Wd(n,i)}return e[ss]}function q_(t,e,r,n,i,o,l){for(;null!=r;){const c=n[r.index],u=r.type;if(l&&0===e&&(c&&Eo(A(c),n),r.flags|=2),32!=(32&r.flags))if(8&u)q_(t,e,r.child,n,i,o,!1),Eu(e,t,i,c,o);else if(32&u){const d=U_(r,n);let w;for(;w=d();)Eu(e,t,i,w,o);Eu(e,t,i,c,o)}else 16&u?Bw(t,e,n,r,i,o):Eu(e,t,i,c,o);r=l?r.projectionNext:r.next}}function Kd(t,e,r,n,i,o){q_(r,n,t.firstChild,e,i,o,!1)}function Bw(t,e,r,n,i,o){const l=r[Ti],u=l[so].projection[n.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)Eu(e,t,i,u[d],o);else{let d=u;const w=l[_i];fp(n)&&(d.flags|=128),q_(t,e,d,w,i,o,!0)}}function Uw(t,e,r){""===r?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function Vw(t,e,r){const{mergedAttrs:n,classes:i,styles:o}=r;null!==n&&xd(t,e,n),null!==i&&Uw(t,e,i),null!==o&&function _O(t,e,r){t.setAttribute(e,"style",r)}(t,e,o)}function wu(t){return function Y_(){if(void 0===bp&&(bp=null,Gr.trustedTypes))try{bp=Gr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bp}()?.createHTML(t)||t}function Tu(){if(void 0!==$_)return $_;if(typeof document<"u")return document;throw new zt(210,!1)}function W_(){if(void 0===Ep&&(Ep=null,Gr.trustedTypes))try{Ep=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ep}function jw(t){return W_()?.createHTML(t)||t}function Zw(t){return W_()?.createScriptURL(t)||t}class lc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bs})`}}class wO extends lc{getTypeName(){return"HTML"}}class TO extends lc{getTypeName(){return"Style"}}class SO extends lc{getTypeName(){return"Script"}}class CO extends lc{getTypeName(){return"URL"}}class AO extends lc{getTypeName(){return"ResourceURL"}}function fs(t){return t instanceof lc?t.changingThisBreaksApplicationSecurity:t}function ca(t,e){const r=function IO(t){return t instanceof lc&&t.getTypeName()||null}(t);if(null!=r&&r!==e){if("ResourceURL"===r&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${bs})`)}return r===e}class OO{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const r=(new window.DOMParser).parseFromString(wu(e),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(e):(r.removeChild(r.firstChild),r)}catch{return null}}}class PO{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const r=this.inertDocument.createElement("template");return r.innerHTML=wu(e),r}}const LO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wp(t){return(t=String(t)).match(LO)?t:"unsafe:"+t}function ka(t){const e={};for(const r of t.split(","))e[r]=!0;return e}function Xd(...t){const e={};for(const r of t)for(const n in r)r.hasOwnProperty(n)&&(e[n]=!0);return e}const Gw=ka("area,br,col,hr,img,wbr"),qw=ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yw=ka("rp,rt"),K_=Xd(Gw,Xd(qw,ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xd(Yw,ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xd(Yw,qw)),X_=ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$w=Xd(X_,ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),FO=ka("script,style,template");class BO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let r=e.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let i=this.checkClobberedElement(r,r.nextSibling);if(i){r=i;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(e){const r=e.nodeName.toLowerCase();if(!K_.hasOwnProperty(r))return this.sanitizedSomething=!0,!FO.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=e.attributes;for(let i=0;i<n.length;i++){const o=n.item(i),l=o.name,c=l.toLowerCase();if(!$w.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;X_[c]&&(u=wp(u)),this.buf.push(" ",l,'="',Ww(u),'"')}return this.buf.push(">"),!0}endElement(e){const r=e.nodeName.toLowerCase();K_.hasOwnProperty(r)&&!Gw.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(e){this.buf.push(Ww(e))}checkClobberedElement(e,r){if(r&&(e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return r}}const UO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VO=/([^\#-~ |!])/g;function Ww(t){return t.replace(/&/g,"&amp;").replace(UO,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(VO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tp;function Kw(t,e){let r=null;try{Tp=Tp||function zw(t){const e=new PO(t);return function kO(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch{return!1}}()?new OO(e):e}(t);let n=e?String(e):"";r=Tp.getInertBodyElement(n);let i=5,o=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=r.innerHTML,r=Tp.getInertBodyElement(n)}while(n!==o);return wu((new BO).sanitizeChildren(Q_(r)||r))}finally{if(r){const n=Q_(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Q_(t){return"content"in t&&function jO(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Vi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vi||{});function J_(t){const e=Qd();return e?jw(e.sanitize(Vi.HTML,t)||""):ca(t,"HTML")?jw(fs(t)):Kw(Tu(),sr(t))}function Xw(t){const e=Qd();return e?e.sanitize(Vi.STYLE,t)||"":ca(t,"Style")?fs(t):sr(t)}function cc(t){const e=Qd();return e?e.sanitize(Vi.URL,t)||"":ca(t,"URL")?fs(t):wp(sr(t))}function Qw(t){const e=Qd();if(e)return Zw(e.sanitize(Vi.RESOURCE_URL,t)||"");if(ca(t,"ResourceURL"))return Zw(fs(t));throw new zt(904,!1)}function Qd(){const t=Ie();return t&&t[Us].sanitizer}class ln{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=gn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jd=new ln("ENVIRONMENT_INITIALIZER"),eT=new ln("INJECTOR",-1),tT=new ln("INJECTOR_DEF_TYPES");class ev{get(e,r=Fl){if(r===Fl){const n=new Error(`NullInjectorError: No provider for ${Mr(e)}!`);throw n.name="NullInjectorError",n}return r}}function tv(t){return{\u0275providers:t}}function qO(...t){return{\u0275providers:nT(0,t),\u0275fromNgModule:!0}}function nT(t,...e){const r=[],n=new Set;let i;const o=l=>{r.push(l)};return gu(e,l=>{const c=l;Sp(c,o,[],n)&&(i||=[],i.push(c))}),void 0!==i&&rT(i,o),r}function rT(t,e){for(let r=0;r<t.length;r++){const{ngModule:n,providers:i}=t[r];nv(i,o=>{e(o,n)})}}function Sp(t,e,r,n){if(!(t=Un(t)))return!1;let i=null,o=Zc(t);const l=!o&&Nr(t);if(o||l){if(l&&!l.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Zc(u),!o)return!1;i=u}const c=n.has(i);if(l){if(c)return!1;if(n.add(i),l.dependencies){const u="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const d of u)Sp(d,e,r,n)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let d;n.add(i);try{gu(o.imports,w=>{Sp(w,e,r,n)&&(d||=[],d.push(w))})}finally{}void 0!==d&&rT(d,e)}if(!c){const d=Oa(i)||(()=>new i);e({provide:i,useFactory:d,deps:Ur},i),e({provide:tT,useValue:i,multi:!0},i),e({provide:Jd,useValue:()=>Wt(i),multi:!0},i)}const u=o.providers;if(null!=u&&!c){const d=t;nv(u,w=>{e(w,d)})}}}return i!==t&&void 0!==t.providers}function nv(t,e){for(let r of t)mo(r)&&(r=r.\u0275providers),Array.isArray(r)?nv(r,e):e(r)}const YO=or({provide:String,useValue:or});function rv(t){return null!==t&&"object"==typeof t&&YO in t}function uc(t){return"function"==typeof t}const iv=new ln("Set Injector scope."),Cp={},WO={};let ov;function Ap(){return void 0===ov&&(ov=new ev),ov}class qs{}class Ip extends qs{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,av(e,l=>this.processProvider(l)),this.records.set(eT,Su(void 0,this)),i.has("environment")&&this.records.set(qs,Su(void 0,this));const o=this.records.get(iv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tT.multi,Ur,Tr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const r=oa(this),n=vo(void 0);try{return e()}finally{oa(r),vo(n)}}get(e,r=Fl,n=Tr.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Wc))return e[Wc](this);n=sa(n);const o=oa(this),l=vo(void 0);try{if(!(n&Tr.SkipSelf)){let u=this.records.get(e);if(void 0===u){const d=function eP(t){return"function"==typeof t||"object"==typeof t&&t instanceof ln}(e)&&Qa(e);u=d&&this.injectableDefInScope(d)?Su(sv(e),Cp):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(n&Tr.Self?Ap():this.parent).get(e,r=n&Tr.Optional&&r===Fl?null:r)}catch(c){if("NullInjectorError"===c.name){if((c[Yc]=c[Yc]||[]).unshift(Mr(e)),o)throw c;return function Vl(t,e,r,n){const i=t[Yc];throw e[Bl]&&i.unshift(e[Bl]),t.message=function Id(t,e,r,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Mr(e);if(Array.isArray(e))i=e.map(Mr).join(" -> ");else if("object"==typeof e){let o=[];for(let l in e)if(e.hasOwnProperty(l)){let c=e[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):Mr(c)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(Cd,"\n  ")}`}("\n"+t.message,i,r,n),t.ngTokenPath=i,t[Yc]=null,t}(c,e,"R3InjectorError",this.source)}throw c}finally{vo(l),oa(o)}}resolveInjectorInitializers(){const e=oa(this),r=vo(void 0);try{const i=this.get(Jd.multi,Ur,Tr.Self);for(const o of i)o()}finally{oa(e),vo(r)}}toString(){const e=[],r=this.records;for(const n of r.keys())e.push(Mr(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new zt(205,!1)}processProvider(e){let r=uc(e=Un(e))?e:Un(e&&e.provide);const n=function XO(t){return rv(t)?Su(void 0,t.useValue):Su(sT(t),Cp)}(e);if(uc(e)||!0!==e.multi)this.records.get(r);else{let i=this.records.get(r);i||(i=Su(void 0,Cp,!0),i.factory=()=>$c(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){return r.value===Cp&&(r.value=WO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function JO(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(e){if(!e.providedIn)return!1;const r=Un(e.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){const r=this._onDestroyHooks.indexOf(e);-1!==r&&this._onDestroyHooks.splice(r,1)}}function sv(t){const e=Qa(t),r=null!==e?e.factory:Oa(t);if(null!==r)return r;if(t instanceof ln)throw new zt(204,!1);if(t instanceof Function)return function KO(t){const e=t.length;if(e>0)throw Gd(e,"?"),new zt(204,!1);const r=function Mh(t){return t&&(t[kl]||t[Nh])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new zt(204,!1)}function sT(t,e,r){let n;if(uc(t)){const i=Un(t);return Oa(i)||sv(i)}if(rv(t))n=()=>Un(t.useValue);else if(function oT(t){return!(!t||!t.useFactory)}(t))n=()=>t.useFactory(...$c(t.deps||[]));else if(function iT(t){return!(!t||!t.useExisting)}(t))n=()=>Wt(Un(t.useExisting));else{const i=Un(t&&(t.useClass||t.provide));if(!function QO(t){return!!t.deps}(t))return Oa(i)||sv(i);n=()=>new i(...$c(t.deps))}return n}function Su(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function av(t,e){for(const r of t)Array.isArray(r)?av(r,e):r&&mo(r)?av(r.\u0275providers,e):e(r)}const Dp=new ln("AppId",{providedIn:"root",factory:()=>tP}),tP="ng",aT=new ln("Platform Initializer"),dc=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xs=new ln("AnimationModuleType"),lv=new ln("CSP nonce",{providedIn:"root",factory:()=>Tu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lT=(t,e,r)=>null;function gv(t,e,r=!1){return lT(t,e,r)}class dP{}class dT{}class hP{resolveComponentFactory(e){throw function fP(t){const e=Error(`No component factory found for ${Mr(t)}.`);return e.ngComponent=t,e}(e)}}let nf=(()=>{class e{}return e.NULL=new hP,e})();function pP(){return Iu(Ft(),Ie())}function Iu(t,e){return new Or(ie(t,e))}let Or=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=pP,e})();function mP(t){return t instanceof Or?t.nativeElement:t}class rf{}let La=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function gP(){const t=Ie(),r=X(Ft().index,t);return(go(r)?r:t)[ur]}(),e})(),_P=(()=>{var t;class e{}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:()=>null}),e})();class fc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const vP=new fc("16.2.3"),yv={};function Pp(t){if(!Ph()&&!function Lh(){return Ma}())throw new zt(-203,!1)}function gT(t,e=null,r=null,n){const i=_T(t,e,r,n);return i.resolveInjectorInitializers(),i}function _T(t,e=null,r=null,n,i=new Set){const o=[r||Ur,qO(t)];return n=n||("object"==typeof t?void 0:Mr(t)),new Ip(o,e||Ap(),n||null,i)}let Po=(()=>{var t;class e{static create(n,i){if(Array.isArray(n))return gT({name:""},i,n,"");{const o=n.name??"";return gT({name:o},n.parent,n.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=Fl,t.NULL=new ev,t.\u0275prov=gn({token:t,providedIn:"any",factory:()=>Wt(eT)}),t.__NG_ELEMENT_ID__=-1,e})(),sf=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=CP,t.__NG_ENV_ID__=r=>r,e})();class SP extends sf{constructor(e){super(),this._lView=e}onDestroy(e){return I(this._lView,e),()=>function $(t,e){if(null===t[Vs])return;const r=t[Vs].indexOf(e);-1!==r&&t[Vs].splice(r,1)}(this._lView,e)}}function CP(){return new SP(Ie())}function bv(t){return e=>{setTimeout(t,void 0,e)}}const ri=class AP extends ut{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,r,n){let i=e,o=r||(()=>null),l=n;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(o=bv(o),i&&(i=bv(i)),l&&(l=bv(l)));const c=super.subscribe({next:i,error:o,complete:l});return e instanceof F&&e.add(c),c}};function vT(...t){}class ar{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ri(!1),this.onMicrotaskEmpty=new ri(!1),this.onStable=new ri(!1),this.onError=new ri(!1),typeof Zone>"u")throw new zt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function IP(){const t="function"==typeof Gr.requestAnimationFrame;let e=Gr[t?"requestAnimationFrame":"setTimeout"],r=Gr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function RP(t){const e=()=>{!function xP(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wv(t),t.isCheckStableRunning=!0,Ev(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,l,c)=>{try{return yT(t),r.invokeTask(i,o,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),bT(t)}},onInvoke:(r,n,i,o,l,c,u)=>{try{return yT(t),r.invoke(i,o,l,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),bT(t)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,wv(t),Ev(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ar.isInAngularZone())throw new zt(909,!1)}static assertNotInAngularZone(){if(ar.isInAngularZone())throw new zt(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,e,DP,vT,vT);try{return o.runTask(l,r,n)}finally{o.cancelTask(l)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}}const DP={};function Ev(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function yT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bT(t){t._nesting--,Ev(t)}const ET=new ln("",{providedIn:"root",factory:wT});function wT(){const t=$t(ar);let e=!0;return Io(new Ke(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ke(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ar.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const l=t.onUnstable.subscribe(()=>{ar.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),l.unsubscribe()}}).pipe(Xt()))}function Fa(t){return t instanceof Function?t():t}let Tv=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new zt(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const n of this.callbacks)n.invoke()}finally{this.runningCallbacks=!1;for(const n of this.deferredCallbacks)this.callbacks.add(n);this.deferredCallbacks.clear()}}register(n){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(n)}unregister(n){this.callbacks.delete(n),this.deferredCallbacks.delete(n)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t}),e})();function af(t){for(;t;){t[fr]|=64;const e=$d(t);if(su(t)&&!e)return t;t=e}return null}function Sv(t){return t.ngOriginalError}class ua{constructor(){this._console=console}handleError(e){const r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&Sv(e);for(;r&&Sv(r);)r=Sv(r);return r||null}}const IT=new ln("",{providedIn:"root",factory:()=>!1});class MT extends lu{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){af(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,r,n){const i=xi(this);this.trackingVersion++;try{e(r,n)}finally{xi(i)}}destroy(){this.trackingVersion++}}let Lp=null;function NT(){return Lp??=new MT,Lp}function OT(t,e){return t[e]??NT()}function PT(t,e){const r=NT();r.hasReadASignal&&(t[e]=Lp,r.lView=t,Lp=new MT)}const vr={};function en(t){kT(Ct(),Ie(),It()+t,!1)}function kT(t,e,r,n){if(!n)if(3==(3&e[fr])){const o=t.preOrderCheckHooks;null!==o&&lo(e,o,r)}else{const o=t.preOrderHooks;null!==o&&Wo(e,o,0,r)}Qt(r)}function vt(t,e=Tr.Default){const r=Ie();return null===r?Wt(t,e):X0(Ft(),r,Un(t),e)}function Fp(){throw new Error("invalid")}function Bp(t,e,r,n,i,o,l,c,u,d,w){const U=e.blueprint.slice();return U[Ei]=i,U[fr]=140|n,(null!==d||t&&2048&t[fr])&&(U[fr]|=2048),Y(U),U[_i]=U[sl]=t,U[wi]=r,U[Us]=l||t&&t[Us],U[ur]=c||t&&t[ur],U[Bs]=u||t&&t[Bs]||null,U[so]=o,U[Xl]=function qN(){return GN++}(),U[js]=w,U[jh]=d,U[Ti]=2==e.type?t[Ti]:U,U}function Ru(t,e,r,n,i){let o=t.data[e];if(null===o)o=function Cv(t,e,r,n,i){const o=sn(),l=et(),u=t.data[e]=function $P(t,e,r,n,i,o){let l=e?e.injectorIndex:-1,c=0;return Q()&&(c|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,r,e,n,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(l?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,r,n,i),function Dn(){return G.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=r,o.value=n,o.attrs=i;const l=function Be(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return Te(o,!0),o}function lf(t,e,r,n){if(0===r)return-1;const i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function LT(t,e,r,n,i){const o=OT(e,nu),l=It(),c=2&n;try{if(Qt(-1),c&&e.length>Ar&&kT(t,e,Ar,!1),D(c?2:0,i),c)o.runInContext(r,n,i);else{const d=xi(null);try{r(n,i)}finally{xi(d)}}}finally{c&&null===e[nu]&&PT(e,nu),Qt(l),D(c?3:1,i)}}function Av(t,e,r){if(ou(e)){const n=xi(null);try{const o=e.directiveEnd;for(let l=e.directiveStart;l<o;l++){const c=t.data[l];c.contentQueries&&c.contentQueries(1,r[l],l)}}finally{xi(n)}}}function Iv(t,e,r){z()&&(function tk(t,e,r,n){const i=r.directiveStart,o=r.directiveEnd;Na(r)&&function lk(t,e,r){const n=ie(e,t),i=FT(r);let l=16;r.signals?l=4096:r.onPush&&(l=64);const c=Up(t,Bp(t,i,null,l,n,e,null,t[Us].rendererFactory.createRenderer(n,r),null,null,null));t[e.index]=c}(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||np(r,e),Eo(n,e);const l=r.initialInputs;for(let c=i;c<o;c++){const u=t.data[c],d=oc(e,t,c,r);Eo(d,e),null!==l&&ck(0,c-i,d,u,0,l),as(u)&&(X(r.index,e)[wi]=oc(e,t,c,r))}}(t,e,r,ie(r,e)),64==(64&r.flags)&&HT(t,e,r))}function Dv(t,e,r=ie){const n=e.localNames;if(null!==n){let i=e.index+1;for(let o=0;o<n.length;o+=2){const l=n[o+1],c=-1===l?r(e,t):t[l];t[i++]=c}}}function FT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=xv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xv(t,e,r,n,i,o,l,c,u,d,w){const U=Ar+n,he=U+i,we=function HP(t,e){const r=[];for(let n=0;n<e;n++)r.push(n<t?null:vr);return r}(U,he),Pe="function"==typeof d?d():d;return we[On]={type:t,blueprint:we,template:r,queries:null,viewQuery:c,declTNode:e,data:we.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:u,consts:Pe,incompleteFirstPass:!1,ssrId:w}}let BT=t=>null;function UT(t,e,r,n){for(let i in t)if(t.hasOwnProperty(i)){r=null===r?{}:r;const o=t[i];null===n?VT(r,e,i,o):n.hasOwnProperty(i)&&VT(r,e,n[i],o)}return r}function VT(t,e,r,n){t.hasOwnProperty(r)?t[r].push(e,n):t[r]=[e,n]}function hs(t,e,r,n,i,o,l,c){const u=ie(e,r);let w,d=e.inputs;!c&&null!=d&&(w=d[n])?(Pv(t,r,w,n,i),Na(e)&&function XP(t,e){const r=X(e,t);16&r[fr]||(r[fr]|=64)}(r,e.index)):3&e.type&&(n=function KP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),i=null!=l?l(i,e.value||"",n):i,o.setProperty(u,n,i))}function Rv(t,e,r,n){if(z()){const i=null===n?null:{"":-1},o=function rk(t,e){const r=t.directiveRegistry;let n=null,i=null;if(r)for(let o=0;o<r.length;o++){const l=r[o];if(Jc(e,l.selectors,!1))if(n||(n=[]),as(l))if(null!==l.findHostDirectiveDefs){const c=[];i=i||new Map,l.findHostDirectiveDefs(l,c,i),n.unshift(...c,l),Mv(t,e,c.length)}else n.unshift(l),Mv(t,e,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,n,i),n.push(l)}return null===n?null:[n,i]}(t,r);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&jT(t,e,r,l,i,c),i&&function ik(t,e,r){if(e){const n=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=r[e[i+1]];if(null==o)throw new zt(-301,!1);n.push(e[i],o)}}}(r,n,i)}r.mergedAttrs=Gl(r.mergedAttrs,r.attrs)}function jT(t,e,r,n,i,o){for(let d=0;d<n.length;d++)I_(np(r,e),t,n[d].type);!function sk(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}(r,t.data.length,n.length);for(let d=0;d<n.length;d++){const w=n[d];w.providersResolver&&w.providersResolver(w)}let l=!1,c=!1,u=lf(t,e,n.length,null);for(let d=0;d<n.length;d++){const w=n[d];r.mergedAttrs=Gl(r.mergedAttrs,w.hostAttrs),ak(t,r,e,u,w),ok(u,w,i),null!==w.contentQueries&&(r.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(r.flags|=64);const U=w.type.prototype;!l&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),l=!0),!c&&(U.ngOnChanges||U.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),c=!0),u++}!function WP(t,e,r){const i=e.directiveEnd,o=t.data,l=e.attrs,c=[];let u=null,d=null;for(let w=e.directiveStart;w<i;w++){const U=o[w],he=r?r.get(U):null,Pe=he?he.outputs:null;u=UT(U.inputs,w,u,he?he.inputs:null),d=UT(U.outputs,w,d,Pe);const Ue=null===u||null===l||ql(e)?null:uk(u,w,l);c.push(Ue)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}(t,r,o)}function HT(t,e,r){const n=r.directiveStart,i=r.directiveEnd,o=r.index,l=function lr(){return G.lFrame.currentDirectiveIndex}();try{Qt(o);for(let c=n;c<i;c++){const u=t.data[c],d=e[c];zn(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&nk(u,d)}}finally{Qt(-1),zn(l)}}function nk(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mv(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function ok(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;as(e)&&(r[""]=t)}}function ak(t,e,r,n,i){t.data[n]=i;const o=i.factory||(i.factory=Oa(i.type)),l=new Is(o,as(i),vt);t.blueprint[n]=l,r[n]=l,function JP(t,e,r,n,i){const o=i.hostBindings;if(o){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const c=~e.index;(function ek(t){let e=t.length;for(;e>0;){const r=t[--e];if("number"==typeof r&&r<0)return r}return 0})(l)!=c&&l.push(c),l.push(r,n,o)}}(t,e,n,lf(t,r,i.hostVars,vr),i)}function da(t,e,r,n,i,o){const l=ie(t,e);!function Nv(t,e,r,n,i,o,l){if(null==o)t.removeAttribute(e,i,r);else{const c=null==l?sr(o):l(o,n||"",i);t.setAttribute(e,i,c,r)}}(e[ur],l,o,t.value,r,n,i)}function ck(t,e,r,n,i,o){const l=o[e];if(null!==l)for(let c=0;c<l.length;)ZT(n,r,l[c++],l[c++],l[c++])}function ZT(t,e,r,n,i){const o=xi(null);try{const l=t.inputTransforms;null!==l&&l.hasOwnProperty(n)&&(i=l[n].call(e,i)),null!==t.setInput?t.setInput(e,i,r,n):e[n]=i}finally{xi(o)}}function uk(t,e,r){let n=null,i=0;for(;i<r.length;){const o=r[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===n&&(n=[]);const l=t[o];for(let c=0;c<l.length;c+=2)if(l[c]===e){n.push(o,l[c+1],r[i+1]);break}}i+=2}else i+=2;else i+=4}return n}function zT(t,e,r,n){return[t,!0,!1,e,null,0,n,r,null,null,null]}function GT(t,e){const r=t.contentQueries;if(null!==r)for(let n=0;n<r.length;n+=2){const o=r[n+1];if(-1!==o){const l=t.data[o];pr(r[n]),l.contentQueries(2,e[o],o)}}}function Up(t,e){return t[Wl]?t[Pd][Ro]=e:t[Wl]=e,t[Pd]=e,e}function Ov(t,e,r){pr(0);const n=xi(null);try{e(t,r)}finally{xi(n)}}function qT(t){return t[ol]||(t[ol]=[])}function YT(t){return t.cleanup||(t.cleanup=[])}function WT(t,e){const r=t[Bs],n=r?r.get(ua,null):null;n&&n.handleError(e)}function Pv(t,e,r,n,i){for(let o=0;o<r.length;){const l=r[o++],c=r[o++];ZT(t.data[l],e[l],n,c,i)}}function Ba(t,e,r){const n=ee(e,t);!function Iw(t,e,r){t.setValue(e,r)}(t[ur],n,r)}function dk(t,e){const r=X(e,t),n=r[On];!function fk(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}(n,r);const i=r[Ei];null!==i&&null===r[js]&&(r[js]=gv(i,r[Bs])),kv(n,r,r[wi])}function kv(t,e,r){bn(e);try{const n=t.viewQuery;null!==n&&Ov(1,n,r);const i=t.template;null!==i&&LT(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&GT(t,e),t.staticViewQueries&&Ov(2,t.viewQuery,r);const o=t.components;null!==o&&function hk(t,e){for(let r=0;r<e.length;r++)dk(t,e[r])}(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[fr]&=-5,Ge()}}let KT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,o){const l=typeof Zone>"u"?null:Zone.current,c=new S_(n,w=>{this.all.has(w)&&this.queue.set(w,l)},o);let u;this.all.add(c),c.notify();const d=()=>{c.cleanup(),u?.(),this.all.delete(c),this.queue.delete(c)};return u=i?.onDestroy(d),{destroy:d}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t}),e})();function Lv(t,e){!e?.injector&&Pp();const r=e?.injector??$t(Po),n=r.get(KT),i=!0!==e?.manualCleanup?r.get(sf):null;return n.create(t,i,!!e?.allowSignalWrites)}function Vp(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(null!==e)for(let l=0;l<e.length;l++){const c=e[l];"number"==typeof c?o=c:1==o?i=fi(i,c):2==o&&(n=fi(n,c+": "+e[++l]+";"))}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}function cf(t,e,r,n,i=!1){for(;null!==r;){const o=e[r.index];null!==o&&n.push(A(o)),ao(o)&&XT(o,n);const l=r.type;if(8&l)cf(t,e,r.child,n);else if(32&l){const c=U_(r,e);let u;for(;u=c();)n.push(u)}else if(16&l){const c=Lw(e,r);if(Array.isArray(c))n.push(...c);else{const u=$d(e[Ti]);cf(u[On],u,c,n,!0)}}r=i?r.projectionNext:r.next}return n}function XT(t,e){for(let r=Bi;r<t.length;r++){const n=t[r],i=n[On].firstChild;null!==i&&cf(n[On],n,i,e)}t[ss]!==t[Ei]&&e.push(t[ss])}function jp(t,e,r,n=!0){const i=e[Us],o=i.rendererFactory,l=i.afterRenderEventManager;o.begin?.(),l?.begin();try{QT(t,e,t.template,r)}catch(u){throw n&&WT(e,u),u}finally{o.end?.(),i.effectManager?.flush(),l?.end()}}function QT(t,e,r,n){const i=e[fr];if(256!=(256&i)){e[Us].effectManager?.flush(),bn(e);try{Y(e),function Cn(t){return G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&LT(t,e,r,2,n);const l=3==(3&i);if(l){const d=t.preOrderCheckHooks;null!==d&&lo(e,d,null)}else{const d=t.preOrderHooks;null!==d&&Wo(e,d,0,null),As(e,0)}if(function mk(t){for(let e=Sw(t);null!==e;e=Cw(e)){if(!e[kd])continue;const r=e[al];for(let n=0;n<r.length;n++){_e(r[n])}}}(e),JT(e,2),null!==t.contentQueries&&GT(t,e),l){const d=t.contentCheckHooks;null!==d&&lo(e,d)}else{const d=t.contentHooks;null!==d&&Wo(e,d,1),As(e,1)}!function jP(t,e){const r=t.hostBindingOpCodes;if(null===r)return;const n=OT(e,Ql);try{for(let i=0;i<r.length;i++){const o=r[i];if(o<0)Qt(~o);else{const l=o,c=r[++i],u=r[++i];er(c,l),n.runInContext(u,2,e[l])}}}finally{null===e[Ql]&&PT(e,Ql),Qt(-1)}}(t,e);const c=t.components;null!==c&&tS(e,c,0);const u=t.viewQuery;if(null!==u&&Ov(2,u,n),l){const d=t.viewCheckHooks;null!==d&&lo(e,d)}else{const d=t.viewHooks;null!==d&&Wo(e,d,2),As(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[fr]&=-73,fe(e)}finally{Ge()}}}function JT(t,e){for(let r=Sw(t);null!==r;r=Cw(r))for(let n=Bi;n<r.length;n++)eS(r[n],e)}function gk(t,e,r){eS(X(e,t),r)}function eS(t,e){if(!function ge(t){return 128==(128&t[fr])}(t))return;const r=t[On];if(80&t[fr]&&0===e||1024&t[fr]||2===e)QT(r,t,r.template,t[wi]);else if(t[il]>0){JT(t,1);const i=t[On].components;null!==i&&tS(t,i,1)}}function tS(t,e,r){for(let n=0;n<e.length;n++)gk(t,e[n],r)}class uf{get rootNodes(){const e=this._lView,r=e[On];return cf(r,e,r.firstChild,[])}constructor(e,r){this._lView=e,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wi]}set context(e){this._lView[wi]=e}get destroyed(){return 256==(256&this._lView[fr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[_i];if(ao(e)){const r=e[8],n=r?r.indexOf(this):-1;n>-1&&(gp(e,n),op(r,n))}this._attachedToViewContainer=!1}j_(this._lView[On],this._lView)}onDestroy(e){I(this._lView,e)}markForCheck(){af(this._cdRefInjectingView||this._lView)}detach(){this._lView[fr]&=-129}reattach(){this._lView[fr]|=128}detectChanges(){jp(this._lView[On],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new zt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sO(t,e){Kd(t,e,e[ur],2,null,null)}(this._lView[On],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new zt(902,!1);this._appRef=e}}class _k extends uf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;jp(e[On],e,e[wi],!1)}checkNoChanges(){}get context(){return null}}class nS extends nf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const r=Nr(e);return new df(r,this.ngModule)}}function rS(t){const e=[];for(let r in t)t.hasOwnProperty(r)&&e.push({propName:t[r],templateName:r});return e}class yk{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=sa(n);const i=this.injector.get(e,yv,n);return i!==yv||r===yv?i:this.parentInjector.get(e,r,n)}}class df extends dT{get inputs(){const e=this.componentDef,r=e.inputTransforms,n=rS(e.inputs);if(null!==r)for(const i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return rS(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=function nl(t){return t.map(f_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let o=(i=i||this.ngModule)instanceof qs?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new yk(e,o):e,c=l.get(rf,null);if(null===c)throw new zt(407,!1);const U={rendererFactory:c,sanitizer:l.get(_P,null),effectManager:l.get(KT,null),afterRenderEventManager:l.get(Tv,null)},he=c.createRenderer(null,this.componentDef),we=this.componentDef.selectors[0][0]||"div",Pe=n?function ZP(t,e,r,n){const o=n.get(IT,!1)||r===Go.ShadowDom,l=t.selectRootElement(e,o);return function zP(t){BT(t)}(l),l}(he,n,this.componentDef.encapsulation,l):mp(he,we,function vk(t){const e=t.toLowerCase();return"svg"===e?L:"math"===e?"math":null}(we)),Dt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let wt=null;null!==Pe&&(wt=gv(Pe,l,!0));const hn=xv(0,null,null,1,0,null,null,null,null,null,null),vn=Bp(null,hn,null,Dt,null,null,U,he,l,null,wt);let Yn,dr;bn(vn);try{const Wr=this.componentDef;let _o,ns=null;Wr.findHostDirectiveDefs?(_o=[],ns=new Map,Wr.findHostDirectiveDefs(Wr,_o,ns),_o.push(Wr)):_o=[Wr];const na=function Ek(t,e){const r=t[On],n=Ar;return t[n]=e,Ru(r,n,2,"#host",null)}(vn,Pe),Kg=function wk(t,e,r,n,i,o,l){const c=i[On];!function Tk(t,e,r,n){for(const i of t)e.mergedAttrs=Gl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Vp(e,e.mergedAttrs,!0),null!==r&&Vw(n,r,e))}(n,t,e,l);let u=null;null!==e&&(u=gv(e,i[Bs]));const d=o.rendererFactory.createRenderer(e,r);let w=16;r.signals?w=4096:r.onPush&&(w=64);const U=Bp(i,FT(r),null,w,i[t.index],t,o,d,null,null,u);return c.firstCreatePass&&Mv(c,t,n.length-1),Up(i,U),i[t.index]=U}(na,Pe,Wr,_o,vn,U,he);dr=V(hn,Ar),Pe&&function Ck(t,e,r,n){if(n)xd(t,r,["ng-version",vP.full]);else{const{attrs:i,classes:o}=function Md(t){const e=[],r=[];let n=1,i=2;for(;n<t.length;){let o=t[n];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++n]):8===i&&r.push(o);else{if(!xo(i))break;i=o}n++}return{attrs:e,classes:r}}(e.selectors[0]);i&&xd(t,r,i),o&&o.length>0&&Uw(t,r,o.join(" "))}}(he,Wr,Pe,n),void 0!==r&&function Ak(t,e,r){const n=t.projection=[];for(let i=0;i<e.length;i++){const o=r[i];n.push(null!=o?Array.from(o):null)}}(dr,this.ngContentSelectors,r),Yn=function Sk(t,e,r,n,i,o){const l=Ft(),c=i[On],u=ie(l,i);jT(c,i,l,r,null,n);for(let w=0;w<r.length;w++)Eo(oc(i,c,l.directiveStart+w,l),i);HT(c,i,l),u&&Eo(u,i);const d=oc(i,c,l.directiveStart+l.componentOffset,l);if(t[wi]=i[wi]=d,null!==o)for(const w of o)w(d,e);return Av(c,l,t),d}(Kg,Wr,_o,ns,vn,[Ik]),kv(hn,vn,null)}finally{Ge()}return new bk(this.componentType,Yn,Iu(dr,vn),vn,dr)}}class bk extends dP{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new _k(i),this.componentType=e}setInput(e,r){const n=this._tNode.inputs;let i;if(null!==n&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;const o=this._rootLView;Pv(o[On],o,i,e,r),this.previousInputValues.set(e,r),af(X(this._tNode.index,o))}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Ik(){const t=Ft();$o(Ie()[On],t)}function yr(t){let e=function iS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const n=[t];for(;e;){let i;if(as(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new zt(903,!1);i=e.\u0275dir}if(i){if(r){n.push(i);const l=t;l.inputs=Hp(t.inputs),l.inputTransforms=Hp(t.inputTransforms),l.declaredInputs=Hp(t.declaredInputs),l.outputs=Hp(t.outputs);const c=i.hostBindings;c&&Mk(t,c);const u=i.viewQuery,d=i.contentQueries;if(u&&xk(t,u),d&&Rk(t,d),Lr(t.inputs,i.inputs),Lr(t.declaredInputs,i.declaredInputs),Lr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===l.inputTransforms&&(l.inputTransforms={}),Lr(l.inputTransforms,i.inputTransforms)),as(i)&&i.data.animation){const w=t.data;w.animation=(w.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(t),c===yr&&(r=!1)}}e=Object.getPrototypeOf(e)}!function Dk(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){const i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=Gl(i.hostAttrs,r=Gl(r,i.hostAttrs))}}(n)}function Hp(t){return t===Do?{}:t===Ur?[]:t}function xk(t,e){const r=t.viewQuery;t.viewQuery=r?(n,i)=>{e(n,i),r(n,i)}:e}function Rk(t,e){const r=t.contentQueries;t.contentQueries=r?(n,i,o)=>{e(n,i,o),r(n,i,o)}:e}function Mk(t,e){const r=t.hostBindings;t.hostBindings=r?(n,i)=>{e(n,i),r(n,i)}:e}function lS(t){const e=t.inputConfig,r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];Array.isArray(i)&&i[2]&&(r[n]=i[2])}t.inputTransforms=r}function Zp(t){return!!Fv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fa(t,e,r){return t[e]=r}function wo(t,e,r){return!Object.is(t[e],r)&&(t[e]=r,!0)}function hc(t,e,r,n){const i=wo(t,e,r);return wo(t,e+1,n)||i}function li(t,e,r,n){const i=Ie();return wo(i,Sn(),e)&&(Ct(),da(nn(),i,t,e,r,n)),li}function Ou(t,e,r,n,i,o){const c=hc(t,function Gt(){return G.lFrame.bindingIndex}(),r,i);return dn(2),c?e+sr(r)+n+sr(i)+o:vr}function Pn(t,e,r,n,i,o,l,c){const u=Ie(),d=Ct(),w=t+Ar,U=d.firstCreatePass?function nL(t,e,r,n,i,o,l,c,u){const d=e.consts,w=Ru(e,t,4,l||null,Ce(d,c));Rv(e,r,w,Ce(d,u)),$o(e,w);const U=w.tView=xv(2,w,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,w),U.queries=e.queries.embeddedTView(w)),w}(w,d,u,e,r,n,i,o,l):d.data[w];Te(U,!1);const he=ES(d,u,U,t);Yo()&&vp(d,u,he,U),Eo(he,u),Up(u,u[w]=zT(he,u,he,U)),ec(U)&&Iv(d,u,U),null!=l&&Dv(u,U,c)}let ES=function wS(t,e,r,n){return bo(!0),e[ur].createComment("")};function ji(t){return re(function nt(){return G.lFrame.contextLView}(),Ar+t)}function Yt(t,e,r){const n=Ie();return wo(n,Sn(),e)&&hs(Ct(),nn(),n,t,e,n[ur],r,!1),Yt}function Zv(t,e,r,n,i){const l=i?"class":"style";Pv(t,r,e.inputs[l],l,n)}function un(t,e,r,n){const i=Ie(),o=Ct(),l=Ar+t,c=i[ur],u=o.firstCreatePass?function sL(t,e,r,n,i,o){const l=e.consts,u=Ru(e,t,2,n,Ce(l,i));return Rv(e,r,u,Ce(l,o)),null!==u.attrs&&Vp(u,u.attrs,!1),null!==u.mergedAttrs&&Vp(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(l,o,i,e,r,n):o.data[l],d=TS(o,i,u,c,e,t);i[l]=d;const w=ec(u);return Te(u,!0),Vw(c,d,u),32!=(32&u.flags)&&Yo()&&vp(o,i,d,u),0===function ae(){return G.lFrame.elementDepthCount}()&&Eo(d,i),function le(){G.lFrame.elementDepthCount++}(),w&&(Iv(o,i,u),Av(o,u,i)),null!==n&&Dv(i,u),un}function fn(){let t=Ft();et()?Oe():(t=t.parent,Te(t,!1));const e=t;(function Me(t){return G.skipHydrationRootTNode===t})(e)&&function Fe(){G.skipHydrationRootTNode=null}(),function ve(){G.lFrame.elementDepthCount--}();const r=Ct();return r.firstCreatePass&&($o(r,t),ou(t)&&r.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Kt(t){return 0!=(8&t.flags)}(e)&&Zv(r,e,Ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Mn(t){return 0!=(16&t.flags)}(e)&&Zv(r,e,Ie(),e.stylesWithoutHost,!1),fn}function Qn(t,e,r,n){return un(t,e,r,n),fn(),Qn}let TS=(t,e,r,n,i,o)=>(bo(!0),mp(n,i,function Qi(){return G.lFrame.currentNamespace}()));function Ua(t,e,r){const n=Ie(),i=Ct(),o=t+Ar,l=i.firstCreatePass?function cL(t,e,r,n,i){const o=e.consts,l=Ce(o,n),c=Ru(e,t,8,"ng-container",l);return null!==l&&Vp(c,l,!0),Rv(e,r,c,Ce(o,i)),null!==e.queries&&e.queries.elementStart(e,c),c}(o,i,n,e,r):i.data[o];Te(l,!0);const c=SS(i,n,l,t);return n[o]=c,Yo()&&vp(i,n,c,l),Eo(c,n),ec(l)&&(Iv(i,n,l),Av(i,l,n)),null!=r&&Dv(n,l),Ua}function Va(){let t=Ft();const e=Ct();return et()?Oe():(t=t.parent,Te(t,!1)),e.firstCreatePass&&($o(e,t),ou(t)&&e.queries.elementEnd(t)),Va}function gf(t,e,r){return Ua(t,e,r),Va(),gf}let SS=(t,e,r,n)=>(bo(!0),V_(e[ur],""));function co(){return Ie()}function _f(t){return!!t&&"function"==typeof t.then}function CS(t){return!!t&&"function"==typeof t.subscribe}function mr(t,e,r,n){const i=Ie(),o=Ct(),l=Ft();return function IS(t,e,r,n,i,o,l){const c=ec(n),d=t.firstCreatePass&&YT(t),w=e[wi],U=qT(e);let he=!0;if(3&n.type||l){const Ue=ie(n,e),Et=l?l(Ue):Ue,Dt=U.length,wt=l?vn=>l(A(vn[n.index])):n.index;let hn=null;if(!l&&c&&(hn=function fL(t,e,r,n){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===r&&i[o+1]===n){const c=e[ol],u=i[o+2];return c.length>u?c[u]:null}"string"==typeof l&&(o+=2)}return null}(t,e,i,n.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=o,hn.__ngLastListenerFn__=o,he=!1;else{o=xS(n,e,w,o,!1);const vn=r.listen(Et,i,o);U.push(o,vn),d&&d.push(i,wt,Dt,Dt+1)}}else o=xS(n,e,w,o,!1);const we=n.outputs;let Pe;if(he&&null!==we&&(Pe=we[i])){const Ue=Pe.length;if(Ue)for(let Et=0;Et<Ue;Et+=2){const Yn=e[Pe[Et]][Pe[Et+1]].subscribe(o),dr=U.length;U.push(o,Yn),d&&d.push(i,n.index,dr,-(dr+1))}}}(o,i,i[ur],l,t,e,n),mr}function DS(t,e,r,n){try{return D(6,e,r),!1!==r(n)}catch(i){return WT(t,i),!1}finally{D(7,e,r)}}function xS(t,e,r,n,i){return function o(l){if(l===Function)return n;af(t.componentOffset>-1?X(t.index,e):e);let u=DS(e,r,n,l),d=o.__ngNextListenerFn__;for(;d;)u=DS(e,r,d,l)&&u,d=d.__ngNextListenerFn__;return i&&!1===u&&l.preventDefault(),u}}function Vn(t=1){return function Ee(t){return(G.lFrame.contextLView=function st(t,e){for(;t>0;)e=e[sl],t--;return e}(t,G.lFrame.contextLView))[wi]}(t)}function hL(t,e){let r=null;const n=function c_(t){const e=t.attrs;if(null!=e){const r=e.indexOf(5);if(!(1&r))return e[r+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===n?Jc(t,o,!0):d_(n,o))return i}else r=i}return r}function ha(t){const e=Ie()[Ti][so];if(!e.projection){const n=e.projection=Gd(t?t.length:1,null),i=n.slice();let o=e.child;for(;null!==o;){const l=t?hL(o,t):0;null!==l&&(i[l]?i[l].projectionNext=o:n[l]=o,i[l]=o),o=o.next}}}function Ri(t,e=0,r){const n=Ie(),i=Ct(),o=Ru(i,Ar+t,16,null,r||null);null===o.projection&&(o.projection=e),Oe(),(!n[js]||Q())&&32!=(32&o.flags)&&function pO(t,e,r){Bw(e[ur],0,e,r,Z_(t,r,e),Nw(r.parent||e[so],r,e))}(i,n,o)}function $p(t,e){return t<<17|e<<2}function fl(t){return t>>17&32767}function Gv(t){return 2|t}function pc(t){return(131068&t)>>2}function qv(t,e){return-131069&t|e<<2}function Yv(t){return 1|t}function US(t,e,r,n,i){const o=t[r+1],l=null===e;let c=n?fl(o):pc(o),u=!1;for(;0!==c&&(!1===u||l);){const w=t[c+1];yL(t[c],e)&&(u=!0,t[c+1]=n?Yv(w):Gv(w)),c=n?fl(w):pc(w)}u&&(t[r+1]=n?Gv(o):Yv(o))}function yL(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_u(t,e)>=0}function ju(t,e,r){return Ys(t,e,r,!1),ju}function Si(t,e){return Ys(t,e,null,!0),Si}function Ys(t,e,r,n){const i=Ie(),o=Ct(),l=dn(2);o.firstUpdatePass&&function YS(t,e,r,n){const i=t.data;if(null===i[r+1]){const o=i[It()],l=function qS(t,e){return e>=t.expandoStartIndex}(t,r);(function XS(t,e){return 0!=(t.flags&(e?8:16))})(o,n)&&null===e&&!l&&(e=!1),e=function DL(t,e,r,n){const i=function hr(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=n?e.residualClasses:e.residualStyles;if(null===i)0===(n?e.classBindings:e.styleBindings)&&(r=vf(r=$v(null,t,e,r,n),e.attrs,n),o=null);else{const l=e.directiveStylingLast;if(-1===l||t[l]!==i)if(r=$v(i,t,e,r,n),null===o){let u=function xL(t,e,r){const n=r?e.classBindings:e.styleBindings;if(0!==pc(n))return t[fl(n)]}(t,e,n);void 0!==u&&Array.isArray(u)&&(u=$v(null,t,e,u[1],n),u=vf(u,e.attrs,n),function RL(t,e,r,n){t[fl(r?e.classBindings:e.styleBindings)]=n}(t,e,n,u))}else o=function ML(t,e,r){let n;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)n=vf(n,t[o].hostAttrs,r);return vf(n,e.attrs,r)}(t,e,n)}return void 0!==o&&(n?e.residualClasses=o:e.residualStyles=o),r}(i,o,e,n),function _L(t,e,r,n,i,o){let l=o?e.classBindings:e.styleBindings,c=fl(l),u=pc(l);t[n]=r;let w,d=!1;if(Array.isArray(r)?(w=r[1],(null===w||_u(r,w)>0)&&(d=!0)):w=r,i)if(0!==u){const he=fl(t[c+1]);t[n+1]=$p(he,c),0!==he&&(t[he+1]=qv(t[he+1],n)),t[c+1]=function mL(t,e){return 131071&t|e<<17}(t[c+1],n)}else t[n+1]=$p(c,0),0!==c&&(t[c+1]=qv(t[c+1],n)),c=n;else t[n+1]=$p(u,0),0===c?c=n:t[u+1]=qv(t[u+1],n),u=n;d&&(t[n+1]=Gv(t[n+1])),US(t,w,n,!0),US(t,w,n,!1),function vL(t,e,r,n,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_u(o,e)>=0&&(r[n+1]=Yv(r[n+1]))}(e,w,t,n,o),l=$p(c,u),o?e.classBindings=l:e.styleBindings=l}(i,o,e,r,l,n)}}(o,t,l,n),e!==vr&&wo(i,l,e)&&function WS(t,e,r,n,i,o,l,c){if(!(3&e.type))return;const u=t.data,d=u[c+1],w=function gL(t){return 1==(1&t)}(d)?KS(u,e,r,i,pc(d),l):void 0;Wp(w)||(Wp(o)||function pL(t){return 2==(2&t)}(d)&&(o=KS(u,null,r,i,c,l)),function gO(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=-1===n.indexOf("-")?void 0:dl.DashCase;null==i?t.removeStyle(r,n,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dl.Important),t.setStyle(r,n,i,o))}}(n,l,ee(It(),r),i,o))}(o,o.data[It()],i,i[ur],t,i[l+1]=function kL(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Mr(fs(t)))),t}(e,r),n,l)}function $v(t,e,r,n,i){let o=null;const l=r.directiveEnd;let c=r.directiveStylingLast;for(-1===c?c=r.directiveStart:c++;c<l&&(o=e[c],n=vf(n,o.hostAttrs,i),o!==t);)c++;return null!==t&&(r.directiveStylingLast=c),n}function vf(t,e,r){const n=r?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?i=l:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ds(t,l,!!r||e[++o]))}return void 0===t?null:t}function KS(t,e,r,n,i,o){const l=null===e;let c;for(;i>0;){const u=t[i],d=Array.isArray(u),w=d?u[1]:u,U=null===w;let he=r[i+1];he===vr&&(he=U?Ur:void 0);let we=U?R_(he,n):w===n?he:void 0;if(d&&!Wp(we)&&(we=R_(u,n)),Wp(we)&&(c=we,l))return c;const Pe=t[i+1];i=l?fl(Pe):pc(Pe)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(c=R_(u,n))}return c}function Wp(t){return void 0!==t}function Br(t,e=""){const r=Ie(),n=Ct(),i=t+Ar,o=n.firstCreatePass?Ru(n,i,1,e,null):n.data[i],l=QS(n,r,o,e,t);r[i]=l,Yo()&&vp(n,r,l,o),Te(o,!1)}let QS=(t,e,r,n,i)=>(bo(!0),function pp(t,e){return t.createText(e)}(e[ur],n));function ko(t){return Xo("",t,""),ko}function Xo(t,e,r){const n=Ie(),i=function Nu(t,e,r,n){return wo(t,Sn(),r)?e+sr(r)+n:vr}(n,t,e,r);return i!==vr&&Ba(n,It(),i),Xo}function Kp(t,e,r,n,i){const o=Ie(),l=Ou(o,t,e,r,n,i);return l!==vr&&Ba(o,It(),l),Kp}function yf(t,e,r){const n=Ie();return wo(n,Sn(),e)&&hs(Ct(),nn(),n,t,e,n[ur],r,!0),yf}const Zu="en-US";let vC=Zu;function Xv(t,e,r,n,i){if(t=Un(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xv(t[o],e,r,n,i);else{const o=Ct(),l=Ie(),c=Ft();let u=uc(t)?t:Un(t.provide);const d=sT(t),w=1048575&c.providerIndexes,U=c.directiveStart,he=c.providerIndexes>>20;if(uc(t)||!t.multi){const we=new Is(d,i,vt),Pe=Jv(u,e,i?w:w+he,U);-1===Pe?(I_(np(c,l),o,u),Qv(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(we),l.push(we)):(r[Pe]=we,l[Pe]=we)}else{const we=Jv(u,e,w+he,U),Pe=Jv(u,e,w,w+he),Et=Pe>=0&&r[Pe];if(i&&!Et||!i&&!(we>=0&&r[we])){I_(np(c,l),o,u);const Dt=function n2(t,e,r,n,i){const o=new Is(t,r,vt);return o.multi=[],o.index=e,o.componentProviders=0,ZC(o,i,n&&!r),o}(i?t2:e2,r.length,i,n,d);!i&&Et&&(r[Pe].providerFactory=Dt),Qv(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(Dt),l.push(Dt)}else Qv(o,t,we>-1?we:Pe,ZC(r[i?Pe:we],d,!i&&n));!i&&n&&Et&&r[Pe].componentProviders++}}}function Qv(t,e,r,n){const i=uc(e),o=function $O(t){return!!t.useClass}(e);if(i||o){const u=(o?Un(e.useClass):e).prototype.ngOnDestroy;if(u){const d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const w=d.indexOf(r);-1===w?d.push(r,[n,u]):d[w+1].push(n,u)}else d.push(r,u)}}}function ZC(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function Jv(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function e2(t,e,r,n){return ey(this.multi,[])}function t2(t,e,r,n){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=oc(r,r[On],this.providerFactory.index,n);o=c.slice(0,l),ey(i,o);for(let u=l;u<c.length;u++)o.push(c[u])}else o=[],ey(i,o);return o}function ey(t,e){for(let r=0;r<t.length;r++)e.push((0,t[r])());return e}function Qr(t,e=[]){return r=>{r.providersResolver=(n,i)=>function JF(t,e,r){const n=Ct();if(n.firstCreatePass){const i=as(t);Xv(r,n.data,n.blueprint,i,!0),Xv(e,n.data,n.blueprint,i,!1)}}(n,i?i(t):t,e)}}class gc{}class zC{}class ty extends gc{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nS(this);const i=yo(e);this._bootstrapComponents=Fa(i.bootstrap),this._r3Injector=_T(e,r,[{provide:gc,useValue:this},{provide:nf,useValue:this.componentFactoryResolver},...n],Mr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ny extends zC{constructor(e){super(),this.moduleType=e}create(e){return new ty(this.moduleType,e,[])}}class GC extends gc{constructor(e){super(),this.componentFactoryResolver=new nS(this),this.instance=null;const r=new Ip([...e.providers,{provide:gc,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],e.parent||Ap(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function qC(t,e,r=null){return new GC({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}let s2=(()=>{var t;class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=nT(0,n.type),o=i.length>0?qC([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=gn({token:t,providedIn:"environment",factory:()=>new t(Wt(qs))}),e})();function ii(t){t.getStandaloneInjector=e=>e.get(s2).getOrCreateStandaloneInjector(t)}function ga(t,e,r,n){return JC(Ie(),Pt(),t,e,r,n)}function iy(t,e,r,n,i){return function eA(t,e,r,n,i,o,l){const c=e+r;return hc(t,c,i,o)?fa(t,c+2,l?n.call(l,i,o):n(i,o)):Cf(t,c+2)}(Ie(),Pt(),t,e,r,n,i)}function Cf(t,e){const r=t[e];return r===vr?void 0:r}function JC(t,e,r,n,i,o){const l=e+r;return wo(t,l,i)?fa(t,l+1,o?n.call(o,i):n(i)):Cf(t,l+1)}function hl(t,e){const r=Ct();let n;const i=t+Ar;r.firstCreatePass?(n=function T2(t,e){if(e)for(let r=e.length-1;r>=0;r--){const n=e[r];if(t===n.name)return n}}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];const o=n.factory||(n.factory=Oa(n.type)),c=vo(vt);try{const u=Gs(!1),d=o();return Gs(u),function oL(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}(r,Ie(),i,d),d}finally{vo(c)}}function pl(t,e,r){const n=t+Ar,i=Ie(),o=re(i,n);return function Af(t,e){return t[On].data[e].pure}(i,n)?JC(i,Pt(),e,o.transform,r,o):o.transform(r)}function D2(){return this._results[Symbol.iterator]()}class zu{get changes(){return this._changes||(this._changes=new ri)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=zu.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=D2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){const n=this;n.dirty=!1;const i=function Ds(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function yN(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],o=e[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}(n._results,i,r))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function R2(t,e,r,n=!0){const i=e[On];if(function lO(t,e,r,n){const i=Bi+n,o=r.length;n>0&&(r[i-1][Ro]=e),n<o-Bi?(e[Ro]=r[i],rw(r,Bi+n,e)):(r.push(e),e[Ro]=null),e[_i]=r;const l=e[Kl];null!==l&&r!==l&&function cO(t,e){const r=t[al];e[Ti]!==e[_i][_i][Ti]&&(t[kd]=!0),null===r?t[al]=[e]:r.push(e)}(l,e);const c=e[qo];null!==c&&c.insertView(t),e[fr]|=128}(i,e,t,r),n){const o=G_(r,t),l=e[ur],c=_p(l,t[ss]);null!==c&&function oO(t,e,r,n,i,o){n[Ei]=i,n[so]=e,Kd(t,n,r,1,i,o)}(i,t[so],l,e,c,o)}}let _a=(()=>{class e{}return e.__NG_ELEMENT_ID__=O2,e})();const M2=_a,N2=class extends M2{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){const i=function x2(t,e,r,n){const i=e.tView,c=Bp(t,i,r,4096&t[fr]?4096:16,null,e,null,null,null,n?.injector??null,n?.hydrationInfo??null);c[Kl]=t[e.index];const d=t[qo];return null!==d&&(c[qo]=d.createEmbeddedView(i)),kv(i,c,r),c}(this._declarationLView,this._declarationTContainer,e,{injector:r,hydrationInfo:n});return new uf(i)}};function O2(){return tm(Ft(),Ie())}function tm(t,e){return 4&t.type?new N2(e,t,Iu(t,e)):null}let ps=(()=>{class e{}return e.__NG_ELEMENT_ID__=U2,e})();function U2(){return uA(Ft(),Ie())}const V2=ps,lA=class extends V2{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return Iu(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const e=rp(this._hostTNode,this._hostLView);if(_r(e)){const r=Pr(e,this._hostLView),n=qn(e);return new Oo(r[On].data[n+8],r)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const r=cA(this._lContainer);return null!==r&&r[e]||null}get length(){return this._lContainer.length-Bi}createEmbeddedView(e,r,n){let i,o;"number"==typeof n?i=n:null!=n&&(i=n.index,o=n.injector);const c=e.createEmbeddedViewImpl(r||{},o,null);return this.insertImpl(c,i,false),c}createComponent(e,r,n,i,o){const l=e&&!function zd(t){return"function"==typeof t}(e);let c;if(l)c=r;else{const Ue=r||{};c=Ue.index,n=Ue.injector,i=Ue.projectableNodes,o=Ue.environmentInjector||Ue.ngModuleRef}const u=l?e:new df(Nr(e)),d=n||this.parentInjector;if(!o&&null==u.ngModule){const Et=(l?d:this.parentInjector).get(qs,null);Et&&(o=Et)}Nr(u.componentType??{});const we=u.create(d,i,null,o);return this.insertImpl(we.hostView,c,false),we}insert(e,r){return this.insertImpl(e,r,!1)}insertImpl(e,r,n){const i=e._lView;if(function Se(t){return ao(t[_i])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[_i],w=new lA(d,d[so],d[_i]);w.detach(w.indexOf(e))}}const l=this._adjustIndex(r),c=this._lContainer;return R2(c,i,l,!n),e.attachToViewContainerRef(),rw(oy(c),l,e),e}move(e,r){return this.insert(e,r)}indexOf(e){const r=cA(this._lContainer);return null!==r?r.indexOf(e):-1}remove(e){const r=this._adjustIndex(e,-1),n=gp(this._lContainer,r);n&&(op(oy(this._lContainer),r),j_(n[On],n))}detach(e){const r=this._adjustIndex(e,-1),n=gp(this._lContainer,r);return n&&null!=op(oy(this._lContainer),r)?new uf(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function cA(t){return t[8]}function oy(t){return t[8]||(t[8]=[])}function uA(t,e){let r;const n=e[t.index];return ao(n)?r=n:(r=zT(n,e,null,t),e[t.index]=r,Up(e,r)),dA(r,e,t,n),new lA(r,t,e)}let dA=function fA(t,e,r,n){if(t[ss])return;let i;i=8&r.type?A(n):function j2(t,e){const r=t[ur],n=r.createComment(""),i=ie(e,t);return ac(r,_p(r,i),n,function hO(t,e){return t.nextSibling(e)}(r,i),!1),n}(e,r),t[ss]=i};class sy{constructor(e){this.queryList=e,this.matches=null}clone(){return new sy(this.queryList)}setDirty(){this.queryList.setDirty()}}class ay{constructor(e=[]){this.queries=e}createEmbeddedView(e){const r=e.queries;if(null!==r){const n=null!==e.contentQueries?e.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){const l=r.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new ay(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)null!==_A(e,r).matches&&this.queries[r].setDirty()}}class hA{constructor(e,r,n=null){this.predicate=e,this.flags=r,this.read=n}}class ly{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){const i=null!==r?r.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,null!==r?r.push(o):r=[o])}return null!==r?new ly(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class cy{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new cy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const o=n[i];this.matchTNodeWithReadOption(e,r,z2(r,o)),this.matchTNodeWithReadOption(e,r,ip(r,e,o,!1,!1))}else n===_a?4&r.type&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,ip(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Or||i===ps||i===_a&&4&r.type)this.addMatch(r.index,-2);else{const o=ip(r,e,i,!1,!1);null!==o&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(e,r){null===this.matches?this.matches=[e,r]:this.matches.push(e,r)}}function z2(t,e){const r=t.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1];return null}function q2(t,e,r,n){return-1===r?function G2(t,e){return 11&t.type?Iu(t,e):4&t.type?tm(t,e):null}(e,t):-2===r?function Y2(t,e,r){return r===Or?Iu(e,t):r===_a?tm(e,t):r===ps?uA(e,t):void 0}(t,e,n):oc(t,t[On],r,e)}function pA(t,e,r,n){const i=e[qo].queries[n];if(null===i.matches){const o=t.data,l=r.matches,c=[];for(let u=0;u<l.length;u+=2){const d=l[u];c.push(d<0?null:q2(e,o[d],l[u+1],r.metadata.read))}i.matches=c}return i.matches}function uy(t,e,r,n){const i=t.queries.getByIndex(r),o=i.matches;if(null!==o){const l=pA(t,e,i,r);for(let c=0;c<o.length;c+=2){const u=o[c];if(u>0)n.push(l[c/2]);else{const d=o[c+1],w=e[-u];for(let U=Bi;U<w.length;U++){const he=w[U];he[Kl]===he[_i]&&uy(he[On],he,d,n)}if(null!==w[al]){const U=w[al];for(let he=0;he<U.length;he++){const we=U[he];uy(we[On],we,d,n)}}}}}return n}function ci(t){const e=Ie(),r=Ct(),n=nr();pr(n+1);const i=_A(r,n);if(t.dirty&&function De(t){return 4==(4&t[fr])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?uy(r,e,n,[]):pA(r,e,i,n);t.reset(o,mP),t.notifyOnChanges()}return!0}return!1}function Fo(t,e,r){const n=Ct();n.firstCreatePass&&(gA(n,new hA(t,e,r),-1),2==(2&e)&&(n.staticViewQueries=!0)),mA(n,Ie(),e)}function Jo(t,e,r,n){const i=Ct();if(i.firstCreatePass){const o=Ft();gA(i,new hA(e,r,n),o.index),function W2(t,e){const r=t.contentQueries||(t.contentQueries=[]);e!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,e)}(i,t),2==(2&r)&&(i.staticContentQueries=!0)}mA(i,Ie(),r)}function ui(){return function $2(t,e){return t[qo].queries[e].queryList}(Ie(),nr())}function mA(t,e,r){const n=new zu(4==(4&r));(function YP(t,e,r,n){const i=qT(e);i.push(r),t.firstCreatePass&&YT(t).push(n,i.length-1)})(t,e,n,n.destroy),null===e[qo]&&(e[qo]=new ay),e[qo].queries.push(new sy(n))}function gA(t,e,r){null===t.queries&&(t.queries=new ly),t.queries.track(new cy(e,r))}function _A(t,e){return t.queries.getByIndex(e)}function dy(t,e){return tm(t,e)}const PA=new ln("Application Initializer");let _y=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=$t(PA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const l=o();if(_f(l))n.push(l);else if(CS(l)){const c=new Promise((u,d)=>{l.subscribe({complete:u,error:d})});n.push(c)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),0===n.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),kA=(()=>{var t;class e{log(n){console.log(n)}warn(n){console.warn(n)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const va=new ln("LocaleId",{providedIn:"root",factory:()=>$t(va,Tr.Optional|Tr.SkipSelf)||function gB(){return typeof $localize<"u"&&$localize.locale||Zu}()});let LA=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wi(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class yB{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}}let bB=(()=>{var t;class e{compileModuleSync(n){return new ny(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),l=Fa(yo(n).declarations).reduce((c,u)=>{const d=Nr(u);return d&&c.push(new df(d)),c},[]);return new yB(i,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const VA=new ln("");let ml=null;const Ty=new ln("PlatformDestroyListeners"),Sy=new ln("appBootstrapListener");function GB(t){try{const{rootComponent:e,appProviders:r,platformProviders:n}=t,i=function zB(t=[]){if(ml)return ml;const e=function zA(t=[],e){return Po.create({name:e,providers:[{provide:iv,useValue:"platform"},{provide:Ty,useValue:new Set([()=>ml=null])},...t]})}(t);return ml=e,function HA(){!function Qh(t){Xh=t}(()=>{throw new zt(600,!1)})}(),function ZA(t){t.get(aT,null)?.forEach(r=>r())}(e),e}(n),o=[KB(),...r||[]],c=new GC({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(ar);return u.run(()=>{c.resolveInjectorInitializers();const d=c.get(ua,null);let w;u.runOutsideAngular(()=>{w=u.onError.subscribe({next:we=>{d.handleError(we)}})});const U=()=>c.destroy(),he=i.get(Ty);return he.add(U),c.onDestroy(()=>{w.unsubscribe(),he.delete(U)}),function YA(t,e,r){try{const n=r();return _f(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(d,u,()=>{const we=c.get(_y);return we.runInitializers(),we.donePromise.then(()=>{!function yC(t){Ai(t,"Expected localeId to be defined"),"string"==typeof t&&(vC=t.toLowerCase().replace(/_/g,"-"))}(c.get(va,Zu)||Zu);const Ue=c.get(gl);return void 0!==e&&Ue.bootstrap(e),Ue})})})}catch(e){return Promise.reject(e)}}let gl=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(KA),this.zoneIsStable=$t(ET),this.componentTypes=[],this.components=[],this.isStable=$t(LA).hasPendingTasks.pipe(Wn(n=>n?Jn(!1):this.zoneIsStable),di(),Xt()),this._injector=$t(qs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const o=n instanceof dT;if(!this._injector.get(_y).done)throw!o&&function rl(t){const e=Nr(t)||Xi(t)||oo(t);return null!==e&&e.standalone}(n),new zt(405,!1);let c;c=o?n:this._injector.get(nf).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const u=function HB(t){return t.isBoundToModule}(c)?void 0:this._injector.get(gc),w=c.create(Po.NULL,[],i||c.selector,u),U=w.location.nativeElement,he=w.injector.get(VA,null);return he?.registerApplication(U),w.onDestroy(()=>{this.detachView(w.hostView),sm(this.components,w),he?.unregisterApplication(U)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new zt(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;sm(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Sy,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new zt(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function sm(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const KA=new ln("",{providedIn:"root",factory:()=>$t(ua).handleError.bind(void 0)});function $B(){const t=$t(ar),e=$t(ua);return r=>t.runOutsideAngular(()=>e.handleError(r))}let WB=(()=>{var t;class e{constructor(){this.zone=$t(ar),this.applicationRef=$t(gl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function XA(t){return[{provide:ar,useFactory:t},{provide:Jd,multi:!0,useFactory:()=>{const e=$t(WB,{optional:!0});return()=>e.initialize()}},{provide:KA,useFactory:$B},{provide:ET,useFactory:wT}]}function KB(t){return tv([[],XA(()=>new ar(function qA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}(t)))])}let Uo=(()=>{class e{}return e.__NG_ELEMENT_ID__=XB,e})();function XB(t){return function QB(t,e,r){if(Na(t)&&!r){const n=X(t.index,e);return new uf(n,n)}return 47&t.type?new uf(e[Ti],e):null}(Ft(),Ie(),16==(16&t))}class tI{constructor(){}supports(e){return Zp(e)}create(e){return new iU(e)}}const rU=(t,e)=>e;class iU{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rU}forEachItem(e){let r;for(r=this._itHead;null!==r;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){const l=!n||r&&r.currentIndex<rI(n,i,o)?r:n,c=rI(l,i,o),u=l.currentIndex;if(l===n)i--,n=n._nextRemoved;else if(r=r._next,null==l.previousIndex)i++;else{o||(o=[]);const d=c-i,w=u-i;if(d!=w){for(let he=0;he<d;he++){const we=he<o.length?o[he]:o[he]=0,Pe=we+he;w<=Pe&&Pe<d&&(o[he]=we+1)}o[l.previousIndex]=w-d}}c!==u&&e(l,c,u)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)e(r)}diff(e){if(null==e&&(e=[]),!Zp(e))throw new zt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,l,r=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],l=this._trackByFn(c,o),null!==r&&Object.is(r.trackById,l)?(n&&(r=this._verifyReinsertion(r,o,l,c)),Object.is(r.item,o)||this._addIdentityChange(r,o)):(r=this._mismatch(r,o,l,c),n=!0),r=r._next}else i=0,function Bk(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{const r=t[Symbol.iterator]();let n;for(;!(n=r.next()).done;)e(n.value)}}(e,c=>{l=this._trackByFn(i,c),null!==r&&Object.is(r.trackById,l)?(n&&(r=this._verifyReinsertion(r,c,l,i)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,l,i),n=!0),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,o,i)):e=this._addAfter(new oU(r,n),o,i),e}_verifyReinsertion(e,r,n,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const r=e._next;this._addToRemovals(this._unlink(e)),e=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){const i=null===r?this._itHead:r._next;return e._next=i,e._prev=r,null===i?this._itTail=e:i._prev=e,null===r?this._itHead=e:r._next=e,null===this._linkedRecords&&(this._linkedRecords=new nI),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const r=e._prev,n=e._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oU{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sU{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const r=e._prevDup,n=e._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class nI{constructor(){this.map=new Map}put(e){const r=e.trackById;let n=this.map.get(r);n||(n=new sU,this.map.set(r,n)),n.add(e)}get(e,r){const i=this.map.get(e);return i?i.get(e,r):null}remove(e){const r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rI(t,e,r){const n=t.previousIndex;if(null===n)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}class iI{constructor(){}supports(e){return e instanceof Map||Fv(e)}create(){return new aU}}class aU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let r;for(r=this._mapHead;null!==r;r=r._next)e(r)}forEachPreviousItem(e){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)e(r)}forEachChangedItem(e){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)e(r)}diff(e){if(e){if(!(e instanceof Map||Fv(e)))throw new zt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,n),this._appendAfter=r,r=r._next;else{const o=this._getOrCreateRecordForKey(i,n);r=this._insertBeforeOrAppend(r,o)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let n=r;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,r){if(e){const n=e._prev;return r._next=e,r._prev=n,e._prev=r,n&&(n._next=r),e===this._mapHead&&(this._mapHead=r),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(e,r){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,r);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const n=new lU(e);return this._records.set(e,n),n.currentValue=r,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,r){Object.is(r,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=r,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,r){e instanceof Map?e.forEach(r):Object.keys(e).forEach(n=>r(e[n],n))}}class lU{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oI(){return new cm([new tI])}let cm=(()=>{var t;class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||oI()),deps:[[e,new ap,new vu]]}}find(n){const i=this.factories.find(o=>o.supports(n));if(null!=i)return i;throw new zt(901,!1)}}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:oI}),e})();function sI(){return new xf([new iI])}let xf=(()=>{var t;class e{constructor(n){this.factories=n}static create(n,i){if(i){const o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||sI()),deps:[[e,new ap,new vu]]}}find(n){const i=this.factories.find(o=>o.supports(n));if(i)return i;throw new zt(901,!1)}}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:sI}),e})();function Yu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let My=null;function _l(){return My}class TU{}const Rr=new ln("DocumentToken");let mI=(()=>{var t;class e{historyGo(n){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(SU)},providedIn:"platform"}),e})(),SU=(()=>{var t;class e extends mI{constructor(){super(),this._doc=$t(Rr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _l().getBaseHref(this._doc)}onPopState(n){const i=_l().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=_l().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function gI(t,e){if(0==t.length)return e;if(0==e.length)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,2==r?t+e.substring(1):1==r?t+e:t+"/"+e}function _I(t){const e=t.match(/#|\?|$/),r=e&&e.index||t.length;return t.slice(0,r-("/"===t[r-1]?1:0))+t.slice(r)}function vc(t){return t&&"?"!==t[0]?"?"+t:t}let dm=(()=>{var t;class e{historyGo(n){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(AU)},providedIn:"root"}),e})();const CU=new ln("appBaseHref");let AU=(()=>{var t;class e extends dm{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??$t(Rr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return gI(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+vc(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,l){const c=this.prepareExternalUrl(o+vc(l));this._platformLocation.pushState(n,i,c)}replaceState(n,i,o,l){const c=this.prepareExternalUrl(o+vc(l));this._platformLocation.replaceState(n,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(mI),Wt(CU,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),fm=(()=>{var t;class e{constructor(n){this._subject=new ri,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function xU(t){if(new RegExp("^(https?:)?//").test(t)){const[,r]=t.split(/\/\/[^\/]+/);return r}return t}(_I(vI(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+vc(i))}normalize(n){return e.stripTrailingSlash(function DU(t,e){if(!t||!e.startsWith(t))return e;const r=e.substring(t.length);return""===r||["/",";","?","#"].includes(r[0])?r:e}(this._basePath,vI(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vc(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vc(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}}return(t=e).normalizeQueryParams=vc,t.joinWithSlash=gI,t.stripTrailingSlash=_I,t.\u0275fac=function(n){return new(n||t)(Wt(dm))},t.\u0275prov=gn({token:t,factory:function(){return function IU(){return new fm(Wt(dm))}()},providedIn:"root"}),e})();function vI(t){return t.replace(/\/index.html$/,"")}const jy=/\s+/,II=[];let Wu=(()=>{var t;class e{constructor(n,i,o,l){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this.initialClasses=II,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(jy):II}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(jy):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(jy).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(cm),vt(xf),vt(Or),vt(La))},t.\u0275dir=kn({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class mV{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vl=(()=>{var t;class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((o,l,c)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new mV(o.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===l?void 0:l);else if(null!==l){const u=i.get(l);i.move(u,c),xI(u,o)}});for(let o=0,l=i.length;o<l;o++){const u=i.get(o).context;u.index=o,u.count=l,u.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{xI(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,i){return!0}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(ps),vt(_a),vt(cm))},t.\u0275dir=kn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function xI(t,e){t.context.$implicit=e.item}let uo=(()=>{var t;class e{constructor(n,i){this._viewContainer=n,this._context=new gV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){RI("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){RI("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(ps),vt(_a))},t.\u0275dir=kn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class gV{constructor(){this.$implicit=null,this.ngIf=null}}function RI(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Mr(e)}'.`)}class Hy{constructor(e,r){this._viewContainerRef=e,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Tm=(()=>{var t;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const i of this._defaultViews)i.enforceState(n)}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=kn({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),MI=(()=>{var t;class e{constructor(n,i,o){this.ngSwitch=o,o._addCase(),this._view=new Hy(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(ps),vt(_a),vt(Tm,9))},t.\u0275dir=kn({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Sm=(()=>{var t;class e{constructor(n,i,o){this._ngEl=n,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[o,l]=n.split("."),c=-1===o.indexOf("-")?void 0:dl.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,o,l?`${i}${l}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,o,c)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(xf),vt(La))},t.\u0275dir=kn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Zy=(()=>{var t;class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:l,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(o,l,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(ps))},t.\u0275dir=kn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[No]}),e})(),Nf=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({}),e})();const PI="browser";function kI(t){return"server"===t}class g3 extends TU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $y extends g3{static makeCurrent(){!function wU(t){My||(My=t)}(new $y)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return(r=r||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return"window"===r?window:"document"===r?e:"body"===r?e.body:null}getBaseHref(e){const r=function _3(){return Pf=Pf||document.querySelector("base"),Pf?Pf.getAttribute("href"):null}();return null==r?null:function v3(t){Im=Im||document.createElement("a"),Im.setAttribute("href",t);const e=Im.pathname;return"/"===e.charAt(0)?e:`/${e}`}(r)}resetBaseElement(){Pf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hV(t,e){e=encodeURIComponent(e);for(const r of t.split(";")){const n=r.indexOf("="),[i,o]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Im,Pf=null,b3=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();const Wy=new ln("EventManagerPlugins");let VI=(()=>{var t;class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(l=>l.supports(n)),!i)throw new zt(5101,!1);return this._eventNameToPlugin.set(n,i),i}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Wy),Wt(ar))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();class jI{constructor(e){this._doc=e}}const Ky="ng-app-id";let HI=(()=>{var t;class e{constructor(n,i,o,l={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kI(l),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ky}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){const o=this.styleRef;if(o.has(n)){const l=o.get(n);return l.usage+=i,l.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const o=this.styleNodesInDOM,l=o?.get(i);if(l?.parentNode===n)return o.delete(i),l.removeAttribute(Ky),l;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Ky,this.appId),c}}addStyleToHost(n,i){const o=this.getStyleElement(n,i);n.appendChild(o);const l=this.styleRef,c=l.get(i)?.elements;c?c.push(o):l.set(i,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr),Wt(Dp),Wt(lv,8),Wt(dc))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();const Xy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qy=/%COMP%/g,S3=new ln("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function zI(t,e){return e.map(r=>r.replace(Qy,t))}let Jy=(()=>{var t;class e{constructor(n,i,o,l,c,u,d,w=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=u,this.ngZone=d,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=kI(u),this.defaultRenderer=new eb(n,c,d,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Go.ShadowDom&&(i={...i,encapsulation:Go.Emulated});const o=this.getOrCreateRenderer(n,i);return o instanceof qI?o.applyToHost(n):o instanceof tb&&o.applyStyles(),o}getOrCreateRenderer(n,i){const o=this.rendererByCompId;let l=o.get(i.id);if(!l){const c=this.doc,u=this.ngZone,d=this.eventManager,w=this.sharedStylesHost,U=this.removeStylesOnCompDestroy,he=this.platformIsServer;switch(i.encapsulation){case Go.Emulated:l=new qI(d,w,i,this.appId,U,c,u,he);break;case Go.ShadowDom:return new D3(d,w,n,i,c,u,this.nonce,he);default:l=new tb(d,w,i,U,c,u,he)}o.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(VI),Wt(HI),Wt(Dp),Wt(S3),Wt(Rr),Wt(dc),Wt(ar),Wt(lv))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();class eb{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Xy[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(GI(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(GI(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n="string"==typeof e?this.doc.querySelector(e):e;if(!n)throw new zt(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;const o=Xy[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){const i=Xy[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(dl.DashCase|dl.Important)?e.style.setProperty(r,n,i&dl.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&dl.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e[r]=n}setValue(e,r){e.nodeValue=r}listen(e,r,n){if("string"==typeof e&&!(e=_l().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if("__ngUnwrap__"===r)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))&&r.preventDefault()}}}function GI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class D3 extends eb{constructor(e,r,n,i,o,l,c,u){super(e,o,l,u),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=zI(i.id,i.styles);for(const w of d){const U=document.createElement("style");c&&U.setAttribute("nonce",c),U.textContent=w,this.shadowRoot.appendChild(U)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class tb extends eb{constructor(e,r,n,i,o,l,c,u){super(e,o,l,c),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=u?zI(u,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qI extends tb{constructor(e,r,n,i,o,l,c,u){const d=i+"-"+n.id;super(e,r,n,o,l,c,u,d),this.contentAttr=function C3(t){return"_ngcontent-%COMP%".replace(Qy,t)}(d),this.hostAttr=function A3(t){return"_nghost-%COMP%".replace(Qy,t)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){const n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}}const YI=["alt","control","meta","shift"],R3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function $I(t){return{appProviders:[...U3,...t?.providers??[]],platformProviders:F3}}const F3=[{provide:dc,useValue:PI},{provide:aT,useValue:function P3(){$y.makeCurrent()},multi:!0},{provide:Rr,useFactory:function L3(){return function EO(t){$_=t}(document),document},deps:[]}],U3=[{provide:iv,useValue:"root"},{provide:ua,useFactory:function k3(){return new ua},deps:[]},{provide:Wy,useClass:(()=>{var t;class e extends jI{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})(),multi:!0,deps:[Rr,ar,dc]},{provide:Wy,useClass:(()=>{var t;class e extends jI{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,o){const l=e.parseEventName(i),c=e.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_l().onAndCancel(n,l.domEventName,c))}static parseEventName(n){const i=n.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=e._normalizeKey(i.pop());let c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),YI.forEach(w=>{const U=i.indexOf(w);U>-1&&(i.splice(U,1),c+=w+".")}),c+=l,0!=i.length||0===l.length)return null;const d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(n,i){let o=R3[n.key]||n.key,l="";return i.indexOf("code.")>-1&&(o=n.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),YI.forEach(c=>{c!==o&&(0,M3[c])(n)&&(l+=c+".")}),l+=o,l===i)}static eventCallback(n,i,o){return l=>{e.matchEventFullKeyCode(l,n)&&o.runGuarded(()=>i(l))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})(),multi:!0,deps:[Rr]},Jy,HI,VI,{provide:rf,useExisting:Jy},{provide:class qV{},useClass:b3,deps:[]},[]];let WI=(()=>{var t;class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr))},t.\u0275prov=gn({token:t,factory:function(n){let i=null;return i=n?new n:function j3(){return new WI(Wt(Rr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let Xs=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(n){let i=null;return i=n?new(n||t):Wt(QI),i},providedIn:"root"}),e})(),QI=(()=>{var t;class e extends Xs{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case Vi.NONE:return i;case Vi.HTML:return ca(i,"HTML")?fs(i):Kw(this._doc,String(i)).toString();case Vi.STYLE:return ca(i,"Style")?fs(i):i;case Vi.SCRIPT:if(ca(i,"Script"))return fs(i);throw new zt(5200,!1);case Vi.URL:return ca(i,"URL")?fs(i):wp(String(i));case Vi.RESOURCE_URL:if(ca(i,"ResourceURL"))return fs(i);throw new zt(5201,!1);default:throw new zt(5202,!1)}}bypassSecurityTrustHtml(n){return function DO(t){return new wO(t)}(n)}bypassSecurityTrustStyle(n){return function xO(t){return new TO(t)}(n)}bypassSecurityTrustScript(n){return function RO(t){return new SO(t)}(n)}bypassSecurityTrustUrl(n){return function MO(t){return new CO(t)}(n)}bypassSecurityTrustResourceUrl(n){return function NO(t){return new AO(t)}(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr))},t.\u0275prov=gn({token:t,factory:function(n){let i=null;return i=n?new n:function G3(t){return new QI(t.get(Rr))}(Wt(Po)),i},providedIn:"root"}),e})();function eD(t,e,r,n,i,o,l){try{var c=t[o](l),u=c.value}catch(d){return void r(d)}c.done?e(u):Promise.resolve(u).then(n,i)}function pi(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function l(u){eD(o,n,i,l,c,"next",u)}function c(u){eD(o,n,i,l,c,"throw",u)}l(void 0)})}}function tD(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function An(t,e,r){tD(t,e),e.set(t,r)}function nD(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function mt(t,e){return function q3(t,e){return e.get?e.get.call(t):e.value}(t,nD(t,e,"get"))}const Dm=rs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:$3}=Array,{getPrototypeOf:W3,prototype:K3,keys:X3}=Object;function rD(t){if(1===t.length){const e=t[0];if($3(e))return{args:e,keys:null};if(function Q3(t){return t&&"object"==typeof t&&W3(t)===K3}(e)){const r=X3(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}const{isArray:J3}=Array;function rb(t){return me(e=>function ej(t,e){return J3(e)?t(...e):t(e)}(t,e))}function iD(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function ib(...t){const e=gi(t),r=Oi(t),{args:n,keys:i}=rD(t);if(0===n.length)return Di([],e);const o=new Ke(function tj(t,e,r=pe){return n=>{oD(e,()=>{const{length:i}=t,o=new Array(i);let l=i,c=i;for(let u=0;u<i;u++)oD(e,()=>{const d=Di(t[u],e);let w=!1;d.subscribe($e(n,U=>{o[u]=U,w||(w=!0,c--),c||n.next(r(o.slice()))},()=>{--l||n.complete()}))},n)},n)}}(n,e,i?l=>iD(i,l):pe));return r?o.pipe(rb(r)):o}function oD(t,e,r){t?Er(r,t,e):e()}function kf(...t){return function nj(){return Ht(1)}()(Di(t,gi(t)))}function sD(t){return new Ke(e=>{cn(t()).subscribe(e)})}function Ku(t,e){const r=Kn(t)?t:()=>t,n=i=>i.error(r());return new Ke(e?i=>e.schedule(n,0,i):n)}function ob(){return xt((t,e)=>{let r=null;t._refCount++;const n=$e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(r=null);const i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}class aD extends Ke{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,_t(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new F;const r=this.getSubject();e.add(this.source.subscribe($e(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=F.EMPTY)}return e}refCount(){return ob()(this)}}function jo(t){return t<=0?()=>Jt:xt((e,r)=>{let n=0;e.subscribe($e(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Lf(...t){const e=gi(t);return xt((r,n)=>{(e?kf(t,r,e):kf(t,r)).subscribe(n)})}function fo(t,e){return xt((r,n)=>{let i=0;r.subscribe($e(n,o=>t.call(e,o,i++)&&n.next(o)))})}function xm(t){return xt((e,r)=>{let n=!1;e.subscribe($e(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function lD(t=rj){return xt((e,r)=>{let n=!1;e.subscribe($e(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function rj(){return new Dm}function yc(t,e){const r=arguments.length>=2;return n=>n.pipe(t?fo((i,o)=>t(i,o,n)):pe,jo(1),r?xm(e):lD(()=>new Dm))}function Ff(t,e){return Kn(e)?Lt(t,e,1):Lt(t,1)}function oi(t,e,r){const n=Kn(t)||e||r?{next:t,error:e,complete:r}:t;return n?xt((i,o)=>{var l;null===(l=n.subscribe)||void 0===l||l.call(n);let c=!0;i.subscribe($e(o,u=>{var d;null===(d=n.next)||void 0===d||d.call(n,u),o.next(u)},()=>{var u;c=!1,null===(u=n.complete)||void 0===u||u.call(n),o.complete()},u=>{var d;c=!1,null===(d=n.error)||void 0===d||d.call(n,u),o.error(u)},()=>{var u,d;c&&(null===(u=n.unsubscribe)||void 0===u||u.call(n)),null===(d=n.finalize)||void 0===d||d.call(n)}))}):pe}function bl(t){return xt((e,r)=>{let o,n=null,i=!1;n=e.subscribe($e(r,void 0,void 0,l=>{o=cn(t(l,bl(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function sb(t){return t<=0?()=>Jt:xt((e,r)=>{let n=[];e.subscribe($e(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(const i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function cD(t){return me(()=>t)}function Rm(t){return xt((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function Zi(t){return xt((e,r)=>{cn(t).subscribe($e(r,()=>r.complete(),g)),!r.closed&&e.subscribe(r)})}const Sr="primary",Bf=Symbol("RouteTitle");class aj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Xu(t){return new aj(t)}function lj(t,e,r){const n=r.path.split("/");if(n.length>t.length||"full"===r.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const i={};for(let o=0;o<n.length;o++){const l=n[o],c=t[o];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function ya(t,e){const r=t?Object.keys(t):void 0,n=e?Object.keys(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!uD(t[i],e[i]))return!1;return!0}function uD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}return t===e}function dD(t){return t.length>0?t[t.length-1]:null}function El(t){return function Y3(t){return!!t&&(t instanceof Ke||Kn(t.lift)&&Kn(t.subscribe))}(t)?t:_f(t)?Di(Promise.resolve(t)):Jn(t)}const uj={exact:function pD(t,e,r){if(!bc(t.segments,e.segments)||!Mm(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!t.children[n]||!pD(t.children[n],e.children[n],r))return!1;return!0},subset:mD},fD={exact:function dj(t,e){return ya(t,e)},subset:function fj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>uD(t[r],e[r]))},ignored:()=>!0};function hD(t,e,r){return uj[r.paths](t.root,e.root,r.matrixParams)&&fD[r.queryParams](t.queryParams,e.queryParams)&&!("exact"===r.fragment&&t.fragment!==e.fragment)}function mD(t,e,r){return gD(t,e,e.segments,r)}function gD(t,e,r,n){if(t.segments.length>r.length){const i=t.segments.slice(0,r.length);return!(!bc(i,r)||e.hasChildren()||!Mm(i,r,n))}if(t.segments.length===r.length){if(!bc(t.segments,r)||!Mm(t.segments,r,n))return!1;for(const i in e.children)if(!t.children[i]||!mD(t.children[i],e.children[i],n))return!1;return!0}{const i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!!(bc(t.segments,i)&&Mm(t.segments,i,n)&&t.children[Sr])&&gD(t.children[Sr],e,o,n)}}function Mm(t,e,r){return e.every((n,i)=>fD[r](t[i].parameters,n.parameters))}class Qu{constructor(e=new si([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xu(this.queryParams)),this._queryParamMap}toString(){return mj.serialize(this)}}class si{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nm(this)}}class Uf{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Xu(this.parameters)),this._parameterMap}toString(){return yD(this)}}function bc(t,e){return t.length===e.length&&t.every((r,n)=>r.path===e[n].path)}let Vf=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return new ab},providedIn:"root"}),e})();class ab{parse(e){const r=new Aj(e);return new Qu(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){const r=`/${jf(e.root,!0)}`,n=function vj(t){const e=Object.keys(t).map(r=>{const n=t[r];return Array.isArray(n)?n.map(i=>`${Om(r)}=${Om(i)}`).join("&"):`${Om(r)}=${Om(n)}`}).filter(r=>!!r);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${r}${n}${"string"==typeof e.fragment?`#${function gj(t){return encodeURI(t)}(e.fragment)}`:""}`}}const mj=new ab;function Nm(t){return t.segments.map(e=>yD(e)).join("/")}function jf(t,e){if(!t.hasChildren())return Nm(t);if(e){const r=t.children[Sr]?jf(t.children[Sr],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Sr&&n.push(`${i}:${jf(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function pj(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===Sr&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==Sr&&(r=r.concat(e(i,n)))}),r}(t,(n,i)=>i===Sr?[jf(t.children[Sr],!1)]:[`${i}:${jf(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Sr]?`${Nm(t)}/${r[0]}`:`${Nm(t)}/(${r.join("//")})`}}function _D(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Om(t){return _D(t).replace(/%3B/gi,";")}function lb(t){return _D(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pm(t){return decodeURIComponent(t)}function vD(t){return Pm(t.replace(/\+/g,"%20"))}function yD(t){return`${lb(t.path)}${function _j(t){return Object.keys(t).map(e=>`;${lb(e)}=${lb(t[e])}`).join("")}(t.parameters)}`}const yj=/^[^\/()?;#]+/;function cb(t){const e=t.match(yj);return e?e[0]:""}const bj=/^[^\/()?;=#]+/,wj=/^[^=?&#]+/,Sj=/^[^&#]+/;class Aj{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new si([],{}):new si([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[Sr]=new si(e,r)),n}parseSegment(){const e=cb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new zt(4009,!1);return this.capture(e),new Uf(Pm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const r=function Ej(t){const e=t.match(bj);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const i=cb(this.remaining);i&&(n=i,this.capture(n))}e[Pm(r)]=Pm(n)}parseQueryParam(e){const r=function Tj(t){const e=t.match(wj);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const l=function Cj(t){const e=t.match(Sj);return e?e[0]:""}(this.remaining);l&&(n=l,this.capture(n))}const i=vD(r),o=vD(n);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(o)}else e[i]=o}parseParens(e){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=cb(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new zt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Sr);const l=this.parseChildren();r[o]=1===Object.keys(l).length?l[Sr]:new si([],l),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new zt(4011,!1)}}function bD(t){return t.segments.length>0?new si([],{[Sr]:t}):t}function ED(t){const e={};for(const n of Object.keys(t.children)){const o=ED(t.children[n]);if(n===Sr&&0===o.segments.length&&o.hasChildren())for(const[l,c]of Object.entries(o.children))e[l]=c;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}return function Ij(t){if(1===t.numberOfChildren&&t.children[Sr]){const e=t.children[Sr];return new si(t.segments.concat(e.segments),e.children)}return t}(new si(t.segments,e))}function Ec(t){return t instanceof Qu}function wD(t){let e;const i=bD(function r(o){const l={};for(const u of o.children){const d=r(u);l[u.outlet]=d}const c=new si(o.url,l);return o===t&&(e=c),c}(t.root));return e??i}function TD(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return ub(i,i,i,r,n);const o=function xj(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new CD(!0,0,t);let e=0,r=!1;const n=t.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([u,d])=>{c[u]="string"==typeof d?d.split("/"):d}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?r=!0:".."===c?e++:""!=c&&i.push(c))}),i):[...i,o]},[]);return new CD(r,e,n)}(e);if(o.toRoot())return ub(i,i,new si([],{}),r,n);const l=function Rj(t,e,r){if(t.isAbsolute)return new Lm(e,!0,0);if(!r)return new Lm(e,!1,NaN);if(null===r.parent)return new Lm(r,!0,0);const n=km(t.commands[0])?0:1;return function Mj(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new zt(4005,!1);i=n.segments.length}return new Lm(n,!1,i-o)}(r,r.segments.length-1+n,t.numberOfDoubleDots)}(o,i,t),c=l.processChildren?Zf(l.segmentGroup,l.index,o.commands):AD(l.segmentGroup,l.index,o.commands);return ub(i,l.segmentGroup,c,r,n)}function km(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hf(t){return"object"==typeof t&&null!=t&&t.outlets}function ub(t,e,r,n,i){let l,o={};n&&Object.entries(n).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(w=>`${w}`):`${d}`}),l=t===e?r:SD(t,e,r);const c=bD(ED(l));return new Qu(c,o,i)}function SD(t,e,r){const n={};return Object.entries(t.children).forEach(([i,o])=>{n[i]=o===e?r:SD(o,e,r)}),new si(t.segments,n)}class CD{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&km(n[0]))throw new zt(4003,!1);const i=n.find(Hf);if(i&&i!==dD(n))throw new zt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lm{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}}function AD(t,e,r){if(t||(t=new si([],{})),0===t.segments.length&&t.hasChildren())return Zf(t,e,r);const n=function Oj(t,e,r){let n=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;const l=t.segments[i],c=r[n];if(Hf(c))break;const u=`${c}`,d=n<r.length-1?r[n+1]:null;if(i>0&&void 0===u)break;if(u&&d&&"object"==typeof d&&void 0===d.outlets){if(!DD(u,d,l))return o;n+=2}else{if(!DD(u,{},l))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const o=new si(t.segments.slice(0,n.pathIndex),{});return o.children[Sr]=new si(t.segments.slice(n.pathIndex),t.children),Zf(o,0,i)}return n.match&&0===i.length?new si(t.segments,{}):n.match&&!t.hasChildren()?db(t,e,r):n.match?Zf(t,0,i):db(t,e,r)}function Zf(t,e,r){if(0===r.length)return new si(t.segments,{});{const n=function Nj(t){return Hf(t[0])?t[0].outlets:{[Sr]:t}}(r),i={};if(Object.keys(n).some(o=>o!==Sr)&&t.children[Sr]&&1===t.numberOfChildren&&0===t.children[Sr].segments.length){const o=Zf(t.children[Sr],e,r);return new si(t.segments,o.children)}return Object.entries(n).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[o]=AD(t.children[o],e,l))}),Object.entries(t.children).forEach(([o,l])=>{void 0===n[o]&&(i[o]=l)}),new si(t.segments,i)}}function db(t,e,r){const n=t.segments.slice(0,e);let i=0;for(;i<r.length;){const o=r[i];if(Hf(o)){const u=Pj(o.outlets);return new si(n,u)}if(0===i&&km(r[0])){n.push(new Uf(t.segments[e].path,ID(r[0]))),i++;continue}const l=Hf(o)?o.outlets[Sr]:`${o}`,c=i<r.length-1?r[i+1]:null;l&&c&&km(c)?(n.push(new Uf(l,ID(c))),i+=2):(n.push(new Uf(l,{})),i++)}return new si(n,{})}function Pj(t){const e={};return Object.entries(t).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=db(new si([],{}),0,n))}),e}function ID(t){const e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function DD(t,e,r){return t==r.path&&ya(e,r.parameters)}const zf="imperative";class ba{constructor(e,r){this.id=e,this.url=r}}class fb extends ba{constructor(e,r,n="imperative",i=null){super(e,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ju extends ba{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gf extends ba{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qf extends ba{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=16}}class Fm extends ba{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xD extends ba{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kj extends ba{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lj extends ba{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fj extends ba{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bj extends ba{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uj{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vj{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jj{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hj{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zj{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zj{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hb{}class pb{constructor(e){this.url=e}}class Gj{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yf,this.attachRef=null}}let Yf=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Gj,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class RD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){const r=mb(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){const r=mb(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){const r=gb(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gb(e,this._root).map(r=>r.value)}}function mb(t,e){if(t===e.value)return e;for(const r of e.children){const n=mb(t,r);if(n)return n}return null}function gb(t,e){if(t===e.value)return[e];for(const r of e.children){const n=gb(t,r);if(n.length)return n.unshift(e),n}return[]}class Za{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}}function ed(t){const e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}class MD extends RD{constructor(e,r){super(e),this.snapshot=r,_b(this,e)}toString(){return this.snapshot.toString()}}function ND(t,e){const r=function qj(t,e){const l=new Bm([],{},{},"",{},Sr,e,null,{});return new PD("",new Za(l,[]))}(0,e),n=new Wi([new Uf("",{})]),i=new Wi({}),o=new Wi({}),l=new Wi({}),c=new Wi(""),u=new Ea(n,i,l,c,o,Sr,e,r.root);return u.snapshot=r.root,new MD(new Za(u,[]),r)}class Ea{constructor(e,r,n,i,o,l,c,u){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(me(d=>d[Bf]))??Jn(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>Xu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>Xu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OD(t,e="emptyOnly"){const r=t.pathFromRoot;let n=0;if("always"!==e)for(n=r.length-1;n>=1;){const i=r[n],o=r[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(o.component)break;n--}}return function Yj(t){return t.reduce((e,r)=>({params:{...e.params,...r.params},data:{...e.data,...r.data},resolve:{...r.data,...e.resolve,...r.routeConfig?.data,...r._resolvedData}}),{params:{},data:{},resolve:{}})}(r.slice(n))}class Bm{get title(){return this.data?.[Bf]}constructor(e,r,n,i,o,l,c,u,d){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PD extends RD{constructor(e,r){super(r),this.url=e,_b(this,r)}toString(){return kD(this._root)}}function _b(t,e){e.value._routerState=t,e.children.forEach(r=>_b(t,r))}function kD(t){const e=t.children.length>0?` { ${t.children.map(kD).join(", ")} } `:"";return`${t.value}${e}`}function vb(t){if(t.snapshot){const e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,ya(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),ya(e.params,r.params)||t.paramsSubject.next(r.params),function cj(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!ya(t[r],e[r]))return!1;return!0}(e.url,r.url)||t.urlSubject.next(r.url),ya(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function yb(t,e){const r=ya(t.params,e.params)&&function hj(t,e){return bc(t,e)&&t.every((r,n)=>ya(r.parameters,e[n].parameters))}(t.url,e.url);return r&&!(!t.parent!=!e.parent)&&(!t.parent||yb(t.parent,e.parent))}let bb=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Sr,this.activateEvents=new ri,this.deactivateEvents=new ri,this.attachEvents=new ri,this.detachEvents=new ri,this.parentContexts=$t(Yf),this.location=$t(ps),this.changeDetector=$t(Uo),this.environmentInjector=$t(qs),this.inputBinder=$t(Um,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new zt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new zt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new zt(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new zt(4013,!1);this._activatedRoute=n;const o=this.location,c=n.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new $j(n,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=kn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[No]}),e})();class $j{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===Ea?this.route:e===Yf?this.childContexts:this.parent.get(e,r)}}const Um=new ln("");function $f(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=e.value;const i=function Kj(t,e,r){return e.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return $f(t,n,i);return $f(t,n)})}(t,e,r);return new Za(n,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(c=>$f(t,c)),l}}const n=function Xj(t){return new Ea(new Wi(t.url),new Wi(t.params),new Wi(t.queryParams),new Wi(t.fragment),new Wi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>$f(t,o));return new Za(n,i)}}const Eb="ngNavigationCancelingError";function FD(t,e){const{redirectTo:r,navigationBehaviorOptions:n}=Ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BD(!1,0,e);return i.url=r,i.navigationBehaviorOptions=n,i}function BD(t,e,r){const n=new Error("NavigationCancelingError: "+(t||""));return n[Eb]=!0,n.cancellationCode=e,r&&(n.url=r),n}function UD(t){return t&&t[Eb]}let VD=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ii],decls:1,vars:0,template:function(n,i){1&n&&Qn(0,"router-outlet")},dependencies:[bb],encapsulation:2}),e})();function wb(t){const e=t.children&&t.children.map(wb),r=e?{...t,children:e}:{...t};return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Sr&&(r.component=VD),r}function Qs(t){return t.outlet||Sr}function Wf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class oH{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),vb(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){const i=ed(r);e.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],n),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){const i=e.value,o=r?r.value:null;if(i===o)if(i.component){const l=n.getContext(i.outlet);l&&this.deactivateChildRoutes(e,r,l.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=ed(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(n&&n.outlet){const l=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:c})}}deactivateRouteAndOutlet(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=ed(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){const i=ed(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new zj(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Hj(e.value.snapshot))}activateRoutes(e,r,n){const i=e.value,o=r?r.value:null;if(vb(i),i===o)if(i.component){const l=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,l.children)}else this.activateChildRoutes(e,r,n);else if(i.component){const l=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),vb(c.route.value),this.activateChildRoutes(e,null,l.children)}else{const c=Wf(i.snapshot);l.attachRef=null,l.route=i,l.injector=c,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,n)}}class jD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vm{constructor(e,r){this.component=e,this.route=r}}function sH(t,e,r){const n=t._root;return Kf(n,e?e._root:null,r,[n.value])}function td(t,e){const r=Symbol(),n=e.get(t,r);return n===r?"function"!=typeof t||function Rh(t){return null!==Qa(t)}(t)?e.get(t):t:n}function Kf(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ed(e);return t.children.forEach(l=>{(function lH(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,l=e?e.value:null,c=r?r.getContext(t.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const u=function cH(t,e,r){if("function"==typeof r)return r(t,e);switch(r){case"pathParamsChange":return!bc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bc(t.url,e.url)||!ya(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yb(t,e)||!ya(t.queryParams,e.queryParams);default:return!yb(t,e)}}(l,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jD(n)):(o.data=l.data,o._resolvedData=l._resolvedData),Kf(t,e,o.component?c?c.children:null:r,n,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Vm(c.outlet.component,l))}else l&&Xf(e,c,i),i.canActivateChecks.push(new jD(n)),Kf(t,null,o.component?c?c.children:null:r,n,i)})(l,o[l.value.outlet],r,n.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,c])=>Xf(c,r.getContext(l),i)),i}function Xf(t,e,r){const n=ed(t),i=t.value;Object.entries(n).forEach(([o,l])=>{Xf(l,i.component?e?e.children.getContext(o):null:e,r)}),r.canDeactivateChecks.push(new Vm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Qf(t){return"function"==typeof t}function HD(t){return t instanceof Dm||"EmptyError"===t?.name}const jm=Symbol("INITIAL_VALUE");function nd(){return Wn(t=>ib(t.map(e=>e.pipe(jo(1),Lf(jm)))).pipe(me(e=>{for(const r of e)if(!0!==r){if(r===jm)return jm;if(!1===r||r instanceof Qu)return r}return!0}),fo(e=>e!==jm),jo(1)))}function ZD(t){return function Nt(...t){return He(t)}(oi(e=>{if(Ec(e))throw FD(0,e)}),me(e=>!0===e))}class Hm{constructor(e){this.segmentGroup=e||null}}class zD{constructor(e){this.urlTree=e}}function rd(t){return Ku(new Hm(t))}function GD(t){return Ku(new zD(t))}class xH{constructor(e,r){this.urlSerializer=e,this.urlTree=r}noMatchError(e){return new zt(4002,!1)}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Jn(n);if(i.numberOfChildren>1||!i.children[Sr])return Ku(new zt(4e3,!1));i=i.children[Sr]}}applyRedirectCommands(e,r,n){return this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n)}applyRedirectCreateUrlTree(e,r,n,i){const o=this.createSegmentGroup(e,r.root,n,i);return new Qu(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){const n={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const c=o.substring(1);n[i]=r[c]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){const o=this.createSegments(e,r.segments,n,i);let l={};return Object.entries(r.children).forEach(([c,u])=>{l[c]=this.createSegmentGroup(e,u,n,i)}),new si(o,l)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){const i=n[r.path.substring(1)];if(!i)throw new zt(4001,!1);return i}findOrReturn(e,r){let n=0;for(const i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}}const Tb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RH(t,e,r,n,i){const o=Sb(t,e,r);return o.matched?(n=function Jj(t,e){return t.providers&&!t._injector&&(t._injector=qC(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,n),function AH(t,e,r,n){const i=e.canMatch;return i&&0!==i.length?Jn(i.map(l=>{const c=td(l,t);return El(function mH(t){return t&&Qf(t.canMatch)}(c)?c.canMatch(e,r):t.runInContext(()=>c(e,r)))})).pipe(nd(),ZD()):Jn(!0)}(n,e,r).pipe(me(l=>!0===l?o:{...Tb}))):Jn(o)}function Sb(t,e,r){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?{...Tb}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lj)(r,t,e);if(!i)return{...Tb};const o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function qD(t,e,r,n){return r.length>0&&function OH(t,e,r){return r.some(n=>Zm(t,e,n)&&Qs(n)!==Sr)}(t,r,n)?{segmentGroup:new si(e,NH(n,new si(r,t.children))),slicedSegments:[]}:0===r.length&&function PH(t,e,r){return r.some(n=>Zm(t,e,n))}(t,r,n)?{segmentGroup:new si(t.segments,MH(t,0,r,n,t.children)),slicedSegments:r}:{segmentGroup:new si(t.segments,t.children),slicedSegments:r}}function MH(t,e,r,n,i){const o={};for(const l of n)if(Zm(t,r,l)&&!i[Qs(l)]){const c=new si([],{});o[Qs(l)]=c}return{...i,...o}}function NH(t,e){const r={};r[Sr]=e;for(const n of t)if(""===n.path&&Qs(n)!==Sr){const i=new si([],{});r[Qs(n)]=i}return r}function Zm(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path}class BH{constructor(e,r,n,i,o,l,c){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new xH(this.urlSerializer,this.urlTree)}noMatchError(e){return new zt(4002,!1)}recognize(){const e=qD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Sr).pipe(bl(r=>{if(r instanceof zD)return this.allowRedirects=!1,this.urlTree=r.urlTree,this.match(r.urlTree);throw r instanceof Hm?this.noMatchError(r):r}),me(r=>{const n=new Bm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Sr,this.rootComponentType,null,{}),i=new Za(n,r),o=new PD("",i),l=function Dj(t,e,r=null,n=null){return TD(wD(t),e,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Sr).pipe(bl(n=>{throw n instanceof Hm?this.noMatchError(n):n}))}inheritParamsAndData(e){const r=e.value,n=OD(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,r,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0)}processChildren(e,r,n){const i=[];for(const o of Object.keys(n.children))"primary"===o?i.unshift(o):i.push(o);return Di(i).pipe(Ff(o=>{const l=n.children[o],c=function rH(t,e){const r=t.filter(n=>Qs(n)===e);return r.push(...t.filter(n=>Qs(n)!==e)),r}(r,o);return this.processSegmentGroup(e,c,l,o)}),function oj(t,e){return xt(function ij(t,e,r,n,i){return(o,l)=>{let c=r,u=e,d=0;o.subscribe($e(l,w=>{const U=d++;u=c?t(u,w,U):(c=!0,w),n&&l.next(u)},i&&(()=>{c&&l.next(u),l.complete()})))}}(t,e,arguments.length>=2,!0))}((o,l)=>(o.push(...l),o)),xm(null),function sj(t,e){const r=arguments.length>=2;return n=>n.pipe(t?fo((i,o)=>t(i,o,n)):pe,sb(1),r?xm(e):lD(()=>new Dm))}(),Lt(o=>{if(null===o)return rd(n);const l=YD(o);return function UH(t){t.sort((e,r)=>e.value.outlet===Sr?-1:r.value.outlet===Sr?1:e.value.outlet.localeCompare(r.value.outlet))}(l),Jn(l)}))}processSegment(e,r,n,i,o,l){return Di(r).pipe(Ff(c=>this.processSegmentAgainstRoute(c._injector??e,r,c,n,i,o,l).pipe(bl(u=>{if(u instanceof Hm)return Jn(null);throw u}))),yc(c=>!!c),bl(c=>{if(HD(c))return function LH(t,e,r){return 0===e.length&&!t.children[r]}(n,i,o)?Jn([]):rd(n);throw c}))}processSegmentAgainstRoute(e,r,n,i,o,l,c){return function kH(t,e,r,n){return!!(Qs(t)===n||n!==Sr&&Zm(e,r,t))&&("**"===t.path||Sb(e,t,r).matched)}(n,i,o,l)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,i,n,o,l,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,l):rd(i):rd(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,r,n,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,n,i){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?GD(o):this.applyRedirects.lineralizeSegments(n,o).pipe(Lt(l=>{const c=new si(l,{});return this.processSegment(e,r,c,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,r,n,i,o,l){const{matched:c,consumedSegments:u,remainingSegments:d,positionalParamSegments:w}=Sb(r,i,o);if(!c)return rd(r);const U=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,w);return i.redirectTo.startsWith("/")?GD(U):this.applyRedirects.lineralizeSegments(i,U).pipe(Lt(he=>this.processSegment(e,n,r,he.concat(d),l,!1)))}matchSegmentAgainstRoute(e,r,n,i,o,l){let c;if("**"===n.path){const u=i.length>0?dD(i).parameters:{};c=Jn({snapshot:new Bm(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$D(n),Qs(n),n.component??n._loadedComponent??null,n,WD(n)),consumedSegments:[],remainingSegments:[]}),r.children={}}else c=RH(r,n,i,e).pipe(me(({matched:u,consumedSegments:d,remainingSegments:w,parameters:U})=>u?{snapshot:new Bm(d,U,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$D(n),Qs(n),n.component??n._loadedComponent??null,n,WD(n)),consumedSegments:d,remainingSegments:w}:null));return c.pipe(Wn(u=>null===u?rd(r):this.getChildConfig(e=n._injector??e,n,i).pipe(Wn(({routes:d})=>{const w=n._loadedInjector??e,{snapshot:U,consumedSegments:he,remainingSegments:we}=u,{segmentGroup:Pe,slicedSegments:Ue}=qD(r,he,we,d);if(0===Ue.length&&Pe.hasChildren())return this.processChildren(w,d,Pe).pipe(me(Dt=>null===Dt?null:[new Za(U,Dt)]));if(0===d.length&&0===Ue.length)return Jn([new Za(U,[])]);const Et=Qs(n)===o;return this.processSegment(w,d,Pe,Ue,Et?Sr:o,!0).pipe(me(Dt=>[new Za(U,Dt)]))}))))}getChildConfig(e,r,n){return r.children?Jn({routes:r.children,injector:e}):r.loadChildren?void 0!==r._loadedRoutes?Jn({routes:r._loadedRoutes,injector:r._loadedInjector}):function CH(t,e,r,n){const i=e.canLoad;return void 0===i||0===i.length?Jn(!0):Jn(i.map(l=>{const c=td(l,t);return El(function dH(t){return t&&Qf(t.canLoad)}(c)?c.canLoad(e,r):t.runInContext(()=>c(e,r)))})).pipe(nd(),ZD())}(e,r,n).pipe(Lt(i=>i?this.configLoader.loadChildren(e,r).pipe(oi(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):function DH(t){return Ku(BD(!1,3))}())):Jn({routes:[],injector:e})}}function VH(t){const e=t.value.routeConfig;return e&&""===e.path}function YD(t){const e=[],r=new Set;for(const n of t){if(!VH(n)){e.push(n);continue}const i=e.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...n.children),r.add(i)):e.push(n)}for(const n of r){const i=YD(n.children);e.push(new Za(n.value,i))}return e.filter(n=>!r.has(n))}function $D(t){return t.data||{}}function WD(t){return t.resolve||{}}function KD(t){return"string"==typeof t.title||null===t.title}function Cb(t){return Wn(e=>{const r=t(e);return r?Di(r).pipe(me(()=>e)):Jn(e)})}const zm=new ln("ROUTES");let XD=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$t(bB)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Jn(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=El(n.loadComponent()).pipe(me(QD),oi(l=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=l}),Rm(()=>{this.componentLoaders.delete(n)})),o=new aD(i,()=>new ut).pipe(ob());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Jn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(me(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let d,w;return Array.isArray(u)?w=u:(d=u.create(n).injector,w=d.get(zm,[],Tr.Self|Tr.Optional).flat()),{routes:w.map(wb),injector:d}}),Rm(()=>{this.childrenLoaders.delete(i)})),c=new aD(l,()=>new ut).pipe(ob());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(n){return El(n()).pipe(me(QD),Lt(i=>i instanceof zC||Array.isArray(i)?Jn(i):Di(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function QD(t){return function YH(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Gm=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=$t(XD),this.environmentInjector=$t(qs),this.urlSerializer=$t(Vf),this.rootContexts=$t(Yf),this.inputBindingEnabled=null!==$t(Um,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Jn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Vj(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Uj(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,o){return this.transitions=new Wi({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:n.urlHandlingStrategy.extract(i),urlAfterRedirects:n.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fo(l=>0!==l.id),me(l=>({...l,extractedUrl:n.urlHandlingStrategy.extract(l.rawUrl)})),Wn(l=>{this.currentTransition=l;let c=!1,u=!1;return Jn(l).pipe(oi(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wn(d=>{const w=d.currentBrowserUrl.toString(),U=!n.navigated||d.extractedUrl.toString()!==w||w!==d.currentUrlTree.toString();if(!U&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const we="";return this.events.next(new qf(d.id,this.urlSerializer.serialize(d.rawUrl),we,0)),d.resolve(null),Jt}if(n.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Jn(d).pipe(Wn(we=>{const Pe=this.transitions?.getValue();return this.events.next(new fb(we.id,this.urlSerializer.serialize(we.extractedUrl),we.source,we.restoredState)),Pe!==this.transitions?.getValue()?Jt:Promise.resolve(we)}),function jH(t,e,r,n,i,o){return Lt(l=>function FH(t,e,r,n,i,o,l="emptyOnly"){return new BH(t,e,r,n,i,l,o).recognize()}(t,e,r,n,l.extractedUrl,i,o).pipe(me(({state:c,tree:u})=>({...l,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),oi(we=>{l.targetSnapshot=we.targetSnapshot,l.urlAfterRedirects=we.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:we.urlAfterRedirects};const Pe=new xD(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(Pe)}));if(U&&n.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:we,extractedUrl:Pe,source:Ue,restoredState:Et,extras:Dt}=d,wt=new fb(we,this.urlSerializer.serialize(Pe),Ue,Et);this.events.next(wt);const hn=ND(0,this.rootComponentType).snapshot;return this.currentTransition=l={...d,targetSnapshot:hn,urlAfterRedirects:Pe,extras:{...Dt,skipLocationChange:!1,replaceUrl:!1}},Jn(l)}{const we="";return this.events.next(new qf(d.id,this.urlSerializer.serialize(d.extractedUrl),we,1)),d.resolve(null),Jt}}),oi(d=>{const w=new kj(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(w)}),me(d=>(this.currentTransition=l={...d,guards:sH(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},l)),function _H(t,e){return Lt(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=r;return 0===l.length&&0===o.length?Jn({...r,guardsResult:!0}):function vH(t,e,r,n){return Di(t).pipe(Lt(i=>function SH(t,e,r,n,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Jn(o.map(c=>{const u=Wf(e)??i,d=td(c,u);return El(function pH(t){return t&&Qf(t.canDeactivate)}(d)?d.canDeactivate(t,e,r,n):u.runInContext(()=>d(t,e,r,n))).pipe(yc())})).pipe(nd()):Jn(!0)}(i.component,i.route,r,e,n)),yc(i=>!0!==i,!0))}(l,n,i,t).pipe(Lt(c=>c&&function uH(t){return"boolean"==typeof t}(c)?function yH(t,e,r,n){return Di(e).pipe(Ff(i=>kf(function EH(t,e){return null!==t&&e&&e(new jj(t)),Jn(!0)}(i.route.parent,n),function bH(t,e){return null!==t&&e&&e(new Zj(t)),Jn(!0)}(i.route,n),function TH(t,e,r){const n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(l=>function aH(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(l)).filter(l=>null!==l).map(l=>sD(()=>Jn(l.guards.map(u=>{const d=Wf(l.node)??r,w=td(u,d);return El(function hH(t){return t&&Qf(t.canActivateChild)}(w)?w.canActivateChild(n,t):d.runInContext(()=>w(n,t))).pipe(yc())})).pipe(nd())));return Jn(o).pipe(nd())}(t,i.path,r),function wH(t,e,r){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return Jn(!0);const i=n.map(o=>sD(()=>{const l=Wf(e)??r,c=td(o,l);return El(function fH(t){return t&&Qf(t.canActivate)}(c)?c.canActivate(e,t):l.runInContext(()=>c(e,t))).pipe(yc())}));return Jn(i).pipe(nd())}(t,i.route,r))),yc(i=>!0!==i,!0))}(n,o,t,e):Jn(c)),me(c=>({...r,guardsResult:c})))})}(this.environmentInjector,d=>this.events.next(d)),oi(d=>{if(l.guardsResult=d.guardsResult,Ec(d.guardsResult))throw FD(0,d.guardsResult);const w=new Lj(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(w)}),fo(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",3),!1)),Cb(d=>{if(d.guards.canActivateChecks.length)return Jn(d).pipe(oi(w=>{const U=new Fj(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(U)}),Wn(w=>{let U=!1;return Jn(w).pipe(function HH(t,e){return Lt(r=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return Jn(r);let o=0;return Di(i).pipe(Ff(l=>function ZH(t,e,r,n){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!KD(i)&&(o[Bf]=i.title),function zH(t,e,r,n){const i=function GH(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Jn({});const o={};return Di(i).pipe(Lt(l=>function qH(t,e,r,n){const i=Wf(e)??n,o=td(t,i);return El(o.resolve?o.resolve(e,r):i.runInContext(()=>o(e,r)))}(t[l],e,r,n).pipe(yc(),oi(c=>{o[l]=c}))),sb(1),cD(o),bl(l=>HD(l)?Jt:Ku(l)))}(o,t,e,n).pipe(me(l=>(t._resolvedData=l,t.data=OD(t,r).resolve,i&&KD(i)&&(t.data[Bf]=i.title),null)))}(l.route,n,t,e)),oi(()=>o++),sb(1),Lt(l=>o===i.length?Jn(r):Jt))})}(n.paramsInheritanceStrategy,this.environmentInjector),oi({next:()=>U=!0,complete:()=>{U||this.cancelNavigationTransition(w,"",2)}}))}),oi(w=>{const U=new Bj(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(U)}))}),Cb(d=>{const w=U=>{const he=[];U.routeConfig?.loadComponent&&!U.routeConfig._loadedComponent&&he.push(this.configLoader.loadComponent(U.routeConfig).pipe(oi(we=>{U.component=we}),me(()=>{})));for(const we of U.children)he.push(...w(we));return he};return ib(w(d.targetSnapshot.root)).pipe(xm(),jo(1))}),Cb(()=>this.afterPreactivation()),me(d=>{const w=function Wj(t,e,r){const n=$f(t,e._root,r?r._root:void 0);return new MD(n,e)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=l={...d,targetRouterState:w},l}),oi(()=>{this.events.next(new hb)}),((t,e,r,n)=>me(i=>(new oH(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),jo(1),oi({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ju(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),n.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),Zi(this.transitionAbortSubject.pipe(oi(d=>{throw d}))),Rm(()=>{c||u||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),bl(d=>{if(u=!0,UD(d))this.events.next(new Gf(l.id,this.urlSerializer.serialize(l.extractedUrl),d.message,d.cancellationCode)),function Qj(t){return UD(t)&&Ec(t.url)}(d)?this.events.next(new pb(d.url)):l.resolve(!1);else{this.events.next(new Fm(l.id,this.urlSerializer.serialize(l.extractedUrl),d,l.targetSnapshot??void 0));try{l.resolve(n.errorHandler(d))}catch(w){l.reject(w)}}return Jt}))}))}cancelNavigationTransition(n,i,o){const l=new Gf(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(l),n.resolve(!1)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function JD(t){return t!==zf}let ex=(()=>{var t;class e{buildTitle(n){let i,o=n.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(l=>l.outlet===Sr);return i}getResolvedTitleForRoute(n){return n.data[Bf]}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t($H)},providedIn:"root"}),e})(),$H=(()=>{var t;class e extends ex{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(WI))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),WH=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(XH)},providedIn:"root"}),e})();class KH{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}}let XH=(()=>{var t;class e extends KH{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Ji(t)))(i||t)}}(),t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ab=new ln("",{providedIn:"root",factory:()=>({})});let QH=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(JH)},providedIn:"root"}),e})(),JH=(()=>{var t;class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Jf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jf||{});function e4(t){throw t}function t4(t,e,r){return e.parse("/")}const n4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},r4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ho=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=$t(kA),this.isNgZoneEnabled=!1,this._events=new ut,this.options=$t(Ab,{optional:!0})||{},this.pendingTasks=$t(LA),this.errorHandler=this.options.errorHandler||e4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||t4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=$t(QH),this.routeReuseStrategy=$t(WH),this.titleStrategy=$t(ex),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=$t(zm,{optional:!0})?.flat()??[],this.navigationTransitions=$t(Gm),this.urlSerializer=$t(Vf),this.location=$t(fm),this.componentInputBindingEnabled=!!$t(Um,{optional:!0}),this.eventsSubscription=new F,this.isNgZoneEnabled=$t(ar)instanceof ar&&ar.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ND(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(nx(i)&&this._events.next(i));if(i instanceof fb)JD(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof qf)this.rawUrlTree=o.rawUrl;else if(i instanceof xD){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(l,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof hb)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof Gf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof pb){const l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JD(o.source)};this.scheduleNavigation(l,zf,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Fm&&this.restoreHistory(o,!0),i instanceof Ju&&(this.navigated=!0),nx(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zf,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,o){const l={replaceUrl:!0},c=o?.navigationId?o:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(l.state=d)}const u=this.parseUrl(n);this.scheduleNavigation(u,i,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(wb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:o,queryParams:l,fragment:c,queryParamsHandling:u,preserveFragment:d}=i,w=d?this.currentUrlTree.fragment:c;let he,U=null;switch(u){case"merge":U={...this.currentUrlTree.queryParams,...l};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=l||null}null!==U&&(U=this.removeEmptyProps(U));try{he=wD(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),he=this.currentUrlTree.root}return TD(he,n,U,w??null)}navigateByUrl(n,i={skipLocationChange:!1}){const o=Ec(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,zf,null,i)}navigate(n,i={skipLocationChange:!1}){return function i4(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new zt(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return i}isActive(n,i){let o;if(o=!0===i?{...n4}:!1===i?{...r4}:i,Ec(n))return hD(this.currentUrlTree,n,o);const l=this.parseUrl(n);return hD(this.currentUrlTree,l,o)}removeEmptyProps(n){return Object.keys(n).reduce((i,o)=>{const l=n[o];return null!=l&&(i[o]=l),i},{})}scheduleNavigation(n,i,o,l,c){if(this.disposed)return Promise.resolve(!1);let u,d,w;c?(u=c.resolve,d=c.reject,w=c.promise):w=new Promise((he,we)=>{u=he,d=we});const U=this.pendingTasks.add();return function tx(t,e){t.events.pipe(fo(r=>r instanceof Ju||r instanceof Gf||r instanceof Fm||r instanceof qf),me(r=>r instanceof Ju||r instanceof qf?Jf.COMPLETE:r instanceof Gf&&(0===r.code||1===r.code)?Jf.REDIRECTING:Jf.FAILED),fo(r=>r!==Jf.REDIRECTING),jo(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(U))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:l,resolve:u,reject:d,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(he=>Promise.reject(he))}setBrowserUrl(n,i){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",c)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",l)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function nx(t){return!(t instanceof hb||t instanceof pb)}let za=(()=>{var t;class e{constructor(n,i,o,l,c,u){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=l,this.el=c,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const d=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=n.events.subscribe(w=>{w instanceof Ju&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,o,l,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||o||l||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Jw(t,e,r){return function GO(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Qw:cc}(e,r)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const o=this.renderer,l=this.el.nativeElement;null!==i?o.setAttribute(l,n,i):o.removeAttribute(l,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Ho),vt(Ea),sc("tabindex"),vt(La),vt(Or),vt(dm))},t.\u0275dir=kn({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){1&n&&mr("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&li("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Yu],skipLocationChange:["skipLocationChange","skipLocationChange",Yu],replaceUrl:["replaceUrl","replaceUrl",Yu],routerLink:"routerLink"},standalone:!0,features:[lS,No]}),e})();const Ib=new ln("");function ix(t){return t.routerState.root}function ox(){const t=$t(Po);return e=>{const r=t.get(gl);if(e!==r.components[0])return;const n=t.get(Ho),i=t.get(sx);1===t.get(Db)&&n.initialNavigation(),t.get(ax,null,Tr.Optional)?.setUpPreloading(),t.get(Ib,null,Tr.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const sx=new ln("",{factory:()=>new ut}),Db=new ln("",{providedIn:"root",factory:()=>1}),ax=new ln("");function Jr(t,e){tD(t,e),e.add(t)}function kr(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}let h4=(()=>{var t,e=new WeakMap,r=new WeakSet;class n{constructor(){Jr(this,r),An(this,e,{writable:!0,value:$t(Xs)})}set data(l){this._data=l,kr(this,r,i).call(this)}}function i(){const o=document.implementation.createHTMLDocument().createElement("p");o.innerHTML=this._data.embed,Array.from(o.getElementsByTagName("iframe")).forEach(l=>{l.setAttribute("loading","lazy"),l.style.position="relative",l.style.maxWidth="100vw"}),this._embed=mt(this,e).bypassSecurityTrustHtml(o.innerHTML)}return(t=n).\u0275fac=function(l){return new(l||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(l,c){1&l&&Qn(0,"div",0),2&l&&Yt("innerHTML",c._embed,J_)},changeDetection:0}),n})();function wn(t,e,r){return function p4(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,nD(t,e,"set"),r),r}const m4=["gallery"];function g4(t,e){if(1&t){const r=co();un(0,"figure")(1,"img",3),mr("load",function(){return ht(r),bt(Vn().onLoad())})("click",function(){const o=ht(r).$implicit;return bt(Vn().onClick(o.href))}),fn()()}if(2&t){const r=e.$implicit,n=Vn();en(1),Yt("src",r.src,cc)("srcset",r.srcset)("alt","r/"+n.data.subreddit+" - "+n.data.title)}}const _4=function(t){return{"set-scrollbar":t}};let v4=(()=>{var t,e=new WeakMap;class r{constructor(){An(this,e,{writable:!0,value:void 0})}set fig(i){i&&i.nativeElement&&wn(this,e,i.nativeElement)}onLoad(){mt(this,e)&&(mt(this,e).scrollLeft=0)}onClick(i){String.isNullOrWhitespace(i)||window.open(i,"_blank","noopener,noreferrer")}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-image"]],viewQuery:function(i,o){if(1&i&&Fo(m4,5),2&i){let l;ci(l=ui())&&(o.fig=l.first)}},inputs:{data:"data"},standalone:!0,features:[ii],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(i,o){1&i&&(un(0,"div",0,1),Pn(2,g4,2,3,"figure",2),fn()),2&i&&(Yt("ngClass",ga(2,_4,o.data.images.length>1)),en(2),Yt("ngForOf",o.data.images))},dependencies:[Wu,vl],changeDetection:0}),r})(),cx=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakSet;class i{constructor(){Jr(this,n),An(this,e,{writable:!0,value:""}),An(this,r,{writable:!0,value:$t(Xs)}),wn(this,e,document.baseURI.replace(window.location.origin,"")),mt(this,e).endsWith("/")&&wn(this,e,mt(this,e).slice(0,-1))}sanitizeHTML(c){if(String.isNullOrWhitespace(c))return"";const u=document.implementation.createHTMLDocument().createElement("p");return u.innerHTML=mt(this,r).sanitize(Vi.HTML,c),kr(this,n,o).call(this,u),u.innerHTML}sanitizeLink(c){if(String.isNullOrWhitespace(c))return{href:"",text:"",external:!1};let u=c;u.startsWith("/")&&(u=`${window.location.origin}${u}`),u=u.replace(window.location.origin,`${mt(this,e)}`).replace("http://www.reddit.com/",`${mt(this,e)}/`).replace("https://www.reddit.com/",`${mt(this,e)}/`).replace("http://np.reddit.com/",`${mt(this,e)}/`).replace("https://np.reddit.com/",`${mt(this,e)}/`).replace("http://reddit.com/",`${mt(this,e)}/`).replace("https://reddit.com/",`${mt(this,e)}/`).replace("http://old.reddit.com/",`${mt(this,e)}/`).replace("https://old.reddit.com/",`${mt(this,e)}/`);const d=!u.startsWith(mt(this,e));if(!d){const he=u.indexOf("?");he>-1&&(u=u.slice(0,he)),u.endsWith("/")&&(u=u.slice(0,-1))}const w=u.replace(mt(this,e),""),U=document.createElement("a");return U.href=u,U.innerText=w,d&&(U.setAttribute("target","_blank"),U.setAttribute("rel","noopener noreferrer nofollow")),{href:u,text:w,external:d,el:U}}}function o(l){const c=Array.from(l.getElementsByTagName("a"));0!==c.length&&c.forEach(u=>{const d=this.sanitizeLink(u.href);u.replaceWith(d.el)})}return(t=i).\u0275fac=function(c){return new(c||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),qm=(()=>{var t,e=new WeakMap,r=new WeakSet,n=new WeakSet;class i{constructor(){Jr(this,n),Jr(this,r),An(this,e,{writable:!0,value:{}})}save(u="",d=""){mt(this,e)[window.location.href]={yScroll:window.scrollY},kr(this,r,o).call(this,u,d,mt(this,e)[window.location.href])}restore(){setTimeout(()=>{const u=mt(this,e)[window.location.href];u?(kr(this,n,l).call(this,u),window.scrollTo(0,u.yScroll||0),delete mt(this,e)[window.location.href]):window.scrollTo(0,0)},50)}}function o(c,u,d){if(d.tag_name=c,d.element_id=u,d.element_heights=[],String.isNullOrWhitespace(u)||String.isNullOrWhitespace(c))return;const w=document.querySelectorAll(c);for(let U=0;U<w.length;U++){const he=w[U];if(d.element_heights.push({id:he.id,height:he.getBoundingClientRect().height}),he.id===u)break}}function l(c){if(String.isNullOrWhitespace(c.element_id)||String.isNullOrWhitespace(c.tag_name)||0===c.element_heights?.length)return c.element_id="",c.tag_name="",void(c.element_heights=[]);const u=document.querySelectorAll(c.tag_name);for(let d=0;d<u.length;d++){const w=u[d],U=c.element_heights.find(he=>he.id===w.id);if(null!=U&&(w.style.height=`${U.height}px`,w.id===c.element_id))break}c.element_id="",c.tag_name="",c.element_heights=[]}return(t=i).\u0275fac=function(u){return new(u||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function y4(t,e){if(1&t&&(un(0,"a",4),Br(1),fn()),2&t){const r=Vn(2);Yt("href",r.href,cc),en(1),ko(r.text)}}function b4(t,e){if(1&t){const r=co();un(0,"a",5),mr("click",function(){return ht(r),bt(Vn(2).on_internal_click())}),Br(1),fn()}if(2&t){const r=Vn(2);Yt("routerLink",r.text),en(1),ko(r.text)}}function E4(t,e){if(1&t&&(un(0,"p",1),Pn(1,y4,2,2,"a",2),Pn(2,b4,2,2,"a",3),fn()),2&t){const r=Vn();en(1),Yt("ngIf",r.is_external),en(1),Yt("ngIf",!r.is_external&&r.show_internal)}}let w4=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakSet;class l{set data(d){wn(this,i,d),kr(this,o,c).call(this)}constructor(){Jr(this,o),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),wn(this,e,""),wn(this,r,$t(cx)),wn(this,n,$t(qm)),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,wn(this,e,document.baseURI),mt(this,e).endsWith("/")&&wn(this,e,mt(this,e).slice(0,-1))}on_internal_click(){mt(this,n).save("post",mt(this,i).id)}}function c(){const u=mt(this,r).sanitizeLink(mt(this,i).url);if(this.href=u.href,this.is_external=u.external,this.is_external)return void(this.text=this.href);this.text=u.text;const d=this.text.indexOf("/r/")+3,w=this.text.indexOf("/",d),U=this.text.slice(d,w);this.show_internal=U.toLowerCase()!==mt(this,i).subreddit.toLowerCase()}return(t=l).\u0275fac=function(d){return new(d||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(d,w){1&d&&Pn(0,E4,3,2,"p",0),2&d&&Yt("ngIf",w.is_external||w.show_internal)},dependencies:[uo,za],changeDetection:0}),l})();const T4=["textPost"],S4=function(t){return{masked:t}};let Rb,xb=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,w=new WeakSet;class U{set data(Pe){null!=Pe&&(wn(this,u,Pe),kr(this,w,he).call(this))}set post(Pe){Pe&&Pe.nativeElement&&wn(this,d,Pe.nativeElement)}constructor(Pe,Ue,Et,Dt,wt){Jr(this,w),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),An(this,l,{writable:!0,value:void 0}),An(this,c,{writable:!0,value:void 0}),An(this,u,{writable:!0,value:void 0}),An(this,d,{writable:!0,value:void 0}),wn(this,e,!0),this._truncated=!0,wn(this,c,""),wn(this,u,""),wn(this,r,Pe),wn(this,n,Ue),wn(this,i,Et),wn(this,o,Dt),wn(this,l,wt),wn(this,c,document.baseURI),mt(this,c).endsWith("/")&&wn(this,c,mt(this,c).slice(0,-1))}onClick(Pe){const Ue=Pe.target;if(Ue&&"A"===Ue.tagName){const Et=Ue.href;Et.startsWith(mt(this,c))&&(Pe.preventDefault(),Pe.stopImmediatePropagation(),Pe.stopPropagation(),mt(this,i).navigateByUrl(Et.replace(mt(this,c),"")))}else if(mt(this,e)){if(this._truncated)return this._truncated=!1,void mt(this,l).save();this._truncated=!0,mt(this,l).restore()}}}function he(){this._text=mt(this,n).bypassSecurityTrustHtml(mt(this,o).sanitizeHTML(mt(this,u))),setTimeout(()=>{this._truncated=mt(this,d).scrollHeight>mt(this,d).clientHeight,wn(this,e,this._truncated),mt(this,r).detectChanges()},0)}return(t=U).\u0275fac=function(Pe){return new(Pe||t)(vt(Uo),vt(Xs),vt(Ho),vt(cx),vt(qm))},t.\u0275cmp=gr({type:t,selectors:[["text-block"]],viewQuery:function(Pe,Ue){if(1&Pe&&Fo(T4,5),2&Pe){let Et;ci(Et=ui())&&(Ue.post=Et.first)}},inputs:{data:"data"},standalone:!0,features:[ii],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(Pe,Ue){1&Pe&&(un(0,"p",0,1),mr("click",function(Dt){return Ue.onClick(Dt)}),fn()),2&Pe&&Yt("ngClass",ga(2,S4,Ue._truncated))("innerHTML",Ue._text,J_)},dependencies:[Wu],changeDetection:0}),U})(),C4=(()=>{var t;class e{constructor(){this.data=null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:1,vars:1,consts:[[3,"data"]],template:function(n,i){1&n&&Qn(0,"text-block",0),2&n&&Yt("data",null==i.data?null:i.data.selftext_html)},dependencies:[xb],changeDetection:0}),e})();try{Rb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Rb=!1}let id,no=(()=>{var t;class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function zV(t){return t===PI}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Rb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(dc))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ux=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dx(){if(id)return id;if("object"!=typeof document||!document)return id=new Set(ux),id;let t=document.createElement("input");return id=new Set(ux.filter(e=>(t.setAttribute("type",e),t.type===e))),id}let eh,Tc,Mb;function wc(t){return function A4(){if(null==eh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>eh=!0}))}finally{eh=eh||!1}return eh}()?t:!!t.capture}function I4(){if(null==Tc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tc=!1,Tc;if("scrollBehavior"in document.documentElement.style)Tc=!0;else{const t=Element.prototype.scrollTo;Tc=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Tc}function wl(t){return t.composedPath?t.composedPath()[0]:t.target}function Nb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function kb(t,...e){return e.length?e.some(r=>t[r]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class q4 extends F{constructor(e,r){super()}schedule(e,r=0){return this}}const $m={setInterval(t,e,...r){const{delegate:n}=$m;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){const{delegate:e}=$m;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Lb extends q4{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(e,r,n=0){return $m.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&$m.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let i,n=!1;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Ze(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}}const Fb={now:()=>(Fb.delegate||Date).now(),delegate:void 0};class th{constructor(e,r=th.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}}th.now=Fb.now;class Bb extends th{constructor(e,r=th.now){super(e,r),this.actions=[],this._active=!1}flush(e){const{actions:r}=this;if(this._active)return void r.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}}const Wm=new Bb(Lb),Y4=Wm;function Ub(t,e=Wm){return xt((r,n)=>{let i=null,o=null,l=null;const c=()=>{if(i){i.unsubscribe(),i=null;const d=o;o=null,n.next(d)}};function u(){const d=l+t,w=e.now();if(w<d)return i=this.schedule(void 0,d-w),void n.add(i);c()}r.subscribe($e(n,d=>{o=d,l=e.now(),i||(i=e.schedule(u,t),n.add(i))},()=>{c(),n.complete()},void 0,()=>{o=i=null}))})}function mx(t){return fo((e,r)=>t<=r)}function ho(t){return null!=t&&"false"!=`${t}`}function Sc(t,e=0){return function $4(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Km(t){return Array.isArray(t)?t:[t]}function zi(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Tl(t){return t instanceof Or?t.nativeElement:t}let W4=(()=>{var t;class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),gx=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({providers:[W4]}),e})();const _x=new Set;let Cc,K4=(()=>{var t;class e{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Q4}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function X4(t,e){if(!_x.has(t))try{Cc||(Cc=document.createElement("style"),e&&(Cc.nonce=e),Cc.setAttribute("type","text/css"),document.head.appendChild(Cc)),Cc.sheet&&(Cc.sheet.insertRule(`@media ${t} {body{ }}`,0),_x.add(t))}catch(r){console.error(r)}}(n,this._nonce),this._matchMedia(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(no),Wt(lv,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Q4(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let J4=(()=>{var t;class e{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new ut}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return vx(Km(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let l=ib(vx(Km(n)).map(c=>this._registerQuery(c).observable));return l=kf(l.pipe(jo(1)),l.pipe(mx(1),Ub(0))),l.pipe(me(c=>{const u={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:w})=>{u.matches=u.matches||d,u.breakpoints[w]=d}),u}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const i=this._mediaMatcher.matchMedia(n),l={observable:new Ke(c=>{const u=d=>this._zone.run(()=>c.next(d));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Lf(i),me(({matches:c})=>({query:n,matches:c})),Zi(this._destroySubject)),mql:i};return this._queries.set(n,l),l}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(K4),Wt(ar))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function vx(t){return t.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}function Xm(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const bx="cdk-describedby-message",Qm="cdk-describedby-host";let Vb=0,nZ=(()=>{var t;class e{constructor(n,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Vb++,this._document=n,this._id=$t(Dp)+"-"+Vb++}describe(n,i,o){if(!this._canBeDescribed(n,i))return;const l=jb(i,o);"string"!=typeof i?(Ex(i,this._id),this._messageRegistry.set(l,{messageElement:i,referenceCount:0})):this._messageRegistry.has(l)||this._createMessageElement(i,o),this._isElementDescribedByMessage(n,l)||this._addMessageReference(n,l)}removeDescription(n,i,o){if(!i||!this._isElementNode(n))return;const l=jb(i,o);if(this._isElementDescribedByMessage(n,l)&&this._removeMessageReference(n,l),"string"==typeof i){const c=this._messageRegistry.get(l);c&&0===c.referenceCount&&this._deleteMessageElement(l)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const n=this._document.querySelectorAll(`[${Qm}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(Qm);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){const o=this._document.createElement("div");Ex(o,this._id),o.textContent=n,i&&o.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(jb(n,i),{messageElement:o,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;const n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let l=0;l<i.length;l++)i[l].remove();const o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(n),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(n){const i=Xm(n,"aria-describedby").filter(o=>0!=o.indexOf(bx));n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){const o=this._messageRegistry.get(i);(function eZ(t,e,r){const n=Xm(t,e);n.some(i=>i.trim()==r.trim())||(n.push(r.trim()),t.setAttribute(e,n.join(" ")))})(n,"aria-describedby",o.messageElement.id),n.setAttribute(Qm,this._id),o.referenceCount++}_removeMessageReference(n,i){const o=this._messageRegistry.get(i);o.referenceCount--,function tZ(t,e,r){const i=Xm(t,e).filter(o=>o!=r.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(n,"aria-describedby",o.messageElement.id),n.removeAttribute(Qm)}_isElementDescribedByMessage(n,i){const o=Xm(n,"aria-describedby"),l=this._messageRegistry.get(i),c=l&&l.messageElement.id;return!!c&&-1!=o.indexOf(c)}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&"object"==typeof i)return!0;const o=null==i?"":`${i}`.trim(),l=n.getAttribute("aria-label");return!(!o||l&&l.trim()===o)}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr),Wt(no))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function jb(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function Ex(t,e){t.id||(t.id=`${bx}-${e}-${Vb++}`)}class rZ{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ut,this._typeaheadSubscription=F.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new ut,this.change=new ut,e instanceof zu&&(this._itemChangesSubscription=e.changes.subscribe(r=>{if(this._activeItem){const i=r.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(oi(r=>this._pressedLetters.push(r)),Ub(e),fo(()=>this._pressedLetters.length>0),me(()=>this._pressedLetters.join(""))).subscribe(r=>{const n=this._getItemsArray();for(let i=1;i<n.length+1;i++){const o=(this._activeItemIndex+i)%n.length,l=n[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(r)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,r=10){return this._pageUpAndDown={enabled:e,delta:r},this}setActiveItem(e){const r=this._activeItem;this.updateActiveItem(e),this._activeItem!==r&&this.change.next(this._activeItemIndex)}onKeydown(e){const r=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(r){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((i||kb(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const r=this._getItemsArray(),n="number"==typeof e?e:r.indexOf(e);this._activeItem=r[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const r=this._getItemsArray();for(let n=1;n<=r.length;n++){const i=(this._activeItemIndex+e*n+r.length)%r.length;if(!this._skipPredicateFn(r[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,r){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=r])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof zu?this._items.toArray():this._items}}class iZ extends rZ{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function Hb(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function Zb(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const uZ=new ln("cdk-input-modality-detector-options"),dZ={ignoreKeys:[18,17,224,91,16]},od=wc({passive:!0,capture:!0});let fZ=(()=>{var t;class e{get mostRecentModality(){return this._modality.value}constructor(n,i,o,l){this._platform=n,this._mostRecentTarget=null,this._modality=new Wi(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(u=>u===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=wl(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Hb(c)?"keyboard":"mouse"),this._mostRecentTarget=wl(c))},this._onTouchstart=c=>{Zb(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=wl(c))},this._options={...dZ,...l},this.modalityDetected=this._modality.pipe(mx(1)),this.modalityChanged=this.modalityDetected.pipe(di()),n.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,od),o.addEventListener("mousedown",this._onMousedown,od),o.addEventListener("touchstart",this._onTouchstart,od)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,od),document.removeEventListener("mousedown",this._onMousedown,od),document.removeEventListener("touchstart",this._onTouchstart,od))}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(no),Wt(ar),Wt(Rr),Wt(uZ,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const pZ=new ln("cdk-focus-monitor-default-options"),Jm=wc({passive:!0,capture:!0});let nh=(()=>{var t;class e{constructor(n,i,o,l,c){this._ngZone=n,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ut,this._rootNodeFocusAndBlurListener=u=>{for(let w=wl(u);w;w=w.parentElement)"focus"===u.type?this._onFocus(u,w):this._onBlur(u,w)},this._document=l,this._detectionMode=c?.detectionMode||0}monitor(n,i=!1){const o=Tl(n);if(!this._platform.isBrowser||1!==o.nodeType)return Jn();const l=function x4(t){if(function D4(){if(null==Mb){const t=typeof document<"u"?document.head:null;Mb=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Mb}()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return i&&(c.checkChildren=!0),c.subject;const u={checkChildren:i,subject:new ut,rootNode:l};return this._elementInfo.set(o,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(n){const i=Tl(n),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(n,i,o){const l=Tl(n);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([u,d])=>this._originChanged(u,i,d)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused","touch"===i),n.classList.toggle("cdk-keyboard-focused","keyboard"===i),n.classList.toggle("cdk-mouse-focused","mouse"===i),n.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,i){const o=this._elementInfo.get(i),l=wl(n);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(n,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const i=n.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jm)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zi(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(n){const i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,o){this._setClasses(n,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){const i=[];return this._elementInfo.forEach((o,l)=>{(l===n||o.checkChildren&&l.contains(n))&&i.push([l,o])}),i}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const l=n.labels;if(l)for(let c=0;c<l.length;c++)if(l[c].contains(i))return!0;return!1}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(ar),Wt(no),Wt(fZ),Wt(Rr,8),Wt(pZ,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Sx="cdk-high-contrast-black-on-white",Cx="cdk-high-contrast-white-on-black",zb="cdk-high-contrast-active";let Ax=(()=>{var t;class e{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=$t(J4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(n):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(zb,Sx,Cx),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?n.add(zb,Sx):2===i&&n.add(zb,Cx)}}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(no),Wt(Rr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),mZ=(()=>{var t;class e{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Ax))},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[gx]}),e})();const gZ=new ln("cdk-dir-doc",{providedIn:"root",factory:function _Z(){return $t(Rr)}}),vZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let eg=(()=>{var t;class e{constructor(n){this.value="ltr",this.change=new ri,n&&(this.value=function yZ(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?vZ.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(gZ,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),rh=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({}),e})();const EZ=new ln("mat-sanity-checks",{providedIn:"root",factory:function bZ(){return!0}});let ro=(()=>{var t;class e{constructor(n,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!Nb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Ax),Wt(EZ,8),Wt(Rr))},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[rh,rh]}),e})();function Rx(t){return class extends t{get disabled(){return this._disabled}set disabled(e){this._disabled=ho(e)}constructor(...e){super(...e),this._disabled=!1}}}function tg(t,e){return class extends t{get color(){return this._color}set color(r){const n=r||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...r){super(...r),this.defaultColor=e,this.color=e}}}function Gb(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ho(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function wZ(t,e=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(r){this._tabIndex=null!=r?Sc(r):this.defaultTabIndex}constructor(...r){super(...r),this._tabIndex=e,this.defaultTabIndex=e}}}function TZ(t){return class extends t{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let Mx=(()=>{var t;class e{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class CZ{constructor(e,r,n,i=!1){this._renderer=e,this.element=r,this.config=n,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Nx=wc({passive:!0,capture:!0});class AZ{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const r=wl(e);r&&this._events.get(e.type)?.forEach((n,i)=>{(i===r||i.contains(r))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,r,n,i){const o=this._events.get(r);if(o){const l=o.get(n);l?l.add(i):o.set(n,new Set([i]))}else this._events.set(r,new Map([[n,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,Nx)})}removeHandler(e,r,n){const i=this._events.get(e);if(!i)return;const o=i.get(r);o&&(o.delete(n),0===o.size&&i.delete(r),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Nx)))}}const Ox={enterDuration:225,exitDuration:150},Px=wc({passive:!0,capture:!0}),kx=["mousedown","touchstart"],Lx=["mouseup","mouseleave","touchend","touchcancel"];class oh{constructor(e,r,n,i){this._target=e,this._ngZone=r,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Tl(n))}fadeInRipple(e,r,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Ox,...n.animation};n.centered&&(e=i.left+i.width/2,r=i.top+i.height/2);const l=n.radius||function DZ(t,e,r){const n=Math.max(Math.abs(t-r.left),Math.abs(t-r.right)),i=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(n*n+i*i)}(e,r,i),c=e-i.left,u=r-i.top,d=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=c-l+"px",w.style.top=u-l+"px",w.style.height=2*l+"px",w.style.width=2*l+"px",null!=n.color&&(w.style.backgroundColor=n.color),w.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(w);const U=window.getComputedStyle(w),we=U.transitionDuration,Pe="none"===U.transitionProperty||"0s"===we||"0s, 0s"===we||0===i.width&&0===i.height,Ue=new CZ(this,w,n,Pe);w.style.transform="scale3d(1, 1, 1)",Ue.state=0,n.persistent||(this._mostRecentTransientRipple=Ue);let Et=null;return!Pe&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Dt=()=>this._finishRippleTransition(Ue),wt=()=>this._destroyRipple(Ue);w.addEventListener("transitionend",Dt),w.addEventListener("transitioncancel",wt),Et={onTransitionEnd:Dt,onTransitionCancel:wt}}),this._activeRipples.set(Ue,Et),(Pe||!d)&&this._finishRippleTransition(Ue),Ue}fadeOutRipple(e){if(2===e.state||3===e.state)return;const r=e.element,n={...Ox,...e.config.animation};r.style.transitionDuration=`${n.exitDuration}ms`,r.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const r=Tl(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,kx.forEach(n=>{oh._eventManager.addHandler(this._ngZone,n,r,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Lx.forEach(r=>{this._triggerElement.addEventListener(r,this,Px)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const r=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=1,!n&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==r&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){const r=Hb(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!r&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Zb(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const r=e.changedTouches;if(r)for(let n=0;n<r.length;n++)this.fadeInRipple(r[n].clientX,r[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(kx.forEach(r=>oh._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&Lx.forEach(r=>e.removeEventListener(r,this,Px)))}}oh._eventManager=new AZ;const Fx=new ln("mat-ripple-global-options");let qb=(()=>{var t;class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,i,o,l,c){this._elementRef=n,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new oh(this,i,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,o){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(ar),vt(no),vt(Fx,8),vt(xs,8))},t.\u0275dir=kn({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,i){2&n&&Si("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),sh=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[ro,ro]}),e})();const Bx={capture:!0},Ux=["focus","click","mouseenter","touchstart"],Yb="mat-ripple-loader-uninitialized",$b="mat-ripple-loader-class-name",Vx="mat-ripple-loader-centered",ng="mat-ripple-loader-disabled";let xZ=(()=>{var t;class e{constructor(){this._document=$t(Rr,{optional:!0}),this._animationMode=$t(xs,{optional:!0}),this._globalRippleOptions=$t(Fx,{optional:!0}),this._platform=$t(no),this._ngZone=$t(ar),this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const o=n.target.closest(`[${Yb}]`);o&&this.createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(const n of Ux)this._document?.addEventListener(n,this._onInteraction,Bx)})}ngOnDestroy(){for(const n of Ux)this._document?.removeEventListener(n,this._onInteraction,Bx)}configureRipple(n,i){n.setAttribute(Yb,""),(i.className||!n.hasAttribute($b))&&n.setAttribute($b,i.className||""),i.centered&&n.setAttribute(Vx,""),i.disabled&&n.setAttribute(ng,"")}getRipple(n){return n.matRipple?n.matRipple:this.createRipple(n)}setDisabled(n,i){const o=n.matRipple;o?o.disabled=i:i?n.setAttribute(ng,""):n.removeAttribute(ng)}createRipple(n){if(!this._document)return;n.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute($b)),n.append(i);const o=new qb(new Or(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=n,o.centered=n.hasAttribute(Vx),o.disabled=n.hasAttribute(ng),this.attachRipple(n,o),o}attachRipple(n,i){n.removeAttribute(Yb),n.matRipple=i}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function jx(...t){const e=Oi(t),{args:r,keys:n}=rD(t),i=new Ke(o=>{const{length:l}=r;if(!l)return void o.complete();const c=new Array(l);let u=l,d=l;for(let w=0;w<l;w++){let U=!1;cn(r[w]).subscribe($e(o,he=>{U||(U=!0,d--),c[w]=he},()=>u--,void 0,()=>{(!u||!U)&&(d||o.next(n?iD(n,c):c),o.complete())}))}});return e?i.pipe(rb(e)):i}class Wb{}class qa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const i=r.slice(0,n),o=i.toLowerCase(),l=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof qa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){const r=new qa;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof qa?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){const r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,r);const i=("a"===e.op?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":const o=e.value;if(o){let l=this.headers.get(r);if(!l)return;l=l.filter(c=>-1===o.indexOf(c)),0===l.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,l)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(e,r){const n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}}class RZ{encodeKey(e){return Hx(e)}encodeValue(e){return Hx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const NZ=/%(\d[a-f0-9])/gi,OZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hx(t){return encodeURIComponent(t).replace(NZ,(e,r)=>OZ[r]??e)}function rg(t){return`${t}`}class Sl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function MZ(t,e){const r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,c]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=r.get(l)||[];u.push(c),r.set(l,u)}),r}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{const n=e.fromObject[r],i=Array.isArray(n)?n.map(rg):[rg(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){const r=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const r=new Sl({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const r=("a"===e.op?this.map.get(e.param):void 0)||[];r.push(rg(e.value)),this.map.set(e.param,r);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const i=n.indexOf(rg(e.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class PZ{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Zx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function zx(t){return typeof Blob<"u"&&t instanceof Blob}function Gx(t){return typeof FormData<"u"&&t instanceof FormData}class ah{constructor(e,r,n,i){let o;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function kZ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new qa),this.context||(this.context=new PZ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=r;else{const c=r.indexOf("?");this.urlWithParams=r+(-1===c?"?":c<r.length-1?"&":"")+l}}else this.params=new Sl,this.urlWithParams=r}serializeBody(){return null===this.body?null:Zx(this.body)||zx(this.body)||Gx(this.body)||function LZ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Gx(this.body)?null:zx(this.body)?this.body.type||null:Zx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,d=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((U,he)=>U.set(he,e.setHeaders[he]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((U,he)=>U.set(he,e.setParams[he]),d)),new ah(r,n,o,{params:d,headers:u,context:w,reportProgress:c,responseType:i,withCredentials:l})}}var Xb=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Xb||{});class FZ{constructor(e,r=200,n="OK"){this.headers=e.headers||new qa,this.status=void 0!==e.status?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lh extends FZ{constructor(e={}){super(e),this.type=Xb.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new lh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Qb(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Jb=(()=>{var t;class e{constructor(n){this.handler=n}request(n,i,o={}){let l;if(n instanceof ah)l=n;else{let d,w;d=o.headers instanceof qa?o.headers:new qa(o.headers),o.params&&(w=o.params instanceof Sl?o.params:new Sl({fromObject:o.params})),l=new ah(n,i,void 0!==o.body?o.body:null,{headers:d,context:o.context,params:w,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const c=Jn(l).pipe(Ff(d=>this.handler.handle(d)));if(n instanceof ah||"events"===o.observe)return c;const u=c.pipe(fo(d=>d instanceof lh));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return u.pipe(me(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe(me(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe(me(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return u.pipe(me(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new Sl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,Qb(o,i))}post(n,i,o={}){return this.request("POST",n,Qb(o,i))}put(n,i,o={}){return this.request("PUT",n,Qb(o,i))}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Wb))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();const r5=["*"];let sg;function ch(t){return function o5(){if(void 0===sg&&(sg=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(sg=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return sg}()?.createHTML(t)||t}function tR(t){return Error(`Unable to find icon with the name "${t}"`)}function nR(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function rR(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Ic{constructor(e,r,n){this.url=e,this.svgText=r,this.options=n}}let uh=(()=>{var t;class e{constructor(n,i,o,l){this._httpClient=n,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(n,i,o){return this.addSvgIconInNamespace("",n,i,o)}addSvgIconLiteral(n,i,o){return this.addSvgIconLiteralInNamespace("",n,i,o)}addSvgIconInNamespace(n,i,o,l){return this._addSvgIconConfig(n,i,new Ic(o,null,l))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,o,l){const c=this._sanitizer.sanitize(Vi.HTML,o);if(!c)throw rR(o);const u=ch(c);return this._addSvgIconConfig(n,i,new Ic("",u,l))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,o){return this._addSvgIconSetConfig(n,new Ic(i,null,o))}addSvgIconSetLiteralInNamespace(n,i,o){const l=this._sanitizer.sanitize(Vi.HTML,i);if(!l)throw rR(i);const c=ch(l);return this._addSvgIconSetConfig(n,new Ic("",c,o))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const i=this._sanitizer.sanitize(Vi.RESOURCE_URL,n);if(!i)throw nR(n);const o=this._cachedIconsByUrl.get(i);return o?Jn(ag(o)):this._loadSvgIconFromConfig(new Ic(n,null)).pipe(oi(l=>this._cachedIconsByUrl.set(i,l)),me(l=>ag(l)))}getNamedSvgIcon(n,i=""){const o=iR(i,n);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,n),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(n,c):Ku(tR(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Jn(ag(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(me(i=>ag(i)))}_getSvgFromIconSetConfigs(n,i){const o=this._extractIconWithNameFromAnySet(n,i);return o?Jn(o):jx(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(bl(u=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(Vi.RESOURCE_URL,c.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(w)),Jn(null)})))).pipe(me(()=>{const c=this._extractIconWithNameFromAnySet(n,i);if(!c)throw tR(n);return c}))}_extractIconWithNameFromAnySet(n,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(n)>-1){const c=this._svgElementFromConfig(l),u=this._extractSvgIconFromSet(c,n,l.options);if(u)return u}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(oi(i=>n.svgText=i),me(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Jn(null):this._fetchIcon(n).pipe(oi(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,o){const l=n.querySelector(`[id="${i}"]`);if(!l)return null;const c=l.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,o);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),o);const u=this._svgElementFromString(ch("<svg></svg>"));return u.appendChild(c),this._setSvgAttributes(u,o)}_svgElementFromString(n){const i=this._document.createElement("DIV");i.innerHTML=n;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){const i=this._svgElementFromString(ch("<svg></svg>")),o=n.attributes;for(let l=0;l<o.length;l++){const{name:c,value:u}=o[l];"id"!==c&&i.setAttribute(c,u)}for(let l=0;l<n.childNodes.length;l++)n.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){const{url:i,options:o}=n,l=o?.withCredentials??!1;if(!this._httpClient)throw function s5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(Vi.RESOURCE_URL,i);if(!c)throw nR(i);const u=this._inProgressUrlFetches.get(c);if(u)return u;const d=this._httpClient.get(c,{responseType:"text",withCredentials:l}).pipe(me(w=>ch(w)),Rm(()=>this._inProgressUrlFetches.delete(c)),Xt());return this._inProgressUrlFetches.set(c,d),d}_addSvgIconConfig(n,i,o){return this._svgIconConfigs.set(iR(n,i),o),this}_addSvgIconSetConfig(n,i){const o=this._iconSetConfigs.get(n);return o?o.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){const i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,n);if(l)return l5(l)?new Ic(l.url,null,l.options):new Ic(l,null)}}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Jb,8),Wt(Xs),Wt(Rr,8),Wt(ua))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ag(t){return t.cloneNode(!0)}function iR(t,e){return t+":"+e}function l5(t){return!(!t.url||!t.options)}const c5=tg(class{constructor(t){this._elementRef=t}}),u5=new ln("MAT_ICON_DEFAULT_OPTIONS"),d5=new ln("mat-icon-location",{providedIn:"root",factory:function f5(){const t=$t(Rr),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),oR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],h5=oR.map(t=>`[${t}]`).join(", "),p5=/^url\(['"]?#(.*?)['"]?\)$/;let Al=(()=>{var t;class e extends c5{get inline(){return this._inline}set inline(n){this._inline=ho(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(n,i,o,l,c,u){super(n),this._iconRegistry=i,this._location=l,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=F.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),o||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=n.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),i.forEach(o=>n.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(c=>{l.setAttribute(c.name,`url('${n}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(n){const i=n.querySelectorAll(h5),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)oR.forEach(c=>{const u=i[l],d=u.getAttribute(c),w=d?d.match(p5):null;if(w){let U=o.get(u);U||(U=[],o.set(u,U)),U.push({name:c,value:w[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[i,o]=this._splitIconName(n);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(jo(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(uh),sc("aria-hidden"),vt(d5),vt(ua),vt(u5,8))},t.\u0275cmp=gr({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,i){2&n&&(li("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Si("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[yr],ngContentSelectors:r5,decls:1,vars:0,template:function(n,i){1&n&&(ha(),Ri(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),gs=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[ro,ro]}),e})(),m5=(()=>{var t;class e{transform(n){const i=new Date(0);i.setUTCSeconds(n||0);const o=i.toISOString().substring(11,19);return i.getUTCHours()>0?o:i.getUTCMinutes()>0?o.substring(3):o.substring(4)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275pipe=Ki({name:"time",type:t,pure:!0,standalone:!0}),e})();var g5=Ni(584);const _5=["video"];function v5(t,e){if(1&t){const r=co();un(0,"mat-icon",12),mr("click",function(){return ht(r),Vn(),bt(ji(4).play())}),fn()}}function y5(t,e){if(1&t){const r=co();un(0,"mat-icon",13),mr("click",function(){return ht(r),Vn(),bt(ji(4).pause())}),fn()}}function b5(t,e){if(1&t){const r=co();un(0,"mat-icon",16),mr("click",function(){ht(r),Vn(2);const i=ji(4);return bt(i.muted=!i.muted)}),fn()}}function E5(t,e){if(1&t){const r=co();un(0,"mat-icon",17),mr("click",function(){ht(r),Vn(2);const i=ji(4);return bt(i.muted=!i.muted)}),fn()}}function w5(t,e){if(1&t&&(Ua(0),Pn(1,b5,1,0,"mat-icon",14),Pn(2,E5,1,0,"mat-icon",15),Va()),2&t){Vn();const r=ji(4);en(1),Yt("ngIf",r.muted),en(1),Yt("ngIf",!r.muted)}}const T5=function(t){return{"--p":t}};let S5=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakSet,d=new WeakSet;class w{constructor(){Jr(this,d),Jr(this,u),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),An(this,l,{writable:!0,value:void 0}),An(this,c,{writable:!0,value:void 0}),wn(this,e,new IntersectionObserver((Ue,Et)=>kr(this,u,U).call(this,Ue,Et),{root:null,rootMargin:"32px",threshold:0})),wn(this,n,!1),wn(this,i,0),wn(this,o,!1),wn(this,l,""),this.has_audio=!0,this.cd=$t(Uo)}set value(Ue){Ue&&Ue.nativeElement&&wn(this,c,Ue.nativeElement)}ngOnInit(){var Ue=this;return pi(function*(){const Et=Ue.data.videos.find(Dt=>"application/dash+xml"===Dt.type);wn(Ue,l,Et?.url||Ue.data.videos[Ue.data.videos.length-1].url),null!=Et?(wn(Ue,o,!0),yield kr(Ue,d,he).call(Ue,mt(Ue,l)),wn(Ue,r,(0,g5.MediaPlayer)().create()),mt(Ue,r).initialize(mt(Ue,c),"",!1),mt(Ue,r).setMute(!0),mt(Ue,r).updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:mt(Ue,i)-1}}}}),mt(Ue,e).observe(mt(Ue,c))):mt(Ue,e).observe(mt(Ue,c))})()}ngOnDestroy(){mt(this,r)?.destroy()}onLoadeddata(){mt(this,o)||(this.has_audio="mozHasAudio"in mt(this,c)&&mt(this,c).mozHasAudio||"webkitAudioDecodedByteCount"in mt(this,c)&&mt(this,c).webkitAudioDecodedByteCount>0||"audioTracks"in mt(this,c)&&mt(this,c).audioTracks.length>0,mt(this,c).muted=!0)}skip(Ue,Et,Dt){const wt=Et.getBoundingClientRect();Dt.currentTime=(Ue.pageX-wt.left)/Et.offsetWidth*Dt.duration}}function U(Pe,Ue){Pe[0].isIntersecting?mt(this,n)||(mt(this,o)?mt(this,r).attachSource(mt(this,l)):mt(this,c).src=mt(this,l),wn(this,n,!0)):mt(this,n)&&(mt(this,c).paused||mt(this,c).ended||mt(this,c).pause())}function he(Pe){return we.apply(this,arguments)}function we(){return(we=pi(function*(Pe){try{const Ue=yield fetch(Pe);if(!Ue.ok)return;const Et=yield Ue.text();if(String.isNullOrWhitespace(Et))return;const Dt=(new DOMParser).parseFromString(Et,"application/xml");if(null==Dt)return;const wt=Dt.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=wt;const hn=Dt.querySelector('AdaptationSet[contentType="video"]');if(null==hn)return;const vn=hn.querySelectorAll("Representation");if(null==vn||0===vn.length)return;const Yn=Array.from(vn).map(dr=>Number(dr.getAttribute("bandwidth"))).filter(dr=>!isNaN(dr));if(null==Yn||0===Yn.length)return;wn(this,i,Math.max(...Yn))}catch{return}})).apply(this,arguments)}return(t=w).\u0275fac=function(Ue){return new(Ue||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-video"]],viewQuery:function(Ue,Et){if(1&Ue&&Fo(_5,7),2&Ue){let Dt;ci(Dt=ui())&&(Et.value=Dt.first)}},inputs:{data:"data"},standalone:!0,features:[ii],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(Ue,Et){if(1&Ue){const Dt=co();un(0,"div",0),Qn(1,"mat-icon",1)(2,"mat-icon",2),fn(),un(3,"video",3,4),mr("loadeddata",function(){return Et.onLoadeddata()})("click",function(){ht(Dt);const hn=ji(4);return bt(hn.paused||hn.ended?hn.play():hn.pause())})("timeupdate",function(){return Et.cd.detectChanges()}),fn(),un(5,"div",5),Pn(6,v5,1,0,"mat-icon",6),Pn(7,y5,1,0,"mat-icon",7),un(8,"div",8,9),mr("click",function(hn){ht(Dt);const vn=ji(9),Yn=ji(4);return bt(Et.skip(hn,vn,Yn))}),un(10,"div",10),Br(11),hl(12,"time"),hl(13,"time"),fn()(),Pn(14,w5,3,2,"ng-container",11),fn()}if(2&Ue){const Dt=ji(4);en(6),Yt("ngIf",Dt.paused||Dt.ended),en(1),Yt("ngIf",!Dt.paused&&!Dt.ended),en(1),Yt("ngStyle",ga(10,T5,100*((null==Dt?null:Dt.currentTime)||0)/Dt.duration+"%")),en(3),Kp("",pl(12,6,Dt.currentTime)," / ",pl(13,8,Dt.duration)," "),en(3),Yt("ngIf",Et.has_audio)}},dependencies:[gs,Al,uo,Sm,m5],changeDetection:0}),w})();function C5(t,e){1&t&&Qn(0,"post-body-embed",1),2&t&&Yt("data",Vn()._data)}function A5(t,e){1&t&&Qn(0,"post-body-image",1),2&t&&Yt("data",Vn()._data)}function I5(t,e){1&t&&Qn(0,"post-body-text",1),2&t&&Yt("data",Vn()._data)}function D5(t,e){1&t&&Qn(0,"post-body-video",1),2&t&&Yt("data",Vn()._data)}function x5(t,e){1&t&&Qn(0,"post-body-link",1),2&t&&Yt("data",Vn()._data)}let R5=(()=>{var t;class e{set data(n){this._data=n.is_crosspost?n.crosspost:n}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(n,i){1&n&&(Pn(0,C5,1,1,"post-body-embed",0),Pn(1,A5,1,1,"post-body-image",0),Pn(2,I5,1,1,"post-body-text",0),Pn(3,D5,1,1,"post-body-video",0),Pn(4,x5,1,1,"post-body-link",0)),2&n&&(Yt("ngIf",null==i._data?null:i._data.has_embed),en(1),Yt("ngIf",null==i._data?null:i._data.has_image),en(1),Yt("ngIf",null==i._data?null:i._data.has_text),en(1),Yt("ngIf",null==i._data?null:i._data.has_video),en(1),Yt("ngIf",null==i._data?null:i._data.has_link))},dependencies:[uo,h4,v4,w4,C4,S5],changeDetection:0}),e})();class Il{}class sR extends Il{}var Os=function(t){return t.Listing="Listing",t.Comment="t1",t.Account="t2",t.Link="t3",t.Message="t4",t.Subreddit="t5",t.Award="t6",t.More="more",t}(Os||{});const M5=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function tE(t,e){let r={};return function N5(t,e){if(e.is_crosspost=String.hasData(t.crosspost_parent)&&Array.isArray(t.crosspost_parent_list)&&t.crosspost_parent_list.length>0,t.media?.reddit_video)e.has_video=!0;else if(t.preview?.reddit_video_preview)e.has_video=!0;else if(t.preview&&Array.isArray(t.preview.images)&&t.preview.images[0].variants&&"mp4"in t.preview.images[0].variants)e.has_video=!0;else if(t.media_embed?.content)e.has_embed=!0;else{if(String.hasData(t.selftext_html)&&(e.has_text=!0),t.thumbnail&&"default"===t.thumbnail&&(e.has_link=!0),t.post_hint&&"link"===t.post_hint&&"imgur.com"!==t.domain&&(e.has_link=!0),!t.preview||!Array.isArray(t.preview.images))return t.gallery_data?(e.has_image=!0,void(e.has_image_gallery=!0)):void(M5.some(r=>t.url.endsWith(r))?e.has_image=!0:!e.has_image&&!e.has_text&&(e.has_link=!0));e.has_image=!0}}(t,r),function O5(t,e){e.author=t.author,e.created_utc=t.created_utc,e.downs=t.downs,e.id=t.id,e.num_comments=t.num_comments,e.stickied=t.stickied,e.subreddit=t.subreddit,e.title=t.title,e.ups=t.ups,e.url=t.url}(t,r),function P5(t,e,r){e.is_crosspost&&(e.crosspost=tE(t.crosspost_parent_list[0],r))}(t,r,e),function k5(t,e){e.has_embed&&(e.embed=t.media_embed.content)}(t,r),function L5(t,e){e.has_image&&(e.images=null!=t.gallery_data?function F5(t){return t.gallery_data.items.map(e=>{const r=t.media_metadata[e.media_id];return"valid"!==r.status?{src:"",srcset:"",href:t.url}:{src:r.o?r.o[0].u:r.s.u,srcset:r.p.map(n=>`${n.u} ${n.x}w`).join(","),href:t.url}})}(t):null!=t.preview?function B5(t){const e=t.preview.images[0];return[{src:e.source.url,srcset:e.resolutions.map(r=>`${r.url} ${r.width}w`).join(","),href:t.url}]}(t):function U5(t){return[{src:t.url,srcset:t.url,href:t.url}]}(t))}(t,r),function z5(t,e){e.has_link&&(e.url=t.url)}(t,r),function G5(t,e){e.has_text&&(e.selftext_html=t.selftext_html)}(t,r),function V5(t,e,r){e.has_video&&(e.videos=t.media&&t.media.reddit_video?function j5(t){return[{url:t.media.reddit_video.dash_url,type:"application/dash+xml"},{url:t.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:t.media.reddit_video.fallback_url,type:"video/mp4"}]}(t):t.preview&&t.preview.reddit_video_preview?function H5(t){return[{url:t.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:t.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:t.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}(t):function Z5(t){return[{url:t.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(t),!r&&(e.videos=e.videos.filter(n=>"video/mp4"==n.type)))}(t,r,e),r}let aR=(()=>{var t;class e{transform(n){if(null==n)return"-";const i=new Date(Date.now()-1e3*n);return i.getUTCFullYear()>1970?i.getUTCFullYear()-1970+"y":i.getUTCMonth()>0?`${i.getUTCMonth()}mo`:i.getUTCDate()>1?i.getUTCDate()-1+"d":i.getUTCHours()>0?`${i.getUTCHours()}h`:`${i.getUTCMinutes()}m`}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275pipe=Ki({name:"age",type:t,pure:!0,standalone:!0}),e})(),q5=(()=>{var t;class e{transform(n){if(isNaN(+`${n}`)||0===n)return"0";const i=Math.log10(n);return i<3?`${n}`:i<6?`${Math.floor(n/1e3)}K`:i<9?`${Math.floor(n/1e6)}M`:"lots"}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275pipe=Ki({name:"count",type:t,pure:!0,standalone:!0}),e})();class lR{constructor(e,r){this.storage=e,this.keyPrefix=r,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(e,r,n){const i=this.createItemKey(e),o=new Y5;o.value=r,null!=n&&!isNaN(Number(n))&&(o.expiresOn=Number(n)),this.storage.setItem(i,JSON.stringify(o))}get(e){const r=this.createItemKey(e),n=this.storage.getItem(r);return null===n?null:JSON.parse(n).value}remove(e){this.storage.removeItem(this.createItemKey(e))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const e=[],r=Date.now(),n=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,n)!==this.keyPrefix)continue;const l=this.storage.getItem(o);if(!l)continue;const c=JSON.parse(l);c.expiresOn&&r>c.expiresOn&&e.push(o)}e.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(e){return`${this.keyPrefix}.${e}`}}class Y5{}class nE{constructor(){this.keyPrefix=""}}let $5=(()=>{var t;class e extends lR{constructor(n){if(!n||!n.keyPrefix||0===n.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,n.keyPrefix)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(nE))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),W5=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakSet;class d{constructor(){Jr(this,u),An(this,e,{writable:!0,value:"profile"}),An(this,r,{writable:!0,value:$t($5)}),An(this,n,{writable:!0,value:{}}),An(this,i,{writable:!0,value:JSON.stringify(mt(this,n))}),An(this,o,{writable:!0,value:new ut}),An(this,l,{writable:!0,value:mt(this,o).pipe(Ub(300)).subscribe(()=>kr(this,u,w).call(this))}),An(this,c,{writable:!0,value:!1})}get(he){return mt(this,n)[he]}set(he,we){mt(this,n)[he]=we,mt(this,o).next("")}load(){var he=this;return pi(function*(){if(mt(he,c))return;const we=mt(he,r).get(mt(he,e));null!=we&&(wn(he,n,we),wn(he,i,JSON.stringify(mt(he,n))),wn(he,c,!0))})()}ngOnDestroy(){mt(this,l).unsubscribe()}}function w(){const U=JSON.stringify(mt(this,n));U!==mt(this,i)&&(wn(this,i,U),mt(this,r).set(mt(this,e),mt(this,n)))}return(t=d).\u0275fac=function(he){return new(he||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),d})(),cR=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap;class i{constructor(){An(this,e,{writable:!0,value:"subreddits"}),An(this,r,{writable:!0,value:[]}),An(this,n,{writable:!0,value:$t(W5)})}add(l){String.isNullOrWhitespace(l)||mt(this,r).includes(l)||(mt(this,r).push(l),mt(this,r).sort(),mt(this,n).set(mt(this,e),mt(this,r)))}get(){return[...mt(this,r)]}remove(l){String.isNullOrWhitespace(l)||(wn(this,r,mt(this,r).filter(c=>c!==l)),mt(this,n).set(mt(this,e),mt(this,r)))}loadAsync(){var l=this;return pi(function*(){yield mt(l,n).load(),wn(l,r,["algotrading","android","angular","angular2","angularjs","artificial","askreddit","askscience","bestof","ChatGPT","ChatGPTCoding","ChatGPTPromptGenius","coding","computing","csharp","deeplearning","desmoines","dotnet","funny","futurology","GooglePixel","interestingasfuck","javascript","mademesmile","microsoft","nextfuckinglevel","personalfinance","picard","pixel_phones","programming","science","space","starshipporn","startrek","technology","typescript","web_design","worldnews"])})()}}return(t=i).\u0275fac=function(l){return new(l||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),Ps=(()=>{var t,e=new WeakMap;class r{constructor(){An(this,e,{writable:!0,value:new ut})}raise(i){if(null==i)throw new Error("domainEvent missing");let o="function"==typeof i?new i:"object"==typeof i?i:null;if(!(o&&o instanceof Il))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");mt(this,e).next(o)}handle(i){return mt(this,e).pipe(fo(o=>o instanceof i),me(o=>o))}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class Dc extends Il{}var rE=new WeakMap;class xc extends Il{get kill(){return mt(this,rE)}constructor(e=!1){super(),An(this,rE,{writable:!0,value:void 0}),wn(this,rE,e)}}function sd(t){t||(Pp(),t=$t(sf));const e=new Ke(r=>t.onDestroy(r.next.bind(r)));return r=>r.pipe(Zi(e))}globalThis;const s8=["determinateSpinner"];function a8(t,e){if(1&t&&(Xn(),un(0,"svg",11),Qn(1,"circle",12),fn()),2&t){const r=Vn();li("viewBox",r._viewBox()),en(1),ju("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeCircumference()/2,"px")("stroke-width",r._circleStrokeWidth(),"%"),li("r",r._circleRadius())}}const l8=tg(class{constructor(t){this._elementRef=t}},"primary"),c8=new ln("mat-progress-spinner-default-options",{providedIn:"root",factory:function u8(){return{diameter:mR}}}),mR=100;let f8=(()=>{var t;class e extends l8{constructor(n,i,o){super(n),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=mR,this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,Sc(n)))}get diameter(){return this._diameter}set diameter(n){this._diameter=Sc(n)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=Sc(n)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const n=2*this._circleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(xs,8),vt(c8))},t.\u0275cmp=gr({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,i){if(1&n&&Fo(s8,5),2&n){let o;ci(o=ui())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(n,i){2&n&&(li("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),ju("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),Si("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[yr],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,i){if(1&n&&(Pn(0,a8,2,8,"ng-template",null,0,dy),un(2,"div",1,2),Xn(),un(4,"svg",3),Qn(5,"circle",4),fn()(),function Ui(){!function Zr(){G.lFrame.currentNamespace=null}()}(),un(6,"div",5)(7,"div",6)(8,"div",7),gf(9,8),fn(),un(10,"div",9),gf(11,8),fn(),un(12,"div",10),gf(13,8),fn()()()),2&n){const o=ji(1);en(4),li("viewBox",i._viewBox()),en(1),ju("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),li("r",i._circleRadius()),en(4),Yt("ngTemplateOutlet",o),en(2),Yt("ngTemplateOutlet",o),en(2),Yt("ngTemplateOutlet",o)}},dependencies:[Zy],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),e})(),h8=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[Nf,ro]}),e})();function p8(t,e){1&t&&(un(0,"div",1),Qn(1,"mat-spinner",2),fn())}let m8=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakSet,i=new WeakSet;class o{constructor(d){Jr(this,i),Jr(this,n),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),wn(this,e,0),wn(this,r,250),this.show=Cs(!1),d.handle(Dc).pipe(sd()).subscribe(w=>kr(this,n,l).call(this)),d.handle(xc).pipe(sd()).subscribe(w=>kr(this,i,c).call(this,w))}}function l(){var u;wn(this,e,(u=mt(this,e),++u)),window.setTimeout(()=>{0!==mt(this,e)&&this.show.set(!0)},mt(this,r))}function c(u){var d;u.kill?wn(this,e,0):mt(this,e)>0&&wn(this,e,(d=mt(this,e),--d)),0===mt(this,e)&&this.show.set(!1)}return(t=o).\u0275fac=function(d){return new(d||t)(vt(Ps))},t.\u0275cmp=gr({type:t,selectors:[["throbber"]],standalone:!0,features:[ii],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(d,w){1&d&&Pn(0,p8,2,0,"div",0),2&d&&Yt("ngIf",w.show())},dependencies:[h8,f8,uo],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"],changeDetection:0}),o})(),g8=(()=>{var t,e=new WeakMap,r=new WeakMap;class n{constructor(){An(this,e,{writable:!0,value:$t(Ps)}),An(this,r,{writable:!0,value:$t(cR)})}ngOnInit(){var o=this;return pi(function*(){const l=[mt(o,r).loadAsync()];mt(o,e).raise(Dc);try{yield Promise.allSettled(l)}finally{mt(o,e).raise(xc)}})()}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=gr({type:t,selectors:[["app-root"]],standalone:!0,features:[ii],decls:2,vars:0,template:function(o,l){1&o&&Qn(0,"throbber")(1,"router-outlet")},dependencies:[bb,m8],encapsulation:2}),n})();class gR{}class _8{}const Ya="*";function dh(t,e){return{type:7,name:t,definitions:e,options:{}}}function Dl(t,e=null){return{type:4,styles:e,timings:t}}function _R(t,e=null){return{type:2,steps:t,options:e}}function ts(t){return{type:6,styles:t,offset:null}}function Rc(t,e,r){return{type:0,name:t,styles:e,options:r}}function xl(t,e,r=null){return{type:1,expr:t,animation:e,options:r}}class fh{constructor(e=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const r="start"==e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}class vR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let r=0,n=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++r==o&&this._onFinish()}),l.onDestroy(()=>{++n==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const r=e*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,r/n.totalTime):1;n.setPosition(i)})}getPosition(){const e=this.players.reduce((r,n)=>null===r||n.totalTime>r.totalTime?n:r,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const r="start"==e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}function yR(t){return new zt(3e3,!1)}function Rl(t){switch(t.length){case 0:return new fh;case 1:return t[0];default:return new vR(t)}}function bR(t,e,r=new Map,n=new Map){const i=[],o=[];let l=-1,c=null;if(e.forEach(u=>{const d=u.get("offset"),w=d==l,U=w&&c||new Map;u.forEach((he,we)=>{let Pe=we,Ue=he;if("offset"!==we)switch(Pe=t.normalizePropertyName(Pe,i),Ue){case"!":Ue=r.get(we);break;case Ya:Ue=n.get(we);break;default:Ue=t.normalizeStyleValue(we,Pe,Ue,i)}U.set(Pe,Ue)}),w||o.push(U),c=U,l=d}),i.length)throw function V8(t){return new zt(3502,!1)}();return o}function cE(t,e,r,n){switch(e){case"start":t.onStart(()=>n(r&&uE(r,"start",t)));break;case"done":t.onDone(()=>n(r&&uE(r,"done",t)));break;case"destroy":t.onDestroy(()=>n(r&&uE(r,"destroy",t)))}}function uE(t,e,r){const o=dE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r.totalTime??t.totalTime,!!r.disabled),l=t._data;return null!=l&&(o._data=l),o}function dE(t,e,r,n,i="",o=0,l){return{element:t,triggerName:e,fromState:r,toState:n,phaseName:i,totalTime:o,disabled:!!l}}function _s(t,e,r){let n=t.get(e);return n||t.set(e,n=r),n}function ER(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Q8=(()=>typeof document>"u"?null:document.documentElement)();function fE(t){const e=t.parentNode||t.host||null;return e===Q8?null:e}let Mc=null,wR=!1;function TR(t,e){for(;e;){if(e===t)return!0;e=fE(e)}return!1}function SR(t,e,r){if(r)return Array.from(t.querySelectorAll(e));const n=t.querySelector(e);return n?[n]:[]}let CR=(()=>{var t;class e{validateStyleProperty(n){return function ez(t){Mc||(Mc=function tz(){return typeof document<"u"?document.body:null}()||{},wR=!!Mc.style&&"WebkitAppearance"in Mc.style);let e=!0;return Mc.style&&!function J8(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Mc.style,!e&&wR&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Mc.style)),e}(n)}matchesElement(n,i){return!1}containsElement(n,i){return TR(n,i)}getParentElement(n){return fE(n)}query(n,i,o){return SR(n,i,o)}computeStyle(n,i,o){return o||""}animate(n,i,o,l,c,u=[],d){return new fh(o,l)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})(),hE=(()=>{class e{}return e.NOOP=new CR,e})();const nz=1e3,pE="ng-enter",dg="ng-leave",fg="ng-trigger",hg=".ng-trigger",IR="ng-animating",mE=".ng-animating";function $a(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gE(parseFloat(e[1]),e[2])}function gE(t,e){return"s"===e?t*nz:t}function pg(t,e,r){return t.hasOwnProperty("duration")?t:function iz(t,e,r){let i,o=0,l="";if("string"==typeof t){const c=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(yR()),{duration:0,delay:0,easing:""};i=gE(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(o=gE(parseFloat(u),c[4]));const d=c[5];d&&(l=d)}else i=t;if(!r){let c=!1,u=e.length;i<0&&(e.push(function v8(){return new zt(3100,!1)}()),c=!0),o<0&&(e.push(function y8(){return new zt(3101,!1)}()),c=!0),c&&e.splice(u,0,yR())}return{duration:i,delay:o,easing:l}}(t,e,r)}function hh(t,e={}){return Object.keys(t).forEach(r=>{e[r]=t[r]}),e}function DR(t){const e=new Map;return Object.keys(t).forEach(r=>{e.set(r,t[r])}),e}function Ml(t,e=new Map,r){if(r)for(let[n,i]of r)e.set(n,i);for(let[n,i]of t)e.set(n,i);return e}function Ta(t,e,r){e.forEach((n,i)=>{const o=vE(i);r&&!r.has(i)&&r.set(i,t.style[o]),t.style[o]=n})}function Nc(t,e){e.forEach((r,n)=>{const i=vE(n);t.style[i]=""})}function ph(t){return Array.isArray(t)?1==t.length?t[0]:_R(t):t}const _E=new RegExp("{{\\s*(.+?)\\s*}}","g");function RR(t){let e=[];if("string"==typeof t){let r;for(;r=_E.exec(t);)e.push(r[1]);_E.lastIndex=0}return e}function mh(t,e,r){const n=t.toString(),i=n.replace(_E,(o,l)=>{let c=e[l];return null==c&&(r.push(function E8(t){return new zt(3003,!1)}()),c=""),c.toString()});return i==n?t:i}function mg(t){const e=[];let r=t.next();for(;!r.done;)e.push(r.value),r=t.next();return e}const az=/-+([a-z0-9])/g;function vE(t){return t.replace(az,(...e)=>e[1].toUpperCase())}function vs(t,e,r){switch(e.type){case 7:return t.visitTrigger(e,r);case 0:return t.visitState(e,r);case 1:return t.visitTransition(e,r);case 2:return t.visitSequence(e,r);case 3:return t.visitGroup(e,r);case 4:return t.visitAnimate(e,r);case 5:return t.visitKeyframes(e,r);case 6:return t.visitStyle(e,r);case 8:return t.visitReference(e,r);case 9:return t.visitAnimateChild(e,r);case 10:return t.visitAnimateRef(e,r);case 11:return t.visitQuery(e,r);case 12:return t.visitStagger(e,r);default:throw function w8(t){return new zt(3004,!1)}()}}function MR(t,e){return window.getComputedStyle(t)[e]}const gg="*";function uz(t,e){const r=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(n=>function dz(t,e,r){if(":"==t[0]){const u=function fz(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,n)=>parseFloat(n)>parseFloat(r);case":decrement":return(r,n)=>parseFloat(n)<parseFloat(r);default:return e.push(function L8(t){return new zt(3016,!1)}()),"* => *"}}(t,r);if("function"==typeof u)return void e.push(u);t=u}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return r.push(function k8(t){return new zt(3015,!1)}()),e;const i=n[1],o=n[2],l=n[3];e.push(NR(i,l));"<"==o[0]&&!(i==gg&&l==gg)&&e.push(NR(l,i))}(n,r,e)):r.push(t),r}const _g=new Set(["true","1"]),vg=new Set(["false","0"]);function NR(t,e){const r=_g.has(t)||vg.has(t),n=_g.has(e)||vg.has(e);return(i,o)=>{let l=t==gg||t==i,c=e==gg||e==o;return!l&&r&&"boolean"==typeof i&&(l=i?_g.has(t):vg.has(t)),!c&&n&&"boolean"==typeof o&&(c=o?_g.has(e):vg.has(e)),l&&c}}const hz=new RegExp("s*:selfs*,?","g");function yE(t,e,r,n){return new pz(t).build(e,r,n)}class pz{constructor(e){this._driver=e}build(e,r,n){const i=new _z(r);return this._resetContextStyleTimingState(i),vs(this,ph(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,r){let n=r.queryCount=0,i=r.depCount=0;const o=[],l=[];return"@"==e.name.charAt(0)&&r.errors.push(function S8(){return new zt(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(r),0==c.type){const u=c,d=u.name;d.toString().split(/\s*,\s*/).forEach(w=>{u.name=w,o.push(this.visitState(u,r))}),u.name=d}else if(1==c.type){const u=this.visitTransition(c,r);n+=u.queryCount,i+=u.depCount,l.push(u)}else r.errors.push(function C8(){return new zt(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:l,queryCount:n,depCount:i,options:null}}visitState(e,r){const n=this.visitStyle(e.styles,r),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,l=i||{};n.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{RR(u).forEach(d=>{l.hasOwnProperty(d)||o.add(d)})})}),o.size&&(mg(o.values()),r.errors.push(function A8(t,e){return new zt(3008,!1)}()))}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,r){r.queryCount=0,r.depCount=0;const n=vs(this,ph(e.animation),r);return{type:1,matchers:uz(e.expr,r.errors),animation:n,queryCount:r.queryCount,depCount:r.depCount,options:Oc(e.options)}}visitSequence(e,r){return{type:2,steps:e.steps.map(n=>vs(this,n,r)),options:Oc(e.options)}}visitGroup(e,r){const n=r.currentTime;let i=0;const o=e.steps.map(l=>{r.currentTime=n;const c=vs(this,l,r);return i=Math.max(i,r.currentTime),c});return r.currentTime=i,{type:3,steps:o,options:Oc(e.options)}}visitAnimate(e,r){const n=function yz(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return bE(pg(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=bE(0,0,"");return o.dynamic=!0,o.strValue=r,o}const i=pg(r,e);return bE(i.duration,i.delay,i.easing)}(e.timings,r.errors);r.currentAnimateTimings=n;let i,o=e.styles?e.styles:ts({});if(5==o.type)i=this.visitKeyframes(o,r);else{let l=e.styles,c=!1;if(!l){c=!0;const d={};n.easing&&(d.easing=n.easing),l=ts(d)}r.currentTime+=n.duration+n.delay;const u=this.visitStyle(l,r);u.isEmptyStep=c,i=u}return r.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,r){const n=this._makeStyleAst(e,r);return this._validateStyleAst(n,r),n}_makeStyleAst(e,r){const n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of i)"string"==typeof c?c===Ya?n.push(c):r.errors.push(new zt(3002,!1)):n.push(DR(c));let o=!1,l=null;return n.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!o))for(let u of c.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,r){const n=r.currentAnimateTimings;let i=r.currentTime,o=r.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,u)=>{const d=r.collectedStyles.get(r.currentQuerySelector),w=d.get(u);let U=!0;w&&(o!=i&&o>=w.startTime&&i<=w.endTime&&(r.errors.push(function D8(t,e,r,n,i){return new zt(3010,!1)}()),U=!1),o=w.startTime),U&&d.set(u,{startTime:o,endTime:i}),r.options&&function sz(t,e,r){const n=e.params||{},i=RR(t);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||r.push(function b8(t){return new zt(3001,!1)}())})}(c,r.options,r.errors)})})}visitKeyframes(e,r){const n={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function x8(){return new zt(3011,!1)}()),n;let o=0;const l=[];let c=!1,u=!1,d=0;const w=e.steps.map(Dt=>{const wt=this._makeStyleAst(Dt,r);let hn=null!=wt.offset?wt.offset:function vz(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(r=>{if(r instanceof Map&&r.has("offset")){const n=r;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}return e}(wt.styles),vn=0;return null!=hn&&(o++,vn=wt.offset=hn),u=u||vn<0||vn>1,c=c||vn<d,d=vn,l.push(vn),wt});u&&r.errors.push(function R8(){return new zt(3012,!1)}()),c&&r.errors.push(function M8(){return new zt(3200,!1)}());const U=e.steps.length;let he=0;o>0&&o<U?r.errors.push(function N8(){return new zt(3202,!1)}()):0==o&&(he=1/(U-1));const we=U-1,Pe=r.currentTime,Ue=r.currentAnimateTimings,Et=Ue.duration;return w.forEach((Dt,wt)=>{const hn=he>0?wt==we?1:he*wt:l[wt],vn=hn*Et;r.currentTime=Pe+Ue.delay+vn,Ue.duration=vn,this._validateStyleAst(Dt,r),Dt.offset=hn,n.styles.push(Dt)}),n}visitReference(e,r){return{type:8,animation:vs(this,ph(e.animation),r),options:Oc(e.options)}}visitAnimateChild(e,r){return r.depCount++,{type:9,options:Oc(e.options)}}visitAnimateRef(e,r){return{type:10,animation:this.visitReference(e.animation,r),options:Oc(e.options)}}visitQuery(e,r){const n=r.currentQuerySelector,i=e.options||{};r.queryCount++,r.currentQuery=e;const[o,l]=function mz(t){const e=!!t.split(/\s*,\s*/).find(r=>":self"==r);return e&&(t=t.replace(hz,"")),t=t.replace(/@\*/g,hg).replace(/@\w+/g,r=>hg+"-"+r.slice(1)).replace(/:animating/g,mE),[t,e]}(e.selector);r.currentQuerySelector=n.length?n+" "+o:o,_s(r.collectedStyles,r.currentQuerySelector,new Map);const c=vs(this,ph(e.animation),r);return r.currentQuery=null,r.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:c,originalSelector:e.selector,options:Oc(e.options)}}visitStagger(e,r){r.currentQuery||r.errors.push(function O8(){return new zt(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:pg(e.timings,r.errors,!0);return{type:12,animation:vs(this,ph(e.animation),r),timings:n,options:null}}}class _z{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Oc(t){return t?(t=hh(t)).params&&(t.params=function gz(t){return t?hh(t):null}(t.params)):t={},t}function bE(t,e,r){return{duration:t,delay:e,easing:r}}function EE(t,e,r,n,i,o,l=null,c=!1){return{type:1,element:t,keyframes:e,preStyleProps:r,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:c}}class yg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,r){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...r)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const wz=new RegExp(":enter","g"),Sz=new RegExp(":leave","g");function wE(t,e,r,n,i,o=new Map,l=new Map,c,u,d=[]){return(new Cz).buildKeyframes(t,e,r,n,i,o,l,c,u,d)}class Cz{buildKeyframes(e,r,n,i,o,l,c,u,d,w=[]){d=d||new yg;const U=new TE(e,r,d,i,o,w,[]);U.options=u;const he=u.delay?$a(u.delay):0;U.currentTimeline.delayNextStep(he),U.currentTimeline.setStyles([l],null,U.errors,u),vs(this,n,U);const we=U.timelines.filter(Pe=>Pe.containsAnimation());if(we.length&&c.size){let Pe;for(let Ue=we.length-1;Ue>=0;Ue--){const Et=we[Ue];if(Et.element===r){Pe=Et;break}}Pe&&!Pe.allowOnlyTimelineStyles()&&Pe.setStyles([c],null,U.errors,u)}return we.length?we.map(Pe=>Pe.buildKeyframes()):[EE(r,[],[],[],0,he,"",!1)]}visitTrigger(e,r){}visitState(e,r){}visitTransition(e,r){}visitAnimateChild(e,r){const n=r.subInstructions.get(r.element);if(n){const i=r.createSubContext(e.options),o=r.currentTimeline.currentTime,l=this._visitSubInstructions(n,i,i.options);o!=l&&r.transformIntoNewTimeline(l)}r.previousNode=e}visitAnimateRef(e,r){const n=r.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],r,n),this.visitReference(e.animation,n),r.transformIntoNewTimeline(n.currentTimeline.currentTime),r.previousNode=e}_applyAnimationRefDelays(e,r,n){for(const i of e){const o=i?.delay;if(o){const l="number"==typeof o?o:$a(mh(o,i?.params??{},r.errors));n.delayNextStep(l)}}}_visitSubInstructions(e,r,n){let o=r.currentTimeline.currentTime;const l=null!=n.duration?$a(n.duration):null,c=null!=n.delay?$a(n.delay):null;return 0!==l&&e.forEach(u=>{const d=r.appendInstructionToTimeline(u,l,c);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,r){r.updateOptions(e.options,!0),vs(this,e.animation,r),r.previousNode=e}visitSequence(e,r){const n=r.subContextCount;let i=r;const o=e.options;if(o&&(o.params||o.delay)&&(i=r.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bg);const l=$a(o.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>vs(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),r.previousNode=e}visitGroup(e,r){const n=[];let i=r.currentTimeline.currentTime;const o=e.options&&e.options.delay?$a(e.options.delay):0;e.steps.forEach(l=>{const c=r.createSubContext(e.options);o&&c.delayNextStep(o),vs(this,l,c),i=Math.max(i,c.currentTimeline.currentTime),n.push(c.currentTimeline)}),n.forEach(l=>r.currentTimeline.mergeTimelineCollectedStyles(l)),r.transformIntoNewTimeline(i),r.previousNode=e}_visitTiming(e,r){if(e.dynamic){const n=e.strValue;return pg(r.params?mh(n,r.params,r.errors):n,r.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,r){const n=r.currentAnimateTimings=this._visitTiming(e.timings,r),i=r.currentTimeline;n.delay&&(r.incrementTime(n.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,r):(r.incrementTime(n.duration),this.visitStyle(o,r),i.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=e}visitStyle(e,r){const n=r.currentTimeline,i=r.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,r.errors,r.options),r.previousNode=e}visitKeyframes(e,r){const n=r.currentAnimateTimings,i=r.currentTimeline.duration,o=n.duration,c=r.createSubContext().currentTimeline;c.easing=n.easing,e.styles.forEach(u=>{c.forwardTime((u.offset||0)*o),c.setStyles(u.styles,u.easing,r.errors,r.options),c.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(c),r.transformIntoNewTimeline(i+o),r.previousNode=e}visitQuery(e,r){const n=r.currentTimeline.currentTime,i=e.options||{},o=i.delay?$a(i.delay):0;o&&(6===r.previousNode.type||0==n&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bg);let l=n;const c=r.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,r.errors);r.currentQueryTotal=c.length;let u=null;c.forEach((d,w)=>{r.currentQueryIndex=w;const U=r.createSubContext(e.options,d);o&&U.delayNextStep(o),d===r.element&&(u=U.currentTimeline),vs(this,e.animation,U),U.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,U.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(l),u&&(r.currentTimeline.mergeTimelineCollectedStyles(u),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=e}visitStagger(e,r){const n=r.parentContext,i=r.currentTimeline,o=e.timings,l=Math.abs(o.duration),c=l*(r.currentQueryTotal-1);let u=l*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=n.currentStaggerTime}const w=r.currentTimeline;u&&w.delayNextStep(u);const U=w.currentTime;vs(this,e.animation,r),r.previousNode=e,n.currentStaggerTime=i.currentTime-U+(i.startTime-n.currentTimeline.startTime)}}const bg={};class TE{constructor(e,r,n,i,o,l,c,u){this._driver=e,this.element=r,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Eg(this._driver,r,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,r){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=$a(n.duration)),null!=n.delay&&(i.delay=$a(n.delay));const o=n.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(c=>{(!r||!l.hasOwnProperty(c))&&(l[c]=mh(o[c],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const r=this.options.params;if(r){const n=e.params={};Object.keys(r).forEach(i=>{n[i]=r[i]})}}return e}createSubContext(e=null,r,n){const i=r||this.element,o=new TE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=bg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,r,n){const i={duration:r??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new Az(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,r,n,i,o,l){let c=[];if(i&&c.push(this.element),e.length>0){e=(e=e.replace(wz,"."+this._enterClassName)).replace(Sz,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=n);0!==n&&(d=n<0?d.slice(d.length+n,d.length):d.slice(0,n)),c.push(...d)}return!o&&0==c.length&&l.push(function P8(t){return new zt(3014,!1)}()),c}}class Eg{constructor(e,r,n,i){this._driver=e,this.element=r,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+e),r&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,r){return this.applyStylesToKeyframe(),new Eg(this._driver,e,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,r){this._localTimelineStyles.set(e,r),this._globalTimelineStyles.set(e,r),this._styleSummary.set(e,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[r,n]of this._globalTimelineStyles)this._backFill.set(r,n||Ya),this._currentKeyframe.set(r,Ya);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,r,n,i){r&&this._previousKeyframe.set("easing",r);const o=i&&i.params||{},l=function Iz(t,e){const r=new Map;let n;return t.forEach(i=>{if("*"===i){n=n||e.keys();for(let o of n)r.set(o,Ya)}else Ml(i,r)}),r}(e,this._globalTimelineStyles);for(let[c,u]of l){const d=mh(u,o,n);this._pendingStyles.set(c,d),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Ya),this._updateStyle(c,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,r)=>{this._currentKeyframe.set(r,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,e)}))}snapshotCurrentStyles(){for(let[e,r]of this._localTimelineStyles)this._pendingStyles.set(e,r),this._updateStyle(e,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let r in this._currentKeyframe)e.push(r);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((r,n)=>{const i=this._styleSummary.get(n);(!i||r.time>i.time)&&this._updateStyle(n,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,r=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,u)=>{const d=Ml(c,new Map,this._backFill);d.forEach((w,U)=>{"!"===w?e.add(U):w===Ya&&r.add(U)}),n||d.set("offset",u/this.duration),i.push(d)});const o=e.size?mg(e.values()):[],l=r.size?mg(r.values()):[];if(n){const c=i[0],u=new Map(c);c.set("offset",0),u.set("offset",1),i=[c,u]}return EE(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class Az extends Eg{constructor(e,r,n,i,o,l,c=!1){super(e,r,l.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:r,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&r){const o=[],l=n+r,c=r/l,u=Ml(e[0]);u.set("offset",0),o.push(u);const d=Ml(e[0]);d.set("offset",kR(c)),o.push(d);const w=e.length-1;for(let U=1;U<=w;U++){let he=Ml(e[U]);const we=he.get("offset");he.set("offset",kR((r+we*n)/l)),o.push(he)}n=l,r=0,i="",e=o}return EE(this.element,e,this.preStyleProps,this.postStyleProps,n,r,i,!0)}}function kR(t,e=3){const r=Math.pow(10,e-1);return Math.round(t*r)/r}class SE{}const Dz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xz extends SE{normalizePropertyName(e,r){return vE(e)}normalizeStyleValue(e,r,n,i){let o="";const l=n.toString().trim();if(Dz.has(r)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const c=n.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function T8(t,e){return new zt(3005,!1)}())}return l+o}}function LR(t,e,r,n,i,o,l,c,u,d,w,U,he){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:r,fromStyles:o,toState:n,toStyles:l,timelines:c,queriedElements:u,preStyleProps:d,postStyleProps:w,totalTime:U,errors:he}}const CE={};class FR{constructor(e,r,n){this._triggerName=e,this.ast=r,this._stateStyles=n}match(e,r,n,i){return function Rz(t,e,r,n,i){return t.some(o=>o(e,r,n,i))}(this.ast.matchers,e,r,n,i)}buildStyles(e,r,n){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(r,n):new Map}build(e,r,n,i,o,l,c,u,d,w){const U=[],he=this.ast.options&&this.ast.options.params||CE,Pe=this.buildStyles(n,c&&c.params||CE,U),Ue=u&&u.params||CE,Et=this.buildStyles(i,Ue,U),Dt=new Set,wt=new Map,hn=new Map,vn="void"===i,Yn={params:Mz(Ue,he),delay:this.ast.options?.delay},dr=w?[]:wE(e,r,this.ast.animation,o,l,Pe,Et,Yn,d,U);let Wr=0;if(dr.forEach(ns=>{Wr=Math.max(ns.duration+ns.delay,Wr)}),U.length)return LR(r,this._triggerName,n,i,vn,Pe,Et,[],[],wt,hn,Wr,U);dr.forEach(ns=>{const na=ns.element,Kg=_s(wt,na,new Set);ns.preStyleProps.forEach(Fc=>Kg.add(Fc));const Ih=_s(hn,na,new Set);ns.postStyleProps.forEach(Fc=>Ih.add(Fc)),na!==r&&Dt.add(na)});const _o=mg(Dt.values());return LR(r,this._triggerName,n,i,vn,Pe,Et,dr,_o,wt,hn,Wr)}}function Mz(t,e){const r=hh(e);for(const n in t)t.hasOwnProperty(n)&&null!=t[n]&&(r[n]=t[n]);return r}class Nz{constructor(e,r,n){this.styles=e,this.defaultParams=r,this.normalizer=n}buildStyles(e,r){const n=new Map,i=hh(this.defaultParams);return Object.keys(e).forEach(o=>{const l=e[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,c)=>{l&&(l=mh(l,i,r));const u=this.normalizer.normalizePropertyName(c,r);l=this.normalizer.normalizeStyleValue(c,u,l,r),n.set(c,l)})}),n}}class Pz{constructor(e,r,n){this.name=e,this.ast=r,this._normalizer=n,this.transitionFactories=[],this.states=new Map,r.states.forEach(i=>{this.states.set(i.name,new Nz(i.style,i.options&&i.options.params||{},n))}),BR(this.states,"true","1"),BR(this.states,"false","0"),r.transitions.forEach(i=>{this.transitionFactories.push(new FR(e,i,this.states))}),this.fallbackTransition=function kz(t,e,r){return new FR(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,r,n,i){return this.transitionFactories.find(l=>l.match(e,r,n,i))||null}matchStyles(e,r,n){return this.fallbackTransition.buildStyles(e,r,n)}}function BR(t,e,r){t.has(e)?t.has(r)||t.set(r,t.get(e)):t.has(r)&&t.set(e,t.get(r))}const Lz=new yg;class Fz{constructor(e,r,n){this.bodyNode=e,this._driver=r,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,r){const n=[],o=yE(this._driver,r,n,[]);if(n.length)throw function j8(t){return new zt(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,r,n){const i=e.element,o=bR(this._normalizer,e.keyframes,r,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,r,n={}){const i=[],o=this._animations.get(e);let l;const c=new Map;if(o?(l=wE(this._driver,r,o,pE,dg,new Map,new Map,n,Lz,i),l.forEach(w=>{const U=_s(c,w.element,new Map);w.postStyleProps.forEach(he=>U.set(he,null))})):(i.push(function H8(){return new zt(3300,!1)}()),l=[]),i.length)throw function Z8(t){return new zt(3504,!1)}();c.forEach((w,U)=>{w.forEach((he,we)=>{w.set(we,this._driver.computeStyle(U,we,Ya))})});const d=Rl(l.map(w=>{const U=c.get(w.element);return this._buildPlayer(w,new Map,U)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const r=this._getPlayer(e);r.destroy(),this._playersById.delete(e);const n=this.players.indexOf(r);n>=0&&this.players.splice(n,1)}_getPlayer(e){const r=this._playersById.get(e);if(!r)throw function z8(t){return new zt(3301,!1)}();return r}listen(e,r,n,i){const o=dE(r,"","","");return cE(this._getPlayer(e),n,o,i),()=>{}}command(e,r,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,r,i[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const UR="ng-animate-queued",AE="ng-animate-disabled",Hz=[],VR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Js="__ng_removed";class IE{get params(){return this.options.params}constructor(e,r=""){this.namespaceId=r;const n=e&&e.hasOwnProperty("value");if(this.value=function Yz(t){return t??null}(n?e.value:e),n){const o=hh(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const r=e.params;if(r){const n=this.options.params;Object.keys(r).forEach(i=>{null==n[i]&&(n[i]=r[i])})}}}const gh="void",DE=new IE(gh);class zz{constructor(e,r,n){this.id=e,this.hostElement=r,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ks(r,this._hostClassName)}listen(e,r,n,i){if(!this._triggers.has(r))throw function G8(t,e){return new zt(3302,!1)}();if(null==n||0==n.length)throw function q8(t){return new zt(3303,!1)}();if(!function $z(t){return"start"==t||"done"==t}(n))throw function Y8(t,e){return new zt(3400,!1)}();const o=_s(this._elementListeners,e,[]),l={name:r,phase:n,callback:i};o.push(l);const c=_s(this._engine.statesByElement,e,new Map);return c.has(r)||(ks(e,fg),ks(e,fg+"-"+r),c.set(r,DE)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(l);u>=0&&o.splice(u,1),this._triggers.has(r)||c.delete(r)})}}register(e,r){return!this._triggers.has(e)&&(this._triggers.set(e,r),!0)}_getTrigger(e){const r=this._triggers.get(e);if(!r)throw function $8(t){return new zt(3401,!1)}();return r}trigger(e,r,n,i=!0){const o=this._getTrigger(r),l=new xE(this.id,r,e);let c=this._engine.statesByElement.get(e);c||(ks(e,fg),ks(e,fg+"-"+r),this._engine.statesByElement.set(e,c=new Map));let u=c.get(r);const d=new IE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),c.set(r,d),u||(u=DE),d.value!==gh&&u.value===d.value){if(!function Xz(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,d.params)){const Ue=[],Et=o.matchStyles(u.value,u.params,Ue),Dt=o.matchStyles(d.value,d.params,Ue);Ue.length?this._engine.reportError(Ue):this._engine.afterFlush(()=>{Nc(e,Et),Ta(e,Dt)})}return}const he=_s(this._engine.playersByElement,e,[]);he.forEach(Ue=>{Ue.namespaceId==this.id&&Ue.triggerName==r&&Ue.queued&&Ue.destroy()});let we=o.matchTransition(u.value,d.value,e,d.params),Pe=!1;if(!we){if(!i)return;we=o.fallbackTransition,Pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:we,fromState:u,toState:d,player:l,isFallbackTransition:Pe}),Pe||(ks(e,UR),l.onStart(()=>{ld(e,UR)})),l.onDone(()=>{let Ue=this.players.indexOf(l);Ue>=0&&this.players.splice(Ue,1);const Et=this._engine.playersByElement.get(e);if(Et){let Dt=Et.indexOf(l);Dt>=0&&Et.splice(Dt,1)}}),this.players.push(l),he.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(r=>r.delete(e)),this._elementListeners.forEach((r,n)=>{this._elementListeners.set(n,r.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const r=this._engine.playersByElement.get(e);r&&(r.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,r){const n=this._engine.driver.query(e,hg,!0);n.forEach(i=>{if(i[Js])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,r,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,r,n,i){const o=this._engine.statesByElement.get(e),l=new Map;if(o){const c=[];if(o.forEach((u,d)=>{if(l.set(d,u.value),this._triggers.has(d)){const w=this.trigger(e,d,gh,i);w&&c.push(w)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,r,l),n&&Rl(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const r=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(r&&n){const i=new Set;r.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const u=this._triggers.get(l).fallbackTransition,d=n.get(l)||DE,w=new IE(gh),U=new xE(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:u,fromState:d,toState:w,player:U,isFallbackTransition:!0})})}}removeNode(e,r){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,r),this.triggerLeaveAnimation(e,r,!0))return;let i=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(n.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,r);else{const o=e[Js];(!o||o===VR)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,r))}}insertNode(e,r){ks(e,this._hostClassName)}drainQueuedTransitions(e){const r=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,l=this._elementListeners.get(o);l&&l.forEach(c=>{if(c.name==n.triggerName){const u=dE(o,n.triggerName,n.fromState.value,n.toState.value);u._data=e,cE(n.player,c.phase,u,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):r.push(n)}),this._queue=[],r.sort((n,i)=>{const o=n.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Gz{_onRemovalComplete(e,r){this.onRemovalComplete(e,r)}constructor(e,r,n){this.bodyNode=e,this.driver=r,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(r=>{r.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,r){const n=new zz(e,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(n,r):(this.newHostElements.set(r,n),this.collectEnterElement(r)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,r){const n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let l=!1,c=this.driver.getParentElement(r);for(;c;){const u=i.get(c);if(u){const d=n.indexOf(u);n.splice(d+1,0,e),l=!0;break}c=this.driver.getParentElement(c)}l||n.unshift(e)}else n.push(e);return i.set(r,e),e}register(e,r){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,r)),n}registerTrigger(e,r,n){let i=this._namespaceLookup[e];i&&i.register(r,n)&&this.totalAnimations++}destroy(e,r){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(r),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const r=new Set,n=this.statesByElement.get(e);if(n)for(let i of n.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&r.add(o)}return r}trigger(e,r,n,i){if(wg(r)){const o=this._fetchNamespace(e);if(o)return o.trigger(r,n,i),!0}return!1}insertNode(e,r,n,i){if(!wg(r))return;const o=r[Js];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(r);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(r,n)}i&&this.collectEnterElement(r)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,r){r?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ks(e,AE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ld(e,AE))}removeNode(e,r,n){if(wg(r)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(r,n):this.markElementAsRemoved(e,r,!1,n);const o=this.namespacesByHostElement.get(r);o&&o.id!==e&&o.removeNode(r,n)}else this._onRemovalComplete(r,n)}markElementAsRemoved(e,r,n,i,o){this.collectedLeaveElements.push(r),r[Js]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,r,n,i,o){return wg(r)?this._fetchNamespace(e).listen(r,n,i,o):()=>{}}_buildInstruction(e,r,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,r,o)}destroyInnerAnimations(e){let r=this.driver.query(e,hg,!0);r.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(e,mE,!0),r.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const r=this.playersByElement.get(e);r&&r.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const r=this.playersByQueriedElement.get(e);r&&r.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const r=e[Js];if(r&&r.setForRemoval){if(e[Js]=VR,r.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(r.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}e.classList?.contains(AE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ks(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{r=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],r.length?Rl(r).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw function W8(t){return new zt(3402,!1)}()}_flushAnimations(e,r){const n=new yg,i=[],o=new Map,l=[],c=new Map,u=new Map,d=new Map,w=new Set;this.disabledNodes.forEach($n=>{w.add($n);const rr=this.driver.query($n,".ng-animate-queued",!0);for(let cr=0;cr<rr.length;cr++)w.add(rr[cr])});const U=this.bodyNode,he=Array.from(this.statesByElement.keys()),we=ZR(he,this.collectedEnterElements),Pe=new Map;let Ue=0;we.forEach(($n,rr)=>{const cr=pE+Ue++;Pe.set(rr,cr),$n.forEach(jr=>ks(jr,cr))});const Et=[],Dt=new Set,wt=new Set;for(let $n=0;$n<this.collectedLeaveElements.length;$n++){const rr=this.collectedLeaveElements[$n],cr=rr[Js];cr&&cr.setForRemoval&&(Et.push(rr),Dt.add(rr),cr.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(jr=>Dt.add(jr)):wt.add(rr))}const hn=new Map,vn=ZR(he,Array.from(Dt));vn.forEach(($n,rr)=>{const cr=dg+Ue++;hn.set(rr,cr),$n.forEach(jr=>ks(jr,cr))}),e.push(()=>{we.forEach(($n,rr)=>{const cr=Pe.get(rr);$n.forEach(jr=>ld(jr,cr))}),vn.forEach(($n,rr)=>{const cr=hn.get(rr);$n.forEach(jr=>ld(jr,cr))}),Et.forEach($n=>{this.processLeaveNode($n)})});const Yn=[],dr=[];for(let $n=this._namespaceList.length-1;$n>=0;$n--)this._namespaceList[$n].drainQueuedTransitions(r).forEach(cr=>{const jr=cr.player,po=cr.element;if(Yn.push(jr),this.collectedEnterElements.length){const So=po[Js];if(So&&So.setForMove){if(So.previousTriggersValues&&So.previousTriggersValues.has(cr.triggerName)){const Bc=So.previousTriggersValues.get(cr.triggerName),Ls=this.statesByElement.get(cr.element);if(Ls&&Ls.has(cr.triggerName)){const Xg=Ls.get(cr.triggerName);Xg.value=Bc,Ls.set(cr.triggerName,Xg)}}return void jr.destroy()}}const Ca=!U||!this.driver.containsElement(U,po),ys=hn.get(po),Pl=Pe.get(po),Ii=this._buildInstruction(cr,n,Pl,ys,Ca);if(Ii.errors&&Ii.errors.length)return void dr.push(Ii);if(Ca)return jr.onStart(()=>Nc(po,Ii.fromStyles)),jr.onDestroy(()=>Ta(po,Ii.toStyles)),void i.push(jr);if(cr.isFallbackTransition)return jr.onStart(()=>Nc(po,Ii.fromStyles)),jr.onDestroy(()=>Ta(po,Ii.toStyles)),void i.push(jr);const sN=[];Ii.timelines.forEach(So=>{So.stretchStartingKeyframe=!0,this.disabledNodes.has(So.element)||sN.push(So)}),Ii.timelines=sN,n.append(po,Ii.timelines),l.push({instruction:Ii,player:jr,element:po}),Ii.queriedElements.forEach(So=>_s(c,So,[]).push(jr)),Ii.preStyleProps.forEach((So,Bc)=>{if(So.size){let Ls=u.get(Bc);Ls||u.set(Bc,Ls=new Set),So.forEach((Xg,T0)=>Ls.add(T0))}}),Ii.postStyleProps.forEach((So,Bc)=>{let Ls=d.get(Bc);Ls||d.set(Bc,Ls=new Set),So.forEach((Xg,T0)=>Ls.add(T0))})});if(dr.length){const $n=[];dr.forEach(rr=>{$n.push(function K8(t,e){return new zt(3505,!1)}())}),Yn.forEach(rr=>rr.destroy()),this.reportError($n)}const Wr=new Map,_o=new Map;l.forEach($n=>{const rr=$n.element;n.has(rr)&&(_o.set(rr,rr),this._beforeAnimationBuild($n.player.namespaceId,$n.instruction,Wr))}),i.forEach($n=>{const rr=$n.element;this._getPreviousPlayers(rr,!1,$n.namespaceId,$n.triggerName,null).forEach(jr=>{_s(Wr,rr,[]).push(jr),jr.destroy()})});const ns=Et.filter($n=>GR($n,u,d)),na=new Map;HR(na,this.driver,wt,d,Ya).forEach($n=>{GR($n,u,d)&&ns.push($n)});const Ih=new Map;we.forEach(($n,rr)=>{HR(Ih,this.driver,new Set($n),u,"!")}),ns.forEach($n=>{const rr=na.get($n),cr=Ih.get($n);na.set($n,new Map([...rr?.entries()??[],...cr?.entries()??[]]))});const Fc=[],iN=[],oN={};l.forEach($n=>{const{element:rr,player:cr,instruction:jr}=$n;if(n.has(rr)){if(w.has(rr))return cr.onDestroy(()=>Ta(rr,jr.toStyles)),cr.disabled=!0,cr.overrideTotalTime(jr.totalTime),void i.push(cr);let po=oN;if(_o.size>1){let ys=rr;const Pl=[];for(;ys=ys.parentNode;){const Ii=_o.get(ys);if(Ii){po=Ii;break}Pl.push(ys)}Pl.forEach(Ii=>_o.set(Ii,po))}const Ca=this._buildAnimation(cr.namespaceId,jr,Wr,o,Ih,na);if(cr.setRealPlayer(Ca),po===oN)Fc.push(cr);else{const ys=this.playersByElement.get(po);ys&&ys.length&&(cr.parentPlayer=Rl(ys)),i.push(cr)}}else Nc(rr,jr.fromStyles),cr.onDestroy(()=>Ta(rr,jr.toStyles)),iN.push(cr),w.has(rr)&&i.push(cr)}),iN.forEach($n=>{const rr=o.get($n.element);if(rr&&rr.length){const cr=Rl(rr);$n.setRealPlayer(cr)}}),i.forEach($n=>{$n.parentPlayer?$n.syncPlayerEvents($n.parentPlayer):$n.destroy()});for(let $n=0;$n<Et.length;$n++){const rr=Et[$n],cr=rr[Js];if(ld(rr,dg),cr&&cr.hasAnimation)continue;let jr=[];if(c.size){let Ca=c.get(rr);Ca&&Ca.length&&jr.push(...Ca);let ys=this.driver.query(rr,mE,!0);for(let Pl=0;Pl<ys.length;Pl++){let Ii=c.get(ys[Pl]);Ii&&Ii.length&&jr.push(...Ii)}}const po=jr.filter(Ca=>!Ca.destroyed);po.length?Wz(this,rr,po):this.processLeaveNode(rr)}return Et.length=0,Fc.forEach($n=>{this.players.push($n),$n.onDone(()=>{$n.destroy();const rr=this.players.indexOf($n);this.players.splice(rr,1)}),$n.play()}),Fc}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,r,n,i,o){let l=[];if(r){const c=this.playersByQueriedElement.get(e);c&&(l=c)}else{const c=this.playersByElement.get(e);if(c){const u=!o||o==gh;c.forEach(d=>{d.queued||!u&&d.triggerName!=i||l.push(d)})}}return(n||i)&&(l=l.filter(c=>!(n&&n!=c.namespaceId||i&&i!=c.triggerName))),l}_beforeAnimationBuild(e,r,n){const o=r.element,l=r.isRemovalTransition?void 0:e,c=r.isRemovalTransition?void 0:r.triggerName;for(const u of r.timelines){const d=u.element,w=d!==o,U=_s(n,d,[]);this._getPreviousPlayers(d,w,l,c,r.toState).forEach(we=>{const Pe=we.getRealPlayer();Pe.beforeDestroy&&Pe.beforeDestroy(),we.destroy(),U.push(we)})}Nc(o,r.fromStyles)}_buildAnimation(e,r,n,i,o,l){const c=r.triggerName,u=r.element,d=[],w=new Set,U=new Set,he=r.timelines.map(Pe=>{const Ue=Pe.element;w.add(Ue);const Et=Ue[Js];if(Et&&Et.removedBeforeQueried)return new fh(Pe.duration,Pe.delay);const Dt=Ue!==u,wt=function Kz(t){const e=[];return zR(t,e),e}((n.get(Ue)||Hz).map(Wr=>Wr.getRealPlayer())).filter(Wr=>!!Wr.element&&Wr.element===Ue),hn=o.get(Ue),vn=l.get(Ue),Yn=bR(this._normalizer,Pe.keyframes,hn,vn),dr=this._buildPlayer(Pe,Yn,wt);if(Pe.subTimeline&&i&&U.add(Ue),Dt){const Wr=new xE(e,c,Ue);Wr.setRealPlayer(dr),d.push(Wr)}return dr});d.forEach(Pe=>{_s(this.playersByQueriedElement,Pe.element,[]).push(Pe),Pe.onDone(()=>function qz(t,e,r){let n=t.get(e);if(n){if(n.length){const i=n.indexOf(r);n.splice(i,1)}0==n.length&&t.delete(e)}return n}(this.playersByQueriedElement,Pe.element,Pe))}),w.forEach(Pe=>ks(Pe,IR));const we=Rl(he);return we.onDestroy(()=>{w.forEach(Pe=>ld(Pe,IR)),Ta(u,r.toStyles)}),U.forEach(Pe=>{_s(i,Pe,[]).push(we)}),we}_buildPlayer(e,r,n){return r.length>0?this.driver.animate(e.element,r,e.duration,e.delay,e.easing,n):new fh(e.duration,e.delay)}}class xE{constructor(e,r,n){this.namespaceId=e,this.triggerName=r,this.element=n,this._player=new fh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((r,n)=>{r.forEach(i=>cE(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const r=this._player;r.triggerCallback&&e.onStart(()=>r.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,r){_s(this._queuedCallbacks,e,[]).push(r)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const r=this._player;r.triggerCallback&&r.triggerCallback(e)}}function wg(t){return t&&1===t.nodeType}function jR(t,e){const r=t.style.display;return t.style.display=e??"none",r}function HR(t,e,r,n,i){const o=[];r.forEach(u=>o.push(jR(u)));const l=[];n.forEach((u,d)=>{const w=new Map;u.forEach(U=>{const he=e.computeStyle(d,U,i);w.set(U,he),(!he||0==he.length)&&(d[Js]=Zz,l.push(d))}),t.set(d,w)});let c=0;return r.forEach(u=>jR(u,o[c++])),l}function ZR(t,e){const r=new Map;if(t.forEach(c=>r.set(c,[])),0==e.length)return r;const i=new Set(e),o=new Map;function l(c){if(!c)return 1;let u=o.get(c);if(u)return u;const d=c.parentNode;return u=r.has(d)?d:i.has(d)?1:l(d),o.set(c,u),u}return e.forEach(c=>{const u=l(c);1!==u&&r.get(u).push(c)}),r}function ks(t,e){t.classList?.add(e)}function ld(t,e){t.classList?.remove(e)}function Wz(t,e,r){Rl(r).onDone(()=>t.processLeaveNode(e))}function zR(t,e){for(let r=0;r<t.length;r++){const n=t[r];n instanceof vR?zR(n.players,e):e.push(n)}}function GR(t,e,r){const n=r.get(t);if(!n)return!1;let i=e.get(t);return i?n.forEach(o=>i.add(o)):e.set(t,n),r.delete(t),!0}class Tg{constructor(e,r,n){this.bodyNode=e,this._driver=r,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Gz(e,r,n),this._timelineEngine=new Fz(e,r,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,r,n,i,o){const l=e+"-"+i;let c=this._triggerCache[l];if(!c){const u=[],w=yE(this._driver,o,u,[]);if(u.length)throw function U8(t,e){return new zt(3404,!1)}();c=function Oz(t,e,r){return new Pz(t,e,r)}(i,w,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(r,i,c)}register(e,r){this._transitionEngine.register(e,r)}destroy(e,r){this._transitionEngine.destroy(e,r)}onInsert(e,r,n,i){this._transitionEngine.insertNode(e,r,n,i)}onRemove(e,r,n){this._transitionEngine.removeNode(e,r,n)}disableAnimations(e,r){this._transitionEngine.markElementAsDisabled(e,r)}process(e,r,n,i){if("@"==n.charAt(0)){const[o,l]=ER(n);this._timelineEngine.command(o,r,l,i)}else this._transitionEngine.trigger(e,r,n,i)}listen(e,r,n,i,o){if("@"==n.charAt(0)){const[l,c]=ER(n);return this._timelineEngine.listen(l,r,c,o)}return this._transitionEngine.listen(e,r,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Jz=(()=>{class e{constructor(n,i,o){this._element=n,this._startStyles=i,this._endStyles=o,this._state=0;let l=e.initialStylesByElement.get(n);l||e.initialStylesByElement.set(n,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Ta(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ta(this._element,this._initialStyles),this._endStyles&&(Ta(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Nc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nc(this._element,this._endStyles),this._endStyles=null),Ta(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function RE(t){let e=null;return t.forEach((r,n)=>{(function e6(t){return"display"===t||"position"===t})(n)&&(e=e||new Map,e.set(n,r))}),e}class qR{constructor(e,r,n,i){this.element=e,this.keyframes=r,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const r=[];return e.forEach(n=>{r.push(Object.fromEntries(n))}),r}_triggerWebAnimation(e,r,n){return e.animate(this._convertKeyframesToObject(r),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{"offset"!==i&&e.set(i,this._finished?n:MR(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const r="start"===e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}class t6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,r){return!1}containsElement(e,r){return TR(e,r)}getParentElement(e){return fE(e)}query(e,r,n){return SR(e,r,n)}computeStyle(e,r,n){return window.getComputedStyle(e)[r]}animate(e,r,n,i,o,l=[]){const u={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const d=new Map,w=l.filter(we=>we instanceof qR);(function lz(t,e){return 0===t||0===e})(n,i)&&w.forEach(we=>{we.currentSnapshot.forEach((Pe,Ue)=>d.set(Ue,Pe))});let U=function oz(t){return t.length?t[0]instanceof Map?t:t.map(e=>DR(e)):[]}(r).map(we=>Ml(we));U=function cz(t,e,r){if(r.size&&e.length){let n=e[0],i=[];if(r.forEach((o,l)=>{n.has(l)||i.push(l),n.set(l,o)}),i.length)for(let o=1;o<e.length;o++){let l=e[o];i.forEach(c=>l.set(c,MR(t,c)))}}return e}(e,U,d);const he=function Qz(t,e){let r=null,n=null;return Array.isArray(e)&&e.length?(r=RE(e[0]),e.length>1&&(n=RE(e[e.length-1]))):e instanceof Map&&(r=RE(e)),r||n?new Jz(t,r,n):null}(e,U);return new qR(e,U,u,he)}}let n6=(()=>{var t;class e extends gR{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:Go.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(n)?_R(n):n;return YR(this._renderer,null,i,"register",[o]),new r6(i,this._renderer)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(rf),Wt(Rr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();class r6 extends _8{constructor(e,r){super(),this._id=e,this._renderer=r}create(e,r){return new i6(this._id,e,r||{},this._renderer)}}class i6{constructor(e,r,n,i){this.id=e,this.element=r,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,r){return this._renderer.listen(this.element,`@@${this.id}:${e}`,r)}_command(e,...r){return YR(this._renderer,this.element,this.id,e,r)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function YR(t,e,r,n,i){return t.setProperty(e,`@@${r}:${n}`,i)}const $R="@.disabled";let o6=(()=>{var t;class e{constructor(n,i,o){this.delegate=n,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(l,c)=>{const u=c?.parentNode(l);u&&c.removeChild(u,l)}}createRenderer(n,i){const l=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let U=this._rendererCache.get(l);return U||(U=new WR("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,U)),U}const c=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,n);const d=U=>{Array.isArray(U)?U.forEach(d):this.engine.registerTrigger(c,u,n,U.name,U)};return i.data.animation.forEach(d),new s6(this,u,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,o){n>=0&&n<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,u]=l;c(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(rf),Wt(Tg),Wt(ar))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();class WR{constructor(e,r,n,i){this.namespaceId=e,this.delegate=r,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,r){this.delegate.appendChild(e,r),this.engine.onInsert(this.namespaceId,r,e,!1)}insertBefore(e,r,n,i=!0){this.delegate.insertBefore(e,r,n),this.engine.onInsert(this.namespaceId,r,e,i)}removeChild(e,r,n){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,n,i){this.delegate.setAttribute(e,r,n,i)}removeAttribute(e,r,n){this.delegate.removeAttribute(e,r,n)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,n,i){this.delegate.setStyle(e,r,n,i)}removeStyle(e,r,n){this.delegate.removeStyle(e,r,n)}setProperty(e,r,n){"@"==r.charAt(0)&&r==$R?this.disableAnimations(e,!!n):this.delegate.setProperty(e,r,n)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,n){return this.delegate.listen(e,r,n)}disableAnimations(e,r){this.engine.disableAnimations(e,r)}}class s6 extends WR{constructor(e,r,n,i,o){super(r,n,i,o),this.factory=e,this.namespaceId=r}setProperty(e,r,n){"@"==r.charAt(0)?"."==r.charAt(1)&&r==$R?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,r.slice(1),n):this.delegate.setProperty(e,r,n)}listen(e,r,n){if("@"==r.charAt(0)){const i=function a6(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=r.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function l6(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,n,c)})}return this.delegate.listen(e,r,n)}}const f6=[{provide:hE,useFactory:()=>new t6},{provide:xs,useValue:"BrowserAnimations"},...[{provide:gR,useClass:n6},{provide:SE,useFactory:function u6(){return new xz}},{provide:Tg,useClass:(()=>{var t;class e extends Tg{constructor(n,i,o,l){super(n.body,i,o)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr),Wt(hE),Wt(SE),Wt(gl))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})()},{provide:rf,useFactory:function d6(t,e,r){return new o6(t,e,r)},deps:[Jy,Tg,ar]}]];function ME(){return(ME=pi(function*(t){const e=document.baseURI.includes("localhost")?"https://localhost:4200/":document.baseURI,r=yield fetch(new URL(`${e}${t}`));return r.ok?yield r.text():""})).apply(this,arguments)}class v6 extends ut{constructor(e=1/0,r=1/0,n=Fb){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){const{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:l}=this;r||(n.push(e),!i&&n.push(o.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let l=0;l<o.length&&!e.closed;l+=n?1:2)e.next(o[l]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){const{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){const l=r.now();let c=0;for(let u=1;u<n.length&&n[u]<=l;u+=2)c=u;c&&n.splice(0,c+1)}}}class b6{constructor(e){this._box=e,this._destroyed=new ut,this._resizeSubject=new ut,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ke(r=>{const n=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),n.unsubscribe(),this._elementObservables.delete(e)}}).pipe(fo(r=>r.some(n=>n.target===e)),function y6(t,e,r){let n,i=!1;return t&&"object"==typeof t?({bufferSize:n=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:r}=t):n=t??1/0,Xt({connector:()=>new v6(n,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}),Zi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let E6=(()=>{var t;class e{constructor(){this._observers=new Map,this._ngZone=$t(ar)}ngOnDestroy(){for(const[,n]of this._observers)n.destroy();this._observers.clear()}observe(n,i){const o=i?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new b6(o)),this._observers.get(o).observe(n)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const w6=["notch"],T6=["matFormFieldNotchedOutline",""],S6=["*"],C6=["textField"],A6=["iconPrefixContainer"],I6=["textPrefixContainer"];function D6(t,e){1&t&&Qn(0,"span",19)}function x6(t,e){if(1&t&&(un(0,"label",17),Ri(1,1),Pn(2,D6,1,0,"span",18),fn()),2&t){const r=Vn(2);Yt("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),li("for",r._control.id),en(2),Yt("ngIf",!r.hideRequiredMarker&&r._control.required)}}function R6(t,e){1&t&&Pn(0,x6,3,5,"label",16),2&t&&Yt("ngIf",Vn()._hasFloatingLabel())}function M6(t,e){1&t&&Qn(0,"div",20)}function N6(t,e){}function O6(t,e){1&t&&Pn(0,N6,0,0,"ng-template",22),2&t&&(Vn(2),Yt("ngTemplateOutlet",ji(1)))}function P6(t,e){if(1&t&&(un(0,"div",21),Pn(1,O6,1,1,"ng-template",9),fn()),2&t){const r=Vn();Yt("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),en(1),Yt("ngIf",!r._forceDisplayInfixLabel())}}function k6(t,e){1&t&&(un(0,"div",23,24),Ri(2,2),fn())}function L6(t,e){1&t&&(un(0,"div",25,26),Ri(2,3),fn())}function F6(t,e){}function B6(t,e){1&t&&Pn(0,F6,0,0,"ng-template",22),2&t&&(Vn(),Yt("ngTemplateOutlet",ji(1)))}function U6(t,e){1&t&&(un(0,"div",27),Ri(1,4),fn())}function V6(t,e){1&t&&(un(0,"div",28),Ri(1,5),fn())}function j6(t,e){1&t&&Qn(0,"div",29)}function H6(t,e){1&t&&(un(0,"div",30),Ri(1,6),fn()),2&t&&Yt("@transitionMessages",Vn()._subscriptAnimationState)}function Z6(t,e){if(1&t&&(un(0,"mat-hint",34),Br(1),fn()),2&t){const r=Vn(2);Yt("id",r._hintLabelId),en(1),ko(r.hintLabel)}}function z6(t,e){if(1&t&&(un(0,"div",31),Pn(1,Z6,2,2,"mat-hint",32),Ri(2,7),Qn(3,"div",33),Ri(4,8),fn()),2&t){const r=Vn();Yt("@transitionMessages",r._subscriptAnimationState),en(1),Yt("ngIf",r.hintLabel)}}const G6=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],q6=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let NE=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=kn({type:t,selectors:[["mat-label"]]}),e})(),Y6=0;const XR=new ln("MatError");let $6=(()=>{var t;class e{constructor(n,i){this.id="mat-mdc-error-"+Y6++,n||i.nativeElement.setAttribute("aria-live","polite")}}return(t=e).\u0275fac=function(n){return new(n||t)(sc("aria-live"),vt(Or))},t.\u0275dir=kn({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,i){2&n&&yf("id",i.id)},inputs:{id:"id"},features:[Qr([{provide:XR,useExisting:t}])]}),e})(),W6=0,OE=(()=>{var t;class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+W6++}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=kn({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,i){2&n&&(yf("id",i.id),li("align",null),Si("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),e})();const K6=new ln("MatPrefix"),QR=new ln("MatSuffix");let X6=(()=>{var t;class e{constructor(){this._isText=!1}set _isTextSelector(n){this._isText=!0}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=kn({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Qr([{provide:QR,useExisting:t}])]}),e})();const JR=new ln("FloatingLabelParent");let eM=(()=>{var t;class e{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=$t(E6),this._ngZone=$t(ar),this._parent=$t(JR),this._resizeSubscription=new F}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Q6(t){if(null!==t.offsetParent)return t.scrollWidth;const r=t.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);const n=r.scrollWidth;return r.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or))},t.\u0275dir=kn({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,i){2&n&&Si("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),e})();const tM="mdc-line-ripple--active",Cg="mdc-line-ripple--deactivating";let nM=(()=>{var t;class e{constructor(n,i){this._elementRef=n,this._handleTransitionEnd=o=>{const l=this._elementRef.nativeElement.classList,c=l.contains(Cg);"opacity"===o.propertyName&&c&&l.remove(tM,Cg)},i.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const n=this._elementRef.nativeElement.classList;n.remove(Cg),n.add(tM)}deactivate(){this._elementRef.nativeElement.classList.add(Cg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(ar))},t.\u0275dir=kn({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),rM=(()=>{var t;class e{constructor(n,i){this._elementRef=n,this._ngZone=i,this.open=!1}ngAfterViewInit(){const n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){this._notch.nativeElement.style.width=this.open&&n?`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(ar))},t.\u0275cmp=gr({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,i){if(1&n&&Fo(w6,5),2&n){let o;ci(o=ui())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,i){2&n&&Si("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:T6,ngContentSelectors:S6,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,i){1&n&&(ha(),Qn(0,"div",0),un(1,"div",1,2),Ri(3),fn(),Qn(4,"div",3))},encapsulation:2,changeDetection:0}),e})();const J6={transitionMessages:dh("transitionMessages",[Rc("enter",ts({opacity:1,transform:"translateY(0%)"})),xl("void => enter",[ts({opacity:0,transform:"translateY(-5px)"}),Dl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let iM=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=kn({type:t}),e})();const oM=new ln("MatFormField"),sM=new ln("MAT_FORM_FIELD_DEFAULT_OPTIONS");let aM=0,nG=(()=>{var t;class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=ho(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){const i=this._appearance;this._appearance=n||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,i,o,l,c,u,d,w){this._elementRef=n,this._changeDetectorRef=i,this._ngZone=o,this._dir=l,this._platform=c,this._defaults=u,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+aM++,this._hintLabelId="mat-mdc-hint-"+aM++,this._subscriptAnimationState="",this._destroyed=new ut,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Zi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Io(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Zi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){const i=this._control?this._control.ngControl:null;return i&&i[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?n.push(i.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const n=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(n.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,l=i?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0;n.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${l+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const n=this._elementRef.nativeElement;if(n.getRootNode){const i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(Uo),vt(ar),vt(eg),vt(no),vt(sM,8),vt(xs,8),vt(Rr))},t.\u0275cmp=gr({type:t,selectors:[["mat-form-field"]],contentQueries:function(n,i,o){if(1&n&&(Jo(o,NE,5),Jo(o,NE,7),Jo(o,iM,5),Jo(o,K6,5),Jo(o,QR,5),Jo(o,XR,5),Jo(o,OE,5)),2&n){let l;ci(l=ui())&&(i._labelChildNonStatic=l.first),ci(l=ui())&&(i._labelChildStatic=l.first),ci(l=ui())&&(i._formFieldControl=l.first),ci(l=ui())&&(i._prefixChildren=l),ci(l=ui())&&(i._suffixChildren=l),ci(l=ui())&&(i._errorChildren=l),ci(l=ui())&&(i._hintChildren=l)}},viewQuery:function(n,i){if(1&n&&(Fo(C6,5),Fo(A6,5),Fo(I6,5),Fo(eM,5),Fo(rM,5),Fo(nM,5)),2&n){let o;ci(o=ui())&&(i._textField=o.first),ci(o=ui())&&(i._iconPrefixContainer=o.first),ci(o=ui())&&(i._textPrefixContainer=o.first),ci(o=ui())&&(i._floatingLabel=o.first),ci(o=ui())&&(i._notchedOutline=o.first),ci(o=ui())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,i){2&n&&Si("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Qr([{provide:oM,useExisting:t},{provide:JR,useExisting:t}])],ngContentSelectors:q6,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,i){1&n&&(ha(G6),Pn(0,R6,1,1,"ng-template",null,0,dy),un(2,"div",1,2),mr("click",function(l){return i._control.onContainerClick(l)}),Pn(4,M6,1,0,"div",3),un(5,"div",4),Pn(6,P6,2,2,"div",5),Pn(7,k6,3,0,"div",6),Pn(8,L6,3,0,"div",7),un(9,"div",8),Pn(10,B6,1,1,"ng-template",9),Ri(11),fn(),Pn(12,U6,2,0,"div",10),Pn(13,V6,2,0,"div",11),fn(),Pn(14,j6,1,0,"div",12),fn(),un(15,"div",13),Pn(16,H6,2,1,"div",14),Pn(17,z6,5,2,"div",15),fn()),2&n&&(en(2),Si("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),en(2),Yt("ngIf",!i._hasOutline()&&!i._control.disabled),en(2),Yt("ngIf",i._hasOutline()),en(1),Yt("ngIf",i._hasIconPrefix),en(1),Yt("ngIf",i._hasTextPrefix),en(2),Yt("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),en(2),Yt("ngIf",i._hasTextSuffix),en(1),Yt("ngIf",i._hasIconSuffix),en(1),Yt("ngIf",!i._hasOutline()),en(1),Si("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),Yt("ngSwitch",i._getDisplayedMessages()),en(1),Yt("ngSwitchCase","error"),en(1),Yt("ngSwitchCase","hint"))},dependencies:[uo,Zy,Tm,MI,OE,eM,rM,nM],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[J6.transitionMessages]},changeDetection:0}),e})(),PE=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[ro,Nf,gx,ro]}),e})();class iG{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const sG=new ln("mat-snack-bar-default-options",{providedIn:"root",factory:function oG(){return new iG}}),lG=["mat-button",""],cG=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],uG=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],fG=["mat-icon-button",""],hG=["*"],pG=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],mG=tg(Rx(Gb(class{constructor(t){this._elementRef=t}})));let kE,uM=(()=>{var t;class e extends mG{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=ho(n),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=ho(n),this._updateRippleDisabled()}constructor(n,i,o,l){super(n),this._platform=i,this._ngZone=o,this._animationMode=l,this._focusMonitor=$t(nh),this._rippleLoader=$t(xZ),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const c=n.nativeElement.classList;for(const u of pG)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(d=>{c.add(d)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...n){return n.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(t=e).\u0275fac=function(n){Fp()},t.\u0275dir=kn({type:t,features:[yr]}),e})(),Ag=(()=>{var t;class e extends uM{constructor(n,i,o,l){super(n,i,o,l)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(no),vt(ar),vt(xs,8))},t.\u0275cmp=gr({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,i){2&n&&(li("disabled",i.disabled||null),Si("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[yr],attrs:lG,ngContentSelectors:uG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){1&n&&(ha(cG),Qn(0,"span",0),Ri(1),un(2,"span",1),Ri(3,1),fn(),Ri(4,2),Qn(5,"span",2)(6,"span",3)),2&n&&Si("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),Ig=(()=>{var t;class e extends uM{constructor(n,i,o,l){super(n,i,o,l),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(no),vt(ar),vt(xs,8))},t.\u0275cmp=gr({type:t,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,i){2&n&&(li("disabled",i.disabled||null),Si("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[yr],attrs:fG,ngContentSelectors:hG,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){1&n&&(ha(),Qn(0,"span",0),Ri(1),Qn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),ea=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[ro,sh,ro]}),e})(),vG=1;const Dg={};function dM(t){return t in Dg&&(delete Dg[t],!0)}const yG={setImmediate(t){const e=vG++;return Dg[e]=!0,kE||(kE=Promise.resolve()),kE.then(()=>dM(e)&&t()),e},clearImmediate(t){dM(t)}},{setImmediate:bG,clearImmediate:EG}=yG,xg={setImmediate(...t){const{delegate:e}=xg;return(e?.setImmediate||bG)(...t)},clearImmediate(t){const{delegate:e}=xg;return(e?.clearImmediate||EG)(t)},delegate:void 0},LE=new class TG extends Bb{flush(e){this._active=!0;const r=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw i}}}(class wG extends Lb{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,n=0){return null!==n&&n>0?super.requestAsyncId(e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=xg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,r,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,r,n);const{actions:o}=e;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(xg.clearImmediate(r),e._scheduled===r&&(e._scheduled=void 0))}});function fM(t,e){return e?r=>kf(e.pipe(jo(1),function SG(){return xt((t,e)=>{t.subscribe($e(e,g))})}()),r.pipe(fM(t))):Lt((r,n)=>cn(t(r,n)).pipe(jo(1),cD(r)))}function hM(t=0,e,r=Y4){let n=-1;return null!=e&&(Cr(e)?r=e:n=e),new Ke(i=>{let o=function CG(t){return t instanceof Date&&!isNaN(t)}(t)?+t-r.now():t;o<0&&(o=0);let l=0;return r.schedule(function(){i.closed||(i.next(l++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function pM(t,e=Wm){const r=hM(t,e);return fM(()=>r)}class FE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class mM extends FE{constructor(e,r,n,i,o){super(),this.component=e,this.viewContainerRef=r,this.injector=n,this.componentFactoryResolver=i,this.projectableNodes=o}}class gM extends FE{constructor(e,r,n,i){super(),this.templateRef=e,this.viewContainerRef=r,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,r=this.context){return this.context=r,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class AG extends FE{constructor(e){super(),this.element=e instanceof Or?e.nativeElement:e}}class IG{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof mM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof gM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof AG?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class DG extends IG{constructor(e,r,n,i,o){super(),this.outletElement=e,this._componentFactoryResolver=r,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=o}attachComponentPortal(e){const n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=n.create(e.injector||this._defaultInjector||Po.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let r=e.viewContainerRef,n=r.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=r.indexOf(n);-1!==i&&r.remove(i)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let xG=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({}),e})();const RG=["addListener","removeListener"],MG=["addEventListener","removeEventListener"],NG=["on","off"];function BE(t,e,r,n){if(Kn(r)&&(n=r,r=void 0),n)return BE(t,e,r).pipe(rb(n));const[i,o]=function kG(t){return Kn(t.addEventListener)&&Kn(t.removeEventListener)}(t)?MG.map(l=>c=>t[l](e,c,r)):function OG(t){return Kn(t.addListener)&&Kn(t.removeListener)}(t)?RG.map(_M(t,e)):function PG(t){return Kn(t.on)&&Kn(t.off)}(t)?NG.map(_M(t,e)):[];if(!i&&Fs(t))return Lt(l=>BE(l,e,r))(cn(t));if(!i)throw new TypeError("Invalid event target");return new Ke(l=>{const c=(...u)=>l.next(1<u.length?u:u[0]);return i(c),()=>o(c)})}function _M(t,e){return r=>n=>t[r](e,n)}const _h={schedule(t){let e=requestAnimationFrame,r=cancelAnimationFrame;const{delegate:n}=_h;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);const i=e(o=>{r=void 0,t(o)});return new F(()=>r?.(i))},requestAnimationFrame(...t){const{delegate:e}=_h;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=_h;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class FG extends Bb{flush(e){this._active=!0;const r=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw i}}}(class LG extends Lb{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,n=0){return null!==n&&n>0?super.requestAsyncId(e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=_h.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,r,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,r,n);const{actions:o}=e;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(_h.cancelAnimationFrame(r),e._scheduled=void 0)}});function vM(t,e=Wm){return function UG(t){return xt((e,r)=>{let n=!1,i=null,o=null,l=!1;const c=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const d=i;i=null,r.next(d)}l&&r.complete()},u=()=>{o=null,l&&r.complete()};e.subscribe($e(r,d=>{n=!0,i=d,o||cn(t(d)).subscribe(o=$e(r,c,u))},()=>{l=!0,(!n||!o||o.closed)&&r.complete()}))})}(()=>hM(t,e))}let yM=(()=>{var t;class e{constructor(n,i,o){this._ngZone=n,this._platform=i,this._scrolled=new ut,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new Ke(i=>{this._globalSubscription||this._addGlobalListener();const o=n>0?this._scrolled.pipe(vM(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Jn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){const o=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(fo(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(n){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,n)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,i){let o=Tl(i),l=n.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>BE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(ar),Wt(no),Wt(Rr,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bM=(()=>{var t;class e{constructor(n,i,o){this._platform=n,this._change=new ut,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(n.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,i=this._getWindow(),o=n.documentElement,l=o.getBoundingClientRect();return{top:-l.top||n.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||n.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(vM(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(no),Wt(ar),Wt(Rr,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Rg=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({}),e})(),EM=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[rh,Rg,rh,Rg]}),e})();const wM=I4();class HG{constructor(e,r){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=zi(-this._previousScrollPosition.left),e.style.top=zi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,n=e.style,i=this._document.body.style,o=n.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wM&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wM&&(n.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const r=this._document.body,n=this._viewportRuler.getViewportSize();return r.scrollHeight>n.height||r.scrollWidth>n.width}}class ZG{constructor(e,r,n,i){this._scrollDispatcher=e,this._ngZone=r,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(fo(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class TM{enable(){}disable(){}attach(){}}function UE(t,e){return e.some(r=>t.bottom<r.top||t.top>r.bottom||t.right<r.left||t.left>r.right)}function SM(t,e){return e.some(r=>t.top<r.top||t.bottom>r.bottom||t.left<r.left||t.right>r.right)}class zG{constructor(e,r,n,i){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();UE(r,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let GG=(()=>{var t;class e{constructor(n,i,o,l){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new TM,this.close=c=>new ZG(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new HG(this._viewportRuler,this._document),this.reposition=c=>new zG(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=l}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(yM),Wt(bM),Wt(ar),Wt(Rr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class CM{constructor(e){if(this.scrollStrategy=new TM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const r=Object.keys(e);for(const n of r)void 0!==e[n]&&(this[n]=e[n])}}}class qG{constructor(e,r){this.connectionPair=e,this.scrollableViewProperties=r}}let AM=(()=>{var t;class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),YG=(()=>{var t;class e extends AM{constructor(n,i){super(n),this._ngZone=i,this._keydownListener=o=>{const l=this._attachedOverlays;for(let c=l.length-1;c>-1;c--)if(l[c]._keydownEvents.observers.length>0){const u=l[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr),Wt(ar,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$G=(()=>{var t;class e extends AM{constructor(n,i,o){super(n),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=wl(l)},this._clickListener=l=>{const c=wl(l),u="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let w=d.length-1;w>-1;w--){const U=d[w];if(U._outsidePointerEvents.observers.length<1||!U.hasAttached())continue;if(U.overlayElement.contains(c)||U.overlayElement.contains(u))break;const he=U._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>he.next(l)):he.next(l)}}}add(n){if(super.add(n),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr),Wt(no),Wt(ar,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),IM=(()=>{var t;class e{constructor(n,i){this._platform=i,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||Nb()){const o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(n),Nb()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Rr),Wt(no))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class WG{constructor(e,r,n,i,o,l,c,u,d,w=!1){this._portalOutlet=e,this._host=r,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=c,this._location=u,this._outsideClickDispatcher=d,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new ut,this._attachments=new ut,this._detachments=new ut,this._locationChanges=F.EMPTY,this._backdropClickHandler=U=>this._backdropClick.next(U),this._backdropTransitionendHandler=U=>{this._disposeBackdrop(U.target)},this._keydownEvents=new ut,this._outsidePointerEvents=new ut,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const r=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(jo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof r?.onDestroy&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=zi(this._config.width),e.height=zi(this._config.height),e.minWidth=zi(this._config.minWidth),e.minHeight=zi(this._config.minHeight),e.maxWidth=zi(this._config.maxWidth),e.maxHeight=zi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,r,n){const i=Km(r||[]).filter(o=>!!o);i.length&&(n?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Zi(Io(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const DM="cdk-overlay-connected-position-bounding-box",KG=/([A-Za-z%]+)$/;class XG{get positions(){return this._preferredPositions}constructor(e,r,n,i,o){this._viewportRuler=r,this._document=n,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ut,this._resizeSubscription=F.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(DM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,r=this._overlayRect,n=this._viewportRect,i=this._containerRect,o=[];let l;for(let c of this._preferredPositions){let u=this._getOriginPoint(e,i,c),d=this._getOverlayPoint(u,r,c),w=this._getOverlayFit(d,r,n,c);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(w,d,n)?o.push({position:c,origin:u,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!l||l.overlayFit.visibleArea<w.visibleArea)&&(l={overlayFit:w,overlayPoint:d,originPoint:u,position:c,overlayRect:r})}if(o.length){let c=null,u=-1;for(const d of o){const w=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);w>u&&(u=w,c=d)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,r)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,r,n){let i,o;if("center"==n.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;i="start"==n.originX?l:c}return r.left<0&&(i-=r.left),o="center"==n.originY?e.top+e.height/2:"top"==n.originY?e.top:e.bottom,r.top<0&&(o-=r.top),{x:i,y:o}}_getOverlayPoint(e,r,n){let i,o;return i="center"==n.overlayX?-r.width/2:"start"===n.overlayX?this._isRtl()?-r.width:0:this._isRtl()?0:-r.width,o="center"==n.overlayY?-r.height/2:"top"==n.overlayY?0:-r.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,r,n,i){const o=RM(r);let{x:l,y:c}=e,u=this._getOffset(i,"x"),d=this._getOffset(i,"y");u&&(l+=u),d&&(c+=d);let he=0-c,we=c+o.height-n.height,Pe=this._subtractOverflows(o.width,0-l,l+o.width-n.width),Ue=this._subtractOverflows(o.height,he,we),Et=Pe*Ue;return{visibleArea:Et,isCompletelyWithinViewport:o.width*o.height===Et,fitsInViewportVertically:Ue===o.height,fitsInViewportHorizontally:Pe==o.width}}_canFitWithFlexibleDimensions(e,r,n){if(this._hasFlexibleDimensions){const i=n.bottom-r.y,o=n.right-r.x,l=xM(this._overlayRef.getConfig().minHeight),c=xM(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(e,r,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=RM(r),o=this._viewportRect,l=Math.max(e.x+i.width-o.width,0),c=Math.max(e.y+i.height-o.height,0),u=Math.max(o.top-n.top-e.y,0),d=Math.max(o.left-n.left-e.x,0);let w=0,U=0;return w=i.width<=o.width?d||-l:e.x<this._viewportMargin?o.left-n.left-e.x:0,U=i.height<=o.height?u||-c:e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:w,y:U},{x:e.x+w,y:e.y+U}}_applyPosition(e,r){if(this._setTransformOrigin(e),this._setOverlayElementStyles(r,e),this._setBoundingBoxStyles(r,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const n=this._getScrollVisibility(),i=new qG(e,n);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const r=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<r.length;o++)r[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,r){const n=this._viewportRect,i=this._isRtl();let o,l,c,w,U,he;if("top"===r.overlayY)l=e.y,o=n.height-l+this._viewportMargin;else if("bottom"===r.overlayY)c=n.height-e.y+2*this._viewportMargin,o=n.height-c+this._viewportMargin;else{const we=Math.min(n.bottom-e.y+n.top,e.y),Pe=this._lastBoundingBoxSize.height;o=2*we,l=e.y-we,o>Pe&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-Pe/2)}if("end"===r.overlayX&&!i||"start"===r.overlayX&&i)he=n.width-e.x+this._viewportMargin,w=e.x-this._viewportMargin;else if("start"===r.overlayX&&!i||"end"===r.overlayX&&i)U=e.x,w=n.right-e.x;else{const we=Math.min(n.right-e.x+n.left,e.x),Pe=this._lastBoundingBoxSize.width;w=2*we,U=e.x-we,w>Pe&&!this._isInitialRender&&!this._growAfterOpen&&(U=e.x-Pe/2)}return{top:l,left:U,bottom:c,right:he,width:w,height:o}}_setBoundingBoxStyles(e,r){const n=this._calculateBoundingBoxRect(e,r);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=zi(n.height),i.top=zi(n.top),i.bottom=zi(n.bottom),i.width=zi(n.width),i.left=zi(n.left),i.right=zi(n.right),i.alignItems="center"===r.overlayX?"center":"end"===r.overlayX?"flex-end":"flex-start",i.justifyContent="center"===r.overlayY?"center":"bottom"===r.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=zi(o)),l&&(i.maxWidth=zi(l))}this._lastBoundingBoxSize=n,Pc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Pc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,r){const n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const w=this._viewportRuler.getViewportScrollPosition();Pc(n,this._getExactOverlayY(r,e,w)),Pc(n,this._getExactOverlayX(r,e,w))}else n.position="static";let c="",u=this._getOffset(r,"x"),d=this._getOffset(r,"y");u&&(c+=`translateX(${u}px) `),d&&(c+=`translateY(${d}px)`),n.transform=c.trim(),l.maxHeight&&(i?n.maxHeight=zi(l.maxHeight):o&&(n.maxHeight="")),l.maxWidth&&(i?n.maxWidth=zi(l.maxWidth):o&&(n.maxWidth="")),Pc(this._pane.style,n)}_getExactOverlayY(e,r,n){let i={top:"",bottom:""},o=this._getOverlayPoint(r,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=zi(o.y),i}_getExactOverlayX(e,r,n){let l,i={left:"",right:""},o=this._getOverlayPoint(r,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=zi(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),r=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:SM(e,n),isOriginOutsideView:UE(e,n),isOverlayClipped:SM(r,n),isOverlayOutsideView:UE(r,n)}}_subtractOverflows(e,...r){return r.reduce((n,i)=>n-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+r-this._viewportMargin,width:e-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,r){return"x"===r?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Km(e).forEach(r=>{""!==r&&-1===this._appliedPanelClasses.indexOf(r)&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Or)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const r=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+r,height:n,width:r}}}function Pc(t,e){for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function xM(t){if("number"!=typeof t&&null!=t){const[e,r]=t.split(KG);return r&&"px"!==r?null:parseFloat(e)}return t||null}function RM(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const MM="cdk-global-overlay-wrapper";class QG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const r=e.getConfig();this._overlayRef=e,this._width&&!r.width&&e.updateSize({width:this._width}),this._height&&!r.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(MM),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:c}=n,u=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),d=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),w=this._xPosition,U=this._xOffset,he="rtl"===this._overlayRef.getConfig().direction;let we="",Pe="",Ue="";u?Ue="flex-start":"center"===w?(Ue="center",he?Pe=U:we=U):he?"left"===w||"end"===w?(Ue="flex-end",we=U):("right"===w||"start"===w)&&(Ue="flex-start",Pe=U):"left"===w||"start"===w?(Ue="flex-start",we=U):("right"===w||"end"===w)&&(Ue="flex-end",Pe=U),e.position=this._cssPosition,e.marginLeft=u?"0":we,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":Pe,r.justifyContent=Ue,r.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,n=r.style;r.classList.remove(MM),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let JG=(()=>{var t;class e{constructor(n,i,o,l){this._viewportRuler=n,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new QG}flexibleConnectedTo(n){return new XG(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(bM),Wt(Rr),Wt(no),Wt(IM))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),eq=0,cd=(()=>{var t;class e{constructor(n,i,o,l,c,u,d,w,U,he,we,Pe){this.scrollStrategies=n,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=c,this._injector=u,this._ngZone=d,this._document=w,this._directionality=U,this._location=he,this._outsideClickDispatcher=we,this._animationsModuleType=Pe}create(n){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),c=new CM(n);return c.direction=c.direction||this._directionality.value,new WG(l,i,o,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const i=this._document.createElement("div");return i.id="cdk-overlay-"+eq++,i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(gl)),new DG(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(GG),Wt(IM),Wt(nf),Wt(JG),Wt(YG),Wt(Po),Wt(ar),Wt(Rr),Wt(eg),Wt(fm),Wt($G),Wt(xs,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const rq={provide:new ln("cdk-connected-overlay-scroll-strategy"),deps:[cd],useFactory:function nq(t){return()=>t.scrollStrategies.reposition()}};let NM=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({providers:[cd,rq],imports:[rh,xG,EM,EM]}),e})();const iq=["mat-menu-item",""];function oq(t,e){1&t&&(Xn(),un(0,"svg",3),Qn(1,"polygon",4),fn())}const sq=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],aq=["mat-icon, [matMenuItemIcon]","*"];function lq(t,e){if(1&t){const r=co();un(0,"div",0),mr("keydown",function(i){return ht(r),bt(Vn()._handleKeydown(i))})("click",function(){return ht(r),bt(Vn().closed.emit("click"))})("@transformMenu.start",function(i){return ht(r),bt(Vn()._onAnimationStart(i))})("@transformMenu.done",function(i){return ht(r),bt(Vn()._onAnimationDone(i))}),un(1,"div",1),Ri(2),fn()()}if(2&t){const r=Vn();Yt("id",r.panelId)("ngClass",r._classList)("@transformMenu",r._panelAnimationState),li("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null)("aria-describedby",r.ariaDescribedby||null)}}const cq=["*"],VE=new ln("MAT_MENU_PANEL"),uq=Gb(Rx(class{}));let vh=(()=>{var t;class e extends uq{constructor(n,i,o,l,c){super(),this._elementRef=n,this._document=i,this._focusMonitor=o,this._parentMenu=l,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new ut,this._focused=new ut,this._highlighted=!1,this._triggersSubmenu=!1,l?.addItem?.(this)}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++)i[o].remove();return n.textContent?.trim()||""}_setHighlighted(n){this._highlighted=n,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(n){this._triggersSubmenu=n,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(Rr),vt(nh),vt(VE,8),vt(Uo))},t.\u0275cmp=gr({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,i){1&n&&mr("click",function(l){return i._checkDisabled(l)})("mouseenter",function(){return i._handleMouseEnter()}),2&n&&(li("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),Si("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[yr],attrs:iq,ngContentSelectors:aq,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,i){1&n&&(ha(sq),Ri(0),un(1,"span",0),Ri(2,1),fn(),Qn(3,"div",1),Pn(4,oq,2,0,"svg",2)),2&n&&(en(3),Yt("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),en(1),Yt("ngIf",i._triggersSubmenu))},dependencies:[uo,qb],encapsulation:2,changeDetection:0}),e})();const dq=new ln("MatMenuContent"),Mg={transformMenu:dh("transformMenu",[Rc("void",ts({opacity:0,transform:"scale(0.8)"})),xl("void => enter",Dl("120ms cubic-bezier(0, 0, 0.2, 1)",ts({opacity:1,transform:"scale(1)"}))),xl("* => void",Dl("100ms 25ms linear",ts({opacity:0})))]),fadeInItems:dh("fadeInItems",[Rc("showing",ts({opacity:1})),xl("void => *",[ts({opacity:0}),Dl("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fq=0;const OM=new ln("mat-menu-default-options",{providedIn:"root",factory:function hq(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let yh=(()=>{var t;class e{get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(n){this._overlapTrigger=ho(n)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(n){this._hasBackdrop=ho(n)}set panelClass(n){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(n){this.panelClass=n}constructor(n,i,o,l){this._elementRef=n,this._ngZone=i,this._changeDetectorRef=l,this._directDescendantItems=new zu,this._classList={},this._panelAnimationState="void",this._animationDone=new ut,this.closed=new ri,this.close=this.closed,this.panelId="mat-menu-panel-"+fq++,this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this._overlapTrigger=o.overlapTrigger,this._hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new iZ(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Lf(this._directDescendantItems),Wn(n=>Io(...n.map(i=>i._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n)),this._directDescendantItems.changes.subscribe(n=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const o=n.toArray(),l=Math.max(0,Math.min(o.length-1,i.activeItemIndex||0));o[l]&&!o[l].disabled?i.setActiveItem(l):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Lf(this._directDescendantItems),Wn(i=>Io(...i.map(o=>o._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){const i=n.keyCode,o=this._keyManager;switch(i){case 27:kb(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&o.setFocusOrigin("keyboard"),void o.onKeydown(n)}n.stopPropagation()}focusFirstItem(n="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(jo(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const o=this._keyManager;o.setFocusOrigin(n).setFirstItemActive(),!o.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){const i=Math.min(this._baseElevation+n,24),o=`${this._elevationPrefix}${i}`,l=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!l||l===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(n=this.xPosition,i=this.yPosition){const o=this._classList;o["mat-menu-before"]="before"===n,o["mat-menu-after"]="after"===n,o["mat-menu-above"]="above"===i,o["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(n){this._animationDone.next(n),this._isAnimating=!1}_onAnimationStart(n){this._isAnimating=!0,"enter"===n.toState&&0===this._keyManager.activeItemIndex&&(n.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Lf(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(ar),vt(OM),vt(Uo))},t.\u0275dir=kn({type:t,contentQueries:function(n,i,o){if(1&n&&(Jo(o,dq,5),Jo(o,vh,5),Jo(o,vh,4)),2&n){let l;ci(l=ui())&&(i.lazyContent=l.first),ci(l=ui())&&(i._allItems=l),ci(l=ui())&&(i.items=l)}},viewQuery:function(n,i){if(1&n&&Fo(_a,5),2&n){let o;ci(o=ui())&&(i.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),e})(),jE=(()=>{var t;class e extends yh{constructor(n,i,o,l){super(n,i,o,l),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(ar),vt(OM),vt(Uo))},t.\u0275cmp=gr({type:t,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(n,i){2&n&&li("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Qr([{provide:VE,useExisting:t}]),yr],ngContentSelectors:cq,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(n,i){1&n&&(ha(),Pn(0,lq,3,6,"ng-template"))},dependencies:[Wu],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Mg.transformMenu,Mg.fadeInItems]},changeDetection:0}),e})();const PM=new ln("mat-menu-scroll-strategy"),mq={provide:PM,deps:[cd],useFactory:function pq(t){return()=>t.scrollStrategies.reposition()}},kM=wc({passive:!0});let gq=(()=>{var t;class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){n!==this._menu&&(this._menu=n,this._menuCloseSubscription.unsubscribe(),n&&(this._menuCloseSubscription=n.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(n,i,o,l,c,u,d,w,U){this._overlay=n,this._element=i,this._viewContainerRef=o,this._menuItemInstance=u,this._dir=d,this._focusMonitor=w,this._ngZone=U,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=F.EMPTY,this._hoverSubscription=F.EMPTY,this._menuCloseSubscription=F.EMPTY,this._changeDetectorRef=$t(Uo),this._handleTouchStart=he=>{Zb(he)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ri,this.onMenuOpen=this.menuOpened,this.menuClosed=new ri,this.onMenuClose=this.menuClosed,this._scrollStrategy=l,this._parentMaterialMenu=c instanceof yh?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,kM)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,kM),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const n=this.menu;if(this._menuOpen||!n)return;const i=this._createOverlay(n),o=i.getConfig(),l=o.positionStrategy;this._setPosition(n,l),o.hasBackdrop=null==n.hasBackdrop?!this.triggersSubmenu():n.hasBackdrop,i.attach(this._getPortal(n)),n.lazyContent&&n.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(n),n instanceof yh&&(n._startAnimation(),n._directDescendantItems.changes.pipe(Zi(n.close)).subscribe(()=>{l.withLockedPosition(!1).reapplyLastPosition(),l.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(n){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===n||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof yh?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(fo(o=>"void"===o.toState),jo(1),Zi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(n){n.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,n.direction=this.dir,this._setMenuElevation(n),n.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(n){if(n.setElevation){let i=0,o=n.parentMenu;for(;o;)i++,o=o.parentMenu;n.setElevation(i)}}_setIsMenuOpen(n){n!==this._menuOpen&&(this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(n),this._changeDetectorRef.markForCheck())}_createOverlay(n){if(!this._overlayRef){const i=this._getOverlayConfig(n);this._subscribeToPositions(n,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(n){return new CM({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:n.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:n.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(n,i){n.setPositionClasses&&i.positionChanges.subscribe(o=>{const l="start"===o.connectionPair.overlayX?"after":"before",c="top"===o.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>n.setPositionClasses(l,c)):n.setPositionClasses(l,c)})}_setPosition(n,i){let[o,l]="before"===n.xPosition?["end","start"]:["start","end"],[c,u]="above"===n.yPosition?["bottom","top"]:["top","bottom"],[d,w]=[c,u],[U,he]=[o,l],we=0;if(this.triggersSubmenu()){if(he=o="before"===n.xPosition?"start":"end",l=U="end"===o?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Pe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Pe?Pe._getHostElement().offsetTop:0}we="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else n.overlapTrigger||(d="top"===c?"bottom":"top",w="top"===u?"bottom":"top");i.withPositions([{originX:o,originY:d,overlayX:U,overlayY:c,offsetY:we},{originX:l,originY:d,overlayX:he,overlayY:c,offsetY:we},{originX:o,originY:w,overlayX:U,overlayY:u,offsetY:-we},{originX:l,originY:w,overlayX:he,overlayY:u,offsetY:-we}])}_menuClosingActions(){const n=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Io(n,this._parentMaterialMenu?this._parentMaterialMenu.closed:Jn(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(fo(c=>c!==this._menuItemInstance),fo(()=>this._menuOpen)):Jn(),i)}_handleMousedown(n){Hb(n)||(this._openedBy=0===n.button?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){const i=n.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(fo(n=>n===this._menuItemInstance&&!n.disabled),pM(0,LE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof yh&&this.menu._isAnimating?this.menu._animationDone.pipe(jo(1),pM(0,LE),Zi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(n){return(!this._portal||this._portal.templateRef!==n.templateRef)&&(this._portal=new gM(n.templateRef,this._viewContainerRef)),this._portal}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(cd),vt(Or),vt(ps),vt(PM),vt(VE,8),vt(vh,10),vt(eg,8),vt(nh),vt(ar))},t.\u0275dir=kn({type:t,hostVars:3,hostBindings:function(n,i){1&n&&mr("click",function(l){return i._handleClick(l)})("mousedown",function(l){return i._handleMousedown(l)})("keydown",function(l){return i._handleKeydown(l)}),2&n&&li("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),e})(),HE=(()=>{var t;class e extends gq{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Ji(t)))(i||t)}}(),t.\u0275dir=kn({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[yr]}),e})(),ud=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({providers:[mq],imports:[Nf,sh,ro,NM,Rg,ro]}),e})();class LM extends Il{constructor(e){super(),this.sort_requested=e}}const _q=["hot","top","new","controversial","rising"];let vq=(()=>{var t;class e extends lR{constructor(n){if(!n||!n.keyPrefix||0===n.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,n.keyPrefix)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(nE))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ZE=(()=>{var t;class e{constructor(n){this.sessionStorageService=n,this.key="UniqueId"}getUniqueId(){let n=this.sessionStorageService.get(this.key);return null==n&&(n=0),this.sessionStorageService.set(this.key,++n),n}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(vq))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();String.isNullOrWhitespace||(String.isNullOrWhitespace=function(t){return null==t||t.trim().length<1}),String.hasData||(String.hasData=t=>!String.isNullOrWhitespace(t)),String.toDate||(String.toDate=function(t){if(null==t||""===t)return null;if(t instanceof Date)return t;if(!(t instanceof String))return null;const e=t.split("/");if(3!==e.length)return null;const r=Number(e[0]),n=Number(e[1]);let i=Number(e[2]);if(isNaN(r)||isNaN(n)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,r-1,n);return o.getMonth()+1!==r||o.getDate()!==n||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o});class zE{}Object.trimUnusedProperties||(Object.trimUnusedProperties=function(t){if(null==t)return;if(null==t)return null;let e={...t};for(var r in e){const n=e[r];(null==n||Array.isArray(n)&&0===n.length)&&delete e[r],"string"==typeof n&&String.isNullOrWhitespace(n)&&delete e[r],"number"==typeof n&&0===n&&delete e[r]}return e});class GE{}function yq(t,e,r,n){return qE.apply(this,arguments)}function qE(){return(qE=pi(function*(t,e,r,n){this.set_posts({items:[],subreddit:""}),this.set_errors({});const i=this.subscriptionService.get();let o=n;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(t)&&l.set("after",t),String.hasData(e)&&l.set("modhash",e);const c=new URL(`https://www.reddit.com/r/${o}/${r}.json`);c.search=`${l}`;try{const u=yield fetch(c);if(!u.ok){let he=u.statusText||"Not Found";try{const we=yield u.json();we&&"reason"in we&&(he=we.reason)}catch{}return void this.set_errors(he)}const d=yield u.json();if(d.kind!==Os.Listing)return void this.set_errors(`Listing's kind isn't ${Os.Listing}, its ${d.kind} instead`);if(d.data?.children.some(he=>he.kind!==Os.Link))return void this.set_errors(`Not all of Listing's children are of kind ${Os.Link}`);const w=d.data,U=w.children.filter(he=>null!=he.data).map(he=>tE(he.data,this.is_MSE_supported()));U.forEach(he=>he.subreddit_subscribed=i.includes(he.subreddit)),this.set_posts({after:w.after,items:U,modhash:w.modhash,sort:r,subreddit:o})}catch(u){this.set_errors(u)}})).apply(this,arguments)}function bq(t){return YE.apply(this,arguments)}function YE(){return(YE=pi(function*(t){this.subscriptionService.add(t);const e=this.subscriptionService.get(),r=this.get_posts();r.items.forEach(n=>n.subreddit_subscribed=e.includes(n.subreddit)),this.set_posts(r)})).apply(this,arguments)}function Eq(t){return $E.apply(this,arguments)}function $E(){return($E=pi(function*(t){this.subscriptionService.remove(t);const e=this.subscriptionService.get(),r=this.get_posts();r.items.forEach(n=>n.subreddit_subscribed=e.includes(n.subreddit)),this.set_posts(r)})).apply(this,arguments)}let Ng=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakSet;class c{constructor(){Jr(this,l),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),this.domSanitizer=$t(Xs),this.subscriptionService=$t(cR),this.uniqueIdService=$t(ZE),wn(this,e,new zE),wn(this,r,new GE),wn(this,n,Cs({posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""}})),wn(this,i,Cs({})),this.errors=mt(this,i).asReadonly(),wn(this,o,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported),this.posts=Ss(()=>{const w=mt(this,n).call(this).posts;return null==w?null:{after:w.after,items:w.items?.map(U=>kr(this,l,u).call(this,U)),modhash:w.modhash,sort:w.sort,subreddit:w.subreddit}}),this.actions={listPostAsync:yq.bind(this),subscribe:bq.bind(this),unsubscribe:Eq.bind(this)}}set_errors(w){null!=w&&mt(this,i).set(w||{})}is_MSE_supported(){return mt(this,o)}get_posts(){return ls(mt(this,n)).posts}set_posts(w){mt(this,n).mutate(U=>{const he=U.posts;he.after=String.hasData(w.after)?w.after:"",null!=w.items&&(he.items=w.items),he.modhash=String.hasData(w.modhash)?w.modhash:"",null!=w.sort&&(he.sort=w.sort),null!=w.subreddit&&(he.subreddit=w.subreddit)}),this.set_errors(null)}}function u(d){const w=JSON.parse(JSON.stringify(d));return w.images&&(w.images=w.images.map(U=>Object.freeze(U))),w.videos&&(w.videos=w.videos.map(U=>Object.freeze(U))),Object.freeze(w)}return(t=c).\u0275fac=function(w){return new(w||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),c})();const wq=function(t){return{display:t}};function Tq(t,e){if(1&t){const r=co();un(0,"a",14),mr("click",function(){const o=ht(r).$implicit;return bt(Vn(2).change_sort(o))}),Br(1),fn()}if(2&t){const r=e.$implicit,n=Vn().ngIf;Yt("ngStyle",ga(2,wq,n.sort===r?"none":"inherit")),en(1),Xo(" ",r," ")}}function Sq(t,e){if(1&t){const r=co();Ua(0),un(1,"div",1)(2,"div",2),Br(3),fn(),un(4,"button",3),Br(5),Qn(6,"mat-icon",4),fn(),un(7,"button",5),Qn(8,"mat-icon",6),fn()(),un(9,"mat-menu",null,7),Pn(11,Tq,2,4,"a",8),fn(),un(12,"mat-menu",9,10)(14,"mat-icon",11),mr("click",function(){return ht(r),bt(Vn().back_to_home())}),fn(),Qn(15,"mat-icon",12)(16,"mat-icon",13),fn(),Va()}if(2&t){const r=e.ngIf,n=ji(10),i=ji(13),o=Vn();en(3),Xo(" ",r.subreddit.includes("+")?"multi":r.subreddit," "),en(1),Yt("matMenuTriggerFor",n),en(1),Xo(" ",r.sort," "),en(2),Yt("matMenuTriggerFor",i),en(4),Yt("ngForOf",o.POST_SORT)}}let Cq=(()=>{var t,e=new WeakMap;class r{constructor(){An(this,e,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),this.POST_SORT=_q,this.controller=$t(Ng)}change_sort(i){var o=this;return pi(function*(){mt(o,e).raise(new LM(i))})()}back_to_home(){mt(this,e).raise(sR)}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["page-header"]],standalone:!0,features:[ii],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(i,o){1&i&&Pn(0,Sq,17,5,"ng-container",0),2&i&&Yt("ngIf",o.controller.posts())},dependencies:[uo,vl,Sm,ea,Ag,Ig,gs,Al,ud,jE,vh,HE,za],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0}),r})();const Aq=["*",[["mat-toolbar-row"]]],Iq=["*","mat-toolbar-row"],Dq=tg(class{constructor(t){this._elementRef=t}});let FM=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=kn({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),xq=(()=>{var t;class e extends Dq{constructor(n,i,o){super(n),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(no),vt(Rr))},t.\u0275cmp=gr({type:t,selectors:[["mat-toolbar"]],contentQueries:function(n,i,o){if(1&n&&Jo(o,FM,5),2&n){let l;ci(l=ui())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,i){2&n&&Si("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[yr],ngContentSelectors:Iq,decls:2,vars:0,template:function(n,i){1&n&&(ha(Aq),Ri(0),Ri(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),e})(),Og=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[ro,ro]}),e})();class BM extends Il{constructor(e){super(),this.article=e}}function Rq(t,e){if(1&t){const r=co();un(0,"button",4),mr("click",function(){return ht(r),bt(Vn().on_share_click())}),Qn(1,"mat-icon",5),fn()}}function Mq(t,e){if(1&t&&(un(0,"button",6),Qn(1,"mat-icon",7),Br(2),hl(3,"count"),fn()),2&t){const r=Vn();en(2),Xo(" ",pl(3,1,r.data.ups),"\n")}}function Nq(t,e){if(1&t&&(un(0,"button",6),Qn(1,"mat-icon",8),Br(2),hl(3,"count"),fn()),2&t){const r=Vn();en(2),Xo(" ",pl(3,1,r.data.downs),"\n")}}let Oq=(()=>{var t,e=new WeakMap,r=new WeakMap;class n{constructor(){An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),wn(this,r,""),this._can_share="share"in window.navigator,this.controller=$t(Ng),wn(this,r,document.baseURI),mt(this,r).endsWith("/")&&wn(this,r,mt(this,r).slice(0,-1))}on_share_click(){const o=`${mt(this,r)}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:o})}on_comment_click(){mt(this,e).raise(new BM(this.data.id))}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=gr({type:t,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(o,l){1&o&&(Pn(0,Rq,2,0,"button",0),un(1,"button",1),mr("click",function(){return l.on_comment_click()}),Qn(2,"mat-icon",2),Br(3),hl(4,"count"),fn(),Pn(5,Mq,4,3,"button",3),Pn(6,Nq,4,3,"button",3)),2&o&&(Yt("ngIf",l._can_share),en(3),Xo(" ",pl(4,4,l.data.num_comments),"\n"),en(2),Yt("ngIf",l.data.ups>0),en(1),Yt("ngIf",l.data.downs>0))},dependencies:[q5,ea,Ag,Ig,gs,Al,ud,sh,Og,uo],changeDetection:0}),n})();class bh extends Il{constructor(e){super(),this.subreddit_requested=e}}function Pq(t,e){if(1&t){const r=co();un(0,"a",9),mr("click",function(i){ht(r);const o=Vn();return bt(o.change_subreddit(i,o.post.subreddit))}),Br(1),fn()}if(2&t){const r=Vn();Yt("href","/r/"+r.post.subreddit,cc),en(1),Xo(" r/",r.post.subreddit," ")}}function kq(t,e){if(1&t){const r=co();un(0,"mat-icon",12),mr("click",function(){ht(r);const i=Vn(2);return bt(i.controller.actions.subscribe(i.post.subreddit))}),fn()}}function Lq(t,e){if(1&t){const r=co();un(0,"mat-icon",13),mr("click",function(){ht(r);const i=Vn(2);return bt(i.controller.actions.unsubscribe(i.post.subreddit))}),fn()}}function Fq(t,e){if(1&t&&(Ua(0),Pn(1,kq,1,0,"mat-icon",10),Pn(2,Lq,1,0,"mat-icon",11),Va()),2&t){const r=Vn();en(1),Yt("ngIf",!r.post.subreddit_subscribed),en(1),Yt("ngIf",r.post.subreddit_subscribed)}}function Bq(t,e){1&t&&Qn(0,"mat-icon",14)}function Uq(t,e){1&t&&Qn(0,"mat-icon",15)}function Vq(t,e){1&t&&(un(0,"a",16),Br(1,"x-post"),fn())}const jq=function(t){return["/u",t]};let Hq=(()=>{var t,e=new WeakMap,r=new WeakSet;class n{constructor(){Jr(this,r),An(this,e,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),this.controller=$t(Ng),this.has_image_gallery=!1,this.part_of_multi=!1}set data(l){this.post=l.post,kr(this,r,i).call(this,l.subreddit)}change_subreddit(l,c){l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation(),mt(this,e).raise(new bh(c))}}function i(o){this.part_of_multi=this.post.subreddit.toLowerCase()!==o.toLowerCase();const l=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=l.has_image&&l.has_image_gallery}return(t=n).\u0275fac=function(l){return new(l||t)},t.\u0275cmp=gr({type:t,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(l,c){1&l&&(un(0,"section",0)(1,"div",1),Br(2),fn(),un(3,"section",2),Pn(4,Pq,2,2,"a",3),un(5,"a",4),Br(6),fn(),un(7,"span"),Br(8),hl(9,"age"),fn(),Pn(10,Fq,3,2,"ng-container",5),Pn(11,Bq,1,0,"mat-icon",6),Pn(12,Uq,1,0,"mat-icon",7),Pn(13,Vq,2,0,"a",8),fn()()),2&l&&(en(2),ko(c.post.title),en(2),Yt("ngIf",c.part_of_multi),en(1),Yt("routerLink",ga(11,jq,c.post.author)),en(1),Xo("u/",c.post.author,""),en(2),ko(pl(9,9,c.post.created_utc)),en(2),Yt("ngIf",c.part_of_multi),en(1),Yt("ngIf",!c.part_of_multi&&c.post.stickied),en(1),Yt("ngIf",c.has_image_gallery),en(1),Yt("ngIf",c.post.is_crosspost))},dependencies:[aR,ea,gs,Al,ud,sh,Og,uo,za],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0}),n})();function Zq(t,e){1&t&&Qn(0,"post-body",0),2&t&&Yt("data",Vn().post)}const zq=function(t,e){return{post:t,subreddit:e}};let UM=(()=>{var t;class e{constructor(){this.subreddit="",this.show_body=!0}set data(n){this.post=n.item,this.subreddit=n.subreddit,this.show_body=!n.item.stickied||!n.hide_stickied}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(n,i){1&n&&(Qn(0,"post-header",0),Pn(1,Zq,1,1,"post-body",1),Qn(2,"post-footer",0)),2&n&&(Yt("data",iy(3,zq,i.post,i.subreddit)),en(1),Yt("ngIf",i.show_body),en(1),Yt("data",i.post))},dependencies:[uo,R5,Oq,Hq],changeDetection:0}),e})();function dd(t,e,r){return function Gq(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),r}var Pg;Ni(307);class qq{}class Sa{static sort(e,r,n){let i;e.sort((o,l)=>{let c=0,u=o[r],d=l[r];return null==u&&null==d?0:(null==u&&(void 0===i&&(i=dd(this,Sa,VM).call(this,d)),u=i),null==d&&(void 0===i&&(i=dd(this,Sa,VM).call(this,u)),d=i),"string"==typeof u&&(c=u.localeCompare(d)),"number"==typeof u&&(c=u-d),"boolean"==typeof u&&(c=u===d?0:u?1:-1),u instanceof Date&&(c=u.valueOf()-d.valueOf()),"desc"===n&&(c=-c),c)})}static fromParamMap(e,r){const n={};r.keys.forEach(o=>n[o]=`${r.get(o)}`);const i=Sa.adapt(e,n);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!r.has(o))return;const l=r.getAll(o);i[o]="string"!=typeof l?1!==l.length?l:l[0].split(","):l.split(",")}),i}static adapt(e,r){if(null==e)return null;"function"==typeof e&&(e=new e);const n="string"==typeof r?String.isNullOrWhitespace(r)?{}:JSON.parse(r):r,i={};return Object.keys(n).forEach(o=>{const l=o[0].toLowerCase()+o.slice(1);i[l]=n[o]}),dd(this,Sa,Yq).call(this,e,i),Object.keys(e).filter(o=>"object"==typeof e[o]&&e[o]instanceof qq).forEach(o=>this.adapt(e[o],o in i?i[o]:dd(this,Sa,Kq).call(this,i,`${o}_`))),e}}function VM(t){switch(typeof t){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return t instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}function Yq(t,e){null==t||null==e||dd(this,Pg,Wq).call(this,t).forEach(r=>{if(void 0===e[r])return;let n=typeof t[r];if("object"===n)switch(Reflect.getMetadata("design:type",t,r)){case String:n="string";break;case Boolean:n="boolean";break;case Number:n="number"}switch(n){case"string":t[r]=null===e[r]?t[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":t[r]=null===e[r]?t[r]:dd(this,Pg,$q).call(this,e[r]);break;case"number":t[r]=null===e[r]?t[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((t[r]instanceof Date||Reflect.getMetadata("design:type",t,r)===Date)&&(t[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(t[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",t,r)){const i=Reflect.getMetadata("design:type",t,r);e[r].forEach(o=>t[r].push(Pg.adapt(i,o)))}}})}function $q(t){const e=typeof t;return"boolean"===e?t:"string"===e?"true"===t.toLowerCase():!!t}function Wq(t){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(t).forEach(n=>!r.includes(n)&&r.push(n))}while((t=Object.getPrototypeOf(t))&&!e.includes(t));return r}function Kq(t,e){const r={};return Object.keys(t).filter(n=>n.startsWith(e)).forEach(n=>r[n.replace(e,"")]=t[n]),r}Pg=Sa;class Eh{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(e,r){const n=new Eh;return n.addError(e,r),n}addError(e,r){if(r&&String.hasData(r)){const i=r.split(".");let o=this.errors;for(let l=0;l<i.length;l++){const c=i[l],u=c[0].toLowerCase()+c.slice(1);l<i.length-1?(o[u]={},o=o[u]):o[u]=e}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),e.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(e),void(this.hasErrors=!0);const n=e[0].toLowerCase()+e.slice(1);this.errors.general[n]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}function Xq(t,e){1&t&&(un(0,"mat-toolbar-row")(1,"span"),Br(2,"You are not authorized."),fn()())}function Qq(t,e){1&t&&(un(0,"mat-toolbar-row")(1,"span"),Br(2,"Not found."),fn()())}function Jq(t,e){if(1&t&&(un(0,"mat-toolbar-row")(1,"span",4),Br(2),fn()()),2&t){const r=e.$implicit;en(2),ko(r)}}function eY(t,e){if(1&t&&(un(0,"mat-toolbar",1),Pn(1,Xq,3,0,"mat-toolbar-row",2),Pn(2,Qq,3,0,"mat-toolbar-row",2),Pn(3,Jq,3,1,"mat-toolbar-row",3),fn()),2&t){const r=Vn();en(1),Yt("ngIf",null==r._errors.general?null:r._errors.general.forbidden),en(1),Yt("ngIf",null==r._errors.general?null:r._errors.general.notFound),en(1),Yt("ngForOf",null==r._errors.general?null:r._errors.general.default)}}let WE=(()=>{var t;class e{set errors(n){this._errors=n instanceof Error?Eh.CreateErrorResult(`${n.message} `).errors:n instanceof Eh?n.errors:"string"!=typeof n&&"number"!=typeof n?n:Eh.CreateErrorResult(`${n} `).errors}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[ii],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(n,i){1&n&&Pn(0,eY,4,3,"mat-toolbar",0),2&n&&Yt("ngIf",null==i._errors?null:i._errors.general)},dependencies:[Og,xq,FM,vl,uo],styles:["[_nghost-%COMP%]{width:100%}"]}),e})();class jM extends Il{constructor(e){super(),this.sort_requested=e}}const tY=["best","confidence","top","new","controversial","old"];function oY(t,e){return KE.apply(this,arguments)}function KE(){return(KE=pi(function*(t,e,r=""){this.set_post_comments({items:[],post:null});const n=new URL(`https://www.reddit.com/comments/${t}.json`);n.searchParams.set("sort",`${e}`),n.searchParams.set("limit","100"),n.searchParams.set("raw_json","1"),n.searchParams.set("threaded","false"),String.hasData(r)&&n.searchParams.set("comment",r);try{const i=yield fetch(n);if(!i.ok)return void this.set_errors(i.statusText);const o=yield i.json(),l=o[0],c=o[1];if(c.kind!==Os.Listing)return void this.set_errors(`Comment listing's kind isn't ${Os.Listing}, its ${c.kind} instead`);if(c.data?.children.some(w=>w.kind!==Os.Comment&&w.kind!==Os.More))return void this.set_errors(`Not all of comment listing's children are of kind ${Os.Comment} or ${Os.More}`);const u=function iY(t){const e=[];let r;for(let n=0;n<t.length;n++){const i=t[n];if(i.parent_id.startsWith("t3_")){e.push(i);continue}if(!i.parent_id.startsWith("t1_"))continue;const o=i.parent_id.replace("t1_",""),l=e.find(c=>c.id===o);l&&(r=l,r.children??=[]),r&&r.children.push(i)}return e}(c.data.children.filter(w=>w.kind==Os.Comment&&null!=w.data).map(w=>function nY(t){let e={};return function rY(t,e){e.author=t.author,e.body_html=t.body_html,e.created_utc=t.created_utc,e.downs=t.downs,e.id=t.id,e.stickied=t.stickied,e.ups=t.ups,e.parent_id=t.parent_id}(t,e),e}(w.data))),d=tE(l.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:t,items:u,sort:e,post:d})}catch(i){this.set_errors(i)}})).apply(this,arguments)}let HM=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakSet;class c{constructor(){Jr(this,l),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),this.domSanitizer=$t(Xs),this.uniqueIdService=$t(ZE),wn(this,e,new zE),wn(this,r,new GE),wn(this,n,Cs({post_comments:{article:"",items:null,sort:"best",post:null}})),wn(this,i,Cs({})),this.errors=mt(this,i).asReadonly(),wn(this,o,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported),this.post_comments=Ss(()=>{const w=mt(this,n).call(this).post_comments;return null==w||null==w.items?null:{items:w.items?.map(U=>kr(this,l,u).call(this,U)),sort:w.sort,post:w.post}}),this.actions={listCommentAsync:oY.bind(this)}}set_errors(w){null!=w&&mt(this,i).set(w||{})}is_MSE_supported(){return mt(this,o)}set_post_comments(w){mt(this,n).mutate(U=>{const he=U.post_comments;he.article=String.hasData(w.article)?w.article:"",void 0!==w.items&&(he.items=w.items),null!=w.sort&&(he.sort=w.sort),void 0!==w.post&&(he.post=w.post)}),this.set_errors(null)}}function u(d){const w=JSON.parse(JSON.stringify(d));return Object.freeze(w)}return(t=c).\u0275fac=function(w){return new(w||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),c})();const sY=function(t){return{display:t}};function aY(t,e){if(1&t){const r=co();un(0,"a",13),mr("click",function(){const o=ht(r).$implicit;return bt(Vn(2).change_sort(o))}),Br(1),fn()}if(2&t){const r=e.$implicit,n=Vn().ngIf;Yt("ngStyle",ga(2,sY,n.sort===r?"none":"inherit")),en(1),Xo(" ",r," ")}}function lY(t,e){if(1&t&&(Ua(0),un(1,"div",1)(2,"span"),Br(3,"Comments"),fn(),un(4,"button",2),Br(5),Qn(6,"mat-icon",3),fn(),un(7,"button",4),Qn(8,"mat-icon",5),fn()(),un(9,"mat-menu",null,6),Pn(11,aY,2,4,"a",7),fn(),un(12,"mat-menu",8,9),Qn(14,"mat-icon",10)(15,"mat-icon",11)(16,"mat-icon",12),fn(),Va()),2&t){const r=e.ngIf,n=ji(10),i=ji(13),o=Vn();en(4),Yt("matMenuTriggerFor",n),en(1),Xo(" ",r.sort," "),en(2),Yt("matMenuTriggerFor",i),en(4),Yt("ngForOf",o.POST_COMMENT_SORT)}}let cY=(()=>{var t,e=new WeakMap;class r{constructor(){An(this,e,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),this.POST_COMMENT_SORT=tY,this.controller=$t(HM)}change_sort(i){var o=this;return pi(function*(){mt(o,e).raise(new jM(i))})()}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["page-header"]],standalone:!0,features:[ii],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(i,o){1&i&&Pn(0,lY,17,4,"ng-container",0),2&i&&Yt("ngIf",o.controller.post_comments())},dependencies:[ea,Ag,Ig,gs,Al,ud,jE,vh,HE,vl,uo,Sm,za],changeDetection:0}),r})(),uY=(()=>{var t;class e{constructor(){this.data=null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:1,vars:1,consts:[[3,"data"]],template:function(n,i){1&n&&Qn(0,"text-block",0),2&n&&Yt("data",null==i.data?null:i.data.body_html)},dependencies:[xb],changeDetection:0}),e})();function dY(t,e){1&t&&Qn(0,"mat-icon",3)}const fY=function(t){return["/u",t]};let hY=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(n,i){1&n&&(un(0,"section",0)(1,"a",1),Br(2),fn(),un(3,"span"),Br(4),hl(5,"age"),fn(),Pn(6,dY,1,0,"mat-icon",2),fn()),2&n&&(en(1),Yt("routerLink",ga(6,fY,i.data.author)),en(1),Xo("u/",i.data.author,""),en(2),ko(pl(5,4,i.data.created_utc)),en(2),Yt("ngIf",i.data.stickied))},dependencies:[aR,gs,Al,uo,za],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0}),e})(),pY=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:2,vars:2,consts:[[3,"data"]],template:function(n,i){1&n&&Qn(0,"post-comment-header",0)(1,"post-comment-body",0),2&n&&(Yt("data",i.data),en(1),Yt("data",i.data))},dependencies:[hY,uY],changeDetection:0}),e})();const mY=function(t){return{item:t,subreddit:"",hide_stickied:!1,show_comments:!1}};function gY(t,e){if(1&t&&Qn(0,"post",5),2&t){const r=Vn().ngIf;Yt("data",ga(1,mY,r.post))}}function _Y(t,e){1&t&&Qn(0,"post-comment",7),2&t&&Yt("data",e.$implicit)}function vY(t,e){if(1&t&&(un(0,"section",9),Pn(1,_Y,1,1,"post-comment",10),fn()),2&t){const r=Vn().$implicit,n=Vn(2);en(1),Yt("ngForOf",r.children)("ngForTrackBy",n.trackByFn)}}function yY(t,e){if(1&t&&(un(0,"section",6),Qn(1,"post-comment",7),Pn(2,vY,2,2,"section",8),fn()),2&t){const r=e.$implicit;en(1),Yt("data",r),en(1),Yt("ngIf",r.children)}}function bY(t,e){if(1&t&&(un(0,"div",2),Pn(1,gY,1,3,"post",3),Pn(2,yY,3,2,"section",4),fn()),2&t){const r=e.ngIf,n=Vn();en(1),Yt("ngIf",r.post),en(1),Yt("ngForOf",r.items)("ngForTrackBy",n.trackByFn)}}let ZM=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakSet,l=new WeakSet,c=new WeakSet,u=new WeakSet;class d{constructor(){var Et=this;Jr(this,u),Jr(this,c),Jr(this,l),Jr(this,o),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),wn(this,r,$t(Ho)),wn(this,n,$t(Ea)),wn(this,i,{a:"",i:"",so:"best"}),this.controller=$t(HM),Io(mt(this,e).handle(jM).pipe(oi(Dt=>kr(this,o,w).call(this,Dt))),mt(this,e).handle(bh).pipe(oi(Dt=>kr(this,l,U).call(this,Dt))),mt(this,n).paramMap.pipe(oi(function(){var Dt=pi(function*(wt){return yield kr(Et,u,we).call(Et,wt)});return function(wt){return Dt.apply(this,arguments)}}()))).pipe(sd()).subscribe()}trackByFn(Et,Dt){return Dt.id}}function w(Ue){mt(this,i).so=Ue.sort_requested,kr(this,c,he).call(this,!0)}function U(Ue){mt(this,r).navigate(["r",Ue.subreddit_requested])}function he(Ue=!1){let Et=Object.trimUnusedProperties(mt(this,i));delete Et.a,mt(this,r).navigate(["comments",mt(this,i).a,Et],{replaceUrl:Ue})}function we(Ue){return Pe.apply(this,arguments)}function Pe(){return(Pe=pi(function*(Ue){try{mt(this,e).raise(Dc),wn(this,i,{a:"",i:"",so:"best"}),Sa.fromParamMap(mt(this,i),Ue),yield this.controller.actions.listCommentAsync(mt(this,i).a,mt(this,i).so,mt(this,i).i),setTimeout(()=>window.scrollTo(0,0),100)}finally{mt(this,e).raise(xc)}})).apply(this,arguments)}return(t=d).\u0275fac=function(Et){return new(Et||t)},t.\u0275cmp=gr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ii],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"],[1,"mat-elevation-z5"],[3,"data"],["style","border-left: .25em var(--primary-color) solid;",4,"ngIf"],[2,"border-left",".25em var(--primary-color) solid"],[3,"data",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(Et,Dt){1&Et&&(Qn(0,"page-header")(1,"general-error",0),Pn(2,bY,3,3,"div",1)),2&Et&&(en(1),Yt("errors",Dt.controller.errors()),en(1),Yt("ngIf",Dt.controller.post_comments()))},dependencies:[WE,ea,gs,vl,uo,pY,cY,UM],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0}),d})();const EY=function(t,e){return{item:t,subreddit:e,hide_stickied:!0,show_comments:!0}};function wY(t,e){if(1&t&&Qn(0,"post",6),2&t){const r=e.$implicit,n=Vn().ngIf;Yt("id",r.id)("data",iy(2,EY,r,n.subreddit))}}function TY(t,e){if(1&t){const r=co();un(0,"div",2),Pn(1,wY,1,5,"post",3),un(2,"div",4)(3,"button",5),mr("click",function(){const o=ht(r).ngIf;return bt(Vn().next_page(o.after,o.modhash))}),Br(4,"Next"),fn()()()}if(2&t){const r=e.ngIf,n=Vn();en(1),Yt("ngForOf",r.items)("ngForTrackBy",n.trackByFn)}}let SY=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakSet,c=new WeakSet,u=new WeakSet,d=new WeakSet,w=new WeakSet,U=new WeakSet;class he{constructor(){var Yn=this;Jr(this,U),Jr(this,w),Jr(this,d),Jr(this,u),Jr(this,c),Jr(this,l),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),wn(this,r,$t(Ho)),wn(this,n,$t(Ea)),wn(this,i,$t(qm)),wn(this,o,{a:"",m:"",so:"hot",su:""}),this.controller=$t(Ng),this.id="",Io(mt(this,e).handle(sR).pipe(oi(dr=>kr(this,l,we).call(this))),mt(this,e).handle(LM).pipe(oi(dr=>kr(this,c,Pe).call(this,dr))),mt(this,e).handle(bh).pipe(oi(dr=>kr(this,u,Ue).call(this,dr))),mt(this,e).handle(BM).pipe(oi(dr=>kr(this,d,Et).call(this,dr))),mt(this,n).paramMap.pipe(oi(function(){var dr=pi(function*(Wr){return yield kr(Yn,U,wt).call(Yn,Wr)});return function(Wr){return dr.apply(this,arguments)}}()))).pipe(sd()).subscribe()}trackByFn(Yn,dr){return`${dr.id}${dr.subreddit_subscribed}`}next_page(Yn,dr){mt(this,o).a=Yn,mt(this,o).m=dr,this.go_to_top(),setTimeout(()=>{mt(this,i).save(),kr(this,w,Dt).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}function we(){mt(this,o).a="",mt(this,o).m="",mt(this,o).so="hot",mt(this,o).su="frontpage",kr(this,w,Dt).call(this)}function Pe(vn){mt(this,o).a="",mt(this,o).m="",mt(this,o).so=vn.sort_requested,kr(this,w,Dt).call(this)}function Ue(vn){mt(this,o).a="",mt(this,o).m="",mt(this,o).su=vn.subreddit_requested,kr(this,w,Dt).call(this)}function Et(vn){this.id=vn.article,mt(this,i).save("post",vn.article),mt(this,r).navigate(["comments",vn.article])}function Dt(){let vn=Object.trimUnusedProperties(mt(this,o));delete vn.su,mt(this,r).navigate(["r",mt(this,o).su,vn])}function wt(vn){return hn.apply(this,arguments)}function hn(){return(hn=pi(function*(vn){mt(this,e).raise(Dc),wn(this,o,{a:"",m:"",so:"hot",su:""}),Sa.fromParamMap(mt(this,o),vn),yield this.controller.actions.listPostAsync(mt(this,o).a,mt(this,o).m,mt(this,o).so,mt(this,o).su),mt(this,i).restore(),mt(this,e).raise(xc)})).apply(this,arguments)}return(t=he).\u0275fac=function(Yn){return new(Yn||t)},t.\u0275cmp=gr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ii],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],[1,"mat-elevation-z5",3,"id","data"]],template:function(Yn,dr){1&Yn&&(Qn(0,"page-header")(1,"general-error",0),Pn(2,TY,5,2,"div",1)),2&Yn&&(en(1),Yt("errors",dr.controller.errors()),en(1),Yt("ngIf",dr.controller.posts()))},dependencies:[WE,ea,Ag,gs,vl,uo,UM,Cq],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0}),he})(),CY=(()=>{var t,e=new WeakMap,r=new WeakSet;class n{constructor(){Jr(this,r),An(this,e,{writable:!0,value:'input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select'})}focusFirst(){window.setTimeout(()=>{const l=document.querySelectorAll(mt(this,e));0!==l.length&&l[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const l=Array.from(document.querySelectorAll(mt(this,e))).filter(c=>kr(this,r,i).call(this,c));0!==l.length&&l[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const l=Array.from(document.querySelectorAll(mt(this,e)));if(0===l.length)return;let c=l.findIndex(u=>u===document.activeElement);for(c<0&&(c=0);c<l.length;){if(kr(this,r,i).call(this,l[c]))return void l[c].focus();c++}},50)}}function i(o){return o instanceof HTMLInputElement||o instanceof HTMLSelectElement||o instanceof HTMLTextAreaElement?!o.disabled&&String.isNullOrWhitespace(o.value):"MAT-SELECT"===o.nodeName&&String.isNullOrWhitespace(o.innerText)}return(t=n).\u0275fac=function(l){return new(l||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),AY=(()=>{var t;class e{scrollIntoView(){window.setTimeout(()=>{let n=document.querySelector(".generalError");if(n)return void n.scrollIntoView({behavior:"smooth"});if(n=document.querySelector(".mat-form-field-invalid,.has-error"),!n)return;n.scrollIntoView({behavior:"smooth",block:"nearest"});const i=n.querySelector("input");if(i)return i.select(),void i.focus();const o=n.querySelector("select,mat-select");o&&o.focus()},50)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zM=(()=>{var t;class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(La),vt(Or))},t.\u0275dir=kn({type:t}),e})(),kc=(()=>{var t;class e extends zM{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Ji(t)))(i||t)}}(),t.\u0275dir=kn({type:t,features:[yr]}),e})();const ta=new ln("NgValueAccessor"),DY={provide:ta,useExisting:Ir(()=>kg),multi:!0},RY=new ln("CompositionEventMode");let kg=(()=>{var t;class e extends zM{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xY(){const t=_l()?_l().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(La),vt(Or),vt(RY,8))},t.\u0275dir=kn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&mr("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[Qr([DY]),yr]}),e})();function Nl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function qM(t){return null!=t&&"number"==typeof t.length}const To=new ln("NgValidators"),Ol=new ln("NgAsyncValidators"),MY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class NY{static min(e){return function YM(t){return e=>{if(Nl(e.value)||Nl(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function $M(t){return e=>{if(Nl(e.value)||Nl(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return WM(e)}static requiredTrue(e){return function KM(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function XM(t){return Nl(t.value)||MY.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function QM(t){return e=>Nl(e.value)||!qM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function JM(t){return e=>qM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function e1(t){if(!t)return Lg;let e,r;return"string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(Nl(n.value))return null;const i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return a1(e)}static composeAsync(e){return l1(e)}}function WM(t){return Nl(t.value)?{required:!0}:null}function Lg(t){return null}function t1(t){return null!=t}function n1(t){return _f(t)?Di(t):t}function r1(t){let e={};return t.forEach(r=>{e=null!=r?{...e,...r}:e}),0===Object.keys(e).length?null:e}function o1(t,e){return e.map(r=>r(t))}function s1(t){return t.map(e=>function OY(t){return!t.validate}(e)?e:r=>e.validate(r))}function a1(t){if(!t)return null;const e=t.filter(t1);return 0==e.length?null:function(r){return r1(o1(r,e))}}function XE(t){return null!=t?a1(s1(t)):null}function l1(t){if(!t)return null;const e=t.filter(t1);return 0==e.length?null:function(r){return jx(o1(r,e).map(n1)).pipe(me(r1))}}function QE(t){return null!=t?l1(s1(t)):null}function c1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function u1(t){return t._rawValidators}function d1(t){return t._rawAsyncValidators}function JE(t){return t?Array.isArray(t)?t:[t]:[]}function Fg(t,e){return Array.isArray(t)?t.includes(e):t===e}function f1(t,e){const r=JE(e);return JE(t).forEach(i=>{Fg(r,i)||r.push(i)}),r}function h1(t,e){return JE(e).filter(r=>!Fg(t,r))}class p1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=XE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}class Zo extends p1{get formDirective(){return null}get path(){return null}}class Wa extends p1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class m1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let e0=(()=>{var t;class e extends m1{constructor(n){super(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Wa,2))},t.\u0275dir=kn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&Si("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yr]}),e})();const wh="VALID",Ug="INVALID",fd="PENDING",Th="DISABLED";function r0(t){return(Vg(t)?t.validators:t)||null}function o0(t,e){return(Vg(e)?e.asyncValidators:t)||null}function Vg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class y1{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wh}get invalid(){return this.status===Ug}get pending(){return this.status==fd}get disabled(){return this.status===Th}get enabled(){return this.status!==Th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(f1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(f1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(h1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(h1(e,this._rawAsyncValidators))}hasValidator(e){return Fg(this._rawValidators,e)}hasAsyncValidator(e){return Fg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=Th,this.errors=null,this._forEachChild(n=>{n.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=wh,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wh||this.status===fd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Th:wh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fd,this._hasOwnPendingAsyncValidator=!0;const r=n1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(!1!==r.emitEvent)}get(e){let r=e;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ri,this.statusChanges=new ri}_calculateStatus(){return this._allControlsDisabled()?Th:this.errors?Ug:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fd)?fd:this._anyControlsHaveStatus(Ug)?Ug:wh}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function BY(t){return Array.isArray(t)?XE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function UY(t){return Array.isArray(t)?QE(t):t||null}(this._rawAsyncValidators)}}class s0 extends y1{constructor(e,r,n){super(r0(r),o0(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){(function v1(t,e,r){t._forEachChild((n,i)=>{if(void 0===r[i])throw new zt(1002,"")})})(this,0,e),Object.keys(e).forEach(n=>{(function _1(t,e,r){const n=t.controls;if(!(e?Object.keys(n):n).length)throw new zt(1e3,"");if(!n[r])throw new zt(1001,"")})(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){null!=e&&(Object.keys(e).forEach(n=>{const i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,o)=>{n=r(n,i,o)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const hd=new ln("CallSetDisabledState",{providedIn:"root",factory:()=>jg}),jg="always";function Sh(t,e,r=jg){a0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===r)&&e.valueAccessor.setDisabledState?.(t.disabled),function HY(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&b1(t,e)})}(t,e),function zY(t,e){const r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}(t,e),function ZY(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&b1(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function jY(t,e){if(e.valueAccessor.setDisabledState){const r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}(t,e)}function Zg(t,e,r=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Gg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zg(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function a0(t,e){const r=u1(t);null!==e.validator?t.setValidators(c1(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const n=d1(t);null!==e.asyncValidator?t.setAsyncValidators(c1(n,e.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);const i=()=>t.updateValueAndValidity();zg(e._rawValidators,i),zg(e._rawAsyncValidators,i)}function Gg(t,e){let r=!1;if(null!==t){if(null!==e.validator){const i=u1(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==e.validator);o.length!==i.length&&(r=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=d1(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==e.asyncValidator);o.length!==i.length&&(r=!0,t.setAsyncValidators(o))}}}const n=()=>{};return zg(e._rawValidators,n),zg(e._rawAsyncValidators,n),r}function b1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function E1(t,e){a0(t,e)}function w1(t,e){t._syncPendingControls(),e.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const WY={provide:Zo,useExisting:Ir(()=>qg)},Ch=(()=>Promise.resolve())();let qg=(()=>{var t;class e extends Zo{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ri,this.form=new s0({},XE(n),QE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ch.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Sh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ch.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ch.then(()=>{const i=this._findContainer(n.path),o=new s0({});E1(o,n),i.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ch.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Ch.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,w1(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(To,10),vt(Ol,10),vt(hd,8))},t.\u0275dir=kn({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){1&n&&mr("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qr([WY]),yr]}),e})();function T1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}function S1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const C1=class extends y1{constructor(e=null,r,n){super(r0(r),o0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vg(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=S1(e)?e.value:e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){T1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){T1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){S1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},QY={provide:Wa,useExisting:Ir(()=>Yg)},D1=(()=>Promise.resolve())();let Yg=(()=>{var t;class e extends Wa{constructor(n,i,o,l,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new C1,this._registered=!1,this.name="",this.update=new ri,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function u0(t,e){if(!e)return null;let r,n,i;return Array.isArray(e),e.forEach(o=>{o.constructor===kg?r=o:function YY(t){return Object.getPrototypeOf(t.constructor)===kc}(o)?n=o:i=o}),i||n||r||null}(0,l)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function c0(t,e){if(!t.hasOwnProperty("model"))return!1;const r=t.model;return!!r.isFirstChange()||!Object.is(e,r.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){D1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,o=0!==i&&Yu(i);D1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Hg(t,e){return[...e.path,t]}(n,this._parent):[n]}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Zo,9),vt(To,10),vt(Ol,10),vt(ta,10),vt(Uo,8),vt(hd,8))},t.\u0275dir=kn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qr([QY]),yr,No]}),e})(),R1=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({}),e})();const o$={provide:Zo,useExisting:Ir(()=>$g)};let $g=(()=>{var t;class e extends Zo{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ri,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return Sh(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){Zg(n.control||null,n,!1),function $Y(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,w1(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,o=this.form.get(n.path);i!==o&&(Zg(i||null,n),(t=>t instanceof C1)(o)&&(Sh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);E1(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function GY(t,e){return Gg(t,e)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){a0(this.form,this),this._oldForm&&Gg(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(To,10),vt(Ol,10),vt(hd,8))},t.\u0275dir=kn({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,i){1&n&&mr("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qr([o$]),yr,No]}),e})(),Lc=(()=>{var t;class e{constructor(){this._validator=Lg}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Lg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=kn({type:t,features:[No]}),e})();const _$={provide:To,useExisting:Ir(()=>Wg),multi:!0};let Wg=(()=>{var t;class e extends Lc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yu,this.createValidator=n=>WM}enabled(n){return n}}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Ji(t)))(i||t)}}(),t.\u0275dir=kn({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,i){2&n&&li("required",i._enabled?"":null)},inputs:{required:"required"},features:[Qr([_$]),yr]}),e})(),T$=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[R1]}),e})(),$1=(()=>{var t;class e{static withConfig(n){return{ngModule:e,providers:[{provide:hd,useValue:n.callSetDisabledState??jg}]}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[T$]}),e})(),C$=(()=>{var t;class e{constructor(){this._listeners=[]}notify(n,i){for(let o of this._listeners)o(n,i)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(i=>n!==i)}}ngOnDestroy(){this._listeners=[]}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const A$=["input"],I$=["*"];let W1=0;class K1{constructor(e,r){this.source=e,this.value=r}}const D$={provide:ta,useExisting:Ir(()=>Q1),multi:!0},X1=new ln("MatRadioGroup"),x$=new ln("mat-radio-default-options",{providedIn:"root",factory:function R$(){return{color:"accent"}}});let M$=(()=>{var t;class e{get name(){return this._name}set name(n){this._name=n,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(n){this._labelPosition="before"===n?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(n){this._selected=n,this.value=n?n.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(n){this._disabled=ho(n),this._markRadiosForCheck()}get required(){return this._required}set required(n){this._required=ho(n),this._markRadiosForCheck()}constructor(n){this._changeDetector=n,this._value=null,this._name="mat-radio-group-"+W1++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new ri}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(n=>n===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(n=>{n.name=this.name,n._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new K1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(n=>n._markForCheck())}writeValue(n){this.value=n,this._changeDetector.markForCheck()}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetector.markForCheck()}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Uo))},t.\u0275dir=kn({type:t,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),e})();class N${constructor(e){this._elementRef=e}}const O$=Gb(wZ(N$));let P$=(()=>{var t;class e extends O${get checked(){return this._checked}set checked(n){const i=ho(n);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===n),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(n){this._labelPosition=n}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(n){this._setDisabled(ho(n))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(n){this._required=ho(n)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(n){this._color=n}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,i,o,l,c,u,d,w){super(i),this._changeDetector=o,this._focusMonitor=l,this._radioDispatcher=c,this._providerOverride=d,this._uniqueId="mat-radio-"+ ++W1,this.id=this._uniqueId,this.change=new ri,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=n,this._noopAnimations="NoopAnimations"===u,w&&(this.tabIndex=Sc(w,0))}focus(n,i){i?this._focusMonitor.focusVia(this._inputElement,i,n):this._inputElement.nativeElement.focus(n)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((n,i)=>{n!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{!n&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new K1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(n){n.stopPropagation()}_onInputInteraction(n){if(n.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(n){this._onInputInteraction(n),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(n){this._disabled!==n&&(this._disabled=n,this._changeDetector.markForCheck())}_updateTabIndex(){const n=this.radioGroup;let i;if(i=n&&n.selected&&!this.disabled?n.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return(t=e).\u0275fac=function(n){Fp()},t.\u0275dir=kn({type:t,viewQuery:function(n,i){if(1&n&&Fo(A$,5),2&n){let o;ci(o=ui())&&(i._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[yr]}),e})(),Q1=(()=>{var t;class e extends M${}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Ji(t)))(i||t)}}(),t.\u0275dir=kn({type:t,selectors:[["mat-radio-group"]],contentQueries:function(n,i,o){if(1&n&&Jo(o,J1,5),2&n){let l;ci(l=ui())&&(i._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[Qr([D$,{provide:X1,useExisting:t}]),yr]}),e})(),J1=(()=>{var t;class e extends P${constructor(n,i,o,l,c,u,d,w){super(n,i,o,l,c,u,d,w)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(X1,8),vt(Or),vt(Uo),vt(nh),vt(C$),vt(xs,8),vt(x$,8),sc("tabindex"))},t.\u0275cmp=gr({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,i){1&n&&mr("focus",function(){return i._inputElement.nativeElement.focus()}),2&n&&(li("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Si("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[yr],ngContentSelectors:I$,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,i){if(1&n&&(ha(),un(0,"div",0,1)(2,"div",2)(3,"div",3),mr("click",function(l){return i._onTouchTargetClick(l)}),fn(),un(4,"input",4,5),mr("change",function(l){return i._onInputInteraction(l)}),fn(),un(6,"div",6),Qn(7,"div",7)(8,"div",8),fn(),un(9,"div",9),Qn(10,"div",10),fn()(),un(11,"label",11),Ri(12),fn()()),2&n){const o=ji(1);Si("mdc-form-field--align-end","before"==i.labelPosition),en(2),Si("mdc-radio--disabled",i.disabled),en(2),Yt("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),li("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),en(5),Yt("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),en(2),Yt("for",i.inputId)}},dependencies:[qb],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),e})(),k$=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[ro,Nf,sh,ro]}),e})();function L$(t){ls(this.request)!=t&&this.update_state({request:t,search_result_reddit:null,search_result_reddit_names:null})}function F$(t){ls(this.search_kind)!=t&&this.update_state({search_kind:t})}function B$(){return m0.apply(this,arguments)}function m0(){return(m0=pi(function*(){const t=ls(this.request);try{const e=yield U$.call(this,t);this.update_state({request:t,search_result_reddit:e})}catch(e){this.update_state({errors:e})}})).apply(this,arguments)}function U$(t){return g0.apply(this,arguments)}function g0(){return(g0=pi(function*(t){const n=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${t} site:reddit.com -wiki`)}&num=40`,i=yield fetch(n);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const d=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:d})}else l.innerHTML=this.domSanitizer.sanitize(Vi.HTML,o);const c=[],u=l.querySelectorAll('a[href*="reddit.com/r/"]');for(let d=0;d<u.length;d++){const w=u[d];if(!w.hasChildNodes()||!Array.from(w.childNodes).some(hn=>hn.textContent?.includes("reddit.com")))continue;const U=w.href.indexOf("reddit.com/r/")+13,he=w.href.indexOf("?",U);let we=w.href.slice(U,he);if(we.endsWith("/")&&(we=we.slice(0,-1)),null!=c.find(hn=>hn.url==we))continue;const Ue=w.href.indexOf("/",U),Et=w.href.slice(U,Ue),Dt=w.childNodes.length-1,wt=w.childNodes[Dt].textContent?.split(" : r/")[0]||"";c.push({text:wt,display_name:Et,url:we})}return c})).apply(this,arguments)}function V$(){return _0.apply(this,arguments)}function _0(){return(_0=pi(function*(){const t=ls(this.request);try{const r=(yield j$.call(this,t)).filter(n=>null!=n).map(n=>({accounts_active:0,display_name:n,public_description_html:"",subscribers:0,title:"",url:"",id:""}));this.update_state({request:t,search_result_reddit_names:r})}catch(e){this.update_state({errors:e})}})).apply(this,arguments)}function j$(t){return v0.apply(this,arguments)}function v0(){return(v0=pi(function*(t){const e=[H$.call(this,t),Z$.call(this,t)],n=(yield Promise.allSettled(e)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(n)]})).apply(this,arguments)}function H$(t){return y0.apply(this,arguments)}function y0(){return(y0=pi(function*(t){const e=new URLSearchParams;e.set("query",t),e.set("exact","false"),e.set("include_over_18","true"),e.set("typeahead_active","false"),e.set("include_unadvertisable","true");const r=new URL("https://www.reddit.com/api/search_reddit_names.json");r.search=`${e}`;try{const n=yield fetch(r);return n.ok?(yield n.json()).names:null}catch{return null}})).apply(this,arguments)}function Z$(t){return b0.apply(this,arguments)}function b0(){return(b0=pi(function*(t){const n=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${t} site:reddit.com -comments -wiki`)}&num=60`,i=yield fetch(n);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const u=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:u})}else l.innerHTML=this.domSanitizer.sanitize(Vi.HTML,o);const c=[];return l.querySelectorAll('a[href*="reddit.com/r/"]').forEach(u=>{const d=u;if(d.href.includes("teanopedirt"))return void c.push(d.href);const w=d.href.indexOf("reddit.com/r/")+13,U=d.href.indexOf("/",w),he=decodeURIComponent(d.href.slice(w,U));he.includes("+")?he.split("+").forEach(we=>!c.includes(we)&&c.push(we)):!c.includes(he)&&c.push(he)}),c})).apply(this,arguments)}function z$(){return w0.apply(this,arguments)}function w0(){return(w0=pi(function*(){const t=ls(this.request);if(String.isNullOrWhitespace(t))return;const e=ls(this.search_kind);"Reddit"!=e?"RedditNames"!=e||null==ls(this.search_result_reddit_names)&&(yield V$.call(this)):null==ls(this.search_result_reddit)&&(yield B$.call(this))})).apply(this,arguments)}let Ah=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap;class i{constructor(){An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),this.domSanitizer=$t(Xs),wn(this,e,new zE),wn(this,r,new GE),wn(this,n,{errors:Cs({}),request:Cs(""),search_kind:Cs("RedditNames"),search_result_reddit_names:Cs(null),search_result_reddit:Cs(null)}),this.errors=Ss(()=>Object.freeze(structuredClone(mt(this,n).errors()))),this.request=Ss(()=>mt(this,n).request()),this.search_kind=Ss(()=>mt(this,n).search_kind()),this.search_result_reddit_names=Ss(()=>mt(this,n).search_result_reddit_names()),this.search_result_reddit=Ss(()=>mt(this,n).search_result_reddit()),this.actions={updateSearchKind:F$.bind(this),updateRequest:L$.bind(this),searchAsync:z$.bind(this)}}update_state(l){void 0!==l.errors&&mt(this,n).errors.set(l.errors||{}),void 0!==l.request&&mt(this,n).request.set(l.request||""),void 0!==l.search_kind&&mt(this,n).search_kind.set(l.search_kind||"RedditNames"),void 0!==l.search_result_reddit&&mt(this,n).search_result_reddit.set(l.search_result_reddit),void 0!==l.search_result_reddit_names&&mt(this,n).search_result_reddit_names.set(l.search_result_reddit_names)}}return(t=i).\u0275fac=function(l){return new(l||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),G$=(()=>{var t,e=new WeakMap;class r{constructor(){An(this,e,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),this.store=$t(Ah)}onSearchKindChangeAsync(i){var o=this;return pi(function*(){mt(o,e).raise(Dc),o.store.actions.updateSearchKind(i.value),yield o.store.actions.searchAsync(),mt(o,e).raise(xc)})()}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["page-header"]],standalone:!0,features:[ii],decls:14,vars:2,consts:[[1,"toolbar"],[3,"ngModel","change"],["value","RedditNames"],["value","Reddit"],["type","button","mat-icon-button","","aria-label","menu",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"]],template:function(i,o){if(1&i&&(un(0,"div",0),Br(1," Search "),un(2,"mat-radio-group",1),mr("change",function(c){return o.onSearchKindChangeAsync(c)}),un(3,"mat-radio-button",2),Br(4,"Reddit Names"),fn(),un(5,"mat-radio-button",3),Br(6,"Reddit"),fn()(),un(7,"button",4),Qn(8,"mat-icon",5),fn()(),un(9,"mat-menu",6,7),Qn(11,"mat-icon",8)(12,"mat-icon",9)(13,"mat-icon",10),fn()),2&i){const l=ji(10);en(2),Yt("ngModel",o.store.search_kind()),en(5),Yt("matMenuTriggerFor",l)}},dependencies:[$1,e0,Yg,ea,Ig,gs,Al,ud,jE,HE,k$,Q1,J1,za],changeDetection:0}),r})();const eN=wc({passive:!0});let q$=(()=>{var t;class e{constructor(n,i){this._platform=n,this._ngZone=i,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Jt;const i=Tl(n),o=this._monitoredElements.get(i);if(o)return o.subject;const l=new ut,c="cdk-text-field-autofilled",u=d=>{"cdk-text-field-autofill-start"!==d.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===d.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>l.next({target:d.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>l.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,eN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",u,eN)}}),l}stopMonitoring(n){const i=Tl(n),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(no),Wt(ar))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Y$=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({}),e})();const $$=new ln("MAT_INPUT_VALUE_ACCESSOR"),W$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let K$=0;const X$=TZ(class{constructor(t,e,r,n){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=r,this.ngControl=n,this.stateChanges=new ut}});let Q$=(()=>{var t;class e extends X${get disabled(){return this._disabled}set disabled(n){this._disabled=ho(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(NY.required)??!1}set required(n){this._required=ho(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&dx().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=ho(n)}constructor(n,i,o,l,c,u,d,w,U,he){super(u,l,c,o),this._elementRef=n,this._platform=i,this._autofillMonitor=w,this._formField=he,this._uid="mat-input-"+K$++,this.focused=!1,this.stateChanges=new ut,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ue=>dx().has(Ue)),this._iOSKeyupListener=Ue=>{const Et=Ue.target;!Et.value&&0===Et.selectionStart&&0===Et.selectionEnd&&(Et.setSelectionRange(1,1),Et.setSelectionRange(0,0))};const we=this._elementRef.nativeElement,Pe=we.nodeName.toLowerCase();this._inputValueAccessor=d||we,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&U.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Pe,this._isTextarea="textarea"===Pe,this._isInFormField=!!he,this._isNativeSelect&&(this.controlType=we.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){const n=this._getPlaceholder();if(n!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){W$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Or),vt(no),vt(Wa,10),vt(qg,8),vt($g,8),vt(Mx),vt($$,10),vt(q$),vt(ar),vt(oM,8))},t.\u0275dir=kn({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,i){1&n&&mr("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&n&&(yf("id",i.id)("disabled",i.disabled)("required",i.required),li("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Si("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Qr([{provide:iM,useExisting:t}]),yr,No]}),e})(),J$=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({imports:[ro,PE,PE,Y$,ro]}),e})();const e9=["tooltip"],tN=new ln("mat-tooltip-scroll-strategy"),r9={provide:tN,deps:[cd],useFactory:function n9(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},o9=new ln("mat-tooltip-default-options",{providedIn:"root",factory:function i9(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),nN="tooltip-panel",rN=wc({passive:!0});let d9=(()=>{var t;class e{get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=ho(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){this._disabled=ho(n),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=Sc(n)}get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=Sc(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=n?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(n,i,o,l,c,u,d,w,U,he,we,Pe){this._overlay=n,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=l,this._ngZone=c,this._platform=u,this._ariaDescriber=d,this._focusMonitor=w,this._dir=he,this._defaultOptions=we,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ut,this._scrollStrategy=U,this._document=Pe,we&&(this._showDelay=we.showDelay,this._hideDelay=we.hideDelay,we.position&&(this.position=we.position),we.positionAtOrigin&&(this.positionAtOrigin=we.positionAtOrigin),we.touchGestures&&(this.touchGestures=we.touchGestures)),he.change.pipe(Zi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Zi(this._destroyed)).subscribe(n=>{n?"keyboard"===n&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const n=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{n.removeEventListener(i,o,rN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const o=this._createOverlay(i);this._detach(),this._portal=this._portal||new mM(this._tooltipComponent,this._viewContainerRef);const l=this._tooltipInstance=o.attach(this._portal).instance;l._triggerElement=this._elementRef.nativeElement,l._mouseLeaveHideDelay=this._hideDelay,l.afterHidden().pipe(Zi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),l.show(n)}hide(n=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(n):(i._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){const l=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&l._origin instanceof Or)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&n||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Zi(this._destroyed)).subscribe(l=>{this._updateCurrentPositionClass(l.connectionPair),this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${nN}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Zi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Zi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Zi(this._destroyed)).subscribe(l=>{this._isTooltipVisible()&&27===l.keyCode&&!kb(l)&&(l.preventDefault(),l.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){const i=n.getConfig().positionStrategy,o=this._getOrigin(),l=this._getOverlayPosition();i.withPositions([this._addOffset({...o.main,...l.main}),this._addOffset({...o.fallback,...l.fallback})])}_addOffset(n){return n}_getOrigin(){const n=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i||"below"==i?o={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&n||"right"==i&&!n?o={originX:"start",originY:"center"}:("after"==i||"right"==i&&n||"left"==i&&!n)&&(o={originX:"end",originY:"center"});const{x:l,y:c}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:l,originY:c}}}_getOverlayPosition(){const n=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i?o={overlayX:"center",overlayY:"bottom"}:"below"==i?o={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&n||"right"==i&&!n?o={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&n||"left"==i&&!n)&&(o={overlayX:"start",overlayY:"center"});const{x:l,y:c}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:l,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(jo(1),Zi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===n?n="start":"start"===n&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){const{overlayY:i,originX:o,originY:l}=n;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===i&&"top"===l?"above":"below",c!==this._currentPosition){const u=this._overlayRef;if(u){const d=`${this._cssClassPrefix}-${nN}-`;u.removePanelClass(d+this._currentPosition),u.addPanelClass(d+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==n.x&&void 0!==n.y&&(i=n),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{const i=n.targetTouches?.[0],o=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,o),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{const o=i.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,rN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(n.clientX,n.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const n=this.touchGestures;if("off"!==n){const i=this._elementRef.nativeElement,o=i.style;("on"===n||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===n||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return(t=e).\u0275fac=function(n){Fp()},t.\u0275dir=kn({type:t,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),e})(),f9=(()=>{var t;class e extends d9{constructor(n,i,o,l,c,u,d,w,U,he,we,Pe){super(n,i,o,l,c,u,d,w,U,he,we,Pe),this._tooltipComponent=p9,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(n){const o=!this._dir||"ltr"==this._dir.value;return"top"===n.originY?n.offsetY=-8:"bottom"===n.originY?n.offsetY=8:"start"===n.originX?n.offsetX=o?-8:8:"end"===n.originX&&(n.offsetX=o?8:-8),n}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(cd),vt(Or),vt(yM),vt(ps),vt(ar),vt(no),vt(nZ),vt(nh),vt(tN),vt(eg,8),vt(o9,8),vt(Rr))},t.\u0275dir=kn({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,i){2&n&&Si("mat-mdc-tooltip-disabled",i.disabled)},exportAs:["matTooltip"],features:[yr]}),e})(),h9=(()=>{var t;class e{constructor(n,i){this._changeDetectorRef=n,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ut,this._animationsDisabled="NoopAnimations"===i}show(n){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){const i=this._tooltip.nativeElement,o=this._showAnimation,l=this._hideAnimation;if(i.classList.remove(n?l:o),i.classList.add(n?o:l),this._isVisible=n,n&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Uo),vt(xs,8))},t.\u0275dir=kn({type:t}),e})(),p9=(()=>{var t;class e extends h9{constructor(n,i,o){super(n,o),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>24&&n.width>=200}}return(t=e).\u0275fac=function(n){return new(n||t)(vt(Uo),vt(Or),vt(xs,8))},t.\u0275cmp=gr({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(n,i){if(1&n&&Fo(e9,7),2&n){let o;ci(o=ui())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,i){1&n&&mr("mouseleave",function(l){return i._handleMouseLeave(l)}),2&n&&ju("zoom",i.isVisible()?1:null)},features:[yr],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,i){1&n&&(un(0,"div",0,1),mr("animationend",function(l){return i._handleAnimationEnd(l)}),un(2,"div",2),Br(3),fn()()),2&n&&(Si("mdc-tooltip--multiline",i._isMultiline),Yt("ngClass",i.tooltipClass),en(3),ko(i.message))},dependencies:[Wu],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),e})(),m9=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=Vr({providers:[r9],imports:[mZ,Nf,NM,ro,ro,Rg]}),e})();class g9{static debounce(e,r=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e(...o),r)}}}function _9(t,e){if(1&t){const r=co();un(0,"mat-icon",7),mr("click",function(){return ht(r),bt(Vn().onClear())}),fn()}}function v9(t,e){if(1&t&&(un(0,"mat-hint",8),Br(1),fn()),2&t){const r=Vn();en(1),ko(r.hint)}}function y9(t,e){if(1&t&&(un(0,"mat-hint",9),Br(1),fn()),2&t){const r=Vn(),n=ji(4);en(1),Kp("",n.value.length," / ",r._maxlength," ")}}function b9(t,e){if(1&t&&(un(0,"mat-error"),Br(1),fn()),2&t){const r=Vn();en(1),ko(r.errMsg)}}const E9=function(t){return{readonly:t}};let w9=(()=>{var t,e=new WeakMap,r=new WeakSet;class n{set model(l){this._model=l??""}set maxlength(l){!isNaN(l)&&l>0&&(this._maxlength=l)}set style(l){this._style=this.sanitizer.bypassSecurityTrustStyle(l)}constructor(l,c){Jr(this,r),An(this,e,{writable:!0,value:void 0}),this.sanitizer=l,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.updateOnInput=!1,this._model="",this._maxlength=256,this.inputName=c.getUniqueId().toString(),this.modelChange=new ri,this.errorStateMatcher=new Mx,this.errorStateMatcher.isErrorState=()=>!this.disabled&&!this.readonly&&String.hasData(this.errMsg),wn(this,e,g9.debounce(()=>kr(this,r,i).call(this)))}onClear(){this._model="",kr(this,r,i).call(this)}onChange(){!this.updateOnInput&&kr(this,r,i).call(this)}onInput(){this.updateOnInput&&mt(this,e).call(this)}}function i(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}return(t=n).\u0275fac=function(l){return new(l||t)(vt(Xs),vt(ZE))},t.\u0275cmp=gr({type:t,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",updateOnInput:"updateOnInput",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[ii],decls:9,vars:17,consts:[[2,"width","100%",3,"ngClass"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","input"],["inp",""],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start",4,"ngIf"],["align","end",4,"ngIf"],[4,"ngIf"],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click"],["align","start"],["align","end"]],template:function(l,c){1&l&&(un(0,"mat-form-field",0)(1,"mat-label"),Br(2),fn(),un(3,"input",1,2),mr("ngModelChange",function(d){return c._model=d})("change",function(){return c.onChange()})("input",function(){return c.onInput()}),fn(),Pn(5,_9,1,0,"mat-icon",3),Pn(6,v9,2,1,"mat-hint",4),Pn(7,y9,2,2,"mat-hint",5),Pn(8,b9,2,1,"mat-error",6),fn()),2&l&&(Yt("ngClass",ga(15,E9,c.readonly)),en(2),ko(c.label),en(1),Yt("placeholder",c.placeholder)("readonly",c.readonly)("disabled",c.disabled)("required",c.required)("ngModel",c._model)("errorStateMatcher",c.errorStateMatcher),li("name",c.inputName)("maxlength",c._maxlength)("style",c._style,Xw),en(2),Yt("ngIf",!c.readonly&&!c.disabled),en(1),Yt("ngIf",!c.readonly&&!c.disabled),en(1),Yt("ngIf",!c.readonly&&!c.disabled&&c._maxlength),en(1),Yt("ngIf",!c.readonly&&!c.disabled))},dependencies:[$1,kg,e0,Wg,Yg,gs,Al,PE,nG,NE,OE,$6,X6,J$,Q$,m9,f9,Wu,uo],encapsulation:2}),n})(),T9=(()=>{var t,e=new WeakMap;class r{constructor(){An(this,e,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),this.store=$t(Ah)}ngOnInit(){}onModelChange(i){var o=this;return pi(function*(){mt(o,e).raise(Dc),o.store.actions.updateRequest(i),yield o.store.actions.searchAsync(),mt(o,e).raise(xc)})()}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["search-input"]],standalone:!0,features:[ii],decls:3,vars:1,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10","top","50px"],[3,"model","modelChange"],["inp",""]],template:function(i,o){1&i&&(un(0,"div",0)(1,"input-text",1,2),mr("modelChange",function(c){return o.onModelChange(c)}),fn()()),2&i&&(en(1),Yt("model",o.store.request()))},dependencies:[w9,ea,gs,ud,Og],changeDetection:0}),r})(),S9=(()=>{var t,e=new WeakMap,r=new WeakMap;class n{constructor(){An(this,e,{writable:!0,value:$t(Ea)}),An(this,r,{writable:!0,value:$t(Ho)})}on_click(o,l){o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),mt(this,r).navigate(["/r"].concat(l.url.split("/")),{relativeTo:mt(this,e)})}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=gr({type:t,selectors:[["search-result-reddit"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:4,vars:3,consts:[[3,"href","click"],[3,"data"]],template:function(o,l){1&o&&(un(0,"header")(1,"a",0),mr("click",function(u){return l.on_click(u,l.data)}),Br(2),fn()(),Qn(3,"text-block",1)),2&o&&(en(1),Yt("href","/r"+l.data.display_name,cc),en(1),ko(l.data.display_name),en(1),Yt("data",l.data.text))},dependencies:[ea,gs,xb],changeDetection:0}),n})(),C9=(()=>{var t,e=new WeakMap;class r{constructor(){An(this,e,{writable:!0,value:void 0}),wn(this,e,$t(Ps)),this.store=$t(Ah)}change_subreddit(i,o){i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),mt(this,e).raise(new bh(o))}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["search-result-reddit-names"]],inputs:{data:"data"},standalone:!0,features:[ii],decls:3,vars:2,consts:[[3,"href","click"]],template:function(i,o){1&i&&(un(0,"header")(1,"a",0),mr("click",function(c){return o.change_subreddit(c,o.data.display_name)}),Br(2),fn()()),2&i&&(en(1),Yt("href","/r"+o.data.display_name,cc),en(1),ko(o.data.display_name))},dependencies:[ea,gs],changeDetection:0}),r})();function A9(t,e){if(1&t&&Qn(0,"search-result-reddit-names",4),2&t){const r=e.$implicit;Yt("id",r.display_name)("data",r)}}function I9(t,e){if(1&t&&(un(0,"div",2),Pn(1,A9,1,2,"search-result-reddit-names",3),fn()),2&t){const r=e.ngIf,n=Vn(2);en(1),Yt("ngForOf",r)("ngForTrackBy",n.trackByFn)}}function D9(t,e){if(1&t&&(Ua(0),Pn(1,I9,2,2,"div",1),Va()),2&t){const r=Vn();en(1),Yt("ngIf",r.store.search_result_reddit_names())}}function x9(t,e){if(1&t&&Qn(0,"search-result-reddit",6),2&t){const r=e.$implicit;Yt("id",r.display_name)("data",r)}}function R9(t,e){if(1&t&&(un(0,"div",2),Pn(1,x9,1,2,"search-result-reddit",5),fn()),2&t){const r=e.ngIf,n=Vn(2);en(1),Yt("ngForOf",r)("ngForTrackBy",n.trackByFn)}}function M9(t,e){if(1&t&&(Ua(0),Pn(1,R9,2,2,"div",1),Va()),2&t){const r=Vn();en(1),Yt("ngIf",r.store.search_result_reddit())}}let N9=(()=>{var t;class e{constructor(){this.store=$t(Ah)}trackByFn(n,i){return i.display_name}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["search-result"]],standalone:!0,features:[ii],decls:2,vars:2,consts:[[4,"ngIf"],["class","layout",4,"ngIf"],[1,"layout"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","data"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(n,i){1&n&&(Pn(0,D9,2,1,"ng-container",0),Pn(1,M9,2,1,"ng-container",0)),2&n&&(Yt("ngIf","RedditNames"===i.store.search_kind()),en(1),Yt("ngIf","Reddit"===i.store.search_kind()))},dependencies:[vl,uo,S9,C9],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0}),e})();class O9{constructor(){this.q="",this.k=0}}const P9=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:SY},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a",component:ZM},{path:"comments/:a/:i",component:ZM},{path:"s",component:(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakSet,d=new WeakSet,w=new WeakSet,U=new WeakSet;class he{constructor(){Jr(this,U),Jr(this,w),Jr(this,d),Jr(this,u),An(this,e,{writable:!0,value:void 0}),An(this,r,{writable:!0,value:void 0}),An(this,n,{writable:!0,value:void 0}),An(this,i,{writable:!0,value:void 0}),An(this,o,{writable:!0,value:void 0}),An(this,l,{writable:!0,value:void 0}),An(this,c,{writable:!0,value:void 0}),wn(this,e,$t(CY)),wn(this,r,$t(AY)),wn(this,n,$t(Ps)),wn(this,i,!0),wn(this,o,$t(Ea)),wn(this,l,$t(Ho)),wn(this,c,$t(qm)),this.pageState=new O9,this.store=$t(Ah),Lv(()=>{const wt=this.store.errors();Object.keys(wt).length>0&&mt(this,r).scrollIntoView()}),Lv(()=>{const wt=this.store.request(),hn=this.store.search_kind();mt(this,i)?wn(this,i,!1):(kr(this,w,Ue).call(this,wt,hn),kr(this,U,Et).call(this))}),Io(mt(this,n).handle(bh).pipe(oi(wt=>kr(this,u,we).call(this,wt)))).pipe(sd()).subscribe()}ngOnInit(){var wt=this;return pi(function*(){mt(wt,n).raise(Dc),Sa.adapt(wt.pageState,mt(wt,o).snapshot.queryParams),kr(wt,d,Pe).call(wt),yield wt.store.actions.searchAsync(),mt(wt,c).restore(),mt(wt,e).focusFirst(),mt(wt,n).raise(xc)})()}}function we(Dt){mt(this,c).save(),mt(this,l).navigate(["r",Dt.subreddit_requested])}function Pe(){this.store.actions.updateRequest(this.pageState.q),this.store.actions.updateSearchKind(1==this.pageState.k?"Reddit":"RedditNames")}function Ue(Dt,wt){this.pageState.k="Reddit"===wt?1:0,this.pageState.q=Dt}function Et(){const Dt=Object.trimUnusedProperties(Object.assign({},this.pageState));mt(this,l).navigate([],{queryParams:Dt,replaceUrl:!0})}return(t=he).\u0275fac=function(wt){return new(wt||t)},t.\u0275cmp=gr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ii],decls:4,vars:1,consts:[[3,"errors"]],template:function(wt,hn){1&wt&&Qn(0,"page-header")(1,"general-error",0)(2,"search-input")(3,"search-result"),2&wt&&(en(1),Yt("errors",hn.store.errors()))},dependencies:[WE,ea,T9,G$,N9],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0}),he})()}];(function O3(t,e){return GB({rootComponent:t,...$I(e)})})(g8,{providers:[[{provide:PA,useFactory:function m6(t,e){return pi(function*(){const n=[{name:"arrow_downward",url:"assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"arrow_upward",url:"assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"clear",url:"assets/cancel_FILL0_wght400_GRAD0_opsz24.svg"},{name:"comment",url:"assets/comment_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_more",url:"assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg"},{name:"favorite_filled",url:"assets/favorite_FILL1_wght400_GRAD0_opsz24.svg"},{name:"favorite",url:"assets/favorite_FILL0_wght400_GRAD0_opsz24.svg"},{name:"groups",url:"assets/groups_FILL0_wght400_GRAD0_opsz24.svg"},{name:"home",url:"assets/home_FILL0_wght400_GRAD0_opsz24.svg"},{name:"more_vert",url:"assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg"},{name:"pause",url:"assets/pause_FILL0_wght400_GRAD0_opsz24.svg"},{name:"person",url:"assets/person_FILL0_wght400_GRAD0_opsz24.svg"},{name:"photo_library",url:"assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg"},{name:"play_arrow",url:"assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg"},{name:"push_pin",url:"assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg"},{name:"search",url:"assets/search_FILL0_wght400_GRAD0_opsz24.svg"},{name:"share",url:"assets/share_FILL0_wght400_GRAD0_opsz24.svg"},{name:"trending_up",url:"assets/trending_up_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_mute",url:"assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_off",url:"assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"}].map(i=>function g6(t){return ME.apply(this,arguments)}(i.url).then(o=>t.addSvgIconLiteral(i.name,e.bypassSecurityTrustHtml(o))));yield Promise.allSettled(n)})},multi:!0,deps:[uh,Xs]}],[{provide:nE,useValue:{keyPrefix:"RedditReader"}}],[{provide:sM,useValue:{subscriptSizing:"dynamic"}},{provide:sG,useValue:{duration:3e3}}],function p6(){return[...f6]}(),function c4(t,...e){return tv([{provide:zm,multi:!0,useValue:t},[],{provide:Ea,useFactory:ix,deps:[Ho]},{provide:Sy,multi:!0,useFactory:ox},e.map(r=>r.\u0275providers)])}(P9)]}).catch(t=>console.error(t))},584:Ka=>{self,Ka.exports=(()=>{var Xa={4593:(At,Ze)=>{var F,ye,P,f,h,g={};F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=function(C){for(var M=0,p=[],y=0|C.length/3;0<y--;){var T=(C[M]<<16)+(C[M+1]<<8)+C[M+2];M+=3,p.push(F.charAt(63&T>>18)),p.push(F.charAt(63&T>>12)),p.push(F.charAt(63&T>>6)),p.push(F.charAt(63&T))}return C.length-M==2?(p.push(F.charAt(63&(T=(C[M]<<16)+(C[M+1]<<8))>>18)),p.push(F.charAt(63&T>>12)),p.push(F.charAt(63&T>>6)),p.push("=")):C.length-M==1&&(p.push(F.charAt(63&(T=C[M]<<16)>>18)),p.push(F.charAt(63&T>>12)),p.push("==")),p.join("")},P=function(){for(var C=[],M=0;M<64;++M)C[F.charCodeAt(M)]=M;return C["=".charCodeAt(0)]=0,C}(),f=function(C){for(var M=0,p=[],y=0|C.length/4;0<y--;){var T=(P[C.charCodeAt(M)]<<18)+(P[C.charCodeAt(M+1)]<<12)+(P[C.charCodeAt(M+2)]<<6)+P[C.charCodeAt(M+3)];p.push(255&T>>16),p.push(255&T>>8),p.push(255&T),M+=4}return p&&("="==C.charAt(M-2)?(p.pop(),p.pop()):"="==C.charAt(M-1)&&p.pop()),p},h={encode:function(C){for(var M=[],p=0;p<C.length;++p)M.push(C.charCodeAt(p));return M},decode:function(C){for(var M=0;M<s.length;++M)a[M]=String.fromCharCode(a[M]);return a.join("")}},g.decodeArray=function(C){var M=f(C);return new Uint8Array(M)},g.encodeASCII=function(C){var M=h.encode(C);return ye(M)},g.decodeASCII=function(C){var M=f(C);return h.decode(M)},g.encode=function(C){var M=function(C){for(var M=[],p=0;p<C.length;++p){var y=C.charCodeAt(p);y<128?M.push(y):y<2048?(M.push(192|y>>6),M.push(128|63&y)):y<65536?(M.push(224|y>>12),M.push(128|63&y>>6),M.push(128|63&y)):(M.push(240|y>>18),M.push(128|63&y>>12),M.push(128|63&y>>6),M.push(128|63&y))}return M}(C);return ye(M)},g.decode=function(C){return function(C){for(var M=[],p=0;p<C.length;){var y=C[p++];y<128||(y<224?(y=(31&y)<<6,y|=63&C[p++]):y<240?(y=(15&y)<<12,y|=(63&C[p++])<<6,y|=63&C[p++]):(y=(7&y)<<18,y|=(63&C[p++])<<12,y|=(63&C[p++])<<6,y|=63&C[p++])),M.push(String.fromCharCode(y))}return M.join("")}(f(C))},Ze.decode=g.decode,Ze.decodeArray=g.decodeArray,Ze.encode=g.encode,Ze.encodeASCII=g.encodeASCII},452:(At,Ze)=>{!function(F){"use strict";var ye={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},P=function(H){var k=H;return ye.hasOwnProperty(H)&&(k=ye[H]),String.fromCharCode(k)},f=15,h=32,O={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},S={17:2,18:4,21:6,22:8,23:10,19:13,20:15},g={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},C={25:2,26:4,29:6,30:8,31:10,27:13,28:15},M=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(H){this.time=H},log:function(H,k){this.verboseLevel>=this.verboseFilter[H]&&console.log(this.time+" ["+H+"] "+k)}},y=function(H){for(var k=[],K=0;K<H.length;K++)k.push(H[K].toString(16));return k},T=function(H,k,K,de,ce){this.foreground=H||"white",this.underline=k||!1,this.italics=K||!1,this.background=de||"black",this.flash=ce||!1};T.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(H){for(var k=["foreground","underline","italics","background","flash"],K=0;K<k.length;K++){var de=k[K];H.hasOwnProperty(de)&&(this[de]=H[de])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(H){return this.foreground===H.foreground&&this.underline===H.underline&&this.italics===H.italics&&this.background===H.background&&this.flash===H.flash},copy:function(H){this.foreground=H.foreground,this.underline=H.underline,this.italics=H.italics,this.background=H.background,this.flash=H.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var q=function(H,k,K,de,ce,qe){this.uchar=H||" ",this.penState=new T(k,K,de,ce,qe)};q.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(H,k){this.uchar=H,this.penState.copy(k)},setPenState:function(H){this.penState.copy(H)},equals:function(H){return this.uchar===H.uchar&&this.penState.equals(H.penState)},copy:function(H){this.uchar=H.uchar,this.penState.copy(H.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var W=function(){this.chars=[];for(var H=0;H<h;H++)this.chars.push(new q);this.pos=0,this.currPenState=new T};W.prototype={equals:function(H){for(var k=!0,K=0;K<h;K++)if(!this.chars[K].equals(H.chars[K])){k=!1;break}return k},copy:function(H){for(var k=0;k<h;k++)this.chars[k].copy(H.chars[k])},isEmpty:function(){for(var H=!0,k=0;k<h;k++)if(!this.chars[k].isEmpty()){H=!1;break}return H},setCursor:function(H){this.pos!==H&&(this.pos=H),this.pos<0?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>h&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=h)},moveCursor:function(H){var k=this.pos+H;if(H>1)for(var K=this.pos+1;K<k+1;K++)this.chars[K].setPenState(this.currPenState);this.setCursor(k)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(H){H>=144&&this.backSpace();var k=P(H);this.pos>=h?p.log("ERROR","Cannot insert "+H.toString(16)+" ("+k+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(k,this.currPenState),this.moveCursor(1))},clearFromPos:function(H){var k;for(k=H;k<h;k++)this.chars[k].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var H=[],k=!0,K=0;K<h;K++){var de=this.chars[K].uchar;" "!==de&&(k=!1),H.push(de)}return k?"":H.join("")},setPenStyles:function(H){this.currPenState.setStyles(H),this.chars[this.pos].setPenState(this.currPenState)}};var ne=function(){this.rows=[];for(var H=0;H<f;H++)this.rows.push(new W);this.currRow=14,this.nrRollUpRows=null,this.reset()};ne.prototype={reset:function(){for(var H=0;H<f;H++)this.rows[H].clear();this.currRow=14},equals:function(H){for(var k=!0,K=0;K<f;K++)if(!this.rows[K].equals(H.rows[K])){k=!1;break}return k},copy:function(H){for(var k=0;k<f;k++)this.rows[k].copy(H.rows[k])},isEmpty:function(){for(var H=!0,k=0;k<f;k++)if(!this.rows[k].isEmpty()){H=!1;break}return H},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(H){this.rows[this.currRow].insertChar(H)},setPen:function(H){this.rows[this.currRow].setPenStyles(H)},moveCursor:function(H){this.rows[this.currRow].moveCursor(H)},setCursor:function(H){p.log("INFO","setCursor: "+H),this.rows[this.currRow].setCursor(H)},setPAC:function(H){p.log("INFO","pacData = "+JSON.stringify(H));var k=H.row-1;this.nrRollUpRows&&k<this.nrRollUpRows-1&&(k=this.nrRollUpRows-1),this.currRow=k;var K=this.rows[this.currRow];if(null!==H.indent){var ce=Math.max(H.indent-1,0);K.setCursor(H.indent),H.color=K.chars[ce].penState.foreground}this.setPen({foreground:H.color,underline:H.underline,italics:H.italics,background:"black",flash:!1})},setBkgData:function(H){p.log("INFO","bkgData = "+JSON.stringify(H)),this.backSpace(),this.setPen(H),this.insertChar(32)},setRollUpRows:function(H){this.nrRollUpRows=H},rollUp:function(){if(null!==this.nrRollUpRows){p.log("TEXT",this.getDisplayText());var k=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];k.clear(),this.rows.splice(this.currRow,0,k),p.log("INFO","Rolling up")}else p.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(H){H=H||!1;for(var k=[],K="",ce=0;ce<f;ce++){var qe=this.rows[ce].getTextString();qe&&k.push(H?"Row "+(ce+1)+': "'+qe+'"':qe.trim())}return k.length>0&&(K=H?"["+k.join(" | ")+"]":k.join("\n")),K},getTextAndFormat:function(){return this.rows}};var J=function(H,k){this.chNr=H,this.outputFilter=k,this.mode=null,this.verbose=0,this.displayedMemory=new ne,this.nonDisplayedMemory=new ne,this.lastOutputScreen=new ne,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};J.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(H){this.outputFilter=H},setPAC:function(H){this.writeScreen.setPAC(H)},setBkgData:function(H){this.writeScreen.setBkgData(H)},setMode:function(H){H!==this.mode&&(this.mode=H,p.log("INFO","MODE="+H),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=H)},insertChars:function(H){for(var k=0;k<H.length;k++)this.writeScreen.insertChar(H[k]);p.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(H){p.log("INFO","RU("+H+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(H)},cc_FON:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var H=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=H,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(H){p.log("INFO","TO("+H+") - Tab Offset"),this.writeScreen.moveCursor(H)},cc_MIDROW:function(H){var k={flash:!1};if(k.underline=H%2==1,k.italics=H>=46,k.italics)k.foreground="white";else{var K=Math.floor(H/2)-16;k.foreground=["white","green","blue","cyan","red","yellow","magenta"][K]}p.log("INFO","MIDROW: "+JSON.stringify(k)),this.writeScreen.setPen(k)},outputDataUpdate:function(){var H=p.time;null!==H&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(H,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,H,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:H):this.cueStartTime=H,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(H){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,H,this.displayedMemory),this.cueStartTime=H))}};var se=function(H,k,K){this.field=H||1,this.outputs=[k,K],this.channels=[new J(1,k),new J(2,K)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};se.prototype={getHandler:function(H){return this.channels[H].getHandler()},setHandler:function(H,k){this.channels[H].setHandler(k)},addData:function(H,k){var K,de,ce,qe=!1;this.lastTime=H,p.setTime(H);for(var ot=0;ot<k.length;ot+=2)ce=127&k[ot+1],(de=127&k[ot])>=16&&de<=31&&de===this.lastCmdA&&ce===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+y([de,ce])+") is dropped")):0!==de||0!==ce?(p.log("DATA","["+y([k[ot],k[ot+1]])+"] -> ("+y([de,ce])+")"),(K=this.parseCmd(de,ce))||(K=this.parseMidrow(de,ce)),K||(K=this.parsePAC(de,ce)),K||(K=this.parseBackgroundAttributes(de,ce)),K||(qe=this.parseChars(de,ce))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(qe):p.log("WARNING","No channel found yet. TEXT-MODE?")),K?this.dataCounters.cmd+=2:qe?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+y([de,ce])+" orig: "+y([k[ot],k[ot+1]])))):this.dataCounters.padding+=2},parseCmd:function(H,k){var K;if(!((20===H||21===H||28===H||29===H)&&32<=k&&k<=47||(23===H||31===H)&&33<=k&&k<=35))return!1;var de=this.channels[(K=20===H||21===H||23===H?1:2)-1];return 20===H||21===H||28===H||29===H?32===k?de.cc_RCL():33===k?de.cc_BS():34===k?de.cc_AOF():35===k?de.cc_AON():36===k?de.cc_DER():37===k?de.cc_RU(2):38===k?de.cc_RU(3):39===k?de.cc_RU(4):40===k?de.cc_FON():41===k?de.cc_RDC():42===k?de.cc_TR():43===k?de.cc_RTD():44===k?de.cc_EDM():45===k?de.cc_CR():46===k?de.cc_ENM():47===k&&de.cc_EOC():de.cc_TO(k-32),this.lastCmdA=H,this.lastCmdB=k,this.currChNr=K,!0},parseMidrow:function(H,k){var K=null;if((17===H||25===H)&&32<=k&&k<=47){if((K=17===H?1:2)!==this.currChNr)return p.log("ERROR","Mismatch channel in midrow parsing"),!1;var de=this.channels[K-1];return de.insertChars([32]),de.cc_MIDROW(k),p.log("DEBUG","MIDROW ("+y([H,k])+")"),this.lastCmdA=H,this.lastCmdB=k,!0}return!1},parsePAC:function(H,k){var K;if(!((17<=H&&H<=23||25<=H&&H<=31)&&64<=k&&k<=127||(16===H||24===H)&&64<=k&&k<=95))return!1;K=H<=23?1:2;var ce=this.interpretPAC(64<=k&&k<=95?1===K?O[H]:g[H]:1===K?S[H]:C[H],k);return this.channels[K-1].setPAC(ce),this.lastCmdA=H,this.lastCmdB=k,this.currChNr=K,!0},interpretPAC:function(H,k){var K,de={color:null,italics:!1,indent:null,underline:!1,row:H};return de.underline=1==(1&(K=k>95?k-96:k-64)),K<=13?de.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(K/2)]:K<=15?(de.italics=!0,de.color="white"):de.indent=4*Math.floor((K-16)/2),de},parseChars:function(H,k){var qe,K=null,de=null,ce=null;if(H>=25?(K=2,ce=H-8):(K=1,ce=H),17<=ce&&ce<=19?(p.log("INFO","Special char '"+P(qe=17===ce?k+80:18===ce?k+112:k+144)+"' in channel "+K),de=[qe],this.lastCmdA=H,this.lastCmdB=k):32<=H&&H<=127&&(de=0===k?[H]:[H,k],this.lastCmdA=null,this.lastCmdB=null),de){var ot=y(de);p.log("DEBUG","Char codes =  "+ot.join(","))}return de},parseBackgroundAttributes:function(H,k){var K,de;return((16===H||24===H)&&32<=k&&k<=47||(23===H||31===H)&&45<=k&&k<=47)&&(K={},16===H||24===H?(de=Math.floor((k-32)/2),K.background=M[de],k%2==1&&(K.background=K.background+"_semi")):45===k?K.background="transparent":(K.foreground="black",47===k&&(K.underline=!0)),this.channels[(H<24?1:2)-1].setBkgData(K),this.lastCmdA=H,this.lastCmdB=k,!0)},reset:function(){for(var H=0;H<this.channels.length;H++)this.channels[H]&&this.channels[H].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(H){for(var k=0;k<this.channels.length;k++)this.channels[k]&&this.channels[k].cueSplitAtTime(H)}},F.logger=p,F.PenState=T,F.CaptionScreen=ne,F.Cea608Parser=se,F.findCea608Nalus=function(H,k,K){for(var de=0,ce=k,qe=[],ot=function(Ne,je,it,Mt){if(4!==Ne||je<8)return null;var ut=it.getUint8(Mt),ke=it.getUint16(Mt+1),_t=it.getUint32(Mt+3),xt=it.getUint8(Mt+7);return 181==ut&&49==ke&&1195456820==_t&&3==xt};ce<k+K;){if(de=H.getUint32(ce),6==(31&H.getUint8(ce+4)))for(var pe=ce+5,Nt=-1;pe<ce+4+de-1;){Nt=0;for(var He=255;255===He;)Nt+=He=H.getUint8(pe),pe++;var Ke=0;for(He=255;255===He;)Ke+=He=H.getUint8(pe),pe++;ot(Nt,Ke,H,pe)&&qe.push([pe,Ke]),pe+=Ke}ce+=de+4}return qe},F.extractCea608DataFromRange=function(H,k){var K=k[0],de=[[],[]],ce=31&H.getUint8(K+=8);K+=2;for(var qe=0;qe<ce;qe++){var ot=H.getUint8(K),pe=4&ot,Nt=3&ot;K++;var He=H.getUint8(K);K++;var Ke=H.getUint8(K);K++,pe&&(127&He)+(127&Ke)!=0&&(0===Nt?(de[0].push(He),de[0].push(Ke)):1===Nt&&(de[1].push(He),de[1].push(Ke)))}return de}}(Ze)},8416:(At,Ze,F)=>{"use strict";var ye=F(7688),P=F(5448),f=F(6398),h=F(2032),O=(F(5530),typeof window<"u"&&window||F.g),S=O.dashjs;S||(S=O.dashjs={}),S.MediaPlayer=ye.Z,S.FactoryMaker=P.Z,S.Debug=f.Z,S.Version=(0,h.e)()},6398:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>y});var ye=F(5595),P=F(8512),f=F(5448),h=1,O=2,S=3,g=4,C=5;function M(T){T=T||{};var q,W,ne,J,H=(0,ye.Z)(this.context).getInstance(),k=T.settings,K=[];function de(Ke){return Ke&&Ke.bind?Ke.bind(window.console):window.console.log.bind(window.console)}function ce(){for(var Ke=arguments.length,Ne=new Array(Ke),je=0;je<Ke;je++)Ne[je]=arguments[je];He.apply(void 0,[h,this].concat(Ne))}function qe(){for(var Ke=arguments.length,Ne=new Array(Ke),je=0;je<Ke;je++)Ne[je]=arguments[je];He.apply(void 0,[O,this].concat(Ne))}function ot(){for(var Ke=arguments.length,Ne=new Array(Ke),je=0;je<Ke;je++)Ne[je]=arguments[je];He.apply(void 0,[S,this].concat(Ne))}function pe(){for(var Ke=arguments.length,Ne=new Array(Ke),je=0;je<Ke;je++)Ne[je]=arguments[je];He.apply(void 0,[g,this].concat(Ne))}function Nt(){for(var Ke=arguments.length,Ne=new Array(Ke),je=0;je<Ke;je++)Ne[je]=arguments[je];He.apply(void 0,[C,this].concat(Ne))}function He(Ke,Ne){var je="",it=null;W&&(it=(new Date).getTime(),je+="["+(it-J)+"]"),ne&&Ne&&Ne.getClassName&&(je+="["+Ne.getClassName()+"]",Ne.getType&&(je+="["+Ne.getType()+"]")),je.length>0&&(je+=" ");for(var Mt=arguments.length,ut=new Array(Mt>2?Mt-2:0),ke=2;ke<Mt;ke++)ut[ke-2]=arguments[ke];Array.apply(null,ut).forEach(function(_t){je+=_t+" "}),K[Ke]&&k&&k.get().debug.logLevel>=Ke&&K[Ke](je),k&&k.get().debug.dispatchEvent&&H.trigger(P.Z.LOG,{message:je,level:Ke})}return q={getLogger:function(Ke){return{fatal:ce.bind(Ke),error:qe.bind(Ke),warn:ot.bind(Ke),info:pe.bind(Ke),debug:Nt.bind(Ke)}},setLogTimestampVisible:function(Ke){W=Ke},setCalleeNameVisible:function(Ke){ne=Ke}},W=!0,ne=!0,J=(new Date).getTime(),typeof window<"u"&&window.console&&(K[h]=de(window.console.error),K[O]=de(window.console.error),K[S]=de(window.console.warn),K[g]=de(window.console.info),K[C]=de(window.console.debug)),q}M.__dashjs_factory_name="Debug";var p=f.Z.getSingletonFactory(M);p.LOG_LEVEL_NONE=0,p.LOG_LEVEL_FATAL=h,p.LOG_LEVEL_ERROR=O,p.LOG_LEVEL_WARNING=S,p.LOG_LEVEL_INFO=g,p.LOG_LEVEL_DEBUG=C,f.Z.updateSingletonFactory(M.__dashjs_factory_name,p);const y=p},5595:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(8825);function f(){var S={};function g(M,p,y){var T=-1;return S[M]&&S[M].some(function(q,W){if(q&&q.callback===p&&(!y||y===q.scope))return T=W,!0}),T}var C={on:function(M,p,y){var T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!M)throw new Error("event type cannot be null or undefined");if(!p||"function"!=typeof p)throw new Error("listener must be a function: "+p);var q=T.priority||0;if(!(g(M,p,y)>=0)){S[M]=S[M]||[];var W={callback:p,scope:y,priority:q};y&&y.getStreamId&&(W.streamId=y.getStreamId()),y&&y.getType&&(W.mediaType=y.getType()),T&&T.mode&&(W.mode=T.mode),S[M].some(function(J,se){if(J&&q>J.priority)return S[M].splice(se,0,W),!0})||S[M].push(W)}},off:function(M,p,y){if(M&&p&&S[M]){var T=g(M,p,y);T<0||(S[M][T]=null)}},trigger:function(M){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(M&&S[M]){if((p=p||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");p.type=M,y.streamId&&(p.streamId=y.streamId),y.mediaType&&(p.mediaType=y.mediaType),S[M].filter(function(T){return!(!T||y.streamId&&T.streamId&&T.streamId!==y.streamId||y.mediaType&&T.mediaType&&T.mediaType!==y.mediaType||y.mode&&T.mode&&T.mode!==y.mode||!T.mode&&y.mode&&y.mode===P.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(T){return T&&T.callback.call(T.scope,p)})}},reset:function(){S={}}};return C}f.__dashjs_factory_name="EventBus";var h=ye.Z.getSingletonFactory(f);h.EVENT_PRIORITY_LOW=0,h.EVENT_PRIORITY_HIGH=5e3,ye.Z.updateSingletonFactory(f.__dashjs_factory_name,h);const O=h},5448:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function(){var P,f=[],h={},O={};function S(p,y){for(var T in f){var q=f[T];if(q.context===p&&q.name===y)return q.instance}return null}function g(p,y){return y[p]}function C(p,y,T){p in T&&(T[p]=y)}function M(p,y,T){var q,W=p.__dashjs_factory_name,ne=y[W];if(ne){var J=ne.instance;if(!ne.override)return J.apply({context:y,factory:P},T);for(var se in q=p.apply({context:y},T),J=J.apply({context:y,factory:P,parent:q},T))q.hasOwnProperty(se)&&(q[se]=J[se])}else q=p.apply({context:y},T);return q.getClassName=function(){return W},q}return P={extend:function(p,y,T,q){!q[p]&&y&&(q[p]={instance:y,override:T})},getSingletonInstance:S,setSingletonInstance:function(p,y,T){for(var q in f){var W=f[q];if(W.context===p&&W.name===y)return void(f[q].instance=T)}f.push({name:y,context:p,instance:T})},deleteSingletonInstances:function(p){f=f.filter(function(y){return y.context!==p})},getSingletonFactory:function(p){var y=g(p.__dashjs_factory_name,h);return y||(y=function(T){var q;return void 0===T&&(T={}),{getInstance:function(){return q||(q=S(T,p.__dashjs_factory_name)),q||(q=M(p,T,arguments),f.push({name:p.__dashjs_factory_name,context:T,instance:q})),q}}},h[p.__dashjs_factory_name]=y),y},getSingletonFactoryByName:function(p){return g(p,h)},updateSingletonFactory:function(p,y){C(p,y,h)},getClassFactory:function(p){var y=g(p.__dashjs_factory_name,O);return y||(y=function(T){return void 0===T&&(T={}),{create:function(){return M(p,T,arguments)}}},O[p.__dashjs_factory_name]=y),y},getClassFactoryByName:function(p){return g(p,O)},updateClassFactory:function(p,y){C(p,y,O)}},P}()},1264:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>y});var ye=F(5448),P=F(703),f=F(6398),h=F(3393),O=F(7855),S=F(5595),g=F(8512);function C(T){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(T)}function M(T,q,W){return q in T?Object.defineProperty(T,q,{value:W,enumerable:!0,configurable:!0,writable:!0}):T[q]=W,T}function p(){var T,q,ne=(0,S.Z)(this.context).getInstance(),J={"streaming.delay.liveDelay":g.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":g.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},se={debug:{logLevel:f.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:h.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:h.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:h.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:h.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(T={},M(T,O.w.MPD_TYPE,500),M(T,O.w.XLINK_EXPANSION_TYPE,500),M(T,O.w.MEDIA_SEGMENT_TYPE,1e3),M(T,O.w.INIT_SEGMENT_TYPE,1e3),M(T,O.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),M(T,O.w.INDEX_SEGMENT_TYPE,1e3),M(T,O.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),M(T,O.w.LICENSE,1e3),M(T,O.w.OTHER_TYPE,1e3),M(T,"lowLatencyReductionFactor",10),T),retryAttempts:(q={},M(q,O.w.MPD_TYPE,3),M(q,O.w.XLINK_EXPANSION_TYPE,1),M(q,O.w.MEDIA_SEGMENT_TYPE,3),M(q,O.w.INIT_SEGMENT_TYPE,3),M(q,O.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),M(q,O.w.INDEX_SEGMENT_TYPE,3),M(q,O.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),M(q,O.w.LICENSE,3),M(q,O.w.OTHER_TYPE,3),M(q,"lowLatencyMultiplyFactor",5),q),abr:{movingAverageMethod:h.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:h.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:h.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:h.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},H=P.Z.clone(se);function k(K,de,ce){for(var qe in K)K.hasOwnProperty(qe)&&(de.hasOwnProperty(qe)?"object"!==C(K[qe])||K[qe]instanceof Array||null===K[qe]?(de[qe]=P.Z.clone(K[qe]),J[ce+qe]&&ne.trigger(J[ce+qe])):k(K[qe],de[qe],ce.slice()+qe+"."):console.error("Settings parameter "+ce+qe+" is not supported"))}return{get:function(){return H},update:function(K){"object"===C(K)&&k(K,H,"")},reset:function(){H=P.Z.clone(se)}}}p.__dashjs_factory_name="Settings";const y=ye.Z.getSingletonFactory(p)},703:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>S});var ye=F(3875),P=F.n(ye),f=F(1067);function h(g){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(g)}const S=function(){function g(){!function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}(this,g)}var M;return M=[{key:"mixin",value:function(p,y,T){var q,W={};if(p)for(var ne in y)y.hasOwnProperty(ne)&&(q=y[ne],ne in p&&(p[ne]===q||ne in W&&W[ne]===q)||(p[ne]="object"===h(p[ne])&&null!==p[ne]?g.mixin(p[ne],q,T):T(q)));return p}},{key:"clone",value:function(p){if(!p||"object"!==h(p))return p;var y;if(p instanceof Array){y=[];for(var T=0,q=p.length;T<q;++T)T in p&&y.push(g.clone(p[T]))}else y={};return g.mixin(y,p,g.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(p,y){try{if(!y||0===y.length)return p;var T=new URL(p);return y.forEach(function(q){q.key&&q.value&&T.searchParams.set(q.key,q.value)}),T.href}catch{return p}}},{key:"parseHttpHeaders",value:function(p){var y={};if(!p)return y;for(var T=p.trim().split("\r\n"),q=0,W=T.length;q<W;q++){var ne=T[q],J=ne.indexOf(": ");J>0&&(y[ne.substring(0,J)]=ne.substring(J+2))}return y}},{key:"generateUuid",value:function(){var p=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(y){var T=(p+16*Math.random())%16|0;return p=Math.floor(p/16),("x"==y?T:3&T|8).toString(16)})}},{key:"generateHashCode",value:function(p){var y=0;if(0===p.length)return y;for(var T=0;T<p.length;T++)y=(y<<5)-y+p.charCodeAt(T),y|=0;return y}},{key:"getRelativeUrl",value:function(p,y){try{var T=new URL(p),q=new URL(y);if(T.protocol=q.protocol,T.origin!==q.origin)return y;var W=P().relative(T.pathname.substr(0,T.pathname.lastIndexOf("/")),q.pathname.substr(0,q.pathname.lastIndexOf("/"))),ne=0===W.length?1:0;return W+=q.pathname.substr(q.pathname.lastIndexOf("/")+ne,q.pathname.length-1),q.pathname.length<W.length?q.pathname:W}catch{return y}}},{key:"parseUserAgent",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var y=null===p&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,f.UAParser)(y)}catch{return{}}}},{key:"stringHasProtocol",value:function(p){return/(http(s?)):\/\//i.test(p)}}],M&&function O(g,C){for(var M=0;M<C.length;M++){var p=C[M];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}(g,M),g}()},2032:(At,Ze,F)=>{"use strict";function ye(){return"4.7.1"}F.d(Ze,{e:()=>ye})},2230:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=function(){function f(){!function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}var O;return(O=[{key:"extend",value:function(S,g){if(S){var C=!!g&&g.override,M=!!g&&g.publicOnly;for(var p in S)!S.hasOwnProperty(p)||this[p]&&!C||M&&-1===S[p].indexOf("public_")||(this[p]=S[p])}}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}()},4351:(At,Ze,F)=>{"use strict";function ye(S){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(S)}function P(S,g){return(P=Object.setPrototypeOf||function(C,M){return C.__proto__=M,C})(S,g)}function h(S){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(S)}F.d(Ze,{Z:()=>O});const O=function(S){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&P(y,T)}(p,S);var g,C,M=(g=p,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=h(g);if(C){var q=h(this).constructor;y=Reflect.construct(T,arguments,q)}else y=T.apply(this,arguments);return function f(S,g){return!g||"object"!==ye(g)&&"function"!=typeof g?function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(S):g}(this,y)});function p(){var y;return function(T,q){if(!(T instanceof q))throw new TypeError("Cannot call a class as a function")}(this,p),(y=M.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",y.BUFFERING_COMPLETED="bufferingCompleted",y.BUFFER_CLEARED="bufferCleared",y.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",y.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",y.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",y.CMSD_STATIC_HEADER="cmsdStaticHeader",y.CURRENT_TRACK_CHANGED="currentTrackChanged",y.DATA_UPDATE_COMPLETED="dataUpdateCompleted",y.INBAND_EVENTS="inbandEvents",y.INITIAL_STREAM_SWITCH="initialStreamSwitch",y.INIT_FRAGMENT_LOADED="initFragmentLoaded",y.INIT_FRAGMENT_NEEDED="initFragmentNeeded",y.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",y.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",y.LOADING_COMPLETED="loadingCompleted",y.LOADING_PROGRESS="loadingProgress",y.LOADING_DATA_PROGRESS="loadingDataProgress",y.LOADING_ABANDONED="loadingAborted",y.MANIFEST_UPDATED="manifestUpdated",y.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",y.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",y.QUOTA_EXCEEDED="quotaExceeded",y.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",y.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",y.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",y.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",y.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",y.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",y.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",y.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",y.SOURCE_BUFFER_ERROR="sourceBufferError",y.STREAMS_COMPOSED="streamsComposed",y.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",y.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",y.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",y.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",y.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",y.URL_RESOLUTION_FAILED="urlResolutionFailed",y.VIDEO_CHUNK_RECEIVED="videoChunkReceived",y.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",y.XLINK_ELEMENT_LOADED="xlinkElementLoaded",y.XLINK_READY="xlinkReady",y.SEEK_TARGET="seekTarget",y.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",y.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",y.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",y.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",y.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",y}return p}(F(8342).Z)},8512:(At,Ze,F)=>{"use strict";function ye(g){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(g)}function f(g,C){return(f=Object.setPrototypeOf||function(M,p){return M.__proto__=p,M})(g,C)}function O(g){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(g)}F.d(Ze,{Z:()=>S});const S=new(function(g){!function(T,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(q&&q.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),q&&f(T,q)}(y,g);var C,M,p=(C=y,M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var T,q=O(C);if(M){var W=O(this).constructor;T=Reflect.construct(q,arguments,W)}else T=q.apply(this,arguments);return function h(g,C){return!C||"object"!==ye(C)&&"function"!=typeof C?function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(g):C}(this,T)});function y(){return function P(g,C){if(!(g instanceof C))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return y}(F(4351).Z))},8342:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=function(){function f(){!function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}var O;return(O=[{key:"extend",value:function(S,g){if(S){var C=!!g&&g.override,M=!!g&&g.publicOnly;for(var p in S)!S.hasOwnProperty(p)||this[p]&&!C||M&&-1===S[p].indexOf("public_")||(this[p]=S[p])}}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}()},9326:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>C});var ye=F(3186),P=F(7855),f=F(5448),h=F(8825),O=F(7387),S=F(1553);function g(M){var p,y,T,q,W,ne=(M=M||{}).eventBus,se=M.urlUtils,H=M.type,k=M.streamInfo,K=M.segmentsController,de=M.timelineConverter,ce=M.baseURLController;function qe(){return H}function ot(){T=null}function pe(Ne,je,it){var Mt,ut,ke=ce.resolve(it.path),_t={};return ke&&je!==ke.url&&se.isRelative(je)?(Mt=ke.url,ut=ke.serviceLocation,_t=ke.queryParams,je&&(Mt=se.resolve(je,Mt))):Mt=je,!se.isRelative(Mt)&&(Ne.url=Mt,Ne.serviceLocation=ut,Ne.queryParams=_t,!0)}function Nt(Ne,je){if(null==je)return null;var it=new ye.Z,Mt=je.representation,ut=Mt.adaptation.period.mpd.manifest.Period_asArray[Mt.adaptation.period.index].AdaptationSet_asArray[Mt.adaptation.index].Representation_asArray[Mt.index].bandwidth,ke=je.media;return ke=(0,O.vi)(ke,"Number",je.replacementNumber),ke=(0,O.vi)(ke,"Time",je.replacementTime),ke=(0,O.vi)(ke,"Bandwidth",ut),ke=(0,O.Aj)(ke,Mt.id),ke=(0,O.eR)(ke),it.mediaType=qe(),it.type=P.w.MEDIA_SEGMENT_TYPE,it.range=je.mediaRange,it.startTime=je.presentationStartTime,it.mediaStartTime=je.mediaStartTime,it.duration=je.duration,it.timescale=Mt.timescale,it.availabilityStartTime=je.availabilityStartTime,it.availabilityEndTime=je.availabilityEndTime,it.availabilityTimeComplete=Mt.availabilityTimeComplete,it.wallStartTime=je.wallStartTime,it.quality=Mt.index,it.index=je.index,it.mediaInfo=Ne,it.adaptationIndex=Mt.adaptation.index,it.representationId=Mt.id,pe(it,ke,Mt)?it:void 0}function He(Ne,je,it){var Mt=null;if(!je||!je.segmentInfoType)return Mt;var ut=K.getSegmentByTime(je,it);return ut&&(T=ut,y.debug("Index for time "+it+" is "+ut.index),Mt=Nt(Ne,ut)),Mt}function Ke(){y.debug("Dynamic stream complete"),W=!0}return p={initialize:function(Ne){q=Ne,W=!1,K.initialize(Ne)},getStreamId:function(){return k.id},getType:qe,getStreamInfo:function(){return k},getInitRequest:function(Ne,je){return je?function(it,Mt,ut){var ke=new ye.Z,_t=Mt.adaptation.period,xt=_t.start;if(ke.mediaType=ut,ke.type=P.w.INIT_SEGMENT_TYPE,ke.range=Mt.range,ke.availabilityStartTime=de.calcAvailabilityStartTimeFromPresentationTime(xt,Mt,q),ke.availabilityEndTime=de.calcAvailabilityEndTimeFromPresentationTime(xt+_t.duration,Mt,q),ke.quality=Mt.index,ke.mediaInfo=it,ke.representationId=Mt.id,pe(ke,Mt.initialization,Mt))return ke.url=(0,O.vi)(ke.url,"Bandwidth",Mt.bandwidth),ke}(Ne,je,qe()):null},getSegmentRequestForTime:He,getCurrentIndex:function(){return T?T.index:-1},getNextSegmentRequest:function(Ne,je){var it=null;if(!je||!je.segmentInfoType)return null;var Mt=T?T.index+1:0,ut=K.getSegmentByIndex(je,Mt,T?T.mediaStartTime:-1);if(ut)it=Nt(Ne,ut),T=ut;else{if(q&&!W)return y.debug(qe()+" No segment found at index: "+Mt+". Wait for next loop"),null;W=!0}return it},isLastSegmentRequested:function(Ne,je){return!(!Ne||!T||!W&&(!isFinite(Ne.adaptation.period.duration)||T.presentationStartTime+T.duration>je||!(Ne.mediaFinishedInformation&&!isNaN(Ne.mediaFinishedInformation.numberOfSegments)&&!isNaN(T.index)&&T.index>=Ne.mediaFinishedInformation.numberOfSegments-1&&(!q||Ne.segmentInfoType===S.Z.SEGMENT_TEMPLATE||q&&Ne.segmentInfoType===S.Z.SEGMENT_LIST&&Ne.adaptation.period.nextPeriodId)||q&&Ne.adaptation.period.nextPeriodId&&Ne.segmentInfoType===S.Z.SEGMENT_TIMELINE&&Ne.mediaFinishedInformation&&!isNaN(Ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&T&&!isNaN(T.mediaStartTime)&&!isNaN(T.duration)&&T.mediaStartTime+T.duration>=Ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)))},reset:function(){ot(),ne.off(h.Z.DYNAMIC_TO_STATIC,Ke,p)},getNextSegmentRequestIdempotent:function(Ne,je){var Mt=K.getSegmentByIndex(je,T?T.index+1:0,T?T.mediaStartTime:-1);return Mt?Nt(Ne,Mt):null},getValidTimeAheadOfTargetTime:function(Ne,je,it,Mt){try{if(isNaN(Ne)||!je||!it)return NaN;if(Ne<0&&(Ne=0),isNaN(Mt)&&(Mt=.5),He(je,it,Ne))return Ne;if(it.adaptation.period.start+it.adaptation.period.duration<Ne)return NaN;for(var ut=isFinite(it.adaptation.period.duration)?it.adaptation.period.start+it.adaptation.period.duration:Ne+30,ke=Math.min(Ne+Mt,ut),_t=NaN,xt=null;ke<=ut;){var $e=null;if(ke<=ut&&($e=He(je,it,ke)),$e){_t=ke,xt=$e;break}ke+=Mt}if(xt){var yt=xt.startTime+xt.duration;return Ne>xt.startTime&&yt-Ne>Mt?Ne:!isNaN(xt.startTime)&&Ne<xt.startTime&&_t>xt.startTime?xt.startTime+.001:Math.min(yt-Mt,_t)}return _t}catch{return NaN}}},y=M.debug.getLogger(p),ot(),ne.on(h.Z.DYNAMIC_TO_STATIC,Ke,p),p}g.__dashjs_factory_name="DashHandler";const C=f.Z.getClassFactory(g)},1553:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=new(function(){function f(){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}var O;return(O=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}())},7802:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>g});var ye=F(5448),P=F(1724),f=F(3636),h=F(1736),O=F(5246);function S(C){var M,p,y=this.context,T=(C=C||{}).dashConstants,q=C.type,W=C.segmentBaseController;function ne(J){return J?J.segments?p[T.SEGMENT_BASE]:p[J.segmentInfoType]:null}return M={initialize:function(J){p[T.SEGMENT_TIMELINE]=(0,P.Z)(y).create(C,J),p[T.SEGMENT_TEMPLATE]=(0,f.Z)(y).create(C,J),p[T.SEGMENT_LIST]=(0,h.Z)(y).create(C,J),p[T.SEGMENT_BASE]=(0,O.Z)(y).create(C,J)},updateInitData:function(J,se){return se?Promise.resolve():W.getSegmentBaseInitSegment({representation:J,mediaType:q})},updateSegmentData:function(J,se){return se?Promise.resolve():W.getSegmentList({mimeType:J.mimeType,representation:J,mediaType:q})},getSegmentByIndex:function(J,se,H){var k=ne(J);return k?k.getSegmentByIndex(J,se,H):null},getSegmentByTime:function(J,se){var H=ne(J);return H?H.getSegmentByTime(J,se):null},getMediaFinishedInformation:function(J){var se=ne(J);return se?se.getMediaFinishedInformation(J):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},p={},M}S.__dashjs_factory_name="SegmentsController";const g=ye.Z.getClassFactory(S)},1736:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(3393),f=F(7387);function h(S,g){var C=(S=S||{}).timelineConverter;function M(){if(!C||!C.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function p(y,T){if(M(),!y)return null;var q=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentList,W=q.SegmentURL_asArray.length,ne=y&&!isNaN(y.startNumber)?y.startNumber:1,J=Math.max(ne-1,0),se=Math.max(T-J,0),H=null;if(se<W){var k=q.SegmentURL_asArray[se];(H=(0,f.NF)(C,g,y,T))&&(H.replacementTime=(ne+T-1)*y.segmentDuration,H.media=k.media?k.media:"",H.mediaRange=k.mediaRange,H.indexRange=k.indexRange)}return H}return{getSegmentByIndex:p,getSegmentByTime:function(y,T){if(M(),!y)return null;var q=y.segmentDuration;if(isNaN(q))return null;var W=C.calcPeriodRelativeTimeFromMpdRelativeTime(y,T);return p(y,Math.floor(W/q))},getMediaFinishedInformation:function(y){var T={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!y)return T;var q=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentList,W=y&&!isNaN(y.startNumber)?y.startNumber:1,ne=Math.max(W-1,0);return T.numberOfSegments=ne+q.SegmentURL_asArray.length,T}}}h.__dashjs_factory_name="ListSegmentsGetter";const O=ye.Z.getClassFactory(h)},5246:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(3393);function f(O){var S=(O=O||{}).timelineConverter;function g(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function C(M,p){if(g(),!M)return null;var y,T=M.segments?M.segments.length:-1;if(p<T&&(y=M.segments[p])&&y.index===p)return y;for(var q=0;q<T;q++)if((y=M.segments[q])&&y.index===p)return y;return null}return{getSegmentByIndex:C,getSegmentByTime:function(M,p){return g(),C(M,function(T,q){if(!T)return-1;var W,ne,J,se,H,k=T.segments,K=k?k.length:null,de=-1;if(k&&K>0)for(H=0;H<K;H++)if(J=(ne=k[H]).presentationStartTime,q+(W=(se=ne.duration)/2)>=J&&q-W<J+se){de=ne.index;break}return de}(M,p))},getMediaFinishedInformation:function(M){var p={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return M&&M.segments&&(p.numberOfSegments=M.segments.length),p}}}f.__dashjs_factory_name="SegmentBaseGetter";const h=ye.Z.getClassFactory(f)},7387:(At,Ze,F)=>{"use strict";F.d(Ze,{Aj:()=>h,NF:()=>C,TJ:()=>M,eR:()=>f,vi:()=>O});var ye=F(2011);function P(p,y){for(;p.length<y;)p="0"+p;return p}function f(p){return p&&p.split("$$").join("$")}function h(p,y){if(!y||!p||-1===p.indexOf("$RepresentationID$"))return p;var T=y.toString();return p.split("$RepresentationID$").join(T)}function O(p,y,T){var q,W,ne,J,se,H,k=y.length;if(!p)return p;for(;;){if((q=p.indexOf("$"+y))<0||(W=p.indexOf("$",q+k))<0)return p;if((ne=p.indexOf("%0",q+k))>q&&ne<W)switch(J=p.charAt(W-1),se=parseInt(p.substring(ne+2,W-1),10),J){case"d":case"i":case"u":H=P(T.toString(),se);break;case"x":H=P(T.toString(16),se);break;case"X":H=P(T.toString(16),se).toUpperCase();break;case"o":H=P(T.toString(8),se);break;default:return p}else H=T;p=p.substring(0,q)+H+p.substring(W+1)}}function S(p,y,T,q,W,ne,J,se){var k=new ye.Z;return k.representation=p,k.duration=y,k.presentationStartTime=T,k.mediaStartTime=q,k.availabilityStartTime=W.calcAvailabilityStartTimeFromPresentationTime(ne,p,J),k.availabilityEndTime=W.calcAvailabilityEndTimeFromPresentationTime(ne+y,p,J),k.wallStartTime=W.calcWallTimeForSegment(k,J),k.replacementNumber=k.representation.startNumber+se,k.index=se,k}function g(p,y,T,q){var W=y.adaptation.period;if(isFinite(W.duration)&&W.start+W.duration<=T.presentationStartTime)return!1;if(q){if("INF"===y.availabilityTimeOffset)return!0;var ne=p.getClientReferenceTime();return T.availabilityStartTime.getTime()<=ne&&(!isFinite(T.availabilityEndTime)||T.availabilityEndTime.getTime()>=ne)}return!0}function C(p,y,T,q){var W,ne,J;W=T.segmentDuration,isNaN(W)&&(W=T.adaptation.period.duration),ne=parseFloat((T.adaptation.period.start+q*W).toFixed(5)),J=parseFloat((ne+W).toFixed(5));var se=S(T,W,ne,p.calcMediaTimeFromPresentationTime(ne,T),p,J,y,q);return g(p,T,se,y)?se:null}function M(p,y,T,q,W,ne,J,se,H,k){var K,de,ce=q/ne,qe=W/ne;return K=p.calcPresentationTimeFromMediaTime(ce,T),g(p,T,de=S(T,qe,K,ce,p,K+qe,y,H),y)?(de.replacementTime=k||q,J=O(J,"Number",de.replacementNumber),J=O(J,"Time",de.replacementTime),de.media=J,de.mediaRange=se,de):null}},3636:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(3393),f=F(7387);function h(S,g){var C=(S=S||{}).timelineConverter;function M(){if(!C||!C.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function p(y,T){if(M(),!y)return null;var q=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentTemplate;T=Math.max(T,0);var W=(0,f.NF)(C,g,y,T);if(W){W.replacementTime=Math.round((T-1)*y.segmentDuration*y.timescale,10);var ne=q.media;ne=(0,f.vi)(ne,"Number",W.replacementNumber),ne=(0,f.vi)(ne,"Time",W.replacementTime),W.media=ne}return W}return{getSegmentByIndex:p,getSegmentByTime:function(y,T){if(M(),!y)return null;var q=y.segmentDuration;if(isNaN(q))return null;var W=C.calcPeriodRelativeTimeFromMpdRelativeTime(y,T);return p(y,Math.floor(W/q))},getMediaFinishedInformation:function(y){var T={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!y)return T;var q=y.segmentDuration;return T.numberOfSegments=isNaN(q)?1:Math.ceil(y.adaptation.period.duration/q),T}}}h.__dashjs_factory_name="TemplateSegmentsGetter";const O=ye.Z.getClassFactory(h)},1724:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(3393),f=F(7387);function h(S,g){var C=(S=S||{}).timelineConverter,M=S.dashMetrics;function p(){if(!C)throw new Error(P.Z.MISSING_CONFIG_ERROR)}function y(q,W){var ne,J,se,H,k,K,de,ce=q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentTemplate||q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentList,ot=ce.SegmentURL_asArray,pe=0,Nt=-1;de=q.timescale;var He=!1;for(se=0,H=(ne=ce.SegmentTimeline.S_asArray).length;se<H&&!He;se++)for(K=0,(J=ne[se]).hasOwnProperty("r")&&(K=J.r),J.hasOwnProperty("t")&&(pe=J.t),K<0&&(K=T(q,ne[se+1],J,de,pe/de)),k=0;k<=K&&!He;k++)(He=W(pe,ce,ot,J,de,++Nt,se))&&(q.segmentDuration=J.d/de),pe+=J.d}function T(q,W,ne,J,se){var H;if(W&&W.hasOwnProperty("t"))H=W.t/J;else try{var k=0;if(isNaN(q.adaptation.period.start)||isNaN(q.adaptation.period.duration)||!isFinite(q.adaptation.period.duration)){var K=M.getCurrentDVRInfo();k=isNaN(K.end)?0:K.end}else k=q.adaptation.period.start+q.adaptation.period.duration;H=C.calcMediaTimeFromPresentationTime(k,q),q.segmentDuration=ne.d/J}catch{H=0}return Math.max(Math.ceil((H-se)/(ne.d/J))-1,0)}return{getSegmentByIndex:function(q,W,ne){if(p(),!q)return null;var J=null,se=!1;return y(q,function(H,k,K,de,ce,qe,ot){if(se||ne<0){var pe=k.media,Nt=de.mediaRange;return K&&(pe=K[ot].media||"",Nt=K[ot].mediaRange),J=(0,f.TJ)(C,g,q,H,de.d,ce,pe,Nt,qe,de.tManifest),!0}return H>=ne*ce-.5*de.d&&(se=!0),!1}),J},getSegmentByTime:function(q,W){if(p(),!q)return null;void 0===W&&(W=null);var ne=null,J=C.calcMediaTimeFromPresentationTime(W,q);return y(q,function(se,H,k,K,de,ce,qe){var ot=parseFloat((J*de).toPrecision(15));if(ot<se+K.d&&ot>=se){var pe=H.media,Nt=K.mediaRange;return k&&(pe=k[qe].media||"",Nt=k[qe].mediaRange),ne=(0,f.TJ)(C,g,q,se,K.d,de,pe,Nt,ce,K.tManifest),!0}return!1}),ne},getMediaFinishedInformation:function(q){if(!q)return 0;var W,ne,J,se,H,k,K,ce=0,qe=0,ot=0;for(K=q.timescale,se=(W=(q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentTemplate||q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentList).SegmentTimeline.S_asArray).length,J=0;J<se;J++)for(k=0,(ne=W[J]).hasOwnProperty("r")&&(k=ne.r),ne.hasOwnProperty("t")&&(qe=(ce=ne.t)/K),k<0&&(k=T(q,W[J+1],ne,K,qe)),H=0;H<=k;H++)ot++,qe=(ce+=ne.d)/K;return{numberOfSegments:ot,mediaTimeOfLastSignaledSegment:qe}}}}h.__dashjs_factory_name="TimelineSegmentsGetter";const O=ye.Z.getClassFactory(h)},2011:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.schemeIdUri="",this.value=""}},7688:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>tp});var ye=F(452),P=F.n(ye),f=F(3393),h=F(1553),O=F(3860),S=F(5595),g=F(8512),C=F(5448),M=F(6398),p=F(8825);function y(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Ce,Y,_e,fe,be,I,$,G=this.context,Z=(0,S.Z)(G).getInstance();function j(){z(),X=!1,ie=0,te=0,ge=0,be=!1,Ce=!1,I=!1,Y=NaN,A&&(Z.off(g.Z.DATA_UPDATE_COMPLETED,et,v),Z.off(g.Z.LOADING_PROGRESS,En,v),Z.off(g.Z.MANIFEST_UPDATED,Zt,v),Z.off(g.Z.STREAMS_COMPOSED,ct,v),Z.off(p.Z.PLAYBACK_ENDED,pr,v),Z.off(p.Z.STREAM_INITIALIZING,_n,v),Z.off(p.Z.REPRESENTATION_SWITCH,pt,v),Z.off(p.Z.BUFFER_LEVEL_STATE_CHANGED,dt,v),Te(),A.removeEventListener("canplay",Oe),A.removeEventListener("canplaythrough",nt),A.removeEventListener("play",ft),A.removeEventListener("waiting",Pt),A.removeEventListener("playing",Gt),A.removeEventListener("pause",Cn),A.removeEventListener("error",jt),A.removeEventListener("seeking",Sn),A.removeEventListener("seeked",dn),A.removeEventListener("timeupdate",Dn),A.removeEventListener("progress",Rn),A.removeEventListener("ratechange",er),A.removeEventListener("loadedmetadata",lr),A.removeEventListener("loadeddata",zn),A.removeEventListener("stalled",bn),A.removeEventListener("ended",hr),A.removeEventListener("volumechange",nr)),ee=null,A=null,V=null,re=null}function ae(){return parseFloat((le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-ze()).toFixed(5))}function le(Ge){var Ee=Ge||V;return Ee.start+Ee.duration}function ve(){var Ge=arguments.length>0&&void 0!==arguments[0]&&arguments[0];V&&A&&A.getElement()?(Ge&&re&&Ve(ze()),A.play()):X=!0}function z(){V&&A&&A.pause()}function Q(Ge){var Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=arguments.length>3&&void 0!==arguments[3]&&arguments[3];V&&A&&A.getElement()&&Ge!==(isNaN(Y)?A.getTime():Y)&&((_e=!0===st)||(Y=Ge),m.info("Requesting seek to time: "+Ge+(_e?" (internal)":"")),re&&It&&Ve(Ge),A.setCurrentTime(Ge,Ee))}function Me(){if(V&&A&&re){var Ge=b&&b.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,Ee=L.getCurrentDVRInfo(Ge);return Ee&&Ee.range?Ee.range.end:0}}function Ve(Ge){var Ee=new Date(B.getClientReferenceTime()),st=N.getRegularPeriods()[0],It=B.calcPresentationTimeFromWallTime(Ee,st);ie=It-Ge}function ze(){return V&&A?A.getTime():null}function Je(){return V&&A?A.isPaused():null}function Fe(){return V&&A?A.isSeeking():null}function Ie(){return V&&A?A.isStalled():null}function Ct(){return V&&A?A.getPlaybackRate():null}function ht(){return V&&A?A.getEnded():null}function bt(){return re}function Ft(){var Ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Je()&&re&&0!==A.getReadyState()&&!Fe()&&!be){Ge||(Ge=b.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO);var Ee=ze(),st=function sn(Ge,Ee){var st=L.getCurrentDVRInfo(Ee),It=st?st.range:null;return It?Ge>It.end?Math.max(It.end-ie,It.start):Ge>0&&Ge+.25<It.start&&Math.abs(Ge-It.start)<31536e4?Ce?Math.max(It.end-ie,It.start):It.start:Ge:NaN}(Ee,Ge);!isNaN(st)&&st!==Ee&&!Fe()&&(Ie()||fe||1===A.getReadyState())&&(m.debug("UpdateCurrentTime: Seek to actual time: ".concat(st," from currentTime: ").concat(Ee)),Q(st,!1,!1))}}function Be(){null===ee&&(ee=setInterval(function(){var Ge;Z.trigger(g.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:re,time:new Date}),bt()&&(b.addDVRMetric(),Je()?(Ge=Date.now(),(!De||Ge>De+500)&&(De=Ge,Dn())):Ft())},$.get().streaming.wallclockTimeUpdateInterval))}function Te(){clearInterval(ee),ee=null}function et(Ge){var Ee=N.convertRepresentationToRepresentationInfo(Ge.currentRepresentation),st=Ee?Ee.mediaInfo.streamInfo:null;null!==st&&V.id===st.id&&(V=st)}function Oe(){Z.trigger(g.Z.CAN_PLAY)}function nt(){Z.trigger(g.Z.CAN_PLAY_THROUGH)}function dt(Ge){Ge.streamId===b.getActiveStreamInfo().id&&(fe=Ge.state===O.Z.BUFFER_EMPTY,$.get().streaming.buffer.setStallState&&A.setStallState(Ge.mediaType,Ge.state===O.Z.BUFFER_EMPTY))}function ft(){m.info("Native video element event: play"),Ft(),Be(),Z.trigger(g.Z.PLAYBACK_STARTED,{startTime:ze()})}function Pt(){m.info("Native video element event: waiting"),Z.trigger(g.Z.PLAYBACK_WAITING,{playingTime:ze()})}function Gt(){m.info("Native video element event: playing"),_e=!1,Z.trigger(g.Z.PLAYBACK_PLAYING,{playingTime:ze()})}function Cn(){m.info("Native video element event: pause"),Z.trigger(g.Z.PLAYBACK_PAUSED,{ended:ht()})}function Sn(){if(!_e){var Ge=ze();isNaN(Y)||Y===Ge||(Ge=Y),Y=NaN,m.info("Seeking to: "+Ge),Be(),Z.trigger(g.Z.PLAYBACK_SEEKING,{seekTime:Ge,streamId:V.id})}}function dn(){m.info("Native video element event: seeked"),_e=!1,Z.trigger(g.Z.PLAYBACK_SEEKED)}function Dn(){V&&Z.trigger(g.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:ae(),time:ze(),streamId:V.id})}function Rn(){Z.trigger(g.Z.PLAYBACK_PROGRESS,{streamId:V.id})}function er(){var Ge=Ct();m.info("Native video element event: ratechange: ",Ge),Z.trigger(g.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Ge})}function lr(){m.info("Native video element event: loadedmetadata"),Z.trigger(g.Z.PLAYBACK_METADATA_LOADED),Be()}function zn(){m.info("Native video element event: loadeddata"),Z.trigger(g.Z.PLAYBACK_LOADED_DATA)}function hr(){m.info("Native video element event: ended"),z(),Te();var Ge=b?b.getActiveStreamInfo():null;Ge&&Z.trigger(g.Z.PLAYBACK_ENDED,{isLast:Ge.isLast})}function nr(){Z.trigger(g.Z.PLAYBACK_VOLUME_CHANGED)}function pr(Ge){if(ee&&Ge.isLast){m.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Ee=Ge.seekTime?Ge.seekTime:le();A.setCurrentTime(Ee),z(),Te()}}function jt(Ge){Z.trigger(g.Z.PLAYBACK_ERROR,{error:(Ge.target||Ge.srcElement).error})}function En(Ge){if(!1===Ge.stream&&Ce&&!isNaN(Ge.request.duration)){var Ee=1.2*Ge.request.duration;Ee>ie&&(m.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Ee.toFixed(2)),ie=Ee,te=Ee)}}function bn(Ge){Z.trigger(g.Z.PLAYBACK_STALLED,{e:Ge})}function _n(Ge){var Ee;(Ee=Ge.mediaInfo)&&Ee.supplementalProperties&&"true"===Ee.supplementalProperties[f.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(m.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),Ce=!0)}function pt(Ge){var Ee=b.getActiveStreamInfo();Ge&&Ee&&Ge.currentRepresentation&&Ge.streamId&&Ge.streamId===Ee.id&&Ge.mediaType&&(Ge.mediaType===f.Z.VIDEO||Ge.mediaType===f.Z.AUDIO)&&(Ce=!Ge.currentRepresentation.availabilityTimeComplete)&&!I&&(I=!0)}function Zt(){be=!0}function ct(){be=!1}return v={initialize:function(Ge,Ee){V=Ge,!0!==Ee&&(A.addEventListener("canplay",Oe),A.addEventListener("canplaythrough",nt),A.addEventListener("play",ft),A.addEventListener("waiting",Pt),A.addEventListener("playing",Gt),A.addEventListener("pause",Cn),A.addEventListener("error",jt),A.addEventListener("seeking",Sn),A.addEventListener("seeked",dn),A.addEventListener("timeupdate",Dn),A.addEventListener("progress",Rn),A.addEventListener("ratechange",er),A.addEventListener("loadedmetadata",lr),A.addEventListener("loadeddata",zn),A.addEventListener("stalled",bn),A.addEventListener("ended",hr),A.addEventListener("volumechange",nr),re=V.manifestInfo.isDynamic,fe=!1,_e=!1,Z.on(g.Z.DATA_UPDATE_COMPLETED,et,v),Z.on(g.Z.LOADING_PROGRESS,En,v),Z.on(g.Z.MANIFEST_UPDATED,Zt,v),Z.on(g.Z.STREAMS_COMPOSED,ct,v),Z.on(p.Z.PLAYBACK_ENDED,pr,v,{priority:S.Z.EVENT_PRIORITY_HIGH}),Z.on(p.Z.STREAM_INITIALIZING,_n,v),Z.on(p.Z.REPRESENTATION_SWITCH,pt,v),Z.on(p.Z.BUFFER_LEVEL_STATE_CHANGED,dt,v),X&&(X=!1,ve()))},setConfig:function(Ge){Ge&&(Ge.streamController&&(b=Ge.streamController),Ge.serviceDescriptionController&&(D=Ge.serviceDescriptionController),Ge.dashMetrics&&(L=Ge.dashMetrics),Ge.adapter&&(N=Ge.adapter),Ge.videoModel&&(A=Ge.videoModel),Ge.timelineConverter&&(B=Ge.timelineConverter),Ge.settings&&($=Ge.settings))},getTimeToStreamEnd:ae,getBufferLevel:function(){var Ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ee=null;return b.getActiveStreamProcessors().forEach(function(st){if(!Ge||0===Ge.length||-1===Ge.indexOf(st.getType())){var It=st.getBufferLevel();Ee=null===Ee?It:Math.min(Ee,It)}}),Ee},getPlaybackStalled:function(){return fe},getTime:ze,getLowLatencyModeEnabled:function(){return Ce},getInitialCatchupModeActivated:function(){return I},getIsManifestUpdateInProgress:function(){return be},getPlaybackRate:Ct,getPlayedRanges:function(){return V&&A?A.getPlayedRanges():null},getEnded:ht,getIsDynamic:bt,getStreamController:function(){return b},computeAndSetLiveDelay:function(Ge,Ee){var st,It,Qt,nn=!isNaN(Ge)&&isFinite(Ge)?Ge:NaN,Xn=N.getSuggestedPresentationDelay(),qr=D.getServiceDescriptionSettings();return st=isNaN($.get().streaming.delay.liveDelay)?null===$.get().streaming.delay.liveDelayFragmentCount||isNaN($.get().streaming.delay.liveDelayFragmentCount)||isNaN(nn)?qr&&!isNaN(qr.liveDelay)&&qr.liveDelay>0?qr.liveDelay:!0===$.get().streaming.delay.useSuggestedPresentationDelay&&null!==Xn&&!isNaN(Xn)&&Xn>0?Xn:isNaN(nn)?Ee&&!isNaN(Ee.minBufferTime)?4*Ee.minBufferTime:4*V.manifestInfo.minBufferTime:4*nn:nn*$.get().streaming.delay.liveDelayFragmentCount:$.get().streaming.delay.liveDelay,null!==(Qt=N.getAvailabilityStartTime())&&(ge=Qt),It=Ee&&Ee.dvrWindowSize>0?Math.min(st,Ee.dvrWindowSize):st,ie=It,te=It,It},getLiveDelay:function(){return ie},getOriginalLiveDelay:function(){return te},getCurrentLiveLatency:function(){if(!re||isNaN(ge))return NaN;var Ge=ze();if(isNaN(Ge)||0===Ge)return 0;var Ee=(new Date).getTime()+1e3*B.getClientTimeOffset();return Math.max(((Ee-ge-1e3*Ge)/1e3).toFixed(3),0)},play:ve,isPaused:Je,isStalled:Ie,pause:z,isSeeking:Fe,getStreamEndTime:le,seek:Q,seekToOriginalLive:function(){var Ge=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=Me();0!==It&&Q(It-(ie=te),Ge,Ee,st)},seekToCurrentLive:function(){var Ge=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=Me();0!==It&&Q(It-ie,Ge,Ee,st)},reset:j,updateCurrentTime:Ft,getAvailabilityStartTime:function(){return ge}},m=(0,M.Z)(G).getInstance().getLogger(v),j(),v}y.__dashjs_factory_name="PlaybackController";const T=C.Z.getSingletonFactory(y);var q=F(3186),W="loading",ne="executed",J="failed";function se(v){var m,b,D,L,N=(v=v||{}).eventBus,A=v.events,B=v.dashMetrics,ee=v.fragmentLoader,te=v.streamInfo,V=v.type;function re(I){var $;return!!I&&($=!1,D.some(function(G){if(Z=I,j=G,!isNaN(Z.index)&&Z.startTime===j.startTime&&Z.adaptationIndex===j.adaptationIndex&&Z.type===j.type||(ae=I,le=G,isNaN(ae.index)&&isNaN(le.index)&&ae.quality===le.quality)||function(ae,le){return ae.action===q.Z.ACTION_COMPLETE&&ae.action===le.action}(I,G))return $=!0;var ae,le,Z,j}),$)}function X(I){return isNaN(I.duration)?.25:Math.min(I.duration/8,.5)}function De(I){D=D.filter(function($){var G=X($);return isNaN($.startTime)||void 0!==I&&$.startTime>=I-G})}function ge(I,$){$<=I+.5||(D=D.filter(function(G){var Z=X(G);return isNaN(G.startTime)||G.startTime>=$-Z||isNaN(G.duration)||G.startTime+G.duration<=I+Z}))}function Se(I,$,G){for(var Z=I.length-1;Z>=0;Z--){var j=I[Z],ae=j.startTime,le=ae+j.duration;if(G=isNaN(G)?X(j):G,!isNaN(ae)&&!isNaN(le)&&$+G>=ae&&$-G<le||isNaN(ae)&&isNaN($))return j}return null}function Ce(I,$){B.addSchedulingInfo(I,$),B.addRequestsQueue(I.mediaType,L,D)}function Y(I){I.sender===ee&&(L.splice(L.indexOf(I.request),1),I.response&&!I.error&&D.push(I.request),Ce(I.request,I.error?J:ne),N.trigger(A.FRAGMENT_LOADING_COMPLETED,{request:I.request,response:I.response,error:I.error,sender:this},{streamId:te.id,mediaType:V}))}function _e(I){I.sender===ee&&N.trigger(A.FRAGMENT_LOADING_PROGRESS,{request:I.request,response:I.response,error:I.error,sender:this},{streamId:te.id,mediaType:V})}function fe(I){I.sender===ee&&N.trigger(A.FRAGMENT_LOADING_ABANDONED,{request:I.request},{streamId:te.id,mediaType:V})}function be(){D=[],L=[]}return m={getStreamId:function(){return te.id},getType:function(){return V},getRequests:function(I){var G=[];return(I?I.state instanceof Array?I.state:[I.state]:[]).forEach(function(Z){var ae,le,j=function(ae){var le;switch(ae){case W:le=L;break;case ne:le=D;break;default:le=[]}return le}(Z);G=G.concat((ae=j,(le=I).hasOwnProperty("time")?[Se(ae,le.time,le.threshold)]:ae.filter(function(ve){for(var z in le)if("state"!==z&&le.hasOwnProperty(z)&&ve[z]!=le[z])return!1;return!0})))}),G},isFragmentLoaded:re,isFragmentLoadedOrPending:function(I){var $,G=!1,Z=0;if(!(G=re(I)))for(Z=0;Z<L.length;Z++)I.url===($=L[Z]).url&&I.startTime===$.startTime&&(G=!0);return G},removeExecutedRequestsBeforeTime:De,removeExecutedRequestsAfterTime:function(I){D=D.filter(function($){return isNaN($.startTime)||void 0!==I&&$.startTime<I})},syncExecutedRequestsWithBufferedRange:function(I,$){if(I&&0!==I.length){for(var G=0,Z=0,j=I.length;Z<j;Z++)ge(G,I.start(Z)),G=I.end(Z);$>0&&ge(G,$)}else De()},abortRequests:function(){b.debug("abort requests"),ee.abort(),L=[]},executeRequest:function(I){var $;I.action===q.Z.ACTION_DOWNLOAD?(Ce(I,W),L.push(I),N.trigger(A.FRAGMENT_LOADING_STARTED,{request:$=I},{streamId:te.id,mediaType:V}),ee.load($)):b.warn("Unknown request action.")},reset:function(){N.off(A.LOADING_COMPLETED,Y,this),N.off(A.LOADING_DATA_PROGRESS,_e,this),N.off(A.LOADING_ABANDONED,fe,this),ee&&ee.reset(),be()},resetInitialSettings:be,addExecutedRequest:function(I){D.push(I)}},b=v.debug.getLogger(m),be(),N.on(A.LOADING_COMPLETED,Y,m),N.on(A.LOADING_DATA_PROGRESS,_e,m),N.on(A.LOADING_ABANDONED,fe,m),m}se.__dashjs_factory_name="FragmentModel";var H=C.Z.getClassFactory(se);H.FRAGMENT_MODEL_LOADING=W,H.FRAGMENT_MODEL_EXECUTED=ne,H.FRAGMENT_MODEL_CANCELED="canceled",H.FRAGMENT_MODEL_FAILED=J,C.Z.updateClassFactory(se.__dashjs_factory_name,H);const k=H;var K=F(5459);function de(v){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function ce(v,m){return(ce=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function ot(v){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const pe=new(function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&ce(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=ot(m);if(b){var B=ot(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function qe(v,m){return!m||"object"!==de(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){var N;return function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,L),(N=D.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,N.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,N.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,N.SEGMENT_BASE_LOADER_ERROR_CODE=15,N.TIME_SYNC_FAILED_ERROR_CODE=16,N.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,N.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,N.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,N.APPEND_ERROR_CODE=20,N.REMOVE_ERROR_CODE=21,N.DATA_UPDATE_FAILED_ERROR_CODE=22,N.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,N.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,N.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,N.DOWNLOAD_ERROR_ID_SIDX_CODE=26,N.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,N.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,N.DOWNLOAD_ERROR_ID_XLINK_CODE=29,N.MANIFEST_ERROR_ID_PARSE_CODE=31,N.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,N.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,N.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,N.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,N.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",N.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",N.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",N.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",N.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",N.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",N.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",N.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",N.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",N.APPEND_ERROR_MESSAGE="chunk is not defined",N.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",N.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",N.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",N.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",N.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",N.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",N}return L}(F(2230).Z));var Nt=F(1264),He=F(7855);function Ke(v){var m,b,D,L,N,A,B=this.context,ee=(0,Nt.Z)(B).getInstance(),ie=v.textController,te=v.eventBus,V=[],re=[],X=!1,De=v.mediaSource,ge=null;function Se(j){return new Promise(function(ae){Z(function(){L.changeType&&L.changeType(j),ae()})})}function Ce(j){return L=ie.getTextSourceBuffer(j),Promise.resolve()}function Y(){if("function"==typeof L.addEventListener)try{L.addEventListener("updateend",$,!1),L.addEventListener("error",G,!1),L.addEventListener("abort",G,!1)}catch{A=setInterval($,50)}else A=setInterval($,50)}function _e(j){return new Promise(function(ae){L&&ee.get().streaming.buffer.useAppendWindow?Z(function(){try{if(!L)return void ae();var le=De.duration,ve=0;j&&!isNaN(j.start)&&!isNaN(j.duration)&&isFinite(j.duration)&&(le=j.start+j.duration),j&&!isNaN(j.start)&&(ve=j.start),L.appendWindowEnd===le&&L.appendWindowStart===ve||(L.appendWindowStart=0,L.appendWindowEnd=le+.01,L.appendWindowStart=Math.max(ve-.1,0),D.debug("Updated append window for ".concat(N.type,". Set start to ").concat(L.appendWindowStart," and end to ").concat(L.appendWindowEnd))),ae()}catch{D.warn("Failed to set append window"),ae()}}):ae()})}function fe(j){return new Promise(function(ae){L?Z(function(){try{L.timestampOffset===j||isNaN(j)||(L.timestampOffset=j,D.debug("Set MSE timestamp offset to ".concat(j))),ae()}catch{ae()}}):ae()})}function be(){if(!X&&re.length>0){X=!0;var j=re[0];re.splice(0,1);var ae=function(){X=!1,re.length>0&&be.call(this),j&&j.data&&j.data.segmentType&&j.data.segmentType!==He.w.INIT_SEGMENT_TYPE&&delete j.data.bytes,j.promise.resolve({chunk:j.data})};try{ge=j.request,0===j.data.bytes.byteLength?ae.call(this):(L.appendBuffer?L.appendBuffer(j.data.bytes):L.append(j.data.bytes,j.data),Z(ae.bind(this)))}catch(le){D.fatal('SourceBuffer append failed "'+le+'"'),re.length>0?be():X=!1,delete j.data.bytes,j.promise.reject({chunk:j.data,error:new K.Z(le.code,le.message)})}}}function I(){V.length>0&&(L.updating||(V.shift()(),I()))}function $(){L.updating||I()}function G(j){te.trigger(g.Z.SOURCE_BUFFER_ERROR,{error:j.target||{},lastRequestAppended:ge},{streamId:N.streamInfo.id,mediaType:b})}function Z(j){V.push(j),L.updating||I()}return m={getType:function(){return b},getAllBufferRanges:function(){try{return L.buffered}catch(j){return D.error("getAllBufferRanges exception: "+j.message),null}},getBuffer:function(){return L},append:function(j){var ae=this,le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(ve,z){j?(re.push({data:j,promise:{resolve:ve,reject:z},request:le}),Z(be.bind(ae))):z({chunk:j,error:new K.Z(pe.APPEND_ERROR_CODE,pe.APPEND_ERROR_MESSAGE)})})},remove:function(j){return new Promise(function(ae,le){var ve=j.start,z=j.end;ve>=0&&z>ve?Z(function(){try{L.remove(ve,z),Z(function(){ae({from:ve,to:z,unintended:!1}),j.resolve&&j.resolve()})}catch(Q){le({from:ve,to:z,unintended:!1,error:new K.Z(pe.REMOVE_ERROR_CODE,pe.REMOVE_ERROR_MESSAGE)}),j.reject&&j.reject(Q)}}):ae()})},abort:function(){return new Promise(function(j){try{re=[],"open"===De.readyState?Z(function(){try{L&&L.abort(),j()}catch{j()}}):(L&&L.setTextTrack&&"ended"===De.readyState&&L.abort(),j())}catch{j()}})},reset:function(){if(L){try{V=[],function(){try{"function"==typeof L.removeEventListener&&(L.removeEventListener("updateend",$,!1),L.removeEventListener("error",G,!1),L.removeEventListener("abort",G,!1)),clearInterval(A)}catch(j){D.error(j)}}(),X=!1,re=[],L.getClassName&&"TextSourceBuffer"===L.getClassName()||(D.debug("Removing sourcebuffer from media source"),De.removeSourceBuffer(L))}catch{}L=null}ge=null},updateTimestampOffset:fe,initializeForStreamSwitch:function(j,ae,le){b=(N=j).type;var ve=N.codec;L=le.getBuffer(),Y();var z=[];return z.push(new Promise(function(Q){Z(function(){var Me=L.appendWindowStart,Ve=L.appendWindowEnd;L&&(L.abort(),L.appendWindowStart=Me,L.appendWindowEnd=Ve),Q()})})),z.push(_e(N.streamInfo)),ee.get().streaming.buffer.useChangeTypeForTrackSwitch&&z.push(Se(ve)),ae&&void 0!==ae.MSETimeOffset&&z.push(fe(ae.MSETimeOffset)),Promise.all(z)},initializeForFirstUse:function(j,ae,le){b=(N=ae).type;var ve=N.codec;try{if(ve.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ce(j);L=De.addSourceBuffer(ve),Y();var z=[];return z.push(_e(N.streamInfo)),le&&void 0!==le.MSETimeOffset&&z.push(fe(le.MSETimeOffset)),Promise.all(z)}catch(Q){return N.type==f.Z.TEXT&&!N.isFragmented||-1!==ve.indexOf('codecs="stpp')||-1!==ve.indexOf('codecs="vtt')?Ce(j):Promise.reject(Q)}},updateAppendWindow:_e,changeType:Se},D=(0,M.Z)(B).getInstance().getLogger(m),m}Ke.__dashjs_factory_name="SourceBufferSink";const Ne=C.Z.getClassFactory(Ke);function je(v){var m,b,D,N=[],A=v;function B(ee,ie){return N=N.filter(function(te){return!((isNaN(ie)||te.start<ie)&&(isNaN(ee)||te.end>ee))}),Promise.resolve()}return m={getAllBufferRanges:function(){for(var ee=[],ie=0;ie<N.length;ie++){var te=N[ie];0===ee.length||te.start>ee[ee.length-1].end?ee.push({start:te.start,end:te.end}):ee[ee.length-1].end=te.end}var V={start:function(re){return ee[re].start},end:function(re){return ee[re].end}};return Object.defineProperty(V,"length",{get:function(){return ee.length}}),V},append:function(ee){return"InitializationSegment"!==ee.segmentType?(N.push(ee),N.sort(function(ie,te){return ie.start-te.start}),D=null):D=ee,b.debug("PreBufferSink appended chunk s: "+ee.start+"; e: "+ee.end),A&&A({chunk:ee}),Promise.resolve()},remove:B,abort:function(){return Promise.resolve()},discharge:function(ee,ie){var V,re,te=(V=ee,re=ie,N.filter(function(X){return(isNaN(re)||X.start<re)&&(isNaN(V)||X.end>V)}));return D&&(te.push(D),D=null),B(ee,ie),te},reset:function(){N=[],D=null,A=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(ee){ee()},getBuffer:function(){return this}},b=(0,M.Z)(this.context).getInstance().getLogger(m),m}je.__dashjs_factory_name="PreBufferSink";const it=C.Z.getClassFactory(je);function Mt(){var v={};return{save:function(m){var b=m.streamId,D=m.representationId;v[b]=v[b]||{},v[b][D]=m},extract:function(m,b){return v&&v[m]&&v[m][b]?v[m][b]:null},reset:function(){v={}}}}Mt.__dashjs_factory_name="InitCache";const ut=C.Z.getSingletonFactory(Mt);var _t="BufferController";function xt(v){v=v||{};var m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Se,Ce,Y,_e,fe,be,I=this.context,$=(0,S.Z)(I).getInstance(),G=v.errHandler,Z=v.fragmentModel,j=v.representationController,ae=v.adapter,le=v.textController,ve=v.abrController,z=v.playbackController,Q=v.streamInfo,Me=v.type,Ve=v.settings;function ze(ct){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(Ee,st){A=ct,ie&&Ge&&"function"==typeof ie.discharge?(te=ie,Fe(Ge).then(function(){Ee()}).catch(function(It){st(It)})):Ee()})}function Je(ct){return ae.convertRepresentationToRepresentationInfo(j.getRepresentationForQuality(ct))}function Fe(ct){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Ee,st){Y&&ct?A?(V=!1,function Ct(ct,Ge){return new Promise(function(Ee,st){var Qt,nn,Xn,qr,It=ve.getQualityFor(Me,Q.id);ie=Ne(I).create({mediaSource:A,textController:le,eventBus:$}),(Qt=ct,nn=Ge,Xn=It,qr=Je(Xn),nn&&nn[Me]&&(Me===f.Z.VIDEO||Me===f.Z.AUDIO)?ie.initializeForStreamSwitch(Qt,qr,nn[Me]):ie.initializeForFirstUse(Q,Qt,qr)).then(function(){return zn(Je(It))}).then(function(){Ee(ie)}).catch(function(Qt){b.fatal("Caught error on create SourceBuffer: "+Qt),G.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Me)),st(Qt)})})}(ct,Ge).then(function(It){Ee(It)}).catch(function(It){st(It)})):(V=!0,function Ie(){var ct=this;return new Promise(function(Ge,Ee){var st=ve.getQualityFor(Me,Q.id);ie=it(I).create(Be.bind(ct)),zn(Je(st)).then(function(){Ge(ie)}).catch(function(){Ee()})})}().then(function(It){Ee(It)}).catch(function(It){st(It)})):Ee(null)})}function ht(ct){Ve.get().streaming.cacheInitSegments&&(b.info("Init fragment finished loading saving to",Me+"'s init cache"),Y.save(ct.chunk)),b.debug("Append Init fragment",Me," with representationId:",ct.chunk.representationId," and quality:",ct.chunk.quality,", data size:",ct.chunk.bytes.byteLength),Ft(ct.chunk)}function bt(ct){Ft(ct.chunk,ct.request)}function Ft(ct){ie.append(ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Ee){Be(Ee)}).catch(function(Ee){Be(Ee)}),ct.mediaInfo.type===f.Z.VIDEO&&pt(g.Z.VIDEO_CHUNK_RECEIVED,{chunk:ct})}function sn(ct){if(ct&&ct.length>0)for(var Ge=0,Ee=ct.length;Ge<Ee;Ge++)b.debug("Buffered range: "+ct.start(Ge)+" - "+ct.end(Ge)+", currentTime = ",z.getTime())}function Be(ct){if(ct.error)return 22===ct.error.code&&function(){if(Ce=!0,N=.8*En(),b.warn("Quota exceeded, Critical Buffer: "+N),N>0){var st=Math.max(.2*N,1),It=N-st,Qt=Math.min(Ve.get().streaming.buffer.bufferTimeAtTopQuality,.9*It),nn=Math.min(Ve.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*It),Xn={streaming:{buffer:{bufferToKeep:parseFloat(st.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Qt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(nn.toFixed(5))}}};Ve.update(Xn)}}(),void(22!==ct.error.code&&_n()||(b.warn("Clearing playback buffer to overcome quota exceed situation"),pt(g.Z.QUOTA_EXCEEDED,{criticalBufferLevel:N,quotaExceededTime:ct.chunk.start}),Rn(Dn())));if(ie&&(Pt(),Ce=!1,(De=ct.chunk)&&De.endFragment)){De&&!isNaN(De.index)&&(B=Math.max(De.index,B),Gt());var Ge=ie.getAllBufferRanges();De.segmentType===He.w.MEDIA_SEGMENT_TYPE&&(sn(Ge),Oe(),function(){if(!isNaN(be)&&!V)if(Me===f.Z.AUDIO||Me===f.Z.VIDEO){var st=z.getTime(),It=ft(st,0),Qt=ft(be,0);if(It&&Qt&&It.start===Qt.start)be=NaN;else{var nn=j.getCurrentRepresentation().segmentDuration,Xn=ft(be,nn);Xn&&(Ve.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(st-be)>nn?be<=Xn.end&&z.seek(Math.max(be,Xn.start),!1,!0):st<Xn.start&&z.seek(Xn.start,!1,!0))}}else be=NaN}());var Ee=!1;re&&(re.indexOf(De)>0&&(Ee=!0),re=null),De&&!Ee&&pt(g.Z.BYTES_APPENDED_END_FRAGMENT,{quality:De.quality,startTime:De.start,index:De.index,bufferedRanges:Ge,segmentType:De.segmentType,mediaType:Me})}}function Te(){return new Promise(function(ct,Ge){var Ee=et();if(!Ee||0===Ee.length)return Oe(),void ct();Rn(Ee).then(function(){ct()}).catch(function(st){Ge(st)})})}function et(ct){var Ge=[],Ee=ie.getAllBufferRanges();if(!Ee||0===Ee.length)return Ge;if(!ct&&0!==ct||isNaN(ct))Ge.push({start:Ee.start(0),end:Ee.end(Ee.length-1)+.5});else{var st=function(Qt,nn){var Xn=Ve.get().streaming.buffer.bufferToKeep,qr=nn.start(0);if(Qt-qr>Xn){var Ui=Math.max(0,Qt-Xn),Zr=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Qt,threshold:.01})[0];if(Zr&&(Ui=Math.min(Zr.startTime,Ui)),Ui>0)return{start:qr,end:Ui}}return null}(ct,Ee),It=function(Qt,nn){var Xn=nn.end(nn.length-1)+.5,qr=bn(Qt),Ui=Q.manifestInfo.duration>=Ve.get().streaming.buffer.longFormContentDurationThreshold?Ve.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Ve.get().streaming.buffer.bufferTimeAtTopQuality,Zr=isNaN(qr)?Qt:Math.min(qr,Qt+Ui);if(Zr>=nn.end(nn.length-1))return null;var Qi=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Qt,threshold:.01})[0];if(Qi&&(Zr=Math.max(Qi.startTime+Qi.duration,Zr)),Ve.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Pi=0;Pi<nn.length;Pi++)if(nn.start(Pi)<=Qt&&Qt<=nn.end(Pi)&&nn.start(Pi)<=Zr&&Zr<=nn.end(Pi)){var Yo=Zr;Zr=Pi+1<nn.length?nn.start(Pi+1):nn.end(Pi)+1,b.debug("Buffered range ["+nn.start(Pi)+", "+nn.end(Pi)+"] overlaps with targetTime "+Qt+" and range to be pruned ["+Yo+", "+Xn+"], using ["+Zr+", "+Xn+"] instead"+(Zr<Xn?"":" (no actual pruning)"));break}return Zr<nn.end(nn.length-1)?{start:Zr,end:Xn}:null}(ct,Ee);st&&Ge.push(st),It&&Ge.push(It)}return Ge}function Oe(){(!fe||Me===f.Z.TEXT&&le.isTextEnabled())&&Pt()}function nt(){Cn()}function dt(){Cn(),be=NaN}function ft(ct,Ge){var Ee,st,It=ie.getAllBufferRanges(),Qt=0,nn=0,Xn=null,qr=null,Ui=0,Zr=isNaN(Ge)?.15:Ge;if(null!=It){for(st=0,Ee=It.length;st<Ee;st++)if(Qt=It.start(st),nn=It.end(st),null===Xn)Ui=Math.abs(Qt-ct),(ct>=Qt&&ct<nn||Ui<=Zr)&&(Xn=Qt,qr=nn);else{if(!((Ui=Qt-qr)<=Zr))break;qr=nn}if(null!==Xn)return{start:Xn,end:qr}}return null}function Pt(){if(z){var ct=z.getTime()||0;V&&(ct=isNaN(be)?0:be);var Ge=Ve.get().streaming.gaps.jumpGaps&&!isNaN(Ve.get().streaming.gaps.smallGapLimit)?Ve.get().streaming.gaps.smallGapLimit:NaN;L=Math.max((Ee=ct,st=Ge,Ve.get().streaming.gaps.jumpGaps&&(st=Ve.get().streaming.gaps.smallGapLimit),null===(It=ft(Ee,st))?0:It.end-Ee),0),pt(g.Z.BUFFER_LEVEL_UPDATED,{mediaType:Me,bufferLevel:L}),Cn()}var Ee,st,It}function Gt(){var ct=B>=ee-1,Ge=z.getTimeToStreamEnd(Q)-L<1e-5;!ct&&!Ge||D||(jt(!0),b.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(Q.id," and type ").concat(Me)))}function Cn(){Me!==f.Z.AUDIO&&Me!==f.Z.VIDEO||((!z.getLowLatencyModeEnabled()&&L<Ve.get().streaming.buffer.stallThreshold||0===L)&&!D?Sn(O.Z.BUFFER_EMPTY):(D||L>=Ve.get().streaming.buffer.stallThreshold||z.getLowLatencyModeEnabled()&&L>0)&&Sn(O.Z.BUFFER_LOADED))}function Sn(ct){X===ct||ct===O.Z.BUFFER_EMPTY&&0===z.getTime()||Me===f.Z.TEXT&&!le.isTextEnabled()||(X=ct,pt(g.Z.BUFFER_LEVEL_STATE_CHANGED,{state:ct}),pt(ct===O.Z.BUFFER_LOADED?g.Z.BUFFER_LOADED:g.Z.BUFFER_EMPTY),b.debug(ct===O.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function dn(){ie&&Me!==f.Z.TEXT&&(D||Rn(Dn()))}function Dn(){var ct=[],Ge=ie.getAllBufferRanges();if(!Ge||0===Ge.length)return ct;var Ee=z.getTime(),st=Math.max(0,Ee-Ve.get().streaming.buffer.bufferToKeep),It=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Ee,threshold:.01})[0];if(It)st=Math.min(It.startTime,st);else if(0===Ee&&z.getIsDynamic())return[];if(Ge.start(0)<=st){for(var Qt={start:0,end:st},nn=0;nn<Ge.length&&Ge.end(nn)<=st;nn++)Qt.end=Ge.end(nn);Qt.start<Qt.end&&ct.push(Qt)}return ct}function Rn(ct){return new Promise(function(Ge,Ee){if(ct&&ie&&0!==ct.length){var st=[];ct.forEach(function(It){var Qt;st.push((Qt=It,new Promise(function(nn,Xn){Qt.resolve=nn,Qt.reject=Xn,_e.push(Qt)})))}),Se||er(),Promise.all(st).then(function(){Ge()}).catch(function(It){Ee(It)})}else Ge()})}function er(){try{if(0===_e.length||!ie)return b.debug("Nothing to prune, halt pruning"),_e=[],void(Se=!1);var ct=ie.getBuffer();if(!ct||!ct.buffered||0===ct.buffered.length)return b.debug("SourceBuffer is empty (or does not exist), halt pruning"),_e=[],void(Se=!1);var Ge=_e.shift();b.debug("".concat(Me,": Removing buffer from: ").concat(Ge.start," to ").concat(Ge.end)),Se=!0,z.getTime()<Ge.end&&jt(!1),ie.remove(Ge).then(function(Ee){lr(Ee)}).catch(function(Ee){lr(Ee)})}catch{Se=!1}}function lr(ct){b.debug("onRemoved buffer from:",ct.from,"to",ct.to),sn(ie.getAllBufferRanges()),0===_e.length&&(Se=!1,Pt()),ct.unintended&&(b.warn("Detected unintended removal from:",ct.from,"to",ct.to,"setting streamprocessor time to",ct.from),pt(g.Z.SEEK_TARGET,{time:ct.from})),Se?er():(fe?fe=!1:Pt(),pt(g.Z.BUFFER_CLEARED,{from:ct.from,to:ct.to,unintended:ct.unintended,hasEnoughSpaceToAppend:_n(),quotaExceeded:Ce}))}function zn(ct){return new Promise(function(Ge){ct&&void 0!==ct.MSETimeOffset&&ie&&ie.updateTimestampOffset?ie.updateTimestampOffset(ct.MSETimeOffset).then(function(){Ge()}).catch(function(){Ge()}):Ge()})}function hr(){return ie&&!D?ie.updateAppendWindow(Q):Promise.resolve()}function nr(){++ge*(Ve.get().streaming.wallclockTimeUpdateInterval/1e3)>=Ve.get().streaming.buffer.bufferPruningInterval&&(ge=0,dn())}function pr(){Cn()}function jt(ct){(D=ct)?pt(g.Z.BUFFERING_COMPLETED):ee=Number.POSITIVE_INFINITY}function En(){try{var ct,Ge,Ee=ie.getAllBufferRanges(),st=0;if(!Ee)return st;for(Ge=0,ct=Ee.length;Ge<ct;Ge++)st+=Ee.end(Ge)-Ee.start(Ge);return st}catch{return 0}}function bn(ct){try{var Ge=ct,Ee=ie.getAllBufferRanges();if(!Ee||0===Ee.length)return NaN;for(var st=0;Ge===ct&&st<Ee.length;){var It=Ee.start(st),Qt=Ee.end(st);Ge>=It&&Ge<=Qt&&(Ge=Qt),st+=1}return Ge===ct?NaN:Ge}catch{}}function _n(){var ct=En();return isNaN(ct)||ct<N}function pt(ct,Ge){$.trigger(ct,Ge||{},{streamId:Q.id,mediaType:Me})}function Zt(ct,Ge){if(N=Number.POSITIVE_INFINITY,X=void 0,ee=Number.POSITIVE_INFINITY,B=0,De=null,D=!1,Se=!1,Ce=!1,L=0,ge=0,_e=[],be=NaN,V=!1,ie){var Ee=ie;ie=null,ct||Ge||Ee.abort().then(function(){Ee.reset(Ge),Ee=null})}fe=!1}return m={initialize:function(ct){ze(ct),$.on(g.Z.INIT_FRAGMENT_LOADED,ht,m),$.on(g.Z.MEDIA_FRAGMENT_LOADED,bt,m),$.on(g.Z.WALLCLOCK_TIME_UPDATED,nr,m),$.on(p.Z.PLAYBACK_PLAYING,dt,m),$.on(p.Z.PLAYBACK_PROGRESS,Oe,m),$.on(p.Z.PLAYBACK_TIME_UPDATED,Oe,m),$.on(p.Z.PLAYBACK_RATE_CHANGED,pr,m),$.on(p.Z.PLAYBACK_STALLED,nt,m)},getStreamId:function(){return Q.id},getType:function(){return Me},getBufferControllerType:function(){return _t},createBufferSink:Fe,dischargePreBuffer:function(){if(ie&&te&&"function"==typeof te.discharge){var ct=te.getAllBufferRanges();if(ct.length>0){for(var Ge="Beginning "+Me+"PreBuffer discharge, adding buffer for:",Ee=0;Ee<ct.length;Ee++)Ge+=" start: "+ct.start(Ee)+", end: "+ct.end(Ee)+";";b.debug(Ge)}else b.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");re=[];for(var st=te.discharge(),It=null,Qt=0;Qt<st.length;Qt++){var nn=st[Qt];if(nn.segmentType!==He.w.INIT_SEGMENT_TYPE){var Xn=Y.extract(nn.streamId,nn.representationId);Xn&&It!==Xn&&(re.push(Xn),ie.append(Xn),It=Xn)}re.push(nn),ie.append(nn)}te.reset(),te=null}},getBuffer:function(){return ie},getBufferLevel:function(){return L},getRangeAt:ft,hasBufferAtTime:function(ct){try{var Ge=ie.getAllBufferRanges();if(!Ge||0===Ge.length)return!1;for(var Ee=0;Ee<Ge.length;){var st=Ge.start(Ee),It=Ge.end(Ee);if(ct>=st&&ct<=It)return!0;Ee+=1}return!1}catch(Qt){return b.error(Qt),!1}},pruneBuffer:dn,setMediaSource:ze,getMediaSource:function(){return A},appendInitSegmentFromCache:function(ct){var Ge=Y.extract(Q.id,ct);return!!Ge&&(b.info("Append Init fragment",Me," with representationId:",Ge.representationId," and quality:",Ge.quality,", data size:",Ge.bytes.byteLength),Ft(Ge),!0)},getIsBufferingCompleted:function(){return D},setIsBufferingCompleted:jt,getIsPruningInProgress:function(){return Se},reset:function(ct,Ge){$.off(g.Z.INIT_FRAGMENT_LOADED,ht,this),$.off(g.Z.MEDIA_FRAGMENT_LOADED,bt,this),$.off(g.Z.WALLCLOCK_TIME_UPDATED,nr,this),$.off(p.Z.PLAYBACK_PLAYING,dt,this),$.off(p.Z.PLAYBACK_PROGRESS,Oe,this),$.off(p.Z.PLAYBACK_TIME_UPDATED,Oe,this),$.off(p.Z.PLAYBACK_RATE_CHANGED,pr,this),$.off(p.Z.PLAYBACK_STALLED,nt,this),Zt(ct,Ge)},prepareForPlaybackSeek:function(){return D&&jt(!1),ie.abort()},prepareForReplacementTrackSwitch:function(ct){return new Promise(function(Ge,Ee){ie.abort().then(function(){return hr()}).then(function(){return Ve.get().streaming.buffer.useChangeTypeForTrackSwitch?ie.changeType(ct):Promise.resolve()}).then(function(){return Te()}).then(function(){jt(!1),Ge()}).catch(function(st){Ee(st)})})},prepareForNonReplacementTrackSwitch:function(ct){return new Promise(function(Ge,Ee){hr().then(function(){return Ve.get().streaming.buffer.useChangeTypeForTrackSwitch?ie.changeType(ct):Promise.resolve()}).then(function(){Ge()}).catch(function(st){Ee(st)})})},prepareForForceReplacementQualitySwitch:function(ct){return new Promise(function(Ge,Ee){ie.abort().then(function(){return hr()}).then(function(){return Te()}).then(function(){return zn(ct)}).then(function(){jt(!1),Ge()}).catch(function(st){Ee(st)})})},updateAppendWindow:hr,getAllRangesWithSafetyFactor:et,getContinuousBufferTimeForTargetTime:bn,clearBuffers:Rn,pruneAllSafely:Te,updateBufferTimestampOffset:zn,setSeekTarget:function(ct){be=ct},segmentRequestingCompleted:function(ct){isNaN(ct)||(ee=ct,Gt())}},b=(0,M.Z)(I).getInstance().getLogger(m),Y=ut(I).getInstance(),Zt(),m}xt.__dashjs_factory_name=_t;const $e=C.Z.getClassFactory(xt);var yt="NotFragmentedTextBufferController";function me(v){v=v||{};var m,b,D,L,N,A,B=this.context,ee=(0,S.Z)(B).getInstance(),ie=v.textController,te=v.errHandler,V=v.streamInfo,re=v.type;function X(Se){L=Se}function De(Se){b!==Se&&(b=Se)&&ee.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:V.id,mediaType:re})}function ge(Se){Se.chunk.bytes&&!b&&(A.save(Se.chunk),N.append(Se.chunk),De(!0))}return m={initialize:function(Se){X(Se)},getStreamId:function(){return V.id},getType:function(){return re},getBufferControllerType:function(){return yt},createBufferSink:function(Se){return new Promise(function(Ce,Y){try{(N=Ne(B).create({mediaSource:L,textController:ie,eventBus:ee})).initializeForFirstUse(V,Se),D||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),D=!0),Ce(N)}catch(_e){te.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+re)),Y(_e)}})},dischargePreBuffer:function(){},getBuffer:function(){return N},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:X,getMediaSource:function(){return L},appendInitSegmentFromCache:function(Se){return null!==A.extract(V.id,Se)},getIsBufferingCompleted:function(){return b},setIsBufferingCompleted:De,getIsPruningInProgress:function(){return!1},reset:function(Se){ee.off(g.Z.INIT_FRAGMENT_LOADED,ge,m),!Se&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return b=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},D=!1,L=null,b=!1,A=ut(B).getInstance(),ee.on(g.Z.INIT_FRAGMENT_LOADED,ge,m),m}me.__dashjs_factory_name=yt;const Ae=C.Z.getClassFactory(me);function at(v){v=v||{};var m,b,D,L,N,A,B,ee,ie,te,V,re,X=this.context,De=(0,S.Z)(X).getInstance(),ge=v.dashMetrics,Se=v.mediaPlayerModel,Ce=v.fragmentModel,Y=v.abrController,_e=v.playbackController,fe=v.textController,be=v.type,I=v.bufferController,$=v.representationController,G=v.settings;function Z(Je){if(!I.getIsBufferingCompleted()){j();var Fe=isNaN(Je)?0:Je;N=setTimeout(ae,Fe)}}function j(){N&&(clearTimeout(N),N=null)}function ae(){try{if(function(){try{return be===f.Z.TEXT&&!fe.isTextEnabled()||_e.isPaused()&&(!_e.getStreamController().getInitialPlayback()||!_e.getStreamController().getAutoPlay())&&!G.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void j();if(function(){try{return $.getCurrentRepresentationInfo()&&(isNaN(ie)||te||(Ct=Y.getMaxAllowedIndexFor(be,b.id),!(!isNaN(ee)&&ee==Ct||(D.info("Top quality "+be+" index has changed from "+ee+" to "+Ct),ee=Ct,0)))||(ht=$.getCurrentRepresentationInfo(),!be||!ht||ge.getCurrentBufferLevel(be)<le()))}catch{return!1}var ht,Ct}()){var Je=!1;re&&(Je=Y.checkPlaybackQuality(be,b.id)),Je||(Fe=$.getCurrentRepresentationInfo(),V||Fe.quality!==ie||te?(te?(D.debug("Switch track for "+be+", representation id = "+Fe.id),te=!1):D.debug("Quality has changed, get init request for representationid = "+Fe.id),De.trigger(g.Z.INIT_FRAGMENT_NEEDED,{representationId:Fe.id,sender:m},{streamId:b.id,mediaType:be}),re=!1,V=!1):(D.debug("Media segment needed for ".concat(be," and stream id ").concat(b.id)),De.trigger(g.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:b.id,mediaType:be}),re=!0))}else Z(_e.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}catch{Z(_e.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}var Fe}function le(){var Je=NaN,Fe=$.getCurrentRepresentationInfo();return be&&Fe&&(Je=be===f.Z.TEXT?function(){try{if(fe.isTextEnabled()){var Ie=$.getCurrentRepresentationInfo();if(isNaN(Ie.fragmentDuration)){var Ct=ge.getCurrentSchedulingInfo(O.Z.SCHEDULING_INFO);return Ct?Ct.duration:0}return Ie.fragmentDuration}return 0}catch{return 0}}():be===f.Z.AUDIO&&A?function(){try{var Ie=ge.getCurrentBufferLevel(f.Z.VIDEO),Ct=$.getCurrentRepresentationInfo();return isNaN(Ct.fragmentDuration)?Ie+1:Math.max(Ie+1,Ct.fragmentDuration)}catch{return 0}}():function(){try{var Ie=$.getCurrentRepresentationInfo().mediaInfo.streamInfo;return Y.isPlayingAtTopQuality(Ie)?Ie.manifestInfo.duration>=G.get().streaming.buffer.longFormContentDurationThreshold?G.get().streaming.buffer.bufferTimeAtTopQualityLongForm:G.get().streaming.buffer.bufferTimeAtTopQuality:Se.getStableBufferTime()}catch{return Se.getStableBufferTime()}}()),Je}function ve(){z(!0)}function z(Je){if(_e&&Ce){var Fe=Ce.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:_e.getTime(),threshold:0})[0];Fe&&_e.getTime()>=Fe.startTime&&((!B.mediaInfo||Fe.mediaInfo.type===B.mediaInfo.type&&Fe.mediaInfo.id!==B.mediaInfo.id)&&Je&&De.trigger(g.Z.TRACK_CHANGE_RENDERED,{mediaType:be,oldMediaInfo:B.mediaInfo,newMediaInfo:Fe.mediaInfo,streamId:b.id}),Fe.quality===B.quality&&Fe.adaptationIndex===B.adaptationIndex||!Je||(D.debug("Quality change rendered for streamId ".concat(b.id," and type ").concat(be)),De.trigger(g.Z.QUALITY_CHANGE_RENDERED,{mediaType:be,oldQuality:B.quality,newQuality:Fe.quality,streamId:b.id})),B={mediaInfo:Fe.mediaInfo,quality:Fe.quality,adaptationIndex:Fe.adaptationIndex})}}function Q(){Ce.abortRequests(),j()}function Me(){G.get().streaming.scheduling.scheduleWhilePaused||Z()}function Ve(Je){ge.updatePlayListTraceMetrics({playbackspeed:Je.playbackRate.toString()})}function ze(){re=!0,L=0,ie=NaN,B={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},ee=NaN,te=!1,V=!1}return m={initialize:function(Je){A=Je,De.on(g.Z.URL_RESOLUTION_FAILED,Q,m),De.on(p.Z.PLAYBACK_STARTED,Me,m),De.on(p.Z.PLAYBACK_RATE_CHANGED,Ve,m),De.on(p.Z.PLAYBACK_TIME_UPDATED,ve,m)},getType:function(){return be},getStreamId:function(){return b.id},setTimeToLoadDelay:function(Je){L=Je},getTimeToLoadDelay:function(){return L},setSwitchTrack:function(Je){te=Je},getSwitchTrack:function(){return te},startScheduleTimer:Z,clearScheduleTimer:j,reset:function(){De.off(g.Z.URL_RESOLUTION_FAILED,Q,m),De.off(p.Z.PLAYBACK_STARTED,Me,m),De.off(p.Z.PLAYBACK_RATE_CHANGED,Ve,m),De.off(p.Z.PLAYBACK_TIME_UPDATED,ve,m),j(),z(!1),ze(),b=null},getBufferTarget:le,getPlaybackController:function(){return _e},setCheckPlaybackQuality:function(Je){re=Je},setInitSegmentRequired:function(Je){V=Je},setLastInitializedQuality:function(Je){ie=Je}},D=(0,M.Z)(X).getInstance().getLogger(m),ze(),b=v.streamInfo,m}at.__dashjs_factory_name="ScheduleController";const E=C.Z.getClassFactory(at);var _=F(7387);function R(v){var m,b,D,L,N,A,B=(v=v||{}).eventBus,ee=v.events,ie=v.abrController,te=v.dashMetrics,V=v.playbackController,re=v.timelineConverter,X=v.type,De=v.streamInfo,ge=v.dashConstants,Se=v.segmentsController,Ce=v.isDynamic,Y=v.adapter;function _e(){return X}function fe(){return D}function be(){return A}function I(){b=null,D=!0,L=[],N=null}function $(ve){return new Promise(function(z,Q){var Me=ve.hasInitialization(),Ve=ve.hasSegments(),ze=[];ze.push(Se.updateInitData(ve,Me)),ze.push(Se.updateSegmentData(ve,Ve)),Promise.all(ze).then(function(Je){var Fe,Ct;Je[0]&&!Je[0].error&&(ve=(Ct=Je[0])&&!Ct.error&&Ct.representation?Ct.representation:ve),Je[1]&&!Je[1].error&&(ve=function(Ie,Ct){if(Ct&&!Ct.error){var ht,bt,Ft,sn,Be=Ct.segments,Te=[],et=0;for(ht=0,bt=Be?Be.length:0;ht<bt;ht++)(sn=(0,_.TJ)(re,Ce,Ie,(Ft=Be[ht]).startTime,Ft.duration,Ft.timescale,Ft.media,Ft.mediaRange,et))&&(Te.push(sn),sn=null,et++);return Te.length>0&&(Ie.segments=Te),Ie}}(ve,Je[1])),(Fe=ve).mediaFinishedInformation=Se.getMediaFinishedInformation(Fe),function(Ie){if(fe()){var Ct,bt=te.getCurrentManifestUpdate(),Ft=!1;if(bt){for(var sn=0;sn<bt.representationInfo.length;sn++)if((Ct=bt.representationInfo[sn]).index===Ie.index&&Ct.mediaType===_e()){Ft=!0;break}Ft||te.addManifestUpdateRepresentationInfo(Ie,_e())}if(function(){for(var Te=0,et=L.length;Te<et;Te++){var Oe=L[Te].segmentInfoType;if(!L[Te].hasInitialization()||(Oe===ge.SEGMENT_BASE||Oe===ge.BASE_URL)&&!L[Te].segments)return!1}return!0}()){ie.setPlaybackQuality(X,De,L.indexOf(A));var Be=te.getCurrentDVRInfo(X);Be&&te.updateManifestUpdateInfo({latency:Be.range.end-V.getTime()}),te.getCurrentRepresentationSwitch(be().adaptation.type)||G(),j()}}}(ve),z()}).catch(function(Je){Q(Je)})})}function G(){!function(){if(!(ie&&te&&V&&re))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var ve=new Date,z=be(),Q=1e3*V.getTime();z&&te.addRepresentationSwitch(z.adaptation.type,ve,Q,z.id),B.trigger(p.Z.REPRESENTATION_SWITCH,{mediaType:X,streamId:De.id,currentRepresentation:z,numberOfRepresentations:L.length},{streamId:De.id,mediaType:X})}function Z(ve){return null==ve||ve>=L.length?null:L[ve]}function j(ve){D=!1,B.trigger(ee.DATA_UPDATE_COMPLETED,{data:b,currentRepresentation:A,error:ve},{streamId:De.id,mediaType:X})}function ae(ve){N=Y.convertRepresentationToRepresentationInfo(A=ve)}function le(ve){if(ve.newDuration){var z=be();z&&z.adaptation.period&&(z.adaptation.period.duration=ve.newDuration)}}return m={getStreamId:function(){return De.id},getType:_e,getData:function(){return b},isUpdating:fe,updateData:function(ve,z,Q,Me,Ve){return new Promise(function(ze,Je){if(D=!0,L=z,b=ve,ae(Z(Ve)),Q!==f.Z.VIDEO&&Q!==f.Z.AUDIO&&(Q!==f.Z.TEXT||!Me))return j(),void ze();for(var Fe=[],Ie=0,Ct=L.length;Ie<Ct;Ie++)Fe.push($(L[Ie]));Promise.all(Fe).then(function(){ae(Z(Ve)),ze()}).catch(function(bt){Je(bt)})})},getCurrentRepresentation:be,getCurrentRepresentationInfo:function(){return N},getRepresentationForQuality:Z,prepareQualityChange:function(ve){ae(Z(ve)),G()},reset:function(){B.off(p.Z.MANIFEST_VALIDITY_CHANGED,le,m),I()}},I(),B.on(p.Z.MANIFEST_VALIDITY_CHANGED,le,m),m}R.__dashjs_factory_name="RepresentationController";const x=C.Z.getClassFactory(R);var ue=F(3106),oe=F(9326),xe=F(7473),Ye=F(2594);function Xe(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var Le=function v(){Xe(this,v),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Le.INITIAL_PLAYOUT_START_REASON="initial_playout",Le.SEEK_START_REASON="seek",Le.RESUME_FROM_PAUSE_START_REASON="resume",Le.METRICS_COLLECTION_START_REASON="metrics_collection_start";var tt=function v(){Xe(this,v),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};tt.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",tt.REBUFFERING_REASON="rebuffering",tt.USER_REQUEST_STOP_REASON="user_request",tt.END_OF_PERIOD_STOP_REASON="end_of_period",tt.END_OF_CONTENT_STOP_REASON="end_of_content",tt.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",tt.FAILURE_STOP_REASON="failure";var rt=F(7802);function Re(){return{ntpToUTC:function(v){var m=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(m.getTime()+v).getTime()}}}Re.__dashjs_factory_name="TimeUtils";const We=C.Z.getSingletonFactory(Re);function Qe(v){v=v||{};var m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge=this.context,Se=(0,S.Z)(ge).getInstance(),Ce=v.streamInfo,Y=v.type,_e=v.errHandler,fe=v.mimeType,be=v.timelineConverter,I=v.adapter,$=v.manifestModel,G=v.mediaPlayerModel,Z=v.fragmentModel,j=v.abrController,ae=v.playbackController,le=v.mediaController,ve=v.textController,z=v.dashMetrics,Q=v.settings,Me=v.boxParser,Ve=v.segmentBlacklistController;function ze(){return Ce.id}function Je(){return Y}function Fe(){return I.getIsTextTrack(ee.getData())}function Ie(){N=[],L=null,X=0,ie=!1,te=!1,De=null}function Ct(pt){return!isNaN(pt)&&!isNaN(Ce.duration)&&isFinite(Ce.duration)&&pt>=Ce.start+Ce.duration}function ht(pt){var Zt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(pt.sender)if(ae.getIsManifestUpdateInProgress())Te();else if((!Fe()||ve.isTextEnabled())&&A&&pt.representationId&&!A.appendInitSegmentFromCache(pt.representationId)){var ct=ee.getCurrentRepresentation();if(0===ct.range)return void bt();var Ge=V?V.getInitRequest(L,ct):null;Ge?Z.executeRequest(Ge):Zt&&(B.setInitSegmentRequired(!0),Te())}}function bt(pt){var Zt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ae.getIsManifestUpdateInProgress()||A.getIsPruningInProgress())Te();else{var ct=function Be(){var pt,Zt=zn();if(isNaN(X)||Je()===f.Z.TEXT&&!ve.isTextEnabled())return null;if(V){var ct=ee&&Zt?ee.getRepresentationForQuality(Zt.quality):null;pt=ie?V.getSegmentRequestForTime(L,ct,X):V.getNextSegmentRequest(L,ct)}return pt}();ct?(ie=!1,function Ft(pt){isNaN(pt.startTime+pt.duration)||(X=pt.startTime+pt.duration),pt.delayLoadingTime=(new Date).getTime()+B.getTimeToLoadDelay(),B.setTimeToLoadDelay(0),function(Zt){var ct=Zt.url;return Zt.range&&(ct=ct.concat("_",Zt.range)),Ve.contains(ct)}(pt)?(b.warn("Fragment request url ".concat(pt.url," for stream id ").concat(Ce.id," and media type ").concat(Y," is on the ignore list and will be skipped")),Te()):(b.debug("Next fragment request url for stream id ".concat(Ce.id," and media type ").concat(Y," is ").concat(pt.url)),Z.executeRequest(pt))}(ct)):function sn(pt){var Zt,ct=ee.getCurrentRepresentation();if(!Q.get().streaming.gaps.enableSeekFix||!ie&&0!==ae.getTime()||(D?D&&ct.segmentInfoType===h.Z.SEGMENT_TIMELINE&&(Zt=V.getValidTimeAheadOfTargetTime(X,L,ct,Q.get().streaming.gaps.threshold)):Zt=V.getValidTimeAheadOfTargetTime(X,L,ct,Q.get().streaming.gaps.threshold),isNaN(Zt)||Zt===X)){if(V.isLastSegmentRequested(ct,X)){var Ge=V.getCurrentIndex();return b.debug("Segment requesting for stream ".concat(Ce.id," has finished")),Se.trigger(g.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ge},{streamId:Ce.id,mediaType:Y}),A.segmentRequestingCompleted(Ge),void B.clearScheduleTimer()}pt&&Te()}else ae.isSeeking()||0===ae.getTime()?(b.warn("Adjusting playback time ".concat(Zt," because of gap in the manifest. Seeking by ").concat(Zt-X)),ae.seek(Zt,!1,!1)):(b.warn("Adjusting buffering time ".concat(Zt," because of gap in the manifest. Adjusting time by ").concat(Zt-X)),_n(Zt),pt&&Te())}(Zt)}}function Te(){B.startScheduleTimer(ae.getLowLatencyModeEnabled()?Q.get().streaming.scheduling.lowLatencyTimeout:Q.get().streaming.scheduling.defaultTimeout)}function et(pt){pt.error||A.getIsBufferingCompleted()||A.updateBufferTimestampOffset(pt.currentRepresentation)}function Oe(pt){z.addBufferState(Y,pt.state,B.getBufferTarget()),pt.state!==O.Z.BUFFER_EMPTY||ae.isSeeking()||(b.info("Buffer is empty! Stalling!"),z.pushPlayListTraceMetrics(new Date,tt.REBUFFERING_REASON))}function nt(pt){Z.syncExecutedRequestsWithBufferedRange(A.getBuffer().getAllBufferRanges(),Ce.duration),pt.quotaExceeded&&pt.from>ae.getTime()&&_n(pt.from),pt.hasEnoughSpaceToAppend&&pt.quotaExceeded&&B.startScheduleTimer()}function dt(pt){if(pt&&pt.lastRequestAppended&&pt.lastRequestAppended.url){var Zt=pt.lastRequestAppended.url;pt.lastRequestAppended.range&&(Zt=Zt.concat("_",pt.lastRequestAppended.range)),b.warn("Blacklisting segment with url ".concat(Zt)),Ve.add(Zt)}}function ft(pt){b.debug("Appended bytes for ".concat(pt.mediaType," and stream id ").concat(pt.streamId)),pt.segmentType===He.w.INIT_SEGMENT_TYPE&&(B.setLastInitializedQuality(pt.quality),b.info("["+Y+"] lastInitializedRepresentationInfo changed to "+pt.quality)),De?Pt(De):B.startScheduleTimer(0)}function Pt(pt){var Zt=Z.getRequests({state:k.FRAGMENT_MODEL_LOADING});if(Zt&&Zt.length>0)return b.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(De=pt);A.updateBufferTimestampOffset(pt).then(function(){L.segmentAlignment||L.subSegmentAlignment?B.startScheduleTimer():En(),De=null,te=!1}).catch(function(){De=null,te=!1})}function Gt(pt){b.info("onFragmentLoadingAbandoned request: "+pt.request.url+" has been aborted"),ae.isSeeking()||B.getSwitchTrack()||te||(b.info("onFragmentLoadingAbandoned request: "+pt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),pt.request&&pt.request.isInitializationRequest()?B.setInitSegmentRequired(!0):_n(pt.request.startTime+pt.request.duration/2),B.startScheduleTimer(0))}function Cn(pt){var Zt;b.info("OnFragmentLoadingCompleted for stream id "+Ce.id+" and media type "+Y+" - Url:",pt.request?pt.request.url:"undefined",pt.request.range?", Range:"+pt.request.range:""),Fe()&&B.startScheduleTimer(0),pt.error&&pt.request.serviceLocation&&(Zt=pt,b.info("Fragment loading completed with an error"),Zt&&Zt.request&&Zt.request.type&&(Zt.request.type===He.w.INIT_SEGMENT_TYPE?ht({representationId:Zt.request.representationId,sender:{}},!1):Zt.request.type===He.w.MEDIA_SEGMENT_TYPE&&(_n(Zt.request.startTime+Zt.request.duration/2),bt({},!1))))}function Sn(){_n(ae.getTime()),lr().startScheduleTimer()}function dn(pt){var Zt=pt.currentTrackInfo;if(Zt){var ct=N.find(function(Ge){return Ge.index===Zt.index&&Ge.lang===Zt.lang});ct&&er(ct).then(function(){A.setIsBufferingCompleted(!1),_n(ae.getTime()),B.setInitSegmentRequired(!0),B.startScheduleTimer()})}}function Dn(pt){_n(pt.quotaExceededTime),B.clearScheduleTimer()}function Rn(){return A?A.getBuffer():null}function er(pt){pt===L||pt&&L&&pt.type!==L.type||(L=pt);var Zt=I.getRealAdaptation(Ce,L),ct=I.getVoRepresentations(L);if(ee){var Ge,Ee=ee.getData(),st=j.getMaxAllowedIndexFor(Y,Ce.id),It=j.getMinAllowedIndexFor(Y,Ce.id),Qt=null;return null!==Ee&&Ee.id===Zt.id||Y===f.Z.TEXT?Ge=j.getQualityFor(Y,Ce.id):(Qt=j.getThroughputHistory().getAverageThroughput(Y,D)||j.getInitialBitrateFor(Y,Ce.id),Ge=j.getQualityForBitrate(L,Qt,Ce.id)),void 0!==It&&Ge<It&&(Ge=It),Ge>st&&(Ge=st),ee.updateData(Zt,ct,Y,L.isFragmented,Ge)}return Promise.resolve()}function lr(){return B}function zn(pt){var Zt;return void 0!==pt?((0,ue.SE)(pt),Zt=ee?ee.getRepresentationForQuality(pt):null):Zt=ee?ee.getCurrentRepresentation():null,I.convertRepresentationToRepresentationInfo(Zt)}function hr(){return!!A&&A.getIsBufferingCompleted()}function nr(pt){if(Q.get().streaming.enableManifestTimescaleMismatchFix){var Zt=pt.chunk,ct=Zt.bytes,Ge=zn(Zt.quality),Ee=ee&&Ge?ee.getRepresentationForQuality(Ge.quality):null;Ge&&Ee&&(Ee.timescale=Me.getMediaTimescaleFromMoov(ct))}}function pr(pt){var Zr,Qi,Pi,Yo,Zt=pt.chunk,ct=Zt.bytes,Ge=Zt.quality,Ee=zn(Ge),st=ee&&Ee?ee.getRepresentationForQuality(Ee.quality):null;if(Ee&&st){var It;if(Q.get().streaming.parseInbandPrft&&pt.request.type===He.w.MEDIA_SEGMENT_TYPE){var Qt=(Zr=It=It||Me.parse(ct),Qi=st.timescale,Pi=Zr.getBoxes("prft"),Yo=[],Pi.forEach(function(bo){Yo.push(function(cs,$o){var lo="unknown";switch(cs.flags){case 0:lo=h.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:lo=h.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:lo=h.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var Wo=1e3*cs.ntp_timestamp_sec+cs.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:lo,ntpTimestamp:Wo=We(ge).getInstance().ntpToUTC(Wo),mediaTime:cs.media_time/$o}}(bo,Qi))}),Yo);Qt&&Qt.length&&Se.trigger(p.Z.INBAND_PRFT,{data:Qt},{streamId:Ce.id,mediaType:Y})}var nn=I.getEventsFor(Ee.mediaInfo,null,Ce),Xn=I.getEventsFor(Ee,st,Ce);if(nn&&nn.length>0||Xn&&Xn.length>0){var qr=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,quality:Ge,index:Zt.index})[0],Ui=function(Zr,Qi,Pi,Yo){try{for(var bo={},cs=[],$o=Pi.concat(Yo),lo=0,Wo=$o.length;lo<Wo;lo++)bo[$o[lo].schemeIdUri+"/"+$o[lo].value]=$o[lo];var As=Zr.getBoxes("emsg");if(!As||0===As.length)return cs;for(var Hs=Zr.getBox("sidx"),Zs=!Hs||isNaN(Hs.earliest_presentation_time)||isNaN(Hs.timescale)?Qi&&!isNaN(Qi.mediaStartTime)?Qi.mediaStartTime:0:Hs.earliest_presentation_time/Hs.timescale,ic=Math.max(Zs,0),zs=ee.getCurrentRepresentation(),Is=0,ul=As.length;Is<ul;Is++){var uu=I.getEvent(As[Is],bo,ic,zs);uu&&cs.push(uu)}return cs}catch{return[]}}(It=It||Me.parse(ct),qr,nn,Xn);Se.trigger(g.Z.INBAND_EVENTS,{events:Ui},{streamId:Ce.id})}}}function jt(){var pt=ae.getTime();Q.get().streaming.buffer.flushBufferAtTrackSwitch&&ae.seek(pt+.001,!1,!0),_n(pt),A.setSeekTarget(pt),B.startScheduleTimer()}function En(){var pt=ae.getTime(),Zt=A.getContinuousBufferTimeForTargetTime(pt);_n(isNaN(Zt)?pt:Zt),B.startScheduleTimer()}function bn(pt){pt&&!isNaN(pt.time)&&(_n(pt.time),A.setSeekTarget(pt.time))}function _n(pt){X=pt,ie=!0}return m={initialize:function(pt,Zt,ct){var Ge;re=(0,rt.Z)(ge).create({events:g.Z,eventBus:Se,streamInfo:Ce,timelineConverter:be,dashConstants:h.Z,segmentBaseController:v.segmentBaseController,type:Y}),(V=(0,oe.Z)(ge).create({streamInfo:Ce,type:Y,timelineConverter:be,dashMetrics:z,mediaPlayerModel:G,baseURLController:v.baseURLController,errHandler:_e,segmentsController:re,settings:Q,boxParser:Me,events:g.Z,eventBus:Se,errors:pe,debug:(0,M.Z)(ge).getInstance(),requestModifier:(0,xe.Z)(ge).getInstance(),dashConstants:h.Z,constants:f.Z,urlUtils:(0,Ye.Z)(ge).getInstance()})).initialize(D=Ce.manifestInfo.isDynamic),j.registerStreamType(Y,m),ee=x(ge).create({streamInfo:Ce,type:Y,abrController:j,dashMetrics:z,playbackController:ae,timelineConverter:be,dashConstants:h.Z,events:g.Z,eventBus:Se,errors:pe,isDynamic:D,adapter:I,segmentsController:re}),(A=(Ge=Y)?Ge!==f.Z.TEXT||ct?$e(ge).create({streamInfo:Ce,type:Ge,mediaPlayerModel:G,manifestModel:$,fragmentModel:Z,errHandler:_e,mediaController:le,representationController:ee,adapter:I,textController:ve,abrController:j,playbackController:ae,settings:Q}):Ae(ge).create({streamInfo:Ce,type:Ge,mimeType:fe,fragmentModel:Z,textController:ve,errHandler:_e,settings:Q}):(_e.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null))&&A.initialize(pt),(B=E(ge).create({streamInfo:Ce,type:Y,mimeType:fe,adapter:I,dashMetrics:z,mediaPlayerModel:G,fragmentModel:Z,abrController:j,playbackController:ae,textController:ve,mediaController:le,bufferController:A,representationController:ee,settings:Q})).initialize(Zt),X=0,ie=!1},getStreamId:ze,getType:Je,isUpdating:function(){return!!ee&&ee.isUpdating()},getBufferController:function(){return A},dischargePreBuffer:function(){A.dischargePreBuffer()},getFragmentModel:function(){return Z},getScheduleController:lr,getRepresentationController:function(){return ee},getRepresentationInfo:zn,getBufferLevel:function(){return A?A.getBufferLevel():0},isBufferingCompleted:hr,createBufferSinks:function(pt){var Zt=Rn();return Zt?Promise.resolve(Zt):A?A.createBufferSink(L,pt):Promise.resolve(null)},updateStreamInfo:function(pt){return Ce=pt,hr()?Promise.resolve():A.updateAppendWindow()},getStreamInfo:function(){return Ce},selectMediaInfo:er,clearMediaInfoArray:function(){N=[]},addMediaInfo:function(pt){-1===N.indexOf(pt)&&N.push(pt)},prepareTrackSwitch:function(){return new Promise(function(pt){b.debug("Preparing track switch for type ".concat(Y));var Zt=Y===f.Z.TEXT||Q.get().streaming.trackSwitchMode[Y]===f.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ae.getTimeToStreamEnd(Ce)>Q.get().streaming.buffer.stallThreshold;if(A.getIsBufferingCompleted()&&!Zt)return A.prepareForNonReplacementTrackSwitch(L.codec).then(function(){Se.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:Ce.id,mediaType:Y})}).catch(function(){Se.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:Ce.id,mediaType:Y})}),void pt();B.clearScheduleTimer(),B.setSwitchTrack(!0),Zt?(Se.trigger(g.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Ce.id},{mediaType:Y,streamId:Ce.id}),Z.abortRequests(),A.prepareForReplacementTrackSwitch(L.codec).then(function(){var ct=zn();return A.updateBufferTimestampOffset(ct)}).then(function(){jt(),pt()}).catch(function(){jt(),pt()})):A.prepareForNonReplacementTrackSwitch(L.codec).then(function(){En(),pt()}).catch(function(){En(),pt()})})},prepareQualityChange:function(pt){De&&b.warning("Canceling queued representation switch to ".concat(De.quality," for ").concat(Y)),b.debug("Preparing quality switch for type ".concat(Y));var Zt=pt.newQuality;te=!0,B.clearScheduleTimer(),ee.prepareQualityChange(Zt);var Ge,ct=zn(Zt);pt.reason&&pt.reason.forceReplace?(Ge=ct,Z.abortRequests(),Se.trigger(g.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Ce.id},{mediaType:Y,streamId:Ce.id}),A.prepareForForceReplacementQualitySwitch(Ge).then(function(){jt(),te=!1}).catch(function(){jt(),te=!1})):Q.get().streaming.buffer.fastSwitchEnabled?function(Ge){var Ee=ae.getTime(),st=1.5*(isNaN(Ge.fragmentDuration)?1:Ge.fragmentDuration),It=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Ee+st,threshold:0})[0];if(It&&!Fe()){var Qt=A.getBufferLevel(),nn=j.getAbandonmentStateFor(Ce.id,Y);It.quality<Ge.quality&&Qt>=st&&nn!==O.Z.ABANDON_LOAD?A.updateBufferTimestampOffset(Ge).then(function(){Z.abortRequests(),_n(Ee+st),B.setCheckPlaybackQuality(!1),B.startScheduleTimer(),te=!1}).catch(function(){te=!1}):Pt(Ge)}else B.startScheduleTimer(),te=!1}(ct):Pt(ct),z.pushPlayListTraceMetrics(new Date,tt.REPRESENTATION_SWITCH_STOP_REASON),z.createPlaylistTraceMetrics(ct.id,1e3*ae.getTime(),ae.getPlaybackRate())},getMediaInfo:function(){return L},getMediaSource:function(){return A.getMediaSource()},setMediaSource:function(pt){return A.setMediaSource(pt,L)},getBuffer:Rn,setExplicitBufferingTime:_n,finalisePlayList:function(pt,Zt){z.pushPlayListTraceMetrics(pt,Zt)},probeNextRequest:function(){var pt=zn(),Zt=ee&&pt?ee.getRepresentationForQuality(pt.quality):null;return V.getNextSegmentRequestIdempotent(L,Zt)},prepareInnerPeriodPlaybackSeeking:function(pt){return new Promise(function(Zt){if(A.hasBufferAtTime(pt.seekTime))return A.pruneBuffer(),Ct(A.getContinuousBufferTimeForTargetTime(pt.seekTime))&&A.setIsBufferingCompleted(!0),void Zt();B.clearScheduleTimer(),Z.abortRequests(),A.prepareForPlaybackSeek().then(function(){var ct=A.getAllRangesWithSafetyFactor(pt.seekTime);return A.clearBuffers(ct)}).then(function(){var ct=A.getContinuousBufferTimeForTargetTime(pt.seekTime);if(Ct(ct))A.setIsBufferingCompleted(!0),Zt();else{var Ge=isNaN(ct)?pt.seekTime:ct;_n(Ge),A.setSeekTarget(Ge);var Ee=[];Ee.push(A.updateAppendWindow());var st=zn();Ee.push(A.updateBufferTimestampOffset(st)),Promise.all(Ee).then(function(){B.setInitSegmentRequired(!0),B.setCheckPlaybackQuality(!1),B.startScheduleTimer(),Zt()})}}).catch(function(ct){b.error(ct)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(pt,Zt){try{B.clearScheduleTimer(),Z.abortRequests(),A.prepareForPlaybackSeek().then(function(){return A.pruneAllSafely()}).then(function(){pt()})}catch(ct){Zt(ct)}})},reset:function(pt,Zt){V&&V.reset(),A&&(A.reset(pt,Zt),A=null),B&&(B.reset(),B=null),ee&&(ee.reset(),ee=null),re&&(re=null),j&&j.unRegisterStreamType(ze(),Y),Se.off(g.Z.DATA_UPDATE_COMPLETED,et,m),Se.off(g.Z.INIT_FRAGMENT_NEEDED,ht,m),Se.off(g.Z.MEDIA_FRAGMENT_NEEDED,bt,m),Se.off(g.Z.INIT_FRAGMENT_LOADED,nr,m),Se.off(g.Z.MEDIA_FRAGMENT_LOADED,pr,m),Se.off(g.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,m),Se.off(g.Z.BUFFER_CLEARED,nt,m),Se.off(g.Z.SEEK_TARGET,bn,m),Se.off(g.Z.FRAGMENT_LOADING_ABANDONED,Gt,m),Se.off(g.Z.FRAGMENT_LOADING_COMPLETED,Cn,m),Se.off(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Sn,m),Se.off(g.Z.SET_NON_FRAGMENTED_TEXT,dn,m),Se.off(g.Z.QUOTA_EXCEEDED,Dn,m),Se.off(g.Z.SOURCE_BUFFER_ERROR,dt,m),Se.off(g.Z.BYTES_APPENDED_END_FRAGMENT,ft,m),Ie(),Y=null,Ce=null}},b=(0,M.Z)(ge).getInstance().getLogger(m),Ie(),Se.on(g.Z.DATA_UPDATE_COMPLETED,et,m,{priority:S.Z.EVENT_PRIORITY_HIGH}),Se.on(g.Z.INIT_FRAGMENT_NEEDED,ht,m),Se.on(g.Z.MEDIA_FRAGMENT_NEEDED,bt,m),Se.on(g.Z.INIT_FRAGMENT_LOADED,nr,m),Se.on(g.Z.MEDIA_FRAGMENT_LOADED,pr,m),Se.on(g.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,m),Se.on(g.Z.BUFFER_CLEARED,nt,m),Se.on(g.Z.SEEK_TARGET,bn,m),Se.on(g.Z.FRAGMENT_LOADING_ABANDONED,Gt,m),Se.on(g.Z.FRAGMENT_LOADING_COMPLETED,Cn,m),Se.on(g.Z.QUOTA_EXCEEDED,Dn,m),Se.on(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Sn,m),Se.on(g.Z.SET_NON_FRAGMENTED_TEXT,dn,m),Se.on(g.Z.SOURCE_BUFFER_ERROR,dt,m),Se.on(g.Z.BYTES_APPENDED_END_FRAGMENT,ft,m),m}Qe.__dashjs_factory_name="StreamProcessor";const St=C.Z.getClassFactory(Qe),kt=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};var on=F(9032);function Tn(v,m){if(v){if("string"==typeof v)return xn(v,m);var b=Object.prototype.toString.call(v).slice(8,-1);return"Object"===b&&v.constructor&&(b=v.constructor.name),"Map"===b||"Set"===b?Array.from(v):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?xn(v,m):void 0}}function xn(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}function yn(v){var b,L=(v=v||{}).requestModifier,N=v.lowLatencyThroughputModel,A=v.boxParser,B=(0,Nt.Z)(this.context).getInstance();function ee(V){var re,X=new Date,De=V.request,ge=new Headers;if(De.range&&ge.append("Range","bytes="+De.range),V.headers)for(var Se in V.headers){var Ce=V.headers[Se];Ce&&ge.append(Se,Ce)}De.requestStartDate||(De.requestStartDate=X),L&&L.modifyRequestHeader&&L.modifyRequestHeader({setRequestHeader:function(I,$){ge.append(I,$)}},{url:V.url}),"function"==typeof window.AbortController&&(re=new AbortController,V.abortController=re,re.signal.onabort=V.onabort);var Y={method:V.method,headers:ge,credentials:V.withCredentials?"include":void 0,signal:re?re.signal:void 0},_e=B.get().streaming.abr.fetchThroughputCalculationMode,fe=Date.now(),be=0;new Promise(function(I){if(_e===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&N&&(be=N.getThroughputCapacityDelayMS(De,1e3*b.getCurrentBufferLevel(De.mediaType))))return setTimeout(I,be);I()}).then(function(){var I=Date.now();fetch(V.url,Y).then(function($){V.response||(V.response={}),V.response.status=$.status,V.response.statusText=$.statusText,V.response.responseURL=$.url,$.ok||V.onerror();var G,Z="",j=function(Oe,nt){var dt;if(typeof Symbol>"u"||null==Oe[Symbol.iterator]){if(Array.isArray(Oe)||(dt=Tn(Oe))){dt&&(Oe=dt);var ft=0,Pt=function(){};return{s:Pt,n:function(){return ft>=Oe.length?{done:!0}:{done:!1,value:Oe[ft++]}},e:function(dn){throw dn},f:Pt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Gt,Cn=!0,Sn=!1;return{s:function(){dt=Oe[Symbol.iterator]()},n:function(){var dn=dt.next();return Cn=dn.done,dn},e:function(dn){Sn=!0,Gt=dn},f:function(){try{Cn||null==dt.return||dt.return()}finally{if(Sn)throw Gt}}}}($.headers.keys());try{for(j.s();!(G=j.n()).done;){var ae=G.value;Z+=ae+": "+$.headers.get(ae)+"\r\n"}}catch(Oe){j.e(Oe)}finally{j.f()}if(V.response.responseHeaders=Z,!$.body)return $.arrayBuffer().then(function(Oe){V.response.response=Oe,V.progress({loaded:Oe.byteLength,total:Oe.byteLength,stream:!1}),V.onload(),V.onend()});var le,ve,z,Me=parseInt($.headers.get("Content-Length"),10),Ve=0,ze=!1,Je=new Uint8Array,Fe=0;if(_e===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&N){var Ie=I,Ct=0,ht=function(Oe){if(Array.isArray(Oe))return Oe}(z=$.body.tee())||function(Oe,nt){if(typeof Symbol<"u"&&Symbol.iterator in Object(Oe)){var dt=[],ft=!0,Pt=!1,Gt=void 0;try{for(var Cn,Sn=Oe[Symbol.iterator]();!(ft=(Cn=Sn.next()).done)&&(dt.push(Cn.value),2!==dt.length);ft=!0);}catch(dn){Pt=!0,Gt=dn}finally{try{ft||null==Sn.return||Sn.return()}finally{if(Pt)throw Gt}}return dt}}(z)||Tn(z,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Ft=ht[1];le=ht[0].getReader(),ve=[],le.read().then(function Oe(nt){var dt=nt.value,ft=nt.done;if(Ct=Date.now(),dt&&dt.length){var Pt=Ct-Ie,Gt=dt.length;ve.push({chunkDownloadTimeRelativeMS:Ct-I,chunkDownloadDurationMS:Pt,chunkBytes:Gt,kbps:Math.round(8*Gt/(Pt/1e3)),bufferLevel:b.getCurrentBufferLevel(De.mediaType)})}if(ft){var Cn=Ct-I,Sn=ve.reduce(function(dn,Dn){return dn+Dn.chunkBytes},0);return N.addMeasurement(De,Cn,ve,fe,be,Z),void V.progress({loaded:Sn,total:Sn,lengthComputable:!0,time:N.getEstimatedDownloadDurationMS(De),stream:!0})}return Ie=Date.now(),le.read().then(Oe)}),V.reader=Ft.getReader()}else V.reader=$.body.getReader();var sn=[],Be=[],Te=[],et=!0;ie(V,function Oe(nt){var dt=nt.value;if(nt.done){if(Je){if(_e!==f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var ft=null,Pt=null;_e===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(ft=function(dn,Dn){try{var Rn,er;Rn=dn.filter(function(En,bn){return bn<dn.length-1}),er=Dn.filter(function(En,bn){return bn<Dn.length-1});var lr=[];if(Rn.length>1){for(var zn=0,hr=0,nr=0;nr<Rn.length;nr++)if(Rn[nr]&&er[nr]){var pr=er[nr].ts-Rn[nr].ts;if(pr>1)lr.push(8*er[nr].bytes/pr),hr=0;else{0===hr&&(hr=Rn[nr].ts,zn=0);var jt=er[nr].ts-hr;jt>1?(lr.push(8*(zn+=er[nr].bytes)/jt),hr=0):zn+=er[nr].bytes}}if(lr.length>0)return lr.reduce(function(En,bn){return En+bn},0)/lr.length}return null}catch{return null}}(Be,Te))&&(Pt=8*Ve/ft):_e===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Pt=te(sn,Ve)),V.progress({loaded:Ve,total:isNaN(Me)?Ve:Me,lengthComputable:!0,time:Pt,stream:!0})}V.response.response=Je.buffer}return V.onload(),void V.onend()}if(dt&&dt.length>0){Je=function(dn,Dn){if(0===dn.length)return Dn;var Rn=new Uint8Array(dn.length+Dn.length);return Rn.set(dn),Rn.set(Dn,dn.length),Rn}(Je,dt),Ve+=dt.length,sn.push({ts:Date.now(),bytes:dt.length}),_e===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&et&&A.findLastTopIsoBoxCompleted(["moof"],Je,Fe).found&&(et=!1,Be.push({ts:performance.now(),bytes:dt.length}));var Gt=A.findLastTopIsoBoxCompleted(["moov","mdat"],Je,Fe);if(Gt.found){var Cn,Sn=Gt.lastCompletedOffset+Gt.size;_e!==f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||et||(et=!0,Te.push({ts:performance.now(),bytes:Je.length})),Sn===Je.length?(Cn=Je,Je=new Uint8Array):(Cn=new Uint8Array(Je.subarray(0,Sn)),Je=Je.subarray(Sn)),V.progress({data:Cn.buffer,lengthComputable:!1,noTrace:!0}),Fe=0}else Fe=Gt.lastCompletedOffset,ze||(V.progress({lengthComputable:!1,noTrace:!0}),ze=!0)}ie(V,Oe)})}).catch(function($){V.onerror&&V.onerror($)})})}function ie(V,re){V.reader.read().then(re).catch(function(X){V.onerror&&200===V.response.status&&V.onerror(X)})}function te(V,re){try{if((V=V.filter(function(ge){return ge.bytes>re/4/V.length})).length>1){var X=0,De=(V[V.length-1].ts-V[0].ts)/V.length;return V.forEach(function(ge,Se){var Ce=V[Se+1];if(Ce){var Y=Ce.ts-ge.ts;X+=Y<De?Y:0}}),X}return null}catch{return null}}return{load:function(V){L&&L.modifyRequest?(0,xe.k)(V,L).then(function(){return ee(V)}):ee(V)},abort:function(V){if(V.abortController)V.abortController.abort();else if(V.reader)try{V.reader.cancel(),V.onabort()}catch{}},calculateDownloadedTime:te,setup:function(V){b=V.dashMetrics}}}yn.__dashjs_factory_name="FetchLoader";const jn=C.Z.getClassFactory(yn);var Hn=F(1180);const mi=function(){function v(){(function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var b;return(b=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==h.Z.BASE_URL&&this.segmentInfoType!==h.Z.SEGMENT_BASE&&!this.indexRange}}])&&function br(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}(),Ci=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.period=null,this.index=-1,this.type=null};var Hr=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};Hr.DEFAULT_ID="defaultId";const Li=Hr,Fi=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};var Gi=F(2610);const qi=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};var Co=function v(m,b,D,L){(function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=m||"",this.serviceLocation=b||m||"",this.dvb_priority=D||1,this.dvb_weight=L||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};Co.DEFAULT_DVB_PRIORITY=1,Co.DEFAULT_DVB_WEIGHT=1;const Ao=Co,Fs=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},qt=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Ut=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0},lt=function(){function v(){(function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this.schemeIdUri=null,this.value=null,this.id=null}var b;return(b=[{key:"init",value:function(D){return D&&(this.schemeIdUri=D.schemeIdUri?D.schemeIdUri:null,this.value=D.value?D.value:null,this.id=D.id?D.id:null),this}}])&&function Vt(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}();var Ot=F(3101),gt=F.n(Ot);function Rt(){return{areEqual:function(v,m){return gt()(v,m)}}}Rt.__dashjs_factory_name="ObjectUtils";const tn=C.Z.getSingletonFactory(Rt);var rn=F(7803);const cn=function v(m,b){(function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=m||"",this.serviceLocation=b||null,this.queryParams={}},In=function v(m,b,D){(function(L,N){if(!(L instanceof N))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=m||"",this.serviceLocation=b||null,this.ttl=D||NaN,this.queryParams={}};function an(v,m){var b;if(typeof Symbol>"u"||null==v[Symbol.iterator]){if(Array.isArray(v)||(b=Bt(v))||m&&v&&"number"==typeof v.length){b&&(v=b);var D=0,L=function(){};return{s:L,n:function(){return D>=v.length?{done:!0}:{done:!1,value:v[D++]}},e:function(ee){throw ee},f:L}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,A=!0,B=!1;return{s:function(){b=v[Symbol.iterator]()},n:function(){var ee=b.next();return A=ee.done,ee},e:function(ee){B=!0,N=ee},f:function(){try{A||null==b.return||b.return()}finally{if(B)throw N}}}}function Bt(v,m){if(v){if("string"==typeof v)return mn(v,m);var b=Object.prototype.toString.call(v).slice(8,-1);return"Object"===b&&v.constructor&&(b=v.constructor.name),"Map"===b||"Set"===b?Array.from(v):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?mn(v,m):void 0}}function mn(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}function pn(){var v,m,b,D,L=this.context,N=(0,Ye.Z)(L).getInstance(),A=Number.isInteger||function(I){return"number"==typeof I&&isFinite(I)&&Math.floor(I)===I};function B(I,$){if(!I)throw new Error("adaptation is not defined");if(!$)throw new Error("type is not defined");if(I.Representation_asArray&&I.Representation_asArray.length){var G=Se(I.Representation_asArray[0]);if(G&&G.length>0&&rn.Y.indexOf(G[0].schemeIdUri)>=0)return $===f.Z.IMAGE}if(I.ContentComponent_asArray&&I.ContentComponent_asArray.length>0){if(I.ContentComponent_asArray.length>1)return $===f.Z.MUXED;if(I.ContentComponent_asArray[0].contentType===$)return!0}var Z=$===f.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp($);if(I.Representation_asArray&&I.Representation_asArray.length&&Z.test(I.Representation_asArray[0].codecs))return!0;if(I.hasOwnProperty(h.Z.MIME_TYPE))return Z.test(I.mimeType);if(I.Representation_asArray)for(var ae,le=0;le<I.Representation_asArray.length;le++)if((ae=I.Representation_asArray[le]).hasOwnProperty(h.Z.MIME_TYPE))return Z.test(ae.mimeType);return!1}function ee(I){if(!I)throw new Error("adaptation is not defined");if(I.hasOwnProperty(h.Z.SEGMENT_TEMPLATE)||I.hasOwnProperty(h.Z.SEGMENT_TIMELINE)||I.hasOwnProperty(h.Z.SEGMENT_LIST)||I.hasOwnProperty(h.Z.SEGMENT_BASE))return!0;if(I.Representation_asArray&&I.Representation_asArray.length>0){var $=I.Representation_asArray[0];if($.hasOwnProperty(h.Z.SEGMENT_TEMPLATE)||$.hasOwnProperty(h.Z.SEGMENT_TIMELINE)||$.hasOwnProperty(h.Z.SEGMENT_LIST)||$.hasOwnProperty(h.Z.SEGMENT_BASE))return!0}return!1}function ie(I){return B(I,f.Z.VIDEO)}function te(I){return B(I,f.Z.TEXT)}function V(I){return B(I,f.Z.IMAGE)}function re(I){return I&&Array.isArray(I.Representation_asArray)&&I.Representation_asArray.sort(function($,G){return $.bandwidth-G.bandwidth}),I}function X(I,$){return I&&I.Period_asArray&&A($)&&I.Period_asArray[$]?I.Period_asArray[$].AdaptationSet_asArray:[]}function De(I){return I&&I.Period_asArray?I.Period_asArray:[]}function ge(I){var $=!1;return I&&I.hasOwnProperty("type")&&($=I.type===h.Z.DYNAMIC),$}function Se(I){return I&&I.EssentialProperty_asArray&&I.EssentialProperty_asArray.length?I.EssentialProperty_asArray.map(function($){return{schemeIdUri:$.schemeIdUri,value:$.value}}):null}function Ce(I){if(!I||!I.S_asArray)return NaN;var $=I.S_asArray[0],G=I.S_asArray[1];return $.hasOwnProperty("d")?$.d:G.t-$.t}function Y(I,$){if(!I)throw new Error("Period cannot be null or undefined");var G=Li.DEFAULT_ID+"_"+$;return I.hasOwnProperty(h.Z.ID)&&I.id.length>0&&"__proto__"!==I.id&&(G=I.id),G}function _e(I,$,G){var Z,j=[];if(!I)return j;for(Z=0;Z<I.length;Z++){var ae=new Fs;if(ae.timescale=1,ae.representation=$,!I[Z].hasOwnProperty(f.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ae.schemeIdUri=I[Z].schemeIdUri,I[Z].hasOwnProperty(h.Z.TIMESCALE)&&(ae.timescale=I[Z].timescale),I[Z].hasOwnProperty(h.Z.VALUE)&&(ae.value=I[Z].value),j.push(ae),ae.period=G}return j}function fe(I){var $=[],Z=!1;return(I.BaseURL_asArray||[I.baseUri]).some(function(j){if(j){var ae=new Ao,le=j.__text||j;return N.isRelative(le)&&(Z=!0,I.baseUri&&(le=N.resolve(le,I.baseUri))),ae.url=le,ae.serviceLocation=j.hasOwnProperty(h.Z.SERVICE_LOCATION)&&j.serviceLocation.length?j.serviceLocation:le,j.hasOwnProperty(h.Z.DVB_PRIORITY)&&(ae.dvb_priority=j[h.Z.DVB_PRIORITY]),j.hasOwnProperty(h.Z.DVB_WEIGHT)&&(ae.dvb_weight=j[h.Z.DVB_WEIGHT]),j.hasOwnProperty(h.Z.AVAILABILITY_TIME_OFFSET)&&(ae.availabilityTimeOffset=j[h.Z.AVAILABILITY_TIME_OFFSET]),j.hasOwnProperty(h.Z.AVAILABILITY_TIME_COMPLETE)&&(ae.availabilityTimeComplete="false"!==j[h.Z.AVAILABILITY_TIME_COMPLETE]),$.push(ae),Z}}),$}function be(I){var $=new Ut;return $.serverUrl=I.__text,I.hasOwnProperty(h.Z.DEFAULT_SERVICE_LOCATION)&&($.defaultServiceLocation=I[h.Z.DEFAULT_SERVICE_LOCATION],$.defaultServiceLocationArray=$.defaultServiceLocation.split(" ")),I.hasOwnProperty(h.Z.QUERY_BEFORE_START)&&($.queryBeforeStart="true"===I[h.Z.QUERY_BEFORE_START].toLowerCase()),I.hasOwnProperty(h.Z.CLIENT_REQUIREMENT)&&($.clientRequirement="false"!==I[h.Z.CLIENT_REQUIREMENT].toLowerCase()),$}return v={getIsTypeOf:B,getIsText:te,getIsFragmented:ee,getProducerReferenceTimesForAdaptation:function(I){var $=I&&I.hasOwnProperty(h.Z.PRODUCERREFERENCETIME_ASARRAY)?I[h.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(I&&I.hasOwnProperty(h.Z.REPRESENTATION_ASARRAY)?I[h.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(Z){var j;Z.hasOwnProperty(h.Z.PRODUCERREFERENCETIME_ASARRAY)&&$.push.apply($,function(ae){if(Array.isArray(ae))return mn(ae)}(j=Z[h.Z.PRODUCERREFERENCETIME_ASARRAY])||function(ae){if(typeof Symbol<"u"&&Symbol.iterator in Object(ae))return Array.from(ae)}(j)||Bt(j)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});var G=[];return $.forEach(function(Z){var j=new qt;Z.hasOwnProperty(h.Z.ID)&&(j[h.Z.ID]=Z[h.Z.ID],Z.hasOwnProperty(h.Z.WALL_CLOCK_TIME)&&(j[h.Z.WALL_CLOCK_TIME]=Z[h.Z.WALL_CLOCK_TIME],Z.hasOwnProperty(h.Z.PRESENTATION_TIME)&&(j[h.Z.PRESENTATION_TIME]=Z[h.Z.PRESENTATION_TIME],Z.hasOwnProperty(h.Z.INBAND)&&(j[h.Z.INBAND]="false"!==Z[h.Z.INBAND]),Z.hasOwnProperty(h.Z.TYPE)&&(j[h.Z.TYPE]=Z[h.Z.TYPE]),G.push(j))))}),G},getLanguageForAdaptation:function(I){var $="";return I&&I.hasOwnProperty(h.Z.LANG)&&($=I.lang),$},getViewpointForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.VIEWPOINT_ASARRAY)&&I[h.Z.VIEWPOINT_ASARRAY].length?I[h.Z.VIEWPOINT_ASARRAY].map(function($){return(new lt).init($)}):[]},getRolesForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.ROLE_ASARRAY)&&I[h.Z.ROLE_ASARRAY].length?I[h.Z.ROLE_ASARRAY].map(function($){return(new lt).init($)}):[]},getAccessibilityForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.ACCESSIBILITY_ASARRAY)&&I[h.Z.ACCESSIBILITY_ASARRAY].length?I[h.Z.ACCESSIBILITY_ASARRAY].map(function($){return(new lt).init($)}):[]},getAudioChannelConfigurationForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&I[h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?I[h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function($){return(new lt).init($)}):[]},getAudioChannelConfigurationForRepresentation:function(I){return I&&I.hasOwnProperty(h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&I[h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?I[h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function($){return(new lt).init($)}):[]},getAdaptationForIndex:function(I,$,G){var Z=X($,G);return Z.length>0&&A(I)?Z[I]:null},getIndexForAdaptation:function(I,$,G){if(!I)return-1;for(var Z=X($,G),j=0;j<Z.length;j++)if(tn(L).getInstance().areEqual(Z[j],I))return j;return-1},getAdaptationForId:function(I,$,G){var Z,j,ae=X($,G);for(Z=0,j=ae.length;Z<j;Z++)if(ae[Z].hasOwnProperty(h.Z.ID)&&ae[Z].id===I)return ae[Z];return null},getAdaptationsForType:function(I,$,G){var Z,j,ae=X(I,$),le=[];for(Z=0,j=ae.length;Z<j;Z++)B(ae[Z],G)&&le.push(re(ae[Z]));return le},getRealPeriods:De,getRealPeriodForIndex:function(I,$){var G=De($);return G.length>0&&A(I)?G[I]:null},getCodec:function(I,$,G){var Z=null;if(I&&I.Representation_asArray&&I.Representation_asArray.length>0){var j=A($)&&$>=0&&$<I.Representation_asArray.length?I.Representation_asArray[$]:I.Representation_asArray[0];j&&(Z=j.mimeType+';codecs="'+j.codecs+'"',G&&void 0!==j.width&&(Z+=';width="'+j.width+'";height="'+j.height+'"'))}return Z&&(Z=Z.replace(/\sprofiles=[^;]*/g,"")),Z},getSelectionPriority:function(I){try{var $=I&&void 0!==I.selectionPriority?parseInt(I.selectionPriority):1;return isNaN($)?1:$}catch{return 1}},getMimeType:function(I){return I&&I.Representation_asArray&&I.Representation_asArray.length>0?I.Representation_asArray[0].mimeType:null},getKID:function(I){return I&&I.hasOwnProperty(h.Z.CENC_DEFAULT_KID)?I[h.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(I){if(!I||!Array.isArray(I.Label_asArray))return[];for(var $=[],G=0;G<I.Label_asArray.length;G++)$.push({lang:I.Label_asArray[G].lang,text:I.Label_asArray[G].__text||I.Label_asArray[G]});return $},getContentProtectionData:function(I){return I&&I.hasOwnProperty(h.Z.CONTENTPROTECTION_ASARRAY)&&0!==I.ContentProtection_asArray.length?I.ContentProtection_asArray:null},getIsDynamic:ge,getId:function(I){return I&&I[h.Z.ID]||null},hasProfile:function(I,$){var G=!1;return I&&I.profiles&&I.profiles.length>0&&(G=-1!==I.profiles.indexOf($)),G},getDuration:function(I){return I&&I.hasOwnProperty(h.Z.MEDIA_PRESENTATION_DURATION)?I.mediaPresentationDuration:I&&"dynamic"==I.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(I){return I&&I.bandwidth?I.bandwidth:NaN},getManifestUpdatePeriod:function(I){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=NaN;return I&&I.hasOwnProperty(h.Z.MINIMUM_UPDATE_PERIOD)&&(G=I.minimumUpdatePeriod),isNaN(G)?G:Math.max(G-$,1)},getPublishTime:function(I){return I&&I.hasOwnProperty(h.Z.PUBLISH_TIME)?new Date(I[h.Z.PUBLISH_TIME]):null},getRepresentationCount:function(I){return I&&Array.isArray(I.Representation_asArray)?I.Representation_asArray.length:0},getBitrateListForAdaptation:function(I){var $=re(I);return($&&Array.isArray($.Representation_asArray)?$.Representation_asArray:[]).map(function(G){return{bandwidth:G.bandwidth,width:G.width||0,height:G.height||0,scanType:G.scanType||null,id:G.id||null}})},getRepresentationFor:function(I,$){return $&&$.Representation_asArray&&$.Representation_asArray.length>0&&A(I)?$.Representation_asArray[I]:null},getRepresentationsForAdaptation:function(I){var $,G,Z,j,ae=[],le=function(Je){if(Je&&Je.period&&A(Je.period.index)){var Fe=Je.period.mpd.manifest.Period_asArray[Je.period.index];if(Fe&&Fe.AdaptationSet_asArray&&A(Je.index))return re(Fe.AdaptationSet_asArray[Je.index])}}(I);if(le&&le.Representation_asArray){if(I&&I.period&&A(I.period.index)){var ve=fe(I.period.mpd.manifest);ve&&(G=ve[0])}for(var z=0,Q=le.Representation_asArray.length;z<Q;++z){var Me=le.Representation_asArray[z],Ve=new mi;if(Ve.index=z,Ve.adaptation=I,Me.hasOwnProperty(h.Z.ID)&&(Ve.id=Me.id),Me.hasOwnProperty(h.Z.CODECS)&&(Ve.codecs=Me.codecs),Me.hasOwnProperty(h.Z.MIME_TYPE)&&(Ve.mimeType=Me[h.Z.MIME_TYPE]),Me.hasOwnProperty(h.Z.CODEC_PRIVATE_DATA)&&(Ve.codecPrivateData=Me.codecPrivateData),Me.hasOwnProperty(h.Z.BANDWITH)&&(Ve.bandwidth=Me.bandwidth),Me.hasOwnProperty(h.Z.WIDTH)&&(Ve.width=Me.width),Me.hasOwnProperty(h.Z.HEIGHT)&&(Ve.height=Me.height),Me.hasOwnProperty(h.Z.SCAN_TYPE)&&(Ve.scanType=Me.scanType),Me.hasOwnProperty(h.Z.MAX_PLAYOUT_RATE)&&(Ve.maxPlayoutRate=Me.maxPlayoutRate),Me.hasOwnProperty(h.Z.SEGMENT_BASE)?($=Me.SegmentBase,Ve.segmentInfoType=h.Z.SEGMENT_BASE):Me.hasOwnProperty(h.Z.SEGMENT_LIST)?Ve.segmentInfoType=($=Me.SegmentList).hasOwnProperty(h.Z.SEGMENT_TIMELINE)?h.Z.SEGMENT_TIMELINE:h.Z.SEGMENT_LIST:Me.hasOwnProperty(h.Z.SEGMENT_TEMPLATE)?(Ve.segmentInfoType=($=Me.SegmentTemplate).hasOwnProperty(h.Z.SEGMENT_TIMELINE)?h.Z.SEGMENT_TIMELINE:h.Z.SEGMENT_TEMPLATE,$.hasOwnProperty(h.Z.INITIALIZATION_MINUS)&&(Ve.initialization=$.initialization.split("$Bandwidth$").join(Me.bandwidth).split("$RepresentationID$").join(Me.id))):Ve.segmentInfoType=h.Z.BASE_URL,Ve.essentialProperties=Se(Me),$){if($.hasOwnProperty(h.Z.INITIALIZATION)){var ze=$.Initialization;ze.hasOwnProperty(h.Z.SOURCE_URL)&&(Ve.initialization=ze.sourceURL),ze.hasOwnProperty(h.Z.RANGE)&&(Ve.range=ze.range)}else te(le)&&ee(le)&&le.mimeType&&-1===le.mimeType.indexOf("application/mp4")&&(Ve.range=0);$.hasOwnProperty(h.Z.TIMESCALE)&&(Ve.timescale=$.timescale),$.hasOwnProperty(h.Z.DURATION)?Ve.segmentDuration=$.duration/Ve.timescale:Me.hasOwnProperty(h.Z.SEGMENT_TEMPLATE)&&($=Me.SegmentTemplate).hasOwnProperty(h.Z.SEGMENT_TIMELINE)&&(Ve.segmentDuration=Ce($.SegmentTimeline)/Ve.timescale),$.hasOwnProperty(h.Z.MEDIA)&&(Ve.media=$.media),$.hasOwnProperty(h.Z.START_NUMBER)&&(Ve.startNumber=$.startNumber),$.hasOwnProperty(h.Z.INDEX_RANGE)&&(Ve.indexRange=$.indexRange),$.hasOwnProperty(h.Z.PRESENTATION_TIME_OFFSET)&&(Ve.presentationTimeOffset=$.presentationTimeOffset/Ve.timescale),$.hasOwnProperty(h.Z.AVAILABILITY_TIME_OFFSET)?Ve.availabilityTimeOffset=$.availabilityTimeOffset:G&&void 0!==G.availabilityTimeOffset&&(Ve.availabilityTimeOffset=G.availabilityTimeOffset),$.hasOwnProperty(h.Z.AVAILABILITY_TIME_COMPLETE)?Ve.availabilityTimeComplete="false"!==$.availabilityTimeComplete:G&&void 0!==G.availabilityTimeComplete&&(Ve.availabilityTimeComplete=G.availabilityTimeComplete)}Ve.MSETimeOffset=(j=(Z=Ve).presentationTimeOffset,Z.adaptation.period.start-j),Ve.path=[I.period.index,I.index,z],ae.push(Ve)}}return ae},getAdaptationsForPeriod:function(I){var $,G,Z,j=I&&A(I.index)?I.mpd.manifest.Period_asArray[I.index]:null,ae=[];if(j&&j.AdaptationSet_asArray)for(Z=0;Z<j.AdaptationSet_asArray.length;Z++)G=j.AdaptationSet_asArray[Z],$=new Ci,G.hasOwnProperty(h.Z.ID)&&($.id=G.id),$.index=Z,$.period=I,B(G,f.Z.MUXED)?$.type=f.Z.MUXED:B(G,f.Z.AUDIO)?$.type=f.Z.AUDIO:ie(G)?$.type=f.Z.VIDEO:te(G)?$.type=f.Z.TEXT:V(G)?$.type=f.Z.IMAGE:m.warn("Unknown Adaptation stream type"),ae.push($);return ae},getRegularPeriods:function(I){var $,G,Z=!!I&&ge(I.manifest),j=[],ae=null,le=null,ve=null,z=null;for(G=0,$=I&&I.manifest&&I.manifest.Period_asArray?I.manifest.Period_asArray.length:0;G<$;G++)(le=I.manifest.Period_asArray[G]).hasOwnProperty(h.Z.START)?(z=new Li).start=le.start:null!==ae&&ae.hasOwnProperty(h.Z.DURATION)&&null!==ve?(z=new Li).start=parseFloat((ve.start+ve.duration).toFixed(5)):0!==G||Z||((z=new Li).start=0),null!==ve&&isNaN(ve.duration)&&(null!==z?ve.duration=parseFloat((z.start-ve.start).toFixed(5)):m.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==z&&(z.id=Y(le,G),z.index=G,z.mpd=I,le.hasOwnProperty(h.Z.DURATION)&&(z.duration=le.duration),ve&&(ve.nextPeriodId=z.id),j.push(z),ae=le,ve=z),le=null,z=null;return 0===j.length||null!==ve&&isNaN(ve.duration)&&(ve.duration=parseFloat((function(Q){!function(){if(!b||!b.hasOwnProperty("error"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var Me,Ve=ge(Q.mpd.manifest);return Q.mpd.manifest.mediaPresentationDuration?Me=Q.mpd.manifest.mediaPresentationDuration:Q.duration?Me=Q.duration:Ve?Me=Number.POSITIVE_INFINITY:b.error(new K.Z(pe.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Q)),Me}(ve)-ve.start).toFixed(5))),j},getMpd:function(I){var $=new Fi;return I&&($.manifest=I,I.hasOwnProperty(h.Z.AVAILABILITY_START_TIME)?$.availabilityStartTime=new Date(I.availabilityStartTime.getTime()):I.loadedTime&&($.availabilityStartTime=new Date(I.loadedTime.getTime())),I.hasOwnProperty(h.Z.AVAILABILITY_END_TIME)&&($.availabilityEndTime=new Date(I.availabilityEndTime.getTime())),I.hasOwnProperty(h.Z.MINIMUM_UPDATE_PERIOD)&&($.minimumUpdatePeriod=I.minimumUpdatePeriod),I.hasOwnProperty(h.Z.MEDIA_PRESENTATION_DURATION)&&($.mediaPresentationDuration=I.mediaPresentationDuration),I.hasOwnProperty(h.Z.SUGGESTED_PRESENTATION_DELAY)&&($.suggestedPresentationDelay=I.suggestedPresentationDelay),I.hasOwnProperty(h.Z.TIMESHIFT_BUFFER_DEPTH)&&($.timeShiftBufferDepth=I.timeShiftBufferDepth),I.hasOwnProperty(h.Z.MAX_SEGMENT_DURATION)&&($.maxSegmentDuration=I.maxSegmentDuration),I.hasOwnProperty(h.Z.PUBLISH_TIME)&&($.publishTime=new Date(I.publishTime))),$},getEventsForPeriod:function(I){var $,G,Z=I&&I.mpd&&I.mpd.manifest?I.mpd.manifest:null,j=Z?Z.Period_asArray:null,ae=j&&I&&A(I.index)?j[I.index].EventStream_asArray:null,le=[];if(ae)for($=0;$<ae.length;$++){var ve=new Fs;if(ve.period=I,ve.timescale=1,!ae[$].hasOwnProperty(f.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(ve.schemeIdUri=ae[$][f.Z.SCHEME_ID_URI],ae[$].hasOwnProperty(h.Z.TIMESCALE)&&(ve.timescale=ae[$][h.Z.TIMESCALE]),ae[$].hasOwnProperty(h.Z.VALUE)&&(ve.value=ae[$][h.Z.VALUE]),ae[$].hasOwnProperty(h.Z.PRESENTATION_TIME_OFFSET)&&(ve.presentationTimeOffset=ae[$][h.Z.PRESENTATION_TIME_OFFSET]),G=0;ae[$].Event_asArray&&G<ae[$].Event_asArray.length;G++){var z=ae[$].Event_asArray[G],Q=new qi;Q.presentationTime=0,Q.eventStream=ve,z.hasOwnProperty(h.Z.PRESENTATION_TIME)&&(Q.presentationTime=z.presentationTime),Q.calculatedPresentationTime=Q.presentationTime/ve.timescale+I.start-(ve.presentationTimeOffset?ve.presentationTimeOffset/ve.timescale:0),z.hasOwnProperty(h.Z.DURATION)&&(Q.duration=z.duration/ve.timescale),Q.id=z.hasOwnProperty(h.Z.ID)?z.id:null,Q.messageData=z.Signal&&z.Signal.Binary?D.decodeArray(z.Signal.Binary.toString()):z.messageData||z.__cdata||z.__text,le.push(Q)}}return le},getEssentialPropertiesForRepresentation:Se,getEventStreamForAdaptationSet:function(I,$,G){var Z,j,ae;return I&&I.Period_asArray&&$&&$.period&&A($.period.index)&&(j=I.Period_asArray[$.period.index])&&j.AdaptationSet_asArray&&A($.index)&&(ae=j.AdaptationSet_asArray[$.index])&&(Z=ae.InbandEventStream_asArray),_e(Z,null,G)},getEventStreamForRepresentation:function(I,$,G){var Z,j,ae,le;return I&&I.Period_asArray&&$&&$.adaptation&&$.adaptation.period&&A($.adaptation.period.index)&&(j=I.Period_asArray[$.adaptation.period.index])&&j.AdaptationSet_asArray&&A($.adaptation.index)&&(ae=j.AdaptationSet_asArray[$.adaptation.index])&&ae.Representation_asArray&&A($.index)&&(le=ae.Representation_asArray[$.index])&&(Z=le.InbandEventStream_asArray),_e(Z,$,G)},getUTCTimingSources:function(I){var $=ge(I),G=!!I&&I.hasOwnProperty(h.Z.AVAILABILITY_START_TIME),Z=I?I.UTCTiming_asArray:null,j=[];return($||G)&&Z&&Z.forEach(function(ae){var le=new Gi.Z;ae.hasOwnProperty(f.Z.SCHEME_ID_URI)&&(le.schemeIdUri=ae.schemeIdUri,ae.hasOwnProperty(h.Z.VALUE)&&(le.value=ae.value.toString(),j.push(le)))}),j},getBaseURLsFromElement:fe,getRepresentationSortFunction:function(){return function(I,$){return I.bandwidth-$.bandwidth}},getContentSteering:function(I){if(I&&I.hasOwnProperty(h.Z.CONTENT_STEERING_AS_ARRAY))return be(I[h.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(I){return I&&I.hasOwnProperty(h.Z.LOCATION_AS_ARRAY)?I[h.Z.LOCATION_AS_ARRAY].map(function($){var G=$.__text||$,Z=$.hasOwnProperty(h.Z.SERVICE_LOCATION)?$[h.Z.SERVICE_LOCATION]:null;return new cn(G,Z)}):[]},getPatchLocation:function(I){return I&&I.hasOwnProperty(h.Z.PATCH_LOCATION_AS_ARRAY)?I[h.Z.PATCH_LOCATION_AS_ARRAY].map(function($){var G=$.__text||$,Z=$.hasOwnProperty(h.Z.SERVICE_LOCATION)?$[h.Z.SERVICE_LOCATION]:null,j=$.hasOwnProperty(h.Z.TTL)?1e3*parseFloat($[h.Z.TTL]):NaN;return new In(G,Z,j)}):[]},getSuggestedPresentationDelay:function(I){return I&&I.hasOwnProperty(h.Z.SUGGESTED_PRESENTATION_DELAY)?I.suggestedPresentationDelay:null},getAvailabilityStartTime:function(I){return I&&I.hasOwnProperty(h.Z.AVAILABILITY_START_TIME)&&null!==I.availabilityStartTime?I.availabilityStartTime.getTime():null},getServiceDescriptions:function(I){var $=[];if(I&&I.hasOwnProperty(h.Z.SERVICE_DESCRIPTION)){var G,Z=an(I.ServiceDescription_asArray);try{for(Z.s();!(G=Z.n()).done;){var j=G.value,ae=null,le=null,ve=null,z=null,Q=null,Me=null,Ve=null;for(var ze in j)j.hasOwnProperty(ze)&&(ze===h.Z.ID?ae=j[ze]:ze===h.Z.SERVICE_DESCRIPTION_SCOPE?le=j[ze].schemeIdUri:ze===h.Z.SERVICE_DESCRIPTION_LATENCY?ve={target:parseInt(j[ze].target),max:parseInt(j[ze].max),min:parseInt(j[ze].min),referenceId:parseInt(j[ze].referenceId)}:ze===h.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?z={max:parseFloat(j[ze].max),min:parseFloat(j[ze].min)}:ze===h.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?Q={mediaType:j[ze].mediaType,max:parseInt(j[ze].max),min:parseInt(j[ze].min),target:parseInt(j[ze].target),type:j[ze].type,maxQualityDifference:parseInt(j[ze].maxQualityDifference)}:ze===h.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?Me={mediaType:j[ze].mediaType,max:parseInt(j[ze].max),min:parseInt(j[ze].min),target:parseInt(j[ze].target)}:ze===h.Z.CONTENT_STEERING&&(Ve=be(j[ze])));$.push({id:ae,schemeIdUri:le,latency:ve,playbackRate:z,operatingQuality:Q,operatingBandwidth:Me,contentSteering:Ve})}}catch(Je){Z.e(Je)}finally{Z.f()}}return $},getSegmentAlignment:function(I){return!(!I||!I.hasOwnProperty(h.Z.SEGMENT_ALIGNMENT))&&"true"===I[h.Z.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(I){return!(!I||!I.hasOwnProperty(h.Z.SUB_SEGMENT_ALIGNMENT))&&"true"===I[h.Z.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(I){var $={};if(I&&I.hasOwnProperty(h.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var G,Z=an(I.SupplementalProperty_asArray);try{for(Z.s();!(G=Z.n()).done;){var j=G.value;j.hasOwnProperty(f.Z.SCHEME_ID_URI)&&j.hasOwnProperty(h.Z.VALUE)&&($[j[f.Z.SCHEME_ID_URI]]=j[h.Z.VALUE])}}catch(ae){Z.e(ae)}finally{Z.f()}}return $},getSupplementalPropertiesAsArrayForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&I.SupplementalProperty_asArray.length?I.SupplementalProperty_asArray.map(function($){return(new lt).init($)}):[]},getSupplementalPropertiesForRepresentation:function(I){var $={};if(I&&I.hasOwnProperty(h.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var G,Z=an(I.SupplementalProperty_asArray);try{for(Z.s();!(G=Z.n()).done;){var j=G.value;j.hasOwnProperty(f.Z.SCHEME_ID_URI)&&j.hasOwnProperty(h.Z.VALUE)&&($[j[f.Z.SCHEME_ID_URI]]=j[h.Z.VALUE])}}catch(ae){Z.e(ae)}finally{Z.f()}}return $},getSupplementalPropertiesAsArrayForRepresentation:function(I){return I&&I.hasOwnProperty(h.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&I.SupplementalProperty_asArray.length?I.SupplementalProperty_asArray.map(function($){return(new lt).init($)}):[]},setConfig:function(I){I&&(I.errHandler&&(b=I.errHandler),I.BASE64&&(D=I.BASE64))}},m=(0,M.Z)(L).getInstance().getLogger(v),v}pn.__dashjs_factory_name="DashManifestModel";const Fn=C.Z.getSingletonFactory(pn);var ir=F(703);function Er(v,m){var b;if(typeof Symbol>"u"||null==v[Symbol.iterator]){if(Array.isArray(v)||(b=function(ee,ie){if(ee){if("string"==typeof ee)return Ln(ee,void 0);var te=Object.prototype.toString.call(ee).slice(8,-1);return"Object"===te&&ee.constructor&&(te=ee.constructor.name),"Map"===te||"Set"===te?Array.from(ee):"Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Ln(ee,void 0):void 0}}(v))||m&&v&&"number"==typeof v.length){b&&(v=b);var D=0,L=function(){};return{s:L,n:function(){return D>=v.length?{done:!0}:{done:!1,value:v[D++]}},e:function(ee){throw ee},f:L}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,A=!0,B=!1;return{s:function(){b=v[Symbol.iterator]()},n:function(){var ee=b.next();return A=ee.done,ee},e:function(ee){B=!0,N=ee},f:function(){try{A||null==b.return||b.return()}finally{if(B)throw N}}}}function Ln(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}function Lt(){var v,m,b,D,L,N,A,B,ee,ie,te=this.context,V=(0,S.Z)(te).getInstance(),re=(0,Nt.Z)(te).getInstance();function X(){b={pr:1,nor:null,st:null,sf:null,sid:"".concat(ir.Z.generateUuid()),cid:null},ee={},B={},ie={},ge()}function De(){ge()}function ge(){if(N){var j=N.getStreamController();if(j&&"function"==typeof j.getActiveStream){var ae=j.getActiveStream();ae&&(A=ae.getProcessors())}}}function Se(j,ae){var le,ve={},z=Er(ae);try{for(z.s();!(le=z.n()).done;){var Q=le.value;j[Q]&&(ve[Q]=j[Q])}}catch(Me){z.e(Me)}finally{z.f()}return ve}function Ce(j){var ae=re.get().streaming.cmcd.enabledKeys;return j.filter(function(le){return ae.includes(le)})}function Y(j){try{return j.type===He.w.MPD_TYPE?((le=_e()).ot="m",le):j.type===He.w.MEDIA_SEGMENT_TYPE?(ie.hasOwnProperty(ae=j.mediaType)||(ie[ae]=!1),B.hasOwnProperty(ae)||(B[ae]=!1),ee.hasOwnProperty(ae)||(ee[ae]=!1),function(ve){var z,Q=_e(),Me=function(Ft){try{return parseInt(Ft.mediaInfo.bitrateList[Ft.quality].bandwidth/1e3)}catch{return null}}(ve),Ve=function(Ft){try{return isNaN(Ft.duration)?NaN:Math.round(1e3*Ft.duration)}catch{return null}}(ve),ze=function(Ft){try{return 100*parseInt(D.getThroughputHistory().getSafeAverageThroughput(Ft)/100)}catch{return null}}(ve.mediaType),Je=function(Ft){try{var sn=b.pr,Be=L.getCurrentBufferLevel(Ft);return isNaN(sn)||isNaN(Be)?null:100*parseInt(Be/sn*10)}catch{return null}}(ve.mediaType),Fe=fe(ve.mediaType),Ie=function(Ft){try{var sn=D.getTopBitrateInfoFor(Ft);return Math.round(sn.bitrate/1e3)}catch{return null}}(ve.mediaType),Ct=b.pr,ht=function(Ft){if(A&&0!==A.length){var sn,Be=Er(A);try{for(Be.s();!(sn=Be.n()).done;){var Te=sn.value;if(Te.getType()===Ft)return Te.probeNextRequest()}}catch(et){Be.e(et)}finally{Be.f()}}}(ve.mediaType);ve.mediaType===f.Z.VIDEO&&(z="v"),ve.mediaType===f.Z.AUDIO&&(z="a"),ve.mediaType===f.Z.TEXT&&(z="application/mp4"===ve.mediaInfo.mimeType?"tt":"c");var bt=re.get().streaming.cmcd.rtp;return bt||(bt=function(Ft){try{var sn=N.getPlaybackRate();sn||(sn=1);var Be=Ft.quality,et=Ft.mediaInfo,Oe=Ft.duration;if(!et)return NaN;var nt=fe(Ft.mediaType);0===nt&&(nt=500);var dt=et.bitrateList[Be].bandwidth*Oe/1e3/(nt/sn/1e3),ft=re.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(re.get().streaming.cmcd.rtpSafetyFactor)?re.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(dt*ft/100)+1)}catch{return NaN}}(ve)),isNaN(bt)||(Q.rtp=bt),ht&&(ve.url!==ht.url?Q.nor=encodeURIComponent(ir.Z.getRelativeUrl(ve.url,ht.url)):ht.range&&(Q.nrr=ht.range)),Me&&(Q.br=Me),z&&(Q.ot=z),isNaN(Ve)||(Q.d=Ve),isNaN(ze)||(Q.mtp=ze),isNaN(Je)||(Q.dl=Je),isNaN(Fe)||(Q.bl=Fe),isNaN(Ie)||(Q.tb=Ie),isNaN(Ct)||1===Ct||(Q.pr=Ct),ee[ve.mediaType]&&(Q.bs=!0,ee[ve.mediaType]=!1),!B[ve.mediaType]&&ie[ve.mediaType]||(Q.su=!0,B[ve.mediaType]=!1,ie[ve.mediaType]=!0),Q}(j)):j.type===He.w.INIT_SEGMENT_TYPE?((ve=_e()).ot="i",ve.su=!0,ve):j.type===He.w.OTHER_TYPE||j.type===He.w.XLINK_EXPANSION_TYPE?function(){var ve=_e();return ve.ot="o",ve}():j.type===He.w.LICENSE?((z=_e()).ot="k",z):null}catch{return null}var z,ve,ae,le}function _e(){var j={},ae=re.get().streaming.cmcd.cid?re.get().streaming.cmcd.cid:b.cid;return j.v=1,j.sid=re.get().streaming.cmcd.sid?re.get().streaming.cmcd.sid:b.sid,j.sid="".concat(j.sid),ae&&(j.cid="".concat(ae)),isNaN(b.pr)||1===b.pr||null===b.pr||(j.pr=b.pr),b.st&&(j.st=b.st),b.sf&&(j.sf=b.sf),j}function fe(j){try{var ae=L.getCurrentBufferLevel(j);return isNaN(ae)?null:100*parseInt(10*ae)}catch{return null}}function be(j){try{b.pr=j.playbackRate}catch{}}function I(j){try{var ae=v.getIsDynamic(j.data)?"l":"v",le=j.protocol&&"MSS"===j.protocol?"s":"d";b.st="".concat(ae),b.sf="".concat(le)}catch{}}function $(j){try{j.state&&j.mediaType&&j.state===p.Z.BUFFER_EMPTY&&(ee[j.mediaType]||(ee[j.mediaType]=!0),B[j.mediaType]||(B[j.mediaType]=!0))}catch{}}function G(){for(var j in ee)ee.hasOwnProperty(j)&&(ee[j]=!0);for(var ae in B)B.hasOwnProperty(ae)&&(B[ae]=!0)}function Z(j){try{if(!j)return null;var ae=Object.keys(j).sort(function(z,Q){return z.localeCompare(Q)}),le=ae.length,ve=ae.reduce(function(z,Q,Me){return"v"===Q&&1===j[Q]||(z+="string"==typeof j[Q]&&"ot"!==Q&&"sf"!==Q&&"st"!==Q?"".concat(Q,"=").concat(JSON.stringify(j[Q])):"".concat(Q,"=").concat(j[Q]),Me<le-1&&(z+=",")),z},"");return(ve=ve.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return m={getQueryParameter:function(j){try{if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var ae=Y(j),ve=Z(function(z){try{var Q=re.get().streaming.cmcd.enabledKeys;return Object.keys(z).filter(function(Me){return Q.includes(Me)}).reduce(function(Me,Ve){return Me[Ve]=z[Ve],Me},{})}catch{return z}}(ae));return V.trigger(Hn.Z.CMCD_DATA_GENERATED,{url:j.url,mediaType:j.mediaType,cmcdData:ae,cmcdString:ve}),{key:"CMCD",value:ve}}return null}catch{return null}},getHeaderParameters:function(j){try{if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var ae=Y(j),le=Se(ae,Ce(["br","d","ot","tb"])),ve=Se(ae,Ce(["bl","dl","mtp","nor","nrr","su"])),z=Se(ae,Ce(["bs","rtp"])),Q=Se(ae,Ce(["cid","pr","sf","sid","st","v"])),Me={"CMCD-Object":Z(le),"CMCD-Request":Z(ve),"CMCD-Status":Z(z),"CMCD-Session":Z(Q)};return V.trigger(Hn.Z.CMCD_DATA_GENERATED,{url:j.url,mediaType:j.mediaType,cmcdData:ae,headers:Me}),Me}return null}catch{return null}},setConfig:function(j){j&&(j.abrController&&(D=j.abrController),j.dashMetrics&&(L=j.dashMetrics),j.playbackController&&(N=j.playbackController))},reset:function(){V.off(p.Z.PLAYBACK_RATE_CHANGED,be,this),V.off(p.Z.MANIFEST_LOADED,I,this),V.off(p.Z.BUFFER_LEVEL_STATE_CHANGED,$,m),V.off(p.Z.PLAYBACK_SEEKED,G,m),X()},initialize:function(){V.on(p.Z.PLAYBACK_RATE_CHANGED,be,m),V.on(p.Z.MANIFEST_LOADED,I,m),V.on(p.Z.BUFFER_LEVEL_STATE_CHANGED,$,m),V.on(p.Z.PLAYBACK_SEEKED,G,m),V.on(p.Z.PERIOD_SWITCH_COMPLETED,De,m)}},v=Fn(te).getInstance(),X(),m}Lt.__dashjs_factory_name="CmcdModel";const Ht=C.Z.getSingletonFactory(Lt);function Jt(v){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Bn(v,m){Bn=function(B,ee){return new N(B,void 0,ee)};var b=Cr(RegExp),D=RegExp.prototype,L=new WeakMap;function N(B,ee,ie){var te=b.call(this,B,ee);return L.set(te,ie||L.get(B)),te}function A(B,ee){var ie=L.get(ee);return Object.keys(ie).reduce(function(te,V){return te[V]=B[ie[V]],te},Object.create(null))}return function Zn(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),m&&gi(v,m)}(N,b),N.prototype.exec=function(B){var ee=D.exec.call(this,B);return ee&&(ee.groups=A(ee,this)),ee},N.prototype[Symbol.replace]=function(B,ee){if("string"==typeof ee){var ie=L.get(this);return D[Symbol.replace].call(this,B,ee.replace(/\$<([^>]+)>/g,function(V,re){return"$"+ie[re]}))}if("function"==typeof ee){var te=this;return D[Symbol.replace].call(this,B,function(){var V=[];return V.push.apply(V,arguments),"object"!==Jt(V[V.length-1])&&V.push(A(V,te)),ee.apply(this,V)})}return D[Symbol.replace].call(this,B,ee)},Bn.apply(this,arguments)}function Cr(v){var m="function"==typeof Map?new Map:void 0;return Cr=function(b){if(null===b||-1===Function.toString.call(b).indexOf("[native code]"))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==m){if(m.has(b))return m.get(b);m.set(b,L)}function L(){return Dr(b,arguments,Kr(this).constructor)}return L.prototype=Object.create(b.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),gi(L,b)},Cr(v)}function Dr(v,m,b){return(Dr=function Oi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(D,L,N){var A=[null];A.push.apply(A,L);var B=new(Function.bind.apply(D,A));return N&&gi(B,N.prototype),B}).apply(null,arguments)}function gi(v,m){return(gi=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Kr(v){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}var ai="dynamic",ra="cmsd-"+ai,zo="stream",$i=["mb","st","sf","v"],Uc={video:"v",audio:"a",text:"tt",stream:zo},Vc=/^[-0-9]/;function Di(){var v,m,b,D,L=this.context,N=(0,S.Z)(L).getInstance();function A(){b={},D={}}function B(X){X&&Object.keys(X).forEach(function(De){$i.includes(De)||delete X[De]})}function ee(X){return!X||"false"!==X.toLowerCase()&&(Vc.test(X)?parseInt(X,10):X.replace(/["]+/g,""))}function ie(X){try{for(var De={},ge=X.split(","),Se=0;Se<ge.length;Se++){var Ce=ge[Se].split("="),Y=Ce[0],_e=ee(Ce[1]);De[Y]=_e}return De}catch(fe){m.error("Failed to parse CMSD-Static response header value:",fe)}}function te(X){try{for(var De={},ge=X.split(","),Se=ge[ge.length-1].split(";"),Ce=1;Ce<Se.length;Ce++){var Y=Se[Ce].split("="),_e=Y[0],fe=ee(Y[1]);De[_e]=fe}return De}catch(be){return m.error("Failed to parse CMSD-Dynamic response header value:",be),[]}}function V(X){return Uc[X]||"o"}function re(X,De,ge){var Se="static"===X?b:D;return(Se[De]||{})[ge]||(Se[zo]||{})[ge]}return v={setConfig:function(){},initialize:function(){},reset:function(){A()},parseResponseHeaders:function(X,De){for(var ge=null,Se=null,Ce=X.split("\r\n"),Y=Ce.length-1;Y>=0;Y--){var _e=Ce[Y].match(Bn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(_e&&_e.groups){var fe=_e.groups.key.toLowerCase(),be=_e.groups.value;switch(fe){case"cmsd-static":ge=ie(be),N.trigger(g.Z.CMSD_STATIC_HEADER,ge);break;case ra:Se||(Se=te(be))}}}var I=zo;return ge&&ge.ot?I=ge.ot:De&&(I=V(De)),B(b[I]),B(D[I]),ge&&(b[I]=Object.assign(b[I]||{},ge)),Se&&(D[I]=Object.assign(D[I]||{},Se)),{static:ge,dynamic:Se}},getMaxBitrate:function(X){var De=V(X);return re(ai,De,"mb")||-1},getEstimatedThroughput:function(X){var De=V(X);return re(ai,De,"etp")||null},getResponseDelay:function(X){var De=V(X);return re(ai,De,"rd")||null},getRoundTripTime:function(X){var De=V(X);return re(ai,De,"rtt")||null}},m=(0,M.Z)(L).getInstance().getLogger(v),A(),v}Di.__dashjs_factory_name="CmsdModel";const Io=C.Z.getSingletonFactory(Di);function Wi(){var v,m,b=this.context,D={};function L(){m=(0,M.Z)(b).getInstance().getLogger(v)}function N(B){for(var ee={},ie=0,te=0,V=0,re=0,X=B.length,De=0;De<X;++De)ie+=B[De].chunkDownloadTimeRelativeMS,te+=B[De].bufferLevel,V+=B[De].chunkDownloadTimeRelativeMS*B[De].bufferLevel,re+=B[De].chunkDownloadTimeRelativeMS*B[De].chunkDownloadTimeRelativeMS;return ee.m=(V-ie*te/X)/(re-ie*ie/X),ee.b=te/X-ee.m*ie/X,function(ge){return ee.m*ge+ee.b}}function A(B){var ee,ie=!0,te=B.reduce(function(V,re){return V+re.bufferLevelAtSegmentEnd},0)/B.length;return B.forEach(function(V){Math.abs(V.bufferLevelAtSegmentEnd/V.bufferLevelAtSegmentStart)<.95&&(ie=!1),V.bufferLevelAtSegmentEnd/te<.8&&(ie=!1),ee?ee>V.bitrate&&(ie=!1):ee=V.bitrate}),ie}return v={setup:L,addMeasurement:function(B,ee,ie,te,V){B&&B.mediaType&&!D[B.mediaType]&&(D[B.mediaType]=[]);var re=B.mediaInfo.bitrateList.find(function(X){return X.id===B.representationId});D[B.mediaType].push({index:B.index,repId:B.representationId,mediaType:B.mediaType,requestTimeMS:te,adjustedAvailabilityStartTimeMS:B.availabilityStartTime.getTime(),segDurationMS:1e3*B.duration,chunksDurationMS:ie.reduce(function(X,De){return X+De.chunkDownloadDurationMS},0),segmentBytes:ie.reduce(function(X,De){return X+De.chunkBytes},0),bitrate:re&&re.bandwidth,bitrateList:B.mediaInfo.bitrateList,chunkMeasurements:ie,fetchDownloadDurationMS:ee,throughputCapacityDelayMS:V,getEstimatedBufferLevel:N(ie.slice(1))}),D[B.mediaType].length>10&&D[B.mediaType].shift()},getThroughputCapacityDelayMS:function(B,ee){var ie=D[B.mediaType]&&D[B.mediaType].slice(-3);return!ie||ie.length<3?0:A(ie)?ee/4>250?250:ee/4:0},getEstimatedDownloadDurationMS:function(B){var ee=D[B.mediaType].slice(-1).pop(),ie=D[B.mediaType].slice(-3),te=ee.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;ee.bufferLevelAtSegmentStart=ee.getEstimatedBufferLevel(te/2),ee.bufferLevelAtSegmentEnd=ee.getEstimatedBufferLevel(te);var V=A(ie),re=V?.6:.8;if(ee.isBufferStable&&1.05*ee.segDurationMS<ee.fetchDownloadDurationMS)return ee.fetchDownloadDurationMS;if(!V||ee.segDurationMS<ee.fetchDownloadDurationMS||ee.adjustedAvailabilityStartTimeMS<=ee.requestTimeMS+ee.throughputCapacityDelayMS-ee.segDurationMS)return.8*ee.fetchDownloadDurationMS;for(var X=ee.requestTimeMS+ee.throughputCapacityDelayMS-ee.adjustedAvailabilityStartTimeMS,De=0,ge=0,Se=0,Ce=0;Ce<ee.chunkMeasurements.length;Ce++){var Y=ee.chunkMeasurements[Ce];if(X<ge+Y.chunkDownloadDurationMS)break;ge+=Y.chunkDownloadDurationMS,De+=Y.chunkBytes,Se++}if(X<0&&m.warn("request time was before adjusted availibitly start time"),De&&ge&&Se>.2*ee.chunkMeasurements.length){var fe=ee.segmentBytes/(De/ge);return ee.fetchDownloadDurationMS<fe?ee.fetchDownloadDurationMS*re:fe*re}var be=ee.bitrate;return ee.bitrateList.some(function(I){if(I.bandwidth>ee.bitrate)return be=I.bandwidth,!0}),be===ee.bitrate?ee.fetchDownloadDurationMS*re:re*ee.segmentBytes*8*1e3/be}},L(),v}Wi.__dashjs_factory_name="LowLatencyThroughputModel";const Jn=C.Z.getSingletonFactory(Wi);var Xt=F(5717);function Nn(v,m,b){return m in v?Object.defineProperty(v,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[m]=b,v}function Wn(v){var m,b,D,L,N,A,B,ee,ie,te,V,re=this.context,X=(v=v||{}).errHandler,De=v.dashMetrics,ge=v.mediaPlayerModel,Se=v.requestModifier,Ce=v.boxParser,Y=v.errors,_e=v.requestTimeout||0,fe=(0,S.Z)(re).getInstance(),be=(0,Nt.Z)(re).getInstance();function I($,G){var Z,j=$.request,ae=[],le=!0,ve=!0,z=new Date,Q=z,Me=0,Ve=null,ze=null;if(!Se||!De||!X)throw new Error("config object is not correct or missing");var Je,Fe=function(nt){j.requestStartDate=z,j.requestEndDate=new Date,j.firstByteDate=j.firstByteDate||z,j.fileLoaderType=ze;var dt=Z.response?Z.response.responseURL:null,ft=Z.response?Z.response.status:null,Pt=Z.response&&Z.response.getAllResponseHeaders?Z.response.getAllResponseHeaders():Z.response?Z.response.responseHeaders:null,Gt=Pt&&be.get().streaming.cmsd&&be.get().streaming.cmsd.enabled?B.parseResponseHeaders(Pt,j.mediaType):null;De.addHttpRequest(j,dt,ft,Pt,nt?ae:null,Gt)},Ie=function(nt){ve=!1,Fe(nt),j.type===He.w.MPD_TYPE&&(De.addManifestUpdate(j),fe.trigger(g.Z.MANIFEST_LOADING_FINISHED,{request:j}))},Ct=function(){if(Ve&&(clearTimeout(Ve),Ve=null),-1!==b.indexOf(Z)&&(b.splice(b.indexOf(Z),1),ve))if(Ie(!1),G>0){try{be.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&j.type===He.w.MEDIA_SEGMENT_TYPE&&ge.getRetryAttemptsForType(He.w.MEDIA_SEGMENT_TYPE)===G&&fe.trigger(g.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}G--;var nt={config:$};L.push(nt),nt.timeout=setTimeout(function(){-1!==L.indexOf(nt)&&(L.splice(L.indexOf(nt),1),I($,G))},ge.getRetryIntervalsForType(j.type))}else{if(j.type===He.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;X.error(new K.Z(N[j.type],j.url+" is not available",{request:j,response:Z.response})),$.error&&$.error(j,"error",Z.response.statusText,Z.response),$.complete&&$.complete(j,Z.response.statusText)}};j.hasOwnProperty("availabilityTimeComplete")&&!1===j.availabilityTimeComplete&&window.fetch&&"arraybuffer"===j.responseType&&j.type===He.w.MEDIA_SEGMENT_TYPE?((Je=jn(re).create({requestModifier:Se,lowLatencyThroughputModel:ie,boxParser:Ce})).setup({dashMetrics:De}),ze=f.Z.FILE_LOADER_TYPES.FETCH):(Je=(0,on.Z)(re).create({requestModifier:Se}),ze=f.Z.FILE_LOADER_TYPES.XHR);var ht=null,bt=Se.modifyRequestURL?Se.modifyRequestURL(j.url):j.url;if(be.get().streaming.cmcd&&be.get().streaming.cmcd.enabled){var Ft=be.get().streaming.cmcd.mode;if(Ft===f.Z.CMCD_MODE_QUERY){var sn=function(nt){try{var dt=[],ft=A.getQueryParameter(nt);return ft&&dt.push(ft),dt}catch{return[]}}(j);bt=ir.Z.addAditionalQueryParameterToUrl(bt,sn)}else Ft===f.Z.CMCD_MODE_HEADER&&(ht=A.getHeaderParameters(j))}var Be=ee.getXHRWithCredentialsForType(j.type);if(j.queryParams){var Te=Object.keys(j.queryParams).map(function(nt){return{key:nt,value:j.queryParams[nt]}});bt=ir.Z.addAditionalQueryParameterToUrl(bt,Te)}j.url=bt,Z={url:bt,method:He.w.GET,withCredentials:Be,request:j,onload:function(){Z.response.status>=200&&Z.response.status<=299&&(Ie(!0),$.success&&$.success(Z.response.response,Z.response.statusText,Z.response.responseURL),$.complete&&$.complete(j,Z.response.statusText))},onend:Ct,onerror:Ct,progress:function(nt){var dt=new Date;le&&(le=!1,(!nt.lengthComputable||nt.lengthComputable&&nt.total!==nt.loaded)&&(j.firstByteDate=dt)),nt.lengthComputable&&(j.bytesLoaded=nt.loaded,j.bytesTotal=nt.total),nt.noTrace||(ae.push({s:Q,d:nt.time?nt.time:dt.getTime()-Q.getTime(),b:[nt.loaded?nt.loaded-Me:0]}),Q=dt,Me=nt.loaded),Ve&&(clearTimeout(Ve),Ve=null),be.get().streaming.fragmentRequestProgressTimeout>0&&(Ve=setTimeout(function(){te.warn("Abort request "+Z.url+" due to progress timeout"),Z.response.onabort=null,Z.loader.abort(Z),Ct()},be.get().streaming.fragmentRequestProgressTimeout)),$.progress&&nt&&$.progress(nt)},onabort:function(){Fe(!0),Ve&&(clearTimeout(Ve),Ve=null),$.abort&&$.abort(j)},ontimeout:function(nt){var dt;dt=nt.lengthComputable?"Request timeout: loaded: "+nt.loaded+", out of: "+nt.total+" : "+(nt.loaded/nt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",te.warn(dt)},loader:Je,timeout:_e,headers:ht};var et=(new Date).getTime();if(isNaN(j.delayLoadingTime)||et>=j.delayLoadingTime)b.push(Z),Je.load(Z);else{var Oe={httpRequest:Z};D.push(Oe),Oe.delayTimeout=setTimeout(function(){if(-1!==D.indexOf(Oe)){D.splice(D.indexOf(Oe),1);try{Q=z=new Date,b.push(Oe.httpRequest),Je.load(Oe.httpRequest)}catch{Oe.httpRequest.onerror()}}},j.delayLoadingTime-et)}}return m={load:function($){$.request?I($,ge.getRetryAttemptsForType($.request.type)):$.error&&$.error($.request,"error")},abort:function(){L.forEach(function($){clearTimeout($.timeout),$.config.request&&$.config.abort&&$.config.abort($.config.request)}),L=[],D.forEach(function($){return clearTimeout($.delayTimeout)}),D=[],b.forEach(function($){$.request.type!==He.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&($.onloadend=$.onerror=$.onprogress=void 0,$.loader.abort($))}),b=[]}},te=(0,M.Z)(re).getInstance().getLogger(m),b=[],D=[],L=[],A=Ht(re).getInstance(),B=Io(re).getInstance(),ie=Jn(re).getInstance(),ee=(0,Xt.Z)(re).getInstance(),Nn(V={},He.w.MPD_TYPE,Y.DOWNLOAD_ERROR_ID_MANIFEST_CODE),Nn(V,He.w.XLINK_EXPANSION_TYPE,Y.DOWNLOAD_ERROR_ID_XLINK_CODE),Nn(V,He.w.INIT_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),Nn(V,He.w.MEDIA_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),Nn(V,He.w.INDEX_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),Nn(V,He.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),Nn(V,He.w.OTHER_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),N=V,m}Wn.__dashjs_factory_name="HTTPLoader";const di=C.Z.getClassFactory(Wn);function ei(){var v;function m(){v={}}function b(){m()}return b(),{getLoader:function(D){for(var L in v)if(v.hasOwnProperty(L)&&D.startsWith(L))return v[L];return di},registerLoader:function(D,L){v[D]=L},unregisterLoader:function(D){v[D]&&delete v[D]},unregisterAllLoader:m,reset:b}}ei.__dashjs_factory_name="SchemeLoaderFactory";const or=C.Z.getSingletonFactory(ei);function Lr(v){v=v||{};var m,b,D=this.context;return m=or(D).getInstance(),{load:function(L){if(!b){var N=m.getLoader(L&&L.request?L.request.url:null);b=N(D).create({errHandler:v.errHandler,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,dashMetrics:v.dashMetrics,boxParser:v.boxParser?v.boxParser:null,constants:v.constants?v.constants:null,dashConstants:v.dashConstants?v.dashConstants:null,urlUtils:v.urlUtils?v.urlUtils:null,requestTimeout:isNaN(v.requestTimeout)?0:v.requestTimeout,errors:v.errors})}b.load(L)},abort:function(){b&&b.abort()}}}Lr.__dashjs_factory_name="URLLoader";const Mr=C.Z.getClassFactory(Lr);function fi(v){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function zr(v,m){return(zr=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Un(v){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const is=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&zr(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Un(m);if(b){var B=Un(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function Ir(v,m){return!m||"object"!==fi(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(N){var A;return function(B,ee){if(!(B instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,L),(A=D.call(this,N)).checkForExistenceOnly=!0,A}return L}(q.Z);function mo(v){var m,b,L=(v=v||{}).eventBus,N=v.events,A=v.urlUtils,B=v.errors,ee=v.streamId;return m={checkForExistence:function(ie){var te=function(re){L.trigger(N.CHECK_FOR_EXISTENCE_COMPLETED,{request:ie,exists:re})};if(ie){var V=new is(ie.url);b.load({request:V,success:function(){te(!0)},error:function(){te(!1)}})}else te(!1)},load:function(ie){var te=function(V,re){L.trigger(N.LOADING_COMPLETED,{request:ie,response:V||null,error:re||null,sender:m})};ie?b.load({request:ie,progress:function(V){L.trigger(N.LOADING_PROGRESS,{request:ie,stream:V.stream,streamId:ee}),V.data&&L.trigger(N.LOADING_DATA_PROGRESS,{request:ie,response:V.data||null,error:null,sender:m})},success:function(V){te(V)},error:function(V,re,X){te(void 0,new K.Z(B.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,X,re))},abort:function(V){V&&L.trigger(N.LOADING_ABANDONED,{mediaType:V.mediaType,request:V,sender:m})}}):te(void 0,new K.Z(B.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,B.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){b&&b.abort()},reset:function(){b&&(b.abort(),b=null)}},b=Mr(this.context).create({errHandler:v.errHandler,errors:B,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,urlUtils:A,constants:f.Z,boxParser:v.boxParser,dashConstants:v.dashConstants,requestTimeout:v.settings.get().streaming.fragmentRequestTimeout}),m}mo.__dashjs_factory_name="FragmentLoader";const Ia=C.Z.getClassFactory(mo);function bs(){return{modifyResponseAsync:function(v){return Promise.resolve(v)}}}bs.__dashjs_factory_name="SegmentResponseModifier";const zt=C.Z.getSingletonFactory(bs);function Es(v){v=v||{};var m,b,D,L=this.context,N=(0,S.Z)(L).getInstance(),A=v.errHandler,B=v.mediaPlayerModel,ee=v.dashMetrics,ie=(0,M.Z)(L).getInstance(),te=zt(L).getInstance(),V=v.streamInfo;function re(){return V.id}function X(){for(var ge in D)D[ge].reset();D={}}function De(ge){if(ge.sender){var Se=ge.request,Ce=ge.response,Y=Se.isInitializationRequest(),_e=Se.mediaInfo.streamInfo;if(ge.error&&(Se.mediaType===f.Z.AUDIO||Se.mediaType===f.Z.VIDEO||Se.mediaType===f.Z.TEXT&&Se.mediaInfo.isFragmented)&&N.trigger(g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:ge.request.serviceLocation}),Ce&&_e){var fe=(be=Ce,I=Se,$=V.id,G=ge.type!==g.Z.FRAGMENT_LOADING_PROGRESS,(Z=new kt).streamId=$,Z.mediaInfo=I.mediaInfo,Z.segmentType=I.type,Z.start=I.startTime,Z.duration=I.duration,Z.end=Z.start+Z.duration,Z.bytes=be,Z.index=I.index,Z.quality=I.quality,Z.representationId=I.representationId,Z.endFragment=G,Z);te.modifyResponseAsync(fe).then(function(be){N.trigger(Y?g.Z.INIT_FRAGMENT_LOADED:g.Z.MEDIA_FRAGMENT_LOADED,{chunk:be,request:Se},{streamId:_e.id,mediaType:Se.mediaType})}).catch(function(be){b.error(be),N.trigger(Y?g.Z.INIT_FRAGMENT_LOADED:g.Z.MEDIA_FRAGMENT_LOADED,{chunk:fe,request:Se},{streamId:_e.id,mediaType:Se.mediaType})})}else b.warn("No "+Se.mediaType+" bytes to push or stream is inactive.")}var be,I,$,G,Z}return b=ie.getLogger(m={getStreamId:re,getModel:function(ge){var Se=D[ge];return Se||(Se=k(L).create({streamInfo:V,type:ge,dashMetrics:ee,fragmentLoader:Ia(L).create({dashMetrics:ee,mediaPlayerModel:B,errHandler:A,requestModifier:(0,xe.Z)(L).getInstance(),settings:v.settings,boxParser:v.boxParser,eventBus:N,events:g.Z,errors:pe,dashConstants:v.dashConstants,urlUtils:v.urlUtils,streamId:re()}),debug:ie,eventBus:N,events:g.Z}),D[ge]=Se),Se},reset:function(){N.off(p.Z.FRAGMENT_LOADING_COMPLETED,De,this),N.off(p.Z.FRAGMENT_LOADING_PROGRESS,De,this),X()}}),X(),N.on(p.Z.FRAGMENT_LOADING_COMPLETED,De,m),N.on(p.Z.FRAGMENT_LOADING_PROGRESS,De,m),m}Es.__dashjs_factory_name="FragmentController";const sr=C.Z.getClassFactory(Es),Fr=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},jc=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function pd(v){var m,b,D=this.context,L=v.streamInfo;function N(B){b.setTrackByIndex(B)}function A(){b&&b.reset()}return m={getStreamId:function(){return L.id},initialize:function(){b.addTracks();var B=b.getTracks();B&&B.length>0&&N(0)},provide:function(B,ee){if("function"==typeof ee){var te,V=b.getCurrentTrack();if(!V||V.segmentDuration<=0||null==B)ee(null);else{(te=b.getThumbnailRequestForTime(B))&&(V.segmentDuration=te.duration);var re=Math.floor(B%V.segmentDuration*V.tilesHor*V.tilesVert/V.segmentDuration),X=new Fr;if(X.width=Math.floor(V.widthPerTile),X.height=Math.floor(V.heightPerTile),X.x=Math.floor(re%V.tilesHor)*V.widthPerTile,X.y=Math.floor(re/V.tilesHor)*V.heightPerTile,"readThumbnail"in V)return V.readThumbnail(B,function(ge){X.url=ge,ee(X)});if(te)X.url=te.url,V.segmentDuration=NaN;else{var De=Math.floor(B/V.segmentDuration);X.url=(Y=(0,_.vi)((ge=V).templateUrl,"Number",Ce=De+ge.startNumber),Y=(0,_.vi)(Y,"Time",(Ce-1)*ge.segmentDuration*ge.timescale),Y=(0,_.vi)(Y,"Bandwidth",ge.bandwidth),(0,_.eR)(Y))}ee(X)}}var ge,Ce,Y},setTrackByIndex:N,getCurrentTrackIndex:function(){return b.getCurrentTrackIndex()},getBitrateList:function(){var B=b.getTracks(),ee=0;return B.map(function(ie){var te=new jc;return te.mediaType=f.Z.IMAGE,te.qualityIndex=ee++,te.bitrate=ie.bitrate,te.width=ie.width,te.height=ie.height,te})},reset:A},A(),b=(0,rn.Z)(D).create({streamInfo:L,adapter:v.adapter,baseURLController:v.baseURLController,timelineConverter:v.timelineConverter,debug:v.debug,eventBus:v.eventBus,events:v.events,dashConstants:v.dashConstants,dashMetrics:v.dashMetrics,segmentBaseController:v.segmentBaseController}),m}pd.__dashjs_factory_name="ThumbnailController";const md=C.Z.getClassFactory(pd);var Da=F(7417);function io(v){var m;v=v||{};var b=[],D=(0,S.Z)(this.context).getInstance(),L=v.updateEventName,N=v.addBlacklistEventName;function A(B){-1===b.indexOf(B)&&(b.push(B),D.trigger(L,{entry:B}))}return m={add:A,contains:function(B){return!!(b.length&&B&&B.length)&&-1!==b.indexOf(B)},reset:function(){b=[]}},N&&D.on(N,function(B){A(B.entry)},m),m}io.__dashjs_factory_name="BlackListController";const Hc=C.Z.getClassFactory(io);var gd=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT,f.Z.MUXED,f.Z.IMAGE];function _d(v){v=v||{};var m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Se,Ce,Y,_e=this.context,fe=(0,S.Z)(_e).getInstance(),be=(0,Ye.Z)(_e).getInstance(),I=v.manifestModel,$=v.mediaPlayerModel,G=v.dashMetrics,Z=v.manifestUpdater,j=v.adapter,ae=v.timelineConverter,le=v.capabilities,ve=v.errHandler,z=v.abrController,Q=v.playbackController,Me=v.eventController,Ve=v.mediaController,ze=v.protectionController,Je=v.textController,Fe=v.videoModel,Ie=v.streamInfo,Ct=v.settings;function ht(jt,En){return new Promise(function(bn,_n){dt(),te=!0,Pt();var pt=Fe.getElement(),Zt=[];gd.forEach(function(ct){(ct!==f.Z.TEXT||jt)&&(ct!==f.Z.VIDEO||!pt||pt&&/^VIDEO$/i.test(pt.nodeName))&&Zt.push(bt(ct,jt))}),Promise.all(Zt).then(function(){return ct=En,new Promise(function(Ge){var Ee={},st=D.map(function(It){return It.createBufferSinks(ct)});Promise.all(st).then(function(It){It.forEach(function(Qt){Qt&&(Ee[Qt.getType()]=Qt)}),Ge(Ee)}).catch(function(){Ge(Ee)})});var ct}).then(function(ct){if(te=!1,0===D.length){var Ge="No streams to play.";ve.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ge,I.getValue())),b.fatal(Ge)}else Gt();jt&&Je.createTracks(Ie),bn(ct)}).catch(function(ct){_n(ct)})})}function bt(jt,En){var bn,_n=j.getAllMediaInfoForType(Ie,jt),pt=[],Zt=null;if(!_n||0===_n.length)return b.info("No "+jt+" data."),Promise.resolve();jt===f.Z.VIDEO&&(B=!0),jt===f.Z.AUDIO&&(ee=!0);for(var ct=0,Ge=_n.length;ct<Ge;ct++)Zt=_n[ct],jt===f.Z.TEXT&&Zt.isEmbedded&&(Je.addEmbeddedTrack(Ie,Zt),pt.push(Zt)),Ft(Zt)&&Ve.addTrack(Zt);if(pt.length>0&&(Ve.setInitialMediaSettingsForType(jt,Ie),Je.addMediaInfosToBuffer(Ie,jt,pt)),0===(_n=_n.filter(function(st){return!st.isEmbedded})).length)return Promise.resolve();if(jt===f.Z.IMAGE)return(re=md(_e).create({streamInfo:Ie,adapter:j,baseURLController:v.baseURLController,timelineConverter:v.timelineConverter,debug:Se,eventBus:fe,events:g.Z,dashConstants:h.Z,dashMetrics:v.dashMetrics,segmentBaseController:v.segmentBaseController})).initialize(),Promise.resolve();fe.trigger(g.Z.STREAM_INITIALIZING,{streamInfo:Ie,mediaInfo:Zt}),Ve.setInitialMediaSettingsForType(jt,Ie);var Ee=function(st,It){var Qt=st&&st.length>0?st[0]:null,nn=V.getModel(Qt?Qt.type:null),Xn=Qt?Qt.type:null,qr=Qt?Qt.mimeType:null,Ui=Qt?Qt.isFragmented:null,Zr=St(_e).create({streamInfo:Ie,type:Xn,mimeType:qr,timelineConverter:ae,adapter:j,manifestModel:I,mediaPlayerModel:$,fragmentModel:nn,dashMetrics:v.dashMetrics,baseURLController:v.baseURLController,segmentBaseController:v.segmentBaseController,abrController:z,playbackController:Q,mediaController:Ve,textController:Je,errHandler:ve,settings:Ct,boxParser:ge,segmentBlacklistController:X});Zr.initialize(It,B,Ui),D.push(Zr);for(var Qi=0;Qi<st.length;Qi++)Zr.addMediaInfo(st[Qi]);return Xn===f.Z.TEXT&&Je.addMediaInfosToBuffer(Ie,Xn,st,nn),Zr}(_n,En);return(bn=Ve.getCurrentTrackFor(jt,Ie.id))?(z.updateTopQualityIndex(bn),Ee.selectMediaInfo(jt===f.Z.TEXT&&bn.isEmbedded?_n[0]:bn)):Promise.resolve()}function Ft(jt){var bn=jt?jt.type:null;return bn===f.Z.MUXED?(b.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),ve.error(new K.Z(pe.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",I.getValue())),!1):!(bn!==f.Z.TEXT&&bn!==f.Z.IMAGE&&jt.contentProtection&&!le.supportsEncryptedMedia()&&(ve.error(new K.Z(pe.CAPABILITY_MEDIAKEYS_ERROR_CODE,pe.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function sn(jt){for(var En=D?D.length:0,bn=0;bn<En;bn++){var _n=D[bn].getFragmentModel();_n.abortRequests(),_n.resetInitialSettings(),D[bn].reset(!1,jt)}Je&&Je.deactivateStream(Ie),D=[],N=!1,A=!1,nr(!1),Te(!1),fe.trigger(g.Z.STREAM_DEACTIVATED,{streamInfo:Ie})}function Be(jt){sn(jt),L=!1,B=!1,ee=!1,ie={},te=!1,Ce=!1,Y=[]}function Te(jt){Ce=jt}function et(){return Ie?Ie.start:NaN}function Oe(){return Ie?Ie.id:null}function nt(){return Ie}function dt(){if(!Fe||!z)throw new Error(f.Z.MISSING_CONFIG_ERROR)}function ft(jt){jt.error&&(ve.error(jt.error),b.fatal(jt.error.message))}function Pt(){if(Me){var jt=j.getEventsFor(Ie);jt&&jt.length>0&&Me.addInlineEvents(jt,Ie.id)}}function Gt(){for(var jt=D.length,En=ie.audio||ie.video?new K.Z(pe.DATA_UPDATE_FAILED_ERROR_CODE,pe.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,bn=0;bn<jt;bn++)if(D[bn].isUpdating()||te)return;if(ze){ze.clearMediaInfoArray();for(var _n=0;_n<jt&&D[_n];_n++){var pt=D[_n].getType(),Zt=D[_n].getMediaInfo();if(pt===f.Z.AUDIO||pt===f.Z.VIDEO||pt===f.Z.TEXT&&Zt.isFragmented){var ct=D[_n].getMediaInfo();ct&&ze.initializeForMedia(ct)}}ze.handleKeySystemFromManifest()}En?ve.error(En):L||(L=!0,Fe.waitForReadyState(f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){fe.trigger(g.Z.STREAM_INITIALIZED,{streamInfo:Ie})}))}function Cn(){var jt=er(),En=jt.length;if(0!==En){for(var bn=0;bn<En;bn++)if(!jt[bn].isBufferingCompleted()&&(jt[bn].getType()===f.Z.AUDIO||jt[bn].getType()===f.Z.VIDEO))return void b.debug("onBufferingCompleted - One streamProcessor has finished but",jt[bn].getType(),"one is not buffering completed");b.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),A=!0,fe.trigger(g.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:Ie},{streamInfo:Ie})}else b.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Sn(jt){ie[jt.mediaType]=jt.error,Gt()}function dn(jt){Me&&Me.addInbandEvents(jt.events,Ie.id)}function Dn(jt){return jt&&jt.type?Rn(jt.type):null}function Rn(jt){return jt?er().filter(function(En){return En.getType()===jt})[0]:null}function er(){for(var jt,En,bn=[],_n=0;_n<D.length;_n++)(jt=(En=D[_n]).getType())!==f.Z.AUDIO&&jt!==f.Z.VIDEO&&jt!==f.Z.TEXT||bn.push(En);return bn}function lr(jt,En){var bn=nt(),_n=En.getStreamInfo();if(!_n||!bn)return!0;var pt=j.getAdaptationForType(_n.index,jt,_n),Zt=j.getAdaptationForType(bn.index,jt,bn);return pt&&Zt?!(!zn(Zt)&&zn(pt)):!pt&&!Zt}function zn(jt){return!!jt&&!!(jt.ContentProtection||jt.Representation_asArray&&jt.Representation_asArray.length>0&&jt.Representation_asArray[0].ContentProtection)}function hr(jt,En){var bn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!jt||!jt.hasOwnProperty("getStreamInfo"))return!1;var _n=jt.getStreamInfo(),pt=bn?bn.getStreamInfo():nt();if(!_n||!pt)return!1;var Zt=j.getAdaptationForType(_n.index,En,_n),ct=j.getAdaptationForType(pt.index,En,pt);if(!Zt||!ct)return!Zt&&!ct;var Ge=Zt&&ct&&Zt.mimeType===ct.mimeType,Ee=ct.Representation_asArray.map(function(nn){return nn.codecs}),st=Zt.Representation_asArray.map(function(nn){return nn.codecs}),It=st.some(function(nn){return Ee.indexOf(nn)>-1}),Qt=st.some(function(nn){return Ee.some(function(Xn){return le.codecRootCompatibleWithCodec(Xn,nn)})});return It||Qt&&Ge}function nr(jt){De=jt}function pr(){return De}return m={initialize:function(){fe.on(g.Z.BUFFERING_COMPLETED,Cn,m),fe.on(g.Z.DATA_UPDATE_COMPLETED,Sn,m),fe.on(g.Z.INBAND_EVENTS,dn,m),ze&&(fe.on(g.Z.KEY_ERROR,ft,m),fe.on(g.Z.SERVER_CERTIFICATE_UPDATED,ft,m),fe.on(g.Z.LICENSE_REQUEST_COMPLETE,ft,m),fe.on(g.Z.KEY_SYSTEM_SELECTED,ft,m),fe.on(g.Z.KEY_SESSION_CREATED,ft,m),fe.on(g.Z.KEY_STATUSES_CHANGED,ft,m)),Je.initializeForStream(Ie),fe.trigger(g.Z.STREAM_UPDATED,{streamInfo:Ie})},getStreamId:function(){return Ie?Ie.id:null},activate:function(jt,En){return new Promise(function(bn,_n){if(!N)return pr()?(N=!0,fe.trigger(g.Z.STREAM_ACTIVATED,{streamInfo:Ie}),void bn(En)):void(pt=jt,Zt=En,ht(pt,Zt)).then(function(pt){N=!0,fe.trigger(g.Z.STREAM_ACTIVATED,{streamInfo:Ie}),bn(pt)}).catch(function(pt){_n(pt)});var pt,Zt;bn(En)})},deactivate:sn,getIsActive:function(){return N},getDuration:function(){return Ie?Ie.duration:NaN},getStartTime:et,getId:Oe,getStreamInfo:nt,getHasAudioTrack:function(){return ee},getHasVideoTrack:function(){return B},startPreloading:function(jt,En){return new Promise(function(bn,_n){pr()?_n():(b.info("[startPreloading] Preloading next stream with id ".concat(Oe())),nr(!0),ht(jt,En).then(function(){for(var pt=0;pt<D.length&&D[pt];pt++)D[pt].setExplicitBufferingTime(et()),D[pt].getScheduleController().startScheduleTimer();bn()}).catch(function(){nr(!1),_n()}))})},initializeForTextWithMediaSource:function(jt){return new Promise(function(En,bn){bt(f.Z.TEXT,jt).then(function(){return(_n=Rn(f.Z.TEXT))?_n.createBufferSinks():Promise.resolve();var _n}).then(function(){Je.createTracks(Ie),En()}).catch(function(_n){bn(_n)})})},getThumbnailController:function(){return re},getBitrateListFor:function(jt){if(dt(),jt===f.Z.IMAGE)return re?re.getBitrateList():[];var En=function(bn){for(var _n=null,pt=0;pt<D.length;pt++)if((_n=D[pt]).getType()===bn)return _n.getMediaInfo();return null}(jt);return z.getBitrateList(En)},updateData:function(jt){return new Promise(function(En){te=!0,Ie=jt,Me&&Pt();for(var bn=[],_n=0,pt=D.length;_n<pt;_n++){var Zt=D[_n],ct=Zt.getMediaInfo();bn.push(Zt.updateStreamInfo(Ie));var Ge=j.getAllMediaInfoForType(Ie,Zt.getType());if(Ge=Ge.filter(function(It){return!It.isEmbedded})){Zt.clearMediaInfoArray();for(var Ee=0;Ee<Ge.length;Ee++){var st=Ge[Ee];Zt.addMediaInfo(Ge[Ee]),j.areMediaInfosEqual(ct,st)&&(z.updateTopQualityIndex(st),bn.push(Zt.selectMediaInfo(st)))}}}Promise.all(bn).then(function(){for(bn=[];Y.length>0;){var It=Y.pop(),Qt=It.newMediaInfo,nn=Dn(It.oldMediaInfo);if(!nn)return;bn.push(nn.prepareTrackSwitch()),bn.push(nn.selectMediaInfo(Qt))}return Promise.all(bn)}).then(function(){te=!1,Gt(),fe.trigger(g.Z.STREAM_UPDATED,{streamInfo:Ie}),En()})})},reset:function(jt){V&&(V.reset(),V=null),z&&Ie&&z.clearDataForStream(Ie.id),X&&(X.reset(),X=null),Be(jt),Ie=null,fe.off(g.Z.DATA_UPDATE_COMPLETED,Sn,m),fe.off(g.Z.BUFFERING_COMPLETED,Cn,m),fe.off(g.Z.INBAND_EVENTS,dn,m),ze&&(fe.off(g.Z.KEY_ERROR,ft,m),fe.off(g.Z.SERVER_CERTIFICATE_UPDATED,ft,m),fe.off(g.Z.LICENSE_REQUEST_COMPLETE,ft,m),fe.off(g.Z.KEY_SYSTEM_SELECTED,ft,m),fe.off(g.Z.KEY_SESSION_CREATED,ft,m),fe.off(g.Z.KEY_STATUSES_CHANGED,ft,m))},getProcessors:er,setMediaSource:function(jt){return new Promise(function(En,bn){for(var _n=[],pt=0;pt<D.length;)Ft(D[pt].getMediaInfo())?(_n.push(D[pt].setMediaSource(jt)),pt++):(D[pt].reset(),D.splice(pt,1));Promise.all(_n).then(function(){for(var Zt=0;Zt<D.length;Zt++)D[Zt].dischargePreBuffer();if(0===D.length){var ct="No streams to play.";ve.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ct+"nostreams",I.getValue())),b.fatal(ct)}En()}).catch(function(Zt){b.error(Zt),bn(Zt)})})},isMediaCodecCompatible:function(jt){var En=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return hr(jt,f.Z.VIDEO,En)&&hr(jt,f.Z.AUDIO,En)},isProtectionCompatible:function(jt){return!jt||lr(f.Z.VIDEO,jt)&&lr(f.Z.AUDIO,jt)},getPreloaded:pr,getIsEndedEventSignaled:function(){return Ce},setIsEndedEventSignaled:Te,getAdapter:function(){return j},getHasFinishedBuffering:function(){return A},setPreloaded:nr,startScheduleControllers:function(){for(var jt=D.length,En=0;En<jt&&D[En];En++)D[En].getScheduleController().startScheduleTimer()},prepareTrackChange:function(jt){if(N&&Ie){A=!1;var En=jt.newMediaInfo,bn=I.getValue();j.setCurrentMediaInfo(Ie.id,En.type,En);var _n=Dn(En);if(_n){var pt=Q.getTime();b.info("Stream -  Process track changed at current time "+pt),bn.refreshManifestOnSwitchTrack?(Y.push(jt),Z.getIsUpdating()||(b.debug("Stream -  Refreshing manifest for switch track"),Z.refreshManifest())):_n.selectMediaInfo(En).then(function(){En.type!==f.Z.VIDEO&&En.type!==f.Z.AUDIO||z.updateTopQualityIndex(En),_n.prepareTrackSwitch()})}}},prepareQualityChange:function(jt){var En=Rn(jt.mediaType);En&&En.prepareQualityChange(jt)}},function(){try{Se=(0,M.Z)(_e).getInstance(),b=Se.getLogger(m),Be(),ge=(0,Da.Z)(_e).getInstance(),X=Hc(_e).create({updateEventName:g.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),V=sr(_e).create({streamInfo:Ie,mediaPlayerModel:$,dashMetrics:G,errHandler:ve,settings:Ct,boxParser:ge,dashConstants:h.Z,urlUtils:be})}catch(jt){throw jt}}(),m}_d.__dashjs_factory_name="Stream";const ws=C.Z.getClassFactory(_d),Dh=function v(m){(function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=m||null,this.type=He.w.CONTENT_STEERING_TYPE,this.responseType="json"},ti=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function xa(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge=this.context,Se=(0,Ye.Z)(ge).getInstance();function Ce(z){I(z,"baseUrl")}function Y(z){I(z,"location")}function _e(z){if(z&&z.request&&z.request.serviceLocation&&z.request.requestStartDate&&z.request.requestEndDate&&!isNaN(z.request.bytesTotal)){var Q=z.request.serviceLocation,Me=z.request.requestEndDate.getTime()-z.request.requestStartDate.getTime();be(Q,parseInt(8*z.request.bytesTotal/Me*1e3))}}function fe(z){z&&z.httpRequest&&z.httpRequest._serviceLocation&&!isNaN(z.throughput)&&be(z.httpRequest._serviceLocation,1e3*z.throughput)}function be(z,Q){L[z]||(L[z]=[]),L[z].push(Q),L[z].length>4&&L[z].shift()}function I(z,Q){if(z&&z.request&&z.request.serviceLocation){var Me=z.request.serviceLocation;-1===D[Q].all.indexOf(Me)&&D[Q].all.push(Me),D[Q].current=Me}}function $(){var z=te.getValue(),Q=De.getContentSteering(z);return Q||(Q=re.getServiceDescriptionSettings().contentSteering),Q}function G(){return new Promise(function(z){try{var Q=$();if(!Q||!Q.serverUrl)return void z();var Me=function(ze){var Je=ze.serverUrl;b&&b.reloadUri&&(Je=Se.isRelative(b.reloadUri)?Se.resolve(b.reloadUri,ze.serverUrl):b.reloadUri);var Fe=[],Ie=D.baseUrl.all.concat(D.location.all);if(Ie.length>0){var Ct=Ie.map(function(Ft){return{serviceLocation:Ft,throughput:function(Be){if(!Be||!L[Be]||0===L[Be].length)return-1;var Te=L[Be].reduce(function(et,Oe){return et+Oe})/L[Be].length;return parseInt(Te)}(Ft)}});Ct.sort(function(Ft,sn){return sn.throughput-Ft.throughput});var ht="",bt="";Ct.forEach(function(Ft,sn){0!==sn&&(ht="".concat(ht,","),Ft.throughput>-1&&(bt="".concat(bt,","))),ht="".concat(ht).concat(Ft.serviceLocation),Ft.throughput>-1&&(bt="".concat(bt).concat(Ft.throughput))}),Fe.push({key:"_DASH_pathway",value:'"'.concat(ht,'"')}),Fe.push({key:"_DASH_throughput",value:bt})}return ir.Z.addAditionalQueryParameterToUrl(Je,Fe)}(Q),Ve=new Dh(Me);A.load({request:Ve,success:function(ze){var Je;(Je=ze)&&Je[h.Z.CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(Je[h.Z.CONTENT_STEERING_RESPONSE.VERSION])&&((b=new ti).version=Je[h.Z.CONTENT_STEERING_RESPONSE.VERSION],Je[h.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Je[h.Z.CONTENT_STEERING_RESPONSE.TTL])&&(b.ttl=Je[h.Z.CONTENT_STEERING_RESPONSE.TTL]),Je[h.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(b.reloadUri=Je[h.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Je[h.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(b.pathwayPriority=Je[h.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Je[h.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(b.pathwayClones=Je[h.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],b.pathwayClones=b.pathwayClones.filter(function(Fe){return(Ie=Fe)[h.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&Ie[h.Z.CONTENT_STEERING_RESPONSE.ID]&&Ie[h.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&Ie[h.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][h.Z.CONTENT_STEERING_RESPONSE.HOST];var Ie})),ae()),X.trigger(p.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:b,url:Me}),z()},error:function(ze,Je,Fe,Ie){(function(Ct,ht){try{switch(m.warn("Error fetching data from content steering server",Ct),ht.status){case 410:break;case 429:var bt=ht&&ht.getResponseHeader?ht.getResponseHeader("retry-after"):null;null!==bt&&(b||(b={}),b.ttl=parseInt(bt)),ae();break;default:ae()}}catch(Ft){m.error(Ft)}})(ze,Ie),z(ze)},complete:function(){D.baseUrl.all=Z(D.baseUrl),D.location.all=Z(D.location)}})}catch(ze){z(ze)}})}function Z(z){return z.all&&0!==z.all.length&&z.current?z.all.filter(function(Q){return Q===z.current}):[]}function j(z){try{var Q=[];return z&&0!==z.length&&b&&b.pathwayClones&&0!==b.pathwayClones.length&&b.pathwayClones.forEach(function(Me){var Ve=z.filter(function(Ct){return Me[h.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===Ct.serviceLocation}),ze=null;if(Ve&&Ve.length>0&&(ze=Ve[0]),ze){var Je=new URL(ze.url),Fe=Me[h.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][h.Z.CONTENT_STEERING_RESPONSE.HOST];Fe=ir.Z.stringHasProtocol(Fe)?Fe:"".concat(Je.protocol,"//").concat(Fe);var Ie={synthesizedUrl:"".concat(Fe).concat(Je.pathname),serviceLocation:Me[h.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:Me[h.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][h.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:ze};Q.push(Ie)}}),Q}catch(Me){return m.error(Me),[]}}function ae(){b&&b.ttl&&!isNaN(b.ttl)&&(N&&clearTimeout(N),N=setTimeout(function(){G()},1e3*b.ttl))}function le(){N&&clearTimeout(N),N=null}function ve(){b=null,L={},D={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},le()}return v={reset:function(){ve(),X.off(p.Z.FRAGMENT_LOADING_STARTED,Ce,v),X.off(p.Z.MANIFEST_LOADING_STARTED,Y,v),X.off(p.Z.MANIFEST_LOADING_FINISHED,_e,v),X.off(p.Z.THROUGHPUT_MEASUREMENT_STORED,fe,v)},setConfig:function(z){z&&(z.adapter&&(De=z.adapter),z.errHandler&&(B=z.errHandler),z.dashMetrics&&(ee=z.dashMetrics),z.mediaPlayerModel&&(ie=z.mediaPlayerModel),z.requestModifier&&(V=z.requestModifier),z.manifestModel&&(te=z.manifestModel),z.serviceDescriptionController&&(re=z.serviceDescriptionController),z.eventBus&&(X=z.eventBus))},loadSteeringData:G,getCurrentSteeringResponseData:function(){return b},shouldQueryBeforeStart:function(){var z=$();return!!z&&z.queryBeforeStart},getSteeringDataFromManifest:$,stopSteeringRequestTimer:le,getSynthesizedBaseUrlElements:function(z){try{return j(z).map(function(Q){var Me=new Ao(Q.synthesizedUrl,Q.serviceLocation);return Me.queryParams=Q.queryParams,Me.dvb_priority=Q.reference.dvb_priority,Me.dvb_weight=Q.reference.dvb_weight,Me.availabilityTimeOffset=Q.reference.availabilityTimeOffset,Me.availabilityTimeComplete=Q.reference.availabilityTimeComplete,Me})}catch(Q){return m.error(Q),[]}},getSynthesizedLocationElements:function(z){try{return j(z).map(function(Q){var Me=new cn(Q.synthesizedUrl,Q.serviceLocation);return Me.queryParams=Q.queryParams,Me})}catch(Q){return m.error(Q),[]}},initialize:function(){A=Mr(ge).create({errHandler:B,dashMetrics:ee,mediaPlayerModel:ie,requestModifier:V,errors:pe}),X.on(p.Z.FRAGMENT_LOADING_STARTED,Ce,v),X.on(p.Z.MANIFEST_LOADING_STARTED,Y,v),X.on(p.Z.MANIFEST_LOADING_FINISHED,_e,v),X.on(p.Z.THROUGHPUT_MEASUREMENT_STORED,fe,v)}},m=(0,M.Z)(ge).getInstance().getLogger(v),ve(),v}xa.__dashjs_factory_name="ContentSteeringController";const Ra=C.Z.getSingletonFactory(xa);function ia(){var v,m,b,D=this.context,L=(0,Nt.Z)(D).getInstance();return v={select:function(N){if(!N||0===N.length)return null;var B,ee,A=null;return L.get().streaming.applyContentSteering&&(B=N,A=(ee=b.getCurrentSteeringResponseData())&&ee.pathwayPriority&&ee.pathwayPriority.length>0?function(){for(var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],V=0,re=null,X=function(){var De=ie[V],ge=te.findIndex(function(Se){return Se.serviceLocation&&Se.serviceLocation===De});if(-1!==ge&&!m.contains(te[ge].serviceLocation))return re=te[ge],"break";V+=1};V<ie.length&&"break"!==X(););return re}(ee.pathwayPriority,B):null),A||(A=function(B){return B[0]}(N)),A},setConfig:function(N){N.blacklistController&&(m=N.blacklistController),N.contentSteeringController&&(b=N.contentSteeringController)},reset:function(){m.reset()}},m=Hc(D).create({updateEventName:g.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),b=Ra(D).getInstance(),v}ia.__dashjs_factory_name="LocationSelector";const xh=C.Z.getClassFactory(ia);function os(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re,X,De=this.context,ge=(0,S.Z)(De).getInstance(),Se=(0,Ye.Z)(De).getInstance();function Ce(){b=NaN,A=!1,L=!0,N=!1,Y()}function Y(){null!==D&&(clearTimeout(D),D=null)}function _e(le){Y(),N||(isNaN(le)&&!isNaN(b)&&(le=1e3*b),isNaN(le)||(m.debug("Refresh manifest in "+le+" milliseconds."),D=setTimeout($,le)))}function fe(){var le=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A=!0;var ve=ee.getValue(),z=ve.url,Q=null,Me=te.getPatchLocation(ve),Ve=ie.select(Me),ze=null;if(Ve&&!le)z=Ve.url,Q=Ve.serviceLocation,ze=Ve.queryParams;else{var Je=function be(le){var ve=te.getLocation(le),z=re.getSynthesizedLocationElements(ve);return ve.concat(z)}(ve),Fe=ie.select(Je);Fe&&(z=Fe.url,Q=Fe.serviceLocation,ze=Fe.queryParams)}Se.isRelative(z)&&(z=Se.resolve(z,ve.url)),B.load(z,Q,ze)}function I(le){if(le){if(te.getIsPatch(le)){var ve=le;le=ee.getValue();var z=te.isPatchValid(le,ve),Q=z;if(z){var Me=te.getPublishTime(le);Q=te.applyPatchToManifest(le,ve);var Ve=te.getPublishTime(le);Q=Me.getTime()!=Ve.getTime()}if(!Q)return m.debug("Patch provided is invalid, performing full manifest refresh"),void fe(!0);le.loadedTime=new Date}}else(le=ee.getValue()).loadedTime=new Date;if(ee.getValue()&&ee.getValue().type===h.Z.DYNAMIC&&le.type===h.Z.STATIC)return ge.trigger(g.Z.DYNAMIC_TO_STATIC),A=!1,void(N=!0);ee.setValue(le);var ze=new Date,Je=(ze.getTime()-le.loadedTime.getTime())/1e3;1e3*(b=te.getManifestUpdatePeriod(le,Je))>2147483647&&(b=2147483.647),ge.trigger(g.Z.MANIFEST_UPDATED,{manifest:le}),m.info("Manifest has been refreshed at "+ze+"["+ze.getTime()/1e3+"] "),L||_e()}function $(){L||(A?_e(X.get().streaming.manifestUpdateRetryInterval):fe())}function G(le){le.error?le.error.code===pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&V.error(le.error):I(le.manifest)}function Z(){L=!1,_e()}function j(){(L=!X.get().streaming.scheduling.scheduleWhilePaused)&&Y()}function ae(){A=!1}return v={initialize:function(){Ce(),ge.on(g.Z.STREAMS_COMPOSED,ae,this),ge.on(p.Z.PLAYBACK_STARTED,Z,this),ge.on(p.Z.PLAYBACK_PAUSED,j,this),ge.on(g.Z.INTERNAL_MANIFEST_LOADED,G,this)},setManifest:function(le){I(le)},refreshManifest:fe,getIsUpdating:function(){return A},setConfig:function(le){le&&(le.manifestModel&&(ee=le.manifestModel),le.adapter&&(te=le.adapter),le.manifestLoader&&(B=le.manifestLoader),le.errHandler&&(V=le.errHandler),le.locationSelector&&(ie=le.locationSelector),le.settings&&(X=le.settings),le.contentSteeringController&&(re=le.contentSteeringController))},reset:function(){ge.off(p.Z.PLAYBACK_STARTED,Z,this),ge.off(p.Z.PLAYBACK_PAUSED,j,this),ge.off(g.Z.STREAMS_COMPOSED,ae,this),ge.off(g.Z.INTERNAL_MANIFEST_LOADED,G,this),Ce()}},m=(0,M.Z)(De).getInstance().getLogger(v),ie=xh(De).create(),v}os.__dashjs_factory_name="ManifestUpdater";const vd=C.Z.getClassFactory(os);function Ai(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Se=this.context,Ce=(0,S.Z)(Se).getInstance(),Y=(0,Ye.Z)(Se).getInstance();function _e(){B=[],ee=[],ie=null,te=null,re=null,V=NaN,b=!1,D=!1,X=L.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function fe(){L.get().streaming.utcSynchronization.enabled&&!b&&!D&&re&&re.value&&re.schemeIdUri&&!isNaN(V)&&!isNaN(L.get().streaming.utcSynchronization.backgroundAttempts)&&(te&&(Date.now()-te)/1e3<30||(B=[],D=!0,be(isNaN(L.get().streaming.utcSynchronization.backgroundAttempts)?2:L.get().streaming.utcSynchronization.backgroundAttempts)))}function be(Fe){try{if(Fe<=0)return void ze();var Ie=Date.now();N[re.schemeIdUri](re.value,function(Ct){var ht=Date.now(),bt=$(Ie,ht,Ct);B.push(bt),be(Fe-1)},function(){ze()})}catch{ze()}}function I(){var Ie=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!ee||0===ee.length||Ie>=ee.length)G();else{var Ct=ee[Ie];if(Ct)if(N.hasOwnProperty(Ct.schemeIdUri)){var ht=(new Date).getTime();N[Ct.schemeIdUri](Ct.value,function(bt){var Ft=(new Date).getTime(),sn=$(ht,Ft,bt);re=Ct,G(sn)},function(){I(Ie+1)})}else I(Ie+1);else G()}}function $(Fe,Ie,Ct){return Ct-(Ie-(Ie-Fe)/2)}function G(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,Ie=isNaN(Fe);Ie&&L.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function Me(){var Fe=A.getLatestMPDRequestHeaderValueByID("Date"),Ie=null!==Fe?new Date(Fe).getTime():Number.NaN;isNaN(Ie)?Ve(!0):Ve(!1,Ie-Date.now())}():Ve(Ie,Fe)}function Z(Fe){var ht,bt,Ft,Ie=Date.parse(Fe);return isNaN(Ie)&&(Ft=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Fe),ht=Date.UTC(parseInt(Ft[1],10),parseInt(Ft[2],10)-1,parseInt(Ft[3],10),parseInt(Ft[4],10),parseInt(Ft[5],10),Ft[6]&&(parseInt(Ft[6],10)||0),Ft[7]&&1e3*parseFloat(Ft[7])||0),Ft[9]&&Ft[10]&&(bt=60*parseInt(Ft[9],10)+parseInt(Ft[10],10),ht+=("+"===Ft[8]?-1:1)*bt*60*1e3),Ie=new Date(ht).getTime()),Ie}function j(Fe){return Date.parse(Fe)}function ae(Fe){return Date.parse(Fe)}function le(Fe,Ie,Ct){Ct()}function ve(Fe,Ie,Ct){var ht=Z(Fe);isNaN(ht)?Ct():Ie(ht)}function z(Fe,Ie,Ct,ht,bt){var Ft,sn,Be=!1,Te=new XMLHttpRequest,et=bt?He.w.HEAD:He.w.GET,Oe=Ie.match(/\S+/g);if(Ie=Oe.shift(),Ft=function(){Be||(Be=!0,Oe.length?z(Fe,Oe.join(" "),Ct,ht,bt):ht())},sn=function(){var dt,ft;200===Te.status&&(dt=bt?Te.getResponseHeader("Date"):Te.response,ft=Fe(dt),isNaN(ft)||(Ct(ft),Be=!0))},Y.isRelative(Ie)){var nt=ge.resolve();nt&&(Ie=Y.resolve(Ie,nt.url))}Te.open(et,Ie),Te.timeout=5e3,Te.onload=sn,Te.onloadend=Ft,Te.send()}function Q(Fe,Ie,Ct){z(ae,Fe,Ie,Ct,!0)}function Ve(Fe,Ie){if(isNaN(V)||isNaN(Ie)||Fe||function(ht){try{var bt,Ft=Je(ht),sn=isNaN(X)?30:X,Be=isNaN(L.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:L.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Te=isNaN(L.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:L.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,et=isNaN(L.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:L.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Ft?(bt=Math.min(sn*Be,Te),m.debug("Increasing timeBetweenSyncAttempts to ".concat(bt))):(bt=Math.max(sn/Be,et),m.debug("Decreasing timeBetweenSyncAttempts to ".concat(bt))),X=bt}catch{}}(Ie),!Fe&&!isNaN(Ie)){ie=Date.now(),b=!1;var Ct=isNaN(V);V=Ie,Ct&&fe(),m.debug("Completed UTC sync. Setting client - server offset to ".concat(Ie))}Fe&&(re=null,b=!1,De.error(new K.Z(pe.TIME_SYNC_FAILED_ERROR_CODE,pe.TIME_SYNC_FAILED_ERROR_MESSAGE))),Ce.trigger(g.Z.UPDATE_TIME_SYNC_OFFSET,{offset:Ie}),Ce.trigger(g.Z.TIME_SYNCHRONIZATION_COMPLETED)}function ze(){if(B&&0!==B.length){var Fe=B.reduce(function(Ie,Ct){return Ie+Ct},0)/B.length;Je(Fe)?m.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(m.debug("Completed background UTC sync. Setting client - server offset to ".concat(Fe)),Ce.trigger(g.Z.UPDATE_TIME_SYNC_OFFSET,{offset:V=Fe})),D=!1,te=Date.now()}}function Je(Fe){try{if(isNaN(V))return!0;var Ie=L.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(L.get().streaming.utcSynchronization.maximumAllowedDrift)?L.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Fe>=V-Ie&&Fe<=V+Ie}catch{return!0}}return v={initialize:function(){_e(),N={"urn:mpeg:dash:utc:http-head:2014":Q,"urn:mpeg:dash:utc:http-xsdate:2014":z.bind(null,Z),"urn:mpeg:dash:utc:http-iso:2014":z.bind(null,j),"urn:mpeg:dash:utc:direct:2014":ve,"urn:mpeg:dash:utc:http-head:2012":Q,"urn:mpeg:dash:utc:http-xsdate:2012":z.bind(null,Z),"urn:mpeg:dash:utc:http-iso:2012":z.bind(null,j),"urn:mpeg:dash:utc:direct:2012":ve,"urn:mpeg:dash:utc:http-ntp:2014":le,"urn:mpeg:dash:utc:ntp:2014":le,"urn:mpeg:dash:utc:sntp:2014":le}},attemptSync:function(Fe,Ie){ee=Fe,b||(function(Ct){try{if(!Ct||!L.get().streaming.utcSynchronization.enabled)return!1;var ht=isNaN(X)?30:X;return!(ie&&ht&&!isNaN(ht))||(Date.now()-ie)/1e3>=ht}catch{return!0}}(Ie)?(b=!0,I()):Ce.trigger(g.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Fe){Fe&&(Fe.dashMetrics&&(A=Fe.dashMetrics),Fe.baseURLController&&(ge=Fe.baseURLController),Fe.errHandler&&(De=Fe.errHandler),Fe.settings&&(L=Fe.settings))},reset:function(){_e(),Ce.off(g.Z.ATTEMPT_BACKGROUND_SYNC,fe,v)}},m=(0,M.Z)(Se).getInstance().getLogger(v),Ce.on(g.Z.ATTEMPT_BACKGROUND_SYNC,fe,v),v}Ai.__dashjs_factory_name="TimeSyncController";var tr=C.Z.getSingletonFactory(Ai);tr.HTTP_TIMEOUT_MS=5e3,C.Z.updateSingletonFactory(Ai.__dashjs_factory_name,tr);const S0=tr;function Qg(){var v,m,b;return v={createMediaSource:function(){var L="WebKitMediaSource"in window;return"MediaSource"in window?m=new MediaSource:L&&(m=new WebKitMediaSource),m},attachMediaSource:function(L){var N=window.URL.createObjectURL(m);return L.setSource(N),N},detachMediaSource:function(L){L.setSource(null)},setDuration:function L(N){m&&"open"===m.readyState&&(null===N&&isNaN(N)||m.duration!==N&&(function(A){for(var B=A.sourceBuffers,ee=0;ee<B.length;ee++)if(B[ee].updating)return!0;return!1}(m)?setTimeout(L.bind(null,N),50):(b.info("Set MediaSource duration:"+N),m.duration=N)))},setSeekable:function(L,N){m&&"function"==typeof m.setLiveSeekableRange&&"function"==typeof m.clearLiveSeekableRange&&"open"===m.readyState&&L>=0&&L<N&&(m.clearLiveSeekableRange(),m.setLiveSeekableRange(L,N))},signalEndOfStream:function(L){if(L&&"open"===L.readyState){for(var N=L.sourceBuffers,A=0;A<N.length;A++)if(N[A].updating||0===N[A].buffered.length)return;b.info("call to mediaSource endOfStream"),L.endOfStream()}}},b=(0,M.Z)(this.context).getInstance().getLogger(v),v}Qg.__dashjs_factory_name="MediaSourceController";const C0=C.Z.getSingletonFactory(Qg);function gn(){var v,m,b,D,L,N,A,B,ee,ie,te,V="urn:mpeg:dash:event:2012",X="updated",De="added",ge=this.context,Se=(0,S.Z)(ge).getInstance();function Ce(){if(!A||!B)throw new Error("setConfig function has to be called previously")}function Y(){te=!1,b={},D={},L=null,ie=!1,N=Date.now()/1e3}function _e(){try{if(!ie){ie=!0;var le=B.getTime(),ve=le-N;ve=N>0?Math.max(0,ve):0,fe(D,ve,le),fe(b,ve,le),be(D),be(b),N=le,ie=!1}}catch(z){ie=!1,m.error(z)}}function fe(le,ve,z){try{Z(le,function(Q){if(void 0!==Q){var Me=isNaN(Q.duration)?0:Q.duration;Q.calculatedPresentationTime<=z&&Q.calculatedPresentationTime+ve+Me>=z?ae(Q,p.Z.EVENT_MODE_ON_START):(j(z,Me+ve,Q.calculatedPresentationTime)||function(Ve){try{return Ve.calculatedPresentationTime>Ve.eventStream.period.start+Ve.eventStream.period.duration}catch(Je){return m.error(Je),!1}}(Q))&&(m.debug("Removing event ".concat(Q.id," from period ").concat(Q.eventStream.period.id," as it is expired or invalid")),function(Ve,ze){try{var Je=ze.eventStream.schemeIdUri,Fe=ze.eventStream.period.id,Ie=ze.eventStream.value,Ct=ze.id;Ve[Fe][Je]=Ve[Fe][Je].filter(function(ht){return Ie&&ht.eventStream.value&&ht.eventStream.value!==Ie||ht.id!==Ct}),0===Ve[Fe][Je].length&&delete Ve[Fe][Je]}catch(ht){m.error(ht)}}(le,Q))}})}catch(Q){m.error(Q)}}function be(le){try{for(var ve in le)le.hasOwnProperty(ve)&&0===Object.keys(le[ve]).length&&delete le[ve]}catch(z){m.error(z)}}function I(le,ve){var z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Q=le.eventStream.schemeIdUri,Me=le.eventStream.value,Ve=le.id,ze="discarded";ve[Q]||(ve[Q]=[]);var Je=ve[Q].findIndex(function(Ie){return(!Me||Ie.eventStream.value&&Ie.eventStream.value===Me)&&Ie.id===Ve});if(-1===Je)ve[Q].push(le),le.triggeredReceivedEvent=!1,le.triggeredStartEvent=!1,ze=De;else if(z){var Fe=ve[Q][Je];le.triggeredReceivedEvent=Fe.triggeredReceivedEvent,le.triggeredStartEvent=Fe.triggeredStartEvent,ve[Q][Je]=le,ze=X}return ze}function $(le){try{1==le.eventStream.value&&Se.trigger(p.Z.MANIFEST_VALIDITY_CHANGED,{id:le.id,validUntil:le.calculatedPresentationTime,newDuration:4294967295==le.calculatedPresentationTime?NaN:le.calculatedPresentationTime+le.duration,newManifestValidAfter:NaN},{mode:p.Z.EVENT_MODE_ON_START})}catch(Q){m.error(Q)}}function G(le){try{var ve=B.getTime();Z(le,function(z){var Q=z.eventStream&&z.eventStream.period&&!isNaN(z.eventStream.period.duration)?z.eventStream.period.duration:NaN,Me=z.eventStream&&z.eventStream.period&&!isNaN(z.eventStream.period.start)?z.eventStream.period.start:NaN;isNaN(Q)||isNaN(Me)||Math.abs(z.calculatedPresentationTime-ve)<300&&ae(z,p.Z.EVENT_MODE_ON_START)})}catch(z){m.error(z)}}function Z(le,ve){try{if(le)for(var z=Object.keys(le),Q=0;Q<z.length;Q++)for(var Me=le[z[Q]],Ve=Object.keys(Me),ze=0;ze<Ve.length;ze++)Me[Ve[ze]].forEach(function(Je){void 0!==Je&&ve(Je)})}catch(Je){m.error(Je)}}function j(le,ve,z){try{return le-ve>z}catch(Q){return m.error(Q),!1}}function ae(le,ve){try{var z=B.getTime(),Q=le.id;if(ve===p.Z.EVENT_MODE_ON_RECEIVE&&!le.triggeredReceivedEvent)return m.debug("Received event ".concat(Q)),le.triggeredReceivedEvent=!0,void Se.trigger(le.eventStream.schemeIdUri,{event:le},{mode:ve});le.triggeredStartEvent||(le.eventStream.schemeIdUri===V&&1==le.eventStream.value?0===le.duration&&0===le.presentationTimeDelta||(m.debug("Starting manifest refresh event ".concat(Q," at ").concat(z)),function(){try{Ce(),A.refreshManifest()}catch(Me){m.error(Me)}}()):"urn:mpeg:dash:event:callback:2015"===le.eventStream.schemeIdUri&&1==le.eventStream.value?(m.debug("Starting callback event ".concat(Q," at ").concat(z)),function(Me){try{(0,on.Z)(ge).create({}).load({method:"get",url:Me,request:{responseType:"arraybuffer"}})}catch(Ve){m.error(Ve)}}(le.messageData)):(m.debug("Starting event ".concat(Q," from period ").concat(le.eventStream.period.id," at ").concat(z)),Se.trigger(le.eventStream.schemeIdUri,{event:le},{mode:ve})),le.triggeredStartEvent=!0)}catch(Me){m.error(Me)}}return v={addInlineEvents:function(le,ve){try{if(Ce(),b[ve]||(b[ve]={}),le)for(var z=0;z<le.length;z++){var Q=le[z];if(!j(B.getTime(),isNaN(Q.duration)?0:Q.duration,Q.calculatedPresentationTime)){var Me=I(Q,b[ve],!0);Me===De?(m.debug("Added inline event with id ".concat(Q.id," from period ").concat(ve)),ae(Q,p.Z.EVENT_MODE_ON_RECEIVE)):Me===X&&m.debug("Updated inline event with id ".concat(Q.id," from period ").concat(ve))}}}catch(Ve){throw Ve}},addInbandEvents:function(le,ve){try{Ce(),D[ve]||(D[ve]={});for(var z=0;z<le.length;z++){var Q=le[z];j(B.getTime(),isNaN(Q.duration)?0:Q.duration,Q.calculatedPresentationTime)||(I(Q,D[ve],!1)===De?(Q.eventStream.schemeIdUri===V&&$(Q),m.debug("Added inband event with id ".concat(Q.id," from period ").concat(ve)),ae(Q,p.Z.EVENT_MODE_ON_RECEIVE)):m.debug("Inband event with scheme_id_uri ".concat(Q.eventStream.schemeIdUri,", value ").concat(Q.eventStream.value,", period id ").concat(ve," and event id ").concat(Q.id," was ignored because it has been added before.")))}_e()}catch(Me){throw Me}},getInbandEvents:function(){return D},getInlineEvents:function(){return b},start:function(){try{Ce(),m.debug("Start Event Controller");var le=ee.get().streaming.eventControllerRefreshDelay;te||isNaN(le)||(te=!0,L=setInterval(_e,le))}catch(ve){throw ve}},setConfig:function(le){try{if(!le)return;le.manifestUpdater&&(A=le.manifestUpdater),le.playbackController&&(B=le.playbackController),le.settings&&(ee=le.settings)}catch(ve){throw ve}},reset:function(){(function(){try{null!==L&&te&&(clearInterval(L),L=null,te=!1,function(){try{G(D),G(b)}catch(le){m.error(le)}}())}catch(le){throw le}})(),Y()}},m=(0,M.Z)(ge).getInstance().getLogger(v),Y(),v}gn.__dashjs_factory_name="EventController";const A0=C.Z.getSingletonFactory(gn),Vr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Qa(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}function Rh(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Se,Ce,Y,_e,fe,be,I,$,G,Z,j,ae,le,ve,z,Q,Me,Ve,ze,Je,Fe,Ie,Ct,ht,bt,Ft,sn,Be,Te,et,Oe,nt,dt=this.context,ft=(0,S.Z)(dt).getInstance();function Pt(){if(!(N&&N.hasOwnProperty("load")&&fe&&fe.hasOwnProperty("initialize")&&fe.hasOwnProperty("reset")&&fe.hasOwnProperty("getClientTimeOffset")&&A&&_e&&ee&&Me))throw new Error(f.Z.MISSING_CONFIG_ERROR)}function Cn(){!function(){try{var Tt=B.getStreamsInfo();if(!I&&0===Tt.length)throw new Error("There are no periods in the MPD");I&&Tt.length>0&&ee.updateManifestUpdateInfo({currentTime:Me.getTime(),buffered:Q.getBufferRange(),presentationStartTime:Tt[0].start,clientTimeOffset:fe.getClientTimeOffset()}),be.length>0&&(0!==(_r=Tt).length?be=be.filter(function(qn){var Xr=_r.filter(function(Pr){return Pr.id===qn.getId()}).length>0||qn.getId()===I.getId();return Xr||(m.debug("Removing stream ".concat(qn.getId())),qn.reset(!0)),Xr}):m.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects."));for(var Kt=[],Mn=0,Gn=Tt.length;Mn<Gn;Mn++){var wr=Tt[Mn];Kt.push(dn(wr)),ee.addManifestUpdateStreamInfo(wr)}Promise.all(Kt).then(function(){return new Promise(function(_r,qn){I?_r():Dn(Tt,_r,qn)})}).then(function(){ft.trigger(g.Z.STREAMS_COMPOSED),nn()}).catch(function(_r){throw _r})}catch(_r){_e.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,_r.message+" nostreamscomposed",A.getValue())),ve=!0,ul()}var _r}()}function Sn(){Te=!0}function dn(Tt){var Kt=ic(Tt.id);return Kt?Kt.updateData(Tt):(Kt=ws(dt).create({manifestModel:A,mediaPlayerModel:ze,dashMetrics:ee,manifestUpdater:L,adapter:B,timelineConverter:fe,capabilities:b,capabilitiesFilter:D,errHandler:_e,baseURLController:re,segmentBaseController:X,textController:G,abrController:ge,playbackController:Me,eventController:Ce,mediaController:Se,protectionController:$,videoModel:Q,streamInfo:Tt,settings:Be}),be.push(Kt),Kt.initialize(),Promise.resolve())}function Dn(Tt,Kt,Mn){try{pt();var Gn=ee.getCurrentDVRInfo().range;if(Gn.end<Gn.start){et&&clearTimeout(et);var wr=Math.min(1e3*(-1*(Gn.end-Gn.start)+2),2147483647);return m.debug("Waiting for ".concat(wr," ms before playback can start")),ft.trigger(g.Z.AST_IN_FUTURE,{delay:wr}),void(et=setTimeout(function(){Dn(Tt,Kt,Mn)},wr))}Be.get().streaming.applyProducerReferenceTime&&Ve.calculateProducerReferenceTimeOffsets(Tt);var _r=Tt[0].manifestInfo;if(Be.get().streaming.applyServiceDescription&&Ve.applyServiceDescription(_r),B.getIsDynamic()){var qn=bo(Tt,_r);Me.computeAndSetLiveDelay(qn,_r)}(Be.get().streaming.applyContentSteering&&V.shouldQueryBeforeStart()?V.loadSteeringData():Promise.resolve()).then(function(){var Xr=A.getValue();Xr&&re.update(Xr),Rn(),Kt()}).catch(function(Xr){m.error(Xr),Rn(),Kt()})}catch(Xr){Mn(Xr)}}function Rn(){var Tt=function(){var Gn;if(B.getIsDynamic()){var wr=ee.getCurrentDVRInfo();Gn=(wr&&wr.range?wr.range.end:0)-Me.getOriginalLiveDelay();var _r=wr?wr.range:null;if(_r){if(isNaN(Oe)&&-1===Oe.toString().indexOf("posix:")){var qn=Qi(!0);isNaN(qn)||(m.info("Start time from URI parameters: ".concat(qn)),Gn=Math.min(Gn,qn))}else{m.info("Start time provided by the app: ".concat(Oe));var Xr=Pi(!0,Oe);isNaN(Xr)||(Gn=Math.min(Gn,Xr))}var Pr=Be.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Gn=Math.max(Gn,_r.start+Pr)}}else if(Gn=Pa()[0].getStreamInfo().start,isNaN(Oe)){var us=Qi(!1);isNaN(us)||(m.info("Start time from URI parameters: ".concat(us)),Gn=Math.max(Gn,us))}else{m.info("Start time provided by the app: ".concat(Oe));var Gs=Pi(!1,Oe);isNaN(Gs)||(Gn=Math.max(Gn,Gs))}return Gn}(),Kt=_n(Tt),Mn=null!==Kt?Kt:be[0];ft.trigger(g.Z.INITIAL_STREAM_SWITCH,{startTime:Tt}),er(Mn,null,Tt),ht||(ht=setInterval(function(){!ae&&Me.getTimeToStreamEnd()<=0&&!Me.isSeeking()&&ft.trigger(g.Z.PLAYBACK_ENDED,{isLast:Zs().isLast})},200))}function er(Tt,Kt,Mn){try{if(ae||!Tt||Kt===Tt&&Tt.getIsActive())return;ae=!0,ft.trigger(g.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:Kt?Kt.getStreamInfo():null,toStreamInfo:Tt.getStreamInfo()});var Gn=!1;I=Tt,Kt&&(Gn=En(Tt,Kt),Kt.deactivate(Gn)),Mn=isNaN(Mn)?!Gn&&Kt?Tt.getStreamInfo().start:NaN:Mn,m.info("Switch to stream ".concat(Tt.getId(),". Seektime is ").concat(Mn,", current playback time is ").concat(Me.getTime(),". Seamless period switch is set to ").concat(Gn)),Ft=Ft.filter(function(wr){return wr.getId()!==I.getId()}),Me.initialize(Zs(),!!Kt),Q.getElement()?lr(Mn,Gn,!1):zn(Mn,Gn)}catch{ae=!1}}function lr(Tt,Kt){var Mn,Gn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function wr(){if(z&&"open"===z.readyState){m.debug("MediaSource is open!"),window.URL.revokeObjectURL(Mn),z.removeEventListener("sourceopen",wr),z.removeEventListener("webkitsourceopen",wr),Zr();var qn=ee.getCurrentDVRInfo();ie.setSeekable(qn.range.start,qn.range.end),Gn?(isNaN(Tt)||Me.seek(Tt,!0,!0),I.setMediaSource(z).then(function(){I.initializeForTextWithMediaSource(z)})):zn(Tt,Kt)}}function _r(){z.addEventListener("sourceopen",wr,!1),z.addEventListener("webkitsourceopen",wr,!1),Mn=ie.attachMediaSource(Q),m.debug("MediaSource attached to element.  Waiting on open...")}z?Kt?zn(Tt,Kt):(ie.detachMediaSource(Q),_r()):(z=ie.createMediaSource(),_r())}function zn(Tt,Kt){I.activate(z,Kt?bt:void 0,Tt).then(function(Mn){if(Mn){var Gn=Object.keys(Mn);Gn.length>0&&Mn[Gn[0]].getBuffer().changeType&&(sn=!0),bt=Mn}isNaN(Tt)||(ft.trigger(g.Z.SEEK_TARGET,{time:Tt},{streamId:I.getId()}),Me.seek(Tt,!1,!0),I.startScheduleControllers()),ae=!1,ft.trigger(g.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Zs()})})}function hr(Tt){var Mn,Gn,wr,_r,Kt=_n(Tt.seekTime);Kt&&Kt!==I?Kt&&Kt!==I&&(nr(),Gn=Kt,wr=(Mn=Tt)&&!isNaN(Mn.seekTime)?Mn.seekTime:NaN,_r=I.getProcessors().map(function(qn){return qn.prepareOuterPeriodPlaybackSeeking(Mn)}),Promise.all(_r).then(function(){er(Gn,I,wr)}).catch(function(qn){_e.error(qn)})):(nr(),function(Mn){I.getProcessors().forEach(function(Gn){return Gn.prepareInnerPeriodPlaybackSeeking(Mn)}),Wo(tt.USER_REQUEST_STOP_REASON)}(Tt)),As(Le.SEEK_START_REASON)}function nr(){pr()}function pr(){Ft&&Ft.length>0&&(Ft.forEach(function(Tt){Tt.deactivate(!0)}),Ft=[])}function jt(Tt){Tt.newMediaInfo.streamInfo.id===I.getId()&&(pr(),I.prepareTrackChange(Tt))}function En(Tt,Kt){try{return Be.get().streaming.buffer.reuseExistingSourceBuffers&&(Kt.isProtectionCompatible(Tt)||Te)&&(sn&&Be.get().streaming.buffer.useChangeTypeForTrackSwitch||Kt.isMediaCodecCompatible(Tt,Kt))}catch{return!1}}function bn(Tt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;z&&!Tt.getPreloaded()&&En(Tt,Kt)&&Tt.startPreloading(z,bt).then(function(){Ft.push(Tt)})}function _n(Tt){if(isNaN(Tt))return null;for(var Kt=be.length,Mn=0;Mn<Kt;Mn++){var Gn=be[Mn];if(Tt<parseFloat((Gn.getStartTime()+Gn.getDuration()).toFixed(5)))return Gn}return null}function pt(){try{var Tt=B.getIsDynamic(),Kt=B.getStreamsInfo()[0].manifestInfo,Mn=Me.getTime(),Gn=fe.calcTimeShiftBufferWindow(be,Tt),wr=qr();if(void 0===Gn.start||void 0===Gn.end)return;wr&&0!==wr.length?wr.forEach(function(_r){ee.addDVRInfo(_r.getType(),Mn,Kt,Gn)}):ee.addDVRInfo(f.Z.VIDEO,Mn,Kt,Gn)}catch{}}function Zt(Tt){if(Ie&&j){var Kt=ze.getInitialBufferLevel(),Mn=[f.Z.TEXT];(isNaN(Kt)||Kt<=Me.getBufferLevel(Mn)||B.getIsDynamic()&&Kt>Me.getLiveDelay())&&(Ie=!1,As(Le.INITIAL_PLAYOUT_START_REASON),Me.play())}Tt&&Tt.mediaType&&ee.addBufferLevel(Tt.mediaType,new Date,1e3*Tt.bufferLevel)}function ct(Tt){Tt.streamInfo.id===I.getId()&&Tt.reason&&Tt.reason.forceReplace&&pr(),ic(Tt.streamInfo.id).prepareQualityChange(Tt)}function Ge(){if(B.getIsDynamic()&&0!==Me.getOriginalLiveDelay()&&I){var Tt=B.getStreamsInfo();if(Tt.length>0){var Kt=Tt[0].manifestInfo,Mn=bo(Tt,Kt);Me.computeAndSetLiveDelay(Mn,Kt)}}}function Ee(){if($o()){var Tt=Q.getPlaybackQuality();Tt&&ee.addDroppedFrames(Tt)}}function st(){m.debug("[onPlaybackStarted]"),!Ie&&Fe&&As(Le.RESUME_FROM_PAUSE_START_REASON),Ie&&(Ie=!1),Ct&&(Ct=!1,Be.get().streaming.applyContentSteering&&!V.shouldQueryBeforeStart()&&V.loadSteeringData()),Fe=!1}function It(Tt){m.debug("[onPlaybackPaused]"),Tt.ended||(Fe=!0,Wo(tt.USER_REQUEST_STOP_REASON))}function Qt(Tt){m.debug("Stream with id ".concat(Tt.streamInfo.id," finished buffering")),z&&Tt.streamInfo.isLast?(m.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),ie.signalEndOfStream(z)):nn()}function nn(){if(I&&I.getHasFinishedBuffering())for(var Tt=function(){var wr=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var _r=wr||I||null;if(_r){var qn=_r.getStreamInfo();return be.filter(function(Xr){var Pr=Xr.getStreamInfo();return Pr.start>qn.start&&qn.id!==Pr.id})}}catch{return[]}}(I),Kt=0;Kt<Tt.length;){var Mn=Tt[Kt],Gn=0===Kt?I:Tt[Kt-1];!Mn.getPreloaded()&&Gn.getHasFinishedBuffering()&&z&&bn(Mn,Gn),Kt+=1}}function Xn(){ht&&(clearInterval(ht),ht=null)}function qr(){return I?I.getProcessors():[]}function Ui(Tt){if(I&&!I.getIsEndedEventSignaled()){I.setIsEndedEventSignaled(!0);var Kt=function(){var Gn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||I||null;if(!Gn)return null;for(var wr=Gn.getStreamInfo(),_r=wr.start,qn=0,Xr=-1,Pr=NaN;qn<be.length;){var us=be[qn].getStreamInfo(),Gs=us.start-_r;Gs>0&&(isNaN(Pr)||Gs<Pr)&&wr.id!==us.id&&(Pr=Gs,Xr=qn),qn+=1}return Xr>=0?be[Xr]:null}();Kt?(m.debug("StreamController onEnded, found next stream with id ".concat(Kt.getStreamInfo().id,". Switching from ").concat(I.getStreamInfo().id," to ").concat(Kt.getStreamInfo().id)),er(Kt,I,NaN)):(m.debug("StreamController no next stream found"),I.setIsEndedEventSignaled(!1)),Wo(Kt?tt.END_OF_PERIOD_STOP_REASON:tt.END_OF_CONTENT_STOP_REASON)}Tt&&Tt.isLast&&(Xn(),V.stopSteeringRequestTimer())}function Zr(Tt){var Kt=Tt||Zs().manifestInfo.duration;ie.setDuration(Kt)}function Qi(Tt){var Kt=De.getURIFragmentData();if(!Kt||!Kt.t)return NaN;var Mn=Pa()[0].getStreamInfo().start;return Kt.t=Kt.t.split(",")[0],Yo(Tt,Kt.t,Mn)}function Pi(Tt,Kt){var Mn=0;return Tt||(Mn=Pa()[0].getStreamInfo().start),Yo(Tt,Kt,Mn)}function Yo(Tt,Kt,Mn){var Gn=B.getRegularPeriods()[0],wr=Kt.toString(),_r=-1!==wr.indexOf("posix:")?"now"===wr.substring(6)?Date.now()/1e3:parseFloat(wr.substring(6)):NaN;return Tt&&!isNaN(_r)?fe.calcPresentationTimeFromWallTime(new Date(1e3*_r),Gn):parseFloat(wr)+Mn}function bo(Tt,Kt){try{var Mn=NaN;if(Kt&&!isNaN(Kt.maxFragmentDuration)&&isFinite(Kt.maxFragmentDuration))return Kt.maxFragmentDuration;if(Tt&&1===Tt.length){var Gn=Tt[0],wr=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT].reduce(function(qn,Xr){var Pr=B.getMediaInfoForType(Gn,Xr);return Pr&&!1!==Pr.isFragmented&&qn.push(Pr),qn},[]).reduce(function(qn,Xr){var Pr=B.getVoRepresentations(Xr);return Pr&&Pr.length>0&&Pr.forEach(function(us){us&&qn.push(us)}),qn},[]).reduce(function(qn,Xr){var Pr=B.convertRepresentationToRepresentationInfo(Xr);return Pr&&Pr.fragmentDuration&&!isNaN(Pr.fragmentDuration)&&qn.push(Pr.fragmentDuration),qn},[]);Mn=Math.max.apply(Math,function(qn){if(Array.isArray(qn))return Qa(qn)}(_r=wr)||function(qn){if(typeof Symbol<"u"&&Symbol.iterator in Object(qn))return Array.from(qn)}(_r)||function(qn,Xr){if(qn){if("string"==typeof qn)return Qa(qn,void 0);var Pr=Object.prototype.toString.call(qn).slice(8,-1);return"Object"===Pr&&qn.constructor&&(Pr=qn.constructor.name),"Map"===Pr||"Set"===Pr?Array.from(qn):"Arguments"===Pr||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pr)?Qa(qn,void 0):void 0}}(_r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return isFinite(Mn)?Mn:NaN}catch{return NaN}var _r}function cs(Tt){if(Tt.error)ve=!0,ul();else{m.info("Manifest updated... updating data system wide.");var Kt=Tt.manifest;B.updatePeriods(Kt);var Mn=B.getUTCTimingSources();!B.getIsDynamic()||Mn&&0!==Mn.length||ft.trigger(p.Z.CONFORMANCE_VIOLATION,{level:Vr.LEVELS.WARNING,event:Vr.EVENTS.NO_UTC_TIMING_ELEMENT});var Gn=B.getIsDynamic()?Mn.concat(Je.getUTCTimingSources()):Mn;D.filterUnsupportedFeatures(Kt).then(function(){re.initialize(Kt),te.attemptSync(Gn,B.getIsDynamic())})}}function $o(){return!!I&&I.getHasVideoTrack()}function lo(){return!!I&&I.getHasAudioTrack()}function Wo(Tt,Kt){Kt=Kt||new Date,qr().forEach(function(Mn){Mn.finalisePlayList(Kt,Tt)}),ee.addPlayList()}function As(Tt){ee.createPlaylistMetrics(1e3*Me.getTime(),Tt)}function Hs(Tt){if(Tt.error){var Kt="";switch(Tt.error.code){case 1:Kt="MEDIA_ERR_ABORTED";break;case 2:Kt="MEDIA_ERR_NETWORK";break;case 3:Kt="MEDIA_ERR_DECODE",nt.counts.mediaErrorDecode+=1;break;case 4:Kt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Kt="MEDIA_ERR_ENCRYPTED";break;default:Kt="UNKNOWN"}"MEDIA_ERR_DECODE"===Kt&&Be.get().errors.recoverAttempts.mediaErrorDecode>=nt.counts.mediaErrorDecode?function(){m.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Mn=Me.getTime();I.deactivate(!1),m.warn("MediaSource has been resetted. Resuming playback from time ".concat(Mn)),lr(Mn,!1,!1)}():(le=!0,Tt.error.message&&(Kt+=" ("+Tt.error.message+")"),Tt.error.msExtendedCode&&(Kt+=" (0x"+(Tt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),m.fatal("Video Element Error: "+Kt),Tt.error&&m.fatal(Tt.error),_e.error(new K.Z(Tt.error.code,Kt)),ul())}}function Zs(){return I?I.getStreamInfo():null}function ic(Tt){for(var Kt=0,Mn=be.length;Kt<Mn;Kt++)if(be[Kt].getId()===Tt)return be[Kt];return null}function zs(Tt){isNaN(Tt.newDuration)||Zr(Tt.newDuration)}function Is(){be=[],Oe=NaN,$=null,ae=!1,I=null,le=!1,ve=!1,Ie=!0,Ct=!0,Fe=!1,j=!0,ht=null,Te=!1,sn=!1,Ft=[],et=null,nt={counts:{mediaErrorDecode:0}}}function ul(){Pt(),te.reset(),Wo(le||ve?tt.FAILURE_STOP_REASON:tt.USER_REQUEST_STOP_REASON);for(var Tt=0,Kt=be?be.length:0;Tt<Kt;Tt++)be[Tt].reset(le);ft.off(p.Z.PLAYBACK_TIME_UPDATED,Ee,v),ft.off(p.Z.PLAYBACK_SEEKING,hr,v),ft.off(p.Z.PLAYBACK_ERROR,Hs,v),ft.off(p.Z.PLAYBACK_STARTED,st,v),ft.off(p.Z.PLAYBACK_PAUSED,It,v),ft.off(p.Z.PLAYBACK_ENDED,Ui,v),ft.off(p.Z.METRIC_ADDED,uu,v),ft.off(p.Z.MANIFEST_VALIDITY_CHANGED,zs,v),ft.off(p.Z.BUFFER_LEVEL_UPDATED,Zt,v),ft.off(p.Z.QUALITY_CHANGE_REQUESTED,ct,v),g.Z.KEY_SESSION_UPDATED&&ft.off(g.Z.KEY_SESSION_UPDATED,Sn,v),ft.off(g.Z.MANIFEST_UPDATED,cs,v),ft.off(g.Z.STREAM_BUFFERING_COMPLETED,Qt,v),ft.off(g.Z.TIME_SYNCHRONIZATION_COMPLETED,Cn,v),ft.off(g.Z.CURRENT_TRACK_CHANGED,jt,v),ft.off(g.Z.SETTING_UPDATED_LIVE_DELAY,Ge,v),ft.off(g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ge,v),re.reset(),L.reset(),Ce.reset(),ee.clearAllCurrentMetrics(),A.setValue(null),N.reset(),fe.reset(),Y.reset(),z&&(ie.detachMediaSource(Q),z=null),Q=null,$&&($=null,Z=null,A.getValue()&&ft.trigger(g.Z.PROTECTION_DESTROYED,{data:A.getValue().url})),Xn(),ft.trigger(g.Z.STREAM_TEARDOWN_COMPLETE),Is()}function uu(Tt){if(Tt.metric===O.Z.DVR_INFO){var Kt=lo()?f.Z.AUDIO:f.Z.VIDEO;Tt.mediaType===Kt&&ie.setSeekable(Tt.value.range.start,Tt.value.range.end)}}function Pa(){return be}return v={initialize:function(Tt,Kt){Pt(),j=Tt,Z=Kt,fe.initialize(),(L=vd(dt).create()).setConfig({manifestModel:A,adapter:B,manifestLoader:N,errHandler:_e,settings:Be,contentSteeringController:V}),L.initialize(),(Ce=A0(dt).getInstance()).setConfig({manifestUpdater:L,playbackController:Me,settings:Be}),Ce.start(),te.setConfig({dashMetrics:ee,baseURLController:re,errHandler:_e,settings:Be}),te.initialize(),$&&(ft.trigger(g.Z.PROTECTION_CREATED,{controller:$}),$.setMediaElement(Q.getElement()),Z&&$.setProtectionData(Z)),ft.on(p.Z.PLAYBACK_TIME_UPDATED,Ee,v),ft.on(p.Z.PLAYBACK_SEEKING,hr,v),ft.on(p.Z.PLAYBACK_ERROR,Hs,v),ft.on(p.Z.PLAYBACK_STARTED,st,v),ft.on(p.Z.PLAYBACK_PAUSED,It,v),ft.on(p.Z.PLAYBACK_ENDED,Ui,v),ft.on(p.Z.METRIC_ADDED,uu,v),ft.on(p.Z.MANIFEST_VALIDITY_CHANGED,zs,v),ft.on(p.Z.BUFFER_LEVEL_UPDATED,Zt,v),ft.on(p.Z.QUALITY_CHANGE_REQUESTED,ct,v),g.Z.KEY_SESSION_UPDATED&&ft.on(g.Z.KEY_SESSION_UPDATED,Sn,v),ft.on(g.Z.MANIFEST_UPDATED,cs,v),ft.on(g.Z.STREAM_BUFFERING_COMPLETED,Qt,v),ft.on(g.Z.TIME_SYNCHRONIZATION_COMPLETED,Cn,v),ft.on(g.Z.CURRENT_TRACK_CHANGED,jt,v),ft.on(g.Z.SETTING_UPDATED_LIVE_DELAY,Ge,v),ft.on(g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ge,v)},getActiveStreamInfo:Zs,addDVRMetric:pt,hasVideoTrack:$o,hasAudioTrack:lo,getStreamById:ic,getStreamForTime:_n,getTimeRelativeToStreamId:function(Tt,Kt){for(var Mn=null,Gn=0,wr=0,_r=null,qn=0;qn<be.length;qn++){if(wr=(Mn=be[qn]).getStartTime(),_r=Mn.getDuration(),Number.isFinite(wr)&&(Gn=wr),Mn.getId()===Kt)return Tt-Gn;Number.isFinite(_r)&&(Gn+=_r)}return null},load:function(Tt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Pt(),Oe=Kt,N.load(Tt)},loadWithManifest:function(Tt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function Gt(){if(!L||!L.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Oe=Kt,L.setManifest(Tt)},getActiveStreamProcessors:qr,setConfig:function(Tt){Tt&&(Tt.capabilities&&(b=Tt.capabilities),Tt.capabilitiesFilter&&(D=Tt.capabilitiesFilter),Tt.manifestLoader&&(N=Tt.manifestLoader),Tt.manifestModel&&(A=Tt.manifestModel),Tt.mediaPlayerModel&&(ze=Tt.mediaPlayerModel),Tt.customParametersModel&&(Je=Tt.customParametersModel),Tt.protectionController&&($=Tt.protectionController),Tt.adapter&&(B=Tt.adapter),Tt.dashMetrics&&(ee=Tt.dashMetrics),Tt.errHandler&&(_e=Tt.errHandler),Tt.timelineConverter&&(fe=Tt.timelineConverter),Tt.videoModel&&(Q=Tt.videoModel),Tt.playbackController&&(Me=Tt.playbackController),Tt.serviceDescriptionController&&(Ve=Tt.serviceDescriptionController),Tt.contentSteeringController&&(V=Tt.contentSteeringController),Tt.textController&&(G=Tt.textController),Tt.abrController&&(ge=Tt.abrController),Tt.mediaController&&(Se=Tt.mediaController),Tt.settings&&(Be=Tt.settings),Tt.baseURLController&&(re=Tt.baseURLController),Tt.uriFragmentModel&&(De=Tt.uriFragmentModel),Tt.segmentBaseController&&(X=Tt.segmentBaseController))},setProtectionData:function(Tt){Z=Tt,$&&$.setProtectionData(Z)},getIsStreamSwitchInProgress:function(){return ae},switchToVideoElement:function(Tt){I&&(Me.initialize(Zs()),lr(Tt,!1,!0))},getHasMediaOrInitialisationError:function(){return le||ve},getStreams:Pa,getActiveStream:function(){return I},getInitialPlayback:function(){return Ie},getAutoPlay:function(){return j},reset:ul},m=(0,M.Z)(dt).getInstance().getLogger(v),te=S0(dt).getInstance(),ie=C0(dt).getInstance(),Y=ut(dt).getInstance(),Is(),v}Rh.__dashjs_factory_name="StreamController";const yd=C.Z.getSingletonFactory(Rh);function Mh(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re=this.context,X=(0,S.Z)(re).getInstance();function De(){V.debug("Stopping the gap controller"),L&&(clearInterval(L),L=null),function(){X.off(g.Z.WALLCLOCK_TIME_UPDATED,_e,this),X.off(g.Z.INITIAL_STREAM_SWITCH,Y,this),X.off(g.Z.PLAYBACK_SEEKING,ge,this),X.off(g.Z.BUFFER_REPLACEMENT_STARTED,Se,v),X.off(g.Z.TRACK_CHANGE_RENDERED,Ce,v)}(),L=null,N=NaN,D=0,ie=null,te={}}function ge(){ie&&(clearTimeout(ie),ie=null)}function Se(Z){try{if(Z.streamId!==B.getActiveStreamInfo().id||Z.mediaType!==f.Z.VIDEO&&Z.mediaType!==f.Z.AUDIO)return;Z.streamId===B.getActiveStreamInfo().id&&(te[Z.mediaType]=!0)}catch(j){V.error(j)}}function Ce(Z){Z&&Z.mediaType&&(te[Z.mediaType]=!1)}function Y(){L||function(){try{L||(V.debug("Starting the gap controller"),L=setInterval(function(){fe()&&G(A.getTime())},100))}catch{}}()}function _e(){if(fe(b.get().streaming.gaps.enableSeekFix)&&++D>=10){var Z=A.getTime();m===Z?G(Z,!0):(m=Z,N=NaN),D=0}}function fe(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!B.getActiveStream())return!1;var j=Object.keys(te).some(function(le){return te[le]}),ae=!!Z&&function be(){var Z=B.getActiveStream(),j=parseFloat((Z.getStartTime()+Z.getDuration()).toFixed(5));return A.getTime()+b.get().streaming.gaps.threshold>=j}();return!j&&b.get().streaming.gaps.jumpGaps&&B.getActiveStreamProcessors().length>0&&(!A.isSeeking()||ae)&&!A.isPaused()&&!B.getIsStreamSwitchInProgress()&&!B.getHasMediaOrInitialisationError()}function G(Z){var j,ae=arguments.length>1&&void 0!==arguments[1]&&arguments[1],le=b.get().streaming.gaps.enableStallFix,ve=b.get().streaming.gaps.stallSeek,z=b.get().streaming.gaps.smallGapLimit,Q=b.get().streaming.gaps.jumpLargeGaps,Me=ee.getBufferRange(),Ve=NaN,ze=!1;if(j=function I(Z,j){try{if(!Z||Z.length<=1&&j>0)return NaN;for(var ae=NaN,le=0;isNaN(ae)&&le<Z.length;){var ve=le>0?Z.end(le-1):0;j<Z.start(le)&&ve-j<b.get().streaming.gaps.threshold&&(ae=le),le+=1}return ae}catch{return null}}(Me,Z),!isNaN(j)){var Je=Me.start(j),Fe=Je-Z;Fe>0&&(Fe<=z||Q)&&(Ve=Je)}var Ie=A.getTimeToStreamEnd();if(isNaN(Ve)&&ae&&isFinite(Ie)&&!isNaN(Ie)&&Ie<z&&(Ve=parseFloat(A.getStreamEndTime().toFixed(5)),ze=!0),le&&isNaN(Ve)&&ae&&isNaN(j)&&function $(Z,j){for(var ae=0,le=Z.length;ae<le;ae++)if(j>=Z.start(ae)&&j<=Z.end(ae))return!0;return!1}(Me,Z)&&(0===ve?(V.warn("Toggle play pause to break stall"),ee.pause(),ee.play()):(V.warn("Jumping ".concat(ve,"s to break stall")),Ve=Z+ve)),Ve>0&&N!==Ve&&Ve>Z&&!ie){var Ct=Ve-Z;if(ze){var ht=B.getStreamForTime(Ve),bt=ht&&!!ht.getPreloaded();V.warn("Jumping to end of stream because of gap from ".concat(Z," to ").concat(Ve,". Gap duration: ").concat(Ct)),A.seek(Ve,!0,bt)}else{var Ft=A.getIsDynamic(),sn=j>0?Me.end(j-1):Z,Be=Ft?1e3*Math.max(0,Ct-.1):0;ie=window.setTimeout(function(){A.seek(Ve,!0,!0),V.warn("Jumping gap occuring in period ".concat(B.getActiveStream().getStreamId()," starting at ").concat(sn," and ending at ").concat(Ve,". Jumping by: ").concat(Ve-sn)),ie=null},Be)}N=Ve}}return v={reset:De,setConfig:function(Z){Z&&(Z.settings&&(b=Z.settings),Z.playbackController&&(A=Z.playbackController),Z.streamController&&(B=Z.streamController),Z.videoModel&&(ee=Z.videoModel))},initialize:function(){!function(){X.on(g.Z.WALLCLOCK_TIME_UPDATED,_e,this),X.on(g.Z.INITIAL_STREAM_SWITCH,Y,this),X.on(g.Z.PLAYBACK_SEEKING,ge,this),X.on(g.Z.BUFFER_REPLACEMENT_STARTED,Se,v),X.on(g.Z.TRACK_CHANGE_RENDERED,Ce,v)}()}},V=(0,M.Z)(re).getInstance().getLogger(v),De(),v}Mh.__dashjs_factory_name="GapController";const Zc=C.Z.getSingletonFactory(Mh);function kl(){var v,m,b,D,L,N,A,B,ee,ie,te=this.context,V=(0,S.Z)(te).getInstance();function re(){m=!1;var be=ir.Z.parseUserAgent();b=be&&be.browser&&be.browser.name&&"safari"===be.browser.name.toLowerCase()}function X(){m=!1}function De(be){if(be.streamId===N.getActiveStreamInfo().id&&ee){var I=A.getLiveDelay();A.getBufferLevel()>I/2&&(ee=!1)}}function ge(be){be.streamId===N.getActiveStreamInfo().id&&(ee=be.state===O.Z.BUFFER_EMPTY)}function Se(){B.getCatchupModeEnabled()||D.setPlaybackRate(1)}function Ce(){A.getIsDynamic()&&B.getCatchupModeEnabled()&&(B.getCatchupPlaybackRates().max>0||B.getCatchupPlaybackRates().min<0)&&!A.isPaused()&&!A.isSeeking()&&function(){try{return!(!A.getTime()>0||m)&&(_e()===f.Z.LIVE_CATCHUP_MODE_LOLP?function(be,I){try{return Math.abs(Y())>0||be<I}catch{return!1}}(A.getBufferLevel(),L.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(Y())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!m&&D){var be,I=D.getPlaybackRate(),$=B.getCatchupPlaybackRates(),G=A.getBufferLevel(),Z=Y(),j=B.getCatchupMaxDrift();if(!isNaN(j)&&j>0&&Z>j)ie.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),m=!0,A.seekToCurrentLive(!0,!1);else{var ae=A.getCurrentLiveLatency(),le=A.getLiveDelay();be=_e()===f.Z.LIVE_CATCHUP_MODE_LOLP?function(z,Q,Me,Ve,ze){var Je;if(ze<Ve){var Fe=Math.abs(z.min);Je=1-Fe+2*Fe/(1+Math.pow(Math.E,-5*(ze-Ve))),ie.debug("[LoL+ playback control_buffer-based] bufferLevel: "+ze+", newRate: "+Je)}else{var Ct=z.max;Je=Math.abs(Q-Me)<=.02*Me?1:1-Ct+2*Ct/(1+Math.pow(Math.E,-5*(Q-Me))),ie.debug("[LoL+ playback control_latency-based] latency: "+Q+", newRate: "+Je)}return Je}($,ae,le,L.get().streaming.liveCatchup.playbackBufferMin,G):function(z,Q,Me,Ve){if(ee)return 1;var ze=Q-Me,Je=ze<0?Math.abs(z.min):z.max,Ie=1-Je+2*Je/(1+Math.pow(Math.E,-5*ze));return A.getPlaybackStalled()&&Ve<=Me/2&&ze>0&&(Ie=1),Ie}($,ae,le,G);var ve=b?.25:.02/(.5/$.max);be&&Math.abs(I-be)>=ve&&(ie.debug("[CatchupController]: Setting playback rate to ".concat(be)),D.setPlaybackRate(be))}}}()}function Y(){return A.getCurrentLiveLatency()-A.getLiveDelay()}function _e(){var be=L.get().streaming.liveCatchup.playbackBufferMin;return L.get().streaming.liveCatchup.mode!==f.Z.LIVE_CATCHUP_MODE_LOLP||null===be||isNaN(be)?f.Z.LIVE_CATCHUP_MODE_DEFAULT:f.Z.LIVE_CATCHUP_MODE_LOLP}function fe(){B.getCatchupPlaybackRates(!0)}return v={reset:function(){V.off(p.Z.BUFFER_LEVEL_UPDATED,De,v),V.off(p.Z.BUFFER_LEVEL_STATE_CHANGED,ge,v),V.off(p.Z.PLAYBACK_PROGRESS,Ce,v),V.off(p.Z.PLAYBACK_TIME_UPDATED,Ce,v),V.off(p.Z.PLAYBACK_SEEKED,X,v),V.off(g.Z.SETTING_UPDATED_CATCHUP_ENABLED,Se,v),V.off(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,fe,v),V.off(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,fe,v),V.off(p.Z.STREAM_INITIALIZED,fe,v),re(),D.setPlaybackRate(1,!0)},setConfig:function(be){be&&(be.settings&&(L=be.settings),be.videoModel&&(D=be.videoModel),be.streamController&&(N=be.streamController),be.playbackController&&(A=be.playbackController),be.mediaPlayerModel&&(B=be.mediaPlayerModel))},initialize:function(){V.on(p.Z.BUFFER_LEVEL_UPDATED,De,v),V.on(p.Z.BUFFER_LEVEL_STATE_CHANGED,ge,v),V.on(p.Z.PLAYBACK_PROGRESS,Ce,v),V.on(p.Z.PLAYBACK_TIME_UPDATED,Ce,v),V.on(p.Z.PLAYBACK_SEEKED,X,v),V.on(g.Z.SETTING_UPDATED_CATCHUP_ENABLED,Se,v),V.on(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,fe,v),V.on(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,fe,v),V.on(p.Z.STREAM_INITIALIZED,fe,v),fe()}},ie=(0,M.Z)(te).getInstance().getLogger(v),re(),v}kl.__dashjs_factory_name="CatchupController";const bd=C.Z.getSingletonFactory(kl);var Nh=[f.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME];function zc(){var v,m,b,D,L;function A(){m={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},b=[]}function B(ee,ie,te){try{m[ee][ie]=te/1e3}catch(V){D.error(V)}}return v={getServiceDescriptionSettings:function(){return m},getProducerReferenceTimeOffsets:function(){return b},calculateProducerReferenceTimeOffsets:function(ee){try{var ie=[];if(ee&&ee.length>0){var te=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT],V=L.getAvailabilityStartTime()/1e3;ee.forEach(function(re){var X=te.reduce(function(De,ge){return De.concat(L.getAllMediaInfoForType(re,ge))},[]).reduce(function(De,ge){return L.getProducerReferenceTimes(re,ge).forEach(function(Se){var Ce=L.getVoRepresentations(ge);if(Ce&&Ce.length>0&&Ce[0].adaptation&&Ce[0].segmentInfoType===h.Z.SEGMENT_TEMPLATE){var Y=Ce[0],_e=new Date(Se[h.Z.WALL_CLOCK_TIME]).getTime()/1e3-(Se[h.Z.PRESENTATION_TIME]/Y[h.Z.TIMESCALE]-Y[h.Z.PRESENTATION_TIME_OFFSET]+re.start);De.push({id:Se[h.Z.ID],to:V-_e})}}),De},[]);ie=ie.concat(X)})}b=ie}catch(re){D.error(re),b=[]}},applyServiceDescription:function(ee){if(ee&&ee.serviceDescriptions){var ie=ee.serviceDescriptions.filter(function(re){return Nh.includes(re.schemeIdUri)}),te=ee.serviceDescriptions.filter(function(re){return null==re.schemeIdUri}),V=ie.length>0?ie[ie.length-1]:te[te.length-1];V&&(V.latency&&V.latency.target>0&&function(re){var X,Ce;if(X={liveDelay:(Ce=re).latency.target/1e3,maxDrift:!isNaN(Ce.latency.max)&&Ce.latency.max>Ce.latency.target?(Ce.latency.max-Ce.latency.target+500)/1e3:NaN,referenceId:Ce.latency.referenceId||NaN},b.length>0){var De=function(Ce){var Y,_e=0,fe=b.filter(function(be){return be.id===Ce.referenceId});return 0===fe.length?(_e=b.length>0?b[0].to:0,Y=b[0].id||NaN):(_e=fe[0].to||0,Y=fe[0].id||NaN),{to:_e,id:Y}}(X),ge=De.to,Se=De.id;m.liveDelay=X.liveDelay-ge,m.liveCatchup.maxDrift=X.maxDrift,D.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ge," from ProducerReferenceTime element with id ").concat(Se,".\n                Live Delay: ").concat(X.liveDelay-ge,", Live catchup max drift: ").concat(X.maxDrift,"\n            "))}else m.liveDelay=X.liveDelay,m.liveCatchup.maxDrift=X.maxDrift,D.debug("Found latency properties coming from service description: Live Delay: ".concat(X.liveDelay,", Live catchup max drift: ").concat(X.maxDrift))}(V),V.playbackRate&&(X=(re=V).playbackRate.min?Math.round(1e3*(re.playbackRate.min-1))/1e3:NaN,De=re.playbackRate.max?Math.round(1e3*(re.playbackRate.max-1))/1e3:NaN,m.liveCatchup.playbackRate.min=X,m.liveCatchup.playbackRate.max=De,D.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(X)),D.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(De))),V.operatingBandwidth&&function(re){if(re&&re.operatingBandwidth&&re.operatingBandwidth.mediaType&&"all"!==re.operatingBandwidth.mediaType){var X={};X.minBandwidth=re.operatingBandwidth.min,X.maxBandwidth=re.operatingBandwidth.max,X.targetBandwidth=re.operatingBandwidth.target;var De=[];"video"===re.operatingBandwidth.mediaType||"audio"===re.operatingBandwidth.mediaType?De.push(re.operatingBandwidth.mediaType):"any"===re.operatingBandwidth.mediaType&&(De.push("audio"),De.push("video")),De.forEach(function(ge){isNaN(X.minBandwidth)||B("minBitrate",ge,X.minBandwidth),isNaN(X.maxBandwidth)||B("maxBitrate",ge,X.maxBandwidth),isNaN(X.targetBandwidth)||B("initialBitrate",ge,X.targetBandwidth)})}}(V),V.contentSteering&&function(re){m.contentSteering=re.contentSteering}(V))}var re,X,De},reset:function(){A()},setConfig:function(ee){ee&&ee.adapter&&(L=ee.adapter)}},D=(0,M.Z)(this.context).getInstance().getLogger(v),A(),v}zc.__dashjs_factory_name="ServiceDescriptionController";const Ph=C.Z.getSingletonFactory(zc);var vo=F(3973),Ll=F.n(vo),Jg=F(3039);function Gr(){var v,m,b,D,L,N,A,B,ee=this.context,ie=(0,S.Z)(ee).getInstance();function te(z,Q){return z&&b[Q]&&b[Q][z]?b[Q][z].list:[]}function V(z,Q){return z&&b[Q]&&b[Q][z]?b[Q][z].current:null}function re(z){var Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(z&&z.streamInfo){var Me=z.type,ze=z.streamInfo.id,Je=V(Me,ze);if(b[ze]&&b[ze][Me]&&(b[ze][Me].current=z,b[ze][Me].current&&(Me!==f.Z.TEXT&&!ge(z,Je)||Me===f.Z.TEXT&&z.isFragmented)&&ie.trigger(g.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Je,newMediaInfo:z,switchMode:D.get().streaming.trackSwitchMode[Me]},{streamId:ze}),!Q)){var Fe=function Ce(z){var Q={lang:z.lang,viewpoint:z.viewpoint,roles:z.roles,accessibility:z.accessibility,audioChannelConfiguration:z.audioChannelConfiguration};return Q.lang||Q.viewpoint||Q.role&&Q.role.length>0||Q.accessibility&&Q.accessibility.length>0||Q.audioChannelConfiguration&&Q.audioChannelConfiguration.length>0?Q:null}(z);if(!Fe||!b[ze][Me].storeLastSettings)return;Fe.roles&&(Fe.role=Fe.roles[0],delete Fe.roles),Fe.accessibility&&(Fe.accessibility=Fe.accessibility[0]),Fe.audioChannelConfiguration&&(Fe.audioChannelConfiguration=Fe.audioChannelConfiguration[0]),N[Me]=Fe,B.setSavedMediaSettings(Me,Fe)}}}function X(z,Q){z&&Q&&(L[z]=Q)}function De(z){return z?L[z]:null}function ge(z,Q){if(!z&&!Q)return!0;if(!z||!Q)return!1;var Me=z.id===Q.id,Ve=z.viewpoint===Q.viewpoint,ze=JSON.stringify(z.viewpointsWithSchemeIdUri)===JSON.stringify(Q.viewpointsWithSchemeIdUri),Je=z.lang===Q.lang,Fe=z.codec===Q.codec,Ie=z.roles.toString()===Q.roles.toString(),Ct=JSON.stringify(z.rolesWithSchemeIdUri)===JSON.stringify(Q.rolesWithSchemeIdUri),ht=z.accessibility.toString()===Q.accessibility.toString(),bt=JSON.stringify(z.accessibilitiesWithSchemeIdUri)===JSON.stringify(Q.accessibilitiesWithSchemeIdUri),Ft=z.audioChannelConfiguration.toString()===Q.audioChannelConfiguration.toString(),sn=JSON.stringify(z.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(Q.audioChannelConfigurationsWithSchemeIdUri);return Me&&Fe&&Ve&&ze&&Je&&Ie&&Ct&&ht&&bt&&Ft&&sn}function Se(){b={},N={},L={audio:null,video:null,text:null}}function Y(z,Q,Me){var Ve=[];return z.forEach(function(ze){Q(Me,ze)&&Ve.push(ze)}),0!==Ve.length?Ve:z}function _e(z,Q){return!z.lang||z.lang instanceof RegExp?Q.lang.match(z.lang):""!==Q.lang&&(0,Jg.extendedFilter)(Q.lang,Ll()(z.lang)).length>0}function fe(z,Q){return null==z.index||Q.index===z.index}function be(z,Q){return!z.viewpoint||z.viewpoint===Q.viewpoint}function I(z,Q){var Me=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!z.role||!!Q.roles.filter(function(ze){return ze===z.role})[0]||Q.type===f.Z.AUDIO&&Me}function $(z,Q){return z.accessibility?!!Q.accessibility.filter(function(Me){return Me===z.accessibility})[0]:!Q.accessibility.length}function G(z,Q){return!z.audioChannelConfiguration||!!Q.audioChannelConfiguration.filter(function(Me){return Me===z.audioChannelConfiguration})[0]}function Z(z){var Q,Me=0,Ve=[];return z.forEach(function(ze){(Q=Math.max.apply(Math,ze.bitrateList.map(function(Je){return Je.bandwidth})))>Me?(Me=Q,Ve=[ze]):Q===Me&&Ve.push(ze)}),Ve}function j(z){var Q,Me=1/0,Ve=[];return z.forEach(function(ze){var Je=ze.bitrateList.reduce(function(Fe,Ie){var Ct=Math.max(1,Ie.width*Ie.height);return Fe+Ie.bandwidth/Ct},0);(Q=Je/ze.bitrateList.length)<Me?(Me=Q,Ve=[ze]):Q===Me&&Ve.push(ze)}),Ve}function ae(z){var Q,Me=0,Ve=[];return z.forEach(function(ze){(Q=ze.representationCount)>Me?(Me=Q,Ve=[ze]):Q===Me&&Ve.push(ze)}),Ve}function le(z,Q){if(z===f.Z.TEXT)return Q[0];var Me,Fe,Ie,Ct,Ve=D.get().streaming.selectionModeForInitialTrack,ze=A.getCustomInitialTrackSelectionFunction();if(ze&&"function"==typeof ze)Me=ze(Q);else switch(Ve){case f.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Fe=0,Ie=[],Q.forEach(function(ht){isNaN(ht.selectionPriority)||(ht.selectionPriority>Fe?(Fe=ht.selectionPriority,Ie=[ht]):ht.selectionPriority===Fe&&Ie.push(ht))}),(Ct=Ie).length>1&&(Ct=Z(Ct)),Ct.length>1&&(Ct=ae(Ct)),Me=Ct;break;case f.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Me=function(Je){var Fe=Z(Je);return Fe.length>1&&(Fe=ae(Fe)),Fe}(Q);break;case f.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Me=ve(Q);break;case f.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Me=function(Je){var Fe=j(Je);return Fe.length>1&&(Fe=Z(Fe)),Fe}(Q);break;case f.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Me=function(Je){var Fe=ae(Je);return Fe.length>1&&(Fe=Z(Je)),Fe}(Q);break;default:m.warn("Track selection mode ".concat(Ve," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Me=ve(Q)}return Me.length>0?Me[0]:Q[0]}function ve(z){return z[0]}return v={setInitialMediaSettingsForType:function(z,Q){var Me=N[z]||De(z),Ve=te(z,Q.id),ze=[];Me||X(z,Me=B.getSavedMediaSettings(z)),Ve&&0!==Ve.length&&(Me&&(ze=Y(ze=Array.from(Ve),_e,Me),ze=Y(ze,fe,Me),ze=Y(ze,be,Me),z===f.Z.AUDIO&&N[z]||(ze=Y(ze,I,Me)),ze=Y(ze,$,Me),ze=Y(ze,G,Me)),0===ze.length?re(le(z,Ve),!0):re(ze.length>1?le(z,ze):ze[0]))},addTrack:function(z){if(z){var Q=z.type;if((Me=Q)===f.Z.AUDIO||Me===f.Z.VIDEO||Me===f.Z.TEXT||Me===f.Z.IMAGE){var Me,Ve=z.streamInfo.id;b[Ve]||(b[Ve]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ze=b[Ve][Q].list,Je=0,Fe=ze.length;Je<Fe;++Je)if(ge(ze[Je],z))return;ze.push(z)}}},getTracksFor:te,getCurrentTrackFor:V,isCurrentTrack:function(z){if(!z)return!1;var Q=z.type,Me=z.streamInfo.id;return b[Me]&&b[Me][Q]&&ge(b[Me][Q].current,z)},setTrack:re,selectInitialTrack:le,setInitialSettings:X,getInitialSettings:De,getTracksWithHighestBitrate:Z,getTracksWithHighestEfficiency:j,getTracksWithWidestRange:ae,isTracksEqual:ge,matchSettings:function(z,Q){var Me=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Ve=!1;if(z.lang){if(z.lang instanceof RegExp)Ve=Q.lang.match(z.lang);else if(""!==Q.lang){var ze=Ll()(z.lang);ze&&(Ve=(0,Jg.extendedFilter)(Q.lang,ze).length>0)}}else Ve=!0;var Je=null==z.index||Q.index===z.index,Fe=!z.viewpoint||z.viewpoint===Q.viewpoint,Ie=!z.role||!!Q.roles.filter(function(bt){return bt===z.role})[0],Ct=!z.accessibility||!!Q.accessibility.filter(function(bt){return bt===z.accessibility})[0],ht=!z.audioChannelConfiguration||!!Q.audioChannelConfiguration.filter(function(bt){return bt===z.audioChannelConfiguration})[0];return Ve&&Je&&Fe&&(Ie||Q.type===f.Z.AUDIO&&Me)&&Ct&&ht}catch{return!1}},matchSettingsLang:_e,matchSettingsIndex:fe,matchSettingsViewPoint:be,matchSettingsRole:I,matchSettingsAccessibility:$,matchSettingsAudioChannelConfig:G,saveTextSettingsDisabled:function(){B.setSavedMediaSettings(f.Z.TEXT,null)},setConfig:function(z){z&&(z.domStorage&&(B=z.domStorage),z.settings&&(D=z.settings),z.customParametersModel&&(A=z.customParametersModel))},reset:Se},m=(0,M.Z)(ee).getInstance().getLogger(v),Se(),v}Gr.__dashjs_factory_name="MediaController";var e_=C.Z.getSingletonFactory(Gr);C.Z.updateSingletonFactory(Gr.__dashjs_factory_name,e_);const I0=e_;var Gc=function v(m,b){(function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this.data={baseUrls:m||null,selectedIdx:b||NaN},this.children=[]};function Ed(){var v,m,b,D,N=tn(this.context).getInstance();function A(te,V,re){var X=B(re);te[V]?N.areEqual(X,te[V].data.baseUrls)||(te[V].data.baseUrls=X,te[V].data.selectedIdx=NaN):te[V]=new Gc(X)}function B(te){var V=b.getBaseURLsFromElement(te),re=D.getSynthesizedBaseUrlElements(V);return re&&re.length>0&&(V=V.concat(re)),V}function ee(te,V){var re=V||m;te(re.data),re.children&&re.children.forEach(function(X){return ee(te,X)})}function ie(){m=new Gc}return v={reset:ie,update:function(te){!function(V){!function(){if(!b||!b.hasOwnProperty("getBaseURLsFromElement")||!b.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var re=B(V);N.areEqual(re,m.data.baseUrls)||(m.data.baseUrls=re,m.data.selectedIdx=NaN),V&&V.Period_asArray&&V.Period_asArray.forEach(function(X,De){A(m.children,De,X),X.AdaptationSet_asArray&&X.AdaptationSet_asArray.forEach(function(ge,Se){A(m.children[De].children,Se,ge),ge.Representation_asArray&&ge.Representation_asArray.sort(b.getRepresentationSortFunction()).forEach(function(Ce,Y){A(m.children[De].children[Se].children,Y,Ce)})})})}(te)},getForPath:function(te){var V=m,re=[V.data];return te&&te.forEach(function(X){(V=V.children[X])&&re.push(V.data)}),re.filter(function(X){return X.baseUrls.length})},invalidateSelectedIndexes:function(te){ee(function(V){isNaN(V.selectedIdx)||te===V.baseUrls[V.selectedIdx].serviceLocation&&(V.selectedIdx=NaN)})},setConfig:function(te){te.adapter&&(b=te.adapter),te.contentSteeringController&&(D=te.contentSteeringController)},getBaseUrls:function(te){return B(te)}},ie(),v}Ed.__dashjs_factory_name="BaseURLTreeModel";const wd=C.Z.getClassFactory(Ed);function kh(v){var m=(v=v||{}).blacklistController;return{select:function(b){return b&&function(L){var N,A,B=0,ee=[],ie=0;if((A=L.sort(function(te,V){var re=te.dvb_priority-V.dvb_priority;return isNaN(re)?0:re}).filter(function(te,V,re){return!V||re[0].dvb_priority&&te.dvb_priority&&re[0].dvb_priority===te.dvb_priority})).length)return A.length>1&&(A.forEach(function(te){ee.push(B+=te.dvb_weight)}),N=Math.floor(Math.random()*(B-1)),ee.every(function(te,V){return ie=V,!(N<te)})),A[ie]}((D=[],b.filter(function(L){return!m.contains(L.serviceLocation)||(L.dvb_priority&&D.push(L.dvb_priority),!1)}).filter(function(L){return!D.length||!L.dvb_priority||-1===D.indexOf(L.dvb_priority)})));var D}}}kh.__dashjs_factory_name="DVBSelector";const Td=C.Z.getClassFactory(kh);function t_(v){var m=(v=v||{}).blacklistController;return{select:function(b){var D,L=0;return b&&b.some(function(N,A){return L=A,!m.contains(N.serviceLocation)})&&(D=b[L]),D}}}t_.__dashjs_factory_name="BasicSelector";const D0=C.Z.getClassFactory(t_);function n_(){var v,m,b;function L(){for(var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],B=0,ee=NaN,ie=function(){var V=N[B],re=A.findIndex(function(X){return X.serviceLocation&&X.serviceLocation===V});if(-1!==re&&!b.contains(A[re].serviceLocation))return ee=re,"break";B+=1};B<N.length&&"break"!==ie(););return ee}return v={selectBaseUrlIndex:function(N){var A=NaN;if(isNaN(N.selectedIdx)){var B=m.getSteeringDataFromManifest();B&&B.defaultServiceLocationArray.length>0&&(A=L(B.defaultServiceLocationArray,N.baseUrls))}var ee=m.getCurrentSteeringResponseData();return N.baseUrls&&N.baseUrls.length&&ee&&ee.pathwayPriority&&ee.pathwayPriority.length&&(A=L(ee.pathwayPriority,N.baseUrls)),A},setConfig:function(N){N.blacklistController&&(b=N.blacklistController),N.contentSteeringController&&(m=N.contentSteeringController)}},m=Ra(this.context).getInstance(),v}n_.__dashjs_factory_name="ContentSteeringSelector";const x0=C.Z.getClassFactory(n_);function r_(){var v,m,b,D,L,N,A=this.context,B=(0,S.Z)(A).getInstance(),ee=(0,Nt.Z)(A).getInstance();function ie(){m.reset()}return v={chooseSelector:function(te){(0,ue.PS)(te,"boolean"),N=te?D:b},select:function(te){if(te){if(ee.get().streaming.applyContentSteering){var V=L.selectBaseUrlIndex(te);isNaN(V)||-1===V||(te.selectedIdx=V)}if(!isNaN(te.selectedIdx))return te.baseUrls[te.selectedIdx];var re=N.select(te.baseUrls);return re?(te.selectedIdx=te.baseUrls.indexOf(re),re):(B.trigger(g.Z.URL_RESOLUTION_FAILED,{error:new K.Z(pe.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,pe.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===b&&ie()))}},reset:ie,setConfig:function(te){te.selector&&(N=te.selector),te.contentSteeringSelector&&(L=te.contentSteeringSelector)}},m=Hc(A).create({updateEventName:g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),b=D0(A).create({blacklistController:m}),D=Td(A).create({blacklistController:m}),(L=x0(A).create()).setConfig({blacklistController:m}),N=b,v}r_.__dashjs_factory_name="BaseURLSelector";const Fl=C.Z.getClassFactory(r_);function qc(){var v,m,b,D,L,N=this.context,A=(0,S.Z)(N).getInstance(),B=(0,Ye.Z)(N).getInstance();function ee(te){b.update(te),D.chooseSelector(m.getIsDVB(te)),A.trigger(p.Z.BASE_URLS_UPDATED,{baseUrls:ie(te)})}function ie(te){return b.getBaseUrls(te)}return v={reset:function(){b.reset(),D.reset()},initialize:function(te){b.setConfig({adapter:m,contentSteeringController:L}),ee(te)},resolve:function(te){var V=b.getForPath(te).reduce(function(re,X){var De=D.select(X);return De?(B.isRelative(De.url)?re.url=B.resolve(De.url,re.url):(re.url=De.url,re.serviceLocation=De.serviceLocation),re.availabilityTimeOffset=De.availabilityTimeOffset,re.availabilityTimeComplete=De.availabilityTimeComplete,re.queryParams=De.queryParams,re):new Ao},new Ao);if(!B.isRelative(V.url))return V},setConfig:function(te){te.baseURLTreeModel&&(b=te.baseURLTreeModel),te.baseURLSelector&&(D=te.baseURLSelector),te.adapter&&(m=te.adapter),te.contentSteeringController&&(L=te.contentSteeringController)},getBaseUrls:ie,update:ee},b=wd(N).create(),D=Fl(N).create(),A.on(g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(te){b.invalidateSelectedIndexes(te.entry)},v),v}qc.__dashjs_factory_name="BaseURLController";const Yc=C.Z.getClassFactory(qc);function Sd(v){return(Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Cd(v,m){return(Cd=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Bl(v){return(Bl=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const Ma=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Cd(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Bl(m);if(b){var B=Bl(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function i_(v,m){return!m||"object"!==Sd(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(N,A){var B;return function(ee,ie){if(!(ee instanceof ie))throw new TypeError("Cannot call a class as a function")}(this,L),(B=D.call(this)).url=N||null,B.type=A||null,B.mediaType=f.Z.STREAM,B.responseType="",B}return L}(q.Z);function Lh(v){v=v||{};var m=this.context,b=(0,S.Z)(m).getInstance(),D=Mr(m).create({errHandler:v.errHandler,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,errors:pe});return{load:function(L,N,A){var B=function(ie,te){N.resolved=!0,N.resolvedContent=ie||null,b.trigger(g.Z.XLINK_ELEMENT_LOADED,{element:N,resolveObject:A,error:ie||te?null:new K.Z(pe.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,pe.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+L)})};if("urn:mpeg:dash:resolve-to-zero:2013"===L)B(null,!0);else{var ee=new Ma(L,He.w.XLINK_EXPANSION_TYPE);D.load({request:ee,success:function(ie){B(ie)},error:function(){B(null)}})}},reset:function(){D&&(D.abort(),D=null)}}}Lh.__dashjs_factory_name="XlinkLoader";const oa=C.Z.getClassFactory(Lh),Fh=function(v){function m(Y){var _e=Y.localName;return null==_e&&(_e=Y.baseName),null!=_e&&""!=_e||(_e=Y.nodeName),_e}function b(Y){return"string"==typeof Y?Y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):Y}function D(Y,_e,fe,be){for(var I=0;I<Y.length;I++){var $=Y[I];if("string"==typeof $){if($==be)break}else if($ instanceof RegExp){if($.test(be))break}else if("function"==typeof $&&$(_e,fe,be))break}return I!=Y.length}function L(Y,_e,fe){"property"===v.arrayAccessForm&&(Y[_e+"_asArray"]=Y[_e]instanceof Array?Y[_e]:[Y[_e]]),!(Y[_e]instanceof Array)&&v.arrayAccessFormPaths.length>0&&D(v.arrayAccessFormPaths,Y,_e,fe)&&(Y[_e]=[Y[_e]])}function N(Y){var _e=Y.split(/[-T:+Z]/g),fe=new Date(_e[0],_e[1]-1,_e[2]),be=_e[5].split(".");if(fe.setHours(_e[3],_e[4],be[0]),be.length>1&&fe.setMilliseconds(be[1]),_e[6]&&_e[7]){var I=60*_e[6]+Number(_e[7]);I=0+("-"==(/\d\d-\d\d:\d\d$/.test(Y)?"-":"+")?-1*I:I),fe.setMinutes(fe.getMinutes()-I-fe.getTimezoneOffset())}else-1!==Y.indexOf("Z",Y.length-1)&&(fe=new Date(Date.UTC(fe.getFullYear(),fe.getMonth(),fe.getDate(),fe.getHours(),fe.getMinutes(),fe.getSeconds(),fe.getMilliseconds())));return fe}function A(Y,_e,fe,be){return!(1==_e&&v.xmlElementsFilter.length>0)||D(v.xmlElementsFilter,Y,fe,be)}function B(Y,_e){if(9==Y.nodeType){for(var fe=new Object,be=Y.childNodes,I=0;I<be.length;I++)1==(G=be[I]).nodeType&&(v.ignoreRoot?fe=B(G):(fe={})[Z=m(G)]=B(G));return fe}if(1==Y.nodeType){(fe=new Object).__cnt=0;var $=[];for(be=Y.childNodes,I=0;I<be.length;I++){var G,Z=m(G=be[I]);if(8!=G.nodeType){var j=_e+"."+Z;if(A(fe,G.nodeType,Z,j))if(fe.__cnt++,null==fe[Z]){var ae=B(G,j);("#text"!=Z||/[^\s]/.test(ae))&&((le={})[Z]=ae,$.push(le)),fe[Z]=ae,L(fe,Z,j)}else{var le;null!=fe[Z]&&(fe[Z]instanceof Array||(fe[Z]=[fe[Z]],L(fe,Z,j))),ae=B(G,j),("#text"!=Z||/[^\s]/.test(ae))&&((le={})[Z]=ae,$.push(le)),fe[Z][fe[Z].length]=ae}}}fe.__children=$;for(var ve=m(Y),z=0;z<Y.attributes.length;z++){var Q=Y.attributes[z];fe.__cnt++;for(var Me=Q.value,Ve=0,ze=v.matchers.length;Ve<ze;Ve++){var Je=v.matchers[Ve];Je.test(Q,ve)&&(Me=Je.converter(Q.value))}fe[v.attributePrefix+Q.name]=Me}var Fe=Y.prefix;return null!=Fe&&""!=Fe&&(fe.__cnt++,fe.__prefix=Fe),null!=fe["#text"]&&(fe.__text=fe["#text"],fe.__text instanceof Array&&(fe.__text=fe.__text.join("\n")),v.stripWhitespaces&&(fe.__text=fe.__text.trim()),delete fe["#text"],"property"==v.arrayAccessForm&&delete fe["#text_asArray"],fe.__text=function(Ie,Ct,ht){if(v.datetimeAccessFormPaths.length>0){var bt=ht.split(".#")[0];return D(v.datetimeAccessFormPaths,Ie,Ct,bt)?N(Ie):Ie}return Ie}(fe.__text,Z,_e+"."+Z)),null!=fe["#cdata-section"]&&(fe.__cdata=fe["#cdata-section"],delete fe["#cdata-section"],"property"==v.arrayAccessForm&&delete fe["#cdata-section_asArray"]),0==fe.__cnt&&"text"==v.emptyNodeForm?fe="":1==fe.__cnt&&null!=fe.__text?fe=fe.__text:1!=fe.__cnt||null==fe.__cdata||v.keepCData?fe.__cnt>1&&null!=fe.__text&&v.skipEmptyTextNodesForObj&&(v.stripWhitespaces&&""==fe.__text||""==fe.__text.trim())&&delete fe.__text:fe=fe.__cdata,delete fe.__cnt,!v.enableToStringFunc||null==fe.__text&&null==fe.__cdata||(fe.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),fe}if(3==Y.nodeType||4==Y.nodeType)return Y.nodeValue}function ee(Y,_e,fe,be){var I="<"+(null!=Y&&null!=Y.__prefix?Y.__prefix+":":"")+_e;if(null!=fe)for(var $=0;$<fe.length;$++){var G=fe[$],Z=Y[G];v.escapeMode&&(Z=b(Z)),I+=" "+G.substr(v.attributePrefix.length)+"=",I+=v.useDoubleQuotes?'"'+Z+'"':"'"+Z+"'"}return I+(be?"/>":">")}function ie(Y,_e){return"</"+(null!=Y.__prefix?Y.__prefix+":":"")+_e+">"}function te(Y,_e){return"property"==v.arrayAccessForm&&-1!==(fe=_e.toString()).indexOf("_asArray",fe.length-8)||0==_e.toString().indexOf(v.attributePrefix)||0==_e.toString().indexOf("__")||Y[_e]instanceof Function;var fe}function V(Y){var _e=0;if(Y instanceof Object)for(var fe in Y)te(Y,fe)||_e++;return _e}function re(Y,_e,fe){return 0==v.jsonPropertiesFilter.length||""==fe||D(v.jsonPropertiesFilter,Y,_e,fe)}function X(Y){var _e=[];if(Y instanceof Object)for(var fe in Y)-1==fe.toString().indexOf("__")&&0==fe.toString().indexOf(v.attributePrefix)&&_e.push(fe);return _e}function De(Y){var fe,be,_e="";return Y instanceof Object?_e+=(be="",null!=(fe=Y).__cdata&&(be+="<![CDATA["+fe.__cdata+"]]>"),null!=fe.__text&&(be+=v.escapeMode?b(fe.__text):fe.__text),be):null!=Y&&(_e+=v.escapeMode?b(Y):Y),_e}function ge(Y,_e){return""===Y?_e:Y+"."+_e}function Se(Y,_e,fe,be){var I="";if(0==Y.length)I+=ee(Y,_e,fe,!0);else for(var $=0;$<Y.length;$++)I+=ee(Y[$],_e,X(Y[$]),!1),I+=Ce(Y[$],ge(be,_e)),I+=ie(Y[$],_e);return I}function Ce(Y,_e){var fe="";if(V(Y)>0)for(var be in Y)if(!te(Y,be)&&(""==_e||re(Y,be,ge(_e,be)))){var I=Y[be],$=X(I);null==I||null==I?fe+=ee(I,be,$,!0):I instanceof Object?I instanceof Array?fe+=Se(I,be,$,_e):I instanceof Date?(fe+=ee(I,be,$,!1),fe+=I.toISOString(),fe+=ie(I,be)):V(I)>0||null!=I.__text||null!=I.__cdata?(fe+=ee(I,be,$,!1),fe+=Ce(I,ge(_e,be)),fe+=ie(I,be)):fe+=ee(I,be,$,!0):(fe+=ee(I,be,$,!1),fe+=De(I),fe+=ie(I,be))}return fe+De(Y)}void 0===(v=v||{}).escapeMode&&(v.escapeMode=!0),void 0===v.attributePrefix&&(v.attributePrefix="_"),v.arrayAccessForm=v.arrayAccessForm||"none",v.emptyNodeForm=v.emptyNodeForm||"text",void 0===v.enableToStringFunc&&(v.enableToStringFunc=!0),v.arrayAccessFormPaths=v.arrayAccessFormPaths||[],void 0===v.skipEmptyTextNodesForObj&&(v.skipEmptyTextNodesForObj=!0),void 0===v.stripWhitespaces&&(v.stripWhitespaces=!0),v.datetimeAccessFormPaths=v.datetimeAccessFormPaths||[],void 0===v.useDoubleQuotes&&(v.useDoubleQuotes=!1),v.xmlElementsFilter=v.xmlElementsFilter||[],v.jsonPropertiesFilter=v.jsonPropertiesFilter||[],void 0===v.keepCData&&(v.keepCData=!1),void 0===v.ignoreRoot&&(v.ignoreRoot=!1),this.parseXmlString=function(Y){var _e;if(window,void 0===Y)return null;if(window.DOMParser){var fe=new window.DOMParser;try{(_e=fe.parseFromString(Y,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(_e=null)}catch{_e=null}}else 0==Y.indexOf("<?")&&(Y=Y.substr(Y.indexOf("?>")+2)),(_e=new ActiveXObject("Microsoft.XMLDOM")).async="false",_e.loadXML(Y);return _e},this.asArray=function(Y){return void 0===Y||null==Y?[]:Y instanceof Array?Y:[Y]},this.toXmlDateTime=function(Y){return Y instanceof Date?Y.toISOString():"number"==typeof Y?new Date(Y).toISOString():null},this.asDateTime=function(Y){return"string"==typeof Y?N(Y):Y},this.xml2json=function(Y){return B(Y)},this.xml_str2json=function(Y){var _e=this.parseXmlString(Y);return null!=_e?this.xml2json(_e):null},this.json2xml_str=function(Y){return Ce(Y,"")},this.json2xml=function(Y){var _e=this.json2xml_str(Y);return this.parseXmlString(_e)},this.getVersion=function(){return"1.2.0"}};var Wt="onLoad";function Ad(v){v=v||{};var m,b,D,L,N,A,B=this.context,ee=(0,S.Z)(B).getInstance(),ie=(0,Ye.Z)(B).getInstance();function te(ge,Se,Ce){var Y,_e,fe={};fe.elements=ge,fe.type=Se,fe.resolveType=Ce,0===fe.elements.length&&re(fe);for(var be=0;be<fe.elements.length;be++)_e=ie.isHTTPURL((Y=fe.elements[be]).url)?Y.url:Y.originalContent.BaseURL+Y.url,A.load(_e,Y,fe)}function V(ge){var Se,Ce,Y="";if(Ce=ge.resolveObject,(Se=ge.element).resolvedContent){var _e=0;0===Se.resolvedContent.indexOf("<?xml")&&(_e=Se.resolvedContent.indexOf("?>")+2),Y=Se.resolvedContent.substr(0,_e)+"<response>"+Se.resolvedContent.substr(_e)+"</response>",Se.resolvedContent=N.xml_str2json(Y)}(function(fe){var be;for(be=0;be<fe.elements.length;be++)if(!1===fe.elements[be].resolved)return!1;return!0})(Ce)&&re(Ce)}function re(ge){var Se,Ce,Y=[];if(function(_e){var fe,be,$,G,Z,j=[];for($=_e.elements.length-1;$>=0;$--){if(be=(fe=_e.elements[$]).type+"_asArray",fe.resolvedContent){if(fe.resolvedContent)for(G=0;G<fe.resolvedContent[be].length;G++)j.push(fe.resolvedContent[be][G])}else delete fe.originalContent["xlink:actuate"],delete fe.originalContent["xlink:href"],j.push(fe.originalContent);for(fe.parentElement[be].splice(fe.index,1),Z=0;Z<j.length;Z++)fe.parentElement[be].splice(fe.index+Z,0,j[Z]);j=[]}_e.elements.length>0&&D.run(L)}(ge),"onActuate"===ge.resolveType&&ee.trigger(g.Z.XLINK_READY,{manifest:L}),ge.resolveType===Wt)switch(ge.type){case h.Z.PERIOD:for(Se=0;Se<L[h.Z.PERIOD+"_asArray"].length;Se++)(Ce=L[h.Z.PERIOD+"_asArray"][Se]).hasOwnProperty(h.Z.ADAPTATION_SET+"_asArray")&&(Y=Y.concat(X(Ce[h.Z.ADAPTATION_SET+"_asArray"],Ce,h.Z.ADAPTATION_SET,Wt))),Ce.hasOwnProperty(h.Z.EVENT_STREAM+"_asArray")&&(Y=Y.concat(X(Ce[h.Z.EVENT_STREAM+"_asArray"],Ce,h.Z.EVENT_STREAM,Wt)));te(Y,h.Z.ADAPTATION_SET,Wt);break;case h.Z.ADAPTATION_SET:ee.trigger(g.Z.XLINK_READY,{manifest:L})}}function X(ge,Se,Ce,Y){var _e,fe,be,I=[];for(fe=ge.length-1;fe>=0;fe--)(_e=ge[fe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===_e["xlink:href"]&&ge.splice(fe,1);for(fe=0;fe<ge.length;fe++)(_e=ge[fe]).hasOwnProperty("xlink:href")&&_e.hasOwnProperty("xlink:actuate")&&_e["xlink:actuate"]===Y&&(be=De(_e["xlink:href"],Se,Ce,fe,Y,_e),I.push(be));return I}function De(ge,Se,Ce,Y,_e,fe){return{url:ge,parentElement:Se,type:Ce,index:Y,resolveType:_e,originalContent:fe,resolvedContent:null,resolved:!1}}return m={resolveManifestOnLoad:function(ge){N=new Fh({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:b}),(L=ge).Period_asArray?te(X(L.Period_asArray,L,h.Z.PERIOD,Wt),h.Z.PERIOD,Wt):ee.trigger(g.Z.XLINK_READY,{manifest:L})},setMatchers:function(ge){ge&&(b=ge)},setIron:function(ge){ge&&(D=ge)},reset:function(){ee.off(g.Z.XLINK_ELEMENT_LOADED,V,m),A&&(A.reset(),A=null)}},ee.on(g.Z.XLINK_ELEMENT_LOADED,V,m),A=oa(B).create({errHandler:v.errHandler,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,settings:v.settings}),m}Ad.__dashjs_factory_name="XlinkController";const $t=C.Z.getClassFactory(Ad);function sa(v){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function $c(v){function m(L,N){for(var A in L)N.hasOwnProperty(A)||(N[A]=L[A])}function b(L,N,A){for(var B=0,ee=L.length;B<ee;++B){var ie=L[B];if(N[ie.name])if(A[ie.name]){if(ie.merge){var te=N[ie.name],V=A[ie.name];"object"===sa(te)&&"object"===sa(V)?m(te,V):A[ie.name]=te+V}}else A[ie.name]=N[ie.name]}}function D(L,N){for(var A=0,B=L.children.length;A<B;++A){var ee=L.children[A],ie=N[ee.name+"_asArray"];if(ie)for(var te=0,V=ie.length;te<V;++te){var re=ie[te];b(L.properties,N,re),D(ee,re)}}}return{run:function(L){if(null===L||"object"!==sa(L))return L;if(L.Period_asArray&&"period"in v)for(var N=v.period,A=L.Period_asArray,B=0,ee=A.length;B<ee;++B){var ie=A[B];if(D(N,ie),"adaptationset"in v){var te=ie.AdaptationSet_asArray;if(te)for(var V=v.adaptationset,re=0,X=te.length;re<X;++re)D(V,te[re])}}return L}}}$c.__dashjs_factory_name="ObjectIron";const Ul=C.Z.getClassFactory($c),Vl=function(){function v(D,L){(function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this._test=D,this._converter=L}var b;return(b=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&function o_(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}();function Id(v){return(Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function xr(v,m,b){return m in v?Object.defineProperty(v,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[m]=b,v}function el(v,m){return(el=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Do(v){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const Ur=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&el(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Do(m);if(b){var B=Do(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function Go(v,m){return!m||"object"!==Id(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N,A){var B,ee=(xr(B={},h.Z.MPD,[h.Z.ID,h.Z.PROFILES]),xr(B,h.Z.PERIOD,[h.Z.ID]),xr(B,h.Z.BASE_URL,[h.Z.SERVICE_LOCATION,h.Z.BYTE_RANGE]),xr(B,h.Z.SEGMENT_BASE,[h.Z.INDEX_RANGE]),xr(B,h.Z.INITIALIZATION,[h.Z.RANGE]),xr(B,h.Z.REPRESENTATION_INDEX,[h.Z.RANGE]),xr(B,h.Z.SEGMENT_LIST,[h.Z.INDEX_RANGE]),xr(B,h.Z.BITSTREAM_SWITCHING,[h.Z.RANGE]),xr(B,h.Z.SEGMENT_URL,[h.Z.MEDIA_RANGE,h.Z.INDEX_RANGE]),xr(B,h.Z.SEGMENT_TEMPLATE,[h.Z.INDEX_RANGE,h.Z.MEDIA,h.Z.INDEX,h.Z.INITIALIZATION_MINUS,h.Z.BITSTREAM_SWITCHING_MINUS]),xr(B,h.Z.ASSET_IDENTIFIER,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.EVENT_STREAM,[h.Z.VALUE]),xr(B,h.Z.ADAPTATION_SET,[h.Z.PROFILES,h.Z.MIME_TYPE,h.Z.SEGMENT_PROFILES,h.Z.CODECS,h.Z.CONTENT_TYPE]),xr(B,h.Z.FRAME_PACKING,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.AUDIO_CHANNEL_CONFIGURATION,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.CONTENT_PROTECTION,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.ESSENTIAL_PROPERTY,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.SUPPLEMENTAL_PROPERTY,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.INBAND_EVENT_STREAM,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.ACCESSIBILITY,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.ROLE,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.RATING,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.VIEWPOINT,[h.Z.VALUE,h.Z.ID]),xr(B,h.Z.CONTENT_COMPONENT,[h.Z.CONTENT_TYPE]),xr(B,h.Z.REPRESENTATION,[h.Z.ID,h.Z.DEPENDENCY_ID,h.Z.MEDIA_STREAM_STRUCTURE_ID]),xr(B,h.Z.SUBSET,[h.Z.ID]),xr(B,h.Z.METRICS,[h.Z.METRICS_MINUS]),xr(B,h.Z.REPORTING,[h.Z.VALUE,h.Z.ID]),B);if(ee.hasOwnProperty(A)){var ie=ee[A];return void 0!==ie&&ie.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return L}(Vl);function tl(v){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function jl(v,m){return(jl=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Hl(v){return(Hl=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}var Ts=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;const Zl=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&jl(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Hl(m);if(b){var B=Hl(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function Dd(v,m){return!m||"object"!==tl(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N){for(var A=[h.Z.MIN_BUFFER_TIME,h.Z.MEDIA_PRESENTATION_DURATION,h.Z.MINIMUM_UPDATE_PERIOD,h.Z.TIMESHIFT_BUFFER_DEPTH,h.Z.MAX_SEGMENT_DURATION,h.Z.MAX_SUBSEGMENT_DURATION,h.Z.SUGGESTED_PRESENTATION_DELAY,h.Z.START,f.Z.START_TIME,h.Z.DURATION],B=A.length,ee=0;ee<B;ee++)if(N.nodeName===A[ee])return Ts.test(N.value);return!1},function(N){var A=Ts.exec(N),B=31536e3*parseFloat(A[3]||0)+2592e3*parseFloat(A[5]||0)+86400*parseFloat(A[7]||0)+3600*parseFloat(A[9]||0)+60*parseFloat(A[11]||0)+parseFloat(A[13]||0);return void 0!==A[1]&&(B=-B),B})}return L}(Vl);function Wc(v){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Kc(v,m){return(Kc=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function zl(v){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}var Rd=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;const Gl=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Kc(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=zl(m);if(b){var B=zl(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function xd(v,m){return!m||"object"!==Wc(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N){return Rd.test(N.value)},function(N){var A,B=Rd.exec(N);if(A=Date.UTC(parseInt(B[1],10),parseInt(B[2],10)-1,parseInt(B[3],10),parseInt(B[4],10),parseInt(B[5],10),B[6]&&parseInt(B[6],10)||0,B[7]&&1e3*parseFloat(B[7])||0),B[9]&&B[10]){var ee=60*parseInt(B[9],10)+parseInt(B[10],10);A+=("+"===B[8]?-1:1)*ee*60*1e3}return new Date(A)})}return L}(Vl);function Xc(v){return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Qc(v,m){return(Qc=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function ql(v){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}var a_=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;const l_=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Qc(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=ql(m);if(b){var B=ql(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function s_(v,m){return!m||"object"!==Xc(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N){return a_.test(N.value)},function(N){return parseFloat(N)})}return L}(Vl);function xo(v){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Yl(v,m,b){return m in v?Object.defineProperty(v,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[m]=b,v}function Jc(v,m){return(Jc=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function eu(v){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const u_=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Jc(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=eu(m);if(b){var B=eu(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function c_(v,m){return!m||"object"!==xo(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N,A){var B,ee=(Yl(B={},h.Z.ADAPTATION_SET,[h.Z.LANG]),Yl(B,h.Z.REPRESENTATION,[h.Z.LANG]),Yl(B,h.Z.CONTENT_COMPONENT,[h.Z.LANG]),Yl(B,h.Z.LABEL,[h.Z.LANG]),Yl(B,h.Z.GROUP_LABEL,[h.Z.LANG]),B);if(ee.hasOwnProperty(A)){var ie=ee[A];return void 0!==ie&&ie.indexOf(N.name)>=0}return!1},function(N){var A=Ll()(N);return void 0!==A?A:String(N)})}return L}(Vl),Bh=function(){function v(D){var L;(function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this._name=D,this._merge=(L=D)&&L.length&&L.charAt(0)===L.charAt(0).toUpperCase()}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&function d_(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}(),nl=function(){function v(D,L,N){var A=this;(function(B,ee){if(!(B instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,v),this._name=D||"",this._properties=[],this._children=N||[],Array.isArray(L)&&L.forEach(function(B){A._properties.push(new Bh(B))})}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&function f_(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}();function Md(v){return(Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function gr(v,m){return(gr=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function tu(v){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const p_=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&gr(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=tu(m);if(b){var B=tu(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function h_(v,m){return!m||"object"!==Md(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,L);var N=[h.Z.PROFILES,h.Z.WIDTH,h.Z.HEIGHT,h.Z.SAR,h.Z.FRAMERATE,h.Z.AUDIO_SAMPLING_RATE,h.Z.MIME_TYPE,h.Z.SEGMENT_PROFILES,h.Z.CODECS,h.Z.MAXIMUM_SAP_PERIOD,h.Z.START_WITH_SAP,h.Z.MAX_PLAYOUT_RATE,h.Z.CODING_DEPENDENCY,h.Z.SCAN_TYPE,h.Z.FRAME_PACKING,h.Z.AUDIO_CHANNEL_CONFIGURATION,h.Z.CONTENT_PROTECTION,h.Z.ESSENTIAL_PROPERTY,h.Z.ESSENTIAL_PROPERTY+"_asArray",h.Z.SUPPLEMENTAL_PROPERTY,h.Z.INBAND_EVENT_STREAM];return D.call(this,h.Z.ADAPTATION_SET,N,[new nl(h.Z.REPRESENTATION,N,[new nl(h.Z.SUB_REPRESENTATION,N)])])}return L}(nl);function ni(v){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Nd(v,m){return(Nd=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function kn(v){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const Ki=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Nd(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=kn(m);if(b){var B=kn(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function Uh(v,m){return!m||"object"!==ni(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){!function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,L);var N=[h.Z.SEGMENT_BASE,h.Z.SEGMENT_TEMPLATE,h.Z.SEGMENT_LIST];return D.call(this,h.Z.PERIOD,N,[new nl(h.Z.ADAPTATION_SET,N,[new nl(h.Z.REPRESENTATION,N)])])}return L}(nl);function Nr(v){var m,b,D,L,N,A=this.context;return m={parse:function(ee){var ie,te=window.performance.now();if(!(ie=L.xml_str2json(ee)))throw new Error("parsing the manifest failed");var V=window.performance.now();ie.Patch?((ie=ie.Patch).add_asArray&&ie.add_asArray.forEach(function(X){return N.run(X)}),ie.replace_asArray&&ie.replace_asArray.forEach(function(X){return N.run(X)})):N.run(ie=ie.MPD);var re=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(V-te).toPrecision(3)+"ms, objectiron: "+(re-V).toPrecision(3)+"ms, total: "+((re-te)/1e3).toPrecision(3)+"s)"),ie.protocol="DASH",ie},getMatchers:function(){return D},getIron:function(){return N}},b=(v=v||{}).debug.getLogger(m),D=[new Zl,new Gl,new l_,new u_,new Ur],L=new Fh({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:D}),N=Ul(A).create({adaptationset:new p_,period:new Ki}),m}Nr.__dashjs_factory_name="DashParser";const Xi=C.Z.getClassFactory(Nr);function oo(v){var m,b,D,L,N,A=this.context,B=(v=v||{}).debug,ee=v.settings,ie=(0,S.Z)(A).getInstance(),te=(0,Ye.Z)(A).getInstance(),V=v.mssHandler,re=v.errHandler;function X(ge){ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:ge.manifest})}return m={load:function(ge){var Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Y=new Date,_e=new Ma(ge,He.w.MPD_TYPE);Se&&(_e.serviceLocation=Se),Ce&&(_e.queryParams=Ce),_e.requestStartDate||(_e.requestStartDate=Y),ie.trigger(g.Z.MANIFEST_LOADING_STARTED,{request:_e}),D.load({request:_e,success:function(fe,be,I){var $,G,Z;if(L)if(I&&I!==ge?(G=te.parseBaseUrl(I),$=I):(te.isRelative(ge)&&(ge=te.resolve(ge,window.location.href)),G=te.parseBaseUrl(ge)),"No Content"!=be)if(null===N&&(N=function De(ge){var Se=null;return ge.indexOf("SmoothStreamingMedia")>-1?(V&&(Se=V.createMssParser(),V.createMssFragmentProcessor(),V.registerEvents()),Se):ge.indexOf("MPD")>-1||ge.indexOf("Patch")>-1?Xi(A).create({debug:B}):Se}(fe)),null!==N){L.setMatchers(N.getMatchers()),L.setIron(N.getIron());try{Z=N.parse(fe)}catch{return void ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ge))})}if(Z){if(Z.url=$||ge,Z.originalUrl||(Z.originalUrl=Z.url),ee&&ee.get().streaming.enableManifestDurationMismatchFix&&Z.mediaPresentationDuration&&Z.Period_asArray.length>1){var j=Z.Period_asArray.reduce(function(ae,le){return ae+le.duration},0);!isNaN(j)&&Z.mediaPresentationDuration>j&&(b.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Z.mediaPresentationDuration=j)}Z.baseUri=G,Z.loadedTime=new Date,L.resolveManifestOnLoad(Z),ie.trigger(g.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:fe})}else ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ge))})}else ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ge))});else ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(fe,be,I){ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ge,", ").concat(I))})}})},reset:function(){ie.off(g.Z.XLINK_READY,X,m),V&&V.reset(),L&&(L.reset(),L=null),D&&(D.abort(),D=null)}},b=B.getLogger(m),ie.on(g.Z.XLINK_READY,X,m),D=Mr(A).create({errHandler:v.errHandler,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,urlUtils:te,constants:f.Z,dashConstants:h.Z,errors:pe,requestTimeout:v.settings.get().streaming.manifestRequestTimeout}),L=$t(A).create({errHandler:re,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,settings:v.settings}),N=null,m}oo.__dashjs_factory_name="ManifestLoader";const rl=C.Z.getClassFactory(oo);function yo(){var m=(0,S.Z)(this.context).getInstance();return{error:function(b){m.trigger(g.Z.ERROR,{error:b})}}}yo.__dashjs_factory_name="ErrorHandler";const Vh=C.Z.getSingletonFactory(yo);var Od=F(1715);function $l(){var v,m,b,D,L,N,A=this.context,B=(0,S.Z)(A).getInstance();function ee(ie,te){if(!te||!te.Period_asArray||0===te.Period_asArray.length)return Promise.resolve();var V=[];return te.Period_asArray.forEach(function(re){var X,De;V.push((X=re,De=ie,new Promise(function(ge){if(X&&X.AdaptationSet_asArray&&0!==X.AdaptationSet_asArray.length){var Se=[];X.AdaptationSet_asArray.forEach(function(Ce){var Y,_e;m.getIsTypeOf(Ce,De)&&Se.push((Y=Ce,_e=De,new Promise(function(fe){if(Y.Representation_asArray&&0!==Y.Representation_asArray.length){var be=[],I=[];Y.Representation_asArray.forEach(function($,G){var Z=m.getCodec(Y,G,!1),j=function(ae,le,ve){switch(ae){case f.Z.VIDEO:return{codec:ve,width:(z=le).width||null,height:z.height||null,framerate:z.frameRate||null,bitrate:z.bandwidth||null};case f.Z.AUDIO:return function(z,Q){return{codec:Q,bitrate:z.bandwidth||null,samplerate:z.audioSamplingRate||null}}(le,ve);default:return null}var z}(_e,$,Z);I.push(j),be.push(b.supportsCodec(j,_e))}),Promise.all(be).then(function($){Y.Representation_asArray=Y.Representation_asArray.filter(function(G,Z){return $[Z]||N.debug("[Stream] Codec ".concat(I[Z].codec," not supported ")),$[Z]}),fe()}).catch(function(){fe()})}else fe()})))}),Promise.all(Se).then(function(){X.AdaptationSet_asArray=X.AdaptationSet_asArray.filter(function(Ce){var Y=Ce.Representation_asArray&&Ce.Representation_asArray.length>0;return Y||(B.trigger(g.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Ce}),N.warn("AdaptationSet has been removed because of no supported Representation")),Y}),ge()}).catch(function(){ge()})}else ge()})))}),Promise.all(V)}return v={setConfig:function(ie){ie&&(ie.adapter&&(m=ie.adapter),ie.capabilities&&(b=ie.capabilities),ie.settings&&(D=ie.settings),ie.customParametersModel&&(L=ie.customParametersModel))},filterUnsupportedFeatures:function(ie){return new Promise(function(te){var V=[];V.push(ee(f.Z.VIDEO,ie)),V.push(ee(f.Z.AUDIO,ie)),Promise.all(V).then(function(){var re;D.get().streaming.capabilities.filterUnsupportedEssentialProperties&&(re=ie)&&re.Period_asArray&&0!==re.Period_asArray.length&&re.Period_asArray.forEach(function(X){X.AdaptationSet_asArray=X.AdaptationSet_asArray.filter(function(De){return!De.Representation_asArray||0===De.Representation_asArray.length||(De.Representation_asArray=De.Representation_asArray.filter(function(ge){var Se=m.getEssentialPropertiesForRepresentation(ge);if(Se&&Se.length>0)for(var Ce=0;Ce<Se.length;){if(!b.supportsEssentialProperty(Se[Ce]))return N.debug("[Stream] EssentialProperty not supported: "+Se[Ce].schemeIdUri),!1;Ce+=1}return!0}),De.Representation_asArray&&De.Representation_asArray.length>0)})}),function(re){var X=L.getCustomCapabilitiesFilters();X&&0!==X.length&&re&&re.Period_asArray&&0!==re.Period_asArray.length&&re.Period_asArray.forEach(function(De){De.AdaptationSet_asArray=De.AdaptationSet_asArray.filter(function(ge){return!ge.Representation_asArray||0===ge.Representation_asArray.length||(ge.Representation_asArray=ge.Representation_asArray.filter(function(Se){return!X.some(function(Ce){return!Ce(Se)})}),ge.Representation_asArray&&ge.Representation_asArray.length>0)})})}(ie),te()}).catch(function(){te()})})}},N=(0,M.Z)(A).getInstance().getLogger(v),v}$l.__dashjs_factory_name="CapabilitiesFilter";const m_=C.Z.getSingletonFactory($l),g_=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Ei(){var v;return{initialize:function(m){if(v=new g_,!m)return null;var b=m.indexOf("#");if(-1!==b)for(var D=m.substr(b+1).split("&"),L=0,N=D.length;L<N;++L){var A=D[L],B=A.indexOf("=");if(-1!==B){var ee=A.substring(0,B);v.hasOwnProperty(ee)&&(v[ee]=A.substr(B+1))}}},getURIFragmentData:function(){return v}}}Ei.__dashjs_factory_name="URIFragmentModel";const On=C.Z.getSingletonFactory(Ei);function fr(){var v,b=(0,S.Z)(this.context).getInstance();return{getValue:function(){return v},setValue:function(D){v=D,D&&b.trigger(g.Z.MANIFEST_LOADED,{data:D})}}}fr.__dashjs_factory_name="ManifestModel";const _i=C.Z.getSingletonFactory(fr);function il(){var v,m,b,D,L=this.context,N=(0,Nt.Z)(L).getInstance();function A(ie,te){return isNaN(ie)?0:ie>0?(te&&m.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie<-.5?(te&&m.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(-.5,": ").concat(-50,"% playback speed.")),-.5):ie}function B(ie,te){return isNaN(ie)?0:ie<0?(te&&m.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie>1?(te&&m.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ie}function ee(){var ie=N.get().streaming.buffer.stableBufferTime>0?N.get().streaming.buffer.stableBufferTime:N.get().streaming.buffer.fastSwitchEnabled?20:12,te=b.getLiveDelay();return!isNaN(te)&&te>0?Math.min(ie,te):ie}return v={getCatchupMaxDrift:function(){if(!isNaN(N.get().streaming.liveCatchup.maxDrift)&&N.get().streaming.liveCatchup.maxDrift>0)return N.get().streaming.liveCatchup.maxDrift;var ie=D.getServiceDescriptionSettings();return ie&&ie.liveCatchup&&!isNaN(ie.liveCatchup.maxDrift)&&ie.liveCatchup.maxDrift>0?ie.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==N.get().streaming.liveCatchup.enabled?N.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:ee,getInitialBufferLevel:function(){var ie=N.get().streaming.buffer.initialBufferLevel;return isNaN(ie)||ie<0?0:Math.min(ee(),ie)},getRetryAttemptsForType:function(ie){var te=isNaN(N.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:N.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?N.get().streaming.retryAttempts[ie]*te:N.get().streaming.retryAttempts[ie]},getRetryIntervalsForType:function(ie){var te=isNaN(N.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:N.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?N.get().streaming.retryIntervals[ie]/te:N.get().streaming.retryIntervals[ie]},getCatchupPlaybackRates:function(ie){var te=N.get().streaming.liveCatchup.playbackRate;if(!isNaN(te.min)||!isNaN(te.max))return{min:A(te.min,ie),max:B(te.max,ie)};var V=D.getServiceDescriptionSettings();if(V&&V.liveCatchup&&(!isNaN(V.liveCatchup.playbackRate.min)||!isNaN(V.liveCatchup.playbackRate.max))){var re=V.liveCatchup.playbackRate;return{min:A(re.min,ie),max:B(re.max,ie)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(ie,te){try{var V=N.get().streaming.abr[ie][te];if(!isNaN(V)&&-1!==V)return V;var re=D.getServiceDescriptionSettings();return re&&re[ie]&&!isNaN(re[ie][te])?re[ie][te]:-1}catch{return-1}},setConfig:function(ie){ie.playbackController&&(b=ie.playbackController),ie.serviceDescriptionController&&(D=ie.serviceDescriptionController)},reset:function(){}},m=(0,M.Z)(L).getInstance().getLogger(v),v}il.__dashjs_factory_name="MediaPlayerModel";const so=C.Z.getSingletonFactory(il);var ol=F(1767);function wi(v){var m=(v=v||{}).abrController,b=v.switchHistory,D=v.droppedFramesHistory,L=v.currentRequest,N=v.useBufferOccupancyABR,A=v.useL2AABR,B=v.useLoLPABR,ee=v.streamProcessor?v.streamProcessor.getScheduleController():null,ie=v.streamProcessor?v.streamProcessor.getRepresentationInfo():null,te=v.videoModel?v.videoModel:null;function V(){return ie?ie.mediaInfo:null}return{getMediaType:function(){var re=V();return re?re.type:null},getMediaInfo:V,getDroppedFramesHistory:function(){return D},getCurrentRequest:function(){return L},getSwitchHistory:function(){return b},getStreamInfo:function(){var re=V();return re?re.streamInfo:null},getScheduleController:function(){return ee},getAbrController:function(){return m},getRepresentationInfo:function(){return ie},useBufferOccupancyABR:function(){return N},useL2AABR:function(){return A},useLoLPABR:function(){return B},getVideoModel:function(){return te}}}wi.__dashjs_factory_name="RulesContext";const Bs=C.Z.getClassFactory(wi);var Us=F(2068);function ur(){var v=[],m=[];return{push:function(b){b.newValue===Us.Z.NO_CHANGE&&(b.newValue=b.oldValue),v[b.oldValue]||(v[b.oldValue]={noDrops:0,drops:0,dropSize:0});var D=b.newValue-b.oldValue,L=D<0?1:0,N=L?-D:0,A=L?0:1;if(v[b.oldValue].drops+=L,v[b.oldValue].dropSize+=N,v[b.oldValue].noDrops+=A,m.push({idx:b.oldValue,noDrop:A,drop:L,dropSize:N}),m.length>8){var B=m.shift();v[B.idx].drops-=B.drop,v[B.idx].dropSize-=B.dropSize,v[B.idx].noDrops-=B.noDrop}},getSwitchRequests:function(){return v},reset:function(){v=[],m=[]}}}ur.__dashjs_factory_name="SwitchRequestHistory";const Wl=C.Z.getClassFactory(ur);function Pd(){var v={},m={},b={};return{push:function(D,L,N){if(L){v[D]||(v[D]=[],m[D]=0,b[D]=0);var A=N&&N.droppedVideoFrames?N.droppedVideoFrames:0,B=N&&N.totalVideoFrames?N.totalVideoFrames:0,ee=A-m[D];m[D]=A;var ie=B-b[D];b[D]=B;var te=v[D];isNaN(L)||(te[L]?(te[L].droppedVideoFrames+=ee,te[L].totalVideoFrames+=ie):te[L]={droppedVideoFrames:ee,totalVideoFrames:ie})}},getFrameHistory:function(D){return v[D]},clearForStream:function(D){try{delete v[D],delete m[D],delete b[D]}catch{}},reset:function(){v={},m={},b={}}}}Pd.__dashjs_factory_name="DroppedFramesHistory";const sl=C.Z.getClassFactory(Pd);function Ti(v){var m,b,D,L,N,B=(v=v||{}).settings,ee=(0,S.Z)(this.context).getInstance();function ie(ge,Se,Ce,Y){var _e=Math.pow(.5,Ce/Y.fast);ge.fastEstimate=(1-_e)*Se+_e*ge.fastEstimate;var fe=Math.pow(.5,Ce/Y.slow);ge.slowEstimate=(1-fe)*Se+fe*ge.slowEstimate,ge.totalWeight+=Ce}function te(ge,Se,Ce){return B.get().streaming.abr.movingAverageMethod!==f.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(Y,_e){var fe=Y?N.throughputHalfLife:N.latencyHalfLife,be=Y?D[_e]:L[_e];if(!be||be.totalWeight<=0)return NaN;var I=be.fastEstimate/(1-Math.pow(.5,be.totalWeight/fe.fast)),$=be.slowEstimate/(1-Math.pow(.5,be.totalWeight/fe.slow));return Y?Math.min(I,$):Math.max(I,$)}(ge,Se):(be=function($,G,Z){var j,ae;if($?(j=m[G],ae=Z?3:4):(j=b[G],ae=4),j){if(ae>=j.length)ae=j.length;else if($)for(var le=1;le<ae;++le){var ve=j[j.length-le]/j[j.length-le-1];if((ve>=1.3||ve<=.7692307692307692)&&(ae+=1)===j.length)break}}else ae=0;return ae}(Y=ge,_e=Se,Ce),I=(Y?m:b)[_e],0!==be&&I&&0!==I.length?(I=I.slice(-be)).reduce(function($,G){return $+G})/I.length:NaN);var Y,_e,be,I}function V(ge,Se){return te(!0,ge,Se)}function re(ge){m[ge]=m[ge]||[],b[ge]=b[ge]||[],D[ge]=D[ge]||{fastEstimate:0,slowEstimate:0,totalWeight:0},L[ge]=L[ge]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function X(){m={},b={},D={},L={}}var De={push:function(ge,Se,Ce){if(Se.trace&&Se.trace.length){var Y,_e=Se.tresponse.getTime()-Se.trequest.getTime()||1,fe=Se._tfinish.getTime()-Se.tresponse.getTime()||1,be=Se.trace.reduce(function(Z,j){return Z+j.b[0]},0),I=0;if(0!==(Y=Se._fileLoaderType&&Se._fileLoaderType===f.Z.FILE_LOADER_TYPES.FETCH?Se.trace.reduce(function(Z,j){return Z+j.d},0):Ce?fe:_e+fe)&&(I=Math.round(8*be/Y)),Se.cmsd){var $=Se.cmsd.dynamic&&Se.cmsd.dynamic.etp?Se.cmsd.dynamic.etp:null;if($){var G=B.get().streaming.cmsd.abr.etpWeightRatio;G>0&&G<=1&&(I=I*(1-G)+$*G)}}if(re(ge),ae=fe,(Z=ge)===f.Z.VIDEO?ae<B.get().streaming.cacheLoadThresholds[f.Z.VIDEO]:Z===f.Z.AUDIO?ae<B.get().streaming.cacheLoadThresholds[f.Z.AUDIO]:void 0){if(m[ge].length>0&&!m[ge].hasCachedEntries)return;m[ge].hasCachedEntries=!0}else m[ge]&&m[ge].hasCachedEntries&&function(Z){delete m[Z],delete b[Z],delete D[Z],delete L[Z],re(Z)}(ge);m[ge].push(I),ee.trigger(p.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:I,mediaType:ge,httpRequest:Se}),m[ge].length>20&&m[ge].shift(),b[ge].push(_e),b[ge].length>20&&b[ge].shift(),ie(D[ge],I,.001*fe,N.throughputHalfLife),ie(L[ge],_e,1,N.latencyHalfLife)}var Z,ae},getAverageThroughput:V,getSafeAverageThroughput:function(ge,Se){var Ce=V(ge,Se);return isNaN(Ce)||(Ce*=B.get().streaming.abr.bandwidthSafetyFactor),Ce},getAverageLatency:function(ge){return te(!1,ge)},reset:X};return N={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},X(),De}Ti.__dashjs_factory_name="ThroughputHistory";const Kl=C.Z.getClassFactory(Ti);function aa(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Se,Ce,Y,_e,fe,be,I,$,G,Z,j,ae=this.context,le=(0,M.Z)(ae).getInstance(),ve=(0,S.Z)(ae).getInstance();function z(){L={},N={},B={},A={},_e={},I={},$={},G={},void 0===ie&&(ie=!1),fe&&fe.reset(),Y=void 0,fe=void 0,be=void 0,clearTimeout(ee),ee=null}function Q(Be){var Te=Be.request.mediaType,et=Be.streamId;if(Te&&et&&A[et]&&j.get().streaming.abr.autoSwitchBitrate[Te]){var Oe=A[et][Te];if(Oe){var nt=Bs(ae).create({abrController:v,streamProcessor:Oe,currentRequest:Be.request,useBufferOccupancyABR:I[Te],useL2AABR:$[Te],useLoLPABR:G[Te],videoModel:X}),dt=b.shouldAbandonFragment(nt,et);dt.quality>Us.Z.NO_CHANGE&&Oe.getFragmentModel().getRequests({state:k.FRAGMENT_MODEL_LOADING,index:Be.request.index})[0]&&(B[et][Te].state=O.Z.ABANDON_LOAD,_e[et][Te].reset(),_e[et][Te].push({oldValue:Fe(Te,et),newValue:dt.quality,confidence:1,reason:dt.reason}),Ie(Te,D.getActiveStreamInfo(),dt.quality,dt.reason),clearTimeout(ee),ee=setTimeout(function(){B[et][Te].state=O.Z.ALLOW_LOAD,ee=null},j.get().streaming.abandonLoadTimeout))}}}function Me(Be){Be.mediaType===f.Z.VIDEO&&(void 0!==Y&&fe.push(Be.streamId,Y,X.getPlaybackQuality()),Y=Be.newQuality)}function Ve(Be){var Te,et;Be.metric!==O.Z.HTTP_REQUEST||!Be.value||Be.value.type!==He.w.MEDIA_SEGMENT_TYPE||Be.mediaType!==f.Z.AUDIO&&Be.mediaType!==f.Z.VIDEO||be.push(Be.mediaType,Be.value,j.get().streaming.abr.useDeadTimeLatency),Be.metric!==O.Z.BUFFER_LEVEL||Be.mediaType!==f.Z.AUDIO&&Be.mediaType!==f.Z.VIDEO||(Te=Be.mediaType,et=.001*Be.value.level,j.get().streaming.abr.ABRStrategy===f.Z.ABR_STRATEGY_DYNAMIC&&function(Oe,nt){try{var dt=De.getStableBufferTime(),Gt=I[Oe],Cn=nt>(Gt?.5*dt:dt);I[Oe]=Cn,Cn!==Gt&&m.info(Cn?"["+Oe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+nt.toFixed(3)+").":"["+Oe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+nt.toFixed(3)+").")}catch(Sn){m.error(Sn)}}(Te,et))}function ze(Be,Te){try{var et;return L[Te]=L[Te]||{},L[Te].hasOwnProperty(Be)||(L[Te][Be]=0),et=function(Oe,nt){var dt=L[nt][Oe],ft=dt;if(!A[nt]||!A[nt][Oe])return ft;var Pt=Je(Oe,nt);void 0!==Pt&&(ft=Math.max(dt,Pt));var Gt=function(Cn,Sn){try{var dn=De.getAbrBitrateParameter("maxBitrate",Cn);return dn>-1?bt(A[Sn][Cn].getMediaInfo(),dn,Sn):void 0}catch{return}}(Oe,nt);return void 0!==Gt&&(ft=Math.min(ft,Gt)),ft}(Be,Te),Oe=et,ft=L[Te][nt=Be],Pt=j.get().streaming.abr.maxRepresentationRatio[nt],et=function(Oe,nt,dt){if(nt!==f.Z.VIDEO||!j.get().streaming.abr.limitBitrateByPortal||!A[dt]||!A[dt][nt])return Oe;ie||sn();var ft=A[dt][nt].getStreamInfo(),Pt=re.getAdaptationForType(ft.index,nt,ft).Representation_asArray,Gt=Oe;if(te>0&&V>0){for(;Gt>0&&Pt[Gt]&&te<Pt[Gt].width&&te-Pt[Gt-1].width<Pt[Gt].width-te;)Gt-=1;for(;Gt<Pt.length-1&&Pt[Gt].width===Pt[Gt+1].width;)Gt+=1}return Gt}(et=isNaN(Pt)||Pt>=1||Pt<0?Oe:Math.min(Oe,Math.round(ft*Pt)),Be,Te),j.get().streaming.cmsd.enabled&&j.get().streaming.cmsd.abr.applyMb&&(et=function(Oe,nt,dt){if("video"!==nt)return Oe;var ft=Se.getMaxBitrate(nt);if(ft<0)return Oe;var Pt=ht(dt,"audio",Fe("audio",dt));ft-=Pt?Pt.bitrate/1e3:0;var Gt=bt(A[dt][nt].getMediaInfo(),ft,dt);return m.debug("Stream ID: "+dt+" ["+nt+"] Apply max bit rate from CMSD: "+ft),Math.min(Oe,Gt)}(et,Be,Te)),et}catch{return}var Oe,nt,ft,Pt}function Je(Be,Te){try{return function(et,Oe){try{var nt=De.getAbrBitrateParameter("minBitrate",et);if(nt>-1){var dt=A[Oe][et].getMediaInfo(),ft=Ft(dt),Pt=bt(dt,nt,Oe);return ft[Pt]&&Pt<ft.length-1&&ft[Pt].bitrate<1e3*nt&&Pt++,Pt}return}catch{return}}(Be,Te)}catch{return}}function Fe(Be){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Te||(Te=D.getActiveStreamInfo().id),Be&&A[Te]&&A[Te][Be]&&Te?(N[Te]=N[Te]||{},N[Te].hasOwnProperty(Be)||(N[Te][Be]=0),N[Te][Be]):0}catch{return 0}}function Ie(Be,Te,et){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Te&&Te.id&&Be){var nt=Te.id,dt=Fe(Be,nt);(0,ue.SE)(et);var ft=ze(Be,nt);et!==dt&&et>=0&&et<=ft&&Ct(Be,dt,et,ft,Oe,nt)}}function Ct(Be,Te,et,Oe,nt,dt){if(Be&&A[dt]&&A[dt][Be]){var ft=A[dt][Be].getStreamInfo(),Pt=ft&&ft.manifestInfo&&ft.manifestInfo.isDynamic,Gt=Z.getCurrentBufferLevel(Be);m.info("Stream ID: "+dt+" ["+Be+"] switch from "+Te+" to "+et+"/"+Oe+" (buffer: "+Gt+") "+(nt?JSON.stringify(nt):".")),N[dt]=N[dt]||{},N[dt][Be]=et;var Cn=ht(dt,Be,et);ve.trigger(g.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:Te,newQuality:et,reason:nt,streamInfo:ft,bitrateInfo:Cn,maxIdx:Oe,mediaType:Be},{streamId:ft.id,mediaType:Be});var Sn=be.getAverageThroughput(Be,Pt);isNaN(Sn)||Ce.setSavedBitrateSettings(Be,Sn)}}function ht(Be,Te,et){if(Te&&A&&A[Be]&&A[Be][Te]){var Oe=Ft(A[Be][Te].getMediaInfo());return Oe[et]?Oe[et]:null}return null}function bt(Be,Te,et){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,nt=Be&&Be.type?A[et][Be.type].getRepresentationInfo():null;if(j.get().streaming.abr.useDeadTimeLatency&&Oe&&nt&&nt.fragmentDuration){var dt=nt.fragmentDuration;if((Oe/=1e3)>dt)return 0;Te*=1-Oe/dt}for(var Pt=Ft(Be),Gt=Pt.length-1;Gt>=0;Gt--)if(1e3*Te>=Pt[Gt].bitrate)return Gt;return 0}function Ft(Be){var Te=[];if(!Be||!Be.bitrateList)return Te;for(var et,Oe=Be.bitrateList,nt=Be.type,dt=0,ft=Oe.length;dt<ft;dt++)(et=new jc).mediaType=nt,et.qualityIndex=dt,et.bitrate=Oe[dt].bandwidth,et.width=Oe[dt].width,et.height=Oe[dt].height,et.scanType=Oe[dt].scanType,Te.push(et);return Te}function sn(){if(X){var Be=j.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;te=X.getClientWidth()*Be,V=X.getClientHeight()*Be}}return v={initialize:function(){fe=sl(ae).create(),be=Kl(ae).create({settings:j}),(b=(0,ol.Z)(ae).create({dashMetrics:Z,customParametersModel:ge,mediaPlayerModel:De,settings:j})).initialize(),ve.on(p.Z.QUALITY_CHANGE_RENDERED,Me,v),ve.on(p.Z.METRIC_ADDED,Ve,v),ve.on(g.Z.LOADING_PROGRESS,Q,v)},isPlayingAtTopQuality:function(Be){var Te=Be?Be.id:null,et=Fe(f.Z.AUDIO,Te),Oe=Fe(f.Z.VIDEO,Te);return et===ze(f.Z.AUDIO,Te)&&Oe===ze(f.Z.VIDEO,Te)},updateTopQualityIndex:function(Be){var Te=Be.type,et=Be.streamInfo.id,Oe=Be.representationCount-1;return L[et]=L[et]||{},L[et][Te]=Oe,Oe},clearDataForStream:function(Be){fe&&fe.clearForStream(Be),A[Be]&&delete A[Be],_e[Be]&&delete _e[Be],B[Be]&&delete B[Be]},getThroughputHistory:function(){return be},getBitrateList:Ft,getQualityForBitrate:bt,getTopBitrateInfoFor:function(Be){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Te||(Te=D.getActiveStreamInfo().id),Be&&A&&A[Te]&&A[Te][Be]){var et=ze(Be,Te),Oe=Ft(A[Te][Be].getMediaInfo());return Oe[et]?Oe[et]:null}return null},getMinAllowedIndexFor:Je,getMaxAllowedIndexFor:ze,getInitialBitrateFor:function(Be,Te){if(function(){if(!Ce||!Ce.hasOwnProperty("getSavedBitrateSettings"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}(),Be===f.Z.TEXT)return NaN;var et=Ce.getSavedBitrateSettings(Be),Oe=De.getAbrBitrateParameter("initialBitrate",Be),nt=j.get().streaming.abr.initialRepresentationRatio[Be];if(-1===Oe)if(nt>-1){var dt=A[Te][Be].getStreamInfo(),ft=re.getAdaptationForType(dt.index,Be,dt).Representation_asArray;Oe=Array.isArray(ft)?ft[Math.max(Math.round(ft.length*nt)-1,0)].bandwidth/1e3:0}else Oe=isNaN(et)?Be===f.Z.VIDEO?1e3:100:et;return Oe},getQualityFor:Fe,getAbandonmentStateFor:function(Be,Te){return B[Be]&&B[Be][Te]?B[Be][Te].state:null},setPlaybackQuality:Ie,checkPlaybackQuality:function(Be,Te){try{if(!(Be&&A&&A[Te]&&A[Te][Be]))return!1;if(fe){var et=X.getPlaybackQuality();et&&fe.push(Te,Y,et)}if(!j.get().streaming.abr.autoSwitchBitrate[Be])return!1;var Oe=Fe(Be,Te),nt=Bs(ae).create({abrController:v,switchHistory:_e[Te][Be],droppedFramesHistory:fe,streamProcessor:A[Te][Be],currentValue:Oe,useBufferOccupancyABR:I[Be],useL2AABR:$[Be],useLoLPABR:G[Be],videoModel:X}),dt=Je(Be,Te),ft=ze(Be,Te),Pt=b.getMaxQuality(nt),Gt=Pt.quality;return void 0!==dt&&(Gt>Us.Z.NO_CHANGE?Gt:Oe)<dt&&(Gt=dt),Gt>ft&&(Gt=ft),_e[Te][Be].push({oldValue:Oe,newValue:Gt}),Gt>Us.Z.NO_CHANGE&&Gt!==Oe&&(B[Te][Be].state===O.Z.ALLOW_LOAD||Gt<Oe)&&(Ct(Be,Oe,Gt,ft,Pt.reason,Te),!0)}catch{return!1}},setElementSize:sn,setWindowResizeEventCalled:function(Be){ie=Be},registerStreamType:function(Be,Te){var Oe,nt,et=Te.getStreamInfo().id;A[et]||(A[et]={}),_e[et]||(_e[et]={}),B[et]||(B[et]={}),_e[et][Be]=Wl(ae).create(),A[et][Be]=Te,B[et][Be]={},B[et][Be].state=O.Z.ALLOW_LOAD,Oe=Be,(nt=j.get().streaming.abr.ABRStrategy)===f.Z.ABR_STRATEGY_L2A?(I[Oe]=!1,G[Oe]=!1,$[Oe]=!0):nt===f.Z.ABR_STRATEGY_LoLP?(I[Oe]=!1,G[Oe]=!0,$[Oe]=!1):nt===f.Z.ABR_STRATEGY_BOLA?(I[Oe]=!0,G[Oe]=!1,$[Oe]=!1):nt===f.Z.ABR_STRATEGY_THROUGHPUT?(I[Oe]=!1,G[Oe]=!1,$[Oe]=!1):nt===f.Z.ABR_STRATEGY_DYNAMIC&&(I[Oe]=!(!I||!I[Oe])&&I[Oe],G[Oe]=!1,$[Oe]=!1),Be===f.Z.VIDEO&&sn()},unRegisterStreamType:function(Be,Te){try{A[Be]&&A[Be][Te]&&delete A[Be][Te],_e[Be]&&_e[Be][Te]&&delete _e[Be][Te],B[Be]&&B[Be][Te]&&delete B[Be][Te]}catch{}},setConfig:function(Be){Be&&(Be.streamController&&(D=Be.streamController),Be.domStorage&&(Ce=Be.domStorage),Be.mediaPlayerModel&&(De=Be.mediaPlayerModel),Be.customParametersModel&&(ge=Be.customParametersModel),Be.cmsdModel&&(Se=Be.cmsdModel),Be.dashMetrics&&(Z=Be.dashMetrics),Be.adapter&&(re=Be.adapter),Be.videoModel&&(X=Be.videoModel),Be.settings&&(j=Be.settings))},reset:function(){z(),ve.off(g.Z.LOADING_PROGRESS,Q,v),ve.off(p.Z.QUALITY_CHANGE_RENDERED,Me,v),ve.off(p.Z.METRIC_ADDED,Ve,v),b&&b.reset()}},m=le.getLogger(v),z(),v}aa.__dashjs_factory_name="AbrController";var qo=C.Z.getSingletonFactory(aa);qo.QUALITY_DEFAULT=0,C.Z.updateSingletonFactory(aa.__dashjs_factory_name,qo);const Xl=qo;var jh=new Map([[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Vs(){var v,m,b,D,L,N,A=this.context,B=(0,S.Z)(A).getInstance(),ee=[];function ie(){b&&(b.playbackRate=1,b.removeEventListener("canplay",ie))}function te(){return ee.length>0}function V(){if(b&&te()&&0===b.playbackRate){var Y=document.createEvent("Event");Y.initEvent("waiting",!0,!1),b.dispatchEvent(Y)}}function re(Y,_e){b&&b.addEventListener(Y,_e)}function X(Y,_e){b&&b.removeEventListener(Y,_e)}function De(){return b?b.readyState:NaN}function ge(){return b?b.buffered:null}function Se(Y,_e,fe,be,I){if(b)for(var $=0;$<b.textTracks.length;$++)if(b.textTracks[$].kind===Y&&(!_e||b.textTracks[$].label==_e)&&b.textTracks[$].language===fe&&b.textTracks[$].isTTML===be&&b.textTracks[$].isEmbedded===I)return b.textTracks[$];return null}function Ce(Y,_e){var fe,be;Y===f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||De()>=Y?_e():(fe=jh.get(Y),be=_e,re(fe,function I(){X(fe,I),be(fe)}))}return v={initialize:function(){B.on(g.Z.PLAYBACK_PLAYING,V,this)},setCurrentTime:function(Y,_e){b&&(D=Y,Ce(f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(b.currentTime!==D)try{D=_e?function(fe){var be=ge(),I=fe,$=9999999999;if(be)for(var G=0;G<be.length;G++){var Z=be.start(G),j=be.end(G),ae=Math.abs(Z-fe),le=Math.abs(j-fe);if(fe>=Z&&fe<=j)return fe;ae<$&&($=ae,I=Z),le<$&&($=le,I=j)}return I}(D):D,b.currentTime=D,D=NaN}catch(fe){0===b.readyState&&fe.code===fe.INVALID_STATE_ERR&&setTimeout(function(){b.currentTime=D,D=NaN},400)}else D=NaN}))},play:function(){if(b){b.autoplay=!0;var Y=b.play();Y&&Y.catch&&typeof Promise<"u"&&Y.catch(function(_e){"NotAllowedError"===_e.name&&B.trigger(g.Z.PLAYBACK_NOT_ALLOWED),m.warn("Caught pending play exception - continuing (".concat(_e,")"))})}},isPaused:function(){return b?b.paused:null},pause:function(){b&&(b.pause(),b.autoplay=!1)},isStalled:te,isSeeking:function(){return b?b.seeking||!isNaN(D):null},getTime:function(){return b?isNaN(D)?b.currentTime:D:null},getPlaybackRate:function(){return b?b.playbackRate:null},setPlaybackRate:function(Y){b&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&b.readyState<=2&&Y>0?b.addEventListener("canplay",ie):b.playbackRate=Y)},getPlayedRanges:function(){return b?b.played:null},getEnded:function(){return b?b.ended:null},setStallState:function(Y,_e){var fe,I;fe=Y,_e?null!==(I=fe)&&b&&!b.seeking&&-1===ee.indexOf(I)&&ee.push(I):function(I){var $=ee.indexOf(I);null!==I&&-1!==$&&ee.splice($,1)}(fe)},getElement:function(){return b},setElement:function(Y){if(!(null==Y||Y&&/^(VIDEO|AUDIO)$/i.test(Y.nodeName)))throw"element is not video or audio DOM type!";(b=Y)&&(b.preload="auto")},setSource:function(Y){b&&(Y?b.src=Y:(b.removeAttribute("src"),b.load()))},getSource:function(){return b?b.src:null},getTTMLRenderingDiv:function(){return L},setTTMLRenderingDiv:function(Y){(L=Y).style.position="absolute",L.style.display="flex",L.style.overflow="hidden",L.style.pointerEvents="none",L.style.top=0,L.style.left=0},getVttRenderingDiv:function(){return N},setVttRenderingDiv:function(Y){N=Y},getPlaybackQuality:function(){if(!b)return null;var Y="webkitDroppedFrameCount"in b&&"webkitDecodedFrameCount"in b,_e=null;return"getVideoPlaybackQuality"in b?_e=b.getVideoPlaybackQuality():Y&&(_e={droppedVideoFrames:b.webkitDroppedFrameCount,totalVideoFrames:b.webkitDroppedFrameCount+b.webkitDecodedFrameCount,creationTime:new Date}),_e},addEventListener:re,removeEventListener:X,getReadyState:De,getBufferRange:ge,getClientWidth:function(){return b?b.clientWidth:NaN},getClientHeight:function(){return b?b.clientHeight:NaN},getTextTracks:function(){return b?b.textTracks:[]},getTextTrack:Se,addTextTrack:function(Y,_e,fe,be,I){if(!b)return null;var $=Se(Y,_e,fe,be,I);return $||(($=b.addTextTrack(Y,_e,fe)).isEmbedded=I,$.isTTML=be),$},appendChild:function(Y){b&&(b.appendChild(Y),void 0!==Y.isTTML&&(b.textTracks[b.textTracks.length-1].isTTML=Y.isTTML,b.textTracks[b.textTracks.length-1].isEmbedded=Y.isEmbedded))},removeChild:function(Y){b&&b.removeChild(Y)},getVideoWidth:function(){return b?b.videoWidth:NaN},getVideoHeight:function(){return b?b.videoHeight:NaN},getVideoRelativeOffsetTop:function(){if(b){var Y=b.parentNode.host||b.parentNode;return Y?b.getBoundingClientRect().top-Y.getBoundingClientRect().top:NaN}return NaN},getVideoRelativeOffsetLeft:function(){if(b){var Y=b.parentNode.host||b.parentNode;return Y?b.getBoundingClientRect().left-Y.getBoundingClientRect().left:NaN}return NaN},waitForReadyState:Ce,reset:function(){B.off(g.Z.PLAYBACK_PLAYING,V,this)}},m=(0,M.Z)(A).getInstance().getLogger(v),D=NaN,v}Vs.__dashjs_factory_name="VideoModel";const js=C.Z.getSingletonFactory(Vs);var nu=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Ql="dashjs_?_bitrate",Ar="dashjs_?_settings",Jl="localStorage",ru="lastBitrate",kd="lastMediaSettings";function ss(v){var m,b,D,N=(v=v||{}).settings;function A(te){if(void 0!==D)return D;var V;D=!1;try{typeof window<"u"&&(V=window[te])}catch(re){return b.warn("DOMStorage access denied: "+re.message),D}if(!V||te!==Jl&&"sessionStorage"!==te)return D;try{V.setItem("1","1"),V.removeItem("1"),D=!0}catch(re){b.warn("DOMStorage is supported, but cannot be used: "+re.message)}return D}function B(){return 6e5*Math.round((new Date).getTime()/6e5)}function ee(te,V){return A(te)&&N.get().streaming[V+"CachingInfo"].enabled}function ie(){if(!N)throw new Error(f.Z.MISSING_CONFIG_ERROR)}return m={getSavedBitrateSettings:function(te){if(ie(),!N.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var V=NaN;if(ee(Jl,ru)){var re=Ql.replace(/\?/,te);try{var X=JSON.parse(localStorage.getItem(re))||{},De=(new Date).getTime()-parseInt(X.timestamp,10)>=N.get().streaming.lastBitrateCachingInfo.ttl||!1,ge=parseFloat(X.bitrate);isNaN(ge)||De?De&&localStorage.removeItem(re):(V=ge,b.debug("Last saved bitrate for "+te+" was "+ge))}catch{return null}}return V},setSavedBitrateSettings:function(te,V){if(ee(Jl,ru)&&V){var re=Ql.replace(/\?/,te);try{localStorage.setItem(re,JSON.stringify({bitrate:V.toFixed(3),timestamp:B()}))}catch(X){b.error(X.message)}}},getSavedMediaSettings:function(te){if(ie(),!N.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var V=null;if(ee(Jl,kd)){var re=Ar.replace(/\?/,te);try{var X=JSON.parse(localStorage.getItem(re))||{},De=(new Date).getTime()-parseInt(X.timestamp,10)>=N.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;V=X.settings,De&&(localStorage.removeItem(re),V=null)}catch{return null}}return V},setSavedMediaSettings:function(te,V){if(ee(Jl,kd)){var re=Ar.replace(/\?/,te);try{localStorage.setItem(re,JSON.stringify({settings:V,timestamp:B()}))}catch(X){b.error(X.message)}}}},b=(0,M.Z)(this.context).getInstance().getLogger(m),A(Jl)&&nu.forEach(function(te){var V=localStorage.getItem(te.oldKey);if(V){localStorage.removeItem(te.oldKey);try{localStorage.setItem(te.newKey,V)}catch(re){b.error(re.message)}}}),m}ss.__dashjs_factory_name="DOMStorage";const iu=C.Z.getSingletonFactory(ss);var al=F(2032),ll=F(2011);function Bi(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re,X=this.context;function De(Y,_e,fe,be){var I=null,$=Y?re.resolve(Y.path):null,G=be||{init:!0,url:$?$.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:_e};m.debug("Start searching for initialization.");var Z=Ce(G);B.load({request:Z,success:function(j){if(G.bytesLoaded=G.range.end,!(I=D.findInitRange(j)))return G.range.end=G.bytesLoaded+G.bytesToLoad,De(Y,_e,fe,G);Y.range=I,fe(Y)},error:function(){fe(Y)}}),m.debug("Perform init search: "+G.url)}function ge(Y,_e,fe,be,I,$){if(fe&&(void 0===fe.start||void 0===fe.end)){var G=fe?fe.toString().split("-"):null;fe=G?{start:parseFloat(G[0]),end:parseFloat(G[1])}:null}I=I||Se;var Z=null,j=null,ae=!!fe,le=Y?re.resolve(Y.path):null,ve={init:!1,url:le?le.url:void 0,range:ae?fe:{start:0,end:1500},searching:!ae,bytesLoaded:$?$.bytesLoaded:0,bytesToLoad:1500,mediaType:_e},z=Ce(ve);B.load({request:z,success:function(Q){var Me=ve.bytesToLoad,Ve=Q.byteLength;if(ve.bytesLoaded=ve.range.end-ve.range.start,Z=D.parse(Q),(j=Z.getBox("sidx"))&&j.isComplete){var ze,Je,Fe=j.references;if(null!=Fe&&Fe.length>0&&(ze=1===Fe[0].reference_type),ze){var Ie,Ct,ht,bt;m.debug("Initiate multiple SIDX load."),ve.range.end=ve.range.start+j.size;var Ft=[],sn=0,Be=(j.offset||ve.range.start)+j.size,Te=function(Oe){Oe?(Ft=Ft.concat(Oe),++sn>=Ct&&(Ft.sort(function(nt,dt){return nt.startTime-dt.startTime<0?-1:0}),I(Ft,Y,be))):I(null,Y,be)};for(Ie=0,Ct=Fe.length;Ie<Ct;Ie++)ht=Be,bt=Be+Fe[Ie].referenced_size-1,Be+=Fe[Ie].referenced_size,ge(Y,_e,{start:ht,end:bt},be,Te,ve)}else m.debug("Parsing segments from SIDX. representation "+_e+" - id: "+Y.id+" for range : "+ve.range.start+" - "+ve.range.end),Je=function(Oe,nt){for(var dt,Pt,Gt,Cn=Oe.references,Sn=Cn.length,dn=Oe.timescale,Dn=Oe.earliest_presentation_time,Rn=nt.range.start+Oe.offset+Oe.first_offset+Oe.size,er=[],lr=0;lr<Sn;lr++)Pt=Cn[lr].subsegment_duration,Gt=Cn[lr].referenced_size,(dt=new ll.Z).duration=Pt,dt.startTime=Dn,dt.timescale=dn,dt.mediaRange=Rn+"-"+(Rn+Gt-1),er.push(dt),Dn+=Pt,Rn+=Gt;return er}(j,ve),I(Je,Y,be)}else{if(j)ve.range.start=j.offset||ve.range.start,ve.range.end=ve.range.start+(j.size||Me);else{if(Ve<ve.bytesLoaded)return void I(null,Y,be);var et=Z.getLastBox();et&&et.size?(ve.range.start=et.offset+et.size,ve.range.end=ve.range.start+Me):ve.range.end+=Me}ge(Y,_e,ve.range,be,null,ve)}},error:function(){I(null,Y,be)}}),m.debug("Perform SIDX load for type ".concat(_e," : ").concat(ve.url," with range ").concat(ve.range.start," - ").concat(ve.range.end))}function Se(Y,_e,fe){fe({segments:Y,representation:_e,error:Y?void 0:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Ce(Y){if(Y.url){var _e=new q.Z;return _e.setInfo(Y),_e}}return v={setConfig:function(Y){Y.baseURLController&&(re=Y.baseURLController),Y.dashMetrics&&(N=Y.dashMetrics),Y.mediaPlayerModel&&(A=Y.mediaPlayerModel),Y.errHandler&&(b=Y.errHandler),Y.boxParser&&(D=Y.boxParser),Y.debug&&(m=Y.debug.getLogger(v)),Y.requestModifier&&(L=Y.requestModifier),Y.errors&&(ee=Y.errors),Y.urlUtils&&(V=Y.urlUtils),Y.constants&&(ie=Y.constants),Y.dashConstants&&(te=Y.dashConstants)},initialize:function(){B=Mr(X).create({errHandler:b,dashMetrics:N,mediaPlayerModel:A,requestModifier:L,boxParser:D,errors:ee,urlUtils:V,constants:ie,dashConstants:te})},loadInitialization:function(Y,_e){return new Promise(function(fe){De(Y,_e,fe)})},loadSegments:function(Y,_e,fe){return new Promise(function(be){ge(Y,_e,fe,be)})},reset:function(){B&&(B.abort(),B=null)}}}Bi.__dashjs_factory_name="SegmentBaseLoader";const R0=C.Z.getSingletonFactory(Bi);function go(v){var m;v=v||{};var b=new DataView(v.data),D=0;function L(A,B){var ee=!0,ie=0;if(void 0===B&&(B=!1),A.tag>16777215?(b.getUint32(D)!==A.tag&&(ee=!1),ie=4):A.tag>65535?(256*b.getUint16(D)+b.getUint8(D+2)!==A.tag&&(ee=!1),ie=3):A.tag>255?(b.getUint16(D)!==A.tag&&(ee=!1),ie=2):(b.getUint8(D)!==A.tag&&(ee=!1),ie=1),!ee&&A.required&&!B)throw new Error("required tag not found");return ee&&(D+=ie),ee}function N(A){var B=1,ee=128,ie=-1,te=0,V=b.getUint8(D),re=0;for(re=0;re<8;re+=1){if((V&ee)===ee){te=void 0===A?V&~ee:V,ie=re;break}ee>>=1}for(re=0;re<ie;re+=1,B+=1)te=te<<8|255&b.getUint8(D+B);return D+=B,te}return m={getPos:function(){return D},setPos:function(A){D=A},consumeTag:L,consumeTagAndSize:function(A,B){var ee=L(A,B);return ee&&N(),ee},parseTag:function(A){var B;return L(A),B=N(),m[A.parse](B)},skipOverElement:function(A,B){var ee,ie=L(A,B);return ie&&(ee=N(),D+=ee),ie},getMatroskaCodedNum:N,getMatroskaFloat:function(A){var B;switch(A){case 4:B=b.getFloat32(D),D+=4;break;case 8:B=b.getFloat64(D),D+=8}return B},getMatroskaUint:function(A){if(A>4)return function(ie){for(var te=Math.floor(Number.MAX_SAFE_INTEGER/256),V=0,re=0;re<ie;re+=1){if(V>te)throw new Error("Value exceeds safe integer limit");V*=256;var X=b.getUint8(D+re);if(V>Number.MAX_SAFE_INTEGER-X)throw new Error("Value exceeds safe integer limit");V+=X}return D+=ie,V}(A);for(var B=0,ee=0;ee<A;ee+=1)B<<=8,B|=255&b.getUint8(D+ee);return D+=A,B>>>0},moreData:function(){return D<b.byteLength}}}go.__dashjs_factory_name="EBMLParser";const ao=C.Z.getClassFactory(go);function ou(){var v,m,b,D,L,N,A,B,ee,ie,te=this.context;function V(re){var X=new q.Z;return X.setInfo(re),X}return v={setConfig:function(re){if(!(re.baseURLController&&re.dashMetrics&&re.mediaPlayerModel&&re.errHandler))throw new Error(f.Z.MISSING_CONFIG_ERROR);ie=re.baseURLController,N=re.dashMetrics,A=re.mediaPlayerModel,D=re.errHandler,ee=re.errors,m=re.debug.getLogger(v),L=re.requestModifier},initialize:function(){B=Mr(te).create({errHandler:D,dashMetrics:N,mediaPlayerModel:A,requestModifier:L,errors:ee})},loadInitialization:function(re,X){return new Promise(function(De){var ge=null,Se=re?ie.resolve(re.path):null,Ce=re?re.range.split("-"):null,Y={range:{start:Ce?parseFloat(Ce[0]):null,end:Ce?parseFloat(Ce[1]):null},request:ge,url:Se?Se.url:void 0,init:!0,mediaType:X};m.info("Start loading initialization."),ge=V(Y),B.load({request:ge,success:function(){De(re)},error:function(){De(re)}}),m.debug("Perform init load: "+Y.url)})},loadSegments:function(re,X,De){return new Promise(function(ge){var Se=null,Ce=re?ie.resolve(re.path):null,Y=Ce?Ce.url:void 0;Se=V({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Se,url:Y,init:!1,mediaType:X}),m.debug("Parsing ebml header"),B.load({request:Se,success:function(_e){!function(fe,be,I,$){if(fe&&0!==fe.byteLength){var G,Z,j,ae,le=ao(te).create({data:fe}),ve=I?I.split("-"):null,z=null,Q={url:be,range:{start:ve?parseFloat(ve[0]):null,end:ve?parseFloat(ve[1]):null},request:z};for(m.debug("Parse EBML header: "+Q.url),le.skipOverElement(b.EBML),le.consumeTag(b.Segment),j=le.getMatroskaCodedNum(),j+=le.getPos(),ae=le.getPos();le.moreData()&&!le.consumeTagAndSize(b.Segment.Info,!0);)if(!(le.skipOverElement(b.Segment.SeekHead,!0)||le.skipOverElement(b.Segment.Tracks,!0)||le.skipOverElement(b.Segment.Cues,!0)||le.skipOverElement(b.Void,!0)))throw new Error("no valid top level element found");for(;void 0===G;){var Me=le.getMatroskaCodedNum(!0),Ve=le.getMatroskaCodedNum();Me===b.Segment.Info.Duration.tag?G=le[b.Segment.Info.Duration.parse](Ve):le.setPos(le.getPos()+Ve)}z=V(Q),B.load({request:z,success:function(ze){Z=function(Je,Fe,Ie,Ct){var bt,Ft,sn,Be,Te;for(Ft=[],Be=0,Te=(bt=function(nt){var dt,ft,Pt=[],Gt=ao(te).create({data:nt});for(Gt.consumeTagAndSize(b.Segment.Cues);Gt.moreData()&&Gt.consumeTagAndSize(b.Segment.Cues.CuePoint,!0);){for((dt={}).CueTime=Gt.parseTag(b.Segment.Cues.CuePoint.CueTime),dt.CueTracks=[];Gt.moreData()&&Gt.consumeTag(b.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Cn=Gt.getMatroskaCodedNum(),Sn=Gt.getPos();if((ft={}).Track=Gt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===ft.Track)throw new Error("Cue track cannot be 0");ft.ClusterPosition=Gt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),dt.CueTracks.push(ft),Gt.setPos(Sn+Cn)}if(0===dt.CueTracks.length)throw new Error("Mandatory cuetrack not found");Pt.push(dt)}if(0===Pt.length)throw new Error("mandatory cuepoint not found");return Pt}(Je)).length;Be<Te;Be+=1)(sn=new ll.Z).duration=Be<bt.length-1?bt[Be+1].CueTime-bt[Be].CueTime:Ct-bt[Be].CueTime,sn.startTime=bt[Be].CueTime,sn.timescale=1e3,sn.mediaRange=bt[Be].CueTracks[0].ClusterPosition+Fe+"-"+(Be<bt.length-1?bt[Be+1].CueTracks[0].ClusterPosition+Fe-1:Ie-1),Ft.push(sn);return m.debug("Parsed cues: "+Ft.length+" cues."),Ft}(ze,ae,j,G),$(Z)},error:function(){m.error("Download Error: Cues "+Q.url),$(null)}}),m.debug("Perform cues load: "+Q.url+" bytes="+Q.range.start+"-"+Q.range.end)}else $(null)}(_e,Y,De,function(fe){ge({segments:fe,representation:re,error:fe?void 0:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ge({representation:re,error:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){B&&(B.abort(),B=null)}},b={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},v}ou.__dashjs_factory_name="WebmSegmentBaseLoader";const Na=C.Z.getSingletonFactory(ou);function ec(v){var m,b,D,L=this.context,N=(v=v||{}).eventBus,A=v.events,B=v.dashMetrics,ee=v.mediaPlayerModel,ie=v.errHandler,te=v.baseURLController,V=v.debug,re=v.boxParser,X=v.requestModifier,De=v.errors;function ge(Se){return"webm"===(Se?Se.split("/")[1]:"").toLowerCase()}return m={initialize:function(){b.initialize(),D.initialize()},getSegmentBaseInitSegment:function(Se){return ge(Se.representation.mimeType)?D.loadInitialization(Se.representation,Se.mediaType):b.loadInitialization(Se.representation,Se.mediaType)},getSegmentList:function(Se){return ge(Se.mimeType)?D.loadSegments(Se.representation,Se.mediaType,Se.representation?Se.representation.indexRange:null):b.loadSegments(Se.representation,Se.mediaType,Se.representation?Se.representation.indexRange:null)},reset:function(){b.reset(),D.reset()}},b=R0(L).getInstance(),D=Na(L).getInstance(),b.setConfig({baseURLController:te,dashMetrics:B,mediaPlayerModel:ee,errHandler:ie,eventBus:N,events:A,errors:De,debug:V,boxParser:re,requestModifier:X}),D.setConfig({baseURLController:te,dashMetrics:B,mediaPlayerModel:ee,errHandler:ie,eventBus:N,events:A,errors:De,debug:V,requestModifier:X}),m}ec.__dashjs_factory_name="SegmentBaseController";const as=C.Z.getSingletonFactory(ec),su=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Ld=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},Hh=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},M0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null},v_=function(){function v(D){var L=this;(function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this.valid="/"==D[0],this.path=D.split("/").filter(function(N){return 0!==N.length}).map(function(N){var A={name:N},B=N.indexOf("[");if(-1!=B){A.name=N.substring(0,B);var ee=N.substring(B+1,N.length-1);L.valid=L.valid&&-1==ee.indexOf("[");var ie=ee.indexOf("=");-1!=ie?(A.attribute={name:ee.substring(1,ie),value:ee.substring(ie+1)},-1!=["'",'"'].indexOf(A.attribute.value[0])&&(A.attribute.value=A.attribute.value.substring(1,A.attribute.value.length-1))):A.position=parseInt(ee,10)-1}return A})}var b;return(b=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(D,L){for(var N=null,A=D,B=1,ee="MPD";B<this.path.length&&null!==A;){N=A;var ie=this.path[B];if(ee=ie.name,B!==this.path.length-1||!ee.startsWith("@")){var te=N[ee+"_asArray"]||[];0===te.length&&N[ee]&&te.push(N[ee]),ie.position?A=te[ie.position]||null:ie.attribute?function(){var V=ie.attribute;A=te.filter(function(re){return re[V.name]==V.value})[0]||null}():A=te[0]||null}B++}return null===A?null:ee.startsWith("@")?{name:ee.substring(1),leaf:A,target:A}:{name:ee,leaf:A,target:L?N:A}}}])&&function __(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}(),O0=function(){function v(D,L,N){(function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")})(this,v),this.action=D,this.xpath=L,this.value=N,this.position=null}var b;return(b=[{key:"getMpdTarget",value:function(D){return this.xpath.getMpdTarget(D,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}])&&function N0(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}();function y_(){var v,m;return v={getIsPatch:function(D){return D&&D.hasOwnProperty(h.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(D){return D&&D.hasOwnProperty(h.Z.PUBLISH_TIME)?new Date(D[h.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(D){return D&&D.hasOwnProperty(h.Z.ORIGINAL_PUBLISH_TIME)?new Date(D[h.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(D){return D&&D[h.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(D){return D?(D.__children||[]).map(function(L){var N=Object.keys(L)[0];if("add"!==N&&"remove"!==N&&"replace"!==N)return m.warn("Ignoring node of invalid action: ".concat(N)),null;var A=L[N],B=A.sel;if("add"===N&&A.type){if(!A.type.startsWith("@"))return m.warn("Ignoring add action for prefixed namespace declaration: ".concat(A.type,"=").concat(A.__text)),null;B="".concat(B,"/").concat(A.type)}var ee=new v_(B);if(!ee.isValid())return m.warn("Ignoring action with invalid selector: ".concat(N," - ").concat(B)),null;var ie=null;ee.findsAttribute()?ie=A.__text||"":"remove"!==N&&(ie=A.__children.reduce(function(V,re){var X=Object.keys(re)[0];return"#text"!==X&&(V[X]=V[X]||[],V[X].push(re[X])),V},{}));var te=new O0(N,ee,ie);return"add"===N&&(te.position=A.pos),te}).filter(function(L){return!!L}):[]}},m=(0,M.Z)(this.context).getInstance().getLogger(v),v}y_.__dashjs_factory_name="PatchManifestModel";const P0=C.Z.getSingletonFactory(y_);function b_(){var v,m,b,D,L,N,A,B=this.context;function ee(G,Z,j){var le=m.getAdaptationsForType(D[0].mpd.manifest,G,Z);if(!le||0===le.length)return null;if(le.length>1&&j){var ve=V(j,Z);if(L[j.id]&&L[j.id][Z])for(var z=0,Q=le.length;z<Q;z++)if(ie(L[j.id][Z],ve[z]))return le[z];for(var Me=0,Ve=le.length;Me<Ve;Me++)if(m.getRolesForAdaptation(le[Me]).filter(function(ze){return ze.value===h.Z.MAIN})[0])return le[Me]}return le[0]}function ie(G,Z){if(!G||!Z)return!1;var j=G.id===Z.id,ae=G.codec===Z.codec,le=G.viewpoint===Z.viewpoint,ve=JSON.stringify(G.viewpointsWithSchemeIdUri)===JSON.stringify(Z.viewpointsWithSchemeIdUri),z=G.lang===Z.lang,Q=G.roles.toString()===Z.roles.toString(),Me=JSON.stringify(G.rolesWithSchemeIdUri)===JSON.stringify(Z.rolesWithSchemeIdUri),Ve=G.accessibility.toString()===Z.accessibility.toString(),ze=JSON.stringify(G.accessibilitiesWithSchemeIdUri)===JSON.stringify(Z.accessibilitiesWithSchemeIdUri),Je=G.audioChannelConfiguration.toString()===Z.audioChannelConfiguration.toString(),Fe=JSON.stringify(G.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(Z.audioChannelConfigurationsWithSchemeIdUri);return j&&ae&&le&&ve&&z&&Q&&Me&&Ve&&ze&&Je&&Fe}function te(G,Z,j,ae,le,ve){var Q,Me,Ve,ze,Je,Fe=[];if(!ae||0===ae.length)return[];var Ie=m.getAdaptationsForPeriod(Z);for(Ve=0,Je=ae.length;Ve<Je;Ve++)if(Q=Y(Ie[Me=m.getIndexForAdaptation(ae[Ve],G,j.index)]),ve){var Ct=Q.accessibility.length;for(ze=0;ze<Ct;ze++)if(Q){var ht=Q.accessibility[ze];if(0===ht.indexOf("cea-608:")){var bt=ht.substring(8).split(";");if("CC"===bt[0].substring(0,2))for(ze=0;ze<bt.length;ze++)Q||(Q=Y.call(this,Ie[Me])),_e(Q,bt[ze].substring(0,3),bt[ze].substring(4)),Fe.push(Q),Q=null;else for(ze=0;ze<bt.length;ze++)Q||(Q=Y.call(this,Ie[Me])),_e(Q,"CC"+(ze+1),bt[ze]),Fe.push(Q),Q=null}else 0===ht.indexOf("cea-608")&&(_e(Q,N.CC1,"eng"),Fe.push(Q),Q=null)}}else le===N.IMAGE?(Q.type=N.IMAGE,Fe.push(Q),Q=null):Q&&Fe.push(Q);return Fe}function V(G,Z,j){var ae=D,le=j,ve=[];if(le)be(),ae=re(le);else{if(!(D.length>0))return ve;le=D[0].mpd.manifest}var z=Ce(G,ae),Q=m.getAdaptationsForType(le,G?G.index:null,Z);return ve=te(le,z,G,Q,Z),Z===N.TEXT&&(Q=m.getAdaptationsForType(le,G?G.index:null,N.VIDEO),ve=ve.concat(te(le,z,G,Q,Z,!0))),ve}function re(G){var Z=X(G);return m.getRegularPeriods(Z)}function X(G){var Z=ge(G);return m.getMpd(Z)}function De(){D=[],L={}}function ge(G){return G||(D.length>0?D[0].mpd.manifest:null)}function Se(G){try{var Z=Ce(G.streamInfo,D),j=m.getAdaptationsForPeriod(Z);return G&&G.streamInfo&&void 0!==G.streamInfo.id&&j?j[G.index]:null}catch{return null}}function Ce(G,Z){for(var j=Z.length,ae=0;ae<j;ae++){var le=Z[ae];if(G&&G.id===le.id)return le}return null}function Y(G){if(!G)return null;var Z,j,ae,le,ve,z=new Ld,Q=G.period.mpd.manifest.Period_asArray[G.period.index].AdaptationSet_asArray[G.index];if(z.id=G.id,z.index=G.index,z.type=G.type,z.streamInfo=fe(G.period),z.representationCount=m.getRepresentationCount(Q),z.labels=m.getLabelsForAdaptation(Q),z.lang=m.getLanguageForAdaptation(Q),z.segmentAlignment=m.getSegmentAlignment(Q),z.subSegmentAlignment=m.getSubSegmentAlignment(Q),Z=m.getViewpointForAdaptation(Q),z.viewpoint=Z.length?Z[0].value:void 0,z.viewpointsWithSchemeIdUri=Z,ve=m.getAccessibilityForAdaptation(Q),z.accessibility=ve.map(function(Fe){var Ie=Fe.value,Ct=Ie;return Fe.schemeIdUri&&Fe.schemeIdUri.search("cea-608")>=0&&void 0!==A&&(Ct=Ie?"cea-608:"+Ie:"cea-608",z.embeddedCaptions=!0),Ct}),z.accessibilitiesWithSchemeIdUri=ve,j=m.getAudioChannelConfigurationForAdaptation(Q),z.audioChannelConfiguration=j.map(function(Fe){return Fe.value}),z.audioChannelConfigurationsWithSchemeIdUri=j,0===z.audioChannelConfiguration.length&&Array.isArray(Q.Representation_asArray)&&Q.Representation_asArray.length>0&&(ae=m.getAudioChannelConfigurationForRepresentation(Q.Representation_asArray[0]),z.audioChannelConfiguration=ae.map(function(Fe){return Fe.value}),z.audioChannelConfigurationsWithSchemeIdUri=ae),le=m.getRolesForAdaptation(Q),z.roles=le.map(function(Fe){return Fe.value}),z.rolesWithSchemeIdUri=le,z.codec=m.getCodec(Q),z.mimeType=m.getMimeType(Q),z.contentProtection=m.getContentProtectionData(Q),z.bitrateList=m.getBitrateListForAdaptation(Q),z.selectionPriority=m.getSelectionPriority(Q),z.contentProtection){var Me=z.contentProtection.map(function(Fe){return m.getKID(Fe)}).filter(function(Fe){return null!==Fe});if(Me.length){var Ve=Me[0];z.contentProtection.forEach(function(Fe){Fe.keyId=Ve})}}if(z.isText=m.getIsText(Q),z.supplementalProperties=m.getSupplementalPropertiesForAdaptation(Q),(!z.supplementalProperties||0===Object.keys(z.supplementalProperties).length)&&Array.isArray(Q.Representation_asArray)&&Q.Representation_asArray.length>0){var ze=Q.Representation_asArray.map(function(Fe){return m.getSupplementalPropertiesForRepresentation(Fe)});ze.every(function(Fe){return JSON.stringify(Fe)===JSON.stringify(ze[0])})&&(z.supplementalProperties=ze[0])}if(z.supplementalPropertiesAsArray=m.getSupplementalPropertiesAsArrayForAdaptation(Q),(!z.supplementalPropertiesAsArray||0===z.supplementalPropertiesAsArray.length)&&Array.isArray(Q.Representation_asArray)&&Q.Representation_asArray.length>0){var Je=Q.Representation_asArray.map(function(Fe){return m.getSupplementalPropertiesAsArrayForRepresentation(Fe)});Je.every(function(Fe){return JSON.stringify(Fe)===JSON.stringify(Je[0])})&&(z.supplementalPropertiesAsArray=Je[0])}return z.isFragmented=m.getIsFragmented(Q),z.isEmbedded=!1,z}function _e(G,Z,j){G.id=Z,G.index=100+parseInt(Z.substring(2,3)),G.type=N.TEXT,G.codec="cea-608-in-SEI",G.isEmbedded=!0,G.isFragmented=!1,G.lang=Ll()(j),G.roles=["caption"],G.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function fe(G){var Z,j,ae=new Hh;return ae.id=G.id,ae.index=G.index,ae.start=G.start,ae.duration=G.duration,ae.manifestInfo=(Z=G.mpd,(j=new M0).dvrWindowSize=Z.timeShiftBufferDepth,j.loadedTime=Z.manifest.loadedTime,j.availableFrom=Z.availabilityStartTime,j.minBufferTime=Z.manifest.minBufferTime,j.maxFragmentDuration=Z.maxSegmentDuration,j.duration=m.getDuration(Z.manifest),j.isDynamic=m.getIsDynamic(Z.manifest),j.serviceDescriptions=m.getServiceDescriptions(Z.manifest),j.protocol=Z.manifest.protocol,j),ae.isLast=1===G.mpd.manifest.Period_asArray.length||Math.abs(ae.start+ae.duration-ae.manifestInfo.duration)<1,ae}function be(){if(!N)throw new Error("setConfig function has to be called previously")}function I(G){return D.length>0?D[0].mpd.manifest.Period_asArray[G]:null}function $(G,Z,j){var ae,le,ve,z,Q;if(G)for(ae=G.AdaptationSet_asArray,z=0;z<ae.length;z+=1)for(ve=ae[z].Representation_asArray,Q=0;Q<ve.length;Q+=1)if(Z===(le=ve[Q]).id)return j?Q:le;return null}return v={getBandwidthForRepresentation:function(G,Z){var j;return(j=$(I(Z),G))?j.bandwidth:null},getIndexForRepresentation:function(G,Z){return null!==(le=$(I(Z),G,!0))?le:-1;var le},getMaxIndexForBufferType:function(G,Z){return function(j,ae){var le,ve,z,Q;if(!j||!ae)return-1;for(ve=j.AdaptationSet_asArray,Q=0;Q<ve.length;Q+=1)if(z=(le=ve[Q]).Representation_asArray,m.getIsTypeOf(le,ae))return z.length;return-1}(I(Z),G)},convertRepresentationToRepresentationInfo:function(G){if(G){var Z=new su,ae=m.getRepresentationFor(G.index,G.adaptation.period.mpd.manifest.Period_asArray[G.adaptation.period.index].AdaptationSet_asArray[G.adaptation.index]);return Z.id=G.id,Z.quality=G.index,Z.bandwidth=m.getBandwidth(ae),Z.fragmentDuration=G.segmentDuration||(G.segments&&G.segments.length>0?G.segments[0].duration:NaN),Z.MSETimeOffset=G.MSETimeOffset,Z.mediaInfo=Y(G.adaptation),Z}return null},getStreamsInfo:function(G,Z){var j=[],ae=D;if(G&&(be(),ae=re(G)),ae.length>0){(!Z||Z>ae.length)&&(Z=ae.length);for(var le=0;le<Z;le++)j.push(fe(ae[le]))}return j},getMediaInfoForType:function(G,Z){if(0===D.length||!G)return null;var j=Ce(G,D);if(!j)return null;var ae=m.getAdaptationsForPeriod(j),le=ee(G.index,Z,G);return le?Y(ae[m.getIndexForAdaptation(le,D[0].mpd.manifest,G.index)]):null},getAllMediaInfoForType:V,getAdaptationForType:ee,getRealAdaptation:function(G,Z){var j,ae,le=Ce(G,D);return j=Z?Z.id:null,D.length>0&&le&&(ae=j?m.getAdaptationForId(j,D[0].mpd.manifest,le.index):m.getAdaptationForIndex(Z?Z.index:null,D[0].mpd.manifest,le.index)),ae},getProducerReferenceTimes:function(G,Z){var j,ae,le=Ce(G,D);return j=Z?Z.id:null,D.length>0&&le&&(ae=j?m.getAdaptationForId(j,D[0].mpd.manifest,le.index):m.getAdaptationForIndex(Z?Z.index:null,D[0].mpd.manifest,le.index)),ae?m.getProducerReferenceTimesForAdaptation(ae):[]},getRealPeriodByIndex:function(G){return m.getRealPeriodForIndex(G,D[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(G){try{return m.getEssentialPropertiesForRepresentation(G)}catch{return[]}},getVoRepresentations:function(G){var Z=Se(G);return m.getRepresentationsForAdaptation(Z)},getEventsFor:function(G,Z,j){var ae=[];if(D.length>0){var le=D[0].mpd.manifest;if(G instanceof Hh){var ve=Ce(G,D);ae=m.getEventsForPeriod(ve)}else if(G instanceof Ld){var z=Ce(j,D);ae=m.getEventStreamForAdaptationSet(le,Se(G),z)}else if(G instanceof su){var Q=Ce(j,D);ae=m.getEventStreamForRepresentation(le,Z,Q)}}return ae},getEvent:function(G,Z,j,ae){try{if(!G||!Z||isNaN(j)||!ae)return null;var le=G.scheme_id_uri,ve=G.value;if(!Z[le+"/"+ve])return null;var z,Q=new qi,Me=G.timescale||1,Ve=ae.adaptation.period.start,ze=Z[le+"/"+ve],Je=isNaN(ae.presentationTimeOffset)?isNaN(ze.presentationTimeOffset)?0:ze.presentationTimeOffset:ae.presentationTimeOffset,Fe=G.presentation_time_delta/Me;z=0===G.version?Ve+j-Je+Fe:Ve-Je+Fe;var Ie=G.event_duration/Me,Ct=G.id,ht=G.message_data;return Q.eventStream=ze,Q.eventStream.value=ve,Q.eventStream.timescale=Me,Q.duration=Ie,Q.id=Ct,Q.calculatedPresentationTime=z,Q.messageData=ht,Q.presentationTimeDelta=Fe,Q}catch{return null}},getMpd:X,setConfig:function(G){G&&(G.constants&&(N=G.constants),G.cea608parser&&(A=G.cea608parser),G.errHandler&&m.setConfig({errHandler:G.errHandler}),G.BASE64&&m.setConfig({BASE64:G.BASE64}))},updatePeriods:function(G){if(!G)return null;be(),D=re(G)},getIsTextTrack:function(G){return m.getIsText(G)},getUTCTimingSources:function(){var G=ge();return m.getUTCTimingSources(G)},getSuggestedPresentationDelay:function(){return m.getSuggestedPresentationDelay(D.length>0?D[0].mpd:null)},getAvailabilityStartTime:function(G){var Z=X(G);return m.getAvailabilityStartTime(Z)},getIsTypeOf:function(G,Z){return m.getIsTypeOf(G,Z)},getIsDynamic:function(G){var Z=ge(G);return m.getIsDynamic(Z)},getDuration:function(G){var Z=ge(G);return m.getDuration(Z)},getRegularPeriods:re,getContentSteering:function(G){return m.getContentSteering(G)},getLocation:function(G){return m.getLocation(G)},getPatchLocation:function(G){var Z=m.getPatchLocation(G),j=m.getPublishTime(G);return Z&&0!==Z.length&&j?Z.filter(function(ae){return isNaN(ae.ttl)||j.getTime()+ae.ttl>(new Date).getTime()}):[]},getManifestUpdatePeriod:function(G){return m.getManifestUpdatePeriod(G,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function(G){return m.getPublishTime(G)},getIsDVB:function(G){return m.hasProfile(G,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(G){return b.getIsPatch(G)},getBaseURLsFromElement:function(G){return m.getBaseURLsFromElement(G)},getRepresentationSortFunction:function(){return m.getRepresentationSortFunction()},getCodec:function(G,Z,j){return m.getCodec(G,Z,j)},getPeriodById:function(G){if(!G||0===D.length)return null;var Z=D.filter(function(j){return j.id===G});return Z&&Z.length>0?Z[0]:null},setCurrentMediaInfo:function(G,Z,j){L[G]=L[G]||{},L[G][Z]=L[G][Z]||{},L[G][Z]=j},isPatchValid:function(G,Z){var j=m.getId(G),ae=b.getMpdId(Z),le=m.getPublishTime(G),ve=b.getPublishTime(Z),z=b.getOriginalPublishTime(Z);return!!(j&&ae&&j==ae&&le&&z&&le.getTime()==z.getTime()&&ve&&le.getTime()<ve.getTime())},applyPatchToManifest:function(G,Z){b.getPatchOperations(Z).forEach(function(j){var ae=j.getMpdTarget(G);if(null!==ae){var le=ae.name,ve=ae.target,z=ae.leaf;if(j.xpath.findsAttribute())switch(j.action){case"add":case"replace":ve[le]=j.value;break;case"remove":delete ve[le]}else{var Q=(ve[le+"_asArray"]||[]).indexOf(z),Me="prepend"===j.position||"before"===j.position;if(("remove"===j.action||"replace"===j.action)&&(delete ve[le],-1!=Q)){var Ve=ve[le+"_asArray"];Ve.splice(Q,1),Ve.length>1?ve[le]=Ve:1==Ve.length?ve[le]=Ve[0]:delete ve[le+"_asArray"]}"add"!==j.action&&"replace"!==j.action||Object.keys(j.value).forEach(function(ze){var Je=j.value[ze],Fe=ve[ze+"_asArray"]||[];0===Fe.length&&ve[ze]&&Fe.push(ve[ze]),0===Fe.length?Fe=Je:Fe.splice.apply(Fe,[ze==le&&-1!=Q?Q+(Me?0:1)+("replace"==j.action?-1:0):Me?0:Fe.length,0].concat(Je)),ve[ze+"_asArray"]=Fe,ve[ze]=1==Fe.length?Fe[0]:Fe})}}})},areMediaInfosEqual:ie,reset:De},m=Fn(B).getInstance(),b=P0(B).getInstance(),De(),v}b_.__dashjs_factory_name="DashAdapter";const k0=C.Z.getSingletonFactory(b_);var F0=function(){function v(){!function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}(this,v)}var b;return(b=[{key:"round10",value:function(D,L){return N="round",A=D,void 0===(B=L)||0==+B?Math[N](A):(B=+B,null===(A=+A)||isNaN(A)||"number"!=typeof B||B%1!=0?NaN:(A=A.toString().split("e"),+((A=(A=Math[N](+(A[0]+"e"+(A[1]?+A[1]-B:-B)))).toString().split("e"))[0]+"e"+(A[1]?+A[1]+B:B))));var N,A,B}}])&&function L0(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v,b),v}();const B0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},U0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.t=null,this.mt=null,this.to=null,this.lto=null},V0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.t=null,this.level=null},j0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.target=null,this.state=O.Z.BUFFER_EMPTY},Zh=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.time=null,this.range=null,this.manifestInfo=null},zh=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.time=null,this.droppedFrames=null};function Gh(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var H0=function v(){Gh(this,v),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},Z0=function v(){Gh(this,v),this.id=null,this.index=null,this.start=null,this.duration=null},Oa=function v(){Gh(this,v),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};const qh=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},z0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.loadingRequests=[],this.executedRequests=[]};function au(v){var m,b,D=(v=v||{}).settings,N=(0,S.Z)(this.context).getInstance();function A(){N.trigger(g.Z.METRICS_CHANGED)}function B(X){N.trigger(g.Z.METRIC_CHANGED,{mediaType:X}),A()}function ee(X,De,ge){N.trigger(g.Z.METRIC_UPDATED,{mediaType:X,metric:De,value:ge}),B(X)}function ie(X,De,ge){N.trigger(g.Z.METRIC_ADDED,{mediaType:X,metric:De,value:ge}),B(X)}function te(X,De){var ge=null;return X&&(b.hasOwnProperty(X)?ge=b[X]:De||(ge=new B0,b[X]=ge)),ge}function V(X,De,ge){var Se=te(X);null!==Se&&(Se[De].push(ge),Se[De].length>D.get().streaming.metrics.maxListDepth&&Se[De].shift())}function re(X,De,ge){V(X,De,ge),ie(X,De,ge)}return m={clearCurrentMetricsForType:function(X){delete b[X],B(X)},clearAllCurrentMetrics:function(){b={},A()},getMetricsFor:te,addHttpRequest:function X(De,ge,Se,Ce,Y,_e,fe,be,I,$,G,Z,j,ae,le,ve,z){var Q=new He.w;_e&&_e!==Ce&&(X(De,null,Se,Ce,Y,null,null,be,I,null,null,null,j,null,null,ve,z),Q.actualurl=_e),Q.tcpid=ge,Q.type=Se,Q.url=Ce,Q.range=be,Q.trequest=I,Q.tresponse=$,Q.responsecode=Z,Q.cmsd=z,Q._tfinish=G,Q._stream=De,Q._mediaduration=j,Q._quality=Y,Q._responseHeaders=ae,Q._serviceLocation=fe,Q._fileLoaderType=ve,le?le.forEach(function(Me){var Ve,ze,Je,Fe,Ie;Ve=Q,ze=Me.s,Je=Me.d,Fe=Me.b,(Ie=new He.O).s=ze,Ie.d=Je,Ie.b=Fe,Ve.trace.push(Ie),Ve.interval||(Ve.interval=0),Ve.interval+=Je}):(delete Q.interval,delete Q.trace),re(De,O.Z.HTTP_REQUEST,Q)},addRepresentationSwitch:function(X,De,ge,Se,Ce){var Y=new U0;Y.t=De,Y.mt=ge,Y.to=Se,Ce?Y.lto=Ce:delete Y.lto,re(X,O.Z.TRACK_SWITCH,Y)},addBufferLevel:function(X,De,ge){var Se=new V0;Se.t=De,Se.level=ge,re(X,O.Z.BUFFER_LEVEL,Se)},addBufferState:function(X,De,ge){var Se=new j0;Se.target=ge,Se.state=De,re(X,O.Z.BUFFER_STATE,Se)},addDVRInfo:function(X,De,ge,Se){var Ce=new Zh;Ce.time=De,Ce.range=Se,Ce.manifestInfo=ge,re(X,O.Z.DVR_INFO,Ce)},addDroppedFrames:function(X,De){var ge=new zh,Se=te(X).DroppedFrames;De&&(ge.time=De.creationTime,ge.droppedFrames=De.droppedVideoFrames,Se.length>0&&Se[Se.length-1]==ge||re(X,O.Z.DROPPED_FRAMES,ge))},addSchedulingInfo:function(X,De,ge,Se,Ce,Y,_e,fe,be){var I=new qh;I.mediaType=X,I.t=De,I.type=ge,I.startTime=Se,I.availabilityStartTime=Ce,I.duration=Y,I.quality=_e,I.range=fe,I.state=be,re(X,O.Z.SCHEDULING_INFO,I)},addRequestsQueue:function(X,De,ge){var Se=new z0;Se.loadingRequests=De,Se.executedRequests=ge,te(X).RequestsQueue=Se,ie(X,O.Z.REQUESTS_QUEUE,Se)},addManifestUpdate:function(X,De,ge,Se,Ce,Y,_e,fe,be,I){var $=new H0;$.mediaType=X,$.type=De,$.requestTime=ge,$.fetchTime=Se,$.availabilityStartTime=Ce,$.presentationStartTime=Y,$.clientTimeOffset=_e,$.currentTime=fe,$.buffered=be,$.latency=I,V(f.Z.STREAM,O.Z.MANIFEST_UPDATE,$),ie(X,O.Z.MANIFEST_UPDATE,$)},updateManifestUpdateInfo:function(X,De){if(X){for(var ge in De)X[ge]=De[ge];ee(X.mediaType,O.Z.MANIFEST_UPDATE,X)}},addManifestUpdateStreamInfo:function(X,De,ge,Se,Ce){if(X){var Y=new Z0;Y.id=De,Y.index=ge,Y.start=Se,Y.duration=Ce,X.streamInfo.push(Y),ee(X.mediaType,O.Z.MANIFEST_UPDATE_STREAM_INFO,X)}},addManifestUpdateRepresentationInfo:function(X,De,ge,Se,Ce,Y,_e,fe){if(X&&X.representationInfo){var be=new Oa;be.id=De,be.index=ge,be.streamIndex=Se,be.mediaType=Ce,be.startNumber=_e,be.fragmentInfoType=fe,be.presentationTimeOffset=Y,X.representationInfo.push(be),ee(X.mediaType,O.Z.MANIFEST_UPDATE_TRACK_INFO,X)}},addPlayList:function(X){X.trace&&Array.isArray(X.trace)?X.trace.forEach(function(De){De.hasOwnProperty("subreplevel")&&!De.subreplevel&&delete De.subreplevel}):delete X.trace,re(f.Z.STREAM,O.Z.PLAY_LIST,X)},addDVBErrors:function(X){re(f.Z.STREAM,O.Z.DVB_ERRORS,X)}},b={},m}au.__dashjs_factory_name="MetricsModel";const Yh=C.Z.getSingletonFactory(au);function $h(v){var m,b,D,L,A=(v=v||{}).metricsModel;function B(te){var V=A.getMetricsFor(te,!0);if(!V)return null;var re,X=V.HttpList,De=null;if(!X||X.length<=0)return null;for(re=X.length-1;re>=0;){if(X[re].responsecode){De=X[re];break}re--}return De}function ee(te){var V=A.getMetricsFor(te,!0);return V&&V.HttpList?V.HttpList:[]}function ie(te,V){if(!te)return null;var re=te[V];return re&&0!==re.length?re[re.length-1]:null}return m={getCurrentRepresentationSwitch:function(te){return ie(A.getMetricsFor(te,!0),O.Z.TRACK_SWITCH)},getCurrentBufferState:function(te){return ie(A.getMetricsFor(te,!0),O.Z.BUFFER_STATE)},getCurrentBufferLevel:function(te){var V=ie(A.getMetricsFor(te,!0),O.Z.BUFFER_LEVEL);return V?F0.round10(V.level/1e3,-3):0},getCurrentHttpRequest:B,getHttpRequests:ee,getCurrentDroppedFrames:function(){return ie(A.getMetricsFor(f.Z.VIDEO,!0),O.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(te){return ie(A.getMetricsFor(te,!0),O.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(te){return ie(te?A.getMetricsFor(te,!0):A.getMetricsFor(f.Z.VIDEO,!0)||A.getMetricsFor(f.Z.AUDIO,!0),O.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return ie(A.getMetricsFor(f.Z.STREAM),O.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(te,V){if(!V)return null;var re={},X=B(te);X&&(re=ir.Z.parseHttpHeaders(X._responseHeaders));var De=re[V.toLowerCase()];return void 0===De?null:De},getLatestMPDRequestHeaderValueByID:function(te){if(!te)return null;var V,re,X,De={};for(X=(V=ee(f.Z.STREAM)).length-1;X>=0;X--)if((re=V[X]).type===He.w.MPD_TYPE){De=ir.Z.parseHttpHeaders(re._responseHeaders);break}var ge=De[te.toLowerCase()];return void 0===ge?null:ge},addRepresentationSwitch:function(te,V,re,X,De){A.addRepresentationSwitch(te,V,re,X,De)},addDVRInfo:function(te,V,re,X){A.addDVRInfo(te,V,re,X)},updateManifestUpdateInfo:function(te){var V=this.getCurrentManifestUpdate();A.updateManifestUpdateInfo(V,te)},addManifestUpdateStreamInfo:function(te){if(te){var V=this.getCurrentManifestUpdate();A.addManifestUpdateStreamInfo(V,te.id,te.index,te.start,te.duration)}},addManifestUpdateRepresentationInfo:function(te,V){if(te){var re=this.getCurrentManifestUpdate();A.addManifestUpdateRepresentationInfo(re,te.id,te.index,te.streamIndex,V,te.presentationTimeOffset,te.startNumber,te.fragmentInfoType)}},addManifestUpdate:function(te){A.addManifestUpdate(f.Z.STREAM,te.type,te.requestStartDate,te.requestEndDate)},addHttpRequest:function(te,V,re,X,De,ge){A.addHttpRequest(te.mediaType,null,te.type,te.url,te.quality,V,te.serviceLocation||null,te.range||null,te.requestStartDate,te.firstByteDate,te.requestEndDate,re,te.duration,X,De,te.fileLoaderType,ge)},addSchedulingInfo:function(te,V){A.addSchedulingInfo(te.mediaType,new Date,te.type,te.startTime,te.availabilityStartTime,te.duration,te.quality,te.range,V)},addRequestsQueue:function(te,V,re){A.addRequestsQueue(te,V,re)},addBufferLevel:function(te,V,re){A.addBufferLevel(te,V,re)},addBufferState:function(te,V,re){A.addBufferState(te,V,re)},addDroppedFrames:function(te){A.addDroppedFrames(f.Z.VIDEO,te)},addPlayList:function(){L&&(A.addPlayList(L),L=null)},addDVBErrors:function(te){A.addDVBErrors(te)},createPlaylistMetrics:function(te,V){(L=new Le).start=new Date,L.mstart=te,L.starttype=V},createPlaylistTraceMetrics:function(te,V,re){!0===b&&(b=!1,(D=new tt).representationid=te,D.start=new Date,D.mstart=V,D.playbackspeed=null!==re?re.toString():null)},updatePlayListTraceMetrics:function(te){if(D)for(var V in D)D[V]=te[V]},pushPlayListTraceMetrics:function(te,V){if(!1===b&&L&&D&&D.start){var re=D.start,X=te.getTime()-re.getTime();D.duration=X,D.stopreason=V,L.trace.push(D),b=!0}},clearAllCurrentMetrics:function(){A.clearAllCurrentMetrics()}},A=A||Yh(this.context).getInstance({settings:v.settings}),b=!0,D=null,L=null,m}$h.__dashjs_factory_name="DashMetrics";const E_=C.Z.getSingletonFactory($h);function Wh(){var v,m,b,D,L=this.context,N=(0,S.Z)(L).getInstance(),A=(0,Nt.Z)(L).getInstance();function B(Ce){D=Ce}function ee(Ce,Y,_e,fe){var be,I=Y.adaptation.period.mpd,$=I.availabilityStartTime;if(fe)be=_e&&I.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date($.getTime()+1e3*(Ce+I.timeShiftBufferDepth)):I.availabilityEndTime;else if(_e){var G=Y.availabilityTimeOffset;be=new Date($.getTime()+1e3*(Ce-G))}else be=$;return be}function ie(Ce,Y){return(Ce.getTime()-Y.mpd.availabilityStartTime.getTime()+1e3*D)/1e3}function te(Ce,Y){return Ce+(Y.adaptation.period.start-Y.presentationTimeOffset)}function V(Ce){var Y={start:NaN,end:NaN},_e=Ce[0].getAdapter().getRegularPeriods()[0],fe=ie(new Date,_e);if(!Ce||0===Ce.length)return{range:Y,now:fe};Ce.forEach(function(I){var $=I.getAdapter(),G=$.getMediaInfoForType(I.getStreamInfo(),f.Z.VIDEO)||$.getMediaInfoForType(I.getStreamInfo(),f.Z.AUDIO),Z=$.getVoRepresentations(G)[0],j={start:NaN,end:NaN};if(Z)if(Z.segmentInfoType===h.Z.SEGMENT_TIMELINE)j=function(le){var ve,z,Q,Me,ze=m.getRepresentationFor(le.index,le.adaptation.period.mpd.manifest.Period_asArray[le.adaptation.period.index].AdaptationSet_asArray[le.adaptation.index]),Je=ze.SegmentTemplate||ze.SegmentList,Ie=Je.timescale,Ct=Je.SegmentTimeline.S_asArray,ht={start:0,end:0},bt=Ct[0].t,Ft=!isNaN(bt),sn=Ft?bt:0,Be=0;for(Ft&&(ht.start=te(sn/Ie,le)),Q=0,Me=Ct.length;Q<Me;Q++)z=0,(ve=Ct[Q]).hasOwnProperty("r")&&(z=ve.r),Be+=ve.d*(1+z);return ht.end=te((sn+Be)/Ie,le),ht}(Z);else{var ae=Z.adaptation.period;j.start=ae.start,j.end=Math.max(fe,ae.start+ae.duration)}!isNaN(j.start)&&(isNaN(Y.start)||Y.start>j.start)&&(Y.start=j.start),!isNaN(j.end)&&(isNaN(Y.end)||Y.end<j.end)&&(Y.end=j.end)}),Y.end=Math.min(fe,Y.end);var be=X(Ce,Y.end,!0);return Y.end=isNaN(be)?Y.end:be,Y.start=_e&&_e.mpd&&_e.mpd.timeShiftBufferDepth&&!isNaN(_e.mpd.timeShiftBufferDepth)&&!isNaN(Y.end)?Math.max(Y.end-_e.mpd.timeShiftBufferDepth,Y.start):Y.start,Y.start=X(Ce,Y.start),{range:Y,now:fe}}function re(Ce,Y){b=Ce-Y.end}function X(Ce,Y){var _e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var fe=0,be=!1,I=NaN;!be&&fe<Ce.length;){var $=Ce[fe].getStreamInfo();$.start<=Y&&(!isFinite($.duration)||$.start+$.duration>=Y)?(I=Y,be=!0):!_e&&$.start>Y&&(isNaN(I)||$.start<I)?I=$.start:_e&&$.start+$.duration<Y&&(isNaN(I)||$.start+$.duration>I)&&(I=$.start+$.duration),fe+=1}return I}catch{return Y}}function De(Ce){void 0===Ce.offset||isNaN(Ce.offset)||B(Ce.offset/1e3)}function ge(){D=0,b=0}function Se(){N.off(g.Z.UPDATE_TIME_SYNC_OFFSET,De,this),ge()}return v={initialize:function(){ge(),N.on(g.Z.UPDATE_TIME_SYNC_OFFSET,De,this)},getClientTimeOffset:function(){return D},setClientTimeOffset:B,getClientReferenceTime:function(){return Date.now()-1e3*b+1e3*D},calcAvailabilityStartTimeFromPresentationTime:function(Ce,Y,_e){return ee(Ce,Y,_e)},calcAvailabilityEndTimeFromPresentationTime:function(Ce,Y,_e){return ee(Ce,Y,_e,!0)},calcPresentationTimeFromWallTime:ie,calcPresentationTimeFromMediaTime:te,calcPeriodRelativeTimeFromMpdRelativeTime:function(Ce,Y){return Y-Ce.adaptation.period.start},calcMediaTimeFromPresentationTime:function(Ce,Y){return Ce-Y.adaptation.period.start+Y.presentationTimeOffset},calcWallTimeForSegment:function(Ce,Y){var fe,be;return Y&&(fe=Ce.presentationStartTime+Ce.representation.adaptation.period.mpd.suggestedPresentationDelay,be=new Date(Ce.availabilityStartTime.getTime()+1e3*fe)),be},calcTimeShiftBufferWindow:function(Ce,Y){if(!Y)return be={start:NaN,end:NaN},I=0,$=NaN,Ce.forEach(function(G){var Z=G.getStreamInfo();I+=Z.duration,(isNaN($)||Z.start<$)&&($=Z.start)}),be.start=$,be.end=$+I,be;var be,I,$;if(A.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var _e=V(Ce);return re(_e.now,_e.range),_e.range}return function(fe){var be={start:NaN,end:NaN};if(!fe||0===fe.length)return be;var I=fe[0].getAdapter().getRegularPeriods()[0],$=ie(new Date,I),G=I.mpd.timeShiftBufferDepth,Z=isNaN(G)?0:$-G;if(be.start=X(fe,Z),be.end=!isNaN(be.start)&&$<be.start?$:X(fe,$,!0),!isNaN(G)&&be.end<$-G&&(be.end=NaN),A.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var j=V(fe);if(j.range.end<be.start)return N.trigger(p.Z.CONFORMANCE_VIOLATION,{level:Vr.LEVELS.WARNING,event:Vr.EVENTS.INVALID_DVR_WINDOW}),re(j.now,j.range),j.range}return be}(Ce)},reset:Se},m=Fn(L).getInstance(),Se(),v}Wh.__dashjs_factory_name="TimelineConverter";const G0=C.Z.getSingletonFactory(Wh);var Fd=F(4593),Mo=F(6934);function cl(v){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function xi(v,m){return(xi=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Ss(v){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const Bd=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&xi(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Ss(m);if(b){var B=Ss(this).constructor;N=Reflect.construct(A,arguments,B)}else N=A.apply(this,arguments);return function lu(v,m){return!m||"object"!==cl(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){var N;return function(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,L),(N=D.call(this)).captionData=null,N.label=null,N.defaultTrack=!1,N.kind=null,N.isFragmented=!1,N.isEmbedded=!1,N.isTTML=null,N}return L}(Ld);var Ud=F(2295);function tc(){var v=0;function m(B){for(var ee="",ie=0;ie<B.length;++ie)ee+=B[ie].uchar;return ee.length-ee.replace(/^\s+/,"").length}function b(B){return"left: "+3.125*B.x+"%; top: "+6.66*B.y1+"%; width: "+(100-3.125*B.x)+"%; height: "+6.66*Math.max(B.y2-1-B.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(B){return"red"===B?"rgb(255, 0, 0)":"green"===B?"rgb(0, 255, 0)":"blue"===B?"rgb(0, 0, 255)":"cyan"===B?"rgb(0, 255, 255)":"magenta"===B?"rgb(255, 0, 255)":"yellow"===B?"rgb(255, 255, 0)":"white"===B?"rgb(255, 255, 255)":"black"===B?"rgb(0, 0, 0)":B}function L(B,ee){var ie=B.videoHeight/15;return ee?"font-size: "+ie+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(ee.foreground?D(ee.foreground):"rgb(255, 255, 255)")+"; font-style: "+(ee.italics?"italic":"normal")+"; text-decoration: "+(ee.underline?"underline":"none")+"; white-space: pre; background-color: "+(ee.background?D(ee.background):"transparent")+";":"font-size: "+ie+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function N(B){return B.replace(/^\s+/g,"")}function A(B){return B.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(B,ee,ie,te){var V,re,X=null,De=!1,ge=-1,Se={start:ee,end:ie,spans:[]},Ce="style_cea608_white_black",Y={},_e={},fe=[];for(V=0;V<15;++V){var be=te.rows[V],I="",$=null;if(!1===be.isEmpty()){var G=m(be.chars);null===X&&(X={x:G,y1:V,y2:V+1,p:[]}),G!==ge&&De&&(X.p.push(Se),Se={start:ee,end:ie,spans:[]},X.y2=V,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===Y.hasOwnProperty(X.name)?(fe.push(X),Y[X.name]=X):Y[X.name].p.contat(X.p),X={x:G,y1:V,y2:V+1,p:[]});for(var Z=0;Z<be.chars.length;++Z){var j=be.chars[Z],ae=j.penState;if(null===$||!ae.equals($)){I.trim().length>0&&(Se.spans.push({name:Ce,line:I,row:V}),I="");var le="style_cea608_"+ae.foreground+"_"+ae.background;ae.underline&&(le+="_underline"),ae.italics&&(le+="_italics"),_e.hasOwnProperty(le)||(_e[le]=JSON.parse(JSON.stringify(ae))),$=ae,Ce=le}I+=j.uchar}I.trim().length>0&&Se.spans.push({name:Ce,line:I,row:V}),De=!0,ge=G}else De=!1,ge=-1,X&&(X.p.push(Se),Se={start:ee,end:ie,spans:[]},X.y2=V,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===Y.hasOwnProperty(X.name)?(fe.push(X),Y[X.name]=X):Y[X.name].p.contat(X.p),X=null)}X&&(X.p.push(Se),X.y2=V+1,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===Y.hasOwnProperty(X.name)?(fe.push(X),Y[X.name]=X):Y[X.name].p.contat(X.p),X=null);var ve=[];for(V=0;V<fe.length;++V){var z=fe[V],Q="sub_cea608_"+v++,Me=document.createElement("div");Me.id=Q;var Ve=b(z);Me.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Ve;var ze=document.createElement("div");ze.className="paragraph bodyStyle",ze.style.cssText=L(B);var Je=document.createElement("div");Je.className="cueUniWrapper",Je.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Fe=0;Fe<z.p.length;++Fe){var Ie=z.p[Fe],Ct=0;for(re=0;re<Ie.spans.length;++re){var ht=Ie.spans[re];if(ht.line.length>0){if(0!==re&&Ct!=ht.row){var bt=document.createElement("br");bt.className="lineBreak",Je.appendChild(bt)}var Ft=!1;Ct===ht.row&&(Ft=!0),Ct=ht.row;var sn=_e[ht.name],Be=document.createElement("span");Be.className="spanPadding "+ht.name+" customSpanColor",Be.style.cssText=L(B,sn),Be.textContent=0!==re&&Ft?re===Ie.spans.length-1?A(ht.line):ht.line:Ie.spans.length>1&&re<Ie.spans.length-1&&ht.row===Ie.spans[re+1].row?N(ht.line):ht.line.trim(),Je.appendChild(Be)}}}ze.appendChild(Je),Me.appendChild(ze);var Te={bodyStyle:["%",90]};for(var et in _e)_e.hasOwnProperty(et)&&(Te[et]=["%",90]);ve.push({type:"html",start:ee,end:ie,cueHTMLElement:Me,cueID:Q,cellResolution:[32,15],isFromCEA608:!0,fontSize:Te,lineHeight:{},linePadding:{}})}return ve}}}tc.__dashjs_factory_name="EmbeddedTextHtmlRender";const w_=C.Z.getSingletonFactory(tc);function Kh(v){var m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Se,Ce=v.errHandler,Y=v.manifestModel,_e=v.mediaController,fe=v.videoModel,be=v.textTracks,I=v.vttParser,$=v.vttCustomRenderingParser,G=v.ttmlParser,Z=v.streamInfo,j=v.settings,ae=this.context,le=(0,S.Z)(ae).getInstance(),ve=!1;function z(){A=null,ee=NaN,ie=[],te=null,B=!1,N=[],L=null}function Q(ht){var sn,Be,bt=new Bd;for(var Ft in ht)bt[Ft]=ht[Ft];bt.labels=ht.labels,bt.defaultTrack=(sn=ht,Be=!1,re.length>1&&sn.isEmbedded?Be=sn.id&&sn.id===f.Z.CC1:1===re.length?sn.id&&"string"==typeof sn.id&&"CC"===sn.id.substring(0,2)&&(Be=!0):0===re.length&&(Be=sn.index===N[0].index),Be),bt.isFragmented=ht.isFragmented,bt.isEmbedded=!!ht.isEmbedded,bt.isTTML=function(sn){return sn.codec&&sn.codec.search(f.Z.STPP)>=0||sn.mimeType&&sn.mimeType.search(f.Z.TTML)>=0}(ht),bt.kind=function(sn,Be){var Te=sn.roles&&sn.roles.length>0?Be[sn.roles[0]]:Be.caption;return Te===Be.caption||Te===Be.subtitle?Te:Be.caption}(ht,{subtitle:"subtitles",caption:"captions"}),be.addTextTrack(bt)}function Me(ht){var bt=ht.chunk;bt.mediaInfo.embeddedCaptions&&ze(bt.bytes,bt)}function Ve(ht){V=ht}function ze(ht,bt){var Ft=bt.mediaInfo,sn=Ft.type,Te=Ft.codec||Ft.mimeType;Te?-1!==Ft.codec.indexOf("application/mp4")?function(et,Oe,nt){var dt;if("InitializationSegment"===Oe.segmentType)B=!0,ee=D.getMediaTimescaleFromMoov(et);else{if(!B)return;(dt=D.getSamplesInfo(et).sampleList).length>0&&(te=dt[0].cts-Oe.start*ee),nt.search(f.Z.STPP)>=0?function(ft,Pt,Gt){var Cn,Sn;for(L=null!==L?L:Ie(Gt),Cn=0;Cn<Pt.length;Cn++){var dn=Pt[Cn],Dn=dn.cts,Rn=Fe(),er=Rn+Dn/ee;m.buffered.add(er,er+dn.duration/ee);var zn=new DataView(ft,dn.offset,dn.subSizes[0]),hr=Mo.Utils.dataViewToString(zn,f.Z.UTF8),nr=[],pr=dn.offset+dn.subSizes[0];for(Sn=1;Sn<dn.subSizes.length;Sn++){var jt=new Uint8Array(ft,pr,dn.subSizes[Sn]),En=String.fromCharCode.apply(null,jt);nr.push(En),pr+=dn.subSizes[Sn]}try{var bn=Y.getValue().ttmlTimeIsRelative?Dn/ee:0,_n=L.parse(hr,bn,Dn/ee,(Dn+dn.duration)/ee,nr);be.addCaptions(V,Rn,_n)}catch(pt){A.removeExecutedRequestsBeforeTime(),this.remove(),b.error("TTML parser error: "+pt.message)}}}(et,dt,nt):function(ft,Pt){var Gt,Cn,Sn,dn=[];for(Gt=0;Gt<Pt.length;Gt++){var Dn=Pt[Gt];Dn.cts-=te;var Rn=Fe()+Dn.cts/ee;m.buffered.add(Rn,Rn+Dn.duration/ee);var lr=ft.slice(Dn.offset,Dn.offset+Dn.size),zn=Mo.parseBuffer(lr);for(Cn=0;Cn<zn.boxes.length;Cn++){var hr=zn.boxes[Cn];if(b.debug("VTT box1: "+hr.type),"vtte"!==hr.type&&"vttc"===hr.type){b.debug("VTT vttc boxes.length = "+hr.boxes.length);var nr={styles:{}};for(Sn=0;Sn<hr.boxes.length;Sn++){var pr=hr.boxes[Sn];if(b.debug("VTT box2: "+pr.type),"payl"===pr.type)nr.start=Dn.cts/ee,nr.end=(Dn.cts+Dn.duration)/ee,nr.data=pr.cue_text;else if("sttg"===pr.type&&pr.settings&&""!==pr.settings)try{var jt=pr.settings.split(" ");nr.styles=I.getCaptionStyles(jt)}catch{}}nr&&nr.data&&(dn.push(nr),b.debug("VTT  ".concat(nr.start," - ").concat(nr.end," :  ").concat(nr.data)))}}}dn.length>0&&be.addCaptions(V,0,dn)}(et,dt)}}(ht,bt,Te):sn===f.Z.VIDEO?function(et,Oe){var nt,dt;if(Oe.segmentType===He.w.INIT_SEGMENT_TYPE)0===X&&(X=D.getMediaTimescaleFromMoov(et));else if(Oe.segmentType===He.w.MEDIA_SEGMENT_TYPE){if(0===X)return void b.warn("CEA-608: No timescale for embeddedTextTrack yet");var ft=(dt=D.getSamplesInfo(et)).lastSequenceNumber;if(ge[0]||ge[1]||function(){for(var dn,Dn=0;Dn<re.length;Dn++){if(-1===(dn=be.getTrackIdxForId(re[Dn].id)))return void b.warn("CEA-608: data before track is ready.");var Rn=Je(dn);ge[Dn]=new(P().Cea608Parser)(Dn+1,{newCue:Rn},null)}}(),X){if(null!==De&&ft!==De+dt.numSequences)for(nt=0;nt<ge.length;nt++)ge[nt]&&ge[nt].reset();for(var Pt=function(dn,Dn){if(0===Dn.length)return null;for(var Rn={splits:[],fields:[[],[]]},er=new DataView(dn),lr=0;lr<Dn.length;lr++)for(var zn=Dn[lr],hr=P().findCea608Nalus(er,zn.offset,zn.size),nr=null,pr=0,jt=0;jt<hr.length;jt++)for(var En=P().extractCea608DataFromRange(er,hr[jt]),bn=0;bn<2;bn++)if(En[bn].length>0){zn.cts!==nr?pr=0:pr+=1;var _n=Fe();Rn.fields[bn].push([zn.cts+_n*X,En[bn],pr]),nr=zn.cts}return Rn.fields.forEach(function(pt){pt.sort(function(Zt,ct){return Zt[0]===ct[0]?Zt[2]-ct[2]:Zt[0]-ct[0]})}),Rn}(et,dt.sampleList),Gt=0;Gt<ge.length;Gt++){var Cn=Pt.fields[Gt],Sn=ge[Gt];if(Sn)for(nt=0;nt<Cn.length;nt++)Sn.addData(Cn[nt][0]/X,Cn[nt][1])}De=ft}}}(ht,bt):function(et,Oe,nt){var dt,ft,Pt=new DataView(et,0,et.byteLength);ft=Mo.Utils.dataViewToString(Pt,f.Z.UTF8);try{dt=Ie(nt).parse(ft,0),be.addCaptions(be.getCurrentTrackIdx(),0,dt),m.buffered&&m.buffered.add(Oe.start,Oe.end)}catch(Gt){Ce.error(new K.Z(pe.TIMED_TEXT_ERROR_ID_PARSE_CODE,pe.TIMED_TEXT_ERROR_MESSAGE_PARSE+Gt.message,ft))}}(ht,bt,Te):b.error("No text type defined")}function Je(ht){return function(bt,Ft,sn){var Be;(Be=fe.getTTMLRenderingDiv()?Se.createHTMLCaptionsFromScreen(fe.getElement(),bt,Ft,sn):[{start:bt,end:Ft,data:sn.getDisplayText(),styles:{}}])&&be.addCaptions(ht,0,Be)}}function Fe(){return isNaN(m.timestampOffset)?0:m.timestampOffset}function Ie(ht){var bt;return ht.search(f.Z.VTT)>=0?bt=j.get().streaming.text.webvtt.customRenderingEnabled&&$?$:I:(ht.search(f.Z.TTML)>=0||ht.search(f.Z.STPP)>=0)&&(bt=G),bt}function Ct(ht){re.forEach(function(bt){var Ft=be.getTrackIdxForId(bt.id);Ft>=0&&be.deleteCuesFromTrackIdx(Ft,ht.from,ht.to)})}return m={initialize:function(){ve||(re=[],V=null,X=0,ge=[],De=null,ve=!0,Se=w_(ae).getInstance(),le.on(g.Z.VIDEO_CHUNK_RECEIVED,Me,m),le.on(g.Z.BUFFER_CLEARED,Ct,m))},addMediaInfos:function(ht,bt,Ft){if(N=N.concat(bt),ht===f.Z.TEXT&&bt[0].isFragmented&&!bt[0].isEmbedded){A=Ft,m.buffered=(0,Ud.Z)(ae).create(),ie=_e.getTracksFor(f.Z.TEXT,Z.id).filter(function(et){return et.isFragmented});for(var sn=_e.getCurrentTrackFor(f.Z.TEXT,Z.id),Be=0;Be<ie.length;Be++)if(ie[Be]===sn){Ve(Be);break}}for(var Te=0;Te<bt.length;Te++)Q(bt[Te])},resetMediaInfos:function(){N=[]},getStreamId:function(){return Z.id},append:ze,abort:function(){},addEmbeddedTrack:function(ht){if(ve&&ht)if(ht.id===f.Z.CC1||ht.id===f.Z.CC3){for(var bt=0;bt<re.length;bt++)if(re[bt].id===ht.id)return;re.push(ht)}else b.warn("Embedded track "+ht.id+" not supported!")},resetEmbedded:function(){le.off(g.Z.VIDEO_CHUNK_RECEIVED,Me,m),le.off(g.Z.BUFFER_CLEARED,Ct,m),be&&be.deleteAllTextTracks(),ve=!1,re=[],ge=[null,null],De=null},getConfig:function(){return{fragmentModel:A,fragmentedTracks:ie,videoModel:fe}},setCurrentFragmentedTrackIdx:Ve,remove:function(ht,bt){void 0===ht&&ht===bt&&(ht=m.buffered.start(0),bt=m.buffered.end(m.buffered.length-1)),m.buffered.remove(ht,bt),be.deleteCuesFromTrackIdx(V,ht,bt)},reset:function(){z(),N=[],D=null}},b=(0,M.Z)(ae).getInstance().getLogger(m),D=(0,Da.Z)(ae).getInstance(),z(),m}Kh.__dashjs_factory_name="TextSourceBuffer";const Xh=C.Z.getClassFactory(Kh);var nc=F(4403);function Qh(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}var cu=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function Jh(v){var m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Se,Ce,Y,_e=this.context,fe=(0,S.Z)(_e).getInstance(),be=v.videoModel,I=v.streamInfo,$=v.settings;function G(Te,et,Oe,nt,dt,ft){var Pt=0,Gt=0;Te/et>Oe/nt?Pt=(Gt=et)/nt*Oe:Gt=(Pt=Te)/Oe*nt;var Cn,Sn,dn=0,Dn=0;return Pt/Gt>dt?(Dn=Gt,dn=Gt*dt):(dn=Pt,Dn=Pt/dt),Cn=(Te-dn)/2,Sn=(et-Dn)/2,ft?{x:Cn+.1*dn,y:Sn+.1*Dn,w:.8*dn,h:.8*Dn}:{x:Cn,y:Sn,w:dn,h:Dn}}function Z(Te,et){var Oe=be.getClientWidth(),nt=be.getClientHeight(),dt=be.getVideoWidth(),ft=be.getVideoHeight(),Pt=be.getVideoRelativeOffsetTop(),Gt=be.getVideoRelativeOffsetLeft();if(0!==dt&&0!==ft){var Cn=dt/ft,Sn=!1;Te.isFromCEA608&&(Cn=1.1666666666666667,Sn=!0);var dn=G.call(this,Oe,nt,dt,ft,Cn,Sn),Dn=dn.w,Rn=dn.h,er=dn.x,lr=dn.y;if(Dn!=ie||Rn!=te||er!=B||lr!=ee||et){if(B=er+Gt,ee=lr+Pt,ie=Dn,te=Rn,V){var zn=V.style;zn&&(zn.left=B+"px",zn.top=ee+"px",zn.width=ie+"px",zn.height=te+"px",zn.zIndex=De&&document[De]||ge?Ce:null,fe.trigger(p.Z.CAPTION_CONTAINER_RESIZE))}var hr=Te.activeCues;if(hr)for(var nr=hr.length,pr=0;pr<nr;++pr){var jt=hr[pr];jt.scaleCue(jt)}}}}function j(Te){var et,Oe,nt,dt,ft;if(Te.cellResolution){var Cn=[ie/Te.cellResolution[0],te/Te.cellResolution[1]];if(Te.linePadding)for(et in Te.linePadding)if(Te.linePadding.hasOwnProperty(et)){Oe=(Te.linePadding[et]*Cn[0]).toString();for(var Sn=document.getElementsByClassName("spanPadding"),dn=0;dn<Sn.length;dn++)Sn[dn].style.cssText=Sn[dn].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe),Sn[dn].style.cssText=Sn[dn].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}if(Te.fontSize){for(et in Te.fontSize)if(Te.fontSize.hasOwnProperty(et)){"%"===Te.fontSize[et][0]?nt=Te.fontSize[et][1]/100:"c"===Te.fontSize[et][0]&&(nt=Te.fontSize[et][1]),Oe=(nt*Cn[1]).toString(),ft="defaultFontSize"!==et?document.getElementsByClassName(et):document.getElementsByClassName("paragraph");for(var Dn=0;Dn<ft.length;Dn++)ft[Dn].style.cssText=ft[Dn].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}if(Te.lineHeight)for(et in Te.lineHeight)if(Te.lineHeight.hasOwnProperty(et)){"%"===Te.lineHeight[et][0]?dt=Te.lineHeight[et][1]/100:"c"===Te.fontSize[et][0]&&(dt=Te.lineHeight[et][1]),Oe=(dt*Cn[1]).toString(),ft=document.getElementsByClassName(et);for(var Rn=0;Rn<ft.length;Rn++)ft[Rn].style.cssText=ft[Rn].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}}}if(Te.isd){var er=document.getElementById(Te.cueID);er&&V.removeChild(er),le(Te)}}function ae(Te,et){var Oe=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,nt=/^#(.*)$/;if(Oe.test(et)){var dt=Oe.exec(et),ft=parseInt(dt[4],10)-1;return"data:image/png;base64,"+btoa(Te.images[ft])}if(nt.test(et)){var Pt=nt.exec(et)[1];return"data:image/png;base64,"+Te.embeddedImages[Pt]}return et}function le(Te){if(V){var et=document.createElement("div");V.appendChild(et),Se=(0,nc.renderHTML)(Te.isd,et,function(Oe){return ae(Te,Oe)},V.clientHeight,V.clientWidth,!1,function(Oe){b.info("renderCaption :",Oe)},Se,!0),et.id=Te.cueID,fe.trigger(p.Z.CAPTION_RENDERED,{captionDiv:et,currentTrackIdx:A})}}function ve(Te,et){if(!$.get().streaming.text.extendSegmentedCues||!et.cues||0===et.cues.length)return!1;var Oe=et.cues[et.cues.length-1];return!(Oe.endTime<Te.startTime||!function(nt,dt,ft){for(var Pt=0;Pt<ft.length;Pt++){var Gt=ft[Pt];if(JSON.stringify(nt[Gt])!==JSON.stringify(dt[Gt]))return!1}return!0}(Oe,Te,cu)||(Oe.endTime=Math.max(Oe.endTime,Te.endTime),0))}function z(Te,et){et&&et.forEach(function(Oe){Oe.kind&&"image"===Oe.kind&&(Oe.src=ae(Te,Oe.src)),z(Te,Oe.contents)})}function Q(Te,et,Oe){var nt=Je(Te);if(nt&&Array.isArray(Oe)&&0!==Oe.length)for(var dt=0;dt<Oe.length;dt++){var ft=void 0,Pt=Oe[dt];nt.cellResolution=Pt.cellResolution,nt.isFromCEA608=Pt.isFromCEA608,isNaN(Pt.start)||isNaN(Pt.end)||(ft="html"===Pt.type&&V?Me(Pt,et,nt):Pt.data?Ve(Pt,et,nt):null);try{ft?Ct(nt,ft)||($.get().streaming.text.webvtt.customRenderingEnabled?(nt.manualCueList||(nt.manualCueList=[]),nt.manualCueList.push(ft)):ve(ft,nt)||nt.addCue(ft)):b.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(Gt){throw bt(nt),nt.addCue(ft),Gt}}}function Me(Te,et,Oe){var nt=this,dt=new D(Te.start+et,Te.end+et,"");return dt.cueHTMLElement=Te.cueHTMLElement,dt.isd=Te.isd,dt.images=Te.images,dt.embeddedImages=Te.embeddedImages,dt.cueID=Te.cueID,dt.scaleCue=j.bind(nt),dt.cellResolution=Te.cellResolution,dt.lineHeight=Te.lineHeight,dt.linePadding=Te.linePadding,dt.fontSize=Te.fontSize,V.style.left=B+"px",V.style.top=ee+"px",V.style.width=ie+"px",V.style.height=te+"px",dt.isd&&z(dt,dt.isd.contents),dt.onenter=function(){Oe.mode===f.Z.TEXT_SHOWING&&(this.isd?(le(this),b.debug("Cue enter id:"+this.cueID)):(V.appendChild(this.cueHTMLElement),j.call(nt,this),fe.trigger(p.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:A})))},dt.onexit=function(){if(V)for(var ft=V.childNodes,Pt=0;Pt<ft.length;++Pt)ft[Pt].id===this.cueID&&(b.debug("Cue exit id:"+ft[Pt].id),V.removeChild(ft[Pt]),--Pt)},dt}function Ve(Te,et,Oe){var nt=new D(Te.start-et,Te.end-et,Te.data);if(nt.cueID="".concat(nt.startTime,"_").concat(nt.endTime),nt.isActive=!1,Te.styles)try{void 0!==Te.styles.align&&"align"in nt&&(nt.align=Te.styles.align),void 0!==Te.styles.line&&"line"in nt&&(nt.line=Te.styles.line),void 0!==Te.styles.snapToLines&&"snapToLines"in nt&&(nt.snapToLines=Te.styles.snapToLines),void 0!==Te.styles.position&&"position"in nt&&(nt.position=Te.styles.position),void 0!==Te.styles.size&&"size"in nt&&(nt.size=Te.styles.size)}catch(dt){b.error(dt)}return nt.onenter=function(){Oe.mode===f.Z.TEXT_SHOWING&&fe.trigger(p.Z.CAPTION_RENDERED,{currentTrackIdx:A})},nt}function ze(){var Te,et=[],Oe=function(dt,ft){var Pt;if(typeof Symbol>"u"||null==dt[Symbol.iterator]){if(Array.isArray(dt)||(Pt=function(Rn,er){if(Rn){if("string"==typeof Rn)return Qh(Rn,void 0);var lr=Object.prototype.toString.call(Rn).slice(8,-1);return"Object"===lr&&Rn.constructor&&(lr=Rn.constructor.name),"Map"===lr||"Set"===lr?Array.from(Rn):"Arguments"===lr||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lr)?Qh(Rn,void 0):void 0}}(dt))){Pt&&(dt=Pt);var Gt=0,Cn=function(){};return{s:Cn,n:function(){return Gt>=dt.length?{done:!0}:{done:!1,value:dt[Gt++]}},e:function(Rn){throw Rn},f:Cn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Sn,dn=!0,Dn=!1;return{s:function(){Pt=dt[Symbol.iterator]()},n:function(){var Rn=Pt.next();return dn=Rn.done,Rn},e:function(Rn){Dn=!0,Sn=Rn},f:function(){try{dn||null==Pt.return||Pt.return()}finally{if(Dn)throw Sn}}}}(be.getTextTracks());try{for(Oe.s();!(Te=Oe.n()).done;){var nt=Te.value;nt.manualMode===f.Z.TEXT_SHOWING&&et.push(nt)}}catch(dt){Oe.e(dt)}finally{Oe.f()}return et}function Je(Te){return Te>=0&&L[Te]?be.getTextTrack(L[Te].kind,L[Te].id,L[Te].lang,L[Te].isTTML,L[Te].isEmbedded):null}function Fe(Te){var et=this;if(Te!==A){var Oe=Je(A=Te);Ie.call(this,Oe),X&&(clearInterval(X),X=null),Oe&&"html"===Oe.renderingType&&(Z.call(this,Oe,!0),window.ResizeObserver?(Y=new window.ResizeObserver(function(){Z.call(et,Oe,!0)})).observe(be.getElement()):X=setInterval(Z.bind(this,Oe),500))}}function Ie(Te){Be.call(this),Te&&"html"===Te.renderingType?Ft.call(this):sn.call(this)}function Ct(Te,et){if(!Te.cues)return!1;for(var Oe=0;Oe<Te.cues.length;Oe++)if(Te.cues[Oe].startTime===et.startTime&&Te.cues[Oe].endTime===et.endTime)return!0;return!1}function ht(Te,et,Oe){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(et)||(nt?Te.startTime:Te.endTime)>=et)&&(isNaN(Oe)||(nt?Te.endTime:Te.startTime)<=Oe)}function bt(Te,et,Oe){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Te.cues)for(var dt=Te.cues,Pt=dt.length-1;Pt>=0;Pt--)ht(dt[Pt],et,Oe,nt)&&(dt[Pt].onexit&&dt[Pt].onexit(),Te.removeCue(dt[Pt]))}function Ft(){var Te=document.getElementById("native-cue-style");if(!Te){(Te=document.createElement("style")).id="native-cue-style",document.head.appendChild(Te);var et=Te.sheet,Oe=be.getElement();try{Oe&&et.insertRule(Oe.id?"#"+Oe.id+"::cue {background: transparent}":0!==Oe.classList.length?"."+Oe.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(nt){b.info(""+nt.message)}}}function sn(){var Te=document.getElementById("native-cue-style");Te&&document.head.removeChild(Te)}function Be(){if(V)for(;V.firstChild;)V.removeChild(V.firstChild)}return m={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(D=window.VTTCue||window.TextTrackCue,L=[],N=[],A=-1,B=0,ee=0,ie=0,te=0,V=null,re=null,X=null,ge=!1,Ce=2147483647,Se=null,void 0!==document.fullscreenElement?De="fullscreenElement":void 0!==document.webkitIsFullScreen?De="webkitIsFullScreen":document.msFullscreenElement?De="msFullscreenElement":document.mozFullScreen&&(De="mozFullScreen"))},getStreamId:function(){return I.id},addTextTrack:function(Te){L.push(Te)},addCaptions:Q,createTracks:function(){L.sort(function(Rn,er){return Rn.index-er.index}),V=be.getTTMLRenderingDiv(),re=be.getVttRenderingDiv();for(var Te,et,Pt=-1,Gt=0;Gt<L.length;Gt++){var Cn=(et=(Te=L[Gt]).kind,be.addTextTrack(et,void 0!==Te.id?Te.id:Te.lang,Te.lang,Te.isTTML,Te.isEmbedded));N.push(Cn),L[Gt].defaultTrack&&(Cn.default=!0,Pt=Gt);var Sn=Je(Gt);Sn&&(Sn.mode=f.Z.TEXT_SHOWING,Sn.renderingType=V&&(L[Gt].isTTML||L[Gt].isEmbedded)?"html":"default"),Q(Gt,0,L[Gt].captionData),fe.trigger(p.Z.TEXT_TRACK_ADDED)}if(Fe.call(this,Pt),Pt>=0){fe.on(p.Z.PLAYBACK_METADATA_LOADED,function Rn(){var er=Je(Pt);er&&"html"===er.renderingType&&Z.call(this,er,!0),fe.off(p.Z.PLAYBACK_METADATA_LOADED,Rn,this)},this);for(var dn=0;dn<L.length;dn++){var Dn=Je(dn);Dn&&(Dn.mode=dn===Pt?f.Z.TEXT_SHOWING:f.Z.TEXT_HIDDEN,Dn.manualMode=dn===Pt?f.Z.TEXT_SHOWING:f.Z.TEXT_HIDDEN)}}fe.trigger(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:A,tracks:L,streamId:I.id})},getCurrentTrackIdx:function(){return A},setCurrentTrackIdx:Fe,getTrackIdxForId:function(Te){for(var et=-1,Oe=0;Oe<L.length;Oe++)if(L[Oe].id===Te){et=Oe;break}return et},getCurrentTrackInfo:function(){return L[A]},setModeForTrackIdx:function(Te,et){var Oe=Je(Te);Oe&&Oe.mode!==et&&(Oe.mode=et),Oe&&Oe.manualMode!==et&&(Oe.manualMode=et)},deleteCuesFromTrackIdx:function(Te,et,Oe){var nt=Je(Te);nt&&bt(nt,et,Oe)},deleteAllTextTracks:function(){for(var Te=N?N.length:0,et=0;et<Te;et++){var Oe=Je(et);Oe&&bt.call(this,Oe,I.start,I.start+I.duration,!1)}N=[],L=[],X&&(clearInterval(X),X=null),Y&&be&&(Y.unobserve(be.getElement()),Y=null),A=-1,Be.call(this)},deleteTextTrack:function(Te){be.removeChild(N[Te]),N.splice(Te,1)},manualCueProcessing:function(Te){var et=ze();if(et&&et.length>0){var Oe=et[0].manualCueList;Oe&&Oe.length>0&&Oe.forEach(function(nt){if(nt.startTime<=Te&&nt.endTime>=Te&&!nt.isActive)nt.isActive=!0,WebVTT.processCues(window,[nt],re,nt.cueID);else if(nt.isActive&&(nt.startTime>Te||nt.endTime<Te)&&(nt.isActive=!1,re))for(var dt=re.childNodes,ft=0;ft<dt.length;++ft)dt[ft].id===nt.cueID&&(re.removeChild(dt[ft]),--ft)})}},disableManualTracks:function(){var Te=ze();if(Te&&Te.length>0){var et=Te[0].manualCueList;et&&et.length>0&&et.forEach(function(Oe){if(Oe.isActive&&(Oe.isActive=!1,re))for(var nt=re.childNodes,dt=0;dt<nt.length;++dt)nt[dt].id===Oe.cueID&&(re.removeChild(nt[dt]),--dt)})}}},b=(0,M.Z)(_e).getInstance().getLogger(m),m}Jh.__dashjs_factory_name="TextTracks";const Cs=C.Z.getClassFactory(Jh);function T_(){var v,m,b,D,L,N;function B(V){var re=V.split(":"),X=re.length-1;return V=60*parseInt(re[X-1],10)+parseFloat(re[X]),2===X&&(V+=3600*parseInt(re[0],10)),V}function ee(V){var re=V.split(D),X=re[1].split(N);return X.shift(),re[1]=X[0],X.shift(),{cuePoints:re,styles:ie(X)}}function ie(V){var re={};return V.forEach(function(X){if(X.split(/:/).length>1){var De=X.split(/:/)[1],ge=!1;De&&-1!=De.search(/%/)&&(ge=!0,De=parseInt(De.replace(/%/,""),10)),(X.match(/align/)||X.match(/A/))&&(re.align=De),(X.match(/line/)||X.match(/L/))&&(re.line="auto"===De?De:parseInt(De,10),ge&&(re.snapToLines=!1)),(X.match(/position/)||X.match(/P/))&&(re.position=De),(X.match(/size/)||X.match(/S/))&&(re.size=De)}}),re}function te(V,re){for(var X,De=re,ge="",Se="";""!==V[De]&&De<V.length;)De++;if((X=De-re)>1)for(var Ce=0;Ce<X;Ce++){if((Se=V[re+Ce]).match(D)){ge="";break}ge+=Se,Ce!==X-1&&(ge+="\n")}else(Se=V[re]).match(D)||(ge=Se);return ge}return v={parse:function(V){var re,X,De=[];if(!V)return De;re=(V=V.split(b)).length,X=-1;for(var ge=0;ge<re;ge++){var Se=V[ge];if(Se.length>0&&"WEBVTT"!==Se&&Se.match(D)){var Ce=ee(Se),Y=Ce.cuePoints,_e=Ce.styles,fe=te(V,ge+1),be=B(Y[0].replace(L,"")),I=B(Y[1].replace(L,""));!isNaN(be)&&!isNaN(I)&&be>=X&&I>be?""!==fe?(X=be,De.push({start:be,end:I,data:fe,styles:_e})):m.error("Skipping cue due to empty/malformed cue text"):m.error("Skipping cue due to incorrect cue timing")}}return De},getCaptionStyles:ie},m=(0,M.Z)(this.context).getInstance().getLogger(v),b=/(?:\r\n|\r|\n)/gm,D=/-->/,L=/(^[\s]+|[\s]+$)/g,N=/\s\b/g,v}T_.__dashjs_factory_name="VTTParser";const ls=C.Z.getSingletonFactory(T_);function Vd(){var v,m;return v={parse:function(b){var D=[];return m.oncue=function(L){L.start=L.startTime,L.end=L.endTime,L.data=L.text,L.styles={align:L.align,line:L.line,position:L.position,size:L.size},D.push(L)},m.parse(b),D}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(m=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),v}Vd.__dashjs_factory_name="VttCustomRenderingParser";const S_=C.Z.getSingletonFactory(Vd);function ep(){var v,m,b=this.context,D=(0,S.Z)(b).getInstance(),L=0;return v={parse:function(N,A,B,ee,ie){var te,V,re,X="",De=[],ge={},Se={},Ce="",Y="",_e={onOpenTag:function(G,Z,j){if(j[" imagetype"]&&!j[" imageType"]&&(D.trigger(p.Z.CONFORMANCE_VIOLATION,{level:Vr.LEVELS.ERROR,event:Vr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),j[" imageType"]=j[" imagetype"]),"image"===Z&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===G||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===G)){if(!j[" imageType"]||"PNG"!==j[" imageType"].value)return void m.warn("smpte-tt imageType != PNG. Discarded");Ce=j["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Ce&&(Se[Ce]=Y.trim()),Y="",Ce=""},onText:function(G){Ce&&(Y+=G)}};if(!N)throw X="no ttml data to parse",new Error(X);ge.data=N,D.trigger(g.Z.TTML_TO_PARSE,ge);var fe=(0,nc.fromXML)(ge.data,function(G){X=G},_e);D.trigger(g.Z.TTML_PARSED,{ttmlString:ge.data,ttmlDoc:fe});var be,I=fe.getMediaTimeEvents();for(re=0;re<I.length;re++){var $=(0,nc.generateISD)(fe,I[re],function(G){X=G});$.contents.some(function(G){return G.contents.length})&&(te=I[re]+A)<(V=I[re+1]+A)&&De.push({start:te,end:V,type:"html",cueID:(be="cue_TTML_"+L,L++,be),isd:$,images:ie,embeddedImages:Se})}if(""!==X)throw m.error(X),new Error(X);return De}},m=(0,M.Z)(b).getInstance().getLogger(v),v}ep.__dashjs_factory_name="TTMLParser";const No=C.Z.getSingletonFactory(ep);function jd(v){var m,b,D,L,N,A,B,ee,ie,te,V,re,X=this.context,De=v.adapter,ge=v.errHandler,Se=v.manifestModel,Ce=v.mediaController,Y=v.videoModel,_e=v.settings;function fe(ae){var le=ae.tracks,ve=ae.index,z=ae.streamId;if(!1===_e.get().streaming.text.defaultEnabled&&!$()||re)G(z,-1);else{var Q=Ce.getCurrentTrackFor(f.Z.TEXT,z);if(Q){var Me={lang:Q.lang,role:Q.roles[0],index:Q.index,codec:Q.codec,accessibility:Q.accessibility[0]};le.some(function(Ve,ze){if(Ce.matchSettings(Me,Ve))return G(z,ze),ve=ze,!0})}ie=!1}b[z].lastEnabledIndex=ve,ee.trigger(p.Z.TEXT_TRACKS_ADDED,{enabled:$(),index:ve,tracks:le,streamId:z}),V=!0}function be(ae){try{var le=ae.streamId;if(!L[le]||isNaN(ae.time))return;L[le].manualCueProcessing(ae.time)}catch{}}function I(ae){try{var le=ae.streamId;if(!L[le])return;L[le].disableManualTracks()}catch{}}function $(){var ae=!0;return ie&&!te&&(ae=!1),ae}function G(ae,le){(ie=-1===le)&&Ce&&Ce.saveTextSettingsDisabled();var ve=Z(ae);if(ve!==le&&L[ae]){L[ae].disableManualTracks(),L[ae].setModeForTrackIdx(ve,f.Z.TEXT_HIDDEN),L[ae].setCurrentTrackIdx(le),L[ae].setModeForTrackIdx(le,f.Z.TEXT_SHOWING);var z=L[ae].getCurrentTrackInfo();z&&z.isFragmented&&!z.isEmbedded?function(Q,Me,Ve){if(D[Q])for(var ze=D[Q].getConfig().fragmentedTracks,Je=0;Je<ze.length;Je++){var Fe=ze[Je];if(Me.lang===Fe.lang&&(Fe.id?Me.id===Fe.id:Me.index===Fe.index)){var Ie=Ce.getCurrentTrackFor(f.Z.TEXT,Q);(Fe.id?Ie.id!==Fe.id:Ie.index!==Fe.index)?(L[Q].deleteCuesFromTrackIdx(Ve),D[Q].setCurrentFragmentedTrackIdx(Je)):-1===Ve&&ee.trigger(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Q,mediaType:f.Z.TEXT})}}}(ae,z,ve):z&&!z.isFragmented&&ee.trigger(g.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:z},{streamId:ae,mediaType:f.Z.TEXT}),Ce.setTrack(z)}}function Z(ae){return L[ae].getCurrentTrackIdx()}function j(){D={},L={},b={},ie=!0,V=!1,re=!1}return m={deactivateStream:function(ae){if(ae){var le=ae.id;D[le]&&D[le].resetMediaInfos(),L[le]&&L[le].deleteAllTextTracks()}},initialize:function(){ee.on(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,fe,m),_e.get().streaming.text.webvtt.customRenderingEnabled&&(ee.on(g.Z.PLAYBACK_TIME_UPDATED,be,m),ee.on(g.Z.PLAYBACK_SEEKING,I,m))},initializeForStream:function(ae){var le=ae.id,ve=Cs(X).create({videoModel:Y,settings:_e,streamInfo:ae});ve.initialize(),L[le]=ve;var z=Xh(X).create({errHandler:ge,adapter:De,manifestModel:Se,mediaController:Ce,videoModel:Y,textTracks:ve,vttParser:N,vttCustomRenderingParser:A,ttmlParser:B,streamInfo:ae,settings:_e});z.initialize(),D[le]=z,b[le]={},b[le].lastEnabledIndex=-1},createTracks:function(ae){var le=ae.id;L[le]&&L[le].createTracks()},getTextSourceBuffer:function(ae){var le=ae.id;if(D&&D[le])return D[le]},getAllTracksAreDisabled:function(){return ie},addEmbeddedTrack:function(ae,le){var ve=ae.id;D[ve]&&D[ve].addEmbeddedTrack(le)},enableText:function(ae,le){return(0,ue.PS)(le,"boolean"),$()!==le&&(le&&G(ae,b[ae].lastEnabledIndex),le||(b[ae].lastEnabledIndex=Z(ae),V?G(ae,-1):re=!0)),!0},isTextEnabled:$,setTextTrack:G,getCurrentTrackIdx:Z,enableForcedTextStreaming:function(ae){return(0,ue.PS)(ae,"boolean"),te=ae,!0},addMediaInfosToBuffer:function(ae,le,ve){var Q=ae.id;D[Q]&&D[Q].addMediaInfos(le,ve,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function(){j(),ee.off(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,fe,m),_e.get().streaming.text.webvtt.customRenderingEnabled&&(ee.off(g.Z.PLAYBACK_TIME_UPDATED,be,m),ee.off(g.Z.PLAYBACK_SEEKING,I,m)),Object.keys(D).forEach(function(ae){D[ae].resetEmbedded(),D[ae].reset()})}},te=!1,V=!1,re=!1,N=ls(X).getInstance(),A=S_(X).getInstance(),B=No(X).getInstance(),ee=(0,S.Z)(X).getInstance(),j(),m}jd.__dashjs_factory_name="TextController";const C_=C.Z.getClassFactory(jd);function Hd(){var v,m,b,D,L,N,A,B,ee,ie,te,V,re,X,De,ge,Se,Ce,Y,_e,fe,be,I,$,G,Z,j,ae,le,ve,z,Q,Me,Ve,ze,Je,Fe,Ie,Ct,ht="You must first call initialize() and set a source before calling this method",bt="You must first call initialize() and set a valid source and view before calling this method",Ft="You must first call attachView() to set the video element before calling this method",sn="You must first call attachSource() with a valid source before calling this method",Be="MediaPlayer not initialized!",Te=this.context,et=(0,S.Z)(Te).getInstance(),Oe=(0,Nt.Z)(Te).getInstance(),nt=(0,M.Z)(Te).getInstance({settings:Oe});function dt(){pr(null),hr(null),D=null,X&&(X.reset(),X=null),De&&(De.reset(),De=null),_e&&_e.reset(),Oe.reset(),Se&&(Se.reset(),Se=null)}function ft(){return!!b&&!!Je.getElement()}function Pt(){return(0,al.e)()}function Gt(){if(!A)throw bt;return ae.isPaused()}function Cn(){if(!A)throw bt;return ae.getIsDynamic()}function Sn(Ee){var st=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=Q.getCurrentDVRInfo(st);if(!It)return 0;var Qt=ae.getOriginalLiveDelay(),nn=It.range.start+Ee;return nn>It.range.end-Qt&&(nn=It.range.end-Qt),nn}function dn(Ee){if(!A)throw bt;var st=zn().currentTime;if(void 0!==Ee)st=G.getTimeRelativeToStreamId(st,Ee);else if(ae.getIsDynamic()){var It=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,Qt=Q.getCurrentDVRInfo(It);st=null===Qt||0===st?0:Math.max(0,st-Qt.range.start)}return st}function Dn(){if(!A)throw bt;var Ee=zn().duration;if(ae.getIsDynamic()){var st=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=Q.getCurrentDVRInfo(st);Ee=It?It.range.end-It.range.start:0}return Ee}function Rn(Ee){(0,ue.PS)(Ee,"boolean"),B=Ee}function er(){_e.restoreDefaultUTCTimingSources()}function lr(){return Q}function zn(){if(!Je.getElement())throw Ft;return Je.getElement()}function hr(Ee){if(!L)throw Be;Je.setElement(Ee),Ee&&(pt(),function(){if(!De){var st=dashjs.MetricsReporting;if("function"==typeof st){var It=st(Te).create();De=It.createMetricsReporting({debug:nt,eventBus:et,mediaElement:zn(),adapter:Ce,dashMetrics:Q,mediaPlayerModel:Y,events:g.Z,constants:f.Z,metricsConstants:O.Z})}}}(),function(){if(!ge){var st=dashjs.MssHandler;"function"==typeof st&&(pe.extend(st.errors),ge=st(Te).create({eventBus:et,mediaPlayerModel:Y,dashMetrics:Q,manifestModel:Me,playbackController:ae,streamController:G,protectionController:X,baseURLController:be,errHandler:fe,events:g.Z,constants:f.Z,debug:nt,initSegmentType:He.w.INIT_SEGMENT_TYPE,BASE64:Fd,ISOBoxer:Mo,settings:Oe}))}}(),G&&G.switchToVideoElement(ee)),A&&En(),Ge(ee)}function nr(Ee){if(!N)throw ht;var st=G.getActiveStreamInfo();return st?re.getTracksFor(Ee,st.id):[]}function pr(Ee){var st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!L)throw Be;"string"==typeof Ee&&Fe.initialize(Ee),null==st&&(st=NaN),isNaN(st)||(st=Math.max(0,st)),ee=st,b=Ee,(N||A)&&En(),ft()&&Ge(ee)}function jt(){if(!N)throw ht;var Ee=G.getActiveStreamInfo();return Ee?G.getStreamById(Ee.id):null}function En(){A=!1,N=!1,Ce.reset(),G.reset(),j.reset(),z.reset(),ae.reset(),le.reset(),ve.reset(),ie.reset(),re.reset(),Ct.reset(),X&&(Oe.get().streaming.protection.keepProtectionMediaKeys?X.stop():(X.reset(),X=null,pt())),Z.reset(),Ve.reset(),ze.reset()}function _n(){return rl(Te).create({debug:nt,errHandler:fe,dashMetrics:Q,mediaPlayerModel:Y,requestModifier:(0,xe.Z)(Te).getInstance(),mssHandler:ge,settings:Oe})}function pt(){if(X)return X;var Ee=dashjs.Protection;if("function"==typeof Ee){var st=Ee(Te).create();return g.Z.extend(Ee.events),p.Z.extend(Ee.events,{publicOnly:!0}),pe.extend(Ee.errors),I||(I=(0,Od.Z)(Te).getInstance()),X=st.createProtectionSystem({debug:nt,errHandler:fe,videoModel:Je,customParametersModel:_e,capabilities:I,eventBus:et,events:g.Z,BASE64:Fd,constants:f.Z,cmcdModel:Ve,settings:Oe})}return null}function Zt(){if(!L)throw Be;if(Se)return Se;var Ee=dashjs.OfflineController;if("function"==typeof Ee){g.Z.extend(Ee.events),p.Z.extend(Ee.events,{publicOnly:!0}),pe.extend(Ee.errors);var st=_n(),It=vd(Te).create();return It.setConfig({manifestModel:Me,adapter:Ce,manifestLoader:st,errHandler:fe,contentSteeringController:ve}),Se=Ee(Te).create({debug:nt,manifestUpdater:It,baseURLController:be,manifestLoader:st,manifestModel:Me,mediaPlayerModel:Y,abrController:ie,playbackController:ae,adapter:Ce,errHandler:fe,dashMetrics:Q,timelineConverter:V,segmentBaseController:Ct,schemeLoaderFactory:te,eventBus:et,events:g.Z,errors:pe,constants:f.Z,settings:Oe,dashConstants:h.Z,urlUtils:(0,Ye.Z)(Te).getInstance()})}return null}function ct(Ee){var st=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=Q.getCurrentDVRInfo(st);return It?Ee+(It.manifestInfo.availableFrom.getTime()/1e3+It.range.start):0}function Ge(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Se&&Se.resetRecords(),!N&&b&&(N=!0,m.info("Streaming Initialized"),function bn(){var Ee=_n();G||(G=yd(Te).getInstance()),Z||(Z=C_(Te).create({errHandler:fe,manifestModel:Me,adapter:Ce,mediaController:re,videoModel:Je,settings:Oe})),$.setConfig({capabilities:I,customParametersModel:_e,adapter:Ce,settings:Oe,manifestModel:Me,errHandler:fe}),G.setConfig({capabilities:I,capabilitiesFilter:$,manifestLoader:Ee,manifestModel:Me,mediaPlayerModel:Y,customParametersModel:_e,protectionController:X,textController:Z,adapter:Ce,dashMetrics:Q,errHandler:fe,timelineConverter:V,videoModel:Je,playbackController:ae,serviceDescriptionController:le,contentSteeringController:ve,abrController:ie,mediaController:re,settings:Oe,baseURLController:be,uriFragmentModel:Fe,segmentBaseController:Ct}),j.setConfig({settings:Oe,playbackController:ae,streamController:G,videoModel:Je,timelineConverter:V,adapter:Ce}),ae.setConfig({streamController:G,serviceDescriptionController:le,dashMetrics:Q,adapter:Ce,videoModel:Je,timelineConverter:V,settings:Oe}),z.setConfig({streamController:G,playbackController:ae,mediaPlayerModel:Y,videoModel:Je,settings:Oe}),ie.setConfig({streamController:G,domStorage:Ie,mediaPlayerModel:Y,customParametersModel:_e,cmsdModel:ze,dashMetrics:Q,adapter:Ce,videoModel:Je,settings:Oe}),Ve.setConfig({abrController:ie,dashMetrics:Q,playbackController:ae}),ze.setConfig({}),ie.initialize(),G.initialize(B,D),Z.initialize(),j.initialize(),z.initialize(),Ve.initialize(),ze.initialize(),ve.initialize(),Ct.initialize()}(),"string"==typeof b?G.load(b,Ee):G.loadWithManifest(b,Ee)),!A&&ft()&&(A=!0,m.info("Playback Initialized"))}return v={initialize:function(Ee,st,It){var Qt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;I||(I=(0,Od.Z)(Te).getInstance()).setConfig({settings:Oe}),fe||(fe=Vh(Te).getInstance()),I.supportsMediaSource()?(L||(L=!0,V=G0(Te).getInstance(),ie||(ie=Xl(Te).getInstance()).setConfig({settings:Oe}),te||(te=or(Te).getInstance()),ae||(ae=T(Te).getInstance()),re||(re=I0(Te).getInstance()),G||(G=yd(Te).getInstance()),j||(j=Zc(Te).getInstance()),z||(z=bd(Te).getInstance()),le||(le=Ph(Te).getInstance()),ve||(ve=Ra(Te).getInstance()),$||($=m_(Te).getInstance()),Ce=k0(Te).getInstance(),Me=_i(Te).getInstance(),Ve=Ht(Te).getInstance(),ze=Io(Te).getInstance(),Q=E_(Te).getInstance({settings:Oe}),Ie=iu(Te).getInstance({settings:Oe}),Ce.setConfig({constants:f.Z,cea608parser:P(),errHandler:fe,BASE64:Fd}),be||(be=Yc(Te).create()),be.setConfig({adapter:Ce,contentSteeringController:ve}),le.setConfig({adapter:Ce}),Ct||(Ct=as(Te).getInstance({dashMetrics:Q,mediaPlayerModel:Y,errHandler:fe,baseURLController:be,events:g.Z,eventBus:et,debug:nt,boxParser:(0,Da.Z)(Te).getInstance(),requestModifier:(0,xe.Z)(Te).getInstance(),errors:pe})),re.setConfig({domStorage:Ie,settings:Oe,customParametersModel:_e}),Y.setConfig({playbackController:ae,serviceDescriptionController:le}),ve.setConfig({adapter:Ce,errHandler:fe,dashMetrics:Q,mediaPlayerModel:Y,manifestModel:Me,serviceDescriptionController:le,eventBus:et,requestModifier:(0,xe.Z)(Te).getInstance()}),er(),Rn(void 0===It||It),Zt()),Ee&&hr(Ee),st&&pr(st,Qt),m.info("[dash.js "+Pt()+"] MediaPlayer has been initialized")):fe.error(new K.Z(pe.CAPABILITY_MEDIASOURCE_ERROR_CODE,pe.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(Ee){Ee&&(Ee.capabilities&&(I=Ee.capabilities),Ee.capabilitiesFilter&&($=Ee.capabilitiesFilter),Ee.streamController&&(G=Ee.streamController),Ee.textController&&(Z=Ee.textController),Ee.gapController&&(j=Ee.gapController),Ee.playbackController&&(ae=Ee.playbackController),Ee.serviceDescriptionController&&(le=Ee.serviceDescriptionController),Ee.contentSteeringController&&(ve=Ee.contentSteeringController),Ee.catchupController&&(z=Ee.catchupController),Ee.mediaPlayerModel&&(Y=Ee.mediaPlayerModel),Ee.customParametersModel&&(_e=Ee.customParametersModel),Ee.abrController&&(ie=Ee.abrController),Ee.schemeLoaderFactory&&(te=Ee.schemeLoaderFactory),Ee.mediaController&&(re=Ee.mediaController),Ee.settings&&(Oe=Ee.settings))},on:function(Ee,st,It,Qt){et.on(Ee,st,It,Qt)},off:function(Ee,st,It){et.off(Ee,st,It)},extend:function(Ee,st,It){C.Z.extend(Ee,st,It,Te)},attachView:hr,attachSource:pr,isReady:ft,preload:function(){if(!Je.getElement()&&!N){if(!b)throw sn;Ge(ee)}},play:function(){if(!A)throw bt;(!B||Gt()&&A)&&ae.play(!0)},isPaused:Gt,pause:function(){if(!A)throw bt;ae.pause()},isSeeking:function(){if(!A)throw bt;return ae.isSeeking()},isDynamic:Cn,getLowLatencyModeEnabled:function(){if(!A)throw bt;return ae.getLowLatencyModeEnabled()},seek:function(Ee){if(!A)throw bt;if((0,ue.PS)(Ee,"number"),isNaN(Ee))throw f.Z.BAD_ARGUMENT_ERROR;Ee<0&&(Ee=0);var st=ae.getIsDynamic()?Sn(Ee):Ee,It=zn();!ae.getIsDynamic()&&It.duration&&(st=Math.min(It.duration,st)),ae.seek(st,!1,!1,!0)},seekToOriginalLive:function(){A&&Cn()&&ae.seekToOriginalLive()},setPlaybackRate:function(Ee){zn().playbackRate=Ee},getPlaybackRate:function(){return zn().playbackRate},setMute:function(Ee){(0,ue.PS)(Ee,"boolean"),zn().muted=Ee},isMuted:function(){return zn().muted},setVolume:function(Ee){if("number"!=typeof Ee||isNaN(Ee)||Ee<0||Ee>1)throw f.Z.BAD_ARGUMENT_ERROR;zn().volume=Ee},getVolume:function(){return zn().volume},time:dn,duration:Dn,timeAsUTC:function(){if(!A)throw bt;return dn()<0?NaN:ct(dn())},durationAsUTC:function(){if(!A)throw bt;return ct(Dn())},getActiveStream:jt,getDVRWindowSize:function(){var Ee=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,st=Q.getCurrentDVRInfo(Ee);return st?st.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Sn,getAvailableBaseUrls:function(){var Ee=Me.getValue();return Ee?be.getBaseUrls(Ee):[]},getAvailableLocations:function(){var Ee=Me.getValue();if(!Ee)return[];var st=Ce.getLocation(Ee),It=ve.getSynthesizedLocationElements(st);return st.concat(It)},getTargetLiveDelay:function(){if(!A)throw bt;return ae.getOriginalLiveDelay()},convertToTimeCode:function(Ee){Ee=Math.max(Ee,0);var st=Math.floor(Ee/3600),It=Math.floor(Ee%3600/60),Qt=Math.floor(Ee%3600%60);return(0===st?"":st<10?"0"+st.toString()+":":st.toString()+":")+(It<10?"0"+It.toString():It.toString())+":"+(Qt<10?"0"+Qt.toString():Qt.toString())},formatUTC:function(Ee,st,It){var Qt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],nn=new Date(1e3*Ee),Xn=nn.toLocaleDateString(st),qr=nn.toLocaleTimeString(st,{hour12:It});return Qt?qr+" "+Xn:qr},getVersion:Pt,getDebug:function(){return nt},getBufferLength:function(Ee){var st=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT];if(Ee)return-1!==st.indexOf(Ee)?lr().getCurrentBufferLevel(Ee)||NaN:(m.warn("getBufferLength requested for invalid type"),NaN);var It=st.map(function(Qt){return nr(Qt).length>0?lr().getCurrentBufferLevel(Qt):Number.MAX_VALUE}).reduce(function(Qt,nn){return Math.min(Qt,nn)});return It===Number.MAX_VALUE?NaN:It},getTTMLRenderingDiv:function(){return Je?Je.getTTMLRenderingDiv():null},getVideoElement:zn,getSource:function(){if(!b)throw sn;return b},updateSource:function(Ee){G.load(b=Ee)},getCurrentLiveLatency:function(){if(!L)throw Be;return A?ae.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(Ee){if(!N)throw ht;return ie.getTopBitrateInfoFor(Ee)},setAutoPlay:Rn,getAutoPlay:function(){return B},getDashMetrics:lr,getQualityFor:function(Ee){if(!N)throw ht;if(Ee===f.Z.IMAGE){var st=jt();if(!st)return-1;var It=st.getThumbnailController();return It?It.getCurrentTrackIndex():-1}return ie.getQualityFor(Ee)},setQualityFor:function(Ee,st){var It=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!N)throw ht;if(Ee===f.Z.IMAGE){var Qt=jt();if(!Qt)return;var nn=Qt.getThumbnailController();nn&&nn.setTrackByIndex(st)}ie.setPlaybackQuality(Ee,G.getActiveStreamInfo(),st,{forceReplace:It})},updatePortalSize:function(){ie.setElementSize(),ie.setWindowResizeEventCalled(!0)},enableText:function(Ee){var st=G.getActiveStreamInfo();return!(!st||!Z)&&Z.enableText(st.id,Ee)},enableForcedTextStreaming:function(Ee){return!(!G.getActiveStreamInfo()||!Z)&&Z.enableForcedTextStreaming(Ee)},isTextEnabled:function(){var Ee=G.getActiveStreamInfo();return!(!Ee||!Z)&&Z.isTextEnabled(Ee)},setTextTrack:function(Ee){if(!A)throw bt;var st=G.getActiveStreamInfo();st&&Z&&Z.setTextTrack(st.id,Ee)},getBitrateInfoListFor:function(Ee){if(!N)throw ht;var st=jt();return st?st.getBitrateListFor(Ee):[]},getStreamsFromManifest:function(Ee){if(!N)throw ht;return Ce.getStreamsInfo(Ee)},getTracksFor:nr,getTracksForTypeFromManifest:function(Ee,st,It){if(!N)throw ht;return(It=It||Ce.getStreamsInfo(st,1)[0])?Ce.getAllMediaInfoForType(It,Ee,st):[]},getCurrentTrackFor:function(Ee){if(!N)throw ht;var st=G.getActiveStreamInfo();return re.getCurrentTrackFor(Ee,st.id)},setInitialMediaSettingsFor:function(Ee,st){if(!L)throw Be;re.setInitialSettings(Ee,st)},getInitialMediaSettingsFor:function(Ee){if(!L)throw Be;return re.getInitialSettings(Ee)},setCurrentTrack:function(Ee){if(!N)throw ht;re.setTrack(Ee)},addABRCustomRule:function(Ee,st,It){_e.addAbrCustomRule(Ee,st,It)},removeABRCustomRule:function(Ee){_e.removeAbrCustomRule(Ee)},removeAllABRCustomRule:function(){_e.removeAllAbrCustomRule()},getABRCustomRules:function(){return _e.getAbrCustomRules()},getAverageThroughput:function(Ee){var st=ie.getThroughputHistory(),It=ae.getIsDynamic();return st?st.getAverageThroughput(Ee,It):0},retrieveManifest:function(Ee,st){var It=_n(),Qt=this;et.on(g.Z.INTERNAL_MANIFEST_LOADED,function nn(Xn){Xn.error?st(null,Xn.error):st(Xn.manifest),et.off(g.Z.INTERNAL_MANIFEST_LOADED,nn,Qt),It.reset()},Qt),Fe.initialize(Ee),It.load(Ee)},addUTCTimingSource:function(Ee,st){_e.addUTCTimingSource(Ee,st)},removeUTCTimingSource:function(Ee,st){_e.removeUTCTimingSource(Ee,st)},clearDefaultUTCTimingSources:function(){_e.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:er,setXHRWithCredentialsForType:function(Ee,st){_e.setXHRWithCredentialsForType(Ee,st)},getXHRWithCredentialsForType:function(Ee){return _e.getXHRWithCredentialsForType(Ee)},getProtectionController:function(){return pt()},attachProtectionController:function(Ee){X=Ee},setProtectionData:function(Ee){D=Ee,G&&G.setProtectionData(D)},registerLicenseRequestFilter:function(Ee){_e.registerLicenseRequestFilter(Ee)},registerLicenseResponseFilter:function(Ee){_e.registerLicenseResponseFilter(Ee)},unregisterLicenseRequestFilter:function(Ee){_e.unregisterLicenseRequestFilter(Ee)},unregisterLicenseResponseFilter:function(Ee){_e.unregisterLicenseResponseFilter(Ee)},registerCustomCapabilitiesFilter:function(Ee){_e.registerCustomCapabilitiesFilter(Ee)},unregisterCustomCapabilitiesFilter:function(Ee){_e.unregisterCustomCapabilitiesFilter(Ee)},setCustomInitialTrackSelectionFunction:function(Ee){_e.setCustomInitialTrackSelectionFunction(Ee)},resetCustomInitialTrackSelectionFunction:function(){_e.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(Ee){if(!Je.getElement())throw Ft;Je.setTTMLRenderingDiv(Ee)},attachVttRenderingDiv:function(Ee){if(!Je.getElement())throw Ft;Je.setVttRenderingDiv(Ee)},getCurrentTextTrackIndex:function(){var Ee=G.getActiveStreamInfo();if(Ee&&Z)return Z.getCurrentTrackIdx(Ee.id)},provideThumbnail:function(Ee,st){if("function"==typeof st)if(Ee<0)st(null);else{var It=ae.getIsDynamic()?Sn(Ee):Ee,Qt=G.getStreamForTime(It);if(null!==Qt){var nn=Qt.getThumbnailController();if(nn)return nn.provide(It,st);st(null)}else st(null)}},getDashAdapter:function(){return Ce},getOfflineController:function(){return Zt()},triggerSteeringRequest:function(){if(ve)return ve.loadSteeringData()},getCurrentSteeringResponseData:function(){if(ve)return ve.getCurrentSteeringResponseData()},getSettings:function(){return Oe.get()},updateSettings:function(Ee){Oe.update(Ee)},resetSettings:function(){Oe.reset()},reset:dt,destroy:function(){dt(),C.Z.deleteSingletonInstances(Te)}},m=nt.getLogger(v),L=!1,A=!1,N=!1,B=!0,ee=NaN,X=null,Se=null,D=null,Ce=null,Ct=null,g.Z.extend(p.Z),Y=so(Te).getInstance(),_e=(0,Xt.Z)(Te).getInstance(),Je=js(Te).getInstance(),Fe=On(Te).getInstance(),v}Hd.__dashjs_factory_name="MediaPlayer";var rc=C.Z.getClassFactory(Hd);rc.events=p.Z,rc.errors=pe,C.Z.updateClassFactory(Hd.__dashjs_factory_name,rc);const tp=rc},8825:(At,Ze,F)=>{"use strict";function ye(S){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(S)}function P(S,g){return(P=Object.setPrototypeOf||function(C,M){return C.__proto__=M,C})(S,g)}function h(S){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(S)}F.d(Ze,{Z:()=>O});const O=new(function(S){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&P(y,T)}(p,S);var g,C,M=(g=p,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=h(g);if(C){var q=h(this).constructor;y=Reflect.construct(T,arguments,q)}else y=T.apply(this,arguments);return function f(S,g){return!g||"object"!==ye(g)&&"function"!=typeof g?function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(S):g}(this,y)});function p(){var y;return function(T,q){if(!(T instanceof q))throw new TypeError("Cannot call a class as a function")}(this,p),(y=M.call(this)).AST_IN_FUTURE="astInFuture",y.BASE_URLS_UPDATED="baseUrlsUpdated",y.BUFFER_EMPTY="bufferStalled",y.BUFFER_LOADED="bufferLoaded",y.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",y.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",y.DYNAMIC_TO_STATIC="dynamicToStatic",y.ERROR="error",y.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",y.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",y.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",y.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",y.LOG="log",y.MANIFEST_LOADING_STARTED="manifestLoadingStarted",y.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",y.MANIFEST_LOADED="manifestLoaded",y.METRICS_CHANGED="metricsChanged",y.METRIC_CHANGED="metricChanged",y.METRIC_ADDED="metricAdded",y.METRIC_UPDATED="metricUpdated",y.PERIOD_SWITCH_STARTED="periodSwitchStarted",y.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",y.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",y.QUALITY_CHANGE_RENDERED="qualityChangeRendered",y.TRACK_CHANGE_RENDERED="trackChangeRendered",y.STREAM_INITIALIZING="streamInitializing",y.STREAM_UPDATED="streamUpdated",y.STREAM_ACTIVATED="streamActivated",y.STREAM_DEACTIVATED="streamDeactivated",y.STREAM_INITIALIZED="streamInitialized",y.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",y.TEXT_TRACKS_ADDED="allTextTracksAdded",y.TEXT_TRACK_ADDED="textTrackAdded",y.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",y.TTML_PARSED="ttmlParsed",y.TTML_TO_PARSE="ttmlToParse",y.CAPTION_RENDERED="captionRendered",y.CAPTION_CONTAINER_RESIZE="captionContainerResize",y.CAN_PLAY="canPlay",y.CAN_PLAY_THROUGH="canPlayThrough",y.PLAYBACK_ENDED="playbackEnded",y.PLAYBACK_ERROR="playbackError",y.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",y.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",y.PLAYBACK_LOADED_DATA="playbackLoadedData",y.PLAYBACK_PAUSED="playbackPaused",y.PLAYBACK_PLAYING="playbackPlaying",y.PLAYBACK_PROGRESS="playbackProgress",y.PLAYBACK_RATE_CHANGED="playbackRateChanged",y.PLAYBACK_SEEKED="playbackSeeked",y.PLAYBACK_SEEKING="playbackSeeking",y.PLAYBACK_STALLED="playbackStalled",y.PLAYBACK_STARTED="playbackStarted",y.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",y.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",y.PLAYBACK_WAITING="playbackWaiting",y.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",y.EVENT_MODE_ON_START="eventModeOnStart",y.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",y.CONFORMANCE_VIOLATION="conformanceViolation",y.REPRESENTATION_SWITCH="representationSwitch",y.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",y.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",y.INBAND_PRFT="inbandPrft",y}return p}(F(8342).Z))},3393:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=new(function(){function f(){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}var O;return(O=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}())},3860:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=new(function(){function f(){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}var O;return(O=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}())},8080:(At,Ze,F)=>{"use strict";F.d(Ze,{default:()=>R});var ye=function x(){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,x),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};ye.SSL_CONNECTION_FAILED_PREFIX="SSL",ye.DNS_RESOLUTION_FAILED="C00",ye.HOST_UNREACHABLE="C01",ye.CONNECTION_REFUSED="C02",ye.CONNECTION_ERROR="C03",ye.CORRUPT_MEDIA_ISOBMFF="M00",ye.CORRUPT_MEDIA_OTHER="M01",ye.BASE_URL_CHANGED="F00",ye.BECAME_REPORTER="S00";const P=ye;var f=F(1180);function h(x){var ue,oe,xe=(x=x||{}).eventBus,Ye=x.dashMetrics,Xe=x.metricsConstants,Le=x.events;function tt(kt){var on=new P;if(oe){for(var Tn in kt)kt.hasOwnProperty(Tn)&&(on[Tn]=kt[Tn]);on.mpdurl||(on.mpdurl=oe.originalUrl||oe.url),on.terror||(on.terror=new Date),Ye.addDVBErrors(on)}}function rt(kt){kt.error||(oe=kt.manifest)}function Re(kt){tt({errorcode:P.BASE_URL_CHANGED,servicelocation:kt.entry})}function We(){tt({errorcode:P.BECAME_REPORTER})}function Qe(kt){var on;kt.metric===Xe.HTTP_REQUEST&&(0===(on=kt.value).responsecode||null==on.responsecode||on.responsecode>=400||on.responsecode<100||on.responsecode>=600)&&tt({errorcode:on.responsecode||P.CONNECTION_ERROR,url:on.url,terror:on.tresponse,servicelocation:on._serviceLocation})}function St(kt){var on;switch(kt.error?kt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:on=P.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:on=P.CORRUPT_MEDIA_OTHER;break;default:return}tt({errorcode:on})}return ue={initialize:function(){xe.on(Le.MANIFEST_UPDATED,rt,ue),xe.on(Le.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Re,ue),xe.on(Le.METRIC_ADDED,Qe,ue),xe.on(Le.METRIC_UPDATED,Qe,ue),xe.on(Le.PLAYBACK_ERROR,St,ue),xe.on(f.Z.BECAME_REPORTING_PLAYER,We,ue)},reset:function(){xe.off(Le.MANIFEST_UPDATED,rt,ue),xe.off(Le.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Re,ue),xe.off(Le.METRIC_ADDED,Qe,ue),xe.off(Le.METRIC_UPDATED,Qe,ue),xe.off(Le.PLAYBACK_ERROR,St,ue),xe.off(f.Z.BECAME_REPORTING_PLAYER,We,ue)}}}h.__dashjs_factory_name="DVBErrorsTranslator";const O=dashjs.FactoryMaker.getSingletonFactory(h);var S=F(2295);function g(x){var ue,oe,xe=!1,Xe=(x=x||{}).mediaElement;return ue={initialize:function(Le){Le&&Le.length&&(Le.forEach(function(tt){var rt=tt.starttime;oe.add(rt,rt+tt.duration)}),xe=!!Le[0]._useWallClockTime)},reset:function(){oe.clear()},isEnabled:function(){var Le,tt=oe.length;if(!tt)return!0;Le=xe?(new Date).getTime()/1e3:Xe.currentTime;for(var rt=0;rt<tt;rt+=1){var Re=oe.start(rt),We=oe.end(rt);if(Re<=Le&&Le<We)return!0}return!1}},oe=(0,S.Z)(this.context).create(),ue}g.__dashjs_factory_name="RangeController";const C=dashjs.FactoryMaker.getClassFactory(g);function M(){return{serialise:function x(ue){var oe,xe,Ye=[],Xe=[];for(oe in ue)if(ue.hasOwnProperty(oe)&&0!==oe.indexOf("_")){if(null==(xe=ue[oe])&&(xe=""),Array.isArray(xe)){if(!xe.length)continue;Xe=[],xe.forEach(function(Le){var tt="Object"!==Object.prototype.toString.call(Le).slice(8,-1);Xe.push(tt?Le:x(Le))}),xe=Xe.map(encodeURIComponent).join(",")}else"string"==typeof xe?xe=encodeURIComponent(xe):xe instanceof Date?xe=xe.toISOString():"number"==typeof xe&&(xe=Math.round(xe));Ye.push(oe+"="+xe)}return Ye.join("&")}}}M.__dashjs_factory_name="MetricSerialiser";const p=dashjs.FactoryMaker.getSingletonFactory(M);function y(){var x,ue,oe,xe=window.crypto||window.msCrypto,Ye=Uint32Array,Xe=Math.pow(2,8*Ye.BYTES_PER_ELEMENT)-1;function Le(){xe&&(x||(x=new Ye(10)),xe.getRandomValues(x),ue=0)}return oe={random:function(tt,rt){var Re;return tt||(tt=0),rt||(rt=1),xe?(ue===x.length&&Le(),Re=x[ue]/Xe,ue+=1):Re=Math.random(),Re*(rt-tt)+tt}},Le(),oe}y.__dashjs_factory_name="RNG";const T=dashjs.FactoryMaker.getSingletonFactory(y);var q=F(5717);function W(x){var ue,oe,xe,Ye,Xe,Le,tt,rt,Re=this.context,We=[],Qe=(x=x||{}).metricsConstants;function St(){Xe=!1,Le=!1,tt=null,rt=null}return ue={report:function(kt,on){Array.isArray(on)||(on=[on]),Le&&rt.isEnabled()&&on.forEach(function(Tn){var xn=oe.serialise(Tn);kt!==Qe.DVB_ERRORS&&(xn="metricname=".concat(kt,"&").concat(xn)),function(yn,jn,Hn){var br=new XMLHttpRequest;br.withCredentials=xe.getXHRWithCredentialsForType(Qe.HTTP_REQUEST_DVB_REPORTING_TYPE);var mi=function(){var Ci=We.indexOf(br);-1!==Ci&&(We.splice(Ci,1),!(br.status>=200&&br.status<300)&&Hn&&Hn())};We.push(br);try{br.open("GET",yn),br.onloadend=mi,br.onerror=mi,br.send()}catch{br.onerror()}}(xn="".concat(tt,"?").concat(xn),0,function(){Le=!1})})},initialize:function(kt,on){var Tn;if(rt=on,!(tt=kt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");Xe||((Tn=kt.dvb_probability)&&(1e3===Tn||Tn/1e3>=Ye.random())&&(Le=!0),Xe=!0)},reset:function(){St()}},oe=p(Re).getInstance(),Ye=T(Re).getInstance(),xe=(0,q.Z)(Re).getInstance(),St(),ue}W.__dashjs_factory_name="DVBReporting";const ne=dashjs.FactoryMaker.getClassFactory(W);function J(x){var oe={"urn:dvb:dash:reporting:2014":ne},xe=this.context,Ye=(x=x||{}).debug?x.debug.getLogger(void 0):{},Xe=x.metricsConstants,Le=x.mediaPlayerModel||{};return{create:function(tt,rt){var Re;try{(Re=oe[tt.schemeIdUri](xe).create({metricsConstants:Xe,mediaPlayerModel:Le})).initialize(tt,rt)}catch(We){Re=null,Ye.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(tt.schemeIdUri," (").concat(We.message,")"))}return Re},register:function(tt,rt){oe[tt]=rt},unregister:function(tt){delete oe[tt]}}}J.__dashjs_factory_name="ReportingFactory";const se=dashjs.FactoryMaker.getSingletonFactory(J);function H(x){var ue=[],oe=se(this.context).getInstance(x);return{initialize:function(xe,Ye){xe.some(function(Xe){var Le=oe.create(Xe,Ye);if(Le)return ue.push(Le),!0})},reset:function(){ue.forEach(function(xe){return xe.reset()}),ue=[]},report:function(xe,Ye){ue.forEach(function(Xe){return Xe.report(xe,Ye)})}}}H.__dashjs_factory_name="ReportingController";const k=dashjs.FactoryMaker.getClassFactory(H);function K(){return{reconstructFullMetricName:function(x,ue,oe){var xe=x;return ue&&(xe+="("+ue,oe&&oe.length&&(xe+=","+oe),xe+=")"),xe},validateN:function(x){if(!x)throw new Error("missing n");if(isNaN(x))throw new Error("n is NaN");if(x<0)throw new Error("n must be positive");return x}}}K.__dashjs_factory_name="HandlerHelpers";const de=dashjs.FactoryMaker.getSingletonFactory(K);function ce(x){var ue,oe,xe,Ye,Xe;x=x||{};var tt=de(this.context).getInstance(),rt=[],Re=x.metricsConstants;function We(){var Qe=function(){try{return Object.keys(rt).map(function(St){return rt[St]}).reduce(function(St,kt){return St.level<kt.level?St:kt})}catch{return}}();Qe&&Xe!==Qe.t&&(Xe=Qe.t,ue.report(xe,Qe))}return{initialize:function(Qe,St,kt){St&&(oe=tt.validateN(kt),ue=St,xe=tt.reconstructFullMetricName(Qe,kt),Ye=setInterval(We,oe))},reset:function(){clearInterval(Ye),Ye=null,oe=0,ue=null,Xe=null},handleNewMetric:function(Qe,St,kt){Qe===Re.BUFFER_LEVEL&&(rt[kt]=St)}}}ce.__dashjs_factory_name="BufferLevelHandler";const qe=dashjs.FactoryMaker.getClassFactory(ce),ot=dashjs.FactoryMaker.getClassFactory(function(x){var ue,oe=(x=x||{}).eventBus,xe=x.metricsConstants;function Ye(){oe.off(f.Z.METRICS_INITIALISATION_COMPLETE,Ye,this),oe.trigger(f.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(Xe,Le){Le&&(ue=Le,oe.on(f.Z.METRICS_INITIALISATION_COMPLETE,Ye,this))},reset:function(){ue=null},handleNewMetric:function(Xe,Le){Xe===xe.DVB_ERRORS&&ue&&ue.report(Xe,Le)}}});function pe(x){var ue,oe,xe,Ye,Xe;x=x||{};var Le=[],tt=de(this.context).getInstance(),rt=x.metricsConstants;function Re(){Le.length&&ue&&ue.report(Ye,Le),Le=[]}return{initialize:function(We,Qe,St,kt){Qe&&(oe=tt.validateN(St),ue=Qe,kt&&kt.length&&(xe=kt),Ye=tt.reconstructFullMetricName(We,St,kt),Xe=setInterval(Re,oe))},reset:function(){clearInterval(Xe),Xe=null,oe=null,xe=null,Le=[],ue=null},handleNewMetric:function(We,Qe){We===rt.HTTP_REQUEST&&(xe&&xe!==Qe.type||Le.push(Qe))}}}pe.__dashjs_factory_name="HttpListHandler";const Nt=dashjs.FactoryMaker.getClassFactory(pe);function He(){var x,ue;return{initialize:function(oe,xe){x=oe,ue=xe},reset:function(){ue=null,x=void 0},handleNewMetric:function(oe,xe){oe===x&&ue&&ue.report(x,xe)}}}He.__dashjs_factory_name="GenericMetricHandler";const Ke=dashjs.FactoryMaker.getClassFactory(He);function Ne(x){var oe=(x=x||{}).debug?x.debug.getLogger(void 0):{},xe=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,Ye=this.context,Xe={BufferLevel:qe,DVBErrors:ot,HttpList:Nt,PlayList:Ke,RepSwitchList:Ke,TcpList:Ke};return{create:function(Le,tt){var rt,Re=Le.match(xe);if(Re){try{(rt=Xe[Re[1]](Ye).create({eventBus:x.eventBus,metricsConstants:x.metricsConstants})).initialize(Re[1],tt,Re[3],Re[5])}catch(We){rt=null,oe.error("MetricsHandlerFactory: Could not create handler for type ".concat(Re[1]," with args ").concat(Re[3],", ").concat(Re[5]," (").concat(We.message,")"))}return rt}},register:function(Le,tt){Xe[Le]=tt},unregister:function(Le){delete Xe[Le]}}}Ne.__dashjs_factory_name="MetricsHandlerFactory";const je=dashjs.FactoryMaker.getSingletonFactory(Ne);function it(x){var ue,oe=[],Ye=(x=x||{}).eventBus,Xe=x.events,Le=je(this.context).getInstance({debug:x.debug,eventBus:x.eventBus,metricsConstants:x.metricsConstants});function tt(rt){oe.forEach(function(Re){Re.handleNewMetric(rt.metric,rt.value,rt.mediaType)})}return ue={initialize:function(rt,Re){rt.split(",").forEach(function(We,Qe,St){var kt;if(-1!==We.indexOf("(")&&-1===We.indexOf(")")){var on=St[Qe+1];on&&-1===on.indexOf("(")&&-1!==on.indexOf(")")&&(We+=","+on,delete St[Qe+1])}(kt=Le.create(We,Re))&&oe.push(kt)}),Ye.on(Xe.METRIC_ADDED,tt,ue),Ye.on(Xe.METRIC_UPDATED,tt,ue)},reset:function(){Ye.off(Xe.METRIC_ADDED,tt,ue),Ye.off(Xe.METRIC_UPDATED,tt,ue),oe.forEach(function(rt){return rt.reset()}),oe=[]}}}it.__dashjs_factory_name="MetricsHandlersController";const Mt=dashjs.FactoryMaker.getClassFactory(it);function ut(x){var ue,oe,xe;x=x||{};var Ye=this.context;function Xe(){ue&&ue.reset(),oe&&oe.reset(),xe&&xe.reset()}return{initialize:function(Le){try{(xe=C(Ye).create({mediaElement:x.mediaElement})).initialize(Le.Range),(oe=k(Ye).create({debug:x.debug,metricsConstants:x.metricsConstants,mediaPlayerModel:x.mediaPlayerModel})).initialize(Le.Reporting,xe),(ue=Mt(Ye).create({debug:x.debug,eventBus:x.eventBus,metricsConstants:x.metricsConstants,events:x.events})).initialize(Le.metrics,oe)}catch(tt){throw Xe(),tt}},reset:Xe}}ut.__dashjs_factory_name="MetricsController";const ke=dashjs.FactoryMaker.getClassFactory(ut),_t=function x(){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,x),this.metrics="",this.Range=[],this.Reporting=[]},xt=function x(){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,x),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},$e=function x(){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,x),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function yt(x){var ue=(x=x||{}).adapter,oe=x.constants;return{getMetrics:function(xe){var Ye=[];return xe&&xe.Metrics_asArray&&xe.Metrics_asArray.forEach(function(Xe){var Le=new _t,tt=ue.getIsDynamic(xe);Xe.hasOwnProperty("metrics")&&(Le.metrics=Xe.metrics,Xe.Range_asArray&&Xe.Range_asArray.forEach(function(rt){var We,St,kt,on,Tn,Re=new xt;Re.starttime=(We=xe,St=rt,Tn=0,tt?Tn=ue.getAvailabilityStartTime(We)/1e3:(kt=ue.getRegularPeriods(We)).length&&(Tn=kt[0].start),on=Tn,St&&St.hasOwnProperty(oe.START_TIME)&&(on+=St.starttime),on),Re.duration=rt.hasOwnProperty("duration")?rt.duration:ue.getDuration(xe),Re._useWallClockTime=tt,Le.Range.push(Re)}),Xe.Reporting_asArray&&(Xe.Reporting_asArray.forEach(function(rt){var Re=new $e;rt.hasOwnProperty(oe.SCHEME_ID_URI)&&(Re.schemeIdUri=rt.schemeIdUri,rt.hasOwnProperty("value")&&(Re.value=rt.value),rt.hasOwnProperty(oe.DVB_REPORTING_URL)&&(Re.dvb_reportingUrl=rt[oe.DVB_REPORTING_URL]),rt.hasOwnProperty(oe.DVB_PROBABILITY)&&(Re.dvb_probability=rt[oe.DVB_PROBABILITY]),Le.Reporting.push(Re))}),Ye.push(Le)))}),Ye}}}yt.__dashjs_factory_name="ManifestParsing";const me=dashjs.FactoryMaker.getSingletonFactory(yt);function Ae(x){var ue,oe={},xe=this.context,Ye=(x=x||{}).eventBus,Xe=x.events;function Le(rt){if(!rt.error){var Re=Object.keys(oe);me(xe).getInstance({adapter:x.adapter,constants:x.constants}).getMetrics(rt.manifest).forEach(function(We){var Qe=JSON.stringify(We);if(oe.hasOwnProperty(Qe))Re.splice(Qe,1);else try{var St=ke(xe).create(x);St.initialize(We),oe[Qe]=St}catch{}}),Re.forEach(function(We){oe[We].reset(),delete oe[We]}),Ye.trigger(f.Z.METRICS_INITIALISATION_COMPLETE)}}function tt(){Object.keys(oe).forEach(function(rt){oe[rt].reset()}),oe={}}return ue={reset:function(){Ye.off(Xe.MANIFEST_UPDATED,Le,ue),Ye.off(Xe.STREAM_TEARDOWN_COMPLETE,tt,ue)}},Ye.on(Xe.MANIFEST_UPDATED,Le,ue),Ye.on(Xe.STREAM_TEARDOWN_COMPLETE,tt,ue),ue}Ae.__dashjs_factory_name="MetricsCollectionController";const at=dashjs.FactoryMaker.getClassFactory(Ae);function E(){var x=this.context;return{createMetricsReporting:function(ue){return O(x).getInstance({eventBus:ue.eventBus,dashMetrics:ue.dashMetrics,metricsConstants:ue.metricsConstants,events:ue.events}).initialize(),at(x).create(ue)},getReportingFactory:function(){return se(x).getInstance()},getMetricsHandlerFactory:function(){return je(x).getInstance()}}}E.__dashjs_factory_name="MetricsReporting";var _=dashjs.FactoryMaker.getClassFactory(E);_.events=f.Z,dashjs.FactoryMaker.updateClassFactory(E.__dashjs_factory_name,_);const R=_},1180:(At,Ze,F)=>{"use strict";function ye(S){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(S)}function P(S,g){return(P=Object.setPrototypeOf||function(C,M){return C.__proto__=M,C})(S,g)}function h(S){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(S)}F.d(Ze,{Z:()=>O});const O=new(function(S){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&P(y,T)}(p,S);var g,C,M=(g=p,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=h(g);if(C){var q=h(this).constructor;y=Reflect.construct(T,arguments,q)}else y=T.apply(this,arguments);return function f(S,g){return!g||"object"!==ye(g)&&"function"!=typeof g?function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(S):g}(this,y)});function p(){var y;return function(T,q){if(!(T instanceof q))throw new TypeError("Cannot call a class as a function")}(this,p),(y=M.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",y.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",y.CMCD_DATA_GENERATED="cmcdDataGenerated",y}return p}(F(8342).Z))},5717:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>C});var ye=F(2610),P=F(5448),f=F(1264),h=F(3106),O=F(1767),S=F(3393);function g(){var M,p,y,T,q,W,ne,J,H=(0,f.Z)(this.context).getInstance();function k(){T=[],q=[],W=[],J=[],ne=null,p=[]}function K(ot,pe){var Nt=-1;ot.some(function(He,Ke){if(He===pe)return Nt=Ke,!0}),Nt<0||ot.splice(Nt,1)}function de(ot){var pe;for(pe=0;pe<J.length;pe++)if(J[pe].rulename===ot)return pe;return-1}function ce(ot,pe){qe(ot,pe);var Nt=new ye.Z;Nt.schemeIdUri=ot,Nt.value=pe,p.push(Nt)}function qe(ot,pe){(0,h.PS)(ot,"string"),(0,h.PS)(pe,"string"),p.forEach(function(Nt,He){Nt.schemeIdUri===ot&&Nt.value===pe&&p.splice(He,1)})}return M={getCustomInitialTrackSelectionFunction:function(){return ne},setCustomInitialTrackSelectionFunction:function(ot){ne=ot},resetCustomInitialTrackSelectionFunction:function(){ne=null},getLicenseResponseFilters:function(){return q},getLicenseRequestFilters:function(){return T},getCustomCapabilitiesFilters:function(){return W},registerCustomCapabilitiesFilter:function(ot){W.push(ot)},registerLicenseResponseFilter:function(ot){q.push(ot)},registerLicenseRequestFilter:function(ot){T.push(ot)},unregisterCustomCapabilitiesFilter:function(ot){K(W,ot)},unregisterLicenseResponseFilter:function(ot){K(q,ot)},unregisterLicenseRequestFilter:function(ot){K(T,ot)},addAbrCustomRule:function(ot,pe,Nt){if("string"!=typeof ot||ot!==O.Z.ABANDON_FRAGMENT_RULES&&ot!==O.Z.QUALITY_SWITCH_RULES||"string"!=typeof pe)throw S.Z.BAD_ARGUMENT_ERROR;var He=de(pe);-1===He?J.push({type:ot,rulename:pe,rule:Nt}):(J[He].type=ot,J[He].rule=Nt)},removeAllAbrCustomRule:function(){J=[]},removeAbrCustomRule:function(ot){if(ot){var pe=de(ot);-1!==pe&&J.splice(pe,1)}else J=[]},getAbrCustomRules:function(){return J},addUTCTimingSource:ce,removeUTCTimingSource:qe,getUTCTimingSources:function(){return p},clearDefaultUTCTimingSources:function(){p=[]},restoreDefaultUTCTimingSources:function(){var ot=H.get().streaming.utcSynchronization.defaultTimingSource;ce(ot.scheme,ot.value)},setXHRWithCredentialsForType:function ot(pe,Nt){pe?y[pe]=!!Nt:Object.keys(y).forEach(function(He){ot(He,Nt)})},getXHRWithCredentialsForType:function(ot){var pe=y[ot];return void 0===pe?y.default:pe},setConfig:function(){},reset:function(){k()}},y={default:!1},k(),M}g.__dashjs_factory_name="CustomParametersModel";const C=P.Z.getSingletonFactory(g)},9032:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(7473);function f(O){var S=(O=O||{}).requestModifier;function g(C){var M=new Date,p=C.request,y=new XMLHttpRequest;if(y.open(C.method,C.url,!0),p.responseType&&(y.responseType=p.responseType),p.range&&y.setRequestHeader("Range","bytes="+p.range),p.requestStartDate||(p.requestStartDate=M),S&&S.modifyRequestHeader&&(y=S.modifyRequestHeader(y,{url:C.url})),C.headers)for(var T in C.headers){var q=C.headers[T];q&&y.setRequestHeader(T,q)}y.withCredentials=C.withCredentials,y.onload=C.onload,y.onloadend=C.onend,y.onerror=C.onerror,y.onprogress=C.progress,y.onabort=C.onabort,y.ontimeout=C.ontimeout,y.timeout=C.timeout,y.send(),C.response=y}return{load:function(C){S&&S.modifyRequest?(0,P.k)(C,S).then(function(){return g(C)}):g(C)},abort:function(C){var M=C.response;M.onloadend=M.onerror=M.onprogress=void 0,M.abort()}}}f.__dashjs_factory_name="XHRLoader";const h=ye.Z.getClassFactory(f)},1737:(At,Ze,F)=>{"use strict";F.d(Ze,{default:()=>Fs});var P={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};const f=function(){function qt(){!function(lt,Ot){if(!(lt instanceof Ot))throw new TypeError("Cannot call a class as a function")}(this,qt)}var Vt;return(Vt=[{key:"findCencContentProtection",value:function(lt){for(var Ot=null,gt=0;gt<lt.length;++gt){var Rt=lt[gt];"urn:mpeg:dash:mp4protection:2011"!==Rt.schemeIdUri.toLowerCase()||"cenc"!==Rt.value.toLowerCase()&&"cbcs"!==Rt.value.toLowerCase()||(Ot=Rt)}return Ot}},{key:"getPSSHData",value:function(lt){var Ot=8,gt=new DataView(lt),Rt=gt.getUint8(Ot);return Ot+=20,Rt>0&&(Ot+=4+16*gt.getUint32(Ot)),lt.slice(Ot+=4)}},{key:"getPSSHForKeySystem",value:function(lt,Ot){var gt=qt.parsePSSHList(Ot);return lt&&gt.hasOwnProperty(lt.uuid.toLowerCase())?gt[lt.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(lt,Ot){return"pssh"in lt?(lt.pssh.__text=lt.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),Ot.decodeArray(lt.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(lt){if(null==lt)return[];for(var Ot=new DataView(lt.buffer||lt),gt={},Rt=0;;){var tn,rn,cn=void 0,In=Rt;if(Rt>=Ot.buffer.byteLength)break;if(tn=Rt+Ot.getUint32(Rt),1886614376===Ot.getUint32(Rt+=4))if(0===(rn=Ot.getUint8(Rt+=4))||1===rn){Rt++,Rt+=3,cn="";var an=void 0,Bt=void 0;for(an=0;an<4;an++)cn+=1===(Bt=Ot.getUint8(Rt+an).toString(16)).length?"0"+Bt:Bt;for(Rt+=4,cn+="-",an=0;an<2;an++)cn+=1===(Bt=Ot.getUint8(Rt+an).toString(16)).length?"0"+Bt:Bt;for(Rt+=2,cn+="-",an=0;an<2;an++)cn+=1===(Bt=Ot.getUint8(Rt+an).toString(16)).length?"0"+Bt:Bt;for(Rt+=2,cn+="-",an=0;an<2;an++)cn+=1===(Bt=Ot.getUint8(Rt+an).toString(16)).length?"0"+Bt:Bt;for(Rt+=2,cn+="-",an=0;an<6;an++)cn+=1===(Bt=Ot.getUint8(Rt+an).toString(16)).length?"0"+Bt:Bt;Rt+=6,Rt+=4,gt[cn=cn.toLowerCase()]=Ot.buffer.slice(In,tn),Rt=tn}else Rt=tn;else Rt=tn}return gt}},{key:"getLicenseServerUrlFromMediaInfo",value:function(lt,Ot){try{if(!lt||0===lt.length)return null;for(var gt=0,Rt=null;gt<lt.length&&!Rt;){var tn=lt[gt];if(tn&&tn.contentProtection&&tn.contentProtection.length>0){var rn=tn.contentProtection.filter(function(Fn){return Fn.schemeIdUri&&Fn.schemeIdUri===Ot});if(rn&&rn.length>0)for(var cn=0;cn<rn.length&&!Rt;){for(var In=rn[cn],an=0;an<P.attributes.length&&!Rt;){for(var Bt=0,mn=P.attributes[an];Bt<P.prefixes.length&&!Rt;)In[mn]&&In[mn].__prefix&&In[mn].__prefix===P.prefixes[Bt]&&In[mn].__text&&(Rt=In[mn].__text),Bt+=1;an+=1}cn+=1}}gt+=1}return Rt}catch{return null}}}])&&function ye(qt,Ut){for(var Vt=0;Vt<Ut.length;Vt++){var lt=Ut[Vt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(qt,lt.key,lt)}}(qt,Vt),qt}(),h=function qt(Ut,Vt){(function(lt,Ot){if(!(lt instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,qt),this.contentType=Ut,this.robustness=Vt},O=function qt(Ut,Vt,lt,Ot,gt){(function(Rt,tn){if(!(Rt instanceof tn))throw new TypeError("Cannot call a class as a function")})(this,qt),this.initDataTypes=["cenc"],Ut&&Ut.length&&(this.audioCapabilities=Ut),Vt&&Vt.length&&(this.videoCapabilities=Vt),this.distinctiveIdentifier=lt,this.persistentState=Ot,this.sessionTypes=gt};function S(qt){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(qt)}function g(qt,Ut){return(g=Object.setPrototypeOf||function(Vt,lt){return Vt.__proto__=lt,Vt})(qt,Ut)}function M(qt){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)})(qt)}const p=new(function(qt){!function(gt,Rt){if("function"!=typeof Rt&&null!==Rt)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(Rt&&Rt.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Rt&&g(gt,Rt)}(Ot,qt);var Ut,Vt,lt=(Ut=Ot,Vt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var gt,Rt=M(Ut);if(Vt){var tn=M(this).constructor;gt=Reflect.construct(Rt,arguments,tn)}else gt=Rt.apply(this,arguments);return function C(qt,Ut){return!Ut||"object"!==S(Ut)&&"function"!=typeof Ut?function(Vt){if(void 0===Vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Vt}(qt):Ut}(this,gt)});function Ot(){var gt;return function(Rt,tn){if(!(Rt instanceof tn))throw new TypeError("Cannot call a class as a function")}(this,Ot),(gt=lt.call(this)).MEDIA_KEYERR_CODE=100,gt.MEDIA_KEYERR_UNKNOWN_CODE=101,gt.MEDIA_KEYERR_CLIENT_CODE=102,gt.MEDIA_KEYERR_SERVICE_CODE=103,gt.MEDIA_KEYERR_OUTPUT_CODE=104,gt.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,gt.MEDIA_KEYERR_DOMAIN_CODE=106,gt.MEDIA_KEY_MESSAGE_ERROR_CODE=107,gt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,gt.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,gt.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,gt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,gt.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,gt.KEY_SESSION_CREATED_ERROR_CODE=113,gt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,gt.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",gt.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",gt.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",gt.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",gt.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",gt.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",gt.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",gt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",gt.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",gt.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",gt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",gt.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",gt.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",gt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",gt}return Ot}(F(2230).Z));var y=F(5459);const T=function qt(Ut,Vt,lt,Ot,gt,Rt,tn,rn){(function(cn,In){if(!(cn instanceof In))throw new TypeError("Cannot call a class as a function")})(this,qt),this.url=Ut,this.method=Vt,this.responseType=lt,this.headers=Ot,this.withCredentials=gt,this.messageType=Rt,this.sessionId=tn,this.data=rn},q=function qt(Ut,Vt,lt){(function(Ot,gt){if(!(Ot instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,qt),this.url=Ut,this.headers=Vt,this.data=lt};var W=F(7855),ne=F(703),J=F(3393),se=F(5448);function H(qt){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(qt)}function k(qt){var Ut,Vt,lt,Ot,gt,Rt,tn,rn,cn,In,an,Bt=(qt=qt||{}).protectionKeyController,mn=qt.protectionModel,pn=qt.eventBus,Fn=qt.events,Er=qt.BASE64,Ln=qt.constants,Lt=[],Ht=qt.cmcdModel,Jt=qt.settings,Bn=qt.customParametersModel;function Zn(){if(!(pn&&pn.hasOwnProperty("on")&&Bt&&Bt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function Cr(Xt,Nn){rn||cn?rn&&Dr():function(Wn,di){if(!cn){cn=!0;var ei,or=[];Wn=Wn.sort(function(fi,zr){return(gt&&gt[fi.ks.systemString]&&gt[fi.ks.systemString].priority>=0?gt[fi.ks.systemString].priority:Wn.length)-(gt&&gt[zr.ks.systemString]&&gt[zr.ks.systemString].priority>=0?gt[zr.ks.systemString].priority:Wn.length)});for(var Lr=0;Lr<Wn.length;Lr++){var Mr=Aa(Wn[Lr]);or.push({ks:Wn[Lr].ks,configs:[Mr],protData:Wn[Lr].protData})}mn.requestKeySystemAccess(or).then(function(fi){var zr=(ei=fi.data).mksa&&ei.mksa.selectedSystemString?ei.mksa.selectedSystemString:ei.keySystem.systemString;return Vt.info("DRM: KeySystem Access Granted for system string ("+zr+")!  Selecting key system..."),mn.selectKeySystem(ei)}).then(function(fi){if(rn=fi,cn=!1,mn){pn.trigger(Fn.KEY_SYSTEM_SELECTED,{data:ei});var zr=bi(rn);zr&&zr.serverCertificate&&zr.serverCertificate.length>0&&mn.setServerCertificate(Er.decodeArray(zr.serverCertificate).buffer),Dr()}}).catch(function(fi){rn=null,cn=!1,di||pn.trigger(Fn.KEY_SYSTEM_SELECTED,{data:null,error:new y.Z(p.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,p.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+fi.error)})})}}(Xt,Nn)}function Dr(){for(var Xt,Nn=0;Nn<lt.length;Nn++)for(Xt=0;Xt<lt[Nn].length;Xt++)if(rn===lt[Nn][Xt].ks){Oi(lt[Nn][Xt]);break}lt=[]}function Oi(Xt){if(Bt.isClearKey(rn)&&Xt.protData&&Xt.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Xt.protData.clearkeys).length){var Nn={kids:Object.keys(Xt.protData.clearkeys)};Xt.initData=(new TextEncoder).encode(JSON.stringify(Nn))}Xt.sessionId?gi(Xt):null!==Xt.initData&&Kr(Xt)}function gi(Xt){Zn(),mn.loadKeySession(Xt)}function Kr(Xt){var Nn=f.getPSSHForKeySystem(rn,Xt?Xt.initData:null);if(Nn){if(function(Wn){if(!Wn)return!1;try{for(var di=mn.getSessions(),ei=0;ei<di.length;ei++)if(di[ei].getKeyId()===Wn)return!0;return!1}catch{return!1}}(Xt.keyId)||ai(Nn))return;try{Xt.initData=Nn,mn.createKeySession(Xt)}catch(Wn){pn.trigger(Fn.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+Wn.message)})}}else Xt&&Xt.initData?mn.createKeySession(Xt):pn.trigger(Fn.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(rn?rn.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function bi(Xt){if(Xt){var Nn=Xt.systemString;if(gt)return Nn in gt?gt[Nn]:null}return null}function ai(Xt){if(!Xt)return!1;try{for(var Nn=mn.getAllInitData(),Wn=0;Wn<Nn.length;Wn++)if(Bt.initDataEquals(Xt,Nn[Wn]))return Vt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Yi(Xt){Zn(),Xt?(mn.setMediaElement(Xt),pn.on(Fn.NEED_KEY,Jn,Ut)):null===Xt&&(mn.setMediaElement(Xt),pn.off(Fn.NEED_KEY,Jn,Ut))}function Aa(Xt){var Nn=Xt.protData,Wn=[],di=[],ei=Nn&&Nn.audioRobustness&&Nn.audioRobustness.length>0?Nn.audioRobustness:tn,or=Nn&&Nn.videoRobustness&&Nn.videoRobustness.length>0?Nn.videoRobustness:tn,Lr=Xt.sessionType,Mr=Nn&&Nn.distinctiveIdentifier?Nn.distinctiveIdentifier:"optional",fi=Nn&&Nn.persistentState?Nn.persistentState:"temporary"===Lr?"optional":"required";return Ot.forEach(function(zr){zr.type===Ln.AUDIO?Wn.push(new h(zr.codec,ei)):zr.type===Ln.VIDEO&&di.push(new h(zr.codec,or))}),new O(Wn,di,Mr,fi,[Lr])}function ra(Xt){Xt.error?pn.trigger(Fn.KEY_STATUSES_CHANGED,{data:null,error:Xt.error}):Vt.debug("DRM: key status = "+Xt.status)}function zo(Xt){Vt.debug("DRM: onKeyMessage");var Nn=Xt.data;pn.trigger(Fn.KEY_MESSAGE,{data:Nn});var Wn=Nn.messageType?Nn.messageType:"license-request",di=Nn.message,ei=Nn.sessionToken,or=bi(rn),Lr=Bt.getLicenseServerModelInstance(rn,or,Wn),Mr={sessionToken:ei,messageType:Wn};if(di&&0!==di.byteLength){if(!Lr)return Vt.debug("DRM: License server request not required for this message (type = "+Xt.data.messageType+").  Session ID = "+ei.getSessionId()),void $i(Mr);if(Bt.isClearKey(rn)){var fi=Bt.processClearKeyLicenseRequest(rn,or,di);if(fi&&fi.keyPairs&&fi.keyPairs.length>0)return Vt.debug("DRM: ClearKey license request handled by application!"),$i(Mr),void mn.updateKeySession(ei,fi)}!function(zr,Ir,Un){var is=zr.sessionToken,mo=zr.messageType?zr.messageType:"license-request",Ia={sessionToken:is,messageType:mo},bs=rn?rn.systemString:null,zt=function(ti,xa,Ra,ia,xh){var os=null,vd=ia.message;if(ti&&ti.serverURL){var Ai=ti.serverURL;"string"==typeof Ai&&""!==Ai?os=Ai:"object"===H(Ai)&&Ai.hasOwnProperty(xa)&&(os=Ai[xa])}else if(ti&&ti.laURL&&""!==ti.laURL)os=ti.laURL;else if(!(os=f.getLicenseServerUrlFromMediaInfo(Ot,rn.schemeIdURI))&&!Bt.isClearKey(rn)){var tr=f.getPSSHData(Ra.initData);(os=rn.getLicenseServerURLFromInitData(tr))||(os=ia.laURL)}return xh.getServerURLFromMessage(os,vd,xa)}(Un,mo,is,zr,Ir);if(zt){var Es={},sr=!1;Un&&Di(Es,Un.httpRequestHeaders);var Fr=zr.message;Di(Es,rn.getRequestHeadersFromMessage(Fr)),Object.keys(Es).forEach(function(ti){"authorization"===ti.toLowerCase()&&(sr=!0)}),Un&&"boolean"==typeof Un.withCredentials&&(sr=Un.withCredentials);var jc=function(ti){if(mn)if(ti.status>=200&&ti.status<=299){var xa=ne.Z.parseHttpHeaders(ti.getAllResponseHeaders?ti.getAllResponseHeaders():null),Ra=new q(ti.responseURL,xa,ti.response);Wi(Bn.getLicenseResponseFilters(),Ra).then(function(){var ia=Ir.getLicenseMessage(Ra.data,bs,mo);null!==ia?($i(Ia),mn.updateKeySession(is,ia)):Io(ti,Ia,bs,mo,Ir)})}else Io(ti,Ia,bs,mo,Ir)},pd=function(ti){$i(Ia,new y.Z(p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+bs+' update, XHR aborted. status is "'+ti.statusText+'" ('+ti.status+"), readyState is "+ti.readyState))},md=function(ti){$i(Ia,new y.Z(p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+bs+' update, XHR error. status is "'+ti.statusText+'" ('+ti.status+"), readyState is "+ti.readyState))},Da=rn.getLicenseRequestFromMessage(Fr),io=Ir.getHTTPMethod(mo),Hc=Ir.getResponseType(bs,mo),gd=Un&&!isNaN(Un.httpTimeout)?Un.httpTimeout:8e3,_d=is.getSessionId()||null,ws=new T(zt,io,Hc,Es,sr,mo,_d,Da),Dh=isNaN(Jt.get().streaming.retryAttempts[W.w.LICENSE])?3:Jt.get().streaming.retryAttempts[W.w.LICENSE];Wi(Bn.getLicenseRequestFilters(),ws).then(function(){Uc(ws,Dh,gd,jc,pd,md)})}else $i(Ia,new y.Z(p.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,p.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Nn,Lr,or)}else $i(Mr,new y.Z(p.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,p.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function $i(Xt,Nn){pn.trigger(Fn.LICENSE_REQUEST_COMPLETE,{data:Xt,error:Nn})}function Uc(Xt,Nn,Wn,di,ei,or){var Lr=new XMLHttpRequest;if(Jt.get().streaming.cmcd&&Jt.get().streaming.cmcd.enabled&&Jt.get().streaming.cmcd.mode===J.Z.CMCD_MODE_QUERY){var Mr=Ht.getQueryParameter({url:Xt.url,type:W.w.LICENSE});Mr&&(Xt.url=ne.Z.addAditionalQueryParameterToUrl(Xt.url,[Mr]))}for(var fi in Lr.open(Xt.method,Xt.url,!0),Lr.responseType=Xt.responseType,Lr.withCredentials=Xt.withCredentials,Wn>0&&(Lr.timeout=Wn),Xt.headers)Lr.setRequestHeader(fi,Xt.headers[fi]);if(Jt.get().streaming.cmcd&&Jt.get().streaming.cmcd.enabled&&Jt.get().streaming.cmcd.mode===J.Z.CMCD_MODE_HEADER){var zr=Ht.getHeaderParameters({url:Xt.url,type:W.w.LICENSE});if(zr)for(var Ir in zr){var Un=zr[Ir];Un&&Lr.setRequestHeader(Ir,Un)}}var is=function(){Nn--;var mo=isNaN(Jt.get().streaming.retryIntervals[W.w.LICENSE])?1e3:Jt.get().streaming.retryIntervals[W.w.LICENSE];an=setTimeout(function(){Uc(Xt,Nn,Wn,di,ei,or)},mo)};Lr.onload=function(){In=null,this.status>=200&&this.status<=299||Nn<=0?di(this):(Vt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Nn),is())},Lr.ontimeout=Lr.onerror=function(){In=null,Nn<=0?or(this):(Vt.warn("License request network request failed . Retrying it... Pending retries: "+Nn),is())},Lr.onabort=function(){ei(this)},pn.trigger(Fn.LICENSE_REQUEST_SENDING,{url:Xt.url,headers:Xt.headers,payload:Xt.data,sessionId:Xt.sessionId}),In=Lr,Lr.send(Xt.data)}function Vc(){In&&(In.onloadend=In.onerror=In.onprogress=void 0,In.abort(),In=null),an&&(clearTimeout(an),an=null)}function Di(Xt,Nn){if(Nn)for(var Wn in Nn)Xt[Wn]=Nn[Wn]}function Io(Xt,Nn,Wn,di,ei){var or="NONE",Lr=null;Xt.response&&(or=ei.getErrorResponse(Xt.response,Wn,di),Lr={serverResponse:Xt.response||null,responseCode:Xt.status||null,responseText:Xt.statusText||null}),$i(Nn,new y.Z(p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Wn+' update, XHR complete. status is "'+Xt.statusText+'" ('+Xt.status+"), readyState is "+Xt.readyState+".  Response is "+or,Lr))}function Wi(Xt,Nn){return Xt?Xt.reduce(function(Wn,di){return Wn.then(function(){return di(Nn)})},Promise.resolve()):Promise.resolve()}function Jn(Xt,Nn){if(!Jt.get().streaming.protection.ignoreEmeEncryptedEvent){if(Vt.debug("DRM: onNeedKey"),"cenc"!==Xt.key.initDataType)return void Vt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Xt.key.initDataType);if(0===Ot.length&&(Vt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Nn=void 0===Nn?1:Nn+1)<5))return void Lt.push(setTimeout(function(){Jn(Xt,Nn)},500));var Wn=Xt.key.initData;if(ArrayBuffer.isView(Wn)&&(Wn=Wn.buffer),rn){var di=f.getPSSHForKeySystem(rn,Wn);if(di&&ai(di))return}Vt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Wn)));var ei=Bt.getSupportedKeySystemsFromSegmentPssh(Wn,gt,Rt);if(0===ei.length)return void Vt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");lt.push(or=ei),Cr(or,!1)}var or}return Vt=qt.debug.getLogger(Ut={initializeForMedia:function(Xt){if(!Xt)throw new Error("mediaInfo can not be null or undefined");Zn(),Ot.push(Xt)},clearMediaInfoArray:function(){Ot=[]},handleKeySystemFromManifest:function(){if(Ot&&0!==Ot.length){var Xt=[];Ot.forEach(function(Nn){var Wn=Bt.getSupportedKeySystemsFromContentProtection(Nn.contentProtection,gt,Rt);Wn.length>0&&(0===Xt.length&&(Xt=Wn),lt.push(Wn))}),Xt&&Xt.length>0&&Cr(Xt,!0)}},createKeySession:Kr,loadKeySession:gi,removeKeySession:function(Xt){Zn(),mn.removeKeySession(Xt)},closeKeySession:function(Xt){Zn(),mn.closeKeySession(Xt)},setServerCertificate:function(Xt){Zn(),mn.setServerCertificate(Xt)},setMediaElement:Yi,setSessionType:function(Xt){Rt=Xt},setRobustnessLevel:function(Xt){tn=Xt},setProtectionData:function(Xt){gt=Xt,Bt.setProtectionData(Xt)},getSupportedKeySystemsFromContentProtection:function(Xt){return Zn(),Bt.getSupportedKeySystemsFromContentProtection(Xt,gt,Rt)},getKeySystems:function(){return Bt?Bt.getKeySystems():[]},setKeySystems:function(Xt){Bt&&Bt.setKeySystems(Xt)},stop:function(){Vc(),mn&&mn.stop()},reset:function(){pn.off(Fn.INTERNAL_KEY_MESSAGE,zo,Ut),pn.off(Fn.INTERNAL_KEY_STATUS_CHANGED,ra,Ut),Zn(),Vc(),Yi(null),rn=null,cn=!1,mn&&(mn.reset(),mn=null),Lt.forEach(function(Xt){return clearTimeout(Xt)}),Lt=[],Ot=[],lt=[]}}),lt=[],Ot=[],Rt="temporary",tn="",In=null,an=null,pn.on(Fn.INTERNAL_KEY_MESSAGE,zo,Ut),pn.on(Fn.INTERNAL_KEY_STATUS_CHANGED,ra,Ut),Ut}k.__dashjs_factory_name="ProtectionController";const K=se.Z.getClassFactory(k),de=function qt(Ut,Vt){(function(lt,Ot){if(!(lt instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,qt),this.keyID=Ut,this.key=Vt},qe=function(){function qt(lt,Ot){if(function(gt,Rt){if(!(gt instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this,qt),Ot&&"persistent"!==Ot&&"temporary"!==Ot)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=lt,this.type=Ot}var Vt;return(Vt=[{key:"toJWK",value:function(){var lt,Ot=this.keyPairs.length,gt={keys:[]};for(lt=0;lt<Ot;lt++)gt.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[lt].keyID,k:this.keyPairs[lt].key});this.type&&(gt.type=this.type);var tn=JSON.stringify(gt),rn=tn.length,cn=new ArrayBuffer(rn),In=new Uint8Array(cn);for(lt=0;lt<rn;lt++)In[lt]=tn.charCodeAt(lt);return cn}}])&&function ce(qt,Ut){for(var Vt=0;Vt<Ut.length;Vt++){var lt=Ut[Vt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(qt,lt.key,lt)}}(qt.prototype,Vt),qt}(),pe=new(function(){function qt(){(function(lt,Ot){if(!(lt instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,qt),this.init()}var Vt;return(Vt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&function ot(qt,Ut){for(var Vt=0;Vt<Ut.length;Vt++){var lt=Ut[Vt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(qt,lt.key,lt)}}(qt.prototype,Vt),qt}());var Nt="e2719d58-a985-b3c9-781a-b030af78d30e",He=pe.CLEARKEY_KEYSTEM_STRING,Ke="urn:uuid:"+Nt;function Ne(qt){var Ut=(qt=qt||{}).BASE64;return{uuid:Nt,schemeIdURI:Ke,systemString:He,getInitData:function(Vt,lt){try{var Ot=f.parseInitDataFromContentProtection(Vt,Ut);if(!Ot&&lt){var gt={kids:[function(Rt){try{var tn=Rt.replace(/-/g,"");return(tn=btoa(tn.match(/\w{2}/g).map(function(rn){return String.fromCharCode(parseInt(rn,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(lt["cenc:default_KID"])]};Ot=(new TextEncoder).encode(JSON.stringify(gt))}return Ot}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Vt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Vt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Vt,lt){var Ot=null;if(Vt){for(var gt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(lt))),Rt=[],tn=0;tn<gt.kids.length;tn++){var rn=gt.kids[tn],cn=Vt.clearkeys&&Vt.clearkeys.hasOwnProperty(rn)?Vt.clearkeys[rn]:null;if(!cn)throw new Error("DRM: ClearKey keyID ("+rn+") is not known!");Rt.push(new de(rn,cn))}Ot=new qe(Rt)}return Ot}}}Ne.__dashjs_factory_name="KeySystemClearKey";const je=dashjs.FactoryMaker.getSingletonFactory(Ne);var it="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Mt=pe.CLEARKEY_KEYSTEM_STRING,ut="urn:uuid:"+it;function ke(qt){var Vt=qt.BASE64,lt=qt.debug.getLogger(void 0);return{uuid:it,schemeIdURI:ut,systemString:Mt,getInitData:function(Ot){return f.parseInitDataFromContentProtection(Ot,Vt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Ot){return new Uint8Array(Ot)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Ot,gt){var Rt=null;if(Ot){for(var tn=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(gt))),rn=[],cn=0;cn<tn.kids.length;cn++){var In=tn.kids[cn],an=Ot.clearkeys&&Ot.clearkeys.hasOwnProperty(In)?Ot.clearkeys[In]:null;if(!an)throw new Error("DRM: ClearKey keyID ("+In+") is not known!");rn.push(new de(In,an))}Rt=new qe(rn),lt.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return Rt}}}ke.__dashjs_factory_name="KeySystemW3CClearKey";const _t=dashjs.FactoryMaker.getSingletonFactory(ke);var xt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",$e=pe.WIDEVINE_KEYSTEM_STRING,yt="urn:uuid:"+xt;function me(qt){var Ut=(qt=qt||{}).BASE64;return{uuid:xt,schemeIdURI:yt,systemString:$e,getInitData:function(Vt){return f.parseInitDataFromContentProtection(Vt,Ut)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Vt){return new Uint8Array(Vt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}me.__dashjs_factory_name="KeySystemWidevine";const Ae=dashjs.FactoryMaker.getSingletonFactory(me);var at="9a04f079-9840-4286-ab92-e65be0885f95",E=pe.PLAYREADY_KEYSTEM_STRING,_="urn:uuid:"+at;function R(qt){var Ut="utf-16",Vt=(qt=qt||{}).BASE64,lt=qt.settings;function Ot(){if(!Vt||!Vt.hasOwnProperty("decodeArray")||!Vt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:at,schemeIdURI:_,systemString:E,getInitData:function(gt){var Rt,tn,rn,cn,In,an=new Uint8Array([112,115,115,104,0,0,0,0]),Bt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),mn=0,pn=null;if(Ot(),!gt)return null;if("pssh"in gt)return f.parseInitDataFromContentProtection(gt,Vt);if("pro"in gt)pn=Vt.decodeArray(gt.pro.__text);else{if(!("prheader"in gt))return null;pn=Vt.decodeArray(gt.prheader.__text)}return tn=4+an.length+Bt.length+4+(Rt=pn.length),rn=new ArrayBuffer(tn),cn=new Uint8Array(rn),(In=new DataView(rn)).setUint32(mn,tn),cn.set(an,mn+=4),cn.set(Bt,mn+=an.length),In.setUint32(mn+=Bt.length,Rt),cn.set(pn,mn+=4),mn+=Rt,cn.buffer},getRequestHeadersFromMessage:function(gt){var Rt,tn,rn={},cn=new DOMParser;if(lt&&lt.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Ut&&gt&&gt.byteLength%2==1)return rn["Content-Type"]="text/xml; charset=utf-8",rn;var In="utf-16"===Ut?new Uint16Array(gt):new Uint8Array(gt);Rt=String.fromCharCode.apply(null,In);for(var an=(tn=cn.parseFromString(Rt,"application/xml")).getElementsByTagName("name"),Bt=tn.getElementsByTagName("value"),mn=0;mn<an.length;mn++)rn[an[mn].childNodes[0].nodeValue]=Bt[mn].childNodes[0].nodeValue;return rn.hasOwnProperty("Content")&&(rn["Content-Type"]=rn.Content,delete rn.Content),rn.hasOwnProperty("Content-Type")||(rn["Content-Type"]="text/xml; charset=utf-8"),rn},getLicenseRequestFromMessage:function(gt){var Rt=null,tn=new DOMParser;if(lt&&lt.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Ut&&gt&&gt.byteLength%2==1)return gt;var rn="utf-16"===Ut?new Uint16Array(gt):new Uint8Array(gt);Ot();var cn=String.fromCharCode.apply(null,rn),In=tn.parseFromString(cn,"application/xml");if(!In.getElementsByTagName("PlayReadyKeyMessage")[0])return gt;var an=In.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return an&&(Rt=Vt.decode(an)),Rt},getLicenseServerURLFromInitData:function(gt){if(gt)for(var Rt=new DataView(gt),tn=Rt.getUint16(4,!0),rn=6,cn=new DOMParser,In=0;In<tn;In++){var an=Rt.getUint16(rn,!0),Bt=Rt.getUint16(rn+=2,!0);if(rn+=2,1===an){var mn=gt.slice(rn,rn+Bt),pn=String.fromCharCode.apply(null,new Uint16Array(mn)),Fn=cn.parseFromString(pn,"application/xml");if(Fn.getElementsByTagName("LA_URL")[0]){var ir=Fn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(ir)return ir}if(Fn.getElementsByTagName("LUI_URL")[0]){var Er=Fn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(Er)return Er}}else rn+=Bt}return null},getCDMData:function(gt){var Rt,tn,rn,cn;if(Ot(),!gt)return null;for(Rt=[],cn=0;cn<gt.length;++cn)Rt.push(gt.charCodeAt(cn)),Rt.push(0);for(Rt=String.fromCharCode.apply(null,Rt),Rt=Vt.encode(Rt),tn='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",Rt),rn=[],cn=0;cn<tn.length;++cn)rn.push(tn.charCodeAt(cn)),rn.push(0);return new Uint8Array(rn).buffer},setPlayReadyMessageFormat:function(gt){if("utf-8"!==gt&&"utf-16"!==gt)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Ut=gt}}}R.__dashjs_factory_name="KeySystemPlayReady";const x=dashjs.FactoryMaker.getSingletonFactory(R);function ue(qt){var Ut=(qt=qt||{}).BASE64,Vt={};return Vt[pe.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(lt){return Ut.decodeArray(lt.license)},getErrorResponse:function(lt){return lt}},Vt[pe.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(lt){return lt},getErrorResponse:function(lt){return String.fromCharCode.apply(null,new Uint8Array(lt))}},{getServerURLFromMessage:function(lt){return lt},getHTTPMethod:function(){return"POST"},getResponseType:function(lt){return Vt[lt].responseType},getLicenseMessage:function(lt,Ot){return function(){if(!Ut||!Ut.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Vt[Ot].getLicenseMessage(lt)},getErrorResponse:function(lt,Ot){return Vt[Ot].getErrorResponse(lt)}}}ue.__dashjs_factory_name="DRMToday";const oe=dashjs.FactoryMaker.getSingletonFactory(ue);function xe(){var qt="http://schemas.xmlsoap.org/soap/envelope/";function Ut(Ot){var gt=String.fromCharCode.apply(null,new Uint8Array(Ot));return decodeURIComponent(escape(gt))}function Vt(Ot){if(window.DOMParser){var gt=Ut(Ot),Rt=(new window.DOMParser).parseFromString(gt,"text/xml"),tn=Rt?Rt.getElementsByTagNameNS(qt,"Envelope")[0]:null,rn=tn?tn.getElementsByTagNameNS(qt,"Body")[0]:null;if(rn&&rn.getElementsByTagNameNS(qt,"Fault")[0])return null}return Ot}function lt(Ot){var gt="",Rt="",tn="",rn=-1,cn=-1;if(window.DOMParser){var In=Ut(Ot),an=(new window.DOMParser).parseFromString(In,"text/xml"),Bt=an?an.getElementsByTagNameNS(qt,"Envelope")[0]:null,mn=Bt?Bt.getElementsByTagNameNS(qt,"Body")[0]:null,pn=mn?mn.getElementsByTagNameNS(qt,"Fault")[0]:null,Fn=pn?pn.getElementsByTagName("detail")[0]:null,ir=Fn?Fn.getElementsByTagName("Exception")[0]:null,Er=null;if(null===pn)return In;gt=(Er=pn.getElementsByTagName("faultstring")[0].firstChild)?Er.nodeValue:null,null!==ir&&(Rt=(Er=ir.getElementsByTagName("StatusCode")[0])?Er.firstChild.nodeValue:null,rn=(tn=(Er=ir.getElementsByTagName("Message")[0])?Er.firstChild.nodeValue:null)?tn.lastIndexOf("[")+1:-1,cn=tn?tn.indexOf("]"):-1,tn=tn?tn.substring(rn,cn):"")}var Ln="code: ".concat(Rt,", name: ").concat(gt);return tn&&(Ln+=", message: ".concat(tn)),Ln}return{getServerURLFromMessage:function(Ot){return Ot},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Ot){return Vt.call(this,Ot)},getErrorResponse:function(Ot){return lt.call(this,Ot)}}}xe.__dashjs_factory_name="PlayReady";const Ye=se.Z.getSingletonFactory(xe);function Xe(){return{getServerURLFromMessage:function(qt){return qt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(qt){return qt},getErrorResponse:function(qt){return String.fromCharCode.apply(null,new Uint8Array(qt))}}}Xe.__dashjs_factory_name="Widevine";const Le=dashjs.FactoryMaker.getSingletonFactory(Xe);function tt(){return{getServerURLFromMessage:function(qt){return qt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(qt){if(!qt.hasOwnProperty("keys"))return null;for(var Ut=[],Vt=0;Vt<qt.keys.length;Vt++){var lt=qt.keys[Vt],Ot=lt.kid.replace(/=/g,""),gt=lt.k.replace(/=/g,"");Ut.push(new de(Ot,gt))}return new qe(Ut)},getErrorResponse:function(qt){return String.fromCharCode.apply(null,new Uint8Array(qt))}}}tt.__dashjs_factory_name="ClearKey";const rt=dashjs.FactoryMaker.getSingletonFactory(tt);function Re(){var qt,Ut,Vt,lt,Ot,gt,Rt,tn,rn=this.context;function cn(Bt,mn){return mn&&Bt in mn?mn[Bt]:null}function In(Bt,mn){return Bt&&Bt.sessionId?Bt.sessionId:mn&&mn.sessionId?mn.sessionId:null}function an(Bt,mn){return Bt&&Bt.sessionType?Bt.sessionType:mn}return qt={initialize:function(){var Bt;lt=[],Bt=x(rn).getInstance({BASE64:Ot,settings:gt}),lt.push(Bt),Bt=Ae(rn).getInstance({BASE64:Ot}),lt.push(Bt),Bt=je(rn).getInstance({BASE64:Ot}),lt.push(Bt),Rt=Bt,Bt=_t(rn).getInstance({BASE64:Ot,debug:Ut}),lt.push(Bt),tn=Bt},setProtectionData:function(Bt){for(var mn,pn,Fn=0;Fn<lt.length;Fn++){var ir=lt[Fn];ir.hasOwnProperty("init")&&ir.init((mn=ir.systemString,pn=void 0,pn=null,Bt&&(pn=mn in Bt?Bt[mn]:null),pn))}},isClearKey:function(Bt){return Bt===Rt||Bt===tn},initDataEquals:function(Bt,mn){if(Bt.byteLength===mn.byteLength){for(var pn=new Uint8Array(Bt),Fn=new Uint8Array(mn),ir=0;ir<pn.length;ir++)if(pn[ir]!==Fn[ir])return!1;return!0}return!1},getKeySystems:function(){return lt},setKeySystems:function(Bt){lt=Bt},getKeySystemBySystemString:function(Bt){for(var mn=0;mn<lt.length;mn++)if(lt[mn].systemString===Bt)return lt[mn];return null},getSupportedKeySystemsFromContentProtection:function(Bt,mn,pn){var Fn,ir,Er,Ln,Lt=[];if(Bt){var Ht=f.findCencContentProtection(Bt);for(Er=0;Er<lt.length;++Er){var Jt=cn((ir=lt[Er]).systemString,mn);for(Ln=0;Ln<Bt.length;++Ln)if((Fn=Bt[Ln]).schemeIdUri.toLowerCase()===ir.schemeIdURI){var Bn=ir.getInitData(Fn,Ht);Lt.push({ks:lt[Er],keyId:Fn.keyId,initData:Bn,protData:Jt,cdmData:ir.getCDMData(Jt?Jt.cdmData:null),sessionId:In(Jt,Fn),sessionType:an(Jt,pn)})}}}return Lt},getSupportedKeySystemsFromSegmentPssh:function(Bt,mn,pn){for(var Fn,ir=[],Er=f.parsePSSHList(Bt),Ln=0;Ln<lt.length;++Ln){var Lt=cn((Fn=lt[Ln]).systemString,mn);Fn.uuid in Er&&ir.push({ks:Fn,initData:Er[Fn.uuid],protData:Lt,cdmData:Fn.getCDMData(Lt?Lt.cdmData:null),sessionId:In(Lt),sessionType:an(Lt,pn)})}return ir},getLicenseServerModelInstance:function(Bt,mn,pn){if("license-release"===pn||"individualization-request"===pn)return null;var Fn=null;return mn&&mn.hasOwnProperty("drmtoday")?Fn=oe(rn).getInstance({BASE64:Ot}):Bt.systemString===pe.WIDEVINE_KEYSTEM_STRING?Fn=Le(rn).getInstance():Bt.systemString===pe.PLAYREADY_KEYSTEM_STRING?Fn=Ye(rn).getInstance():Bt.systemString===pe.CLEARKEY_KEYSTEM_STRING&&(Fn=rt(rn).getInstance()),Fn},processClearKeyLicenseRequest:function(Bt,mn,pn){try{return Bt.getClearKeysFromProtectionData(mn,pn)}catch{return Vt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(Bt){Bt&&(Bt.debug&&(Vt=(Ut=Bt.debug).getLogger(qt)),Bt.BASE64&&(Ot=Bt.BASE64),Bt.settings&&(gt=Bt.settings))}}}Re.__dashjs_factory_name="ProtectionKeyController";const We=dashjs.FactoryMaker.getSingletonFactory(Re);function Qe(qt){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(qt)}function St(qt,Ut){return(St=Object.setPrototypeOf||function(Vt,lt){return Vt.__proto__=lt,Vt})(qt,Ut)}function on(qt){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)})(qt)}const Tn=new(function(qt){!function(gt,Rt){if("function"!=typeof Rt&&null!==Rt)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(Rt&&Rt.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Rt&&St(gt,Rt)}(Ot,qt);var Ut,Vt,lt=(Ut=Ot,Vt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var gt,Rt=on(Ut);if(Vt){var tn=on(this).constructor;gt=Reflect.construct(Rt,arguments,tn)}else gt=Rt.apply(this,arguments);return function kt(qt,Ut){return!Ut||"object"!==Qe(Ut)&&"function"!=typeof Ut?function(Vt){if(void 0===Vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Vt}(qt):Ut}(this,gt)});function Ot(){var gt;return function(Rt,tn){if(!(Rt instanceof tn))throw new TypeError("Cannot call a class as a function")}(this,Ot),(gt=lt.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",gt.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",gt.KEY_ADDED="public_keyAdded",gt.KEY_ERROR="public_keyError",gt.KEY_MESSAGE="public_keyMessage",gt.KEY_SESSION_CLOSED="public_keySessionClosed",gt.KEY_SESSION_CREATED="public_keySessionCreated",gt.KEY_SESSION_REMOVED="public_keySessionRemoved",gt.KEY_STATUSES_CHANGED="public_keyStatusesChanged",gt.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",gt.KEY_SYSTEM_SELECTED="public_keySystemSelected",gt.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",gt.LICENSE_REQUEST_SENDING="public_licenseRequestSending",gt.NEED_KEY="needkey",gt.PROTECTION_CREATED="public_protectioncreated",gt.PROTECTION_DESTROYED="public_protectiondestroyed",gt.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",gt.TEARDOWN_COMPLETE="protectionTeardownComplete",gt.VIDEO_ELEMENT_SELECTED="videoElementSelected",gt.KEY_SESSION_UPDATED="public_keySessionUpdated",gt}return Ot}(F(8342).Z)),xn=function qt(Ut,Vt){(function(lt,Ot){if(!(lt instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,qt),this.initData=Ut,this.initDataType=Vt},yn=function qt(Ut,Vt,lt,Ot){(function(gt,Rt){if(!(gt instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,qt),this.sessionToken=Ut,this.message=Vt,this.defaultURL=lt,this.messageType=Ot||"license-request"},jn=function qt(Ut,Vt){(function(lt,Ot){if(!(lt instanceof Ot))throw new TypeError("Cannot call a class as a function")})(this,qt),this.keySystem=Ut,this.ksConfiguration=Vt};var Hn={};function br(qt){var Ut,Vt,lt,Ot,gt,Rt,tn,rn,cn=this.context,In=(qt=qt||{}).eventBus,an=qt.events;function mn(Lt,Ht,Jt,Bn){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var Zn="Insecure origins are not allowed";return In.trigger(an.KEY_SYSTEM_ACCESS_COMPLETE,{error:Zn}),void Bn({error:Zn})}var Kr,bi,Oi=Lt[Ht].ks,gi=Oi.systemString;(Kr=(Lt[Ht].protData&&Lt[Ht].protData.systemStringPriority?Lt[Ht].protData.systemStringPriority:null)||(Hn[gi]?Hn[gi]:[gi]),bi=Lt[Ht].configs,new Promise(function(ai,Yi){pn(Kr,bi,0,ai,Yi)})).then(function(Kr){var bi="function"==typeof Kr.getConfiguration?Kr.getConfiguration():null,ai=new jn(Oi,bi);ai.mksa=Kr,In.trigger(an.KEY_SYSTEM_ACCESS_COMPLETE,{data:ai}),Jt({data:ai})}).catch(function(Kr){if(Ht+1<Lt.length)mn(Lt,Ht+1,Jt,Bn);else{var bi="Key system access denied! ";In.trigger(an.KEY_SYSTEM_ACCESS_COMPLETE,{error:bi+Kr.message}),Bn({error:bi+Kr.message})}})}function pn(Lt,Ht,Jt,Bn,Zn){var Cr=Lt[Jt];Vt.debug("Requesting key system access for system string ".concat(Cr)),navigator.requestMediaKeySystemAccess(Cr,Ht).then(function(Dr){Dr.selectedSystemString=Cr,Bn(Dr)}).catch(function(Dr){Jt+1<Lt.length?pn(Lt,Ht,Jt+1,Bn,Zn):Zn(Dr)})}function Fn(Lt){var Ht=Lt.session;return Ht.removeEventListener("keystatuseschange",Lt),Ht.removeEventListener("message",Lt),Ht.close()}function ir(Lt){for(var Ht=0;Ht<Rt.length;Ht++)if(Rt[Ht]===Lt){Rt.splice(Ht,1);break}}function Er(Lt){var Ht,Jt;return Lt&&Lt.length>0&&(Lt[0]&&("string"==typeof Lt[0]?Ht=Lt[0]:Jt=Lt[0]),Lt[1]&&("string"==typeof Lt[1]?Ht=Lt[1]:Jt=Lt[1])),{status:Ht,keyId:Jt}}function Ln(Lt,Ht){var Jt={session:Lt,keyId:Ht.keyId,initData:Ht.initData,sessionId:Ht.sessionId,sessionType:Ht.sessionType,handleEvent:function(Bn){switch(Bn.type){case"keystatuseschange":In.trigger(an.KEY_STATUSES_CHANGED,{data:this}),Bn.target.keyStatuses.forEach(function(){var Cr=Er(arguments);In.trigger(an.INTERNAL_KEY_STATUS_CHANGED,"expired"===Cr.status?{error:new y.Z(p.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,p.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:Cr)});break;case"message":var Zn=ArrayBuffer.isView(Bn.message)?Bn.message.buffer:Bn.message;In.trigger(an.INTERNAL_KEY_MESSAGE,{data:new yn(this,Zn,void 0,Bn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Lt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Lt.expiration},getKeyStatuses:function(){return Lt.keyStatuses},getUsable:function(){var Bn=!1;return Lt.keyStatuses.forEach(function(){"usable"===Er(arguments).status&&(Bn=!0)}),Bn}};return Lt.addEventListener("keystatuseschange",Jt),Lt.addEventListener("message",Jt),Lt.closed.then(function(){ir(Jt),Vt.debug("DRM: Session closed.  SessionID = "+Jt.getSessionId()),In.trigger(an.KEY_SESSION_CLOSED,{data:Jt.getSessionId()})}),Rt.push(Jt),Jt}return Ut={getAllInitData:function(){for(var Lt=[],Ht=0;Ht<Rt.length;Ht++)Rt[Ht].initData&&Lt.push(Rt[Ht].initData);return Lt},getSessions:function(){return Rt},requestKeySystemAccess:function(Lt){return new Promise(function(Ht,Jt){mn(Lt,0,Ht,Jt)})},selectKeySystem:function(Lt){return new Promise(function(Ht,Jt){Lt.mksa.createMediaKeys().then(function(Bn){return lt=Lt.keySystem,gt=Bn,Ot?Ot.setMediaKeys(gt):Promise.resolve()}).then(function(){Ht(lt)}).catch(function(){Jt({error:"Error selecting keys system ("+Lt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(Lt){Ot!==Lt&&(Ot&&(Ot.removeEventListener("encrypted",tn),Ot.setMediaKeys&&Ot.setMediaKeys(null)),(Ot=Lt)&&(Ot.addEventListener("encrypted",tn),Ot.setMediaKeys&&gt&&Ot.setMediaKeys(gt)))},setServerCertificate:function(Lt){if(!lt||!gt)throw new Error("Can not set server certificate until you have selected a key system");gt.setServerCertificate(Lt).then(function(){Vt.info("DRM: License server certificate successfully updated."),In.trigger(an.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ht){In.trigger(an.SERVER_CERTIFICATE_UPDATED,{error:new y.Z(p.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,p.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ht.name)})})},createKeySession:function(Lt){if(!lt||!gt)throw new Error("Can not create sessions until you have selected a key system");var Ht=gt.createSession(Lt.sessionType),Jt=Ln(Ht,Lt);Ht.generateRequest(lt.systemString===pe.CLEARKEY_KEYSTEM_STRING&&(Lt.initData||Lt.protData&&Lt.protData.clearkeys)?pe.INITIALIZATION_DATA_TYPE_KEYIDS:pe.INITIALIZATION_DATA_TYPE_CENC,Lt.initData).then(function(){Vt.debug("DRM: Session created.  SessionID = "+Jt.getSessionId()),In.trigger(an.KEY_SESSION_CREATED,{data:Jt})}).catch(function(Zn){ir(Jt),In.trigger(an.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+Zn.name)})})},updateKeySession:function(Lt,Ht){var Jt=Lt.session;rn.isClearKey(lt)&&(Ht=Ht.toJWK()),Jt.update(Ht).then(function(){In.trigger(an.KEY_SESSION_UPDATED)}).catch(function(Bn){In.trigger(an.KEY_ERROR,{error:new y.Z(p.MEDIA_KEYERR_CODE,"Error sending update() message! "+Bn.name,Lt)})})},loadKeySession:function(Lt){if(!lt||!gt)throw new Error("Can not load sessions until you have selected a key system");for(var Ht=Lt.sessionId,Jt=0;Jt<Rt.length;Jt++)if(Ht===Rt[Jt].sessionId)return void Vt.warn("DRM: Ignoring session ID because we have already seen it!");var Bn=gt.createSession(Lt.sessionType),Zn=Ln(Bn,Lt);Bn.load(Ht).then(function(Cr){Cr?(Vt.debug("DRM: Session loaded.  SessionID = "+Zn.getSessionId()),In.trigger(an.KEY_SESSION_CREATED,{data:Zn})):(ir(Zn),In.trigger(an.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ht+")")}))}).catch(function(Cr){ir(Zn),In.trigger(an.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ht+")! "+Cr.name)})})},removeKeySession:function(Lt){Lt.session.remove().then(function(){Vt.debug("DRM: Session removed.  SessionID = "+Lt.getSessionId()),In.trigger(an.KEY_SESSION_REMOVED,{data:Lt.getSessionId()})},function(Ht){In.trigger(an.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Lt.getSessionId()+"). "+Ht.name})})},closeKeySession:function(Lt){Fn(Lt).catch(function(Ht){ir(Lt),In.trigger(an.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Lt.getSessionId()+") "+Ht.name})})},stop:function(){for(var Lt,Ht=0;Ht<Rt.length;Ht++)(Lt=Rt[Ht]).getUsable()||Fn(Lt).catch(function(){ir(Lt)})},reset:function(){var Lt,Ht=Rt.length;0!==Ht?function(){for(var Jt=function(Zn){ir(Zn),0===Rt.length&&(Ot?(Ot.removeEventListener("encrypted",tn),Ot.setMediaKeys(null).then(function(){In.trigger(an.TEARDOWN_COMPLETE)})):In.trigger(an.TEARDOWN_COMPLETE))},Bn=0;Bn<Ht;Bn++)!function(Zn){Lt.session.closed.then(function(){Jt(Zn)}),Fn(Lt).catch(function(){Jt(Zn)})}(Lt=Rt[Bn])}():In.trigger(an.TEARDOWN_COMPLETE)}},Vt=qt.debug.getLogger(Ut),lt=null,Ot=null,gt=null,Rt=[],rn=We(cn).getInstance(),tn={handleEvent:function(Lt){if("encrypted"===Lt.type&&Lt.initData){var Ht=ArrayBuffer.isView(Lt.initData)?Lt.initData.buffer:Lt.initData;In.trigger(an.NEED_KEY,{key:new xn(Ht,Lt.initDataType)})}}},Ut}Hn[pe.PLAYREADY_KEYSTEM_STRING]=[pe.PLAYREADY_KEYSTEM_STRING,pe.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Hn[pe.WIDEVINE_KEYSTEM_STRING]=[pe.WIDEVINE_KEYSTEM_STRING],Hn[pe.CLEARKEY_KEYSTEM_STRING]=[pe.CLEARKEY_KEYSTEM_STRING],br.__dashjs_factory_name="ProtectionModel_21Jan2015";const mi=dashjs.FactoryMaker.getClassFactory(br);function Ci(qt){var Ut,Vt,lt,Ot,gt,Rt,tn,rn,cn,In=this.context,an=(qt=qt||{}).eventBus,Bt=qt.events,pn=qt.api;function Fn(){try{for(var Ln=0;Ln<tn.length;Ln++)ir(tn[Ln]);lt&&lt.removeEventListener(pn.needkey,rn),an.trigger(Bt.TEARDOWN_COMPLETE)}catch(Lt){an.trigger(Bt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Lt.message})}}function ir(Ln){var Lt=Ln.session;Lt.removeEventListener(pn.error,Ln),Lt.removeEventListener(pn.message,Ln),Lt.removeEventListener(pn.ready,Ln),Lt.removeEventListener(pn.close,Ln);for(var Ht=0;Ht<tn.length;Ht++)if(tn[Ht]===Ln){tn.splice(Ht,1);break}Lt[pn.release]()}function Er(){var Ln=null,Lt=function(){lt.removeEventListener("loadedmetadata",Ln),lt[pn.setMediaKeys](gt),an.trigger(Bt.VIDEO_ELEMENT_SELECTED)};lt.readyState>=1?Lt():(Ln=Lt.bind(this),lt.addEventListener("loadedmetadata",Ln))}return Ut={getAllInitData:function(){for(var Ln=[],Lt=0;Lt<tn.length;Lt++)Ln.push(tn[Lt].initData);return Ln},getSessions:function(){return tn},requestKeySystemAccess:function(Ln){return new Promise(function(Lt,Ht){for(var Jt=!1,Bn=0;Bn<Ln.length;Bn++)for(var Zn=Ln[Bn].ks.systemString,Cr=Ln[Bn].configs,Dr=null,Oi=null,gi=0;gi<Cr.length;gi++){var Kr=Cr[gi].audioCapabilities,bi=Cr[gi].videoCapabilities;if(Kr&&0!==Kr.length){Dr=[];for(var ai=0;ai<Kr.length;ai++)window[pn.MediaKeys].isTypeSupported(Zn,Kr[ai].contentType)&&Dr.push(Kr[ai])}if(bi&&0!==bi.length){Oi=[];for(var Yi=0;Yi<bi.length;Yi++)window[pn.MediaKeys].isTypeSupported(Zn,bi[Yi].contentType)&&Oi.push(bi[Yi])}if(!(!Dr&&!Oi||Dr&&0===Dr.length||Oi&&0===Oi.length)){Jt=!0;var Aa=new O(Dr,Oi),ra=cn.getKeySystemBySystemString(Zn),zo=new jn(ra,Aa);an.trigger(Bt.KEY_SYSTEM_ACCESS_COMPLETE,{data:zo}),Lt({data:zo});break}}if(!Jt){var $i="Key system access denied! -- No valid audio/video content configurations detected!";an.trigger(Bt.KEY_SYSTEM_ACCESS_COMPLETE,{error:$i}),Ht({error:$i})}})},selectKeySystem:function(Ln){return new Promise(function(Lt,Ht){try{gt=Ln.mediaKeys=new window[pn.MediaKeys](Ln.keySystem.systemString),Ot=Ln.keySystem,Rt=Ln,lt&&Er(),Lt(Ot)}catch{Ht({error:"Error selecting keys system ("+Ot.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Ln){lt!==Ln&&(lt&&lt.removeEventListener(pn.needkey,rn),(lt=Ln)&&(lt.addEventListener(pn.needkey,rn),gt&&Er()))},createKeySession:function(Ln){if(!Ot||!gt||!Rt)throw new Error("Can not create sessions until you have selected a key system");var Lt=null;if(Rt.ksConfiguration.videoCapabilities&&Rt.ksConfiguration.videoCapabilities.length>0&&(Lt=Rt.ksConfiguration.videoCapabilities[0]),null===Lt&&Rt.ksConfiguration.audioCapabilities&&Rt.ksConfiguration.audioCapabilities.length>0&&(Lt=Rt.ksConfiguration.audioCapabilities[0]),null===Lt)throw new Error("Can not create sessions for unknown content types.");var Cr,Jt=gt.createSession(Lt.contentType,new Uint8Array(Ln.initData),Ln.cdmData?new Uint8Array(Ln.cdmData):null),Bn={session:Jt,keyId:(Cr=Ln).keyId,initData:Cr.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Dr){switch(Dr.type){case pn.error:an.trigger(Bt.KEY_ERROR,{error:new y.Z(p.MEDIA_KEYERR_CODE,"KeyError",this)});break;case pn.message:var Oi=ArrayBuffer.isView(Dr.message)?Dr.message.buffer:Dr.message;an.trigger(Bt.INTERNAL_KEY_MESSAGE,{data:new yn(this,Oi,Dr.destinationURL)});break;case pn.ready:Vt.debug("DRM: Key added."),an.trigger(Bt.KEY_ADDED);break;case pn.close:Vt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),an.trigger(Bt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}};Jt.addEventListener(pn.error,Bn),Jt.addEventListener(pn.message,Bn),Jt.addEventListener(pn.ready,Bn),Jt.addEventListener(pn.close,Bn),tn.push(Bn),Vt.debug("DRM: Session created.  SessionID = "+Bn.getSessionId()),an.trigger(Bt.KEY_SESSION_CREATED,{data:Bn})},updateKeySession:function(Ln,Lt){var Ht=Ln.session;cn.isClearKey(Ot)?Ht.update(new Uint8Array(Lt.toJWK())):Ht.update(new Uint8Array(Lt)),an.trigger(Bt.KEY_SESSION_UPDATED)},closeKeySession:ir,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Fn,reset:Fn},Vt=qt.debug.getLogger(Ut),lt=null,Ot=null,gt=null,Rt=null,tn=[],cn=We(In).getInstance(),rn={handleEvent:function(Ln){if(Ln.type===pn.needkey&&Ln.initData){var Lt=ArrayBuffer.isView(Ln.initData)?Ln.initData.buffer:Ln.initData;an.trigger(Bt.NEED_KEY,{key:new xn(Lt,"cenc")})}}},Ut}Ci.__dashjs_factory_name="ProtectionModel_3Feb2014";const Hr=dashjs.FactoryMaker.getClassFactory(Ci);function Li(qt){var Ut,Vt,lt,Ot,gt,Rt,tn,rn,cn,In=this.context,an=(qt=qt||{}).eventBus,Bt=qt.events,pn=qt.api,Fn=qt.errHandler;function ir(){lt&&Lt();for(var Ht=0;Ht<tn.length;Ht++)Er(tn[Ht]);an.trigger(Bt.TEARDOWN_COMPLETE)}function Er(Ht){try{lt[pn.cancelKeyRequest](Ot.systemString,Ht.sessionId)}catch(Jt){an.trigger(Bt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Ht.sessionId+") "+Jt.message})}}function Ln(Ht,Jt){if(Jt&&Ht){for(var Bn=Ht.length,Zn=0;Zn<Bn;Zn++)if(Ht[Zn].sessionId==Jt)return Ht[Zn];return null}return null}function Lt(){lt.removeEventListener(pn.keyerror,cn),lt.removeEventListener(pn.needkey,cn),lt.removeEventListener(pn.keymessage,cn),lt.removeEventListener(pn.keyadded,cn)}return Vt=qt.debug.getLogger(Ut={getAllInitData:function(){for(var Ht=[],Jt=0;Jt<Rt.length;Jt++)Ht.push(Rt[Jt].initData);for(var Bn=0;Bn<tn.length;Bn++)Ht.push(tn[Bn].initData);return Ht},getSessions:function(){return tn.concat(Rt)},requestKeySystemAccess:function(Ht){return new Promise(function(Jt,Bn){var Zn=lt;Zn||(Zn=document.createElement("video"));for(var Cr=!1,Dr=0;Dr<Ht.length;Dr++)for(var Oi=Ht[Dr].ks.systemString,gi=Ht[Dr].configs,Kr=null,bi=0;bi<gi.length;bi++){var ai=gi[bi].videoCapabilities;if(ai&&0!==ai.length){Kr=[];for(var Yi=0;Yi<ai.length;Yi++)""!==Zn.canPlayType(ai[Yi].contentType,Oi)&&Kr.push(ai[Yi])}if(Kr&&(!Kr||0!==Kr.length)){Cr=!0;var Aa=new O(null,Kr),ra=gt.getKeySystemBySystemString(Oi),zo=new jn(ra,Aa);an.trigger(Bt.KEY_SYSTEM_ACCESS_COMPLETE,{data:zo}),Jt({data:zo});break}}if(!Cr){var $i="Key system access denied! -- No valid audio/video content configurations detected!";an.trigger(Bt.KEY_SYSTEM_ACCESS_COMPLETE,{error:$i}),Bn({error:$i})}})},selectKeySystem:function(Ht){return Ot=Ht.keySystem,Promise.resolve(Ot)},setMediaElement:function(Ht){if(lt!==Ht){if(lt){Lt();for(var Jt=0;Jt<tn.length;Jt++)Er(tn[Jt]);tn=[]}(lt=Ht)&&(lt.addEventListener(pn.keyerror,cn),lt.addEventListener(pn.needkey,cn),lt.addEventListener(pn.keymessage,cn),lt.addEventListener(pn.keyadded,cn),an.trigger(Bt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Ht){if(!Ot)throw new Error("Can not create sessions until you have selected a key system");if(rn||0===tn.length){var Jt={sessionId:null,keyId:Ht.keyId,initData:Ht.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return Rt.push(Jt),lt[pn.generateKeyRequest](Ot.systemString,new Uint8Array(Ht.initData)),Jt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Ht,Jt){var Bn=Ht.sessionId;if(gt.isClearKey(Ot))for(var Zn=0;Zn<Jt.keyPairs.length;Zn++)lt[pn.addKey](Ot.systemString,Jt.keyPairs[Zn].key,Jt.keyPairs[Zn].keyID,Bn);else lt[pn.addKey](Ot.systemString,new Uint8Array(Jt),new Uint8Array(Ht.initData),Bn);an.trigger(Bt.KEY_SESSION_UPDATED)},closeKeySession:Er,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:ir,reset:ir}),lt=null,Ot=null,Rt=[],tn=[],gt=We(In).getInstance(),cn={handleEvent:function(Ht){var Jt=null;switch(Ht.type){case pn.needkey:var Bn=ArrayBuffer.isView(Ht.initData)?Ht.initData.buffer:Ht.initData;an.trigger(Bt.NEED_KEY,{key:new xn(Bn,"cenc")});break;case pn.keyerror:if((Jt=Ln(tn,Ht.sessionId))||(Jt=Ln(Rt,Ht.sessionId)),Jt){var Zn=p.MEDIA_KEYERR_CODE,Cr="";switch(Ht.errorCode.code){case 1:Zn=p.MEDIA_KEYERR_UNKNOWN_CODE,Cr+="MEDIA_KEYERR_UNKNOWN - "+p.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Zn=p.MEDIA_KEYERR_CLIENT_CODE,Cr+="MEDIA_KEYERR_CLIENT - "+p.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Zn=p.MEDIA_KEYERR_SERVICE_CODE,Cr+="MEDIA_KEYERR_SERVICE - "+p.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Zn=p.MEDIA_KEYERR_OUTPUT_CODE,Cr+="MEDIA_KEYERR_OUTPUT - "+p.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Zn=p.MEDIA_KEYERR_HARDWARECHANGE_CODE,Cr+="MEDIA_KEYERR_HARDWARECHANGE - "+p.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Zn=p.MEDIA_KEYERR_DOMAIN_CODE,Cr+="MEDIA_KEYERR_DOMAIN - "+p.MEDIA_KEYERR_DOMAIN_MESSAGE}an.trigger(Bt.KEY_ERROR,{error:new y.Z(Zn,Cr+="  System Code = "+Ht.systemCode,Jt)})}else Vt.error("No session token found for key error");break;case pn.keyadded:(Jt=Ln(tn,Ht.sessionId))||(Jt=Ln(Rt,Ht.sessionId)),Jt?(Vt.debug("DRM: Key added."),an.trigger(Bt.KEY_ADDED,{data:Jt})):Vt.debug("No session token found for key added");break;case pn.keymessage:if((rn=null!=Ht.sessionId)?!(Jt=Ln(tn,Ht.sessionId))&&Rt.length>0&&(Jt=Rt.shift(),tn.push(Jt),Jt.sessionId=Ht.sessionId,an.trigger(Bt.KEY_SESSION_CREATED,{data:Jt})):Rt.length>0&&(Jt=Rt.shift(),tn.push(Jt),0!==Rt.length&&Fn.error(new y.Z(p.MEDIA_KEY_MESSAGE_ERROR_CODE,p.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Jt){var Dr=ArrayBuffer.isView(Ht.message)?Ht.message.buffer:Ht.message;Jt.keyMessage=Dr,an.trigger(Bt.INTERNAL_KEY_MESSAGE,{data:new yn(Jt,Dr,Ht.defaultURL)})}else Vt.warn("No session token found for key message")}}},Ut}Li.__dashjs_factory_name="ProtectionModel_01b";const Fi=dashjs.FactoryMaker.getClassFactory(Li);var Gi=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],qi=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Co(){var qt,Ut=this.context;function Vt(lt,Ot){for(var gt=0;gt<Ot.length;gt++){var Rt=Ot[gt];if("function"==typeof lt[Rt[Object.keys(Rt)[0]]])return Rt}return null}return qt={createProtectionSystem:function(lt){var Ot=null,gt=We(Ut).getInstance();gt.setConfig({debug:lt.debug,BASE64:lt.BASE64,settings:lt.settings}),gt.initialize();var tn,rn,cn,In,an,Bt,Rt=(cn=(rn=(tn=lt).debug).getLogger(qt),In=tn.eventBus,an=tn.errHandler,(Bt=tn.videoModel?tn.videoModel.getElement():null)&&void 0===Bt.onencrypted||Bt&&void 0===Bt.mediaKeys?Vt(Bt,qi)?(cn.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Hr(Ut).create({debug:rn,eventBus:In,events:tn.events,api:Vt(Bt,qi)})):Vt(Bt,Gi)?(cn.info("EME detected on this user agent! (ProtectionModel_01b)"),Fi(Ut).create({debug:rn,eventBus:In,errHandler:an,events:tn.events,api:Vt(Bt,Gi)})):(cn.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(cn.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),mi(Ut).create({debug:rn,eventBus:In,events:tn.events})));return!Ot&&Rt&&(Ot=K(Ut).create({protectionModel:Rt,protectionKeyController:gt,eventBus:lt.eventBus,debug:lt.debug,events:lt.events,BASE64:lt.BASE64,constants:lt.constants,cmcdModel:lt.cmcdModel,customParametersModel:lt.customParametersModel,settings:lt.settings}),lt.capabilities.setEncryptedMediaSupported(!0)),Ot}}}Co.__dashjs_factory_name="Protection";var Ao=dashjs.FactoryMaker.getClassFactory(Co);Ao.events=Tn,Ao.errors=p,dashjs.FactoryMaker.updateClassFactory(Co.__dashjs_factory_name,Ao);const Fs=Ao},2068:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P={DEFAULT:.5,STRONG:1,WEAK:0};function f(S,g,C){var y,T;return T=P.DEFAULT,(y=C)!==P.DEFAULT&&y!==P.STRONG&&y!==P.WEAK||(T=y),{quality:void 0===S?-1:S,reason:void 0===g?null:g,priority:T}}f.__dashjs_factory_name="SwitchRequest";var h=ye.Z.getClassFactory(f);h.NO_CHANGE=-1,h.PRIORITY=P,ye.Z.updateClassFactory(f.__dashjs_factory_name,h);const O=h},1767:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>J});var ye=F(5628),P=F(6535),f=F(7423),h=F(895),O=F(6070),S=F(3112),g=F(1914),C=F(5435),M=F(5448),p=F(2068),y=F(3393),T="qualitySwitchRules",q="abandonFragmentRules";function W(se){var H,k,K=this.context,de=(se=se||{}).mediaPlayerModel,ce=se.customParametersModel,qe=se.dashMetrics,ot=se.settings;function pe(He){return He.filter(function(Ke){return Ke.quality>p.Z.NO_CHANGE})}function Nt(He){var Ke,Ne,je,it,Mt,ut={},ke=null;if(0!==He.length){for(ut[p.Z.PRIORITY.STRONG]={quality:p.Z.NO_CHANGE,reason:null},ut[p.Z.PRIORITY.WEAK]={quality:p.Z.NO_CHANGE,reason:null},ut[p.Z.PRIORITY.DEFAULT]={quality:p.Z.NO_CHANGE,reason:null},Ke=0,Ne=He.length;Ke<Ne;Ke+=1)(je=He[Ke]).quality!==p.Z.NO_CHANGE&&(ut[je.priority].quality===p.Z.NO_CHANGE||ut[je.priority].quality>je.quality)&&(ut[je.priority].quality=je.quality,ut[je.priority].reason=je.reason||null);return ut[p.Z.PRIORITY.WEAK].quality!==p.Z.NO_CHANGE&&(ke=ut[p.Z.PRIORITY.WEAK]),ut[p.Z.PRIORITY.DEFAULT].quality!==p.Z.NO_CHANGE&&(ke=ut[p.Z.PRIORITY.DEFAULT]),ut[p.Z.PRIORITY.STRONG].quality!==p.Z.NO_CHANGE&&(ke=ut[p.Z.PRIORITY.STRONG]),ke&&(it=ke.quality,Mt=ke.reason),(0,p.Z)(K).create(it,Mt)}}return{initialize:function(){H=[],k=[],ot.get().streaming.abr.useDefaultABRRules&&(ot.get().streaming.abr.ABRStrategy===y.Z.ABR_STRATEGY_L2A?H.push((0,g.Z)(K).create({dashMetrics:qe,settings:ot})):ot.get().streaming.abr.ABRStrategy===y.Z.ABR_STRATEGY_LoLP?H.push((0,C.Z)(K).create({dashMetrics:qe})):(H.push((0,S.Z)(K).create({dashMetrics:qe,mediaPlayerModel:de,settings:ot})),H.push((0,ye.Z)(K).create({dashMetrics:qe})),ot.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&H.push((0,P.Z)(K).create({dashMetrics:qe,settings:ot})),ot.get().streaming.abr.additionalAbrRules.switchHistoryRule&&H.push((0,O.Z)(K).create()),ot.get().streaming.abr.additionalAbrRules.droppedFramesRule&&H.push((0,h.Z)(K).create()),ot.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&k.push((0,f.Z)(K).create({dashMetrics:qe,mediaPlayerModel:de,settings:ot})))),ce.getAbrCustomRules().forEach(function(He){He.type===T&&H.push(He.rule(K).create()),He.type===q&&k.push(He.rule(K).create())})},reset:function(){[H,k].forEach(function(He){He&&He.length&&He.forEach(function(Ke){return Ke.reset&&Ke.reset()})}),H=[],k=[]},getMaxQuality:function(He){return Nt(pe(H.map(function(Ke){return Ke.getMaxIndex(He)})))||(0,p.Z)(K).create()},getMinSwitchRequest:Nt,shouldAbandonFragment:function(He,Ke){return Nt(pe(k.map(function(Ne){return Ne.shouldAbandon(He,Ke)})))||(0,p.Z)(K).create()},getQualitySwitchRules:function(){return H}}}W.__dashjs_factory_name="ABRRulesCollection";var ne=M.Z.getClassFactory(W);ne.QUALITY_SWITCH_RULES=T,ne.ABANDON_FRAGMENT_RULES=q,M.Z.updateSingletonFactory(W.__dashjs_factory_name,ne);const J=ne},7423:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(2068),P=F(5448),f=F(6398);function h(S){var g,C,M,p,y,T=this.context,q=(S=S||{}).mediaPlayerModel,W=S.dashMetrics,ne=S.settings;function J(){M={},p={},y=[]}return g={shouldAbandon:function(se){var H=(0,ye.Z)(T).create(ye.Z.NO_CHANGE,{name:h.__dashjs_factory_name});if(!(se&&se.hasOwnProperty("getMediaInfo")&&se.hasOwnProperty("getMediaType")&&se.hasOwnProperty("getCurrentRequest")&&se.hasOwnProperty("getRepresentationInfo")&&se.hasOwnProperty("getAbrController")))return H;var k,K,_t,xt,de=se.getMediaInfo(),ce=se.getMediaType(),qe=se.getStreamInfo(),ot=qe?qe.id:null,pe=se.getCurrentRequest();if(!isNaN(pe.index)){K=pe.index,M[k=ce]=M[k]||{},M[k][K]=M[k][K]||{};var Nt=q.getStableBufferTime();if(W.getCurrentBufferLevel(ce)>Nt)return H;var He=M[ce][pe.index];if(null===He||null===pe.firstByteDate||p.hasOwnProperty(He.id))return H;if(void 0===He.firstByteTime&&(y[ce]=[],He.firstByteTime=pe.firstByteDate.getTime(),He.segmentDuration=pe.duration,He.bytesTotal=pe.bytesTotal,He.id=pe.index),He.bytesLoaded=pe.bytesLoaded,He.elapsedTime=(new Date).getTime()-He.firstByteTime,He.bytesLoaded>0&&He.elapsedTime>0&&(_t=ce,xt=Math.round(8*He.bytesLoaded/He.elapsedTime),y[_t]=y[_t]||[],y[_t].push(xt)),y[ce].length>=5&&He.elapsedTime>500&&He.bytesLoaded<He.bytesTotal){var Ke=y[ce].reduce(function(_t,xt){return _t+xt},0);if(He.measuredBandwidthInKbps=Math.round(Ke/y[ce].length),He.estimatedTimeOfDownload=+(8*He.bytesTotal/He.measuredBandwidthInKbps/1e3).toFixed(2),He.estimatedTimeOfDownload<1.8*He.segmentDuration||0===se.getRepresentationInfo().quality)return H;if(!p.hasOwnProperty(He.id)){var Ne=se.getAbrController(),je=He.bytesTotal-He.bytesLoaded,it=Ne.getBitrateList(de),Mt=Ne.getQualityForBitrate(de,He.measuredBandwidthInKbps*ne.get().streaming.abr.bandwidthSafetyFactor,ot),ut=Ne.getMinAllowedIndexFor(ce,ot),ke=void 0!==ut?Math.max(ut,Mt):Mt;je>He.bytesTotal*it[ke].bitrate/it[Ne.getQualityFor(ce,ot)].bitrate&&(H.quality=ke,H.reason.throughput=He.measuredBandwidthInKbps,H.reason.fragmentID=He.id,H.reason.rule=this.getClassName(),p[He.id]=He,C.debug("["+ce+"] frag id",He.id," is asking to abandon and switch to quality to ",ke," measured bandwidth was",He.measuredBandwidthInKbps),delete M[ce][He.id])}}else He.bytesLoaded===He.bytesTotal&&delete M[ce][He.id]}return H},reset:J},C=(0,f.Z)(T).getInstance().getLogger(g),J(),g}h.__dashjs_factory_name="AbandonRequestsRule";const O=P.Z.getClassFactory(h)},3112:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>T});var ye=F(3860),P=F(2068),f=F(5448),h=F(7855),O=F(5595),S=F(8512),g=F(6398),C=F(8825),M=F(3393),p=10;function y(q){var W,ne,J,se=this.context,H=(q=q||{}).dashMetrics,k=q.mediaPlayerModel,K=(0,O.Z)(se).getInstance();function de(ke,_t,xt){var $e=xt.reduce(function(Ae,at,E){return at>xt[Ae]?E:Ae},0);if(0===$e)return null;var yt=Math.max(ke,p+2*_t.length),me=(xt[$e]-1)/(yt/p-1);return{gp:me,Vp:p/me}}function ce(ke){ke.placeholderBuffer=0,ke.mostAdvancedSegmentStart=NaN,ke.lastSegmentWasReplacement=!1,ke.lastSegmentStart=NaN,ke.lastSegmentDurationS=NaN,ke.lastSegmentRequestTimeMs=NaN,ke.lastSegmentFinishTimeMs=NaN}function qe(ke,_t){var xt=k.getStableBufferTime();if(ke.stableBufferTime!==xt){var $e=de(xt,ke.bitrates,ke.utilities);if($e.Vp!==ke.Vp||$e.gp!==ke.gp){var yt=H.getCurrentBufferLevel(_t),me=yt+ke.placeholderBuffer;me-=p,me*=$e.Vp/ke.Vp,me+=p,ke.stableBufferTime=xt,ke.Vp=$e.Vp,ke.gp=$e.gp,ke.placeholderBuffer=Math.max(0,me-yt)}}}function ot(ke,_t){return ke.Vp*(ke.utilities[_t]+ke.gp)}function pe(ke,_t){for(var xt=ke.bitrates[_t],$e=ke.utilities[_t],yt=0,me=_t-1;me>=0;--me)if(ke.utilities[me]<ke.utilities[_t]){var Ae=ke.bitrates[me];yt=Math.max(yt,ke.Vp*(ke.gp+(xt*ke.utilities[me]-Ae*$e)/(xt-Ae)))}return yt}function Nt(ke){var _t=ke.mediaType===M.Z.AUDIO?[M.Z.AUDIO]:J;for(var xt in _t)J.hasOwnProperty(xt)&&2===J[xt].state&&(J[xt].placeholderBuffer=0)}function He(){for(var ke in J)if(J.hasOwnProperty(ke)){var _t=J[ke];0!==_t.state&&(_t.state=1,ce(_t))}}function Ke(ke){if(ke&&ke.chunk&&ke.chunk.mediaInfo){var _t=J[ke.chunk.mediaInfo.type];if(_t&&0!==_t.state){var xt=ke.chunk.start;isNaN(_t.mostAdvancedSegmentStart)||xt>_t.mostAdvancedSegmentStart?(_t.mostAdvancedSegmentStart=xt,_t.lastSegmentWasReplacement=!1):_t.lastSegmentWasReplacement=!0,_t.lastSegmentStart=xt,_t.lastSegmentDurationS=ke.chunk.duration,_t.lastQuality=ke.chunk.quality,je(_t,ke.chunk.mediaInfo.type)}}}function Ne(ke){if(ke&&ke.metric===ye.Z.HTTP_REQUEST&&ke.value&&ke.value.type===h.w.MEDIA_SEGMENT_TYPE&&ke.value.trace&&ke.value.trace.length){var _t=J[ke.mediaType];_t&&0!==_t.state&&(_t.lastSegmentRequestTimeMs=ke.value.trequest.getTime(),_t.lastSegmentFinishTimeMs=ke.value._tfinish.getTime(),je(_t,ke.mediaType))}}function je(ke,_t){if(!isNaN(ke.lastSegmentStart)&&!isNaN(ke.lastSegmentRequestTimeMs)&&!isNaN(ke.placeholderBuffer)){if(ke.placeholderBuffer*=.99,!isNaN(ke.lastSegmentFinishTimeMs)){var xt=H.getCurrentBufferLevel(_t)+.001*(ke.lastSegmentFinishTimeMs-ke.lastSegmentRequestTimeMs),$e=ot(ke,ke.lastQuality),yt=Math.max(0,$e-xt);ke.placeholderBuffer=Math.min(yt,ke.placeholderBuffer)}ke.lastSegmentWasReplacement&&!isNaN(ke.lastSegmentDurationS)&&(ke.placeholderBuffer+=ke.lastSegmentDurationS),ke.lastSegmentStart=NaN,ke.lastSegmentRequestTimeMs=NaN}}function it(ke){if(ke){var _t=J[ke.mediaType];_t&&0!==_t.state&&(_t.abrQuality=ke.newQuality)}}function Mt(ke){if(ke){var _t=J[ke.mediaType];if(_t&&0!==_t.state){var xt,$e=H.getCurrentBufferLevel(ke.mediaType);xt=_t.abrQuality>0?pe(_t,_t.abrQuality):p;var yt=Math.max(0,xt-$e);_t.placeholderBuffer=Math.min(_t.placeholderBuffer,yt)}}}function ut(){J={}}return W={getMaxIndex:function(ke){var _t=(0,P.Z)(se).create();if(!(ke&&ke.hasOwnProperty("getMediaInfo")&&ke.hasOwnProperty("getMediaType")&&ke.hasOwnProperty("getScheduleController")&&ke.hasOwnProperty("getStreamInfo")&&ke.hasOwnProperty("getAbrController")&&ke.hasOwnProperty("useBufferOccupancyABR")))return _t;var xt=ke.getMediaInfo(),$e=ke.getMediaType(),yt=ke.getScheduleController(),me=ke.getStreamInfo(),Ae=ke.getAbrController(),at=Ae.getThroughputHistory(),E=me?me.id:null,_=me&&me.manifestInfo&&me.manifestInfo.isDynamic,R=ke.useBufferOccupancyABR();if(_t.reason=_t.reason||{},!R)return _t;yt.setTimeToLoadDelay(0);var rt,Re,We,x=(Re=(rt=ke).getMediaType(),(We=J[Re])?0!==We.state&&qe(We,Re):(We=function(Qe){var St={},kt=Qe.getMediaInfo().bitrateList.map(function(yn){return yn.bandwidth}),on=kt.map(function(jn){return Math.log(jn)});on=on.map(function(yn){return yn-on[0]+1});var Tn=k.getStableBufferTime(),xn=de(Tn,kt,on);return xn?(St.state=1,St.bitrates=kt,St.utilities=on,St.stableBufferTime=Tn,St.Vp=xn.Vp,St.gp=xn.gp,St.lastQuality=0,ce(St)):St.state=0,St}(rt),J[Re]=We),We);if(0===x.state)return _t;var ue,oe=H.getCurrentBufferLevel($e),xe=at.getAverageThroughput($e,_),Ye=at.getSafeAverageThroughput($e,_),Xe=at.getAverageLatency($e);if(_t.reason.state=x.state,_t.reason.throughput=xe,_t.reason.latency=Xe,isNaN(xe))return _t;switch(x.state){case 1:ue=Ae.getQualityForBitrate(xt,Ye,E,Xe),_t.quality=ue,_t.reason.throughput=Ye,x.placeholderBuffer=Math.max(0,pe(x,ue)-oe),x.lastQuality=ue,!isNaN(x.lastSegmentDurationS)&&oe>=x.lastSegmentDurationS&&(x.state=2);break;case 2:(function(rt,Re){var We=Date.now();isNaN(rt.lastSegmentFinishTimeMs)?isNaN(rt.lastCallTimeMs)||(rt.placeholderBuffer+=Math.max(0,.001*(We-rt.lastCallTimeMs))):rt.placeholderBuffer+=Math.max(0,.001*(We-rt.lastSegmentFinishTimeMs)),rt.lastCallTimeMs=We,rt.lastSegmentStart=NaN,rt.lastSegmentRequestTimeMs=NaN,rt.lastSegmentFinishTimeMs=NaN,qe(rt,Re)})(x,$e),ue=function(rt,Re){for(var We=rt.bitrates.length,Qe=NaN,St=NaN,kt=0;kt<We;++kt){var on=(rt.Vp*(rt.utilities[kt]+rt.gp)-Re)/rt.bitrates[kt];(isNaN(St)||on>=St)&&(St=on,Qe=kt)}return Qe}(x,oe+x.placeholderBuffer);var Le=Ae.getQualityForBitrate(xt,Ye,E,Xe);ue>x.lastQuality&&ue>Le&&(ue=Math.max(Le,x.lastQuality));var tt=Math.max(0,oe+x.placeholderBuffer-ot(x,ue));tt<=x.placeholderBuffer?(x.placeholderBuffer-=tt,tt=0):(tt-=x.placeholderBuffer,x.placeholderBuffer=0,ue<Ae.getMaxAllowedIndexFor($e,E)?yt.setTimeToLoadDelay(1e3*tt):tt=0),_t.quality=ue,_t.reason.throughput=xe,_t.reason.latency=Xe,_t.reason.bufferLevel=oe,_t.reason.placeholderBuffer=x.placeholderBuffer,_t.reason.delay=tt,x.lastQuality=ue;break;default:ne.debug("BOLA ABR rule invoked in bad state."),_t.quality=Ae.getQualityForBitrate(xt,Ye,E,Xe),_t.reason.state=x.state,_t.reason.throughput=Ye,_t.reason.latency=Xe,x.state=1,ce(x)}return _t},reset:function(){ut(),K.off(C.Z.BUFFER_EMPTY,Nt,W),K.off(C.Z.PLAYBACK_SEEKING,He,W),K.off(C.Z.METRIC_ADDED,Ne,W),K.off(C.Z.QUALITY_CHANGE_REQUESTED,it,W),K.off(C.Z.FRAGMENT_LOADING_ABANDONED,Mt,W),K.off(S.Z.MEDIA_FRAGMENT_LOADED,Ke,W)}},ne=(0,g.Z)(se).getInstance().getLogger(W),ut(),K.on(C.Z.BUFFER_EMPTY,Nt,W),K.on(C.Z.PLAYBACK_SEEKING,He,W),K.on(C.Z.METRIC_ADDED,Ne,W),K.on(C.Z.QUALITY_CHANGE_REQUESTED,it,W),K.on(C.Z.FRAGMENT_LOADING_ABANDONED,Mt,W),K.on(S.Z.MEDIA_FRAGMENT_LOADED,Ke,W),W}y.__dashjs_factory_name="BolaRule";const T=f.Z.getClassFactory(y)},895:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(2068),f=F(6398);function h(){var S,g,C=this.context;return S={getMaxIndex:function(M){var p=(0,P.Z)(C).create();if(!M||!M.hasOwnProperty("getDroppedFramesHistory"))return p;var y=M.getDroppedFramesHistory(),T=M.getStreamInfo().id;if(y){var q=y.getFrameHistory(T);if(!q||0===q.length)return p;for(var W=0,ne=0,J=P.Z.NO_CHANGE,se=1;se<q.length;se++)if(q[se]&&(W=q[se].droppedVideoFrames,(ne=q[se].totalVideoFrames)>375&&W/ne>.15)){g.debug("index: "+(J=se-1)+" Dropped Frames: "+W+" Total Frames: "+ne);break}return(0,P.Z)(C).create(J,{droppedFrames:W})}return p}},g=(0,f.Z)(C).getInstance().getLogger(S),S}h.__dashjs_factory_name="DroppedFramesRule";const O=ye.Z.getClassFactory(h)},6535:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>p});var ye=F(5595),P=F(8512),f=F(5448),h=F(6398),O=F(2068),S=F(3393),g=F(3860),C=F(8825);function M(y){y=y||{};var T,q,W,ne=this.context,J=(0,ye.Z)(ne).getInstance(),se=y.dashMetrics;function H(){(W={})[S.Z.VIDEO]={ignoreCount:2},W[S.Z.AUDIO]={ignoreCount:2}}function k(){H()}function K(de){isNaN(de.startTime)||de.mediaType!==S.Z.AUDIO&&de.mediaType!==S.Z.VIDEO||W[de.mediaType].ignoreCount>0&&W[de.mediaType].ignoreCount--}return T={getMaxIndex:function(de){var ce=(0,O.Z)(ne).create();if(!de||!de.hasOwnProperty("getMediaType"))return ce;!function(){if(!se||!se.hasOwnProperty("getCurrentBufferLevel")||!se.hasOwnProperty("getCurrentBufferState"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}();var qe=de.getMediaType(),ot=se.getCurrentBufferState(qe),pe=de.getRepresentationInfo().fragmentDuration,Nt=de.getStreamInfo(),He=Nt?Nt.id:null,Ke=de.getScheduleController(),Ne=Nt&&Nt.manifestInfo&&Nt.manifestInfo.isDynamic;if(!Ke.getPlaybackController().getLowLatencyModeEnabled()&&W[qe].ignoreCount>0||!pe)return ce;if(ot&&ot.state===g.Z.BUFFER_EMPTY)q.debug("["+qe+"] Switch to index 0; buffer is empty."),ce.quality=0,ce.reason="InsufficientBufferRule: Buffer is empty";else{var je=de.getMediaInfo(),it=de.getAbrController(),Mt=it.getThroughputHistory(),ut=se.getCurrentBufferLevel(qe),ke=Mt.getAverageThroughput(qe,Ne),_t=Mt.getAverageLatency(qe);ce.quality=it.getQualityForBitrate(je,ke*(ut/pe)*.5,He,_t),ce.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ce},reset:function(){H(),J.off(C.Z.PLAYBACK_SEEKING,k,T),J.off(P.Z.BYTES_APPENDED_END_FRAGMENT,K,T)}},q=(0,h.Z)(ne).getInstance().getLogger(T),H(),J.on(C.Z.PLAYBACK_SEEKING,k,T),J.on(P.Z.BYTES_APPENDED_END_FRAGMENT,K,T),T}M.__dashjs_factory_name="InsufficientBufferRule";const p=f.Z.getClassFactory(M)},1914:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>p});var ye=F(3860),P=F(2068),f=F(5448),h=F(7855),O=F(5595),S=F(8512),g=F(6398),C=F(3393);function M(y){var T,q,W,ne,J=this.context,se=(y=y||{}).dashMetrics,H=(0,O.Z)(J).getInstance();function k(He){He.placeholderBuffer=0,He.mostAdvancedSegmentStart=NaN,He.lastSegmentWasReplacement=!1,He.lastSegmentStart=NaN,He.lastSegmentDurationS=NaN,He.lastSegmentRequestTimeMs=NaN,He.lastSegmentFinishTimeMs=NaN,He.lastSegmentUrl=""}function K(){for(var He in q)if(q.hasOwnProperty(He)){var Ke=q[He];0!==Ke.state&&(Ke.state=1,k(Ke))}}function de(He){if(He&&He.chunk&&He.chunk.mediaInfo){var Ke=q[He.chunk.mediaInfo.type],Ne=W[He.chunk.mediaInfo.type];if(Ke&&0!==Ke.state){var je=He.chunk.start;isNaN(Ke.mostAdvancedSegmentStart)||je>Ke.mostAdvancedSegmentStart?(Ke.mostAdvancedSegmentStart=je,Ke.lastSegmentWasReplacement=!1):Ke.lastSegmentWasReplacement=!0,Ke.lastSegmentStart=je,Ke.lastSegmentDurationS=He.chunk.duration,Ke.lastQuality=He.chunk.quality,qe(Ke,Ne)}}}function ce(He){if(He&&He.metric===ye.Z.HTTP_REQUEST&&He.value&&He.value.type===h.w.MEDIA_SEGMENT_TYPE&&He.value.trace&&He.value.trace.length){var Ke=q[He.mediaType],Ne=W[He.mediaType];Ke&&0!==Ke.state&&(Ke.lastSegmentRequestTimeMs=He.value.trequest.getTime(),Ke.lastSegmentFinishTimeMs=He.value._tfinish.getTime(),qe(Ke,Ne))}}function qe(He,Ke){isNaN(He.lastSegmentStart)||isNaN(He.lastSegmentRequestTimeMs)||(Ke.segment_request_start_s=.001*He.lastSegmentRequestTimeMs,Ke.segment_download_finish_s=.001*He.lastSegmentFinishTimeMs,He.lastSegmentStart=NaN,He.lastSegmentRequestTimeMs=NaN)}function ot(He){if(He&&He.mediaType){var Ke=q[He.mediaType];Ke&&0!==Ke.state&&(Ke.abrQuality=He.newQuality)}}function pe(He,Ke){if(He.length!==Ke.length)return-1;for(var Ne=0,je=0;je<He.length;je++)Ne+=He[je]*Ke[je];return Ne}function Nt(){q={},W={}}return T={getMaxIndex:function(He){var Ke,Ne=(0,P.Z)(J).create(),je=Math.pow(4,.99),it=Math.max(Math.pow(4,1),je*Math.sqrt(4)),Mt=He.getMediaInfo(),ut=He.getMediaType(),ke=Mt.bitrateList.map(function(xn){return xn.bandwidth}),_t=ke.length,xt=He.getScheduleController(),$e=He.getStreamInfo(),yt=He.getAbrController(),me=yt.getThroughputHistory(),Ae=$e&&$e.manifestInfo&&$e.manifestInfo.isDynamic,at=He.useL2AABR(),E=se.getCurrentBufferLevel(ut,!0),_=me.getSafeAverageThroughput(ut,Ae),R=me.getAverageThroughput(ut,Ae),x=me.getAverageLatency(ut),ue=He.getVideoModel().getPlaybackRate();if(!(He&&He.hasOwnProperty("getMediaInfo")&&He.hasOwnProperty("getMediaType")&&He.hasOwnProperty("getScheduleController")&&He.hasOwnProperty("getStreamInfo")&&He.hasOwnProperty("getAbrController")&&He.hasOwnProperty("useL2AABR")&&(Ne.reason=Ne.reason||{},at&&ut!==C.Z.AUDIO)))return Ne;xt.setTimeToLoadDelay(0);var xn,Hr,br,mi,Ci,yn,jn,oe=(yn=(xn=He).getMediaType(),(jn=q[yn])||(br={},Ci=(mi=xn.getMediaInfo()).bitrateList.map(function(Hr){return Hr.bandwidth/1e3}),br.state=1,br.bitrates=Ci,br.lastQuality=0,(Hr=mi)&&Hr.type&&(W[Hr.type]={},W[Hr.type].w=[],W[Hr.type].prev_w=[],W[Hr.type].Q=0,W[Hr.type].segment_request_start_s=0,W[Hr.type].segment_download_finish_s=0,W[Hr.type].B_target=1.5),k(br),q[yn]=jn=br),jn);if(0===oe.state)return Ne;var xe=W[ut];if(!xe||(Ne.reason.state=oe.state,Ne.reason.throughput=R,Ne.reason.latency=x,isNaN(R)))return Ne;switch(oe.state){case 1:if(Ke=yt.getQualityForBitrate(Mt,_,$e.id,x),Ne.quality=Ke,Ne.reason.throughput=_,oe.lastQuality=Ke,!isNaN(oe.lastSegmentDurationS)&&E>=xe.B_target){oe.state=2,xe.Q=je;for(var Ye=0;Ye<_t;++Ye)xe.prev_w[Ye]=Ye===oe.lastQuality?1:0}break;case 2:var Xe=[],Le=se.getCurrentHttpRequest(ut).trace.reduce(function(xn,yn){return xn+yn.d},0),tt=se.getCurrentHttpRequest(ut).trace.reduce(function(xn,yn){return xn+yn.b[0]},0),rt=Math.round(8*tt/Le),Re=se.getCurrentHttpRequest(ut);if(rt<1&&(rt=1),Re.url===oe.lastSegmentUrl||Re.type===h.w.INIT_SEGMENT_TYPE)Ke=oe.lastQuality;else{for(var We=oe.lastSegmentDurationS,Qe=1,St=0;St<_t;++St)ke[St]=ke[St]/1e3,ue*ke[St]>rt&&(Qe=-1),xe.w[St]=xe.prev_w[St]+Qe*(We/(2*it))*((xe.Q+je)*(ue*ke[St]/rt));xe.w=function(xn){for(var yn=xn.length,jn=!1,Hn=[],br=0;br<yn;++br)Hn[br]=xn[br];for(var mi=xn.sort(function(qi,Co){return Co-qi}),Ci=0,Hr=0,Li=[],Fi=0;Fi<yn-1;++Fi)if((Hr=((Ci+=mi[Fi])-1)/(Fi+1))>=mi[Fi+1]){jn=!0;break}jn||(Hr=(Ci+mi[yn-1]-1)/yn);for(var Gi=0;Gi<yn;++Gi)Li[Gi]=Math.max(Hn[Gi]-Hr,0);return Li}(xe.w);for(var kt=0;kt<_t;++kt)Xe[kt]=xe.w[kt]-xe.prev_w[kt],xe.prev_w[kt]=xe.w[kt];xe.Q=Math.max(0,xe.Q-We+We*ue*((pe(ke,xe.prev_w)+pe(ke,Xe))/rt));for(var on=[],Tn=0;Tn<_t;++Tn)on[Tn]=Math.abs(ke[Tn]-pe(xe.w,ke));(Ke=on.indexOf(Math.min.apply(Math,on)))>oe.lastQuality&&ke[oe.lastQuality+1]<=rt&&(Ke=oe.lastQuality+1),ke[Ke]>=rt&&(xe.Q=2*Math.max(je,xe.Q)),oe.lastSegment.url=Re.url}Ne.quality=Ke,Ne.reason.throughput=R,Ne.reason.latency=x,Ne.reason.bufferLevel=E,oe.lastQuality=Ne.quality;break;default:ne.debug("L2A ABR rule invoked in bad state."),Ne.quality=yt.getQualityForBitrate(Mt,_,$e.id,x),Ne.reason.state=oe.state,Ne.reason.throughput=_,Ne.reason.latency=x,oe.state=1,k(oe)}return Ne},reset:function(){Nt(),H.off(S.Z.PLAYBACK_SEEKING,K,T),H.off(S.Z.MEDIA_FRAGMENT_LOADED,de,T),H.off(S.Z.METRIC_ADDED,ce,T),H.off(S.Z.QUALITY_CHANGE_REQUESTED,ot,T)}},ne=(0,g.Z)(J).getInstance().getLogger(T),Nt(),H.on(S.Z.PLAYBACK_SEEKING,K,T),H.on(S.Z.MEDIA_FRAGMENT_LOADED,de,T),H.on(S.Z.METRIC_ADDED,ce,T),H.on(S.Z.QUALITY_CHANGE_REQUESTED,ot,T),T}M.__dashjs_factory_name="L2ARule";const p=f.Z.getClassFactory(M)},6070:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(6398),f=F(2068);function h(){var S,g,C=this.context;return S={getMaxIndex:function(M){for(var p=M?M.getSwitchHistory():null,y=p?p.getSwitchRequests():[],T=0,q=0,W=0,ne=(0,f.Z)(C).create(),J=0;J<y.length;J++)if(void 0!==y[J]&&(W+=y[J].dropSize,(T+=y[J].drops)+(q+=y[J].noDrops)>=6&&T/q>.075)){ne.quality=J>0&&y[J].drops>0?J-1:J,ne.reason={index:ne.quality,drops:T,noDrops:q,dropSize:W},g.debug("Switch history rule index: "+ne.quality+" samples: "+(T+q)+" drops: "+T);break}return ne}},g=(0,P.Z)(C).getInstance().getLogger(S),S}h.__dashjs_factory_name="SwitchHistoryRule";const O=ye.Z.getClassFactory(h)},5628:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>S});var ye=F(5448),P=F(2068),f=F(3393),h=F(3860);function O(g){var C=this.context,M=(g=g||{}).dashMetrics;return{getMaxIndex:function(p){var y=(0,P.Z)(C).create();if(!(p&&p.hasOwnProperty("getMediaInfo")&&p.hasOwnProperty("getMediaType")&&p.hasOwnProperty("useBufferOccupancyABR")&&p.hasOwnProperty("getAbrController")&&p.hasOwnProperty("getScheduleController")))return y;!function(){if(!M||!M.hasOwnProperty("getCurrentBufferState"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var T=p.getMediaInfo(),q=p.getMediaType(),W=M.getCurrentBufferState(q),ne=p.getScheduleController(),J=p.getAbrController(),se=p.getStreamInfo(),H=se?se.id:null,k=se&&se.manifestInfo?se.manifestInfo.isDynamic:null,K=J.getThroughputHistory(),de=K.getSafeAverageThroughput(q,k),ce=K.getAverageLatency(q),qe=p.useBufferOccupancyABR();return isNaN(de)||!W||qe||J.getAbandonmentStateFor(H,q)!==h.Z.ABANDON_LOAD&&(W.state===h.Z.BUFFER_LOADED||k)&&(y.quality=J.getQualityForBitrate(T,de,H,ce),ne.setTimeToLoadDelay(0),y.reason={throughput:de,latency:ce}),y},reset:function(){}}}O.__dashjs_factory_name="ThroughputRule";const S=ye.Z.getClassFactory(O)},4722:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(6398);function f(){var O,S,g,C,M,p,y,T,q;function ne(){g=null,C=1,M=100,p=0,y=null,T=null,q="dynamic_weight_selection"}function J(){var de=0;if(g)for(var ce=0;ce<g.length;ce++){var qe=g[ce];qe.state.throughput>de&&(de=qe.state.throughput)}return de}function se(de,ce,qe){var ot=de.map(function(pe,Nt){return qe[Nt]*Math.pow(pe-ce[Nt],2)}).reduce(function(pe,Nt){return pe+Nt});return(ot<0?-1:1)*Math.sqrt(Math.abs(ot))}function H(de,ce){return se([de.state.throughput,de.state.latency,de.state.rebuffer,de.state.switch],[ce.state.throughput,ce.state.latency,ce.state.rebuffer,ce.state.switch],[1,1,1,1])}function k(de,ce,qe){for(var ot=0;ot<ce.length;ot++){var pe=ce[ot],Nt=H(pe,de);K(pe,qe,Math.exp(-1*Math.pow(Nt,2)/(2*Math.pow(.1,2))))}}function K(de,ce,qe){var ot=de.state,pe=[.01,.01,.01,.01];ot.throughput=ot.throughput+(ce[0]-ot.throughput)*pe[0]*qe,ot.latency=ot.latency+(ce[1]-ot.latency)*pe[1]*qe,ot.rebuffer=ot.rebuffer+(ce[2]-ot.rebuffer)*pe[2]*qe,ot.switch=ot.switch+(ce[3]-ot.switch)*pe[3]*qe}return O={getNextQuality:function(de,ce,qe,ot,pe,Nt,He){var Ke=qe,Ne=ot,je=ce,it=function(xe){if(!g){g=[];var Ye=xe.bitrateList,Xe=[];p=Ye[0].bandwidth,Ye.forEach(function(Re){Xe.push(Re.bandwidth),Re.bandwidth<p&&(p=Re.bandwidth)}),rt=Xe.map(function(Re){return Math.pow(Re,2)}).reduce(function(Re,We){return Re+We}),C=Math.sqrt(rt);for(var Le=0;Le<Ye.length;Le++)g.push({qualityIndex:Le,bitrate:Ye[Le].bandwidth,state:{throughput:Ye[Le].bandwidth/C,latency:0,rebuffer:0,switch:0}});T=function(Re){var We=[],Qe=function(qt){for(var Ut=[],Vt=0;Vt<qt;Vt++){var lt=[Math.random()*J(),Math.random(),Math.random(),Math.random()];Ut.push(lt)}return Ut}(Math.pow(Re.length,2));We.push(Qe[0]);for(var St=[1,1,1,1],kt=1;kt<Re.length;kt++){for(var on=null,Tn=null,xn=0;xn<Qe.length;xn++){for(var yn=Qe[xn],jn=null,Hn=0;Hn<We.length;Hn++){var br=se(yn,We[Hn],St);(null===jn||br<jn)&&(jn=br)}(null===Tn||jn>Tn)&&(on=yn,Tn=jn)}We.push(on)}for(var mi=null,Ci=null,Hr=0;Hr<We.length;Hr++){for(var Li=0,Fi=0;Fi<We.length;Fi++)Hr!==Fi&&(Li+=se(We[Hr],We[Fi],St));(null===mi||Li>mi)&&(mi=Li,Ci=Hr)}var Gi=[];for(Gi.push(We[Ci]),We.splice(Ci,1);We.length>0;){for(var qi=null,Co=null,Ao=0;Ao<We.length;Ao++){var Fs=se(Gi[0],We[Ao],St);(null===qi||Fs<qi)&&(qi=Fs,Co=Ao)}Gi.push(We[Co]),We.splice(Co,1)}return Gi}(g)}var rt;return g}(de),Mt=ce/C;Mt>1&&(Mt=J()),qe/=M,S.debug("getNextQuality called throughput:".concat(Mt," latency:").concat(qe," bufferSize:").concat(ot," currentQualityIndex:").concat(Nt," playbackRate:").concat(pe));var ut=it[Nt],ke=ut.bitrate*He.getSegmentDuration()/je,_t=Math.max(0,ke-Ne);if(Ne-ke<He.getMinBuffer())return S.debug("Buffer is low for bitrate= ".concat(ut.bitrate," downloadTime=").concat(ke," currentBuffer=").concat(Ne," rebuffer=").concat(_t)),function(xe,Ye){var Xe=0,Le=xe;if(g)for(var tt=0;tt<g.length;tt++){var rt=g[tt];rt.bitrate<xe.bitrate&&rt.bitrate>Xe&&Ye>rt.bitrate&&(Xe=rt.bitrate,Le=rt)}return Le}(ut,je).qualityIndex;switch(q){case"manual_weight_selection":y=[.4,.4,.4,.4];break;case"random_weight_selection":y=function(Ye,Xe){for(var Le=[],tt=Math.sqrt(2/Ye),rt=0;rt<4;rt++)Le.push(Math.random()*tt);return y=Le}(it.length);break;default:!function(xe,Ye,Xe,Le,tt,rt,Re){y||(y=T[T.length-1]);var We=xe.findWeightVector(Ye,Xe,Le,tt,rt,Re);null!==We&&-1!==We&&(y=We)}(He,it,Ke,Ne,_t,je,pe)}for(var xt=null,$e=null,yt=null,me=0;me<it.length;me++){var Ae=it[me],at=Ae.state,E=[at.throughput,at.latency,at.rebuffer,at.switch],_=y.slice(),R=He.getNextBufferWithBitrate(Ae.bitrate,Ne,je),x=R<He.getMinBuffer();x&&S.debug("Buffer is low for bitrate=".concat(Ae.bitrate," downloadTime=").concat(ke," currentBuffer=").concat(Ne," nextBuffer=").concat(R)),(Ae.bitrate>ce-1e4||x)&&Ae.bitrate!==p&&(_[0]=100);var ue=se(E,[Mt,0,0,0],_);(null===xt||ue<xt)&&(xt=ue,$e=Ae.qualityIndex,yt=Ae)}var oe=Math.abs(ut.bitrate-yt.bitrate)/C;return k(ut,it,[Mt,qe,_t,oe]),k(yt,it,[Mt,0,0,oe]),$e},reset:function(){ne()}},S=(0,P.Z)(this.context).getInstance().getLogger(O),ne(),O}f.__dashjs_factory_name="LearningAbrController";const h=ye.Z.getClassFactory(f)},5317:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(2298);function f(){var O,S,g,C,M;function p(){S=null,g=null,C=null,M=null}function y(q,W,ne,J){var se=new P.Z;return se.type=q,se.weights.bitrateReward=W||1,se.weights.bitrateSwitchPenalty=1,se.weights.rebufferPenalty=ne||1e3,se.weights.latencyPenalty=[],se.weights.latencyPenalty.push({threshold:1.1,penalty:.05*J}),se.weights.latencyPenalty.push({threshold:1e8,penalty:.1*ne}),se.weights.playbackSpeedPenalty=J||200,se}function T(q,W,ne,J,se){se.bitrateWSum+=se.weights.bitrateReward*q,se.lastBitrate&&(se.bitrateSwitchWSum+=se.weights.bitrateSwitchPenalty*Math.abs(q-se.lastBitrate)),se.lastBitrate=q,se.rebufferWSum+=se.weights.rebufferPenalty*W;for(var H=0;H<se.weights.latencyPenalty.length;H++){var k=se.weights.latencyPenalty[H];if(ne<=k.threshold){se.latencyWSum+=k.penalty*ne;break}}se.playbackSpeedWSum+=se.weights.playbackSpeedPenalty*Math.abs(1-J),se.totalQoe=se.bitrateWSum-se.bitrateSwitchWSum-se.rebufferWSum-se.latencyWSum-se.playbackSpeedWSum}return O={setupPerSegmentQoe:function(q,W,ne){S=y("segment",q,W,ne),g=q,C=W,M=ne},logSegmentMetrics:function(q,W,ne,J){S&&T(q,W,ne,J,S)},getPerSegmentQoe:function(){return S},calculateSingleUseQoe:function(q,W,ne,J){var se=null;return g&&C&&M&&(se=y("segment",g,C,M)),se?(T(q,W,ne,J,se),se.totalQoe):0},reset:function(){p()}},p(),O}f.__dashjs_factory_name="LoLpQoeEvaluator";const h=ye.Z.getClassFactory(f)},5435:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>p});var ye=F(6398),P=F(5448),f=F(4722),h=F(5317),O=F(2068),S=F(3860),g=F(6523),C=F(3393);function M(y){var T,q,W,ne,J=(y=y||{}).dashMetrics,se=this.context;return q={getMaxIndex:function(H){try{var k=(0,O.Z)(se).create(),K=H.getMediaInfo().type,de=H.getAbrController(),ce=H.getStreamInfo(),qe=de.getQualityFor(K,ce.id),ot=H.getMediaInfo(),pe=J.getCurrentBufferState(K),Nt=H.getScheduleController(),He=J.getCurrentBufferLevel(K,!0),Ke=ce&&ce.manifestInfo?ce.manifestInfo.isDynamic:null,Ne=Nt.getPlaybackController(),je=Ne.getCurrentLiveLatency();if(!H.useLoLPABR()||K===C.Z.AUDIO)return k;je||(je=0);var it=Ne.getPlaybackRate(),Mt=de.getThroughputHistory().getSafeAverageThroughput(K,Ke);if(T.debug("Throughput ".concat(Math.round(Mt)," kbps")),isNaN(Mt)||!pe||de.getAbandonmentStateFor(ce.id,K)===S.Z.ABANDON_LOAD)return k;for(var ut=ot.bitrateList,ke=H.getRepresentationInfo().fragmentDuration,_t=ut[0].bandwidth/1e3,xt=ut[ut.length-1].bandwidth/1e3,$e=0;$e<ut.length;$e++){var yt=ut[$e].bandwidth/1e3;yt>xt?xt=yt:yt<_t&&(_t=yt)}var me=ut[qe].bandwidth/1e3,Ae=J.getCurrentHttpRequest(K,!0),at=(Ae.tresponse.getTime()-Ae.trequest.getTime())/1e3,E=at>ke?at-ke:0;ne.setupPerSegmentQoe(ke,xt,_t),ne.logSegmentMetrics(me,E,je,it);var _=(0,g.Z)(se).create({targetLatency:1.5,bufferMin:.3,segmentDuration:ke,qoeEvaluator:ne});return k.quality=W.getNextQuality(ot,1e3*Mt,je,He,it,qe,_),k.reason={throughput:Mt,latency:je},k.priority=O.Z.PRIORITY.STRONG,Nt.setTimeToLoadDelay(0),k.quality!==qe&&T.debug("[TgcLearningRule]["+K+"] requesting switch to index: ",k.quality,"Average throughput",Math.round(Mt),"kbps"),k}catch(R){throw R}},reset:function(){W.reset(),ne.reset()}},T=(0,ye.Z)(se).getInstance().getLogger(q),W=(0,f.Z)(se).create(),ne=(0,h.Z)(se).create(),q}M.__dashjs_factory_name="LoLPRule";const p=P.Z.getClassFactory(M)},6523:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>f});var ye=F(5448);function P(h){var O,S,g,C,M=h.targetLatency,p=h.bufferMin,y=h.segmentDuration,T=h.qoeEvaluator;function q(){return y}function W(ne,J){var se=q();return J>se?ne-se:ne+se-J}return O={getMinBuffer:function(){return p},getSegmentDuration:q,getNextBufferWithBitrate:function(ne,J,se){return W(J,ne*y/se)},getNextBuffer:W,findWeightVector:function(ne,J,se,H,k,K){var de=null,ce=null,qe=null,ot=Math.abs(J-g);return ne.forEach(function(pe){S.forEach(function(Nt){var He=Nt[1],Ke=Nt[2],Ne=pe.bitrate*y/k,je=W(se,Ne),it=(0===Ke?10:1/Ke)*Math.max(1e-5,Ne-je),ut=T.calculateSingleUseQoe(pe.bitrate,it,(0===He?10:1/He)*pe.state.latency,K);(null===de||ut>de)&&!(J>M+ot)&&je>=p&&(de=ut,ce=Nt,qe=pe.bitrate)})}),null===ce&&null===qe&&(ce=-1),g=J,ce}},S=function ne(J,se,H){if(H===se)return J;for(var k=J.length,K=0;K<k;K++)for(var de=J.shift(),ce=0;ce<C.length;ce++)J.push(de.concat(C[ce]));return ne(J,se,H+1)}((C=[.2,.4,.6,.8,1]).map(function(ne){return[ne]}),4,1),g=0,O}P.__dashjs_factory_name="LoLpWeightSelector";const f=ye.Z.getClassFactory(P)},2298:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:(At,Ze,F)=>{"use strict";F.d(Ze,{Y:()=>y,Z:()=>q});var ye=F(3393),P=F(1553),f=F(5448),h=F(2128),O=F(2594),S=F(7387),g=F(7417),C=F(9032),M=F(9326),p=F(7802),y=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function T(W){var ne,J,se,H,k,K,de,ce,qe=this.context,ot=W.adapter,pe=W.baseURLController,Nt=W.streamInfo,He=W.timelineConverter,Ke=W.debug,Ne=W.eventBus,je=W.events,it=W.dashConstants,Mt=(0,O.Z)(qe).getInstance();function ut(_t,xt){var yt,me,$e=new h.Z;$e.id=_t.id,$e.bitrate=_t.bandwidth,$e.width=_t.width,$e.height=_t.height,$e.tilesHor=1,$e.tilesVert=1,_t.essentialProperties&&_t.essentialProperties.forEach(function(yt){if(y.indexOf(yt.schemeIdUri)>=0&&yt.value){var me=yt.value.split("x");2!==me.length||isNaN(me[0])||isNaN(me[1])||($e.tilesHor=parseInt(me[0],10),$e.tilesVert=parseInt(me[1],10))}}),xt?K.updateSegmentData(_t).then(function(yt){var me,Ae,E,_;me=$e,E=[],_=function(R,x){var ue,oe,xe,Ye,Xe=[],Le=0;for(ue=0,oe=R.segments.length;ue<oe;ue++)xe=R.segments[ue],(Ye=(0,S.TJ)(He,ot.getIsDynamic(),x,xe.startTime,xe.duration,xe.timescale,xe.media,xe.mediaRange,Le))&&(Xe.push(Ye),Ye=null,Le++);return Xe}(yt,Ae=_t),Ae.segments=_,me.segmentDuration=Ae.segments[0].duration,me.readThumbnail=function(R,x){var ue=null;E.some(function(oe){if(oe.start<=R&&oe.end>R)return ue=oe.url,!0}),ue?x(ue):Ae.segments.some(function(oe){if(oe.mediaStartTime<=R&&oe.mediaStartTime+oe.duration>R){var xe=pe.resolve(Ae.path);return de.load({method:"get",url:xe.url,request:{range:oe.mediaRange,responseType:"arraybuffer"},onload:function(Ye){var Xe=ce.getSamplesInfo(Ye.target.response),Le=new Blob([Ye.target.response.slice(Xe.sampleList[0].offset,Xe.sampleList[0].offset+Xe.sampleList[0].size)],{type:"image/jpeg"}),tt=window.URL.createObjectURL(Le);E.push({start:oe.mediaStartTime,end:oe.mediaStartTime+oe.duration,url:tt}),x&&x(tt)}}),!0}})}}):($e.startNumber=_t.startNumber,$e.segmentDuration=_t.segmentDuration,$e.timescale=_t.timescale,$e.templateUrl=(me=Mt.isRelative((yt=_t).media)?Mt.resolve(yt.media,pe.resolve(yt.path).url):yt.media)?(0,S.Aj)(me,yt.id):""),$e.tilesHor>0&&$e.tilesVert>0&&($e.widthPerTile=$e.width/$e.tilesHor,$e.heightPerTile=$e.height/$e.tilesVert,J.push($e))}function ke(){J=[],H=-1,k=null}return ne={getTracks:function(){return J},addTracks:function(){if(Nt&&ot&&(k=ot.getMediaInfoForType(Nt,ye.Z.IMAGE))){var _t=ot.getVoRepresentations(k);_t&&_t.length>0&&_t.forEach(function(xt){(xt.segmentInfoType===P.Z.SEGMENT_TEMPLATE&&xt.segmentDuration>0&&xt.media||xt.segmentInfoType===P.Z.SEGMENT_TIMELINE)&&ut(xt),xt.segmentInfoType===P.Z.SEGMENT_BASE&&ut(xt,!0)}),J.length>0&&J.sort(function(xt,$e){return xt.bitrate-$e.bitrate})}},reset:ke,setTrackByIndex:function(_t){J&&0!==J.length&&(_t>=J.length&&(_t=J.length-1),H=_t)},getCurrentTrack:function(){return H<0?null:J[H]},getCurrentTrackIndex:function(){return H},getThumbnailRequestForTime:function(_t){for(var xt,$e=ot.getVoRepresentations(k),yt=0;yt<$e.length;yt++)if(J[H].id===$e[yt].id){xt=$e[yt];break}return se.getSegmentRequestForTime(k,xt,_t)}},ke(),de=(0,C.Z)(qe).create({}),ce=(0,g.Z)(qe).getInstance(),K=(0,p.Z)(qe).create({events:je,eventBus:Ne,streamInfo:Nt,timelineConverter:He,dashConstants:it,dashMetrics:W.dashMetrics,segmentBaseController:W.segmentBaseController,type:ye.Z.IMAGE}),(se=(0,M.Z)(qe).create({streamInfo:Nt,type:ye.Z.IMAGE,timelineConverter:He,segmentsController:K,baseURLController:pe,debug:Ke,eventBus:Ne,events:je,dashConstants:it,urlUtils:Mt})).initialize(!!ot&&ot.getIsDynamic()),ne}T.__dashjs_factory_name="ThumbnailTracks";const q=f.Z.getClassFactory(T)},7417:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>g});var ye=F(6398),P=F(8260),f=F(5448),h=F(6934),O=F(9597);function S(){var C,M,p=this.context;function y(W){if(!W)return null;void 0===W.fileStart&&(W.fileStart=0);var ne=h.parseBuffer(W),J=(0,P.Z)(p).create();return J.setData(ne),J}function T(W,ne){return W[ne+3]>>>0|W[ne+2]<<8>>>0|W[ne+1]<<16>>>0|W[ne]<<24>>>0}function q(W,ne){return String.fromCharCode(W[ne++])+String.fromCharCode(W[ne++])+String.fromCharCode(W[ne++])+String.fromCharCode(W[ne])}return M={parse:y,findLastTopIsoBoxCompleted:function(W,ne,J){if(void 0===J&&(J=0),!ne||J+8>=ne.byteLength)return new O.Z(0,!1);for(var se,H=ne instanceof ArrayBuffer?new Uint8Array(ne):ne,k=0;J<H.byteLength;){var K=T(H,J),de=q(H,J+4);if(0===K)break;J+K<=H.byteLength&&(W.indexOf(de)>=0?se=new O.Z(J,!0,K):k=J+K),J+=K}return se||new O.Z(k,!1)},getMediaTimescaleFromMoov:function(W){var ne=y(W),J=ne?ne.getBox("mdhd"):void 0;return J?J.timescale:NaN},getSamplesInfo:function(W){if(!W||0===W.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var ne,J,se,H,k,K,de,ce,qe,ot,pe,Nt,He,Ke,Ne,je,it=y(W),Mt=it.getBoxes("moof"),ut=it.getBoxes("mfhd");Ne=it.getBoxes("moof").length,Ke=ut[ut.length-1].sequence_number,J=0,k=[];var ke=-1,_t=-1;for(ot=0;ot<Mt.length;ot++){var xt=Mt[ot],$e=xt.getChildBoxes("traf");for(ce=0;ce<$e.length;ce++){var yt=$e[ce],me=yt.getChildBox("tfhd"),Ae=yt.getChildBox("tfdt");H=Ae.baseMediaDecodeTime;var at=yt.getChildBoxes("trun"),E=yt.getChildBoxes("subs");for(qe=0;qe<at.length;qe++){var _=at[qe];for(J=_.sample_count,He=(me.base_data_offset||0)+(_.data_offset||0),de=0;de<J;de++){ne=void 0!==(K=_.samples[de]).sample_duration?K.sample_duration:me.default_sample_duration;var R={dts:H,cts:H+(void 0!==K.sample_composition_time_offset?K.sample_composition_time_offset:0),duration:ne,offset:xt.offset+He,size:se=void 0!==K.sample_size?K.sample_size:me.default_sample_size,subSizes:[se]};if(E)for(pe=0;pe<E.length;pe++){var x=E[pe];if(ke<x.entry_count-1&&de>_t&&(ke++,_t+=x.entries[ke].sample_delta),de==_t){R.subSizes=[];var ue=x.entries[ke];for(Nt=0;Nt<ue.subsample_count;Nt++)R.subSizes.push(ue.subsamples[Nt].subsample_size)}}k.push(R),He+=se,H+=ne}}je=H-Ae.baseMediaDecodeTime}}return{sampleList:k,lastSequenceNumber:Ke,totalDuration:je,numSequences:Ne}},findInitRange:function(W){var ne=null,J=y(W);if(!J)return ne;var se=J.getBox("ftyp"),H=J.getBox("moov");return C.debug("Searching for initialization."),H&&H.isComplete&&C.debug("Found the initialization.  Range: "+(ne=(se?se.offset:H.offset)+"-"+(H.offset+H.size-1))),ne},parsePayload:function(W,ne,J){if(void 0===J&&(J=0),!ne||J+8>=ne.byteLength)return new O.Z(0,!1);for(var se,H=ne instanceof ArrayBuffer?new Uint8Array(ne):ne,k=0;J<H.byteLength;){var K=T(H,J),de=q(H,J+4);if(0===K)break;J+K<=H.byteLength&&(W.indexOf(de)>=0?se=new O.Z(J,!0,K,de):k=J+K),J+=K}return se||new O.Z(k,!1)}},C=(0,ye.Z)(p).getInstance().getLogger(M),M}S.__dashjs_factory_name="BoxParser";const g=f.Z.getSingletonFactory(S)},1715:(At,Ze,F)=>{"use strict";F.d(Ze,{B:()=>O,Z:()=>g});var ye=F(5448),P=F(7803),f=F(3393),h=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function O(){var C="WebKitMediaSource"in window,M="MediaSource"in window;return C||M}function S(){var C,M,p;return C={setConfig:function(y){y&&y.settings&&(M=y.settings)},supportsMediaSource:O,supportsEncryptedMedia:function(){return p},supportsCodec:function(y,T){return T!==f.Z.AUDIO&&T!==f.Z.VIDEO?Promise.resolve(!0):(q=y,W=T,M.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(q.codec&&W===f.Z.AUDIO||W===f.Z.VIDEO&&q.codec&&q.width&&q.height&&q.bitrate&&q.framerate)?function(q,W){return new Promise(function(ne){if(q&&q.codec){var J={type:"media-source"};J[W]={},J[W].contentType=q.codec,J[W].width=q.width,J[W].height=q.height,J[W].bitrate=parseInt(q.bitrate),J[W].framerate=parseFloat(q.framerate),navigator.mediaCapabilities.decodingInfo(J).then(function(se){ne(se.supported)}).catch(function(){ne(!1)})}else ne(!1)})}(y,T):function(q){return new Promise(function(W){if(q&&q.codec){var ne=q.codec;q.width&&q.height&&(ne+=';width="'+q.width+'";height="'+q.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(ne)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(ne)?W(!0):W(!1)}else W(!1)})}(y));var q,W},setEncryptedMediaSupported:function(y){p=y},supportsEssentialProperty:function(y){try{return-1!==P.Y.indexOf(y.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function(y,T){for(var q,W=y.split(".")[0],ne=0===T.indexOf(W),J=0;J<h.length;J++)if(h[J].codec===W){q=h[J];break}return q?ne||q.compatibleCodecs.some(function(se){return 0===T.indexOf(se)}):ne}},p=!1,C}S.__dashjs_factory_name="Capabilities";const g=ye.Z.getSingletonFactory(S)},2295:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(3106);function f(){return{customTimeRangeArray:[],length:0,add:function(O,S){var g;for(g=0;g<this.customTimeRangeArray.length&&O>this.customTimeRangeArray[g].start;g++);for(this.customTimeRangeArray.splice(g,0,{start:O,end:S}),g=0;g<this.customTimeRangeArray.length-1;g++)this.mergeRanges(g,g+1)&&g--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(O,S){for(var g=0;g<this.customTimeRangeArray.length;g++)if(O<=this.customTimeRangeArray[g].start&&S>=this.customTimeRangeArray[g].end)this.customTimeRangeArray.splice(g,1),g--;else{if(O>this.customTimeRangeArray[g].start&&S<this.customTimeRangeArray[g].end){this.customTimeRangeArray.splice(g+1,0,{start:S,end:this.customTimeRangeArray[g].end}),this.customTimeRangeArray[g].end=O;break}O>this.customTimeRangeArray[g].start&&O<this.customTimeRangeArray[g].end?this.customTimeRangeArray[g].end=O:S>this.customTimeRangeArray[g].start&&S<this.customTimeRangeArray[g].end&&(this.customTimeRangeArray[g].start=S)}this.length=this.customTimeRangeArray.length},mergeRanges:function(O,S){var g=this.customTimeRangeArray[O],C=this.customTimeRangeArray[S];return g.start<=C.start&&C.start<=g.end&&g.end<=C.end?(g.end=C.end,this.customTimeRangeArray.splice(S,1),!0):C.start<=g.start&&g.start<=C.end&&C.end<=g.end?(g.start=C.start,this.customTimeRangeArray.splice(S,1),!0):C.start<=g.start&&g.start<=C.end&&g.end<=C.end?(this.customTimeRangeArray.splice(O,1),!0):g.start<=C.start&&C.start<=g.end&&C.end<=g.end&&(this.customTimeRangeArray.splice(S,1),!0)},start:function(O){return(0,P.SE)(O),O>=this.customTimeRangeArray.length||O<0?NaN:this.customTimeRangeArray[O].start},end:function(O){return(0,P.SE)(O),O>=this.customTimeRangeArray.length||O<0?NaN:this.customTimeRangeArray[O].end}}}f.__dashjs_factory_name="CustomTimeRanges";const h=ye.Z.getClassFactory(f)},5:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>f});var ye=F(5448);function P(){var h,O=/^[a-z][a-z0-9+\-_.]*:/i,S=/^https?:\/\//i,g=/^https:\/\//i,C=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,M=function(se,H){try{return new window.URL(se,H).toString()}catch{return se}},p=function(se,H){var k=y;if(!H||!W(se))return se;ne(se)&&(k=T),J(se)&&(k=q);var K=k(H),de="/"!==K.charAt(K.length-1)&&"/"!==se.charAt(0)?"/":"";return[K,se].join(de)};function y(se){var H=se.indexOf("/"),k=se.lastIndexOf("/");return-1!==H?k===H+1?se:(-1!==se.indexOf("?")&&(se=se.substring(0,se.indexOf("?"))),se.substring(0,k+1)):""}function T(se){var H=se.match(C);return H?H[1]:""}function q(se){var H=se.match(O);return H?H[0]:""}function W(se){return!O.test(se)}function ne(se){return W(se)&&"/"===se.charAt(0)}function J(se){return 0===se.indexOf("//")}return function(){try{new window.URL("x","http://y"),h=M}catch{}finally{h=h||p}}(),{parseBaseUrl:y,parseOrigin:T,parseScheme:q,isRelative:W,isPathAbsolute:ne,isSchemeRelative:J,isHTTPURL:function(se){return S.test(se)},isHTTPS:function(se){return g.test(se)},removeHostname:function(se){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(se)[2].substring(1)},resolve:function(se,H){return h(se,H)}}}P.__dashjs_factory_name="DefaultURLUtils";const f=ye.Z.getSingletonFactory(P)},8260:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(2839),P=F(5448);function f(){var O;function S(C){var M=[];if(!C||!O||"function"!=typeof O.fetchAll)return M;for(var p,y=O.fetchAll(C),T=0,q=y.length;T<q;T++)(p=g(y[T]))&&M.push(p);return M}function g(C){if(!C)return null;var M=new ye.Z(C);return C.hasOwnProperty("_incomplete")&&(M.isComplete=!C._incomplete),M}return{getBox:function(C){return C&&O&&O.boxes&&0!==O.boxes.length&&"function"==typeof O.fetch?g(O.fetch(C)):null},getBoxes:S,setData:function(C){O=C},getLastBox:function(){if(!O||!O.boxes||!O.boxes.length)return null;var C=S(O.boxes[O.boxes.length-1].type);return C.length>0?C[C.length-1]:null}}}f.__dashjs_factory_name="IsoFile";const h=P.Z.getClassFactory(f)},7473:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h,k:()=>P});var ye=F(5448);function P(O,S){var g={url:O.url,method:O.method,headers:Object.assign({},O.headers),credentials:O.withCredentials?"include":void 0};return Promise.resolve(S.modifyRequest(g)).then(function(){return Object.assign(O,g,{withCredentials:"include"===g.credentials})})}function f(){return{modifyRequest:null,modifyRequestURL:function(O){return O},modifyRequestHeader:function(O,S){return O}}}f.__dashjs_factory_name="RequestModifier";const h=ye.Z.getSingletonFactory(f)},3106:(At,Ze,F)=>{"use strict";F.d(Ze,{PS:()=>f,SE:()=>h});var ye=F(3393);function P(O){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function f(O,S){if(P(O)!==S)throw ye.Z.BAD_ARGUMENT_ERROR}function h(O){if(null===O||isNaN(O)||O%1!=0)throw ye.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(5);function f(){var O,S=[];function C(M,p,y){var T=function(q){var W;for(W=0;W<S.length;W++)if(S[W].regex.test(q))return S[W].utils;return O}(y||p);return T&&"function"==typeof T[M]?T[M](p,y):O[M](p,y)}return O=(0,P.Z)(this.context).getInstance(),{registerUrlRegex:function(M,p){S.push({regex:M,utils:p})},parseBaseUrl:function(M){return C("parseBaseUrl",M)},parseOrigin:function(M){return C("parseOrigin",M)},parseScheme:function(M){return C("parseScheme",M)},isRelative:function(M){return C("isRelative",M)},isPathAbsolute:function(M){return C("isPathAbsolute",M)},isSchemeRelative:function(M){return C("isSchemeRelative",M)},isHTTPURL:function(M){return C("isHTTPURL",M)},isHTTPS:function(M){return C("isHTTPS",M)},removeHostname:function(M){return C("removeHostname",M)},resolve:function(M,p){return C("resolve",M,p)}}}f.__dashjs_factory_name="URLUtils";const h=ye.Z.getSingletonFactory(f)},5459:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(f,h,O){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,P),this.code=f||null,this.message=h||null,this.data=O||null}},3186:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(7855),f=function(){function O(C){(function(M,p){if(!(M instanceof p))throw new TypeError("Cannot call a class as a function")})(this,O),this.action=O.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=C||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var g;return(g=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===ye.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(C){this.type=C&&C.init?ye.w.INIT_SEGMENT_TYPE:ye.w.MEDIA_SEGMENT_TYPE,this.url=C&&C.url?C.url:null,this.range=C&&C.range?C.range.start+"-"+C.range.end:null,this.mediaType=C&&C.mediaType?C.mediaType:null}}])&&function P(O,S){for(var g=0;g<S.length;g++){var C=S[g];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}(O.prototype,g),O}();f.ACTION_DOWNLOAD="download",f.ACTION_COMPLETE="complete";const h=f},2839:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=function(){function f(S){if(function(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}(this,f),this.offset=S._offset,this.type=S.type,this.size=S.size,this.boxes=[],S.boxes)for(var g=0;g<S.boxes.length;g++)this.boxes.push(new f(S.boxes[g]));switch(this.isComplete=!0,S.type){case"sidx":if(this.timescale=S.timescale,this.earliest_presentation_time=S.earliest_presentation_time,this.first_offset=S.first_offset,this.references=S.references,S.references){this.references=[];for(var C=0;C<S.references.length;C++)this.references.push({reference_type:S.references[C].reference_type,referenced_size:S.references[C].referenced_size,subsegment_duration:S.references[C].subsegment_duration})}break;case"emsg":this.id=S.id,this.version=1===S.version?1:0,this.value=S.value,this.timescale=S.timescale,this.scheme_id_uri=S.scheme_id_uri,this.presentation_time_delta=1===S.version?S.presentation_time:S.presentation_time_delta,this.event_duration=S.event_duration,this.message_data=S.message_data;break;case"mdhd":this.timescale=S.timescale;break;case"mfhd":this.sequence_number=S.sequence_number;break;case"subs":this.entry_count=S.entry_count,this.entries=S.entries;break;case"tfhd":this.base_data_offset=S.base_data_offset,this.sample_description_index=S.sample_description_index,this.default_sample_duration=S.default_sample_duration,this.default_sample_size=S.default_sample_size,this.default_sample_flags=S.default_sample_flags,this.flags=S.flags;break;case"tfdt":this.version=S.version,this.baseMediaDecodeTime=S.baseMediaDecodeTime,this.flags=S.flags;break;case"trun":if(this.sample_count=S.sample_count,this.first_sample_flags=S.first_sample_flags,this.data_offset=S.data_offset,this.flags=S.flags,this.samples=S.samples,S.samples){this.samples=[];for(var p=0,y=S.samples.length;p<y;p++)this.samples.push({sample_size:S.samples[p].sample_size,sample_duration:S.samples[p].sample_duration,sample_composition_time_offset:S.samples[p].sample_composition_time_offset})}break;case"prft":this.version=S.version,this.reference_track_ID=S.reference_track_ID,this.ntp_timestamp_sec=S.ntp_timestamp_sec,this.ntp_timestamp_frac=S.ntp_timestamp_frac,this.media_time=S.media_time,this.flags=S.flags}}var O;return(O=[{key:"getChildBox",value:function(S){for(var g=0;g<this.boxes.length;g++)if(this.boxes[g].type===S)return this.boxes[g]}},{key:"getChildBoxes",value:function(S){for(var g=[],C=0;C<this.boxes.length;C++)this.boxes[C].type===S&&g.push(this.boxes[C]);return g}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}()},9597:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(f,h,O){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,P),this.lastCompletedOffset=f,this.found=h,this.size=O}},2128:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:(At,Ze,F)=>{"use strict";function ye(h,O){if(!(h instanceof O))throw new TypeError("Cannot call a class as a function")}F.d(Ze,{O:()=>f,w:()=>P});var P=function h(){ye(this,h),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},f=function h(){ye(this,h),this.s=null,this.d=null,this.b=[]};P.GET="GET",P.HEAD="HEAD",P.MPD_TYPE="MPD",P.XLINK_EXPANSION_TYPE="XLinkExpansion",P.INIT_SEGMENT_TYPE="InitializationSegment",P.INDEX_SEGMENT_TYPE="IndexSegment",P.MEDIA_SEGMENT_TYPE="MediaSegment",P.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",P.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",P.DVB_REPORTING_TYPE="DVBReporting",P.LICENSE="license",P.CONTENT_STEERING_TYPE="ContentSteering",P.OTHER_TYPE="other"},3039:(At,Ze)=>{"use strict";function F(P,f){return function(h,O){for(var S,g,C,M=ye(h,"tag"),p=ye(O??"*","range"),y=[],T=-1;++T<p.length;)if(S=p[T].toLowerCase(),f||"*"!==S){for(g=-1,C=[];++g<M.length;)if(P(M[g].toLowerCase(),S)){if(!f)return M[g];y.push(M[g])}else C.push(M[g]);M=C}return f?y:void 0}}function ye(P,f){var h=P&&"string"==typeof P?[P]:P;if(!h||"object"!=typeof h||!("length"in h))throw new Error("Invalid "+f+" `"+h+"`, expected non-empty string");return h}Ze.basicFilter=F(function(P,f){return"*"===f||P===f||P.indexOf(f+"-")>-1},!0),Ze.extendedFilter=F(function(P,f){var h=P.split("-"),O=f.split("-"),S=0,g=0;if("*"!==O[g]&&h[S]!==O[g])return!1;for(S++,g++;g<O.length;)if("*"!==O[g]){if(!h[S])return!1;if(h[S]!==O[g]){if(1===h[S].length)return!1;S++}else S++,g++}else g++;return!0},!0),Ze.lookup=F(function(P,f){for(var h,O=f;;){if("*"===O||P===O)return!0;if((h=O.lastIndexOf("-"))<0)return!1;"-"===O.charAt(h-2)&&(h-=2),O=O.slice(0,h)}})},3973:(At,Ze,F)=>{"use strict";At.exports=F(3854)},3854:(At,Ze,F)=>{"use strict";var ye=F(2415),P=F(3039),f=F(7778),h=F(5813),O=F(3165),S=F(9460);At.exports=function(W,ne){var J,se=ne||{},H=ye.parse(String(W||"").toLowerCase(),se),k=ye.stringify(H),K=-1;if(!k)return k;for(;++K<f.length;)P.extendedFilter(k,f[K].from).length&&(p(H,f[K].from,f[K].to),k=ye.stringify(H));for(K=-1;++K<h.length;)y(H,h[K].from.field,h[K].from.value)&&T(H,h[K].to.field,h[K].to.value);for(k=ye.stringify(Object.assign({},H,M)),K=-1;++K<O.length;)k===O[K]&&(p(H,O[K],O[K].split("-").slice(0,-1).join("-")),k=ye.stringify(Object.assign({},H,M)));if(H.extensions.sort(q),se.warning)for(J in S)g.call(S[J],H[J])&&se.warning("Deprecated "+J+" `"+H[J]+"`, expected one of `"+S[J][H[J]].join("`, `")+"`",null,7);return H.script&&(H.script=H.script.charAt(0).toUpperCase()+H.script.slice(1)),H.region&&(H.region=H.region.toUpperCase()),ye.stringify(H)};var g={}.hasOwnProperty,C=new Intl.Collator,M={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function p(W,ne,J){var se,H=ye.parse(ne),k=ye.parse(J),K=[];for(se in H)H[se]&&H[se].length&&y(W,se,H[se])&&K.push(se);for(se in k)k[se]&&k[se].length&&(K.indexOf(se)>-1||!W[se]||!W[se].length)&&T(W,se,k[se])}function y(W,ne,J){var se,H,k,K,de=!1;if(J){if(H=se=W[ne],se&&"object"==typeof se)for(H=[],k=-1;++k<se.length;)J.indexOf(K=se[k])<0?H.push(K):de=!0;else se===J&&(H=null,de=!0);W[ne]=H}return de}function T(W,ne,J){var se,H,k,K=W[ne];if(K&&"object"==typeof K)for(se=[].concat(J),H=-1;++H<se.length;)K.indexOf(k=se[H])<0&&K.push(k);else W[ne]=J}function q(W,ne){return C.compare(W.singleton,ne.singleton)}},2415:(At,Ze,F)=>{"use strict";Ze.parse=F(6903),Ze.stringify=F(6713)},6903:(At,Ze,F)=>{"use strict";var ye=F(2219),P=F(3516),f=F(395),h=F(858),O=F(8589);At.exports=function g(C,M){var p,y,T,q=M||{},W={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},ne=String(C),J=ne.toLowerCase(),se=0;if(null==C)throw new Error("Expected string, got `"+C+"`");if(S.call(O,J))return(null==q.normalize||q.normalize)&&O[J]?g(O[J]):(W[-1===h.indexOf(J)?"irregular":"regular"]=ne,W);for(;P(J.charCodeAt(se))&&se<9;)se++;if(se>1&&se<9){if(W.language=ne.slice(0,se),se<4)for(y=0;45===J.charCodeAt(se)&&P(J.charCodeAt(se+1))&&P(J.charCodeAt(se+2))&&P(J.charCodeAt(se+3))&&!P(J.charCodeAt(se+4));){if(y>2)return H(se,3,"Too many extended language subtags, expected at most 3 subtags");W.extendedLanguageSubtags.push(ne.slice(se+1,se+4)),se+=4,y++}for(45===J.charCodeAt(se)&&P(J.charCodeAt(se+1))&&P(J.charCodeAt(se+2))&&P(J.charCodeAt(se+3))&&P(J.charCodeAt(se+4))&&!P(J.charCodeAt(se+5))&&(W.script=ne.slice(se+1,se+5),se+=5),45===J.charCodeAt(se)&&(P(J.charCodeAt(se+1))&&P(J.charCodeAt(se+2))&&!P(J.charCodeAt(se+3))?(W.region=ne.slice(se+1,se+3),se+=3):f(J.charCodeAt(se+1))&&f(J.charCodeAt(se+2))&&f(J.charCodeAt(se+3))&&!f(J.charCodeAt(se+4))&&(W.region=ne.slice(se+1,se+4),se+=4));45===J.charCodeAt(se);){for(T=p=se+1;ye(J.charCodeAt(T));){if(T-p>7)return H(T,1,"Too long variant, expected at most 8 characters");T++}if(!(T-p>4||T-p>3&&f(J.charCodeAt(p))))break;W.variants.push(ne.slice(p,T)),se=T}for(;45===J.charCodeAt(se)&&120!==J.charCodeAt(se+1)&&ye(J.charCodeAt(se+1))&&45===J.charCodeAt(se+2)&&ye(J.charCodeAt(se+3));){for(T=se+2,y=0;45===J.charCodeAt(T)&&ye(J.charCodeAt(T+1))&&ye(J.charCodeAt(T+2));)for(T=(p=T+1)+2,y++;ye(J.charCodeAt(T));){if(T-p>7)return H(T,2,"Too long extension, expected at most 8 characters");T++}if(!y)return H(T,4,"Empty extension, extensions must have at least 2 characters of content");W.extensions.push({singleton:ne.charAt(se+1),extensions:ne.slice(se+3,T).split("-")}),se=T}}else se=0;if(0===se&&120===J.charCodeAt(se)||45===J.charCodeAt(se)&&120===J.charCodeAt(se+1))for(T=se=se?se+2:1;45===J.charCodeAt(T)&&ye(J.charCodeAt(T+1));){for(T=p=se+1;ye(J.charCodeAt(T));){if(T-p>7)return H(T,5,"Too long private-use area, expected at most 8 characters");T++}W.privateuse.push(ne.slice(se+1,T)),se=T}return se!==ne.length?H(se,6,"Found superfluous content after tag"):W;function H(k,K,de){return q.warning&&q.warning(de,K,k),q.forgiving?W:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var S={}.hasOwnProperty},6713:At=>{"use strict";At.exports=function(Ze){var F,ye,P,f=Ze||{},h=[];if(f.irregular||f.regular)return f.irregular||f.regular;if(f.language)for(h=h.concat(f.language,f.extendedLanguageSubtags||[],f.script||[],f.region||[],f.variants||[]),F=f.extensions||[],ye=-1;++ye<F.length;)(P=F[ye]).singleton&&P.extensions&&P.extensions.length&&(h=h.concat(P.singleton,P.extensions));return f.privateuse&&f.privateuse.length&&(h=h.concat("x",f.privateuse)),h.join("-")}},1549:(At,Ze,F)=>{"use strict";var ye=F(6693),P=F(2165),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ze.Buffer=S,Ze.SlowBuffer=function(E){return+E!=E&&(E=0),S.alloc(+E)},Ze.INSPECT_MAX_BYTES=50;var h=2147483647;function O(E){if(E>h)throw new RangeError('The value "'+E+'" is invalid for option "size"');var _=new Uint8Array(E);return Object.setPrototypeOf(_,S.prototype),_}function S(E,_,R){if("number"==typeof E){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return M(E)}return g(E,_,R)}function g(E,_,R){if("string"==typeof E)return function(oe,xe){if("string"==typeof xe&&""!==xe||(xe="utf8"),!S.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);var Ye=0|q(oe,xe),Xe=O(Ye),Le=Xe.write(oe,xe);return Le!==Ye&&(Xe=Xe.slice(0,Le)),Xe}(E,_);if(ArrayBuffer.isView(E))return function(oe){if(me(oe,Uint8Array)){var xe=new Uint8Array(oe);return y(xe.buffer,xe.byteOffset,xe.byteLength)}return p(oe)}(E);if(null==E)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(me(E,ArrayBuffer)||E&&me(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(E,SharedArrayBuffer)||E&&me(E.buffer,SharedArrayBuffer)))return y(E,_,R);if("number"==typeof E)throw new TypeError('The "value" argument must not be of type number. Received type number');var x=E.valueOf&&E.valueOf();if(null!=x&&x!==E)return S.from(x,_,R);var ue=function(oe){if(S.isBuffer(oe)){var xe=0|T(oe.length),Ye=O(xe);return 0===Ye.length||oe.copy(Ye,0,0,xe),Ye}return void 0!==oe.length?"number"!=typeof oe.length||Ae(oe.length)?O(0):p(oe):"Buffer"===oe.type&&Array.isArray(oe.data)?p(oe.data):void 0}(E);if(ue)return ue;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof E[Symbol.toPrimitive])return S.from(E[Symbol.toPrimitive]("string"),_,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}function C(E){if("number"!=typeof E)throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function M(E){return C(E),O(E<0?0:0|T(E))}function p(E){for(var _=E.length<0?0:0|T(E.length),R=O(_),x=0;x<_;x+=1)R[x]=255&E[x];return R}function y(E,_,R){if(_<0||E.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<_+(R||0))throw new RangeError('"length" is outside of buffer bounds');var x;return x=void 0===_&&void 0===R?new Uint8Array(E):void 0===R?new Uint8Array(E,_):new Uint8Array(E,_,R),Object.setPrototypeOf(x,S.prototype),x}function T(E){if(E>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|E}function q(E,_){if(S.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||me(E,ArrayBuffer))return E.byteLength;if("string"!=typeof E)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);var R=E.length,x=arguments.length>2&&!0===arguments[2];if(!x&&0===R)return 0;for(var ue=!1;;)switch(_){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return xt(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*R;case"hex":return R>>>1;case"base64":return $e(E).length;default:if(ue)return x?-1:xt(E).length;_=(""+_).toLowerCase(),ue=!0}}function W(E,_,R){var x=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===R||R>this.length)&&(R=this.length),R<=0)||(R>>>=0)<=(_>>>=0))return"";for(E||(E="utf8");;)switch(E){case"hex":return Ke(this,_,R);case"utf8":case"utf-8":return ot(this,_,R);case"ascii":return Nt(this,_,R);case"latin1":case"binary":return He(this,_,R);case"base64":return qe(this,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,_,R);default:if(x)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),x=!0}}function ne(E,_,R){var x=E[_];E[_]=E[R],E[R]=x}function J(E,_,R,x,ue){if(0===E.length)return-1;if("string"==typeof R?(x=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),Ae(R=+R)&&(R=ue?0:E.length-1),R<0&&(R=E.length+R),R>=E.length){if(ue)return-1;R=E.length-1}else if(R<0){if(!ue)return-1;R=0}if("string"==typeof _&&(_=S.from(_,x)),S.isBuffer(_))return 0===_.length?-1:se(E,_,R,x,ue);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ue?Uint8Array.prototype.indexOf.call(E,_,R):Uint8Array.prototype.lastIndexOf.call(E,_,R):se(E,[_],R,x,ue);throw new TypeError("val must be string, number or Buffer")}function se(E,_,R,x,ue){var oe,xe=1,Ye=E.length,Xe=_.length;if(void 0!==x&&("ucs2"===(x=String(x).toLowerCase())||"ucs-2"===x||"utf16le"===x||"utf-16le"===x)){if(E.length<2||_.length<2)return-1;xe=2,Ye/=2,Xe/=2,R/=2}function Le(We,Qe){return 1===xe?We[Qe]:We.readUInt16BE(Qe*xe)}if(ue){var tt=-1;for(oe=R;oe<Ye;oe++)if(Le(E,oe)===Le(_,-1===tt?0:oe-tt)){if(-1===tt&&(tt=oe),oe-tt+1===Xe)return tt*xe}else-1!==tt&&(oe-=oe-tt),tt=-1}else for(R+Xe>Ye&&(R=Ye-Xe),oe=R;oe>=0;oe--){for(var rt=!0,Re=0;Re<Xe;Re++)if(Le(E,oe+Re)!==Le(_,Re)){rt=!1;break}if(rt)return oe}return-1}function H(E,_,R,x){R=Number(R)||0;var ue=E.length-R;x?(x=Number(x))>ue&&(x=ue):x=ue;var oe=_.length;x>oe/2&&(x=oe/2);for(var xe=0;xe<x;++xe){var Ye=parseInt(_.substr(2*xe,2),16);if(Ae(Ye))return xe;E[R+xe]=Ye}return xe}function k(E,_,R,x){return yt(xt(_,E.length-R),E,R,x)}function K(E,_,R,x){return yt(function(ue){for(var oe=[],xe=0;xe<ue.length;++xe)oe.push(255&ue.charCodeAt(xe));return oe}(_),E,R,x)}function de(E,_,R,x){return yt($e(_),E,R,x)}function ce(E,_,R,x){return yt(function(ue,oe){for(var xe,Ye,Le=[],tt=0;tt<ue.length&&!((oe-=2)<0);++tt)Ye=(xe=ue.charCodeAt(tt))>>8,Le.push(xe%256),Le.push(Ye);return Le}(_,E.length-R),E,R,x)}function qe(E,_,R){return ye.fromByteArray(0===_&&R===E.length?E:E.slice(_,R))}function ot(E,_,R){R=Math.min(E.length,R);for(var x=[],ue=_;ue<R;){var oe,xe,Ye,Xe,Le=E[ue],tt=null,rt=Le>239?4:Le>223?3:Le>191?2:1;if(ue+rt<=R)switch(rt){case 1:Le<128&&(tt=Le);break;case 2:128==(192&(oe=E[ue+1]))&&(Xe=(31&Le)<<6|63&oe)>127&&(tt=Xe);break;case 3:xe=E[ue+2],128==(192&(oe=E[ue+1]))&&128==(192&xe)&&(Xe=(15&Le)<<12|(63&oe)<<6|63&xe)>2047&&(Xe<55296||Xe>57343)&&(tt=Xe);break;case 4:xe=E[ue+2],Ye=E[ue+3],128==(192&(oe=E[ue+1]))&&128==(192&xe)&&128==(192&Ye)&&(Xe=(15&Le)<<18|(63&oe)<<12|(63&xe)<<6|63&Ye)>65535&&Xe<1114112&&(tt=Xe)}null===tt?(tt=65533,rt=1):tt>65535&&(x.push((tt-=65536)>>>10&1023|55296),tt=56320|1023&tt),x.push(tt),ue+=rt}return function(Re){var We=Re.length;if(We<=pe)return String.fromCharCode.apply(String,Re);for(var Qe="",St=0;St<We;)Qe+=String.fromCharCode.apply(String,Re.slice(St,St+=pe));return Qe}(x)}Ze.kMaxLength=h,(S.TYPED_ARRAY_SUPPORT=function(){try{var E=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(E,_),42===E.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(E,_,R){return g(E,_,R)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(E,_,R){return ue=_,oe=R,C(x=E),x<=0?O(x):void 0!==ue?"string"==typeof oe?O(x).fill(ue,oe):O(x).fill(ue):O(x);var x,ue,oe},S.allocUnsafe=function(E){return M(E)},S.allocUnsafeSlow=function(E){return M(E)},S.isBuffer=function(E){return null!=E&&!0===E._isBuffer&&E!==S.prototype},S.compare=function(E,_){if(me(E,Uint8Array)&&(E=S.from(E,E.offset,E.byteLength)),me(_,Uint8Array)&&(_=S.from(_,_.offset,_.byteLength)),!S.isBuffer(E)||!S.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===_)return 0;for(var R=E.length,x=_.length,ue=0,oe=Math.min(R,x);ue<oe;++ue)if(E[ue]!==_[ue]){R=E[ue],x=_[ue];break}return R<x?-1:x<R?1:0},S.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(E,_){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(0===E.length)return S.alloc(0);var R;if(void 0===_)for(_=0,R=0;R<E.length;++R)_+=E[R].length;var x=S.allocUnsafe(_),ue=0;for(R=0;R<E.length;++R){var oe=E[R];if(me(oe,Uint8Array))ue+oe.length>x.length?S.from(oe).copy(x,ue):Uint8Array.prototype.set.call(x,oe,ue);else{if(!S.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(x,ue)}ue+=oe.length}return x},S.byteLength=q,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<E;_+=2)ne(this,_,_+1);return this},S.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<E;_+=4)ne(this,_,_+3),ne(this,_+1,_+2);return this},S.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<E;_+=8)ne(this,_,_+7),ne(this,_+1,_+6),ne(this,_+2,_+5),ne(this,_+3,_+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){var E=this.length;return 0===E?"":0===arguments.length?ot(this,0,E):W.apply(this,arguments)},S.prototype.equals=function(E){if(!S.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||0===S.compare(this,E)},S.prototype.inspect=function(){var E="",_=Ze.INSPECT_MAX_BYTES;return E=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(E+=" ... "),"<Buffer "+E+">"},f&&(S.prototype[f]=S.prototype.inspect),S.prototype.compare=function(E,_,R,x,ue){if(me(E,Uint8Array)&&(E=S.from(E,E.offset,E.byteLength)),!S.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(void 0===_&&(_=0),void 0===R&&(R=E?E.length:0),void 0===x&&(x=0),void 0===ue&&(ue=this.length),_<0||R>E.length||x<0||ue>this.length)throw new RangeError("out of range index");if(x>=ue&&_>=R)return 0;if(x>=ue)return-1;if(_>=R)return 1;if(this===E)return 0;for(var oe=(ue>>>=0)-(x>>>=0),xe=(R>>>=0)-(_>>>=0),Ye=Math.min(oe,xe),Xe=this.slice(x,ue),Le=E.slice(_,R),tt=0;tt<Ye;++tt)if(Xe[tt]!==Le[tt]){oe=Xe[tt],xe=Le[tt];break}return oe<xe?-1:xe<oe?1:0},S.prototype.includes=function(E,_,R){return-1!==this.indexOf(E,_,R)},S.prototype.indexOf=function(E,_,R){return J(this,E,_,R,!0)},S.prototype.lastIndexOf=function(E,_,R){return J(this,E,_,R,!1)},S.prototype.write=function(E,_,R,x){if(void 0===_)x="utf8",R=this.length,_=0;else if(void 0===R&&"string"==typeof _)x=_,R=this.length,_=0;else{if(!isFinite(_))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_>>>=0,isFinite(R)?(R>>>=0,void 0===x&&(x="utf8")):(x=R,R=void 0)}var ue=this.length-_;if((void 0===R||R>ue)&&(R=ue),E.length>0&&(R<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");for(var oe=!1;;)switch(x){case"hex":return H(this,E,_,R);case"utf8":case"utf-8":return k(this,E,_,R);case"ascii":case"latin1":case"binary":return K(this,E,_,R);case"base64":return de(this,E,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,E,_,R);default:if(oe)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),oe=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var pe=4096;function Nt(E,_,R){var x="";R=Math.min(E.length,R);for(var ue=_;ue<R;++ue)x+=String.fromCharCode(127&E[ue]);return x}function He(E,_,R){var x="";R=Math.min(E.length,R);for(var ue=_;ue<R;++ue)x+=String.fromCharCode(E[ue]);return x}function Ke(E,_,R){var x=E.length;(!_||_<0)&&(_=0),(!R||R<0||R>x)&&(R=x);for(var ue="",oe=_;oe<R;++oe)ue+=at[E[oe]];return ue}function Ne(E,_,R){for(var x=E.slice(_,R),ue="",oe=0;oe<x.length-1;oe+=2)ue+=String.fromCharCode(x[oe]+256*x[oe+1]);return ue}function je(E,_,R){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+_>R)throw new RangeError("Trying to access beyond buffer length")}function it(E,_,R,x,ue,oe){if(!S.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ue||_<oe)throw new RangeError('"value" argument is out of bounds');if(R+x>E.length)throw new RangeError("Index out of range")}function Mt(E,_,R,x,ue,oe){if(R+x>E.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function ut(E,_,R,x,ue){return _=+_,R>>>=0,ue||Mt(E,0,R,4),P.write(E,_,R,x,23,4),R+4}function ke(E,_,R,x,ue){return _=+_,R>>>=0,ue||Mt(E,0,R,8),P.write(E,_,R,x,52,8),R+8}S.prototype.slice=function(E,_){var R=this.length;(E=~~E)<0?(E+=R)<0&&(E=0):E>R&&(E=R),(_=void 0===_?R:~~_)<0?(_+=R)<0&&(_=0):_>R&&(_=R),_<E&&(_=E);var x=this.subarray(E,_);return Object.setPrototypeOf(x,S.prototype),x},S.prototype.readUintLE=S.prototype.readUIntLE=function(E,_,R){E>>>=0,_>>>=0,R||je(E,_,this.length);for(var x=this[E],ue=1,oe=0;++oe<_&&(ue*=256);)x+=this[E+oe]*ue;return x},S.prototype.readUintBE=S.prototype.readUIntBE=function(E,_,R){E>>>=0,_>>>=0,R||je(E,_,this.length);for(var x=this[E+--_],ue=1;_>0&&(ue*=256);)x+=this[E+--_]*ue;return x},S.prototype.readUint8=S.prototype.readUInt8=function(E,_){return E>>>=0,_||je(E,1,this.length),this[E]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(E,_){return E>>>=0,_||je(E,2,this.length),this[E]|this[E+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(E,_){return E>>>=0,_||je(E,2,this.length),this[E]<<8|this[E+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(E,_){return E>>>=0,_||je(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(E,_){return E>>>=0,_||je(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},S.prototype.readIntLE=function(E,_,R){E>>>=0,_>>>=0,R||je(E,_,this.length);for(var x=this[E],ue=1,oe=0;++oe<_&&(ue*=256);)x+=this[E+oe]*ue;return x>=(ue*=128)&&(x-=Math.pow(2,8*_)),x},S.prototype.readIntBE=function(E,_,R){E>>>=0,_>>>=0,R||je(E,_,this.length);for(var x=_,ue=1,oe=this[E+--x];x>0&&(ue*=256);)oe+=this[E+--x]*ue;return oe>=(ue*=128)&&(oe-=Math.pow(2,8*_)),oe},S.prototype.readInt8=function(E,_){return E>>>=0,_||je(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},S.prototype.readInt16LE=function(E,_){E>>>=0,_||je(E,2,this.length);var R=this[E]|this[E+1]<<8;return 32768&R?4294901760|R:R},S.prototype.readInt16BE=function(E,_){E>>>=0,_||je(E,2,this.length);var R=this[E+1]|this[E]<<8;return 32768&R?4294901760|R:R},S.prototype.readInt32LE=function(E,_){return E>>>=0,_||je(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},S.prototype.readInt32BE=function(E,_){return E>>>=0,_||je(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},S.prototype.readFloatLE=function(E,_){return E>>>=0,_||je(E,4,this.length),P.read(this,E,!0,23,4)},S.prototype.readFloatBE=function(E,_){return E>>>=0,_||je(E,4,this.length),P.read(this,E,!1,23,4)},S.prototype.readDoubleLE=function(E,_){return E>>>=0,_||je(E,8,this.length),P.read(this,E,!0,52,8)},S.prototype.readDoubleBE=function(E,_){return E>>>=0,_||je(E,8,this.length),P.read(this,E,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(E,_,R,x){E=+E,_>>>=0,R>>>=0,x||it(this,E,_,R,Math.pow(2,8*R)-1,0);var ue=1,oe=0;for(this[_]=255&E;++oe<R&&(ue*=256);)this[_+oe]=E/ue&255;return _+R},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(E,_,R,x){E=+E,_>>>=0,R>>>=0,x||it(this,E,_,R,Math.pow(2,8*R)-1,0);var ue=R-1,oe=1;for(this[_+ue]=255&E;--ue>=0&&(oe*=256);)this[_+ue]=E/oe&255;return _+R},S.prototype.writeUint8=S.prototype.writeUInt8=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,1,255,0),this[_]=255&E,_+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,2,65535,0),this[_]=255&E,this[_+1]=E>>>8,_+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,2,65535,0),this[_]=E>>>8,this[_+1]=255&E,_+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,4,4294967295,0),this[_+3]=E>>>24,this[_+2]=E>>>16,this[_+1]=E>>>8,this[_]=255&E,_+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,4,4294967295,0),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=255&E,_+4},S.prototype.writeIntLE=function(E,_,R,x){if(E=+E,_>>>=0,!x){var ue=Math.pow(2,8*R-1);it(this,E,_,R,ue-1,-ue)}var oe=0,xe=1,Ye=0;for(this[_]=255&E;++oe<R&&(xe*=256);)E<0&&0===Ye&&0!==this[_+oe-1]&&(Ye=1),this[_+oe]=(E/xe>>0)-Ye&255;return _+R},S.prototype.writeIntBE=function(E,_,R,x){if(E=+E,_>>>=0,!x){var ue=Math.pow(2,8*R-1);it(this,E,_,R,ue-1,-ue)}var oe=R-1,xe=1,Ye=0;for(this[_+oe]=255&E;--oe>=0&&(xe*=256);)E<0&&0===Ye&&0!==this[_+oe+1]&&(Ye=1),this[_+oe]=(E/xe>>0)-Ye&255;return _+R},S.prototype.writeInt8=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,1,127,-128),E<0&&(E=255+E+1),this[_]=255&E,_+1},S.prototype.writeInt16LE=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,2,32767,-32768),this[_]=255&E,this[_+1]=E>>>8,_+2},S.prototype.writeInt16BE=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,2,32767,-32768),this[_]=E>>>8,this[_+1]=255&E,_+2},S.prototype.writeInt32LE=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,4,2147483647,-2147483648),this[_]=255&E,this[_+1]=E>>>8,this[_+2]=E>>>16,this[_+3]=E>>>24,_+4},S.prototype.writeInt32BE=function(E,_,R){return E=+E,_>>>=0,R||it(this,E,_,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=255&E,_+4},S.prototype.writeFloatLE=function(E,_,R){return ut(this,E,_,!0,R)},S.prototype.writeFloatBE=function(E,_,R){return ut(this,E,_,!1,R)},S.prototype.writeDoubleLE=function(E,_,R){return ke(this,E,_,!0,R)},S.prototype.writeDoubleBE=function(E,_,R){return ke(this,E,_,!1,R)},S.prototype.copy=function(E,_,R,x){if(!S.isBuffer(E))throw new TypeError("argument should be a Buffer");if(R||(R=0),x||0===x||(x=this.length),_>=E.length&&(_=E.length),_||(_=0),x>0&&x<R&&(x=R),x===R||0===E.length||0===this.length)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),E.length-_<x-R&&(x=E.length-_+R);var ue=x-R;return this===E&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(_,R,x):Uint8Array.prototype.set.call(E,this.subarray(R,x),_),ue},S.prototype.fill=function(E,_,R,x){if("string"==typeof E){if("string"==typeof _?(x=_,_=0,R=this.length):"string"==typeof R&&(x=R,R=this.length),void 0!==x&&"string"!=typeof x)throw new TypeError("encoding must be a string");if("string"==typeof x&&!S.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(1===E.length){var ue=E.charCodeAt(0);("utf8"===x&&ue<128||"latin1"===x)&&(E=ue)}}else"number"==typeof E?E&=255:"boolean"==typeof E&&(E=Number(E));if(_<0||this.length<_||this.length<R)throw new RangeError("Out of range index");if(R<=_)return this;var oe;if(_>>>=0,R=void 0===R?this.length:R>>>0,E||(E=0),"number"==typeof E)for(oe=_;oe<R;++oe)this[oe]=E;else{var xe=S.isBuffer(E)?E:S.from(E,x),Ye=xe.length;if(0===Ye)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(oe=0;oe<R-_;++oe)this[oe+_]=xe[oe%Ye]}return this};var _t=/[^+/0-9A-Za-z-_]/g;function xt(E,_){var R;_=_||1/0;for(var x=E.length,ue=null,oe=[],xe=0;xe<x;++xe){if((R=E.charCodeAt(xe))>55295&&R<57344){if(!ue){if(R>56319){(_-=3)>-1&&oe.push(239,191,189);continue}if(xe+1===x){(_-=3)>-1&&oe.push(239,191,189);continue}ue=R;continue}if(R<56320){(_-=3)>-1&&oe.push(239,191,189),ue=R;continue}R=65536+(ue-55296<<10|R-56320)}else ue&&(_-=3)>-1&&oe.push(239,191,189);if(ue=null,R<128){if((_-=1)<0)break;oe.push(R)}else if(R<2048){if((_-=2)<0)break;oe.push(R>>6|192,63&R|128)}else if(R<65536){if((_-=3)<0)break;oe.push(R>>12|224,R>>6&63|128,63&R|128)}else{if(!(R<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;oe.push(R>>18|240,R>>12&63|128,R>>6&63|128,63&R|128)}}return oe}function $e(E){return ye.toByteArray(function(_){if((_=(_=_.split("=")[0]).trim().replace(_t,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}(E))}function yt(E,_,R,x){for(var ue=0;ue<x&&!(ue+R>=_.length||ue>=E.length);++ue)_[ue+R]=E[ue];return ue}function me(E,_){return E instanceof _||null!=E&&null!=E.constructor&&null!=E.constructor.name&&E.constructor.name===_.name}function Ae(E){return E!=E}var at=function(){for(var E="0123456789abcdef",_=new Array(256),R=0;R<16;++R)for(var x=16*R,ue=0;ue<16;++ue)_[x+ue]=E[R]+E[ue];return _}()},6693:(At,Ze)=>{"use strict";Ze.byteLength=function(C){var M=S(C),y=M[1];return 3*(M[0]+y)/4-y},Ze.toByteArray=function(C){var M,p,k,y=S(C),T=y[0],q=y[1],W=new P(3*(T+(k=q))/4-k),ne=0,J=q>0?T-4:T;for(p=0;p<J;p+=4)M=ye[C.charCodeAt(p)]<<18|ye[C.charCodeAt(p+1)]<<12|ye[C.charCodeAt(p+2)]<<6|ye[C.charCodeAt(p+3)],W[ne++]=M>>16&255,W[ne++]=M>>8&255,W[ne++]=255&M;return 2===q&&(M=ye[C.charCodeAt(p)]<<2|ye[C.charCodeAt(p+1)]>>4,W[ne++]=255&M),1===q&&(M=ye[C.charCodeAt(p)]<<10|ye[C.charCodeAt(p+1)]<<4|ye[C.charCodeAt(p+2)]>>2,W[ne++]=M>>8&255,W[ne++]=255&M),W},Ze.fromByteArray=function(C){for(var M,p=C.length,y=p%3,T=[],q=16383,W=0,ne=p-y;W<ne;W+=q)T.push(g(C,W,W+q>ne?ne:W+q));return 1===y?T.push(F[(M=C[p-1])>>2]+F[M<<4&63]+"=="):2===y&&T.push(F[(M=(C[p-2]<<8)+C[p-1])>>10]+F[M>>4&63]+F[M<<2&63]+"="),T.join("")};for(var F=[],ye=[],P=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0;h<64;++h)F[h]=f[h],ye[f.charCodeAt(h)]=h;function S(C){var M=C.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=C.indexOf("=");return-1===p&&(p=M),[p,p===M?0:4-p%4]}function g(C,M,p){for(var T,q=[],W=M;W<p;W+=3)q.push(F[(T=(C[W]<<16&16711680)+(C[W+1]<<8&65280)+(255&C[W+2]))>>18&63]+F[T>>12&63]+F[T>>6&63]+F[63&T]);return q.join("")}ye["-".charCodeAt(0)]=62,ye["_".charCodeAt(0)]=63},2165:(At,Ze)=>{Ze.read=function(F,ye,P,f,h){var O,S,g=8*h-f-1,C=(1<<g)-1,M=C>>1,p=-7,y=P?h-1:0,T=P?-1:1,q=F[ye+y];for(y+=T,O=q&(1<<-p)-1,q>>=-p,p+=g;p>0;O=256*O+F[ye+y],y+=T,p-=8);for(S=O&(1<<-p)-1,O>>=-p,p+=f;p>0;S=256*S+F[ye+y],y+=T,p-=8);if(0===O)O=1-M;else{if(O===C)return S?NaN:1/0*(q?-1:1);S+=Math.pow(2,f),O-=M}return(q?-1:1)*S*Math.pow(2,O-f)},Ze.write=function(F,ye,P,f,h,O){var S,g,C,M=8*O-h-1,p=(1<<M)-1,y=p>>1,T=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,q=f?0:O-1,W=f?1:-1,ne=ye<0||0===ye&&1/ye<0?1:0;for(ye=Math.abs(ye),isNaN(ye)||ye===1/0?(g=isNaN(ye)?1:0,S=p):(S=Math.floor(Math.log(ye)/Math.LN2),ye*(C=Math.pow(2,-S))<1&&(S--,C*=2),(ye+=S+y>=1?T/C:T*Math.pow(2,1-y))*C>=2&&(S++,C/=2),S+y>=p?(g=0,S=p):S+y>=1?(g=(ye*C-1)*Math.pow(2,h),S+=y):(g=ye*Math.pow(2,y-1)*Math.pow(2,h),S=0));h>=8;F[P+q]=255&g,q+=W,g/=256,h-=8);for(S=S<<h|g,M+=h;M>0;F[P+q]=255&S,q+=W,S/=256,M-=8);F[P+q-W]|=128*ne}},6934:(At,Ze)=>{var F={parseBuffer:function(f){return new ye(f).parse()},addBoxProcessor:function(f,h){"string"==typeof f&&"function"==typeof h&&(P.prototype._boxProcessors[f]=h)},createFile:function(){return new ye},createBox:function(f,h,O){var S=P.create(f);return h&&h.append(S,O),S},createFullBox:function(f,h,O){var S=F.createBox(f,h,O);return S.version=0,S.flags=0,S},Utils:{}};F.Utils.dataViewToString=function(f,h){var O=h||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(O).decode(f);var S=[],g=0;if("utf-8"===O)for(;g<f.byteLength;){var C=f.getUint8(g++);C<128||(C<224?(C=(31&C)<<6,C|=63&f.getUint8(g++)):C<240?(C=(15&C)<<12,C|=(63&f.getUint8(g++))<<6,C|=63&f.getUint8(g++)):(C=(7&C)<<18,C|=(63&f.getUint8(g++))<<12,C|=(63&f.getUint8(g++))<<6,C|=63&f.getUint8(g++))),S.push(String.fromCharCode(C))}else for(;g<f.byteLength;)S.push(String.fromCharCode(f.getUint8(g++)));return S.join("")},F.Utils.utf8ToByteArray=function(f){var h,O;if(typeof TextEncoder<"u")h=(new TextEncoder).encode(f);else for(h=[],O=0;O<f.length;++O){var S=f.charCodeAt(O);S<128?h.push(S):S<2048?(h.push(192|S>>6),h.push(128|63&S)):S<65536?(h.push(224|S>>12),h.push(128|63&S>>6),h.push(128|63&S)):(h.push(240|S>>18),h.push(128|63&S>>12),h.push(128|63&S>>6),h.push(128|63&S))}return h},F.Utils.appendBox=function(f,h,O){if(h._offset=f._cursor.offset,h._root=f._root?f._root:f,h._raw=f._raw,h._parent=f,-1!==O)if(null!=O){var S,g=-1;if("number"==typeof O)g=O;else{if("string"==typeof O)S=O;else{if("object"!=typeof O||!O.type)return void f.boxes.push(h);S=O.type}for(var C=0;C<f.boxes.length;C++)if(S===f.boxes[C].type){g=C+1;break}}f.boxes.splice(g,0,h)}else f.boxes.push(h)},Ze.parseBuffer=F.parseBuffer,Ze.addBoxProcessor=F.addBoxProcessor,Ze.createFile=F.createFile,Ze.createBox=F.createBox,Ze.createFullBox=F.createFullBox,Ze.Utils=F.Utils,F.Cursor=function(f){this.offset=void 0===f?0:f};var ye=function(f){this._cursor=new F.Cursor,this.boxes=[],f&&(this._raw=new DataView(f))};ye.prototype.fetch=function(f){var h=this.fetchAll(f,!0);return h.length?h[0]:null},ye.prototype.fetchAll=function(f,h){var O=[];return ye._sweep.call(this,f,O,h),O},ye.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var f=P.parse(this);if(void 0===f.type)break;this.boxes.push(f)}return this},ye._sweep=function(f,h,O){for(var S in this.type&&this.type==f&&h.push(this),this.boxes){if(h.length&&O)return;ye._sweep.call(this.boxes[S],f,h,O)}},ye.prototype.write=function(){var f,h=0;for(f=0;f<this.boxes.length;f++)h+=this.boxes[f].getLength(!1);var O=new Uint8Array(h);for(this._rawo=new DataView(O.buffer),this.bytes=O,this._cursor.offset=0,f=0;f<this.boxes.length;f++)this.boxes[f].write();return O.buffer},ye.prototype.append=function(f,h){F.Utils.appendBox(this,f,h)};var P=function(){this._cursor=new F.Cursor};P.parse=function(f){var h=new P;return h._offset=f._cursor.offset,h._root=f._root?f._root:f,h._raw=f._raw,h._parent=f,h._parseBox(),f._cursor.offset=h._raw.byteOffset+h._raw.byteLength,h},P.create=function(f){var h=new P;return h.type=f,h.boxes=[],h},P.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],P.prototype._boxProcessors={},P.prototype._procField=function(f,h,O){this._parsing?this[f]=this._readField(h,O):this._writeField(h,O,this[f])},P.prototype._procFieldArray=function(f,h,O,S){var g;if(this._parsing)for(this[f]=[],g=0;g<h;g++)this[f][g]=this._readField(O,S);else for(g=0;g<this[f].length;g++)this._writeField(O,S,this[f][g])},P.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},P.prototype._procEntries=function(f,h,O){var S;if(this._parsing)for(this[f]=[],S=0;S<h;S++)this[f].push({}),O.call(this,this[f][S]);else for(S=0;S<h;S++)O.call(this,this[f][S])},P.prototype._procSubEntries=function(f,h,O,S){var g;if(this._parsing)for(f[h]=[],g=0;g<O;g++)f[h].push({}),S.call(this,f[h][g]);else for(g=0;g<O;g++)S.call(this,f[h][g])},P.prototype._procEntryField=function(f,h,O,S){this._parsing?f[h]=this._readField(O,S):this._writeField(O,S,f[h])},P.prototype._procSubBoxes=function(f,h){var O;if(this._parsing)for(this[f]=[],O=0;O<h;O++)this[f].push(P.parse(this));else for(O=0;O<h;O++)this._rawo?this[f][O].write():this.size+=this[f][O].getLength()},P.prototype._readField=function(f,h){switch(f){case"uint":return this._readUint(h);case"int":return this._readInt(h);case"template":return this._readTemplate(h);case"string":return-1===h?this._readTerminatedString():this._readString(h);case"data":return this._readData(h);case"utf8":return this._readUTF8String();default:return-1}},P.prototype._readInt=function(f){var h=null,O=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:h=this._raw.getInt8(O);break;case 16:h=this._raw.getInt16(O);break;case 32:h=this._raw.getInt32(O);break;case 64:var S=this._raw.getInt32(O),g=this._raw.getInt32(O+4);h=S*Math.pow(2,32)+g}return this._cursor.offset+=f>>3,h},P.prototype._readUint=function(f){var h,O,S=null,g=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:S=this._raw.getUint8(g);break;case 16:S=this._raw.getUint16(g);break;case 24:S=((h=this._raw.getUint16(g))<<8)+(O=this._raw.getUint8(g+2));break;case 32:S=this._raw.getUint32(g);break;case 64:h=this._raw.getUint32(g),O=this._raw.getUint32(g+4),S=h*Math.pow(2,32)+O}return this._cursor.offset+=f>>3,S},P.prototype._readString=function(f){for(var h="",O=0;O<f;O++){var S=this._readUint(8);h+=String.fromCharCode(S)}return h},P.prototype._readTemplate=function(f){return this._readUint(f/2)+this._readUint(f/2)/Math.pow(2,f/2)},P.prototype._readTerminatedString=function(){for(var f="";this._cursor.offset-this._offset<this._raw.byteLength;){var h=this._readUint(8);if(0===h)break;f+=String.fromCharCode(h)}return f},P.prototype._readData=function(f){var h=f>0?f:this._raw.byteLength-(this._cursor.offset-this._offset);if(h>0){var O=new Uint8Array(this._raw.buffer,this._cursor.offset,h);return this._cursor.offset+=h,O}return null},P.prototype._readUTF8String=function(){var f=this._raw.byteLength-(this._cursor.offset-this._offset),h=null;return f>0&&(h=new DataView(this._raw.buffer,this._cursor.offset,f),this._cursor.offset+=f),h&&F.Utils.dataViewToString(h)},P.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},P.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},P.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(P.parse(this))},P.prototype.append=function(f,h){F.Utils.appendBox(this,f,h)},P.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var f=0;f<this.boxes.length;f++)this.size+=this.boxes[f].getLength();return this._data&&this._writeData(this._data),this.size},P.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var f=0;f<this.boxes.length;f++)this.boxes[f].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},P.prototype._writeInt=function(f,h){if(this._rawo){var O=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setInt8(O,h);break;case 16:this._rawo.setInt16(O,h);break;case 32:this._rawo.setInt32(O,h);break;case 64:var S=Math.floor(h/Math.pow(2,32)),g=h-S*Math.pow(2,32);this._rawo.setUint32(O,S),this._rawo.setUint32(O+4,g)}this._cursor.offset+=f>>3}else this.size+=f>>3},P.prototype._writeUint=function(f,h){if(this._rawo){var O,S,g=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setUint8(g,h);break;case 16:this._rawo.setUint16(g,h);break;case 24:S=255&h,this._rawo.setUint16(g,O=(16776960&h)>>8),this._rawo.setUint8(g+2,S);break;case 32:this._rawo.setUint32(g,h);break;case 64:S=h-(O=Math.floor(h/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(g,O),this._rawo.setUint32(g+4,S)}this._cursor.offset+=f>>3}else this.size+=f>>3},P.prototype._writeString=function(f,h){for(var O=0;O<f;O++)this._writeUint(8,h.charCodeAt(O))},P.prototype._writeTerminatedString=function(f){if(0!==f.length){for(var h=0;h<f.length;h++)this._writeUint(8,f.charCodeAt(h));this._writeUint(8,0)}},P.prototype._writeTemplate=function(f,h){var O=Math.floor(h),S=(h-O)*Math.pow(2,f/2);this._writeUint(f/2,O),this._writeUint(f/2,S)},P.prototype._writeData=function(f){if(f)if(this._rawo){if(f instanceof Array){for(var h=this._cursor.offset-this._rawo.byteOffset,O=0;O<f.length;O++)this._rawo.setInt8(h+O,f[O]);this._cursor.offset+=f.length}f instanceof Uint8Array&&(this._root.bytes.set(f,this._cursor.offset),this._cursor.offset+=f.length)}else this.size+=f.length},P.prototype._writeUTF8String=function(f){var h=F.Utils.utf8ToByteArray(f);if(this._rawo)for(var O=new DataView(this._rawo.buffer,this._cursor.offset,h.length),S=0;S<h.length;S++)O.setUint8(S,h[S]);else this.size+=h.length},P.prototype._writeField=function(f,h,O){switch(f){case"uint":this._writeUint(h,O);break;case"int":this._writeInt(h,O);break;case"template":this._writeTemplate(h,O);break;case"string":-1==h?this._writeTerminatedString(O):this._writeString(h,O);break;case"data":this._writeData(O);break;case"utf8":this._writeUTF8String(O)}},P.prototype._boxProcessors.avc1=P.prototype._boxProcessors.avc2=P.prototype._boxProcessors.avc3=P.prototype._boxProcessors.avc4=P.prototype._boxProcessors.hvc1=P.prototype._boxProcessors.hev1=P.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},P.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_count","uint",32),this._procEntryField(f,"sample_offset",1===this.version?"int":"uint",32)})},P.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},P.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"segment_duration","uint",1===this.version?64:32),this._procEntryField(f,"media_time","int",1===this.version?64:32),this._procEntryField(f,"media_rate_integer","int",16),this._procEntryField(f,"media_rate_fraction","int",16)})},P.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},P.prototype._boxProcessors.free=P.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},P.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},P.prototype._boxProcessors.ftyp=P.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var f=-1;this._parsing&&(f=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",f,"string",4)},P.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},P.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},P.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},P.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},P.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},P.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},P.prototype._boxProcessors.mp4a=P.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},P.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},P.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},P.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},P.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},P.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},P.prototype._boxProcessors.sdtp=function(){this._procFullBox();var f=-1;this._parsing&&(f=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",f,"uint",8)},P.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(f){this._parsing||(f.reference=(1&f.reference_type)<<31,f.reference|=2147483647&f.referenced_size,f.sap=(1&f.starts_with_SAP)<<31,f.sap|=(3&f.SAP_type)<<28,f.sap|=268435455&f.SAP_delta_time),this._procEntryField(f,"reference","uint",32),this._procEntryField(f,"subsegment_duration","uint",32),this._procEntryField(f,"sap","uint",32),this._parsing&&(f.reference_type=f.reference>>31&1,f.referenced_size=2147483647&f.reference,f.starts_with_SAP=f.sap>>31&1,f.SAP_type=f.sap>>28&7,f.SAP_delta_time=268435455&f.sap)})},P.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},P.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(f){this._procEntryField(f,"ranges_count","uint",32),this._procSubEntries(f,"ranges",f.ranges_count,function(h){this._procEntryField(h,"level","uint",8),this._procEntryField(h,"range_size","uint",24)})})},P.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},P.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},P.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_count","uint",32),this._procEntryField(f,"sample_delta","uint",32)})},P.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_delta","uint",32),this._procEntryField(f,"subsample_count","uint",16),this._procSubEntries(f,"subsamples",f.subsample_count,function(h){this._procEntryField(h,"subsample_size","uint",1===this.version?32:16),this._procEntryField(h,"subsample_priority","uint",8),this._procEntryField(h,"discardable","uint",8),this._procEntryField(h,"codec_specific_parameters","uint",32)})})},P.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},P.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},P.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},P.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(f){this._procEntryField(f,"time","uint",1===this.version?64:32),this._procEntryField(f,"moof_offset","uint",1===this.version?64:32),this._procEntryField(f,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(f,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(f,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},P.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},P.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},P.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(f){256&this.flags&&this._procEntryField(f,"sample_duration","uint",32),512&this.flags&&this._procEntryField(f,"sample_size","uint",32),1024&this.flags&&this._procEntryField(f,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(f,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},P.prototype._boxProcessors["url "]=P.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},P.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},P.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},P.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},P.prototype._boxProcessors.vtte=function(){}},5530:(At,Ze,F)=>{"use strict";At.exports=F(6146).polyfill()},6146:function(At,Ze,F){At.exports=function(){"use strict";function ye($e){return"function"==typeof $e}var P=Array.isArray?Array.isArray:function($e){return"[object Array]"===Object.prototype.toString.call($e)},f=0,h=void 0,O=void 0,S=function($e,yt){q[f]=$e,q[f+1]=yt,2===(f+=2)&&(O?O(W):k())},g=typeof window<"u"?window:void 0,C=g||{},M=C.MutationObserver||C.WebKitMutationObserver,p=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),y=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){var $e=setTimeout;return function(){return $e(W,1)}}var q=new Array(1e3);function W(){for(var $e=0;$e<f;$e+=2)(0,q[$e])(q[$e+1]),q[$e]=void 0,q[$e+1]=void 0;f=0}var ne,J,se,H,k=void 0;function K($e,yt){var me=this,Ae=new this.constructor(qe);void 0===Ae[ce]&&ke(Ae);var at=me._state;if(at){var E=arguments[at-1];S(function(){return Mt(at,Ae,E,me._result)})}else je(me,Ae,$e,yt);return Ae}function de($e){if($e&&"object"==typeof $e&&$e.constructor===this)return $e;var yt=new this(qe);return Nt(yt,$e),yt}k=p?function(){return process.nextTick(W)}:M?(J=0,se=new M(W),H=document.createTextNode(""),se.observe(H,{characterData:!0}),function(){H.data=J=++J%2}):y?((ne=new MessageChannel).port1.onmessage=W,function(){return ne.port2.postMessage(0)}):void 0===g?function(){try{var $e=Function("return this")().require("vertx");return void 0!==(h=$e.runOnLoop||$e.runOnContext)?function(){h(W)}:T()}catch{return T()}}():T();var ce=Math.random().toString(36).substring(2);function qe(){}var ot=void 0;function pe($e,yt,me){var Ae,at;yt.constructor===$e.constructor&&me===K&&yt.constructor.resolve===de?(Ae=$e,1===(at=yt)._state?Ke(Ae,at._result):2===at._state?Ne(Ae,at._result):je(at,void 0,function(E){return Nt(Ae,E)},function(E){return Ne(Ae,E)})):void 0===me?Ke($e,yt):ye(me)?function(Ae,at,E){S(function(_){var R=!1,x=function(ue,oe,xe,Ye){try{ue.call(oe,function(ue){R||(R=!0,at!==ue?Nt(_,ue):Ke(_,ue))},function(ue){R||(R=!0,Ne(_,ue))})}catch(Xe){return Xe}}(E,at);!R&&x&&(R=!0,Ne(_,x))},Ae)}($e,yt,me):Ke($e,yt)}function Nt($e,yt){if($e===yt)Ne($e,new TypeError("You cannot resolve a promise with itself"));else if(at=typeof(Ae=yt),null===Ae||"object"!==at&&"function"!==at)Ke($e,yt);else{var me=void 0;try{me=yt.then}catch(E){return void Ne($e,E)}pe($e,yt,me)}var Ae,at}function He($e){$e._onerror&&$e._onerror($e._result),it($e)}function Ke($e,yt){$e._state===ot&&($e._result=yt,$e._state=1,0!==$e._subscribers.length&&S(it,$e))}function Ne($e,yt){$e._state===ot&&($e._state=2,$e._result=yt,S(He,$e))}function je($e,yt,me,Ae){var at=$e._subscribers,E=at.length;$e._onerror=null,at[E]=yt,at[E+1]=me,at[E+2]=Ae,0===E&&$e._state&&S(it,$e)}function it($e){var yt=$e._subscribers,me=$e._state;if(0!==yt.length){for(var Ae=void 0,at=void 0,E=$e._result,_=0;_<yt.length;_+=3)at=yt[_+me],(Ae=yt[_])?Mt(me,Ae,at,E):at(E);$e._subscribers.length=0}}function Mt($e,yt,me,Ae){var at=ye(me),E=void 0,_=void 0,R=!0;if(at){try{E=me(Ae)}catch(x){R=!1,_=x}if(yt===E)return void Ne(yt,new TypeError("A promises callback cannot return that same promise."))}else E=Ae;yt._state!==ot||(at&&R?Nt(yt,E):!1===R?Ne(yt,_):1===$e?Ke(yt,E):2===$e&&Ne(yt,E))}var ut=0;function ke($e){$e[ce]=ut++,$e._state=void 0,$e._result=void 0,$e._subscribers=[]}var _t=function(){function $e(yt,me){this._instanceConstructor=yt,this.promise=new yt(qe),this.promise[ce]||ke(this.promise),P(me)?(this.length=me.length,this._remaining=me.length,this._result=new Array(this.length),0===this.length?Ke(this.promise,this._result):(this.length=this.length||0,this._enumerate(me),0===this._remaining&&Ke(this.promise,this._result))):Ne(this.promise,new Error("Array Methods must be provided an Array"))}return $e.prototype._enumerate=function(yt){for(var me=0;this._state===ot&&me<yt.length;me++)this._eachEntry(yt[me],me)},$e.prototype._eachEntry=function(yt,me){var Ae=this._instanceConstructor,at=Ae.resolve;if(at===de){var E=void 0,_=void 0,R=!1;try{E=yt.then}catch(ue){R=!0,_=ue}if(E===K&&yt._state!==ot)this._settledAt(yt._state,me,yt._result);else if("function"!=typeof E)this._remaining--,this._result[me]=yt;else if(Ae===xt){var x=new Ae(qe);R?Ne(x,_):pe(x,yt,E),this._willSettleAt(x,me)}else this._willSettleAt(new Ae(function(ue){return ue(yt)}),me)}else this._willSettleAt(at(yt),me)},$e.prototype._settledAt=function(yt,me,Ae){var at=this.promise;at._state===ot&&(this._remaining--,2===yt?Ne(at,Ae):this._result[me]=Ae),0===this._remaining&&Ke(at,this._result)},$e.prototype._willSettleAt=function(yt,me){var Ae=this;je(yt,void 0,function(at){return Ae._settledAt(1,me,at)},function(at){return Ae._settledAt(2,me,at)})},$e}(),xt=function(){function $e(yt){this[ce]=ut++,this._result=this._state=void 0,this._subscribers=[],qe!==yt&&("function"!=typeof yt&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof $e?function(me,Ae){try{Ae(function(at){Nt(me,at)},function(at){Ne(me,at)})}catch(at){Ne(me,at)}}(this,yt):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return $e.prototype.catch=function(yt){return this.then(null,yt)},$e.prototype.finally=function(yt){var Ae=this.constructor;return ye(yt)?this.then(function(at){return Ae.resolve(yt()).then(function(){return at})},function(at){return Ae.resolve(yt()).then(function(){throw at})}):this.then(yt,yt)},$e}();return xt.prototype.then=K,xt.all=function($e){return new _t(this,$e).promise},xt.race=function($e){var yt=this;return P($e)?new yt(function(me,Ae){for(var at=$e.length,E=0;E<at;E++)yt.resolve($e[E]).then(me,Ae)}):new yt(function(me,Ae){return Ae(new TypeError("You must pass an array to race."))})},xt.resolve=de,xt.reject=function($e){var yt=new this(qe);return Ne(yt,$e),yt},xt._setScheduler=function($e){O=$e},xt._setAsap=function($e){S=$e},xt._asap=S,xt.polyfill=function(){var $e=void 0;if(void 0!==F.g)$e=F.g;else if(typeof self<"u")$e=self;else try{$e=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var yt=$e.Promise;if(yt){var me=null;try{me=Object.prototype.toString.call(yt.resolve())}catch{}if("[object Promise]"===me&&!yt.cast)return}$e.Promise=xt},xt.Promise=xt,xt}()},1159:At=>{"use strict";var Ze,F="object"==typeof Reflect?Reflect:null,ye=F&&"function"==typeof F.apply?F.apply:function(W,ne,J){return Function.prototype.apply.call(W,ne,J)};Ze=F&&"function"==typeof F.ownKeys?F.ownKeys:Object.getOwnPropertySymbols?function(W){return Object.getOwnPropertyNames(W).concat(Object.getOwnPropertySymbols(W))}:function(W){return Object.getOwnPropertyNames(W)};var P=Number.isNaN||function(W){return W!=W};function f(){f.init.call(this)}At.exports=f,At.exports.once=function(W,ne){return new Promise(function(J,se){function H(K){W.removeListener(ne,k),se(K)}function k(){"function"==typeof W.removeListener&&W.removeListener("error",H),J([].slice.call(arguments))}var K;q(W,ne,k,{once:!0}),"error"!==ne&&"function"==typeof(K=W).on&&q(K,"error",H,{once:!0})})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var h=10;function O(W){if("function"!=typeof W)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}function S(W){return void 0===W._maxListeners?f.defaultMaxListeners:W._maxListeners}function g(W,ne,J,se){var H,k,K;if(O(J),void 0===(k=W._events)?(k=W._events=Object.create(null),W._eventsCount=0):(void 0!==k.newListener&&(W.emit("newListener",ne,J.listener?J.listener:J),k=W._events),K=k[ne]),void 0===K)K=k[ne]=J,++W._eventsCount;else if("function"==typeof K?K=k[ne]=se?[J,K]:[K,J]:se?K.unshift(J):K.push(J),(H=S(W))>0&&K.length>H&&!K.warned){K.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(ne)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=W,ce.type=ne,ce.count=K.length,console&&console.warn&&console.warn(ce)}return W}function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(W,ne,J){var se={fired:!1,wrapFn:void 0,target:W,type:ne,listener:J},H=C.bind(se);return H.listener=J,se.wrapFn=H,H}function p(W,ne,J){var se=W._events;if(void 0===se)return[];var H=se[ne];return void 0===H?[]:"function"==typeof H?J?[H.listener||H]:[H]:J?function(k){for(var K=new Array(k.length),de=0;de<K.length;++de)K[de]=k[de].listener||k[de];return K}(H):T(H,H.length)}function y(W){var ne=this._events;if(void 0!==ne){var J=ne[W];if("function"==typeof J)return 1;if(void 0!==J)return J.length}return 0}function T(W,ne){for(var J=new Array(ne),se=0;se<ne;++se)J[se]=W[se];return J}function q(W,ne,J,se){if("function"==typeof W.on)se.once?W.once(ne,J):W.on(ne,J);else{if("function"!=typeof W.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W);W.addEventListener(ne,function H(k){se.once&&W.removeEventListener(ne,H),J(k)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(W){if("number"!=typeof W||W<0||P(W))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+W+".");h=W}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(W){if("number"!=typeof W||W<0||P(W))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+W+".");return this._maxListeners=W,this},f.prototype.getMaxListeners=function(){return S(this)},f.prototype.emit=function(W){for(var ne=[],J=1;J<arguments.length;J++)ne.push(arguments[J]);var se="error"===W,H=this._events;if(void 0!==H)se=se&&void 0===H.error;else if(!se)return!1;if(se){var k;if(ne.length>0&&(k=ne[0]),k instanceof Error)throw k;var K=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw K.context=k,K}var de=H[W];if(void 0===de)return!1;if("function"==typeof de)ye(de,this,ne);else{var ce=de.length,qe=T(de,ce);for(J=0;J<ce;++J)ye(qe[J],this,ne)}return!0},f.prototype.on=f.prototype.addListener=function(W,ne){return g(this,W,ne,!1)},f.prototype.prependListener=function(W,ne){return g(this,W,ne,!0)},f.prototype.once=function(W,ne){return O(ne),this.on(W,M(this,W,ne)),this},f.prototype.prependOnceListener=function(W,ne){return O(ne),this.prependListener(W,M(this,W,ne)),this},f.prototype.off=f.prototype.removeListener=function(W,ne){var J,se,H,k,K;if(O(ne),void 0===(se=this._events))return this;if(void 0===(J=se[W]))return this;if(J===ne||J.listener===ne)0==--this._eventsCount?this._events=Object.create(null):(delete se[W],se.removeListener&&this.emit("removeListener",W,J.listener||ne));else if("function"!=typeof J){for(H=-1,k=J.length-1;k>=0;k--)if(J[k]===ne||J[k].listener===ne){K=J[k].listener,H=k;break}if(H<0)return this;0===H?J.shift():function(de,ce){for(;ce+1<de.length;ce++)de[ce]=de[ce+1];de.pop()}(J,H),1===J.length&&(se[W]=J[0]),void 0!==se.removeListener&&this.emit("removeListener",W,K||ne)}return this},f.prototype.removeAllListeners=function(W){var ne,J,se;if(void 0===(J=this._events))return this;if(void 0===J.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==J[W]&&(0==--this._eventsCount?this._events=Object.create(null):delete J[W]),this;if(0===arguments.length){var H,k=Object.keys(J);for(se=0;se<k.length;++se)"removeListener"!==(H=k[se])&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ne=J[W]))this.removeListener(W,ne);else if(void 0!==ne)for(se=ne.length-1;se>=0;se--)this.removeListener(W,ne[se]);return this},f.prototype.listeners=function(W){return p(this,W,!0)},f.prototype.rawListeners=function(W){return p(this,W,!1)},f.listenerCount=function(W,ne){return"function"==typeof W.listenerCount?W.listenerCount(ne):y.call(W,ne)},f.prototype.listenerCount=y,f.prototype.eventNames=function(){return this._eventsCount>0?Ze(this._events):[]}},3101:At=>{"use strict";var Ze=Array.isArray,F=Object.keys,ye=Object.prototype.hasOwnProperty;At.exports=function P(f,h){if(f===h)return!0;if(f&&h&&"object"==typeof f&&"object"==typeof h){var O,S,g,C=Ze(f),M=Ze(h);if(C&&M){if((S=f.length)!=h.length)return!1;for(O=S;0!=O--;)if(!P(f[O],h[O]))return!1;return!0}if(C!=M)return!1;var p=f instanceof Date,y=h instanceof Date;if(p!=y)return!1;if(p&&y)return f.getTime()==h.getTime();var T=f instanceof RegExp,q=h instanceof RegExp;if(T!=q)return!1;if(T&&q)return f.toString()==h.toString();var W=F(f);if((S=W.length)!==F(h).length)return!1;for(O=S;0!=O--;)if(!ye.call(h,W[O]))return!1;for(O=S;0!=O--;)if(!P(f[g=W[O]],h[g]))return!1;return!0}return f!=f&&h!=h}},3362:(At,Ze,F)=>{!function(ye,P,f,h,O){function S(_){if("contents"in _)for(var R=("styleAttrs"in _?_.styleAttrs[h.byName.ruby.qname]:null),x="span"===_.kind&&("container"===R||"textContainer"===R||"baseContainer"===R),ue=_.contents.length-1;ue>=0;ue--)!x||"styleAttrs"in _.contents[ue]&&h.byName.ruby.qname in _.contents[ue].styleAttrs?S(_.contents[ue]):delete _.contents[ue]}function g(_,R,x,ue){var oe=ue&&"seq"===ue.timeContainer,xe=0;ue&&(xe=oe&&x?x.end:ue.begin),R.begin=R.explicit_begin?R.explicit_begin+xe:xe;var Ye=R.begin,Xe=null;if("sets"in R)for(var Le=0;Le<R.sets.length;Le++)g(_,R.sets[Le],Xe,R),Ye="seq"===R.timeContainer?R.sets[Le].end:Math.max(Ye,R.sets[Le].end),Xe=R.sets[Le];if("contents"in R){if("contents"in R)for(var tt=0;tt<R.contents.length;tt++)g(_,R.contents[tt],Xe,R),Ye="seq"===R.timeContainer?R.contents[tt].end:Math.max(Ye,R.contents[tt].end),Xe=R.contents[tt]}else Ye=oe?R.begin:Number.POSITIVE_INFINITY;R.end=null!==R.explicit_end&&null!==R.explicit_dur?Math.min(R.begin+R.explicit_dur,xe+R.explicit_end):null===R.explicit_end&&null!==R.explicit_dur?R.begin+R.explicit_dur:null!==R.explicit_end&&null===R.explicit_dur?xe+R.explicit_end:Ye,delete R.explicit_begin,delete R.explicit_dur,delete R.explicit_end,_._registerEvent(R)}function C(_){this.node=_}function M(){this.events=[],this.head=new p,this.body=null}function p(){this.styling=new y,this.layout=new W}function y(){this.styles={},this.initials={}}function T(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function q(){this.styleAttrs=null}function W(){this.regions={}}function ne(_,R){J.call(this,"image"),this.src=_,this.type=R}function J(_){this.kind=_}function se(_){this.id=_}function H(_){this.regionID=_}function k(_){this.styleAttrs=_}function K(_){this.sets=_}function de(_){this.contents=_}function ce(_,R,x){this.explicit_begin=_,this.explicit_end=R,this.explicit_dur=x}function qe(){J.call(this,"body")}function ot(){J.call(this,"div")}function pe(){J.call(this,"p")}function Nt(){J.call(this,"span")}function He(){J.call(this,"span")}function Ke(){J.call(this,"br")}function Ne(){}function je(){}function it(_){return _&&"xml:id"in _.attributes&&_.attributes["xml:id"].value||null}function Mt(_){return _&&"style"in _.attributes?_.attributes.style.value.split(" "):[]}function ut(_,R){var x={};if(null!==_)for(var ue in _.attributes){var oe=_.attributes[ue].uri+" "+_.attributes[ue].local,xe=h.byQName[oe];if(void 0!==xe){var Ye=xe.parse(_.attributes[ue].value);null!==Ye?(x[oe]=Ye,xe===h.byName.zIndex&&me(R,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ae(R,"Cannot parse styling attribute "+oe+" --\x3e "+_.attributes[ue].value)}}return x}function ke(_,R,x){for(var ue in _.attributes)if(_.attributes[ue].uri===R&&_.attributes[ue].local===x)return _.attributes[ue].value;return null}function _t(_,R,x){var ue,oe=null;return null!==(ue=/^(\d+(?:\.\d+)?)f$/.exec(x))?null!==R&&(oe=parseFloat(ue[1])/R):null!==(ue=/^(\d+(?:\.\d+)?)t$/.exec(x))?null!==_&&(oe=parseFloat(ue[1])/_):null!==(ue=/^(\d+(?:\.\d+)?)ms$/.exec(x))?oe=parseFloat(ue[1])/1e3:null!==(ue=/^(\d+(?:\.\d+)?)s$/.exec(x))?oe=parseFloat(ue[1]):null!==(ue=/^(\d+(?:\.\d+)?)h$/.exec(x))?oe=3600*parseFloat(ue[1]):null!==(ue=/^(\d+(?:\.\d+)?)m$/.exec(x))?oe=60*parseFloat(ue[1]):null!==(ue=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(x))?oe=3600*parseInt(ue[1])+60*parseInt(ue[2])+parseFloat(ue[3]):null!==(ue=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(x))&&null!==R&&(oe=3600*parseInt(ue[1])+60*parseInt(ue[2])+parseInt(ue[3])+(null===ue[4]?0:parseInt(ue[4])/R)),oe}function xt(_,R,x){for(;R.styleRefs.length>0;){var ue=R.styleRefs.pop();ue in _.styles?(xt(_,_.styles[ue],x),yt(_.styles[ue].styleAttrs,R.styleAttrs)):Ae(x,"Non-existant style id referenced")}}function $e(_,R,x,ue){for(var oe=R.length-1;oe>=0;oe--){var xe=R[oe];xe in _.styles?yt(_.styles[xe].styleAttrs,x):Ae(ue,"Non-existant style id referenced")}}function yt(_,R){for(var x in _)_.hasOwnProperty(x)&&(x in R||(R[x]=_[x]))}function me(_,R){if(_&&_.warn&&_.warn(R))throw R}function Ae(_,R){if(_&&_.error&&_.error(R))throw R}function at(_,R){throw _&&_.fatal&&_.fatal(R),R}function E(_,R){for(var x,ue=0,oe=_.length-1;ue<=oe;){var xe=_[x=Math.floor((ue+oe)/2)];if(xe<R)ue=x+1;else{if(!(xe>R))return{found:!0,index:x};oe=x-1}}return{found:!1,index:ue}}ye.fromXML=function(_,R,x){var ue=P.parser(!0,{xmlns:!0}),oe=[],xe=[],Ye=[],Xe=0,Le=null;ue.onclosetag=function(Qe){if(oe[0]instanceof Ne)null!==Le.head&&null!==Le.head.styling&&$e(Le.head.styling,oe[0].styleRefs,oe[0].styleAttrs,R),delete oe[0].styleRefs;else if(oe[0]instanceof y)for(var St in oe[0].styles)oe[0].styles.hasOwnProperty(St)&&xt(oe[0],oe[0].styles[St],R);else if(oe[0]instanceof pe||oe[0]instanceof Nt){if(oe[0].contents.length>1){var kt,on=[oe[0].contents[0]];for(kt=1;kt<oe[0].contents.length;kt++)oe[0].contents[kt]instanceof He&&on[on.length-1]instanceof He?on[on.length-1].text+=oe[0].contents[kt].text:on.push(oe[0].contents[kt]);oe[0].contents=on}oe[0]instanceof Nt&&1===oe[0].contents.length&&oe[0].contents[0]instanceof He&&(oe[0].text=oe[0].contents[0].text,delete oe[0].contents)}else oe[0]instanceof C&&(oe[0].node.uri===f.ns_tt&&"metadata"===oe[0].node.local?Xe--:Xe>0&&x&&"onCloseTag"in x&&x.onCloseTag());Ye.shift(),xe.shift(),oe.shift()},ue.ontext=function(Qe){if(void 0!==oe[0])if(oe[0]instanceof Nt||oe[0]instanceof pe){if(oe[0]instanceof Nt){var St=oe[0].styleAttrs[h.byName.ruby.qname];if("container"===St||"textContainer"===St||"baseContainer"===St)return}var kt=new He;kt.initFromText(Le,oe[0],Qe,xe[0],Ye[0],R),oe[0].contents.push(kt)}else oe[0]instanceof C&&Xe>0&&x&&"onText"in x&&x.onText(Qe)},ue.onopentag=function(Qe){var St=Qe.attributes["xml:space"];Ye.unshift(St?St.value:0===Ye.length?"default":Ye[0]);var kt=Qe.attributes["xml:lang"];if(xe.unshift(kt?kt.value:0===xe.length?"":xe[0]),Qe.uri===f.ns_tt)if("tt"===Qe.local)null!==Le&&at(R,"Two <tt> elements at ("+this.line+","+this.column+")"),(Le=new M).initFromNode(Qe,xe[0],R),oe.unshift(Le);else if("head"===Qe.local)oe[0]instanceof M||at(R,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),oe.unshift(Le.head);else if("styling"===Qe.local)oe[0]instanceof p||at(R,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),oe.unshift(Le.head.styling);else if("style"===Qe.local){var on;oe[0]instanceof y?((on=new T).initFromNode(Qe,R),on.id?Le.head.styling.styles[on.id]=on:Ae(R,"<style> element missing @id attribute"),oe.unshift(on)):oe[0]instanceof Ne?((on=new T).initFromNode(Qe,R),yt(on.styleAttrs,oe[0].styleAttrs),oe.unshift(on)):at(R,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===Qe.local){var Tn;if(oe[0]instanceof y){for(var xn in(Tn=new q).initFromNode(Qe,R),Tn.styleAttrs)Tn.styleAttrs.hasOwnProperty(xn)&&(Le.head.styling.initials[xn]=Tn.styleAttrs[xn]);oe.unshift(Tn)}else at(R,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===Qe.local)oe[0]instanceof p||at(R,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),oe.unshift(Le.head.layout);else if("region"===Qe.local){oe[0]instanceof W||at(R,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var yn=new Ne;yn.initFromNode(Le,Qe,xe[0],R),!yn.id||yn.id in Le.head.layout.regions?Ae(R,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Le.head.layout.regions[yn.id]=yn,oe.unshift(yn)}else if("body"===Qe.local){oe[0]instanceof M||at(R,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Le.body&&at(R,"Second <body> element at "+this.line+","+this.column+")");var jn=new qe;jn.initFromNode(Le,Qe,xe[0],R),Le.body=jn,oe.unshift(jn)}else if("div"===Qe.local){oe[0]instanceof ot||oe[0]instanceof qe||at(R,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Hn=new ot;Hn.initFromNode(Le,oe[0],Qe,xe[0],R);var br=Hn.styleAttrs[h.byName.backgroundImage.qname];br&&(Hn.contents.push(new ne(br)),delete Hn.styleAttrs[h.byName.backgroundImage.qname]),oe[0].contents.push(Hn),oe.unshift(Hn)}else if("image"===Qe.local){oe[0]instanceof ot||at(R,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var mi=new ne;mi.initFromNode(Le,oe[0],Qe,xe[0],R),oe[0].contents.push(mi),oe.unshift(mi)}else if("p"===Qe.local){oe[0]instanceof ot||at(R,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Ci=new pe;Ci.initFromNode(Le,oe[0],Qe,xe[0],R),oe[0].contents.push(Ci),oe.unshift(Ci)}else if("span"===Qe.local){oe[0]instanceof Nt||oe[0]instanceof pe||at(R,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Hr=new Nt;Hr.initFromNode(Le,oe[0],Qe,xe[0],Ye[0],R),oe[0].contents.push(Hr),oe.unshift(Hr)}else if("br"===Qe.local){oe[0]instanceof Nt||oe[0]instanceof pe||at(R,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Li=new Ke;Li.initFromNode(Le,oe[0],Qe,xe[0],R),oe[0].contents.push(Li),oe.unshift(Li)}else if("set"===Qe.local){oe[0]instanceof Nt||oe[0]instanceof pe||oe[0]instanceof ot||oe[0]instanceof qe||oe[0]instanceof Ne||oe[0]instanceof Ke||at(R,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Fi=new je;Fi.initFromNode(Le,oe[0],Qe,R),oe[0].sets.push(Fi),oe.unshift(Fi)}else oe.unshift(new C(Qe));else oe.unshift(new C(Qe));if(oe[0]instanceof C)if(Qe.uri===f.ns_tt&&"metadata"===Qe.local)Xe++;else if(Xe>0&&x&&"onOpenTag"in x){var Gi=[];for(var qi in Qe.attributes)Gi[Qe.attributes[qi].uri+" "+Qe.attributes[qi].local]={uri:Qe.attributes[qi].uri,local:Qe.attributes[qi].local,value:Qe.attributes[qi].value};x.onOpenTag(Qe.uri,Qe.local,Gi)}},ue.write(_).close(),delete Le.head.styling.styles;var tt=!1;for(var rt in Le.head.layout.regions)if(Le.head.layout.regions.hasOwnProperty(rt)){tt=!0;break}if(!tt){var Re=Ne.prototype.createDefaultRegion(Le.lang);Le.head.layout.regions[Re.id]=Re}for(var We in Le.head.layout.regions)Le.head.layout.regions.hasOwnProperty(We)&&g(Le,Le.head.layout.regions[We],null,null);return Le.body&&g(Le,Le.body,null,null),Le.body&&S(Le.body),Le},M.prototype.initFromNode=function(_,R,x){var ue=function(Xe,Le){var tt=ke(Xe,f.ns_ttp,"cellResolution"),rt=15,Re=32;if(null!==tt){var We=/(\d+) (\d+)/.exec(tt);null!==We?(Re=parseInt(We[1]),rt=parseInt(We[2])):me(Le,"Malformed cellResolution value (using initial value instead)")}return{w:Re,h:rt}}(_,x);this.cellLength={h:new O.ComputedLength(0,1/ue.h),w:new O.ComputedLength(1/ue.w,0)};var oe=function(Xe,Le){var tt,rt=ke(Xe,f.ns_ttp,"frameRate"),Re=30;null!==rt&&(null!==(tt=/(\d+)/.exec(rt))?Re=parseInt(tt[1]):me(Le,"Malformed frame rate attribute (using initial value instead)"));var We=ke(Xe,f.ns_ttp,"frameRateMultiplier"),Qe=1;null!==We&&(null!==(tt=/(\d+) (\d+)/.exec(We))?Qe=parseInt(tt[1])/parseInt(tt[2]):me(Le,"Malformed frame rate multiplier attribute (using initial value instead)"));var St=Qe*Re,kt=1,on=ke(Xe,f.ns_ttp,"tickRate");return null===on?null!==rt&&(kt=St):null!==(tt=/(\d+)/.exec(on))?kt=parseInt(tt[1]):me(Le,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:St,tickRate:kt}}(_,x);this.effectiveFrameRate=oe.effectiveFrameRate,this.tickRate=oe.tickRate,this.aspectRatio=function(Xe,Le){var tt=ke(Xe,f.ns_ittp,"aspectRatio");null===tt&&(tt=ke(Xe,f.ns_ttp,"displayAspectRatio"));var rt=null;if(null!==tt){var Re=/(\d+)\s+(\d+)/.exec(tt);if(null!==Re){var We=parseInt(Re[1]),Qe=parseInt(Re[2]);0!==We&&0!==Qe?rt=We/Qe:Ae(Le,"Illegal aspectRatio values (ignoring)")}else Ae(Le,"Malformed aspectRatio attribute (ignoring)")}return rt}(_,x);var xe=ke(_,f.ns_ttp,"timeBase");null!==xe&&"media"!==xe&&at(x,"Unsupported time base");var Ye=function(Xe,Le){var tt=ke(Xe,f.ns_tts,"extent");if(null===tt)return null;var rt=tt.split(" ");if(2!==rt.length)return me(Le,"Malformed extent (ignoring)"),null;var Re=O.parseLength(rt[0]),We=O.parseLength(rt[1]);return We&&Re?{h:We,w:Re}:(me(Le,"Malformed extent values (ignoring)"),null)}(_,x);null===Ye?this.pxLength={h:null,w:null}:("px"===Ye.h.unit&&"px"===Ye.w.unit||at(x,"Extent on TT must be in px or absent"),this.pxLength={h:new O.ComputedLength(0,1/Ye.h.value),w:new O.ComputedLength(1/Ye.w.value,0)}),this.dimensions={h:new O.ComputedLength(0,1),w:new O.ComputedLength(1,0)},this.lang=R},M.prototype._registerEvent=function(_){if(!(_.end<=_.begin)){var R=E(this.events,_.begin);if(R.found||this.events.splice(R.index,0,_.begin),_.end!==Number.POSITIVE_INFINITY){var x=E(this.events,_.end);x.found||this.events.splice(x.index,0,_.end)}}},M.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},M.prototype.getMediaTimeEvents=function(){return this.events},T.prototype.initFromNode=function(_,R){this.id=it(_),this.styleAttrs=ut(_,R),this.styleRefs=Mt(_)},q.prototype.initFromNode=function(_,R){for(var x in this.styleAttrs={},_.attributes)_.attributes[x].uri!==f.ns_itts&&_.attributes[x].uri!==f.ns_ebutts&&_.attributes[x].uri!==f.ns_tts||(this.styleAttrs[_.attributes[x].uri+" "+_.attributes[x].local]=_.attributes[x].value)},ne.prototype.initFromNode=function(_,R,x,ue,oe){this.src="src"in x.attributes?x.attributes.src.value:null,this.src||Ae(oe,"Invalid image@src attribute"),this.type="type"in x.attributes?x.attributes.type.value:null,this.type||Ae(oe,"Invalid image@type attribute"),k.prototype.initFromNode.call(this,_,R,x,oe),ce.prototype.initFromNode.call(this,_,R,x,oe),K.prototype.initFromNode.call(this,_,R,x,oe),H.prototype.initFromNode.call(this,_,R,x,oe),this.lang=ue},se.prototype.initFromNode=function(_,R,x,ue){this.id=it(x)},H.prototype.initFromNode=function(_,R,x,ue){var oe;this.regionID=(oe=x)&&"region"in oe.attributes?oe.attributes.region.value:""},k.prototype.initFromNode=function(_,R,x,ue){this.styleAttrs=ut(x,ue),null!==_.head&&null!==_.head.styling&&$e(_.head.styling,Mt(x),this.styleAttrs,ue)},K.prototype.initFromNode=function(_,R,x,ue){this.sets=[]},de.prototype.initFromNode=function(_,R,x,ue){this.contents=[]},ce.prototype.initFromNode=function(_,R,x,ue){var xe,Xe,oe=function(xe,Ye,Xe,Le){var tt=null;Xe&&"begin"in Xe.attributes&&null===(tt=_t(xe.tickRate,xe.effectiveFrameRate,Xe.attributes.begin.value))&&me(Le,"Malformed begin value "+Xe.attributes.begin.value+" (using 0)");var rt=null;Xe&&"dur"in Xe.attributes&&null===(rt=_t(xe.tickRate,xe.effectiveFrameRate,Xe.attributes.dur.value))&&me(Le,"Malformed dur value "+Xe.attributes.dur.value+" (ignoring)");var Re=null;return Xe&&"end"in Xe.attributes&&null===(Re=_t(xe.tickRate,xe.effectiveFrameRate,Xe.attributes.end.value))&&me(Le,"Malformed end value (ignoring)"),{explicit_begin:tt,explicit_end:Re,explicit_dur:rt}}(_,0,x,ue);this.explicit_begin=oe.explicit_begin,this.explicit_end=oe.explicit_end,this.explicit_dur=oe.explicit_dur,this.timeContainer=(Xe=(xe=x)&&"timeContainer"in xe.attributes?xe.attributes.timeContainer.value:null)&&"par"!==Xe?"seq"===Xe?"seq":(Ae(ue,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"},qe.prototype.initFromNode=function(_,R,x,ue){k.prototype.initFromNode.call(this,_,null,R,ue),ce.prototype.initFromNode.call(this,_,null,R,ue),K.prototype.initFromNode.call(this,_,null,R,ue),H.prototype.initFromNode.call(this,_,null,R,ue),de.prototype.initFromNode.call(this,_,null,R,ue),this.lang=x},ot.prototype.initFromNode=function(_,R,x,ue,oe){k.prototype.initFromNode.call(this,_,R,x,oe),ce.prototype.initFromNode.call(this,_,R,x,oe),K.prototype.initFromNode.call(this,_,R,x,oe),H.prototype.initFromNode.call(this,_,R,x,oe),de.prototype.initFromNode.call(this,_,R,x,oe),this.lang=ue},pe.prototype.initFromNode=function(_,R,x,ue,oe){k.prototype.initFromNode.call(this,_,R,x,oe),ce.prototype.initFromNode.call(this,_,R,x,oe),K.prototype.initFromNode.call(this,_,R,x,oe),H.prototype.initFromNode.call(this,_,R,x,oe),de.prototype.initFromNode.call(this,_,R,x,oe),this.lang=ue},Nt.prototype.initFromNode=function(_,R,x,ue,oe,xe){k.prototype.initFromNode.call(this,_,R,x,xe),ce.prototype.initFromNode.call(this,_,R,x,xe),K.prototype.initFromNode.call(this,_,R,x,xe),H.prototype.initFromNode.call(this,_,R,x,xe),de.prototype.initFromNode.call(this,_,R,x,xe),this.space=oe,this.lang=ue},He.prototype.initFromText=function(_,R,x,ue,oe,xe){ce.prototype.initFromNode.call(this,_,R,null,xe),this.text=x,this.space=oe,this.lang=ue},Ke.prototype.initFromNode=function(_,R,x,ue,oe){H.prototype.initFromNode.call(this,_,R,x,oe),ce.prototype.initFromNode.call(this,_,R,x,oe),this.lang=ue},Ne.prototype.createDefaultRegion=function(_){var R=new Ne;return se.call(R,""),k.call(R,{}),K.call(R,[]),ce.call(R,0,Number.POSITIVE_INFINITY,null),this.lang=_,R},Ne.prototype.initFromNode=function(_,R,x,ue){se.prototype.initFromNode.call(this,_,null,R,ue),ce.prototype.initFromNode.call(this,_,null,R,ue),K.prototype.initFromNode.call(this,_,null,R,ue),this.styleAttrs=ut(R,ue),this.styleRefs=Mt(R),this.lang=x},je.prototype.initFromNode=function(_,R,x,ue){ce.prototype.initFromNode.call(this,_,R,x,ue);var oe=ut(x,ue);for(var xe in this.qname=null,this.value=null,oe)if(oe.hasOwnProperty(xe)){if(this.qname){Ae(ue,"More than one style specified on set");break}this.qname=xe,this.value=oe[xe]}}}(Ze,typeof sax>"u"?F(5378):sax,typeof imscNames>"u"?F(210):imscNames,typeof imscStyles>"u"?F(6811):imscStyles,typeof imscUtils>"u"?F(5926):imscUtils)},506:(At,Ze,F)=>{!function(ye,P,f){function h(k,K,de,ce){var qe;if("region"===de.kind)(qe=document.createElement("div")).style.position="absolute";else if("body"===de.kind)qe=document.createElement("div");else if("div"===de.kind)qe=document.createElement("div");else if("image"===de.kind){if(qe=document.createElement("img"),null!==k.imgResolver&&null!==de.src){var ot=k.imgResolver(de.src,qe);ot&&(qe.src=ot),qe.height=k.regionH,qe.width=k.regionW}}else if("p"===de.kind)qe=document.createElement("p");else if("span"===de.kind)if("container"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("ruby"),k.ruby=!0;else if("base"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("rb");else if("text"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("rt");else if("baseContainer"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("rbc");else if("textContainer"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("rtc");else{if("delimiter"===de.styleAttrs[f.byName.ruby.qname])return;qe=document.createElement("span")}else"br"===de.kind&&(qe=document.createElement("br"));if(qe){if(de.lang&&("region"!==de.kind&&de.lang===ce.lang||(qe.lang=de.lang)),K.appendChild(qe),qe.style.margin="0","region"===de.kind){var pe=de.styleAttrs[f.byName.writingMode.qname];"lrtb"===pe||"lr"===pe?(k.ipd="lr",k.bpd="tb"):"rltb"===pe||"rl"===pe?(k.ipd="rl",k.bpd="tb"):"tblr"===pe?(k.ipd="tb",k.bpd="lr"):"tbrl"!==pe&&"tb"!==pe||(k.ipd="tb",k.bpd="rl")}else"p"===de.kind&&"tb"===k.bpd&&(k.ipd="ltr"===de.styleAttrs[f.byName.direction.qname]?"lr":"rl");for(var He=0;He<T.length;He++){var Ke=T[He],Ne=de.styleAttrs[Ke.qname];void 0!==Ne&&null!==Ke.map&&Ke.map(k,qe,de,Ne)}var je=qe,it=de.styleAttrs[f.byName.linePadding.qname];if(it&&!it.isZero()){var Mt=it.toUsedLength(k.w,k.h);if(Mt>0){var ut=Math.ceil(Mt)+"px";"tb"===k.bpd?(je.style.paddingLeft=ut,je.style.paddingRight=ut):(je.style.paddingTop=ut,je.style.paddingBottom=ut),k.lp=it}}var ke=de.styleAttrs[f.byName.multiRowAlign.qname];if(ke&&"auto"!==ke){var _t=document.createElement("span");_t.style.display="inline-block",_t.style.textAlign=ke,qe.appendChild(_t),je=_t,k.mra=ke}var xt=de.styleAttrs[f.byName.rubyReserve.qname];if(xt&&"none"!==xt[0]&&(k.rubyReserve=xt),de.styleAttrs[f.byName.fillLineGap.qname]&&(k.flg=!0),"span"===de.kind&&de.text){var $e=de.styleAttrs[f.byName.textEmphasis.qname];if($e&&"none"!==$e.style&&(k.textEmphasis=!0),f.byName.textCombine.qname in de.styleAttrs&&"all"===de.styleAttrs[f.byName.textCombine.qname])qe.textContent=de.text,$e&&p(k,qe,0,$e);else for(var yt="",me=0;me<de.text.length;me++){yt+=de.text.charAt(me);var Ae=de.text.charCodeAt(me);if(Ae<55296||Ae>56319||me===de.text.length-1){var at=document.createElement("span");at.textContent=yt,$e&&p(k,at,0,$e),qe.appendChild(at),yt="",at._isd_element=de}}}if("contents"in de)for(var E=0;E<de.contents.length;E++)h(k,je,de.contents[E],de);var _=[];if("p"===de.kind&&(M(k,je,_,null),k.rubyReserve&&(function(xe,Ye){for(var Xe=0;Xe<xe.length;Xe++){var Le,tt,rt=document.createElement("ruby"),Re=document.createElement("rb");Re.textContent="\u200b",rt.appendChild(Re);var Qe=Ye.rubyReserve[1].toUsedLength(Ye.w,Ye.h)+"px";"both"===Ye.rubyReserve[0]||"outside"===Ye.rubyReserve[0]&&1==xe.length?((Le=document.createElement("rtc")).style[J]=ne?"after":"under",Le.textContent="\u200b",Le.style.fontSize=Qe,(tt=document.createElement("rtc")).style[J]=ne?"before":"over",tt.textContent="\u200b",tt.style.fontSize=Qe,rt.appendChild(Le),rt.appendChild(tt)):((Le=document.createElement("rtc")).textContent="\u200b",Le.style.fontSize=Qe,Le.style[J]="after"===Ye.rubyReserve[0]||"outside"===Ye.rubyReserve[0]&&Xe>0?ne?"after":"tb"===Ye.bpd||"rl"===Ye.bpd?"under":"over":ne?"before":"tb"===Ye.bpd||"rl"===Ye.bpd?"over":"under",rt.appendChild(Le));for(var St=null,kt=0;kt<xe[Xe].rbc.length;kt++)if("ruby"===xe[Xe].rbc[kt].localName){St=xe[Xe].rbc[kt];for(var on=0;on<St.style.length;on++)rt.style.setProperty(St.style.item(on),St.style.getPropertyValue(St.style.item(on)));break}(St=St||xe[Xe].elements[0].node).parentElement.insertBefore(rt,St)}}(_,k),k.rubyReserve=null),(k.ruby||k.rubyReserve)&&(function(xe,Ye){for(var Xe=0;Xe<xe.length;Xe++)for(var Le=0;Le<xe[Xe].rbc.length;Le++)xe[Xe].rbc[Le].style[J]||(xe[Xe].rbc[Le].style[J]=ne?0===Xe?"before":"after":"tb"===Ye.bpd||"rl"===Ye.bpd?0===Xe?"over":"under":0===Xe?"under":"over")}(_,k),k.ruby=null),k.textEmphasis&&(function(xe,Ye){for(var Xe=0;Xe<xe.length;Xe++)for(var Le=0;Le<xe[Xe].te.length;Le++)xe[Xe].te[Le].style[H]&&"none"!==xe[Xe].te[Le].style[H]||(xe[Xe].te[Le].style[H]="tb"===Ye.bpd?0===Xe?"left over":"left under":"rl"===Ye.bpd?0===Xe?"right under":"left under":0===Xe?"left under":"right under")}(_,k),k.textEmphasis=null),k.mra&&(function(xe){for(var Ye=0;Ye<xe.length-1;Ye++){var Xe=xe[Ye].elements.length;if(0!==Xe&&!1===xe[Ye].br){var Le=document.createElement("br"),tt=xe[Ye].elements[Xe-1].node;tt.parentElement.insertBefore(Le,tt.nextSibling)}}}(_),k.mra=null),k.lp&&(function(xe,Ye,Xe){if(null!==xe)for(var Le=0;Le<xe.length;Le++){var tt=xe[Le].elements.length,rt=Math.ceil(Ye)+"px",Re="-"+Math.ceil(Ye)+"px";if(0!==tt){var We=xe[Le].elements[xe[Le].start_elem],Qe=xe[Le].elements[xe[Le].end_elem];if(We===Qe&&(elementBoundingRect=We.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===Xe.ipd?(We.node.style.marginLeft=Re,We.node.style.paddingLeft=rt):"rl"===Xe.ipd?(We.node.style.paddingRight=rt,We.node.style.marginRight=Re):"tb"===Xe.ipd&&(We.node.style.paddingTop=rt,We.node.style.marginTop=Re),"lr"===Xe.ipd?(Qe.node.style.marginRight=Re,Qe.node.style.paddingRight=rt):"rl"===Xe.ipd?(Qe.node.style.paddingLeft=rt,Qe.node.style.marginLeft=Re):"tb"===Xe.ipd&&(Qe.node.style.paddingBottom=rt,Qe.node.style.marginBottom=Re)}}}(_,k.lp.toUsedLength(k.w,k.h),k),k.lp=null),function(xe){for(var Ye=0;Ye<xe.length;Ye++)for(var Xe=xe[Ye],Le=1;Le<Xe.elements.length;)S(Xe.elements[Le-1].node,Xe.elements[Le].node)?Xe.elements.splice(Le,1):Le++;for(var Re,We,Qe=[],St=0;St<xe.length;St++)for(var kt=0;kt<xe[St].elements.length;kt++)(We=O(Re=xe[St].elements[kt].node,Qe,!1))&&(Re.style.backgroundColor=We);for(var on=0;on<Qe.length;on++)Qe[on].style.backgroundColor=""}(_),k.flg)){var R=C(je.getBoundingClientRect(),k);(function(xe,Ye,Xe,Le,tt){for(var rt=Math.sign(Xe-Ye),Re=0;Re<=xe.length;Re++){var We,Qe,St,kt;if(We=0===Re?Math.round(Ye):Re===xe.length?Math.round(Xe):Math.round((xe[Re-1].after+xe[Re].before)/2),Re>0&&xe[Re-1])for(St=0;St<xe[Re-1].elements.length;St++)Qe=rt*(We-(kt=xe[Re-1].elements[St]).after)+"px","lr"===Le.bpd?kt.node.style.paddingRight=Qe:"rl"===Le.bpd?kt.node.style.paddingLeft=Qe:"tb"===Le.bpd&&(kt.node.style.paddingBottom=Qe);if(Re<xe.length)for(St=0;St<xe[Re].elements.length;St++)Qe=rt*((kt=xe[Re].elements[St]).before-We)+"px","lr"===Le.bpd?kt.node.style.paddingLeft=Qe:"rl"===Le.bpd?kt.node.style.paddingRight=Qe:"tb"===Le.bpd&&(kt.node.style.paddingTop=Qe)}})(_,R.before,R.after,k),k.flg=null}if("region"===de.kind&&"tb"===k.bpd&&k.enableRollUp&&de.contents.length>0&&"after"===de.styleAttrs[f.byName.displayAlign.qname]){M(k,je,_,null);var x=new g(""===de.id?"_":de.id,_);if(k.currentISDState[x.id]=x,k.previousISDState&&x.id in k.previousISDState&&k.previousISDState[x.id].plist.length>0&&x.plist.length>1&&x.plist[x.plist.length-2].text===k.previousISDState[x.id].plist[k.previousISDState[x.id].plist.length-1].text){var ue=qe.firstElementChild,oe=x.plist[x.plist.length-1].after-x.plist[x.plist.length-1].before;ue.style.bottom="-"+oe+"px",ue.style.transition="transform 0.4s",ue.style.position="relative",ue.style.transform="translateY(-"+oe+"px)"}}}else!function(xe,Ye){if(xe&&xe.error&&xe.error(Ye))throw Ye}(k.errorHandler,"Error processing ISD element kind: "+de.kind)}function O(k,K,de){return k.style.backgroundColor?(de&&!K.includes(k)&&K.push(k),k.style.backgroundColor):"SPAN"===k.parentElement.nodeName?O(k.parentElement,K,!0):void 0}function S(k,K){if("SPAN"===k.tagName&&"SPAN"===K.tagName&&k._isd_element===K._isd_element){k.textContent+=K.textContent;for(var de=0;de<K.style.length;de++){var ce=K.style[de];(ce.indexOf("border")>=0||ce.indexOf("padding")>=0||ce.indexOf("margin")>=0)&&(k.style[ce]=K.style[ce])}return K.parentElement.removeChild(K),!0}return!1}function g(k,K){this.id=k,this.plist=K}function C(k,K){var de={before:null,after:null,start:null,end:null};return"tb"===K.bpd?(de.before=k.top,de.after=k.bottom,"lr"===K.ipd?(de.start=k.left,de.end=k.right):(de.start=k.right,de.end=k.left)):"lr"===K.bpd?(de.before=k.left,de.after=k.right,de.start=k.top,de.end=k.bottom):"rl"===K.bpd&&(de.before=k.right,de.after=k.left,de.start=k.top,de.end=k.bottom),de}function M(k,K,de,ce){if("rt"!==K.localName&&"rtc"!==K.localName){var qe,ot,pe,Nt,He=K.style.backgroundColor||ce;if(0===K.childElementCount)if("span"===K.localName||"rb"===K.localName){var Ke=C(K.getBoundingClientRect(),k);if(0!==de.length&&(qe=Ke.before,pe=de[de.length-1].before,(ot=Ke.after)<(Nt=de[de.length-1].after)&&qe>pe||Nt<=ot&&pe>=qe)){var Ne=Math.sign(Ke.after-Ke.before),je=Math.sign(Ke.end-Ke.start);Ne*(Ke.before-de[de.length-1].before)<0&&(de[de.length-1].before=Ke.before),Ne*(Ke.after-de[de.length-1].after)>0&&(de[de.length-1].after=Ke.after),je*(Ke.start-de[de.length-1].start)<0&&(de[de.length-1].start=Ke.start,de[de.length-1].start_elem=de[de.length-1].elements.length),je*(Ke.end-de[de.length-1].end)>0&&(de[de.length-1].end=Ke.end,de[de.length-1].end_elem=de[de.length-1].elements.length)}else de.push({before:Ke.before,after:Ke.after,start:Ke.start,end:Ke.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});de[de.length-1].text+=K.textContent,de[de.length-1].elements.push({node:K,bgcolor:He,before:Ke.before,after:Ke.after})}else"br"===K.localName&&0!==de.length&&(de[de.length-1].br=!0);else for(var it=K.firstChild;it;)it.nodeType===Node.ELEMENT_NODE&&(M(k,it,de,He),"ruby"===it.localName||"rtc"===it.localName?de.length>0&&de[de.length-1].rbc.push(it):"span"===it.localName&&it.style[se]&&"none"!==it.style[se]&&de.length>0&&de[de.length-1].te.push(it)),it=it.nextSibling}}function p(k,K,de,ce){"none"!==ce.style&&(K.style[se]="auto"===ce.style?"filled":ce.style+" "+ce.symbol,("before"===ce.position||"after"===ce.position)&&(K.style[H]="tb"===k.bpd?"before"===ce.position?"left over":"left under":"rl"===k.bpd?"before"===ce.position?"right under":"left under":"before"===ce.position?"left under":"right under"))}function y(k,K){this.qname=k,this.map=K}ye.render=function(k,K,de,ce,qe,ot,pe,Nt,He){var Ke=ce||K.clientHeight,Ne=qe||K.clientWidth;if(null!==k.aspectRatio){var je=Ke*k.aspectRatio;je>Ne?Ke=Math.round(Ne/k.aspectRatio):Ne=je}var it=document.createElement("div");it.style.position="relative",it.style.width=Ne+"px",it.style.height=Ke+"px",it.style.margin="auto",it.style.top=0,it.style.bottom=0,it.style.left=0,it.style.right=0,it.style.zIndex=0;var Mt={h:Ke,w:Ne,regionH:null,regionW:null,imgResolver:de,displayForcedOnlyMode:ot||!1,isd:k,errorHandler:pe,previousISDState:Nt,enableRollUp:He||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(K.appendChild(it),"contents"in k)for(var ut=0;ut<k.contents.length;ut++)h(Mt,it,k.contents[ut],k);return Mt.currentISDState};for(var T=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(k,K,de,ce){0!==ce[3]&&(K.style.backgroundColor="rgba("+ce[0].toString()+","+ce[1].toString()+","+ce[2].toString()+","+(ce[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(k,K,de,ce){K.style.color="rgba("+ce[0].toString()+","+ce[1].toString()+","+ce[2].toString()+","+(ce[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(k,K,de,ce){K.style.direction=ce}),new y("http://www.w3.org/ns/ttml#styling display",function(k,K,de,ce){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(k,K,de,ce){K.style.display="flex",K.style.flexDirection="column","before"===ce?K.style.justifyContent="flex-start":"center"===ce?K.style.justifyContent="center":"after"===ce&&(K.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(k,K,de,ce){k.regionH=ce.h.toUsedLength(k.w,k.h),k.regionW=ce.w.toUsedLength(k.w,k.h);var qe=0,ot=0,pe=de.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];pe&&(qe=pe[0].toUsedLength(k.w,k.h)+pe[2].toUsedLength(k.w,k.h),ot=pe[1].toUsedLength(k.w,k.h)+pe[3].toUsedLength(k.w,k.h)),K.style.height=k.regionH-qe+"px",K.style.width=k.regionW-ot+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(k,K,de,ce){for(var qe=[],ot=0;ot<ce.length;ot++)"monospaceSerif"===ce[ot]?(qe.push("Courier New"),qe.push('"Liberation Mono"'),qe.push("Courier"),qe.push("monospace")):"proportionalSansSerif"===ce[ot]?(qe.push("Arial"),qe.push("Helvetica"),qe.push('"Liberation Sans"'),qe.push("sans-serif")):"monospace"===ce[ot]?qe.push("monospace"):"sansSerif"===ce[ot]?qe.push("sans-serif"):"serif"===ce[ot]?qe.push("serif"):"monospaceSansSerif"===ce[ot]?(qe.push("Consolas"),qe.push("monospace")):qe.push("proportionalSerif"===ce[ot]?"serif":ce[ot]);if(qe.length>0){for(var pe=[qe[0]],Nt=1;Nt<qe.length;Nt++)-1==pe.indexOf(qe[Nt])&&pe.push(qe[Nt]);qe=pe}K.style.fontFamily=qe.join(",")}),new y("http://www.w3.org/ns/ttml#styling shear",function(k,K,de,ce){if(0!==ce){var qe=-.9*ce;K.style.transform="tb"===k.bpd?"skewX("+qe+"deg)":"skewY("+qe+"deg)"}}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(k,K,de,ce){K.style.fontSize=ce.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(k,K,de,ce){K.style.fontStyle=ce}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(k,K,de,ce){K.style.fontWeight=ce}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(k,K,de,ce){K.style.lineHeight="normal"===ce?"normal":ce.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(k,K,de,ce){K.style.opacity=ce}),new y("http://www.w3.org/ns/ttml#styling origin",function(k,K,de,ce){K.style.top=ce.h.toUsedLength(k.w,k.h)+"px",K.style.left=ce.w.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(k,K,de,ce){K.style.overflow=ce}),new y("http://www.w3.org/ns/ttml#styling padding",function(k,K,de,ce){var qe=[];qe[0]=ce[0].toUsedLength(k.w,k.h)+"px",qe[1]=ce[3].toUsedLength(k.w,k.h)+"px",qe[2]=ce[2].toUsedLength(k.w,k.h)+"px",qe[3]=ce[1].toUsedLength(k.w,k.h)+"px",K.style.padding=qe.join(" ")}),new y("http://www.w3.org/ns/ttml#styling position",function(k,K,de,ce){K.style.top=ce.h.toUsedLength(k.w,k.h)+"px",K.style.left=ce.w.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling rubyAlign",function(k,K,de,ce){K.style.rubyAlign="spaceAround"===ce?"space-around":"center"}),new y("http://www.w3.org/ns/ttml#styling rubyPosition",function(k,K,de,ce){"before"!==ce&&"after"!==ce||(K.parentElement.style[J]=ne?ce:"tb"===k.bpd||"rl"===k.bpd?"before"===ce?"over":"under":"before"===ce?"under":"over")}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(k,K,de,ce){K.style.textAlign="start"===ce?"rl"===k.ipd?"right":"left":"end"===ce?"rl"===k.ipd?"left":"right":ce}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(k,K,de,ce){K.style.textDecoration=ce.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(k,K,de,ce){}),new y("http://www.w3.org/ns/ttml#styling textShadow",function(k,K,de,ce){var qe=de.styleAttrs[f.byName.textOutline.qname];if("none"===ce&&"none"===qe)K.style.textShadow="";else{var ot=[];if("none"!==qe){var pe="rgba("+qe.color[0].toString()+","+qe.color[1].toString()+","+qe.color[2].toString()+","+(qe.color[3]/255).toString()+")";ot.push("1px 1px 1px "+pe),ot.push("-1px 1px 1px "+pe),ot.push("1px -1px 1px "+pe),ot.push("-1px -1px 1px "+pe)}if("none"!==ce)for(var Nt=0;Nt<ce.length;Nt++)ot.push(ce[Nt].x_off.toUsedLength(k.w,k.h)+"px "+ce[Nt].y_off.toUsedLength(k.w,k.h)+"px "+ce[Nt].b_radius.toUsedLength(k.w,k.h)+"px rgba("+ce[Nt].color[0].toString()+","+ce[Nt].color[1].toString()+","+ce[Nt].color[2].toString()+","+(ce[Nt].color[3]/255).toString()+")");K.style.textShadow=ot.join(",")}}),new y("http://www.w3.org/ns/ttml#styling textCombine",function(k,K,de,ce){K.style.textCombineUpright=ce}),new y("http://www.w3.org/ns/ttml#styling textEmphasis",function(k,K,de,ce){}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(k,K,de,ce){K.style.unicodeBidi="bidiOverride"===ce?"bidi-override":ce}),new y("http://www.w3.org/ns/ttml#styling visibility",function(k,K,de,ce){K.style.visibility=ce}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(k,K,de,ce){K.style.whiteSpace="wrap"===ce?"preserve"===de.space?"pre-wrap":"normal":"preserve"===de.space?"pre":"noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(k,K,de,ce){"lrtb"===ce||"lr"===ce||"rltb"===ce||"rl"===ce?K.style.writingMode="horizontal-tb":"tblr"===ce?K.style.writingMode="vertical-lr":"tbrl"!==ce&&"tb"!==ce||(K.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(k,K,de,ce){K.style.zIndex=ce}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(k,K,de,ce){k.displayForcedOnlyMode&&!1===ce&&(K.style.visibility="hidden")})],q={},W=0;W<T.length;W++)q[T[W].qname]=T[W];var ne="webkitRubyPosition"in window.getComputedStyle(document.documentElement),J=ne?"webkitRubyPosition":"rubyPosition",se="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",H="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(Ze,typeof imscNames>"u"?F(210):imscNames,typeof imscStyles>"u"?F(6811):imscStyles,typeof imscUtils>"u"?F(5926):imscUtils)},4080:(At,Ze,F)=>{!function(ye,P,f,h){ye.generateISD=function(T,q,W){var ne,J=new M(T),se={},H={},k=T.head.styling.initials[f.byName.showBackground.qname],K=T.head.styling.initials[f.byName.backgroundColor.qname];for(var de in T.head.layout.regions)if(T.head.layout.regions.hasOwnProperty(de)){var ce=T.head.layout.regions[de],qe=ce.styleAttrs[f.byName.showBackground.qname]||k;H[ce.id]=("always"===qe||void 0===qe)&&void 0!==(ce.styleAttrs[f.byName.backgroundColor.qname]||K)&&!(q<ce.begin||q>=ce.end)}for(var pe in T.body&&T.body.regionID&&(H[T.body.regionID]=!0),ne=null!==T.body?function He(Ke,Ne){if(Ne.contents){var je={};for(var it in Ne)Ne.hasOwnProperty(it)&&(je[it]=Ne[it]);return je.contents=[],Ne.contents.filter(function(Mt){return!(Ke<Mt.begin||Ke>=Mt.end)}).forEach(function(Mt){var ut=He(Ke,Mt);ut.regionID&&(H[ut.regionID]=!0),null!==ut&&je.contents.push(ut)}),je}return Ne}(q,T.body):null,void 0!==H[""]&&(H[""]=!0),H)if(H[pe]){var Nt=S(T,q,T.head.layout.regions[pe],ne,null,"",T.head.layout.regions[pe],W,se);null!==Nt&&J.contents.push(Nt.element)}return J};var O=[f.byName.color.qname,f.byName.textCombine.qname,f.byName.textDecoration.qname,f.byName.textEmphasis.qname,f.byName.textOutline.qname,f.byName.textShadow.qname];function S(T,q,W,ne,J,se,H,k,K){if(q<H.begin||q>=H.end)return null;var de="regionID"in H&&""!==H.regionID?H.regionID:se;if(null!==J&&de!==W.id&&(!("contents"in H)||"contents"in H&&0===H.contents.length||""!==de))return null;var ce=new p(H);if("sets"in H)for(var qe=0;qe<H.sets.length;qe++)q<H.sets[qe].begin||q>=H.sets[qe].end||(ce.styleAttrs[H.sets[qe].qname]=H.sets[qe].value);var ot={};for(var pe in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(pe)&&(ot[pe]=!0,"region"===ce.kind&&pe===f.byName.writingMode.qname&&!(f.byName.direction.qname in ce.styleAttrs))){var Nt=ce.styleAttrs[pe];"lrtb"===Nt||"lr"===Nt?ce.styleAttrs[f.byName.direction.qname]="ltr":"rltb"!==Nt&&"rl"!==Nt||(ce.styleAttrs[f.byName.direction.qname]="rtl")}if(null!==J)for(var He=0;He<f.all.length;He++){var Ke=f.all[He];if(Ke.qname===f.byName.textDecoration.qname){var Ne=J.styleAttrs[Ke.qname],je=ce.styleAttrs[Ke.qname],it=[];void 0===je?it=Ne:-1===je.indexOf("none")?((-1===je.indexOf("noUnderline")&&-1!==Ne.indexOf("underline")||-1!==je.indexOf("underline"))&&it.push("underline"),(-1===je.indexOf("noLineThrough")&&-1!==Ne.indexOf("lineThrough")||-1!==je.indexOf("lineThrough"))&&it.push("lineThrough"),(-1===je.indexOf("noOverline")&&-1!==Ne.indexOf("overline")||-1!==je.indexOf("overline"))&&it.push("overline")):it.push("none"),ce.styleAttrs[Ke.qname]=it}else if(Ke.qname!==f.byName.fontSize.qname||Ke.qname in ce.styleAttrs||"span"!==ce.kind||"textContainer"!==ce.styleAttrs[f.byName.ruby.qname])if(Ke.qname!==f.byName.fontSize.qname||Ke.qname in ce.styleAttrs||"span"!==ce.kind||"text"!==ce.styleAttrs[f.byName.ruby.qname])Ke.inherit&&Ke.qname in J.styleAttrs&&!(Ke.qname in ce.styleAttrs)&&(ce.styleAttrs[Ke.qname]=J.styleAttrs[Ke.qname]);else{var Mt=J.styleAttrs[f.byName.fontSize.qname];ce.styleAttrs[Ke.qname]="textContainer"===J.styleAttrs[f.byName.ruby.qname]?Mt:new h.ComputedLength(.5*Mt.rw,.5*Mt.rh)}else{var ut=J.styleAttrs[f.byName.fontSize.qname];ce.styleAttrs[Ke.qname]=new h.ComputedLength(.5*ut.rw,.5*ut.rh)}}for(var ke=0;ke<f.all.length;ke++){var _t=f.all[ke];if(!(_t.qname in ce.styleAttrs)&&!(_t.qname===f.byName.position.qname&&f.byName.origin.qname in ce.styleAttrs||_t.qname===f.byName.origin.qname&&f.byName.position.qname in ce.styleAttrs)){var xt=T.head.styling.initials[_t.qname]||_t.initial;if(null!==xt&&("region"===ce.kind||!1===_t.inherit&&null!==xt)){var $e=_t.parse(xt);null!==$e?(ce.styleAttrs[_t.qname]=$e,ot[_t.qname]=!0):y(k,"Invalid initial value for '"+_t.qname+"' on element '"+ce.kind)}}}for(var yt=0;yt<f.all.length;yt++){var me=f.all[yt];if(me.qname in ot&&null!==me.compute){var Ae=me.compute(T,J,ce,ce.styleAttrs[me.qname],K);null!==Ae?ce.styleAttrs[me.qname]=Ae:(ce.styleAttrs[me.qname]=me.compute(T,J,ce,me.parse(me.initial),K),y(k,"Style '"+me.qname+"' on element '"+ce.kind+"' cannot be computed"))}}if("none"===ce.styleAttrs[f.byName.display.qname])return null;var at=null;null===J?at=null===ne?[]:[ne]:"contents"in H&&(at=H.contents);for(var E=0;null!==at&&E<at.length;E++){var _=S(T,q,W,ne,ce,de,at[E],k,K);null!==_&&ce.contents.push(_.element)}for(var R in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(R)){var x=!1;if("span"===ce.kind){var ue=ce.styleAttrs[f.byName.ruby.qname];(x=("container"===ue||"textContainer"===ue||"baseContainer"===ue)&&-1!==O.indexOf(R))||(x="container"!==ue&&R===f.byName.rubyAlign.qname),x||(x=!("textContainer"===ue||"text"===ue)&&R===f.byName.rubyPosition.qname)}if(!x){var oe=f.byQName[R];"applies"in oe&&(x=-1===oe.applies.indexOf(ce.kind))}x&&delete ce.styleAttrs[R]}var xe=ce.styleAttrs[f.byName.ruby.qname];if("p"===ce.kind||"span"===ce.kind&&("textContainer"===xe||"text"===xe)){var Ye=[];g(ce,Ye),function(Xe){for(var Le,tt=0;tt<Xe.length;)if("br"!==(Le=Xe[tt]).kind&&"preserve"!==Le.space){var rt=Le.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(rt)&&(0===tt||"br"===(Re=Xe[tt-1]).kind||/[\r\n\t ]$/.test(Re.text))&&(rt=rt.substring(1)),Le.text=rt,0===rt.length?Xe.splice(tt,1):tt++}else tt++;var Re,We;for(tt=0;tt<Xe.length;tt++)"br"!==(Le=Xe[tt]).kind&&"preserve"!==Le.space?/[ ]$/.test(Le.text)&&(tt===Xe.length-1||"br"===(We=Xe[tt+1]).kind||"preserve"===We.space&&/^[\r\n]/.test(We.text))&&(Le.text=Le.text.slice(0,-1)):tt++}(Ye),C(ce)}return"div"===ce.kind&&f.byName.backgroundImage.qname in ce.styleAttrs||"br"===ce.kind||"image"===ce.kind||"contents"in ce&&ce.contents.length>0||"span"===ce.kind&&null!==ce.text||"region"===ce.kind&&"always"===ce.styleAttrs[f.byName.showBackground.qname]?{region_id:de,element:ce}:null}function g(T,q){if("contents"in T)for(var W=0;W<T.contents.length;W++){var ne=T.contents[W],J=ne.styleAttrs[f.byName.ruby.qname];("span"!==ne.kind||"textContainer"!==J&&"text"!==J)&&("contents"in ne?g(ne,q):("span"===ne.kind&&0!==ne.text.length||"br"===ne.kind)&&q.push(ne))}}function C(T){if("br"===T.kind)return!1;if("text"in T)return 0===T.text.length;if("contents"in T){for(var q=T.contents.length;q--;)C(T.contents[q])&&T.contents.splice(q,1);return 0===T.contents.length}}function M(T){this.contents=[],this.aspectRatio=T.aspectRatio,this.lang=T.lang}function p(T){for(var q in this.kind=T.kind||"region",this.lang=T.lang,T.id&&(this.id=T.id),this.styleAttrs={},T.styleAttrs)T.styleAttrs.hasOwnProperty(q)&&(this.styleAttrs[q]=T.styleAttrs[q]);"src"in T&&(this.src=T.src),"type"in T&&(this.type=T.type),"text"in T?this.text=T.text:("region"===this.kind||"contents"in T)&&(this.contents=[]),"space"in T&&(this.space=T.space)}function y(T,q){if(T&&T.error&&T.error(q))throw q}}(Ze,typeof imscNames>"u"?F(210):imscNames,typeof imscStyles>"u"?F(6811):imscStyles,typeof imscUtils>"u"?F(5926):imscUtils)},4403:(At,Ze,F)=>{Ze.generateISD=F(4080).generateISD,Ze.fromXML=F(3362).fromXML,Ze.renderHTML=F(506).render},210:(At,Ze)=>{var F;(F=Ze).ns_tt="http://www.w3.org/ns/ttml",F.ns_tts="http://www.w3.org/ns/ttml#styling",F.ns_ttp="http://www.w3.org/ns/ttml#parameter",F.ns_xml="http://www.w3.org/XML/1998/namespace",F.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",F.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",F.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",F.ns_ebutts="urn:ebu:tt:style"},6811:(At,Ze,F)=>{!function(ye,P,f){function h(g,C,M,p,y,T,q,W){this.name=C,this.ns=g,this.qname=g+" "+C,this.inherit=y,this.animatable=T,this.initial=M,this.applies=p,this.parse=q,this.compute=W}for(var O in ye.all=[new h(P.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,f.parseColor,null),new h(P.ns_tts,"color","white",["span"],!0,!0,f.parseColor,null),new h(P.ns_tts,"direction","ltr",["p","span"],!0,!0,function(g){return g},null),new h(P.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(g){return g},null),new h(P.ns_tts,"displayAlign","before",["region"],!1,!0,function(g){return g},null),new h(P.ns_tts,"extent","auto",["tt","region"],!1,!0,function(g){if("auto"===g)return g;var C=g.split(" ");if(2!==C.length)return null;var M=f.parseLength(C[0]),p=f.parseLength(C[1]);return p&&M?{h:p,w:M}:null},function(g,C,M,p,y){var T,q;if("auto"===p)T=new f.ComputedLength(0,1);else if(null===(T=f.toComputedLength(p.h.value,p.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===p)q=new f.ComputedLength(1,0);else if(null===(q=f.toComputedLength(p.w.value,p.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:T,w:q}}),new h(P.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(g){for(var C=g.split(","),M=[],p=0;p<C.length;p++)"'"!==C[p].charAt(0)&&'"'!==C[p].charAt(0)&&"default"===C[p]?M.push("monospaceSerif"):M.push(C[p]);return M},null),new h(P.ns_tts,"shear","0%",["p"],!0,!0,f.parseLength,function(g,C,M,p){return"%"!==p.unit?null:Math.abs(p.value)>100?100*Math.sign(p.value):p.value}),new h(P.ns_tts,"fontSize","1c",["span","p"],!0,!0,f.parseLength,function(g,C,M,p,y){return f.toComputedLength(p.value,p.unit,null!==C?C.styleAttrs[ye.byName.fontSize.qname]:g.cellLength.h,null!==C?C.styleAttrs[ye.byName.fontSize.qname]:g.cellLength.h,g.cellLength.h,g.pxLength.h)}),new h(P.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(g){return g},null),new h(P.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(g){return g},null),new h(P.ns_tts,"lineHeight","normal",["p"],!0,!0,function(g){return"normal"===g?g:f.parseLength(g)},function(g,C,M,p,y){var T;if("normal"===p)T=p;else if(null===(T=f.toComputedLength(p.value,p.unit,M.styleAttrs[ye.byName.fontSize.qname],M.styleAttrs[ye.byName.fontSize.qname],g.cellLength.h,g.pxLength.h)))return null;return T}),new h(P.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new h(P.ns_tts,"origin","auto",["region"],!1,!0,function(g){if("auto"===g)return g;var C=g.split(" ");if(2!==C.length)return null;var M=f.parseLength(C[0]),p=f.parseLength(C[1]);return p&&M?{h:p,w:M}:null},function(g,C,M,p,y){var T,q;if("auto"===p)T=new f.ComputedLength(0,0);else if(null===(T=f.toComputedLength(p.h.value,p.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===p)q=new f.ComputedLength(0,0);else if(null===(q=f.toComputedLength(p.w.value,p.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:T,w:q}}),new h(P.ns_tts,"overflow","hidden",["region"],!1,!0,function(g){return g},null),new h(P.ns_tts,"padding","0px",["region"],!1,!0,function(g){var C=g.split(" ");if(C.length>4)return null;for(var M=[],p=0;p<C.length;p++){var y=f.parseLength(C[p]);if(!y)return null;M.push(y)}return M},function(g,C,M,p,y){var T;if(1===p.length)T=[p[0],p[0],p[0],p[0]];else if(2===p.length)T=[p[0],p[1],p[0],p[1]];else if(3===p.length)T=[p[0],p[1],p[2],p[1]];else{if(4!==p.length)return null;T=[p[0],p[1],p[2],p[3]]}var q=M.styleAttrs[ye.byName.writingMode.qname];if("lrtb"===q||"lr"===q)T=[T[0],T[3],T[2],T[1]];else if("rltb"===q||"rl"===q)T=[T[0],T[1],T[2],T[3]];else if("tblr"===q)T=[T[3],T[0],T[1],T[2]];else{if("tbrl"!==q&&"tb"!==q)return null;T=[T[3],T[2],T[1],T[0]]}for(var W=[],ne=0;ne<T.length;ne++)if(0===T[ne].value)W[ne]=new f.ComputedLength(0,0);else if(W[ne]=f.toComputedLength(T[ne].value,T[ne].unit,M.styleAttrs[ye.byName.fontSize.qname],0===ne||2===ne?M.styleAttrs[ye.byName.extent.qname].h:M.styleAttrs[ye.byName.extent.qname].w,0===ne||2===ne?g.cellLength.h:g.cellLength.w,0===ne||2===ne?g.pxLength.h:g.pxLength.w),null===W[ne])return null;return W}),new h(P.ns_tts,"position","top left",["region"],!1,!0,function(g){return f.parsePosition(g)},function(g,C,M,p){var y,T;return null===(y=f.toComputedLength(p.v.offset.value,p.v.offset.unit,null,new f.ComputedLength(-M.styleAttrs[ye.byName.extent.qname].h.rw,g.dimensions.h.rh-M.styleAttrs[ye.byName.extent.qname].h.rh),null,g.pxLength.h))?null:("bottom"===p.v.edge&&(y=new f.ComputedLength(-y.rw-M.styleAttrs[ye.byName.extent.qname].h.rw,g.dimensions.h.rh-y.rh-M.styleAttrs[ye.byName.extent.qname].h.rh)),T=f.toComputedLength(p.h.offset.value,p.h.offset.unit,null,new f.ComputedLength(g.dimensions.w.rw-M.styleAttrs[ye.byName.extent.qname].w.rw,-M.styleAttrs[ye.byName.extent.qname].w.rh),null,g.pxLength.w),null===y?null:("right"===p.h.edge&&(T=new f.ComputedLength(g.dimensions.w.rw-T.rw-M.styleAttrs[ye.byName.extent.qname].w.rw,-T.rh-M.styleAttrs[ye.byName.extent.qname].w.rh)),{h:y,w:T}))}),new h(P.ns_tts,"ruby","none",["span"],!1,!0,function(g){return g},null),new h(P.ns_tts,"rubyAlign","center",["span"],!0,!0,function(g){return"center"!==g&&"spaceAround"!==g?null:g},null),new h(P.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(g){return g},null),new h(P.ns_tts,"rubyReserve","none",["p"],!0,!0,function(g){var C=g.split(" "),M=[null,null];if(0===C.length||C.length>2||"none"!==C[0]&&"both"!==C[0]&&"after"!==C[0]&&"before"!==C[0]&&"outside"!==C[0])return null;if(M[0]=C[0],2===C.length&&"none"!==C[0]){var p=f.parseLength(C[1]);if(!p)return null;M[1]=p}return M},function(g,C,M,p,y){return"none"===p[0]?p:null===(T=null===p[1]?new f.ComputedLength(.5*M.styleAttrs[ye.byName.fontSize.qname].rw,.5*M.styleAttrs[ye.byName.fontSize.qname].rh):f.toComputedLength(p[1].value,p[1].unit,M.styleAttrs[ye.byName.fontSize.qname],M.styleAttrs[ye.byName.fontSize.qname],g.cellLength.h,g.pxLength.h))?null:[p[0],T];var T}),new h(P.ns_tts,"showBackground","always",["region"],!1,!0,function(g){return g},null),new h(P.ns_tts,"textAlign","start",["p"],!0,!0,function(g){return g},function(g,C,M,p,y){return"left"===p?"start":"right"===p?"end":p}),new h(P.ns_tts,"textCombine","none",["span"],!0,!0,function(g){return"none"===g||"all"===g?g:null},null),new h(P.ns_tts,"textDecoration","none",["span"],!0,!0,function(g){return g.split(" ")},null),new h(P.ns_tts,"textEmphasis","none",["span"],!0,!0,function(g){for(var C=g.split(" "),M={style:null,symbol:null,color:null,position:null},p=0;p<C.length;p++)if("none"===C[p]||"auto"===C[p])M.style=C[p];else if("filled"===C[p]||"open"===C[p])M.style=C[p];else if("circle"===C[p]||"dot"===C[p]||"sesame"===C[p])M.symbol=C[p];else if("current"===C[p])M.color=C[p];else if("outside"===C[p]||"before"===C[p]||"after"===C[p])M.position=C[p];else if(M.color=f.parseColor(C[p]),null===M.color)return null;return null==M.style&&null==M.symbol?M.style="auto":(M.symbol=M.symbol||"circle",M.style=M.style||"filled"),M.position=M.position||"outside",M.color=M.color||"current",M},null),new h(P.ns_tts,"textOutline","none",["span"],!0,!0,function(g){if("none"===g)return g;var C={},M=g.split(" ");if(0===M.length||M.length>2)return null;var p=f.parseColor(M[0]);if(C.color=p,null!==p&&M.shift(),1!==M.length)return null;var y=f.parseLength(M[0]);return y?(C.thickness=y,C):null},function(g,C,M,p,y){if("none"===p)return p;var T={};return T.color=null===p.color?M.styleAttrs[ye.byName.color.qname]:p.color,T.thickness=f.toComputedLength(p.thickness.value,p.thickness.unit,M.styleAttrs[ye.byName.fontSize.qname],M.styleAttrs[ye.byName.fontSize.qname],g.cellLength.h,g.pxLength.h),null===T.thickness?null:T}),new h(P.ns_tts,"textShadow","none",["span"],!0,!0,f.parseTextShadow,function(g,C,M,p){if("none"===p)return p;for(var y=[],T=0;T<p.length;T++){var q={};if(q.x_off=f.toComputedLength(p[T][0].value,p[T][0].unit,null,M.styleAttrs[ye.byName.fontSize.qname],null,g.pxLength.w),null===q.x_off||(q.y_off=f.toComputedLength(p[T][1].value,p[T][1].unit,null,M.styleAttrs[ye.byName.fontSize.qname],null,g.pxLength.h),null===q.y_off))return null;if(null===p[T][2])q.b_radius=0;else if(q.b_radius=f.toComputedLength(p[T][2].value,p[T][2].unit,null,M.styleAttrs[ye.byName.fontSize.qname],null,g.pxLength.h),null===q.b_radius)return null;q.color=null===p[T][3]?M.styleAttrs[ye.byName.color.qname]:p[T][3],y.push(q)}return y}),new h(P.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(g){return g},null),new h(P.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(g){return g},null),new h(P.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(g){return g},null),new h(P.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(g){return g},null),new h(P.ns_tts,"zIndex","auto",["region"],!1,!0,function(g){var C;return"auto"===g?C=g:(C=parseInt(g),isNaN(C)&&(C=null)),C},null),new h(P.ns_ebutts,"linePadding","0c",["p"],!0,!1,f.parseLength,function(g,C,M,p,y){return f.toComputedLength(p.value,p.unit,null,null,g.cellLength.w,null)}),new h(P.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(g){return g},null),new h(P.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(g){return g},null),new h(P.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(g){return"true"===g},null),new h(P.ns_itts,"fillLineGap","false",["p"],!0,!0,function(g){return"true"===g},null)],ye.byQName={},ye.all)ye.byQName[ye.all[O].qname]=ye.all[O];for(var S in ye.byName={},ye.all)ye.byName[ye.all[S].name]=ye.all[S]}(Ze,typeof imscNames>"u"?F(210):imscNames,typeof imscUtils>"u"?F(5926):imscUtils)},5926:(At,Ze)=>{!function(F){var ye=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,P=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,f=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,h={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};F.parseColor=function(S){var g,C=null,M=h[S.toLowerCase()];return void 0!==M?C=M:null!==(g=ye.exec(S))?C=[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16),void 0!==g[4]?parseInt(g[4],16):255]:null!==(g=P.exec(S))?C=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),255]:null!==(g=f.exec(S))&&(C=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),parseInt(g[4])]),C};var O=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;F.parseLength=function(S){var g,C=null;return null!==(g=O.exec(S))&&(C={value:parseFloat(g[1]),unit:g[2]}),C},F.parseTextShadow=function(S){for(var g=S.match(/([^\(,\)]|\([^\)]+\))+/g),C=[],M=0;M<g.length;M++){var p=g[M].split(" ");if(1===p.length&&"none"===p[0])return"none";if(p.length>1&&p.length<5){var y=[null,null,null,null],T=F.parseLength(p.shift());if(null===T||(y[0]=T,null===(T=F.parseLength(p.shift()))))return null;if(y[1]=T,0===p.length){C.push(y);continue}if(null!==(T=F.parseLength(p[0]))&&(y[2]=T,p.shift()),0===p.length){C.push(y);continue}var q=F.parseColor(p[0]);if(null===q)return null;y[3]=q,C.push(y)}}return C},F.parsePosition=function(S){var g=S.split(" "),C=function(ne){return"center"===ne||"left"===ne||"top"===ne||"bottom"===ne||"right"===ne};if(g.length>4)return null;for(var M=0;M<g.length;M++)if(!C(g[M])){var p=F.parseLength(g[M]);if(null===p)return null;g[M]=p}for(var y={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},T=0;T<g.length;){var q=g[T++];if(C(q)){var W={value:0,unit:"%"};2!==g.length&&T<g.length&&!C(g[T])&&(W=g[T++]),"right"===q?(y.h.edge=q,y.h.offset=W):"bottom"===q?(y.v.edge=q,y.v.offset=W):"left"===q?y.h.offset=W:"top"===q&&(y.v.offset=W)}else{if(1!==g.length&&2!==g.length)return null;1===T?y.h.offset=q:y.v.offset=q}}return y},F.ComputedLength=function(S,g){this.rw=S,this.rh=g},F.ComputedLength.prototype.toUsedLength=function(S,g){return S*this.rw+g*this.rh},F.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},F.toComputedLength=function(S,g,C,M,p,y){return"%"===g&&M?new F.ComputedLength(M.rw*S/100,M.rh*S/100):"em"===g&&C?new F.ComputedLength(C.rw*S,C.rh*S):"c"===g&&p?new F.ComputedLength(S*p.rw,S*p.rh):"px"===g&&y?new F.ComputedLength(S*y.rw,S*y.rh):"rh"===g?new F.ComputedLength(0,S/100):"rw"===g?new F.ComputedLength(S/100,0):null}}(Ze)},3516:At=>{"use strict";At.exports=function(Ze){var F="string"==typeof Ze?Ze.charCodeAt(0):Ze;return F>=97&&F<=122||F>=65&&F<=90}},2219:(At,Ze,F)=>{"use strict";var ye=F(3516),P=F(395);At.exports=function(f){return ye(f)||P(f)}},395:At=>{"use strict";At.exports=function(Ze){var F="string"==typeof Ze?Ze.charCodeAt(0):Ze;return F>=48&&F<=57}},3875:At=>{"use strict";function Ze(P){if("string"!=typeof P)throw new TypeError("Path must be a string. Received "+JSON.stringify(P))}function F(P,f){for(var h,O="",S=0,g=-1,C=0,M=0;M<=P.length;++M){if(M<P.length)h=P.charCodeAt(M);else{if(47===h)break;h=47}if(47===h){if(g!==M-1&&1!==C)if(g!==M-1&&2===C){if(O.length<2||2!==S||46!==O.charCodeAt(O.length-1)||46!==O.charCodeAt(O.length-2))if(O.length>2){var p=O.lastIndexOf("/");if(p!==O.length-1){-1===p?(O="",S=0):S=(O=O.slice(0,p)).length-1-O.lastIndexOf("/"),g=M,C=0;continue}}else if(2===O.length||1===O.length){O="",S=0,g=M,C=0;continue}f&&(O.length>0?O+="/..":O="..",S=2)}else O.length>0?O+="/"+P.slice(g+1,M):O=P.slice(g+1,M),S=M-g-1;g=M,C=0}else 46===h&&-1!==C?++C:C=-1}return O}var ye={resolve:function(){for(var P,f="",h=!1,O=arguments.length-1;O>=-1&&!h;O--){var S;O>=0?S=arguments[O]:(void 0===P&&(P=process.cwd()),S=P),Ze(S),0!==S.length&&(f=S+"/"+f,h=47===S.charCodeAt(0))}return f=F(f,!h),h?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(P){if(Ze(P),0===P.length)return".";var f=47===P.charCodeAt(0),h=47===P.charCodeAt(P.length-1);return 0!==(P=F(P,!f)).length||f||(P="."),P.length>0&&h&&(P+="/"),f?"/"+P:P},isAbsolute:function(P){return Ze(P),P.length>0&&47===P.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var P,f=0;f<arguments.length;++f){var h=arguments[f];Ze(h),h.length>0&&(void 0===P?P=h:P+="/"+h)}return void 0===P?".":ye.normalize(P)},relative:function(P,f){if(Ze(P),Ze(f),P===f||(P=ye.resolve(P))===(f=ye.resolve(f)))return"";for(var h=1;h<P.length&&47===P.charCodeAt(h);++h);for(var O=P.length,S=O-h,g=1;g<f.length&&47===f.charCodeAt(g);++g);for(var C=f.length-g,M=S<C?S:C,p=-1,y=0;y<=M;++y){if(y===M){if(C>M){if(47===f.charCodeAt(g+y))return f.slice(g+y+1);if(0===y)return f.slice(g+y)}else S>M&&(47===P.charCodeAt(h+y)?p=y:0===y&&(p=0));break}var T=P.charCodeAt(h+y);if(T!==f.charCodeAt(g+y))break;47===T&&(p=y)}var q="";for(y=h+p+1;y<=O;++y)y!==O&&47!==P.charCodeAt(y)||(q+=0===q.length?"..":"/..");return q.length>0?q+f.slice(g+p):(47===f.charCodeAt(g+=p)&&++g,f.slice(g))},_makeLong:function(P){return P},dirname:function(P){if(Ze(P),0===P.length)return".";for(var f=P.charCodeAt(0),h=47===f,O=-1,S=!0,g=P.length-1;g>=1;--g)if(47===(f=P.charCodeAt(g))){if(!S){O=g;break}}else S=!1;return-1===O?h?"/":".":h&&1===O?"//":P.slice(0,O)},basename:function(P,f){if(void 0!==f&&"string"!=typeof f)throw new TypeError('"ext" argument must be a string');Ze(P);var h,O=0,S=-1,g=!0;if(void 0!==f&&f.length>0&&f.length<=P.length){if(f.length===P.length&&f===P)return"";var C=f.length-1,M=-1;for(h=P.length-1;h>=0;--h){var p=P.charCodeAt(h);if(47===p){if(!g){O=h+1;break}}else-1===M&&(g=!1,M=h+1),C>=0&&(p===f.charCodeAt(C)?-1==--C&&(S=h):(C=-1,S=M))}return O===S?S=M:-1===S&&(S=P.length),P.slice(O,S)}for(h=P.length-1;h>=0;--h)if(47===P.charCodeAt(h)){if(!g){O=h+1;break}}else-1===S&&(g=!1,S=h+1);return-1===S?"":P.slice(O,S)},extname:function(P){Ze(P);for(var f=-1,h=0,O=-1,S=!0,g=0,C=P.length-1;C>=0;--C){var M=P.charCodeAt(C);if(47!==M)-1===O&&(S=!1,O=C+1),46===M?-1===f?f=C:1!==g&&(g=1):-1!==f&&(g=-1);else if(!S){h=C+1;break}}return-1===f||-1===O||0===g||1===g&&f===O-1&&f===h+1?"":P.slice(f,O)},format:function(P){if(null===P||"object"!=typeof P)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof P);return S=(h=P).base||(h.name||"")+(h.ext||""),(O=h.dir||h.root)?O===h.root?O+S:O+"/"+S:S;var h,O,S},parse:function(P){Ze(P);var f={root:"",dir:"",base:"",ext:"",name:""};if(0===P.length)return f;var h,O=P.charCodeAt(0),S=47===O;S?(f.root="/",h=1):h=0;for(var g=-1,C=0,M=-1,p=!0,y=P.length-1,T=0;y>=h;--y)if(47!==(O=P.charCodeAt(y)))-1===M&&(p=!1,M=y+1),46===O?-1===g?g=y:1!==T&&(T=1):-1!==g&&(T=-1);else if(!p){C=y+1;break}return-1===g||-1===M||0===T||1===T&&g===M-1&&g===C+1?-1!==M&&(f.base=f.name=P.slice(0===C&&S?1:C,M)):(0===C&&S?(f.name=P.slice(1,g),f.base=P.slice(1,M)):(f.name=P.slice(C,g),f.base=P.slice(C,M)),f.ext=P.slice(g,M)),C>0?f.dir=P.slice(0,C-1):S&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};ye.posix=ye,At.exports=ye},8387:(At,Ze,F)=>{var ye=F(1549),P=ye.Buffer;function f(O,S){for(var g in O)S[g]=O[g]}function h(O,S,g){return P(O,S,g)}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?At.exports=ye:(f(ye,Ze),Ze.Buffer=h),f(P,h),h.from=function(O,S,g){if("number"==typeof O)throw new TypeError("Argument must not be a number");return P(O,S,g)},h.alloc=function(O,S,g){if("number"!=typeof O)throw new TypeError("Argument must be a number");var C=P(O);return void 0!==S?"string"==typeof g?C.fill(S,g):C.fill(S):C.fill(0),C},h.allocUnsafe=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return P(O)},h.allocUnsafeSlow=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return ye.SlowBuffer(O)}},5378:(At,Ze,F)=>{!function(ye){ye.parser=function(E,_){return new h(E,_)},ye.SAXParser=h,ye.SAXStream=S,ye.createStream=function(E,_){return new S(E,_)},ye.MAX_BUFFER_LENGTH=65536;var P,f=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function h(E,_){if(!(this instanceof h))return new h(E,_);var R=this;(function(x){for(var ue=0,oe=f.length;ue<oe;ue++)x[f[ue]]=""})(R),R.q=R.c="",R.bufferCheckPosition=ye.MAX_BUFFER_LENGTH,R.opt=_||{},R.opt.lowercase=R.opt.lowercase||R.opt.lowercasetags,R.looseCase=R.opt.lowercase?"toLowerCase":"toUpperCase",R.tags=[],R.closed=R.closedRoot=R.sawRoot=!1,R.tag=R.error=null,R.strict=!!E,R.noscript=!(!E&&!R.opt.noscript),R.state=pe.BEGIN,R.strictEntities=R.opt.strictEntities,R.ENTITIES=Object.create(R.strictEntities?ye.XML_ENTITIES:ye.ENTITIES),R.attribList=[],R.opt.xmlns&&(R.ns=Object.create(W)),R.trackPosition=!1!==R.opt.position,R.trackPosition&&(R.position=R.line=R.column=0),He(R,"onready")}ye.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(E){function _(){}return _.prototype=E,new _}),Object.keys||(Object.keys=function(E){var _=[];for(var R in E)E.hasOwnProperty(R)&&_.push(R);return _}),h.prototype={end:function(){Mt(this)},write:function(E){var _=this;if(this.error)throw this.error;if(_.closed)return it(_,"Cannot write after close. Assign an onready handler.");if(null===E)return Mt(_);"object"==typeof E&&(E=E.toString());for(var R=0,x="";x=at(E,R++),_.c=x,x;)switch(_.trackPosition&&(_.position++,"\n"===x?(_.line++,_.column=0):_.column++),_.state){case pe.BEGIN:if(_.state=pe.BEGIN_WHITESPACE,"\ufeff"===x)continue;Ae(_,x);continue;case pe.BEGIN_WHITESPACE:Ae(_,x);continue;case pe.TEXT:if(_.sawRoot&&!_.closedRoot){for(var ue=R-1;x&&"<"!==x&&"&"!==x;)(x=at(E,R++))&&_.trackPosition&&(_.position++,"\n"===x?(_.line++,_.column=0):_.column++);_.textNode+=E.substring(ue,R-1)}"<"!==x||_.sawRoot&&_.closedRoot&&!_.strict?(!de(g,x)||_.sawRoot&&!_.closedRoot||ut(_,"Text data outside of root node."),"&"===x?_.state=pe.TEXT_ENTITY:_.textNode+=x):(_.state=pe.OPEN_WAKA,_.startTagPosition=_.position);continue;case pe.SCRIPT:"<"===x?_.state=pe.SCRIPT_ENDING:_.script+=x;continue;case pe.SCRIPT_ENDING:"/"===x?_.state=pe.CLOSE_TAG:(_.script+="<"+x,_.state=pe.SCRIPT);continue;case pe.OPEN_WAKA:"!"===x?(_.state=pe.SGML_DECL,_.sgmlDecl=""):K(g,x)||(K(ne,x)?(_.state=pe.OPEN_TAG,_.tagName=x):"/"===x?(_.state=pe.CLOSE_TAG,_.tagName=""):"?"===x?(_.state=pe.PROC_INST,_.procInstName=_.procInstBody=""):(ut(_,"Unencoded <"),_.startTagPosition+1<_.position&&(x=new Array(_.position-_.startTagPosition).join(" ")+x),_.textNode+="<"+x,_.state=pe.TEXT));continue;case pe.SGML_DECL:"[CDATA["===(_.sgmlDecl+x).toUpperCase()?(Ke(_,"onopencdata"),_.state=pe.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+x==="--"?(_.state=pe.COMMENT,_.comment="",_.sgmlDecl=""):"DOCTYPE"===(_.sgmlDecl+x).toUpperCase()?(_.state=pe.DOCTYPE,(_.doctype||_.sawRoot)&&ut(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):">"===x?(Ke(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=pe.TEXT):(K(p,x)&&(_.state=pe.SGML_DECL_QUOTED),_.sgmlDecl+=x);continue;case pe.SGML_DECL_QUOTED:x===_.q&&(_.state=pe.SGML_DECL,_.q=""),_.sgmlDecl+=x;continue;case pe.DOCTYPE:">"===x?(_.state=pe.TEXT,Ke(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=x,"["===x?_.state=pe.DOCTYPE_DTD:K(p,x)&&(_.state=pe.DOCTYPE_QUOTED,_.q=x));continue;case pe.DOCTYPE_QUOTED:_.doctype+=x,x===_.q&&(_.q="",_.state=pe.DOCTYPE);continue;case pe.DOCTYPE_DTD:_.doctype+=x,"]"===x?_.state=pe.DOCTYPE:K(p,x)&&(_.state=pe.DOCTYPE_DTD_QUOTED,_.q=x);continue;case pe.DOCTYPE_DTD_QUOTED:_.doctype+=x,x===_.q&&(_.state=pe.DOCTYPE_DTD,_.q="");continue;case pe.COMMENT:"-"===x?_.state=pe.COMMENT_ENDING:_.comment+=x;continue;case pe.COMMENT_ENDING:"-"===x?(_.state=pe.COMMENT_ENDED,_.comment=je(_.opt,_.comment),_.comment&&Ke(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+x,_.state=pe.COMMENT);continue;case pe.COMMENT_ENDED:">"!==x?(ut(_,"Malformed comment"),_.comment+="--"+x,_.state=pe.COMMENT):_.state=pe.TEXT;continue;case pe.CDATA:"]"===x?_.state=pe.CDATA_ENDING:_.cdata+=x;continue;case pe.CDATA_ENDING:"]"===x?_.state=pe.CDATA_ENDING_2:(_.cdata+="]"+x,_.state=pe.CDATA);continue;case pe.CDATA_ENDING_2:">"===x?(_.cdata&&Ke(_,"oncdata",_.cdata),Ke(_,"onclosecdata"),_.cdata="",_.state=pe.TEXT):"]"===x?_.cdata+="]":(_.cdata+="]]"+x,_.state=pe.CDATA);continue;case pe.PROC_INST:"?"===x?_.state=pe.PROC_INST_ENDING:K(g,x)?_.state=pe.PROC_INST_BODY:_.procInstName+=x;continue;case pe.PROC_INST_BODY:if(!_.procInstBody&&K(g,x))continue;"?"===x?_.state=pe.PROC_INST_ENDING:_.procInstBody+=x;continue;case pe.PROC_INST_ENDING:">"===x?(Ke(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=pe.TEXT):(_.procInstBody+="?"+x,_.state=pe.PROC_INST_BODY);continue;case pe.OPEN_TAG:K(J,x)?_.tagName+=x:(ke(_),">"===x?$e(_):"/"===x?_.state=pe.OPEN_TAG_SLASH:(de(g,x)&&ut(_,"Invalid character in tag name"),_.state=pe.ATTRIB));continue;case pe.OPEN_TAG_SLASH:">"===x?($e(_,!0),yt(_)):(ut(_,"Forward-slash in opening tag not followed by >"),_.state=pe.ATTRIB);continue;case pe.ATTRIB:if(K(g,x))continue;">"===x?$e(_):"/"===x?_.state=pe.OPEN_TAG_SLASH:K(ne,x)?(_.attribName=x,_.attribValue="",_.state=pe.ATTRIB_NAME):ut(_,"Invalid attribute name");continue;case pe.ATTRIB_NAME:"="===x?_.state=pe.ATTRIB_VALUE:">"===x?(ut(_,"Attribute without value"),_.attribValue=_.attribName,xt(_),$e(_)):K(g,x)?_.state=pe.ATTRIB_NAME_SAW_WHITE:K(J,x)?_.attribName+=x:ut(_,"Invalid attribute name");continue;case pe.ATTRIB_NAME_SAW_WHITE:if("="===x)_.state=pe.ATTRIB_VALUE;else{if(K(g,x))continue;ut(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",Ke(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",">"===x?$e(_):K(ne,x)?(_.attribName=x,_.state=pe.ATTRIB_NAME):(ut(_,"Invalid attribute name"),_.state=pe.ATTRIB)}continue;case pe.ATTRIB_VALUE:if(K(g,x))continue;K(p,x)?(_.q=x,_.state=pe.ATTRIB_VALUE_QUOTED):(ut(_,"Unquoted attribute value"),_.state=pe.ATTRIB_VALUE_UNQUOTED,_.attribValue=x);continue;case pe.ATTRIB_VALUE_QUOTED:if(x!==_.q){"&"===x?_.state=pe.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=x;continue}xt(_),_.q="",_.state=pe.ATTRIB_VALUE_CLOSED;continue;case pe.ATTRIB_VALUE_CLOSED:K(g,x)?_.state=pe.ATTRIB:">"===x?$e(_):"/"===x?_.state=pe.OPEN_TAG_SLASH:K(ne,x)?(ut(_,"No whitespace between attributes"),_.attribName=x,_.attribValue="",_.state=pe.ATTRIB_NAME):ut(_,"Invalid attribute name");continue;case pe.ATTRIB_VALUE_UNQUOTED:if(de(y,x)){"&"===x?_.state=pe.ATTRIB_VALUE_ENTITY_U:_.attribValue+=x;continue}xt(_),">"===x?$e(_):_.state=pe.ATTRIB;continue;case pe.CLOSE_TAG:if(_.tagName)">"===x?yt(_):K(J,x)?_.tagName+=x:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=pe.SCRIPT):(de(g,x)&&ut(_,"Invalid tagname in closing tag"),_.state=pe.CLOSE_TAG_SAW_WHITE);else{if(K(g,x))continue;de(ne,x)?_.script?(_.script+="</"+x,_.state=pe.SCRIPT):ut(_,"Invalid tagname in closing tag."):_.tagName=x}continue;case pe.CLOSE_TAG_SAW_WHITE:if(K(g,x))continue;">"===x?yt(_):ut(_,"Invalid characters in closing tag");continue;case pe.TEXT_ENTITY:case pe.ATTRIB_VALUE_ENTITY_Q:case pe.ATTRIB_VALUE_ENTITY_U:var xe,Ye;switch(_.state){case pe.TEXT_ENTITY:xe=pe.TEXT,Ye="textNode";break;case pe.ATTRIB_VALUE_ENTITY_Q:xe=pe.ATTRIB_VALUE_QUOTED,Ye="attribValue";break;case pe.ATTRIB_VALUE_ENTITY_U:xe=pe.ATTRIB_VALUE_UNQUOTED,Ye="attribValue"}";"===x?(_[Ye]+=me(_),_.entity="",_.state=xe):K(_.entity.length?H:se,x)?_.entity+=x:(ut(_,"Invalid character in entity name"),_[Ye]+="&"+_.entity+x,_.entity="",_.state=xe);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&function(Xe){for(var Le=Math.max(ye.MAX_BUFFER_LENGTH,10),tt=0,rt=0,Re=f.length;rt<Re;rt++){var We=Xe[f[rt]].length;if(We>Le)switch(f[rt]){case"textNode":Ne(Xe);break;case"cdata":Ke(Xe,"oncdata",Xe.cdata),Xe.cdata="";break;case"script":Ke(Xe,"onscript",Xe.script),Xe.script="";break;default:it(Xe,"Max buffer length exceeded: "+f[rt])}tt=Math.max(tt,We)}Xe.bufferCheckPosition=ye.MAX_BUFFER_LENGTH-tt+Xe.position}(_),_},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var E;Ne(E=this),""!==E.cdata&&(Ke(E,"oncdata",E.cdata),E.cdata=""),""!==E.script&&(Ke(E,"onscript",E.script),E.script="")}};try{P=F(182).Stream}catch{P=function(){}}var O=ye.EVENTS.filter(function(E){return"error"!==E&&"end"!==E});function S(E,_){if(!(this instanceof S))return new S(E,_);P.apply(this),this._parser=new h(E,_),this.writable=!0,this.readable=!0;var R=this;this._parser.onend=function(){R.emit("end")},this._parser.onerror=function(x){R.emit("error",x),R._parser.error=null},this._decoder=null,O.forEach(function(x){Object.defineProperty(R,"on"+x,{get:function(){return R._parser["on"+x]},set:function(ue){if(!ue)return R.removeAllListeners(x),R._parser["on"+x]=ue,ue;R.on(x,ue)},enumerable:!0,configurable:!1})})}(S.prototype=Object.create(P.prototype,{constructor:{value:S}})).write=function(E){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(E)){if(!this._decoder){var _=F(7503).s;this._decoder=new _("utf8")}E=this._decoder.write(E)}return this._parser.write(E.toString()),this.emit("data",E),!0},S.prototype.end=function(E){return E&&E.length&&this.write(E),this._parser.end(),!0},S.prototype.on=function(E,_){var R=this;return R._parser["on"+E]||-1===O.indexOf(E)||(R._parser["on"+E]=function(){var x=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);x.splice(0,0,E),R.emit.apply(R,x)}),P.prototype.on.call(R,E,_)};var g="\r\n\t ",C="0124356789",M="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",p="'\"",y=g+">",T="http://www.w3.org/XML/1998/namespace",q="http://www.w3.org/2000/xmlns/",W={xml:T,xmlns:q};g=k(g),C=k(C),M=k(M);var ne=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,J=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,se=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function k(E){return E.split("").reduce(function(_,R){return _[R]=!0,_},{})}function K(E,_){return"[object RegExp]"===Object.prototype.toString.call(E)?!!_.match(E):E[_]}function de(E,_){return!K(E,_)}p=k(p),y=k(y);var ce,qe,ot,pe=0;for(var Nt in ye.STATE={BEGIN:pe++,BEGIN_WHITESPACE:pe++,TEXT:pe++,TEXT_ENTITY:pe++,OPEN_WAKA:pe++,SGML_DECL:pe++,SGML_DECL_QUOTED:pe++,DOCTYPE:pe++,DOCTYPE_QUOTED:pe++,DOCTYPE_DTD:pe++,DOCTYPE_DTD_QUOTED:pe++,COMMENT_STARTING:pe++,COMMENT:pe++,COMMENT_ENDING:pe++,COMMENT_ENDED:pe++,CDATA:pe++,CDATA_ENDING:pe++,CDATA_ENDING_2:pe++,PROC_INST:pe++,PROC_INST_BODY:pe++,PROC_INST_ENDING:pe++,OPEN_TAG:pe++,OPEN_TAG_SLASH:pe++,ATTRIB:pe++,ATTRIB_NAME:pe++,ATTRIB_NAME_SAW_WHITE:pe++,ATTRIB_VALUE:pe++,ATTRIB_VALUE_QUOTED:pe++,ATTRIB_VALUE_CLOSED:pe++,ATTRIB_VALUE_UNQUOTED:pe++,ATTRIB_VALUE_ENTITY_Q:pe++,ATTRIB_VALUE_ENTITY_U:pe++,CLOSE_TAG:pe++,CLOSE_TAG_SAW_WHITE:pe++,SCRIPT:pe++,SCRIPT_ENDING:pe++},ye.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ye.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(ye.ENTITIES).forEach(function(E){var _=ye.ENTITIES[E],R="number"==typeof _?String.fromCharCode(_):_;ye.ENTITIES[E]=R}),ye.STATE)ye.STATE[ye.STATE[Nt]]=Nt;function He(E,_,R){E[_]&&E[_](R)}function Ke(E,_,R){E.textNode&&Ne(E),He(E,_,R)}function Ne(E){E.textNode=je(E.opt,E.textNode),E.textNode&&He(E,"ontext",E.textNode),E.textNode=""}function je(E,_){return E.trim&&(_=_.trim()),E.normalize&&(_=_.replace(/\s+/g," ")),_}function it(E,_){return Ne(E),E.trackPosition&&(_+="\nLine: "+E.line+"\nColumn: "+E.column+"\nChar: "+E.c),_=new Error(_),E.error=_,He(E,"onerror",_),E}function Mt(E){return E.sawRoot&&!E.closedRoot&&ut(E,"Unclosed root tag"),E.state!==pe.BEGIN&&E.state!==pe.BEGIN_WHITESPACE&&E.state!==pe.TEXT&&it(E,"Unexpected end"),Ne(E),E.c="",E.closed=!0,He(E,"onend"),h.call(E,E.strict,E.opt),E}function ut(E,_){if("object"!=typeof E||!(E instanceof h))throw new Error("bad call to strictFail");E.strict&&it(E,_)}function ke(E){E.strict||(E.tagName=E.tagName[E.looseCase]());var _=E.tags[E.tags.length-1]||E,R=E.tag={name:E.tagName,attributes:{}};E.opt.xmlns&&(R.ns=_.ns),E.attribList.length=0,Ke(E,"onopentagstart",R)}function _t(E,_){var R=E.indexOf(":")<0?["",E]:E.split(":"),x=R[0],ue=R[1];return _&&"xmlns"===E&&(x="xmlns",ue=""),{prefix:x,local:ue}}function xt(E){if(E.strict||(E.attribName=E.attribName[E.looseCase]()),-1!==E.attribList.indexOf(E.attribName)||E.tag.attributes.hasOwnProperty(E.attribName))E.attribName=E.attribValue="";else{if(E.opt.xmlns){var _=_t(E.attribName,!0),x=_.local;if("xmlns"===_.prefix)if("xml"===x&&E.attribValue!==T)ut(E,"xml: prefix must be bound to "+T+"\nActual: "+E.attribValue);else if("xmlns"===x&&E.attribValue!==q)ut(E,"xmlns: prefix must be bound to "+q+"\nActual: "+E.attribValue);else{var ue=E.tag,oe=E.tags[E.tags.length-1]||E;ue.ns===oe.ns&&(ue.ns=Object.create(oe.ns)),ue.ns[x]=E.attribValue}E.attribList.push([E.attribName,E.attribValue])}else E.tag.attributes[E.attribName]=E.attribValue,Ke(E,"onattribute",{name:E.attribName,value:E.attribValue});E.attribName=E.attribValue=""}}function $e(E,_){if(E.opt.xmlns){var R=E.tag,x=_t(E.tagName);R.prefix=x.prefix,R.local=x.local,R.uri=R.ns[x.prefix]||"",R.prefix&&!R.uri&&(ut(E,"Unbound namespace prefix: "+JSON.stringify(E.tagName)),R.uri=x.prefix),R.ns&&(E.tags[E.tags.length-1]||E).ns!==R.ns&&Object.keys(R.ns).forEach(function(St){Ke(E,"onopennamespace",{prefix:St,uri:R.ns[St]})});for(var oe=0,xe=E.attribList.length;oe<xe;oe++){var Ye=E.attribList[oe],Xe=Ye[0],Le=Ye[1],tt=_t(Xe,!0),rt=tt.prefix,We=""===rt?"":R.ns[rt]||"",Qe={name:Xe,value:Le,prefix:rt,local:tt.local,uri:We};rt&&"xmlns"!==rt&&!We&&(ut(E,"Unbound namespace prefix: "+JSON.stringify(rt)),Qe.uri=rt),E.tag.attributes[Xe]=Qe,Ke(E,"onattribute",Qe)}E.attribList.length=0}E.tag.isSelfClosing=!!_,E.sawRoot=!0,E.tags.push(E.tag),Ke(E,"onopentag",E.tag),_||(E.state=E.noscript||"script"!==E.tagName.toLowerCase()?pe.TEXT:pe.SCRIPT,E.tag=null,E.tagName=""),E.attribName=E.attribValue="",E.attribList.length=0}function yt(E){if(!E.tagName)return ut(E,"Weird empty close tag."),E.textNode+="</>",void(E.state=pe.TEXT);if(E.script){if("script"!==E.tagName)return E.script+="</"+E.tagName+">",E.tagName="",void(E.state=pe.SCRIPT);Ke(E,"onscript",E.script),E.script=""}var _=E.tags.length,R=E.tagName;E.strict||(R=R[E.looseCase]());for(var x=R;_--&&E.tags[_].name!==x;)ut(E,"Unexpected close tag");if(_<0)return ut(E,"Unmatched closing tag: "+E.tagName),E.textNode+="</"+E.tagName+">",void(E.state=pe.TEXT);E.tagName=R;for(var ue=E.tags.length;ue-- >_;){var oe=E.tag=E.tags.pop();E.tagName=E.tag.name,Ke(E,"onclosetag",E.tagName);var xe={};for(var Ye in oe.ns)xe[Ye]=oe.ns[Ye];E.opt.xmlns&&oe.ns!==(E.tags[E.tags.length-1]||E).ns&&Object.keys(oe.ns).forEach(function(Le){Ke(E,"onclosenamespace",{prefix:Le,uri:oe.ns[Le]})})}0===_&&(E.closedRoot=!0),E.tagName=E.attribValue=E.attribName="",E.attribList.length=0,E.state=pe.TEXT}function me(E){var _,R=E.entity,x=R.toLowerCase(),ue="";return E.ENTITIES[R]?E.ENTITIES[R]:E.ENTITIES[x]?E.ENTITIES[x]:("#"===(R=x).charAt(0)&&("x"===R.charAt(1)?(R=R.slice(2),ue=(_=parseInt(R,16)).toString(16)):(R=R.slice(1),ue=(_=parseInt(R,10)).toString(10))),R=R.replace(/^0+/,""),ue.toLowerCase()!==R?(ut(E,"Invalid character entity"),"&"+E.entity+";"):String.fromCodePoint(_))}function Ae(E,_){"<"===_?(E.state=pe.OPEN_WAKA,E.startTagPosition=E.position):de(g,_)&&(ut(E,"Non-whitespace before first tag."),E.textNode=_,E.state=pe.TEXT)}function at(E,_){var R="";return _<E.length&&(R=E.charAt(_)),R}pe=ye.STATE,String.fromCodePoint||(ce=String.fromCharCode,qe=Math.floor,ot=function(){var E,x=[],ue=-1,oe=arguments.length;if(!oe)return"";for(var xe="";++ue<oe;){var Ye=Number(arguments[ue]);if(!isFinite(Ye)||Ye<0||Ye>1114111||qe(Ye)!==Ye)throw RangeError("Invalid code point: "+Ye);Ye<=65535?x.push(Ye):(E=55296+((Ye-=65536)>>10),x.push(E,Ye%1024+56320)),(ue+1===oe||x.length>16384)&&(xe+=ce.apply(null,x),x.length=0)}return xe},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ot,configurable:!0,writable:!0}):String.fromCodePoint=ot)}(Ze)},182:(At,Ze,F)=>{At.exports=P;var ye=F(1159).EventEmitter;function P(){ye.call(this)}F(1765)(P,ye),P.Readable=F(2846),P.Writable=F(8318),P.Duplex=F(6138),P.Transform=F(9798),P.PassThrough=F(5472),P.finished=F(8800),P.pipeline=F(7295),P.Stream=P,P.prototype.pipe=function(f,h){var O=this;function S(q){f.writable&&!1===f.write(q)&&O.pause&&O.pause()}function g(){O.readable&&O.resume&&O.resume()}O.on("data",S),f.on("drain",g),f._isStdio||h&&!1===h.end||(O.on("end",M),O.on("close",p));var C=!1;function M(){C||(C=!0,f.end())}function p(){C||(C=!0,"function"==typeof f.destroy&&f.destroy())}function y(q){if(T(),0===ye.listenerCount(this,"error"))throw q}function T(){O.removeListener("data",S),f.removeListener("drain",g),O.removeListener("end",M),O.removeListener("close",p),O.removeListener("error",y),f.removeListener("error",y),O.removeListener("end",T),O.removeListener("close",T),f.removeListener("close",T)}return O.on("error",y),f.on("error",y),O.on("end",T),O.on("close",T),f.on("close",T),f.emit("pipe",O),f}},1765:At=>{At.exports="function"==typeof Object.create?function(Ze,F){F&&(Ze.super_=F,Ze.prototype=Object.create(F.prototype,{constructor:{value:Ze,enumerable:!1,writable:!0,configurable:!0}}))}:function(Ze,F){if(F){Ze.super_=F;var ye=function(){};ye.prototype=F.prototype,Ze.prototype=new ye,Ze.prototype.constructor=Ze}}},3690:At=>{"use strict";var Ze={};function F(P,f,h){h||(h=Error);var O=function(S){var g,C;function M(p,y,T){return S.call(this,"string"==typeof f?f:f(p,y,T))||this}return C=S,(g=M).prototype=Object.create(C.prototype),g.prototype.constructor=g,g.__proto__=C,M}(h);O.prototype.name=h.name,O.prototype.code=P,Ze[P]=O}function ye(P,f){if(Array.isArray(P)){var h=P.length;return P=P.map(function(O){return String(O)}),h>2?"one of ".concat(f," ").concat(P.slice(0,h-1).join(", "),", or ")+P[h-1]:2===h?"one of ".concat(f," ").concat(P[0]," or ").concat(P[1]):"of ".concat(f," ").concat(P[0])}return"of ".concat(f," ").concat(String(P))}F("ERR_INVALID_OPT_VALUE",function(P,f){return'The value "'+f+'" is invalid for option "'+P+'"'},TypeError),F("ERR_INVALID_ARG_TYPE",function(P,f,h){var O,g,C,M,y,q;if("string"==typeof f&&"not "===f.substr(0,4)?(O="must not be",f=f.replace(/^not /,"")):O="must be",y=P,(void 0===q||q>y.length)&&(q=y.length)," argument"===y.substring(q-9,q))g="The ".concat(P," ").concat(O," ").concat(ye(f,"type"));else{var p=("number"!=typeof M&&(M=0),M+1>(C=P).length||-1===C.indexOf(".",M)?"argument":"property");g='The "'.concat(P,'" ').concat(p," ").concat(O," ").concat(ye(f,"type"))}return g+". Received type ".concat(typeof h)},TypeError),F("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),F("ERR_METHOD_NOT_IMPLEMENTED",function(P){return"The "+P+" method is not implemented"}),F("ERR_STREAM_PREMATURE_CLOSE","Premature close"),F("ERR_STREAM_DESTROYED",function(P){return"Cannot call "+P+" after a stream was destroyed"}),F("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),F("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),F("ERR_STREAM_WRITE_AFTER_END","write after end"),F("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),F("ERR_UNKNOWN_ENCODING",function(P){return"Unknown encoding: "+P},TypeError),F("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),At.exports.q=Ze},6138:(At,Ze,F)=>{"use strict";var ye=Object.keys||function(p){var y=[];for(var T in p)y.push(T);return y};At.exports=g;var P=F(2846),f=F(8318);F(1765)(g,P);for(var h=ye(f.prototype),O=0;O<h.length;O++){var S=h[O];g.prototype[S]||(g.prototype[S]=f.prototype[S])}function g(p){if(!(this instanceof g))return new g(p);P.call(this,p),f.call(this,p),this.allowHalfOpen=!0,p&&(!1===p.readable&&(this.readable=!1),!1===p.writable&&(this.writable=!1),!1===p.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",C)))}function C(){this._writableState.ended||process.nextTick(M,this)}function M(p){p.end()}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})},5472:(At,Ze,F)=>{"use strict";At.exports=P;var ye=F(9798);function P(f){if(!(this instanceof P))return new P(f);ye.call(this,f)}F(1765)(P,ye),P.prototype._transform=function(f,h,O){O(null,f)}},2846:(At,Ze,F)=>{"use strict";var ye;At.exports=ce,ce.ReadableState=de,F(1159);var P,f=function(me,Ae){return me.listeners(Ae).length},h=F(9299),O=F(1549).Buffer,S=F.g.Uint8Array||function(){},g=F(964);P=g&&g.debuglog?g.debuglog("stream"):function(){};var C,M,p,y=F(8393),T=F(6163),q=F(7269).getHighWaterMark,W=F(3690).q,ne=W.ERR_INVALID_ARG_TYPE,J=W.ERR_STREAM_PUSH_AFTER_EOF,se=W.ERR_METHOD_NOT_IMPLEMENTED,H=W.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;F(1765)(ce,h);var k=T.errorOrDestroy,K=["error","close","destroy","pause","resume"];function de(me,Ae,at){ye=ye||F(6138),"boolean"!=typeof at&&(at=Ae instanceof ye),this.objectMode=!!(me=me||{}).objectMode,at&&(this.objectMode=this.objectMode||!!me.readableObjectMode),this.highWaterMark=q(this,me,"readableHighWaterMark",at),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==me.emitClose,this.autoDestroy=!!me.autoDestroy,this.destroyed=!1,this.defaultEncoding=me.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,me.encoding&&(C||(C=F(7503).s),this.decoder=new C(me.encoding),this.encoding=me.encoding)}function ce(me){if(ye=ye||F(6138),!(this instanceof ce))return new ce(me);this._readableState=new de(me,this,this instanceof ye),this.readable=!0,me&&("function"==typeof me.read&&(this._read=me.read),"function"==typeof me.destroy&&(this._destroy=me.destroy)),h.call(this)}function qe(me,Ae,at,E,_){P("readableAddChunk",Ae);var R,ue,oe,xe,Ye,x=me._readableState;if(null===Ae)x.reading=!1,function(ue,oe){if(P("onEofChunk"),!oe.ended){if(oe.decoder){var xe=oe.decoder.end();xe&&xe.length&&(oe.buffer.push(xe),oe.length+=oe.objectMode?1:xe.length)}oe.ended=!0,oe.sync?He(ue):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,Ke(ue)))}}(me,x);else if(_||(ue=x,O.isBuffer(Ye=oe=Ae)||Ye instanceof S||"string"==typeof oe||void 0===oe||ue.objectMode||(xe=new ne("chunk",["string","Buffer","Uint8Array"],oe)),R=xe),R)k(me,R);else if(x.objectMode||Ae&&Ae.length>0)if("string"==typeof Ae||x.objectMode||Object.getPrototypeOf(Ae)===O.prototype||(Ae=function(ue){return O.from(ue)}(Ae)),E)x.endEmitted?k(me,new H):ot(me,x,Ae,!0);else if(x.ended)k(me,new J);else{if(x.destroyed)return!1;x.reading=!1,x.decoder&&!at?(Ae=x.decoder.write(Ae),x.objectMode||0!==Ae.length?ot(me,x,Ae,!1):Ne(me,x)):ot(me,x,Ae,!1)}else E||(x.reading=!1,Ne(me,x));return!x.ended&&(x.length<x.highWaterMark||0===x.length)}function ot(me,Ae,at,E){Ae.flowing&&0===Ae.length&&!Ae.sync?(Ae.awaitDrain=0,me.emit("data",at)):(Ae.length+=Ae.objectMode?1:at.length,E?Ae.buffer.unshift(at):Ae.buffer.push(at),Ae.needReadable&&He(me)),Ne(me,Ae)}Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(me){this._readableState&&(this._readableState.destroyed=me)}}),ce.prototype.destroy=T.destroy,ce.prototype._undestroy=T.undestroy,ce.prototype._destroy=function(me,Ae){Ae(me)},ce.prototype.push=function(me,Ae){var at,E=this._readableState;return E.objectMode?at=!0:"string"==typeof me&&((Ae=Ae||E.defaultEncoding)!==E.encoding&&(me=O.from(me,Ae),Ae=""),at=!0),qe(this,me,Ae,!1,at)},ce.prototype.unshift=function(me){return qe(this,me,null,!0,!1)},ce.prototype.isPaused=function(){return!1===this._readableState.flowing},ce.prototype.setEncoding=function(me){C||(C=F(7503).s);var Ae=new C(me);this._readableState.decoder=Ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var at=this._readableState.buffer.head,E="";null!==at;)E+=Ae.write(at.data),at=at.next;return this._readableState.buffer.clear(),""!==E&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var pe=1073741824;function Nt(me,Ae){return me<=0||0===Ae.length&&Ae.ended?0:Ae.objectMode?1:me!=me?Ae.flowing&&Ae.length?Ae.buffer.head.data.length:Ae.length:(me>Ae.highWaterMark&&(Ae.highWaterMark=((at=me)>=pe?at=pe:(at--,at|=at>>>1,at|=at>>>2,at|=at>>>4,at|=at>>>8,at|=at>>>16,at++),at)),me<=Ae.length?me:Ae.ended?Ae.length:(Ae.needReadable=!0,0));var at}function He(me){var Ae=me._readableState;P("emitReadable",Ae.needReadable,Ae.emittedReadable),Ae.needReadable=!1,Ae.emittedReadable||(P("emitReadable",Ae.flowing),Ae.emittedReadable=!0,process.nextTick(Ke,me))}function Ke(me){var Ae=me._readableState;P("emitReadable_",Ae.destroyed,Ae.length,Ae.ended),Ae.destroyed||!Ae.length&&!Ae.ended||(me.emit("readable"),Ae.emittedReadable=!1),Ae.needReadable=!Ae.flowing&&!Ae.ended&&Ae.length<=Ae.highWaterMark,ke(me)}function Ne(me,Ae){Ae.readingMore||(Ae.readingMore=!0,process.nextTick(je,me,Ae))}function je(me,Ae){for(;!Ae.reading&&!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.flowing&&0===Ae.length);){var at=Ae.length;if(P("maybeReadMore read 0"),me.read(0),at===Ae.length)break}Ae.readingMore=!1}function it(me){var Ae=me._readableState;Ae.readableListening=me.listenerCount("readable")>0,Ae.resumeScheduled&&!Ae.paused?Ae.flowing=!0:me.listenerCount("data")>0&&me.resume()}function Mt(me){P("readable nexttick read 0"),me.read(0)}function ut(me,Ae){P("resume",Ae.reading),Ae.reading||me.read(0),Ae.resumeScheduled=!1,me.emit("resume"),ke(me),Ae.flowing&&!Ae.reading&&me.read(0)}function ke(me){var Ae=me._readableState;for(P("flow",Ae.flowing);Ae.flowing&&null!==me.read(););}function _t(me,Ae){return 0===Ae.length?null:(Ae.objectMode?at=Ae.buffer.shift():!me||me>=Ae.length?(at=Ae.decoder?Ae.buffer.join(""):1===Ae.buffer.length?Ae.buffer.first():Ae.buffer.concat(Ae.length),Ae.buffer.clear()):at=Ae.buffer.consume(me,Ae.decoder),at);var at}function xt(me){var Ae=me._readableState;P("endReadable",Ae.endEmitted),Ae.endEmitted||(Ae.ended=!0,process.nextTick($e,Ae,me))}function $e(me,Ae){if(P("endReadableNT",me.endEmitted,me.length),!me.endEmitted&&0===me.length&&(me.endEmitted=!0,Ae.readable=!1,Ae.emit("end"),me.autoDestroy)){var at=Ae._writableState;(!at||at.autoDestroy&&at.finished)&&Ae.destroy()}}function yt(me,Ae){for(var at=0,E=me.length;at<E;at++)if(me[at]===Ae)return at;return-1}ce.prototype.read=function(me){P("read",me),me=parseInt(me,10);var Ae=this._readableState,at=me;if(0!==me&&(Ae.emittedReadable=!1),0===me&&Ae.needReadable&&((0!==Ae.highWaterMark?Ae.length>=Ae.highWaterMark:Ae.length>0)||Ae.ended))return P("read: emitReadable",Ae.length,Ae.ended),0===Ae.length&&Ae.ended?xt(this):He(this),null;if(0===(me=Nt(me,Ae))&&Ae.ended)return 0===Ae.length&&xt(this),null;var E,_=Ae.needReadable;return P("need readable",_),(0===Ae.length||Ae.length-me<Ae.highWaterMark)&&P("length less than watermark",_=!0),Ae.ended||Ae.reading?P("reading or ended",_=!1):_&&(P("do read"),Ae.reading=!0,Ae.sync=!0,0===Ae.length&&(Ae.needReadable=!0),this._read(Ae.highWaterMark),Ae.sync=!1,Ae.reading||(me=Nt(at,Ae))),null===(E=me>0?_t(me,Ae):null)?(Ae.needReadable=Ae.length<=Ae.highWaterMark,me=0):(Ae.length-=me,Ae.awaitDrain=0),0===Ae.length&&(Ae.ended||(Ae.needReadable=!0),at!==me&&Ae.ended&&xt(this)),null!==E&&this.emit("data",E),E},ce.prototype._read=function(me){k(this,new se("_read()"))},ce.prototype.pipe=function(me,Ae){var at=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=me;break;case 1:E.pipes=[E.pipes,me];break;default:E.pipes.push(me)}E.pipesCount+=1,P("pipe count=%d opts=%j",E.pipesCount,Ae);var _=Ae&&!1===Ae.end||me===process.stdout||me===process.stderr?Le:R;function R(){P("onend"),me.end()}E.endEmitted?process.nextTick(_):at.once("end",_),me.on("unpipe",function tt(rt,Re){P("onunpipe"),rt===at&&Re&&!1===Re.hasUnpiped&&(Re.hasUnpiped=!0,P("cleanup"),me.removeListener("close",Ye),me.removeListener("finish",Xe),me.removeListener("drain",x),me.removeListener("error",xe),me.removeListener("unpipe",tt),at.removeListener("end",R),at.removeListener("end",Le),at.removeListener("data",oe),ue=!0,!E.awaitDrain||me._writableState&&!me._writableState.needDrain||x())});var tt,x=(tt=at,function(){var rt=tt._readableState;P("pipeOnDrain",rt.awaitDrain),rt.awaitDrain&&rt.awaitDrain--,0===rt.awaitDrain&&f(tt,"data")&&(rt.flowing=!0,ke(tt))});me.on("drain",x);var ue=!1;function oe(tt){P("ondata");var rt=me.write(tt);P("dest.write",rt),!1===rt&&((1===E.pipesCount&&E.pipes===me||E.pipesCount>1&&-1!==yt(E.pipes,me))&&!ue&&(P("false write response, pause",E.awaitDrain),E.awaitDrain++),at.pause())}function xe(tt){P("onerror",tt),Le(),me.removeListener("error",xe),0===f(me,"error")&&k(me,tt)}function Ye(){me.removeListener("finish",Xe),Le()}function Xe(){P("onfinish"),me.removeListener("close",Ye),Le()}function Le(){P("unpipe"),at.unpipe(me)}return at.on("data",oe),function(tt,rt,Re){if("function"==typeof tt.prependListener)return tt.prependListener(rt,Re);tt._events&&tt._events[rt]?Array.isArray(tt._events[rt])?tt._events[rt].unshift(Re):tt._events[rt]=[Re,tt._events[rt]]:tt.on(rt,Re)}(me,"error",xe),me.once("close",Ye),me.once("finish",Xe),me.emit("pipe",at),E.flowing||(P("pipe resume"),at.resume()),me},ce.prototype.unpipe=function(me){var Ae=this._readableState,at={hasUnpiped:!1};if(0===Ae.pipesCount)return this;if(1===Ae.pipesCount)return me&&me!==Ae.pipes||(me||(me=Ae.pipes),Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1,me&&me.emit("unpipe",this,at)),this;if(!me){var E=Ae.pipes,_=Ae.pipesCount;Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1;for(var R=0;R<_;R++)E[R].emit("unpipe",this,{hasUnpiped:!1});return this}var x=yt(Ae.pipes,me);return-1===x||(Ae.pipes.splice(x,1),Ae.pipesCount-=1,1===Ae.pipesCount&&(Ae.pipes=Ae.pipes[0]),me.emit("unpipe",this,at)),this},ce.prototype.addListener=ce.prototype.on=function(me,Ae){var at=h.prototype.on.call(this,me,Ae),E=this._readableState;return"data"===me?(E.readableListening=this.listenerCount("readable")>0,!1!==E.flowing&&this.resume()):"readable"===me&&(E.endEmitted||E.readableListening||(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,P("on readable",E.length,E.reading),E.length?He(this):E.reading||process.nextTick(Mt,this))),at},ce.prototype.removeListener=function(me,Ae){var at=h.prototype.removeListener.call(this,me,Ae);return"readable"===me&&process.nextTick(it,this),at},ce.prototype.removeAllListeners=function(me){var Ae=h.prototype.removeAllListeners.apply(this,arguments);return"readable"!==me&&void 0!==me||process.nextTick(it,this),Ae},ce.prototype.resume=function(){var at,me=this._readableState;return me.flowing||(P("resume"),me.flowing=!me.readableListening,(at=me).resumeScheduled||(at.resumeScheduled=!0,process.nextTick(ut,this,at))),me.paused=!1,this},ce.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ce.prototype.wrap=function(me){var Ae=this,at=this._readableState,E=!1;for(var _ in me.on("end",function(){if(P("wrapped end"),at.decoder&&!at.ended){var x=at.decoder.end();x&&x.length&&Ae.push(x)}Ae.push(null)}),me.on("data",function(x){P("wrapped data"),at.decoder&&(x=at.decoder.write(x)),at.objectMode&&null==x||(at.objectMode||x&&x.length)&&(Ae.push(x)||(E=!0,me.pause()))}),me)void 0===this[_]&&"function"==typeof me[_]&&(this[_]=function(x){return function(){return me[x].apply(me,arguments)}}(_));for(var R=0;R<K.length;R++)me.on(K[R],this.emit.bind(this,K[R]));return this._read=function(x){P("wrapped _read",x),E&&(E=!1,me.resume())},this},"function"==typeof Symbol&&(ce.prototype[Symbol.asyncIterator]=function(){return void 0===M&&(M=F(7299)),M(this)}),Object.defineProperty(ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(me){this._readableState&&(this._readableState.flowing=me)}}),ce._fromList=_t,Object.defineProperty(ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ce.from=function(me,Ae){return void 0===p&&(p=F(6233)),p(ce,me,Ae)})},9798:(At,Ze,F)=>{"use strict";At.exports=C;var ye=F(3690).q,P=ye.ERR_METHOD_NOT_IMPLEMENTED,f=ye.ERR_MULTIPLE_CALLBACK,h=ye.ERR_TRANSFORM_ALREADY_TRANSFORMING,O=ye.ERR_TRANSFORM_WITH_LENGTH_0,S=F(6138);function g(y,T){var q=this._transformState;q.transforming=!1;var W=q.writecb;if(null===W)return this.emit("error",new f);q.writechunk=null,q.writecb=null,null!=T&&this.push(T),W(y);var ne=this._readableState;ne.reading=!1,(ne.needReadable||ne.length<ne.highWaterMark)&&this._read(ne.highWaterMark)}function C(y){if(!(this instanceof C))return new C(y);S.call(this,y),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&("function"==typeof y.transform&&(this._transform=y.transform),"function"==typeof y.flush&&(this._flush=y.flush)),this.on("prefinish",M)}function M(){var y=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(T,q){p(y,T,q)})}function p(y,T,q){if(T)return y.emit("error",T);if(null!=q&&y.push(q),y._writableState.length)throw new O;if(y._transformState.transforming)throw new h;return y.push(null)}F(1765)(C,S),C.prototype.push=function(y,T){return this._transformState.needTransform=!1,S.prototype.push.call(this,y,T)},C.prototype._transform=function(y,T,q){q(new P("_transform()"))},C.prototype._write=function(y,T,q){var W=this._transformState;if(W.writecb=q,W.writechunk=y,W.writeencoding=T,!W.transforming){var ne=this._readableState;(W.needTransform||ne.needReadable||ne.length<ne.highWaterMark)&&this._read(ne.highWaterMark)}},C.prototype._read=function(y){var T=this._transformState;null===T.writechunk||T.transforming?T.needTransform=!0:(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform))},C.prototype._destroy=function(y,T){S.prototype._destroy.call(this,y,function(q){T(q)})}},8318:(At,Ze,F)=>{"use strict";function ye(Ne){var je=this;this.next=null,this.entry=null,this.finish=function(){!function(it,Mt,ut){var ke=it.entry;for(it.entry=null;ke;){var _t=ke.callback;Mt.pendingcb--,_t(void 0),ke=ke.next}Mt.corkedRequestsFree.next=it}(je,Ne)}}var P;At.exports=ce,ce.WritableState=de;var f,h={deprecate:F(7839)},O=F(9299),S=F(1549).Buffer,g=F.g.Uint8Array||function(){},C=F(6163),M=F(7269).getHighWaterMark,p=F(3690).q,y=p.ERR_INVALID_ARG_TYPE,T=p.ERR_METHOD_NOT_IMPLEMENTED,q=p.ERR_MULTIPLE_CALLBACK,W=p.ERR_STREAM_CANNOT_PIPE,ne=p.ERR_STREAM_DESTROYED,J=p.ERR_STREAM_NULL_VALUES,se=p.ERR_STREAM_WRITE_AFTER_END,H=p.ERR_UNKNOWN_ENCODING,k=C.errorOrDestroy;function K(){}function de(Ne,je,it){P=P||F(6138),"boolean"!=typeof it&&(it=je instanceof P),this.objectMode=!!(Ne=Ne||{}).objectMode,it&&(this.objectMode=this.objectMode||!!Ne.writableObjectMode),this.highWaterMark=M(this,Ne,"writableHighWaterMark",it),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ne.decodeStrings),this.defaultEncoding=Ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ut){!function(ke,_t){var Ae,xt=ke._writableState,$e=xt.sync,yt=xt.writecb;if("function"!=typeof yt)throw new q;if((Ae=xt).writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0,_t)!function(Ae,at,E,_,R){--at.pendingcb,E?(process.nextTick(R,_),process.nextTick(Ke,Ae,at),Ae._writableState.errorEmitted=!0,k(Ae,_)):(R(_),Ae._writableState.errorEmitted=!0,k(Ae,_),Ke(Ae,at))}(ke,xt,$e,_t,yt);else{var me=Nt(xt)||ke.destroyed;me||xt.corked||xt.bufferProcessing||!xt.bufferedRequest||pe(ke,xt),$e?process.nextTick(ot,ke,xt,me,yt):ot(ke,xt,me,yt)}}(je,ut)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ne.emitClose,this.autoDestroy=!!Ne.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ye(this)}function ce(Ne){var je=this instanceof(P=P||F(6138));if(!je&&!f.call(ce,this))return new ce(Ne);this._writableState=new de(Ne,this,je),this.writable=!0,Ne&&("function"==typeof Ne.write&&(this._write=Ne.write),"function"==typeof Ne.writev&&(this._writev=Ne.writev),"function"==typeof Ne.destroy&&(this._destroy=Ne.destroy),"function"==typeof Ne.final&&(this._final=Ne.final)),O.call(this)}function qe(Ne,je,it,Mt,ut,ke,_t){je.writelen=Mt,je.writecb=_t,je.writing=!0,je.sync=!0,je.destroyed?je.onwrite(new ne("write")):it?Ne._writev(ut,je.onwrite):Ne._write(ut,ke,je.onwrite),je.sync=!1}function ot(Ne,je,it,Mt){var ut,ke;it||(ut=Ne,0===(ke=je).length&&ke.needDrain&&(ke.needDrain=!1,ut.emit("drain"))),je.pendingcb--,Mt(),Ke(Ne,je)}function pe(Ne,je){je.bufferProcessing=!0;var it=je.bufferedRequest;if(Ne._writev&&it&&it.next){var ut=new Array(je.bufferedRequestCount),ke=je.corkedRequestsFree;ke.entry=it;for(var _t=0,xt=!0;it;)ut[_t]=it,it.isBuf||(xt=!1),it=it.next,_t+=1;ut.allBuffers=xt,qe(Ne,je,!0,je.length,ut,"",ke.finish),je.pendingcb++,je.lastBufferedRequest=null,ke.next?(je.corkedRequestsFree=ke.next,ke.next=null):je.corkedRequestsFree=new ye(je),je.bufferedRequestCount=0}else{for(;it;){var $e=it.chunk;if(qe(Ne,je,!1,je.objectMode?1:$e.length,$e,it.encoding,it.callback),it=it.next,je.bufferedRequestCount--,je.writing)break}null===it&&(je.lastBufferedRequest=null)}je.bufferedRequest=it,je.bufferProcessing=!1}function Nt(Ne){return Ne.ending&&0===Ne.length&&null===Ne.bufferedRequest&&!Ne.finished&&!Ne.writing}function He(Ne,je){Ne._final(function(it){je.pendingcb--,it&&k(Ne,it),je.prefinished=!0,Ne.emit("prefinish"),Ke(Ne,je)})}function Ke(Ne,je){var ut,ke,it=Nt(je);if(it&&(ut=Ne,(ke=je).prefinished||ke.finalCalled||("function"!=typeof ut._final||ke.destroyed?(ke.prefinished=!0,ut.emit("prefinish")):(ke.pendingcb++,ke.finalCalled=!0,process.nextTick(He,ut,ke))),0===je.pendingcb&&(je.finished=!0,Ne.emit("finish"),je.autoDestroy))){var Mt=Ne._readableState;(!Mt||Mt.autoDestroy&&Mt.endEmitted)&&Ne.destroy()}return it}F(1765)(ce,O),de.prototype.getBuffer=function(){for(var Ne=this.bufferedRequest,je=[];Ne;)je.push(Ne),Ne=Ne.next;return je},function(){try{Object.defineProperty(de.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(ce,Symbol.hasInstance,{value:function(Ne){return!!f.call(this,Ne)||this===ce&&Ne&&Ne._writableState instanceof de}})):f=function(Ne){return Ne instanceof this},ce.prototype.pipe=function(){k(this,new W)},ce.prototype.write=function(Ne,je,it){var Mt,xt,$e,yt,ut=this._writableState,ke=!1,_t=!ut.objectMode&&(S.isBuffer(Mt=Ne)||Mt instanceof g);return _t&&!S.isBuffer(Ne)&&(Ne=S.from(Ne)),"function"==typeof je&&(it=je,je=null),_t?je="buffer":je||(je=ut.defaultEncoding),"function"!=typeof it&&(it=K),ut.ending?(xt=this,$e=it,yt=new se,k(xt,yt),process.nextTick($e,yt)):(_t||function(xt,$e,yt,me){var Ae;return null===yt?Ae=new J:"string"==typeof yt||$e.objectMode||(Ae=new y("chunk",["string","Buffer"],yt)),!Ae||(k(xt,Ae),process.nextTick(me,Ae),!1)}(this,ut,Ne,it))&&(ut.pendingcb++,ke=function(xt,$e,yt,me,Ae,at){if(!yt){var E=(oe=me,(ue=$e).objectMode||!1===ue.decodeStrings||"string"!=typeof oe||(oe=S.from(oe,Ae)),oe);me!==E&&(yt=!0,Ae="buffer",me=E)}var ue,oe,_=$e.objectMode?1:me.length;$e.length+=_;var R=$e.length<$e.highWaterMark;if(R||($e.needDrain=!0),$e.writing||$e.corked){var x=$e.lastBufferedRequest;$e.lastBufferedRequest={chunk:me,encoding:Ae,isBuf:yt,callback:at,next:null},x?x.next=$e.lastBufferedRequest:$e.bufferedRequest=$e.lastBufferedRequest,$e.bufferedRequestCount+=1}else qe(xt,$e,!1,_,me,Ae,at);return R}(this,ut,_t,Ne,je,it)),ke},ce.prototype.cork=function(){this._writableState.corked++},ce.prototype.uncork=function(){var Ne=this._writableState;Ne.corked&&(Ne.corked--,Ne.writing||Ne.corked||Ne.bufferProcessing||!Ne.bufferedRequest||pe(this,Ne))},ce.prototype.setDefaultEncoding=function(Ne){if("string"==typeof Ne&&(Ne=Ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ne+"").toLowerCase())>-1))throw new H(Ne);return this._writableState.defaultEncoding=Ne,this},Object.defineProperty(ce.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ce.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ce.prototype._write=function(Ne,je,it){it(new T("_write()"))},ce.prototype._writev=null,ce.prototype.end=function(Ne,je,it){var ke,_t,Mt=this._writableState;return"function"==typeof Ne?(it=Ne,Ne=null,je=null):"function"==typeof je&&(it=je,je=null),null!=Ne&&this.write(Ne,je),Mt.corked&&(Mt.corked=1,this.uncork()),Mt.ending||(_t=it,(ke=Mt).ending=!0,Ke(this,ke),_t&&(ke.finished?process.nextTick(_t):this.once("finish",_t)),ke.ended=!0,this.writable=!1),this},Object.defineProperty(ce.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ne){this._writableState&&(this._writableState.destroyed=Ne)}}),ce.prototype.destroy=C.destroy,ce.prototype._undestroy=C.undestroy,ce.prototype._destroy=function(Ne,je){je(Ne)}},7299:(At,Ze,F)=>{"use strict";var ye;function P(J,se,H){return se in J?Object.defineProperty(J,se,{value:H,enumerable:!0,configurable:!0,writable:!0}):J[se]=H,J}var f=F(8800),h=Symbol("lastResolve"),O=Symbol("lastReject"),S=Symbol("error"),g=Symbol("ended"),C=Symbol("lastPromise"),M=Symbol("handlePromise"),p=Symbol("stream");function y(J,se){return{value:J,done:se}}function T(J){var se=J[h];if(null!==se){var H=J[p].read();null!==H&&(J[C]=null,J[h]=null,J[O]=null,se(y(H,!1)))}}function q(J){process.nextTick(T,J)}var W=Object.getPrototypeOf(function(){}),ne=Object.setPrototypeOf((P(ye={get stream(){return this[p]},next:function(){var J=this,se=this[S];if(null!==se)return Promise.reject(se);if(this[g])return Promise.resolve(y(void 0,!0));if(this[p].destroyed)return new Promise(function(de,ce){process.nextTick(function(){J[S]?ce(J[S]):de(y(void 0,!0))})});var H,de,ce,k=this[C];if(k)H=new Promise((de=k,ce=this,function(qe,ot){de.then(function(){ce[g]?qe(y(void 0,!0)):ce[M](qe,ot)},ot)}));else{var K=this[p].read();if(null!==K)return Promise.resolve(y(K,!1));H=new Promise(this[M])}return this[C]=H,H}},Symbol.asyncIterator,function(){return this}),P(ye,"return",function(){var J=this;return new Promise(function(se,H){J[p].destroy(null,function(k){k?H(k):se(y(void 0,!0))})})}),ye),W);At.exports=function(J){var se,H=Object.create(ne,(P(se={},p,{value:J,writable:!0}),P(se,h,{value:null,writable:!0}),P(se,O,{value:null,writable:!0}),P(se,S,{value:null,writable:!0}),P(se,g,{value:J._readableState.endEmitted,writable:!0}),P(se,M,{value:function(k,K){var de=H[p].read();de?(H[C]=null,H[h]=null,H[O]=null,k(y(de,!1))):(H[h]=k,H[O]=K)},writable:!0}),se));return H[C]=null,f(J,function(k){if(k&&"ERR_STREAM_PREMATURE_CLOSE"!==k.code){var K=H[O];return null!==K&&(H[C]=null,H[h]=null,H[O]=null,K(k)),void(H[S]=k)}var de=H[h];null!==de&&(H[C]=null,H[h]=null,H[O]=null,de(y(void 0,!0))),H[g]=!0}),J.on("readable",q.bind(null,H)),H}},8393:(At,Ze,F)=>{"use strict";function ye(g,C){var M=Object.keys(g);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(g);C&&(p=p.filter(function(y){return Object.getOwnPropertyDescriptor(g,y).enumerable})),M.push.apply(M,p)}return M}function P(g,C,M){return C in g?Object.defineProperty(g,C,{value:M,enumerable:!0,configurable:!0,writable:!0}):g[C]=M,g}var h=F(1549).Buffer,O=F(9862).inspect,S=O&&O.custom||"inspect";At.exports=function(){function g(){(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,g),this.head=null,this.tail=null,this.length=0}var M;return M=[{key:"push",value:function(p){var y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(p){var y={data:p,next:this.head};0===this.length&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(0!==this.length){var p=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(0===this.length)return"";for(var y=this.head,T=""+y.data;y=y.next;)T+=p+y.data;return T}},{key:"concat",value:function(p){if(0===this.length)return h.alloc(0);for(var W=h.allocUnsafe(p>>>0),ne=this.head,J=0;ne;)h.prototype.copy.call(ne.data,W,J),J+=ne.data.length,ne=ne.next;return W}},{key:"consume",value:function(p,y){var T;return p<this.head.data.length?(T=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):T=p===this.head.data.length?this.shift():y?this._getString(p):this._getBuffer(p),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var y=this.head,T=1,q=y.data;for(p-=q.length;y=y.next;){var W=y.data,ne=p>W.length?W.length:p;if(q+=ne===W.length?W:W.slice(0,p),0==(p-=ne)){ne===W.length?(++T,this.head=y.next?y.next:this.tail=null):(this.head=y,y.data=W.slice(ne));break}++T}return this.length-=T,q}},{key:"_getBuffer",value:function(p){var y=h.allocUnsafe(p),T=this.head,q=1;for(T.data.copy(y),p-=T.data.length;T=T.next;){var W=T.data,ne=p>W.length?W.length:p;if(W.copy(y,y.length-p,0,ne),0==(p-=ne)){ne===W.length?(++q,this.head=T.next?T.next:this.tail=null):(this.head=T,T.data=W.slice(ne));break}++q}return this.length-=q,y}},{key:S,value:function(p,y){return O(this,function(T){for(var q=1;q<arguments.length;q++){var W=null!=arguments[q]?arguments[q]:{};q%2?ye(Object(W),!0).forEach(function(ne){P(T,ne,W[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(W)):ye(Object(W)).forEach(function(ne){Object.defineProperty(T,ne,Object.getOwnPropertyDescriptor(W,ne))})}return T}({},y,{depth:0,customInspect:!1}))}}],M&&function f(g,C){for(var M=0;M<C.length;M++){var p=C[M];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}(g.prototype,M),g}()},6163:At=>{"use strict";function Ze(P,f){ye(P,f),F(P)}function F(P){P._writableState&&!P._writableState.emitClose||P._readableState&&!P._readableState.emitClose||P.emit("close")}function ye(P,f){P.emit("error",f)}At.exports={destroy:function(P,f){var h=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(f?f(P):P&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ye,this,P)):process.nextTick(ye,this,P)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(g){!f&&g?h._writableState?h._writableState.errorEmitted?process.nextTick(F,h):(h._writableState.errorEmitted=!0,process.nextTick(Ze,h,g)):process.nextTick(Ze,h,g):f?(process.nextTick(F,h),f(g)):process.nextTick(F,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(P,f){var h=P._readableState,O=P._writableState;h&&h.autoDestroy||O&&O.autoDestroy?P.destroy(f):P.emit("error",f)}}},8800:(At,Ze,F)=>{"use strict";var ye=F(3690).q.ERR_STREAM_PREMATURE_CLOSE;function P(){}At.exports=function f(h,O,S){if("function"==typeof O)return f(h,null,O);var se,H;O||(O={}),se=S||P,H=!1,S=function(){if(!H){H=!0;for(var k=arguments.length,K=new Array(k),de=0;de<k;de++)K[de]=arguments[de];se.apply(this,K)}};var g=O.readable||!1!==O.readable&&h.readable,C=O.writable||!1!==O.writable&&h.writable,M=function(){h.writable||y()},p=h._writableState&&h._writableState.finished,y=function(){C=!1,p=!0,g||S.call(h)},T=h._readableState&&h._readableState.endEmitted,q=function(){g=!1,T=!0,C||S.call(h)},W=function(se){S.call(h,se)},ne=function(){var se;return g&&!T?(h._readableState&&h._readableState.ended||(se=new ye),S.call(h,se)):C&&!p?(h._writableState&&h._writableState.ended||(se=new ye),S.call(h,se)):void 0},J=function(){h.req.on("finish",y)};return function(se){return se.setHeader&&"function"==typeof se.abort}(h)?(h.on("complete",y),h.on("abort",ne),h.req?J():h.on("request",J)):C&&!h._writableState&&(h.on("end",M),h.on("close",M)),h.on("end",q),h.on("finish",y),!1!==O.error&&h.on("error",W),h.on("close",ne),function(){h.removeListener("complete",y),h.removeListener("abort",ne),h.removeListener("request",J),h.req&&h.req.removeListener("finish",y),h.removeListener("end",M),h.removeListener("close",M),h.removeListener("finish",y),h.removeListener("end",q),h.removeListener("error",W),h.removeListener("close",ne)}}},6233:At=>{At.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:(At,Ze,F)=>{"use strict";var ye,P=F(3690).q,f=P.ERR_MISSING_ARGS,h=P.ERR_STREAM_DESTROYED;function O(p){if(p)throw p}function g(p){p()}function C(p,y){return p.pipe(y)}At.exports=function(){for(var p=arguments.length,y=new Array(p),T=0;T<p;T++)y[T]=arguments[T];var q,W=function M(p){return p.length?"function"!=typeof p[p.length-1]?O:p.pop():O}(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new f("streams");var ne=y.map(function(J,se){var H=se<y.length-1;return function S(p,y,T,q){var J,se;J=q,se=!1,q=function(){se||(se=!0,J.apply(void 0,arguments))};var W=!1;p.on("close",function(){W=!0}),void 0===ye&&(ye=F(8800)),ye(p,{readable:y,writable:T},function(J){if(J)return q(J);W=!0,q()});var ne=!1;return function(J){if(!W&&!ne)return ne=!0,function(se){return se.setHeader&&"function"==typeof se.abort}(p)?p.abort():"function"==typeof p.destroy?p.destroy():void q(J||new h("pipe"))}}(J,H,se>0,function(k){q||(q=k),k&&ne.forEach(g),H||(ne.forEach(g),W(q))})});return y.reduce(C)}},7269:(At,Ze,F)=>{"use strict";var ye=F(3690).q.ERR_INVALID_OPT_VALUE;At.exports={getHighWaterMark:function(P,f,h,O){var g,S=null!=(g=f).highWaterMark?g.highWaterMark:O?g[h]:null;if(null!=S){if(!isFinite(S)||Math.floor(S)!==S||S<0)throw new ye(O?h:"highWaterMark",S);return Math.floor(S)}return P.objectMode?16:16384}}},9299:(At,Ze,F)=>{At.exports=F(1159).EventEmitter},7503:(At,Ze,F)=>{"use strict";var ye=F(8387).Buffer,P=ye.isEncoding||function(T){switch((T=""+T)&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(T){var q;switch(this.encoding=function(W){var ne=function(J){if(!J)return"utf8";for(var se;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(se)return;J=(""+J).toLowerCase(),se=!0}}(W);if("string"!=typeof ne&&(ye.isEncoding===P||!P(W)))throw new Error("Unknown encoding: "+W);return ne||W}(T),this.encoding){case"utf16le":this.text=S,this.end=g,q=4;break;case"utf8":this.fillLast=O,q=4;break;case"base64":this.text=C,this.end=M,q=3;break;default:return this.write=p,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ye.allocUnsafe(q)}function h(T){return T<=127?0:T>>5==6?2:T>>4==14?3:T>>3==30?4:T>>6==2?-1:-2}function O(T){var q=this.lastTotal-this.lastNeed,W=function(ne,J,se){if(128!=(192&J[0]))return ne.lastNeed=0,"\ufffd";if(ne.lastNeed>1&&J.length>1){if(128!=(192&J[1]))return ne.lastNeed=1,"\ufffd";if(ne.lastNeed>2&&J.length>2&&128!=(192&J[2]))return ne.lastNeed=2,"\ufffd"}}(this,T);return void 0!==W?W:this.lastNeed<=T.length?(T.copy(this.lastChar,q,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(T.copy(this.lastChar,q,0,T.length),void(this.lastNeed-=T.length))}function S(T,q){if((T.length-q)%2==0){var W=T.toString("utf16le",q);if(W){var ne=W.charCodeAt(W.length-1);if(ne>=55296&&ne<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],W.slice(0,-1)}return W}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",q,T.length-1)}function g(T){var q=T&&T.length?this.write(T):"";return this.lastNeed?q+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):q}function C(T,q){var W=(T.length-q)%3;return 0===W?T.toString("base64",q):(this.lastNeed=3-W,this.lastTotal=3,1===W?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",q,T.length-W))}function M(T){var q=T&&T.length?this.write(T):"";return this.lastNeed?q+this.lastChar.toString("base64",0,3-this.lastNeed):q}function p(T){return T.toString(this.encoding)}function y(T){return T&&T.length?this.write(T):""}Ze.s=f,f.prototype.write=function(T){if(0===T.length)return"";var q,W;if(this.lastNeed){if(void 0===(q=this.fillLast(T)))return"";W=this.lastNeed,this.lastNeed=0}else W=0;return W<T.length?q?q+this.text(T,W):this.text(T,W):q||""},f.prototype.end=function(T){var q=T&&T.length?this.write(T):"";return this.lastNeed?q+"\ufffd":q},f.prototype.text=function(T,q){var W=function(J,se,H){var k=se.length-1;if(k<H)return 0;var K=h(se[k]);return K>=0?(K>0&&(J.lastNeed=K-1),K):--k<H||-2===K?0:(K=h(se[k]))>=0?(K>0&&(J.lastNeed=K-2),K):--k<H||-2===K?0:(K=h(se[k]))>=0?(K>0&&(2===K?K=0:J.lastNeed=K-3),K):0}(this,T,q);if(!this.lastNeed)return T.toString("utf8",q);this.lastTotal=W;var ne=T.length-(W-this.lastNeed);return T.copy(this.lastChar,0,ne),T.toString("utf8",q,ne)},f.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length}},1067:function(At,Ze,F){var ye;!function(P,f){"use strict";var h="function",O="undefined",S="object",g="string",C="model",M="name",p="type",y="vendor",T="version",q="architecture",W="console",ne="mobile",J="tablet",se="smarttv",H="wearable",k="embedded",K="Amazon",de="Apple",qe="BlackBerry",ot="Browser",pe="Chrome",Nt="Firefox",He="Google",je="Microsoft",it="Motorola",Mt="Opera",ut="Samsung",ke="Sony",xt="Zebra",$e="Facebook",yt=function(Ye){for(var Xe={},Le=0;Le<Ye.length;Le++)Xe[Ye[Le].toUpperCase()]=Ye[Le];return Xe},me=function(Ye,Xe){return typeof Ye===g&&-1!==Ae(Xe).indexOf(Ae(Ye))},Ae=function(Ye){return Ye.toLowerCase()},at=function(Ye,Xe){if(typeof Ye===g)return Ye=Ye.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Xe===O?Ye:Ye.substring(0,255)},E=function(Ye,Xe){for(var Le,tt,rt,Re,We,Qe,St=0;St<Xe.length&&!We;){var kt=Xe[St],on=Xe[St+1];for(Le=tt=0;Le<kt.length&&!We;)if(We=kt[Le++].exec(Ye))for(rt=0;rt<on.length;rt++)Qe=We[++tt],typeof(Re=on[rt])===S&&Re.length>0?2===Re.length?this[Re[0]]=typeof Re[1]==h?Re[1].call(this,Qe):Re[1]:3===Re.length?this[Re[0]]=typeof Re[1]!==h||Re[1].exec&&Re[1].test?Qe?Qe.replace(Re[1],Re[2]):f:Qe?Re[1].call(this,Qe,Re[2]):f:4===Re.length&&(this[Re[0]]=Qe?Re[3].call(this,Qe.replace(Re[1],Re[2])):f):this[Re]=Qe||f;St+=2}},_=function(Ye,Xe){for(var Le in Xe)if(typeof Xe[Le]===S&&Xe[Le].length>0){for(var tt=0;tt<Xe[Le].length;tt++)if(me(Xe[Le][tt],Ye))return"?"===Le?f:Le}else if(me(Xe[Le],Ye))return"?"===Le?f:Le;return Ye},R={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},x={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[T,[M,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[T,[M,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[M,T],[/opios[\/ ]+([\w\.]+)/i],[T,[M,Mt+" Mini"]],[/\bopr\/([\w\.]+)/i],[T,[M,Mt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[M,T],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[T,[M,"UC"+ot]],[/\bqbcore\/([\w\.]+)/i],[T,[M,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[T,[M,"WeChat"]],[/konqueror\/([\w\.]+)/i],[T,[M,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[T,[M,"IE"]],[/yabrowser\/([\w\.]+)/i],[T,[M,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[M,/(.+)/,"$1 Secure "+ot],T],[/\bfocus\/([\w\.]+)/i],[T,[M,Nt+" Focus"]],[/\bopt\/([\w\.]+)/i],[T,[M,Mt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[T,[M,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[T,[M,"Dolphin"]],[/coast\/([\w\.]+)/i],[T,[M,Mt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[T,[M,"MIUI "+ot]],[/fxios\/([-\w\.]+)/i],[T,[M,Nt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[M,"360 "+ot]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[M,/(.+)/,"$1 "+ot],T],[/(comodo_dragon)\/([\w\.]+)/i],[[M,/_/g," "],T],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[M,T],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[M],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[M,$e],T],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[M,T],[/\bgsa\/([\w\.]+) .*safari\//i],[T,[M,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[T,[M,pe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[M,pe+" WebView"],T],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[T,[M,"Android "+ot]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[M,T],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[T,[M,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[T,M],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[M,[T,_,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[M,T],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[M,"Netscape"],T],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[T,[M,Nt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[M,T]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[q,"amd64"]],[/(ia32(?=;))/i],[[q,Ae]],[/((?:i[346]|x)86)[;\)]/i],[[q,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[q,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[q,"armhf"]],[/windows (ce|mobile); ppc;/i],[[q,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[q,/ower/,"",Ae]],[/(sun4\w)[;\)]/i],[[q,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[q,Ae]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[C,[y,ut],[p,J]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[C,[y,ut],[p,ne]],[/\((ip(?:hone|od)[\w ]*);/i],[C,[y,de],[p,ne]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[C,[y,de],[p,J]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[C,[y,"Huawei"],[p,J]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[C,[y,"Huawei"],[p,ne]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[C,/_/g," "],[y,"Xiaomi"],[p,ne]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[C,/_/g," "],[y,"Xiaomi"],[p,J]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[C,[y,"OPPO"],[p,ne]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[C,[y,"Vivo"],[p,ne]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[C,[y,"Realme"],[p,ne]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[C,[y,it],[p,ne]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[C,[y,it],[p,J]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[C,[y,"LG"],[p,J]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[C,[y,"LG"],[p,ne]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[C,[y,"Lenovo"],[p,J]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[C,/_/g," "],[y,"Nokia"],[p,ne]],[/(pixel c)\b/i],[C,[y,He],[p,J]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[C,[y,He],[p,ne]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[C,[y,ke],[p,ne]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[C,"Xperia Tablet"],[y,ke],[p,J]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[C,[y,"OnePlus"],[p,ne]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[C,[y,K],[p,J]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[C,/(.+)/g,"Fire Phone $1"],[y,K],[p,ne]],[/(playbook);[-\w\),; ]+(rim)/i],[C,y,[p,J]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[C,[y,qe],[p,ne]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[C,[y,"ASUS"],[p,J]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[C,[y,"ASUS"],[p,ne]],[/(nexus 9)/i],[C,[y,"HTC"],[p,J]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[y,[C,/_/g," "],[p,ne]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[C,[y,"Acer"],[p,J]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[C,[y,"Meizu"],[p,ne]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[C,[y,"Sharp"],[p,ne]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,C,[p,ne]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,C,[p,J]],[/(surface duo)/i],[C,[y,je],[p,J]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[C,[y,"Fairphone"],[p,ne]],[/(u304aa)/i],[C,[y,"AT&T"],[p,ne]],[/\bsie-(\w*)/i],[C,[y,"Siemens"],[p,ne]],[/\b(rct\w+) b/i],[C,[y,"RCA"],[p,J]],[/\b(venue[\d ]{2,7}) b/i],[C,[y,"Dell"],[p,J]],[/\b(q(?:mv|ta)\w+) b/i],[C,[y,"Verizon"],[p,J]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[C,[y,"Barnes & Noble"],[p,J]],[/\b(tm\d{3}\w+) b/i],[C,[y,"NuVision"],[p,J]],[/\b(k88) b/i],[C,[y,"ZTE"],[p,J]],[/\b(nx\d{3}j) b/i],[C,[y,"ZTE"],[p,ne]],[/\b(gen\d{3}) b.+49h/i],[C,[y,"Swiss"],[p,ne]],[/\b(zur\d{3}) b/i],[C,[y,"Swiss"],[p,J]],[/\b((zeki)?tb.*\b) b/i],[C,[y,"Zeki"],[p,J]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],C,[p,J]],[/\b(ns-?\w{0,9}) b/i],[C,[y,"Insignia"],[p,J]],[/\b((nxa|next)-?\w{0,9}) b/i],[C,[y,"NextBook"],[p,J]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],C,[p,ne]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],C,[p,ne]],[/\b(ph-1) /i],[C,[y,"Essential"],[p,ne]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[C,[y,"Envizen"],[p,J]],[/\b(trio[-\w\. ]+) b/i],[C,[y,"MachSpeed"],[p,J]],[/\btu_(1491) b/i],[C,[y,"Rotor"],[p,J]],[/(shield[\w ]+) b/i],[C,[y,"Nvidia"],[p,J]],[/(sprint) (\w+)/i],[y,C,[p,ne]],[/(kin\.[onetw]{3})/i],[[C,/\./g," "],[y,je],[p,ne]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[C,[y,xt],[p,J]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[C,[y,xt],[p,ne]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,C,[p,W]],[/droid.+; (shield) bui/i],[C,[y,"Nvidia"],[p,W]],[/(playstation [345portablevi]+)/i],[C,[y,ke],[p,W]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[C,[y,je],[p,W]],[/smart-tv.+(samsung)/i],[y,[p,se]],[/hbbtv.+maple;(\d+)/i],[[C,/^/,"SmartTV"],[y,ut],[p,se]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[p,se]],[/(apple) ?tv/i],[y,[C,de+" TV"],[p,se]],[/crkey/i],[[C,pe+"cast"],[y,He],[p,se]],[/droid.+aft(\w)( bui|\))/i],[C,[y,K],[p,se]],[/\(dtv[\);].+(aquos)/i],[C,[y,"Sharp"],[p,se]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[y,at],[C,at],[p,se]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,se]],[/((pebble))app/i],[y,C,[p,H]],[/droid.+; (glass) \d/i],[C,[y,He],[p,H]],[/droid.+; (wt63?0{2,3})\)/i],[C,[y,xt],[p,H]],[/(quest( 2)?)/i],[C,[y,$e],[p,H]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[p,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[C,[p,ne]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[C,[p,J]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,J]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[p,ne]],[/(android[-\w\. ]{0,9});.+buil/i],[C,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[T,[M,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[T,[M,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[M,T],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[T,M]],os:[[/microsoft (windows) (vista|xp)/i],[M,T],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[M,[T,_,R]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[M,"Windows"],[T,_,R]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[T,/_/g,"."],[M,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[M,"Mac OS"],[T,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[T,M],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[M,T],[/\(bb(10);/i],[T,[M,qe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[T,[M,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[T,[M,Nt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[T,[M,"webOS"]],[/crkey\/([\d\.]+)/i],[T,[M,pe+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[M,"Chromium OS"],T],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[M,T],[/(sunos) ?([\w\.\d]*)/i],[[M,"Solaris"],T],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[M,T]]},ue=function(Ye,Xe){if(typeof Ye===S&&(Xe=Ye,Ye=f),!(this instanceof ue))return new ue(Ye,Xe).getResult();var Le=Ye||(typeof P!==O&&P.navigator&&P.navigator.userAgent?P.navigator.userAgent:""),tt=Xe?function(rt,Re){var We={};for(var Qe in rt)We[Qe]=Re[Qe]&&Re[Qe].length%2==0?Re[Qe].concat(rt[Qe]):rt[Qe];return We}(x,Xe):x;return this.getBrowser=function(){var rt,Re={};return Re[M]=f,Re[T]=f,E.call(Re,Le,tt.browser),Re.major=typeof(rt=Re.version)===g?rt.replace(/[^\d\.]/g,"").split(".")[0]:f,Re},this.getCPU=function(){var rt={};return rt[q]=f,E.call(rt,Le,tt.cpu),rt},this.getDevice=function(){var rt={};return rt[y]=f,rt[C]=f,rt[p]=f,E.call(rt,Le,tt.device),rt},this.getEngine=function(){var rt={};return rt[M]=f,rt[T]=f,E.call(rt,Le,tt.engine),rt},this.getOS=function(){var rt={};return rt[M]=f,rt[T]=f,E.call(rt,Le,tt.os),rt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Le},this.setUA=function(rt){return Le=typeof rt===g&&rt.length>255?at(rt,255):rt,this},this.setUA(Le),this};ue.VERSION="1.0.2",ue.BROWSER=yt([M,T,"major"]),ue.CPU=yt([q]),ue.DEVICE=yt([C,y,p,W,ne,se,J,H,k]),ue.ENGINE=ue.OS=yt([M,T]),typeof Ze!==O?(At.exports&&(Ze=At.exports=ue),Ze.UAParser=ue):F.amdO?(ye=function(){return ue}.call(Ze,F,Ze,At))===f||(At.exports=ye):typeof P!==O&&(P.UAParser=ue);var oe=typeof P!==O&&(P.jQuery||P.Zepto);if(oe&&!oe.ua){var xe=new ue;oe.ua=xe.getResult(),oe.ua.get=function(){return xe.getUA()},oe.ua.set=function(Ye){xe.setUA(Ye);var Xe=xe.getResult();for(var Le in Xe)oe.ua[Le]=Xe[Le]}}}("object"==typeof window?window:this)},7839:(At,Ze,F)=>{function ye(P){try{if(!F.g.localStorage)return!1}catch{return!1}var f=F.g.localStorage[P];return null!=f&&"true"===String(f).toLowerCase()}At.exports=function(P,f){if(ye("noDeprecation"))return P;var h=!1;return function(){if(!h){if(ye("throwDeprecation"))throw new Error(f);ye("traceDeprecation")?console.trace(f):console.warn(f),h=!0}return P.apply(this,arguments)}}},9862:()=>{},964:()=>{},3165:At=>{"use strict";At.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:At=>{"use strict";At.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:At=>{"use strict";At.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:At=>{"use strict";At.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:At=>{"use strict";At.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:At=>{"use strict";At.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},Ni={};function Kn(At){var Ze=Ni[At];if(void 0!==Ze)return Ze.exports;var F=Ni[At]={exports:{}};return Xa[At].call(F.exports,F,F.exports,Kn),F.exports}Kn.amdO={},Kn.n=At=>{var Ze=At&&At.__esModule?()=>At.default:()=>At;return Kn.d(Ze,{a:Ze}),Ze},Kn.d=(At,Ze)=>{for(var F in Ze)Kn.o(Ze,F)&&!Kn.o(At,F)&&Object.defineProperty(At,F,{enumerable:!0,get:Ze[F]})},Kn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Kn.o=(At,Ze)=>Object.prototype.hasOwnProperty.call(At,Ze);var rs={};return(()=>{"use strict";Kn.d(rs,{default:()=>S}),Kn(8416);var At,Ze=Kn(1715),F=Kn(8080),ye=Kn(1737),P=Kn(7688),f=function(){var g,C="application/dash+xml";function M(y,T,q){if(!y||!/^VIDEO$/i.test(y.nodeName))return null;if(y._dashjs_player)return y._dashjs_player;var W,ne=y.id||y.name||"video element";if(!(T=T||[].slice.call(y.querySelectorAll("source")).filter(function(J){return J.type==C})[0])&&y.src)(T=document.createElement("source")).src=y.src;else if(!T&&!y.src)return null;return(W=(0,P.Z)(q=q||{}).create()).initialize(y,T.src,y.autoplay),g||(g=W.getDebug().getLogger()),g.debug("Converted "+ne+" to dash.js player and added content: "+T.src),y._dashjs_player=W,W}function p(y){return/^VIDEO$/i.test(y.nodeName)?y:p(y.parentNode)}return{create:M,createAll:function(y,T){var q=[];y=y||"[data-dashjs-player]";for(var W=(T=T||document).querySelectorAll(y),ne=0;ne<W.length;ne++){var J=M(W[ne],null);q.push(J)}for(var se=T.querySelectorAll('source[type="'+C+'"]'),H=0;H<se.length;H++){var k=M(p(se[H]),null);q.push(k)}return q}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?f.createAll():At=window.setInterval(function(){window.dashjs&&(window.clearInterval(At),f.createAll())},500):window.addEventListener("load",function g(){window.removeEventListener("load",g),f.createAll()}));const h=f;var O=Kn(6398);dashjs.Protection=ye.default,dashjs.MetricsReporting=F.default,dashjs.MediaPlayerFactory=h,dashjs.Debug=O.Z,dashjs.supportsMediaSource=Ze.B;const S=dashjs})(),rs.default})()},307:()=>{var Ka,Xa;Xa=Ka||(Ka={}),function(Ni){var Kn="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),rs=At(Xa);function At(Ze,F){return function(ye,P){"function"!=typeof Ze[ye]&&Object.defineProperty(Ze,ye,{configurable:!0,writable:!0,value:P}),F&&F(ye,P)}}typeof Kn.Reflect>"u"?Kn.Reflect=Xa:rs=At(Kn.Reflect,rs),function(Ni){var Kn=Object.prototype.hasOwnProperty,rs="function"==typeof Symbol,At=rs&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",Ze=rs&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",F="function"==typeof Object.create,ye={__proto__:[]}instanceof Array,P=!F&&!ye,f={create:F?function(){return rt(Object.create(null))}:ye?function(){return rt({__proto__:null})}:function(){return rt({})},has:P?function(Re,We){return Kn.call(Re,We)}:function(Re,We){return We in Re},get:P?function(Re,We){return Kn.call(Re,We)?Re[We]:void 0}:function(Re,We){return Re[We]}},h=Object.getPrototypeOf(Function),O="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,S=O||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Xe(){var Re={},We=[],Qe=function(){function Tn(xn,yn,jn){this._index=0,this._keys=xn,this._values=yn,this._selector=jn}return Tn.prototype["@@iterator"]=function(){return this},Tn.prototype[Ze]=function(){return this},Tn.prototype.next=function(){var xn=this._index;if(xn>=0&&xn<this._keys.length){var yn=this._selector(this._keys[xn],this._values[xn]);return xn+1>=this._keys.length?(this._index=-1,this._keys=We,this._values=We):this._index++,{value:yn,done:!1}}return{value:void 0,done:!0}},Tn.prototype.throw=function(xn){throw this._index>=0&&(this._index=-1,this._keys=We,this._values=We),xn},Tn.prototype.return=function(xn){return this._index>=0&&(this._index=-1,this._keys=We,this._values=We),{value:xn,done:!0}},Tn}();return function(){function Tn(){this._keys=[],this._values=[],this._cacheKey=Re,this._cacheIndex=-2}return Object.defineProperty(Tn.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Tn.prototype.has=function(xn){return this._find(xn,!1)>=0},Tn.prototype.get=function(xn){var yn=this._find(xn,!1);return yn>=0?this._values[yn]:void 0},Tn.prototype.set=function(xn,yn){var jn=this._find(xn,!0);return this._values[jn]=yn,this},Tn.prototype.delete=function(xn){var yn=this._find(xn,!1);if(yn>=0){for(var jn=this._keys.length,Hn=yn+1;Hn<jn;Hn++)this._keys[Hn-1]=this._keys[Hn],this._values[Hn-1]=this._values[Hn];return this._keys.length--,this._values.length--,xn===this._cacheKey&&(this._cacheKey=Re,this._cacheIndex=-2),!0}return!1},Tn.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Re,this._cacheIndex=-2},Tn.prototype.keys=function(){return new Qe(this._keys,this._values,St)},Tn.prototype.values=function(){return new Qe(this._keys,this._values,kt)},Tn.prototype.entries=function(){return new Qe(this._keys,this._values,on)},Tn.prototype["@@iterator"]=function(){return this.entries()},Tn.prototype[Ze]=function(){return this.entries()},Tn.prototype._find=function(xn,yn){return this._cacheKey!==xn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=xn)),this._cacheIndex<0&&yn&&(this._cacheIndex=this._keys.length,this._keys.push(xn),this._values.push(void 0)),this._cacheIndex},Tn}();function St(Tn,xn){return Tn}function kt(Tn,xn){return xn}function on(Tn,xn){return[Tn,xn]}}():Map,g=O||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Le(){return function(){function Re(){this._map=new S}return Object.defineProperty(Re.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Re.prototype.has=function(We){return this._map.has(We)},Re.prototype.add=function(We){return this._map.set(We,We),this},Re.prototype.delete=function(We){return this._map.delete(We)},Re.prototype.clear=function(){this._map.clear()},Re.prototype.keys=function(){return this._map.keys()},Re.prototype.values=function(){return this._map.values()},Re.prototype.entries=function(){return this._map.entries()},Re.prototype["@@iterator"]=function(){return this.keys()},Re.prototype[Ze]=function(){return this.keys()},Re}()}():Set,M=new(O||"function"!=typeof WeakMap?function tt(){var Re=16,We=f.create(),Qe=St();return function(){function yn(){this._key=St()}return yn.prototype.has=function(jn){var Hn=kt(jn,!1);return void 0!==Hn&&f.has(Hn,this._key)},yn.prototype.get=function(jn){var Hn=kt(jn,!1);return void 0!==Hn?f.get(Hn,this._key):void 0},yn.prototype.set=function(jn,Hn){return kt(jn,!0)[this._key]=Hn,this},yn.prototype.delete=function(jn){var Hn=kt(jn,!1);return void 0!==Hn&&delete Hn[this._key]},yn.prototype.clear=function(){this._key=St()},yn}();function St(){var yn;do{yn="@@WeakMap@@"+xn()}while(f.has(We,yn));return We[yn]=!0,yn}function kt(yn,jn){if(!Kn.call(yn,Qe)){if(!jn)return;Object.defineProperty(yn,Qe,{value:f.create()})}return yn[Qe]}function on(yn,jn){for(var Hn=0;Hn<jn;++Hn)yn[Hn]=255*Math.random()|0;return yn}function xn(){var yn=function Tn(yn){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(yn)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(yn)):on(new Uint8Array(yn),yn):on(new Array(yn),yn)}(Re);yn[6]=79&yn[6]|64,yn[8]=191&yn[8]|128;for(var jn="",Hn=0;Hn<Re;++Hn){var br=yn[Hn];(4===Hn||6===Hn||8===Hn)&&(jn+="-"),br<16&&(jn+="0"),jn+=br.toString(16).toLowerCase()}return jn}}():WeakMap);function ce(Re,We,Qe){var St=M.get(Re);if(it(St)){if(!Qe)return;St=new S,M.set(Re,St)}var kt=St.get(We);if(it(kt)){if(!Qe)return;kt=new S,St.set(We,kt)}return kt}function qe(Re,We,Qe){if(ot(Re,We,Qe))return!0;var kt=Ye(We);return!Mt(kt)&&qe(Re,kt,Qe)}function ot(Re,We,Qe){var St=ce(We,Qe,!1);return!it(St)&&function $e(Re){return!!Re}(St.has(Re))}function pe(Re,We,Qe){if(ot(Re,We,Qe))return Nt(Re,We,Qe);var kt=Ye(We);return Mt(kt)?void 0:pe(Re,kt,Qe)}function Nt(Re,We,Qe){var St=ce(We,Qe,!1);if(!it(St))return St.get(Re)}function He(Re,We,Qe,St){ce(Qe,St,!0).set(Re,We)}function Ke(Re,We){var Qe=Ne(Re,We),St=Ye(Re);if(null===St)return Qe;var kt=Ke(St,We);if(kt.length<=0)return Qe;if(Qe.length<=0)return kt;for(var on=new g,Tn=[],xn=0,yn=Qe;xn<yn.length;xn++)on.has(jn=yn[xn])||(on.add(jn),Tn.push(jn));for(var br=0,mi=kt;br<mi.length;br++){var jn;on.has(jn=mi[br])||(on.add(jn),Tn.push(jn))}return Tn}function Ne(Re,We){var Qe=[],St=ce(Re,We,!1);if(it(St))return Qe;for(var on=function x(Re){var We=R(Re,Ze);if(!at(We))throw new TypeError;var Qe=We.call(Re);if(!ke(Qe))throw new TypeError;return Qe}(St.keys()),Tn=0;;){var xn=oe(on);if(!xn)return Qe.length=Tn,Qe;var yn=ue(xn);try{Qe[Tn]=yn}catch(jn){try{xe(on)}finally{throw jn}}Tn++}}function je(Re){if(null===Re)return 1;switch(typeof Re){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Re?1:6;default:return 6}}function it(Re){return void 0===Re}function Mt(Re){return null===Re}function ke(Re){return"object"==typeof Re?null!==Re:"function"==typeof Re}function _t(Re,We){switch(je(Re)){case 0:case 1:case 2:case 3:case 4:case 5:return Re}var Qe=3===We?"string":5===We?"number":"default",St=R(Re,At);if(void 0!==St){var kt=St.call(Re,Qe);if(ke(kt))throw new TypeError;return kt}return function xt(Re,We){if("string"===We){var Qe=Re.toString;if(at(Qe)&&!ke(St=Qe.call(Re)))return St;if(at(kt=Re.valueOf)&&!ke(St=kt.call(Re)))return St}else{var kt;if(at(kt=Re.valueOf)&&!ke(St=kt.call(Re)))return St;var St,on=Re.toString;if(at(on)&&!ke(St=on.call(Re)))return St}throw new TypeError}(Re,"default"===Qe?"number":Qe)}function me(Re){var We=_t(Re,3);return function ut(Re){return"symbol"==typeof Re}(We)?We:function yt(Re){return""+Re}(We)}function Ae(Re){return Array.isArray?Array.isArray(Re):Re instanceof Object?Re instanceof Array:"[object Array]"===Object.prototype.toString.call(Re)}function at(Re){return"function"==typeof Re}function E(Re){return"function"==typeof Re}function R(Re,We){var Qe=Re[We];if(null!=Qe){if(!at(Qe))throw new TypeError;return Qe}}function ue(Re){return Re.value}function oe(Re){var We=Re.next();return!We.done&&We}function xe(Re){var We=Re.return;We&&We.call(Re)}function Ye(Re){var We=Object.getPrototypeOf(Re);if("function"!=typeof Re||Re===h||We!==h)return We;var Qe=Re.prototype,St=Qe&&Object.getPrototypeOf(Qe);if(null==St||St===Object.prototype)return We;var kt=St.constructor;return"function"!=typeof kt||kt===Re?We:kt}function rt(Re){return Re.__=void 0,delete Re.__,Re}Ni("decorate",function p(Re,We,Qe,St){if(it(Qe)){if(!Ae(Re))throw new TypeError;if(!E(We))throw new TypeError;return function K(Re,We){for(var Qe=Re.length-1;Qe>=0;--Qe){var kt=(0,Re[Qe])(We);if(!it(kt)&&!Mt(kt)){if(!E(kt))throw new TypeError;We=kt}}return We}(Re,We)}if(!Ae(Re))throw new TypeError;if(!ke(We))throw new TypeError;if(!ke(St)&&!it(St)&&!Mt(St))throw new TypeError;return Mt(St)&&(St=void 0),function de(Re,We,Qe,St){for(var kt=Re.length-1;kt>=0;--kt){var Tn=(0,Re[kt])(We,Qe,St);if(!it(Tn)&&!Mt(Tn)){if(!ke(Tn))throw new TypeError;St=Tn}}return St}(Re,We,Qe=me(Qe),St)}),Ni("metadata",function y(Re,We){return function Qe(St,kt){if(!ke(St))throw new TypeError;if(!it(kt)&&!function _(Re){switch(je(Re)){case 3:case 4:return!0;default:return!1}}(kt))throw new TypeError;He(Re,We,St,kt)}}),Ni("defineMetadata",function T(Re,We,Qe,St){if(!ke(Qe))throw new TypeError;return it(St)||(St=me(St)),He(Re,We,Qe,St)}),Ni("hasMetadata",function q(Re,We,Qe){if(!ke(We))throw new TypeError;return it(Qe)||(Qe=me(Qe)),qe(Re,We,Qe)}),Ni("hasOwnMetadata",function W(Re,We,Qe){if(!ke(We))throw new TypeError;return it(Qe)||(Qe=me(Qe)),ot(Re,We,Qe)}),Ni("getMetadata",function ne(Re,We,Qe){if(!ke(We))throw new TypeError;return it(Qe)||(Qe=me(Qe)),pe(Re,We,Qe)}),Ni("getOwnMetadata",function J(Re,We,Qe){if(!ke(We))throw new TypeError;return it(Qe)||(Qe=me(Qe)),Nt(Re,We,Qe)}),Ni("getMetadataKeys",function se(Re,We){if(!ke(Re))throw new TypeError;return it(We)||(We=me(We)),Ke(Re,We)}),Ni("getOwnMetadataKeys",function H(Re,We){if(!ke(Re))throw new TypeError;return it(We)||(We=me(We)),Ne(Re,We)}),Ni("deleteMetadata",function k(Re,We,Qe){if(!ke(We))throw new TypeError;it(Qe)||(Qe=me(Qe));var St=ce(We,Qe,!1);if(it(St)||!St.delete(Re))return!1;if(St.size>0)return!0;var kt=M.get(We);return kt.delete(Qe),kt.size>0||M.delete(We),!0})}(rs)}()}},Ka=>{Ka(Ka.s=83)}]);