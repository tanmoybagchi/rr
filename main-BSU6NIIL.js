var _1=Object.create;var _g=Object.defineProperty,v1=Object.defineProperties,y1=Object.getOwnPropertyDescriptor,b1=Object.getOwnPropertyDescriptors,E1=Object.getOwnPropertyNames,GE=Object.getOwnPropertySymbols,w1=Object.getPrototypeOf,YE=Object.prototype.hasOwnProperty,T1=Object.prototype.propertyIsEnumerable;var qE=(n,t,e)=>t in n?_g(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,on=(n,t)=>{for(var e in t||={})YE.call(t,e)&&qE(n,e,t[e]);if(GE)for(var e of GE(t))T1.call(t,e)&&qE(n,e,t[e]);return n},Sr=(n,t)=>v1(n,b1(t));var S1=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var C1=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of E1(t))!YE.call(n,i)&&i!==e&&_g(n,i,{get:()=>t[i],enumerable:!(r=y1(t,i))||r.enumerable});return n};var I1=(n,t,e)=>(e=n!=null?_1(w1(n)):{},C1(t||!n||!n.__esModule?_g(e,"default",{value:n,enumerable:!0}):e,n));var $n=(n,t,e)=>new Promise((r,i)=>{var o=u=>{try{f(e.next(u))}catch(c){i(c)}},l=u=>{try{f(e.throw(u))}catch(c){i(c)}},f=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,l);f((e=e.apply(n,t)).next())});var CA=S1((cp,qb)=>{"use strict";(function(n,t){typeof cp=="object"&&typeof qb=="object"?qb.exports=t():typeof define=="function"&&define.amd?define([],t):typeof cp=="object"?cp.dashjs=t():n.dashjs=t()})(self,function(){return function(){var n={4593:function(i,o){var l,f,u,c,d,p=function(C){for(var S=[],h=0;h<C.length;++h){var v=C.charCodeAt(h);v<128?S.push(v):v<2048?(S.push(192|v>>6),S.push(128|63&v)):v<65536?(S.push(224|v>>12),S.push(128|63&v>>6),S.push(128|63&v)):(S.push(240|v>>18),S.push(128|63&v>>12),S.push(128|63&v>>6),S.push(128|63&v))}return S},E=function(C){for(var S=[],h=0;h<C.length;){var v=C[h++];v<128||(v<224?(v=(31&v)<<6,v|=63&C[h++]):v<240?(v=(15&v)<<12,v|=(63&C[h++])<<6,v|=63&C[h++]):(v=(7&v)<<18,v|=(63&C[h++])<<12,v|=(63&C[h++])<<6,v|=63&C[h++])),S.push(String.fromCharCode(v))}return S.join("")},m={};l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(C){for(var S=0,h=[],v=0|C.length/3;0<v--;){var w=(C[S]<<16)+(C[S+1]<<8)+C[S+2];S+=3,h.push(l.charAt(63&w>>18)),h.push(l.charAt(63&w>>12)),h.push(l.charAt(63&w>>6)),h.push(l.charAt(63&w))}return C.length-S==2?(w=(C[S]<<16)+(C[S+1]<<8),h.push(l.charAt(63&w>>18)),h.push(l.charAt(63&w>>12)),h.push(l.charAt(63&w>>6)),h.push("=")):C.length-S==1&&(w=C[S]<<16,h.push(l.charAt(63&w>>18)),h.push(l.charAt(63&w>>12)),h.push("==")),h.join("")},u=function(){for(var C=[],S=0;S<l.length;++S)C[l.charCodeAt(S)]=S;return C["=".charCodeAt(0)]=0,C}(),c=function(C){for(var S=0,h=[],v=0|C.length/4;0<v--;){var w=(u[C.charCodeAt(S)]<<18)+(u[C.charCodeAt(S+1)]<<12)+(u[C.charCodeAt(S+2)]<<6)+u[C.charCodeAt(S+3)];h.push(255&w>>16),h.push(255&w>>8),h.push(255&w),S+=4}return h&&(C.charAt(S-2)=="="?(h.pop(),h.pop()):C.charAt(S-1)=="="&&h.pop()),h},d={encode:function(C){for(var S=[],h=0;h<C.length;++h)S.push(C.charCodeAt(h));return S},decode:function(C){for(var S=0;S<s.length;++S)a[S]=String.fromCharCode(a[S]);return a.join("")}},m.decodeArray=function(C){var S=c(C);return new Uint8Array(S)},m.encodeASCII=function(C){var S=d.encode(C);return f(S)},m.decodeASCII=function(C){var S=c(C);return d.decode(S)},m.encode=function(C){var S=p(C);return f(S)},m.decode=function(C){var S=c(C);return E(S)},o.decode=m.decode,o.decodeArray=m.decodeArray,o.encode=m.encode,o.encodeASCII=m.encodeASCII},452:function(i,o){(function(l){"use strict";var f={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},u=function(B){var ee=B;return f.hasOwnProperty(B)&&(ee=f[B]),String.fromCharCode(ee)},c=15,d=32,p={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},E={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},C={25:2,26:4,29:6,30:8,31:10,27:13,28:15},S=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(B){this.time=B},log:function(B,ee){var le=this.verboseFilter[B];this.verboseLevel>=le&&console.log(this.time+" ["+B+"] "+ee)}},v=function(B){for(var ee=[],le=0;le<B.length;le++)ee.push(B[le].toString(16));return ee},w=function(B,ee,le,Q,se){this.foreground=B||"white",this.underline=ee||!1,this.italics=le||!1,this.background=Q||"black",this.flash=se||!1};w.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(B){for(var ee=["foreground","underline","italics","background","flash"],le=0;le<ee.length;le++){var Q=ee[le];B.hasOwnProperty(Q)&&(this[Q]=B[Q])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(B){return this.foreground===B.foreground&&this.underline===B.underline&&this.italics===B.italics&&this.background===B.background&&this.flash===B.flash},copy:function(B){this.foreground=B.foreground,this.underline=B.underline,this.italics=B.italics,this.background=B.background,this.flash=B.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var M=function(B,ee,le,Q,se,he){this.uchar=B||" ",this.penState=new w(ee,le,Q,se,he)};M.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(B,ee){this.uchar=B,this.penState.copy(ee)},setPenState:function(B){this.penState.copy(B)},equals:function(B){return this.uchar===B.uchar&&this.penState.equals(B.penState)},copy:function(B){this.uchar=B.uchar,this.penState.copy(B.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var j=function(){this.chars=[];for(var B=0;B<d;B++)this.chars.push(new M);this.pos=0,this.currPenState=new w};j.prototype={equals:function(B){for(var ee=!0,le=0;le<d;le++)if(!this.chars[le].equals(B.chars[le])){ee=!1;break}return ee},copy:function(B){for(var ee=0;ee<d;ee++)this.chars[ee].copy(B.chars[ee])},isEmpty:function(){for(var B=!0,ee=0;ee<d;ee++)if(!this.chars[ee].isEmpty()){B=!1;break}return B},setCursor:function(B){this.pos!==B&&(this.pos=B),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>d&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=d)},moveCursor:function(B){var ee=this.pos+B;if(B>1)for(var le=this.pos+1;le<ee+1;le++)this.chars[le].setPenState(this.currPenState);this.setCursor(ee)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(B){B>=144&&this.backSpace();var ee=u(B);this.pos>=d?h.log("ERROR","Cannot insert "+B.toString(16)+" ("+ee+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(ee,this.currPenState),this.moveCursor(1))},clearFromPos:function(B){var ee;for(ee=B;ee<d;ee++)this.chars[ee].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var B=[],ee=!0,le=0;le<d;le++){var Q=this.chars[le].uchar;Q!==" "&&(ee=!1),B.push(Q)}return ee?"":B.join("")},setPenStyles:function(B){this.currPenState.setStyles(B),this.chars[this.pos].setPenState(this.currPenState)}};var q=function(){this.rows=[];for(var B=0;B<c;B++)this.rows.push(new j);this.currRow=14,this.nrRollUpRows=null,this.reset()};q.prototype={reset:function(){for(var B=0;B<c;B++)this.rows[B].clear();this.currRow=14},equals:function(B){for(var ee=!0,le=0;le<c;le++)if(!this.rows[le].equals(B.rows[le])){ee=!1;break}return ee},copy:function(B){for(var ee=0;ee<c;ee++)this.rows[ee].copy(B.rows[ee])},isEmpty:function(){for(var B=!0,ee=0;ee<c;ee++)if(!this.rows[ee].isEmpty()){B=!1;break}return B},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(B){this.rows[this.currRow].insertChar(B)},setPen:function(B){this.rows[this.currRow].setPenStyles(B)},moveCursor:function(B){this.rows[this.currRow].moveCursor(B)},setCursor:function(B){h.log("INFO","setCursor: "+B),this.rows[this.currRow].setCursor(B)},setPAC:function(B){h.log("INFO","pacData = "+JSON.stringify(B));var ee=B.row-1;this.nrRollUpRows&&ee<this.nrRollUpRows-1&&(ee=this.nrRollUpRows-1),this.currRow=ee;var le=this.rows[this.currRow];if(B.indent!==null){var Q=B.indent,se=Math.max(Q-1,0);le.setCursor(B.indent),B.color=le.chars[se].penState.foreground}var he={foreground:B.color,underline:B.underline,italics:B.italics,background:"black",flash:!1};this.setPen(he)},setBkgData:function(B){h.log("INFO","bkgData = "+JSON.stringify(B)),this.backSpace(),this.setPen(B),this.insertChar(32)},setRollUpRows:function(B){this.nrRollUpRows=B},rollUp:function(){if(this.nrRollUpRows!==null){h.log("TEXT",this.getDisplayText());var B=this.currRow+1-this.nrRollUpRows,ee=this.rows.splice(B,1)[0];ee.clear(),this.rows.splice(this.currRow,0,ee),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(B){B=B||!1;for(var ee=[],le="",Q=-1,se=0;se<c;se++){var he=this.rows[se].getTextString();he&&(Q=se+1,B?ee.push("Row "+Q+': "'+he+'"'):ee.push(he.trim()))}return ee.length>0&&(le=B?"["+ee.join(" | ")+"]":ee.join(`
`)),le},getTextAndFormat:function(){return this.rows}};var V=function(B,ee){this.chNr=B,this.outputFilter=ee,this.mode=null,this.verbose=0,this.displayedMemory=new q,this.nonDisplayedMemory=new q,this.lastOutputScreen=new q,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};V.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(B){this.outputFilter=B},setPAC:function(B){this.writeScreen.setPAC(B)},setBkgData:function(B){this.writeScreen.setBkgData(B)},setMode:function(B){B!==this.mode&&(this.mode=B,h.log("INFO","MODE="+B),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=B)},insertChars:function(B){for(var ee=0;ee<B.length;ee++)this.writeScreen.insertChar(B[ee]);var le=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";h.log("INFO",le+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){h.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(B){h.log("INFO","RU("+B+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(B)},cc_FON:function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(h.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var B=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=B,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(B){h.log("INFO","TO("+B+") - Tab Offset"),this.writeScreen.moveCursor(B)},cc_MIDROW:function(B){var ee={flash:!1};if(ee.underline=B%2==1,ee.italics=B>=46,ee.italics)ee.foreground="white";else{var le=Math.floor(B/2)-16;ee.foreground=["white","green","blue","cyan","red","yellow","magenta"][le]}h.log("INFO","MIDROW: "+JSON.stringify(ee)),this.writeScreen.setPen(ee)},outputDataUpdate:function(){var B=h.time;B!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(B,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,B,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:B):this.cueStartTime=B,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(B){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,B,this.displayedMemory),this.cueStartTime=B))}};var re=function(B,ee,le){this.field=B||1,this.outputs=[ee,le],this.channels=[new V(1,ee),new V(2,le)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};re.prototype={getHandler:function(B){return this.channels[B].getHandler()},setHandler:function(B,ee){this.channels[B].setHandler(ee)},addData:function(B,ee){var le,Q,se,he=!1;this.lastTime=B,h.setTime(B);for(var De=0;De<ee.length;De+=2)Q=127&ee[De],se=127&ee[De+1],Q>=16&&Q<=31&&Q===this.lastCmdA&&se===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+v([Q,se])+") is dropped")):Q!==0||se!==0?(h.log("DATA","["+v([ee[De],ee[De+1]])+"] -> ("+v([Q,se])+")"),(le=this.parseCmd(Q,se))||(le=this.parseMidrow(Q,se)),le||(le=this.parsePAC(Q,se)),le||(le=this.parseBackgroundAttributes(Q,se)),le||(he=this.parseChars(Q,se))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(he):h.log("WARNING","No channel found yet. TEXT-MODE?")),le?this.dataCounters.cmd+=2:he?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+v([Q,se])+" orig: "+v([ee[De],ee[De+1]])))):this.dataCounters.padding+=2},parseCmd:function(B,ee){var le;if(!((B===20||B===21||B===28||B===29)&&32<=ee&&ee<=47||(B===23||B===31)&&33<=ee&&ee<=35))return!1;le=B===20||B===21||B===23?1:2;var Q=this.channels[le-1];return B===20||B===21||B===28||B===29?ee===32?Q.cc_RCL():ee===33?Q.cc_BS():ee===34?Q.cc_AOF():ee===35?Q.cc_AON():ee===36?Q.cc_DER():ee===37?Q.cc_RU(2):ee===38?Q.cc_RU(3):ee===39?Q.cc_RU(4):ee===40?Q.cc_FON():ee===41?Q.cc_RDC():ee===42?Q.cc_TR():ee===43?Q.cc_RTD():ee===44?Q.cc_EDM():ee===45?Q.cc_CR():ee===46?Q.cc_ENM():ee===47&&Q.cc_EOC():Q.cc_TO(ee-32),this.lastCmdA=B,this.lastCmdB=ee,this.currChNr=le,!0},parseMidrow:function(B,ee){var le=null;if((B===17||B===25)&&32<=ee&&ee<=47){if((le=B===17?1:2)!==this.currChNr)return h.log("ERROR","Mismatch channel in midrow parsing"),!1;var Q=this.channels[le-1];return Q.insertChars([32]),Q.cc_MIDROW(ee),h.log("DEBUG","MIDROW ("+v([B,ee])+")"),this.lastCmdA=B,this.lastCmdB=ee,!0}return!1},parsePAC:function(B,ee){var le,Q;if(!((17<=B&&B<=23||25<=B&&B<=31)&&64<=ee&&ee<=127||(B===16||B===24)&&64<=ee&&ee<=95))return!1;le=B<=23?1:2,Q=64<=ee&&ee<=95?le===1?p[B]:m[B]:le===1?E[B]:C[B];var se=this.interpretPAC(Q,ee);return this.channels[le-1].setPAC(se),this.lastCmdA=B,this.lastCmdB=ee,this.currChNr=le,!0},interpretPAC:function(B,ee){var le,Q={color:null,italics:!1,indent:null,underline:!1,row:B};return le=ee>95?ee-96:ee-64,Q.underline=(1&le)==1,le<=13?Q.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(le/2)]:le<=15?(Q.italics=!0,Q.color="white"):Q.indent=4*Math.floor((le-16)/2),Q},parseChars:function(B,ee){var le=null,Q=null,se=null;if(B>=25?(le=2,se=B-8):(le=1,se=B),17<=se&&se<=19){var he;he=se===17?ee+80:se===18?ee+112:ee+144,h.log("INFO","Special char '"+u(he)+"' in channel "+le),Q=[he],this.lastCmdA=B,this.lastCmdB=ee}else 32<=B&&B<=127&&(Q=ee===0?[B]:[B,ee],this.lastCmdA=null,this.lastCmdB=null);if(Q){var De=v(Q);h.log("DEBUG","Char codes =  "+De.join(","))}return Q},parseBackgroundAttributes:function(B,ee){var le,Q,se;return((B===16||B===24)&&32<=ee&&ee<=47||(B===23||B===31)&&45<=ee&&ee<=47)&&(le={},B===16||B===24?(Q=Math.floor((ee-32)/2),le.background=S[Q],ee%2==1&&(le.background=le.background+"_semi")):ee===45?le.background="transparent":(le.foreground="black",ee===47&&(le.underline=!0)),se=B<24?1:2,this.channels[se-1].setBkgData(le),this.lastCmdA=B,this.lastCmdB=ee,!0)},reset:function(){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(B){for(var ee=0;ee<this.channels.length;ee++)this.channels[ee]&&this.channels[ee].cueSplitAtTime(B)}},l.logger=h,l.PenState=w,l.CaptionScreen=q,l.Cea608Parser=re,l.findCea608Nalus=function(B,ee,le){for(var Q=0,se=ee,he=[],De=function(Te,Fe,qe,Je){if(Te!==4||Fe<8)return null;var Ie=qe.getUint8(Je),Me=qe.getUint16(Je+1),At=qe.getUint32(Je+3),vt=qe.getUint8(Je+7);return Ie==181&&Me==49&&At==1195456820&&vt==3};se<ee+le;){if(Q=B.getUint32(se),(31&B.getUint8(se+4))==6)for(var ie=se+5,Se=-1;ie<se+4+Q-1;){Se=0;for(var xe=255;xe===255;)Se+=xe=B.getUint8(ie),ie++;var je=0;for(xe=255;xe===255;)je+=xe=B.getUint8(ie),ie++;De(Se,je,B,ie)&&he.push([ie,je]),ie+=je}se+=Q+4}return he},l.extractCea608DataFromRange=function(B,ee){var le=ee[0],Q=[[],[]];le+=8;var se=31&B.getUint8(le);le+=2;for(var he=0;he<se;he++){var De=B.getUint8(le),ie=4&De,Se=3&De;le++;var xe=B.getUint8(le);le++;var je=B.getUint8(le);le++,ie&&(127&xe)+(127&je)!=0&&(Se===0?(Q[0].push(xe),Q[0].push(je)):Se===1&&(Q[1].push(xe),Q[1].push(je)))}return Q}})(o)},8416:function(i,o,l){"use strict";var f=l(1139),u=l(5448),c=l(6398),d=l(2032),p=(l(5530),typeof window<"u"&&window||l.g),E=p.dashjs;E||(E=p.dashjs={}),E.MediaPlayer=f.Z,E.FactoryMaker=u.Z,E.Debug=c.Z,E.Version=(0,d.e)()},6398:function(i,o,l){"use strict";var f=l(5595),u=l(8512),c=l(5448),d=1,p=2,E=3,m=4,C=5;function S(v){v=v||{};var w,M,j,q,V=this.context,re=(0,f.Z)(V).getInstance(),B=v.settings,ee=[];function le(xe){return xe&&xe.bind?xe.bind(window.console):window.console.log.bind(window.console)}function Q(){for(var xe=arguments.length,je=new Array(xe),Te=0;Te<xe;Te++)je[Te]=arguments[Te];Se.apply(void 0,[d,this].concat(je))}function se(){for(var xe=arguments.length,je=new Array(xe),Te=0;Te<xe;Te++)je[Te]=arguments[Te];Se.apply(void 0,[p,this].concat(je))}function he(){for(var xe=arguments.length,je=new Array(xe),Te=0;Te<xe;Te++)je[Te]=arguments[Te];Se.apply(void 0,[E,this].concat(je))}function De(){for(var xe=arguments.length,je=new Array(xe),Te=0;Te<xe;Te++)je[Te]=arguments[Te];Se.apply(void 0,[m,this].concat(je))}function ie(){for(var xe=arguments.length,je=new Array(xe),Te=0;Te<xe;Te++)je[Te]=arguments[Te];Se.apply(void 0,[C,this].concat(je))}function Se(xe,je){var Te="",Fe=null;M&&(Fe=new Date().getTime(),Te+="["+(Fe-q)+"]"),j&&je&&je.getClassName&&(Te+="["+je.getClassName()+"]",je.getType&&(Te+="["+je.getType()+"]")),Te.length>0&&(Te+=" ");for(var qe=arguments.length,Je=new Array(qe>2?qe-2:0),Ie=2;Ie<qe;Ie++)Je[Ie-2]=arguments[Ie];Array.apply(null,Je).forEach(function(Me){Te+=Me+" "}),ee[xe]&&B&&B.get().debug.logLevel>=xe&&ee[xe](Te),B&&B.get().debug.dispatchEvent&&re.trigger(u.Z.LOG,{message:Te,level:xe})}return w={getLogger:function(xe){return{fatal:Q.bind(xe),error:se.bind(xe),warn:he.bind(xe),info:De.bind(xe),debug:ie.bind(xe)}},setLogTimestampVisible:function(xe){M=xe},setCalleeNameVisible:function(xe){j=xe}},M=!0,j=!0,q=new Date().getTime(),typeof window<"u"&&window.console&&(ee[d]=le(window.console.error),ee[p]=le(window.console.error),ee[E]=le(window.console.warn),ee[m]=le(window.console.info),ee[C]=le(window.console.debug)),w}S.__dashjs_factory_name="Debug";var h=c.Z.getSingletonFactory(S);h.LOG_LEVEL_NONE=0,h.LOG_LEVEL_FATAL=d,h.LOG_LEVEL_ERROR=p,h.LOG_LEVEL_WARNING=E,h.LOG_LEVEL_INFO=m,h.LOG_LEVEL_DEBUG=C,c.Z.updateSingletonFactory(S.__dashjs_factory_name,h),o.Z=h},5595:function(i,o,l){"use strict";var f=l(5448),u=l(8825);function c(){var p={};function E(C,S,h){var v=-1;return p[C]&&p[C].some(function(w,M){if(w&&w.callback===S&&(!h||h===w.scope))return v=M,!0}),v}var m={on:function(C,S,h){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!C)throw new Error("event type cannot be null or undefined");if(!S||typeof S!="function")throw new Error("listener must be a function: "+S);var w=v.priority||0;if(!(E(C,S,h)>=0)){p[C]=p[C]||[];var M={callback:S,scope:h,priority:w};h&&h.getStreamId&&(M.streamId=h.getStreamId()),h&&h.getType&&(M.mediaType=h.getType()),v&&v.mode&&(M.mode=v.mode);var j=p[C].some(function(q,V){if(q&&w>q.priority)return p[C].splice(V,0,M),!0});j||p[C].push(M)}},off:function(C,S,h){if(C&&S&&p[C]){var v=E(C,S,h);v<0||(p[C][v]=null)}},trigger:function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(C&&p[C]){if((S=S||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");S.type=C,h.streamId&&(S.streamId=h.streamId),h.mediaType&&(S.mediaType=h.mediaType),p[C].filter(function(v){return!(!v||h.streamId&&v.streamId&&v.streamId!==h.streamId||h.mediaType&&v.mediaType&&v.mediaType!==h.mediaType||h.mode&&v.mode&&v.mode!==h.mode||!v.mode&&h.mode&&h.mode===u.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(v){return v&&v.callback.call(v.scope,S)})}},reset:function(){p={}}};return m}c.__dashjs_factory_name="EventBus";var d=f.Z.getSingletonFactory(c);d.EVENT_PRIORITY_LOW=0,d.EVENT_PRIORITY_HIGH=5e3,f.Z.updateSingletonFactory(c.__dashjs_factory_name,d),o.Z=d},5448:function(i,o){"use strict";var l=function(){var f,u=[],c={},d={};function p(S,h){for(var v in u){var w=u[v];if(w.context===S&&w.name===h)return w.instance}return null}function E(S,h){return h[S]}function m(S,h,v){S in v&&(v[S]=h)}function C(S,h,v){var w,M=S.__dashjs_factory_name,j=h[M];if(j){var q=j.instance;if(!j.override)return q.apply({context:h,factory:f},v);for(var V in w=S.apply({context:h},v),q=q.apply({context:h,factory:f,parent:w},v))w.hasOwnProperty(V)&&(w[V]=q[V])}else w=S.apply({context:h},v);return w.getClassName=function(){return M},w}return f={extend:function(S,h,v,w){!w[S]&&h&&(w[S]={instance:h,override:v})},getSingletonInstance:p,setSingletonInstance:function(S,h,v){for(var w in u){var M=u[w];if(M.context===S&&M.name===h)return void(u[w].instance=v)}u.push({name:h,context:S,instance:v})},deleteSingletonInstances:function(S){u=u.filter(function(h){return h.context!==S})},getSingletonFactory:function(S){var h=E(S.__dashjs_factory_name,c);return h||(h=function(v){var w;return v===void 0&&(v={}),{getInstance:function(){return w||(w=p(v,S.__dashjs_factory_name)),w||(w=C(S,v,arguments),u.push({name:S.__dashjs_factory_name,context:v,instance:w})),w}}},c[S.__dashjs_factory_name]=h),h},getSingletonFactoryByName:function(S){return E(S,c)},updateSingletonFactory:function(S,h){m(S,h,c)},getClassFactory:function(S){var h=E(S.__dashjs_factory_name,d);return h||(h=function(v){return v===void 0&&(v={}),{create:function(){return C(S,v,arguments)}}},d[S.__dashjs_factory_name]=h),h},getClassFactoryByName:function(S){return E(S,d)},updateClassFactory:function(S,h){m(S,h,d)}},f}();o.Z=l},1264:function(i,o,l){"use strict";var f=l(5448),u=l(703),c=l(6398),d=l(3393),p=l(7855),E=l(5595),m=l(8512);function C(w){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},C(w)}function S(w,M,j){return M in w?Object.defineProperty(w,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):w[M]=j,w}function h(){var w,M,j=this.context,q=(0,E.Z)(j).getInstance(),V={"streaming.delay.liveDelay":m.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":m.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":m.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":m.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":m.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},re={debug:{logLevel:c.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:d.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:d.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:d.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:d.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(w={},S(w,p.w.MPD_TYPE,500),S(w,p.w.XLINK_EXPANSION_TYPE,500),S(w,p.w.MEDIA_SEGMENT_TYPE,1e3),S(w,p.w.INIT_SEGMENT_TYPE,1e3),S(w,p.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),S(w,p.w.INDEX_SEGMENT_TYPE,1e3),S(w,p.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),S(w,p.w.LICENSE,1e3),S(w,p.w.OTHER_TYPE,1e3),S(w,"lowLatencyReductionFactor",10),w),retryAttempts:(M={},S(M,p.w.MPD_TYPE,3),S(M,p.w.XLINK_EXPANSION_TYPE,1),S(M,p.w.MEDIA_SEGMENT_TYPE,3),S(M,p.w.INIT_SEGMENT_TYPE,3),S(M,p.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),S(M,p.w.INDEX_SEGMENT_TYPE,3),S(M,p.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),S(M,p.w.LICENSE,3),S(M,p.w.OTHER_TYPE,3),S(M,"lowLatencyMultiplyFactor",5),M),abr:{movingAverageMethod:d.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:d.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},abrRulesParameters:{abandonRequestsRule:{graceTimeThreshold:500,abandonMultiplier:1.8,minLengthToAverage:5}},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:d.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},B=u.Z.clone(re);function ee(le,Q,se){for(var he in le)le.hasOwnProperty(he)&&(Q.hasOwnProperty(he)?C(le[he])!=="object"||le[he]instanceof Array||le[he]===null?(Q[he]=u.Z.clone(le[he]),V[se+he]&&q.trigger(V[se+he])):ee(le[he],Q[he],se.slice()+he+"."):console.error("Settings parameter "+se+he+" is not supported"))}return{get:function(){return B},update:function(le){C(le)==="object"&&ee(le,B,"")},reset:function(){B=u.Z.clone(re)}}}h.__dashjs_factory_name="Settings";var v=f.Z.getSingletonFactory(h);o.Z=v},703:function(i,o,l){"use strict";var f=l(3875),u=l.n(f),c=l(1067);function d(m){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},d(m)}function p(m,C){for(var S=0;S<C.length;S++){var h=C[S];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}var E=function(){function m(){(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,m)}var C,S;return C=m,S=[{key:"mixin",value:function(h,v,w){var M,j={};if(h)for(var q in v)v.hasOwnProperty(q)&&(M=v[q],q in h&&(h[q]===M||q in j&&j[q]===M)||(d(h[q])==="object"&&h[q]!==null?h[q]=m.mixin(h[q],M,w):h[q]=w(M)));return h}},{key:"clone",value:function(h){if(!h||d(h)!=="object")return h;var v;if(h instanceof Array){v=[];for(var w=0,M=h.length;w<M;++w)w in h&&v.push(m.clone(h[w]))}else v={};return m.mixin(v,h,m.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(h,v){try{if(!v||v.length===0)return h;var w=new URL(h);return v.forEach(function(M){M.key&&M.value&&w.searchParams.set(M.key,M.value)}),w.href}catch{return h}}},{key:"parseHttpHeaders",value:function(h){var v={};if(!h)return v;for(var w=h.trim().split(`\r
`),M=0,j=w.length;M<j;M++){var q=w[M],V=q.indexOf(": ");V>0&&(v[q.substring(0,V)]=q.substring(V+2))}return v}},{key:"generateUuid",value:function(){var h=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var w=(h+16*Math.random())%16|0;return h=Math.floor(h/16),(v=="x"?w:3&w|8).toString(16)})}},{key:"generateHashCode",value:function(h){var v=0;if(h.length===0)return v;for(var w=0;w<h.length;w++)v=(v<<5)-v+h.charCodeAt(w),v|=0;return v}},{key:"getRelativeUrl",value:function(h,v){try{var w=new URL(h),M=new URL(v);if(w.protocol=M.protocol,w.origin!==M.origin)return v;var j=u().relative(w.pathname.substr(0,w.pathname.lastIndexOf("/")),M.pathname.substr(0,M.pathname.lastIndexOf("/"))),q=j.length===0?1:0;return j+=M.pathname.substr(M.pathname.lastIndexOf("/")+q,M.pathname.length-1),M.pathname.length<j.length?M.pathname:j}catch{return v}}},{key:"parseUserAgent",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var v=h===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,c.UAParser)(v)}catch{return{}}}},{key:"stringHasProtocol",value:function(h){return/(http(s?)):\/\//i.test(h)}}],S&&p(C,S),m}();o.Z=E},2032:function(i,o,l){"use strict";function f(){return"4.7.4"}l.d(o,{e:function(){return f}})},2230:function(i,o){"use strict";function l(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var f=function(){function u(){(function(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")})(this,u)}var c,d;return c=u,(d=[{key:"extend",value:function(p,E){if(p){var m=!!E&&E.override,C=!!E&&E.publicOnly;for(var S in p)!p.hasOwnProperty(S)||this[S]&&!m||C&&p[S].indexOf("public_")===-1||(this[S]=p[S])}}}])&&l(c.prototype,d),u}();o.Z=f},4351:function(i,o,l){"use strict";function f(E){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},f(E)}function u(E,m){return u=Object.setPrototypeOf||function(C,S){return C.__proto__=S,C},u(E,m)}function c(E,m){return!m||f(m)!=="object"&&typeof m!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(E):m}function d(E){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},d(E)}var p=function(E){(function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&u(v,w)})(h,E);var m,C,S=(m=h,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,w=d(m);if(C){var M=d(this).constructor;v=Reflect.construct(w,arguments,M)}else v=w.apply(this,arguments);return c(this,v)});function h(){var v;return function(w,M){if(!(w instanceof M))throw new TypeError("Cannot call a class as a function")}(this,h),(v=S.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",v.BUFFERING_COMPLETED="bufferingCompleted",v.BUFFER_CLEARED="bufferCleared",v.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",v.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",v.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",v.CMSD_STATIC_HEADER="cmsdStaticHeader",v.CURRENT_TRACK_CHANGED="currentTrackChanged",v.DATA_UPDATE_COMPLETED="dataUpdateCompleted",v.INBAND_EVENTS="inbandEvents",v.INITIAL_STREAM_SWITCH="initialStreamSwitch",v.INIT_FRAGMENT_LOADED="initFragmentLoaded",v.INIT_FRAGMENT_NEEDED="initFragmentNeeded",v.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",v.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",v.LOADING_COMPLETED="loadingCompleted",v.LOADING_PROGRESS="loadingProgress",v.LOADING_DATA_PROGRESS="loadingDataProgress",v.LOADING_ABANDONED="loadingAborted",v.MANIFEST_UPDATED="manifestUpdated",v.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",v.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",v.QUOTA_EXCEEDED="quotaExceeded",v.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",v.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",v.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",v.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",v.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",v.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",v.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",v.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",v.SOURCE_BUFFER_ERROR="sourceBufferError",v.STREAMS_COMPOSED="streamsComposed",v.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",v.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",v.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",v.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",v.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",v.URL_RESOLUTION_FAILED="urlResolutionFailed",v.VIDEO_CHUNK_RECEIVED="videoChunkReceived",v.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",v.XLINK_ELEMENT_LOADED="xlinkElementLoaded",v.XLINK_READY="xlinkReady",v.SEEK_TARGET="seekTarget",v.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",v.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",v.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",v.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",v.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",v}return h}(l(8342).Z);o.Z=p},8512:function(i,o,l){"use strict";function f(C){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},f(C)}function u(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function c(C,S){return c=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},c(C,S)}function d(C,S){return!S||f(S)!=="object"&&typeof S!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(C):S}function p(C){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},p(C)}var E=function(C){(function(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),j&&c(M,j)})(w,C);var S,h,v=(S=w,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,j=p(S);if(h){var q=p(this).constructor;M=Reflect.construct(j,arguments,q)}else M=j.apply(this,arguments);return d(this,M)});function w(){return u(this,w),v.apply(this,arguments)}return w}(l(4351).Z),m=new E;o.Z=m},8342:function(i,o){"use strict";function l(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var f=function(){function u(){(function(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")})(this,u)}var c,d;return c=u,(d=[{key:"extend",value:function(p,E){if(p){var m=!!E&&E.override,C=!!E&&E.publicOnly;for(var S in p)!p.hasOwnProperty(S)||this[S]&&!m||C&&p[S].indexOf("public_")===-1||(this[S]=p[S])}}}])&&l(c.prototype,d),u}();o.Z=f},9326:function(i,o,l){"use strict";var f=l(3186),u=l(7855),c=l(5448),d=l(8825),p=l(7387),E=l(1553);function m(C){var S,h,v,w,M,j=(C=C||{}).eventBus,q=C.debug,V=C.urlUtils,re=C.type,B=C.streamInfo,ee=C.segmentsController,le=C.timelineConverter,Q=C.baseURLController;function se(){return re}function he(){v=null}function De(Te,Fe,qe){var Je,Ie,Me=Q.resolve(qe.path),At={};return Me&&Fe!==Me.url&&V.isRelative(Fe)?(Je=Me.url,Ie=Me.serviceLocation,At=Me.queryParams,Fe&&(Je=V.resolve(Fe,Je))):Je=Fe,!V.isRelative(Je)&&(Te.url=Je,Te.serviceLocation=Ie,Te.queryParams=At,!0)}function ie(Te,Fe){if(Fe==null)return null;var qe=new f.Z,Je=Fe.representation,Ie=Je.adaptation.period.mpd.manifest.Period_asArray[Je.adaptation.period.index].AdaptationSet_asArray[Je.adaptation.index].Representation_asArray[Je.index].bandwidth,Me=Fe.media;return Me=(0,p.vi)(Me,"Number",Fe.replacementNumber),Me=(0,p.vi)(Me,"Time",Fe.replacementTime),Me=(0,p.vi)(Me,"Bandwidth",Ie),Me=(0,p.Aj)(Me,Je.id),Me=(0,p.eR)(Me),qe.mediaType=se(),qe.type=u.w.MEDIA_SEGMENT_TYPE,qe.range=Fe.mediaRange,qe.startTime=Fe.presentationStartTime,qe.mediaStartTime=Fe.mediaStartTime,qe.duration=Fe.duration,qe.timescale=Je.timescale,qe.availabilityStartTime=Fe.availabilityStartTime,qe.availabilityEndTime=Fe.availabilityEndTime,qe.availabilityTimeComplete=Je.availabilityTimeComplete,qe.wallStartTime=Fe.wallStartTime,qe.quality=Je.index,qe.index=Fe.index,qe.mediaInfo=Te,qe.adaptationIndex=Je.adaptation.index,qe.representationId=Je.id,De(qe,Me,Je)?qe:void 0}function Se(Te,Fe,qe){var Je=null;if(!Fe||!Fe.segmentInfoType)return Je;var Ie=ee.getSegmentByTime(Fe,qe);return Ie&&(v=Ie,h.debug("Index for time "+qe+" is "+Ie.index),Je=ie(Te,Ie)),Je}function xe(Te,Fe,qe){var Je=null,Ie=ee.getSegmentByIndex(Fe,qe,v?v.mediaStartTime:-1);if(Ie)Je=ie(Te,Ie),v=Ie;else{if(w&&!M)return h.debug(se()+" No segment found at index: "+qe+". Wait for next loop"),null;M=!0}return Je}function je(){h.debug("Dynamic stream complete"),M=!0}return S={getCurrentIndex:function(){return v?v.index:-1},getInitRequest:function(Te,Fe){return Fe?function(qe,Je,Ie){var Me=new f.Z,At=Je.adaptation.period,vt=At.start;if(Me.mediaType=Ie,Me.type=u.w.INIT_SEGMENT_TYPE,Me.range=Je.range,Me.availabilityStartTime=le.calcAvailabilityStartTimeFromPresentationTime(vt,Je,w),Me.availabilityEndTime=le.calcAvailabilityEndTimeFromPresentationTime(vt+At.duration,Je,w),Me.quality=Je.index,Me.mediaInfo=qe,Me.representationId=Je.id,De(Me,Je.initialization,Je))return Me.url=(0,p.vi)(Me.url,"Bandwidth",Je.bandwidth),Me}(Te,Fe,se()):null},getNextSegmentRequest:function(Te,Fe){return Fe&&Fe.segmentInfoType?xe(Te,Fe,v?v.index+1:0):null},getNextSegmentRequestIdempotent:function(Te,Fe){var qe=v?v.index+1:0,Je=ee.getSegmentByIndex(Fe,qe,v?v.mediaStartTime:-1);return Je?ie(Te,Je):null},getSegmentRequestForTime:Se,getStreamId:function(){return B.id},getStreamInfo:function(){return B},getType:se,getValidTimeAheadOfTargetTime:function(Te,Fe,qe,Je){try{if(isNaN(Te)||!Fe||!qe)return NaN;if(Te<0&&(Te=0),isNaN(Je)&&(Je=.5),Se(Fe,qe,Te))return Te;if(qe.adaptation.period.start+qe.adaptation.period.duration<Te)return NaN;for(var Ie=isFinite(qe.adaptation.period.duration)?qe.adaptation.period.start+qe.adaptation.period.duration:Te+30,Me=Math.min(Te+Je,Ie),At=NaN,vt=null;Me<=Ie;){var ze=null;if(Me<=Ie&&(ze=Se(Fe,qe,Me)),ze){At=Me,vt=ze;break}Me+=Je}if(vt){var it=vt.startTime+vt.duration;return Te>vt.startTime&&it-Te>Je?Te:!isNaN(vt.startTime)&&Te<vt.startTime&&At>vt.startTime?vt.startTime+.001:Math.min(it-Je,At)}return At}catch{return NaN}},initialize:function(Te){w=Te,M=!1,ee.initialize(Te)},isLastSegmentRequested:function(Te,Fe){return!Te||!v?!1:M?!0:!isFinite(Te.adaptation.period.duration)||v.presentationStartTime+v.duration>Fe?!1:Te.mediaFinishedInformation&&!isNaN(Te.mediaFinishedInformation.numberOfSegments)&&!isNaN(v.index)&&v.index>=Te.mediaFinishedInformation.numberOfSegments-1&&(!w||Te.segmentInfoType===E.Z.SEGMENT_TEMPLATE||w&&Te.segmentInfoType===E.Z.SEGMENT_LIST&&Te.adaptation.period.nextPeriodId)?!0:!!(w&&Te.adaptation.period.nextPeriodId&&Te.segmentInfoType===E.Z.SEGMENT_TIMELINE&&Te.mediaFinishedInformation&&!isNaN(Te.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&v&&!isNaN(v.mediaStartTime)&&!isNaN(v.duration)&&v.mediaStartTime+v.duration>=Te.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(Te,Fe){return Fe&&Fe.segmentInfoType?xe(Te,Fe,v?v.index:0):null},reset:function(){he(),j.off(d.Z.DYNAMIC_TO_STATIC,je,S)}},h=q.getLogger(S),he(),j.on(d.Z.DYNAMIC_TO_STATIC,je,S),S}m.__dashjs_factory_name="DashHandler",o.Z=c.Z.getClassFactory(m)},1553:function(i,o){"use strict";function l(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var f=new(function(){function u(){(function(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")})(this,u),this.init()}var c,d;return c=u,(d=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.ESSENTIAL_PROPERTY_ASARRAY="EssentialProperty_asArray",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.DVB_URL="dvb:url",this.DVB_MIMETYPE="dvb:mimeType",this.DVB_FONTFAMILY="dvb:fontFamily",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&l(c.prototype,d),u}());o.Z=f},7802:function(i,o,l){"use strict";var f=l(5448),u=l(1724),c=l(3636),d=l(1736),p=l(5246);function E(C){C=C||{};var S,h,v=this.context,w=C.dashConstants,M=C.type,j=C.segmentBaseController;function q(V){return V?V.segments?h[w.SEGMENT_BASE]:h[V.segmentInfoType]:null}return S={initialize:function(V){h[w.SEGMENT_TIMELINE]=(0,u.Z)(v).create(C,V),h[w.SEGMENT_TEMPLATE]=(0,c.Z)(v).create(C,V),h[w.SEGMENT_LIST]=(0,d.Z)(v).create(C,V),h[w.SEGMENT_BASE]=(0,p.Z)(v).create(C,V)},updateInitData:function(V,re){return re?Promise.resolve():j.getSegmentBaseInitSegment({representation:V,mediaType:M})},updateSegmentData:function(V,re){return re?Promise.resolve():j.getSegmentList({mimeType:V.mimeType,representation:V,mediaType:M})},getSegmentByIndex:function(V,re,B){var ee=q(V);return ee?ee.getSegmentByIndex(V,re,B):null},getSegmentByTime:function(V,re){var B=q(V);return B?B.getSegmentByTime(V,re):null},getMediaFinishedInformation:function(V){var re=q(V);return re?re.getMediaFinishedInformation(V):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},h={},S}E.__dashjs_factory_name="SegmentsController";var m=f.Z.getClassFactory(E);o.Z=m},1736:function(i,o,l){"use strict";var f=l(5448),u=l(3393),c=l(7387);function d(E,m){var C=(E=E||{}).timelineConverter;function S(){if(!C||!C.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(u.Z.MISSING_CONFIG_ERROR)}function h(v,w){if(S(),!v)return null;var M=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentList,j=M.SegmentURL_asArray.length,q=v&&!isNaN(v.startNumber)?v.startNumber:1,V=Math.max(q-1,0),re=Math.max(w-V,0),B=null;if(re<j){var ee=M.SegmentURL_asArray[re];(B=(0,c.NF)(C,m,v,w))&&(B.replacementTime=(q+w-1)*v.segmentDuration,B.media=ee.media?ee.media:"",B.mediaRange=ee.mediaRange,B.indexRange=ee.indexRange)}return B}return{getSegmentByIndex:h,getSegmentByTime:function(v,w){if(S(),!v)return null;var M=v.segmentDuration;if(isNaN(M))return null;var j=C.calcPeriodRelativeTimeFromMpdRelativeTime(v,w);return h(v,Math.floor(j/M))},getMediaFinishedInformation:function(v){var w={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!v)return w;var M=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentList,j=v&&!isNaN(v.startNumber)?v.startNumber:1,q=Math.max(j-1,0);return w.numberOfSegments=q+M.SegmentURL_asArray.length,w}}}d.__dashjs_factory_name="ListSegmentsGetter";var p=f.Z.getClassFactory(d);o.Z=p},5246:function(i,o,l){"use strict";var f=l(5448),u=l(3393);function c(p){var E=(p=p||{}).timelineConverter;function m(){if(!E||!E.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(u.Z.MISSING_CONFIG_ERROR)}function C(S,h){if(m(),!S)return null;var v,w=S.segments?S.segments.length:-1;if(h<w&&(v=S.segments[h])&&v.index===h)return v;for(var M=0;M<w;M++)if((v=S.segments[M])&&v.index===h)return v;return null}return{getSegmentByIndex:C,getSegmentByTime:function(S,h){m();var v=function(w,M){if(!w)return-1;var j,q,V,re,B,ee=w.segments,le=ee?ee.length:null,Q=-1;if(ee&&le>0){for(B=0;B<le;B++)if(V=(q=ee[B]).presentationStartTime,M+(j=(re=q.duration)/2)>=V&&M-j<V+re){Q=q.index;break}}return Q}(S,h);return C(S,v)},getMediaFinishedInformation:function(S){var h={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return S&&S.segments&&(h.numberOfSegments=S.segments.length),h}}}c.__dashjs_factory_name="SegmentBaseGetter";var d=f.Z.getClassFactory(c);o.Z=d},7387:function(i,o,l){"use strict";l.d(o,{Aj:function(){return d},NF:function(){return C},TJ:function(){return S},eR:function(){return c},vi:function(){return p}});var f=l(2011);function u(h,v){for(;h.length<v;)h="0"+h;return h}function c(h){return h&&h.split("$$").join("$")}function d(h,v){if(!v||!h||h.indexOf("$RepresentationID$")===-1)return h;var w=v.toString();return h.split("$RepresentationID$").join(w)}function p(h,v,w){var M,j,q,V,re,B,ee=v.length,le=2;if(!h)return h;for(;;){if((M=h.indexOf("$"+v))<0||(j=h.indexOf("$",M+ee))<0)return h;if((q=h.indexOf("%0",M+ee))>M&&q<j)switch(V=h.charAt(j-1),re=parseInt(h.substring(q+le,j-1),10),V){case"d":case"i":case"u":B=u(w.toString(),re);break;case"x":B=u(w.toString(16),re);break;case"X":B=u(w.toString(16),re).toUpperCase();break;case"o":B=u(w.toString(8),re);break;default:return h}else B=w;h=h.substring(0,M)+B+h.substring(j+1)}}function E(h,v,w,M,j,q,V,re){var B,ee=new f.Z;return ee.representation=h,ee.duration=v,ee.presentationStartTime=w,ee.mediaStartTime=M,ee.availabilityStartTime=j.calcAvailabilityStartTimeFromPresentationTime(q,h,V),ee.availabilityEndTime=j.calcAvailabilityEndTimeFromPresentationTime(q+v,h,V),ee.wallStartTime=j.calcWallTimeForSegment(ee,V),ee.replacementNumber=(B=re,ee.representation.startNumber+B),ee.index=re,ee}function m(h,v,w,M){var j=v.adaptation.period;if(isFinite(j.duration)&&j.start+j.duration<=w.presentationStartTime)return!1;if(M){if(v.availabilityTimeOffset==="INF")return!0;var q=h.getClientReferenceTime();return w.availabilityStartTime.getTime()<=q&&(!isFinite(w.availabilityEndTime)||w.availabilityEndTime.getTime()>=q)}return!0}function C(h,v,w,M){var j,q,V;j=w.segmentDuration,isNaN(j)&&(j=w.adaptation.period.duration),q=parseFloat((w.adaptation.period.start+M*j).toFixed(5)),V=parseFloat((q+j).toFixed(5));var re=E(w,j,q,h.calcMediaTimeFromPresentationTime(q,w),h,V,v,M);return m(h,w,re,v)?re:null}function S(h,v,w,M,j,q,V,re,B,ee){var le,Q,se=M/q,he=j/q;return le=h.calcPresentationTimeFromMediaTime(se,w),m(h,w,Q=E(w,he,le,se,h,le+he,v,B),v)?(Q.replacementTime=ee||M,V=p(V,"Number",Q.replacementNumber),V=p(V,"Time",Q.replacementTime),Q.media=V,Q.mediaRange=re,Q):null}},3636:function(i,o,l){"use strict";var f=l(5448),u=l(3393),c=l(7387);function d(E,m){var C=(E=E||{}).timelineConverter;function S(){if(!C||!C.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(u.Z.MISSING_CONFIG_ERROR)}function h(v,w){if(S(),!v)return null;var M=v.adaptation.period.mpd.manifest.Period_asArray[v.adaptation.period.index].AdaptationSet_asArray[v.adaptation.index].Representation_asArray[v.index].SegmentTemplate;w=Math.max(w,0);var j=(0,c.NF)(C,m,v,w);if(j){j.replacementTime=Math.round((w-1)*v.segmentDuration*v.timescale,10);var q=M.media;q=(0,c.vi)(q,"Number",j.replacementNumber),q=(0,c.vi)(q,"Time",j.replacementTime),j.media=q}return j}return{getSegmentByIndex:h,getSegmentByTime:function(v,w){if(S(),!v)return null;var M=v.segmentDuration;if(isNaN(M))return null;var j=C.calcPeriodRelativeTimeFromMpdRelativeTime(v,w);return h(v,Math.floor(j/M))},getMediaFinishedInformation:function(v){var w={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!v)return w;var M=v.segmentDuration;return isNaN(M)?w.numberOfSegments=1:w.numberOfSegments=Math.ceil(v.adaptation.period.duration/M),w}}}d.__dashjs_factory_name="TemplateSegmentsGetter";var p=f.Z.getClassFactory(d);o.Z=p},1724:function(i,o,l){"use strict";var f=l(5448),u=l(3393),c=l(7387);function d(E,m){var C=(E=E||{}).timelineConverter,S=E.dashMetrics;function h(){if(!C)throw new Error(u.Z.MISSING_CONFIG_ERROR)}function v(M,j){var q,V,re,B,ee,le,Q,se=M.adaptation.period.mpd.manifest.Period_asArray[M.adaptation.period.index].AdaptationSet_asArray[M.adaptation.index].Representation_asArray[M.index].SegmentTemplate||M.adaptation.period.mpd.manifest.Period_asArray[M.adaptation.period.index].AdaptationSet_asArray[M.adaptation.index].Representation_asArray[M.index].SegmentList,he=se.SegmentTimeline,De=se.SegmentURL_asArray,ie=0,Se=-1;Q=M.timescale;var xe=!1;for(re=0,B=(q=he.S_asArray).length;re<B&&!xe;re++)for(le=0,(V=q[re]).hasOwnProperty("r")&&(le=V.r),V.hasOwnProperty("t")&&(ie=V.t),le<0&&(le=w(M,q[re+1],V,Q,ie/Q)),ee=0;ee<=le&&!xe;ee++)(xe=j(ie,se,De,V,Q,++Se,re))&&(M.segmentDuration=V.d/Q),ie+=V.d}function w(M,j,q,V,re){var B;if(j&&j.hasOwnProperty("t"))B=j.t/V;else try{var ee=0;if(isNaN(M.adaptation.period.start)||isNaN(M.adaptation.period.duration)||!isFinite(M.adaptation.period.duration)){var le=S.getCurrentDVRInfo();ee=isNaN(le.end)?0:le.end}else ee=M.adaptation.period.start+M.adaptation.period.duration;B=C.calcMediaTimeFromPresentationTime(ee,M),M.segmentDuration=q.d/V}catch{B=0}return Math.max(Math.ceil((B-re)/(q.d/V))-1,0)}return{getSegmentByIndex:function(M,j,q){if(h(),!M)return null;var V=null,re=!1;return v(M,function(B,ee,le,Q,se,he,De){if(re||q<0){var ie=ee.media,Se=Q.mediaRange;return le&&(ie=le[De].media||"",Se=le[De].mediaRange),V=(0,c.TJ)(C,m,M,B,Q.d,se,ie,Se,he,Q.tManifest),!0}return B>=q*se-.5*Q.d&&(re=!0),!1}),V},getSegmentByTime:function(M,j){if(h(),!M)return null;j===void 0&&(j=null);var q=null,V=C.calcMediaTimeFromPresentationTime(j,M);return v(M,function(re,B,ee,le,Q,se,he){var De=parseFloat((V*Q).toPrecision(15));if(De<re+le.d&&De>=re){var ie=B.media,Se=le.mediaRange;return ee&&(ie=ee[he].media||"",Se=ee[he].mediaRange),q=(0,c.TJ)(C,m,M,re,le.d,Q,ie,Se,se,le.tManifest),!0}return!1}),q},getMediaFinishedInformation:function(M){if(!M)return 0;var j,q,V,re,B,ee,le,Q=(M.adaptation.period.mpd.manifest.Period_asArray[M.adaptation.period.index].AdaptationSet_asArray[M.adaptation.index].Representation_asArray[M.index].SegmentTemplate||M.adaptation.period.mpd.manifest.Period_asArray[M.adaptation.period.index].AdaptationSet_asArray[M.adaptation.index].Representation_asArray[M.index].SegmentList).SegmentTimeline,se=0,he=0,De=0;for(le=M.timescale,re=(j=Q.S_asArray).length,V=0;V<re;V++)for(ee=0,(q=j[V]).hasOwnProperty("r")&&(ee=q.r),q.hasOwnProperty("t")&&(he=(se=q.t)/le),ee<0&&(ee=w(M,j[V+1],q,le,he)),B=0;B<=ee;B++)De++,he=(se+=q.d)/le;return{numberOfSegments:De,mediaTimeOfLastSignaledSegment:he}}}}d.__dashjs_factory_name="TimelineSegmentsGetter";var p=f.Z.getClassFactory(d);o.Z=p},2011:function(i,o){"use strict";o.Z=function l(){(function(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")})(this,l),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:function(i,o){"use strict";o.Z=function l(){(function(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")})(this,l),this.schemeIdUri="",this.value=""}},1139:function(i,o,l){"use strict";l.d(o,{Z:function(){return g1}});var f=l(452),u=l.n(f),c=l(3393),d=l(1553),p=l(3860),E=l(5595),m=l(8512),C=l(5448),S=l(6398),h=l(8825);function v(){var _,g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe,ye,W,de,X,ge,I,Z,L,U=this.context,N=(0,E.Z)(U).getInstance();function ue(){z(),G=!1,K=0,$=0,pe=0,I=!1,ye=!0,W=!1,Z=!1,de=NaN,ce=NaN,D&&(N.off(m.Z.DATA_UPDATE_COMPLETED,Xe,_),N.off(m.Z.LOADING_PROGRESS,Kt,_),N.off(m.Z.MANIFEST_UPDATED,ft,_),N.off(m.Z.STREAMS_COMPOSED,ve,_),N.off(h.Z.PLAYBACK_ENDED,gt,_),N.off(h.Z.STREAM_INITIALIZING,Qe,_),N.off(h.Z.REPRESENTATION_SWITCH,Be,_),N.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,mt,_),_t(),D.removeEventListener("canplay",St),D.removeEventListener("canplaythrough",wt),D.removeEventListener("play",tn),D.removeEventListener("waiting",en),D.removeEventListener("playing",xn),D.removeEventListener("pause",Nn),D.removeEventListener("error",zt),D.removeEventListener("seeking",Ke),D.removeEventListener("seeked",bt),D.removeEventListener("timeupdate",lt),D.removeEventListener("progress",Rt),D.removeEventListener("ratechange",Vt),D.removeEventListener("loadedmetadata",sn),D.removeEventListener("loadeddata",nn),D.removeEventListener("stalled",rn),D.removeEventListener("ended",cn),D.removeEventListener("volumechange",yn)),H=null,D=null,F=null,Y=null}function te(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return parseFloat((fe(Ce)-Re()).toFixed(5))}function fe(Ce){var tt=Ce||F;return tt.start+tt.duration}function oe(){var Ce=arguments.length>0&&arguments[0]!==void 0&&arguments[0];F&&D&&D.getElement()?(Ce&&Y&&Ue(Re()),D.play()):G=!0}function z(){F&&D&&D.pause()}function ae(Ce){var tt=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Zt=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(F&&D&&D.getElement()){var On=isNaN(de)?D.getTime():de;Ce!==On&&((X=Ot===!0)||(de=Ce),g.info("Requesting seek to time: "+Ce+(X?" (internal)":"")),Y&&Zt&&Ue(Ce),D.setCurrentTime(Ce,tt))}}function be(){if(F&&D&&Y){var Ce=b&&b.hasVideoTrack()?c.Z.VIDEO:c.Z.AUDIO,tt=P.getCurrentDVRInfo(Ce);return tt&&tt.range?tt.range.end:0}}function Ue(Ce){var tt=new Date(k.getClientReferenceTime()),Ot=O.getRegularPeriods()[0],Zt=k.calcPresentationTimeFromWallTime(tt,Ot);K=Zt-Ce}function Re(){return F&&D?D.getTime():null}function Ve(){return F&&D?D.isPaused():null}function ke(){return F&&D?D.isSeeking():null}function ct(){return F&&D?D.isStalled():null}function dt(){return F&&D?D.getPlaybackRate():null}function ot(){return F&&D?D.getEnded():null}function st(){return Y}function Yt(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!Ve()&&Y&&D.getReadyState()!==0&&!ke()&&!I){Ce||(Ce=b.hasVideoTrack()?c.Z.VIDEO:c.Z.AUDIO);var tt=Re(),Ot=Ae(tt,Ce),Zt=!isNaN(Ot)&&Ot!==tt;Zt&&!ke()&&(ct()||ge||D.getReadyState()===1)&&(g.debug("UpdateCurrentTime: Seek to actual time: ".concat(Ot," from currentTime: ").concat(tt)),ae(Ot,!1,!1))}}function Ae(Ce,tt){var Ot=P.getCurrentDVRInfo(tt),Zt=Ot?Ot.range:null;return Zt?Ce>Zt.end?Math.max(Zt.end-K,Zt.start):Ce>0&&Ce+.25<Zt.start&&Math.abs(Ce-Zt.start)<31536e4?W?Math.max(Zt.end-K,Zt.start):Zt.start:Ce:NaN}function Ge(){H===null&&(H=setInterval(function(){(function(){if(N.trigger(m.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:Y,time:new Date}),st()){var Ce=Date.now();(isNaN(ce)||Ce>ce+L.get().streaming.liveUpdateTimeThresholdInMilliseconds)&&(b.addDVRMetric(),Ve()?function(){var tt=Date.now();(!_e||tt>_e+500)&&(_e=tt,lt())}():Yt(),ce=Ce)}})()},L.get().streaming.wallclockTimeUpdateInterval))}function _t(){clearInterval(H),H=null}function Xe(Ce){var tt=O.convertRepresentationToRepresentationInfo(Ce.currentRepresentation),Ot=tt?tt.mediaInfo.streamInfo:null;Ot!==null&&F.id===Ot.id&&(F=Ot)}function St(){N.trigger(m.Z.CAN_PLAY)}function wt(){N.trigger(m.Z.CAN_PLAY_THROUGH)}function mt(Ce){Ce.streamId===b.getActiveStreamInfo().id&&(ge=Ce.state===p.Z.BUFFER_EMPTY,L.get().streaming.buffer.setStallState&&D.setStallState(Ce.mediaType,Ce.state===p.Z.BUFFER_EMPTY))}function tn(){g.info("Native video element event: play"),Yt(),Ge(),N.trigger(m.Z.PLAYBACK_STARTED,{startTime:Re()})}function en(){g.info("Native video element event: waiting"),N.trigger(m.Z.PLAYBACK_WAITING,{playingTime:Re()})}function xn(){g.info("Native video element event: playing"),X=!1,N.trigger(m.Z.PLAYBACK_PLAYING,{playingTime:Re()})}function Nn(){g.info("Native video element event: pause"),N.trigger(m.Z.PLAYBACK_PAUSED,{ended:ot()})}function Ke(){if(!X){var Ce=Re();isNaN(de)||de===Ce||(Ce=de),de=NaN,g.info("Seeking to: "+Ce),Ge(),N.trigger(m.Z.PLAYBACK_SEEKING,{seekTime:Ce,streamId:F.id})}}function bt(){g.info("Native video element event: seeked"),X=!1,N.trigger(m.Z.PLAYBACK_SEEKED)}function lt(){F&&N.trigger(m.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:te(),time:Re(),streamId:F.id})}function Rt(){N.trigger(m.Z.PLAYBACK_PROGRESS,{streamId:F.id})}function Vt(){var Ce=dt();g.info("Native video element event: ratechange: ",Ce),N.trigger(m.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Ce})}function sn(){g.info("Native video element event: loadedmetadata"),N.trigger(m.Z.PLAYBACK_METADATA_LOADED),Ge()}function nn(){g.info("Native video element event: loadeddata"),N.trigger(m.Z.PLAYBACK_LOADED_DATA)}function cn(){g.info("Native video element event: ended"),z(),_t();var Ce=b?b.getActiveStreamInfo():null;Ce&&N.trigger(m.Z.PLAYBACK_ENDED,{isLast:Ce.isLast})}function yn(){N.trigger(m.Z.PLAYBACK_VOLUME_CHANGED)}function gt(Ce){if(H&&Ce.isLast){g.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var tt=Ce.seekTime?Ce.seekTime:fe();D.setCurrentTime(tt),z(),_t()}}function zt(Ce){var tt=Ce.target||Ce.srcElement;N.trigger(m.Z.PLAYBACK_ERROR,{error:tt.error})}function Wt(){Y=!1}function Kt(Ce){if(Ce.stream===!1&&W&&!isNaN(Ce.request.duration)){var tt=1.2*Ce.request.duration;tt>K&&(g.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",tt.toFixed(2)),K=tt,$=tt)}}function rn(Ce){N.trigger(m.Z.PLAYBACK_STALLED,{e:Ce})}function Qe(Ce){var tt;(tt=Ce.mediaInfo)&&tt.supplementalProperties&&tt.supplementalProperties[c.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&tt.supplementalProperties[c.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME].value==="true"&&(g.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),W=!0)}function Be(Ce){var tt=b.getActiveStreamInfo();Ce&&tt&&Ce.currentRepresentation&&Ce.streamId&&Ce.streamId===tt.id&&Ce.mediaType&&(Ce.mediaType===c.Z.VIDEO||Ce.mediaType===c.Z.AUDIO)&&(ye=Ce.currentRepresentation.availabilityTimeComplete,(W=!ye)&&!Z&&(Z=!0))}function ft(){I=!0}function ve(){I=!1}return _={initialize:function(Ce,tt){F=Ce,tt!==!0&&(D.addEventListener("canplay",St),D.addEventListener("canplaythrough",wt),D.addEventListener("play",tn),D.addEventListener("waiting",en),D.addEventListener("playing",xn),D.addEventListener("pause",Nn),D.addEventListener("error",zt),D.addEventListener("seeking",Ke),D.addEventListener("seeked",bt),D.addEventListener("timeupdate",lt),D.addEventListener("progress",Rt),D.addEventListener("ratechange",Vt),D.addEventListener("loadedmetadata",sn),D.addEventListener("loadeddata",nn),D.addEventListener("stalled",rn),D.addEventListener("ended",cn),D.addEventListener("volumechange",yn),Y=F.manifestInfo.isDynamic,ge=!1,X=!1,N.on(m.Z.DATA_UPDATE_COMPLETED,Xe,_),N.on(m.Z.LOADING_PROGRESS,Kt,_),N.on(m.Z.MANIFEST_UPDATED,ft,_),N.on(m.Z.STREAMS_COMPOSED,ve,_),N.on(h.Z.PLAYBACK_ENDED,gt,_,{priority:E.Z.EVENT_PRIORITY_HIGH}),N.on(h.Z.STREAM_INITIALIZING,Qe,_),N.on(h.Z.REPRESENTATION_SWITCH,Be,_),N.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,mt,_),N.on(h.Z.DYNAMIC_TO_STATIC,Wt,_),G&&(G=!1,oe()))},setConfig:function(Ce){Ce&&(Ce.streamController&&(b=Ce.streamController),Ce.serviceDescriptionController&&(A=Ce.serviceDescriptionController),Ce.dashMetrics&&(P=Ce.dashMetrics),Ce.adapter&&(O=Ce.adapter),Ce.videoModel&&(D=Ce.videoModel),Ce.timelineConverter&&(k=Ce.timelineConverter),Ce.settings&&(L=Ce.settings))},getTimeToStreamEnd:te,getBufferLevel:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,tt=null;return b.getActiveStreamProcessors().forEach(function(Ot){if(!Ce||Ce.length===0||Ce.indexOf(Ot.getType())===-1){var Zt=Ot.getBufferLevel();tt=tt===null?Zt:Math.min(tt,Zt)}}),tt},getPlaybackStalled:function(){return ge},getTime:Re,getLowLatencyModeEnabled:function(){return W},getInitialCatchupModeActivated:function(){return Z},getIsManifestUpdateInProgress:function(){return I},getPlaybackRate:dt,getPlayedRanges:function(){return F&&D?D.getPlayedRanges():null},getEnded:ot,getIsDynamic:st,getStreamController:function(){return b},computeAndSetLiveDelay:function(Ce,tt){var Ot,Zt,On,Dr=!isNaN(Ce)&&isFinite(Ce)?Ce:NaN,ii=O.getSuggestedPresentationDelay(),Tr=A.getServiceDescriptionSettings();return Ot=isNaN(L.get().streaming.delay.liveDelay)?L.get().streaming.delay.liveDelayFragmentCount===null||isNaN(L.get().streaming.delay.liveDelayFragmentCount)||isNaN(Dr)?Tr&&!isNaN(Tr.liveDelay)&&Tr.liveDelay>0?Tr.liveDelay:L.get().streaming.delay.useSuggestedPresentationDelay===!0&&ii!==null&&!isNaN(ii)&&ii>0?ii:isNaN(Dr)?tt&&!isNaN(tt.minBufferTime)?4*tt.minBufferTime:4*F.manifestInfo.minBufferTime:4*Dr:Dr*L.get().streaming.delay.liveDelayFragmentCount:L.get().streaming.delay.liveDelay,(On=O.getAvailabilityStartTime())!==null&&(pe=On),Zt=tt&&tt.dvrWindowSize>0?Math.min(Ot,tt.dvrWindowSize):Ot,K=Zt,$=Zt,Zt},getLiveDelay:function(){return K},getOriginalLiveDelay:function(){return $},getCurrentLiveLatency:function(){if(!Y||isNaN(pe))return NaN;var Ce=Re();if(isNaN(Ce)||Ce===0)return 0;var tt=new Date().getTime()+1e3*k.getClientTimeOffset();return Math.max(((tt-pe-1e3*Ce)/1e3).toFixed(3),0)},play:oe,isPaused:Ve,isStalled:ct,pause:z,isSeeking:ke,getStreamEndTime:fe,seek:ae,seekToOriginalLive:function(){var Ce=arguments.length>0&&arguments[0]!==void 0&&arguments[0],tt=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Zt=be();if(Zt!==0){var On=Zt-(K=$);ae(On,Ce,tt,Ot)}},seekToCurrentLive:function(){var Ce=arguments.length>0&&arguments[0]!==void 0&&arguments[0],tt=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Zt=be();if(Zt!==0){var On=Zt-K;ae(On,Ce,tt,Ot)}},reset:ue,updateCurrentTime:Yt,getAvailabilityStartTime:function(){return pe}},g=(0,S.Z)(U).getInstance().getLogger(_),ue(),_}v.__dashjs_factory_name="PlaybackController";var w=C.Z.getSingletonFactory(v),M=l(3186),j="loading",q="executed",V="failed";function re(_){var g,b,A,P,O=(_=_||{}).eventBus,D=_.events,k=_.dashMetrics,H=_.fragmentLoader,K=_.debug,$=_.streamInfo,F=_.type;function Y(I){var Z;return!!I&&(Z=!1,A.some(function(L){if(U=I,N=L,!isNaN(U.index)&&U.startTime===N.startTime&&U.adaptationIndex===N.adaptationIndex&&U.type===N.type||function(ue,te){return isNaN(ue.index)&&isNaN(te.index)&&ue.quality===te.quality}(I,L)||function(ue,te){return ue.action===M.Z.ACTION_COMPLETE&&ue.action===te.action}(I,L))return Z=!0;var U,N}),Z)}function G(I){return isNaN(I.duration)?.25:Math.min(I.duration/8,.5)}function _e(I){A=A.filter(function(Z){var L=G(Z);return isNaN(Z.startTime)||I!==void 0&&Z.startTime>=I-L})}function ce(I,Z){Z<=I+.5||(A=A.filter(function(L){var U=G(L);return isNaN(L.startTime)||L.startTime>=Z-U||isNaN(L.duration)||L.startTime+L.duration<=I+U}))}function pe(I,Z,L){for(var U=I.length-1;U>=0;U--){var N=I[U],ue=N.startTime,te=ue+N.duration;if(L=isNaN(L)?G(N):L,!isNaN(ue)&&!isNaN(te)&&Z+L>=ue&&Z-L<te||isNaN(ue)&&isNaN(Z))return N}return null}function ye(I,Z){k.addSchedulingInfo(I,Z),k.addRequestsQueue(I.mediaType,P,A)}function W(I){I.sender===H&&(P.splice(P.indexOf(I.request),1),I.response&&!I.error&&A.push(I.request),ye(I.request,I.error?V:q),O.trigger(D.FRAGMENT_LOADING_COMPLETED,{request:I.request,response:I.response,error:I.error,sender:this},{streamId:$.id,mediaType:F}))}function de(I){I.sender===H&&O.trigger(D.FRAGMENT_LOADING_PROGRESS,{request:I.request,response:I.response,error:I.error,sender:this},{streamId:$.id,mediaType:F})}function X(I){I.sender===H&&O.trigger(D.FRAGMENT_LOADING_ABANDONED,{request:I.request},{streamId:$.id,mediaType:F})}function ge(){A=[],P=[]}return g={getStreamId:function(){return $.id},getType:function(){return F},getRequests:function(I){var Z=I?I.state instanceof Array?I.state:[I.state]:[],L=[];return Z.forEach(function(U){var N=function(ue){var te;switch(ue){case j:te=P;break;case q:te=A;break;default:te=[]}return te}(U);L=L.concat(function(ue,te){return te.hasOwnProperty("time")?[pe(ue,te.time,te.threshold)]:ue.filter(function(fe){for(var oe in te)if(oe!=="state"&&te.hasOwnProperty(oe)&&fe[oe]!=te[oe])return!1;return!0})}(N,I))}),L},isFragmentLoaded:Y,isFragmentLoadedOrPending:function(I){var Z,L=!1,U=0;if(!(L=Y(I)))for(U=0;U<P.length;U++)Z=P[U],I.url===Z.url&&I.startTime===Z.startTime&&(L=!0);return L},removeExecutedRequestsBeforeTime:_e,removeExecutedRequestsAfterTime:function(I){A=A.filter(function(Z){return isNaN(Z.startTime)||I!==void 0&&Z.startTime<I})},syncExecutedRequestsWithBufferedRange:function(I,Z){if(I&&I.length!==0){for(var L=0,U=0,N=I.length;U<N;U++)ce(L,I.start(U)),L=I.end(U);Z>0&&ce(L,Z)}else _e()},abortRequests:function(){b.debug("abort requests"),H.abort(),P=[]},executeRequest:function(I){I.action===M.Z.ACTION_DOWNLOAD?(ye(I,j),P.push(I),function(Z){O.trigger(D.FRAGMENT_LOADING_STARTED,{request:Z},{streamId:$.id,mediaType:F}),H.load(Z)}(I)):b.warn("Unknown request action.")},reset:function(){O.off(D.LOADING_COMPLETED,W,this),O.off(D.LOADING_DATA_PROGRESS,de,this),O.off(D.LOADING_ABANDONED,X,this),H&&H.reset(),ge()},resetInitialSettings:ge,addExecutedRequest:function(I){A.push(I)}},b=K.getLogger(g),ge(),O.on(D.LOADING_COMPLETED,W,g),O.on(D.LOADING_DATA_PROGRESS,de,g),O.on(D.LOADING_ABANDONED,X,g),g}re.__dashjs_factory_name="FragmentModel";var B=C.Z.getClassFactory(re);B.FRAGMENT_MODEL_LOADING=j,B.FRAGMENT_MODEL_EXECUTED=q,B.FRAGMENT_MODEL_CANCELED="canceled",B.FRAGMENT_MODEL_FAILED=V,C.Z.updateClassFactory(re.__dashjs_factory_name,B);var ee=B,le=l(5459);function Q(_){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},Q(_)}function se(_,g){return se=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},se(_,g)}function he(_,g){return!g||Q(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function De(_){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},De(_)}var ie=new(function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&se(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=De(g);if(b){var k=De(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return he(this,O)});function P(){var O;return function(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}(this,P),(O=A.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,O.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,O.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,O.SEGMENT_BASE_LOADER_ERROR_CODE=15,O.TIME_SYNC_FAILED_ERROR_CODE=16,O.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,O.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,O.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,O.APPEND_ERROR_CODE=20,O.REMOVE_ERROR_CODE=21,O.DATA_UPDATE_FAILED_ERROR_CODE=22,O.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,O.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,O.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,O.DOWNLOAD_ERROR_ID_SIDX_CODE=26,O.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,O.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,O.DOWNLOAD_ERROR_ID_XLINK_CODE=29,O.MANIFEST_ERROR_ID_PARSE_CODE=31,O.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,O.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,O.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,O.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,O.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",O.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",O.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",O.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",O.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",O.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",O.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",O.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",O.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",O.APPEND_ERROR_MESSAGE="chunk is not defined",O.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",O.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",O.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",O.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",O.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",O.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",O}return P}(l(2230).Z)),Se=l(1264),xe=l(7855);function je(_){var g,b,A,P,O,D,k=this.context,H=(0,Se.Z)(k).getInstance(),K=_.textController,$=_.eventBus,F=[],Y=[],G=!1,_e=_.mediaSource,ce=null;function pe(N){return new Promise(function(ue){U(function(){P.changeType&&P.changeType(N),ue()})})}function ye(N){return P=K.getTextSourceBuffer(N),Promise.resolve()}function W(){if(typeof P.addEventListener=="function")try{P.addEventListener("updateend",Z,!1),P.addEventListener("error",L,!1),P.addEventListener("abort",L,!1)}catch{D=setInterval(Z,50)}else D=setInterval(Z,50)}function de(N){return new Promise(function(ue){P&&H.get().streaming.buffer.useAppendWindow?U(function(){try{if(!P)return void ue();var te=_e.duration,fe=0;N&&!isNaN(N.start)&&!isNaN(N.duration)&&isFinite(N.duration)&&(te=N.start+N.duration),N&&!isNaN(N.start)&&(fe=N.start),P.appendWindowEnd===te&&P.appendWindowStart===fe||(P.appendWindowStart=0,P.appendWindowEnd=te+.01,P.appendWindowStart=Math.max(fe-.1,0),A.debug("Updated append window for ".concat(O.type,". Set start to ").concat(P.appendWindowStart," and end to ").concat(P.appendWindowEnd))),ue()}catch{A.warn("Failed to set append window"),ue()}}):ue()})}function X(N){return new Promise(function(ue){P?U(function(){try{P.timestampOffset===N||isNaN(N)||(P.timestampOffset=N,A.debug("Set MSE timestamp offset to ".concat(N))),ue()}catch{ue()}}):ue()})}function ge(){if(!G&&Y.length>0){G=!0;var N=Y[0];Y.splice(0,1);var ue=function(){G=!1,Y.length>0&&ge.call(this),N&&N.data&&N.data.segmentType&&N.data.segmentType!==xe.w.INIT_SEGMENT_TYPE&&delete N.data.bytes,N.promise.resolve({chunk:N.data})};try{ce=N.request,N.data.bytes.byteLength===0?ue.call(this):(P.appendBuffer?P.appendBuffer(N.data.bytes):P.append(N.data.bytes,N.data),U(ue.bind(this)))}catch(te){A.fatal('SourceBuffer append failed "'+te+'"'),Y.length>0?ge():G=!1,delete N.data.bytes,N.promise.reject({chunk:N.data,error:new le.Z(te.code,te.message)})}}}function I(){F.length>0&&(P.updating||(F.shift()(),I()))}function Z(){P.updating||I()}function L(N){var ue,te,fe=N.target||{};ue=m.Z.SOURCE_BUFFER_ERROR,te={error:fe,lastRequestAppended:ce},$.trigger(ue,te,{streamId:O.streamInfo.id,mediaType:b})}function U(N){F.push(N),P.updating||I()}return g={getType:function(){return b},getAllBufferRanges:function(){try{return P.buffered}catch(N){return A.error("getAllBufferRanges exception: "+N.message),null}},getBuffer:function(){return P},append:function(N){var ue=this,te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(fe,oe){N?(Y.push({data:N,promise:{resolve:fe,reject:oe},request:te}),U(ge.bind(ue))):oe({chunk:N,error:new le.Z(ie.APPEND_ERROR_CODE,ie.APPEND_ERROR_MESSAGE)})})},remove:function(N){return new Promise(function(ue,te){var fe=N.start,oe=N.end;fe>=0&&oe>fe?U(function(){try{P.remove(fe,oe),U(function(){ue({from:fe,to:oe,unintended:!1}),N.resolve&&N.resolve()})}catch(z){te({from:fe,to:oe,unintended:!1,error:new le.Z(ie.REMOVE_ERROR_CODE,ie.REMOVE_ERROR_MESSAGE)}),N.reject&&N.reject(z)}}):ue()})},abort:function(){return new Promise(function(N){try{Y=[],_e.readyState==="open"?U(function(){try{P&&P.abort(),N()}catch{N()}}):(P&&P.setTextTrack&&_e.readyState==="ended"&&P.abort(),N())}catch{N()}})},reset:function(){if(P){try{F=[],function(){try{typeof P.removeEventListener=="function"&&(P.removeEventListener("updateend",Z,!1),P.removeEventListener("error",L,!1),P.removeEventListener("abort",L,!1)),clearInterval(D)}catch(N){A.error(N)}}(),G=!1,Y=[],P.getClassName&&P.getClassName()==="TextSourceBuffer"||(A.debug("Removing sourcebuffer from media source"),_e.removeSourceBuffer(P))}catch{}P=null}ce=null},updateTimestampOffset:X,initializeForStreamSwitch:function(N,ue,te){b=(O=N).type;var fe=O.codec;(function(z){P=z.getBuffer()})(te),W();var oe=[];return oe.push(new Promise(function(z){U(function(){var ae=P.appendWindowStart,be=P.appendWindowEnd;P&&(P.abort(),P.appendWindowStart=ae,P.appendWindowEnd=be),z()})})),oe.push(de(O.streamInfo)),H.get().streaming.buffer.useChangeTypeForTrackSwitch&&oe.push(pe(fe)),ue&&ue.MSETimeOffset!==void 0&&oe.push(X(ue.MSETimeOffset)),Promise.all(oe)},initializeForFirstUse:function(N,ue,te){b=(O=ue).type;var fe=O.codec;try{if(fe.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return ye(N);P=_e.addSourceBuffer(fe),W();var oe=[];return oe.push(de(O.streamInfo)),te&&te.MSETimeOffset!==void 0&&oe.push(X(te.MSETimeOffset)),Promise.all(oe)}catch(z){return O.type==c.Z.TEXT&&!O.isFragmented||fe.indexOf('codecs="stpp')!==-1||fe.indexOf('codecs="vtt')!==-1||fe.indexOf("text/vtt")!==-1?ye(N):Promise.reject(z)}},updateAppendWindow:de,changeType:pe},A=(0,S.Z)(k).getInstance().getLogger(g),g}je.__dashjs_factory_name="SourceBufferSink";var Te=C.Z.getClassFactory(je);function Fe(_){var g,b,A,P=this.context,O=[],D=_;function k(H,K){return O=O.filter(function($){return!((isNaN(K)||$.start<K)&&(isNaN(H)||$.end>H))}),Promise.resolve()}return g={getAllBufferRanges:function(){for(var H=[],K=0;K<O.length;K++){var $=O[K];H.length===0||$.start>H[H.length-1].end?H.push({start:$.start,end:$.end}):H[H.length-1].end=$.end}var F={start:function(Y){return H[Y].start},end:function(Y){return H[Y].end}};return Object.defineProperty(F,"length",{get:function(){return H.length}}),F},append:function(H){return H.segmentType!=="InitializationSegment"?(O.push(H),O.sort(function(K,$){return K.start-$.start}),A=null):A=H,b.debug("PreBufferSink appended chunk s: "+H.start+"; e: "+H.end),D&&D({chunk:H}),Promise.resolve()},remove:k,abort:function(){return Promise.resolve()},discharge:function(H,K){var $=function(F,Y){return O.filter(function(G){return(isNaN(Y)||G.start<Y)&&(isNaN(F)||G.end>F)})}(H,K);return A&&($.push(A),A=null),k(H,K),$},reset:function(){O=[],A=null,D=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(H){H()},getBuffer:function(){return this}},b=(0,S.Z)(P).getInstance().getLogger(g),g}Fe.__dashjs_factory_name="PreBufferSink";var qe=C.Z.getClassFactory(Fe);function Je(){var _={};return{save:function(g){var b=g.streamId,A=g.representationId;_[b]=_[b]||{},_[b][A]=g},extract:function(g,b){return _&&_[g]&&_[g][b]?_[g][b]:null},reset:function(){_={}}}}Je.__dashjs_factory_name="InitCache";var Ie=C.Z.getSingletonFactory(Je),Me=.01,At="BufferController";function vt(_){_=_||{};var g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe,ye,W,de,X,ge,I=this.context,Z=(0,E.Z)(I).getInstance(),L=_.errHandler,U=_.fragmentModel,N=_.representationController,ue=_.adapter,te=_.textController,fe=_.abrController,oe=_.playbackController,z=_.streamInfo,ae=_.type,be=_.settings;function Ue(Be){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(ve,Ce){D=Be,K&&ft&&typeof K.discharge=="function"?($=K,Ve(ft).then(function(){ve()}).catch(function(tt){Ce(tt)})):ve()})}function Re(Be){return ue.convertRepresentationToRepresentationInfo(N.getRepresentationForQuality(Be))}function Ve(Be){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return new Promise(function(ve,Ce){W&&Be?D?(F=!1,ct(Be,ft).then(function(tt){ve(tt)}).catch(function(tt){Ce(tt)})):(F=!0,ke().then(function(tt){ve(tt)}).catch(function(tt){Ce(tt)})):ve(null)})}function ke(){var Be=this;return new Promise(function(ft,ve){var Ce=fe.getQualityFor(ae,z.id);K=qe(I).create(Ae.bind(Be)),sn(Re(Ce)).then(function(){ft(K)}).catch(function(){ve()})})}function ct(Be,ft){return new Promise(function(ve,Ce){var tt=fe.getQualityFor(ae,z.id);K=Te(I).create({mediaSource:D,textController:te,eventBus:Z}),function(Ot,Zt,On){var Dr=Re(On);return Zt&&Zt[ae]&&(ae===c.Z.VIDEO||ae===c.Z.AUDIO)?K.initializeForStreamSwitch(Ot,Dr,Zt[ae]):K.initializeForFirstUse(z,Ot,Dr)}(Be,ft,tt).then(function(){return sn(Re(tt))}).then(function(){ve(K)}).catch(function(Ot){b.fatal("Caught error on create SourceBuffer: "+Ot),L.error(new le.Z(ie.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ie.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+ae)),Ce(Ot)})})}function dt(Be){be.get().streaming.cacheInitSegments&&(b.info("Init fragment finished loading saving to",ae+"'s init cache"),W.save(Be.chunk)),b.debug("Append Init fragment",ae," with representationId:",Be.chunk.representationId," and quality:",Be.chunk.quality,", data size:",Be.chunk.bytes.byteLength),st(Be.chunk)}function ot(Be){st(Be.chunk,Be.request)}function st(Be){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;K&&(K.append(Be,ft).then(function(ve){Ae(ve)}).catch(function(ve){Ae(ve)}),Be.mediaInfo.type===c.Z.VIDEO&&rn(m.Z.VIDEO_CHUNK_RECEIVED,{chunk:Be}))}function Yt(Be){if(Be&&Be.length>0)for(var ft=0,ve=Be.length;ft<ve;ft++)b.debug("Buffered range: "+Be.start(ft)+" - "+Be.end(ft)+", currentTime = ",oe.getTime())}function Ae(Be){if(Be.error)return Be.error.code===22&&function(){if(ye=!0,O=.8*zt(),b.warn("Quota exceeded, Critical Buffer: "+O),O>0){var Ce=Math.max(.2*O,1),tt=O-Ce,Ot=Math.min(be.get().streaming.buffer.bufferTimeAtTopQuality,.9*tt),Zt=Math.min(be.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*tt),On={streaming:{buffer:{bufferToKeep:parseFloat(Ce.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Ot.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Zt.toFixed(5))}}};be.update(On)}}(),void(Be.error.code!==22&&Kt()||(b.warn("Clearing playback buffer to overcome quota exceed situation"),rn(m.Z.QUOTA_EXCEEDED,{criticalBufferLevel:O,quotaExceededTime:Be.chunk.start}),lt(bt())));if(K&&(tn(),ye=!1,(_e=Be.chunk)&&_e.endFragment)){_e&&!isNaN(_e.index)&&(k=Math.max(_e.index,k),en());var ft=K.getAllBufferRanges();_e.segmentType===xe.w.MEDIA_SEGMENT_TYPE&&(Yt(ft),Xe(),function(){if(!isNaN(ge)&&!F)if(ae===c.Z.AUDIO||ae===c.Z.VIDEO){var Ce=oe.getTime(),tt=mt(Ce,0),Ot=mt(ge,0);if(tt&&Ot&&tt.start===Ot.start)ge=NaN;else{var Zt=N.getCurrentRepresentation().segmentDuration,On=mt(ge,Zt);On&&(be.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Ce-ge)>Zt?ge<=On.end&&oe.seek(Math.max(ge,On.start),!1,!0):Ce<On.start&&oe.seek(On.start,!1,!0))}}else ge=NaN}());var ve=!1;Y&&(Y.indexOf(_e)>0&&(ve=!0),Y=null),_e&&!ve&&rn(m.Z.BYTES_APPENDED_END_FRAGMENT,{quality:_e.quality,startTime:_e.start,index:_e.index,bufferedRanges:ft,segmentType:_e.segmentType,mediaType:ae})}}function Ge(){return new Promise(function(Be,ft){var ve=_t();if(!ve||ve.length===0)return Xe(),void Be();lt(ve).then(function(){Be()}).catch(function(Ce){ft(Ce)})})}function _t(Be){var ft=[],ve=K.getAllBufferRanges();if(!ve||ve.length===0)return ft;if(!Be&&Be!==0||isNaN(Be))ft.push({start:ve.start(0),end:ve.end(ve.length-1)+.5});else{var Ce=function(Ot,Zt){var On=be.get().streaming.buffer.bufferToKeep,Dr=Zt.start(0);if(Ot-Dr>On){var ii=Math.max(0,Ot-On),Tr=U.getRequests({state:ee.FRAGMENT_MODEL_EXECUTED,time:Ot,threshold:Me})[0];if(Tr&&(ii=Math.min(Tr.startTime,ii)),ii>0)return{start:Dr,end:ii}}return null}(Be,ve),tt=function(Ot,Zt){var On=Zt.end(Zt.length-1)+.5,Dr=Wt(Ot),ii=z.manifestInfo.duration>=be.get().streaming.buffer.longFormContentDurationThreshold?be.get().streaming.buffer.bufferTimeAtTopQualityLongForm:be.get().streaming.buffer.bufferTimeAtTopQuality,Tr=isNaN(Dr)?Ot:Math.min(Dr,Ot+ii);if(Tr>=Zt.end(Zt.length-1))return null;var zi=U.getRequests({state:ee.FRAGMENT_MODEL_EXECUTED,time:Ot,threshold:Me})[0];if(zi&&(Tr=Math.max(zi.startTime+zi.duration,Tr)),be.get().streaming.buffer.avoidCurrentTimeRangePruning){for(var di=0;di<Zt.length;di++)if(Zt.start(di)<=Ot&&Ot<=Zt.end(di)&&Zt.start(di)<=Tr&&Tr<=Zt.end(di)){var Qs=Tr;Tr=di+1<Zt.length?Zt.start(di+1):Zt.end(di)+1,b.debug("Buffered range ["+Zt.start(di)+", "+Zt.end(di)+"] overlaps with targetTime "+Ot+" and range to be pruned ["+Qs+", "+On+"], using ["+Tr+", "+On+"] instead"+(Tr<On?"":" (no actual pruning)"));break}}return Tr<Zt.end(Zt.length-1)?{start:Tr,end:On}:null}(Be,ve);Ce&&ft.push(Ce),tt&&ft.push(tt)}return ft}function Xe(){(!X||ae===c.Z.TEXT&&te.isTextEnabled())&&tn()}function St(){xn()}function wt(){xn(),ge=NaN}function mt(Be,ft){if(!K)return null;var ve,Ce,tt=K.getAllBufferRanges(),Ot=0,Zt=0,On=null,Dr=null,ii=0,Tr=isNaN(ft)?.15:ft;if(tt!=null){for(Ce=0,ve=tt.length;Ce<ve;Ce++)if(Ot=tt.start(Ce),Zt=tt.end(Ce),On===null)ii=Math.abs(Ot-Be),(Be>=Ot&&Be<Zt||ii<=Tr)&&(On=Ot,Dr=Zt);else{if(!((ii=Ot-Dr)<=Tr))break;Dr=Zt}if(On!==null)return{start:On,end:Dr}}return null}function tn(){if(oe){var Be=oe.getTime()||0;F&&(Be=isNaN(ge)?0:ge);var ft=be.get().streaming.gaps.jumpGaps&&!isNaN(be.get().streaming.gaps.smallGapLimit)?be.get().streaming.gaps.smallGapLimit:NaN;P=Math.max(function(ve,Ce){var tt;return be.get().streaming.gaps.jumpGaps&&(Ce=be.get().streaming.gaps.smallGapLimit),(tt=mt(ve,Ce))===null?0:tt.end-ve}(Be,ft),0),rn(m.Z.BUFFER_LEVEL_UPDATED,{mediaType:ae,bufferLevel:P}),xn()}}function en(){var Be=k>=H-1,ft=oe.getTimeToStreamEnd(z)-P<1e-5;!Be&&!ft||A||(gt(!0),b.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(z.id," and type ").concat(ae)))}function xn(){ae!==c.Z.AUDIO&&ae!==c.Z.VIDEO||((!oe.getLowLatencyModeEnabled()&&P<be.get().streaming.buffer.stallThreshold||P===0)&&!A?Nn(p.Z.BUFFER_EMPTY):(A||P>=be.get().streaming.buffer.stallThreshold||oe.getLowLatencyModeEnabled()&&P>0)&&Nn(p.Z.BUFFER_LOADED))}function Nn(Be){G===Be||Be===p.Z.BUFFER_EMPTY&&oe.getTime()===0||ae===c.Z.TEXT&&!te.isTextEnabled()||(G=Be,rn(m.Z.BUFFER_LEVEL_STATE_CHANGED,{state:Be}),rn(Be===p.Z.BUFFER_LOADED?m.Z.BUFFER_LOADED:m.Z.BUFFER_EMPTY),b.debug(Be===p.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Ke(){K&&ae!==c.Z.TEXT&&(A||lt(bt()))}function bt(){var Be=[],ft=K.getAllBufferRanges();if(!ft||ft.length===0)return Be;var ve=oe.getTime(),Ce=Math.max(0,ve-be.get().streaming.buffer.bufferToKeep),tt=U.getRequests({state:ee.FRAGMENT_MODEL_EXECUTED,time:ve,threshold:Me})[0];if(tt)Ce=Math.min(tt.startTime,Ce);else if(ve===0&&oe.getIsDynamic())return[];if(ft.start(0)<=Ce){for(var Ot={start:0,end:Ce},Zt=0;Zt<ft.length&&ft.end(Zt)<=Ce;Zt++)Ot.end=ft.end(Zt);Ot.start<Ot.end&&Be.push(Ot)}return Be}function lt(Be){return new Promise(function(ft,ve){if(Be&&K&&Be.length!==0){var Ce=[];Be.forEach(function(tt){Ce.push(function(Ot){return new Promise(function(Zt,On){Ot.resolve=Zt,Ot.reject=On,de.push(Ot)})}(tt))}),pe||Rt(),Promise.all(Ce).then(function(){ft()}).catch(function(tt){ve(tt)})}else ft()})}function Rt(){try{if(de.length===0||!K)return b.debug("Nothing to prune, halt pruning"),de=[],void(pe=!1);var Be=K.getBuffer();if(!Be||!Be.buffered||Be.buffered.length===0)return b.debug("SourceBuffer is empty (or does not exist), halt pruning"),de=[],void(pe=!1);var ft=de.shift();b.debug("".concat(ae,": Removing buffer from: ").concat(ft.start," to ").concat(ft.end)),pe=!0,oe.getTime()<ft.end&&gt(!1),K.remove(ft).then(function(ve){Vt(ve)}).catch(function(ve){Vt(ve)})}catch{pe=!1}}function Vt(Be){b.debug("onRemoved buffer from:",Be.from,"to",Be.to),K&&(Yt(K.getAllBufferRanges()),de.length===0&&(pe=!1,tn()),Be.unintended&&(b.warn("Detected unintended removal from:",Be.from,"to",Be.to,"setting streamprocessor time to",Be.from),rn(m.Z.SEEK_TARGET,{time:Be.from})),pe?Rt():(X?X=!1:tn(),rn(m.Z.BUFFER_CLEARED,{from:Be.from,to:Be.to,unintended:Be.unintended,hasEnoughSpaceToAppend:Kt(),quotaExceeded:ye})))}function sn(Be){return new Promise(function(ft){Be&&Be.MSETimeOffset!==void 0&&K&&K.updateTimestampOffset?K.updateTimestampOffset(Be.MSETimeOffset).then(function(){ft()}).catch(function(){ft()}):ft()})}function nn(){return K&&!A?K.updateAppendWindow(z):Promise.resolve()}function cn(){++ce*(be.get().streaming.wallclockTimeUpdateInterval/1e3)>=be.get().streaming.buffer.bufferPruningInterval&&(ce=0,Ke())}function yn(){xn()}function gt(Be){(A=Be)?rn(m.Z.BUFFERING_COMPLETED):H=Number.POSITIVE_INFINITY}function zt(){try{var Be,ft,ve=K.getAllBufferRanges(),Ce=0;if(!ve)return Ce;for(ft=0,Be=ve.length;ft<Be;ft++)Ce+=ve.end(ft)-ve.start(ft);return Ce}catch{return 0}}function Wt(Be){try{var ft=Be,ve=K.getAllBufferRanges();if(!ve||ve.length===0)return NaN;for(var Ce=0;ft===Be&&Ce<ve.length;){var tt=ve.start(Ce),Ot=ve.end(Ce);ft>=tt&&ft<=Ot&&(ft=Ot),Ce+=1}return ft===Be?NaN:ft}catch{}}function Kt(){var Be=zt();return isNaN(Be)||Be<O}function rn(Be,ft){var ve=ft||{};Z.trigger(Be,ve,{streamId:z.id,mediaType:ae})}function Qe(Be,ft){if(O=Number.POSITIVE_INFINITY,G=void 0,H=Number.POSITIVE_INFINITY,k=0,_e=null,A=!1,pe=!1,ye=!1,P=0,ce=0,de=[],ge=NaN,F=!1,K){var ve=K;K=null,Be||ft||ve.abort().then(function(){ve.reset(ft),ve=null})}X=!1}return g={initialize:function(Be){Ue(Be),Z.on(m.Z.INIT_FRAGMENT_LOADED,dt,g),Z.on(m.Z.MEDIA_FRAGMENT_LOADED,ot,g),Z.on(m.Z.WALLCLOCK_TIME_UPDATED,cn,g),Z.on(h.Z.PLAYBACK_PLAYING,wt,g),Z.on(h.Z.PLAYBACK_PROGRESS,Xe,g),Z.on(h.Z.PLAYBACK_TIME_UPDATED,Xe,g),Z.on(h.Z.PLAYBACK_RATE_CHANGED,yn,g),Z.on(h.Z.PLAYBACK_STALLED,St,g)},getStreamId:function(){return z.id},getType:function(){return ae},getBufferControllerType:function(){return At},createBufferSink:Ve,dischargePreBuffer:function(){if(K&&$&&typeof $.discharge=="function"){var Be=$.getAllBufferRanges();if(Be.length>0){for(var ft="Beginning "+ae+"PreBuffer discharge, adding buffer for:",ve=0;ve<Be.length;ve++)ft+=" start: "+Be.start(ve)+", end: "+Be.end(ve)+";";b.debug(ft)}else b.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");Y=[];for(var Ce=$.discharge(),tt=null,Ot=0;Ot<Ce.length;Ot++){var Zt=Ce[Ot];if(Zt.segmentType!==xe.w.INIT_SEGMENT_TYPE){var On=W.extract(Zt.streamId,Zt.representationId);On&&tt!==On&&(Y.push(On),K.append(On),tt=On)}Y.push(Zt),K.append(Zt)}$.reset(),$=null}},getBuffer:function(){return K},getBufferLevel:function(){return P},getRangeAt:mt,hasBufferAtTime:function(Be){try{var ft=K.getAllBufferRanges();if(!ft||ft.length===0)return!1;for(var ve=0;ve<ft.length;){var Ce=ft.start(ve),tt=ft.end(ve);if(Be>=Ce&&Be<=tt)return!0;ve+=1}return!1}catch(Ot){return b.error(Ot),!1}},pruneBuffer:Ke,setMediaSource:Ue,getMediaSource:function(){return D},appendInitSegmentFromCache:function(Be){var ft=W.extract(z.id,Be);return!!ft&&(b.info("Append Init fragment",ae," with representationId:",ft.representationId," and quality:",ft.quality,", data size:",ft.bytes.byteLength),st(ft),!0)},getIsBufferingCompleted:function(){return A},setIsBufferingCompleted:gt,getIsPruningInProgress:function(){return pe},reset:function(Be,ft){Z.off(m.Z.INIT_FRAGMENT_LOADED,dt,this),Z.off(m.Z.MEDIA_FRAGMENT_LOADED,ot,this),Z.off(m.Z.WALLCLOCK_TIME_UPDATED,cn,this),Z.off(h.Z.PLAYBACK_PLAYING,wt,this),Z.off(h.Z.PLAYBACK_PROGRESS,Xe,this),Z.off(h.Z.PLAYBACK_TIME_UPDATED,Xe,this),Z.off(h.Z.PLAYBACK_RATE_CHANGED,yn,this),Z.off(h.Z.PLAYBACK_STALLED,St,this),Qe(Be,ft)},prepareForPlaybackSeek:function(){return A&&gt(!1),K.abort()},prepareForReplacementTrackSwitch:function(Be){return new Promise(function(ft,ve){K.abort().then(function(){return nn()}).then(function(){return be.get().streaming.buffer.useChangeTypeForTrackSwitch?K.changeType(Be):Promise.resolve()}).then(function(){return Ge()}).then(function(){gt(!1),ft()}).catch(function(Ce){ve(Ce)})})},prepareForNonReplacementTrackSwitch:function(Be){return new Promise(function(ft,ve){nn().then(function(){return be.get().streaming.buffer.useChangeTypeForTrackSwitch?K.changeType(Be):Promise.resolve()}).then(function(){ft()}).catch(function(Ce){ve(Ce)})})},prepareForForceReplacementQualitySwitch:function(Be){return new Promise(function(ft,ve){K.abort().then(function(){return nn()}).then(function(){return Ge()}).then(function(){return sn(Be)}).then(function(){gt(!1),ft()}).catch(function(Ce){ve(Ce)})})},updateAppendWindow:nn,getAllRangesWithSafetyFactor:_t,getContinuousBufferTimeForTargetTime:Wt,clearBuffers:lt,pruneAllSafely:Ge,updateBufferTimestampOffset:sn,setSeekTarget:function(Be){ge=Be},segmentRequestingCompleted:function(Be){isNaN(Be)||(H=Be,en())}},b=(0,S.Z)(I).getInstance().getLogger(g),W=Ie(I).getInstance(),Qe(),g}vt.__dashjs_factory_name=At;var ze=C.Z.getClassFactory(vt),it="NotFragmentedTextBufferController";function me(_){_=_||{};var g,b,A,P,O,D,k=this.context,H=(0,E.Z)(k).getInstance(),K=_.textController,$=_.errHandler,F=_.streamInfo,Y=_.type;function G(pe){P=pe}function _e(pe){var ye,W;b!==pe&&(b=pe)&&(ye=m.Z.BUFFERING_COMPLETED,W={},H.trigger(ye,W,{streamId:F.id,mediaType:Y}))}function ce(pe){pe.chunk.bytes&&!b&&(D.save(pe.chunk),O.append(pe.chunk),_e(!0))}return g={initialize:function(pe){G(pe)},getStreamId:function(){return F.id},getType:function(){return Y},getBufferControllerType:function(){return it},createBufferSink:function(pe){return new Promise(function(ye,W){try{(O=Te(k).create({mediaSource:P,textController:K,eventBus:H})).initializeForFirstUse(F,pe),A||(O.getBuffer()&&typeof O.getBuffer().initialize=="function"&&O.getBuffer().initialize(),A=!0),ye(O)}catch(de){$.error(new le.Z(ie.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ie.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Y)),W(de)}})},dischargePreBuffer:function(){},getBuffer:function(){return O},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:G,getMediaSource:function(){return P},appendInitSegmentFromCache:function(pe){return D.extract(F.id,pe)!==null},getIsBufferingCompleted:function(){return b},setIsBufferingCompleted:_e,getIsPruningInProgress:function(){return!1},reset:function(pe){H.off(m.Z.INIT_FRAGMENT_LOADED,ce,g),!pe&&O&&(O.abort(),O.reset(),O=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return b=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},A=!1,P=null,b=!1,D=Ie(k).getInstance(),H.on(m.Z.INIT_FRAGMENT_LOADED,ce,g),g}me.__dashjs_factory_name=it;var Ee=C.Z.getClassFactory(me);function $e(_){_=_||{};var g,b,A,P,O,D,k,H,K,$,F,Y,G,_e=this.context,ce=(0,E.Z)(_e).getInstance(),pe=_.dashMetrics,ye=_.mediaPlayerModel,W=_.fragmentModel,de=_.abrController,X=_.playbackController,ge=_.textController,I=_.type,Z=_.bufferController,L=_.representationController,U=_.settings;function N(){Y=!0}function ue(){Y=!1}function te(ct){if(!Z.getIsBufferingCompleted()){fe();var dt=isNaN(ct)?0:ct;O=setTimeout(oe,dt)}}function fe(){O&&(clearTimeout(O),O=null)}function oe(){try{if(function(){try{return I===c.Z.TEXT&&!ge.isTextEnabled()||X.isPaused()&&(!X.getStreamController().getInitialPlayback()||!X.getStreamController().getAutoPlay())&&!U.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void fe();if(function(){try{return!!Y&&L.getCurrentRepresentationInfo()&&(isNaN(K)||$||(ot=b.id,st=de.getMaxAllowedIndexFor(I,ot),!(!isNaN(H)&&H==st||(A.info("Top quality "+I+" index has changed from "+H+" to "+st),H=st,0)))||function(){var Yt=L.getCurrentRepresentationInfo();return!I||!Yt||pe.getCurrentBufferLevel(I)<z()}())}catch{return!1}var ot,st}()){var ct=!1;G&&(ct=de.checkPlaybackQuality(I,b.id)),ct||(dt=L.getCurrentRepresentationInfo(),F||dt.quality!==K||$?($?(A.debug("Switch track for "+I+", representation id = "+dt.id),$=!1):A.debug("Quality has changed, get init request for representationid = "+dt.id),ce.trigger(m.Z.INIT_FRAGMENT_NEEDED,{representationId:dt.id,sender:g},{streamId:b.id,mediaType:I}),G=!1,F=!1):(A.debug("Media segment needed for ".concat(I," and stream id ").concat(b.id)),ce.trigger(m.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:b.id,mediaType:I}),G=!0))}else te(X.getLowLatencyModeEnabled()?U.get().streaming.scheduling.lowLatencyTimeout:U.get().streaming.scheduling.defaultTimeout)}catch{te(X.getLowLatencyModeEnabled()?U.get().streaming.scheduling.lowLatencyTimeout:U.get().streaming.scheduling.defaultTimeout)}var dt}function z(){var ct=NaN,dt=L.getCurrentRepresentationInfo();return I&&dt&&(ct=I===c.Z.TEXT?function(){try{if(ge.isTextEnabled()){var ot=L.getCurrentRepresentationInfo();if(isNaN(ot.fragmentDuration)){var st=pe.getCurrentSchedulingInfo(p.Z.SCHEDULING_INFO);return st?st.duration:0}return ot.fragmentDuration}return 0}catch{return 0}}():I===c.Z.AUDIO&&D?function(){try{var ot=pe.getCurrentBufferLevel(c.Z.VIDEO),st=L.getCurrentRepresentationInfo();return isNaN(st.fragmentDuration)?ot+1:Math.max(ot+1,st.fragmentDuration)}catch{return 0}}():function(){try{var ot=L.getCurrentRepresentationInfo().mediaInfo.streamInfo;return de.isPlayingAtTopQuality(ot)?ot.manifestInfo.duration>=U.get().streaming.buffer.longFormContentDurationThreshold?U.get().streaming.buffer.bufferTimeAtTopQualityLongForm:U.get().streaming.buffer.bufferTimeAtTopQuality:ye.getStableBufferTime()}catch{return ye.getStableBufferTime()}}()),ct}function ae(){be(!0)}function be(ct){if(X&&W){var dt=W.getRequests({state:ee.FRAGMENT_MODEL_EXECUTED,time:X.getTime(),threshold:0})[0];dt&&X.getTime()>=dt.startTime&&((!k.mediaInfo||dt.mediaInfo.type===k.mediaInfo.type&&dt.mediaInfo.index!==k.mediaInfo.index)&&ct&&ce.trigger(m.Z.TRACK_CHANGE_RENDERED,{mediaType:I,oldMediaInfo:k.mediaInfo,newMediaInfo:dt.mediaInfo,streamId:b.id}),dt.quality===k.quality&&dt.adaptationIndex===k.adaptationIndex||!ct||(A.debug("Quality change rendered for streamId ".concat(b.id," and type ").concat(I)),ce.trigger(m.Z.QUALITY_CHANGE_RENDERED,{mediaType:I,oldQuality:k.quality,newQuality:dt.quality,streamId:b.id})),k={mediaInfo:dt.mediaInfo,quality:dt.quality,adaptationIndex:dt.adaptationIndex})}}function Ue(){W.abortRequests(),fe()}function Re(){U.get().streaming.scheduling.scheduleWhilePaused||te()}function Ve(ct){pe.updatePlayListTraceMetrics({playbackspeed:ct.playbackRate.toString()})}function ke(){G=!0,P=0,K=NaN,k={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},H=NaN,$=!1,F=!1,Y=!0}return g={initialize:function(ct){D=ct,ce.on(m.Z.URL_RESOLUTION_FAILED,Ue,g),ce.on(h.Z.PLAYBACK_STARTED,Re,g),ce.on(h.Z.PLAYBACK_RATE_CHANGED,Ve,g),ce.on(h.Z.PLAYBACK_TIME_UPDATED,ae,g),ce.on(h.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,N,g),ce.on(h.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,ue,g)},getType:function(){return I},getStreamId:function(){return b.id},setTimeToLoadDelay:function(ct){P=ct},getTimeToLoadDelay:function(){return P},setSwitchTrack:function(ct){$=ct},getSwitchTrack:function(){return $},startScheduleTimer:te,clearScheduleTimer:fe,reset:function(){ce.off(m.Z.URL_RESOLUTION_FAILED,Ue,g),ce.off(h.Z.PLAYBACK_STARTED,Re,g),ce.off(h.Z.PLAYBACK_RATE_CHANGED,Ve,g),ce.off(h.Z.PLAYBACK_TIME_UPDATED,ae,g),ce.off(h.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,N,g),ce.off(h.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,ue,g),fe(),be(!1),ke(),b=null},getBufferTarget:z,getPlaybackController:function(){return X},setCheckPlaybackQuality:function(ct){G=ct},setInitSegmentRequired:function(ct){F=ct},setLastInitializedQuality:function(ct){K=ct}},A=(0,S.Z)(_e).getInstance().getLogger(g),ke(),b=_.streamInfo,g}$e.__dashjs_factory_name="ScheduleController";var T=C.Z.getClassFactory($e),y=l(7387);function x(_){var g,b,A,P,O,D,k=(_=_||{}).eventBus,H=_.events,K=_.abrController,$=_.dashMetrics,F=_.playbackController,Y=_.timelineConverter,G=_.type,_e=_.streamInfo,ce=_.dashConstants,pe=_.segmentsController,ye=_.isDynamic,W=_.adapter;function de(){return G}function X(){return A}function ge(){return D}function I(){b=null,A=!0,P=[],O=null}function Z(fe){return new Promise(function(oe,z){var ae=fe.hasInitialization(),be=fe.hasSegments(),Ue=[];Ue.push(pe.updateInitData(fe,ae)),Ue.push(pe.updateSegmentData(fe,be)),Promise.all(Ue).then(function(Re){var Ve;Re[0]&&!Re[0].error&&(fe=function(ke,ct){return ct&&!ct.error&&ct.representation?ct.representation:ke}(fe,Re[0])),Re[1]&&!Re[1].error&&(fe=function(ke,ct){if(ct&&!ct.error){var dt,ot,st,Yt,Ae=ct.segments,Ge=[],_t=0;for(dt=0,ot=Ae?Ae.length:0;dt<ot;dt++)st=Ae[dt],(Yt=(0,y.TJ)(Y,ye,ke,st.startTime,st.duration,st.timescale,st.media,st.mediaRange,_t))&&(Ge.push(Yt),Yt=null,_t++);return Ge.length>0&&(ke.segments=Ge),ke}}(fe,Re[1])),(Ve=fe).mediaFinishedInformation=pe.getMediaFinishedInformation(Ve),function(ke){if(X()){var ct,dt,ot=$.getCurrentManifestUpdate(),st=!1;if(ot){for(var Yt=0;Yt<ot.representationInfo.length;Yt++)if((ct=ot.representationInfo[Yt]).index===ke.index&&ct.mediaType===de()){st=!0;break}st||$.addManifestUpdateRepresentationInfo(ke,de())}if(function(){for(var Ge=0,_t=P.length;Ge<_t;Ge++){var Xe=P[Ge].segmentInfoType;if(!P[Ge].hasInitialization()||(Xe===ce.SEGMENT_BASE||Xe===ce.BASE_URL)&&!P[Ge].segments)return!1}return!0}()){K.setPlaybackQuality(G,_e,(dt=D,P.indexOf(dt)));var Ae=$.getCurrentDVRInfo(G);Ae&&$.updateManifestUpdateInfo({latency:Ae.range.end-F.getTime()}),$.getCurrentRepresentationSwitch(ge().adaptation.type)||L(),N()}}}(fe),oe()}).catch(function(Re){z(Re)})})}function L(){(function(){if(!(K&&$&&F&&Y))throw new Error(c.Z.MISSING_CONFIG_ERROR)})();var fe=new Date,oe=ge(),z=1e3*F.getTime();oe&&$.addRepresentationSwitch(oe.adaptation.type,fe,z,oe.id),k.trigger(h.Z.REPRESENTATION_SWITCH,{mediaType:G,streamId:_e.id,currentRepresentation:oe,numberOfRepresentations:P.length},{streamId:_e.id,mediaType:G})}function U(fe){return fe==null||fe>=P.length?null:P[fe]}function N(fe){A=!1,k.trigger(H.DATA_UPDATE_COMPLETED,{data:b,currentRepresentation:D,error:fe},{streamId:_e.id,mediaType:G})}function ue(fe){D=fe,O=W.convertRepresentationToRepresentationInfo(D)}function te(fe){if(fe.newDuration){var oe=ge();oe&&oe.adaptation.period&&(oe.adaptation.period.duration=fe.newDuration)}}return g={getStreamId:function(){return _e.id},getType:de,getData:function(){return b},isUpdating:X,updateData:function(fe,oe,z,ae,be){return new Promise(function(Ue,Re){if(A=!0,P=oe,b=fe,ue(U(be)),z!==c.Z.VIDEO&&z!==c.Z.AUDIO&&(z!==c.Z.TEXT||!ae))return N(),void Ue();for(var Ve=[],ke=0,ct=P.length;ke<ct;ke++){var dt=P[ke];Ve.push(Z(dt))}Promise.all(Ve).then(function(){ue(U(be)),Ue()}).catch(function(ot){Re(ot)})})},getCurrentRepresentation:ge,getCurrentRepresentationInfo:function(){return O},getRepresentationForQuality:U,prepareQualityChange:function(fe){ue(U(fe)),L()},reset:function(){k.off(h.Z.MANIFEST_VALIDITY_CHANGED,te,g),I()}},I(),k.on(h.Z.MANIFEST_VALIDITY_CHANGED,te,g),g}x.__dashjs_factory_name="RepresentationController";var R=C.Z.getClassFactory(x),ne=l(3106),J=l(9326),Ne=l(7473),rt=l(2594);function He(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}var Ze=function _(){He(this,_),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Ze.INITIAL_PLAYOUT_START_REASON="initial_playout",Ze.SEEK_START_REASON="seek",Ze.RESUME_FROM_PAUSE_START_REASON="resume",Ze.METRICS_COLLECTION_START_REASON="metrics_collection_start";var Oe=function _(){He(this,_),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};Oe.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",Oe.REBUFFERING_REASON="rebuffering",Oe.USER_REQUEST_STOP_REASON="user_request",Oe.END_OF_PERIOD_STOP_REASON="end_of_period",Oe.END_OF_CONTENT_STOP_REASON="end_of_content",Oe.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",Oe.FAILURE_STOP_REASON="failure";var Ye=l(7802);function we(){return{ntpToUTC:function(_){var g=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(g.getTime()+_).getTime()}}}we.__dashjs_factory_name="TimeUtils";var Le=C.Z.getSingletonFactory(we);function Pe(_){_=_||{};var g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe=this.context,ye=(0,E.Z)(pe).getInstance(),W=_.streamInfo,de=_.type,X=_.errHandler,ge=_.mimeType,I=_.timelineConverter,Z=_.adapter,L=_.manifestModel,U=_.mediaPlayerModel,N=_.fragmentModel,ue=_.abrController,te=_.playbackController,fe=_.mediaController,oe=_.textController,z=_.dashMetrics,ae=_.settings,be=_.boxParser,Ue=_.segmentBlacklistController;function Re(){return W.id}function Ve(){return de}function ke(){return Z.getIsTextTrack(H.getData())}function ct(){O=[],P=null,_e=0,K=!1,$=!1,F=!1,ce=null}function dt(Qe){return!isNaN(Qe)&&!isNaN(W.duration)&&isFinite(W.duration)&&Qe>=W.start+W.duration}function ot(Qe){var Be=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(Qe.sender){if(te.getIsManifestUpdateInProgress())_t();else if((!ke()||oe.isTextEnabled())&&D&&Qe.representationId&&!D.appendInitSegmentFromCache(Qe.representationId)){var ft=H.getCurrentRepresentation();if(ft.range===0)return void st();var ve=Y?Y.getInitRequest(P,ft):null;ve?N.executeRequest(ve):Be&&(k.setInitSegmentRequired(!0),_t())}}}function st(Qe){var Be=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(te.getIsManifestUpdateInProgress()||D.getIsPruningInProgress())_t();else{var ft=Ge();ft?(K=!1,$=!1,Yt(ft)):Ae(Be)}}function Yt(Qe){isNaN(Qe.startTime+Qe.duration)||(_e=Qe.startTime+Qe.duration),Qe.delayLoadingTime=new Date().getTime()+k.getTimeToLoadDelay(),k.setTimeToLoadDelay(0),function(Be){var ft=Be.url;return Be.range&&(ft=ft.concat("_",Be.range)),Ue.contains(ft)}(Qe)?(b.warn("Fragment request url ".concat(Qe.url," for stream id ").concat(W.id," and media type ").concat(de," is on the ignore list and will be skipped")),_t()):(b.debug("Next fragment request url for stream id ".concat(W.id," and media type ").concat(de," is ").concat(Qe.url)),N.executeRequest(Qe))}function Ae(Qe){var Be,ft=H.getCurrentRepresentation();if(!ae.get().streaming.gaps.enableSeekFix||!K&&te.getTime()!==0||(A?A&&ft.segmentInfoType===d.Z.SEGMENT_TIMELINE&&(Be=Y.getValidTimeAheadOfTargetTime(_e,P,ft,ae.get().streaming.gaps.threshold)):Be=Y.getValidTimeAheadOfTargetTime(_e,P,ft,ae.get().streaming.gaps.threshold),isNaN(Be)||Be===_e)){if(Y.isLastSegmentRequested(ft,_e)){var ve=Y.getCurrentIndex();return b.debug("Segment requesting for stream ".concat(W.id," has finished")),ye.trigger(m.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:ve},{streamId:W.id,mediaType:de}),D.segmentRequestingCompleted(ve),void k.clearScheduleTimer()}Qe&&_t()}else te.isSeeking()||te.getTime()===0?(b.warn("Adjusting playback time ".concat(Be," because of gap in the manifest. Seeking by ").concat(Be-_e)),te.seek(Be,!1,!1)):(b.warn("Adjusting buffering time ".concat(Be," because of gap in the manifest. Adjusting time by ").concat(Be-_e)),rn(Be),Qe&&_t())}function Ge(){var Qe,Be=nn();if(isNaN(_e)||Ve()===c.Z.TEXT&&!oe.isTextEnabled())return null;if(Y){var ft=H&&Be?H.getRepresentationForQuality(Be.quality):null;Qe=K?Y.getSegmentRequestForTime(P,ft,_e):$?Y.repeatSegmentRequest(P,ft):Y.getNextSegmentRequest(P,ft)}return Qe}function _t(){k.startScheduleTimer(te.getLowLatencyModeEnabled()?ae.get().streaming.scheduling.lowLatencyTimeout:ae.get().streaming.scheduling.defaultTimeout)}function Xe(Qe){Qe.error||D.getIsBufferingCompleted()||D.updateBufferTimestampOffset(Qe.currentRepresentation)}function St(Qe){z.addBufferState(de,Qe.state,k.getBufferTarget()),Qe.state!==p.Z.BUFFER_EMPTY||te.isSeeking()||(b.info("Buffer is empty! Stalling!"),z.pushPlayListTraceMetrics(new Date,Oe.REBUFFERING_REASON))}function wt(Qe){N.syncExecutedRequestsWithBufferedRange(D.getBuffer().getAllBufferRanges(),W.duration),Qe.quotaExceeded&&Qe.from>te.getTime()&&rn(Qe.from),Qe.hasEnoughSpaceToAppend&&Qe.quotaExceeded&&k.startScheduleTimer()}function mt(Qe){if(Qe&&Qe.lastRequestAppended&&Qe.lastRequestAppended.url){var Be=Qe.lastRequestAppended.url;Qe.lastRequestAppended.range&&(Be=Be.concat("_",Qe.lastRequestAppended.range)),b.warn("Blacklisting segment with url ".concat(Be)),Ue.add(Be)}}function tn(Qe){if(b.debug("Appended bytes for ".concat(Qe.mediaType," and stream id ").concat(Qe.streamId)),Qe.segmentType===xe.w.INIT_SEGMENT_TYPE){var Be=Qe.quality;k.setLastInitializedQuality(Be),b.info("["+de+"] lastInitializedRepresentationInfo changed to "+Qe.quality)}ce?en(ce):k.startScheduleTimer(0)}function en(Qe){var Be=N.getRequests({state:ee.FRAGMENT_MODEL_LOADING});if(Be&&Be.length>0)return b.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(ce=Qe);D.updateBufferTimestampOffset(Qe).then(function(){k.setCheckPlaybackQuality(!1),P.segmentAlignment||P.subSegmentAlignment?k.startScheduleTimer():Wt(),ce=null,F=!1}).catch(function(){ce=null,F=!1})}function xn(Qe){b.info("onFragmentLoadingAbandoned request: "+Qe.request.url+" has been aborted"),te.isSeeking()||k.getSwitchTrack()||F||(b.info("onFragmentLoadingAbandoned request: "+Qe.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Qe.request&&Qe.request.isInitializationRequest()?k.setInitSegmentRequired(!0):rn(Qe.request.startTime+Qe.request.duration/2),k.startScheduleTimer(0))}function Nn(Qe){b.info("OnFragmentLoadingCompleted for stream id "+W.id+" and media type "+de+" - Url:",Qe.request?Qe.request.url:"undefined",Qe.request.range?", Range:"+Qe.request.range:""),ke()&&k.startScheduleTimer(0),Qe.error&&Qe.request.serviceLocation&&function(Be){b.info("Fragment loading completed with an error"),Be&&Be.request&&Be.request.type&&(Be.request.type===xe.w.INIT_SEGMENT_TYPE?ot({representationId:Be.request.representationId,sender:{}},!1):Be.request.type===xe.w.MEDIA_SEGMENT_TYPE&&(rn(Be.request.startTime+Be.request.duration/2),st({},!1)))}(Qe)}function Ke(){rn(te.getTime()),sn().startScheduleTimer()}function bt(Qe){var Be=Qe.currentTrackInfo;if(Be){var ft=O.find(function(ve){return ve.index===Be.index&&ve.lang===Be.lang});ft&&Vt(ft).then(function(){D.setIsBufferingCompleted(!1),rn(te.getTime()),k.setInitSegmentRequired(!0),k.startScheduleTimer()})}}function lt(Qe){rn(Qe.quotaExceededTime),k.clearScheduleTimer()}function Rt(){return D?D.getBuffer():null}function Vt(Qe){Qe===P||Qe&&P&&Qe.type!==P.type||(P=Qe);var Be=Z.getRealAdaptation(W,P),ft=Z.getVoRepresentations(P);if(H){var ve,Ce=H.getData(),tt=ue.getMaxAllowedIndexFor(de,W.id),Ot=ue.getMinAllowedIndexFor(de,W.id),Zt=null;return Ce!==null&&Ce.id===Be.id||de===c.Z.TEXT?ve=ue.getQualityFor(de,W.id):(Zt=ue.getThroughputHistory().getAverageThroughput(de,A)||ue.getInitialBitrateFor(de,W.id),ve=ue.getQualityForBitrate(P,Zt,W.id)),Ot!==void 0&&ve<Ot&&(ve=Ot),ve>tt&&(ve=tt),H.updateData(Be,ft,de,P.isFragmented,ve)}return Promise.resolve()}function sn(){return k}function nn(Qe){var Be;return Qe!==void 0?((0,ne.SE)(Qe),Be=H?H.getRepresentationForQuality(Qe):null):Be=H?H.getCurrentRepresentation():null,Z.convertRepresentationToRepresentationInfo(Be)}function cn(){return!!D&&D.getIsBufferingCompleted()}function yn(Qe){if(ae.get().streaming.enableManifestTimescaleMismatchFix){var Be=Qe.chunk,ft=Be.bytes,ve=nn(Be.quality),Ce=H&&ve?H.getRepresentationForQuality(ve.quality):null;ve&&Ce&&(Ce.timescale=be.getMediaTimescaleFromMoov(ft))}}function gt(Qe){var Be=Qe.chunk,ft=Be.bytes,ve=Be.quality,Ce=nn(ve),tt=H&&Ce?H.getRepresentationForQuality(Ce.quality):null;if(Ce&&tt){var Ot;if(ae.get().streaming.parseInbandPrft&&Qe.request.type===xe.w.MEDIA_SEGMENT_TYPE){var Zt=function(zi,di){var Qs=zi.getBoxes("prft"),La=[];return Qs.forEach(function(Ba){La.push(function(Ho,Ns){var Gi="unknown";switch(Ho.flags){case 0:Gi=d.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:Gi=d.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:Gi=d.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var Xs=1e3*Ho.ntp_timestamp_sec+Ho.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:Gi,ntpTimestamp:Xs=Le(pe).getInstance().ntpToUTC(Xs),mediaTime:Ho.media_time/Ns}}(Ba,di))}),La}(Ot=Ot||be.parse(ft),tt.timescale);Zt&&Zt.length&&ye.trigger(h.Z.INBAND_PRFT,{data:Zt},{streamId:W.id,mediaType:de})}var On=Z.getEventsFor(Ce.mediaInfo,null,W),Dr=Z.getEventsFor(Ce,tt,W);if(On&&On.length>0||Dr&&Dr.length>0){var ii=N.getRequests({state:ee.FRAGMENT_MODEL_EXECUTED,quality:ve,index:Be.index})[0],Tr=function(zi,di,Qs,La){try{for(var Ba={},Ho=[],Ns=Qs.concat(La),Gi=0,Xs=Ns.length;Gi<Xs;Gi++)Ba[Ns[Gi].schemeIdUri+"/"+Ns[Gi].value]=Ns[Gi];var Ua=zi.getBoxes("emsg");if(!Ua||Ua.length===0)return Ho;for(var xo=zi.getBox("sidx"),nu=!xo||isNaN(xo.earliest_presentation_time)||isNaN(xo.timescale)?di&&!isNaN(di.mediaStartTime)?di.mediaStartTime:0:xo.earliest_presentation_time/xo.timescale,lf=Math.max(nu,0),cf=H.getCurrentRepresentation(),Js=0,uf=Ua.length;Js<uf;Js++){var ja=Z.getEvent(Ua[Js],Ba,lf,cf);ja&&Ho.push(ja)}return Ho}catch{return[]}}(Ot=Ot||be.parse(ft),ii,On,Dr);ye.trigger(m.Z.INBAND_EVENTS,{events:Tr},{streamId:W.id})}}}function zt(){var Qe=te.getTime();ae.get().streaming.buffer.flushBufferAtTrackSwitch&&te.seek(Qe+.001,!1,!0),rn(Qe),D.setSeekTarget(Qe),k.startScheduleTimer()}function Wt(){var Qe=te.getTime(),Be=D.getContinuousBufferTimeForTargetTime(Qe);rn(isNaN(Be)?Qe:Be),k.startScheduleTimer()}function Kt(Qe){Qe&&!isNaN(Qe.time)&&(rn(Qe.time),D.setSeekTarget(Qe.time))}function rn(Qe){_e=Qe,K=!0}return g={initialize:function(Qe,Be,ft){G=(0,Ye.Z)(pe).create({events:m.Z,eventBus:ye,streamInfo:W,timelineConverter:I,dashConstants:d.Z,segmentBaseController:_.segmentBaseController,type:de}),Y=(0,J.Z)(pe).create({streamInfo:W,type:de,timelineConverter:I,dashMetrics:z,mediaPlayerModel:U,baseURLController:_.baseURLController,errHandler:X,segmentsController:G,settings:ae,boxParser:be,events:m.Z,eventBus:ye,errors:ie,debug:(0,S.Z)(pe).getInstance(),requestModifier:(0,Ne.Z)(pe).getInstance(),dashConstants:d.Z,constants:c.Z,urlUtils:(0,rt.Z)(pe).getInstance()}),A=W.manifestInfo.isDynamic,Y.initialize(A),ue.registerStreamType(de,g),H=R(pe).create({streamInfo:W,type:de,abrController:ue,dashMetrics:z,playbackController:te,timelineConverter:I,dashConstants:d.Z,events:m.Z,eventBus:ye,errors:ie,isDynamic:A,adapter:Z,segmentsController:G}),D=function(ve,Ce){return ve?ve!==c.Z.TEXT||Ce?ze(pe).create({streamInfo:W,type:ve,mediaPlayerModel:U,manifestModel:L,fragmentModel:N,errHandler:X,mediaController:fe,representationController:H,adapter:Z,textController:oe,abrController:ue,playbackController:te,settings:ae}):Ee(pe).create({streamInfo:W,type:ve,mimeType:ge,fragmentModel:N,textController:oe,errHandler:X,settings:ae}):(X.error(new le.Z(ie.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ie.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(de,ft),D&&D.initialize(Qe),(k=T(pe).create({streamInfo:W,type:de,mimeType:ge,adapter:Z,dashMetrics:z,mediaPlayerModel:U,fragmentModel:N,abrController:ue,playbackController:te,textController:oe,mediaController:fe,bufferController:D,representationController:H,settings:ae})).initialize(Be),_e=0,K=!1,$=!1},getStreamId:Re,getType:Ve,isUpdating:function(){return!!H&&H.isUpdating()},getBufferController:function(){return D},dischargePreBuffer:function(){D.dischargePreBuffer()},getFragmentModel:function(){return N},getScheduleController:sn,getRepresentationController:function(){return H},getRepresentationInfo:nn,getBufferLevel:function(){return D?D.getBufferLevel():0},isBufferingCompleted:cn,createBufferSinks:function(Qe){var Be=Rt();return Be?Promise.resolve(Be):D?D.createBufferSink(P,Qe):Promise.resolve(null)},updateStreamInfo:function(Qe){return W=Qe,cn()?Promise.resolve():D.updateAppendWindow()},getStreamInfo:function(){return W},selectMediaInfo:Vt,clearMediaInfoArray:function(){O=[]},addMediaInfo:function(Qe){O.indexOf(Qe)===-1&&O.push(Qe)},prepareTrackSwitch:function(){return new Promise(function(Qe){b.debug("Preparing track switch for type ".concat(de));var Be=de===c.Z.TEXT||ae.get().streaming.trackSwitchMode[de]===c.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&te.getTimeToStreamEnd(W)>ae.get().streaming.buffer.stallThreshold;if(D.getIsBufferingCompleted()&&!Be)return D.prepareForNonReplacementTrackSwitch(P.codec).then(function(){ye.trigger(m.Z.BUFFERING_COMPLETED,{},{streamId:W.id,mediaType:de})}).catch(function(){ye.trigger(m.Z.BUFFERING_COMPLETED,{},{streamId:W.id,mediaType:de})}),void Qe();k.clearScheduleTimer(),k.setSwitchTrack(!0),Be?(ye.trigger(m.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:de,streamId:W.id},{mediaType:de,streamId:W.id}),N.abortRequests(),D.prepareForReplacementTrackSwitch(P.codec).then(function(){var ft=nn();return D.updateBufferTimestampOffset(ft)}).then(function(){zt(),Qe()}).catch(function(){zt(),Qe()})):D.prepareForNonReplacementTrackSwitch(P.codec).then(function(){Wt(),Qe()}).catch(function(){Wt(),Qe()})})},prepareQualityChange:function(Qe){ce&&b.warn("Canceling queued representation switch to ".concat(ce.quality," for ").concat(de)),b.debug("Preparing quality switch for type ".concat(de));var Be=Qe.newQuality;F=!0,k.clearScheduleTimer(),H.prepareQualityChange(Be);var ft=nn(Be);Qe.reason&&Qe.reason.forceReplace?function(ve){N.abortRequests(),ye.trigger(m.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:de,streamId:W.id},{mediaType:de,streamId:W.id}),k.setCheckPlaybackQuality(!1),D.prepareForForceReplacementQualitySwitch(ve).then(function(){zt(),ce=null,F=!1}).catch(function(){zt(),ce=null,F=!1})}(ft):Qe&&Qe.reason&&Qe.reason.forceAbandon?function(ve){D.updateBufferTimestampOffset(ve).then(function(){N.abortRequests(),$=!0,k.setCheckPlaybackQuality(!1),k.startScheduleTimer(),F=!1,ce=null}).catch(function(){ce=null,F=!1})}(ft):ae.get().streaming.buffer.fastSwitchEnabled?function(ve){var Ce=te.getTime(),tt=1.5*(isNaN(ve.fragmentDuration)?1:ve.fragmentDuration),Ot=N.getRequests({state:ee.FRAGMENT_MODEL_EXECUTED,time:Ce+tt,threshold:0})[0];if(Ot&&!ke()){var Zt=D.getBufferLevel(),On=ue.getAbandonmentStateFor(W.id,de);Ot.quality<ve.quality&&Zt>=tt&&On!==p.Z.ABANDON_LOAD?D.updateBufferTimestampOffset(ve).then(function(){N.abortRequests(),rn(Ce+tt),k.setCheckPlaybackQuality(!1),k.startScheduleTimer(),F=!1}).catch(function(){F=!1}):en(ve)}else en(ve)}(ft):en(ft),z.pushPlayListTraceMetrics(new Date,Oe.REPRESENTATION_SWITCH_STOP_REASON),z.createPlaylistTraceMetrics(ft.id,1e3*te.getTime(),te.getPlaybackRate())},getMediaInfo:function(){return P},getMediaSource:function(){return D.getMediaSource()},setMediaSource:function(Qe){return D.setMediaSource(Qe,P)},getBuffer:Rt,setExplicitBufferingTime:rn,finalisePlayList:function(Qe,Be){z.pushPlayListTraceMetrics(Qe,Be)},probeNextRequest:function(){var Qe=nn(),Be=H&&Qe?H.getRepresentationForQuality(Qe.quality):null;return Y.getNextSegmentRequestIdempotent(P,Be)},prepareInnerPeriodPlaybackSeeking:function(Qe){return new Promise(function(Be){if(D.hasBufferAtTime(Qe.seekTime))return D.pruneBuffer(),dt(D.getContinuousBufferTimeForTargetTime(Qe.seekTime))&&D.setIsBufferingCompleted(!0),void Be();k.clearScheduleTimer(),N.abortRequests(),D.prepareForPlaybackSeek().then(function(){var ft=D.getAllRangesWithSafetyFactor(Qe.seekTime);return D.clearBuffers(ft)}).then(function(){var ft=D.getContinuousBufferTimeForTargetTime(Qe.seekTime);if(dt(ft))D.setIsBufferingCompleted(!0),Be();else{var ve=isNaN(ft)?Qe.seekTime:ft;rn(ve),D.setSeekTarget(ve);var Ce=[];Ce.push(D.updateAppendWindow());var tt=nn();Ce.push(D.updateBufferTimestampOffset(tt)),Promise.all(Ce).then(function(){k.setInitSegmentRequired(!0),k.setCheckPlaybackQuality(!1),k.startScheduleTimer(),Be()})}}).catch(function(ft){b.error(ft)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(Qe,Be){try{k.clearScheduleTimer(),N.abortRequests(),D.prepareForPlaybackSeek().then(function(){return D.pruneAllSafely()}).then(function(){Qe()})}catch(ft){Be(ft)}})},reset:function(Qe,Be){Y&&Y.reset(),D&&(D.reset(Qe,Be),D=null),k&&(k.reset(),k=null),H&&(H.reset(),H=null),G&&(G=null),ue&&ue.unRegisterStreamType(Re(),de),ye.off(m.Z.DATA_UPDATE_COMPLETED,Xe,g),ye.off(m.Z.INIT_FRAGMENT_NEEDED,ot,g),ye.off(m.Z.MEDIA_FRAGMENT_NEEDED,st,g),ye.off(m.Z.INIT_FRAGMENT_LOADED,yn,g),ye.off(m.Z.MEDIA_FRAGMENT_LOADED,gt,g),ye.off(m.Z.BUFFER_LEVEL_STATE_CHANGED,St,g),ye.off(m.Z.BUFFER_CLEARED,wt,g),ye.off(m.Z.SEEK_TARGET,Kt,g),ye.off(m.Z.FRAGMENT_LOADING_ABANDONED,xn,g),ye.off(m.Z.FRAGMENT_LOADING_COMPLETED,Nn,g),ye.off(m.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ke,g),ye.off(m.Z.SET_NON_FRAGMENTED_TEXT,bt,g),ye.off(m.Z.QUOTA_EXCEEDED,lt,g),ye.off(m.Z.SOURCE_BUFFER_ERROR,mt,g),ye.off(m.Z.BYTES_APPENDED_END_FRAGMENT,tn,g),ct(),de=null,W=null}},b=(0,S.Z)(pe).getInstance().getLogger(g),ct(),ye.on(m.Z.DATA_UPDATE_COMPLETED,Xe,g,{priority:E.Z.EVENT_PRIORITY_HIGH}),ye.on(m.Z.INIT_FRAGMENT_NEEDED,ot,g),ye.on(m.Z.MEDIA_FRAGMENT_NEEDED,st,g),ye.on(m.Z.INIT_FRAGMENT_LOADED,yn,g),ye.on(m.Z.MEDIA_FRAGMENT_LOADED,gt,g),ye.on(m.Z.BUFFER_LEVEL_STATE_CHANGED,St,g),ye.on(m.Z.BUFFER_CLEARED,wt,g),ye.on(m.Z.SEEK_TARGET,Kt,g),ye.on(m.Z.FRAGMENT_LOADING_ABANDONED,xn,g),ye.on(m.Z.FRAGMENT_LOADING_COMPLETED,Nn,g),ye.on(m.Z.QUOTA_EXCEEDED,lt,g),ye.on(m.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ke,g),ye.on(m.Z.SET_NON_FRAGMENTED_TEXT,bt,g),ye.on(m.Z.SOURCE_BUFFER_ERROR,mt,g),ye.on(m.Z.BYTES_APPENDED_END_FRAGMENT,tn,g),g}Pe.__dashjs_factory_name="StreamProcessor";var ut=C.Z.getClassFactory(Pe),at=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},Bt=l(9032);function Tt(_,g){if(_){if(typeof _=="string")return Jt(_,g);var b=Object.prototype.toString.call(_).slice(8,-1);return b==="Object"&&_.constructor&&(b=_.constructor.name),b==="Map"||b==="Set"?Array.from(_):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?Jt(_,g):void 0}}function Jt(_,g){(g==null||g>_.length)&&(g=_.length);for(var b=0,A=new Array(g);b<g;b++)A[b]=_[b];return A}function an(_){_=_||{};var g,b,A=this.context,P=_.requestModifier,O=_.lowLatencyThroughputModel,D=_.boxParser,k=(0,Se.Z)(A).getInstance();function H(F){var Y,G=new Date,_e=F.request,ce=new Headers;if(_e.range&&ce.append("Range","bytes="+_e.range),F.headers)for(var pe in F.headers){var ye=F.headers[pe];ye&&ce.append(pe,ye)}_e.requestStartDate||(_e.requestStartDate=G),P&&P.modifyRequestHeader&&P.modifyRequestHeader({setRequestHeader:function(I,Z){ce.append(I,Z)}},{url:F.url}),typeof window.AbortController=="function"&&(Y=new AbortController,F.abortController=Y,Y.signal.onabort=F.onabort);var W={method:F.method,headers:ce,credentials:F.withCredentials?"include":void 0,signal:Y?Y.signal:void 0},de=k.get().streaming.abr.fetchThroughputCalculationMode,X=Date.now(),ge=0;new Promise(function(I){if(de===c.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(ge=O.getThroughputCapacityDelayMS(_e,1e3*b.getCurrentBufferLevel(_e.mediaType))))return setTimeout(I,ge);I()}).then(function(){var I=Date.now();fetch(F.url,W).then(function(Z){F.response||(F.response={}),F.response.status=Z.status,F.response.statusText=Z.statusText,F.response.responseURL=Z.url,Z.ok||F.onerror();var L,U="",N=function(Xe,St){var wt;if(typeof Symbol>"u"||Xe[Symbol.iterator]==null){if(Array.isArray(Xe)||(wt=Tt(Xe))){wt&&(Xe=wt);var mt=0,tn=function(){};return{s:tn,n:function(){return mt>=Xe.length?{done:!0}:{done:!1,value:Xe[mt++]}},e:function(Ke){throw Ke},f:tn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var en,xn=!0,Nn=!1;return{s:function(){wt=Xe[Symbol.iterator]()},n:function(){var Ke=wt.next();return xn=Ke.done,Ke},e:function(Ke){Nn=!0,en=Ke},f:function(){try{xn||wt.return==null||wt.return()}finally{if(Nn)throw en}}}}(Z.headers.keys());try{for(N.s();!(L=N.n()).done;){var ue=L.value;U+=ue+": "+Z.headers.get(ue)+`\r
`}}catch(Xe){N.e(Xe)}finally{N.f()}if(F.response.responseHeaders=U,!Z.body)return Z.arrayBuffer().then(function(Xe){F.response.response=Xe;var St={loaded:Xe.byteLength,total:Xe.byteLength,stream:!1};F.progress(St),F.onload(),F.onend()});var te,fe,oe,z,ae=parseInt(Z.headers.get("Content-Length"),10),be=0,Ue=!1,Re=new Uint8Array,Ve=0;if(de===c.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var ke=I,ct=0,dt=(oe=Z.body.tee(),z=2,function(Xe){if(Array.isArray(Xe))return Xe}(oe)||function(Xe,St){if(typeof Symbol<"u"&&Symbol.iterator in Object(Xe)){var wt=[],mt=!0,tn=!1,en=void 0;try{for(var xn,Nn=Xe[Symbol.iterator]();!(mt=(xn=Nn.next()).done)&&(wt.push(xn.value),!St||wt.length!==St);mt=!0);}catch(Ke){tn=!0,en=Ke}finally{try{mt||Nn.return==null||Nn.return()}finally{if(tn)throw en}}return wt}}(oe,z)||Tt(oe,z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),ot=dt[0],st=dt[1];te=ot.getReader(),fe=[],te.read().then(function Xe(St){var wt=St.value,mt=St.done;if(ct=Date.now(),wt&&wt.length){var tn=ct-ke,en=wt.length;fe.push({chunkDownloadTimeRelativeMS:ct-I,chunkDownloadDurationMS:tn,chunkBytes:en,kbps:Math.round(8*en/(tn/1e3)),bufferLevel:b.getCurrentBufferLevel(_e.mediaType)})}if(mt){var xn=ct-I,Nn=fe.reduce(function(Ke,bt){return Ke+bt.chunkBytes},0);return O.addMeasurement(_e,xn,fe,X,ge,U),void F.progress({loaded:Nn,total:Nn,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(_e),stream:!0})}return ke=Date.now(),te.read().then(Xe)}),F.reader=st.getReader()}else F.reader=Z.body.getReader();var Yt=[],Ae=[],Ge=[],_t=!0;K(F,function Xe(St){var wt=St.value;if(St.done){if(Re){if(de!==c.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var mt=null,tn=null;de===c.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(mt=function(Ke,bt){try{var lt,Rt;lt=Ke.filter(function(zt,Wt){return Wt<Ke.length-1}),Rt=bt.filter(function(zt,Wt){return Wt<bt.length-1});var Vt=[];if(lt.length>1){for(var sn=0,nn=0,cn=0;cn<lt.length;cn++)if(lt[cn]&&Rt[cn]){var yn=Rt[cn].ts-lt[cn].ts;if(yn>1)Vt.push(8*Rt[cn].bytes/yn),nn=0;else{nn===0&&(nn=lt[cn].ts,sn=0);var gt=Rt[cn].ts-nn;gt>1?(sn+=Rt[cn].bytes,Vt.push(8*sn/gt),nn=0):sn+=Rt[cn].bytes}}if(Vt.length>0)return Vt.reduce(function(zt,Wt){return zt+Wt},0)/Vt.length}return null}catch{return null}}(Ae,Ge),mt&&(tn=8*be/mt)):de===c.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(tn=$(Yt,be)),F.progress({loaded:be,total:isNaN(ae)?be:ae,lengthComputable:!0,time:tn,stream:!0})}F.response.response=Re.buffer}return F.onload(),void F.onend()}if(wt&&wt.length>0){Re=function(Ke,bt){if(Ke.length===0)return bt;var lt=new Uint8Array(Ke.length+bt.length);return lt.set(Ke),lt.set(bt,Ke.length),lt}(Re,wt),be+=wt.length,Yt.push({ts:Date.now(),bytes:wt.length}),de===c.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&_t&&D.findLastTopIsoBoxCompleted(["moof"],Re,Ve).found&&(_t=!1,Ae.push({ts:performance.now(),bytes:wt.length}));var en=D.findLastTopIsoBoxCompleted(["moov","mdat"],Re,Ve);if(en.found){var xn,Nn=en.lastCompletedOffset+en.size;de!==c.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||_t||(_t=!0,Ge.push({ts:performance.now(),bytes:Re.length})),Nn===Re.length?(xn=Re,Re=new Uint8Array):(xn=new Uint8Array(Re.subarray(0,Nn)),Re=Re.subarray(Nn)),F.progress({data:xn.buffer,lengthComputable:!1,noTrace:!0}),Ve=0}else Ve=en.lastCompletedOffset,Ue||(F.progress({lengthComputable:!1,noTrace:!0}),Ue=!0)}K(F,Xe)})}).catch(function(Z){F.onerror&&F.onerror(Z)})})}function K(F,Y){F.reader.read().then(Y).catch(function(G){F.onerror&&F.response.status===200&&F.onerror(G)})}function $(F,Y){try{if((F=F.filter(function(ce){return ce.bytes>Y/4/F.length})).length>1){var G=0,_e=(F[F.length-1].ts-F[0].ts)/F.length;return F.forEach(function(ce,pe){var ye=F[pe+1];if(ye){var W=ye.ts-ce.ts;G+=W<_e?W:0}}),G}return null}catch{return null}}return g={load:function(F){P&&P.modifyRequest?(0,Ne.k)(F,P).then(function(){return H(F)}):H(F)},abort:function(F){if(F.abortController)F.abortController.abort();else if(F.reader)try{F.reader.cancel(),F.onabort()}catch{}},calculateDownloadedTime:$,setup:function(F){b=F.dashMetrics}},g}an.__dashjs_factory_name="FetchLoader";var In=C.Z.getClassFactory(an),Cn=l(1180);function or(_,g){for(var b=0;b<g.length;b++){var A=g[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}var ti=function(){function _(){(function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var g,b;return g=_,(b=[{key:"hasInitialization",value:function(){return this.initialization!==null||this.range!==null}},{key:"hasSegments",value:function(){return this.segmentInfoType!==d.Z.BASE_URL&&this.segmentInfoType!==d.Z.SEGMENT_BASE&&!this.indexRange}}])&&or(g.prototype,b),_}(),gr=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.period=null,this.index=-1,this.type=null},Hi=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};Hi.DEFAULT_ID="defaultId";var ni=Hi,Si=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},ho=l(2610),Ci=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},So=function _(g,b,A,P){(function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=g||"",this.serviceLocation=b||g||"",this.dvbPriority=A||1,this.dvbWeight=P||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};So.DEFAULT_DVB_PRIORITY=1,So.DEFAULT_DVB_WEIGHT=1;var Co=So,Al=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Pt=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Mt=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};function Nt(_,g){for(var b=0;b<g.length;b++){var A=g[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}var We=function(){function _(){(function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")})(this,_),this.schemeIdUri=null,this.value=null,this.id=null}var g,b;return g=_,(b=[{key:"init",value:function(A){return A&&(this.schemeIdUri=A.schemeIdUri?A.schemeIdUri:null,this.value=A.value?A.value:null,this.id=A.id?A.id:null,A[d.Z.DVB_URL]&&(this.dvbUrl=A[d.Z.DVB_URL]),A[d.Z.DVB_MIMETYPE]&&(this.dvbMimeType=A[d.Z.DVB_MIMETYPE]),A[d.Z.DVB_FONTFAMILY]&&(this.dvbFontFamily=A[d.Z.DVB_FONTFAMILY])),this}}])&&Nt(g.prototype,b),_}(),yt=l(3101),et=l.n(yt);function ht(){return{areEqual:function(_,g){return et()(_,g)}}}ht.__dashjs_factory_name="ObjectUtils";var qt=C.Z.getSingletonFactory(ht),$t=l(7803),hn=function _(g,b){(function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=g||"",this.serviceLocation=b||null,this.queryParams={}},gn=function _(g,b,A){(function(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=g||"",this.serviceLocation=b||null,this.ttl=A||NaN,this.queryParams={}};function Xt(_,g){var b=Object.keys(_);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(_);g&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(_,P).enumerable})),b.push.apply(b,A)}return b}function xt(_){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?Xt(Object(b),!0).forEach(function(A){fn(_,A,b[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(b)):Xt(Object(b)).forEach(function(A){Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(b,A))})}return _}function fn(_,g,b){return g in _?Object.defineProperty(_,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[g]=b,_}function ln(_,g){var b;if(typeof Symbol>"u"||_[Symbol.iterator]==null){if(Array.isArray(_)||(b=An(_))||g&&_&&typeof _.length=="number"){b&&(_=b);var A=0,P=function(){};return{s:P,n:function(){return A>=_.length?{done:!0}:{done:!1,value:_[A++]}},e:function(H){throw H},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,D=!0,k=!1;return{s:function(){b=_[Symbol.iterator]()},n:function(){var H=b.next();return D=H.done,H},e:function(H){k=!0,O=H},f:function(){try{D||b.return==null||b.return()}finally{if(k)throw O}}}}function An(_,g){if(_){if(typeof _=="string")return Jn(_,g);var b=Object.prototype.toString.call(_).slice(8,-1);return b==="Object"&&_.constructor&&(b=_.constructor.name),b==="Map"||b==="Set"?Array.from(_):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?Jn(_,g):void 0}}function Jn(_,g){(g==null||g>_.length)&&(g=_.length);for(var b=0,A=new Array(g);b<g;b++)A[b]=_[b];return A}function yr(){var _,g,b,A,P=this.context,O=(0,rt.Z)(P).getInstance(),D=Number.isInteger||function(I){return typeof I=="number"&&isFinite(I)&&Math.floor(I)===I};function k(I,Z){if(!I)throw new Error("adaptation is not defined");if(!Z)throw new Error("type is not defined");if(I.Representation_asArray&&I.Representation_asArray.length){var L=pe(I.Representation_asArray[0]);if(L&&L.length>0&&$t.Y.indexOf(L[0].schemeIdUri)>=0)return Z===c.Z.IMAGE}if(I.ContentComponent_asArray&&I.ContentComponent_asArray.length>0){if(I.ContentComponent_asArray.length>1)return Z===c.Z.MUXED;if(I.ContentComponent_asArray[0].contentType===Z)return!0}var U=Z===c.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(Z);if(I.Representation_asArray&&I.Representation_asArray.length){var N=I.Representation_asArray[0].codecs;if(U.test(N))return!0}if(I.hasOwnProperty(d.Z.MIME_TYPE))return U.test(I.mimeType);if(I.Representation_asArray){for(var ue,te=0;te<I.Representation_asArray.length;te++)if((ue=I.Representation_asArray[te]).hasOwnProperty(d.Z.MIME_TYPE))return U.test(ue.mimeType)}return!1}function H(I){if(!I)throw new Error("adaptation is not defined");if(I.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)||I.hasOwnProperty(d.Z.SEGMENT_TIMELINE)||I.hasOwnProperty(d.Z.SEGMENT_LIST)||I.hasOwnProperty(d.Z.SEGMENT_BASE))return!0;if(I.Representation_asArray&&I.Representation_asArray.length>0){var Z=I.Representation_asArray[0];if(Z.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)||Z.hasOwnProperty(d.Z.SEGMENT_TIMELINE)||Z.hasOwnProperty(d.Z.SEGMENT_LIST)||Z.hasOwnProperty(d.Z.SEGMENT_BASE))return!0}return!1}function K(I){return k(I,c.Z.VIDEO)}function $(I){return k(I,c.Z.TEXT)}function F(I){return k(I,c.Z.IMAGE)}function Y(I){return I&&Array.isArray(I.Representation_asArray)&&I.Representation_asArray.sort(function(Z,L){return Z.bandwidth-L.bandwidth}),I}function G(I,Z){return I&&I.Period_asArray&&D(Z)&&I.Period_asArray[Z]?I.Period_asArray[Z].AdaptationSet_asArray:[]}function _e(I){return I&&I.Period_asArray?I.Period_asArray:[]}function ce(I){var Z=!1;return I&&I.hasOwnProperty("type")&&(Z=I.type===d.Z.DYNAMIC),Z}function pe(I){return I&&I.EssentialProperty_asArray&&I.EssentialProperty_asArray.length?I.EssentialProperty_asArray.map(function(Z){return{schemeIdUri:Z.schemeIdUri,value:Z.value}}):null}function ye(I){if(!I||!I.S_asArray)return NaN;var Z=I.S_asArray[0],L=I.S_asArray[1];return Z.hasOwnProperty("d")?Z.d:L.t-Z.t}function W(I,Z){if(!I)throw new Error("Period cannot be null or undefined");var L=ni.DEFAULT_ID+"_"+Z;return I.hasOwnProperty(d.Z.ID)&&I.id.length>0&&I.id!=="__proto__"&&(L=I.id),L}function de(I,Z,L){var U,N=[];if(!I)return N;for(U=0;U<I.length;U++){var ue=new Al;if(ue.timescale=1,ue.representation=Z,!I[U].hasOwnProperty(c.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ue.schemeIdUri=I[U].schemeIdUri,I[U].hasOwnProperty(d.Z.TIMESCALE)&&(ue.timescale=I[U].timescale),I[U].hasOwnProperty(d.Z.VALUE)&&(ue.value=I[U].value),N.push(ue),ue.period=L}return N}function X(I){var Z=[],L=I.BaseURL_asArray||[I.baseUri],U=!1;return L.some(function(N){if(N){var ue=new Co,te=N.__text||N;return O.isRelative(te)&&(U=!0,I.baseUri&&(te=O.resolve(te,I.baseUri))),ue.url=te,N.hasOwnProperty(d.Z.SERVICE_LOCATION)&&N.serviceLocation.length?ue.serviceLocation=N.serviceLocation:ue.serviceLocation=te,N.hasOwnProperty(d.Z.DVB_PRIORITY)&&(ue.dvbPriority=N[d.Z.DVB_PRIORITY]),N.hasOwnProperty(d.Z.DVB_WEIGHT)&&(ue.dvbWeight=N[d.Z.DVB_WEIGHT]),N.hasOwnProperty(d.Z.AVAILABILITY_TIME_OFFSET)&&(ue.availabilityTimeOffset=N[d.Z.AVAILABILITY_TIME_OFFSET]),N.hasOwnProperty(d.Z.AVAILABILITY_TIME_COMPLETE)&&(ue.availabilityTimeComplete=N[d.Z.AVAILABILITY_TIME_COMPLETE]!=="false"),Z.push(ue),U}}),Z}function ge(I){var Z=new Mt;return Z.serverUrl=I.__text,I.hasOwnProperty(d.Z.DEFAULT_SERVICE_LOCATION)&&(Z.defaultServiceLocation=I[d.Z.DEFAULT_SERVICE_LOCATION],Z.defaultServiceLocationArray=Z.defaultServiceLocation.split(" ")),I.hasOwnProperty(d.Z.QUERY_BEFORE_START)&&(Z.queryBeforeStart=I[d.Z.QUERY_BEFORE_START].toLowerCase()==="true"),I.hasOwnProperty(d.Z.CLIENT_REQUIREMENT)&&(Z.clientRequirement=I[d.Z.CLIENT_REQUIREMENT].toLowerCase()!=="false"),Z}return _={getIsTypeOf:k,getIsText:$,getIsFragmented:H,getProducerReferenceTimesForAdaptation:function(I){var Z=I&&I.hasOwnProperty(d.Z.PRODUCERREFERENCETIME_ASARRAY)?I[d.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(I&&I.hasOwnProperty(d.Z.REPRESENTATION_ASARRAY)?I[d.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(U){var N;U.hasOwnProperty(d.Z.PRODUCERREFERENCETIME_ASARRAY)&&Z.push.apply(Z,function(ue){if(Array.isArray(ue))return Jn(ue)}(N=U[d.Z.PRODUCERREFERENCETIME_ASARRAY])||function(ue){if(typeof Symbol<"u"&&Symbol.iterator in Object(ue))return Array.from(ue)}(N)||An(N)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())});var L=[];return Z.forEach(function(U){var N=new Pt;U.hasOwnProperty(d.Z.ID)&&(N[d.Z.ID]=U[d.Z.ID],U.hasOwnProperty(d.Z.WALL_CLOCK_TIME)&&(N[d.Z.WALL_CLOCK_TIME]=U[d.Z.WALL_CLOCK_TIME],U.hasOwnProperty(d.Z.PRESENTATION_TIME)&&(N[d.Z.PRESENTATION_TIME]=U[d.Z.PRESENTATION_TIME],U.hasOwnProperty(d.Z.INBAND)&&(N[d.Z.INBAND]=U[d.Z.INBAND]!=="false"),U.hasOwnProperty(d.Z.TYPE)&&(N[d.Z.TYPE]=U[d.Z.TYPE]),L.push(N))))}),L},getLanguageForAdaptation:function(I){var Z="";return I&&I.hasOwnProperty(d.Z.LANG)&&(Z=I.lang),Z},getViewpointForAdaptation:function(I){return I&&I.hasOwnProperty(d.Z.VIEWPOINT_ASARRAY)&&I[d.Z.VIEWPOINT_ASARRAY].length?I[d.Z.VIEWPOINT_ASARRAY].map(function(Z){return new We().init(Z)}):[]},getRolesForAdaptation:function(I){return I&&I.hasOwnProperty(d.Z.ROLE_ASARRAY)&&I[d.Z.ROLE_ASARRAY].length?I[d.Z.ROLE_ASARRAY].map(function(Z){return new We().init(Z)}):[]},getAccessibilityForAdaptation:function(I){return I&&I.hasOwnProperty(d.Z.ACCESSIBILITY_ASARRAY)&&I[d.Z.ACCESSIBILITY_ASARRAY].length?I[d.Z.ACCESSIBILITY_ASARRAY].map(function(Z){return new We().init(Z)}):[]},getAudioChannelConfigurationForAdaptation:function(I){return I&&I.hasOwnProperty(d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&I[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?I[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(Z){return new We().init(Z)}):[]},getAudioChannelConfigurationForRepresentation:function(I){return I&&I.hasOwnProperty(d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&I[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?I[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(Z){return new We().init(Z)}):[]},getAdaptationForIndex:function(I,Z,L){var U=G(Z,L);return U.length>0&&D(I)?U[I]:null},getIndexForAdaptation:function(I,Z,L){if(!I)return-1;for(var U=G(Z,L),N=0;N<U.length;N++)if(qt(P).getInstance().areEqual(U[N],I))return N;return-1},getAdaptationForId:function(I,Z,L){var U,N,ue=G(Z,L);for(U=0,N=ue.length;U<N;U++)if(ue[U].hasOwnProperty(d.Z.ID)&&ue[U].id===I)return ue[U];return null},getAdaptationsForType:function(I,Z,L){var U,N,ue=G(I,Z),te=[];for(U=0,N=ue.length;U<N;U++)k(ue[U],L)&&te.push(Y(ue[U]));return te},getRealPeriods:_e,getRealPeriodForIndex:function(I,Z){var L=_e(Z);return L.length>0&&D(I)?L[I]:null},getCodec:function(I,Z,L){var U=null;if(I&&I.Representation_asArray&&I.Representation_asArray.length>0){var N=D(Z)&&Z>=0&&Z<I.Representation_asArray.length?I.Representation_asArray[Z]:I.Representation_asArray[0];N&&(U=N.mimeType+';codecs="'+N.codecs+'"',L&&N.width!==void 0&&(U+=';width="'+N.width+'";height="'+N.height+'"'))}return U&&(U=U.replace(/\sprofiles=[^;]*/g,"")),U},getSelectionPriority:function(I){try{var Z=I&&I.selectionPriority!==void 0?parseInt(I.selectionPriority):1;return isNaN(Z)?1:Z}catch{return 1}},getMimeType:function(I){return I&&I.Representation_asArray&&I.Representation_asArray.length>0?I.Representation_asArray[0].mimeType:null},getKID:function(I){return I&&I.hasOwnProperty(d.Z.CENC_DEFAULT_KID)?I[d.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(I){if(!I||!Array.isArray(I.Label_asArray))return[];for(var Z=[],L=0;L<I.Label_asArray.length;L++)Z.push({lang:I.Label_asArray[L].lang,text:I.Label_asArray[L].__text||I.Label_asArray[L]});return Z},getContentProtectionData:function(I){return I&&I.hasOwnProperty(d.Z.CONTENTPROTECTION_ASARRAY)&&I.ContentProtection_asArray.length!==0?I.ContentProtection_asArray:null},getIsDynamic:ce,getId:function(I){return I&&I[d.Z.ID]||null},hasProfile:function(I,Z){var L=!1;return I&&I.profiles&&I.profiles.length>0&&(L=I.profiles.indexOf(Z)!==-1),L},getDuration:function(I){return I&&I.hasOwnProperty(d.Z.MEDIA_PRESENTATION_DURATION)?I.mediaPresentationDuration:I&&I.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(I){return I&&I.bandwidth?I.bandwidth:NaN},getManifestUpdatePeriod:function(I){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=NaN;return I&&I.hasOwnProperty(d.Z.MINIMUM_UPDATE_PERIOD)&&(L=I.minimumUpdatePeriod),isNaN(L)?L:Math.max(L-Z,1)},getPublishTime:function(I){return I&&I.hasOwnProperty(d.Z.PUBLISH_TIME)?new Date(I[d.Z.PUBLISH_TIME]):null},getRepresentationCount:function(I){return I&&Array.isArray(I.Representation_asArray)?I.Representation_asArray.length:0},getBitrateListForAdaptation:function(I){var Z=Y(I);return(Z&&Array.isArray(Z.Representation_asArray)?Z.Representation_asArray:[]).map(function(L){return{bandwidth:L.bandwidth,width:L.width||0,height:L.height||0,scanType:L.scanType||null,id:L.id||null}})},getRepresentationFor:function(I,Z){return Z&&Z.Representation_asArray&&Z.Representation_asArray.length>0&&D(I)?Z.Representation_asArray[I]:null},getRepresentationsForAdaptation:function(I){var Z,L,U,N,ue=[],te=function(Re){if(Re&&Re.period&&D(Re.period.index)){var Ve=Re.period.mpd.manifest.Period_asArray[Re.period.index];if(Ve&&Ve.AdaptationSet_asArray&&D(Re.index))return Y(Ve.AdaptationSet_asArray[Re.index])}}(I);if(te&&te.Representation_asArray){if(I&&I.period&&D(I.period.index)){var fe=X(I.period.mpd.manifest);fe&&(L=fe[0])}for(var oe=0,z=te.Representation_asArray.length;oe<z;++oe){var ae=te.Representation_asArray[oe],be=new ti;if(be.index=oe,be.adaptation=I,ae.hasOwnProperty(d.Z.ID)&&(be.id=ae.id),ae.hasOwnProperty(d.Z.CODECS)&&(be.codecs=ae.codecs),ae.hasOwnProperty(d.Z.MIME_TYPE)&&(be.mimeType=ae[d.Z.MIME_TYPE]),ae.hasOwnProperty(d.Z.CODEC_PRIVATE_DATA)&&(be.codecPrivateData=ae.codecPrivateData),ae.hasOwnProperty(d.Z.BANDWITH)&&(be.bandwidth=ae.bandwidth),ae.hasOwnProperty(d.Z.WIDTH)&&(be.width=ae.width),ae.hasOwnProperty(d.Z.HEIGHT)&&(be.height=ae.height),ae.hasOwnProperty(d.Z.SCAN_TYPE)&&(be.scanType=ae.scanType),ae.hasOwnProperty(d.Z.MAX_PLAYOUT_RATE)&&(be.maxPlayoutRate=ae.maxPlayoutRate),ae.hasOwnProperty(d.Z.SEGMENT_BASE)?(Z=ae.SegmentBase,be.segmentInfoType=d.Z.SEGMENT_BASE):ae.hasOwnProperty(d.Z.SEGMENT_LIST)?(Z=ae.SegmentList).hasOwnProperty(d.Z.SEGMENT_TIMELINE)?be.segmentInfoType=d.Z.SEGMENT_TIMELINE:be.segmentInfoType=d.Z.SEGMENT_LIST:ae.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)?((Z=ae.SegmentTemplate).hasOwnProperty(d.Z.SEGMENT_TIMELINE)?be.segmentInfoType=d.Z.SEGMENT_TIMELINE:be.segmentInfoType=d.Z.SEGMENT_TEMPLATE,Z.hasOwnProperty(d.Z.INITIALIZATION_MINUS)&&(be.initialization=Z.initialization.split("$Bandwidth$").join(ae.bandwidth).split("$RepresentationID$").join(ae.id))):be.segmentInfoType=d.Z.BASE_URL,be.essentialProperties=pe(ae),Z){if(Z.hasOwnProperty(d.Z.INITIALIZATION)){var Ue=Z.Initialization;Ue.hasOwnProperty(d.Z.SOURCE_URL)&&(be.initialization=Ue.sourceURL),Ue.hasOwnProperty(d.Z.RANGE)&&(be.range=Ue.range)}else $(te)&&H(te)&&te.mimeType&&te.mimeType.indexOf("application/mp4")===-1&&(be.range=0);Z.hasOwnProperty(d.Z.TIMESCALE)&&(be.timescale=Z.timescale),Z.hasOwnProperty(d.Z.DURATION)?be.segmentDuration=Z.duration/be.timescale:ae.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)&&(Z=ae.SegmentTemplate).hasOwnProperty(d.Z.SEGMENT_TIMELINE)&&(be.segmentDuration=ye(Z.SegmentTimeline)/be.timescale),Z.hasOwnProperty(d.Z.MEDIA)&&(be.media=Z.media),Z.hasOwnProperty(d.Z.START_NUMBER)&&(be.startNumber=Z.startNumber),Z.hasOwnProperty(d.Z.INDEX_RANGE)&&(be.indexRange=Z.indexRange),Z.hasOwnProperty(d.Z.PRESENTATION_TIME_OFFSET)&&(be.presentationTimeOffset=Z.presentationTimeOffset/be.timescale),Z.hasOwnProperty(d.Z.AVAILABILITY_TIME_OFFSET)?be.availabilityTimeOffset=Z.availabilityTimeOffset:L&&L.availabilityTimeOffset!==void 0&&(be.availabilityTimeOffset=L.availabilityTimeOffset),Z.hasOwnProperty(d.Z.AVAILABILITY_TIME_COMPLETE)?be.availabilityTimeComplete=Z.availabilityTimeComplete!=="false":L&&L.availabilityTimeComplete!==void 0&&(be.availabilityTimeComplete=L.availabilityTimeComplete)}be.MSETimeOffset=(N=(U=be).presentationTimeOffset,U.adaptation.period.start-N),be.path=[I.period.index,I.index,oe],ue.push(be)}}return ue},getAdaptationsForPeriod:function(I){var Z,L,U,N=I&&D(I.index)?I.mpd.manifest.Period_asArray[I.index]:null,ue=[];if(N&&N.AdaptationSet_asArray)for(U=0;U<N.AdaptationSet_asArray.length;U++)L=N.AdaptationSet_asArray[U],Z=new gr,L.hasOwnProperty(d.Z.ID)&&(Z.id=L.id),Z.index=U,Z.period=I,k(L,c.Z.MUXED)?Z.type=c.Z.MUXED:k(L,c.Z.AUDIO)?Z.type=c.Z.AUDIO:K(L)?Z.type=c.Z.VIDEO:$(L)?Z.type=c.Z.TEXT:F(L)?Z.type=c.Z.IMAGE:g.warn("Unknown Adaptation stream type"),ue.push(Z);return ue},getRegularPeriods:function(I){var Z,L,U=!!I&&ce(I.manifest),N=[],ue=null,te=null,fe=null,oe=null;for(L=0,Z=I&&I.manifest&&I.manifest.Period_asArray?I.manifest.Period_asArray.length:0;L<Z;L++)(te=I.manifest.Period_asArray[L]).hasOwnProperty(d.Z.START)?(oe=new ni).start=te.start:ue!==null&&ue.hasOwnProperty(d.Z.DURATION)&&fe!==null?(oe=new ni).start=parseFloat((fe.start+fe.duration).toFixed(5)):L!==0||U||((oe=new ni).start=0),fe!==null&&isNaN(fe.duration)&&(oe!==null?fe.duration=parseFloat((oe.start-fe.start).toFixed(5)):g.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),oe!==null&&(oe.id=W(te,L),oe.index=L,oe.mpd=I,te.hasOwnProperty(d.Z.DURATION)&&(oe.duration=te.duration),fe&&(fe.nextPeriodId=oe.id),N.push(oe),ue=te,fe=oe),te=null,oe=null;return N.length===0||fe!==null&&isNaN(fe.duration)&&(fe.duration=parseFloat((function(z){(function(){if(!b||!b.hasOwnProperty("error"))throw new Error(c.Z.MISSING_CONFIG_ERROR)})();var ae,be=ce(z.mpd.manifest);return z.mpd.manifest.mediaPresentationDuration?ae=z.mpd.manifest.mediaPresentationDuration:z.duration?ae=z.duration:be?ae=Number.POSITIVE_INFINITY:b.error(new le.Z(ie.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",z)),ae}(fe)-fe.start).toFixed(5))),N},getMpd:function(I){var Z=new Si;return I&&(Z.manifest=I,I.hasOwnProperty(d.Z.AVAILABILITY_START_TIME)?Z.availabilityStartTime=new Date(I.availabilityStartTime.getTime()):I.loadedTime&&(Z.availabilityStartTime=new Date(I.loadedTime.getTime())),I.hasOwnProperty(d.Z.AVAILABILITY_END_TIME)&&(Z.availabilityEndTime=new Date(I.availabilityEndTime.getTime())),I.hasOwnProperty(d.Z.MINIMUM_UPDATE_PERIOD)&&(Z.minimumUpdatePeriod=I.minimumUpdatePeriod),I.hasOwnProperty(d.Z.MEDIA_PRESENTATION_DURATION)&&(Z.mediaPresentationDuration=I.mediaPresentationDuration),I.hasOwnProperty(d.Z.SUGGESTED_PRESENTATION_DELAY)&&(Z.suggestedPresentationDelay=I.suggestedPresentationDelay),I.hasOwnProperty(d.Z.TIMESHIFT_BUFFER_DEPTH)&&(Z.timeShiftBufferDepth=I.timeShiftBufferDepth),I.hasOwnProperty(d.Z.MAX_SEGMENT_DURATION)&&(Z.maxSegmentDuration=I.maxSegmentDuration),I.hasOwnProperty(d.Z.PUBLISH_TIME)&&(Z.publishTime=new Date(I.publishTime))),Z},getEventsForPeriod:function(I){var Z,L,U=I&&I.mpd&&I.mpd.manifest?I.mpd.manifest:null,N=U?U.Period_asArray:null,ue=N&&I&&D(I.index)?N[I.index].EventStream_asArray:null,te=[];if(ue)for(Z=0;Z<ue.length;Z++){var fe=new Al;if(fe.period=I,fe.timescale=1,!ue[Z].hasOwnProperty(c.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(fe.schemeIdUri=ue[Z][c.Z.SCHEME_ID_URI],ue[Z].hasOwnProperty(d.Z.TIMESCALE)&&(fe.timescale=ue[Z][d.Z.TIMESCALE]),ue[Z].hasOwnProperty(d.Z.VALUE)&&(fe.value=ue[Z][d.Z.VALUE]),ue[Z].hasOwnProperty(d.Z.PRESENTATION_TIME_OFFSET)&&(fe.presentationTimeOffset=ue[Z][d.Z.PRESENTATION_TIME_OFFSET]),L=0;ue[Z].Event_asArray&&L<ue[Z].Event_asArray.length;L++){var oe=ue[Z].Event_asArray[L],z=new Ci;z.presentationTime=0,z.eventStream=fe,oe.hasOwnProperty(d.Z.PRESENTATION_TIME)&&(z.presentationTime=oe.presentationTime);var ae=fe.presentationTimeOffset?fe.presentationTimeOffset/fe.timescale:0;z.calculatedPresentationTime=z.presentationTime/fe.timescale+I.start-ae,oe.hasOwnProperty(d.Z.DURATION)&&(z.duration=oe.duration/fe.timescale),oe.hasOwnProperty(d.Z.ID)?z.id=oe.id:z.id=null,oe.Signal&&oe.Signal.Binary?z.messageData=A.decodeArray(oe.Signal.Binary.toString()):z.messageData=oe.messageData||oe.__cdata||oe.__text,te.push(z)}}return te},getEssentialPropertiesForAdaptation:function(I){var Z={};if(I&&I.hasOwnProperty(d.Z.ESSENTIAL_PROPERTY_ASARRAY)){var L,U=ln(I.EssentialProperty_asArray);try{for(U.s();!(L=U.n()).done;){var N=L.value;N.hasOwnProperty(c.Z.SCHEME_ID_URI)&&(Z[N[c.Z.SCHEME_ID_URI]]=xt({},N))}}catch(ue){U.e(ue)}finally{U.f()}}return Z},getEssentialPropertiesAsArrayForAdaptation:function(I){return I&&I.hasOwnProperty(d.Z.ESSENTIAL_PROPERTY_ASARRAY)&&I.EssentialProperty_asArray.length?I.EssentialProperty_asArray.map(function(Z){return new We().init(Z)}):[]},getEssentialPropertiesForRepresentation:pe,getEventStreamForAdaptationSet:function(I,Z,L){var U,N,ue;return I&&I.Period_asArray&&Z&&Z.period&&D(Z.period.index)&&(N=I.Period_asArray[Z.period.index])&&N.AdaptationSet_asArray&&D(Z.index)&&(ue=N.AdaptationSet_asArray[Z.index])&&(U=ue.InbandEventStream_asArray),de(U,null,L)},getEventStreamForRepresentation:function(I,Z,L){var U,N,ue,te;return I&&I.Period_asArray&&Z&&Z.adaptation&&Z.adaptation.period&&D(Z.adaptation.period.index)&&(N=I.Period_asArray[Z.adaptation.period.index])&&N.AdaptationSet_asArray&&D(Z.adaptation.index)&&(ue=N.AdaptationSet_asArray[Z.adaptation.index])&&ue.Representation_asArray&&D(Z.index)&&(te=ue.Representation_asArray[Z.index])&&(U=te.InbandEventStream_asArray),de(U,Z,L)},getUTCTimingSources:function(I){var Z=ce(I),L=!!I&&I.hasOwnProperty(d.Z.AVAILABILITY_START_TIME),U=I?I.UTCTiming_asArray:null,N=[];return(Z||L)&&U&&U.forEach(function(ue){var te=new ho.Z;ue.hasOwnProperty(c.Z.SCHEME_ID_URI)&&(te.schemeIdUri=ue.schemeIdUri,ue.hasOwnProperty(d.Z.VALUE)&&(te.value=ue.value.toString(),N.push(te)))}),N},getBaseURLsFromElement:X,getRepresentationSortFunction:function(){return function(I,Z){return I.bandwidth-Z.bandwidth}},getContentSteering:function(I){if(I&&I.hasOwnProperty(d.Z.CONTENT_STEERING_AS_ARRAY))return ge(I[d.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(I){return I&&I.hasOwnProperty(d.Z.LOCATION_AS_ARRAY)?I[d.Z.LOCATION_AS_ARRAY].map(function(Z){var L=Z.__text||Z,U=Z.hasOwnProperty(d.Z.SERVICE_LOCATION)?Z[d.Z.SERVICE_LOCATION]:null;return new hn(L,U)}):[]},getPatchLocation:function(I){return I&&I.hasOwnProperty(d.Z.PATCH_LOCATION_AS_ARRAY)?I[d.Z.PATCH_LOCATION_AS_ARRAY].map(function(Z){var L=Z.__text||Z,U=Z.hasOwnProperty(d.Z.SERVICE_LOCATION)?Z[d.Z.SERVICE_LOCATION]:null,N=Z.hasOwnProperty(d.Z.TTL)?1e3*parseFloat(Z[d.Z.TTL]):NaN;return new gn(L,U,N)}):[]},getSuggestedPresentationDelay:function(I){return I&&I.hasOwnProperty(d.Z.SUGGESTED_PRESENTATION_DELAY)?I.suggestedPresentationDelay:null},getAvailabilityStartTime:function(I){return I&&I.hasOwnProperty(d.Z.AVAILABILITY_START_TIME)&&I.availabilityStartTime!==null?I.availabilityStartTime.getTime():null},getServiceDescriptions:function(I){var Z=[];if(I&&I.hasOwnProperty(d.Z.SERVICE_DESCRIPTION)){var L,U=ln(I.ServiceDescription_asArray);try{for(U.s();!(L=U.n()).done;){var N=L.value,ue=null,te=null,fe=null,oe=null,z=null,ae=null,be=null;for(var Ue in N)N.hasOwnProperty(Ue)&&(Ue===d.Z.ID?ue=N[Ue]:Ue===d.Z.SERVICE_DESCRIPTION_SCOPE?te=N[Ue].schemeIdUri:Ue===d.Z.SERVICE_DESCRIPTION_LATENCY?fe={target:parseInt(N[Ue].target),max:parseInt(N[Ue].max),min:parseInt(N[Ue].min),referenceId:parseInt(N[Ue].referenceId)}:Ue===d.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?oe={max:parseFloat(N[Ue].max),min:parseFloat(N[Ue].min)}:Ue===d.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?z={mediaType:N[Ue].mediaType,max:parseInt(N[Ue].max),min:parseInt(N[Ue].min),target:parseInt(N[Ue].target),type:N[Ue].type,maxQualityDifference:parseInt(N[Ue].maxQualityDifference)}:Ue===d.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?ae={mediaType:N[Ue].mediaType,max:parseInt(N[Ue].max),min:parseInt(N[Ue].min),target:parseInt(N[Ue].target)}:Ue===d.Z.CONTENT_STEERING&&(be=ge(N[Ue])));Z.push({id:ue,schemeIdUri:te,latency:fe,playbackRate:oe,operatingQuality:z,operatingBandwidth:ae,contentSteering:be})}}catch(Re){U.e(Re)}finally{U.f()}}return Z},getSegmentAlignment:function(I){return!(!I||!I.hasOwnProperty(d.Z.SEGMENT_ALIGNMENT))&&I[d.Z.SEGMENT_ALIGNMENT]==="true"},getSubSegmentAlignment:function(I){return!(!I||!I.hasOwnProperty(d.Z.SUB_SEGMENT_ALIGNMENT))&&I[d.Z.SUB_SEGMENT_ALIGNMENT]==="true"},getSupplementalPropertiesForAdaptation:function(I){var Z={};if(I&&I.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var L,U=ln(I.SupplementalProperty_asArray);try{for(U.s();!(L=U.n()).done;){var N=L.value;N.hasOwnProperty(c.Z.SCHEME_ID_URI)&&(Z[N[c.Z.SCHEME_ID_URI]]=xt({},N))}}catch(ue){U.e(ue)}finally{U.f()}}return Z},getSupplementalPropertiesAsArrayForAdaptation:function(I){return I&&I.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&I.SupplementalProperty_asArray.length?I.SupplementalProperty_asArray.map(function(Z){return new We().init(Z)}):[]},getSupplementalPropertiesForRepresentation:function(I){var Z={};if(I&&I.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var L,U=ln(I.SupplementalProperty_asArray);try{for(U.s();!(L=U.n()).done;){var N=L.value;N.hasOwnProperty(c.Z.SCHEME_ID_URI)&&(Z[N[c.Z.SCHEME_ID_URI]]=xt({},N))}}catch(ue){U.e(ue)}finally{U.f()}}return Z},getSupplementalPropertiesAsArrayForRepresentation:function(I){return I&&I.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&I.SupplementalProperty_asArray.length?I.SupplementalProperty_asArray.map(function(Z){return new We().init(Z)}):[]},setConfig:function(I){I&&(I.errHandler&&(b=I.errHandler),I.BASE64&&(A=I.BASE64))}},g=(0,S.Z)(P).getInstance().getLogger(_),_}yr.__dashjs_factory_name="DashManifestModel";var wn=C.Z.getSingletonFactory(yr),Dt=l(703);function kt(_,g){var b;if(typeof Symbol>"u"||_[Symbol.iterator]==null){if(Array.isArray(_)||(b=function(H,K){if(H){if(typeof H=="string")return Qt(H,K);var $=Object.prototype.toString.call(H).slice(8,-1);return $==="Object"&&H.constructor&&($=H.constructor.name),$==="Map"||$==="Set"?Array.from(H):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Qt(H,K):void 0}}(_))||g&&_&&typeof _.length=="number"){b&&(_=b);var A=0,P=function(){};return{s:P,n:function(){return A>=_.length?{done:!0}:{done:!1,value:_[A++]}},e:function(H){throw H},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,D=!0,k=!1;return{s:function(){b=_[Symbol.iterator]()},n:function(){var H=b.next();return D=H.done,H},e:function(H){k=!0,O=H},f:function(){try{D||b.return==null||b.return()}finally{if(k)throw O}}}}function Qt(_,g){(g==null||g>_.length)&&(g=_.length);for(var b=0,A=new Array(g);b<g;b++)A[b]=_[b];return A}function Dn(){var _,g,b,A,P,O,D,k,H,K,$=this.context,F=(0,E.Z)($).getInstance(),Y=(0,Se.Z)($).getInstance();function G(){b={pr:1,nor:null,st:null,sf:null,sid:"".concat(Dt.Z.generateUuid()),cid:null},H={},k={},K={},ce()}function _e(){ce()}function ce(){if(O){var N=O.getStreamController();if(N&&typeof N.getActiveStream=="function"){var ue=N.getActiveStream();ue&&(D=ue.getProcessors())}}}function pe(N,ue){var te,fe={},oe=kt(ue);try{for(oe.s();!(te=oe.n()).done;){var z=te.value;N[z]&&(fe[z]=N[z])}}catch(ae){oe.e(ae)}finally{oe.f()}return fe}function ye(N){var ue=Y.get().streaming.cmcd.enabledKeys;return N.filter(function(te){return ue.includes(te)})}function W(N){try{return N.type===xe.w.MPD_TYPE?((te=de()).ot="m",te):N.type===xe.w.MEDIA_SEGMENT_TYPE?(ue=N.mediaType,K.hasOwnProperty(ue)||(K[ue]=!1),k.hasOwnProperty(ue)||(k[ue]=!1),H.hasOwnProperty(ue)||(H[ue]=!1),function(fe){var oe,z=de(),ae=function(st){try{var Yt=st.quality,Ae=st.mediaInfo.bitrateList;return parseInt(Ae[Yt].bandwidth/1e3)}catch{return null}}(fe),be=function(st){try{return isNaN(st.duration)?NaN:Math.round(1e3*st.duration)}catch{return null}}(fe),Ue=function(st){try{return 100*parseInt(A.getThroughputHistory().getSafeAverageThroughput(st)/100)}catch{return null}}(fe.mediaType),Re=function(st){try{var Yt=b.pr,Ae=P.getCurrentBufferLevel(st);return isNaN(Yt)||isNaN(Ae)?null:100*parseInt(Ae/Yt*10)}catch{return null}}(fe.mediaType),Ve=X(fe.mediaType),ke=function(st){try{var Yt=A.getTopBitrateInfoFor(st);return Math.round(Yt.bitrate/1e3)}catch{return null}}(fe.mediaType),ct=b.pr,dt=function(st){if(D&&D.length!==0){var Yt,Ae=kt(D);try{for(Ae.s();!(Yt=Ae.n()).done;){var Ge=Yt.value;if(Ge.getType()===st)return Ge.probeNextRequest()}}catch(_t){Ae.e(_t)}finally{Ae.f()}}}(fe.mediaType);fe.mediaType===c.Z.VIDEO&&(oe="v"),fe.mediaType===c.Z.AUDIO&&(oe="a"),fe.mediaType===c.Z.TEXT&&(oe=fe.mediaInfo.mimeType==="application/mp4"?"tt":"c");var ot=Y.get().streaming.cmcd.rtp;return ot||(ot=function(st){try{var Yt=O.getPlaybackRate();Yt||(Yt=1);var Ae=st.quality,Ge=st.mediaType,_t=st.mediaInfo,Xe=st.duration;if(!_t)return NaN;var St=X(Ge);St===0&&(St=500);var wt=_t.bitrateList[Ae].bandwidth*Xe/1e3/(St/Yt/1e3),mt=Y.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(Y.get().streaming.cmcd.rtpSafetyFactor)?Y.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(wt*mt/100)+1)}catch{return NaN}}(fe)),isNaN(ot)||(z.rtp=ot),dt&&(fe.url!==dt.url?z.nor=encodeURIComponent(Dt.Z.getRelativeUrl(fe.url,dt.url)):dt.range&&(z.nrr=dt.range)),ae&&(z.br=ae),oe&&(z.ot=oe),isNaN(be)||(z.d=be),isNaN(Ue)||(z.mtp=Ue),isNaN(Re)||(z.dl=Re),isNaN(Ve)||(z.bl=Ve),isNaN(ke)||(z.tb=ke),isNaN(ct)||ct===1||(z.pr=ct),H[fe.mediaType]&&(z.bs=!0,H[fe.mediaType]=!1),!k[fe.mediaType]&&K[fe.mediaType]||(z.su=!0,k[fe.mediaType]=!1,K[fe.mediaType]=!0),z}(N)):N.type===xe.w.INIT_SEGMENT_TYPE?function(){var fe=de();return fe.ot="i",fe.su=!0,fe}():N.type===xe.w.OTHER_TYPE||N.type===xe.w.XLINK_EXPANSION_TYPE?function(){var fe=de();return fe.ot="o",fe}():N.type===xe.w.LICENSE?function(fe){var oe=de();return oe.ot="k",oe}():null}catch{return null}var ue,te}function de(){var N={},ue=Y.get().streaming.cmcd.cid?Y.get().streaming.cmcd.cid:b.cid;return N.v=1,N.sid=Y.get().streaming.cmcd.sid?Y.get().streaming.cmcd.sid:b.sid,N.sid="".concat(N.sid),ue&&(N.cid="".concat(ue)),isNaN(b.pr)||b.pr===1||b.pr===null||(N.pr=b.pr),b.st&&(N.st=b.st),b.sf&&(N.sf=b.sf),N}function X(N){try{var ue=P.getCurrentBufferLevel(N);return isNaN(ue)?null:100*parseInt(10*ue)}catch{return null}}function ge(N){try{b.pr=N.playbackRate}catch{}}function I(N){try{var ue=_.getIsDynamic(N.data)?"l":"v",te=N.protocol&&N.protocol==="MSS"?"s":"d";b.st="".concat(ue),b.sf="".concat(te)}catch{}}function Z(N){try{N.state&&N.mediaType&&N.state===h.Z.BUFFER_EMPTY&&(H[N.mediaType]||(H[N.mediaType]=!0),k[N.mediaType]||(k[N.mediaType]=!0))}catch{}}function L(){for(var N in H)H.hasOwnProperty(N)&&(H[N]=!0);for(var ue in k)k.hasOwnProperty(ue)&&(k[ue]=!0)}function U(N){try{if(!N)return null;var ue=Object.keys(N).sort(function(oe,z){return oe.localeCompare(z)}),te=ue.length,fe=ue.reduce(function(oe,z,ae){return z==="v"&&N[z]===1||(typeof N[z]=="string"&&z!=="ot"&&z!=="sf"&&z!=="st"?oe+="".concat(z,"=").concat(JSON.stringify(N[z])):oe+="".concat(z,"=").concat(N[z]),ae<te-1&&(oe+=",")),oe},"");return(fe=fe.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return g={getQueryParameter:function(N){try{if(Y.get().streaming.cmcd&&Y.get().streaming.cmcd.enabled){var ue=W(N),te=function(oe){try{var z=Y.get().streaming.cmcd.enabledKeys;return Object.keys(oe).filter(function(ae){return z.includes(ae)}).reduce(function(ae,be){return ae[be]=oe[be],ae},{})}catch{return oe}}(ue),fe=U(te);return F.trigger(Cn.Z.CMCD_DATA_GENERATED,{url:N.url,mediaType:N.mediaType,cmcdData:ue,cmcdString:fe}),{key:"CMCD",value:fe}}return null}catch{return null}},getHeaderParameters:function(N){try{if(Y.get().streaming.cmcd&&Y.get().streaming.cmcd.enabled){var ue=W(N),te=pe(ue,ye(["br","d","ot","tb"])),fe=pe(ue,ye(["bl","dl","mtp","nor","nrr","su"])),oe=pe(ue,ye(["bs","rtp"])),z=pe(ue,ye(["cid","pr","sf","sid","st","v"])),ae={"CMCD-Object":U(te),"CMCD-Request":U(fe),"CMCD-Status":U(oe),"CMCD-Session":U(z)};return F.trigger(Cn.Z.CMCD_DATA_GENERATED,{url:N.url,mediaType:N.mediaType,cmcdData:ue,headers:ae}),ae}return null}catch{return null}},setConfig:function(N){N&&(N.abrController&&(A=N.abrController),N.dashMetrics&&(P=N.dashMetrics),N.playbackController&&(O=N.playbackController))},reset:function(){F.off(h.Z.PLAYBACK_RATE_CHANGED,ge,this),F.off(h.Z.MANIFEST_LOADED,I,this),F.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,Z,g),F.off(h.Z.PLAYBACK_SEEKED,L,g),G()},initialize:function(){F.on(h.Z.PLAYBACK_RATE_CHANGED,ge,g),F.on(h.Z.MANIFEST_LOADED,I,g),F.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,Z,g),F.on(h.Z.PLAYBACK_SEEKED,L,g),F.on(h.Z.PERIOD_SWITCH_COMPLETED,_e,g)}},_=wn($).getInstance(),G(),g}Dn.__dashjs_factory_name="CmcdModel";var Rn=C.Z.getSingletonFactory(Dn);function sr(_){return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},sr(_)}function _r(_,g){_r=function(k,H){return new O(k,void 0,H)};var b=bi(RegExp),A=RegExp.prototype,P=new WeakMap;function O(k,H,K){var $=b.call(this,k,H);return P.set($,K||P.get(k)),$}function D(k,H){var K=P.get(H);return Object.keys(K).reduce(function($,F){return $[F]=k[K[F]],$},Object.create(null))}return yi(O,b),O.prototype.exec=function(k){var H=A.exec.call(this,k);return H&&(H.groups=D(H,this)),H},O.prototype[Symbol.replace]=function(k,H){if(typeof H=="string"){var K=P.get(this);return A[Symbol.replace].call(this,k,H.replace(/\$<([^>]+)>/g,function(F,Y){return"$"+K[Y]}))}if(typeof H=="function"){var $=this;return A[Symbol.replace].call(this,k,function(){var F=[];return F.push.apply(F,arguments),sr(F[F.length-1])!=="object"&&F.push(D(F,$)),H.apply(this,F)})}return A[Symbol.replace].call(this,k,H)},_r.apply(this,arguments)}function yi(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),g&&zr(_,g)}function bi(_){var g=typeof Map=="function"?new Map:void 0;return bi=function(b){if(b===null||(A=b,Function.toString.call(A).indexOf("[native code]")===-1))return b;var A;if(typeof b!="function")throw new TypeError("Super expression must either be null or a function");if(g!==void 0){if(g.has(b))return g.get(b);g.set(b,P)}function P(){return Fr(b,arguments,Ei(this).constructor)}return P.prototype=Object.create(b.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),zr(P,b)},bi(_)}function Fr(_,g,b){return Fr=si()?Reflect.construct:function(A,P,O){var D=[null];D.push.apply(D,P);var k=new(Function.bind.apply(A,D));return O&&zr(k,O.prototype),k},Fr.apply(null,arguments)}function si(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zr(_,g){return zr=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},zr(_,g)}function Ei(_){return Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},Ei(_)}var $s="static",Io="dynamic",jo="cmsd-",Oi=jo+$s,kd=jo+Io,xl="stream",Fd=["mb","st","sf","v"],Ld={video:"v",audio:"a",text:"tt",stream:xl},Bd=/^[-0-9]/;function Ml(){var _,g,b,A,P=this.context,O=(0,E.Z)(P).getInstance();function D(){b={},A={}}function k(G){G&&Object.keys(G).forEach(function(_e){Fd.includes(_e)||delete G[_e]})}function H(G){return!G||G.toLowerCase()!=="false"&&(Bd.test(G)?parseInt(G,10):G.replace(/["]+/g,""))}function K(G){try{for(var _e={},ce=G.split(","),pe=0;pe<ce.length;pe++){var ye=ce[pe].split("="),W=ye[0],de=H(ye[1]);_e[W]=de}return _e}catch(X){g.error("Failed to parse CMSD-Static response header value:",X)}}function $(G){try{for(var _e={},ce=G.split(","),pe=ce[ce.length-1].split(";"),ye=1;ye<pe.length;ye++){var W=pe[ye].split("="),de=W[0],X=H(W[1]);_e[de]=X}return _e}catch(ge){return g.error("Failed to parse CMSD-Dynamic response header value:",ge),[]}}function F(G){return Ld[G]||"o"}function Y(G,_e,ce){var pe=G===$s?b:A,ye=pe[_e]||{},W=pe[xl]||{};return ye[ce]||W[ce]}return _={setConfig:function(){},initialize:function(){},reset:function(){D()},parseResponseHeaders:function(G,_e){for(var ce=null,pe=null,ye=G.split(`\r
`),W=ye.length-1;W>=0;W--){var de=ye[W].match(_r(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(de&&de.groups){var X=de.groups.key.toLowerCase(),ge=de.groups.value;switch(X){case Oi:ce=K(ge),O.trigger(m.Z.CMSD_STATIC_HEADER,ce);break;case kd:pe||(pe=$(ge))}}}var I=xl;return ce&&ce.ot?I=ce.ot:_e&&(I=F(_e)),k(b[I]),k(A[I]),ce&&(b[I]=Object.assign(b[I]||{},ce)),pe&&(A[I]=Object.assign(A[I]||{},pe)),{static:ce,dynamic:pe}},getMaxBitrate:function(G){var _e=F(G);return Y(Io,_e,"mb")||-1},getEstimatedThroughput:function(G){var _e=F(G);return Y(Io,_e,"etp")||null},getResponseDelay:function(G){var _e=F(G);return Y(Io,_e,"rd")||null},getRoundTripTime:function(G){var _e=F(G);return Y(Io,_e,"rtt")||null}},g=(0,S.Z)(P).getInstance().getLogger(_),D(),_}Ml.__dashjs_factory_name="CmsdModel";var Ht=C.Z.getSingletonFactory(Ml);function Sn(){var _,g,b=this.context,A={};function P(){g=(0,S.Z)(b).getInstance().getLogger(_)}function O(k){for(var H={},K=0,$=0,F=0,Y=0,G=k.length,_e=0;_e<G;++_e)K+=k[_e].chunkDownloadTimeRelativeMS,$+=k[_e].bufferLevel,F+=k[_e].chunkDownloadTimeRelativeMS*k[_e].bufferLevel,Y+=k[_e].chunkDownloadTimeRelativeMS*k[_e].chunkDownloadTimeRelativeMS;return H.m=(F-K*$/G)/(Y-K*K/G),H.b=$/G-H.m*K/G,function(ce){return H.m*ce+H.b}}function D(k){var H,K=!0,$=k.reduce(function(F,Y){return F+Y.bufferLevelAtSegmentEnd},0)/k.length;return k.forEach(function(F){Math.abs(F.bufferLevelAtSegmentEnd/F.bufferLevelAtSegmentStart)<.95&&(K=!1),F.bufferLevelAtSegmentEnd/$<.8&&(K=!1),H?H>F.bitrate&&(K=!1):H=F.bitrate}),K}return _={setup:P,addMeasurement:function(k,H,K,$,F){k&&k.mediaType&&!A[k.mediaType]&&(A[k.mediaType]=[]);var Y=k.mediaInfo.bitrateList.find(function(G){return G.id===k.representationId});A[k.mediaType].push({index:k.index,repId:k.representationId,mediaType:k.mediaType,requestTimeMS:$,adjustedAvailabilityStartTimeMS:k.availabilityStartTime.getTime(),segDurationMS:1e3*k.duration,chunksDurationMS:K.reduce(function(G,_e){return G+_e.chunkDownloadDurationMS},0),segmentBytes:K.reduce(function(G,_e){return G+_e.chunkBytes},0),bitrate:Y&&Y.bandwidth,bitrateList:k.mediaInfo.bitrateList,chunkMeasurements:K,fetchDownloadDurationMS:H,throughputCapacityDelayMS:F,getEstimatedBufferLevel:O(K.slice(1))}),A[k.mediaType].length>10&&A[k.mediaType].shift()},getThroughputCapacityDelayMS:function(k,H){var K=A[k.mediaType]&&A[k.mediaType].slice(-3);return!K||K.length<3?0:D(K)?H/4>250?250:H/4:0},getEstimatedDownloadDurationMS:function(k){var H=A[k.mediaType].slice(-1).pop(),K=A[k.mediaType].slice(-3),$=H.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;H.bufferLevelAtSegmentStart=H.getEstimatedBufferLevel($/2),H.bufferLevelAtSegmentEnd=H.getEstimatedBufferLevel($);var F=D(K),Y=F?.6:.8;if(H.isBufferStable&&1.05*H.segDurationMS<H.fetchDownloadDurationMS)return H.fetchDownloadDurationMS;if(!F||H.segDurationMS<H.fetchDownloadDurationMS||H.adjustedAvailabilityStartTimeMS<=H.requestTimeMS+H.throughputCapacityDelayMS-H.segDurationMS)return .8*H.fetchDownloadDurationMS;for(var G=H.requestTimeMS+H.throughputCapacityDelayMS-H.adjustedAvailabilityStartTimeMS,_e=0,ce=0,pe=0,ye=0;ye<H.chunkMeasurements.length;ye++){var W=H.chunkMeasurements[ye];if(G<ce+W.chunkDownloadDurationMS)break;ce+=W.chunkDownloadDurationMS,_e+=W.chunkBytes,pe++}if(G<0&&g.warn("request time was before adjusted availibitly start time"),_e&&ce&&pe>.2*H.chunkMeasurements.length){var de=_e/ce,X=H.segmentBytes/de;return H.fetchDownloadDurationMS<X?H.fetchDownloadDurationMS*Y:X*Y}var ge=H.bitrate;return H.bitrateList.some(function(I){if(I.bandwidth>H.bitrate)return ge=I.bandwidth,!0}),ge===H.bitrate?H.fetchDownloadDurationMS*Y:Y*H.segmentBytes*8*1e3/ge}},P(),_}Sn.__dashjs_factory_name="LowLatencyThroughputModel";var zn=C.Z.getSingletonFactory(Sn),Gr=l(5717);function wr(_,g,b){return g in _?Object.defineProperty(_,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[g]=b,_}function ai(_){_=_||{};var g,b,A,P,O,D,k,H,K,$,F,Y=this.context,G=_.errHandler,_e=_.dashMetrics,ce=_.mediaPlayerModel,pe=_.requestModifier,ye=_.boxParser,W=_.errors,de=_.requestTimeout||0,X=(0,E.Z)(Y).getInstance(),ge=(0,Se.Z)(Y).getInstance();function I(Z,L){var U,N=Z.request,ue=[],te=!0,fe=!0,oe=new Date,z=oe,ae=0,be=null,Ue=null;if(!pe||!_e||!G)throw new Error("config object is not correct or missing");var Re,Ve=function(St){N.requestStartDate=oe,N.requestEndDate=new Date,N.firstByteDate=N.firstByteDate||oe,N.fileLoaderType=Ue;var wt=U.response?U.response.responseURL:null,mt=U.response?U.response.status:null,tn=U.response&&U.response.getAllResponseHeaders?U.response.getAllResponseHeaders():U.response?U.response.responseHeaders:null,en=tn&&ge.get().streaming.cmsd&&ge.get().streaming.cmsd.enabled?k.parseResponseHeaders(tn,N.mediaType):null;_e.addHttpRequest(N,wt,mt,tn,St?ue:null,en)},ke=function(St){fe=!1,Ve(St),N.type===xe.w.MPD_TYPE&&(_e.addManifestUpdate(N),X.trigger(m.Z.MANIFEST_LOADING_FINISHED,{request:N}))},ct=function(){if(be&&(clearTimeout(be),be=null),b.indexOf(U)!==-1&&(b.splice(b.indexOf(U),1),fe))if(ke(!1),L>0){try{ge.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&N.type===xe.w.MEDIA_SEGMENT_TYPE&&ce.getRetryAttemptsForType(xe.w.MEDIA_SEGMENT_TYPE)===L&&X.trigger(m.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}L--;var St={config:Z};P.push(St),St.timeout=setTimeout(function(){P.indexOf(St)!==-1&&(P.splice(P.indexOf(St),1),I(Z,L))},ce.getRetryIntervalsForType(N.type))}else{if(N.type===xe.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;G.error(new le.Z(O[N.type],N.url+" is not available",{request:N,response:U.response})),Z.error&&Z.error(N,"error",U.response.statusText,U.response),Z.complete&&Z.complete(N,U.response.statusText)}};N.hasOwnProperty("availabilityTimeComplete")&&N.availabilityTimeComplete===!1&&window.fetch&&N.responseType==="arraybuffer"&&N.type===xe.w.MEDIA_SEGMENT_TYPE?((Re=In(Y).create({requestModifier:pe,lowLatencyThroughputModel:K,boxParser:ye})).setup({dashMetrics:_e}),Ue=c.Z.FILE_LOADER_TYPES.FETCH):(Re=(0,Bt.Z)(Y).create({requestModifier:pe}),Ue=c.Z.FILE_LOADER_TYPES.XHR);var dt=null,ot=pe.modifyRequestURL?pe.modifyRequestURL(N.url):N.url;if(ge.get().streaming.cmcd&&ge.get().streaming.cmcd.enabled){var st=ge.get().streaming.cmcd.mode;if(st===c.Z.CMCD_MODE_QUERY){var Yt=function(St){try{var wt=[],mt=D.getQueryParameter(St);return mt&&wt.push(mt),wt}catch{return[]}}(N);ot=Dt.Z.addAditionalQueryParameterToUrl(ot,Yt)}else st===c.Z.CMCD_MODE_HEADER&&(dt=D.getHeaderParameters(N))}var Ae=H.getXHRWithCredentialsForType(N.type);if(N.queryParams){var Ge=Object.keys(N.queryParams).map(function(St){return{key:St,value:N.queryParams[St]}});ot=Dt.Z.addAditionalQueryParameterToUrl(ot,Ge)}N.url=ot,U={url:ot,method:xe.w.GET,withCredentials:Ae,request:N,onload:function(){U.response.status>=200&&U.response.status<=299&&(ke(!0),Z.success&&Z.success(U.response.response,U.response.statusText,U.response.responseURL),Z.complete&&Z.complete(N,U.response.statusText))},onend:ct,onerror:ct,progress:function(St){var wt=new Date;te&&(te=!1,(!St.lengthComputable||St.lengthComputable&&St.total!==St.loaded)&&(N.firstByteDate=wt)),St.lengthComputable&&(N.bytesLoaded=St.loaded,N.bytesTotal=St.total),St.noTrace||(ue.push({s:z,d:St.time?St.time:wt.getTime()-z.getTime(),b:[St.loaded?St.loaded-ae:0]}),z=wt,ae=St.loaded),be&&(clearTimeout(be),be=null),ge.get().streaming.fragmentRequestProgressTimeout>0&&(be=setTimeout(function(){$.warn("Abort request "+U.url+" due to progress timeout"),U.response.onabort=null,U.loader.abort(U),ct()},ge.get().streaming.fragmentRequestProgressTimeout)),Z.progress&&St&&Z.progress(St)},onabort:function(){Ve(!0),be&&(clearTimeout(be),be=null),Z.abort&&Z.abort(N)},ontimeout:function(St){var wt;if(St.lengthComputable){var mt=St.loaded/St.total*100;wt="Request timeout: loaded: "+St.loaded+", out of: "+St.total+" : "+mt.toFixed(3)+"% Completed"}else wt="Request timeout: non-computable download size";$.warn(wt)},loader:Re,timeout:de,headers:dt};var _t=new Date().getTime();if(isNaN(N.delayLoadingTime)||_t>=N.delayLoadingTime)b.push(U),Re.load(U);else{var Xe={httpRequest:U};A.push(Xe),Xe.delayTimeout=setTimeout(function(){if(A.indexOf(Xe)!==-1){A.splice(A.indexOf(Xe),1);try{oe=new Date,z=oe,b.push(Xe.httpRequest),Re.load(Xe.httpRequest)}catch{Xe.httpRequest.onerror()}}},N.delayLoadingTime-_t)}}return g={load:function(Z){Z.request?I(Z,ce.getRetryAttemptsForType(Z.request.type)):Z.error&&Z.error(Z.request,"error")},abort:function(){P.forEach(function(Z){clearTimeout(Z.timeout),Z.config.request&&Z.config.abort&&Z.config.abort(Z.config.request)}),P=[],A.forEach(function(Z){return clearTimeout(Z.delayTimeout)}),A=[],b.forEach(function(Z){Z.request.type!==xe.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Z.onloadend=Z.onerror=Z.onprogress=void 0,Z.loader.abort(Z))}),b=[]}},$=(0,S.Z)(Y).getInstance().getLogger(g),b=[],A=[],P=[],D=Rn(Y).getInstance(),k=Ht(Y).getInstance(),K=zn(Y).getInstance(),H=(0,Gr.Z)(Y).getInstance(),wr(F={},xe.w.MPD_TYPE,W.DOWNLOAD_ERROR_ID_MANIFEST_CODE),wr(F,xe.w.XLINK_EXPANSION_TYPE,W.DOWNLOAD_ERROR_ID_XLINK_CODE),wr(F,xe.w.INIT_SEGMENT_TYPE,W.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),wr(F,xe.w.MEDIA_SEGMENT_TYPE,W.DOWNLOAD_ERROR_ID_CONTENT_CODE),wr(F,xe.w.INDEX_SEGMENT_TYPE,W.DOWNLOAD_ERROR_ID_CONTENT_CODE),wr(F,xe.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,W.DOWNLOAD_ERROR_ID_CONTENT_CODE),wr(F,xe.w.OTHER_TYPE,W.DOWNLOAD_ERROR_ID_CONTENT_CODE),O=F,g}ai.__dashjs_factory_name="HTTPLoader";var Or=C.Z.getClassFactory(ai);function mo(){var _;function g(){_={}}function b(){g()}return b(),{getLoader:function(A){for(var P in _)if(_.hasOwnProperty(P)&&A.startsWith(P))return _[P];return Or},registerLoader:function(A,P){_[A]=P},unregisterLoader:function(A){_[A]&&delete _[A]},unregisterAllLoader:g,reset:b}}mo.__dashjs_factory_name="SchemeLoaderFactory";var ri=C.Z.getSingletonFactory(mo);function Lr(_){_=_||{};var g,b,A=this.context;return g=ri(A).getInstance(),{load:function(P){if(!b){var O=g.getLoader(P&&P.request?P.request.url:null);b=O(A).create({errHandler:_.errHandler,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,dashMetrics:_.dashMetrics,boxParser:_.boxParser?_.boxParser:null,constants:_.constants?_.constants:null,dashConstants:_.dashConstants?_.dashConstants:null,urlUtils:_.urlUtils?_.urlUtils:null,requestTimeout:isNaN(_.requestTimeout)?0:_.requestTimeout,errors:_.errors})}b.load(P)},abort:function(){b&&b.abort()}}}Lr.__dashjs_factory_name="URLLoader";var Pi=C.Z.getClassFactory(Lr);function ki(_){return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},ki(_)}function Vo(_,g){return Vo=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},Vo(_,g)}function Do(_,g){return!g||ki(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function Zo(_){return Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},Zo(_)}var Ws=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&Vo(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=Zo(g);if(b){var k=Zo(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return Do(this,O)});function P(O){var D;return function(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")}(this,P),(D=A.call(this,O)).checkForExistenceOnly=!0,D}return P}(M.Z);function Qc(_){_=_||{};var g,b,A=this.context,P=_.eventBus,O=_.events,D=_.urlUtils,k=_.errors,H=_.streamId;return g={checkForExistence:function(K){var $=function(Y){P.trigger(O.CHECK_FOR_EXISTENCE_COMPLETED,{request:K,exists:Y})};if(K){var F=new Ws(K.url);b.load({request:F,success:function(){$(!0)},error:function(){$(!1)}})}else $(!1)},load:function(K){var $=function(F,Y){P.trigger(O.LOADING_COMPLETED,{request:K,response:F||null,error:Y||null,sender:g})};K?b.load({request:K,progress:function(F){P.trigger(O.LOADING_PROGRESS,{request:K,stream:F.stream,streamId:H}),F.data&&P.trigger(O.LOADING_DATA_PROGRESS,{request:K,response:F.data||null,error:null,sender:g})},success:function(F){$(F)},error:function(F,Y,G){$(void 0,new le.Z(k.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,G,Y))},abort:function(F){F&&P.trigger(O.LOADING_ABANDONED,{mediaType:F.mediaType,request:F,sender:g})}}):$(void 0,new le.Z(k.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,k.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){b&&b.abort()},reset:function(){b&&(b.abort(),b=null)}},b=Pi(A).create({errHandler:_.errHandler,errors:k,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,urlUtils:D,constants:c.Z,boxParser:_.boxParser,dashConstants:_.dashConstants,requestTimeout:_.settings.get().streaming.fragmentRequestTimeout}),g}Qc.__dashjs_factory_name="FragmentLoader";var Rl=C.Z.getClassFactory(Qc);function Nl(){return{modifyResponseAsync:function(_){return Promise.resolve(_)}}}Nl.__dashjs_factory_name="SegmentResponseModifier";var Ud=C.Z.getSingletonFactory(Nl);function jd(_){_=_||{};var g,b,A,P=this.context,O=(0,E.Z)(P).getInstance(),D=_.errHandler,k=_.mediaPlayerModel,H=_.dashMetrics,K=(0,S.Z)(P).getInstance(),$=Ud(P).getInstance(),F=_.streamInfo;function Y(){return F.id}function G(){for(var ce in A)A[ce].reset();A={}}function _e(ce){if(ce.sender){var pe=ce.request,ye=ce.response,W=pe.isInitializationRequest(),de=pe.mediaInfo.streamInfo;if(ce.error&&(pe.mediaType===c.Z.AUDIO||pe.mediaType===c.Z.VIDEO||pe.mediaType===c.Z.TEXT&&pe.mediaInfo.isFragmented)&&O.trigger(m.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:ce.request.serviceLocation}),ye&&de){var X=function(ge,I,Z,L){var U=new at;return U.streamId=Z,U.mediaInfo=I.mediaInfo,U.segmentType=I.type,U.start=I.startTime,U.duration=I.duration,U.end=U.start+U.duration,U.bytes=ge,U.index=I.index,U.quality=I.quality,U.representationId=I.representationId,U.endFragment=L,U}(ye,pe,F.id,ce.type!==m.Z.FRAGMENT_LOADING_PROGRESS);$.modifyResponseAsync(X).then(function(ge){O.trigger(W?m.Z.INIT_FRAGMENT_LOADED:m.Z.MEDIA_FRAGMENT_LOADED,{chunk:ge,request:pe},{streamId:de.id,mediaType:pe.mediaType})}).catch(function(ge){b.error(ge),O.trigger(W?m.Z.INIT_FRAGMENT_LOADED:m.Z.MEDIA_FRAGMENT_LOADED,{chunk:X,request:pe},{streamId:de.id,mediaType:pe.mediaType})})}else b.warn("No "+pe.mediaType+" bytes to push or stream is inactive.")}}return g={getStreamId:Y,getModel:function(ce){var pe=A[ce];return pe||(pe=ee(P).create({streamInfo:F,type:ce,dashMetrics:H,fragmentLoader:Rl(P).create({dashMetrics:H,mediaPlayerModel:k,errHandler:D,requestModifier:(0,Ne.Z)(P).getInstance(),settings:_.settings,boxParser:_.boxParser,eventBus:O,events:m.Z,errors:ie,dashConstants:_.dashConstants,urlUtils:_.urlUtils,streamId:Y()}),debug:K,eventBus:O,events:m.Z}),A[ce]=pe),pe},reset:function(){O.off(h.Z.FRAGMENT_LOADING_COMPLETED,_e,this),O.off(h.Z.FRAGMENT_LOADING_PROGRESS,_e,this),G()}},b=K.getLogger(g),G(),O.on(h.Z.FRAGMENT_LOADING_COMPLETED,_e,g),O.on(h.Z.FRAGMENT_LOADING_PROGRESS,_e,g),g}jd.__dashjs_factory_name="FragmentController";var Lp=C.Z.getClassFactory(jd),Bp=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},Vd=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function Zd(_){var g,b,A=this.context,P=_.streamInfo;function O(k){b.setTrackByIndex(k)}function D(){b&&b.reset()}return g={getStreamId:function(){return P.id},initialize:function(){b.addTracks();var k=b.getTracks();k&&k.length>0&&O(0)},provide:function(k,H){if(typeof H=="function"){var K,$,F=b.getCurrentTrack();if(!F||F.segmentDuration<=0||k==null)H(null);else{($=b.getThumbnailRequestForTime(k))&&(F.segmentDuration=$.duration),K=k%F.segmentDuration;var Y=Math.floor(K*F.tilesHor*F.tilesVert/F.segmentDuration),G=new Bp;if(G.width=Math.floor(F.widthPerTile),G.height=Math.floor(F.heightPerTile),G.x=Math.floor(Y%F.tilesHor)*F.widthPerTile,G.y=Math.floor(Y/F.tilesHor)*F.heightPerTile,"readThumbnail"in F)return F.readThumbnail(k,function(ce){G.url=ce,H(G)});if($)G.url=$.url,F.segmentDuration=NaN;else{var _e=Math.floor(k/F.segmentDuration);G.url=function(ce,pe){var ye=pe+ce.startNumber,W=(0,y.vi)(ce.templateUrl,"Number",ye);return W=(0,y.vi)(W,"Time",(ye-1)*ce.segmentDuration*ce.timescale),W=(0,y.vi)(W,"Bandwidth",ce.bandwidth),(0,y.eR)(W)}(F,_e)}H(G)}}},setTrackByIndex:O,getCurrentTrackIndex:function(){return b.getCurrentTrackIndex()},getBitrateList:function(){var k=b.getTracks(),H=0;return k.map(function(K){var $=new Vd;return $.mediaType=c.Z.IMAGE,$.qualityIndex=H++,$.bitrate=K.bitrate,$.width=K.width,$.height=K.height,$})},reset:D},D(),b=(0,$t.Z)(A).create({streamInfo:P,adapter:_.adapter,baseURLController:_.baseURLController,timelineConverter:_.timelineConverter,debug:_.debug,eventBus:_.eventBus,events:_.events,dashConstants:_.dashConstants,dashMetrics:_.dashMetrics,segmentBaseController:_.segmentBaseController}),g}Zd.__dashjs_factory_name="ThumbnailController";var Up=C.Z.getClassFactory(Zd),Xc=l(7417);function Hd(_){var g;_=_||{};var b=[],A=(0,E.Z)(this.context).getInstance(),P=_.updateEventName,O=_.addBlacklistEventName;function D(k){b.indexOf(k)===-1&&(b.push(k),A.trigger(P,{entry:k}))}return g={add:D,contains:function(k){return!!(b.length&&k&&k.length)&&b.indexOf(k)!==-1},reset:function(){b=[]}},O&&A.on(O,function(k){D(k.entry)},g),g}Hd.__dashjs_factory_name="BlackListController";var Ol=C.Z.getClassFactory(Hd),jp=[c.Z.VIDEO,c.Z.AUDIO,c.Z.TEXT,c.Z.MUXED,c.Z.IMAGE];function Pr(_){_=_||{};var g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe,ye,W,de=this.context,X=(0,E.Z)(de).getInstance(),ge=(0,rt.Z)(de).getInstance(),I=_.manifestModel,Z=_.mediaPlayerModel,L=_.dashMetrics,U=_.manifestUpdater,N=_.adapter,ue=_.timelineConverter,te=_.capabilities,fe=_.errHandler,oe=_.abrController,z=_.playbackController,ae=_.eventController,be=_.mediaController,Ue=_.protectionController,Re=_.textController,Ve=_.videoModel,ke=_.streamInfo,ct=_.settings;function dt(gt,zt){return new Promise(function(Wt,Kt){wt(),$=!0,tn();var rn=Ve.getElement(),Qe=[];jp.forEach(function(Be){(Be!==c.Z.TEXT||gt)&&(Be!==c.Z.VIDEO||!rn||rn&&/^VIDEO$/i.test(rn.nodeName))&&Qe.push(ot(Be,gt))}),Promise.all(Qe).then(function(){return Be=zt,new Promise(function(ft){var ve={},Ce=A.map(function(tt){return tt.createBufferSinks(Be)});Promise.all(Ce).then(function(tt){tt.forEach(function(Ot){Ot&&(ve[Ot.getType()]=Ot)}),ft(ve)}).catch(function(){ft(ve)})});var Be}).then(function(Be){if($=!1,A.length===0){var ft="No streams to play.";fe.error(new le.Z(ie.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ft,I.getValue())),b.fatal(ft)}else en();gt&&Re.createTracks(ke),Wt(Be)}).catch(function(Be){Kt(Be)})})}function ot(gt,zt){var Wt,Kt=N.getAllMediaInfoForType(ke,gt),rn=[],Qe=null;if(!Kt||Kt.length===0)return b.info("No "+gt+" data."),Promise.resolve();gt===c.Z.VIDEO&&(k=!0),gt===c.Z.AUDIO&&(H=!0);for(var Be=0,ft=Kt.length;Be<ft;Be++)Qe=Kt[Be],gt===c.Z.TEXT&&Qe.isEmbedded&&(Re.addEmbeddedTrack(ke,Qe),rn.push(Qe)),st(Qe)&&be.addTrack(Qe);if(rn.length>0&&(be.setInitialMediaSettingsForType(gt,ke),Re.addMediaInfosToBuffer(ke,gt,rn)),Kt=Kt.filter(function(Ce){return!Ce.isEmbedded}),Kt.length===0)return Promise.resolve();if(gt===c.Z.IMAGE)return(Y=Up(de).create({streamInfo:ke,adapter:N,baseURLController:_.baseURLController,timelineConverter:_.timelineConverter,debug:pe,eventBus:X,events:m.Z,dashConstants:d.Z,dashMetrics:_.dashMetrics,segmentBaseController:_.segmentBaseController})).initialize(),Promise.resolve();X.trigger(m.Z.STREAM_INITIALIZING,{streamInfo:ke,mediaInfo:Qe}),be.setInitialMediaSettingsForType(gt,ke);var ve=function(Ce,tt){var Ot=Ce&&Ce.length>0?Ce[0]:null,Zt=F.getModel(Ot?Ot.type:null),On=Ot?Ot.type:null,Dr=Ot?Ot.mimeType:null,ii=Ot?Ot.isFragmented:null,Tr=ut(de).create({streamInfo:ke,type:On,mimeType:Dr,timelineConverter:ue,adapter:N,manifestModel:I,mediaPlayerModel:Z,fragmentModel:Zt,dashMetrics:_.dashMetrics,baseURLController:_.baseURLController,segmentBaseController:_.segmentBaseController,abrController:oe,playbackController:z,mediaController:be,textController:Re,errHandler:fe,settings:ct,boxParser:ce,segmentBlacklistController:G});Tr.initialize(tt,k,ii),A.push(Tr);for(var zi=0;zi<Ce.length;zi++)Tr.addMediaInfo(Ce[zi]);return On===c.Z.TEXT&&Re.addMediaInfosToBuffer(ke,On,Ce,Zt),Tr}(Kt,zt);return(Wt=be.getCurrentTrackFor(gt,ke.id))?(oe.updateTopQualityIndex(Wt),ve.selectMediaInfo(gt===c.Z.TEXT&&Wt.isEmbedded?Kt[0]:Wt)):Promise.resolve()}function st(gt){var zt,Wt=gt?gt.type:null;return Wt===c.Z.MUXED?(zt="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",b.fatal(zt),fe.error(new le.Z(ie.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,zt,I.getValue())),!1):!(Wt!==c.Z.TEXT&&Wt!==c.Z.IMAGE&&gt.contentProtection&&!te.supportsEncryptedMedia()&&(fe.error(new le.Z(ie.CAPABILITY_MEDIAKEYS_ERROR_CODE,ie.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Yt(gt){for(var zt=A?A.length:0,Wt=0;Wt<zt;Wt++){var Kt=A[Wt].getFragmentModel();Kt.abortRequests(),Kt.resetInitialSettings(),A[Wt].reset(!1,gt)}Re&&Re.deactivateStream(ke),A=[],O=!1,D=!1,cn(!1),Ge(!1),X.trigger(m.Z.STREAM_DEACTIVATED,{streamInfo:ke})}function Ae(gt){Yt(gt),P=!1,k=!1,H=!1,K={},$=!1,ye=!1,W=[]}function Ge(gt){ye=gt}function _t(){return ke?ke.start:NaN}function Xe(){return ke?ke.id:null}function St(){return ke}function wt(){if(!Ve||!oe)throw new Error(c.Z.MISSING_CONFIG_ERROR)}function mt(gt){gt.error&&(fe.error(gt.error),b.fatal(gt.error.message))}function tn(){if(ae){var gt=N.getEventsFor(ke);gt&&gt.length>0&&ae.addInlineEvents(gt,ke.id)}}function en(){for(var gt=A.length,zt=K.audio||K.video?new le.Z(ie.DATA_UPDATE_FAILED_ERROR_CODE,ie.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Wt=0;Wt<gt;Wt++)if(A[Wt].isUpdating()||$)return;if(Ue){Ue.clearMediaInfoArray();for(var Kt=0;Kt<gt&&A[Kt];Kt++){var rn=A[Kt].getType(),Qe=A[Kt].getMediaInfo();if(rn===c.Z.AUDIO||rn===c.Z.VIDEO||rn===c.Z.TEXT&&Qe.isFragmented){var Be=A[Kt].getMediaInfo();Be&&Ue.initializeForMedia(Be)}}Ue.handleKeySystemFromManifest()}zt?fe.error(zt):P||(P=!0,Ve.waitForReadyState(c.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){X.trigger(m.Z.STREAM_INITIALIZED,{streamInfo:ke})}))}function xn(){var gt=Rt(),zt=gt.length;if(zt!==0){for(var Wt=0;Wt<zt;Wt++)if(!gt[Wt].isBufferingCompleted()&&(gt[Wt].getType()===c.Z.AUDIO||gt[Wt].getType()===c.Z.VIDEO))return void b.debug("onBufferingCompleted - One streamProcessor has finished but",gt[Wt].getType(),"one is not buffering completed");b.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),D=!0,X.trigger(m.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:ke},{streamInfo:ke})}else b.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Nn(gt){K[gt.mediaType]=gt.error,en()}function Ke(gt){ae&&ae.addInbandEvents(gt.events,ke.id)}function bt(gt){return gt&&gt.type?lt(gt.type):null}function lt(gt){return gt?Rt().filter(function(zt){return zt.getType()===gt})[0]:null}function Rt(){for(var gt,zt,Wt=[],Kt=0;Kt<A.length;Kt++)(gt=(zt=A[Kt]).getType())!==c.Z.AUDIO&&gt!==c.Z.VIDEO&&gt!==c.Z.TEXT||Wt.push(zt);return Wt}function Vt(gt,zt){var Wt=St(),Kt=zt.getStreamInfo();if(!Kt||!Wt)return!0;var rn=N.getAdaptationForType(Kt.index,gt,Kt),Qe=N.getAdaptationForType(Wt.index,gt,Wt);return rn&&Qe?!(!sn(Qe)&&sn(rn)):!rn&&!Qe}function sn(gt){return!!gt&&!!(gt.ContentProtection||gt.Representation_asArray&&gt.Representation_asArray.length>0&&gt.Representation_asArray[0].ContentProtection)}function nn(gt,zt){var Wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!gt||!gt.hasOwnProperty("getStreamInfo"))return!1;var Kt=gt.getStreamInfo(),rn=Wt?Wt.getStreamInfo():St();if(!Kt||!rn)return!1;var Qe=N.getAdaptationForType(Kt.index,zt,Kt),Be=N.getAdaptationForType(rn.index,zt,rn);if(!Qe||!Be)return!Qe&&!Be;var ft=Qe&&Be&&Qe.mimeType===Be.mimeType,ve=Be.Representation_asArray.map(function(Zt){return Zt.codecs}),Ce=Qe.Representation_asArray.map(function(Zt){return Zt.codecs}),tt=Ce.some(function(Zt){return ve.indexOf(Zt)>-1}),Ot=Ce.some(function(Zt){return ve.some(function(On){return te.codecRootCompatibleWithCodec(On,Zt)})});return tt||Ot&&ft}function cn(gt){_e=gt}function yn(){return _e}return g={initialize:function(){X.on(m.Z.BUFFERING_COMPLETED,xn,g),X.on(m.Z.DATA_UPDATE_COMPLETED,Nn,g),X.on(m.Z.INBAND_EVENTS,Ke,g),Ue&&(X.on(m.Z.KEY_ERROR,mt,g),X.on(m.Z.SERVER_CERTIFICATE_UPDATED,mt,g),X.on(m.Z.LICENSE_REQUEST_COMPLETE,mt,g),X.on(m.Z.KEY_SYSTEM_SELECTED,mt,g),X.on(m.Z.KEY_SESSION_CREATED,mt,g),X.on(m.Z.KEY_STATUSES_CHANGED,mt,g)),Re.initializeForStream(ke),X.trigger(m.Z.STREAM_UPDATED,{streamInfo:ke})},getStreamId:function(){return ke?ke.id:null},activate:function(gt,zt){return new Promise(function(Wt,Kt){if(!O)return yn()?(O=!0,X.trigger(m.Z.STREAM_ACTIVATED,{streamInfo:ke}),void Wt(zt)):void function(rn,Qe){return dt(rn,Qe)}(gt,zt).then(function(rn){O=!0,X.trigger(m.Z.STREAM_ACTIVATED,{streamInfo:ke}),Wt(rn)}).catch(function(rn){Kt(rn)});Wt(zt)})},deactivate:Yt,getIsActive:function(){return O},getDuration:function(){return ke?ke.duration:NaN},getStartTime:_t,getId:Xe,getStreamInfo:St,getHasAudioTrack:function(){return H},getHasVideoTrack:function(){return k},startPreloading:function(gt,zt){return new Promise(function(Wt,Kt){yn()?Kt():(b.info("[startPreloading] Preloading next stream with id ".concat(Xe())),cn(!0),dt(gt,zt).then(function(){for(var rn=0;rn<A.length&&A[rn];rn++)A[rn].setExplicitBufferingTime(_t()),A[rn].getScheduleController().startScheduleTimer();Wt()}).catch(function(){cn(!1),Kt()}))})},initializeForTextWithMediaSource:function(gt){return new Promise(function(zt,Wt){ot(c.Z.TEXT,gt).then(function(){return(Kt=lt(c.Z.TEXT))?Kt.createBufferSinks():Promise.resolve();var Kt}).then(function(){Re.createTracks(ke),zt()}).catch(function(Kt){Wt(Kt)})})},getThumbnailController:function(){return Y},getBitrateListFor:function(gt){if(wt(),gt===c.Z.IMAGE)return Y?Y.getBitrateList():[];var zt=function(Wt){for(var Kt=null,rn=0;rn<A.length;rn++)if((Kt=A[rn]).getType()===Wt)return Kt.getMediaInfo();return null}(gt);return oe.getBitrateList(zt)},updateData:function(gt){return new Promise(function(zt){$=!0,ke=gt,ae&&tn();for(var Wt=[],Kt=0,rn=A.length;Kt<rn;Kt++){var Qe=A[Kt],Be=Qe.getMediaInfo();Wt.push(Qe.updateStreamInfo(ke));var ft=N.getAllMediaInfoForType(ke,Qe.getType());if(ft=ft.filter(function(tt){return!tt.isEmbedded})){Qe.clearMediaInfoArray();for(var ve=0;ve<ft.length;ve++){var Ce=ft[ve];Qe.addMediaInfo(ft[ve]),N.areMediaInfosEqual(Be,Ce)&&(oe.updateTopQualityIndex(Ce),Wt.push(Qe.selectMediaInfo(Ce)))}}}Promise.all(Wt).then(function(){for(Wt=[];W.length>0;){var tt=W.pop(),Ot=tt.newMediaInfo,Zt=bt(tt.oldMediaInfo);if(!Zt)return;Wt.push(Zt.prepareTrackSwitch()),Wt.push(Zt.selectMediaInfo(Ot))}return Promise.all(Wt)}).then(function(){$=!1,en(),X.trigger(m.Z.STREAM_UPDATED,{streamInfo:ke}),zt()})})},reset:function(gt){F&&(F.reset(),F=null),oe&&ke&&oe.clearDataForStream(ke.id),G&&(G.reset(),G=null),Ae(gt),ke=null,X.off(m.Z.DATA_UPDATE_COMPLETED,Nn,g),X.off(m.Z.BUFFERING_COMPLETED,xn,g),X.off(m.Z.INBAND_EVENTS,Ke,g),Ue&&(X.off(m.Z.KEY_ERROR,mt,g),X.off(m.Z.SERVER_CERTIFICATE_UPDATED,mt,g),X.off(m.Z.LICENSE_REQUEST_COMPLETE,mt,g),X.off(m.Z.KEY_SYSTEM_SELECTED,mt,g),X.off(m.Z.KEY_SESSION_CREATED,mt,g),X.off(m.Z.KEY_STATUSES_CHANGED,mt,g))},getProcessors:Rt,setMediaSource:function(gt){return new Promise(function(zt,Wt){for(var Kt=[],rn=0;rn<A.length;)st(A[rn].getMediaInfo())?(Kt.push(A[rn].setMediaSource(gt)),rn++):(A[rn].reset(),A.splice(rn,1));Promise.all(Kt).then(function(){for(var Qe=0;Qe<A.length;Qe++)A[Qe].dischargePreBuffer();if(A.length===0){var Be="No streams to play.";fe.error(new le.Z(ie.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Be+"nostreams",I.getValue())),b.fatal(Be)}zt()}).catch(function(Qe){b.error(Qe),Wt(Qe)})})},isMediaCodecCompatible:function(gt){var zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return nn(gt,c.Z.VIDEO,zt)&&nn(gt,c.Z.AUDIO,zt)},isProtectionCompatible:function(gt){return!gt||Vt(c.Z.VIDEO,gt)&&Vt(c.Z.AUDIO,gt)},getPreloaded:yn,getIsEndedEventSignaled:function(){return ye},setIsEndedEventSignaled:Ge,getAdapter:function(){return N},getHasFinishedBuffering:function(){return D},setPreloaded:cn,startScheduleControllers:function(){for(var gt=A.length,zt=0;zt<gt&&A[zt];zt++)A[zt].getScheduleController().startScheduleTimer()},prepareTrackChange:function(gt){if(O&&ke){D=!1;var zt=gt.newMediaInfo,Wt=I.getValue();N.setCurrentMediaInfo(ke.id,zt.type,zt);var Kt=bt(zt);if(Kt){var rn=z.getTime();b.info("Stream -  Process track changed at current time "+rn),Wt.refreshManifestOnSwitchTrack?(W.push(gt),U.getIsUpdating()||(b.debug("Stream -  Refreshing manifest for switch track"),U.refreshManifest())):Kt.selectMediaInfo(zt).then(function(){zt.type!==c.Z.VIDEO&&zt.type!==c.Z.AUDIO||oe.updateTopQualityIndex(zt),Kt.prepareTrackSwitch()})}}},prepareQualityChange:function(gt){var zt=lt(gt.mediaType);zt&&zt.prepareQualityChange(gt)}},function(){try{pe=(0,S.Z)(de).getInstance(),b=pe.getLogger(g),Ae(),ce=(0,Xc.Z)(de).getInstance(),G=Ol(de).create({updateEventName:m.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),F=Lp(de).create({streamInfo:ke,mediaPlayerModel:Z,dashMetrics:L,errHandler:fe,settings:ct,boxParser:ce,dashConstants:d.Z,urlUtils:ge})}catch(gt){throw gt}}(),g}Pr.__dashjs_factory_name="Stream";var ka=C.Z.getClassFactory(Pr),Pl=function _(g){(function(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=g||null,this.type=xe.w.CONTENT_STEERING_TYPE,this.responseType="json"},Fa=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function zd(){var _,g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce=this.context,pe=(0,rt.Z)(ce).getInstance();function ye(oe){I(oe,"baseUrl")}function W(oe){I(oe,"location")}function de(oe){if(oe&&oe.request&&oe.request.serviceLocation&&oe.request.requestStartDate&&oe.request.requestEndDate&&!isNaN(oe.request.bytesTotal)){var z=oe.request.serviceLocation,ae=oe.request.requestEndDate.getTime()-oe.request.requestStartDate.getTime();ge(z,parseInt(8*oe.request.bytesTotal/ae*1e3))}}function X(oe){oe&&oe.httpRequest&&oe.httpRequest._serviceLocation&&!isNaN(oe.throughput)&&ge(oe.httpRequest._serviceLocation,1e3*oe.throughput)}function ge(oe,z){P[oe]||(P[oe]=[]),P[oe].push(z),P[oe].length>4&&P[oe].shift()}function I(oe,z){if(oe&&oe.request&&oe.request.serviceLocation){var ae=oe.request.serviceLocation;A[z].all.indexOf(ae)===-1&&A[z].all.push(ae),A[z].current=ae}}function Z(){var oe=$.getValue(),z=_e.getContentSteering(oe);return z||(z=Y.getServiceDescriptionSettings().contentSteering),z}function L(){return new Promise(function(oe){try{var z=Z();if(!z||!z.serverUrl)return void oe();var ae=function(Ue){var Re=Ue.serverUrl;b&&b.reloadUri&&(Re=pe.isRelative(b.reloadUri)?pe.resolve(b.reloadUri,Ue.serverUrl):b.reloadUri);var Ve=[],ke=A.baseUrl.all.concat(A.location.all);if(ke.length>0){var ct=ke.map(function(st){var Yt=function(Ae){if(!Ae||!P[Ae]||P[Ae].length===0)return-1;var Ge=P[Ae].reduce(function(_t,Xe){return _t+Xe})/P[Ae].length;return parseInt(Ge)}(st);return{serviceLocation:st,throughput:Yt}});ct.sort(function(st,Yt){return Yt.throughput-st.throughput});var dt="",ot="";ct.forEach(function(st,Yt){Yt!==0&&(dt="".concat(dt,","),st.throughput>-1&&(ot="".concat(ot,","))),dt="".concat(dt).concat(st.serviceLocation),st.throughput>-1&&(ot="".concat(ot).concat(st.throughput))}),Ve.push({key:"_DASH_pathway",value:'"'.concat(dt,'"')}),Ve.push({key:"_DASH_throughput",value:ot})}return Re=Dt.Z.addAditionalQueryParameterToUrl(Re,Ve)}(z),be=new Pl(ae);D.load({request:be,success:function(Ue){(function(Re){Re&&Re[d.Z.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(Re[d.Z.CONTENT_STEERING_RESPONSE.VERSION])===1&&((b=new Fa).version=Re[d.Z.CONTENT_STEERING_RESPONSE.VERSION],Re[d.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Re[d.Z.CONTENT_STEERING_RESPONSE.TTL])&&(b.ttl=Re[d.Z.CONTENT_STEERING_RESPONSE.TTL]),Re[d.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(b.reloadUri=Re[d.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Re[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(b.pathwayPriority=Re[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Re[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(b.pathwayClones=Re[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],b.pathwayClones=b.pathwayClones.filter(function(Ve){return function(ke){return ke[d.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&ke[d.Z.CONTENT_STEERING_RESPONSE.ID]&&ke[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&ke[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.HOST]}(Ve)})),ue())})(Ue),G.trigger(h.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:b,url:ae}),oe()},error:function(Ue,Re,Ve,ke){(function(ct,dt){try{switch(g.warn("Error fetching data from content steering server",ct),dt.status){case 410:break;case 429:var ot=dt&&dt.getResponseHeader?dt.getResponseHeader("retry-after"):null;ot!==null&&(b||(b={}),b.ttl=parseInt(ot)),ue();break;default:ue()}}catch(st){g.error(st)}})(Ue,ke),oe(Ue)},complete:function(){A.baseUrl.all=U(A.baseUrl),A.location.all=U(A.location)}})}catch(Ue){oe(Ue)}})}function U(oe){return oe.all&&oe.all.length!==0&&oe.current?oe.all.filter(function(z){return z===oe.current}):[]}function N(oe){try{var z=[];return oe&&oe.length!==0&&b&&b.pathwayClones&&b.pathwayClones.length!==0&&b.pathwayClones.forEach(function(ae){var be=oe.filter(function(ct){return ae[d.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===ct.serviceLocation}),Ue=null;if(be&&be.length>0&&(Ue=be[0]),Ue){var Re=new URL(Ue.url),Ve=ae[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.HOST];Ve=Dt.Z.stringHasProtocol(Ve)?Ve:"".concat(Re.protocol,"//").concat(Ve);var ke={synthesizedUrl:"".concat(Ve).concat(Re.pathname),serviceLocation:ae[d.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:ae[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Ue};z.push(ke)}}),z}catch(ae){return g.error(ae),[]}}function ue(){b&&b.ttl&&!isNaN(b.ttl)&&(O&&clearTimeout(O),O=setTimeout(function(){L()},1e3*b.ttl))}function te(){O&&clearTimeout(O),O=null}function fe(){b=null,P={},A={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},te()}return _={reset:function(){fe(),G.off(h.Z.FRAGMENT_LOADING_STARTED,ye,_),G.off(h.Z.MANIFEST_LOADING_STARTED,W,_),G.off(h.Z.MANIFEST_LOADING_FINISHED,de,_),G.off(h.Z.THROUGHPUT_MEASUREMENT_STORED,X,_)},setConfig:function(oe){oe&&(oe.adapter&&(_e=oe.adapter),oe.errHandler&&(k=oe.errHandler),oe.dashMetrics&&(H=oe.dashMetrics),oe.mediaPlayerModel&&(K=oe.mediaPlayerModel),oe.requestModifier&&(F=oe.requestModifier),oe.manifestModel&&($=oe.manifestModel),oe.serviceDescriptionController&&(Y=oe.serviceDescriptionController),oe.eventBus&&(G=oe.eventBus))},loadSteeringData:L,getCurrentSteeringResponseData:function(){return b},shouldQueryBeforeStart:function(){var oe=Z();return!!oe&&oe.queryBeforeStart},getSteeringDataFromManifest:Z,stopSteeringRequestTimer:te,getSynthesizedBaseUrlElements:function(oe){try{return N(oe).map(function(z){var ae=new Co(z.synthesizedUrl,z.serviceLocation);return ae.queryParams=z.queryParams,ae.dvbPriority=z.reference.dvbPriority,ae.dvbWeight=z.reference.dvbWeight,ae.availabilityTimeOffset=z.reference.availabilityTimeOffset,ae.availabilityTimeComplete=z.reference.availabilityTimeComplete,ae})}catch(z){return g.error(z),[]}},getSynthesizedLocationElements:function(oe){try{return N(oe).map(function(z){var ae=new hn(z.synthesizedUrl,z.serviceLocation);return ae.queryParams=z.queryParams,ae})}catch(z){return g.error(z),[]}},initialize:function(){D=Pi(ce).create({errHandler:k,dashMetrics:H,mediaPlayerModel:K,requestModifier:F,errors:ie}),G.on(h.Z.FRAGMENT_LOADING_STARTED,ye,_),G.on(h.Z.MANIFEST_LOADING_STARTED,W,_),G.on(h.Z.MANIFEST_LOADING_FINISHED,de,_),G.on(h.Z.THROUGHPUT_MEASUREMENT_STORED,X,_)}},g=(0,S.Z)(ce).getInstance().getLogger(_),fe(),_}zd.__dashjs_factory_name="ContentSteeringController";var Ao=C.Z.getSingletonFactory(zd);function Gd(){var _,g,b,A=this.context,P=(0,Se.Z)(A).getInstance();return _={select:function(O){if(!O||O.length===0)return null;var D=null;return P.get().streaming.applyContentSteering&&(D=function(k){var H=b.getCurrentSteeringResponseData();return H&&H.pathwayPriority&&H.pathwayPriority.length>0?function(){for(var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=0,Y=null,G=function(){var _e=K[F],ce=$.findIndex(function(pe){return pe.serviceLocation&&pe.serviceLocation===_e});if(ce!==-1&&!g.contains($[ce].serviceLocation))return Y=$[ce],"break";F+=1};F<K.length&&G()!=="break";);return Y}(H.pathwayPriority,k):null}(O)),D||(D=function(k){return k[0]}(O)),D},setConfig:function(O){O.blacklistController&&(g=O.blacklistController),O.contentSteeringController&&(b=O.contentSteeringController)},reset:function(){g.reset()}},g=Ol(A).create({updateEventName:m.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),b=Ao(A).getInstance(),_}Gd.__dashjs_factory_name="LocationSelector";var Ks=C.Z.getClassFactory(Gd);function qd(){var _,g,b,A,P,O,D,k,H,K,$,F,Y,G,_e=this.context,ce=(0,E.Z)(_e).getInstance(),pe=(0,rt.Z)(_e).getInstance();function ye(){b=NaN,D=!1,P=!0,O=!1,W()}function W(){A!==null&&(clearTimeout(A),A=null)}function de(te){W(),O||(isNaN(te)&&!isNaN(b)&&(te=1e3*b),isNaN(te)||(g.debug("Refresh manifest in "+te+" milliseconds."),A=setTimeout(Z,te)))}function X(){var te=arguments.length>0&&arguments[0]!==void 0&&arguments[0];D=!0;var fe=H.getValue(),oe=fe.url,z=null,ae=$.getPatchLocation(fe),be=K.select(ae),Ue=null;if(be&&!te)oe=be.url,z=be.serviceLocation,Ue=be.queryParams;else{var Re=ge(fe),Ve=K.select(Re);Ve&&(oe=Ve.url,z=Ve.serviceLocation,Ue=Ve.queryParams)}pe.isRelative(oe)&&(oe=pe.resolve(oe,fe.url)),k.load(oe,z,Ue)}function ge(te){var fe=$.getLocation(te),oe=Y.getSynthesizedLocationElements(fe);return fe.concat(oe)}function I(te){if(te){if($.getIsPatch(te)){var fe=te;te=H.getValue();var oe=$.isPatchValid(te,fe),z=oe;if(oe){var ae=$.getPublishTime(te);z=$.applyPatchToManifest(te,fe);var be=$.getPublishTime(te);z=ae.getTime()!=be.getTime()}if(!z)return g.debug("Patch provided is invalid, performing full manifest refresh"),void X(!0);te.loadedTime=new Date}}else(te=H.getValue()).loadedTime=new Date;if(H.getValue()&&H.getValue().type===d.Z.DYNAMIC&&te.type===d.Z.STATIC)return ce.trigger(m.Z.DYNAMIC_TO_STATIC),D=!1,void(O=!0);H.setValue(te);var Ue=new Date,Re=(Ue.getTime()-te.loadedTime.getTime())/1e3;1e3*(b=$.getManifestUpdatePeriod(te,Re))>2147483647&&(b=2147483647e-3),ce.trigger(m.Z.MANIFEST_UPDATED,{manifest:te}),g.info("Manifest has been refreshed at "+Ue+"["+Ue.getTime()/1e3+"] "),P||de()}function Z(){P||(D?de(G.get().streaming.manifestUpdateRetryInterval):X())}function L(te){te.error?te.error.code===ie.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&F.error(te.error):I(te.manifest)}function U(){P=!1,de()}function N(){(P=!G.get().streaming.scheduling.scheduleWhilePaused)&&W()}function ue(){D=!1}return _={initialize:function(){ye(),ce.on(m.Z.STREAMS_COMPOSED,ue,this),ce.on(h.Z.PLAYBACK_STARTED,U,this),ce.on(h.Z.PLAYBACK_PAUSED,N,this),ce.on(m.Z.INTERNAL_MANIFEST_LOADED,L,this)},setManifest:function(te){I(te)},refreshManifest:X,getIsUpdating:function(){return D},setConfig:function(te){te&&(te.manifestModel&&(H=te.manifestModel),te.adapter&&($=te.adapter),te.manifestLoader&&(k=te.manifestLoader),te.errHandler&&(F=te.errHandler),te.locationSelector&&(K=te.locationSelector),te.settings&&(G=te.settings),te.contentSteeringController&&(Y=te.contentSteeringController))},reset:function(){ce.off(h.Z.PLAYBACK_STARTED,U,this),ce.off(h.Z.PLAYBACK_PAUSED,N,this),ce.off(m.Z.STREAMS_COMPOSED,ue,this),ce.off(m.Z.INTERNAL_MANIFEST_LOADED,L,this),ye()}},g=(0,S.Z)(_e).getInstance().getLogger(_),K=Ks(_e).create(),_}qd.__dashjs_factory_name="ManifestUpdater";var x0=C.Z.getClassFactory(qd);function Vp(){var _,g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe=this.context,ye=(0,E.Z)(pe).getInstance(),W=(0,rt.Z)(pe).getInstance();function de(){k=[],H=[],K=null,$=null,Y=null,F=NaN,b=!1,A=!1,G=P.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function X(){P.get().streaming.utcSynchronization.enabled&&!b&&!A&&Y&&Y.value&&Y.schemeIdUri&&!isNaN(F)&&!isNaN(P.get().streaming.utcSynchronization.backgroundAttempts)&&($&&(Date.now()-$)/1e3<30||(k=[],A=!0,ge(isNaN(P.get().streaming.utcSynchronization.backgroundAttempts)?2:P.get().streaming.utcSynchronization.backgroundAttempts)))}function ge(Ve){try{if(Ve<=0)return void Ue();var ke=Date.now();O[Y.schemeIdUri](Y.value,function(ct){var dt=Date.now(),ot=Z(ke,dt,ct);k.push(ot),ge(Ve-1)},function(){Ue()})}catch{Ue()}}function I(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ke=Ve||0;if(!H||H.length===0||ke>=H.length)L();else{var ct=H[ke];if(ct)if(O.hasOwnProperty(ct.schemeIdUri)){var dt=new Date().getTime();O[ct.schemeIdUri](ct.value,function(ot){var st=new Date().getTime(),Yt=Z(dt,st,ot);Y=ct,L(Yt)},function(){I(ke+1)})}else I(ke+1);else L()}}function Z(Ve,ke,ct){return ct-(ke-(ke-Ve)/2)}function L(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,ke=isNaN(Ve);ke&&P.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?ae():be(ke,Ve)}function U(Ve){var ke=Date.parse(Ve);return isNaN(ke)&&(ke=function(ct){var dt,ot,st=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(ct);return dt=Date.UTC(parseInt(st[1],10),parseInt(st[2],10)-1,parseInt(st[3],10),parseInt(st[4],10),parseInt(st[5],10),st[6]&&(parseInt(st[6],10)||0),st[7]&&1e3*parseFloat(st[7])||0),st[9]&&st[10]&&(ot=60*parseInt(st[9],10)+parseInt(st[10],10),dt+=(st[8]==="+"?-1:1)*ot*60*1e3),new Date(dt).getTime()}(Ve)),ke}function N(Ve){return Date.parse(Ve)}function ue(Ve){return Date.parse(Ve)}function te(Ve,ke,ct){ct()}function fe(Ve,ke,ct){var dt=U(Ve);isNaN(dt)?ct():ke(dt)}function oe(Ve,ke,ct,dt,ot){var st,Yt,Ae=!1,Ge=new XMLHttpRequest,_t=ot?xe.w.HEAD:xe.w.GET,Xe=ke.match(/\S+/g);if(ke=Xe.shift(),st=function(){Ae||(Ae=!0,Xe.length?oe(Ve,Xe.join(" "),ct,dt,ot):dt())},Yt=function(){var wt,mt;Ge.status===200&&(wt=ot?Ge.getResponseHeader("Date"):Ge.response,mt=Ve(wt),isNaN(mt)||(ct(mt),Ae=!0))},W.isRelative(ke)){var St=ce.resolve();St&&(ke=W.resolve(ke,St.url))}Ge.open(_t,ke),Ge.timeout=5e3,Ge.onload=Yt,Ge.onloadend=st,Ge.send()}function z(Ve,ke,ct){oe(ue,Ve,ke,ct,!0)}function ae(){var Ve=D.getLatestMPDRequestHeaderValueByID("Date"),ke=Ve!==null?new Date(Ve).getTime():Number.NaN;isNaN(ke)?be(!0):be(!1,ke-Date.now())}function be(Ve,ke){if(isNaN(F)||isNaN(ke)||Ve||function(dt){try{var ot,st=Re(dt),Yt=isNaN(G)?30:G,Ae=isNaN(P.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:P.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Ge=isNaN(P.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:P.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,_t=isNaN(P.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:P.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;st?(ot=Math.min(Yt*Ae,Ge),g.debug("Increasing timeBetweenSyncAttempts to ".concat(ot))):(ot=Math.max(Yt/Ae,_t),g.debug("Decreasing timeBetweenSyncAttempts to ".concat(ot))),G=ot}catch{}}(ke),!Ve&&!isNaN(ke)){K=Date.now(),b=!1;var ct=isNaN(F);F=ke,ct&&X(),g.debug("Completed UTC sync. Setting client - server offset to ".concat(ke))}Ve&&(Y=null,b=!1,_e.error(new le.Z(ie.TIME_SYNC_FAILED_ERROR_CODE,ie.TIME_SYNC_FAILED_ERROR_MESSAGE))),ye.trigger(m.Z.UPDATE_TIME_SYNC_OFFSET,{offset:ke}),ye.trigger(m.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Ue(){if(k&&k.length!==0){var Ve=k.reduce(function(ke,ct){return ke+ct},0)/k.length;Re(Ve)?g.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(g.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ve)),F=Ve,ye.trigger(m.Z.UPDATE_TIME_SYNC_OFFSET,{offset:F})),A=!1,$=Date.now()}}function Re(Ve){try{if(isNaN(F))return!0;var ke=P.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(P.get().streaming.utcSynchronization.maximumAllowedDrift)?P.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ve>=F-ke&&Ve<=F+ke}catch{return!0}}return _={initialize:function(){de(),O={"urn:mpeg:dash:utc:http-head:2014":z,"urn:mpeg:dash:utc:http-xsdate:2014":oe.bind(null,U),"urn:mpeg:dash:utc:http-iso:2014":oe.bind(null,N),"urn:mpeg:dash:utc:direct:2014":fe,"urn:mpeg:dash:utc:http-head:2012":z,"urn:mpeg:dash:utc:http-xsdate:2012":oe.bind(null,U),"urn:mpeg:dash:utc:http-iso:2012":oe.bind(null,N),"urn:mpeg:dash:utc:direct:2012":fe,"urn:mpeg:dash:utc:http-ntp:2014":te,"urn:mpeg:dash:utc:ntp:2014":te,"urn:mpeg:dash:utc:sntp:2014":te}},attemptSync:function(Ve,ke){H=Ve,b||(function(ct){try{if(!ct||!P.get().streaming.utcSynchronization.enabled)return!1;var dt=isNaN(G)?30:G;return!(K&&dt&&!isNaN(dt))||(Date.now()-K)/1e3>=dt}catch{return!0}}(ke)?(b=!0,I()):ye.trigger(m.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Ve){Ve&&(Ve.dashMetrics&&(D=Ve.dashMetrics),Ve.baseURLController&&(ce=Ve.baseURLController),Ve.errHandler&&(_e=Ve.errHandler),Ve.settings&&(P=Ve.settings))},reset:function(){de(),ye.off(m.Z.ATTEMPT_BACKGROUND_SYNC,X,_)}},g=(0,S.Z)(pe).getInstance().getLogger(_),ye.on(m.Z.ATTEMPT_BACKGROUND_SYNC,X,_),_}Vp.__dashjs_factory_name="TimeSyncController";var Zp=C.Z.getSingletonFactory(Vp);Zp.HTTP_TIMEOUT_MS=5e3,C.Z.updateSingletonFactory(Vp.__dashjs_factory_name,Zp);var xM=Zp;function M0(){var _,g,b,A,P,O=this.context,D=(0,E.Z)(O).getInstance();return _={attachMediaSource:function(k){var H=window.URL.createObjectURL(g);return k.setSource(H),A==="managedMediaSource"&&(k.setDisableRemotePlayback(!0),g.addEventListener("startstreaming",function(){D.trigger(h.Z.MANAGED_MEDIA_SOURCE_START_STREAMING)}),g.addEventListener("endstreaming",function(){D.trigger(h.Z.MANAGED_MEDIA_SOURCE_END_STREAMING)})),H},createMediaSource:function(){var k="WebKitMediaSource"in window,H="MediaSource"in window;return"ManagedMediaSource"in window?(g=new ManagedMediaSource,A="managedMediaSource",P.info("Created ManagedMediaSource")):H?(g=new MediaSource,A="mediaSource",P.info("Created MediaSource")):k&&(g=new WebKitMediaSource,P.info("Created WebkitMediaSource")),g},detachMediaSource:function(k){k.setSource(null)},setConfig:function(k){k&&k.settings&&(b=k.settings)},setDuration:function k(H){g&&g.readyState==="open"&&(H===null&&isNaN(H)||g.duration!==H&&(H!==1/0||b.get().streaming.buffer.mediaSourceDurationInfinity||(H=Math.pow(2,32)),function(K){for(var $=K.sourceBuffers,F=0;F<$.length;F++)if($[F].updating)return!0;return!1}(g)?setTimeout(k.bind(null,H),50):(P.info("Set MediaSource duration:"+H),g.duration=H)))},setSeekable:function(k,H){g&&typeof g.setLiveSeekableRange=="function"&&typeof g.clearLiveSeekableRange=="function"&&g.readyState==="open"&&k>=0&&k<H&&(g.clearLiveSeekableRange(),g.setLiveSeekableRange(k,H))},signalEndOfStream:function(k){if(k&&k.readyState==="open"){for(var H=k.sourceBuffers,K=0;K<H.length;K++)if(H[K].updating||H[K].buffered.length===0)return;P.info("call to mediaSource endOfStream"),k.endOfStream()}}},P=(0,S.Z)(O).getInstance().getLogger(_),_}M0.__dashjs_factory_name="MediaSourceController";var MM=C.Z.getSingletonFactory(M0);function R0(){var _,g,b,A,P,O,D,k,H,K,$,F="urn:mpeg:dash:event:2012",Y="discarded",G="updated",_e="added",ce=this.context,pe=(0,E.Z)(ce).getInstance();function ye(){if(!D||!k)throw new Error("setConfig function has to be called previously")}function W(){$=!1,b={},A={},P=null,K=!1,O=Date.now()/1e3}function de(){try{if(!K){K=!0;var te=k.getTime(),fe=te-O;fe=O>0?Math.max(0,fe):0,X(A,fe,te),X(b,fe,te),ge(A),ge(b),O=te,K=!1}}catch(oe){K=!1,g.error(oe)}}function X(te,fe,oe){try{U(te,function(z){if(z!==void 0){var ae=isNaN(z.duration)?0:z.duration;z.calculatedPresentationTime<=oe&&z.calculatedPresentationTime+fe+ae>=oe?ue(z,h.Z.EVENT_MODE_ON_START):(N(oe,ae+fe,z.calculatedPresentationTime)||function(be){try{var Ue=be.eventStream.period.start+be.eventStream.period.duration;return be.calculatedPresentationTime>Ue}catch(Re){return g.error(Re),!1}}(z))&&(g.debug("Removing event ".concat(z.id," from period ").concat(z.eventStream.period.id," as it is expired or invalid")),function(be,Ue){try{var Re=Ue.eventStream.schemeIdUri,Ve=Ue.eventStream.period.id,ke=Ue.eventStream.value,ct=Ue.id;be[Ve][Re]=be[Ve][Re].filter(function(dt){return ke&&dt.eventStream.value&&dt.eventStream.value!==ke||dt.id!==ct}),be[Ve][Re].length===0&&delete be[Ve][Re]}catch(dt){g.error(dt)}}(te,z))}})}catch(z){g.error(z)}}function ge(te){try{for(var fe in te)te.hasOwnProperty(fe)&&Object.keys(te[fe]).length===0&&delete te[fe]}catch(oe){g.error(oe)}}function I(te,fe){var oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],z=te.eventStream.schemeIdUri,ae=te.eventStream.value,be=te.id,Ue=Y;fe[z]||(fe[z]=[]);var Re=fe[z].findIndex(function(ke){return(!ae||ke.eventStream.value&&ke.eventStream.value===ae)&&ke.id===be});if(Re===-1)fe[z].push(te),te.triggeredReceivedEvent=!1,te.triggeredStartEvent=!1,Ue=_e;else if(oe){var Ve=fe[z][Re];te.triggeredReceivedEvent=Ve.triggeredReceivedEvent,te.triggeredStartEvent=Ve.triggeredStartEvent,fe[z][Re]=te,Ue=G}return Ue}function Z(te){try{if(te.eventStream.value==1){var fe,oe=te.calculatedPresentationTime;fe=te.calculatedPresentationTime==4294967295?NaN:te.calculatedPresentationTime+te.duration,pe.trigger(h.Z.MANIFEST_VALIDITY_CHANGED,{id:te.id,validUntil:oe,newDuration:fe,newManifestValidAfter:NaN},{mode:h.Z.EVENT_MODE_ON_START})}}catch(z){g.error(z)}}function L(te){try{var fe=k.getTime();U(te,function(oe){var z=oe.eventStream&&oe.eventStream.period&&!isNaN(oe.eventStream.period.duration)?oe.eventStream.period.duration:NaN,ae=oe.eventStream&&oe.eventStream.period&&!isNaN(oe.eventStream.period.start)?oe.eventStream.period.start:NaN;if(!isNaN(z)&&!isNaN(ae)){var be=oe.calculatedPresentationTime;Math.abs(be-fe)<300&&ue(oe,h.Z.EVENT_MODE_ON_START)}})}catch(oe){g.error(oe)}}function U(te,fe){try{if(te)for(var oe=Object.keys(te),z=0;z<oe.length;z++)for(var ae=te[oe[z]],be=Object.keys(ae),Ue=0;Ue<be.length;Ue++)ae[be[Ue]].forEach(function(Re){Re!==void 0&&fe(Re)})}catch(Re){g.error(Re)}}function N(te,fe,oe){try{return te-fe>oe}catch(z){return g.error(z),!1}}function ue(te,fe){try{var oe=k.getTime(),z=te.id;if(fe===h.Z.EVENT_MODE_ON_RECEIVE&&!te.triggeredReceivedEvent)return g.debug("Received event ".concat(z)),te.triggeredReceivedEvent=!0,void pe.trigger(te.eventStream.schemeIdUri,{event:te},{mode:fe});te.triggeredStartEvent||(te.eventStream.schemeIdUri===F&&te.eventStream.value==1?te.duration===0&&te.presentationTimeDelta===0||(g.debug("Starting manifest refresh event ".concat(z," at ").concat(oe)),function(){try{ye(),D.refreshManifest()}catch(ae){g.error(ae)}}()):te.eventStream.schemeIdUri==="urn:mpeg:dash:event:callback:2015"&&te.eventStream.value==1?(g.debug("Starting callback event ".concat(z," at ").concat(oe)),function(ae){try{(0,Bt.Z)(ce).create({}).load({method:"get",url:ae,request:{responseType:"arraybuffer"}})}catch(be){g.error(be)}}(te.messageData)):(g.debug("Starting event ".concat(z," from period ").concat(te.eventStream.period.id," at ").concat(oe)),pe.trigger(te.eventStream.schemeIdUri,{event:te},{mode:fe})),te.triggeredStartEvent=!0)}catch(ae){g.error(ae)}}return _={addInlineEvents:function(te,fe){try{if(ye(),b[fe]||(b[fe]={}),te)for(var oe=0;oe<te.length;oe++){var z=te[oe];if(!N(k.getTime(),isNaN(z.duration)?0:z.duration,z.calculatedPresentationTime)){var ae=I(z,b[fe],!0);ae===_e?(g.debug("Added inline event with id ".concat(z.id," from period ").concat(fe)),ue(z,h.Z.EVENT_MODE_ON_RECEIVE)):ae===G&&g.debug("Updated inline event with id ".concat(z.id," from period ").concat(fe))}}}catch(be){throw be}},addInbandEvents:function(te,fe){try{ye(),A[fe]||(A[fe]={});for(var oe=0;oe<te.length;oe++){var z=te[oe];N(k.getTime(),isNaN(z.duration)?0:z.duration,z.calculatedPresentationTime)||(I(z,A[fe],!1)===_e?(z.eventStream.schemeIdUri===F&&Z(z),g.debug("Added inband event with id ".concat(z.id," from period ").concat(fe)),ue(z,h.Z.EVENT_MODE_ON_RECEIVE)):g.debug("Inband event with scheme_id_uri ".concat(z.eventStream.schemeIdUri,", value ").concat(z.eventStream.value,", period id ").concat(fe," and event id ").concat(z.id," was ignored because it has been added before.")))}de()}catch(ae){throw ae}},getInbandEvents:function(){return A},getInlineEvents:function(){return b},start:function(){try{ye(),g.debug("Start Event Controller");var te=H.get().streaming.eventControllerRefreshDelay;$||isNaN(te)||($=!0,P=setInterval(de,te))}catch(fe){throw fe}},setConfig:function(te){try{if(!te)return;te.manifestUpdater&&(D=te.manifestUpdater),te.playbackController&&(k=te.playbackController),te.settings&&(H=te.settings)}catch(fe){throw fe}},reset:function(){(function(){try{P!==null&&$&&(clearInterval(P),P=null,$=!1,function(){try{L(A),L(b)}catch(te){g.error(te)}}())}catch(te){throw te}})(),W()}},g=(0,S.Z)(ce).getInstance().getLogger(_),W(),_}R0.__dashjs_factory_name="EventController";var RM=C.Z.getSingletonFactory(R0),kl={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Hp(_,g){(g==null||g>_.length)&&(g=_.length);for(var b=0,A=new Array(g);b<g;b++)A[b]=_[b];return A}function N0(){var _,g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe,ye,W,de,X,ge,I,Z,L,U,N,ue,te,fe,oe,z,ae,be,Ue,Re,Ve,ke,ct,dt,ot,st,Yt,Ae,Ge,_t,Xe,St,wt=this.context,mt=(0,E.Z)(wt).getInstance();function tn(){if(!(O&&O.hasOwnProperty("load")&&X&&X.hasOwnProperty("initialize")&&X.hasOwnProperty("reset")&&X.hasOwnProperty("getClientTimeOffset")&&D&&de&&H&&ae))throw new Error(c.Z.MISSING_CONFIG_ERROR)}function en(){if(!P||!P.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function xn(){(function(){try{var nt=k.getStreamsInfo();if(!I&&nt.length===0)throw new Error("There are no periods in the MPD");I&&nt.length>0&&H.updateManifestUpdateInfo({currentTime:ae.getTime(),buffered:z.getBufferRange(),presentationStartTime:nt[0].start,clientTimeOffset:X.getClientTimeOffset()}),ge.length>0&&function(ir){ir.length!==0?ge=ge.filter(function(Bn){var Ur=ir.filter(function(Mr){return Mr.id===Bn.getId()}).length>0||Bn.getId()===I.getId();return Ur||(g.debug("Removing stream ".concat(Bn.getId())),Bn.reset(!0)),Ur}):g.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(nt);for(var jt=[],vn=0,Mn=nt.length;vn<Mn;vn++){var er=nt[vn];jt.push(Ke(er)),H.addManifestUpdateStreamInfo(er)}Promise.all(jt).then(function(){return new Promise(function(ir,Bn){I?ir():bt(nt,ir,Bn)})}).then(function(){mt.trigger(m.Z.STREAMS_COMPOSED),Zt()}).catch(function(ir){throw ir})}catch(ir){de.error(new le.Z(ie.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ir.message+" nostreamscomposed",D.getValue())),fe=!0,Js()}})()}function Nn(){Ge=!0}function Ke(nt){var jt=nu(nt.id);return jt?jt.updateData(nt):(jt=ka(wt).create({manifestModel:D,mediaPlayerModel:Ue,dashMetrics:H,manifestUpdater:P,adapter:k,timelineConverter:X,capabilities:b,capabilitiesFilter:A,errHandler:de,baseURLController:Y,segmentBaseController:G,textController:L,abrController:ce,playbackController:ae,eventController:ye,mediaController:pe,protectionController:Z,videoModel:z,streamInfo:nt,settings:Ae}),ge.push(jt),jt.initialize(),Promise.resolve())}function bt(nt,jt,vn){try{rn();var Mn=H.getCurrentDVRInfo().range;if(Mn.end<Mn.start){_t&&clearTimeout(_t);var er=Math.min(1e3*(-1*(Mn.end-Mn.start)+2),2147483647);return g.debug("Waiting for ".concat(er," ms before playback can start")),mt.trigger(m.Z.AST_IN_FUTURE,{delay:er}),void(_t=setTimeout(function(){bt(nt,jt,vn)},er))}Ae.get().streaming.applyProducerReferenceTime&&be.calculateProducerReferenceTimeOffsets(nt);var ir=nt[0].manifestInfo;if(Ae.get().streaming.applyServiceDescription&&be.applyServiceDescription(ir),k.getIsDynamic()){var Bn=La(nt,ir);ae.computeAndSetLiveDelay(Bn,ir)}(Ae.get().streaming.applyContentSteering&&F.shouldQueryBeforeStart()?F.loadSteeringData():Promise.resolve()).then(function(){var Ur=D.getValue();Ur&&Y.update(Ur),lt(),jt()}).catch(function(Ur){g.error(Ur),lt(),jt()})}catch(Ur){vn(Ur)}}function lt(){var nt=function(){var Mn;if(k.getIsDynamic()){var er=H.getCurrentDVRInfo();Mn=(er&&er.range?er.range.end:0)-ae.getOriginalLiveDelay();var ir=er?er.range:null;if(ir){if(isNaN(Xe)&&Xe.toString().indexOf("posix:")===-1){var Bn=zi(!0);isNaN(Bn)||(g.info("Start time from URI parameters: ".concat(Bn)),Mn=Math.min(Mn,Bn))}else{g.info("Start time provided by the app: ".concat(Xe));var Ur=di(!0,Xe);isNaN(Ur)||(Mn=Math.min(Mn,Ur))}var Mr=Ae.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Mn=Math.max(Mn,ir.start+Mr)}}else if(Mn=ja()[0].getStreamInfo().start,isNaN(Xe)){var Os=zi(!1);isNaN(Os)||(g.info("Start time from URI parameters: ".concat(Os)),Mn=Math.max(Mn,Os))}else{g.info("Start time provided by the app: ".concat(Xe));var Ul=di(!1,Xe);isNaN(Ul)||(Mn=Math.max(Mn,Ul))}return Mn}(),jt=Kt(nt),vn=jt!==null?jt:ge[0];mt.trigger(m.Z.INITIAL_STREAM_SWITCH,{startTime:nt}),Rt(vn,null,nt),dt||(dt=setInterval(function(){!ue&&ae.getTimeToStreamEnd()<=0&&!ae.isSeeking()&&mt.trigger(m.Z.PLAYBACK_ENDED,{isLast:xo().isLast})},200))}function Rt(nt,jt,vn){try{if(ue||!nt||jt===nt&&nt.getIsActive())return;ue=!0,mt.trigger(m.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:jt?jt.getStreamInfo():null,toStreamInfo:nt.getStreamInfo()});var Mn=!1;I=nt,jt&&(Mn=zt(nt,jt),jt.deactivate(Mn)),vn=isNaN(vn)?!Mn&&jt?nt.getStreamInfo().start:NaN:vn,g.info("Switch to stream ".concat(nt.getId(),". Seektime is ").concat(vn,", current playback time is ").concat(ae.getTime(),". Seamless period switch is set to ").concat(Mn)),st=st.filter(function(er){return er.getId()!==I.getId()}),ae.initialize(xo(),!!jt),z.getElement()?Vt(vn,Mn,!1):sn(vn,Mn)}catch{ue=!1}}function Vt(nt,jt){var vn,Mn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];function er(){if(oe&&oe.readyState==="open"){g.debug("MediaSource is open!"),window.URL.revokeObjectURL(vn),oe.removeEventListener("sourceopen",er),oe.removeEventListener("webkitsourceopen",er),Tr();var Bn=H.getCurrentDVRInfo();K.setSeekable(Bn.range.start,Bn.range.end),Mn?(isNaN(nt)||ae.seek(nt,!0,!0),I.setMediaSource(oe).then(function(){I.initializeForTextWithMediaSource(oe)})):sn(nt,jt)}}function ir(){oe.addEventListener("sourceopen",er,!1),oe.addEventListener("webkitsourceopen",er,!1),vn=K.attachMediaSource(z),g.debug("MediaSource attached to element.  Waiting on open...")}oe?jt?sn(nt,jt):(K.detachMediaSource(z),ir()):(oe=K.createMediaSource(),ir())}function sn(nt,jt){I.activate(oe,jt?ot:void 0,nt).then(function(vn){if(vn){var Mn=Object.keys(vn);Mn.length>0&&vn[Mn[0]].getBuffer().changeType&&(Yt=!0),ot=vn}isNaN(nt)||(mt.trigger(m.Z.SEEK_TARGET,{time:nt},{streamId:I.getId()}),ae.seek(nt,!1,!0),I.startScheduleControllers()),ue=!1,mt.trigger(m.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:xo()})})}function nn(nt){var jt=Kt(nt.seekTime);jt&&jt!==I?jt&&jt!==I&&(cn(),function(vn,Mn){var er=vn&&!isNaN(vn.seekTime)?vn.seekTime:NaN,ir=I.getProcessors().map(function(Bn){return Bn.prepareOuterPeriodPlaybackSeeking(vn)});Promise.all(ir).then(function(){Rt(Mn,I,er)}).catch(function(Bn){de.error(Bn)})}(nt,jt)):(cn(),function(vn){I.getProcessors().forEach(function(Mn){return Mn.prepareInnerPeriodPlaybackSeeking(vn)}),Gi(Oe.USER_REQUEST_STOP_REASON)}(nt)),Xs(Ze.SEEK_START_REASON)}function cn(){yn()}function yn(){st&&st.length>0&&(st.forEach(function(nt){nt.deactivate(!0)}),st=[])}function gt(nt){if(nt.newMediaInfo.streamInfo.id===I.getId()){if(yn(),Ae.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&nt.oldMediaInfo&&nt.oldMediaInfo.codec!==nt.newMediaInfo.codec){var jt=ae.getTime();return I.deactivate(!1),void Vt(jt,!1,!1)}I.prepareTrackChange(nt)}}function zt(nt,jt){try{return Ae.get().streaming.buffer.reuseExistingSourceBuffers&&(jt.isProtectionCompatible(nt)||Ge)&&(Yt&&Ae.get().streaming.buffer.useChangeTypeForTrackSwitch||jt.isMediaCodecCompatible(nt,jt))}catch{return!1}}function Wt(nt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(oe&&!nt.getPreloaded()){var vn=zt(nt,jt);vn&&nt.startPreloading(oe,ot).then(function(){st.push(nt)})}}function Kt(nt){if(isNaN(nt))return null;for(var jt=ge.length,vn=0;vn<jt;vn++){var Mn=ge[vn];if(nt<parseFloat((Mn.getStartTime()+Mn.getDuration()).toFixed(5)))return Mn}return null}function rn(){try{var nt=k.getIsDynamic(),jt=k.getStreamsInfo()[0].manifestInfo,vn=ae.getTime(),Mn=X.calcTimeShiftBufferWindow(ge,nt),er=Dr();if(Mn.start===void 0||Mn.end===void 0)return;er&&er.length!==0?er.forEach(function(ir){H.addDVRInfo(ir.getType(),vn,jt,Mn)}):H.addDVRInfo(c.Z.VIDEO,vn,jt,Mn)}catch{}}function Qe(nt){if(ke&&N){var jt=Ue.getInitialBufferLevel(),vn=[c.Z.TEXT];(isNaN(jt)||jt<=ae.getBufferLevel(vn)||k.getIsDynamic()&&jt>ae.getLiveDelay())&&(ke=!1,Xs(Ze.INITIAL_PLAYOUT_START_REASON),ae.play())}nt&&nt.mediaType&&H.addBufferLevel(nt.mediaType,new Date,1e3*nt.bufferLevel)}function Be(nt){nt.streamInfo.id===I.getId()&&nt.reason&&nt.reason.forceReplace&&yn(),nu(nt.streamInfo.id).prepareQualityChange(nt)}function ft(){if(k.getIsDynamic()&&ae.getOriginalLiveDelay()!==0&&I){var nt=k.getStreamsInfo();if(nt.length>0){var jt=nt[0].manifestInfo,vn=La(nt,jt);ae.computeAndSetLiveDelay(vn,jt)}}}function ve(){if(Ho()){var nt=z.getPlaybackQuality();nt&&H.addDroppedFrames(nt)}}function Ce(){g.debug("[onPlaybackStarted]"),!ke&&Ve&&Xs(Ze.RESUME_FROM_PAUSE_START_REASON),ke&&(ke=!1),ct&&(ct=!1,Ae.get().streaming.applyContentSteering&&!F.shouldQueryBeforeStart()&&F.loadSteeringData()),Ve=!1}function tt(nt){g.debug("[onPlaybackPaused]"),nt.ended||(Ve=!0,Gi(Oe.USER_REQUEST_STOP_REASON))}function Ot(nt){g.debug("Stream with id ".concat(nt.streamInfo.id," finished buffering"));var jt=nt.streamInfo.isLast;oe&&jt?(g.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),K.signalEndOfStream(oe)):Zt()}function Zt(){if(I&&I.getHasFinishedBuffering())for(var nt=function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var ir=er||I||null;if(ir){var Bn=ir.getStreamInfo();return ge.filter(function(Ur){var Mr=Ur.getStreamInfo();return Mr.start>Bn.start&&Bn.id!==Mr.id})}}catch{return[]}}(I),jt=0;jt<nt.length;){var vn=nt[jt],Mn=jt===0?I:nt[jt-1];!vn.getPreloaded()&&Mn.getHasFinishedBuffering()&&oe&&Wt(vn,Mn),jt+=1}}function On(){dt&&(clearInterval(dt),dt=null)}function Dr(){return I?I.getProcessors():[]}function ii(nt){if(I&&!I.getIsEndedEventSignaled()){I.setIsEndedEventSignaled(!0);var jt=function(){var vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Mn=vn||I||null;if(!Mn)return null;for(var er=Mn.getStreamInfo(),ir=er.start,Bn=0,Ur=-1,Mr=NaN;Bn<ge.length;){var Os=ge[Bn].getStreamInfo(),Ul=Os.start-ir;Ul>0&&(isNaN(Mr)||Ul<Mr)&&er.id!==Os.id&&(Mr=Ul,Ur=Bn),Bn+=1}return Ur>=0?ge[Ur]:null}();jt?(g.debug("StreamController onEnded, found next stream with id ".concat(jt.getStreamInfo().id,". Switching from ").concat(I.getStreamInfo().id," to ").concat(jt.getStreamInfo().id)),Rt(jt,I,NaN)):(g.debug("StreamController no next stream found"),I.setIsEndedEventSignaled(!1)),Gi(jt?Oe.END_OF_PERIOD_STOP_REASON:Oe.END_OF_CONTENT_STOP_REASON)}nt&&nt.isLast&&(On(),F.stopSteeringRequestTimer())}function Tr(nt){var jt=nt||xo().manifestInfo.duration;K.setDuration(jt)}function zi(nt){var jt=_e.getURIFragmentData();if(!jt||!jt.t)return NaN;var vn=ja()[0].getStreamInfo().start;return jt.t=jt.t.split(",")[0],Qs(nt,jt.t,vn)}function di(nt,jt){var vn=0;return nt||(vn=ja()[0].getStreamInfo().start),Qs(nt,jt,vn)}function Qs(nt,jt,vn){var Mn=k.getRegularPeriods()[0],er=jt.toString(),ir=er.indexOf("posix:")!==-1?er.substring(6)==="now"?Date.now()/1e3:parseFloat(er.substring(6)):NaN;return nt&&!isNaN(ir)?X.calcPresentationTimeFromWallTime(new Date(1e3*ir),Mn):parseFloat(er)+vn}function La(nt,jt){try{var vn=NaN;if(jt&&!isNaN(jt.maxFragmentDuration)&&isFinite(jt.maxFragmentDuration))return jt.maxFragmentDuration;if(nt&&nt.length===1){var Mn=nt[0],er=[c.Z.VIDEO,c.Z.AUDIO,c.Z.TEXT].reduce(function(Bn,Ur){var Mr=k.getMediaInfoForType(Mn,Ur);return Mr&&Mr.isFragmented!==!1&&Bn.push(Mr),Bn},[]).reduce(function(Bn,Ur){var Mr=k.getVoRepresentations(Ur);return Mr&&Mr.length>0&&Mr.forEach(function(Os){Os&&Bn.push(Os)}),Bn},[]).reduce(function(Bn,Ur){var Mr=k.convertRepresentationToRepresentationInfo(Ur);return Mr&&Mr.fragmentDuration&&!isNaN(Mr.fragmentDuration)&&Bn.push(Mr.fragmentDuration),Bn},[]);vn=Math.max.apply(Math,function(Bn){if(Array.isArray(Bn))return Hp(Bn)}(ir=er)||function(Bn){if(typeof Symbol<"u"&&Symbol.iterator in Object(Bn))return Array.from(Bn)}(ir)||function(Bn,Ur){if(Bn){if(typeof Bn=="string")return Hp(Bn,Ur);var Mr=Object.prototype.toString.call(Bn).slice(8,-1);return Mr==="Object"&&Bn.constructor&&(Mr=Bn.constructor.name),Mr==="Map"||Mr==="Set"?Array.from(Bn):Mr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mr)?Hp(Bn,Ur):void 0}}(ir)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}return isFinite(vn)?vn:NaN}catch{return NaN}var ir}function Ba(nt){if(nt.error)fe=!0,Js();else{g.info("Manifest updated... updating data system wide.");var jt=nt.manifest;k.updatePeriods(jt);var vn=k.getUTCTimingSources();!k.getIsDynamic()||vn&&vn.length!==0||mt.trigger(h.Z.CONFORMANCE_VIOLATION,{level:kl.LEVELS.WARNING,event:kl.EVENTS.NO_UTC_TIMING_ELEMENT});var Mn=k.getIsDynamic()?vn.concat(Re.getUTCTimingSources()):vn;A.filterUnsupportedFeatures(jt).then(function(){Y.initialize(jt),$.attemptSync(Mn,k.getIsDynamic())})}}function Ho(){return!!I&&I.getHasVideoTrack()}function Ns(){return!!I&&I.getHasAudioTrack()}function Gi(nt,jt){jt=jt||new Date,Dr().forEach(function(vn){vn.finalisePlayList(jt,nt)}),H.addPlayList()}function Xs(nt){H.createPlaylistMetrics(1e3*ae.getTime(),nt)}function Ua(nt){if(nt.error){var jt="";switch(nt.error.code){case 1:jt="MEDIA_ERR_ABORTED";break;case 2:jt="MEDIA_ERR_NETWORK";break;case 3:jt="MEDIA_ERR_DECODE",St.counts.mediaErrorDecode+=1;break;case 4:jt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:jt="MEDIA_ERR_ENCRYPTED";break;default:jt="UNKNOWN"}jt==="MEDIA_ERR_DECODE"&&Ae.get().errors.recoverAttempts.mediaErrorDecode>=St.counts.mediaErrorDecode?function(){g.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var vn=ae.getTime();I.deactivate(!1),g.warn("MediaSource has been resetted. Resuming playback from time ".concat(vn)),Vt(vn,!1,!1)}():(te=!0,nt.error.message&&(jt+=" ("+nt.error.message+")"),nt.error.msExtendedCode&&(jt+=" (0x"+(nt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),g.fatal("Video Element Error: "+jt),nt.error&&g.fatal(nt.error),de.error(new le.Z(nt.error.code,jt)),Js())}}function xo(){return I?I.getStreamInfo():null}function nu(nt){for(var jt=0,vn=ge.length;jt<vn;jt++)if(ge[jt].getId()===nt)return ge[jt];return null}function lf(nt){isNaN(nt.newDuration)||Tr(nt.newDuration)}function cf(){ge=[],Xe=NaN,Z=null,ue=!1,I=null,te=!1,fe=!1,ke=!0,ct=!0,Ve=!1,N=!0,dt=null,Ge=!1,Yt=!1,st=[],_t=null,St={counts:{mediaErrorDecode:0}}}function Js(){tn(),$.reset(),Gi(te||fe?Oe.FAILURE_STOP_REASON:Oe.USER_REQUEST_STOP_REASON);for(var nt=0,jt=ge?ge.length:0;nt<jt;nt++)ge[nt].reset(te);mt.off(h.Z.PLAYBACK_TIME_UPDATED,ve,_),mt.off(h.Z.PLAYBACK_SEEKING,nn,_),mt.off(h.Z.PLAYBACK_ERROR,Ua,_),mt.off(h.Z.PLAYBACK_STARTED,Ce,_),mt.off(h.Z.PLAYBACK_PAUSED,tt,_),mt.off(h.Z.PLAYBACK_ENDED,ii,_),mt.off(h.Z.METRIC_ADDED,uf,_),mt.off(h.Z.MANIFEST_VALIDITY_CHANGED,lf,_),mt.off(h.Z.BUFFER_LEVEL_UPDATED,Qe,_),mt.off(h.Z.QUALITY_CHANGE_REQUESTED,Be,_),m.Z.KEY_SESSION_UPDATED&&mt.off(m.Z.KEY_SESSION_UPDATED,Nn,_),mt.off(m.Z.MANIFEST_UPDATED,Ba,_),mt.off(m.Z.STREAM_BUFFERING_COMPLETED,Ot,_),mt.off(m.Z.TIME_SYNCHRONIZATION_COMPLETED,xn,_),mt.off(m.Z.CURRENT_TRACK_CHANGED,gt,_),mt.off(m.Z.SETTING_UPDATED_LIVE_DELAY,ft,_),mt.off(m.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ft,_),Y.reset(),P.reset(),ye.reset(),H.clearAllCurrentMetrics(),D.setValue(null),O.reset(),X.reset(),W.reset(),oe&&(K.detachMediaSource(z),oe=null),z=null,Z&&(Z=null,U=null,D.getValue()&&mt.trigger(m.Z.PROTECTION_DESTROYED,{data:D.getValue().url})),On(),mt.trigger(m.Z.STREAM_TEARDOWN_COMPLETE),cf()}function uf(nt){if(nt.metric===p.Z.DVR_INFO){var jt=Ns()?c.Z.AUDIO:c.Z.VIDEO;nt.mediaType===jt&&K.setSeekable(nt.value.range.start,nt.value.range.end)}}function ja(){return ge}return _={initialize:function(nt,jt){tn(),N=nt,U=jt,X.initialize(),(P=x0(wt).create()).setConfig({manifestModel:D,adapter:k,manifestLoader:O,errHandler:de,settings:Ae,contentSteeringController:F}),P.initialize(),(ye=RM(wt).getInstance()).setConfig({manifestUpdater:P,playbackController:ae,settings:Ae}),ye.start(),$.setConfig({dashMetrics:H,baseURLController:Y,errHandler:de,settings:Ae}),$.initialize(),K.setConfig({settings:Ae}),Z&&(mt.trigger(m.Z.PROTECTION_CREATED,{controller:Z}),Z.setMediaElement(z.getElement()),U&&Z.setProtectionData(U)),mt.on(h.Z.PLAYBACK_TIME_UPDATED,ve,_),mt.on(h.Z.PLAYBACK_SEEKING,nn,_),mt.on(h.Z.PLAYBACK_ERROR,Ua,_),mt.on(h.Z.PLAYBACK_STARTED,Ce,_),mt.on(h.Z.PLAYBACK_PAUSED,tt,_),mt.on(h.Z.PLAYBACK_ENDED,ii,_),mt.on(h.Z.METRIC_ADDED,uf,_),mt.on(h.Z.MANIFEST_VALIDITY_CHANGED,lf,_),mt.on(h.Z.BUFFER_LEVEL_UPDATED,Qe,_),mt.on(h.Z.QUALITY_CHANGE_REQUESTED,Be,_),m.Z.KEY_SESSION_UPDATED&&mt.on(m.Z.KEY_SESSION_UPDATED,Nn,_),mt.on(m.Z.MANIFEST_UPDATED,Ba,_),mt.on(m.Z.STREAM_BUFFERING_COMPLETED,Ot,_),mt.on(m.Z.TIME_SYNCHRONIZATION_COMPLETED,xn,_),mt.on(m.Z.CURRENT_TRACK_CHANGED,gt,_),mt.on(m.Z.SETTING_UPDATED_LIVE_DELAY,ft,_),mt.on(m.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ft,_)},getActiveStreamInfo:xo,addDVRMetric:rn,hasVideoTrack:Ho,hasAudioTrack:Ns,getStreamById:nu,getStreamForTime:Kt,getTimeRelativeToStreamId:function(nt,jt){for(var vn=null,Mn=0,er=0,ir=null,Bn=0;Bn<ge.length;Bn++){if(er=(vn=ge[Bn]).getStartTime(),ir=vn.getDuration(),Number.isFinite(er)&&(Mn=er),vn.getId()===jt)return nt-Mn;Number.isFinite(ir)&&(Mn+=ir)}return null},load:function(nt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;tn(),Xe=jt,O.load(nt)},loadWithManifest:function(nt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;en(),Xe=jt,P.setManifest(nt)},getActiveStreamProcessors:Dr,setConfig:function(nt){nt&&(nt.capabilities&&(b=nt.capabilities),nt.capabilitiesFilter&&(A=nt.capabilitiesFilter),nt.manifestLoader&&(O=nt.manifestLoader),nt.manifestModel&&(D=nt.manifestModel),nt.mediaPlayerModel&&(Ue=nt.mediaPlayerModel),nt.customParametersModel&&(Re=nt.customParametersModel),nt.protectionController&&(Z=nt.protectionController),nt.adapter&&(k=nt.adapter),nt.dashMetrics&&(H=nt.dashMetrics),nt.errHandler&&(de=nt.errHandler),nt.timelineConverter&&(X=nt.timelineConverter),nt.videoModel&&(z=nt.videoModel),nt.playbackController&&(ae=nt.playbackController),nt.serviceDescriptionController&&(be=nt.serviceDescriptionController),nt.contentSteeringController&&(F=nt.contentSteeringController),nt.textController&&(L=nt.textController),nt.abrController&&(ce=nt.abrController),nt.mediaController&&(pe=nt.mediaController),nt.settings&&(Ae=nt.settings),nt.baseURLController&&(Y=nt.baseURLController),nt.uriFragmentModel&&(_e=nt.uriFragmentModel),nt.segmentBaseController&&(G=nt.segmentBaseController),nt.manifestUpdater&&(P=nt.manifestUpdater))},setProtectionData:function(nt){U=nt,Z&&Z.setProtectionData(U)},getIsStreamSwitchInProgress:function(){return ue},switchToVideoElement:function(nt){I&&(ae.initialize(xo()),Vt(nt,!1,!0))},getHasMediaOrInitialisationError:function(){return te||fe},getStreams:ja,getActiveStream:function(){return I},getInitialPlayback:function(){return ke},getAutoPlay:function(){return N},refreshManifest:function(){P.getIsUpdating()||P.refreshManifest()},reset:Js},g=(0,S.Z)(wt).getInstance().getLogger(_),$=xM(wt).getInstance(),K=MM(wt).getInstance(),W=Ie(wt).getInstance(),cf(),_}N0.__dashjs_factory_name="StreamController";var O0=C.Z.getSingletonFactory(N0);function P0(){var _,g,b,A,P,O,D,k,H,K,$,F,Y=this.context,G=(0,E.Z)(Y).getInstance();function _e(){F.debug("Stopping the gap controller"),P&&(clearInterval(P),P=null),function(){G.off(m.Z.WALLCLOCK_TIME_UPDATED,de,this),G.off(m.Z.INITIAL_STREAM_SWITCH,W,this),G.off(m.Z.PLAYBACK_SEEKING,ce,this),G.off(m.Z.BUFFER_REPLACEMENT_STARTED,pe,_),G.off(m.Z.TRACK_CHANGE_RENDERED,ye,_)}(),P=null,O=NaN,A=0,K=null,$={}}function ce(){K&&(clearTimeout(K),K=null)}function pe(U){try{if(U.streamId!==k.getActiveStreamInfo().id||U.mediaType!==c.Z.VIDEO&&U.mediaType!==c.Z.AUDIO)return;U.streamId===k.getActiveStreamInfo().id&&($[U.mediaType]=!0)}catch(N){F.error(N)}}function ye(U){U&&U.mediaType&&($[U.mediaType]=!1)}function W(){P||function(){try{P||(F.debug("Starting the gap controller"),P=setInterval(function(){X()&&L(D.getTime())},100))}catch{}}()}function de(){if(X(b.get().streaming.gaps.enableSeekFix)&&++A>=10){var U=D.getTime();g===U?L(U,!0):(g=U,O=NaN),A=0}}function X(){var U=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!k.getActiveStream())return!1;var N=Object.keys($).some(function(te){return $[te]}),ue=!!U&&ge();return!N&&b.get().streaming.gaps.jumpGaps&&k.getActiveStreamProcessors().length>0&&(!D.isSeeking()||ue)&&!D.isPaused()&&!k.getIsStreamSwitchInProgress()&&!k.getHasMediaOrInitialisationError()}function ge(){var U=k.getActiveStream(),N=parseFloat((U.getStartTime()+U.getDuration()).toFixed(5));return D.getTime()+b.get().streaming.gaps.threshold>=N}function I(U,N){try{if(!U||U.length<=1&&N>0)return NaN;for(var ue=NaN,te=0;isNaN(ue)&&te<U.length;){var fe=te>0?U.end(te-1):0;N<U.start(te)&&fe-N<b.get().streaming.gaps.threshold&&(ue=te),te+=1}return ue}catch{return null}}function Z(U,N){for(var ue=0,te=U.length;ue<te;ue++)if(N>=U.start(ue)&&N<=U.end(ue))return!0;return!1}function L(U){var N,ue=arguments.length>1&&arguments[1]!==void 0&&arguments[1],te=b.get().streaming.gaps.enableStallFix,fe=b.get().streaming.gaps.stallSeek,oe=b.get().streaming.gaps.smallGapLimit,z=b.get().streaming.gaps.jumpLargeGaps,ae=H.getBufferRange(),be=NaN,Ue=!1;if(N=I(ae,U),!isNaN(N)){var Re=ae.start(N),Ve=Re-U;Ve>0&&(Ve<=oe||z)&&(be=Re)}var ke=D.getTimeToStreamEnd();if(isNaN(be)&&ue&&isFinite(ke)&&!isNaN(ke)&&ke<oe&&(be=parseFloat(D.getStreamEndTime().toFixed(5)),Ue=!0),te&&isNaN(be)&&ue&&isNaN(N)&&Z(ae,U)&&(fe===0?(F.warn("Toggle play pause to break stall"),H.pause(),H.play()):(F.warn("Jumping ".concat(fe,"s to break stall")),be=U+fe)),be>0&&O!==be&&be>U&&!K){var ct=be-U;if(Ue){var dt=k.getStreamForTime(be),ot=dt&&!!dt.getPreloaded();F.warn("Jumping to end of stream because of gap from ".concat(U," to ").concat(be,". Gap duration: ").concat(ct)),D.seek(be,!0,ot)}else{var st=D.getIsDynamic(),Yt=N>0?ae.end(N-1):U,Ae=st?1e3*Math.max(0,ct-.1):0;K=window.setTimeout(function(){D.seek(be,!0,!0),F.warn("Jumping gap occuring in period ".concat(k.getActiveStream().getStreamId()," starting at ").concat(Yt," and ending at ").concat(be,". Jumping by: ").concat(be-Yt)),K=null},Ae)}O=be}}return _={reset:_e,setConfig:function(U){U&&(U.settings&&(b=U.settings),U.playbackController&&(D=U.playbackController),U.streamController&&(k=U.streamController),U.videoModel&&(H=U.videoModel))},initialize:function(){(function(){G.on(m.Z.WALLCLOCK_TIME_UPDATED,de,this),G.on(m.Z.INITIAL_STREAM_SWITCH,W,this),G.on(m.Z.PLAYBACK_SEEKING,ce,this),G.on(m.Z.BUFFER_REPLACEMENT_STARTED,pe,_),G.on(m.Z.TRACK_CHANGE_RENDERED,ye,_)})()}},F=(0,S.Z)(Y).getInstance().getLogger(_),_e(),_}P0.__dashjs_factory_name="GapController";var NM=C.Z.getSingletonFactory(P0);function k0(){var _,g,b,A,P,O,D,k,H,K,$=this.context,F=(0,E.Z)($).getInstance();function Y(){g=!1;var ge=Dt.Z.parseUserAgent();b=ge&&ge.browser&&ge.browser.name&&ge.browser.name.toLowerCase()==="safari"}function G(){g=!1}function _e(ge){if(ge.streamId===O.getActiveStreamInfo().id&&H){var I=D.getLiveDelay();D.getBufferLevel()>I/2&&(H=!1)}}function ce(ge){ge.streamId===O.getActiveStreamInfo().id&&(H=ge.state===p.Z.BUFFER_EMPTY)}function pe(){k.getCatchupModeEnabled()||A.setPlaybackRate(1)}function ye(){D.getIsDynamic()&&k.getCatchupModeEnabled()&&(k.getCatchupPlaybackRates().max>0||k.getCatchupPlaybackRates().min<0)&&!D.isPaused()&&!D.isSeeking()&&function(){try{return!(!D.getTime()>0||g)&&(de()===c.Z.LIVE_CATCHUP_MODE_LOLP?function(ge,I){try{return Math.abs(W())>0||ge<I}catch{return!1}}(D.getBufferLevel(),P.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(W())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!g&&A){var ge,I=A.getPlaybackRate(),Z=k.getCatchupPlaybackRates(),L=D.getBufferLevel(),U=W(),N=k.getCatchupMaxDrift();if(!isNaN(N)&&N>0&&U>N)K.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),g=!0,D.seekToCurrentLive(!0,!1);else{var ue=D.getCurrentLiveLatency(),te=D.getLiveDelay();ge=de()===c.Z.LIVE_CATCHUP_MODE_LOLP?function(oe,z,ae,be,Ue){var Re;if(Ue<be){var Ve=Math.abs(oe.min),ke=5*(Ue-be);Re=1-Ve+2*Ve/(1+Math.pow(Math.E,-ke)),K.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Ue+", newRate: "+Re)}else{if(Math.abs(z-ae)<=.02*ae)Re=1;else{var ct=z-ae,dt=ct<0?Math.abs(oe.min):oe.max,ot=5*ct;Re=1-dt+2*dt/(1+Math.pow(Math.E,-ot))}K.debug("[LoL+ playback control_latency-based] latency: "+z+", newRate: "+Re)}return Re}(Z,ue,te,P.get().streaming.liveCatchup.playbackBufferMin,L):function(oe,z,ae,be){if(H)return 1;var Ue=z-ae,Re=Ue<0?Math.abs(oe.min):oe.max,Ve=5*Ue,ke=1-Re+2*Re/(1+Math.pow(Math.E,-Ve));return D.getPlaybackStalled()&&be<=ae/2&&Ue>0&&(ke=1),ke}(Z,ue,te,L);var fe=b?.25:.02/(.5/Z.max);ge&&Math.abs(I-ge)>=fe&&(K.debug("[CatchupController]: Setting playback rate to ".concat(ge)),A.setPlaybackRate(ge))}}}()}function W(){return D.getCurrentLiveLatency()-D.getLiveDelay()}function de(){var ge=P.get().streaming.liveCatchup.playbackBufferMin;return P.get().streaming.liveCatchup.mode!==c.Z.LIVE_CATCHUP_MODE_LOLP||ge===null||isNaN(ge)?c.Z.LIVE_CATCHUP_MODE_DEFAULT:c.Z.LIVE_CATCHUP_MODE_LOLP}function X(){k.getCatchupPlaybackRates(!0)}return _={reset:function(){F.off(h.Z.BUFFER_LEVEL_UPDATED,_e,_),F.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,ce,_),F.off(h.Z.PLAYBACK_PROGRESS,ye,_),F.off(h.Z.PLAYBACK_TIME_UPDATED,ye,_),F.off(h.Z.PLAYBACK_SEEKED,G,_),F.off(m.Z.SETTING_UPDATED_CATCHUP_ENABLED,pe,_),F.off(m.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,X,_),F.off(m.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,X,_),F.off(h.Z.STREAM_INITIALIZED,X,_),Y(),A.setPlaybackRate(1,!0)},setConfig:function(ge){ge&&(ge.settings&&(P=ge.settings),ge.videoModel&&(A=ge.videoModel),ge.streamController&&(O=ge.streamController),ge.playbackController&&(D=ge.playbackController),ge.mediaPlayerModel&&(k=ge.mediaPlayerModel))},initialize:function(){F.on(h.Z.BUFFER_LEVEL_UPDATED,_e,_),F.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,ce,_),F.on(h.Z.PLAYBACK_PROGRESS,ye,_),F.on(h.Z.PLAYBACK_TIME_UPDATED,ye,_),F.on(h.Z.PLAYBACK_SEEKED,G,_),F.on(m.Z.SETTING_UPDATED_CATCHUP_ENABLED,pe,_),F.on(m.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,X,_),F.on(m.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,X,_),F.on(h.Z.STREAM_INITIALIZED,X,_),X()}},K=(0,S.Z)($).getInstance().getLogger(_),Y(),_}k0.__dashjs_factory_name="CatchupController";var OM=C.Z.getSingletonFactory(k0),PM=[c.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME],F0="video",L0="audio";function B0(){var _,g,b,A,P,O=this.context;function D(){g={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},b=[]}function k(H,K,$){try{g[H][K]=$/1e3}catch(F){A.error(F)}}return _={getServiceDescriptionSettings:function(){return g},getProducerReferenceTimeOffsets:function(){return b},calculateProducerReferenceTimeOffsets:function(H){try{var K=[];if(H&&H.length>0){var $=[c.Z.VIDEO,c.Z.AUDIO,c.Z.TEXT],F=P.getAvailabilityStartTime()/1e3;H.forEach(function(Y){var G=$.reduce(function(_e,ce){return _e.concat(P.getAllMediaInfoForType(Y,ce))},[]).reduce(function(_e,ce){return P.getProducerReferenceTimes(Y,ce).forEach(function(pe){var ye=P.getVoRepresentations(ce);if(ye&&ye.length>0&&ye[0].adaptation&&ye[0].segmentInfoType===d.Z.SEGMENT_TEMPLATE){var W=ye[0],de=new Date(pe[d.Z.WALL_CLOCK_TIME]).getTime()/1e3-(pe[d.Z.PRESENTATION_TIME]/W[d.Z.TIMESCALE]-W[d.Z.PRESENTATION_TIME_OFFSET]+Y.start),X=F-de;_e.push({id:pe[d.Z.ID],to:X})}}),_e},[]);K=K.concat(G)})}b=K}catch(Y){A.error(Y),b=[]}},applyServiceDescription:function(H){if(H&&H.serviceDescriptions){var K=H.serviceDescriptions.filter(function(Y){return PM.includes(Y.schemeIdUri)}),$=H.serviceDescriptions.filter(function(Y){return Y.schemeIdUri==null}),F=K.length>0?K[K.length-1]:$[$.length-1];F&&(F.latency&&F.latency.target>0&&function(Y){var G;if(Y.schemeIdUri,c.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME,G=function(ye){return{liveDelay:ye.latency.target/1e3,maxDrift:!isNaN(ye.latency.max)&&ye.latency.max>ye.latency.target?(ye.latency.max-ye.latency.target+500)/1e3:NaN,referenceId:ye.latency.referenceId||NaN}}(Y),b.length>0){var _e=function(ye){var W,de=0,X=b.filter(function(ge){return ge.id===ye.referenceId});return X.length===0?(de=b.length>0?b[0].to:0,W=b[0].id||NaN):(de=X[0].to||0,W=X[0].id||NaN),{to:de,id:W}}(G),ce=_e.to,pe=_e.id;g.liveDelay=G.liveDelay-ce,g.liveCatchup.maxDrift=G.maxDrift,A.debug(`
                Found latency properties coming from service description. Applied time offset of `.concat(ce," from ProducerReferenceTime element with id ").concat(pe,`.
                Live Delay: `).concat(G.liveDelay-ce,", Live catchup max drift: ").concat(G.maxDrift,`
            `))}else g.liveDelay=G.liveDelay,g.liveCatchup.maxDrift=G.maxDrift,A.debug("Found latency properties coming from service description: Live Delay: ".concat(G.liveDelay,", Live catchup max drift: ").concat(G.maxDrift))}(F),F.playbackRate&&function(Y){var G=Y.playbackRate.min?Math.round(1e3*(Y.playbackRate.min-1))/1e3:NaN,_e=Y.playbackRate.max?Math.round(1e3*(Y.playbackRate.max-1))/1e3:NaN;g.liveCatchup.playbackRate.min=G,g.liveCatchup.playbackRate.max=_e,A.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(G)),A.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(_e))}(F),F.operatingQuality,F.operatingBandwidth&&function(Y){if(Y&&Y.operatingBandwidth&&Y.operatingBandwidth.mediaType&&Y.operatingBandwidth.mediaType!=="all"){var G={};G.minBandwidth=Y.operatingBandwidth.min,G.maxBandwidth=Y.operatingBandwidth.max,G.targetBandwidth=Y.operatingBandwidth.target;var _e=[];Y.operatingBandwidth.mediaType===F0||Y.operatingBandwidth.mediaType===L0?_e.push(Y.operatingBandwidth.mediaType):Y.operatingBandwidth.mediaType==="any"&&(_e.push(L0),_e.push(F0)),_e.forEach(function(ce){isNaN(G.minBandwidth)||k("minBitrate",ce,G.minBandwidth),isNaN(G.maxBandwidth)||k("maxBitrate",ce,G.maxBandwidth),isNaN(G.targetBandwidth)||k("initialBitrate",ce,G.targetBandwidth)})}}(F),F.contentSteering&&function(Y){g.contentSteering=Y.contentSteering}(F))}},reset:function(){D()},setConfig:function(H){H&&H.adapter&&(P=H.adapter)}},A=(0,S.Z)(O).getInstance().getLogger(_),D(),_}B0.__dashjs_factory_name="ServiceDescriptionController";var kM=C.Z.getSingletonFactory(B0),FM=l(3973),Yd=l.n(FM),U0=l(3039);function zp(){var _,g,b,A,P,O,D,k,H=this.context,K=(0,E.Z)(H).getInstance();function $(z,ae){return z&&b[ae]&&b[ae][z]?b[ae][z].list:[]}function F(z,ae){return z&&b[ae]&&b[ae][z]?b[ae][z].current:null}function Y(z){var ae=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(z&&z.streamInfo){var be=z.type,Ue=z.streamInfo,Re=Ue.id,Ve=F(be,Re);if(b[Re]&&b[Re][be]&&(b[Re][be].current=z,b[Re][be].current&&(be!==c.Z.TEXT&&!ce(z,Ve)||be===c.Z.TEXT&&z.isFragmented)&&K.trigger(m.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ve,newMediaInfo:z,switchMode:A.get().streaming.trackSwitchMode[be]},{streamId:Re}),!ae)){var ke=ye(z);if(!ke||!b[Re][be].storeLastSettings)return;ke.roles&&(ke.role=ke.roles[0],delete ke.roles),ke.accessibility&&(ke.accessibility=ke.accessibility[0]),ke.audioChannelConfiguration&&(ke.audioChannelConfiguration=ke.audioChannelConfiguration[0]),O[be]=ke,k.setSavedMediaSettings(be,ke)}}}function G(z,ae){z&&ae&&(P[z]=ae)}function _e(z){return z?P[z]:null}function ce(z,ae){if(!z&&!ae)return!0;if(!z||!ae)return!1;var be=z.id===ae.id,Ue=z.viewpoint===ae.viewpoint,Re=JSON.stringify(z.viewpointsWithSchemeIdUri)===JSON.stringify(ae.viewpointsWithSchemeIdUri),Ve=z.lang===ae.lang,ke=z.codec===ae.codec,ct=z.roles.toString()===ae.roles.toString(),dt=JSON.stringify(z.rolesWithSchemeIdUri)===JSON.stringify(ae.rolesWithSchemeIdUri),ot=z.accessibility.toString()===ae.accessibility.toString(),st=JSON.stringify(z.accessibilitiesWithSchemeIdUri)===JSON.stringify(ae.accessibilitiesWithSchemeIdUri),Yt=z.audioChannelConfiguration.toString()===ae.audioChannelConfiguration.toString(),Ae=JSON.stringify(z.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(ae.audioChannelConfigurationsWithSchemeIdUri);return be&&ke&&Ue&&Re&&Ve&&ct&&dt&&ot&&st&&Yt&&Ae}function pe(){b={},O={},P={audio:null,video:null,text:null}}function ye(z){var ae={lang:z.lang,viewpoint:z.viewpoint,roles:z.roles,accessibility:z.accessibility,audioChannelConfiguration:z.audioChannelConfiguration,codec:z.codec};return ae.lang||ae.viewpoint||ae.role&&ae.role.length>0||ae.accessibility&&ae.accessibility.length>0||ae.audioChannelConfiguration&&ae.audioChannelConfiguration.length>0?ae:null}function W(z,ae,be){var Ue=[];return z.forEach(function(Re){ae(be,Re)&&Ue.push(Re)}),Ue.length!==0?Ue:z}function de(z,ae){try{return!z.lang||z.lang instanceof RegExp?ae.lang.match(z.lang):ae.lang!==""&&(0,U0.extendedFilter)(ae.lang,Yd()(z.lang)).length>0}catch{return!1}}function X(z,ae){return z.index===void 0||z.index===null||ae.index===z.index}function ge(z,ae){return!z.viewpoint||z.viewpoint===ae.viewpoint}function I(z,ae){var be=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ue=!z.role||!!ae.roles.filter(function(Re){return Re===z.role})[0];return Ue||ae.type===c.Z.AUDIO&&be}function Z(z,ae){return z.accessibility?!!ae.accessibility.filter(function(be){return be===z.accessibility})[0]:!ae.accessibility.length}function L(z,ae){return!z.audioChannelConfiguration||!!ae.audioChannelConfiguration.filter(function(be){return be===z.audioChannelConfiguration})[0]}function U(z,ae){return!z.codec||z.codec===ae.codec}function N(z){var ae,be=0,Ue=[];return z.forEach(function(Re){(ae=Math.max.apply(Math,Re.bitrateList.map(function(Ve){return Ve.bandwidth})))>be?(be=ae,Ue=[Re]):ae===be&&Ue.push(Re)}),Ue}function ue(z){var ae,be=1/0,Ue=[];return z.forEach(function(Re){var Ve=Re.bitrateList.reduce(function(ke,ct){var dt=Math.max(1,ct.width*ct.height);return ke+ct.bandwidth/dt},0);(ae=Ve/Re.bitrateList.length)<be?(be=ae,Ue=[Re]):ae===be&&Ue.push(Re)}),Ue}function te(z){var ae,be=0,Ue=[];return z.forEach(function(Re){(ae=Re.representationCount)>be?(be=ae,Ue=[Re]):ae===be&&Ue.push(Re)}),Ue}function fe(z,ae){if(z===c.Z.TEXT)return ae[0];var be,Ue=A.get().streaming.selectionModeForInitialTrack,Re=D.getCustomInitialTrackSelectionFunction();if(Re&&typeof Re=="function")be=Re(ae);else switch(Ue){case c.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:be=function(Ve){var ke,ct,dt=(ke=0,ct=[],Ve.forEach(function(ot){isNaN(ot.selectionPriority)||(ot.selectionPriority>ke?(ke=ot.selectionPriority,ct=[ot]):ot.selectionPriority===ke&&ct.push(ot))}),ct);return dt.length>1&&(dt=N(dt)),dt.length>1&&(dt=te(dt)),dt}(ae);break;case c.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:be=function(Ve){var ke=N(Ve);return ke.length>1&&(ke=te(ke)),ke}(ae);break;case c.Z.TRACK_SELECTION_MODE_FIRST_TRACK:be=oe(ae);break;case c.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:be=function(Ve){var ke=ue(Ve);return ke.length>1&&(ke=N(ke)),ke}(ae);break;case c.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:be=function(Ve){var ke=te(Ve);return ke.length>1&&(ke=N(Ve)),ke}(ae);break;default:g.warn("Track selection mode ".concat(Ue," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),be=oe(ae)}return be.length>0?be[0]:ae[0]}function oe(z){return z[0]}return _={setInitialMediaSettingsForType:function(z,ae){var be=O[z]||_e(z),Ue=$(z,ae.id),Re=[];be||((be=k.getSavedMediaSettings(z))&&delete be.codec,G(z,be)),Ue&&Ue.length!==0&&(be&&(Re=W(Re=Array.from(Ue),de,be),Re=W(Re,X,be),Re=W(Re,ge,be),z===c.Z.AUDIO&&O[z]||(Re=W(Re,I,be)),Re=W(Re,Z,be),Re=W(Re,L,be),Re=W(Re,U,be)),Re.length===0?Y(fe(z,Ue),!0):Re.length>1?Y(fe(z,Re)):Y(Re[0]))},addTrack:function(z){if(z){var ae=z.type;if((be=ae)===c.Z.AUDIO||be===c.Z.VIDEO||be===c.Z.TEXT||be===c.Z.IMAGE){var be,Ue,Re=z.streamInfo.id;b[Re]||(b[Re]={audio:{list:[],storeLastSettings:Ue=A.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:Ue,current:null},text:{list:[],storeLastSettings:Ue,current:null},image:{list:[],storeLastSettings:Ue,current:null}});for(var Ve=b[Re][ae].list,ke=0,ct=Ve.length;ke<ct;++ke)if(ce(Ve[ke],z))return;Ve.push(z)}}},getTracksFor:$,getCurrentTrackFor:F,isCurrentTrack:function(z){if(!z)return!1;var ae=z.type,be=z.streamInfo.id;return b[be]&&b[be][ae]&&ce(b[be][ae].current,z)},setTrack:Y,selectInitialTrack:fe,setInitialSettings:G,getInitialSettings:_e,getTracksWithHighestBitrate:N,getTracksWithHighestEfficiency:ue,getTracksWithWidestRange:te,isTracksEqual:ce,matchSettings:function(z,ae){var be=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{var Ue=!1;if(z.lang){if(z.lang instanceof RegExp)Ue=ae.lang.match(z.lang);else if(ae.lang!==""){var Re=Yd()(z.lang);Re&&(Ue=(0,U0.extendedFilter)(ae.lang,Re).length>0)}}else Ue=!0;var Ve=z.index===void 0||z.index===null||ae.index===z.index,ke=!z.viewpoint||z.viewpoint===ae.viewpoint,ct=!z.role||!!ae.roles.filter(function(st){return st===z.role})[0],dt=!z.accessibility||!!ae.accessibility.filter(function(st){return st===z.accessibility})[0],ot=!z.audioChannelConfiguration||!!ae.audioChannelConfiguration.filter(function(st){return st===z.audioChannelConfiguration})[0];return Ue&&Ve&&ke&&(ct||ae.type===c.Z.AUDIO&&be)&&dt&&ot}catch{return!1}},matchSettingsLang:de,matchSettingsIndex:X,matchSettingsViewPoint:ge,matchSettingsRole:I,matchSettingsAccessibility:Z,matchSettingsAudioChannelConfig:L,saveTextSettingsDisabled:function(){k.setSavedMediaSettings(c.Z.TEXT,null)},setConfig:function(z){z&&(z.domStorage&&(k=z.domStorage),z.settings&&(A=z.settings),z.customParametersModel&&(D=z.customParametersModel))},reset:pe},g=(0,S.Z)(H).getInstance().getLogger(_),pe(),_}zp.__dashjs_factory_name="MediaController";var j0=C.Z.getSingletonFactory(zp);C.Z.updateSingletonFactory(zp.__dashjs_factory_name,j0);var LM=j0,$d=NaN,V0=function _(g,b){(function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")})(this,_),this.data={baseUrls:g||null,selectedIdx:b||$d},this.children=[]};function Z0(){var _,g,b,A,P=this.context,O=qt(P).getInstance();function D($,F,Y){var G=k(Y);$[F]?O.areEqual(G,$[F].data.baseUrls)||($[F].data.baseUrls=G,$[F].data.selectedIdx=$d):$[F]=new V0(G)}function k($){var F=b.getBaseURLsFromElement($),Y=A.getSynthesizedBaseUrlElements(F);return Y&&Y.length>0&&(F=F.concat(Y)),F}function H($,F){var Y=F||g;$(Y.data),Y.children&&Y.children.forEach(function(G){return H($,G)})}function K(){g=new V0}return _={reset:K,update:function($){(function(F){(function(){if(!b||!b.hasOwnProperty("getBaseURLsFromElement")||!b.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();var Y=k(F);O.areEqual(Y,g.data.baseUrls)||(g.data.baseUrls=Y,g.data.selectedIdx=$d),F&&F.Period_asArray&&F.Period_asArray.forEach(function(G,_e){D(g.children,_e,G),G.AdaptationSet_asArray&&G.AdaptationSet_asArray.forEach(function(ce,pe){D(g.children[_e].children,pe,ce),ce.Representation_asArray&&ce.Representation_asArray.sort(b.getRepresentationSortFunction()).forEach(function(ye,W){D(g.children[_e].children[pe].children,W,ye)})})})})($)},getForPath:function($){var F=g,Y=[F.data];return $&&$.forEach(function(G){(F=F.children[G])&&Y.push(F.data)}),Y.filter(function(G){return G.baseUrls.length})},invalidateSelectedIndexes:function($){H(function(F){isNaN(F.selectedIdx)||$===F.baseUrls[F.selectedIdx].serviceLocation&&(F.selectedIdx=$d)})},setConfig:function($){$.adapter&&(b=$.adapter),$.contentSteeringController&&(A=$.contentSteeringController)},getBaseUrls:function($){return k($)}},K(),_}Z0.__dashjs_factory_name="BaseURLTreeModel";var BM=C.Z.getClassFactory(Z0);function H0(_){var g=(_=_||{}).blacklistController;return{select:function(b){return b&&function(P){var O,D,k=0,H=[],K=0;if((D=P.sort(function($,F){var Y=$.dvbPriority-F.dvbPriority;return isNaN(Y)?0:Y}).filter(function($,F,Y){return!F||Y[0].dvbPriority&&$.dvbPriority&&Y[0].dvbPriority===$.dvbPriority})).length)return D.length>1&&(D.forEach(function($){k+=$.dvbWeight,H.push(k)}),O=Math.floor(Math.random()*(k-1)),H.every(function($,F){return K=F,!(O<$)})),D[K]}((A=[],b.filter(function(P){return!g.contains(P.serviceLocation)||(P.dvbPriority&&A.push(P.dvbPriority),!1)}).filter(function(P){return!A.length||!P.dvbPriority||A.indexOf(P.dvbPriority)===-1})));var A}}}H0.__dashjs_factory_name="DVBSelector";var UM=C.Z.getClassFactory(H0);function z0(_){var g=(_=_||{}).blacklistController;return{select:function(b){var A,P=0;return b&&b.some(function(O,D){return P=D,!g.contains(O.serviceLocation)})&&(A=b[P]),A}}}z0.__dashjs_factory_name="BasicSelector";var jM=C.Z.getClassFactory(z0);function G0(){var _,g,b,A=this.context;function P(){for(var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=0,H=NaN,K=function(){var F=O[k],Y=D.findIndex(function(G){return G.serviceLocation&&G.serviceLocation===F});if(Y!==-1&&!b.contains(D[Y].serviceLocation))return H=Y,"break";k+=1};k<O.length;){var $=K();if($==="break")break}return H}return _={selectBaseUrlIndex:function(O){var D=NaN;if(isNaN(O.selectedIdx)){var k=g.getSteeringDataFromManifest();k&&k.defaultServiceLocationArray.length>0&&(D=P(k.defaultServiceLocationArray,O.baseUrls))}var H=g.getCurrentSteeringResponseData();return O.baseUrls&&O.baseUrls.length&&H&&H.pathwayPriority&&H.pathwayPriority.length&&(D=P(H.pathwayPriority,O.baseUrls)),D},setConfig:function(O){O.blacklistController&&(b=O.blacklistController),O.contentSteeringController&&(g=O.contentSteeringController)}},g=Ao(A).getInstance(),_}G0.__dashjs_factory_name="ContentSteeringSelector";var VM=C.Z.getClassFactory(G0);function q0(){var _,g,b,A,P,O,D=this.context,k=(0,E.Z)(D).getInstance(),H=(0,Se.Z)(D).getInstance();function K(){g.reset()}return _={chooseSelector:function($){(0,ne.PS)($,"boolean"),O=$?A:b},select:function($){if($){if(H.get().streaming.applyContentSteering){var F=P.selectBaseUrlIndex($);isNaN(F)||F===-1||($.selectedIdx=F)}if(!isNaN($.selectedIdx))return $.baseUrls[$.selectedIdx];var Y=O.select($.baseUrls);return Y?($.selectedIdx=$.baseUrls.indexOf(Y),Y):(k.trigger(m.Z.URL_RESOLUTION_FAILED,{error:new le.Z(ie.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,ie.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(O===b&&K()))}},reset:K,setConfig:function($){$.selector&&(O=$.selector),$.contentSteeringSelector&&(P=$.contentSteeringSelector)}},g=Ol(D).create({updateEventName:m.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:m.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),b=jM(D).create({blacklistController:g}),A=UM(D).create({blacklistController:g}),(P=VM(D).create()).setConfig({blacklistController:g}),O=b,_}q0.__dashjs_factory_name="BaseURLSelector";var ZM=C.Z.getClassFactory(q0);function Y0(){var _,g,b,A,P,O=this.context,D=(0,E.Z)(O).getInstance(),k=(0,rt.Z)(O).getInstance();function H($){b.update($),A.chooseSelector(g.getIsDVB($)),D.trigger(h.Z.BASE_URLS_UPDATED,{baseUrls:K($)})}function K($){return b.getBaseUrls($)}return _={reset:function(){b.reset(),A.reset()},initialize:function($){b.setConfig({adapter:g,contentSteeringController:P}),H($)},resolve:function($){var F=b.getForPath($).reduce(function(Y,G){var _e=A.select(G);return _e?(k.isRelative(_e.url)?Y.url=k.resolve(_e.url,Y.url):(Y.url=_e.url,Y.serviceLocation=_e.serviceLocation),Y.availabilityTimeOffset=_e.availabilityTimeOffset,Y.availabilityTimeComplete=_e.availabilityTimeComplete,Y.queryParams=_e.queryParams,Y):new Co},new Co);if(!k.isRelative(F.url))return F},setConfig:function($){$.baseURLTreeModel&&(b=$.baseURLTreeModel),$.baseURLSelector&&(A=$.baseURLSelector),$.adapter&&(g=$.adapter),$.contentSteeringController&&(P=$.contentSteeringController)},getBaseUrls:K,update:H},b=BM(O).create(),A=ZM(O).create(),D.on(m.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function($){b.invalidateSelectedIndexes($.entry)},_),_}Y0.__dashjs_factory_name="BaseURLController";var HM=C.Z.getClassFactory(Y0);function Gp(_){return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},Gp(_)}function qp(_,g){return qp=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},qp(_,g)}function zM(_,g){return!g||Gp(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function Wd(_){return Wd=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},Wd(_)}var $0=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&qp(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=Wd(g);if(b){var k=Wd(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return zM(this,O)});function P(O,D){var k;return function(H,K){if(!(H instanceof K))throw new TypeError("Cannot call a class as a function")}(this,P),(k=A.call(this)).url=O||null,k.type=D||null,k.mediaType=c.Z.STREAM,k.responseType="",k}return P}(M.Z);function W0(_){_=_||{};var g=this.context,b=(0,E.Z)(g).getInstance(),A=Pi(g).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,errors:ie});return{load:function(P,O,D){var k=function(K,$){O.resolved=!0,O.resolvedContent=K||null,b.trigger(m.Z.XLINK_ELEMENT_LOADED,{element:O,resolveObject:D,error:K||$?null:new le.Z(ie.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,ie.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+P)})};if(P==="urn:mpeg:dash:resolve-to-zero:2013")k(null,!0);else{var H=new $0(P,xe.w.XLINK_EXPANSION_TYPE);A.load({request:H,success:function(K){k(K)},error:function(){k(null)}})}},reset:function(){A&&(A.abort(),A=null)}}}W0.__dashjs_factory_name="XlinkLoader";var GM=C.Z.getClassFactory(W0),K0=function(_){(_=_||{}).escapeMode===void 0&&(_.escapeMode=!0),_.attributePrefix===void 0&&(_.attributePrefix="_"),_.arrayAccessForm=_.arrayAccessForm||"none",_.emptyNodeForm=_.emptyNodeForm||"text",_.enableToStringFunc===void 0&&(_.enableToStringFunc=!0),_.arrayAccessFormPaths=_.arrayAccessFormPaths||[],_.skipEmptyTextNodesForObj===void 0&&(_.skipEmptyTextNodesForObj=!0),_.stripWhitespaces===void 0&&(_.stripWhitespaces=!0),_.datetimeAccessFormPaths=_.datetimeAccessFormPaths||[],_.useDoubleQuotes===void 0&&(_.useDoubleQuotes=!1),_.xmlElementsFilter=_.xmlElementsFilter||[],_.jsonPropertiesFilter=_.jsonPropertiesFilter||[],_.keepCData===void 0&&(_.keepCData=!1),_.ignoreRoot===void 0&&(_.ignoreRoot=!1);function g(W){var de=W.localName;return de==null&&(de=W.baseName),de!=null&&de!=""||(de=W.nodeName),de}function b(W){return typeof W=="string"?W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):W}function A(W,de,X,ge){for(var I=0;I<W.length;I++){var Z=W[I];if(typeof Z=="string"){if(Z==ge)break}else if(Z instanceof RegExp){if(Z.test(ge))break}else if(typeof Z=="function"&&Z(de,X,ge))break}return I!=W.length}function P(W,de,X){_.arrayAccessForm==="property"&&(W[de]instanceof Array?W[de+"_asArray"]=W[de]:W[de+"_asArray"]=[W[de]]),!(W[de]instanceof Array)&&_.arrayAccessFormPaths.length>0&&A(_.arrayAccessFormPaths,W,de,X)&&(W[de]=[W[de]])}function O(W){var de=W.split(/[-T:+Z]/g),X=new Date(de[0],de[1]-1,de[2]),ge=de[5].split(".");if(X.setHours(de[3],de[4],ge[0]),ge.length>1&&X.setMilliseconds(ge[1]),de[6]&&de[7]){var I=60*de[6]+Number(de[7]);I=0+((/\d\d-\d\d:\d\d$/.test(W)?"-":"+")=="-"?-1*I:I),X.setMinutes(X.getMinutes()-I-X.getTimezoneOffset())}else W.indexOf("Z",W.length-1)!==-1&&(X=new Date(Date.UTC(X.getFullYear(),X.getMonth(),X.getDate(),X.getHours(),X.getMinutes(),X.getSeconds(),X.getMilliseconds())));return X}function D(W,de,X,ge){return!(de==1&&_.xmlElementsFilter.length>0)||A(_.xmlElementsFilter,W,X,ge)}function k(W,de){if(W.nodeType==9){for(var X=new Object,ge=W.childNodes,I=0;I<ge.length;I++)(L=ge[I]).nodeType==1&&(_.ignoreRoot?X=k(L):(X={})[U=g(L)]=k(L));return X}if(W.nodeType==1){(X=new Object).__cnt=0;var Z=[];for(ge=W.childNodes,I=0;I<ge.length;I++){var L,U=g(L=ge[I]);if(L.nodeType!=8){var N=de+"."+U;if(D(X,L.nodeType,U,N))if(X.__cnt++,X[U]==null){var ue=k(L,N);(U!="#text"||/[^\s]/.test(ue))&&((te={})[U]=ue,Z.push(te)),X[U]=ue,P(X,U,N)}else{var te;X[U]!=null&&(X[U]instanceof Array||(X[U]=[X[U]],P(X,U,N))),ue=k(L,N),(U!="#text"||/[^\s]/.test(ue))&&((te={})[U]=ue,Z.push(te)),X[U][X[U].length]=ue}}}X.__children=Z;for(var fe=g(W),oe=0;oe<W.attributes.length;oe++){var z=W.attributes[oe];X.__cnt++;for(var ae=z.value,be=0,Ue=_.matchers.length;be<Ue;be++){var Re=_.matchers[be];Re.test(z,fe)&&(ae=Re.converter(z.value))}X[_.attributePrefix+z.name]=ae}var Ve=function(ke){return ke.prefix}(W);return Ve!=null&&Ve!=""&&(X.__cnt++,X.__prefix=Ve),X["#text"]!=null&&(X.__text=X["#text"],X.__text instanceof Array&&(X.__text=X.__text.join(`
`)),_.stripWhitespaces&&(X.__text=X.__text.trim()),delete X["#text"],_.arrayAccessForm=="property"&&delete X["#text_asArray"],X.__text=function(ke,ct,dt){if(_.datetimeAccessFormPaths.length>0){var ot=dt.split(".#")[0];return A(_.datetimeAccessFormPaths,ke,ct,ot)?O(ke):ke}return ke}(X.__text,U,de+"."+U)),X["#cdata-section"]!=null&&(X.__cdata=X["#cdata-section"],delete X["#cdata-section"],_.arrayAccessForm=="property"&&delete X["#cdata-section_asArray"]),X.__cnt==0&&_.emptyNodeForm=="text"?X="":X.__cnt==1&&X.__text!=null?X=X.__text:X.__cnt!=1||X.__cdata==null||_.keepCData?X.__cnt>1&&X.__text!=null&&_.skipEmptyTextNodesForObj&&(_.stripWhitespaces&&X.__text==""||X.__text.trim()=="")&&delete X.__text:X=X.__cdata,delete X.__cnt,!_.enableToStringFunc||X.__text==null&&X.__cdata==null||(X.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),X}if(W.nodeType==3||W.nodeType==4)return W.nodeValue}function H(W,de,X,ge){var I="<"+(W!=null&&W.__prefix!=null?W.__prefix+":":"")+de;if(X!=null)for(var Z=0;Z<X.length;Z++){var L=X[Z],U=W[L];_.escapeMode&&(U=b(U)),I+=" "+L.substr(_.attributePrefix.length)+"=",_.useDoubleQuotes?I+='"'+U+'"':I+="'"+U+"'"}return I+(ge?"/>":">")}function K(W,de){return"</"+(W.__prefix!=null?W.__prefix+":":"")+de+">"}function $(W,de){return _.arrayAccessForm=="property"&&(ge="_asArray",(X=de.toString()).indexOf(ge,X.length-ge.length)!==-1)||de.toString().indexOf(_.attributePrefix)==0||de.toString().indexOf("__")==0||W[de]instanceof Function;var X,ge}function F(W){var de=0;if(W instanceof Object)for(var X in W)$(W,X)||de++;return de}function Y(W,de,X){return _.jsonPropertiesFilter.length==0||X==""||A(_.jsonPropertiesFilter,W,de,X)}function G(W){var de=[];if(W instanceof Object)for(var X in W)X.toString().indexOf("__")==-1&&X.toString().indexOf(_.attributePrefix)==0&&de.push(X);return de}function _e(W){var de="";return W instanceof Object?de+=function(X){var ge="";return X.__cdata!=null&&(ge+="<![CDATA["+X.__cdata+"]]>"),X.__text!=null&&(_.escapeMode?ge+=b(X.__text):ge+=X.__text),ge}(W):W!=null&&(_.escapeMode?de+=b(W):de+=W),de}function ce(W,de){return W===""?de:W+"."+de}function pe(W,de,X,ge){var I="";if(W.length==0)I+=H(W,de,X,!0);else for(var Z=0;Z<W.length;Z++)I+=H(W[Z],de,G(W[Z]),!1),I+=ye(W[Z],ce(ge,de)),I+=K(W[Z],de);return I}function ye(W,de){var X="";if(F(W)>0){for(var ge in W)if(!$(W,ge)&&(de==""||Y(W,ge,ce(de,ge)))){var I=W[ge],Z=G(I);I==null||I==null?X+=H(I,ge,Z,!0):I instanceof Object?I instanceof Array?X+=pe(I,ge,Z,de):I instanceof Date?(X+=H(I,ge,Z,!1),X+=I.toISOString(),X+=K(I,ge)):F(I)>0||I.__text!=null||I.__cdata!=null?(X+=H(I,ge,Z,!1),X+=ye(I,ce(de,ge)),X+=K(I,ge)):X+=H(I,ge,Z,!0):(X+=H(I,ge,Z,!1),X+=_e(I),X+=K(I,ge))}}return X+_e(W)}this.parseXmlString=function(W){var de;if(window.ActiveXObject,W===void 0)return null;if(window.DOMParser){var X=new window.DOMParser;try{(de=X.parseFromString(W,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(de=null)}catch{de=null}}else W.indexOf("<?")==0&&(W=W.substr(W.indexOf("?>")+2)),(de=new ActiveXObject("Microsoft.XMLDOM")).async="false",de.loadXML(W);return de},this.asArray=function(W){return W===void 0||W==null?[]:W instanceof Array?W:[W]},this.toXmlDateTime=function(W){return W instanceof Date?W.toISOString():typeof W=="number"?new Date(W).toISOString():null},this.asDateTime=function(W){return typeof W=="string"?O(W):W},this.xml2json=function(W){return k(W)},this.xml_str2json=function(W){var de=this.parseXmlString(W);return de!=null?this.xml2json(de):null},this.json2xml_str=function(W){return ye(W,"")},this.json2xml=function(W){var de=this.json2xml_str(W);return this.parseXmlString(de)},this.getVersion=function(){return"1.2.0"}},Fl="onLoad";function Q0(_){_=_||{};var g,b,A,P,O,D,k=this.context,H=(0,E.Z)(k).getInstance(),K=(0,rt.Z)(k).getInstance();function $(ce,pe,ye){var W,de,X={};X.elements=ce,X.type=pe,X.resolveType=ye,X.elements.length===0&&Y(X);for(var ge=0;ge<X.elements.length;ge++)W=X.elements[ge],de=K.isHTTPURL(W.url)?W.url:W.originalContent.BaseURL+W.url,D.load(de,W,X)}function F(ce){var pe,ye,W="";if(pe=ce.element,ye=ce.resolveObject,pe.resolvedContent){var de=0;pe.resolvedContent.indexOf("<?xml")===0&&(de=pe.resolvedContent.indexOf("?>")+2),W=pe.resolvedContent.substr(0,de)+"<response>"+pe.resolvedContent.substr(de)+"</response>",pe.resolvedContent=O.xml_str2json(W)}(function(X){var ge;for(ge=0;ge<X.elements.length;ge++)if(X.elements[ge].resolved===!1)return!1;return!0})(ye)&&Y(ye)}function Y(ce){var pe,ye,W=[];if(function(de){var X,ge,I,Z,L,U,N=[];for(Z=de.elements.length-1;Z>=0;Z--){if(ge=(X=de.elements[Z]).type+"_asArray",X.resolvedContent){if(X.resolvedContent)for(L=0;L<X.resolvedContent[ge].length;L++)I=X.resolvedContent[ge][L],N.push(I)}else delete X.originalContent["xlink:actuate"],delete X.originalContent["xlink:href"],N.push(X.originalContent);for(X.parentElement[ge].splice(X.index,1),U=0;U<N.length;U++)X.parentElement[ge].splice(X.index+U,0,N[U]);N=[]}de.elements.length>0&&A.run(P)}(ce),ce.resolveType==="onActuate"&&H.trigger(m.Z.XLINK_READY,{manifest:P}),ce.resolveType===Fl)switch(ce.type){case d.Z.PERIOD:for(pe=0;pe<P[d.Z.PERIOD+"_asArray"].length;pe++)(ye=P[d.Z.PERIOD+"_asArray"][pe]).hasOwnProperty(d.Z.ADAPTATION_SET+"_asArray")&&(W=W.concat(G(ye[d.Z.ADAPTATION_SET+"_asArray"],ye,d.Z.ADAPTATION_SET,Fl))),ye.hasOwnProperty(d.Z.EVENT_STREAM+"_asArray")&&(W=W.concat(G(ye[d.Z.EVENT_STREAM+"_asArray"],ye,d.Z.EVENT_STREAM,Fl)));$(W,d.Z.ADAPTATION_SET,Fl);break;case d.Z.ADAPTATION_SET:H.trigger(m.Z.XLINK_READY,{manifest:P})}}function G(ce,pe,ye,W){var de,X,ge,I=[];for(X=ce.length-1;X>=0;X--)(de=ce[X]).hasOwnProperty("xlink:href")&&de["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&ce.splice(X,1);for(X=0;X<ce.length;X++)(de=ce[X]).hasOwnProperty("xlink:href")&&de.hasOwnProperty("xlink:actuate")&&de["xlink:actuate"]===W&&(ge=_e(de["xlink:href"],pe,ye,X,W,de),I.push(ge));return I}function _e(ce,pe,ye,W,de,X){return{url:ce,parentElement:pe,type:ye,index:W,resolveType:de,originalContent:X,resolvedContent:null,resolved:!1}}return g={resolveManifestOnLoad:function(ce){O=new K0({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:b}),(P=ce).Period_asArray?$(G(P.Period_asArray,P,d.Z.PERIOD,Fl),d.Z.PERIOD,Fl):H.trigger(m.Z.XLINK_READY,{manifest:P})},setMatchers:function(ce){ce&&(b=ce)},setIron:function(ce){ce&&(A=ce)},reset:function(){H.off(m.Z.XLINK_ELEMENT_LOADED,F,g),D&&(D.reset(),D=null)}},H.on(m.Z.XLINK_ELEMENT_LOADED,F,g),D=GM(k).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings}),g}Q0.__dashjs_factory_name="XlinkController";var qM=C.Z.getClassFactory(Q0);function Jc(_){return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},Jc(_)}function X0(_){function g(P,O){for(var D in P)O.hasOwnProperty(D)||(O[D]=P[D])}function b(P,O,D){for(var k=0,H=P.length;k<H;++k){var K=P[k];if(O[K.name])if(D[K.name]){if(K.merge){var $=O[K.name],F=D[K.name];Jc($)==="object"&&Jc(F)==="object"?g($,F):D[K.name]=$+F}}else D[K.name]=O[K.name]}}function A(P,O){for(var D=0,k=P.children.length;D<k;++D){var H=P.children[D],K=O[H.name+"_asArray"];if(K)for(var $=0,F=K.length;$<F;++$){var Y=K[$];b(P.properties,O,Y),A(H,Y)}}}return{run:function(P){if(P===null||Jc(P)!=="object")return P;if(P.Period_asArray&&"period"in _)for(var O=_.period,D=P.Period_asArray,k=0,H=D.length;k<H;++k){var K=D[k];if(A(O,K),"adaptationset"in _){var $=K.AdaptationSet_asArray;if($)for(var F=_.adaptationset,Y=0,G=$.length;Y<G;++Y)A(F,$[Y])}}return P}}}X0.__dashjs_factory_name="ObjectIron";var YM=C.Z.getClassFactory(X0);function $M(_,g){for(var b=0;b<g.length;b++){var A=g[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}var eu=function(){function _(A,P){(function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")})(this,_),this._test=A,this._converter=P}var g,b;return g=_,(b=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&$M(g.prototype,b),_}();function Yp(_){return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},Yp(_)}function Br(_,g,b){return g in _?Object.defineProperty(_,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[g]=b,_}function $p(_,g){return $p=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},$p(_,g)}function WM(_,g){return!g||Yp(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function Kd(_){return Kd=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},Kd(_)}var KM=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&$p(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=Kd(g);if(b){var k=Kd(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return WM(this,O)});function P(){return function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,P),A.call(this,function(O,D){var k,H=(Br(k={},d.Z.MPD,[d.Z.ID,d.Z.PROFILES]),Br(k,d.Z.PERIOD,[d.Z.ID]),Br(k,d.Z.BASE_URL,[d.Z.SERVICE_LOCATION,d.Z.BYTE_RANGE]),Br(k,d.Z.SEGMENT_BASE,[d.Z.INDEX_RANGE]),Br(k,d.Z.INITIALIZATION,[d.Z.RANGE]),Br(k,d.Z.REPRESENTATION_INDEX,[d.Z.RANGE]),Br(k,d.Z.SEGMENT_LIST,[d.Z.INDEX_RANGE]),Br(k,d.Z.BITSTREAM_SWITCHING,[d.Z.RANGE]),Br(k,d.Z.SEGMENT_URL,[d.Z.MEDIA_RANGE,d.Z.INDEX_RANGE]),Br(k,d.Z.SEGMENT_TEMPLATE,[d.Z.INDEX_RANGE,d.Z.MEDIA,d.Z.INDEX,d.Z.INITIALIZATION_MINUS,d.Z.BITSTREAM_SWITCHING_MINUS]),Br(k,d.Z.ASSET_IDENTIFIER,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.EVENT_STREAM,[d.Z.VALUE]),Br(k,d.Z.ADAPTATION_SET,[d.Z.PROFILES,d.Z.MIME_TYPE,d.Z.SEGMENT_PROFILES,d.Z.CODECS,d.Z.CONTENT_TYPE]),Br(k,d.Z.FRAME_PACKING,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.AUDIO_CHANNEL_CONFIGURATION,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.CONTENT_PROTECTION,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.ESSENTIAL_PROPERTY,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.SUPPLEMENTAL_PROPERTY,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.INBAND_EVENT_STREAM,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.ACCESSIBILITY,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.ROLE,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.RATING,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.VIEWPOINT,[d.Z.VALUE,d.Z.ID]),Br(k,d.Z.CONTENT_COMPONENT,[d.Z.CONTENT_TYPE]),Br(k,d.Z.REPRESENTATION,[d.Z.ID,d.Z.DEPENDENCY_ID,d.Z.MEDIA_STREAM_STRUCTURE_ID]),Br(k,d.Z.SUBSET,[d.Z.ID]),Br(k,d.Z.METRICS,[d.Z.METRICS_MINUS]),Br(k,d.Z.REPORTING,[d.Z.VALUE,d.Z.ID]),k);if(H.hasOwnProperty(D)){var K=H[D];return K!==void 0&&K.indexOf(O.name)>=0}return!1},function(O){return String(O)})}return P}(eu);function Wp(_){return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},Wp(_)}function Kp(_,g){return Kp=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},Kp(_,g)}function QM(_,g){return!g||Wp(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function Qd(_){return Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},Qd(_)}var J0=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,XM=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&Kp(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=Qd(g);if(b){var k=Qd(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return QM(this,O)});function P(){return function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,P),A.call(this,function(O){for(var D=[d.Z.MIN_BUFFER_TIME,d.Z.MEDIA_PRESENTATION_DURATION,d.Z.MINIMUM_UPDATE_PERIOD,d.Z.TIMESHIFT_BUFFER_DEPTH,d.Z.MAX_SEGMENT_DURATION,d.Z.MAX_SUBSEGMENT_DURATION,d.Z.SUGGESTED_PRESENTATION_DELAY,d.Z.START,c.Z.START_TIME,d.Z.DURATION],k=D.length,H=0;H<k;H++)if(O.nodeName===D[H])return J0.test(O.value);return!1},function(O){var D=J0.exec(O),k=31536e3*parseFloat(D[3]||0)+2592e3*parseFloat(D[5]||0)+86400*parseFloat(D[7]||0)+3600*parseFloat(D[9]||0)+60*parseFloat(D[11]||0)+parseFloat(D[13]||0);return D[1]!==void 0&&(k=-k),k})}return P}(eu);function Qp(_){return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},Qp(_)}function Xp(_,g){return Xp=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},Xp(_,g)}function JM(_,g){return!g||Qp(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function Xd(_){return Xd=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},Xd(_)}var eE=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,eR=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&Xp(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=Xd(g);if(b){var k=Xd(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return JM(this,O)});function P(){return function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,P),A.call(this,function(O){return eE.test(O.value)},function(O){var D,k=eE.exec(O);if(D=Date.UTC(parseInt(k[1],10),parseInt(k[2],10)-1,parseInt(k[3],10),parseInt(k[4],10),parseInt(k[5],10),k[6]&&parseInt(k[6],10)||0,k[7]&&1e3*parseFloat(k[7])||0),k[9]&&k[10]){var H=60*parseInt(k[9],10)+parseInt(k[10],10);D+=(k[8]==="+"?-1:1)*H*60*1e3}return new Date(D)})}return P}(eu);function Jp(_){return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},Jp(_)}function eg(_,g){return eg=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},eg(_,g)}function tR(_,g){return!g||Jp(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function Jd(_){return Jd=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},Jd(_)}var nR=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,rR=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&eg(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=Jd(g);if(b){var k=Jd(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return tR(this,O)});function P(){return function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,P),A.call(this,function(O){return nR.test(O.value)},function(O){return parseFloat(O)})}return P}(eu);function tg(_){return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},tg(_)}function tu(_,g,b){return g in _?Object.defineProperty(_,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[g]=b,_}function ng(_,g){return ng=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},ng(_,g)}function iR(_,g){return!g||tg(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function ef(_){return ef=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},ef(_)}var oR=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&ng(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=ef(g);if(b){var k=ef(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return iR(this,O)});function P(){return function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,P),A.call(this,function(O,D){var k,H=(tu(k={},d.Z.ADAPTATION_SET,[d.Z.LANG]),tu(k,d.Z.REPRESENTATION,[d.Z.LANG]),tu(k,d.Z.CONTENT_COMPONENT,[d.Z.LANG]),tu(k,d.Z.LABEL,[d.Z.LANG]),tu(k,d.Z.GROUP_LABEL,[d.Z.LANG]),k);if(H.hasOwnProperty(D)){var K=H[D];return K!==void 0&&K.indexOf(O.name)>=0}return!1},function(O){return Yd()(O)||String(O)})}return P}(eu);function sR(_,g){for(var b=0;b<g.length;b++){var A=g[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}var aR=function(){function _(A){var P;(function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")})(this,_),this._name=A,this._merge=(P=A)&&P.length&&P.charAt(0)===P.charAt(0).toUpperCase()}var g,b;return g=_,(b=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&sR(g.prototype,b),_}();function lR(_,g){for(var b=0;b<g.length;b++){var A=g[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}var Ll=function(){function _(A,P,O){var D=this;(function(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")})(this,_),this._name=A||"",this._properties=[],this._children=O||[],Array.isArray(P)&&P.forEach(function(k){D._properties.push(new aR(k))})}var g,b;return g=_,(b=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&lR(g.prototype,b),_}();function rg(_){return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},rg(_)}function ig(_,g){return ig=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},ig(_,g)}function cR(_,g){return!g||rg(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function tf(_){return tf=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},tf(_)}var uR=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&ig(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=tf(g);if(b){var k=tf(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return cR(this,O)});function P(){(function(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")})(this,P);var O=[d.Z.PROFILES,d.Z.WIDTH,d.Z.HEIGHT,d.Z.SAR,d.Z.FRAMERATE,d.Z.AUDIO_SAMPLING_RATE,d.Z.MIME_TYPE,d.Z.SEGMENT_PROFILES,d.Z.CODECS,d.Z.MAXIMUM_SAP_PERIOD,d.Z.START_WITH_SAP,d.Z.MAX_PLAYOUT_RATE,d.Z.CODING_DEPENDENCY,d.Z.SCAN_TYPE,d.Z.FRAME_PACKING,d.Z.AUDIO_CHANNEL_CONFIGURATION,d.Z.CONTENT_PROTECTION,d.Z.ESSENTIAL_PROPERTY,d.Z.ESSENTIAL_PROPERTY+"_asArray",d.Z.SUPPLEMENTAL_PROPERTY,d.Z.INBAND_EVENT_STREAM];return A.call(this,d.Z.ADAPTATION_SET,O,[new Ll(d.Z.REPRESENTATION,O,[new Ll(d.Z.SUB_REPRESENTATION,O)])])}return P}(Ll);function og(_){return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},og(_)}function sg(_,g){return sg=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},sg(_,g)}function dR(_,g){return!g||og(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function nf(_){return nf=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},nf(_)}var fR=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&sg(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=nf(g);if(b){var k=nf(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return dR(this,O)});function P(){(function(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")})(this,P);var O=[d.Z.SEGMENT_BASE,d.Z.SEGMENT_TEMPLATE,d.Z.SEGMENT_LIST];return A.call(this,d.Z.PERIOD,O,[new Ll(d.Z.ADAPTATION_SET,O,[new Ll(d.Z.REPRESENTATION,O)])])}return P}(Ll);function tE(_){_=_||{};var g,b,A,P,O,D=this.context,k=_.debug;return g={parse:function(H){var K,$=window.performance.now();if(!(K=P.xml_str2json(H)))throw new Error("parsing the manifest failed");var F=window.performance.now();K.Patch?((K=K.Patch).add_asArray&&K.add_asArray.forEach(function(G){return O.run(G)}),K.replace_asArray&&K.replace_asArray.forEach(function(G){return O.run(G)})):(K=K.MPD,O.run(K));var Y=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(F-$).toPrecision(3)+"ms, objectiron: "+(Y-F).toPrecision(3)+"ms, total: "+((Y-$)/1e3).toPrecision(3)+"s)"),K.protocol="DASH",K},getMatchers:function(){return A},getIron:function(){return O}},b=k.getLogger(g),A=[new XM,new eR,new rR,new oR,new KM],P=new K0({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:A}),O=YM(D).create({adaptationset:new uR,period:new fR}),g}tE.__dashjs_factory_name="DashParser";var hR=C.Z.getClassFactory(tE);function nE(_){_=_||{};var g,b,A,P,O,D=this.context,k=_.debug,H=_.settings,K=(0,E.Z)(D).getInstance(),$=(0,rt.Z)(D).getInstance(),F=_.mssHandler,Y=_.errHandler;function G(ce){K.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:ce.manifest})}function _e(ce){var pe=null;return ce.indexOf("SmoothStreamingMedia")>-1?(F&&(pe=F.createMssParser(),F.createMssFragmentProcessor(),F.registerEvents()),pe):ce.indexOf("MPD")>-1||ce.indexOf("Patch")>-1?hR(D).create({debug:k}):pe}return g={load:function(ce){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,W=new Date,de=new $0(ce,xe.w.MPD_TYPE);pe&&(de.serviceLocation=pe),ye&&(de.queryParams=ye),de.requestStartDate||(de.requestStartDate=W),K.trigger(m.Z.MANIFEST_LOADING_STARTED,{request:de}),A.load({request:de,success:function(X,ge,I){var Z,L,U;if(P)if(I&&I!==ce?(L=$.parseBaseUrl(I),Z=I):($.isRelative(ce)&&(ce=$.resolve(ce,window.location.href)),L=$.parseBaseUrl(ce)),ge!="No Content")if(O===null&&(O=_e(X)),O!==null){P.setMatchers(O.getMatchers()),P.setIron(O.getIron());try{U=O.parse(X)}catch{return void K.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new le.Z(ie.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ie.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))})}if(U){if(U.url=Z||ce,U.originalUrl||(U.originalUrl=U.url),H&&H.get().streaming.enableManifestDurationMismatchFix&&U.mediaPresentationDuration&&U.Period_asArray.length>1){var N=U.Period_asArray.reduce(function(ue,te){return ue+te.duration},0);!isNaN(N)&&U.mediaPresentationDuration>N&&(b.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),U.mediaPresentationDuration=N)}U.baseUri=L,U.loadedTime=new Date,P.resolveManifestOnLoad(U),K.trigger(m.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:X})}else K.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new le.Z(ie.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ie.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))})}else K.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new le.Z(ie.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ie.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))});else K.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(X,ge,I){K.trigger(m.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new le.Z(ie.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,ie.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ce,", ").concat(I))})}})},reset:function(){K.off(m.Z.XLINK_READY,G,g),F&&F.reset(),P&&(P.reset(),P=null),A&&(A.abort(),A=null)}},b=k.getLogger(g),K.on(m.Z.XLINK_READY,G,g),A=Pi(D).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,urlUtils:$,constants:c.Z,dashConstants:d.Z,errors:ie,requestTimeout:_.settings.get().streaming.manifestRequestTimeout}),P=qM(D).create({errHandler:Y,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings}),O=null,g}nE.__dashjs_factory_name="ManifestLoader";var mR=C.Z.getClassFactory(nE);function rE(){var _=this.context,g=(0,E.Z)(_).getInstance();return{error:function(b){g.trigger(m.Z.ERROR,{error:b})}}}rE.__dashjs_factory_name="ErrorHandler";var pR=C.Z.getSingletonFactory(rE),iE=l(1715);function oE(){var _,g,b,A,P,O,D=this.context,k=(0,E.Z)(D).getInstance();function H(K,$){if(!$||!$.Period_asArray||$.Period_asArray.length===0)return Promise.resolve();var F=[];return $.Period_asArray.forEach(function(Y){F.push(function(G,_e){return new Promise(function(ce){if(G&&G.AdaptationSet_asArray&&G.AdaptationSet_asArray.length!==0){var pe=[];G.AdaptationSet_asArray.forEach(function(ye){g.getIsTypeOf(ye,_e)&&pe.push(function(W,de){return new Promise(function(X){if(W.Representation_asArray&&W.Representation_asArray.length!==0){var ge=[],I=[];W.Representation_asArray.forEach(function(Z,L){var U=g.getCodec(W,L,!1),N=function(ue,te,fe){switch(ue){case c.Z.VIDEO:return function(oe,z){return{codec:z,width:oe.width||null,height:oe.height||null,framerate:oe.frameRate||null,bitrate:oe.bandwidth||null}}(te,fe);case c.Z.AUDIO:return function(oe,z){var ae=oe.audioSamplingRate||null;return{codec:z,bitrate:oe.bandwidth||null,samplerate:ae}}(te,fe);default:return null}}(de,Z,U);I.push(N),ge.push(b.supportsCodec(N,de))}),Promise.all(ge).then(function(Z){W.Representation_asArray=W.Representation_asArray.filter(function(L,U){return Z[U]||O.debug("[Stream] Codec ".concat(I[U].codec," not supported ")),Z[U]}),X()}).catch(function(){X()})}else X()})}(ye,_e))}),Promise.all(pe).then(function(){G.AdaptationSet_asArray=G.AdaptationSet_asArray.filter(function(ye){var W=ye.Representation_asArray&&ye.Representation_asArray.length>0;return W||(k.trigger(m.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:ye}),O.warn("AdaptationSet has been removed because of no supported Representation")),W}),ce()}).catch(function(){ce()})}else ce()})}(Y,K))}),Promise.all(F)}return _={setConfig:function(K){K&&(K.adapter&&(g=K.adapter),K.capabilities&&(b=K.capabilities),K.settings&&(A=K.settings),K.customParametersModel&&(P=K.customParametersModel))},filterUnsupportedFeatures:function(K){return new Promise(function($){var F=[];F.push(H(c.Z.VIDEO,K)),F.push(H(c.Z.AUDIO,K)),Promise.all(F).then(function(){A.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(Y){Y&&Y.Period_asArray&&Y.Period_asArray.length!==0&&Y.Period_asArray.forEach(function(G){G.AdaptationSet_asArray=G.AdaptationSet_asArray.filter(function(_e){return!_e.Representation_asArray||_e.Representation_asArray.length===0||(_e.Representation_asArray=_e.Representation_asArray.filter(function(ce){var pe=g.getEssentialPropertiesForRepresentation(ce);if(pe&&pe.length>0)for(var ye=0;ye<pe.length;){if(!b.supportsEssentialProperty(pe[ye]))return O.debug("[Stream] EssentialProperty not supported: "+pe[ye].schemeIdUri),!1;ye+=1}return!0}),_e.Representation_asArray&&_e.Representation_asArray.length>0)})})}(K),function(Y){var G=P.getCustomCapabilitiesFilters();G&&G.length!==0&&Y&&Y.Period_asArray&&Y.Period_asArray.length!==0&&Y.Period_asArray.forEach(function(_e){_e.AdaptationSet_asArray=_e.AdaptationSet_asArray.filter(function(ce){return!ce.Representation_asArray||ce.Representation_asArray.length===0||(ce.Representation_asArray=ce.Representation_asArray.filter(function(pe){return!G.some(function(ye){return!ye(pe)})}),ce.Representation_asArray&&ce.Representation_asArray.length>0)})})}(K),$()}).catch(function(){$()})})}},O=(0,S.Z)(D).getInstance().getLogger(_),_}oE.__dashjs_factory_name="CapabilitiesFilter";var gR=C.Z.getSingletonFactory(oE),_R=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function sE(){var _;return{initialize:function(g){if(_=new _R,!g)return null;var b=g.indexOf("#");if(b!==-1)for(var A=g.substr(b+1).split("&"),P=0,O=A.length;P<O;++P){var D=A[P],k=D.indexOf("=");if(k!==-1){var H=D.substring(0,k);_.hasOwnProperty(H)&&(_[H]=D.substr(k+1))}}},getURIFragmentData:function(){return _}}}sE.__dashjs_factory_name="URIFragmentModel";var vR=C.Z.getSingletonFactory(sE);function aE(){var _,g=this.context,b=(0,E.Z)(g).getInstance();return{getValue:function(){return _},setValue:function(A){_=A,A&&b.trigger(m.Z.MANIFEST_LOADED,{data:A})}}}aE.__dashjs_factory_name="ManifestModel";var yR=C.Z.getSingletonFactory(aE),ag=-.5;function lE(){var _,g,b,A,P=this.context,O=(0,Se.Z)(P).getInstance();function D(K,$){return isNaN(K)?0:K>0?($&&g.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):K<ag?($&&g.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(ag,": ").concat(-50,"% playback speed.")),ag):K}function k(K,$){return isNaN(K)?0:K<0?($&&g.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):K>1?($&&g.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):K}function H(){var K=O.get().streaming.buffer.stableBufferTime>0?O.get().streaming.buffer.stableBufferTime:O.get().streaming.buffer.fastSwitchEnabled?20:12,$=b.getLiveDelay();return!isNaN($)&&$>0?Math.min(K,$):K}return _={getCatchupMaxDrift:function(){if(!isNaN(O.get().streaming.liveCatchup.maxDrift)&&O.get().streaming.liveCatchup.maxDrift>0)return O.get().streaming.liveCatchup.maxDrift;var K=A.getServiceDescriptionSettings();return K&&K.liveCatchup&&!isNaN(K.liveCatchup.maxDrift)&&K.liveCatchup.maxDrift>0?K.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return O.get().streaming.liveCatchup.enabled!==null?O.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:H,getInitialBufferLevel:function(){var K=O.get().streaming.buffer.initialBufferLevel;return isNaN(K)||K<0?0:Math.min(H(),K)},getRetryAttemptsForType:function(K){var $=isNaN(O.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:O.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?O.get().streaming.retryAttempts[K]*$:O.get().streaming.retryAttempts[K]},getRetryIntervalsForType:function(K){var $=isNaN(O.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:O.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?O.get().streaming.retryIntervals[K]/$:O.get().streaming.retryIntervals[K]},getCatchupPlaybackRates:function(K){var $=O.get().streaming.liveCatchup.playbackRate;if(!isNaN($.min)||!isNaN($.max))return{min:D($.min,K),max:k($.max,K)};var F=A.getServiceDescriptionSettings();if(F&&F.liveCatchup&&(!isNaN(F.liveCatchup.playbackRate.min)||!isNaN(F.liveCatchup.playbackRate.max))){var Y=F.liveCatchup.playbackRate;return{min:D(Y.min,K),max:k(Y.max,K)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(K,$){try{var F=O.get().streaming.abr[K][$];if(!isNaN(F)&&F!==-1)return F;var Y=A.getServiceDescriptionSettings();return Y&&Y[K]&&!isNaN(Y[K][$])?Y[K][$]:-1}catch{return-1}},setConfig:function(K){K.playbackController&&(b=K.playbackController),K.serviceDescriptionController&&(A=K.serviceDescriptionController)},reset:function(){}},g=(0,S.Z)(P).getInstance().getLogger(_),_}lE.__dashjs_factory_name="MediaPlayerModel";var bR=C.Z.getSingletonFactory(lE),ER=l(1767);function cE(_){var g=(_=_||{}).abrController,b=_.switchHistory,A=_.droppedFramesHistory,P=_.currentRequest,O=_.useBufferOccupancyABR,D=_.useL2AABR,k=_.useLoLPABR,H=_.streamProcessor?_.streamProcessor.getScheduleController():null,K=_.streamProcessor?_.streamProcessor.getRepresentationInfo():null,$=_.videoModel?_.videoModel:null;function F(){return K?K.mediaInfo:null}return{getMediaType:function(){var Y=F();return Y?Y.type:null},getMediaInfo:F,getDroppedFramesHistory:function(){return A},getCurrentRequest:function(){return P},getSwitchHistory:function(){return b},getStreamInfo:function(){var Y=F();return Y?Y.streamInfo:null},getScheduleController:function(){return H},getAbrController:function(){return g},getRepresentationInfo:function(){return K},useBufferOccupancyABR:function(){return O},useL2AABR:function(){return D},useLoLPABR:function(){return k},getVideoModel:function(){return $}}}cE.__dashjs_factory_name="RulesContext";var uE=C.Z.getClassFactory(cE),rf=l(2068);function dE(){var _=[],g=[];return{push:function(b){b.newValue===rf.Z.NO_CHANGE&&(b.newValue=b.oldValue),_[b.oldValue]||(_[b.oldValue]={noDrops:0,drops:0,dropSize:0});var A=b.newValue-b.oldValue,P=A<0?1:0,O=P?-A:0,D=P?0:1;if(_[b.oldValue].drops+=P,_[b.oldValue].dropSize+=O,_[b.oldValue].noDrops+=D,g.push({idx:b.oldValue,noDrop:D,drop:P,dropSize:O}),g.length>8){var k=g.shift();_[k.idx].drops-=k.drop,_[k.idx].dropSize-=k.dropSize,_[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function(){return _},reset:function(){_=[],g=[]}}}dE.__dashjs_factory_name="SwitchRequestHistory";var wR=C.Z.getClassFactory(dE);function fE(){var _={},g={},b={};return{push:function(A,P,O){if(P){_[A]||(_[A]=[],g[A]=0,b[A]=0);var D=O&&O.droppedVideoFrames?O.droppedVideoFrames:0,k=O&&O.totalVideoFrames?O.totalVideoFrames:0,H=D-g[A];g[A]=D;var K=k-b[A];b[A]=k;var $=_[A];isNaN(P)||($[P]?($[P].droppedVideoFrames+=H,$[P].totalVideoFrames+=K):$[P]={droppedVideoFrames:H,totalVideoFrames:K})}},getFrameHistory:function(A){return _[A]},clearForStream:function(A){try{delete _[A],delete g[A],delete b[A]}catch{}},reset:function(){_={},g={},b={}}}}fE.__dashjs_factory_name="DroppedFramesHistory";var TR=C.Z.getClassFactory(fE);function hE(_){var g,b,A,P,O,D=this.context,k=(_=_||{}).settings,H=(0,E.Z)(D).getInstance();function K(ce,pe,ye,W){var de=Math.pow(.5,ye/W.fast);ce.fastEstimate=(1-de)*pe+de*ce.fastEstimate;var X=Math.pow(.5,ye/W.slow);ce.slowEstimate=(1-X)*pe+X*ce.slowEstimate,ce.totalWeight+=ye}function $(ce,pe,ye){return k.get().streaming.abr.movingAverageMethod!==c.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(W,de){var X=W?O.throughputHalfLife:O.latencyHalfLife,ge=W?A[de]:P[de];if(!ge||ge.totalWeight<=0)return NaN;var I=ge.fastEstimate/(1-Math.pow(.5,ge.totalWeight/X.fast)),Z=ge.slowEstimate/(1-Math.pow(.5,ge.totalWeight/X.slow));return W?Math.min(I,Z):Math.max(I,Z)}(ce,pe):function(W,de,X){var ge=function(Z,L,U){var N,ue;if(Z?(N=g[L],ue=U?3:4):(N=b[L],ue=4),N){if(ue>=N.length)ue=N.length;else if(Z)for(var te=1;te<ue;++te){var fe=N[N.length-te]/N[N.length-te-1];if((fe>=1.3||fe<=.7692307692307692)&&(ue+=1)===N.length)break}}else ue=0;return ue}(W,de,X),I=(W?g:b)[de];return ge!==0&&I&&I.length!==0?(I=I.slice(-ge)).reduce(function(Z,L){return Z+L})/I.length:NaN}(ce,pe,ye)}function F(ce,pe){return $(!0,ce,pe)}function Y(ce){g[ce]=g[ce]||[],b[ce]=b[ce]||[],A[ce]=A[ce]||{fastEstimate:0,slowEstimate:0,totalWeight:0},P[ce]=P[ce]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function G(){g={},b={},A={},P={}}var _e={push:function(ce,pe,ye){if(pe.trace&&pe.trace.length){var W,de=pe.tresponse.getTime()-pe.trequest.getTime()||1,X=pe._tfinish.getTime()-pe.tresponse.getTime()||1,ge=pe.trace.reduce(function(U,N){return U+N.b[0]},0),I=0;if((W=pe._fileLoaderType&&pe._fileLoaderType===c.Z.FILE_LOADER_TYPES.FETCH?pe.trace.reduce(function(U,N){return U+N.d},0):ye?X:de+X)!==0&&(I=Math.round(8*ge/W)),pe.cmsd){var Z=pe.cmsd.dynamic&&pe.cmsd.dynamic.etp?pe.cmsd.dynamic.etp:null;if(Z){var L=k.get().streaming.cmsd.abr.etpWeightRatio;L>0&&L<=1&&(I=I*(1-L)+Z*L)}}if(Y(ce),function(U,N,ue){return U===c.Z.VIDEO?ue<k.get().streaming.cacheLoadThresholds[c.Z.VIDEO]:U===c.Z.AUDIO?ue<k.get().streaming.cacheLoadThresholds[c.Z.AUDIO]:void 0}(ce,0,X)){if(g[ce].length>0&&!g[ce].hasCachedEntries)return;g[ce].hasCachedEntries=!0}else g[ce]&&g[ce].hasCachedEntries&&function(U){delete g[U],delete b[U],delete A[U],delete P[U],Y(U)}(ce);g[ce].push(I),H.trigger(h.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:I,mediaType:ce,httpRequest:pe}),g[ce].length>20&&g[ce].shift(),b[ce].push(de),b[ce].length>20&&b[ce].shift(),K(A[ce],I,.001*X,O.throughputHalfLife),K(P[ce],de,1,O.latencyHalfLife)}},getAverageThroughput:F,getSafeAverageThroughput:function(ce,pe){var ye=F(ce,pe);return isNaN(ye)||(ye*=k.get().streaming.abr.bandwidthSafetyFactor),ye},getAverageLatency:function(ce){return $(!1,ce)},reset:G};return O={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},G(),_e}hE.__dashjs_factory_name="ThroughputHistory";var SR=C.Z.getClassFactory(hE);function lg(){var _,g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe,ye,W,de,X,ge,I,Z,L,U,N,ue=this.context,te=(0,S.Z)(ue).getInstance(),fe=(0,E.Z)(ue).getInstance();function oe(){P={},O={},k={},D={},de={},I={},Z={},L={},K===void 0&&(K=!1),X&&X.reset(),W=void 0,X=void 0,ge=void 0,clearTimeout(H),H=null}function z(Ae){var Ge=Ae.request.mediaType,_t=Ae.streamId;if(Ge&&_t&&D[_t]&&N.get().streaming.abr.autoSwitchBitrate[Ge]){var Xe=D[_t][Ge];if(Xe){var St=uE(ue).create({abrController:_,streamProcessor:Xe,currentRequest:Ae.request,useBufferOccupancyABR:I[Ge],useL2AABR:Z[Ge],useLoLPABR:L[Ge],videoModel:G}),wt=b.shouldAbandonFragment(St,_t);wt.quality>rf.Z.NO_CHANGE&&Xe.getFragmentModel().getRequests({state:ee.FRAGMENT_MODEL_LOADING,index:Ae.request.index})[0]&&(k[_t][Ge].state=p.Z.ABANDON_LOAD,de[_t][Ge].reset(),de[_t][Ge].push({oldValue:Ve(Ge,_t),newValue:wt.quality,confidence:1,reason:wt.reason}),ke(Ge,A.getActiveStreamInfo(),wt.quality,wt.reason),clearTimeout(H),H=setTimeout(function(){k[_t][Ge].state=p.Z.ALLOW_LOAD,H=null},N.get().streaming.abandonLoadTimeout))}}}function ae(Ae){Ae.mediaType===c.Z.VIDEO&&(W!==void 0&&X.push(Ae.streamId,W,G.getPlaybackQuality()),W=Ae.newQuality)}function be(Ae){var Ge,_t;Ae.metric!==p.Z.HTTP_REQUEST||!Ae.value||Ae.value.type!==xe.w.MEDIA_SEGMENT_TYPE||Ae.mediaType!==c.Z.AUDIO&&Ae.mediaType!==c.Z.VIDEO||ge.push(Ae.mediaType,Ae.value,N.get().streaming.abr.useDeadTimeLatency),Ae.metric!==p.Z.BUFFER_LEVEL||Ae.mediaType!==c.Z.AUDIO&&Ae.mediaType!==c.Z.VIDEO||(Ge=Ae.mediaType,_t=.001*Ae.value.level,N.get().streaming.abr.ABRStrategy===c.Z.ABR_STRATEGY_DYNAMIC&&function(Xe,St){try{var wt=_e.getStableBufferTime(),mt=wt,tn=.5*wt,en=I[Xe],xn=St>(en?tn:mt);I[Xe]=xn,xn!==en&&(xn?g.info("["+Xe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+St.toFixed(3)+")."):g.info("["+Xe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+St.toFixed(3)+")."))}catch(Nn){g.error(Nn)}}(Ge,_t))}function Ue(Ae,Ge){try{var _t;return P[Ge]=P[Ge]||{},P[Ge].hasOwnProperty(Ae)||(P[Ge][Ae]=0),_t=function(Xe,St){var wt=P[St][Xe],mt=wt;if(!D[St]||!D[St][Xe])return mt;var tn=Re(Xe,St);tn!==void 0&&(mt=Math.max(wt,tn));var en=function(xn,Nn){try{var Ke=_e.getAbrBitrateParameter("maxBitrate",xn);return Ke>-1?ot(D[Nn][xn].getMediaInfo(),Ke,Nn):void 0}catch{return}}(Xe,St);return en!==void 0&&(mt=Math.min(mt,en)),mt}(Ae,Ge),_t=function(Xe,St,wt){var mt=P[wt][St],tn=N.get().streaming.abr.maxRepresentationRatio[St];return isNaN(tn)||tn>=1||tn<0?Xe:Math.min(Xe,Math.round(mt*tn))}(_t,Ae,Ge),_t=function(Xe,St,wt){if(St!==c.Z.VIDEO||!N.get().streaming.abr.limitBitrateByPortal||!D[wt]||!D[wt][St])return Xe;K||Yt();var mt=D[wt][St].getStreamInfo(),tn=Y.getAdaptationForType(mt.index,St,mt).Representation_asArray,en=Xe;if($>0&&F>0){for(;en>0&&tn[en]&&$<tn[en].width&&$-tn[en-1].width<tn[en].width-$;)en-=1;for(;en<tn.length-1&&tn[en].width===tn[en+1].width;)en+=1}return en}(_t,Ae,Ge),N.get().streaming.cmsd.enabled&&N.get().streaming.cmsd.abr.applyMb&&(_t=function(Xe,St,wt){if(St!=="video")return Xe;var mt=pe.getMaxBitrate(St);if(mt<0)return Xe;var tn=dt(wt,"audio",Ve("audio",wt));mt-=tn?tn.bitrate/1e3:0;var en=ot(D[wt][St].getMediaInfo(),mt,wt);return g.debug("Stream ID: "+wt+" ["+St+"] Apply max bit rate from CMSD: "+mt),Math.min(Xe,en)}(_t,Ae,Ge)),_t}catch{return}}function Re(Ae,Ge){try{return function(_t,Xe){try{var St=_e.getAbrBitrateParameter("minBitrate",_t);if(St>-1){var wt=D[Xe][_t].getMediaInfo(),mt=st(wt),tn=ot(wt,St,Xe);return mt[tn]&&tn<mt.length-1&&mt[tn].bitrate<1e3*St&&tn++,tn}return}catch{return}}(Ae,Ge)}catch{return}}function Ve(Ae){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{return Ge||(Ge=A.getActiveStreamInfo().id),Ae&&D[Ge]&&D[Ge][Ae]&&Ge?(O[Ge]=O[Ge]||{},O[Ge].hasOwnProperty(Ae)||(O[Ge][Ae]=0),O[Ge][Ae]):0}catch{return 0}}function ke(Ae,Ge,_t){var Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(Ge&&Ge.id&&Ae){var St=Ge.id,wt=Ve(Ae,St);(0,ne.SE)(_t);var mt=Ue(Ae,St);_t!==wt&&_t>=0&&_t<=mt&&ct(Ae,wt,_t,mt,Xe,St)}}function ct(Ae,Ge,_t,Xe,St,wt){if(Ae&&D[wt]&&D[wt][Ae]){var mt=D[wt][Ae].getStreamInfo(),tn=mt&&mt.manifestInfo&&mt.manifestInfo.isDynamic,en=U.getCurrentBufferLevel(Ae);g.info("Stream ID: "+wt+" ["+Ae+"] switch from "+Ge+" to "+_t+"/"+Xe+" (buffer: "+en+") "+(St?JSON.stringify(St):".")),O[wt]=O[wt]||{},O[wt][Ae]=_t;var xn=dt(wt,Ae,_t);fe.trigger(m.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:Ge,newQuality:_t,reason:St,streamInfo:mt,bitrateInfo:xn,maxIdx:Xe,mediaType:Ae},{streamId:mt.id,mediaType:Ae});var Nn=ge.getAverageThroughput(Ae,tn);isNaN(Nn)||ye.setSavedBitrateSettings(Ae,Nn)}}function dt(Ae,Ge,_t){if(Ge&&D&&D[Ae]&&D[Ae][Ge]){var Xe=st(D[Ae][Ge].getMediaInfo());return Xe[_t]?Xe[_t]:null}return null}function ot(Ae,Ge,_t){var Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,St=Ae&&Ae.type?D[_t][Ae.type].getRepresentationInfo():null;if(N.get().streaming.abr.useDeadTimeLatency&&Xe&&St&&St.fragmentDuration){Xe/=1e3;var wt=St.fragmentDuration;if(Xe>wt)return 0;var mt=Xe/wt;Ge*=1-mt}for(var tn=st(Ae),en=tn.length-1;en>=0;en--){var xn=tn[en];if(1e3*Ge>=xn.bitrate)return en}return 0}function st(Ae){var Ge=[];if(!Ae||!Ae.bitrateList)return Ge;for(var _t,Xe=Ae.bitrateList,St=Ae.type,wt=0,mt=Xe.length;wt<mt;wt++)(_t=new Vd).mediaType=St,_t.qualityIndex=wt,_t.bitrate=Xe[wt].bandwidth,_t.width=Xe[wt].width,_t.height=Xe[wt].height,_t.scanType=Xe[wt].scanType,Ge.push(_t);return Ge}function Yt(){if(G){var Ae=N.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;$=G.getClientWidth()*Ae,F=G.getClientHeight()*Ae}}return _={initialize:function(){X=TR(ue).create(),ge=SR(ue).create({settings:N}),(b=(0,ER.Z)(ue).create({dashMetrics:U,customParametersModel:ce,mediaPlayerModel:_e,settings:N})).initialize(),fe.on(h.Z.QUALITY_CHANGE_RENDERED,ae,_),fe.on(h.Z.METRIC_ADDED,be,_),fe.on(m.Z.LOADING_PROGRESS,z,_)},isPlayingAtTopQuality:function(Ae){var Ge=Ae?Ae.id:null,_t=Ve(c.Z.AUDIO,Ge),Xe=Ve(c.Z.VIDEO,Ge);return _t===Ue(c.Z.AUDIO,Ge)&&Xe===Ue(c.Z.VIDEO,Ge)},updateTopQualityIndex:function(Ae){var Ge=Ae.type,_t=Ae.streamInfo.id,Xe=Ae.representationCount-1;return P[_t]=P[_t]||{},P[_t][Ge]=Xe,Xe},clearDataForStream:function(Ae){X&&X.clearForStream(Ae),D[Ae]&&delete D[Ae],de[Ae]&&delete de[Ae],k[Ae]&&delete k[Ae]},getThroughputHistory:function(){return ge},getBitrateList:st,getQualityForBitrate:ot,getTopBitrateInfoFor:function(Ae){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Ge||(Ge=A.getActiveStreamInfo().id),Ae&&D&&D[Ge]&&D[Ge][Ae]){var _t=Ue(Ae,Ge),Xe=st(D[Ge][Ae].getMediaInfo());return Xe[_t]?Xe[_t]:null}return null},getMinAllowedIndexFor:Re,getMaxAllowedIndexFor:Ue,getInitialBitrateFor:function(Ae,Ge){if(function(){if(!ye||!ye.hasOwnProperty("getSavedBitrateSettings"))throw new Error(c.Z.MISSING_CONFIG_ERROR)}(),Ae===c.Z.TEXT)return NaN;var _t=ye.getSavedBitrateSettings(Ae),Xe=_e.getAbrBitrateParameter("initialBitrate",Ae),St=N.get().streaming.abr.initialRepresentationRatio[Ae];if(Xe===-1)if(St>-1){var wt=D[Ge][Ae].getStreamInfo(),mt=Y.getAdaptationForType(wt.index,Ae,wt).Representation_asArray;Xe=Array.isArray(mt)?mt[Math.max(Math.round(mt.length*St)-1,0)].bandwidth/1e3:0}else Xe=isNaN(_t)?Ae===c.Z.VIDEO?1e3:100:_t;return Xe},getQualityFor:Ve,getAbandonmentStateFor:function(Ae,Ge){return k[Ae]&&k[Ae][Ge]?k[Ae][Ge].state:null},setPlaybackQuality:ke,checkPlaybackQuality:function(Ae,Ge){try{if(!(Ae&&D&&D[Ge]&&D[Ge][Ae]))return!1;if(X){var _t=G.getPlaybackQuality();_t&&X.push(Ge,W,_t)}if(!N.get().streaming.abr.autoSwitchBitrate[Ae])return!1;var Xe=Ve(Ae,Ge),St=uE(ue).create({abrController:_,switchHistory:de[Ge][Ae],droppedFramesHistory:X,streamProcessor:D[Ge][Ae],currentValue:Xe,useBufferOccupancyABR:I[Ae],useL2AABR:Z[Ae],useLoLPABR:L[Ae],videoModel:G}),wt=Re(Ae,Ge),mt=Ue(Ae,Ge),tn=b.getMaxQuality(St),en=tn.quality;return wt!==void 0&&(en>rf.Z.NO_CHANGE?en:Xe)<wt&&(en=wt),en>mt&&(en=mt),de[Ge][Ae].push({oldValue:Xe,newValue:en}),en>rf.Z.NO_CHANGE&&en!==Xe&&(k[Ge][Ae].state===p.Z.ALLOW_LOAD||en<Xe)&&(ct(Ae,Xe,en,mt,tn.reason,Ge),!0)}catch{return!1}},setElementSize:Yt,setWindowResizeEventCalled:function(Ae){K=Ae},registerStreamType:function(Ae,Ge){var _t=Ge.getStreamInfo().id;D[_t]||(D[_t]={}),de[_t]||(de[_t]={}),k[_t]||(k[_t]={}),de[_t][Ae]=wR(ue).create(),D[_t][Ae]=Ge,k[_t][Ae]={},k[_t][Ae].state=p.Z.ALLOW_LOAD,function(Xe){var St=N.get().streaming.abr.ABRStrategy;St===c.Z.ABR_STRATEGY_L2A?(I[Xe]=!1,L[Xe]=!1,Z[Xe]=!0):St===c.Z.ABR_STRATEGY_LoLP?(I[Xe]=!1,L[Xe]=!0,Z[Xe]=!1):St===c.Z.ABR_STRATEGY_BOLA?(I[Xe]=!0,L[Xe]=!1,Z[Xe]=!1):St===c.Z.ABR_STRATEGY_THROUGHPUT?(I[Xe]=!1,L[Xe]=!1,Z[Xe]=!1):St===c.Z.ABR_STRATEGY_DYNAMIC&&(I[Xe]=!(!I||!I[Xe])&&I[Xe],L[Xe]=!1,Z[Xe]=!1)}(Ae),Ae===c.Z.VIDEO&&Yt()},unRegisterStreamType:function(Ae,Ge){try{D[Ae]&&D[Ae][Ge]&&delete D[Ae][Ge],de[Ae]&&de[Ae][Ge]&&delete de[Ae][Ge],k[Ae]&&k[Ae][Ge]&&delete k[Ae][Ge]}catch{}},setConfig:function(Ae){Ae&&(Ae.streamController&&(A=Ae.streamController),Ae.domStorage&&(ye=Ae.domStorage),Ae.mediaPlayerModel&&(_e=Ae.mediaPlayerModel),Ae.customParametersModel&&(ce=Ae.customParametersModel),Ae.cmsdModel&&(pe=Ae.cmsdModel),Ae.dashMetrics&&(U=Ae.dashMetrics),Ae.adapter&&(Y=Ae.adapter),Ae.videoModel&&(G=Ae.videoModel),Ae.settings&&(N=Ae.settings))},reset:function(){oe(),fe.off(m.Z.LOADING_PROGRESS,z,_),fe.off(h.Z.QUALITY_CHANGE_RENDERED,ae,_),fe.off(h.Z.METRIC_ADDED,be,_),b&&b.reset()}},g=te.getLogger(_),oe(),_}lg.__dashjs_factory_name="AbrController";var cg=C.Z.getSingletonFactory(lg);cg.QUALITY_DEFAULT=0,C.Z.updateSingletonFactory(lg.__dashjs_factory_name,cg);var CR=cg,IR=new Map([[c.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[c.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[c.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[c.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function mE(){var _,g,b,A,P,O,D,k,H=this.context,K=(0,E.Z)(H).getInstance(),$=[];function F(){b&&(b.playbackRate=1,b.removeEventListener("canplay",F))}function Y(){return $.length>0}function G(){if(b&&Y()&&b.playbackRate===0){var X=document.createEvent("Event");X.initEvent("waiting",!0,!1),b.dispatchEvent(X)}}function _e(X,ge){b&&b.addEventListener(X,ge)}function ce(X,ge){b&&b.removeEventListener(X,ge)}function pe(){return b?b.readyState:NaN}function ye(){return b?b.buffered:null}function W(X,ge,I,Z,L){if(b){for(var U=0;U<b.textTracks.length;U++)if(b.textTracks[U].kind===X&&(!ge||b.textTracks[U].label==ge)&&b.textTracks[U].language===I&&b.textTracks[U].isTTML===Z&&b.textTracks[U].isEmbedded===L)return b.textTracks[U]}return null}function de(X,ge){return X===c.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||pe()>=X?(ge(),null):function(I,Z){var L=function U(){ce(I,U),Z(I)};return _e(I,L),{func:L,event:I}}(IR.get(X),ge)}return _={addEventListener:_e,addTextTrack:function(X,ge,I,Z,L){if(!b)return null;var U=W(X,ge,I,Z,L);return U||((U=b.addTextTrack(X,ge,I)).isEmbedded=L,U.isTTML=Z),U},appendChild:function(X){b&&(b.appendChild(X),X.isTTML!==void 0&&(b.textTracks[b.textTracks.length-1].isTTML=X.isTTML,b.textTracks[b.textTracks.length-1].isEmbedded=X.isEmbedded))},getBufferRange:ye,getClientHeight:function(){return b?b.clientHeight:NaN},getClientWidth:function(){return b?b.clientWidth:NaN},getElement:function(){return b},getEnded:function(){return b?b.ended:null},getPlaybackQuality:function(){if(!b)return null;var X="webkitDroppedFrameCount"in b&&"webkitDecodedFrameCount"in b,ge=null;return"getVideoPlaybackQuality"in b?ge=b.getVideoPlaybackQuality():X&&(ge={droppedVideoFrames:b.webkitDroppedFrameCount,totalVideoFrames:b.webkitDroppedFrameCount+b.webkitDecodedFrameCount,creationTime:new Date}),ge},getPlaybackRate:function(){return b?b.playbackRate:null},getPlayedRanges:function(){return b?b.played:null},getReadyState:pe,getSource:function(){return b?b.src:null},getTTMLRenderingDiv:function(){return O},getTextTrack:W,getTextTracks:function(){return b?b.textTracks:[]},getTime:function(){return b?isNaN(A)?b.currentTime:A:null},getVideoHeight:function(){return b?b.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(b){var X=b.parentNode.host||b.parentNode;return X?b.getBoundingClientRect().left-X.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(b){var X=b.parentNode.host||b.parentNode;return X?b.getBoundingClientRect().top-X.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return b?b.videoWidth:NaN},getVttRenderingDiv:function(){return D},initialize:function(){K.on(m.Z.PLAYBACK_PLAYING,G,this)},isPaused:function(){return b?b.paused:null},isSeeking:function(){return b?b.seeking||!isNaN(A):null},isStalled:Y,pause:function(){b&&(b.pause(),b.autoplay=!1)},play:function(){if(b){b.autoplay=!0;var X=b.play();X&&X.catch&&typeof Promise<"u"&&X.catch(function(ge){ge.name==="NotAllowedError"&&K.trigger(m.Z.PLAYBACK_NOT_ALLOWED),g.warn("Caught pending play exception - continuing (".concat(ge,")"))})}},removeChild:function(X){b&&b.removeChild(X)},removeEventListener:ce,reset:function(){clearTimeout(k),K.off(m.Z.PLAYBACK_PLAYING,G,this)},setCurrentTime:function(X,ge){b&&(P&&P.func&&P.event&&ce(P.event,P.func),A=X,P=de(c.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(b)if(b.currentTime!==A)try{A=ge?function(I){var Z=ye(),L=I,U=9999999999;if(Z)for(var N=0;N<Z.length;N++){var ue=Z.start(N),te=Z.end(N),fe=Math.abs(ue-I),oe=Math.abs(te-I);if(I>=ue&&I<=te)return I;fe<U&&(U=fe,L=ue),oe<U&&(U=oe,L=te)}return L}(A):A,isNaN(A)||(b.currentTime=A),A=NaN}catch(I){b.readyState===0&&I.code===I.INVALID_STATE_ERR&&(k=setTimeout(function(){b.currentTime=A,A=NaN},400))}else A=NaN}))},setElement:function(X){if(!(X==null||X&&/^(VIDEO|AUDIO)$/i.test(X.nodeName)))throw"element is not video or audio DOM type!";(b=X)&&(b.preload="auto")},setPlaybackRate:function(X){var ge=arguments.length>1&&arguments[1]!==void 0&&arguments[1];b&&(!ge&&b.readyState<=2&&X>0?b.addEventListener("canplay",F):b.playbackRate=X)},setSource:function(X){b&&(X?b.src=X:(b.removeAttribute("src"),b.load()))},setStallState:function(X,ge){(function(I,Z){Z?function(L){L!==null&&b&&!b.seeking&&$.indexOf(L)===-1&&$.push(L)}(I):function(L){var U=$.indexOf(L);L!==null&&U!==-1&&$.splice(U,1)}(I)})(X,ge)},setTTMLRenderingDiv:function(X){(O=X).style.position="absolute",O.style.display="flex",O.style.overflow="hidden",O.style.pointerEvents="none",O.style.top=0,O.style.left=0},setVttRenderingDiv:function(X){D=X},waitForReadyState:de,setDisableRemotePlayback:function(X){b&&(b.disableRemotePlayback=X)}},g=(0,S.Z)(H).getInstance().getLogger(_),A=NaN,_}mE.__dashjs_factory_name="VideoModel";var DR=C.Z.getSingletonFactory(mE),AR=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],pE="dashjs_?_bitrate",gE="dashjs_?_settings",Bl="localStorage",_E="lastBitrate",vE="lastMediaSettings";function yE(_){_=_||{};var g,b,A,P=this.context,O=_.settings;function D($){if(A!==void 0)return A;var F;A=!1;try{typeof window<"u"&&(F=window[$])}catch(Y){return b.warn("DOMStorage access denied: "+Y.message),A}if(!F||$!==Bl&&$!=="sessionStorage")return A;try{F.setItem("1","1"),F.removeItem("1"),A=!0}catch(Y){b.warn("DOMStorage is supported, but cannot be used: "+Y.message)}return A}function k(){var $=6e5;return Math.round(new Date().getTime()/$)*$}function H($,F){return D($)&&O.get().streaming[F+"CachingInfo"].enabled}function K(){if(!O)throw new Error(c.Z.MISSING_CONFIG_ERROR)}return g={getSavedBitrateSettings:function($){if(K(),!O.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var F=NaN;if(H(Bl,_E)){var Y=pE.replace(/\?/,$);try{var G=JSON.parse(localStorage.getItem(Y))||{},_e=new Date().getTime()-parseInt(G.timestamp,10)>=O.get().streaming.lastBitrateCachingInfo.ttl||!1,ce=parseFloat(G.bitrate);isNaN(ce)||_e?_e&&localStorage.removeItem(Y):(F=ce,b.debug("Last saved bitrate for "+$+" was "+ce))}catch{return null}}return F},setSavedBitrateSettings:function($,F){if(H(Bl,_E)&&F){var Y=pE.replace(/\?/,$);try{localStorage.setItem(Y,JSON.stringify({bitrate:F.toFixed(3),timestamp:k()}))}catch(G){b.error(G.message)}}},getSavedMediaSettings:function($){if(K(),!O.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var F=null;if(H(Bl,vE)){var Y=gE.replace(/\?/,$);try{var G=JSON.parse(localStorage.getItem(Y))||{},_e=new Date().getTime()-parseInt(G.timestamp,10)>=O.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;F=G.settings,_e&&(localStorage.removeItem(Y),F=null)}catch{return null}}return F},setSavedMediaSettings:function($,F){if(H(Bl,vE)){var Y=gE.replace(/\?/,$);try{localStorage.setItem(Y,JSON.stringify({settings:F,timestamp:k()}))}catch(G){b.error(G.message)}}}},b=(0,S.Z)(P).getInstance().getLogger(g),D(Bl)&&AR.forEach(function($){var F=localStorage.getItem($.oldKey);if(F){localStorage.removeItem($.oldKey);try{localStorage.setItem($.newKey,F)}catch(Y){b.error(Y.message)}}}),g}yE.__dashjs_factory_name="DOMStorage";var xR=C.Z.getSingletonFactory(yE),MR=l(2032),bE=l(2011);function EE(){var _,g,b,A,P,O,D,k,H,K,$,F,Y,G=this.context;function _e(W,de,X,ge){var I=null,Z=W?Y.resolve(W.path):null,L=ge||{init:!0,url:Z?Z.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:de};g.debug("Start searching for initialization.");var U=ye(L);k.load({request:U,success:function(N){if(L.bytesLoaded=L.range.end,!(I=A.findInitRange(N)))return L.range.end=L.bytesLoaded+L.bytesToLoad,_e(W,de,X,L);W.range=I,X(W)},error:function(){X(W)}}),g.debug("Perform init search: "+L.url)}function ce(W,de,X,ge,I,Z){if(X&&(X.start===void 0||X.end===void 0)){var L=X?X.toString().split("-"):null;X=L?{start:parseFloat(L[0]),end:parseFloat(L[1])}:null}I=I||pe;var U=null,N=null,ue=!!X,te=W?Y.resolve(W.path):null,fe={init:!1,url:te?te.url:void 0,range:ue?X:{start:0,end:1500},searching:!ue,bytesLoaded:Z?Z.bytesLoaded:0,bytesToLoad:1500,mediaType:de},oe=ye(fe);k.load({request:oe,success:function(z){var ae=fe.bytesToLoad,be=z.byteLength;if(fe.bytesLoaded=fe.range.end-fe.range.start,U=A.parse(z),(N=U.getBox("sidx"))&&N.isComplete){var Ue,Re,Ve=N.references;if(Ve!=null&&Ve.length>0&&(Ue=Ve[0].reference_type===1),Ue){var ke,ct,dt,ot;g.debug("Initiate multiple SIDX load."),fe.range.end=fe.range.start+N.size;var st=[],Yt=0,Ae=(N.offset||fe.range.start)+N.size,Ge=function(Xe){Xe?(st=st.concat(Xe),++Yt>=ct&&(st.sort(function(St,wt){return St.startTime-wt.startTime<0?-1:0}),I(st,W,ge))):I(null,W,ge)};for(ke=0,ct=Ve.length;ke<ct;ke++)dt=Ae,ot=Ae+Ve[ke].referenced_size-1,Ae+=Ve[ke].referenced_size,ce(W,de,{start:dt,end:ot},ge,Ge,fe)}else g.debug("Parsing segments from SIDX. representation "+de+" - id: "+W.id+" for range : "+fe.range.start+" - "+fe.range.end),Re=function(Xe,St){for(var wt,mt,tn,en,xn=Xe.references,Nn=xn.length,Ke=Xe.timescale,bt=Xe.earliest_presentation_time,lt=St.range.start+Xe.offset+Xe.first_offset+Xe.size,Rt=[],Vt=0;Vt<Nn;Vt++)tn=xn[Vt].subsegment_duration,en=xn[Vt].referenced_size,(wt=new bE.Z).duration=tn,wt.startTime=bt,wt.timescale=Ke,mt=lt+en-1,wt.mediaRange=lt+"-"+mt,Rt.push(wt),bt+=tn,lt+=en;return Rt}(N,fe),I(Re,W,ge)}else{if(N)fe.range.start=N.offset||fe.range.start,fe.range.end=fe.range.start+(N.size||ae);else{if(be<fe.bytesLoaded)return void I(null,W,ge);var _t=U.getLastBox();_t&&_t.size?(fe.range.start=_t.offset+_t.size,fe.range.end=fe.range.start+ae):fe.range.end+=ae}ce(W,de,fe.range,ge,null,fe)}},error:function(){I(null,W,ge)}}),g.debug("Perform SIDX load for type ".concat(de," : ").concat(fe.url," with range ").concat(fe.range.start," - ").concat(fe.range.end))}function pe(W,de,X){X({segments:W,representation:de,error:W?void 0:new le.Z(H.SEGMENT_BASE_LOADER_ERROR_CODE,H.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ye(W){if(W.url){var de=new M.Z;return de.setInfo(W),de}}return _={setConfig:function(W){W.baseURLController&&(Y=W.baseURLController),W.dashMetrics&&(O=W.dashMetrics),W.mediaPlayerModel&&(D=W.mediaPlayerModel),W.errHandler&&(b=W.errHandler),W.boxParser&&(A=W.boxParser),W.debug&&(g=W.debug.getLogger(_)),W.requestModifier&&(P=W.requestModifier),W.errors&&(H=W.errors),W.urlUtils&&(F=W.urlUtils),W.constants&&(K=W.constants),W.dashConstants&&($=W.dashConstants)},initialize:function(){k=Pi(G).create({errHandler:b,dashMetrics:O,mediaPlayerModel:D,requestModifier:P,boxParser:A,errors:H,urlUtils:F,constants:K,dashConstants:$})},loadInitialization:function(W,de){return new Promise(function(X){_e(W,de,X)})},loadSegments:function(W,de,X){return new Promise(function(ge){ce(W,de,X,ge)})},reset:function(){k&&(k.abort(),k=null)}}}EE.__dashjs_factory_name="SegmentBaseLoader";var RR=C.Z.getSingletonFactory(EE);function wE(_){var g;_=_||{};var b=new DataView(_.data),A=0;function P(D,k){var H=!0,K=0;if(k===void 0&&(k=!1),D.tag>16777215?(b.getUint32(A)!==D.tag&&(H=!1),K=4):D.tag>65535?(256*b.getUint16(A)+b.getUint8(A+2)!==D.tag&&(H=!1),K=3):D.tag>255?(b.getUint16(A)!==D.tag&&(H=!1),K=2):(b.getUint8(A)!==D.tag&&(H=!1),K=1),!H&&D.required&&!k)throw new Error("required tag not found");return H&&(A+=K),H}function O(D){var k=1,H=128,K=-1,$=0,F=b.getUint8(A),Y=0;for(Y=0;Y<8;Y+=1){if((F&H)===H){$=D===void 0?F&~H:F,K=Y;break}H>>=1}for(Y=0;Y<K;Y+=1,k+=1)$=$<<8|255&b.getUint8(A+k);return A+=k,$}return g={getPos:function(){return A},setPos:function(D){A=D},consumeTag:P,consumeTagAndSize:function(D,k){var H=P(D,k);return H&&O(),H},parseTag:function(D){var k;return P(D),k=O(),g[D.parse](k)},skipOverElement:function(D,k){var H,K=P(D,k);return K&&(H=O(),A+=H),K},getMatroskaCodedNum:O,getMatroskaFloat:function(D){var k;switch(D){case 4:k=b.getFloat32(A),A+=4;break;case 8:k=b.getFloat64(A),A+=8}return k},getMatroskaUint:function(D){if(D>4)return function(K){for(var $=Math.floor(Number.MAX_SAFE_INTEGER/256),F=0,Y=0;Y<K;Y+=1){if(F>$)throw new Error("Value exceeds safe integer limit");F*=256;var G=b.getUint8(A+Y);if(F>Number.MAX_SAFE_INTEGER-G)throw new Error("Value exceeds safe integer limit");F+=G}return A+=K,F}(D);for(var k=0,H=0;H<D;H+=1)k<<=8,k|=255&b.getUint8(A+H);return A+=D,k>>>0},moreData:function(){return A<b.byteLength}}}wE.__dashjs_factory_name="EBMLParser";var TE=C.Z.getClassFactory(wE);function SE(){var _,g,b,A,P,O,D,k,H,K,$=this.context;function F(Y){var G=new M.Z;return G.setInfo(Y),G}return _={setConfig:function(Y){if(!(Y.baseURLController&&Y.dashMetrics&&Y.mediaPlayerModel&&Y.errHandler))throw new Error(c.Z.MISSING_CONFIG_ERROR);K=Y.baseURLController,O=Y.dashMetrics,D=Y.mediaPlayerModel,A=Y.errHandler,H=Y.errors,g=Y.debug.getLogger(_),P=Y.requestModifier},initialize:function(){k=Pi($).create({errHandler:A,dashMetrics:O,mediaPlayerModel:D,requestModifier:P,errors:H})},loadInitialization:function(Y,G){return new Promise(function(_e){var ce=null,pe=Y?K.resolve(Y.path):null,ye=Y?Y.range.split("-"):null,W={range:{start:ye?parseFloat(ye[0]):null,end:ye?parseFloat(ye[1]):null},request:ce,url:pe?pe.url:void 0,init:!0,mediaType:G};g.info("Start loading initialization."),ce=F(W),k.load({request:ce,success:function(){_e(Y)},error:function(){_e(Y)}}),g.debug("Perform init load: "+W.url)})},loadSegments:function(Y,G,_e){return new Promise(function(ce){var pe=null,ye=Y?K.resolve(Y.path):null,W=ye?ye.url:void 0;pe=F({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:pe,url:W,init:!1,mediaType:G}),g.debug("Parsing ebml header"),k.load({request:pe,success:function(de){(function(X,ge,I,Z){if(X&&X.byteLength!==0){var L,U,N,ue,te=TE($).create({data:X}),fe=I?I.split("-"):null,oe=null,z={url:ge,range:{start:fe?parseFloat(fe[0]):null,end:fe?parseFloat(fe[1]):null},request:oe};for(g.debug("Parse EBML header: "+z.url),te.skipOverElement(b.EBML),te.consumeTag(b.Segment),N=te.getMatroskaCodedNum(),N+=te.getPos(),ue=te.getPos();te.moreData()&&!te.consumeTagAndSize(b.Segment.Info,!0);)if(!(te.skipOverElement(b.Segment.SeekHead,!0)||te.skipOverElement(b.Segment.Tracks,!0)||te.skipOverElement(b.Segment.Cues,!0)||te.skipOverElement(b.Void,!0)))throw new Error("no valid top level element found");for(;L===void 0;){var ae=te.getMatroskaCodedNum(!0),be=te.getMatroskaCodedNum();ae===b.Segment.Info.Duration.tag?L=te[b.Segment.Info.Duration.parse](be):te.setPos(te.getPos()+be)}oe=F(z),k.load({request:oe,success:function(Ue){U=function(Re,Ve,ke,ct){var dt,ot,st,Yt,Ae,Ge,_t,Xe;for(st=[],Ae=0,Ge=(ot=function(St){var wt,mt,tn=[],en=TE($).create({data:St});for(en.consumeTagAndSize(b.Segment.Cues);en.moreData()&&en.consumeTagAndSize(b.Segment.Cues.CuePoint,!0);){for((wt={}).CueTime=en.parseTag(b.Segment.Cues.CuePoint.CueTime),wt.CueTracks=[];en.moreData()&&en.consumeTag(b.Segment.Cues.CuePoint.CueTrackPositions,!0);){var xn=en.getMatroskaCodedNum(),Nn=en.getPos();if((mt={}).Track=en.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),mt.Track===0)throw new Error("Cue track cannot be 0");mt.ClusterPosition=en.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),wt.CueTracks.push(mt),en.setPos(Nn+xn)}if(wt.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");tn.push(wt)}if(tn.length===0)throw new Error("mandatory cuepoint not found");return tn}(Re)).length;Ae<Ge;Ae+=1)Yt=new bE.Z,dt=Ae<ot.length-1?ot[Ae+1].CueTime-ot[Ae].CueTime:ct-ot[Ae].CueTime,Yt.duration=dt,Yt.startTime=ot[Ae].CueTime,Yt.timescale=1e3,_t=ot[Ae].CueTracks[0].ClusterPosition+Ve,Xe=Ae<ot.length-1?ot[Ae+1].CueTracks[0].ClusterPosition+Ve-1:ke-1,Yt.mediaRange=_t+"-"+Xe,st.push(Yt);return g.debug("Parsed cues: "+st.length+" cues."),st}(Ue,ue,N,L),Z(U)},error:function(){g.error("Download Error: Cues "+z.url),Z(null)}}),g.debug("Perform cues load: "+z.url+" bytes="+z.range.start+"-"+z.range.end)}else Z(null)})(de,W,_e,function(X){ce({segments:X,representation:Y,error:X?void 0:new le.Z(H.SEGMENT_BASE_LOADER_ERROR_CODE,H.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ce({representation:Y,error:new le.Z(H.SEGMENT_BASE_LOADER_ERROR_CODE,H.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){k&&(k.abort(),k=null)}},b={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},_}SE.__dashjs_factory_name="WebmSegmentBaseLoader";var NR=C.Z.getSingletonFactory(SE);function CE(_){_=_||{};var g,b,A,P=this.context,O=_.eventBus,D=_.events,k=_.dashMetrics,H=_.mediaPlayerModel,K=_.errHandler,$=_.baseURLController,F=_.debug,Y=_.boxParser,G=_.requestModifier,_e=_.errors;function ce(pe){return(pe?pe.split("/")[1]:"").toLowerCase()==="webm"}return g={initialize:function(){b.initialize(),A.initialize()},getSegmentBaseInitSegment:function(pe){return ce(pe.representation.mimeType)?A.loadInitialization(pe.representation,pe.mediaType):b.loadInitialization(pe.representation,pe.mediaType)},getSegmentList:function(pe){return ce(pe.mimeType)?A.loadSegments(pe.representation,pe.mediaType,pe.representation?pe.representation.indexRange:null):b.loadSegments(pe.representation,pe.mediaType,pe.representation?pe.representation.indexRange:null)},reset:function(){b.reset(),A.reset()}},b=RR(P).getInstance(),A=NR(P).getInstance(),b.setConfig({baseURLController:$,dashMetrics:k,mediaPlayerModel:H,errHandler:K,eventBus:O,events:D,errors:_e,debug:F,boxParser:Y,requestModifier:G}),A.setConfig({baseURLController:$,dashMetrics:k,mediaPlayerModel:H,errHandler:K,eventBus:O,events:D,errors:_e,debug:F,requestModifier:G}),g}CE.__dashjs_factory_name="SegmentBaseController";var OR=C.Z.getSingletonFactory(CE),IE=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},ug=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.essentialProperties={},this.essentialPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},DE=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},PR=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};function kR(_,g){for(var b=0;b<g.length;b++){var A=g[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}var FR=function(){function _(A){var P=this;(function(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")})(this,_),this.valid=A[0]=="/",this.path=A.split("/").filter(function(O){return O.length!==0}).map(function(O){var D={name:O},k=O.indexOf("[");if(k!=-1){D.name=O.substring(0,k);var H=O.substring(k+1,O.length-1);P.valid=P.valid&&H.indexOf("[")==-1;var K=H.indexOf("=");K!=-1?(D.attribute={name:H.substring(1,K),value:H.substring(K+1)},["'",'"'].indexOf(D.attribute.value[0])!=-1&&(D.attribute.value=D.attribute.value.substring(1,D.attribute.value.length-1))):D.position=parseInt(H,10)-1}return D})}var g,b;return g=_,(b=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return this.path[this.path.length-1].name==="text()"}},{key:"getMpdTarget",value:function(A,P){for(var O=null,D=A,k=1,H="MPD";k<this.path.length&&D!==null;){O=D;var K=this.path[k];if(H=K.name,k!==this.path.length-1||!H.startsWith("@")&&H!=="text()"){var $=O[H+"_asArray"]||[];$.length===0&&O[H]&&$.push(O[H]),K.position?D=$[K.position]||null:K.attribute?function(){var F=K.attribute;D=$.filter(function(Y){return Y[F.name]==F.value})[0]||null}():D=$[0]||null}k++}return D===null?null:H.startsWith("@")?{name:H.substring(1),leaf:D,target:D}:H==="text()"?{name:"__text",leaf:D,target:D}:{name:H,leaf:D,target:P?O:D}}}])&&kR(g.prototype,b),_}();function LR(_,g){for(var b=0;b<g.length;b++){var A=g[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}var BR=function(){function _(A,P,O){(function(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")})(this,_),this.action=A,this.xpath=P,this.value=O,this.position=null}var g,b;return g=_,(b=[{key:"getMpdTarget",value:function(A){var P=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(A,P)}}])&&LR(g.prototype,b),_}();function AE(){var _,g,b=this.context;return _={getIsPatch:function(A){return A&&A.hasOwnProperty(d.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(A){return A&&A.hasOwnProperty(d.Z.PUBLISH_TIME)?new Date(A[d.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(A){return A&&A.hasOwnProperty(d.Z.ORIGINAL_PUBLISH_TIME)?new Date(A[d.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(A){return A&&A[d.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(A){return A?(A.__children||[]).map(function(P){var O=Object.keys(P)[0];if(O!=="add"&&O!=="remove"&&O!=="replace")return g.warn("Ignoring node of invalid action: ".concat(O)),null;var D=P[O],k=D.sel;if(O==="add"&&D.type){if(!D.type.startsWith("@"))return g.warn("Ignoring add action for prefixed namespace declaration: ".concat(D.type,"=").concat(D.__text)),null;k="".concat(k,"/").concat(D.type)}var H=new FR(k);if(!H.isValid())return g.warn("Ignoring action with invalid selector: ".concat(O," - ").concat(k)),null;var K=null;H.findsAttribute()||H.findsTextReplace()?K=D.__text||"":O!=="remove"&&(K=D.__children.reduce(function(F,Y){var G=Object.keys(Y)[0];return G!=="#text"&&(F[G]=F[G]||[],F[G].push(Y[G])),F},{}));var $=new BR(O,H,K);return O==="add"&&($.position=D.pos),$}).filter(function(P){return!!P}):[]}},g=(0,S.Z)(b).getInstance().getLogger(_),_}AE.__dashjs_factory_name="PatchManifestModel";var UR=C.Z.getSingletonFactory(AE);function xE(){var _,g,b,A,P,O,D,k=this.context;function H(L,U,N){var ue,te=g.getAdaptationsForType(A[0].mpd.manifest,L,U);if(!te||te.length===0)return null;if(te.length>1&&N){var fe=F(N,U);if(P[N.id]&&P[N.id][U]){for(var oe=0,z=te.length;oe<z;oe++)if(K(P[N.id][U],fe[oe]))return te[oe]}for(var ae=0,be=te.length;ae<be;ae++)if(ue=te[ae],g.getRolesForAdaptation(ue).filter(function(Ue){return Ue.value===d.Z.MAIN})[0])return te[ae]}return te[0]}function K(L,U){if(!L||!U)return!1;var N=L.id===U.id,ue=L.codec===U.codec,te=L.viewpoint===U.viewpoint,fe=JSON.stringify(L.viewpointsWithSchemeIdUri)===JSON.stringify(U.viewpointsWithSchemeIdUri),oe=L.lang===U.lang,z=L.roles.toString()===U.roles.toString(),ae=JSON.stringify(L.rolesWithSchemeIdUri)===JSON.stringify(U.rolesWithSchemeIdUri),be=L.accessibility.toString()===U.accessibility.toString(),Ue=JSON.stringify(L.accessibilitiesWithSchemeIdUri)===JSON.stringify(U.accessibilitiesWithSchemeIdUri),Re=L.audioChannelConfiguration.toString()===U.audioChannelConfiguration.toString(),Ve=JSON.stringify(L.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(U.audioChannelConfigurationsWithSchemeIdUri);return N&&ue&&te&&fe&&oe&&z&&ae&&be&&Ue&&Re&&Ve}function $(L,U,N,ue,te,fe){var oe,z,ae,be,Ue,Re,Ve=[];if(!ue||ue.length===0)return[];var ke=g.getAdaptationsForPeriod(U);for(be=0,Re=ue.length;be<Re;be++)if(oe=ue[be],z=W(ke[ae=g.getIndexForAdaptation(oe,L,N.index)]),fe){var ct=z.accessibility.length;for(Ue=0;Ue<ct;Ue++)if(z){var dt=z.accessibility[Ue];if(dt.indexOf("cea-608:")===0){var ot=dt.substring(8).split(";");if(ot[0].substring(0,2)==="CC")for(Ue=0;Ue<ot.length;Ue++)z||(z=W.call(this,ke[ae])),de(z,ot[Ue].substring(0,3),ot[Ue].substring(4)),Ve.push(z),z=null;else for(Ue=0;Ue<ot.length;Ue++)z||(z=W.call(this,ke[ae])),de(z,"CC"+(Ue+1),ot[Ue]),Ve.push(z),z=null}else dt.indexOf("cea-608")===0&&(de(z,O.CC1,"eng"),Ve.push(z),z=null)}}else te===O.IMAGE?(z.type=O.IMAGE,Ve.push(z),z=null):z&&Ve.push(z);return Ve}function F(L,U,N){var ue=A,te=N,fe=[];if(te)ge(),ue=Y(te);else{if(!(A.length>0))return fe;te=A[0].mpd.manifest}var oe=ye(L,ue),z=g.getAdaptationsForType(te,L?L.index:null,U);return fe=$(te,oe,L,z,U),U===O.TEXT&&(z=g.getAdaptationsForType(te,L?L.index:null,O.VIDEO),fe=fe.concat($(te,oe,L,z,U,!0))),fe}function Y(L){var U=G(L);return g.getRegularPeriods(U)}function G(L){var U=ce(L);return g.getMpd(U)}function _e(){A=[],P={}}function ce(L){return L||(A.length>0?A[0].mpd.manifest:null)}function pe(L){try{var U=ye(L.streamInfo,A),N=g.getAdaptationsForPeriod(U);return L&&L.streamInfo&&L.streamInfo.id!==void 0&&N?N[L.index]:null}catch{return null}}function ye(L,U){for(var N=U.length,ue=0;ue<N;ue++){var te=U[ue];if(L&&L.id===te.id)return te}return null}function W(L){if(!L)return null;var U,N,ue,te,fe,oe=new ug,z=L.period.mpd.manifest.Period_asArray[L.period.index].AdaptationSet_asArray[L.index];if(oe.id=L.id,oe.index=L.index,oe.type=L.type,oe.streamInfo=X(L.period),oe.representationCount=g.getRepresentationCount(z),oe.labels=g.getLabelsForAdaptation(z),oe.lang=g.getLanguageForAdaptation(z),oe.segmentAlignment=g.getSegmentAlignment(z),oe.subSegmentAlignment=g.getSubSegmentAlignment(z),U=g.getViewpointForAdaptation(z),oe.viewpoint=U.length?U[0].value:void 0,oe.viewpointsWithSchemeIdUri=U,fe=g.getAccessibilityForAdaptation(z),oe.accessibility=fe.map(function(Ve){var ke=Ve.value,ct=ke;return Ve.schemeIdUri&&Ve.schemeIdUri.search("cea-608")>=0&&D!==void 0&&(ct=ke?"cea-608:"+ke:"cea-608",oe.embeddedCaptions=!0),ct}),oe.accessibilitiesWithSchemeIdUri=fe,N=g.getAudioChannelConfigurationForAdaptation(z),oe.audioChannelConfiguration=N.map(function(Ve){return Ve.value}),oe.audioChannelConfigurationsWithSchemeIdUri=N,oe.audioChannelConfiguration.length===0&&Array.isArray(z.Representation_asArray)&&z.Representation_asArray.length>0&&(ue=g.getAudioChannelConfigurationForRepresentation(z.Representation_asArray[0]),oe.audioChannelConfiguration=ue.map(function(Ve){return Ve.value}),oe.audioChannelConfigurationsWithSchemeIdUri=ue),te=g.getRolesForAdaptation(z),oe.roles=te.map(function(Ve){return Ve.value}),oe.rolesWithSchemeIdUri=te,oe.codec=g.getCodec(z),oe.mimeType=g.getMimeType(z),oe.contentProtection=g.getContentProtectionData(z),oe.bitrateList=g.getBitrateListForAdaptation(z),oe.selectionPriority=g.getSelectionPriority(z),oe.contentProtection){var ae=oe.contentProtection.map(function(Ve){return g.getKID(Ve)}).filter(function(Ve){return Ve!==null});if(ae.length){var be=ae[0];oe.contentProtection.forEach(function(Ve){Ve.keyId=be})}}if(oe.isText=g.getIsText(z),oe.supplementalProperties=g.getSupplementalPropertiesForAdaptation(z),(!oe.supplementalProperties||Object.keys(oe.supplementalProperties).length===0)&&Array.isArray(z.Representation_asArray)&&z.Representation_asArray.length>0){var Ue=z.Representation_asArray.map(function(Ve){return g.getSupplementalPropertiesForRepresentation(Ve)});Ue.every(function(Ve){return JSON.stringify(Ve)===JSON.stringify(Ue[0])})&&(oe.supplementalProperties=Ue[0])}if(oe.supplementalPropertiesAsArray=g.getSupplementalPropertiesAsArrayForAdaptation(z),(!oe.supplementalPropertiesAsArray||oe.supplementalPropertiesAsArray.length===0)&&Array.isArray(z.Representation_asArray)&&z.Representation_asArray.length>0){var Re=z.Representation_asArray.map(function(Ve){return g.getSupplementalPropertiesAsArrayForRepresentation(Ve)});Re.every(function(Ve){return JSON.stringify(Ve)===JSON.stringify(Re[0])})&&(oe.supplementalPropertiesAsArray=Re[0])}return oe.essentialProperties=g.getEssentialPropertiesForAdaptation(z),oe.essentialPropertiesAsArray=g.getEssentialPropertiesAsArrayForAdaptation(z),oe.isFragmented=g.getIsFragmented(z),oe.isEmbedded=!1,oe}function de(L,U,N){L.id=U,L.index=100+parseInt(U.substring(2,3)),L.type=O.TEXT,L.codec="cea-608-in-SEI",L.isEmbedded=!0,L.isFragmented=!1;var ue=Yd()(N);L.lang=ue||N,L.roles=["caption"],L.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function X(L){var U,N,ue=new DE;return ue.id=L.id,ue.index=L.index,ue.start=L.start,ue.duration=L.duration,ue.manifestInfo=(U=L.mpd,(N=new PR).dvrWindowSize=U.timeShiftBufferDepth,N.loadedTime=U.manifest.loadedTime,N.availableFrom=U.availabilityStartTime,N.minBufferTime=U.manifest.minBufferTime,N.maxFragmentDuration=U.maxSegmentDuration,N.duration=g.getDuration(U.manifest),N.isDynamic=g.getIsDynamic(U.manifest),N.serviceDescriptions=g.getServiceDescriptions(U.manifest),N.protocol=U.manifest.protocol,N),ue.isLast=L.mpd.manifest.Period_asArray.length===1||Math.abs(ue.start+ue.duration-ue.manifestInfo.duration)<1,ue}function ge(){if(!O)throw new Error("setConfig function has to be called previously")}function I(L){return A.length>0?A[0].mpd.manifest.Period_asArray[L]:null}function Z(L,U,N){var ue,te,fe,oe,z;if(L){for(ue=L.AdaptationSet_asArray,oe=0;oe<ue.length;oe+=1)for(fe=ue[oe].Representation_asArray,z=0;z<fe.length;z+=1)if(U===(te=fe[z]).id)return N?z:te}return null}return _={getBandwidthForRepresentation:function(L,U){var N;return(N=Z(I(U),L))?N.bandwidth:null},getIndexForRepresentation:function(L,U){return function(N,ue){var te=Z(N,ue,!0);return te!==null?te:-1}(I(U),L)},getMaxIndexForBufferType:function(L,U){return function(N,ue){var te,fe,oe,z;if(!N||!ue)return-1;for(fe=N.AdaptationSet_asArray,z=0;z<fe.length;z+=1)if(oe=(te=fe[z]).Representation_asArray,g.getIsTypeOf(te,ue))return oe.length;return-1}(I(U),L)},convertRepresentationToRepresentationInfo:function(L){if(L){var U=new IE,N=L.adaptation.period.mpd.manifest.Period_asArray[L.adaptation.period.index].AdaptationSet_asArray[L.adaptation.index],ue=g.getRepresentationFor(L.index,N);return U.id=L.id,U.quality=L.index,U.bandwidth=g.getBandwidth(ue),U.fragmentDuration=L.segmentDuration||(L.segments&&L.segments.length>0?L.segments[0].duration:NaN),U.MSETimeOffset=L.MSETimeOffset,U.mediaInfo=W(L.adaptation),U}return null},getStreamsInfo:function(L,U){var N=[],ue=A;if(L&&(ge(),ue=Y(L)),ue.length>0){(!U||U>ue.length)&&(U=ue.length);for(var te=0;te<U;te++)N.push(X(ue[te]))}return N},getMediaInfoForType:function(L,U){if(A.length===0||!L)return null;var N=ye(L,A);if(!N)return null;var ue=g.getAdaptationsForPeriod(N),te=H(L.index,U,L);return te?W(ue[g.getIndexForAdaptation(te,A[0].mpd.manifest,L.index)]):null},getAllMediaInfoForType:F,getAdaptationForType:H,getRealAdaptation:function(L,U){var N,ue,te=ye(L,A);return N=U?U.id:null,A.length>0&&te&&(ue=N?g.getAdaptationForId(N,A[0].mpd.manifest,te.index):g.getAdaptationForIndex(U?U.index:null,A[0].mpd.manifest,te.index)),ue},getProducerReferenceTimes:function(L,U){var N,ue,te=ye(L,A);return N=U?U.id:null,A.length>0&&te&&(ue=N?g.getAdaptationForId(N,A[0].mpd.manifest,te.index):g.getAdaptationForIndex(U?U.index:null,A[0].mpd.manifest,te.index)),ue?g.getProducerReferenceTimesForAdaptation(ue):[]},getRealPeriodByIndex:function(L){return g.getRealPeriodForIndex(L,A[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(L){try{return g.getEssentialPropertiesForRepresentation(L)}catch{return[]}},getVoRepresentations:function(L){var U=pe(L);return g.getRepresentationsForAdaptation(U)},getEventsFor:function(L,U,N){var ue=[];if(A.length>0){var te=A[0].mpd.manifest;if(L instanceof DE){var fe=ye(L,A);ue=g.getEventsForPeriod(fe)}else if(L instanceof ug){var oe=ye(N,A);ue=g.getEventStreamForAdaptationSet(te,pe(L),oe)}else if(L instanceof IE){var z=ye(N,A);ue=g.getEventStreamForRepresentation(te,U,z)}}return ue},getEvent:function(L,U,N,ue){try{if(!L||!U||isNaN(N)||!ue)return null;var te=L.scheme_id_uri,fe=L.value;if(!U[te+"/"+fe])return null;var oe,z=new Ci,ae=L.timescale||1,be=ue.adaptation.period.start,Ue=U[te+"/"+fe],Re=isNaN(ue.presentationTimeOffset)?isNaN(Ue.presentationTimeOffset)?0:Ue.presentationTimeOffset:ue.presentationTimeOffset,Ve=L.presentation_time_delta/ae;oe=L.version===0?be+N-Re+Ve:be-Re+Ve;var ke=L.event_duration/ae,ct=L.id,dt=L.message_data;return z.eventStream=Ue,z.eventStream.value=fe,z.eventStream.timescale=ae,z.duration=ke,z.id=ct,z.calculatedPresentationTime=oe,z.messageData=dt,z.presentationTimeDelta=Ve,z}catch{return null}},getMpd:G,setConfig:function(L){L&&(L.constants&&(O=L.constants),L.cea608parser&&(D=L.cea608parser),L.errHandler&&g.setConfig({errHandler:L.errHandler}),L.BASE64&&g.setConfig({BASE64:L.BASE64}))},updatePeriods:function(L){if(!L)return null;ge(),A=Y(L)},getIsTextTrack:function(L){return g.getIsText(L)},getUTCTimingSources:function(){var L=ce();return g.getUTCTimingSources(L)},getSuggestedPresentationDelay:function(){var L=A.length>0?A[0].mpd:null;return g.getSuggestedPresentationDelay(L)},getAvailabilityStartTime:function(L){var U=G(L);return g.getAvailabilityStartTime(U)},getIsTypeOf:function(L,U){return g.getIsTypeOf(L,U)},getIsDynamic:function(L){var U=ce(L);return g.getIsDynamic(U)},getDuration:function(L){var U=ce(L);return g.getDuration(U)},getRegularPeriods:Y,getContentSteering:function(L){return g.getContentSteering(L)},getLocation:function(L){return g.getLocation(L)},getPatchLocation:function(L){var U=g.getPatchLocation(L),N=g.getPublishTime(L);return U&&U.length!==0&&N?U.filter(function(ue){return isNaN(ue.ttl)||N.getTime()+ue.ttl>new Date().getTime()}):[]},getManifestUpdatePeriod:function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return g.getManifestUpdatePeriod(L,U)},getPublishTime:function(L){return g.getPublishTime(L)},getIsDVB:function(L){return g.hasProfile(L,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(L){return b.getIsPatch(L)},getBaseURLsFromElement:function(L){return g.getBaseURLsFromElement(L)},getRepresentationSortFunction:function(){return g.getRepresentationSortFunction()},getCodec:function(L,U,N){return g.getCodec(L,U,N)},getPeriodById:function(L){if(!L||A.length===0)return null;var U=A.filter(function(N){return N.id===L});return U&&U.length>0?U[0]:null},setCurrentMediaInfo:function(L,U,N){P[L]=P[L]||{},P[L][U]=P[L][U]||{},P[L][U]=N},isPatchValid:function(L,U){var N=g.getId(L),ue=b.getMpdId(U),te=g.getPublishTime(L),fe=b.getPublishTime(U),oe=b.getOriginalPublishTime(U);return!!(N&&ue&&N==ue&&te&&oe&&te.getTime()==oe.getTime()&&fe&&te.getTime()<fe.getTime())},applyPatchToManifest:function(L,U){b.getPatchOperations(U).forEach(function(N){var ue=N.getMpdTarget(L);if(ue!==null){var te=ue.name,fe=ue.target,oe=ue.leaf;if(N.xpath.findsAttribute()||te==="__text")switch(N.action){case"add":case"replace":fe[te]=N.value;break;case"remove":delete fe[te]}else{var z=(fe[te+"_asArray"]||[]).indexOf(oe),ae=N.position==="prepend"||N.position==="before";if((N.action==="remove"||N.action==="replace")&&(delete fe[te],z!=-1)){var be=fe[te+"_asArray"];be.splice(z,1),be.length>1?fe[te]=be:be.length==1?fe[te]=be[0]:delete fe[te+"_asArray"]}N.action!=="add"&&N.action!=="replace"||Object.keys(N.value).forEach(function(Ue){var Re=N.value[Ue],Ve=fe[Ue+"_asArray"]||[];if(Ve.length===0&&fe[Ue]&&Ve.push(fe[Ue]),Ve.length===0)Ve=Re;else{var ke=Ve.length;ke=Ue==te&&z!=-1?z+(ae?0:1)+(N.action=="replace"?-1:0):ae?0:Ve.length,Ve.splice.apply(Ve,[ke,0].concat(Re))}fe[Ue+"_asArray"]=Ve,fe[Ue]=Ve.length==1?Ve[0]:Ve})}}})},areMediaInfosEqual:K,reset:_e},g=wn(k).getInstance(),b=UR(k).getInstance(),_e(),_}xE.__dashjs_factory_name="DashAdapter";var jR=C.Z.getSingletonFactory(xE);function VR(_,g){for(var b=0;b<g.length;b++){var A=g[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}var ZR=function(){function _(){(function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")})(this,_)}var g,b;return g=_,b=[{key:"round10",value:function(A,P){return function(O,D,k){return k===void 0||+k==0?Math[O](D):(k=+k,(D=+D)===null||isNaN(D)||typeof k!="number"||k%1!=0?NaN:(D=D.toString().split("e"),+((D=(D=Math[O](+(D[0]+"e"+(D[1]?+D[1]-k:-k)))).toString().split("e"))[0]+"e"+(D[1]?+D[1]+k:k))))}("round",A,P)}}],b&&VR(g,b),_}(),HR=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},zR=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.mt=null,this.to=null,this.lto=null},GR=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.level=null},qR=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.target=null,this.state=p.Z.BUFFER_EMPTY},YR=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.time=null,this.range=null,this.manifestInfo=null},$R=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.time=null,this.droppedFrames=null};function dg(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}var WR=function _(){dg(this,_),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},KR=function _(){dg(this,_),this.id=null,this.index=null,this.start=null,this.duration=null},QR=function _(){dg(this,_),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},XR=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},JR=function _(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.loadingRequests=[],this.executedRequests=[]};function ME(_){var g,b,A=(_=_||{}).settings,P=this.context,O=(0,E.Z)(P).getInstance();function D(){O.trigger(m.Z.METRICS_CHANGED)}function k(G){O.trigger(m.Z.METRIC_CHANGED,{mediaType:G}),D()}function H(G,_e,ce){O.trigger(m.Z.METRIC_UPDATED,{mediaType:G,metric:_e,value:ce}),k(G)}function K(G,_e,ce){O.trigger(m.Z.METRIC_ADDED,{mediaType:G,metric:_e,value:ce}),k(G)}function $(G,_e){var ce=null;return G&&(b.hasOwnProperty(G)?ce=b[G]:_e||(ce=new HR,b[G]=ce)),ce}function F(G,_e,ce){var pe=$(G);pe!==null&&(pe[_e].push(ce),pe[_e].length>A.get().streaming.metrics.maxListDepth&&pe[_e].shift())}function Y(G,_e,ce){F(G,_e,ce),K(G,_e,ce)}return g={clearCurrentMetricsForType:function(G){delete b[G],k(G)},clearAllCurrentMetrics:function(){b={},D()},getMetricsFor:$,addHttpRequest:function G(_e,ce,pe,ye,W,de,X,ge,I,Z,L,U,N,ue,te,fe,oe){var z=new xe.w;de!=null&&de!==ye&&(G(_e,null,pe,ye,W,null,null,ge,I,null,null,null,N,null,null,fe,oe),z.actualurl=de),z.tcpid=ce,z.type=pe,z.url=ye,z.range=ge,z.trequest=I,z.tresponse=Z,z.responsecode=U,z.cmsd=oe,z._tfinish=L,z._stream=_e,z._mediaduration=N,z._quality=W,z._responseHeaders=ue,z._serviceLocation=X,z._fileLoaderType=fe,te?te.forEach(function(ae){(function(be,Ue,Re,Ve){var ke=new xe.O;ke.s=Ue,ke.d=Re,ke.b=Ve,be.trace.push(ke),be.interval||(be.interval=0),be.interval+=Re})(z,ae.s,ae.d,ae.b)}):(delete z.interval,delete z.trace),Y(_e,p.Z.HTTP_REQUEST,z)},addRepresentationSwitch:function(G,_e,ce,pe,ye){var W=new zR;W.t=_e,W.mt=ce,W.to=pe,ye?W.lto=ye:delete W.lto,Y(G,p.Z.TRACK_SWITCH,W)},addBufferLevel:function(G,_e,ce){var pe=new GR;pe.t=_e,pe.level=ce,Y(G,p.Z.BUFFER_LEVEL,pe)},addBufferState:function(G,_e,ce){var pe=new qR;pe.target=ce,pe.state=_e,Y(G,p.Z.BUFFER_STATE,pe)},addDVRInfo:function(G,_e,ce,pe){var ye=new YR;ye.time=_e,ye.range=pe,ye.manifestInfo=ce,Y(G,p.Z.DVR_INFO,ye)},addDroppedFrames:function(G,_e){var ce=new $R,pe=$(G).DroppedFrames;_e&&(ce.time=_e.creationTime,ce.droppedFrames=_e.droppedVideoFrames,pe.length>0&&pe[pe.length-1]==ce||Y(G,p.Z.DROPPED_FRAMES,ce))},addSchedulingInfo:function(G,_e,ce,pe,ye,W,de,X,ge){var I=new XR;I.mediaType=G,I.t=_e,I.type=ce,I.startTime=pe,I.availabilityStartTime=ye,I.duration=W,I.quality=de,I.range=X,I.state=ge,Y(G,p.Z.SCHEDULING_INFO,I)},addRequestsQueue:function(G,_e,ce){var pe=new JR;pe.loadingRequests=_e,pe.executedRequests=ce,$(G).RequestsQueue=pe,K(G,p.Z.REQUESTS_QUEUE,pe)},addManifestUpdate:function(G,_e,ce,pe,ye,W,de,X,ge,I){var Z=new WR;Z.mediaType=G,Z.type=_e,Z.requestTime=ce,Z.fetchTime=pe,Z.availabilityStartTime=ye,Z.presentationStartTime=W,Z.clientTimeOffset=de,Z.currentTime=X,Z.buffered=ge,Z.latency=I,F(c.Z.STREAM,p.Z.MANIFEST_UPDATE,Z),K(G,p.Z.MANIFEST_UPDATE,Z)},updateManifestUpdateInfo:function(G,_e){if(G){for(var ce in _e)G[ce]=_e[ce];H(G.mediaType,p.Z.MANIFEST_UPDATE,G)}},addManifestUpdateStreamInfo:function(G,_e,ce,pe,ye){if(G){var W=new KR;W.id=_e,W.index=ce,W.start=pe,W.duration=ye,G.streamInfo.push(W),H(G.mediaType,p.Z.MANIFEST_UPDATE_STREAM_INFO,G)}},addManifestUpdateRepresentationInfo:function(G,_e,ce,pe,ye,W,de,X){if(G&&G.representationInfo){var ge=new QR;ge.id=_e,ge.index=ce,ge.streamIndex=pe,ge.mediaType=ye,ge.startNumber=de,ge.fragmentInfoType=X,ge.presentationTimeOffset=W,G.representationInfo.push(ge),H(G.mediaType,p.Z.MANIFEST_UPDATE_TRACK_INFO,G)}},addPlayList:function(G){G.trace&&Array.isArray(G.trace)?G.trace.forEach(function(_e){_e.hasOwnProperty("subreplevel")&&!_e.subreplevel&&delete _e.subreplevel}):delete G.trace,Y(c.Z.STREAM,p.Z.PLAY_LIST,G)},addDVBErrors:function(G){Y(c.Z.STREAM,p.Z.DVB_ERRORS,G)}},b={},g}ME.__dashjs_factory_name="MetricsModel";var e1=C.Z.getSingletonFactory(ME);function RE(_){_=_||{};var g,b,A,P,O=this.context,D=_.metricsModel;function k($){var F=D.getMetricsFor($,!0);if(!F)return null;var Y,G=F.HttpList,_e=null;if(!G||G.length<=0)return null;for(Y=G.length-1;Y>=0;){if(G[Y].responsecode){_e=G[Y];break}Y--}return _e}function H($){var F=D.getMetricsFor($,!0);return F&&F.HttpList?F.HttpList:[]}function K($,F){if(!$)return null;var Y=$[F];return Y&&Y.length!==0?Y[Y.length-1]:null}return g={getCurrentRepresentationSwitch:function($){return K(D.getMetricsFor($,!0),p.Z.TRACK_SWITCH)},getCurrentBufferState:function($){return K(D.getMetricsFor($,!0),p.Z.BUFFER_STATE)},getCurrentBufferLevel:function($){var F=K(D.getMetricsFor($,!0),p.Z.BUFFER_LEVEL);return F?ZR.round10(F.level/1e3,-3):0},getCurrentHttpRequest:k,getHttpRequests:H,getCurrentDroppedFrames:function(){return K(D.getMetricsFor(c.Z.VIDEO,!0),p.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function($){return K(D.getMetricsFor($,!0),p.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function($){return K($?D.getMetricsFor($,!0):D.getMetricsFor(c.Z.VIDEO,!0)||D.getMetricsFor(c.Z.AUDIO,!0),p.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return K(D.getMetricsFor(c.Z.STREAM),p.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function($,F){if(!F)return null;var Y={},G=k($);G&&(Y=Dt.Z.parseHttpHeaders(G._responseHeaders));var _e=Y[F.toLowerCase()];return _e===void 0?null:_e},getLatestMPDRequestHeaderValueByID:function($){if(!$)return null;var F,Y,G,_e={};for(G=(F=H(c.Z.STREAM)).length-1;G>=0;G--)if((Y=F[G]).type===xe.w.MPD_TYPE){_e=Dt.Z.parseHttpHeaders(Y._responseHeaders);break}var ce=_e[$.toLowerCase()];return ce===void 0?null:ce},addRepresentationSwitch:function($,F,Y,G,_e){D.addRepresentationSwitch($,F,Y,G,_e)},addDVRInfo:function($,F,Y,G){D.addDVRInfo($,F,Y,G)},updateManifestUpdateInfo:function($){var F=this.getCurrentManifestUpdate();D.updateManifestUpdateInfo(F,$)},addManifestUpdateStreamInfo:function($){if($){var F=this.getCurrentManifestUpdate();D.addManifestUpdateStreamInfo(F,$.id,$.index,$.start,$.duration)}},addManifestUpdateRepresentationInfo:function($,F){if($){var Y=this.getCurrentManifestUpdate();D.addManifestUpdateRepresentationInfo(Y,$.id,$.index,$.streamIndex,F,$.presentationTimeOffset,$.startNumber,$.fragmentInfoType)}},addManifestUpdate:function($){D.addManifestUpdate(c.Z.STREAM,$.type,$.requestStartDate,$.requestEndDate)},addHttpRequest:function($,F,Y,G,_e,ce){D.addHttpRequest($.mediaType,null,$.type,$.url,$.quality,F,$.serviceLocation||null,$.range||null,$.requestStartDate,$.firstByteDate,$.requestEndDate,Y,$.duration,G,_e,$.fileLoaderType,ce)},addSchedulingInfo:function($,F){D.addSchedulingInfo($.mediaType,new Date,$.type,$.startTime,$.availabilityStartTime,$.duration,$.quality,$.range,F)},addRequestsQueue:function($,F,Y){D.addRequestsQueue($,F,Y)},addBufferLevel:function($,F,Y){D.addBufferLevel($,F,Y)},addBufferState:function($,F,Y){D.addBufferState($,F,Y)},addDroppedFrames:function($){D.addDroppedFrames(c.Z.VIDEO,$)},addPlayList:function(){P&&(D.addPlayList(P),P=null)},addDVBErrors:function($){D.addDVBErrors($)},createPlaylistMetrics:function($,F){(P=new Ze).start=new Date,P.mstart=$,P.starttype=F},createPlaylistTraceMetrics:function($,F,Y){b===!0&&(b=!1,(A=new Oe).representationid=$,A.start=new Date,A.mstart=F,A.playbackspeed=Y!==null?Y.toString():null)},updatePlayListTraceMetrics:function($){if(A)for(var F in A)A[F]=$[F]},pushPlayListTraceMetrics:function($,F){if(b===!1&&P&&A&&A.start){var Y=A.start,G=$.getTime()-Y.getTime();A.duration=G,A.stopreason=F,P.trace.push(A),b=!0}},clearAllCurrentMetrics:function(){D.clearAllCurrentMetrics()}},D=D||e1(O).getInstance({settings:_.settings}),b=!0,A=null,P=null,g}RE.__dashjs_factory_name="DashMetrics";var t1=C.Z.getSingletonFactory(RE);function NE(){var _,g,b,A,P=this.context,O=(0,E.Z)(P).getInstance(),D=(0,Se.Z)(P).getInstance();function k(ye){A=ye}function H(ye,W,de,X){var ge,I=W.adaptation.period.mpd,Z=I.availabilityStartTime;if(X)ge=de&&I.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Z.getTime()+1e3*(ye+I.timeShiftBufferDepth)):I.availabilityEndTime;else if(de){var L=W.availabilityTimeOffset;ge=new Date(Z.getTime()+1e3*(ye-L))}else ge=Z;return ge}function K(ye,W){return(ye.getTime()-W.mpd.availabilityStartTime.getTime()+1e3*A)/1e3}function $(ye,W){return ye+(W.adaptation.period.start-W.presentationTimeOffset)}function F(ye){var W={start:NaN,end:NaN},de=ye[0].getAdapter().getRegularPeriods()[0],X=K(new Date,de);if(!ye||ye.length===0)return{range:W,now:X};ye.forEach(function(I){var Z=I.getAdapter(),L=Z.getMediaInfoForType(I.getStreamInfo(),c.Z.VIDEO)||Z.getMediaInfoForType(I.getStreamInfo(),c.Z.AUDIO),U=Z.getVoRepresentations(L)[0],N={start:NaN,end:NaN};if(U)if(U.segmentInfoType===d.Z.SEGMENT_TIMELINE)N=function(te){var fe,oe,z,ae,be=te.adaptation.period.mpd.manifest.Period_asArray[te.adaptation.period.index].AdaptationSet_asArray[te.adaptation.index],Ue=g.getRepresentationFor(te.index,be),Re=Ue.SegmentTemplate||Ue.SegmentList,Ve=Re.SegmentTimeline,ke=Re.timescale,ct=Ve.S_asArray,dt={start:0,end:0},ot=ct[0].t,st=!isNaN(ot),Yt=st?ot:0,Ae=0;for(st&&(dt.start=$(Yt/ke,te)),z=0,ae=ct.length;z<ae;z++)oe=0,(fe=ct[z]).hasOwnProperty("r")&&(oe=fe.r),Ae+=fe.d*(1+oe);return dt.end=$((Yt+Ae)/ke,te),dt}(U);else{var ue=U.adaptation.period;N.start=ue.start,N.end=Math.max(X,ue.start+ue.duration)}!isNaN(N.start)&&(isNaN(W.start)||W.start>N.start)&&(W.start=N.start),!isNaN(N.end)&&(isNaN(W.end)||W.end<N.end)&&(W.end=N.end)}),W.end=Math.min(X,W.end);var ge=G(ye,W.end,!0);return W.end=isNaN(ge)?W.end:ge,W.start=de&&de.mpd&&de.mpd.timeShiftBufferDepth&&!isNaN(de.mpd.timeShiftBufferDepth)&&!isNaN(W.end)?Math.max(W.end-de.mpd.timeShiftBufferDepth,W.start):W.start,W.start=G(ye,W.start),{range:W,now:X}}function Y(ye,W){b=ye-W.end}function G(ye,W){var de=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{for(var X=0,ge=!1,I=NaN;!ge&&X<ye.length;){var Z=ye[X].getStreamInfo();Z.start<=W&&(!isFinite(Z.duration)||Z.start+Z.duration>=W)?(I=W,ge=!0):!de&&Z.start>W&&(isNaN(I)||Z.start<I)?I=Z.start:de&&Z.start+Z.duration<W&&(isNaN(I)||Z.start+Z.duration>I)&&(I=Z.start+Z.duration),X+=1}return I}catch{return W}}function _e(ye){ye.offset===void 0||isNaN(ye.offset)||k(ye.offset/1e3)}function ce(){A=0,b=0}function pe(){O.off(m.Z.UPDATE_TIME_SYNC_OFFSET,_e,this),ce()}return _={initialize:function(){ce(),O.on(m.Z.UPDATE_TIME_SYNC_OFFSET,_e,this)},getClientTimeOffset:function(){return A},setClientTimeOffset:k,getClientReferenceTime:function(){return Date.now()-1e3*b+1e3*A},calcAvailabilityStartTimeFromPresentationTime:function(ye,W,de){return H(ye,W,de)},calcAvailabilityEndTimeFromPresentationTime:function(ye,W,de){return H(ye,W,de,!0)},calcPresentationTimeFromWallTime:K,calcPresentationTimeFromMediaTime:$,calcPeriodRelativeTimeFromMpdRelativeTime:function(ye,W){return W-ye.adaptation.period.start},calcMediaTimeFromPresentationTime:function(ye,W){return ye-W.adaptation.period.start+W.presentationTimeOffset},calcWallTimeForSegment:function(ye,W){var de,X,ge;return W&&(de=ye.representation.adaptation.period.mpd.suggestedPresentationDelay,X=ye.presentationStartTime+de,ge=new Date(ye.availabilityStartTime.getTime()+1e3*X)),ge},calcTimeShiftBufferWindow:function(ye,W){if(!W)return function(X){var ge={start:NaN,end:NaN},I=0,Z=NaN;return X.forEach(function(L){var U=L.getStreamInfo();I+=U.duration,(isNaN(Z)||U.start<Z)&&(Z=U.start)}),ge.start=Z,ge.end=Z+I,ge}(ye);if(D.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var de=F(ye);return Y(de.now,de.range),de.range}return function(X){var ge={start:NaN,end:NaN};if(!X||X.length===0)return ge;var I=X[0].getAdapter().getRegularPeriods()[0],Z=K(new Date,I),L=I.mpd.timeShiftBufferDepth,U=isNaN(L)?0:Z-L;if(ge.start=G(X,U),ge.end=!isNaN(ge.start)&&Z<ge.start?Z:G(X,Z,!0),!isNaN(L)&&ge.end<Z-L&&(ge.end=NaN),D.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var N=F(X);if(N.range.end<ge.start)return O.trigger(h.Z.CONFORMANCE_VIOLATION,{level:kl.LEVELS.WARNING,event:kl.EVENTS.INVALID_DVR_WINDOW}),Y(N.now,N.range),N.range}return ge}(ye)},reset:pe},g=wn(P).getInstance(),pe(),_}NE.__dashjs_factory_name="TimelineConverter";var n1=C.Z.getSingletonFactory(NE),fg=l(4593),of=l(6934);function hg(_){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},hg(_)}function mg(_,g){return mg=Object.setPrototypeOf||function(b,A){return b.__proto__=A,b},mg(_,g)}function r1(_,g){return!g||hg(g)!=="object"&&typeof g!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):g}function sf(_){return sf=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},sf(_)}var i1=function(_){(function(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&mg(O,D)})(P,_);var g,b,A=(g=P,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,D=sf(g);if(b){var k=sf(this).constructor;O=Reflect.construct(D,arguments,k)}else O=D.apply(this,arguments);return r1(this,O)});function P(){var O;return function(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}(this,P),(O=A.call(this)).captionData=null,O.label=null,O.defaultTrack=!1,O.kind=null,O.isFragmented=!1,O.isEmbedded=!1,O.isTTML=null,O}return P}(ug),o1=l(2295);function OE(){var _=0;function g(k){for(var H="",K=0;K<k.length;++K)H+=k[K].uchar;return H.length-H.replace(/^\s+/,"").length}function b(k){return"left: "+3.125*k.x+"%; top: "+6.66*k.y1+"%; width: "+(100-3.125*k.x)+"%; height: "+6.66*Math.max(k.y2-1-k.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function A(k){return k==="red"?"rgb(255, 0, 0)":k==="green"?"rgb(0, 255, 0)":k==="blue"?"rgb(0, 0, 255)":k==="cyan"?"rgb(0, 255, 255)":k==="magenta"?"rgb(255, 0, 255)":k==="yellow"?"rgb(255, 255, 0)":k==="white"?"rgb(255, 255, 255)":k==="black"?"rgb(0, 0, 0)":k}function P(k,H){var K=k.videoHeight/15;return H?"font-size: "+K+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(H.foreground?A(H.foreground):"rgb(255, 255, 255)")+"; font-style: "+(H.italics?"italic":"normal")+"; text-decoration: "+(H.underline?"underline":"none")+"; white-space: pre; background-color: "+(H.background?A(H.background):"transparent")+";":"font-size: "+K+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function O(k){return k.replace(/^\s+/g,"")}function D(k){return k.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(k,H,K,$){var F,Y,G=null,_e=!1,ce=-1,pe={start:H,end:K,spans:[]},ye="style_cea608_white_black",W={},de={},X=[];for(F=0;F<15;++F){var ge=$.rows[F],I="",Z=null;if(ge.isEmpty()===!1){var L=g(ge.chars);G===null&&(G={x:L,y1:F,y2:F+1,p:[]}),L!==ce&&_e&&(G.p.push(pe),pe={start:H,end:K,spans:[]},G.y2=F,G.name="region_"+G.x+"_"+G.y1+"_"+G.y2,W.hasOwnProperty(G.name)===!1?(X.push(G),W[G.name]=G):W[G.name].p.contat(G.p),G={x:L,y1:F,y2:F+1,p:[]});for(var U=0;U<ge.chars.length;++U){var N=ge.chars[U],ue=N.penState;if(Z===null||!ue.equals(Z)){I.trim().length>0&&(pe.spans.push({name:ye,line:I,row:F}),I="");var te="style_cea608_"+ue.foreground+"_"+ue.background;ue.underline&&(te+="_underline"),ue.italics&&(te+="_italics"),de.hasOwnProperty(te)||(de[te]=JSON.parse(JSON.stringify(ue))),Z=ue,ye=te}I+=N.uchar}I.trim().length>0&&pe.spans.push({name:ye,line:I,row:F}),_e=!0,ce=L}else _e=!1,ce=-1,G&&(G.p.push(pe),pe={start:H,end:K,spans:[]},G.y2=F,G.name="region_"+G.x+"_"+G.y1+"_"+G.y2,W.hasOwnProperty(G.name)===!1?(X.push(G),W[G.name]=G):W[G.name].p.contat(G.p),G=null)}G&&(G.p.push(pe),G.y2=F+1,G.name="region_"+G.x+"_"+G.y1+"_"+G.y2,W.hasOwnProperty(G.name)===!1?(X.push(G),W[G.name]=G):W[G.name].p.contat(G.p),G=null);var fe=[];for(F=0;F<X.length;++F){var oe=X[F],z="sub_cea608_"+_++,ae=document.createElement("div");ae.id=z;var be=b(oe);ae.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+be;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=P(k);var Re=document.createElement("div");Re.className="cueUniWrapper",Re.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ve=0;Ve<oe.p.length;++Ve){var ke=oe.p[Ve],ct=0;for(Y=0;Y<ke.spans.length;++Y){var dt=ke.spans[Y];if(dt.line.length>0){if(Y!==0&&ct!=dt.row){var ot=document.createElement("br");ot.className="lineBreak",Re.appendChild(ot)}var st=!1;ct===dt.row&&(st=!0),ct=dt.row;var Yt=de[dt.name],Ae=document.createElement("span");Ae.className="spanPadding "+dt.name+" customSpanColor",Ae.style.cssText=P(k,Yt),Y!==0&&st?Y===ke.spans.length-1?Ae.textContent=D(dt.line):Ae.textContent=dt.line:ke.spans.length>1&&Y<ke.spans.length-1&&dt.row===ke.spans[Y+1].row?Ae.textContent=O(dt.line):Ae.textContent=dt.line.trim(),Re.appendChild(Ae)}}}Ue.appendChild(Re),ae.appendChild(Ue);var Ge={bodyStyle:["%",90]};for(var _t in de)de.hasOwnProperty(_t)&&(Ge[_t]=["%",90]);fe.push({type:"html",start:H,end:K,cueHTMLElement:ae,cueID:z,cellResolution:[32,15],isFromCEA608:!0,fontSize:Ge,lineHeight:{},linePadding:{}})}return fe}}}OE.__dashjs_factory_name="EmbeddedTextHtmlRender";var s1=C.Z.getSingletonFactory(OE);function PE(_){var g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe,ye,W=_.errHandler,de=_.manifestModel,X=_.mediaController,ge=_.videoModel,I=_.textTracks,Z=_.vttParser,L=_.vttCustomRenderingParser,U=_.ttmlParser,N=_.streamInfo,ue=_.settings,te=this.context,fe=(0,E.Z)(te).getInstance(),oe=!1;function z(){D=null,H=NaN,K=[],$=null,k=!1,O=[],P=null}function ae(ot){var st=new i1;for(var Yt in ot)st[Yt]=ot[Yt];st.labels=ot.labels,st.defaultTrack=function(Ae){var Ge=!1;return Y.length>1&&Ae.isEmbedded?Ge=Ae.id&&Ae.id===c.Z.CC1:Y.length===1?Ae.id&&typeof Ae.id=="string"&&Ae.id.substring(0,2)==="CC"&&(Ge=!0):Y.length===0&&(Ge=Ae.index===O[0].index),Ge}(ot),st.isFragmented=ot.isFragmented,st.isEmbedded=!!ot.isEmbedded,st.isTTML=function(Ae){return Ae.codec&&Ae.codec.search(c.Z.STPP)>=0||Ae.mimeType&&Ae.mimeType.search(c.Z.TTML)>=0}(ot),st.kind=function(Ae,Ge){var _t=Ae.roles&&Ae.roles.length>0?Ge[Ae.roles[0]]:Ge.caption;return _t=_t===Ge.caption||_t===Ge.subtitle?_t:Ge.caption}(ot,{subtitle:"subtitles",caption:"captions"}),I.addTextTrack(st)}function be(ot){var st=ot.chunk;st.mediaInfo.embeddedCaptions&&Re(st.bytes,st)}function Ue(ot){F=ot}function Re(ot,st){var Yt=st.mediaInfo,Ae=Yt.type,Ge=Yt.mimeType,_t=Yt.codec||Ge;_t?Yt.codec.indexOf("application/mp4")!==-1?function(Xe,St,wt){var mt;if(St.segmentType==="InitializationSegment")k=!0,H=A.getMediaTimescaleFromMoov(Xe);else{if(!k)return;(mt=A.getSamplesInfo(Xe).sampleList).length>0&&($=mt[0].cts-St.start*H),wt.search(c.Z.STPP)>=0?function(tn,en,xn){var Nn,Ke;for(P=P!==null?P:ct(xn),Nn=0;Nn<en.length;Nn++){var bt=en[Nn],lt=bt.cts,Rt=ke(),Vt=Rt+lt/H,sn=Vt+bt.duration/H;g.buffered.add(Vt,sn);var nn=new DataView(tn,bt.offset,bt.subSizes[0]),cn=of.Utils.dataViewToString(nn,c.Z.UTF8),yn=[],gt=bt.offset+bt.subSizes[0];for(Ke=1;Ke<bt.subSizes.length;Ke++){var zt=new Uint8Array(tn,gt,bt.subSizes[Ke]),Wt=String.fromCharCode.apply(null,zt);yn.push(Wt),gt+=bt.subSizes[Ke]}try{var Kt=de.getValue().ttmlTimeIsRelative?lt/H:0,rn=P.parse(cn,Kt,lt/H,(lt+bt.duration)/H,yn);I.addCaptions(F,Rt,rn)}catch(Qe){D.removeExecutedRequestsBeforeTime(),this.remove(),b.error("TTML parser error: "+Qe.message)}}}(Xe,mt,wt):function(tn,en){var xn,Nn,Ke,bt=[];for(xn=0;xn<en.length;xn++){var lt=en[xn];lt.cts-=$;var Rt=ke()+lt.cts/H,Vt=Rt+lt.duration/H;g.buffered.add(Rt,Vt);var sn=tn.slice(lt.offset,lt.offset+lt.size),nn=of.parseBuffer(sn);for(Nn=0;Nn<nn.boxes.length;Nn++){var cn=nn.boxes[Nn];if(b.debug("VTT box1: "+cn.type),cn.type!=="vtte"&&cn.type==="vttc"){b.debug("VTT vttc boxes.length = "+cn.boxes.length);var yn={styles:{}};for(Ke=0;Ke<cn.boxes.length;Ke++){var gt=cn.boxes[Ke];if(b.debug("VTT box2: "+gt.type),gt.type==="payl")yn.start=lt.cts/H,yn.end=(lt.cts+lt.duration)/H,yn.data=gt.cue_text;else if(gt.type==="sttg"&&gt.settings&&gt.settings!=="")try{var zt=gt.settings.split(" ");yn.styles=Z.getCaptionStyles(zt)}catch{}}yn&&yn.data&&(bt.push(yn),b.debug("VTT  ".concat(yn.start," - ").concat(yn.end," :  ").concat(yn.data)))}}}bt.length>0&&I.addCaptions(F,0,bt)}(Xe,mt)}}(ot,st,_t):Ae===c.Z.VIDEO?function(Xe,St){var wt,mt;if(St.segmentType===xe.w.INIT_SEGMENT_TYPE)G===0&&(G=A.getMediaTimescaleFromMoov(Xe));else if(St.segmentType===xe.w.MEDIA_SEGMENT_TYPE){if(G===0)return void b.warn("CEA-608: No timescale for embeddedTextTrack yet");var tn=(mt=A.getSamplesInfo(Xe)).lastSequenceNumber,en=Math.trunc(St.start),xn=Math.trunc(St.end);if(pe[0]||pe[1]||function(){for(var Rt,Vt=0;Vt<Y.length;Vt++){if((Rt=I.getTrackIdxForId(Y[Vt].id))===-1)return void b.warn("CEA-608: data before track is ready.");var sn=Ve(Rt);pe[Vt]=new(u()).Cea608Parser(Vt+1,{newCue:sn},null)}}(),G){if(function(Rt,Vt,sn,nn,cn){return Rt!==null&&Vt!==null&&nn!==null&&cn!==null&&(Vt===Rt?nn!==cn:Vt!==Rt+sn)}(_e,tn,mt.numSequences,ce,en))for(wt=0;wt<pe.length;wt++)pe[wt]&&pe[wt].reset();for(var Nn=function(Rt,Vt){if(Vt.length===0)return null;for(var sn={splits:[],fields:[[],[]]},nn=new DataView(Rt),cn=0;cn<Vt.length;cn++)for(var yn=Vt[cn],gt=u().findCea608Nalus(nn,yn.offset,yn.size),zt=null,Wt=0,Kt=0;Kt<gt.length;Kt++)for(var rn=u().extractCea608DataFromRange(nn,gt[Kt]),Qe=0;Qe<2;Qe++)if(rn[Qe].length>0){yn.cts!==zt?Wt=0:Wt+=1;var Be=ke();sn.fields[Qe].push([yn.cts+Be*G,rn[Qe],Wt]),zt=yn.cts}return sn.fields.forEach(function(ft){ft.sort(function(ve,Ce){return ve[0]===Ce[0]?ve[2]-Ce[2]:ve[0]-Ce[0]})}),sn}(Xe,mt.sampleList),Ke=0;Ke<pe.length;Ke++){var bt=Nn.fields[Ke],lt=pe[Ke];if(lt)for(wt=0;wt<bt.length;wt++)lt.addData(bt[wt][0]/G,bt[wt][1])}_e=tn,ce=xn}}}(ot,st):function(Xe,St,wt){var mt,tn,en=new DataView(Xe,0,Xe.byteLength);tn=of.Utils.dataViewToString(en,c.Z.UTF8);try{mt=ct(wt).parse(tn,0),I.addCaptions(I.getCurrentTrackIdx(),0,mt),g.buffered&&g.buffered.add(St.start,St.end)}catch(xn){W.error(new le.Z(ie.TIMED_TEXT_ERROR_ID_PARSE_CODE,ie.TIMED_TEXT_ERROR_MESSAGE_PARSE+xn.message,tn))}}(ot,st,_t):b.error("No text type defined")}function Ve(ot){return function(st,Yt,Ae){var Ge;(Ge=ge.getTTMLRenderingDiv()?ye.createHTMLCaptionsFromScreen(ge.getElement(),st,Yt,Ae):[{start:st,end:Yt,data:Ae.getDisplayText(),styles:{}}])&&I.addCaptions(ot,0,Ge)}}function ke(){return isNaN(g.timestampOffset)?0:g.timestampOffset}function ct(ot){var st;return ot.search(c.Z.VTT)>=0?st=ue.get().streaming.text.webvtt.customRenderingEnabled&&L?L:Z:(ot.search(c.Z.TTML)>=0||ot.search(c.Z.STPP)>=0)&&(st=U),st}function dt(ot){Y.forEach(function(st){var Yt=I.getTrackIdxForId(st.id);Yt>=0&&I.deleteCuesFromTrackIdx(Yt,ot.from,ot.to)})}return g={initialize:function(){oe||(Y=[],F=null,G=0,pe=[],_e=null,ce=null,oe=!0,ye=s1(te).getInstance(),fe.on(m.Z.VIDEO_CHUNK_RECEIVED,be,g),fe.on(m.Z.BUFFER_CLEARED,dt,g))},addMediaInfos:function(ot,st,Yt){if(O=O.concat(st),ot===c.Z.TEXT&&st[0].isFragmented&&!st[0].isEmbedded){D=Yt,g.buffered=(0,o1.Z)(te).create(),K=X.getTracksFor(c.Z.TEXT,N.id).filter(function(Xe){return Xe.isFragmented});for(var Ae=X.getCurrentTrackFor(c.Z.TEXT,N.id),Ge=0;Ge<K.length;Ge++)if(K[Ge]===Ae){Ue(Ge);break}}for(var _t=0;_t<st.length;_t++)ae(st[_t])},resetMediaInfos:function(){O=[]},getStreamId:function(){return N.id},append:Re,abort:function(){},addEmbeddedTrack:function(ot){if(oe&&ot)if(ot.id===c.Z.CC1||ot.id===c.Z.CC3){for(var st=0;st<Y.length;st++)if(Y[st].id===ot.id)return;Y.push(ot)}else b.warn("Embedded track "+ot.id+" not supported!")},resetEmbedded:function(){fe.off(m.Z.VIDEO_CHUNK_RECEIVED,be,g),fe.off(m.Z.BUFFER_CLEARED,dt,g),I&&I.deleteAllTextTracks(),oe=!1,Y=[],pe=[null,null],_e=null,ce=null},getConfig:function(){return{fragmentModel:D,fragmentedTracks:K,videoModel:ge}},setCurrentFragmentedTrackIdx:Ue,remove:function(ot,st){ot===void 0&&ot===st&&(ot=g.buffered.start(0),st=g.buffered.end(g.buffered.length-1)),g.buffered.remove(ot,st),I.deleteCuesFromTrackIdx(F,ot,st)},reset:function(){z(),O=[],A=null}},b=(0,S.Z)(te).getInstance().getLogger(g),A=(0,Xc.Z)(te).getInstance(),z(),g}PE.__dashjs_factory_name="TextSourceBuffer";var a1=C.Z.getClassFactory(PE),pg=l(4403);function kE(_,g){(g==null||g>_.length)&&(g=_.length);for(var b=0,A=new Array(g);b<g;b++)A[b]=_[b];return A}var l1=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function FE(_){var g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe,ye,W,de,X,ge=this.context,I=(0,E.Z)(ge).getInstance(),Z=_.videoModel,L=_.streamInfo,U=_.settings;function N(Ke,bt,lt,Rt,Vt,sn){var nn=0,cn=0;Ke/bt>lt/Rt?nn=(cn=bt)/Rt*lt:cn=(nn=Ke)/lt*Rt;var yn,gt,zt=0,Wt=0;return nn/cn>Vt?(Wt=cn,zt=cn*Vt):(zt=nn,Wt=nn/Vt),yn=(Ke-zt)/2,gt=(bt-Wt)/2,sn?{x:yn+.1*zt,y:gt+.1*Wt,w:.8*zt,h:.8*Wt}:{x:yn,y:gt,w:zt,h:Wt}}function ue(Ke,bt){var lt=Z.getClientWidth(),Rt=Z.getClientHeight(),Vt=Z.getVideoWidth(),sn=Z.getVideoHeight(),nn=Z.getVideoRelativeOffsetTop(),cn=Z.getVideoRelativeOffsetLeft();if(Vt!==0&&sn!==0){var yn=Vt/sn,gt=!1;Ke.isFromCEA608&&(yn=1.1666666666666667,gt=!0);var zt=N.call(this,lt,Rt,Vt,sn,yn,gt),Wt=zt.w,Kt=zt.h,rn=zt.x,Qe=zt.y;if(Wt!=K||Kt!=$||rn!=k||Qe!=H||bt){if(k=rn+cn,H=Qe+nn,K=Wt,$=Kt,F){var Be=F.style;Be&&(Be.left=k+"px",Be.top=H+"px",Be.width=K+"px",Be.height=$+"px",Be.zIndex=_e&&document[_e]||ce?ye:null,I.trigger(h.Z.CAPTION_CONTAINER_RESIZE))}var ft=Ke.activeCues;if(ft)for(var ve=ft.length,Ce=0;Ce<ve;++Ce){var tt=ft[Ce];tt.scaleCue(tt)}}}}function te(Ke){var bt,lt,Rt,Vt,sn,nn=K,cn=$;if(Ke.cellResolution){var yn=[nn/Ke.cellResolution[0],cn/Ke.cellResolution[1]];if(Ke.linePadding){for(bt in Ke.linePadding)if(Ke.linePadding.hasOwnProperty(bt)){lt=(Ke.linePadding[bt]*yn[0]).toString();for(var gt=document.getElementsByClassName("spanPadding"),zt=0;zt<gt.length;zt++)gt[zt].style.cssText=gt[zt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+lt),gt[zt].style.cssText=gt[zt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+lt)}}if(Ke.fontSize){for(bt in Ke.fontSize)if(Ke.fontSize.hasOwnProperty(bt)){Ke.fontSize[bt][0]==="%"?Rt=Ke.fontSize[bt][1]/100:Ke.fontSize[bt][0]==="c"&&(Rt=Ke.fontSize[bt][1]),lt=(Rt*yn[1]).toString(),sn=bt!=="defaultFontSize"?document.getElementsByClassName(bt):document.getElementsByClassName("paragraph");for(var Wt=0;Wt<sn.length;Wt++)sn[Wt].style.cssText=sn[Wt].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+lt)}if(Ke.lineHeight){for(bt in Ke.lineHeight)if(Ke.lineHeight.hasOwnProperty(bt)){Ke.lineHeight[bt][0]==="%"?Vt=Ke.lineHeight[bt][1]/100:Ke.fontSize[bt][0]==="c"&&(Vt=Ke.lineHeight[bt][1]),lt=(Vt*yn[1]).toString(),sn=document.getElementsByClassName(bt);for(var Kt=0;Kt<sn.length;Kt++)sn[Kt].style.cssText=sn[Kt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+lt)}}}}if(Ke.isd){var rn=document.getElementById(Ke.cueID);rn&&F.removeChild(rn),oe(Ke)}}function fe(Ke,bt){var lt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Rt=/^#(.*)$/;if(lt.test(bt)){var Vt=lt.exec(bt),sn=parseInt(Vt[4],10)-1;return"data:image/png;base64,"+btoa(Ke.images[sn])}if(Rt.test(bt)){var nn=Rt.exec(bt)[1];return"data:image/png;base64,"+Ke.embeddedImages[nn]}return bt}function oe(Ke){if(F){Nn.call(this);var bt=document.createElement("div");F.appendChild(bt),pe=(0,pg.renderHTML)(Ke.isd,bt,function(lt){return fe(Ke,lt)},F.clientHeight,F.clientWidth,U.get().streaming.text.imsc.displayForcedOnlyMode,function(lt){b.info("renderCaption :",lt)},pe,U.get().streaming.text.imsc.enableRollUp),bt.id=Ke.cueID,I.trigger(h.Z.CAPTION_RENDERED,{captionDiv:bt,currentTrackIdx:D})}}function z(Ke,bt){return!!bt&&bt.endTime>=Ke.startTime}function ae(Ke,bt){return!!U.get().streaming.text.extendSegmentedCues&&!!function(lt,Rt,Vt){for(var sn=0;sn<Vt.length;sn++){var nn=Vt[sn];if(JSON.stringify(lt[nn])!==JSON.stringify(Rt[nn]))return!1}return!0}(bt,Ke,l1)&&(bt.endTime=Math.max(bt.endTime,Ke.endTime),!0)}function be(Ke,bt){bt&&bt.forEach(function(lt){lt.kind&&lt.kind==="image"&&(lt.src=fe(Ke,lt.src)),be(Ke,lt.contents)})}function Ue(Ke,bt,lt){var Rt=Ge(Ke),Vt=U.get().streaming.text.dispatchForManualRendering;if(Rt&&Array.isArray(lt)&&lt.length!==0)for(var sn=0;sn<lt.length;sn++){var nn=null,cn=lt[sn];Rt.cellResolution=cn.cellResolution,Rt.isFromCEA608=cn.isFromCEA608,isNaN(cn.start)||isNaN(cn.end)||(Vt?nn=Re(cn,bt):ot(cn)&&F?nn=ct(cn,bt,Rt):cn.data&&(nn=dt(cn,bt,Rt)));try{if(nn){if(!St(Rt,nn))if(U.get().streaming.text.webvtt.customRenderingEnabled)Rt.manualCueList||(Rt.manualCueList=[]),Rt.manualCueList.push(nn);else{var yn=void 0;Rt.cues&&Rt.cues.length!==0&&(yn=Rt.cues[Rt.cues.length-1]),z(nn,yn)?ae(nn,yn)||(yn.isd&&(yn.onexit=function(){}),Rt.mode!==c.Z.TEXT_DISABLED&&Rt.addCue(nn)):Rt.mode!==c.Z.TEXT_DISABLED&&Rt.addCue(nn)}var gt=U.get().streaming.buffer.bufferToKeep;mt(Rt,0,Z.getTime()-gt)}else b.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(zt){throw tn(Rt),Rt.addCue(nn),zt}}}function Re(Ke,bt){var lt=st(Ke,bt);return lt.onenter=function(){ot(Ke)&&X&&X.cueID!==lt.cueID&&ke(X),delete lt.type,X=lt,Ve(lt)},lt.onexit=function(){ke(lt),X=null},lt}function Ve(Ke){I.trigger(h.Z.CUE_ENTER,Ke)}function ke(Ke){I.trigger(h.Z.CUE_EXIT,{cueID:Ke.cueID})}function ct(Ke,bt,lt){var Rt=this,Vt=st(Ke,bt);return F.style.left=k+"px",F.style.top=H+"px",F.style.width=K+"px",F.style.height=$+"px",Vt.onenter=function(){var sn=this;lt.mode===c.Z.TEXT_SHOWING&&(this.isd?(de?requestAnimationFrame(function(){return oe(sn)}):oe(this),b.debug("Cue enter id:"+this.cueID)):(F.appendChild(this.cueHTMLElement),te.call(Rt,this),I.trigger(h.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:D})))},Vt.onexit=function(){if(F)for(var sn=F.childNodes,nn=0;nn<sn.length;++nn)sn[nn].id===this.cueID&&(b.debug("Cue exit id:"+sn[nn].id),F.removeChild(sn[nn]),--nn)},Vt}function dt(Ke,bt,lt){var Rt=st(Ke,bt);if(Rt.isActive=!1,Ke.styles)try{Ke.styles.align!==void 0&&"align"in Rt&&(Rt.align=Ke.styles.align),Ke.styles.line!==void 0&&"line"in Rt&&(Rt.line=Ke.styles.line),Ke.styles.snapToLines!==void 0&&"snapToLines"in Rt&&(Rt.snapToLines=Ke.styles.snapToLines),Ke.styles.position!==void 0&&"position"in Rt&&(Rt.position=Ke.styles.position),Ke.styles.size!==void 0&&"size"in Rt&&(Rt.size=Ke.styles.size)}catch(Vt){b.error(Vt)}return Rt.onenter=function(){lt.mode===c.Z.TEXT_SHOWING&&I.trigger(h.Z.CAPTION_RENDERED,{currentTrackIdx:D})},Rt}function ot(Ke){return Ke.type==="html"}function st(Ke,bt){return ot(Ke)?function(lt,Rt){var Vt=new A(lt.start+Rt,lt.end+Rt,"");return Vt.cueHTMLElement=lt.cueHTMLElement,Vt.isd=lt.isd,Vt.images=lt.images,Vt.embeddedImages=lt.embeddedImages,Vt.cueID=lt.cueID,Vt.scaleCue=te.bind(self),Vt.cellResolution=lt.cellResolution,Vt.lineHeight=lt.lineHeight,Vt.linePadding=lt.linePadding,Vt.fontSize=lt.fontSize,Vt.isd&&be(Vt,Vt.isd.contents),Vt}(Ke,bt):function(lt,Rt){var Vt=new A(lt.start-Rt,lt.end-Rt,lt.data);return Vt.cueID="".concat(Vt.startTime,"_").concat(Vt.endTime),Vt}(Ke,bt)}function Yt(Ke){if(Y)for(var bt=Y.childNodes,lt=0;lt<bt.length;++lt)bt[lt].id===Ke.cueID&&(Y.removeChild(bt[lt]),--lt)}function Ae(){var Ke,bt=[],lt=function(Vt,sn){var nn;if(typeof Symbol>"u"||Vt[Symbol.iterator]==null){if(Array.isArray(Vt)||(nn=function(Kt,rn){if(Kt){if(typeof Kt=="string")return kE(Kt,rn);var Qe=Object.prototype.toString.call(Kt).slice(8,-1);return Qe==="Object"&&Kt.constructor&&(Qe=Kt.constructor.name),Qe==="Map"||Qe==="Set"?Array.from(Kt):Qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qe)?kE(Kt,rn):void 0}}(Vt))||sn&&Vt&&typeof Vt.length=="number"){nn&&(Vt=nn);var cn=0,yn=function(){};return{s:yn,n:function(){return cn>=Vt.length?{done:!0}:{done:!1,value:Vt[cn++]}},e:function(Kt){throw Kt},f:yn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gt,zt=!0,Wt=!1;return{s:function(){nn=Vt[Symbol.iterator]()},n:function(){var Kt=nn.next();return zt=Kt.done,Kt},e:function(Kt){Wt=!0,gt=Kt},f:function(){try{zt||nn.return==null||nn.return()}finally{if(Wt)throw gt}}}}(Z.getTextTracks());try{for(lt.s();!(Ke=lt.n()).done;){var Rt=Ke.value;Rt.manualMode===c.Z.TEXT_SHOWING&&bt.push(Rt)}}catch(Vt){lt.e(Vt)}finally{lt.f()}return bt}function Ge(Ke){return Ke>=0&&P[Ke]?Z.getTextTrack(P[Ke].kind,P[Ke].id,P[Ke].lang,P[Ke].isTTML,P[Ke].isEmbedded):null}function _t(Ke){var bt=this;if(Ke!==D){var lt=Ge(D=Ke);Xe.call(this,lt),G&&(clearInterval(G),G=null),lt&&lt.renderingType==="html"&&(ue.call(this,lt,!0),window.ResizeObserver?(W=new window.ResizeObserver(function(){ue.call(bt,lt,!0)})).observe(Z.getElement()):G=setInterval(ue.bind(this,lt),500))}}function Xe(Ke){Nn.call(this),Ke&&Ke.renderingType==="html"?en.call(this):xn.call(this)}function St(Ke,bt){if(!Ke.cues)return!1;for(var lt=0;lt<Ke.cues.length;lt++)if(Ke.cues[lt].startTime===bt.startTime&&Ke.cues[lt].endTime===bt.endTime)return!0;return!1}function wt(Ke,bt,lt){var Rt=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return!!Ke&&(isNaN(bt)||(Rt?Ke.startTime:Ke.endTime)>=bt)&&(isNaN(lt)||(Rt?Ke.endTime:Ke.startTime)<=lt)}function mt(Ke,bt,lt){var Rt,Vt;if(!(lt<bt)&&Ke&&(Ke.cues||Ke.manualCueList)){var sn=Ke.cues&&Ke.cues.length>0?"native":"custom",nn=sn==="native"?Ke.cues:Ke.manualCueList;if(!nn||nn.length===0)return;for(var cn=nn.length-1;cn>=0;cn--)!wt(nn[cn],bt,lt,!0)||(Rt=nn[cn],Vt=Z.getTime(),Rt.startTime>=Vt&&Rt.endTime<=Vt)||(sn==="native"?Ke.removeCue(nn[cn]):(Yt(nn[cn]),delete Ke.manualCueList[cn]))}}function tn(Ke,bt,lt){var Rt=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(Ke&&(Ke.cues||Ke.manualCueList)){var Vt=Ke.cues&&Ke.cues.length>0?"native":"custom",sn=Vt==="native"?Ke.cues:Ke.manualCueList;if(!sn||sn.length===0)return;for(var nn=sn.length-1,cn=nn;cn>=0;cn--)wt(sn[cn],bt,lt,Rt)&&(Vt==="native"?(sn[cn].onexit&&sn[cn].onexit(),Ke.removeCue(sn[cn])):(Yt(sn[cn]),delete Ke.manualCueList[cn]))}}function en(){var Ke=document.getElementById("native-cue-style");if(!Ke){(Ke=document.createElement("style")).id="native-cue-style",document.head.appendChild(Ke);var bt=Ke.sheet,lt=Z.getElement();try{lt&&(lt.id?bt.insertRule("#"+lt.id+"::cue {background: transparent}",0):lt.classList.length!==0?bt.insertRule("."+lt.className+"::cue {background: transparent}",0):bt.insertRule("video::cue {background: transparent}",0))}catch(Rt){b.info(""+Rt.message)}}}function xn(){var Ke=document.getElementById("native-cue-style");Ke&&document.head.removeChild(Ke)}function Nn(){if(F)for(;F.firstChild;)F.removeChild(F.firstChild)}return g={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(A=window.VTTCue||window.TextTrackCue,P=[],O=[],D=-1,k=0,H=0,K=0,$=0,F=null,Y=null,G=null,ce=!1,ye=2147483647,pe=null,de="requestAnimationFrame"in window,document.fullscreenElement!==void 0?_e="fullscreenElement":document.webkitIsFullScreen!==void 0?_e="webkitIsFullScreen":document.msFullscreenElement?_e="msFullscreenElement":document.mozFullScreen&&(_e="mozFullScreen"))},getStreamId:function(){return L.id},addTextTrack:function(Ke){P.push(Ke)},addCaptions:Ue,createTracks:function(){var Ke=U.get().streaming.text.dispatchForManualRendering;P.sort(function(rn,Qe){return rn.index-Qe.index}),F=Z.getTTMLRenderingDiv(),Y=Z.getVttRenderingDiv();for(var bt,lt,Rt,Vt,sn,nn,cn=-1,yn=0;yn<P.length;yn++){var gt=(lt=(bt=P[yn]).kind,Rt=bt.id!==void 0?bt.id:bt.lang,Vt=bt.lang,sn=bt.isTTML,nn=bt.isEmbedded,Z.addTextTrack(lt,Rt,Vt,sn,nn));O.push(gt),P[yn].defaultTrack&&(gt.default=!0,cn=yn);var zt=Ge(yn);zt&&(zt.mode=c.Z.TEXT_SHOWING,F&&(P[yn].isTTML||P[yn].isEmbedded)?zt.renderingType="html":zt.renderingType="default"),Ue(yn,0,P[yn].captionData),I.trigger(h.Z.TEXT_TRACK_ADDED)}if(_t.call(this,cn),cn>=0){I.on(h.Z.PLAYBACK_METADATA_LOADED,function rn(){var Qe=Ge(cn);Qe&&Qe.renderingType==="html"&&ue.call(this,Qe,!0),I.off(h.Z.PLAYBACK_METADATA_LOADED,rn,this)},this);for(var Wt=0;Wt<P.length;Wt++){var Kt=Ge(Wt);Kt&&(Kt.mode=Wt!==cn||Ke?c.Z.TEXT_HIDDEN:c.Z.TEXT_SHOWING,Kt.manualMode=Wt===cn?c.Z.TEXT_SHOWING:c.Z.TEXT_HIDDEN)}}I.trigger(m.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:D,tracks:P,streamId:L.id})},getCurrentTrackIdx:function(){return D},setCurrentTrackIdx:_t,getTrackIdxForId:function(Ke){for(var bt=-1,lt=0;lt<P.length;lt++)if(P[lt].id===Ke){bt=lt;break}return bt},getCurrentTrackInfo:function(){return P[D]},setModeForTrackIdx:function(Ke,bt){var lt=Ge(Ke);lt&&lt.mode!==bt&&(lt.mode=bt),lt&&lt.manualMode!==bt&&(lt.manualMode=bt)},deleteCuesFromTrackIdx:function(Ke,bt,lt){var Rt=Ge(Ke);Rt&&tn(Rt,bt,lt)},deleteAllTextTracks:function(){for(var Ke=O?O.length:0,bt=0;bt<Ke;bt++){var lt=Ge(bt);lt&&tn.call(this,lt,L.start,L.start+L.duration,!1)}O=[],P=[],G&&(clearInterval(G),G=null),W&&Z&&(W.unobserve(Z.getElement()),W=null),D=-1,Nn.call(this)},manualCueProcessing:function(Ke){var bt=Ae();if(bt&&bt.length>0){var lt=bt[0].manualCueList;lt&&lt.length>0&&lt.forEach(function(Rt){Rt.startTime<=Ke&&Rt.endTime>=Ke&&!Rt.isActive?(Rt.isActive=!0,U.get().streaming.text.dispatchForManualRendering?Ve(Rt):WebVTT.processCues(window,[Rt],Y,Rt.cueID)):Rt.isActive&&(Rt.startTime>Ke||Rt.endTime<Ke)&&(Rt.isActive=!1,U.get().streaming.text.dispatchForManualRendering?ke(Rt):Yt(Rt))})}},disableManualTracks:function(){var Ke=Ae();if(Ke&&Ke.length>0){var bt=Ke[0].manualCueList;bt&&bt.length>0&&bt.forEach(function(lt){if(lt.isActive){if(lt.isActive=!1,U.get().streaming.text.dispatchForManualRendering)ke(lt);else if(Y)for(var Rt=Y.childNodes,Vt=0;Vt<Rt.length;++Vt)Rt[Vt].id===lt.cueID&&(Y.removeChild(Rt[Vt]),--Vt)}})}}},b=(0,S.Z)(ge).getInstance().getLogger(g),g}FE.__dashjs_factory_name="TextTracks";var c1=C.Z.getClassFactory(FE);function LE(){var _,g,b,A,P,O,D=this.context;function k(F){var Y=F.split(":"),G=Y.length-1;return F=60*parseInt(Y[G-1],10)+parseFloat(Y[G]),G===2&&(F+=3600*parseInt(Y[0],10)),F}function H(F){var Y=F.split(A),G=Y[1].split(O);return G.shift(),Y[1]=G[0],G.shift(),{cuePoints:Y,styles:K(G)}}function K(F){var Y={};return F.forEach(function(G){if(G.split(/:/).length>1){var _e=G.split(/:/)[1],ce=!1;_e&&_e.search(/%/)!=-1&&(ce=!0,_e=parseInt(_e.replace(/%/,""),10)),(G.match(/align/)||G.match(/A/))&&(Y.align=_e),(G.match(/line/)||G.match(/L/))&&(Y.line=_e==="auto"?_e:parseInt(_e,10),ce&&(Y.snapToLines=!1)),(G.match(/position/)||G.match(/P/))&&(Y.position=_e),(G.match(/size/)||G.match(/S/))&&(Y.size=_e)}}),Y}function $(F,Y){for(var G,_e=Y,ce="",pe="";F[_e]!==""&&_e<F.length;)_e++;if((G=_e-Y)>1)for(var ye=0;ye<G;ye++){if((pe=F[Y+ye]).match(A)){ce="";break}ce+=pe,ye!==G-1&&(ce+=`
`)}else(pe=F[Y]).match(A)||(ce=pe);return ce}return _={parse:function(F){var Y,G,_e=[];if(!F)return _e;Y=(F=F.split(b)).length,G=-1;for(var ce=0;ce<Y;ce++){var pe=F[ce];if(pe.length>0&&pe!=="WEBVTT"&&pe.match(A)){var ye=H(pe),W=ye.cuePoints,de=ye.styles,X=$(F,ce+1),ge=k(W[0].replace(P,"")),I=k(W[1].replace(P,""));!isNaN(ge)&&!isNaN(I)&&ge>=G&&I>ge?X!==""?(G=ge,_e.push({start:ge,end:I,data:X,styles:de})):g.error("Skipping cue due to empty/malformed cue text"):g.error("Skipping cue due to incorrect cue timing")}}return _e},getCaptionStyles:K},g=(0,S.Z)(D).getInstance().getLogger(_),b=/(?:\r\n|\r|\n)/gm,A=/-->/,P=/(^[\s]+|[\s]+$)/g,O=/\s\b/g,_}LE.__dashjs_factory_name="VTTParser";var u1=C.Z.getSingletonFactory(LE);function BE(){var _,g;return _={parse:function(b){var A=[];return g.oncue=function(P){P.start=P.startTime,P.end=P.endTime,P.data=P.text,P.styles={align:P.align,line:P.line,position:P.position,size:P.size},A.push(P)},g.parse(b),A}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(g=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),_}BE.__dashjs_factory_name="VttCustomRenderingParser";var d1=C.Z.getSingletonFactory(BE);function UE(){var _,g,b=this.context,A=(0,E.Z)(b).getInstance(),P=0;return _={parse:function(O,D,k,H,K){var $,F,Y,G="",_e=[],ce={},pe={},ye="",W="",de={onOpenTag:function(L,U,N){if(N[" imagetype"]&&!N[" imageType"]&&(A.trigger(h.Z.CONFORMANCE_VIOLATION,{level:kl.LEVELS.ERROR,event:kl.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),N[" imageType"]=N[" imagetype"]),U==="image"&&(L==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||L==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!N[" imageType"]||N[" imageType"].value!=="PNG")return void g.warn("smpte-tt imageType != PNG. Discarded");ye=N["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){ye&&(pe[ye]=W.trim()),W="",ye=""},onText:function(L){ye&&(W+=L)}};if(!O)throw G="no ttml data to parse",new Error(G);ce.data=O,A.trigger(m.Z.TTML_TO_PARSE,ce);var X=(0,pg.fromXML)(ce.data,function(L){G=L},de);A.trigger(m.Z.TTML_PARSED,{ttmlString:ce.data,ttmlDoc:X});var ge,I=X.getMediaTimeEvents();for(Y=0;Y<I.length;Y++){var Z=(0,pg.generateISD)(X,I[Y],function(L){G=L});Z.contents.some(function(L){return L.contents.length})&&($=I[Y]+D)<(F=I[Y+1]+D)&&_e.push({start:$,end:F,type:"html",cueID:(ge="cue_TTML_"+P,P++,ge),isd:Z,images:K,embeddedImages:pe})}if(G!=="")throw g.error(G),new Error(G);return _e}},g=(0,S.Z)(b).getInstance().getLogger(_),_}UE.__dashjs_factory_name="TTMLParser";var f1=C.Z.getSingletonFactory(UE);function jE(_,g){var b=Object.keys(_);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(_);g&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(_,P).enumerable})),b.push.apply(b,A)}return b}function VE(_){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?jE(Object(b),!0).forEach(function(A){h1(_,A,b[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(b)):jE(Object(b)).forEach(function(A){Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(b,A))})}return _}function h1(_,g,b){return g in _?Object.defineProperty(_,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[g]=b,_}function ZE(_,g){(g==null||g>_.length)&&(g=_.length);for(var b=0,A=new Array(g);b<g;b++)A[b]=_[b];return A}function HE(_){var g,b,A,P=this.context,O=(0,E.Z)(P).getInstance(),D=(0,rt.Z)(P).getInstance(),k=_.adapter,H=_.baseURLController;function K(Y,G){var _e,ce,pe=!1;if(H.resolve()){var ye=k.getVoRepresentations(Y);ye&&ye.length>0&&(_e=H.resolve(ye[0].path).url)}var W=Y.essentialPropertiesAsArray.filter(function(X){return X.schemeIdUri&&X.schemeIdUri===c.Z.FONT_DOWNLOAD_DVB_SCHEME}),de=Y.supplementalPropertiesAsArray.filter(function(X){return X.schemeIdUri&&X.schemeIdUri===c.Z.FONT_DOWNLOAD_DVB_SCHEME});W.length>0?(pe=!0,ce=W):ce=de,ce.forEach(function(X){if(function(L){return!(!(L.value&&L.value==="1"&&L.dvbUrl&&L.dvbUrl.length>0&&L.dvbFontFamily&&L.dvbFontFamily.length>0&&L.dvbMimeType)||L.dvbMimeType!==c.Z.OFF_MIMETYPE&&L.dvbMimeType!==c.Z.WOFF_MIMETYPE)}(X)){var ge=(I=X.dvbUrl,Z=_e,D.isPathAbsolute(I)?I:D.isRelative(I)?Z?D.resolve(I,Z):D.resolve(I):I);A.push({fontFamily:X.dvbFontFamily,url:ge,mimeType:X.dvbMimeType,trackId:Y.id,streamId:G,isEssential:pe,status:"unloaded",fontFace:new FontFace(X.dvbFontFamily,"url(".concat(ge,")"),{display:"swap"})})}var I,Z})}function $(Y,G){var _e=A[Y];A[Y]=VE(VE({},_e),{},{status:G})}function F(){A=[]}return g={addFontsFromTracks:function(Y,G){if(Y&&Array.isArray(Y)&&G)for(var _e=0;_e<Y.length;_e++)K(Y[_e],G)},downloadFonts:function(){for(var Y=function(_e){var ce=A[_e];document.fonts.add(ce.fontFace),O.trigger(h.Z.DVB_FONT_DOWNLOAD_ADDED,ce),ce.fontFace.load().then(function(){$(_e,"loaded"),O.trigger(h.Z.DVB_FONT_DOWNLOAD_COMPLETE,ce)},function(pe){$(_e,"error"),b.debug("Font download error: ",pe),O.trigger(h.Z.DVB_FONT_DOWNLOAD_FAILED,ce)})},G=0;G<A.length;G++)Y(G)},getFonts:function(){return A},getFontsForTrackId:function(Y){return A.filter(function(G){return G.trackId&&G.trackId===Y})},reset:function(){(function(){var Y,G=function(pe,ye){var W;if(typeof Symbol>"u"||pe[Symbol.iterator]==null){if(Array.isArray(pe)||(W=function(L,U){if(L){if(typeof L=="string")return ZE(L,U);var N=Object.prototype.toString.call(L).slice(8,-1);return N==="Object"&&L.constructor&&(N=L.constructor.name),N==="Map"||N==="Set"?Array.from(L):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?ZE(L,U):void 0}}(pe))||ye&&pe&&typeof pe.length=="number"){W&&(pe=W);var de=0,X=function(){};return{s:X,n:function(){return de>=pe.length?{done:!0}:{done:!1,value:pe[de++]}},e:function(L){throw L},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,I=!0,Z=!1;return{s:function(){W=pe[Symbol.iterator]()},n:function(){var L=W.next();return I=L.done,L},e:function(L){Z=!0,ge=L},f:function(){try{I||W.return==null||W.return()}finally{if(Z)throw ge}}}}(A);try{for(G.s();!(Y=G.n()).done;){var _e=Y.value,ce=document.fonts.delete(_e.fontFace);b.debug("Removal of fontFamily: ".concat(_e.fontFamily," was ").concat(ce?"successful":"unsuccessful"))}}catch(pe){G.e(pe)}finally{G.f()}})(),F()}},b=(0,S.Z)(P).getInstance().getLogger(g),F(),g}HE.__dashjs_factory_name="DVBFonts";var m1=C.Z.getClassFactory(HE);function zE(_){var g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce=this.context,pe=_.adapter,ye=_.errHandler,W=_.manifestModel,de=_.mediaController,X=_.baseURLController,ge=_.videoModel,I=_.settings;function Z(ae){if(_e.error("Could not download ".concat(ae.isEssential?"an essential":"a"," font - fontFamily: ").concat(ae.fontFamily,", url: ").concat(ae.url)),ae.isEssential){var be=P[ae.streamId].getTrackIdxForId(ae.trackId);P[ae.streamId].setModeForTrackIdx(be,c.Z.TEXT_DISABLED)}}function L(ae){if(_e.debug("Successfully downloaded ".concat(ae.isEssential?"an essential":"a"," font - fontFamily: ").concat(ae.fontFamily,", url: ").concat(ae.url)),ae.isEssential){var be=P[ae.streamId].getTrackIdxForId(ae.trackId);be===P[ae.streamId].getCurrentTrackIdx()?P[ae.streamId].setModeForTrackIdx(be,c.Z.TEXT_SHOWING):P[ae.streamId].setModeForTrackIdx(be,c.Z.TEXT_HIDDEN)}}function U(ae){var be=ae.tracks,Ue=ae.index,Re=ae.streamId;if(I.get().streaming.text.defaultEnabled===!1&&!te()||Y)fe(Re,-1);else{var Ve=de.getCurrentTrackFor(c.Z.TEXT,Re);if(Ve){var ke={lang:Ve.lang,role:Ve.roles[0],index:Ve.index,codec:Ve.codec,accessibility:Ve.accessibility[0]};be.some(function(ct,dt){if(de.matchSettings(ke,ct))return fe(Re,dt),Ue=dt,!0})}K=!1}b[Re].lastEnabledIndex=Ue,H.trigger(h.Z.TEXT_TRACKS_ADDED,{enabled:te(),index:Ue,tracks:be,streamId:Re}),F=!0,G.addFontsFromTracks(be,Re),G.getFonts().forEach(function(ct){if(ct.isEssential){var dt=P[ct.streamId].getTrackIdxForId(ct.trackId);P[ct.streamId].setModeForTrackIdx(dt,c.Z.TEXT_DISABLED)}}),G.downloadFonts()}function N(ae){try{var be=ae.streamId;if(!P[be]||isNaN(ae.time))return;P[be].manualCueProcessing(ae.time)}catch{}}function ue(ae){try{var be=ae.streamId;if(!P[be])return;P[be].disableManualTracks()}catch{}}function te(){var ae=!0;return K&&!$&&(ae=!1),ae}function fe(ae,be){(K=be===-1)&&de&&de.saveTextSettingsDisabled();var Ue=oe(ae);if(Ue!==be&&P[ae]){P[ae].disableManualTracks();var Re=P[ae].getCurrentTrackInfo(),Ve=Re?ge.getTextTrack(Re.kind,Re.id,Re.lang,Re.isTTML,Re.isEmbedded):null;Ve&&Ve.mode!==c.Z.TEXT_DISABLED&&P[ae].setModeForTrackIdx(Ue,c.Z.TEXT_HIDDEN),P[ae].setCurrentTrackIdx(be),Re=P[ae].getCurrentTrackInfo();var ke=I.get().streaming.text.dispatchForManualRendering;Re&&!ke&&Re.mode!==c.Z.TEXT_DISABLED&&P[ae].setModeForTrackIdx(be,c.Z.TEXT_SHOWING),Re&&Re.isFragmented&&!Re.isEmbedded?function(ct,dt,ot){if(A[ct])for(var st=A[ct].getConfig().fragmentedTracks,Yt=0;Yt<st.length;Yt++){var Ae=st[Yt];if(dt.lang===Ae.lang&&(Ae.id?dt.id===Ae.id:dt.index===Ae.index)){var Ge=de.getCurrentTrackFor(c.Z.TEXT,ct);(Ae.id?Ge.id!==Ae.id:Ge.index!==Ae.index)?(P[ct].deleteCuesFromTrackIdx(ot),A[ct].setCurrentFragmentedTrackIdx(Yt)):ot===-1&&H.trigger(m.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:ct,mediaType:c.Z.TEXT})}}}(ae,Re,Ue):Re&&!Re.isFragmented&&function(ct,dt){H.trigger(m.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:dt},{streamId:ct,mediaType:c.Z.TEXT})}(ae,Re),de.setTrack(Re)}}function oe(ae){return P[ae].getCurrentTrackIdx()}function z(){A={},P={},b={},K=!0,F=!1,Y=!1}return g={deactivateStream:function(ae){if(ae){var be=ae.id;A[be]&&A[be].resetMediaInfos(),P[be]&&P[be].deleteAllTextTracks()}},initialize:function(){G=m1(ce).create({adapter:pe,baseURLController:X}),H.on(m.Z.TEXT_TRACKS_QUEUE_INITIALIZED,U,g),H.on(m.Z.DVB_FONT_DOWNLOAD_FAILED,Z,g),H.on(m.Z.DVB_FONT_DOWNLOAD_COMPLETE,L,g),I.get().streaming.text.webvtt.customRenderingEnabled&&(H.on(m.Z.PLAYBACK_TIME_UPDATED,N,g),H.on(m.Z.PLAYBACK_SEEKING,ue,g))},initializeForStream:function(ae){var be=ae.id,Ue=c1(ce).create({videoModel:ge,settings:I,streamInfo:ae});Ue.initialize(),P[be]=Ue;var Re=a1(ce).create({errHandler:ye,adapter:pe,dvbFonts:G,manifestModel:W,mediaController:de,videoModel:ge,textTracks:Ue,vttParser:O,vttCustomRenderingParser:D,ttmlParser:k,streamInfo:ae,settings:I});Re.initialize(),A[be]=Re,b[be]={},b[be].lastEnabledIndex=-1},createTracks:function(ae){var be=ae.id;P[be]&&P[be].createTracks()},getTextSourceBuffer:function(ae){var be=ae.id;if(A&&A[be])return A[be]},getAllTracksAreDisabled:function(){return K},addEmbeddedTrack:function(ae,be){var Ue=ae.id;A[Ue]&&A[Ue].addEmbeddedTrack(be)},enableText:function(ae,be){return(0,ne.PS)(be,"boolean"),te()!==be&&(be&&fe(ae,b[ae].lastEnabledIndex),be||(b[ae].lastEnabledIndex=oe(ae),F?fe(ae,-1):Y=!0)),!0},isTextEnabled:te,setTextTrack:fe,getCurrentTrackIdx:oe,enableForcedTextStreaming:function(ae){return(0,ne.PS)(ae,"boolean"),$=ae,!0},addMediaInfosToBuffer:function(ae,be,Ue){var Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Ve=ae.id;A[Ve]&&A[Ve].addMediaInfos(be,Ue,Re)},reset:function(){G.reset(),z(),H.off(m.Z.TEXT_TRACKS_QUEUE_INITIALIZED,U,g),H.off(m.Z.DVB_FONT_DOWNLOAD_FAILED,Z,g),H.off(m.Z.DVB_FONT_DOWNLOAD_COMPLETE,L,g),I.get().streaming.text.webvtt.customRenderingEnabled&&(H.off(m.Z.PLAYBACK_TIME_UPDATED,N,g),H.off(m.Z.PLAYBACK_SEEKING,ue,g)),Object.keys(A).forEach(function(ae){A[ae].resetEmbedded(),A[ae].reset()})}},$=!1,F=!1,Y=!1,O=u1(ce).getInstance(),D=d1(ce).getInstance(),k=f1(ce).getInstance(),H=(0,E.Z)(ce).getInstance(),_e=(0,S.Z)(ce).getInstance().getLogger(g),z(),g}zE.__dashjs_factory_name="TextController";var p1=C.Z.getClassFactory(zE);function gg(){var _,g,b,A,P,O,D,k,H,K,$,F,Y,G,_e,ce,pe,ye,W,de,X,ge,I,Z,L,U,N,ue,te,fe,oe,z,ae,be,Ue,Re,Ve,ke,ct,dt="You must first call initialize() and set a source before calling this method",ot="You must first call initialize() and set a valid source and view before calling this method",st="You must first call attachView() to set the video element before calling this method",Yt="You must first call attachSource() with a valid source before calling this method",Ae="MediaPlayer not initialized!",Ge=this.context,_t=(0,E.Z)(Ge).getInstance(),Xe=(0,Se.Z)(Ge).getInstance(),St=(0,S.Z)(Ge).getInstance({settings:Xe});function wt(){yn(null),nn(null),A=null,G&&(G.reset(),G=null),_e&&(_e.reset(),_e=null),de&&de.reset(),Xe.reset(),pe&&(pe.reset(),pe=null)}function mt(){return!!b&&!!Re.getElement()}function tn(){return(0,MR.e)()}function en(){if(!D)throw ot;return ue.isPaused()}function xn(){if(!D)throw ot;return ue.getIsDynamic()}function Nn(ve){var Ce=L&&L.hasVideoTrack()?c.Z.VIDEO:c.Z.AUDIO,tt=z.getCurrentDVRInfo(Ce);if(!tt)return 0;var Ot=ue.getOriginalLiveDelay(),Zt=tt.range.start+ve;return Zt>tt.range.end-Ot&&(Zt=tt.range.end-Ot),Zt}function Ke(ve){if(!D)throw ot;var Ce=sn().currentTime;if(ve!==void 0)Ce=L.getTimeRelativeToStreamId(Ce,ve);else if(ue.getIsDynamic()){var tt=L&&L.hasVideoTrack()?c.Z.VIDEO:c.Z.AUDIO,Ot=z.getCurrentDVRInfo(tt);Ce=Ot===null||Ce===0?0:Math.max(0,Ce-Ot.range.start)}return Ce}function bt(){if(!D)throw ot;var ve=sn().duration;if(ue.getIsDynamic()){var Ce=L&&L.hasVideoTrack()?c.Z.VIDEO:c.Z.AUDIO,tt=z.getCurrentDVRInfo(Ce);ve=tt?tt.range.end-tt.range.start:0}return ve}function lt(ve){(0,ne.PS)(ve,"boolean"),k=ve}function Rt(){de.restoreDefaultUTCTimingSources()}function Vt(){return z}function sn(){if(!Re.getElement())throw st;return Re.getElement()}function nn(ve){if(!P)throw Ae;Re.setElement(ve),ve&&(rn(),function(){if(!_e){var Ce=dashjs.MetricsReporting;if(typeof Ce=="function"){var tt=Ce(Ge).create();_e=tt.createMetricsReporting({debug:St,eventBus:_t,mediaElement:sn(),adapter:ye,dashMetrics:z,mediaPlayerModel:W,events:m.Z,constants:c.Z,metricsConstants:p.Z})}}}(),function(){if(!ce){var Ce=dashjs.MssHandler;typeof Ce=="function"&&(ie.extend(Ce.errors),ce=Ce(Ge).create({eventBus:_t,mediaPlayerModel:W,dashMetrics:z,manifestModel:ae,playbackController:ue,streamController:L,protectionController:G,baseURLController:ge,errHandler:X,events:m.Z,constants:c.Z,debug:St,initSegmentType:xe.w.INIT_SEGMENT_TYPE,BASE64:fg,ISOBoxer:of,settings:Xe}))}}(),L&&L.switchToVideoElement(H)),D&&zt(),ft(H)}function cn(ve){if(!O)throw dt;var Ce=L.getActiveStreamInfo();return Ce?Y.getTracksFor(ve,Ce.id):[]}function yn(ve){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;if(!P)throw Ae;typeof ve=="string"&&Ve.initialize(ve),Ce==null&&(Ce=NaN),isNaN(Ce)||(Ce=Math.max(0,Ce)),H=Ce,b=ve,(O||D)&&zt(),mt()&&ft(H)}function gt(){if(!O)throw dt;var ve=L.getActiveStreamInfo();return ve?L.getStreamById(ve.id):null}function zt(){D=!1,O=!1,ye.reset(),L.reset(),N.reset(),oe.reset(),ue.reset(),te.reset(),fe.reset(),K.reset(),Y.reset(),ct.reset(),G&&(Xe.get().streaming.protection.keepProtectionMediaKeys?G.stop():(G.reset(),G=null,rn())),U.reset(),be.reset(),Ue.reset()}function Wt(){var ve=Kt();L||(L=O0(Ge).getInstance()),U||(U=p1(Ge).create({errHandler:X,manifestModel:ae,adapter:ye,mediaController:Y,baseURLController:ge,videoModel:Re,settings:Xe})),Z.setConfig({capabilities:I,customParametersModel:de,adapter:ye,settings:Xe,manifestModel:ae,errHandler:X}),L.setConfig({capabilities:I,capabilitiesFilter:Z,manifestLoader:ve,manifestModel:ae,mediaPlayerModel:W,customParametersModel:de,protectionController:G,textController:U,adapter:ye,dashMetrics:z,errHandler:X,timelineConverter:F,videoModel:Re,playbackController:ue,serviceDescriptionController:te,contentSteeringController:fe,abrController:K,mediaController:Y,settings:Xe,baseURLController:ge,uriFragmentModel:Ve,segmentBaseController:ct}),N.setConfig({settings:Xe,playbackController:ue,streamController:L,videoModel:Re,timelineConverter:F,adapter:ye}),ue.setConfig({streamController:L,serviceDescriptionController:te,dashMetrics:z,adapter:ye,videoModel:Re,timelineConverter:F,settings:Xe}),oe.setConfig({streamController:L,playbackController:ue,mediaPlayerModel:W,videoModel:Re,settings:Xe}),K.setConfig({streamController:L,domStorage:ke,mediaPlayerModel:W,customParametersModel:de,cmsdModel:Ue,dashMetrics:z,adapter:ye,videoModel:Re,settings:Xe}),be.setConfig({abrController:K,dashMetrics:z,playbackController:ue}),Ue.setConfig({}),K.initialize(),L.initialize(k,A),U.initialize(),N.initialize(),oe.initialize(),be.initialize(),Ue.initialize(),fe.initialize(),ct.initialize()}function Kt(){return mR(Ge).create({debug:St,errHandler:X,dashMetrics:z,mediaPlayerModel:W,requestModifier:(0,Ne.Z)(Ge).getInstance(),mssHandler:ce,settings:Xe})}function rn(){if(G)return G;var ve=dashjs.Protection;if(typeof ve=="function"){var Ce=ve(Ge).create();return m.Z.extend(ve.events),h.Z.extend(ve.events,{publicOnly:!0}),ie.extend(ve.errors),I||(I=(0,iE.Z)(Ge).getInstance()),G=Ce.createProtectionSystem({debug:St,errHandler:X,videoModel:Re,customParametersModel:de,capabilities:I,eventBus:_t,events:m.Z,BASE64:fg,constants:c.Z,cmcdModel:be,settings:Xe})}return null}function Qe(){if(!P)throw Ae;if(pe)return pe;var ve=dashjs.OfflineController;if(typeof ve=="function"){m.Z.extend(ve.events),h.Z.extend(ve.events,{publicOnly:!0}),ie.extend(ve.errors);var Ce=Kt(),tt=x0(Ge).create();return tt.setConfig({manifestModel:ae,adapter:ye,manifestLoader:Ce,errHandler:X,contentSteeringController:fe}),pe=ve(Ge).create({debug:St,manifestUpdater:tt,baseURLController:ge,manifestLoader:Ce,manifestModel:ae,mediaPlayerModel:W,abrController:K,playbackController:ue,adapter:ye,errHandler:X,dashMetrics:z,timelineConverter:F,segmentBaseController:ct,schemeLoaderFactory:$,eventBus:_t,events:m.Z,errors:ie,constants:c.Z,settings:Xe,dashConstants:d.Z,urlUtils:(0,rt.Z)(Ge).getInstance()})}return null}function Be(ve){var Ce=L&&L.hasVideoTrack()?c.Z.VIDEO:c.Z.AUDIO,tt=z.getCurrentDVRInfo(Ce);return tt?ve+(tt.manifestInfo.availableFrom.getTime()/1e3+tt.range.start):0}function ft(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;pe&&pe.resetRecords(),!O&&b&&(O=!0,g.info("Streaming Initialized"),Wt(),typeof b=="string"?L.load(b,ve):L.loadWithManifest(b,ve)),!D&&mt()&&(D=!0,g.info("Playback Initialized"))}return _={initialize:function(ve,Ce,tt){var Ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN;I||(I=(0,iE.Z)(Ge).getInstance()).setConfig({settings:Xe}),X||(X=pR(Ge).getInstance()),I.supportsMediaSource()?(P||(P=!0,F=n1(Ge).getInstance(),K||(K=CR(Ge).getInstance()).setConfig({settings:Xe}),$||($=ri(Ge).getInstance()),ue||(ue=w(Ge).getInstance()),Y||(Y=LM(Ge).getInstance()),L||(L=O0(Ge).getInstance()),N||(N=NM(Ge).getInstance()),oe||(oe=OM(Ge).getInstance()),te||(te=kM(Ge).getInstance()),fe||(fe=Ao(Ge).getInstance()),Z||(Z=gR(Ge).getInstance()),ye=jR(Ge).getInstance(),ae=yR(Ge).getInstance(),be=Rn(Ge).getInstance(),Ue=Ht(Ge).getInstance(),z=t1(Ge).getInstance({settings:Xe}),ke=xR(Ge).getInstance({settings:Xe}),ye.setConfig({constants:c.Z,cea608parser:u(),errHandler:X,BASE64:fg}),ge||(ge=HM(Ge).create()),ge.setConfig({adapter:ye,contentSteeringController:fe}),te.setConfig({adapter:ye}),ct||(ct=OR(Ge).getInstance({dashMetrics:z,mediaPlayerModel:W,errHandler:X,baseURLController:ge,events:m.Z,eventBus:_t,debug:St,boxParser:(0,Xc.Z)(Ge).getInstance(),requestModifier:(0,Ne.Z)(Ge).getInstance(),errors:ie})),Y.setConfig({domStorage:ke,settings:Xe,customParametersModel:de}),W.setConfig({playbackController:ue,serviceDescriptionController:te}),fe.setConfig({adapter:ye,errHandler:X,dashMetrics:z,mediaPlayerModel:W,manifestModel:ae,serviceDescriptionController:te,eventBus:_t,requestModifier:(0,Ne.Z)(Ge).getInstance()}),Rt(),lt(tt===void 0||tt),Qe()),ve&&nn(ve),Ce&&yn(Ce,Ot),g.info("[dash.js "+tn()+"] MediaPlayer has been initialized")):X.error(new le.Z(ie.CAPABILITY_MEDIASOURCE_ERROR_CODE,ie.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(ve){ve&&(ve.capabilities&&(I=ve.capabilities),ve.capabilitiesFilter&&(Z=ve.capabilitiesFilter),ve.streamController&&(L=ve.streamController),ve.textController&&(U=ve.textController),ve.gapController&&(N=ve.gapController),ve.playbackController&&(ue=ve.playbackController),ve.serviceDescriptionController&&(te=ve.serviceDescriptionController),ve.contentSteeringController&&(fe=ve.contentSteeringController),ve.catchupController&&(oe=ve.catchupController),ve.mediaPlayerModel&&(W=ve.mediaPlayerModel),ve.customParametersModel&&(de=ve.customParametersModel),ve.abrController&&(K=ve.abrController),ve.schemeLoaderFactory&&($=ve.schemeLoaderFactory),ve.mediaController&&(Y=ve.mediaController),ve.settings&&(Xe=ve.settings))},on:function(ve,Ce,tt,Ot){_t.on(ve,Ce,tt,Ot)},off:function(ve,Ce,tt){_t.off(ve,Ce,tt)},extend:function(ve,Ce,tt){C.Z.extend(ve,Ce,tt,Ge)},attachView:nn,attachSource:yn,refreshManifest:function(ve){if(!P)throw Ae;if(!mt())return ve(null,Yt);var Ce=this;typeof ve=="function"&&_t.on(m.Z.INTERNAL_MANIFEST_LOADED,function tt(Ot){_t.off(m.Z.INTERNAL_MANIFEST_LOADED,tt,Ce),Ot.error?ve(null,Ot.error):ve(Ot.manifest)},Ce),L.refreshManifest()},isReady:mt,preload:function(){if(!Re.getElement()&&!O){if(!b)throw Yt;ft(H)}},play:function(){if(!D)throw ot;(!k||en()&&D)&&ue.play(!0)},isPaused:en,pause:function(){if(!D)throw ot;ue.pause()},isSeeking:function(){if(!D)throw ot;return ue.isSeeking()},isDynamic:xn,getLowLatencyModeEnabled:function(){if(!D)throw ot;return ue.getLowLatencyModeEnabled()},seek:function(ve){if(!D)throw ot;if((0,ne.PS)(ve,"number"),isNaN(ve))throw c.Z.BAD_ARGUMENT_ERROR;ve<0&&(ve=0);var Ce=ue.getIsDynamic()?Nn(ve):ve,tt=sn();!ue.getIsDynamic()&&tt.duration&&(Ce=Math.min(tt.duration,Ce)),ue.seek(Ce,!1,!1,!0)},seekToOriginalLive:function(){D&&xn()&&ue.seekToOriginalLive()},setPlaybackRate:function(ve){sn().playbackRate=ve},getPlaybackRate:function(){return sn().playbackRate},setMute:function(ve){(0,ne.PS)(ve,"boolean"),sn().muted=ve},isMuted:function(){return sn().muted},setVolume:function(ve){if(typeof ve!="number"||isNaN(ve)||ve<0||ve>1)throw c.Z.BAD_ARGUMENT_ERROR;sn().volume=ve},getVolume:function(){return sn().volume},time:Ke,duration:bt,timeAsUTC:function(){if(!D)throw ot;return Ke()<0?NaN:Be(Ke())},durationAsUTC:function(){if(!D)throw ot;return Be(bt())},getActiveStream:gt,getDVRWindowSize:function(){var ve=L&&L.hasVideoTrack()?c.Z.VIDEO:c.Z.AUDIO,Ce=z.getCurrentDVRInfo(ve);return Ce?Ce.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Nn,getAvailableBaseUrls:function(){var ve=ae.getValue();return ve?ge.getBaseUrls(ve):[]},getAvailableLocations:function(){var ve=ae.getValue();if(!ve)return[];var Ce=ye.getLocation(ve),tt=fe.getSynthesizedLocationElements(Ce);return Ce.concat(tt)},getTargetLiveDelay:function(){if(!D)throw ot;return ue.getOriginalLiveDelay()},convertToTimeCode:function(ve){ve=Math.max(ve,0);var Ce=Math.floor(ve/3600),tt=Math.floor(ve%3600/60),Ot=Math.floor(ve%3600%60);return(Ce===0?"":Ce<10?"0"+Ce.toString()+":":Ce.toString()+":")+(tt<10?"0"+tt.toString():tt.toString())+":"+(Ot<10?"0"+Ot.toString():Ot.toString())},formatUTC:function(ve,Ce,tt){var Ot=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Zt=new Date(1e3*ve),On=Zt.toLocaleDateString(Ce),Dr=Zt.toLocaleTimeString(Ce,{hour12:tt});return Ot?Dr+" "+On:Dr},getVersion:tn,getDebug:function(){return St},getBufferLength:function(ve){var Ce=[c.Z.VIDEO,c.Z.AUDIO,c.Z.TEXT];if(ve)return Ce.indexOf(ve)!==-1?Vt().getCurrentBufferLevel(ve)||NaN:(g.warn("getBufferLength requested for invalid type"),NaN);var tt=Ce.map(function(Ot){return cn(Ot).length>0?Vt().getCurrentBufferLevel(Ot):Number.MAX_VALUE}).reduce(function(Ot,Zt){return Math.min(Ot,Zt)});return tt===Number.MAX_VALUE?NaN:tt},getTTMLRenderingDiv:function(){return Re?Re.getTTMLRenderingDiv():null},getVideoElement:sn,getSource:function(){if(!b)throw Yt;return b},updateSource:function(ve){b=ve,L.load(b)},getCurrentLiveLatency:function(){if(!P)throw Ae;return D?ue.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(ve){if(!O)throw dt;return K.getTopBitrateInfoFor(ve)},setAutoPlay:lt,getAutoPlay:function(){return k},getDashMetrics:Vt,getQualityFor:function(ve){if(!O)throw dt;if(ve===c.Z.IMAGE){var Ce=gt();if(!Ce)return-1;var tt=Ce.getThumbnailController();return tt?tt.getCurrentTrackIndex():-1}return K.getQualityFor(ve)},setQualityFor:function(ve,Ce){var tt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!O)throw dt;if(ve===c.Z.IMAGE){var Ot=gt();if(!Ot)return;var Zt=Ot.getThumbnailController();Zt&&Zt.setTrackByIndex(Ce)}K.setPlaybackQuality(ve,L.getActiveStreamInfo(),Ce,{forceReplace:tt})},updatePortalSize:function(){K.setElementSize(),K.setWindowResizeEventCalled(!0)},enableText:function(ve){var Ce=L.getActiveStreamInfo();return!(!Ce||!U)&&U.enableText(Ce.id,ve)},enableForcedTextStreaming:function(ve){return!(!L.getActiveStreamInfo()||!U)&&U.enableForcedTextStreaming(ve)},isTextEnabled:function(){var ve=L.getActiveStreamInfo();return!(!ve||!U)&&U.isTextEnabled(ve)},setTextTrack:function(ve){if(!D)throw ot;var Ce=L.getActiveStreamInfo();Ce&&U&&U.setTextTrack(Ce.id,ve)},getBitrateInfoListFor:function(ve){if(!O)throw dt;var Ce=gt();return Ce?Ce.getBitrateListFor(ve):[]},getStreamsFromManifest:function(ve){if(!O)throw dt;return ye.getStreamsInfo(ve)},getTracksFor:cn,getTracksForTypeFromManifest:function(ve,Ce,tt){if(!O)throw dt;return(tt=tt||ye.getStreamsInfo(Ce,1)[0])?ye.getAllMediaInfoForType(tt,ve,Ce):[]},getCurrentTrackFor:function(ve){if(!O)throw dt;var Ce=L.getActiveStreamInfo();return Y.getCurrentTrackFor(ve,Ce.id)},setInitialMediaSettingsFor:function(ve,Ce){if(!P)throw Ae;Y.setInitialSettings(ve,Ce)},getInitialMediaSettingsFor:function(ve){if(!P)throw Ae;return Y.getInitialSettings(ve)},setCurrentTrack:function(ve){var Ce=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!O)throw dt;Y.setTrack(ve,Ce)},addABRCustomRule:function(ve,Ce,tt){de.addAbrCustomRule(ve,Ce,tt)},removeABRCustomRule:function(ve){de.removeAbrCustomRule(ve)},removeAllABRCustomRule:function(){de.removeAllAbrCustomRule()},getABRCustomRules:function(){return de.getAbrCustomRules()},getAverageThroughput:function(ve){var Ce=K.getThroughputHistory(),tt=ue.getIsDynamic();return Ce?Ce.getAverageThroughput(ve,tt):0},retrieveManifest:function(ve,Ce){var tt=Kt(),Ot=this;_t.on(m.Z.INTERNAL_MANIFEST_LOADED,function Zt(On){On.error?Ce(null,On.error):Ce(On.manifest),_t.off(m.Z.INTERNAL_MANIFEST_LOADED,Zt,Ot),tt.reset()},Ot),Ve.initialize(ve),tt.load(ve)},addUTCTimingSource:function(ve,Ce){de.addUTCTimingSource(ve,Ce)},removeUTCTimingSource:function(ve,Ce){de.removeUTCTimingSource(ve,Ce)},clearDefaultUTCTimingSources:function(){de.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Rt,setXHRWithCredentialsForType:function(ve,Ce){de.setXHRWithCredentialsForType(ve,Ce)},getXHRWithCredentialsForType:function(ve){return de.getXHRWithCredentialsForType(ve)},getProtectionController:function(){return rn()},attachProtectionController:function(ve){G=ve},setProtectionData:function(ve){A=ve,L&&L.setProtectionData(A)},registerLicenseRequestFilter:function(ve){de.registerLicenseRequestFilter(ve)},registerLicenseResponseFilter:function(ve){de.registerLicenseResponseFilter(ve)},unregisterLicenseRequestFilter:function(ve){de.unregisterLicenseRequestFilter(ve)},unregisterLicenseResponseFilter:function(ve){de.unregisterLicenseResponseFilter(ve)},registerCustomCapabilitiesFilter:function(ve){de.registerCustomCapabilitiesFilter(ve)},unregisterCustomCapabilitiesFilter:function(ve){de.unregisterCustomCapabilitiesFilter(ve)},setCustomInitialTrackSelectionFunction:function(ve){de.setCustomInitialTrackSelectionFunction(ve)},resetCustomInitialTrackSelectionFunction:function(){de.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(ve){if(!Re.getElement())throw st;Re.setTTMLRenderingDiv(ve)},attachVttRenderingDiv:function(ve){if(!Re.getElement())throw st;Re.setVttRenderingDiv(ve)},getCurrentTextTrackIndex:function(){var ve=L.getActiveStreamInfo();if(ve&&U)return U.getCurrentTrackIdx(ve.id)},provideThumbnail:function(ve,Ce){if(typeof Ce=="function")if(ve<0)Ce(null);else{var tt=ue.getIsDynamic()?Nn(ve):ve,Ot=L.getStreamForTime(tt);if(Ot!==null){var Zt=Ot.getThumbnailController();if(Zt)return Zt.provide(tt,Ce);Ce(null)}else Ce(null)}},getDashAdapter:function(){return ye},getOfflineController:function(){return Qe()},triggerSteeringRequest:function(){if(fe)return fe.loadSteeringData()},getCurrentSteeringResponseData:function(){if(fe)return fe.getCurrentSteeringResponseData()},getSettings:function(){return Xe.get()},updateSettings:function(ve){Xe.update(ve)},resetSettings:function(){Xe.reset()},reset:wt,destroy:function(){wt(),C.Z.deleteSingletonInstances(Ge)}},g=St.getLogger(_),P=!1,D=!1,O=!1,k=!0,H=NaN,G=null,pe=null,A=null,ye=null,ct=null,m.Z.extend(h.Z),W=bR(Ge).getInstance(),de=(0,Gr.Z)(Ge).getInstance(),Re=DR(Ge).getInstance(),Ve=vR(Ge).getInstance(),_}gg.__dashjs_factory_name="MediaPlayer";var af=C.Z.getClassFactory(gg);af.events=h.Z,af.errors=ie,C.Z.updateClassFactory(gg.__dashjs_factory_name,af);var g1=af},8825:function(i,o,l){"use strict";function f(E){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},f(E)}function u(E,m){return u=Object.setPrototypeOf||function(C,S){return C.__proto__=S,C},u(E,m)}function c(E,m){return!m||f(m)!=="object"&&typeof m!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(E):m}function d(E){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},d(E)}var p=new(function(E){(function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&u(v,w)})(h,E);var m,C,S=(m=h,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,w=d(m);if(C){var M=d(this).constructor;v=Reflect.construct(w,arguments,M)}else v=w.apply(this,arguments);return c(this,v)});function h(){var v;return function(w,M){if(!(w instanceof M))throw new TypeError("Cannot call a class as a function")}(this,h),(v=S.call(this)).AST_IN_FUTURE="astInFuture",v.BASE_URLS_UPDATED="baseUrlsUpdated",v.BUFFER_EMPTY="bufferStalled",v.BUFFER_LOADED="bufferLoaded",v.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",v.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",v.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",v.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",v.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",v.DYNAMIC_TO_STATIC="dynamicToStatic",v.ERROR="error",v.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",v.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",v.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",v.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",v.LOG="log",v.MANIFEST_LOADING_STARTED="manifestLoadingStarted",v.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",v.MANIFEST_LOADED="manifestLoaded",v.METRICS_CHANGED="metricsChanged",v.METRIC_CHANGED="metricChanged",v.METRIC_ADDED="metricAdded",v.METRIC_UPDATED="metricUpdated",v.PERIOD_SWITCH_STARTED="periodSwitchStarted",v.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",v.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",v.QUALITY_CHANGE_RENDERED="qualityChangeRendered",v.TRACK_CHANGE_RENDERED="trackChangeRendered",v.STREAM_INITIALIZING="streamInitializing",v.STREAM_UPDATED="streamUpdated",v.STREAM_ACTIVATED="streamActivated",v.STREAM_DEACTIVATED="streamDeactivated",v.STREAM_INITIALIZED="streamInitialized",v.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",v.TEXT_TRACKS_ADDED="allTextTracksAdded",v.TEXT_TRACK_ADDED="textTrackAdded",v.CUE_ENTER="cueEnter",v.CUE_EXIT="cueExit",v.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",v.TTML_PARSED="ttmlParsed",v.TTML_TO_PARSE="ttmlToParse",v.CAPTION_RENDERED="captionRendered",v.CAPTION_CONTAINER_RESIZE="captionContainerResize",v.CAN_PLAY="canPlay",v.CAN_PLAY_THROUGH="canPlayThrough",v.PLAYBACK_ENDED="playbackEnded",v.PLAYBACK_ERROR="playbackError",v.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",v.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",v.PLAYBACK_LOADED_DATA="playbackLoadedData",v.PLAYBACK_PAUSED="playbackPaused",v.PLAYBACK_PLAYING="playbackPlaying",v.PLAYBACK_PROGRESS="playbackProgress",v.PLAYBACK_RATE_CHANGED="playbackRateChanged",v.PLAYBACK_SEEKED="playbackSeeked",v.PLAYBACK_SEEKING="playbackSeeking",v.PLAYBACK_STALLED="playbackStalled",v.PLAYBACK_STARTED="playbackStarted",v.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",v.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",v.PLAYBACK_WAITING="playbackWaiting",v.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",v.EVENT_MODE_ON_START="eventModeOnStart",v.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",v.CONFORMANCE_VIOLATION="conformanceViolation",v.REPRESENTATION_SWITCH="representationSwitch",v.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",v.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",v.INBAND_PRFT="inbandPrft",v.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",v.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming",v}return h}(l(8342).Z));o.Z=p},3393:function(i,o){"use strict";function l(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var f=new(function(){function u(){(function(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")})(this,u),this.init()}var c,d;return c=u,(d=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.TEXT_DISABLED="disabled",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.FONT_DOWNLOAD_DVB_SCHEME="urn:dvb:dash:fontdownload:2014",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.OFF_MIMETYPE="application/font-sfnt",this.WOFF_MIMETYPE="application/font-woff",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&l(c.prototype,d),u}());o.Z=f},3860:function(i,o){"use strict";function l(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var f=new(function(){function u(){(function(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")})(this,u),this.init()}var c,d;return c=u,(d=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&l(c.prototype,d),u}());o.Z=f},8080:function(i,o,l){"use strict";l.d(o,{default:function(){return x}});var f=function R(){(function(ne,J){if(!(ne instanceof J))throw new TypeError("Cannot call a class as a function")})(this,R),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};f.SSL_CONNECTION_FAILED_PREFIX="SSL",f.DNS_RESOLUTION_FAILED="C00",f.HOST_UNREACHABLE="C01",f.CONNECTION_REFUSED="C02",f.CONNECTION_ERROR="C03",f.CORRUPT_MEDIA_ISOBMFF="M00",f.CORRUPT_MEDIA_OTHER="M01",f.BASE_URL_CHANGED="F00",f.BECAME_REPORTER="S00";var u=f,c=l(1180);function d(R){var ne,J,Ne=(R=R||{}).eventBus,rt=R.dashMetrics,He=R.metricsConstants,Ze=R.events;function Oe(at){var Bt=new u;if(J){for(var Tt in at)at.hasOwnProperty(Tt)&&(Bt[Tt]=at[Tt]);Bt.mpdurl||(Bt.mpdurl=J.originalUrl||J.url),Bt.terror||(Bt.terror=new Date),rt.addDVBErrors(Bt)}}function Ye(at){at.error||(J=at.manifest)}function we(at){Oe({errorcode:u.BASE_URL_CHANGED,servicelocation:at.entry})}function Le(){Oe({errorcode:u.BECAME_REPORTER})}function Pe(at){var Bt;at.metric===He.HTTP_REQUEST&&((Bt=at.value).responsecode===0||Bt.responsecode==null||Bt.responsecode>=400||Bt.responsecode<100||Bt.responsecode>=600)&&Oe({errorcode:Bt.responsecode||u.CONNECTION_ERROR,url:Bt.url,terror:Bt.tresponse,servicelocation:Bt._serviceLocation})}function ut(at){var Bt;switch(at.error?at.error.code:0){case MediaError.MEDIA_ERR_NETWORK:Bt=u.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:Bt=u.CORRUPT_MEDIA_OTHER;break;default:return}Oe({errorcode:Bt})}return ne={initialize:function(){Ne.on(Ze.MANIFEST_UPDATED,Ye,ne),Ne.on(Ze.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,we,ne),Ne.on(Ze.METRIC_ADDED,Pe,ne),Ne.on(Ze.METRIC_UPDATED,Pe,ne),Ne.on(Ze.PLAYBACK_ERROR,ut,ne),Ne.on(c.Z.BECAME_REPORTING_PLAYER,Le,ne)},reset:function(){Ne.off(Ze.MANIFEST_UPDATED,Ye,ne),Ne.off(Ze.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,we,ne),Ne.off(Ze.METRIC_ADDED,Pe,ne),Ne.off(Ze.METRIC_UPDATED,Pe,ne),Ne.off(Ze.PLAYBACK_ERROR,ut,ne),Ne.off(c.Z.BECAME_REPORTING_PLAYER,Le,ne)}}}d.__dashjs_factory_name="DVBErrorsTranslator";var p=dashjs.FactoryMaker.getSingletonFactory(d),E=l(2295);function m(R){R=R||{};var ne,J,Ne=!1,rt=this.context,He=R.mediaElement;return ne={initialize:function(Ze){Ze&&Ze.length&&(Ze.forEach(function(Oe){var Ye=Oe.starttime,we=Ye+Oe.duration;J.add(Ye,we)}),Ne=!!Ze[0]._useWallClockTime)},reset:function(){J.clear()},isEnabled:function(){var Ze,Oe=J.length;if(!Oe)return!0;Ze=Ne?new Date().getTime()/1e3:He.currentTime;for(var Ye=0;Ye<Oe;Ye+=1){var we=J.start(Ye),Le=J.end(Ye);if(we<=Ze&&Ze<Le)return!0}return!1}},J=(0,E.Z)(rt).create(),ne}m.__dashjs_factory_name="RangeController";var C=dashjs.FactoryMaker.getClassFactory(m);function S(){return{serialise:function R(ne){var J,Ne,rt=[],He=[];for(J in ne)if(ne.hasOwnProperty(J)&&J.indexOf("_")!==0){if((Ne=ne[J])==null&&(Ne=""),Array.isArray(Ne)){if(!Ne.length)continue;He=[],Ne.forEach(function(Ze){var Oe=Object.prototype.toString.call(Ze).slice(8,-1)!=="Object";He.push(Oe?Ze:R(Ze))}),Ne=He.map(encodeURIComponent).join(",")}else typeof Ne=="string"?Ne=encodeURIComponent(Ne):Ne instanceof Date?Ne=Ne.toISOString():typeof Ne=="number"&&(Ne=Math.round(Ne));rt.push(J+"="+Ne)}return rt.join("&")}}}S.__dashjs_factory_name="MetricSerialiser";var h=dashjs.FactoryMaker.getSingletonFactory(S);function v(){var R,ne,J,Ne=window.crypto||window.msCrypto,rt=Uint32Array,He=Math.pow(2,8*rt.BYTES_PER_ELEMENT)-1;function Ze(){Ne&&(R||(R=new rt(10)),Ne.getRandomValues(R),ne=0)}return J={random:function(Oe,Ye){var we;return Oe||(Oe=0),Ye||(Ye=1),Ne?(ne===R.length&&Ze(),we=R[ne]/He,ne+=1):we=Math.random(),we*(Ye-Oe)+Oe}},Ze(),J}v.__dashjs_factory_name="RNG";var w=dashjs.FactoryMaker.getSingletonFactory(v),M=l(5717);function j(R){var ne;R=R||{};var J,Ne,rt,He,Ze,Oe,Ye,we=this.context,Le=[],Pe=R.metricsConstants;function ut(){He=!1,Ze=!1,Oe=null,Ye=null}return ne={report:function(at,Bt){Array.isArray(Bt)||(Bt=[Bt]),Ze&&Ye.isEnabled()&&Bt.forEach(function(Tt){var Jt=J.serialise(Tt);at!==Pe.DVB_ERRORS&&(Jt="metricname=".concat(at,"&").concat(Jt)),function(an,In,Cn){var or=new XMLHttpRequest;or.withCredentials=Ne.getXHRWithCredentialsForType(Pe.HTTP_REQUEST_DVB_REPORTING_TYPE);var ti=function(){var gr=Le.indexOf(or);gr!==-1&&(Le.splice(gr,1),!(or.status>=200&&or.status<300)&&Cn&&Cn())};Le.push(or);try{or.open("GET",an),or.onloadend=ti,or.onerror=ti,or.send()}catch{or.onerror()}}(Jt="".concat(Oe,"?").concat(Jt),0,function(){Ze=!1})})},initialize:function(at,Bt){var Tt;if(Ye=Bt,!(Oe=at.dvbReportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");He||((Tt=at.dvbProbability)&&(Tt===1e3||Tt/1e3>=rt.random())&&(Ze=!0),He=!0)},reset:function(){ut()}},J=h(we).getInstance(),rt=w(we).getInstance(),Ne=(0,M.Z)(we).getInstance(),ut(),ne}j.__dashjs_factory_name="DVBReporting";var q=dashjs.FactoryMaker.getClassFactory(j);function V(R){R=R||{};var ne,J={"urn:dvb:dash:reporting:2014":q},Ne=this.context,rt=R.debug?R.debug.getLogger(ne):{},He=R.metricsConstants,Ze=R.mediaPlayerModel||{};return{create:function(Oe,Ye){var we;try{(we=J[Oe.schemeIdUri](Ne).create({metricsConstants:He,mediaPlayerModel:Ze})).initialize(Oe,Ye)}catch(Le){we=null,rt.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(Oe.schemeIdUri," (").concat(Le.message,")"))}return we},register:function(Oe,Ye){J[Oe]=Ye},unregister:function(Oe){delete J[Oe]}}}V.__dashjs_factory_name="ReportingFactory";var re=dashjs.FactoryMaker.getSingletonFactory(V);function B(R){var ne=[],J=re(this.context).getInstance(R);return{initialize:function(Ne,rt){Ne.some(function(He){var Ze=J.create(He,rt);if(Ze)return ne.push(Ze),!0})},reset:function(){ne.forEach(function(Ne){return Ne.reset()}),ne=[]},report:function(Ne,rt){ne.forEach(function(He){return He.report(Ne,rt)})}}}B.__dashjs_factory_name="ReportingController";var ee=dashjs.FactoryMaker.getClassFactory(B);function le(){return{reconstructFullMetricName:function(R,ne,J){var Ne=R;return ne&&(Ne+="("+ne,J&&J.length&&(Ne+=","+J),Ne+=")"),Ne},validateN:function(R){if(!R)throw new Error("missing n");if(isNaN(R))throw new Error("n is NaN");if(R<0)throw new Error("n must be positive");return R}}}le.__dashjs_factory_name="HandlerHelpers";var Q=dashjs.FactoryMaker.getSingletonFactory(le);function se(R){var ne,J,Ne,rt,He;R=R||{};var Ze=this.context,Oe=Q(Ze).getInstance(),Ye=[],we=R.metricsConstants;function Le(){var Pe=function(){try{return Object.keys(Ye).map(function(ut){return Ye[ut]}).reduce(function(ut,at){return ut.level<at.level?ut:at})}catch{return}}();Pe&&He!==Pe.t&&(He=Pe.t,ne.report(Ne,Pe))}return{initialize:function(Pe,ut,at){ut&&(J=Oe.validateN(at),ne=ut,Ne=Oe.reconstructFullMetricName(Pe,at),rt=setInterval(Le,J))},reset:function(){clearInterval(rt),rt=null,J=0,ne=null,He=null},handleNewMetric:function(Pe,ut,at){Pe===we.BUFFER_LEVEL&&(Ye[at]=ut)}}}se.__dashjs_factory_name="BufferLevelHandler";var he=dashjs.FactoryMaker.getClassFactory(se),De=dashjs.FactoryMaker.getClassFactory(function(R){var ne,J=(R=R||{}).eventBus,Ne=R.metricsConstants;function rt(){J.off(c.Z.METRICS_INITIALISATION_COMPLETE,rt,this),J.trigger(c.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(He,Ze){Ze&&(ne=Ze,J.on(c.Z.METRICS_INITIALISATION_COMPLETE,rt,this))},reset:function(){ne=null},handleNewMetric:function(He,Ze){He===Ne.DVB_ERRORS&&ne&&ne.report(He,Ze)}}});function ie(R){var ne,J,Ne,rt,He;R=R||{};var Ze=[],Oe=Q(this.context).getInstance(),Ye=R.metricsConstants;function we(){var Le=Ze;Le.length&&ne&&ne.report(rt,Le),Ze=[]}return{initialize:function(Le,Pe,ut,at){Pe&&(J=Oe.validateN(ut),ne=Pe,at&&at.length&&(Ne=at),rt=Oe.reconstructFullMetricName(Le,ut,at),He=setInterval(we,J))},reset:function(){clearInterval(He),He=null,J=null,Ne=null,Ze=[],ne=null},handleNewMetric:function(Le,Pe){Le===Ye.HTTP_REQUEST&&(Ne&&Ne!==Pe.type||Ze.push(Pe))}}}ie.__dashjs_factory_name="HttpListHandler";var Se=dashjs.FactoryMaker.getClassFactory(ie);function xe(){var R,ne;return{initialize:function(J,Ne){R=J,ne=Ne},reset:function(){ne=null,R=void 0},handleNewMetric:function(J,Ne){J===R&&ne&&ne.report(R,Ne)}}}xe.__dashjs_factory_name="GenericMetricHandler";var je=dashjs.FactoryMaker.getClassFactory(xe);function Te(R){var ne,J=(R=R||{}).debug?R.debug.getLogger(ne):{},Ne=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,rt=this.context,He={BufferLevel:he,DVBErrors:De,HttpList:Se,PlayList:je,RepSwitchList:je,TcpList:je};return{create:function(Ze,Oe){var Ye,we=Ze.match(Ne);if(we){try{(Ye=He[we[1]](rt).create({eventBus:R.eventBus,metricsConstants:R.metricsConstants})).initialize(we[1],Oe,we[3],we[5])}catch(Le){Ye=null,J.error("MetricsHandlerFactory: Could not create handler for type ".concat(we[1]," with args ").concat(we[3],", ").concat(we[5]," (").concat(Le.message,")"))}return Ye}},register:function(Ze,Oe){He[Ze]=Oe},unregister:function(Ze){delete He[Ze]}}}Te.__dashjs_factory_name="MetricsHandlerFactory";var Fe=dashjs.FactoryMaker.getSingletonFactory(Te);function qe(R){R=R||{};var ne,J=[],Ne=this.context,rt=R.eventBus,He=R.events,Ze=Fe(Ne).getInstance({debug:R.debug,eventBus:R.eventBus,metricsConstants:R.metricsConstants});function Oe(Ye){J.forEach(function(we){we.handleNewMetric(Ye.metric,Ye.value,Ye.mediaType)})}return ne={initialize:function(Ye,we){Ye.split(",").forEach(function(Le,Pe,ut){var at;if(Le.indexOf("(")!==-1&&Le.indexOf(")")===-1){var Bt=ut[Pe+1];Bt&&Bt.indexOf("(")===-1&&Bt.indexOf(")")!==-1&&(Le+=","+Bt,delete ut[Pe+1])}(at=Ze.create(Le,we))&&J.push(at)}),rt.on(He.METRIC_ADDED,Oe,ne),rt.on(He.METRIC_UPDATED,Oe,ne)},reset:function(){rt.off(He.METRIC_ADDED,Oe,ne),rt.off(He.METRIC_UPDATED,Oe,ne),J.forEach(function(Ye){return Ye.reset()}),J=[]}}}qe.__dashjs_factory_name="MetricsHandlersController";var Je=dashjs.FactoryMaker.getClassFactory(qe);function Ie(R){var ne,J,Ne;R=R||{};var rt=this.context;function He(){ne&&ne.reset(),J&&J.reset(),Ne&&Ne.reset()}return{initialize:function(Ze){try{(Ne=C(rt).create({mediaElement:R.mediaElement})).initialize(Ze.Range),(J=ee(rt).create({debug:R.debug,metricsConstants:R.metricsConstants,mediaPlayerModel:R.mediaPlayerModel})).initialize(Ze.Reporting,Ne),(ne=Je(rt).create({debug:R.debug,eventBus:R.eventBus,metricsConstants:R.metricsConstants,events:R.events})).initialize(Ze.metrics,J)}catch(Oe){throw He(),Oe}},reset:He}}Ie.__dashjs_factory_name="MetricsController";var Me=dashjs.FactoryMaker.getClassFactory(Ie),At=function R(){(function(ne,J){if(!(ne instanceof J))throw new TypeError("Cannot call a class as a function")})(this,R),this.metrics="",this.Range=[],this.Reporting=[]},vt=function R(){(function(ne,J){if(!(ne instanceof J))throw new TypeError("Cannot call a class as a function")})(this,R),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},ze=function R(){(function(ne,J){if(!(ne instanceof J))throw new TypeError("Cannot call a class as a function")})(this,R),this.schemeIdUri="",this.value="",this.dvbReportingUrl="",this.dvbProbability=1e3};function it(R){var ne=(R=R||{}).adapter,J=R.constants;return{getMetrics:function(Ne){var rt=[];return Ne&&Ne.Metrics_asArray&&Ne.Metrics_asArray.forEach(function(He){var Ze=new At,Oe=ne.getIsDynamic(Ne);He.hasOwnProperty("metrics")&&(Ze.metrics=He.metrics,He.Range_asArray&&He.Range_asArray.forEach(function(Ye){var we=new vt;we.starttime=function(Le,Pe,ut){var at,Bt,Tt=0;return Pe?Tt=ne.getAvailabilityStartTime(Le)/1e3:(at=ne.getRegularPeriods(Le)).length&&(Tt=at[0].start),Bt=Tt,ut&&ut.hasOwnProperty(J.START_TIME)&&(Bt+=ut.starttime),Bt}(Ne,Oe,Ye),Ye.hasOwnProperty("duration")?we.duration=Ye.duration:we.duration=ne.getDuration(Ne),we._useWallClockTime=Oe,Ze.Range.push(we)}),He.Reporting_asArray&&(He.Reporting_asArray.forEach(function(Ye){var we=new ze;Ye.hasOwnProperty(J.SCHEME_ID_URI)&&(we.schemeIdUri=Ye.schemeIdUri,Ye.hasOwnProperty("value")&&(we.value=Ye.value),Ye.hasOwnProperty(J.DVB_REPORTING_URL)&&(we.dvbReportingUrl=Ye[J.DVB_REPORTING_URL]),Ye.hasOwnProperty(J.DVB_PROBABILITY)&&(we.dvbProbability=Ye[J.DVB_PROBABILITY]),Ze.Reporting.push(we))}),rt.push(Ze)))}),rt}}}it.__dashjs_factory_name="ManifestParsing";var me=dashjs.FactoryMaker.getSingletonFactory(it);function Ee(R){var ne;R=R||{};var J={},Ne=this.context,rt=R.eventBus,He=R.events;function Ze(Ye){if(!Ye.error){var we=Object.keys(J);me(Ne).getInstance({adapter:R.adapter,constants:R.constants}).getMetrics(Ye.manifest).forEach(function(Le){var Pe=JSON.stringify(Le);if(J.hasOwnProperty(Pe))we.splice(Pe,1);else try{var ut=Me(Ne).create(R);ut.initialize(Le),J[Pe]=ut}catch{}}),we.forEach(function(Le){J[Le].reset(),delete J[Le]}),rt.trigger(c.Z.METRICS_INITIALISATION_COMPLETE)}}function Oe(){Object.keys(J).forEach(function(Ye){J[Ye].reset()}),J={}}return ne={reset:function(){rt.off(He.MANIFEST_UPDATED,Ze,ne),rt.off(He.STREAM_TEARDOWN_COMPLETE,Oe,ne)}},rt.on(He.MANIFEST_UPDATED,Ze,ne),rt.on(He.STREAM_TEARDOWN_COMPLETE,Oe,ne),ne}Ee.__dashjs_factory_name="MetricsCollectionController";var $e=dashjs.FactoryMaker.getClassFactory(Ee);function T(){var R=this.context;return{createMetricsReporting:function(ne){return p(R).getInstance({eventBus:ne.eventBus,dashMetrics:ne.dashMetrics,metricsConstants:ne.metricsConstants,events:ne.events}).initialize(),$e(R).create(ne)},getReportingFactory:function(){return re(R).getInstance()},getMetricsHandlerFactory:function(){return Fe(R).getInstance()}}}T.__dashjs_factory_name="MetricsReporting";var y=dashjs.FactoryMaker.getClassFactory(T);y.events=c.Z,dashjs.FactoryMaker.updateClassFactory(T.__dashjs_factory_name,y);var x=y},1180:function(i,o,l){"use strict";function f(E){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},f(E)}function u(E,m){return u=Object.setPrototypeOf||function(C,S){return C.__proto__=S,C},u(E,m)}function c(E,m){return!m||f(m)!=="object"&&typeof m!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(E):m}function d(E){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},d(E)}var p=new(function(E){(function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&u(v,w)})(h,E);var m,C,S=(m=h,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var v,w=d(m);if(C){var M=d(this).constructor;v=Reflect.construct(w,arguments,M)}else v=w.apply(this,arguments);return c(this,v)});function h(){var v;return function(w,M){if(!(w instanceof M))throw new TypeError("Cannot call a class as a function")}(this,h),(v=S.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",v.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",v.CMCD_DATA_GENERATED="cmcdDataGenerated",v}return h}(l(8342).Z));o.Z=p},5717:function(i,o,l){"use strict";var f=l(2610),u=l(5448),c=l(1264),d=l(3106),p=l(1767),E=l(3393);function m(){var C,S,h,v,w,M,j,q,V=this.context,re=(0,c.Z)(V).getInstance();function B(){v=[],w=[],M=[],q=[],j=null,S=[]}function ee(he,De){var ie=-1;he.some(function(Se,xe){if(Se===De)return ie=xe,!0}),ie<0||he.splice(ie,1)}function le(he){var De;for(De=0;De<q.length;De++)if(q[De].rulename===he)return De;return-1}function Q(he,De){se(he,De);var ie=new f.Z;ie.schemeIdUri=he,ie.value=De,S.push(ie)}function se(he,De){(0,d.PS)(he,"string"),(0,d.PS)(De,"string"),S.forEach(function(ie,Se){ie.schemeIdUri===he&&ie.value===De&&S.splice(Se,1)})}return C={getCustomInitialTrackSelectionFunction:function(){return j},setCustomInitialTrackSelectionFunction:function(he){j=he},resetCustomInitialTrackSelectionFunction:function(){j=null},getLicenseResponseFilters:function(){return w},getLicenseRequestFilters:function(){return v},getCustomCapabilitiesFilters:function(){return M},registerCustomCapabilitiesFilter:function(he){M.push(he)},registerLicenseResponseFilter:function(he){w.push(he)},registerLicenseRequestFilter:function(he){v.push(he)},unregisterCustomCapabilitiesFilter:function(he){ee(M,he)},unregisterLicenseResponseFilter:function(he){ee(w,he)},unregisterLicenseRequestFilter:function(he){ee(v,he)},addAbrCustomRule:function(he,De,ie){if(typeof he!="string"||he!==p.Z.ABANDON_FRAGMENT_RULES&&he!==p.Z.QUALITY_SWITCH_RULES||typeof De!="string")throw E.Z.BAD_ARGUMENT_ERROR;var Se=le(De);Se===-1?q.push({type:he,rulename:De,rule:ie}):(q[Se].type=he,q[Se].rule=ie)},removeAllAbrCustomRule:function(){q=[]},removeAbrCustomRule:function(he){if(he){var De=le(he);De!==-1&&q.splice(De,1)}else q=[]},getAbrCustomRules:function(){return q},addUTCTimingSource:Q,removeUTCTimingSource:se,getUTCTimingSources:function(){return S},clearDefaultUTCTimingSources:function(){S=[]},restoreDefaultUTCTimingSources:function(){var he=re.get().streaming.utcSynchronization.defaultTimingSource;Q(he.scheme,he.value)},setXHRWithCredentialsForType:function he(De,ie){De?h[De]=!!ie:Object.keys(h).forEach(function(Se){he(Se,ie)})},getXHRWithCredentialsForType:function(he){var De=h[he];return De===void 0?h.default:De},setConfig:function(){},reset:function(){B()}},h={default:!1},B(),C}m.__dashjs_factory_name="CustomParametersModel",o.Z=u.Z.getSingletonFactory(m)},9032:function(i,o,l){"use strict";var f=l(5448),u=l(7473);function c(p){var E=(p=p||{}).requestModifier;function m(C){var S=new Date,h=C.request,v=new XMLHttpRequest;if(v.open(C.method,C.url,!0),h.responseType&&(v.responseType=h.responseType),h.range&&v.setRequestHeader("Range","bytes="+h.range),h.requestStartDate||(h.requestStartDate=S),E&&E.modifyRequestHeader&&(v=E.modifyRequestHeader(v,{url:C.url})),C.headers)for(var w in C.headers){var M=C.headers[w];M&&v.setRequestHeader(w,M)}v.withCredentials=C.withCredentials,v.onload=C.onload,v.onloadend=C.onend,v.onerror=C.onerror,v.onprogress=C.progress,v.onabort=C.onabort,v.ontimeout=C.ontimeout,v.timeout=C.timeout,v.send(),C.response=v}return{load:function(C){E&&E.modifyRequest?(0,u.k)(C,E).then(function(){return m(C)}):m(C)},abort:function(C){var S=C.response;S.onloadend=S.onerror=S.onprogress=void 0,S.abort()}}}c.__dashjs_factory_name="XHRLoader";var d=f.Z.getClassFactory(c);o.Z=d},1737:function(i,o,l){"use strict";function f(Pt,Mt){for(var Nt=0;Nt<Mt.length;Nt++){var We=Mt[Nt];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(Pt,We.key,We)}}l.d(o,{default:function(){return Al}});var u={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},c=function(){function Pt(){(function(We,yt){if(!(We instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Pt)}var Mt,Nt;return Mt=Pt,Nt=[{key:"findCencContentProtection",value:function(We){for(var yt=null,et=0;et<We.length;++et){var ht=We[et];ht.schemeIdUri.toLowerCase()!=="urn:mpeg:dash:mp4protection:2011"||ht.value.toLowerCase()!=="cenc"&&ht.value.toLowerCase()!=="cbcs"||(yt=ht)}return yt}},{key:"getPSSHData",value:function(We){var yt=8,et=new DataView(We),ht=et.getUint8(yt);return yt+=20,ht>0&&(yt+=4+16*et.getUint32(yt)),yt+=4,We.slice(yt)}},{key:"getPSSHForKeySystem",value:function(We,yt){var et=Pt.parsePSSHList(yt);return We&&et.hasOwnProperty(We.uuid.toLowerCase())?et[We.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(We,yt){return"pssh"in We?(We.pssh.__text=We.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),yt.decodeArray(We.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(We){if(We==null)return[];for(var yt=new DataView(We.buffer||We),et={},ht=0;;){var qt,$t,hn=void 0,gn=ht;if(ht>=yt.buffer.byteLength)break;if(qt=ht+yt.getUint32(ht),ht+=4,yt.getUint32(ht)===1886614376)if(ht+=4,($t=yt.getUint8(ht))===0||$t===1){ht++,ht+=3,hn="";var Xt=void 0,xt=void 0;for(Xt=0;Xt<4;Xt++)hn+=(xt=yt.getUint8(ht+Xt).toString(16)).length===1?"0"+xt:xt;for(ht+=4,hn+="-",Xt=0;Xt<2;Xt++)hn+=(xt=yt.getUint8(ht+Xt).toString(16)).length===1?"0"+xt:xt;for(ht+=2,hn+="-",Xt=0;Xt<2;Xt++)hn+=(xt=yt.getUint8(ht+Xt).toString(16)).length===1?"0"+xt:xt;for(ht+=2,hn+="-",Xt=0;Xt<2;Xt++)hn+=(xt=yt.getUint8(ht+Xt).toString(16)).length===1?"0"+xt:xt;for(ht+=2,hn+="-",Xt=0;Xt<6;Xt++)hn+=(xt=yt.getUint8(ht+Xt).toString(16)).length===1?"0"+xt:xt;ht+=6,ht+=4,et[hn=hn.toLowerCase()]=yt.buffer.slice(gn,qt),ht=qt}else ht=qt;else ht=qt}return et}},{key:"getLicenseServerUrlFromMediaInfo",value:function(We,yt){try{if(!We||We.length===0)return null;for(var et=0,ht=null;et<We.length&&!ht;){var qt=We[et];if(qt&&qt.contentProtection&&qt.contentProtection.length>0){var $t=qt.contentProtection.filter(function(An){return An.schemeIdUri&&An.schemeIdUri===yt});if($t&&$t.length>0)for(var hn=0;hn<$t.length&&!ht;){for(var gn=$t[hn],Xt=0;Xt<u.attributes.length&&!ht;){for(var xt=0,fn=u.attributes[Xt];xt<u.prefixes.length&&!ht;){var ln=u.prefixes[xt];gn[fn]&&gn[fn].__prefix&&gn[fn].__prefix===ln&&gn[fn].__text&&(ht=gn[fn].__text),xt+=1}Xt+=1}hn+=1}}et+=1}return ht}catch{return null}}}],Nt&&f(Mt,Nt),Pt}(),d=function Pt(Mt,Nt){(function(We,yt){if(!(We instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.contentType=Mt,this.robustness=Nt},p=function Pt(Mt,Nt,We,yt,et){(function(ht,qt){if(!(ht instanceof qt))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.initDataTypes=["cenc"],Mt&&Mt.length&&(this.audioCapabilities=Mt),Nt&&Nt.length&&(this.videoCapabilities=Nt),this.distinctiveIdentifier=We,this.persistentState=yt,this.sessionTypes=et};function E(Pt){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt},E(Pt)}function m(Pt,Mt){return m=Object.setPrototypeOf||function(Nt,We){return Nt.__proto__=We,Nt},m(Pt,Mt)}function C(Pt,Mt){return!Mt||E(Mt)!=="object"&&typeof Mt!="function"?function(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}(Pt):Mt}function S(Pt){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(Mt){return Mt.__proto__||Object.getPrototypeOf(Mt)},S(Pt)}var h=new(function(Pt){(function(et,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(ht&&ht.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),ht&&m(et,ht)})(yt,Pt);var Mt,Nt,We=(Mt=yt,Nt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var et,ht=S(Mt);if(Nt){var qt=S(this).constructor;et=Reflect.construct(ht,arguments,qt)}else et=ht.apply(this,arguments);return C(this,et)});function yt(){var et;return function(ht,qt){if(!(ht instanceof qt))throw new TypeError("Cannot call a class as a function")}(this,yt),(et=We.call(this)).MEDIA_KEYERR_CODE=100,et.MEDIA_KEYERR_UNKNOWN_CODE=101,et.MEDIA_KEYERR_CLIENT_CODE=102,et.MEDIA_KEYERR_SERVICE_CODE=103,et.MEDIA_KEYERR_OUTPUT_CODE=104,et.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,et.MEDIA_KEYERR_DOMAIN_CODE=106,et.MEDIA_KEY_MESSAGE_ERROR_CODE=107,et.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,et.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,et.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,et.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,et.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,et.KEY_SESSION_CREATED_ERROR_CODE=113,et.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,et.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",et.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",et.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",et.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",et.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",et.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",et.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",et.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",et.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",et.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",et.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",et.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",et.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",et.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",et}return yt}(l(2230).Z)),v=l(5459),w=function Pt(Mt,Nt,We,yt,et,ht,qt,$t){(function(hn,gn){if(!(hn instanceof gn))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.url=Mt,this.method=Nt,this.responseType=We,this.headers=yt,this.withCredentials=et,this.messageType=ht,this.sessionId=qt,this.data=$t},M=function Pt(Mt,Nt,We){(function(yt,et){if(!(yt instanceof et))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.url=Mt,this.headers=Nt,this.data=We},j=l(7855),q=l(703),V=l(3393),re=l(5448);function B(Pt){return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt},B(Pt)}function ee(Pt){var Mt,Nt,We,yt,et,ht,qt,$t,hn,gn,Xt,xt=(Pt=Pt||{}).protectionKeyController,fn=Pt.protectionModel,ln=Pt.eventBus,An=Pt.events,Jn=Pt.debug,yr=Pt.BASE64,wn=Pt.constants,Dt=[],kt=Pt.cmcdModel,Qt=Pt.settings,Dn=Pt.customParametersModel;function Rn(){if(!(ln&&ln.hasOwnProperty("on")&&xt&&xt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function sr(Ht,Sn){$t||hn?$t&&_r():function(zn,Gr){if(!hn){hn=!0;var wr,ai=[];zn=zn.sort(function(ri,Lr){return(et&&et[ri.ks.systemString]&&et[ri.ks.systemString].priority>=0?et[ri.ks.systemString].priority:zn.length)-(et&&et[Lr.ks.systemString]&&et[Lr.ks.systemString].priority>=0?et[Lr.ks.systemString].priority:zn.length)});for(var Or=0;Or<zn.length;Or++){var mo=$s(zn[Or]);ai.push({ks:zn[Or].ks,configs:[mo],protData:zn[Or].protData})}fn.requestKeySystemAccess(ai).then(function(ri){var Lr=(wr=ri.data).mksa&&wr.mksa.selectedSystemString?wr.mksa.selectedSystemString:wr.keySystem.systemString;return Nt.info("DRM: KeySystem Access Granted for system string ("+Lr+")!  Selecting key system..."),fn.selectKeySystem(wr)}).then(function(ri){if($t=ri,hn=!1,fn){ln.trigger(An.KEY_SYSTEM_SELECTED,{data:wr});var Lr=si($t);Lr&&Lr.serverCertificate&&Lr.serverCertificate.length>0&&fn.setServerCertificate(yr.decodeArray(Lr.serverCertificate).buffer),_r()}}).catch(function(ri){$t=null,hn=!1,Gr||ln.trigger(An.KEY_SYSTEM_SELECTED,{data:null,error:new v.Z(h.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,h.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+ri.error)})})}}(Ht,Sn)}function _r(){for(var Ht,Sn=0;Sn<We.length;Sn++)for(Ht=0;Ht<We[Sn].length;Ht++)if($t===We[Sn][Ht].ks){yi(We[Sn][Ht]);break}We=[]}function yi(Ht){if(xt.isClearKey($t)&&Ht.protData&&Ht.protData.hasOwnProperty("clearkeys")&&Object.keys(Ht.protData.clearkeys).length!==0){var Sn={kids:Object.keys(Ht.protData.clearkeys)};Ht.initData=new TextEncoder().encode(JSON.stringify(Sn))}Ht.sessionId?bi(Ht):Ht.initData!==null&&Fr(Ht)}function bi(Ht){Rn(),fn.loadKeySession(Ht)}function Fr(Ht){var Sn=c.getPSSHForKeySystem($t,Ht?Ht.initData:null);if(Sn){if(function(zn){if(!zn)return!1;try{for(var Gr=fn.getSessions(),wr=0;wr<Gr.length;wr++)if(Gr[wr].getKeyId()===zn)return!0;return!1}catch{return!1}}(Ht.keyId)||zr(Sn))return;try{Ht.initData=Sn,fn.createKeySession(Ht)}catch(zn){ln.trigger(An.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+zn.message)})}}else Ht&&Ht.initData?fn.createKeySession(Ht):ln.trigger(An.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+($t?$t.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function si(Ht){if(Ht){var Sn=Ht.systemString;if(et)return Sn in et?et[Sn]:null}return null}function zr(Ht){if(!Ht)return!1;try{for(var Sn=fn.getAllInitData(),zn=0;zn<Sn.length;zn++)if(xt.initDataEquals(Ht,Sn[zn]))return Nt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Ei(Ht){Rn(),Ht?(fn.setMediaElement(Ht),ln.on(An.NEED_KEY,Ml,Mt)):Ht===null&&(fn.setMediaElement(Ht),ln.off(An.NEED_KEY,Ml,Mt))}function $s(Ht){var Sn=Ht.protData,zn=[],Gr=[],wr=Sn&&Sn.audioRobustness&&Sn.audioRobustness.length>0?Sn.audioRobustness:qt,ai=Sn&&Sn.videoRobustness&&Sn.videoRobustness.length>0?Sn.videoRobustness:qt,Or=Ht.sessionType,mo=Sn&&Sn.distinctiveIdentifier?Sn.distinctiveIdentifier:"optional",ri=Sn&&Sn.persistentState?Sn.persistentState:Or==="temporary"?"optional":"required";return yt.forEach(function(Lr){Lr.type===wn.AUDIO?zn.push(new d(Lr.codec,wr)):Lr.type===wn.VIDEO&&Gr.push(new d(Lr.codec,ai))}),new p(zn,Gr,mo,ri,[Or])}function Io(Ht){Ht.error?ln.trigger(An.KEY_STATUSES_CHANGED,{data:null,error:Ht.error}):Nt.debug("DRM: key status = "+Ht.status)}function jo(Ht){Nt.debug("DRM: onKeyMessage");var Sn=Ht.data;ln.trigger(An.KEY_MESSAGE,{data:Sn});var zn=Sn.messageType?Sn.messageType:"license-request",Gr=Sn.message,wr=Sn.sessionToken,ai=si($t),Or=xt.getLicenseServerModelInstance($t,ai,zn),mo={sessionToken:wr,messageType:zn};if(Gr&&Gr.byteLength!==0){if(!Or)return Nt.debug("DRM: License server request not required for this message (type = "+Ht.data.messageType+").  Session ID = "+wr.getSessionId()),void Oi(mo);if(xt.isClearKey($t)){var ri=xt.processClearKeyLicenseRequest($t,ai,Gr);if(ri&&ri.keyPairs&&ri.keyPairs.length>0)return Nt.debug("DRM: ClearKey license request handled by application!"),Oi(mo),void fn.updateKeySession(wr,ri)}(function(Lr,Pi,ki){var Vo=Lr.sessionToken,Do=Lr.messageType?Lr.messageType:"license-request",Zo={sessionToken:Vo,messageType:Do},Ws=$t?$t.systemString:null,Qc=function(Pr,ka,Pl,Fa,zd){var Ao=null,Gd=Fa.message;if(Pr&&Pr.serverURL){var Ks=Pr.serverURL;typeof Ks=="string"&&Ks!==""?Ao=Ks:B(Ks)==="object"&&Ks.hasOwnProperty(ka)&&(Ao=Ks[ka])}else if(Pr&&Pr.laURL&&Pr.laURL!=="")Ao=Pr.laURL;else if(!(Ao=c.getLicenseServerUrlFromMediaInfo(yt,$t.schemeIdURI))&&!xt.isClearKey($t)){var qd=c.getPSSHData(Pl.initData);(Ao=$t.getLicenseServerURLFromInitData(qd))||(Ao=Fa.laURL)}return Ao=zd.getServerURLFromMessage(Ao,Gd,ka)}(ki,Do,Vo,Lr,Pi);if(Qc){var Rl={},Nl=!1;ki&&Fd(Rl,ki.httpRequestHeaders);var Ud=Lr.message;Fd(Rl,$t.getRequestHeadersFromMessage(Ud)),Object.keys(Rl).forEach(function(Pr){Pr.toLowerCase()==="authorization"&&(Nl=!0)}),ki&&typeof ki.withCredentials=="boolean"&&(Nl=ki.withCredentials);var jd=function(Pr){if(fn)if(Pr.status>=200&&Pr.status<=299){var ka=q.Z.parseHttpHeaders(Pr.getAllResponseHeaders?Pr.getAllResponseHeaders():null),Pl=new M(Pr.responseURL,ka,Pr.response);Bd(Dn.getLicenseResponseFilters(),Pl).then(function(){var Fa=Pi.getLicenseMessage(Pl.data,Ws,Do);Fa!==null?(Oi(Zo),fn.updateKeySession(Vo,Fa)):Ld(Pr,Zo,Ws,Do,Pi)})}else Ld(Pr,Zo,Ws,Do,Pi)},Lp=function(Pr){Oi(Zo,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ws+' update, XHR aborted. status is "'+Pr.statusText+'" ('+Pr.status+"), readyState is "+Pr.readyState))},Bp=function(Pr){Oi(Zo,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ws+' update, XHR error. status is "'+Pr.statusText+'" ('+Pr.status+"), readyState is "+Pr.readyState))},Vd=$t.getLicenseRequestFromMessage(Ud),Zd=Pi.getHTTPMethod(Do),Up=Pi.getResponseType(Ws,Do),Xc=ki&&!isNaN(ki.httpTimeout)?ki.httpTimeout:8e3,Hd=Vo.getSessionId()||null,Ol=new w(Qc,Zd,Up,Rl,Nl,Do,Hd,Vd),jp=isNaN(Qt.get().streaming.retryAttempts[j.w.LICENSE])?3:Qt.get().streaming.retryAttempts[j.w.LICENSE];Bd(Dn.getLicenseRequestFilters(),Ol).then(function(){kd(Ol,jp,Xc,jd,Lp,Bp)})}else Oi(Zo,new v.Z(h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))})(Sn,Or,ai)}else Oi(mo,new v.Z(h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Oi(Ht,Sn){ln.trigger(An.LICENSE_REQUEST_COMPLETE,{data:Ht,error:Sn})}function kd(Ht,Sn,zn,Gr,wr,ai){var Or=new XMLHttpRequest;if(Qt.get().streaming.cmcd&&Qt.get().streaming.cmcd.enabled&&Qt.get().streaming.cmcd.mode===V.Z.CMCD_MODE_QUERY){var mo=kt.getQueryParameter({url:Ht.url,type:j.w.LICENSE});mo&&(Ht.url=q.Z.addAditionalQueryParameterToUrl(Ht.url,[mo]))}for(var ri in Or.open(Ht.method,Ht.url,!0),Or.responseType=Ht.responseType,Or.withCredentials=Ht.withCredentials,zn>0&&(Or.timeout=zn),Ht.headers)Or.setRequestHeader(ri,Ht.headers[ri]);if(Qt.get().streaming.cmcd&&Qt.get().streaming.cmcd.enabled&&Qt.get().streaming.cmcd.mode===V.Z.CMCD_MODE_HEADER){var Lr=kt.getHeaderParameters({url:Ht.url,type:j.w.LICENSE});if(Lr)for(var Pi in Lr){var ki=Lr[Pi];ki&&Or.setRequestHeader(Pi,ki)}}var Vo=function(){Sn--;var Do=isNaN(Qt.get().streaming.retryIntervals[j.w.LICENSE])?1e3:Qt.get().streaming.retryIntervals[j.w.LICENSE];Xt=setTimeout(function(){kd(Ht,Sn,zn,Gr,wr,ai)},Do)};Or.onload=function(){gn=null,this.status>=200&&this.status<=299||Sn<=0?Gr(this):(Nt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Sn),Vo())},Or.ontimeout=Or.onerror=function(){gn=null,Sn<=0?ai(this):(Nt.warn("License request network request failed . Retrying it... Pending retries: "+Sn),Vo())},Or.onabort=function(){wr(this)},ln.trigger(An.LICENSE_REQUEST_SENDING,{url:Ht.url,headers:Ht.headers,payload:Ht.data,sessionId:Ht.sessionId}),gn=Or,Or.send(Ht.data)}function xl(){gn&&(gn.onloadend=gn.onerror=gn.onprogress=void 0,gn.abort(),gn=null),Xt&&(clearTimeout(Xt),Xt=null)}function Fd(Ht,Sn){if(Sn)for(var zn in Sn)Ht[zn]=Sn[zn]}function Ld(Ht,Sn,zn,Gr,wr){var ai="NONE",Or=null;Ht.response&&(ai=wr.getErrorResponse(Ht.response,zn,Gr),Or={serverResponse:Ht.response||null,responseCode:Ht.status||null,responseText:Ht.statusText||null}),Oi(Sn,new v.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+zn+' update, XHR complete. status is "'+Ht.statusText+'" ('+Ht.status+"), readyState is "+Ht.readyState+".  Response is "+ai,Or))}function Bd(Ht,Sn){return Ht?Ht.reduce(function(zn,Gr){return zn.then(function(){return Gr(Sn)})},Promise.resolve()):Promise.resolve()}function Ml(Ht,Sn){if(!Qt.get().streaming.protection.ignoreEmeEncryptedEvent){if(Nt.debug("DRM: onNeedKey"),Ht.key.initDataType!=="cenc")return void Nt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Ht.key.initDataType);if(yt.length===0&&(Nt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Sn=Sn===void 0?1:Sn+1)<5))return void Dt.push(setTimeout(function(){Ml(Ht,Sn)},500));var zn=Ht.key.initData;if(ArrayBuffer.isView(zn)&&(zn=zn.buffer),$t){var Gr=c.getPSSHForKeySystem($t,zn);if(Gr&&zr(Gr))return}Nt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(zn)));var wr=xt.getSupportedKeySystemsFromSegmentPssh(zn,et,ht);if(wr.length===0)return void Nt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");(function(ai){We.push(ai),sr(ai,!1)})(wr)}}return Mt={initializeForMedia:function(Ht){if(!Ht)throw new Error("mediaInfo can not be null or undefined");Rn(),yt.push(Ht)},clearMediaInfoArray:function(){yt=[]},handleKeySystemFromManifest:function(){if(yt&&yt.length!==0){var Ht=[];yt.forEach(function(Sn){var zn=xt.getSupportedKeySystemsFromContentProtection(Sn.contentProtection,et,ht);zn.length>0&&(Ht.length===0&&(Ht=zn),We.push(zn))}),Ht&&Ht.length>0&&sr(Ht,!0)}},createKeySession:Fr,loadKeySession:bi,removeKeySession:function(Ht){Rn(),fn.removeKeySession(Ht)},closeKeySession:function(Ht){Rn(),fn.closeKeySession(Ht)},setServerCertificate:function(Ht){Rn(),fn.setServerCertificate(Ht)},setMediaElement:Ei,setSessionType:function(Ht){ht=Ht},setRobustnessLevel:function(Ht){qt=Ht},setProtectionData:function(Ht){et=Ht,xt.setProtectionData(Ht)},getSupportedKeySystemsFromContentProtection:function(Ht){return Rn(),xt.getSupportedKeySystemsFromContentProtection(Ht,et,ht)},getKeySystems:function(){return xt?xt.getKeySystems():[]},setKeySystems:function(Ht){xt&&xt.setKeySystems(Ht)},stop:function(){xl(),fn&&fn.stop()},reset:function(){ln.off(An.INTERNAL_KEY_MESSAGE,jo,Mt),ln.off(An.INTERNAL_KEY_STATUS_CHANGED,Io,Mt),Rn(),xl(),Ei(null),$t=null,hn=!1,fn&&(fn.reset(),fn=null),Dt.forEach(function(Ht){return clearTimeout(Ht)}),Dt=[],yt=[],We=[]}},Nt=Jn.getLogger(Mt),We=[],yt=[],ht="temporary",qt="",gn=null,Xt=null,ln.on(An.INTERNAL_KEY_MESSAGE,jo,Mt),ln.on(An.INTERNAL_KEY_STATUS_CHANGED,Io,Mt),Mt}ee.__dashjs_factory_name="ProtectionController";var le=re.Z.getClassFactory(ee),Q=function Pt(Mt,Nt){(function(We,yt){if(!(We instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.keyID=Mt,this.key=Nt};function se(Pt,Mt){for(var Nt=0;Nt<Mt.length;Nt++){var We=Mt[Nt];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(Pt,We.key,We)}}var he=function(){function Pt(We,yt){if(function(et,ht){if(!(et instanceof ht))throw new TypeError("Cannot call a class as a function")}(this,Pt),yt&&yt!=="persistent"&&yt!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=We,this.type=yt}var Mt,Nt;return Mt=Pt,(Nt=[{key:"toJWK",value:function(){var We,yt=this.keyPairs.length,et={keys:[]};for(We=0;We<yt;We++){var ht={kty:"oct",alg:"A128KW",kid:this.keyPairs[We].keyID,k:this.keyPairs[We].key};et.keys.push(ht)}this.type&&(et.type=this.type);var qt=JSON.stringify(et),$t=qt.length,hn=new ArrayBuffer($t),gn=new Uint8Array(hn);for(We=0;We<$t;We++)gn[We]=qt.charCodeAt(We);return hn}}])&&se(Mt.prototype,Nt),Pt}();function De(Pt,Mt){for(var Nt=0;Nt<Mt.length;Nt++){var We=Mt[Nt];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(Pt,We.key,We)}}var ie=new(function(){function Pt(){(function(We,yt){if(!(We instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.init()}var Mt,Nt;return Mt=Pt,(Nt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&De(Mt.prototype,Nt),Pt}()),Se="e2719d58-a985-b3c9-781a-b030af78d30e",xe=ie.CLEARKEY_KEYSTEM_STRING,je="urn:uuid:"+Se;function Te(Pt){var Mt=(Pt=Pt||{}).BASE64;return{uuid:Se,schemeIdURI:je,systemString:xe,getInitData:function(Nt,We){try{var yt=c.parseInitDataFromContentProtection(Nt,Mt);if(!yt&&We){var et={kids:[function(ht){try{var qt=ht.replace(/-/g,"");return(qt=btoa(qt.match(/\w{2}/g).map(function($t){return String.fromCharCode(parseInt($t,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(We["cenc:default_KID"])]};yt=new TextEncoder().encode(JSON.stringify(et))}return yt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Nt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Nt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Nt,We){var yt=null;if(Nt){for(var et=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(We))),ht=[],qt=0;qt<et.kids.length;qt++){var $t=et.kids[qt],hn=Nt.clearkeys&&Nt.clearkeys.hasOwnProperty($t)?Nt.clearkeys[$t]:null;if(!hn)throw new Error("DRM: ClearKey keyID ("+$t+") is not known!");ht.push(new Q($t,hn))}yt=new he(ht)}return yt}}}Te.__dashjs_factory_name="KeySystemClearKey";var Fe=dashjs.FactoryMaker.getSingletonFactory(Te),qe="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Je=ie.CLEARKEY_KEYSTEM_STRING,Ie="urn:uuid:"+qe;function Me(Pt){var Mt,Nt=Pt.BASE64,We=Pt.debug.getLogger(Mt);return{uuid:qe,schemeIdURI:Ie,systemString:Je,getInitData:function(yt){return c.parseInitDataFromContentProtection(yt,Nt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(yt){return new Uint8Array(yt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(yt,et){var ht=null;if(yt){for(var qt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(et))),$t=[],hn=0;hn<qt.kids.length;hn++){var gn=qt.kids[hn],Xt=yt.clearkeys&&yt.clearkeys.hasOwnProperty(gn)?yt.clearkeys[gn]:null;if(!Xt)throw new Error("DRM: ClearKey keyID ("+gn+") is not known!");$t.push(new Q(gn,Xt))}ht=new he($t),We.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return ht}}}Me.__dashjs_factory_name="KeySystemW3CClearKey";var At=dashjs.FactoryMaker.getSingletonFactory(Me),vt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ze=ie.WIDEVINE_KEYSTEM_STRING,it="urn:uuid:"+vt;function me(Pt){var Mt=(Pt=Pt||{}).BASE64;return{uuid:vt,schemeIdURI:it,systemString:ze,getInitData:function(Nt){return c.parseInitDataFromContentProtection(Nt,Mt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Nt){return new Uint8Array(Nt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}me.__dashjs_factory_name="KeySystemWidevine";var Ee=dashjs.FactoryMaker.getSingletonFactory(me),$e="9a04f079-9840-4286-ab92-e65be0885f95",T=ie.PLAYREADY_KEYSTEM_STRING,y="urn:uuid:"+$e;function x(Pt){var Mt="utf-16",Nt=(Pt=Pt||{}).BASE64,We=Pt.settings;function yt(){if(!Nt||!Nt.hasOwnProperty("decodeArray")||!Nt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:$e,schemeIdURI:y,systemString:T,getInitData:function(et){var ht,qt,$t,hn,gn,Xt=new Uint8Array([112,115,115,104,0,0,0,0]),xt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),fn=0,ln=null;if(yt(),!et)return null;if("pssh"in et)return c.parseInitDataFromContentProtection(et,Nt);if("pro"in et)ln=Nt.decodeArray(et.pro.__text);else{if(!("prheader"in et))return null;ln=Nt.decodeArray(et.prheader.__text)}return ht=ln.length,qt=4+Xt.length+xt.length+4+ht,$t=new ArrayBuffer(qt),hn=new Uint8Array($t),(gn=new DataView($t)).setUint32(fn,qt),fn+=4,hn.set(Xt,fn),fn+=Xt.length,hn.set(xt,fn),fn+=xt.length,gn.setUint32(fn,ht),fn+=4,hn.set(ln,fn),fn+=ht,hn.buffer},getRequestHeadersFromMessage:function(et){var ht,qt,$t={},hn=new DOMParser;if(We&&We.get().streaming.protection.detectPlayreadyMessageFormat&&Mt==="utf-16"&&et&&et.byteLength%2==1)return $t["Content-Type"]="text/xml; charset=utf-8",$t;var gn=Mt==="utf-16"?new Uint16Array(et):new Uint8Array(et);ht=String.fromCharCode.apply(null,gn);for(var Xt=(qt=hn.parseFromString(ht,"application/xml")).getElementsByTagName("name"),xt=qt.getElementsByTagName("value"),fn=0;fn<Xt.length;fn++)$t[Xt[fn].childNodes[0].nodeValue]=xt[fn].childNodes[0].nodeValue;return $t.hasOwnProperty("Content")&&($t["Content-Type"]=$t.Content,delete $t.Content),$t.hasOwnProperty("Content-Type")||($t["Content-Type"]="text/xml; charset=utf-8"),$t},getLicenseRequestFromMessage:function(et){var ht=null,qt=new DOMParser;if(We&&We.get().streaming.protection.detectPlayreadyMessageFormat&&Mt==="utf-16"&&et&&et.byteLength%2==1)return et;var $t=Mt==="utf-16"?new Uint16Array(et):new Uint8Array(et);yt();var hn=String.fromCharCode.apply(null,$t),gn=qt.parseFromString(hn,"application/xml");if(!gn.getElementsByTagName("PlayReadyKeyMessage")[0])return et;var Xt=gn.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Xt&&(ht=Nt.decode(Xt)),ht},getLicenseServerURLFromInitData:function(et){if(et)for(var ht=new DataView(et),qt=ht.getUint16(4,!0),$t=6,hn=new DOMParser,gn=0;gn<qt;gn++){var Xt=ht.getUint16($t,!0);$t+=2;var xt=ht.getUint16($t,!0);if($t+=2,Xt===1){var fn=et.slice($t,$t+xt),ln=String.fromCharCode.apply(null,new Uint16Array(fn)),An=hn.parseFromString(ln,"application/xml");if(An.getElementsByTagName("LA_URL")[0]){var Jn=An.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Jn)return Jn}if(An.getElementsByTagName("LUI_URL")[0]){var yr=An.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(yr)return yr}}else $t+=xt}return null},getCDMData:function(et){var ht,qt,$t,hn;if(yt(),!et)return null;for(ht=[],hn=0;hn<et.length;++hn)ht.push(et.charCodeAt(hn)),ht.push(0);for(ht=String.fromCharCode.apply(null,ht),ht=Nt.encode(ht),qt='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",ht),$t=[],hn=0;hn<qt.length;++hn)$t.push(qt.charCodeAt(hn)),$t.push(0);return new Uint8Array($t).buffer},setPlayReadyMessageFormat:function(et){if(et!=="utf-8"&&et!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Mt=et}}}x.__dashjs_factory_name="KeySystemPlayReady";var R=dashjs.FactoryMaker.getSingletonFactory(x);function ne(Pt){var Mt=(Pt=Pt||{}).BASE64,Nt={};return Nt[ie.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(We){return Mt.decodeArray(We.license)},getErrorResponse:function(We){return We}},Nt[ie.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(We){return We},getErrorResponse:function(We){return String.fromCharCode.apply(null,new Uint8Array(We))}},{getServerURLFromMessage:function(We){return We},getHTTPMethod:function(){return"POST"},getResponseType:function(We){return Nt[We].responseType},getLicenseMessage:function(We,yt){return function(){if(!Mt||!Mt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Nt[yt].getLicenseMessage(We)},getErrorResponse:function(We,yt){return Nt[yt].getErrorResponse(We)}}}ne.__dashjs_factory_name="DRMToday";var J=dashjs.FactoryMaker.getSingletonFactory(ne);function Ne(){var Pt="http://schemas.xmlsoap.org/soap/envelope/";function Mt(yt){var et=String.fromCharCode.apply(null,new Uint8Array(yt));return decodeURIComponent(escape(et))}function Nt(yt){if(window.DOMParser){var et=Mt(yt),ht=new window.DOMParser().parseFromString(et,"text/xml"),qt=ht?ht.getElementsByTagNameNS(Pt,"Envelope")[0]:null,$t=qt?qt.getElementsByTagNameNS(Pt,"Body")[0]:null;if($t&&$t.getElementsByTagNameNS(Pt,"Fault")[0])return null}return yt}function We(yt){var et="",ht="",qt="",$t=-1,hn=-1;if(window.DOMParser){var gn=Mt(yt),Xt=new window.DOMParser().parseFromString(gn,"text/xml"),xt=Xt?Xt.getElementsByTagNameNS(Pt,"Envelope")[0]:null,fn=xt?xt.getElementsByTagNameNS(Pt,"Body")[0]:null,ln=fn?fn.getElementsByTagNameNS(Pt,"Fault")[0]:null,An=ln?ln.getElementsByTagName("detail")[0]:null,Jn=An?An.getElementsByTagName("Exception")[0]:null,yr=null;if(ln===null)return gn;et=(yr=ln.getElementsByTagName("faultstring")[0].firstChild)?yr.nodeValue:null,Jn!==null&&(ht=(yr=Jn.getElementsByTagName("StatusCode")[0])?yr.firstChild.nodeValue:null,$t=(qt=(yr=Jn.getElementsByTagName("Message")[0])?yr.firstChild.nodeValue:null)?qt.lastIndexOf("[")+1:-1,hn=qt?qt.indexOf("]"):-1,qt=qt?qt.substring($t,hn):"")}var wn="code: ".concat(ht,", name: ").concat(et);return qt&&(wn+=", message: ".concat(qt)),wn}return{getServerURLFromMessage:function(yt){return yt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(yt){return Nt.call(this,yt)},getErrorResponse:function(yt){return We.call(this,yt)}}}Ne.__dashjs_factory_name="PlayReady";var rt=re.Z.getSingletonFactory(Ne);function He(){return{getServerURLFromMessage:function(Pt){return Pt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Pt){return Pt},getErrorResponse:function(Pt){return String.fromCharCode.apply(null,new Uint8Array(Pt))}}}He.__dashjs_factory_name="Widevine";var Ze=dashjs.FactoryMaker.getSingletonFactory(He);function Oe(){return{getServerURLFromMessage:function(Pt){return Pt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Pt){if(!Pt.hasOwnProperty("keys"))return null;for(var Mt=[],Nt=0;Nt<Pt.keys.length;Nt++){var We=Pt.keys[Nt],yt=We.kid.replace(/=/g,""),et=We.k.replace(/=/g,"");Mt.push(new Q(yt,et))}return new he(Mt)},getErrorResponse:function(Pt){return String.fromCharCode.apply(null,new Uint8Array(Pt))}}}Oe.__dashjs_factory_name="ClearKey";var Ye=dashjs.FactoryMaker.getSingletonFactory(Oe);function we(){var Pt,Mt,Nt,We,yt,et,ht,qt,$t=this.context;function hn(xt,fn){return fn&&xt in fn?fn[xt]:null}function gn(xt,fn){return xt&&xt.sessionId?xt.sessionId:fn&&fn.sessionId?fn.sessionId:null}function Xt(xt,fn){return xt&&xt.sessionType?xt.sessionType:fn}return Pt={initialize:function(){var xt;We=[],xt=R($t).getInstance({BASE64:yt,settings:et}),We.push(xt),xt=Ee($t).getInstance({BASE64:yt}),We.push(xt),xt=Fe($t).getInstance({BASE64:yt}),We.push(xt),ht=xt,xt=At($t).getInstance({BASE64:yt,debug:Mt}),We.push(xt),qt=xt},setProtectionData:function(xt){for(var fn,ln,An=0;An<We.length;An++){var Jn=We[An];Jn.hasOwnProperty("init")&&Jn.init((fn=Jn.systemString,ln=void 0,ln=null,xt&&(ln=fn in xt?xt[fn]:null),ln))}},isClearKey:function(xt){return xt===ht||xt===qt},initDataEquals:function(xt,fn){if(xt.byteLength===fn.byteLength){for(var ln=new Uint8Array(xt),An=new Uint8Array(fn),Jn=0;Jn<ln.length;Jn++)if(ln[Jn]!==An[Jn])return!1;return!0}return!1},getKeySystems:function(){return We},setKeySystems:function(xt){We=xt},getKeySystemBySystemString:function(xt){for(var fn=0;fn<We.length;fn++)if(We[fn].systemString===xt)return We[fn];return null},getSupportedKeySystemsFromContentProtection:function(xt,fn,ln){var An,Jn,yr,wn,Dt=[];if(xt){var kt=c.findCencContentProtection(xt);for(yr=0;yr<We.length;++yr){var Qt=hn((Jn=We[yr]).systemString,fn);for(wn=0;wn<xt.length;++wn)if((An=xt[wn]).schemeIdUri.toLowerCase()===Jn.schemeIdURI){var Dn=Jn.getInitData(An,kt);Dt.push({ks:We[yr],keyId:An.keyId,initData:Dn,protData:Qt,cdmData:Jn.getCDMData(Qt?Qt.cdmData:null),sessionId:gn(Qt,An),sessionType:Xt(Qt,ln)})}}}return Dt},getSupportedKeySystemsFromSegmentPssh:function(xt,fn,ln){for(var An,Jn=[],yr=c.parsePSSHList(xt),wn=0;wn<We.length;++wn){var Dt=hn((An=We[wn]).systemString,fn);An.uuid in yr&&Jn.push({ks:An,initData:yr[An.uuid],protData:Dt,cdmData:An.getCDMData(Dt?Dt.cdmData:null),sessionId:gn(Dt),sessionType:Xt(Dt,ln)})}return Jn},getLicenseServerModelInstance:function(xt,fn,ln){if(ln==="license-release"||ln==="individualization-request")return null;var An=null;return fn&&fn.hasOwnProperty("drmtoday")?An=J($t).getInstance({BASE64:yt}):xt.systemString===ie.WIDEVINE_KEYSTEM_STRING?An=Ze($t).getInstance():xt.systemString===ie.PLAYREADY_KEYSTEM_STRING?An=rt($t).getInstance():xt.systemString===ie.CLEARKEY_KEYSTEM_STRING&&(An=Ye($t).getInstance()),An},processClearKeyLicenseRequest:function(xt,fn,ln){try{return xt.getClearKeysFromProtectionData(fn,ln)}catch{return Nt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(xt){xt&&(xt.debug&&(Mt=xt.debug,Nt=Mt.getLogger(Pt)),xt.BASE64&&(yt=xt.BASE64),xt.settings&&(et=xt.settings))}},Pt}we.__dashjs_factory_name="ProtectionKeyController";var Le=dashjs.FactoryMaker.getSingletonFactory(we);function Pe(Pt){return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt},Pe(Pt)}function ut(Pt,Mt){return ut=Object.setPrototypeOf||function(Nt,We){return Nt.__proto__=We,Nt},ut(Pt,Mt)}function at(Pt,Mt){return!Mt||Pe(Mt)!=="object"&&typeof Mt!="function"?function(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}(Pt):Mt}function Bt(Pt){return Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(Mt){return Mt.__proto__||Object.getPrototypeOf(Mt)},Bt(Pt)}var Tt=new(function(Pt){(function(et,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(ht&&ht.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),ht&&ut(et,ht)})(yt,Pt);var Mt,Nt,We=(Mt=yt,Nt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var et,ht=Bt(Mt);if(Nt){var qt=Bt(this).constructor;et=Reflect.construct(ht,arguments,qt)}else et=ht.apply(this,arguments);return at(this,et)});function yt(){var et;return function(ht,qt){if(!(ht instanceof qt))throw new TypeError("Cannot call a class as a function")}(this,yt),(et=We.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",et.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",et.KEY_ADDED="public_keyAdded",et.KEY_ERROR="public_keyError",et.KEY_MESSAGE="public_keyMessage",et.KEY_SESSION_CLOSED="public_keySessionClosed",et.KEY_SESSION_CREATED="public_keySessionCreated",et.KEY_SESSION_REMOVED="public_keySessionRemoved",et.KEY_STATUSES_CHANGED="public_keyStatusesChanged",et.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",et.KEY_SYSTEM_SELECTED="public_keySystemSelected",et.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",et.LICENSE_REQUEST_SENDING="public_licenseRequestSending",et.NEED_KEY="needkey",et.PROTECTION_CREATED="public_protectioncreated",et.PROTECTION_DESTROYED="public_protectiondestroyed",et.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",et.TEARDOWN_COMPLETE="protectionTeardownComplete",et.VIDEO_ELEMENT_SELECTED="videoElementSelected",et.KEY_SESSION_UPDATED="public_keySessionUpdated",et}return yt}(l(8342).Z)),Jt=function Pt(Mt,Nt){(function(We,yt){if(!(We instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.initData=Mt,this.initDataType=Nt},an=function Pt(Mt,Nt,We,yt){(function(et,ht){if(!(et instanceof ht))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.sessionToken=Mt,this.message=Nt,this.defaultURL=We,this.messageType=yt||"license-request"},In=function Pt(Mt,Nt){(function(We,yt){if(!(We instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,Pt),this.keySystem=Mt,this.ksConfiguration=Nt},Cn={};function or(Pt){Pt=Pt||{};var Mt,Nt,We,yt,et,ht,qt,$t,hn=this.context,gn=Pt.eventBus,Xt=Pt.events,xt=Pt.debug;function fn(Dt,kt,Qt,Dn){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){var Rn="Insecure origins are not allowed";return gn.trigger(Xt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Rn}),void Dn({error:Rn})}var sr=Dt[kt].protData&&Dt[kt].protData.systemStringPriority?Dt[kt].protData.systemStringPriority:null,_r=Dt[kt].configs,yi=Dt[kt].ks,bi=yi.systemString;(function(Fr,si){return new Promise(function(zr,Ei){ln(Fr,si,0,zr,Ei)})})(sr||(Cn[bi]?Cn[bi]:[bi]),_r).then(function(Fr){var si=typeof Fr.getConfiguration=="function"?Fr.getConfiguration():null,zr=new In(yi,si);zr.mksa=Fr,gn.trigger(Xt.KEY_SYSTEM_ACCESS_COMPLETE,{data:zr}),Qt({data:zr})}).catch(function(Fr){if(kt+1<Dt.length)fn(Dt,kt+1,Qt,Dn);else{var si="Key system access denied! ";gn.trigger(Xt.KEY_SYSTEM_ACCESS_COMPLETE,{error:si+Fr.message}),Dn({error:si+Fr.message})}})}function ln(Dt,kt,Qt,Dn,Rn){var sr=Dt[Qt];Nt.debug("Requesting key system access for system string ".concat(sr)),navigator.requestMediaKeySystemAccess(sr,kt).then(function(_r){_r.selectedSystemString=sr,Dn(_r)}).catch(function(_r){Qt+1<Dt.length?ln(Dt,kt,Qt+1,Dn,Rn):Rn(_r)})}function An(Dt){if(!Dt||!Dt.session)return Promise.resolve;var kt=Dt.session;return kt.removeEventListener("keystatuseschange",Dt),kt.removeEventListener("message",Dt),kt.close()}function Jn(Dt){for(var kt=0;kt<ht.length;kt++)if(ht[kt]===Dt){ht.splice(kt,1);break}}function yr(Dt){var kt,Qt;return Dt&&Dt.length>0&&(Dt[0]&&(typeof Dt[0]=="string"?kt=Dt[0]:Qt=Dt[0]),Dt[1]&&(typeof Dt[1]=="string"?kt=Dt[1]:Qt=Dt[1])),{status:kt,keyId:Qt}}function wn(Dt,kt){var Qt={session:Dt,keyId:kt.keyId,initData:kt.initData,sessionId:kt.sessionId,sessionType:kt.sessionType,handleEvent:function(Dn){switch(Dn.type){case"keystatuseschange":gn.trigger(Xt.KEY_STATUSES_CHANGED,{data:this}),Dn.target.keyStatuses.forEach(function(){var sr=yr(arguments);sr.status==="expired"?gn.trigger(Xt.INTERNAL_KEY_STATUS_CHANGED,{error:new v.Z(h.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,h.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):gn.trigger(Xt.INTERNAL_KEY_STATUS_CHANGED,sr)});break;case"message":var Rn=ArrayBuffer.isView(Dn.message)?Dn.message.buffer:Dn.message;gn.trigger(Xt.INTERNAL_KEY_MESSAGE,{data:new an(this,Rn,void 0,Dn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Dt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Dt.expiration},getKeyStatuses:function(){return Dt.keyStatuses},getUsable:function(){var Dn=!1;return Dt.keyStatuses.forEach(function(){var Rn=yr(arguments);Rn.status==="usable"&&(Dn=!0)}),Dn}};return Dt.addEventListener("keystatuseschange",Qt),Dt.addEventListener("message",Qt),Dt.closed.then(function(){Jn(Qt),Nt.debug("DRM: Session closed.  SessionID = "+Qt.getSessionId()),gn.trigger(Xt.KEY_SESSION_CLOSED,{data:Qt.getSessionId()})}),ht.push(Qt),Qt}return Mt={getAllInitData:function(){for(var Dt=[],kt=0;kt<ht.length;kt++)ht[kt].initData&&Dt.push(ht[kt].initData);return Dt},getSessions:function(){return ht},requestKeySystemAccess:function(Dt){return new Promise(function(kt,Qt){fn(Dt,0,kt,Qt)})},selectKeySystem:function(Dt){return new Promise(function(kt,Qt){Dt.mksa.createMediaKeys().then(function(Dn){return We=Dt.keySystem,et=Dn,yt?yt.setMediaKeys(et):Promise.resolve()}).then(function(){kt(We)}).catch(function(){Qt({error:"Error selecting keys system ("+Dt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(Dt){yt!==Dt&&(yt&&(yt.removeEventListener("encrypted",qt),yt.setMediaKeys&&yt.setMediaKeys(null)),(yt=Dt)&&(yt.addEventListener("encrypted",qt),yt.setMediaKeys&&et&&yt.setMediaKeys(et)))},setServerCertificate:function(Dt){if(!We||!et)throw new Error("Can not set server certificate until you have selected a key system");et.setServerCertificate(Dt).then(function(){Nt.info("DRM: License server certificate successfully updated."),gn.trigger(Xt.SERVER_CERTIFICATE_UPDATED)}).catch(function(kt){gn.trigger(Xt.SERVER_CERTIFICATE_UPDATED,{error:new v.Z(h.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,h.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+kt.name)})})},createKeySession:function(Dt){if(!We||!et)throw new Error("Can not create sessions until you have selected a key system");var kt=et.createSession(Dt.sessionType),Qt=wn(kt,Dt),Dn=We.systemString===ie.CLEARKEY_KEYSTEM_STRING&&(Dt.initData||Dt.protData&&Dt.protData.clearkeys)?ie.INITIALIZATION_DATA_TYPE_KEYIDS:ie.INITIALIZATION_DATA_TYPE_CENC;kt.generateRequest(Dn,Dt.initData).then(function(){Nt.debug("DRM: Session created.  SessionID = "+Qt.getSessionId()),gn.trigger(Xt.KEY_SESSION_CREATED,{data:Qt})}).catch(function(Rn){Jn(Qt),gn.trigger(Xt.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+Rn.name)})})},updateKeySession:function(Dt,kt){var Qt=Dt.session;$t.isClearKey(We)&&(kt=kt.toJWK()),Qt.update(kt).then(function(){gn.trigger(Xt.KEY_SESSION_UPDATED)}).catch(function(Dn){gn.trigger(Xt.KEY_ERROR,{error:new v.Z(h.MEDIA_KEYERR_CODE,"Error sending update() message! "+Dn.name,Dt)})})},loadKeySession:function(Dt){if(!We||!et)throw new Error("Can not load sessions until you have selected a key system");for(var kt=Dt.sessionId,Qt=0;Qt<ht.length;Qt++)if(kt===ht[Qt].sessionId)return void Nt.warn("DRM: Ignoring session ID because we have already seen it!");var Dn=et.createSession(Dt.sessionType),Rn=wn(Dn,Dt);Dn.load(kt).then(function(sr){sr?(Nt.debug("DRM: Session loaded.  SessionID = "+Rn.getSessionId()),gn.trigger(Xt.KEY_SESSION_CREATED,{data:Rn})):(Jn(Rn),gn.trigger(Xt.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+kt+")")}))}).catch(function(sr){Jn(Rn),gn.trigger(Xt.KEY_SESSION_CREATED,{data:null,error:new v.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+kt+")! "+sr.name)})})},removeKeySession:function(Dt){Dt.session.remove().then(function(){Nt.debug("DRM: Session removed.  SessionID = "+Dt.getSessionId()),gn.trigger(Xt.KEY_SESSION_REMOVED,{data:Dt.getSessionId()})},function(kt){gn.trigger(Xt.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Dt.getSessionId()+"). "+kt.name})})},closeKeySession:function(Dt){An(Dt).catch(function(kt){Jn(Dt),gn.trigger(Xt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Dt.getSessionId()+") "+kt.name})})},stop:function(){for(var Dt,kt=0;kt<ht.length;kt++)(Dt=ht[kt]).getUsable()||(An(Dt),Jn(Dt))},reset:function(){var Dt,kt=ht.length;kt!==0?function(){for(var Qt=function(Rn){Jn(Rn),ht.length===0&&(yt?(yt.removeEventListener("encrypted",qt),yt.setMediaKeys(null).then(function(){gn.trigger(Xt.TEARDOWN_COMPLETE)})):gn.trigger(Xt.TEARDOWN_COMPLETE))},Dn=0;Dn<kt;Dn++)(function(Rn){An(Dt),Qt(Rn)})(Dt=ht[Dn])}():gn.trigger(Xt.TEARDOWN_COMPLETE)}},Nt=xt.getLogger(Mt),We=null,yt=null,et=null,ht=[],$t=Le(hn).getInstance(),qt={handleEvent:function(Dt){if(Dt.type==="encrypted"&&Dt.initData){var kt=ArrayBuffer.isView(Dt.initData)?Dt.initData.buffer:Dt.initData;gn.trigger(Xt.NEED_KEY,{key:new Jt(kt,Dt.initDataType)})}}},Mt}Cn[ie.PLAYREADY_KEYSTEM_STRING]=[ie.PLAYREADY_KEYSTEM_STRING,ie.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Cn[ie.WIDEVINE_KEYSTEM_STRING]=[ie.WIDEVINE_KEYSTEM_STRING],Cn[ie.CLEARKEY_KEYSTEM_STRING]=[ie.CLEARKEY_KEYSTEM_STRING],or.__dashjs_factory_name="ProtectionModel_21Jan2015";var ti=dashjs.FactoryMaker.getClassFactory(or);function gr(Pt){Pt=Pt||{};var Mt,Nt,We,yt,et,ht,qt,$t,hn,gn=this.context,Xt=Pt.eventBus,xt=Pt.events,fn=Pt.debug,ln=Pt.api;function An(){try{for(var wn=0;wn<qt.length;wn++)Jn(qt[wn]);We&&We.removeEventListener(ln.needkey,$t),Xt.trigger(xt.TEARDOWN_COMPLETE)}catch(Dt){Xt.trigger(xt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Dt.message})}}function Jn(wn){var Dt=wn.session;Dt.removeEventListener(ln.error,wn),Dt.removeEventListener(ln.message,wn),Dt.removeEventListener(ln.ready,wn),Dt.removeEventListener(ln.close,wn);for(var kt=0;kt<qt.length;kt++)if(qt[kt]===wn){qt.splice(kt,1);break}Dt[ln.release]()}function yr(){var wn=null,Dt=function(){We.removeEventListener("loadedmetadata",wn),We[ln.setMediaKeys](et),Xt.trigger(xt.VIDEO_ELEMENT_SELECTED)};We.readyState>=1?Dt():(wn=Dt.bind(this),We.addEventListener("loadedmetadata",wn))}return Mt={getAllInitData:function(){for(var wn=[],Dt=0;Dt<qt.length;Dt++)wn.push(qt[Dt].initData);return wn},getSessions:function(){return qt},requestKeySystemAccess:function(wn){return new Promise(function(Dt,kt){for(var Qt=!1,Dn=0;Dn<wn.length;Dn++)for(var Rn=wn[Dn].ks.systemString,sr=wn[Dn].configs,_r=null,yi=null,bi=0;bi<sr.length;bi++){var Fr=sr[bi].audioCapabilities,si=sr[bi].videoCapabilities;if(Fr&&Fr.length!==0){_r=[];for(var zr=0;zr<Fr.length;zr++)window[ln.MediaKeys].isTypeSupported(Rn,Fr[zr].contentType)&&_r.push(Fr[zr])}if(si&&si.length!==0){yi=[];for(var Ei=0;Ei<si.length;Ei++)window[ln.MediaKeys].isTypeSupported(Rn,si[Ei].contentType)&&yi.push(si[Ei])}if(!(!_r&&!yi||_r&&_r.length===0||yi&&yi.length===0)){Qt=!0;var $s=new p(_r,yi),Io=hn.getKeySystemBySystemString(Rn),jo=new In(Io,$s);Xt.trigger(xt.KEY_SYSTEM_ACCESS_COMPLETE,{data:jo}),Dt({data:jo});break}}if(!Qt){var Oi="Key system access denied! -- No valid audio/video content configurations detected!";Xt.trigger(xt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Oi}),kt({error:Oi})}})},selectKeySystem:function(wn){return new Promise(function(Dt,kt){try{et=wn.mediaKeys=new window[ln.MediaKeys](wn.keySystem.systemString),yt=wn.keySystem,ht=wn,We&&yr(),Dt(yt)}catch{kt({error:"Error selecting keys system ("+yt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(wn){We!==wn&&(We&&We.removeEventListener(ln.needkey,$t),(We=wn)&&(We.addEventListener(ln.needkey,$t),et&&yr()))},createKeySession:function(wn){if(!yt||!et||!ht)throw new Error("Can not create sessions until you have selected a key system");var Dt=null;if(ht.ksConfiguration.videoCapabilities&&ht.ksConfiguration.videoCapabilities.length>0&&(Dt=ht.ksConfiguration.videoCapabilities[0]),Dt===null&&ht.ksConfiguration.audioCapabilities&&ht.ksConfiguration.audioCapabilities.length>0&&(Dt=ht.ksConfiguration.audioCapabilities[0]),Dt===null)throw new Error("Can not create sessions for unknown content types.");var kt=Dt.contentType,Qt=et.createSession(kt,new Uint8Array(wn.initData),wn.cdmData?new Uint8Array(wn.cdmData):null),Dn=function(Rn,sr){return{session:Rn,keyId:sr.keyId,initData:sr.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(_r){switch(_r.type){case ln.error:Xt.trigger(xt.KEY_ERROR,{error:new v.Z(h.MEDIA_KEYERR_CODE,"KeyError",this)});break;case ln.message:var yi=ArrayBuffer.isView(_r.message)?_r.message.buffer:_r.message;Xt.trigger(xt.INTERNAL_KEY_MESSAGE,{data:new an(this,yi,_r.destinationURL)});break;case ln.ready:Nt.debug("DRM: Key added."),Xt.trigger(xt.KEY_ADDED);break;case ln.close:Nt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Xt.trigger(xt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Qt,wn);Qt.addEventListener(ln.error,Dn),Qt.addEventListener(ln.message,Dn),Qt.addEventListener(ln.ready,Dn),Qt.addEventListener(ln.close,Dn),qt.push(Dn),Nt.debug("DRM: Session created.  SessionID = "+Dn.getSessionId()),Xt.trigger(xt.KEY_SESSION_CREATED,{data:Dn})},updateKeySession:function(wn,Dt){var kt=wn.session;hn.isClearKey(yt)?kt.update(new Uint8Array(Dt.toJWK())):kt.update(new Uint8Array(Dt)),Xt.trigger(xt.KEY_SESSION_UPDATED)},closeKeySession:Jn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:An,reset:An},Nt=fn.getLogger(Mt),We=null,yt=null,et=null,ht=null,qt=[],hn=Le(gn).getInstance(),$t={handleEvent:function(wn){if(wn.type===ln.needkey&&wn.initData){var Dt=ArrayBuffer.isView(wn.initData)?wn.initData.buffer:wn.initData;Xt.trigger(xt.NEED_KEY,{key:new Jt(Dt,"cenc")})}}},Mt}gr.__dashjs_factory_name="ProtectionModel_3Feb2014";var Hi=dashjs.FactoryMaker.getClassFactory(gr);function ni(Pt){Pt=Pt||{};var Mt,Nt,We,yt,et,ht,qt,$t,hn,gn=this.context,Xt=Pt.eventBus,xt=Pt.events,fn=Pt.debug,ln=Pt.api,An=Pt.errHandler;function Jn(){We&&Dt();for(var kt=0;kt<qt.length;kt++)yr(qt[kt]);Xt.trigger(xt.TEARDOWN_COMPLETE)}function yr(kt){try{We[ln.cancelKeyRequest](yt.systemString,kt.sessionId)}catch(Qt){Xt.trigger(xt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+kt.sessionId+") "+Qt.message})}}function wn(kt,Qt){if(Qt&&kt){for(var Dn=kt.length,Rn=0;Rn<Dn;Rn++)if(kt[Rn].sessionId==Qt)return kt[Rn];return null}return null}function Dt(){We.removeEventListener(ln.keyerror,hn),We.removeEventListener(ln.needkey,hn),We.removeEventListener(ln.keymessage,hn),We.removeEventListener(ln.keyadded,hn)}return Mt={getAllInitData:function(){for(var kt=[],Qt=0;Qt<ht.length;Qt++)kt.push(ht[Qt].initData);for(var Dn=0;Dn<qt.length;Dn++)kt.push(qt[Dn].initData);return kt},getSessions:function(){return qt.concat(ht)},requestKeySystemAccess:function(kt){return new Promise(function(Qt,Dn){var Rn=We;Rn||(Rn=document.createElement("video"));for(var sr=!1,_r=0;_r<kt.length;_r++)for(var yi=kt[_r].ks.systemString,bi=kt[_r].configs,Fr=null,si=0;si<bi.length;si++){var zr=bi[si].videoCapabilities;if(zr&&zr.length!==0){Fr=[];for(var Ei=0;Ei<zr.length;Ei++)Rn.canPlayType(zr[Ei].contentType,yi)!==""&&Fr.push(zr[Ei])}if(Fr&&(!Fr||Fr.length!==0)){sr=!0;var $s=new p(null,Fr),Io=et.getKeySystemBySystemString(yi),jo=new In(Io,$s);Xt.trigger(xt.KEY_SYSTEM_ACCESS_COMPLETE,{data:jo}),Qt({data:jo});break}}if(!sr){var Oi="Key system access denied! -- No valid audio/video content configurations detected!";Xt.trigger(xt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Oi}),Dn({error:Oi})}})},selectKeySystem:function(kt){return yt=kt.keySystem,Promise.resolve(yt)},setMediaElement:function(kt){if(We!==kt){if(We){Dt();for(var Qt=0;Qt<qt.length;Qt++)yr(qt[Qt]);qt=[]}(We=kt)&&(We.addEventListener(ln.keyerror,hn),We.addEventListener(ln.needkey,hn),We.addEventListener(ln.keymessage,hn),We.addEventListener(ln.keyadded,hn),Xt.trigger(xt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(kt){if(!yt)throw new Error("Can not create sessions until you have selected a key system");if($t||qt.length===0){var Qt={sessionId:null,keyId:kt.keyId,initData:kt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return ht.push(Qt),We[ln.generateKeyRequest](yt.systemString,new Uint8Array(kt.initData)),Qt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(kt,Qt){var Dn=kt.sessionId;if(et.isClearKey(yt))for(var Rn=0;Rn<Qt.keyPairs.length;Rn++)We[ln.addKey](yt.systemString,Qt.keyPairs[Rn].key,Qt.keyPairs[Rn].keyID,Dn);else We[ln.addKey](yt.systemString,new Uint8Array(Qt),new Uint8Array(kt.initData),Dn);Xt.trigger(xt.KEY_SESSION_UPDATED)},closeKeySession:yr,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Jn,reset:Jn},Nt=fn.getLogger(Mt),We=null,yt=null,ht=[],qt=[],et=Le(gn).getInstance(),hn={handleEvent:function(kt){var Qt=null;switch(kt.type){case ln.needkey:var Dn=ArrayBuffer.isView(kt.initData)?kt.initData.buffer:kt.initData;Xt.trigger(xt.NEED_KEY,{key:new Jt(Dn,"cenc")});break;case ln.keyerror:if((Qt=wn(qt,kt.sessionId))||(Qt=wn(ht,kt.sessionId)),Qt){var Rn=h.MEDIA_KEYERR_CODE,sr="";switch(kt.errorCode.code){case 1:Rn=h.MEDIA_KEYERR_UNKNOWN_CODE,sr+="MEDIA_KEYERR_UNKNOWN - "+h.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Rn=h.MEDIA_KEYERR_CLIENT_CODE,sr+="MEDIA_KEYERR_CLIENT - "+h.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Rn=h.MEDIA_KEYERR_SERVICE_CODE,sr+="MEDIA_KEYERR_SERVICE - "+h.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Rn=h.MEDIA_KEYERR_OUTPUT_CODE,sr+="MEDIA_KEYERR_OUTPUT - "+h.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Rn=h.MEDIA_KEYERR_HARDWARECHANGE_CODE,sr+="MEDIA_KEYERR_HARDWARECHANGE - "+h.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Rn=h.MEDIA_KEYERR_DOMAIN_CODE,sr+="MEDIA_KEYERR_DOMAIN - "+h.MEDIA_KEYERR_DOMAIN_MESSAGE}sr+="  System Code = "+kt.systemCode,Xt.trigger(xt.KEY_ERROR,{error:new v.Z(Rn,sr,Qt)})}else Nt.error("No session token found for key error");break;case ln.keyadded:(Qt=wn(qt,kt.sessionId))||(Qt=wn(ht,kt.sessionId)),Qt?(Nt.debug("DRM: Key added."),Xt.trigger(xt.KEY_ADDED,{data:Qt})):Nt.debug("No session token found for key added");break;case ln.keymessage:if(($t=kt.sessionId!==null&&kt.sessionId!==void 0)?!(Qt=wn(qt,kt.sessionId))&&ht.length>0&&(Qt=ht.shift(),qt.push(Qt),Qt.sessionId=kt.sessionId,Xt.trigger(xt.KEY_SESSION_CREATED,{data:Qt})):ht.length>0&&(Qt=ht.shift(),qt.push(Qt),ht.length!==0&&An.error(new v.Z(h.MEDIA_KEY_MESSAGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Qt){var _r=ArrayBuffer.isView(kt.message)?kt.message.buffer:kt.message;Qt.keyMessage=_r,Xt.trigger(xt.INTERNAL_KEY_MESSAGE,{data:new an(Qt,_r,kt.defaultURL)})}else Nt.warn("No session token found for key message")}}},Mt}ni.__dashjs_factory_name="ProtectionModel_01b";var Si=dashjs.FactoryMaker.getClassFactory(ni),ho=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Ci=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function So(){var Pt,Mt=this.context;function Nt(We,yt){for(var et=0;et<yt.length;et++){var ht=yt[et];if(typeof We[ht[Object.keys(ht)[0]]]=="function")return ht}return null}return Pt={createProtectionSystem:function(We){var yt=null,et=Le(Mt).getInstance();et.setConfig({debug:We.debug,BASE64:We.BASE64,settings:We.settings}),et.initialize();var ht=function(qt){var $t=qt.debug,hn=$t.getLogger(Pt),gn=qt.eventBus,Xt=qt.errHandler,xt=qt.videoModel?qt.videoModel.getElement():null;return xt&&xt.onencrypted===void 0||xt&&xt.mediaKeys===void 0?Nt(xt,Ci)?(hn.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Hi(Mt).create({debug:$t,eventBus:gn,events:qt.events,api:Nt(xt,Ci)})):Nt(xt,ho)?(hn.info("EME detected on this user agent! (ProtectionModel_01b)"),Si(Mt).create({debug:$t,eventBus:gn,errHandler:Xt,events:qt.events,api:Nt(xt,ho)})):(hn.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(hn.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),ti(Mt).create({debug:$t,eventBus:gn,events:qt.events}))}(We);return!yt&&ht&&(yt=le(Mt).create({protectionModel:ht,protectionKeyController:et,eventBus:We.eventBus,debug:We.debug,events:We.events,BASE64:We.BASE64,constants:We.constants,cmcdModel:We.cmcdModel,customParametersModel:We.customParametersModel,settings:We.settings}),We.capabilities.setEncryptedMediaSupported(!0)),yt}}}So.__dashjs_factory_name="Protection";var Co=dashjs.FactoryMaker.getClassFactory(So);Co.events=Tt,Co.errors=h,dashjs.FactoryMaker.updateClassFactory(So.__dashjs_factory_name,Co);var Al=Co},2068:function(i,o,l){"use strict";var f=l(5448),u={DEFAULT:.5,STRONG:1,WEAK:0};function c(p,E,m){var C,S;return C=p===void 0?-1:p,S=function(h){var v=u.DEFAULT;return h!==u.DEFAULT&&h!==u.STRONG&&h!==u.WEAK||(v=h),v}(m),{quality:C,reason:E===void 0?null:E,priority:S}}c.__dashjs_factory_name="SwitchRequest";var d=f.Z.getClassFactory(c);d.NO_CHANGE=-1,d.PRIORITY=u,f.Z.updateClassFactory(c.__dashjs_factory_name,d),o.Z=d},1767:function(i,o,l){"use strict";var f=l(5628),u=l(6535),c=l(7423),d=l(895),p=l(6070),E=l(3112),m=l(1914),C=l(5435),S=l(5448),h=l(2068),v=l(3393),w="qualitySwitchRules",M="abandonFragmentRules";function j(V){V=V||{};var re,B,ee=this.context,le=V.mediaPlayerModel,Q=V.customParametersModel,se=V.dashMetrics,he=V.settings;function De(Se){return Se.filter(function(xe){return xe.quality>h.Z.NO_CHANGE})}function ie(Se){var xe,je,Te,Fe,qe,Je={},Ie=null;if(Se.length!==0){for(Je[h.Z.PRIORITY.STRONG]={quality:h.Z.NO_CHANGE,reason:null},Je[h.Z.PRIORITY.WEAK]={quality:h.Z.NO_CHANGE,reason:null},Je[h.Z.PRIORITY.DEFAULT]={quality:h.Z.NO_CHANGE,reason:null},xe=0,je=Se.length;xe<je;xe+=1)(Te=Se[xe]).quality!==h.Z.NO_CHANGE&&(Je[Te.priority].quality===h.Z.NO_CHANGE||Je[Te.priority].quality>Te.quality)&&(Je[Te.priority].quality=Te.quality,Je[Te.priority].reason=Te.reason||null);return Je[h.Z.PRIORITY.WEAK].quality!==h.Z.NO_CHANGE&&(Ie=Je[h.Z.PRIORITY.WEAK]),Je[h.Z.PRIORITY.DEFAULT].quality!==h.Z.NO_CHANGE&&(Ie=Je[h.Z.PRIORITY.DEFAULT]),Je[h.Z.PRIORITY.STRONG].quality!==h.Z.NO_CHANGE&&(Ie=Je[h.Z.PRIORITY.STRONG]),Ie&&(Fe=Ie.quality,qe=Ie.reason),(0,h.Z)(ee).create(Fe,qe)}}return{initialize:function(){re=[],B=[],he.get().streaming.abr.useDefaultABRRules&&(he.get().streaming.abr.ABRStrategy===v.Z.ABR_STRATEGY_L2A?re.push((0,m.Z)(ee).create({dashMetrics:se,settings:he})):he.get().streaming.abr.ABRStrategy===v.Z.ABR_STRATEGY_LoLP?re.push((0,C.Z)(ee).create({dashMetrics:se})):(re.push((0,E.Z)(ee).create({dashMetrics:se,mediaPlayerModel:le,settings:he})),re.push((0,f.Z)(ee).create({dashMetrics:se})),he.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&re.push((0,u.Z)(ee).create({dashMetrics:se,settings:he})),he.get().streaming.abr.additionalAbrRules.switchHistoryRule&&re.push((0,p.Z)(ee).create()),he.get().streaming.abr.additionalAbrRules.droppedFramesRule&&re.push((0,d.Z)(ee).create()),he.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&B.push((0,c.Z)(ee).create({dashMetrics:se,mediaPlayerModel:le,settings:he})))),Q.getAbrCustomRules().forEach(function(Se){Se.type===w&&re.push(Se.rule(ee).create()),Se.type===M&&B.push(Se.rule(ee).create())})},reset:function(){[re,B].forEach(function(Se){Se&&Se.length&&Se.forEach(function(xe){return xe.reset&&xe.reset()})}),re=[],B=[]},getMaxQuality:function(Se){return ie(De(re.map(function(xe){return xe.getMaxIndex(Se)})))||(0,h.Z)(ee).create()},getMinSwitchRequest:ie,shouldAbandonFragment:function(Se,xe){var je=ie(De(B.map(function(Te){return Te.shouldAbandon(Se,xe)})));return je&&(je.reason.forceAbandon=!0),je||(0,h.Z)(ee).create()},getQualitySwitchRules:function(){return re}}}j.__dashjs_factory_name="ABRRulesCollection";var q=S.Z.getClassFactory(j);q.QUALITY_SWITCH_RULES=w,q.ABANDON_FRAGMENT_RULES=M,S.Z.updateSingletonFactory(j.__dashjs_factory_name,q),o.Z=q},7423:function(i,o,l){"use strict";var f=l(2068),u=l(5448),c=l(6398);function d(p){p=p||{};var E,m,C,S,h,v=this.context,w=p.mediaPlayerModel,M=p.dashMetrics,j=p.settings;function q(){C={},S={},h=[]}return E={shouldAbandon:function(V){var re=(0,f.Z)(v).create(f.Z.NO_CHANGE,{name:d.__dashjs_factory_name});if(!(V&&V.hasOwnProperty("getMediaInfo")&&V.hasOwnProperty("getMediaType")&&V.hasOwnProperty("getCurrentRequest")&&V.hasOwnProperty("getRepresentationInfo")&&V.hasOwnProperty("getAbrController")))return re;var B,ee,le=V.getMediaInfo(),Q=V.getMediaType(),se=V.getStreamInfo(),he=se?se.id:null,De=V.getCurrentRequest();if(!isNaN(De.index)){B=Q,ee=De.index,C[B]=C[B]||{},C[B][ee]=C[B][ee]||{};var ie=w.getStableBufferTime();if(M.getCurrentBufferLevel(Q)>ie)return re;var Se=C[Q][De.index];if(Se===null||De.firstByteDate===null||S.hasOwnProperty(Se.id))return re;if(Se.firstByteTime===void 0&&(h[Q]=[],Se.firstByteTime=De.firstByteDate.getTime(),Se.segmentDuration=De.duration,Se.bytesTotal=De.bytesTotal,Se.id=De.index),Se.bytesLoaded=De.bytesLoaded,Se.elapsedTime=new Date().getTime()-Se.firstByteTime,Se.bytesLoaded>0&&Se.elapsedTime>0&&function(Me,At){h[Me]=h[Me]||[],h[Me].push(At)}(Q,Math.round(8*Se.bytesLoaded/Se.elapsedTime)),h[Q].length>=j.get().streaming.abr.abrRulesParameters.abandonRequestsRule.minLengthToAverage&&Se.elapsedTime>j.get().streaming.abr.abrRulesParameters.abandonRequestsRule.graceTimeThreshold&&Se.bytesLoaded<Se.bytesTotal){var xe=h[Q].reduce(function(Me,At){return Me+At},0);if(Se.measuredBandwidthInKbps=Math.round(xe/h[Q].length),Se.estimatedTimeOfDownload=+(8*Se.bytesTotal/Se.measuredBandwidthInKbps/1e3).toFixed(2),Se.estimatedTimeOfDownload<Se.segmentDuration*j.get().streaming.abr.abrRulesParameters.abandonRequestsRule.abandonMultiplier||V.getRepresentationInfo().quality===0)return re;if(!S.hasOwnProperty(Se.id)){var je=V.getAbrController(),Te=Se.bytesTotal-Se.bytesLoaded,Fe=je.getBitrateList(le),qe=je.getQualityForBitrate(le,Se.measuredBandwidthInKbps*j.get().streaming.abr.bandwidthSafetyFactor,he),Je=je.getMinAllowedIndexFor(Q,he),Ie=Je!==void 0?Math.max(Je,qe):qe;Te>Se.bytesTotal*Fe[Ie].bitrate/Fe[je.getQualityFor(Q,he)].bitrate&&(re.quality=Ie,re.reason.throughput=Se.measuredBandwidthInKbps,re.reason.fragmentID=Se.id,re.reason.rule=this.getClassName(),S[Se.id]=Se,m.debug("["+Q+"] frag id",Se.id," is asking to abandon and switch to quality to ",Ie," measured bandwidth was",Se.measuredBandwidthInKbps),delete C[Q][Se.id])}}else Se.bytesLoaded===Se.bytesTotal&&delete C[Q][Se.id]}return re},reset:q},m=(0,c.Z)(v).getInstance().getLogger(E),q(),E}d.__dashjs_factory_name="AbandonRequestsRule",o.Z=u.Z.getClassFactory(d)},3112:function(i,o,l){"use strict";var f=l(3860),u=l(2068),c=l(5448),d=l(7855),p=l(5595),E=l(8512),m=l(6398),C=l(8825),S=l(3393),h=10;function v(w){w=w||{};var M,j,q,V=this.context,re=w.dashMetrics,B=w.mediaPlayerModel,ee=(0,p.Z)(V).getInstance();function le(Ie,Me,At){var vt=At.reduce(function(me,Ee,$e){return Ee>At[me]?$e:me},0);if(vt===0)return null;var ze=Math.max(Ie,h+2*Me.length),it=(At[vt]-1)/(ze/h-1);return{gp:it,Vp:h/it}}function Q(Ie){Ie.placeholderBuffer=0,Ie.mostAdvancedSegmentStart=NaN,Ie.lastSegmentWasReplacement=!1,Ie.lastSegmentStart=NaN,Ie.lastSegmentDurationS=NaN,Ie.lastSegmentRequestTimeMs=NaN,Ie.lastSegmentFinishTimeMs=NaN}function se(Ie,Me){var At=B.getStableBufferTime();if(Ie.stableBufferTime!==At){var vt=le(At,Ie.bitrates,Ie.utilities);if(vt.Vp!==Ie.Vp||vt.gp!==Ie.gp){var ze=re.getCurrentBufferLevel(Me),it=ze+Ie.placeholderBuffer;it-=h,it*=vt.Vp/Ie.Vp,it+=h,Ie.stableBufferTime=At,Ie.Vp=vt.Vp,Ie.gp=vt.gp,Ie.placeholderBuffer=Math.max(0,it-ze)}}}function he(Ie,Me){return Ie.Vp*(Ie.utilities[Me]+Ie.gp)}function De(Ie,Me){for(var At=Ie.bitrates[Me],vt=Ie.utilities[Me],ze=0,it=Me-1;it>=0;--it)if(Ie.utilities[it]<Ie.utilities[Me]){var me=Ie.bitrates[it],Ee=Ie.utilities[it],$e=Ie.Vp*(Ie.gp+(At*Ee-me*vt)/(At-me));ze=Math.max(ze,$e)}return ze}function ie(Ie){var Me=Ie.mediaType===S.Z.AUDIO?[S.Z.AUDIO]:q;for(var At in Me)q.hasOwnProperty(At)&&q[At].state===2&&(q[At].placeholderBuffer=0)}function Se(){for(var Ie in q)if(q.hasOwnProperty(Ie)){var Me=q[Ie];Me.state!==0&&(Me.state=1,Q(Me))}}function xe(Ie){if(Ie&&Ie.chunk&&Ie.chunk.mediaInfo){var Me=q[Ie.chunk.mediaInfo.type];if(Me&&Me.state!==0){var At=Ie.chunk.start;isNaN(Me.mostAdvancedSegmentStart)||At>Me.mostAdvancedSegmentStart?(Me.mostAdvancedSegmentStart=At,Me.lastSegmentWasReplacement=!1):Me.lastSegmentWasReplacement=!0,Me.lastSegmentStart=At,Me.lastSegmentDurationS=Ie.chunk.duration,Me.lastQuality=Ie.chunk.quality,Te(Me,Ie.chunk.mediaInfo.type)}}}function je(Ie){if(Ie&&Ie.metric===f.Z.HTTP_REQUEST&&Ie.value&&Ie.value.type===d.w.MEDIA_SEGMENT_TYPE&&Ie.value.trace&&Ie.value.trace.length){var Me=q[Ie.mediaType];Me&&Me.state!==0&&(Me.lastSegmentRequestTimeMs=Ie.value.trequest.getTime(),Me.lastSegmentFinishTimeMs=Ie.value._tfinish.getTime(),Te(Me,Ie.mediaType))}}function Te(Ie,Me){if(!isNaN(Ie.lastSegmentStart)&&!isNaN(Ie.lastSegmentRequestTimeMs)&&!isNaN(Ie.placeholderBuffer)){if(Ie.placeholderBuffer*=.99,!isNaN(Ie.lastSegmentFinishTimeMs)){var At=re.getCurrentBufferLevel(Me)+.001*(Ie.lastSegmentFinishTimeMs-Ie.lastSegmentRequestTimeMs),vt=he(Ie,Ie.lastQuality),ze=Math.max(0,vt-At);Ie.placeholderBuffer=Math.min(ze,Ie.placeholderBuffer)}Ie.lastSegmentWasReplacement&&!isNaN(Ie.lastSegmentDurationS)&&(Ie.placeholderBuffer+=Ie.lastSegmentDurationS),Ie.lastSegmentStart=NaN,Ie.lastSegmentRequestTimeMs=NaN}}function Fe(Ie){if(Ie){var Me=q[Ie.mediaType];Me&&Me.state!==0&&(Me.abrQuality=Ie.newQuality)}}function qe(Ie){if(Ie){var Me=q[Ie.mediaType];if(Me&&Me.state!==0){var At,vt=re.getCurrentBufferLevel(Ie.mediaType);At=Me.abrQuality>0?De(Me,Me.abrQuality):h;var ze=Math.max(0,At-vt);Me.placeholderBuffer=Math.min(Me.placeholderBuffer,ze)}}}function Je(){q={}}return M={getMaxIndex:function(Ie){var Me=(0,u.Z)(V).create();if(!(Ie&&Ie.hasOwnProperty("getMediaInfo")&&Ie.hasOwnProperty("getMediaType")&&Ie.hasOwnProperty("getScheduleController")&&Ie.hasOwnProperty("getStreamInfo")&&Ie.hasOwnProperty("getAbrController")&&Ie.hasOwnProperty("useBufferOccupancyABR")))return Me;var At=Ie.getMediaInfo(),vt=Ie.getMediaType(),ze=Ie.getScheduleController(),it=Ie.getStreamInfo(),me=Ie.getAbrController(),Ee=me.getThroughputHistory(),$e=it?it.id:null,T=it&&it.manifestInfo&&it.manifestInfo.isDynamic,y=Ie.useBufferOccupancyABR();if(Me.reason=Me.reason||{},!y)return Me;ze.setTimeToLoadDelay(0);var x=function(Oe){var Ye=Oe.getMediaType(),we=q[Ye];return we?we.state!==0&&se(we,Ye):(we=function(Le){var Pe={},ut=Le.getMediaInfo().bitrateList.map(function(Jt){return Jt.bandwidth}),at=function(Jt){return Jt.map(function(an){return Math.log(an)})}(ut);at=at.map(function(Jt){return Jt-at[0]+1});var Bt=B.getStableBufferTime(),Tt=le(Bt,ut,at);return Tt?(Pe.state=1,Pe.bitrates=ut,Pe.utilities=at,Pe.stableBufferTime=Bt,Pe.Vp=Tt.Vp,Pe.gp=Tt.gp,Pe.lastQuality=0,Q(Pe)):Pe.state=0,Pe}(Oe),q[Ye]=we),we}(Ie);if(x.state===0)return Me;var R,ne=re.getCurrentBufferLevel(vt),J=Ee.getAverageThroughput(vt,T),Ne=Ee.getSafeAverageThroughput(vt,T),rt=Ee.getAverageLatency(vt);if(Me.reason.state=x.state,Me.reason.throughput=J,Me.reason.latency=rt,isNaN(J))return Me;switch(x.state){case 1:R=me.getQualityForBitrate(At,Ne,$e,rt),Me.quality=R,Me.reason.throughput=Ne,x.placeholderBuffer=Math.max(0,De(x,R)-ne),x.lastQuality=R,!isNaN(x.lastSegmentDurationS)&&ne>=x.lastSegmentDurationS&&(x.state=2);break;case 2:(function(Oe,Ye){var we=Date.now();if(isNaN(Oe.lastSegmentFinishTimeMs)){if(!isNaN(Oe.lastCallTimeMs)){var Le=.001*(we-Oe.lastCallTimeMs);Oe.placeholderBuffer+=Math.max(0,Le)}}else{var Pe=.001*(we-Oe.lastSegmentFinishTimeMs);Oe.placeholderBuffer+=Math.max(0,Pe)}Oe.lastCallTimeMs=we,Oe.lastSegmentStart=NaN,Oe.lastSegmentRequestTimeMs=NaN,Oe.lastSegmentFinishTimeMs=NaN,se(Oe,Ye)})(x,vt),R=function(Oe,Ye){for(var we=Oe.bitrates.length,Le=NaN,Pe=NaN,ut=0;ut<we;++ut){var at=(Oe.Vp*(Oe.utilities[ut]+Oe.gp)-Ye)/Oe.bitrates[ut];(isNaN(Pe)||at>=Pe)&&(Pe=at,Le=ut)}return Le}(x,ne+x.placeholderBuffer);var He=me.getQualityForBitrate(At,Ne,$e,rt);R>x.lastQuality&&R>He&&(R=Math.max(He,x.lastQuality));var Ze=Math.max(0,ne+x.placeholderBuffer-he(x,R));Ze<=x.placeholderBuffer?(x.placeholderBuffer-=Ze,Ze=0):(Ze-=x.placeholderBuffer,x.placeholderBuffer=0,R<me.getMaxAllowedIndexFor(vt,$e)?ze.setTimeToLoadDelay(1e3*Ze):Ze=0),Me.quality=R,Me.reason.throughput=J,Me.reason.latency=rt,Me.reason.bufferLevel=ne,Me.reason.placeholderBuffer=x.placeholderBuffer,Me.reason.delay=Ze,x.lastQuality=R;break;default:j.debug("BOLA ABR rule invoked in bad state."),Me.quality=me.getQualityForBitrate(At,Ne,$e,rt),Me.reason.state=x.state,Me.reason.throughput=Ne,Me.reason.latency=rt,x.state=1,Q(x)}return Me},reset:function(){Je(),ee.off(C.Z.BUFFER_EMPTY,ie,M),ee.off(C.Z.PLAYBACK_SEEKING,Se,M),ee.off(C.Z.METRIC_ADDED,je,M),ee.off(C.Z.QUALITY_CHANGE_REQUESTED,Fe,M),ee.off(C.Z.FRAGMENT_LOADING_ABANDONED,qe,M),ee.off(E.Z.MEDIA_FRAGMENT_LOADED,xe,M)}},j=(0,m.Z)(V).getInstance().getLogger(M),Je(),ee.on(C.Z.BUFFER_EMPTY,ie,M),ee.on(C.Z.PLAYBACK_SEEKING,Se,M),ee.on(C.Z.METRIC_ADDED,je,M),ee.on(C.Z.QUALITY_CHANGE_REQUESTED,Fe,M),ee.on(C.Z.FRAGMENT_LOADING_ABANDONED,qe,M),ee.on(E.Z.MEDIA_FRAGMENT_LOADED,xe,M),M}v.__dashjs_factory_name="BolaRule",o.Z=c.Z.getClassFactory(v)},895:function(i,o,l){"use strict";var f=l(5448),u=l(2068),c=l(6398);function d(){var p,E,m=this.context;return p={getMaxIndex:function(C){var S=(0,u.Z)(m).create();if(!C||!C.hasOwnProperty("getDroppedFramesHistory"))return S;var h=C.getDroppedFramesHistory(),v=C.getStreamInfo().id;if(h){var w=h.getFrameHistory(v);if(!w||w.length===0)return S;for(var M=0,j=0,q=u.Z.NO_CHANGE,V=1;V<w.length;V++)if(w[V]&&(M=w[V].droppedVideoFrames,(j=w[V].totalVideoFrames)>375&&M/j>.15)){q=V-1,E.debug("index: "+q+" Dropped Frames: "+M+" Total Frames: "+j);break}return(0,u.Z)(m).create(q,{droppedFrames:M})}return S}},E=(0,c.Z)(m).getInstance().getLogger(p),p}d.__dashjs_factory_name="DroppedFramesRule",o.Z=f.Z.getClassFactory(d)},6535:function(i,o,l){"use strict";var f=l(5595),u=l(8512),c=l(5448),d=l(6398),p=l(2068),E=l(3393),m=l(3860),C=l(8825);function S(h){h=h||{};var v,w,M,j=this.context,q=(0,f.Z)(j).getInstance(),V=h.dashMetrics;function re(){(M={})[E.Z.VIDEO]={ignoreCount:2},M[E.Z.AUDIO]={ignoreCount:2}}function B(){re()}function ee(le){isNaN(le.startTime)||le.mediaType!==E.Z.AUDIO&&le.mediaType!==E.Z.VIDEO||M[le.mediaType].ignoreCount>0&&M[le.mediaType].ignoreCount--}return v={getMaxIndex:function(le){var Q=(0,p.Z)(j).create();if(!le||!le.hasOwnProperty("getMediaType"))return Q;(function(){if(!V||!V.hasOwnProperty("getCurrentBufferLevel")||!V.hasOwnProperty("getCurrentBufferState"))throw new Error(E.Z.MISSING_CONFIG_ERROR)})();var se=le.getMediaType(),he=V.getCurrentBufferState(se),De=le.getRepresentationInfo().fragmentDuration,ie=le.getStreamInfo(),Se=ie?ie.id:null,xe=le.getScheduleController(),je=ie&&ie.manifestInfo&&ie.manifestInfo.isDynamic;if(function(vt,ze){return!vt&&M[ze].ignoreCount>0}(xe.getPlaybackController().getLowLatencyModeEnabled(),se)||!De)return Q;if(he&&he.state===m.Z.BUFFER_EMPTY)w.debug("["+se+"] Switch to index 0; buffer is empty."),Q.quality=0,Q.reason="InsufficientBufferRule: Buffer is empty";else{var Te=le.getMediaInfo(),Fe=le.getAbrController(),qe=Fe.getThroughputHistory(),Je=V.getCurrentBufferLevel(se),Ie=qe.getAverageThroughput(se,je),Me=qe.getAverageLatency(se),At=Ie*(Je/De)*.5;Q.quality=Fe.getQualityForBitrate(Te,At,Se,Me),Q.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return Q},reset:function(){re(),q.off(C.Z.PLAYBACK_SEEKING,B,v),q.off(u.Z.BYTES_APPENDED_END_FRAGMENT,ee,v)}},w=(0,d.Z)(j).getInstance().getLogger(v),re(),q.on(C.Z.PLAYBACK_SEEKING,B,v),q.on(u.Z.BYTES_APPENDED_END_FRAGMENT,ee,v),v}S.__dashjs_factory_name="InsufficientBufferRule",o.Z=c.Z.getClassFactory(S)},1914:function(i,o,l){"use strict";var f=l(3860),u=l(2068),c=l(5448),d=l(7855),p=l(5595),E=l(8512),m=l(6398),C=l(3393);function S(h){h=h||{};var v,w,M,j,q=this.context,V=h.dashMetrics,re=(0,p.Z)(q).getInstance();function B(Se){Se.placeholderBuffer=0,Se.mostAdvancedSegmentStart=NaN,Se.lastSegmentWasReplacement=!1,Se.lastSegmentStart=NaN,Se.lastSegmentDurationS=NaN,Se.lastSegmentRequestTimeMs=NaN,Se.lastSegmentFinishTimeMs=NaN,Se.lastSegmentUrl=""}function ee(){for(var Se in w)if(w.hasOwnProperty(Se)){var xe=w[Se];xe.state!==0&&(xe.state=1,B(xe))}}function le(Se){if(Se&&Se.chunk&&Se.chunk.mediaInfo){var xe=w[Se.chunk.mediaInfo.type],je=M[Se.chunk.mediaInfo.type];if(xe&&xe.state!==0){var Te=Se.chunk.start;isNaN(xe.mostAdvancedSegmentStart)||Te>xe.mostAdvancedSegmentStart?(xe.mostAdvancedSegmentStart=Te,xe.lastSegmentWasReplacement=!1):xe.lastSegmentWasReplacement=!0,xe.lastSegmentStart=Te,xe.lastSegmentDurationS=Se.chunk.duration,xe.lastQuality=Se.chunk.quality,se(xe,je)}}}function Q(Se){if(Se&&Se.metric===f.Z.HTTP_REQUEST&&Se.value&&Se.value.type===d.w.MEDIA_SEGMENT_TYPE&&Se.value.trace&&Se.value.trace.length){var xe=w[Se.mediaType],je=M[Se.mediaType];xe&&xe.state!==0&&(xe.lastSegmentRequestTimeMs=Se.value.trequest.getTime(),xe.lastSegmentFinishTimeMs=Se.value._tfinish.getTime(),se(xe,je))}}function se(Se,xe){isNaN(Se.lastSegmentStart)||isNaN(Se.lastSegmentRequestTimeMs)||(xe.segment_request_start_s=.001*Se.lastSegmentRequestTimeMs,xe.segment_download_finish_s=.001*Se.lastSegmentFinishTimeMs,Se.lastSegmentStart=NaN,Se.lastSegmentRequestTimeMs=NaN)}function he(Se){if(Se&&Se.mediaType){var xe=w[Se.mediaType];xe&&xe.state!==0&&(xe.abrQuality=Se.newQuality)}}function De(Se,xe){if(Se.length!==xe.length)return-1;for(var je=0,Te=0;Te<Se.length;Te++)je+=Se[Te]*xe[Te];return je}function ie(){w={},M={}}return v={getMaxIndex:function(Se){var xe,je=(0,u.Z)(q).create(),Te=Math.pow(4,.99),Fe=Math.max(Math.pow(4,1),Te*Math.sqrt(4)),qe=Se.getMediaInfo(),Je=Se.getMediaType(),Ie=qe.bitrateList.map(function(Tt){return Tt.bandwidth}),Me=Ie.length,At=Se.getScheduleController(),vt=Se.getStreamInfo(),ze=Se.getAbrController(),it=ze.getThroughputHistory(),me=vt&&vt.manifestInfo&&vt.manifestInfo.isDynamic,Ee=Se.useL2AABR(),$e=V.getCurrentBufferLevel(Je,!0),T=it.getSafeAverageThroughput(Je,me),y=it.getAverageThroughput(Je,me),x=it.getAverageLatency(Je),R=Se.getVideoModel().getPlaybackRate();if(!(Se&&Se.hasOwnProperty("getMediaInfo")&&Se.hasOwnProperty("getMediaType")&&Se.hasOwnProperty("getScheduleController")&&Se.hasOwnProperty("getStreamInfo")&&Se.hasOwnProperty("getAbrController")&&Se.hasOwnProperty("useL2AABR"))||(je.reason=je.reason||{},!Ee||Je===C.Z.AUDIO))return je;At.setTimeToLoadDelay(0);var ne=function(Tt){var Jt=Tt.getMediaType(),an=w[Jt];return an||(an=function(In){var Cn={},or=In.getMediaInfo(),ti=or.bitrateList.map(function(gr){return gr.bandwidth/1e3});return Cn.state=1,Cn.bitrates=ti,Cn.lastQuality=0,function(gr){gr&&gr.type&&(M[gr.type]={},M[gr.type].w=[],M[gr.type].prev_w=[],M[gr.type].Q=0,M[gr.type].segment_request_start_s=0,M[gr.type].segment_download_finish_s=0,M[gr.type].B_target=1.5)}(or),B(Cn),Cn}(Tt),w[Jt]=an),an}(Se);if(ne.state===0)return je;var J=M[Je];if(!J||(je.reason.state=ne.state,je.reason.throughput=y,je.reason.latency=x,isNaN(y)))return je;switch(ne.state){case 1:if(xe=ze.getQualityForBitrate(qe,T,vt.id,x),je.quality=xe,je.reason.throughput=T,ne.lastQuality=xe,!isNaN(ne.lastSegmentDurationS)&&$e>=J.B_target){ne.state=2,J.Q=Te;for(var Ne=0;Ne<Me;++Ne)Ne===ne.lastQuality?J.prev_w[Ne]=1:J.prev_w[Ne]=0}break;case 2:var rt=[],He=V.getCurrentHttpRequest(Je).trace.reduce(function(Tt,Jt){return Tt+Jt.d},0),Ze=V.getCurrentHttpRequest(Je).trace.reduce(function(Tt,Jt){return Tt+Jt.b[0]},0),Oe=Math.round(8*Ze/He),Ye=V.getCurrentHttpRequest(Je);if(Oe<1&&(Oe=1),Ye.url===ne.lastSegmentUrl||Ye.type===d.w.INIT_SEGMENT_TYPE)xe=ne.lastQuality;else{for(var we=ne.lastSegmentDurationS,Le=1,Pe=0;Pe<Me;++Pe)Ie[Pe]=Ie[Pe]/1e3,R*Ie[Pe]>Oe&&(Le=-1),J.w[Pe]=J.prev_w[Pe]+Le*(we/(2*Fe))*((J.Q+Te)*(R*Ie[Pe]/Oe));J.w=function(Tt){for(var Jt=Tt.length,an=!1,In=[],Cn=0;Cn<Jt;++Cn)In[Cn]=Tt[Cn];for(var or=Tt.sort(function(ho,Ci){return Ci-ho}),ti=0,gr=0,Hi=[],ni=0;ni<Jt-1;++ni)if((gr=((ti+=or[ni])-1)/(ni+1))>=or[ni+1]){an=!0;break}an||(gr=(ti+or[Jt-1]-1)/Jt);for(var Si=0;Si<Jt;++Si)Hi[Si]=Math.max(In[Si]-gr,0);return Hi}(J.w);for(var ut=0;ut<Me;++ut)rt[ut]=J.w[ut]-J.prev_w[ut],J.prev_w[ut]=J.w[ut];J.Q=Math.max(0,J.Q-we+we*R*((De(Ie,J.prev_w)+De(Ie,rt))/Oe));for(var at=[],Bt=0;Bt<Me;++Bt)at[Bt]=Math.abs(Ie[Bt]-De(J.w,Ie));(xe=at.indexOf(Math.min.apply(Math,at)))>ne.lastQuality&&Ie[ne.lastQuality+1]<=Oe&&(xe=ne.lastQuality+1),Ie[xe]>=Oe&&(J.Q=2*Math.max(Te,J.Q)),ne.lastSegmentUrl=Ye.url}je.quality=xe,je.reason.throughput=y,je.reason.latency=x,je.reason.bufferLevel=$e,ne.lastQuality=je.quality;break;default:j.debug("L2A ABR rule invoked in bad state."),je.quality=ze.getQualityForBitrate(qe,T,vt.id,x),je.reason.state=ne.state,je.reason.throughput=T,je.reason.latency=x,ne.state=1,B(ne)}return je},reset:function(){ie(),re.off(E.Z.PLAYBACK_SEEKING,ee,v),re.off(E.Z.MEDIA_FRAGMENT_LOADED,le,v),re.off(E.Z.METRIC_ADDED,Q,v),re.off(E.Z.QUALITY_CHANGE_REQUESTED,he,v)}},j=(0,m.Z)(q).getInstance().getLogger(v),ie(),re.on(E.Z.PLAYBACK_SEEKING,ee,v),re.on(E.Z.MEDIA_FRAGMENT_LOADED,le,v),re.on(E.Z.METRIC_ADDED,Q,v),re.on(E.Z.QUALITY_CHANGE_REQUESTED,he,v),v}S.__dashjs_factory_name="L2ARule",o.Z=c.Z.getClassFactory(S)},6070:function(i,o,l){"use strict";var f=l(5448),u=l(6398),c=l(2068);function d(){var p,E,m=this.context;return p={getMaxIndex:function(C){for(var S=C?C.getSwitchHistory():null,h=S?S.getSwitchRequests():[],v=0,w=0,M=0,j=(0,c.Z)(m).create(),q=0;q<h.length;q++)if(h[q]!==void 0&&(v+=h[q].drops,w+=h[q].noDrops,M+=h[q].dropSize,v+w>=6&&v/w>.075)){j.quality=q>0&&h[q].drops>0?q-1:q,j.reason={index:j.quality,drops:v,noDrops:w,dropSize:M},E.debug("Switch history rule index: "+j.quality+" samples: "+(v+w)+" drops: "+v);break}return j}},E=(0,u.Z)(m).getInstance().getLogger(p),p}d.__dashjs_factory_name="SwitchHistoryRule",o.Z=f.Z.getClassFactory(d)},5628:function(i,o,l){"use strict";var f=l(5448),u=l(2068),c=l(3393),d=l(3860);function p(E){E=E||{};var m=this.context,C=E.dashMetrics;return{getMaxIndex:function(S){var h=(0,u.Z)(m).create();if(!(S&&S.hasOwnProperty("getMediaInfo")&&S.hasOwnProperty("getMediaType")&&S.hasOwnProperty("useBufferOccupancyABR")&&S.hasOwnProperty("getAbrController")&&S.hasOwnProperty("getScheduleController")))return h;(function(){if(!C||!C.hasOwnProperty("getCurrentBufferState"))throw new Error(c.Z.MISSING_CONFIG_ERROR)})();var v=S.getMediaInfo(),w=S.getMediaType(),M=C.getCurrentBufferState(w),j=S.getScheduleController(),q=S.getAbrController(),V=S.getStreamInfo(),re=V?V.id:null,B=V&&V.manifestInfo?V.manifestInfo.isDynamic:null,ee=q.getThroughputHistory(),le=ee.getSafeAverageThroughput(w,B),Q=ee.getAverageLatency(w),se=S.useBufferOccupancyABR();return isNaN(le)||!M||se||q.getAbandonmentStateFor(re,w)!==d.Z.ABANDON_LOAD&&(M.state===d.Z.BUFFER_LOADED||B)&&(h.quality=q.getQualityForBitrate(v,le,re,Q),j.setTimeToLoadDelay(0),h.reason={throughput:le,latency:Q}),h},reset:function(){}}}p.__dashjs_factory_name="ThroughputRule",o.Z=f.Z.getClassFactory(p)},4722:function(i,o,l){"use strict";var f=l(5448),u=l(6398);function c(){var d,p,E,m,C,S,h,v,w,M=this.context;function j(){E=null,m=1,C=100,S=0,h=null,v=null,w="dynamic_weight_selection"}function q(){var le=0;if(E)for(var Q=0;Q<E.length;Q++){var se=E[Q];se.state.throughput>le&&(le=se.state.throughput)}return le}function V(le,Q,se){var he=le.map(function(De,ie){return se[ie]*Math.pow(De-Q[ie],2)}).reduce(function(De,ie){return De+ie});return(he<0?-1:1)*Math.sqrt(Math.abs(he))}function re(le,Q){return V([le.state.throughput,le.state.latency,le.state.rebuffer,le.state.switch],[Q.state.throughput,Q.state.latency,Q.state.rebuffer,Q.state.switch],[1,1,1,1])}function B(le,Q,se){for(var he=0;he<Q.length;he++){var De=Q[he],ie=re(De,le);ee(De,se,Math.exp(-1*Math.pow(ie,2)/(2*Math.pow(.1,2))))}}function ee(le,Q,se){var he=le.state,De=[.01,.01,.01,.01];he.throughput=he.throughput+(Q[0]-he.throughput)*De[0]*se,he.latency=he.latency+(Q[1]-he.latency)*De[1]*se,he.rebuffer=he.rebuffer+(Q[2]-he.rebuffer)*De[2]*se,he.switch=he.switch+(Q[3]-he.switch)*De[3]*se}return d={getNextQuality:function(le,Q,se,he,De,ie,Se){var xe=se,je=he,Te=Q,Fe=function(J){if(!E){E=[];var Ne=J.bitrateList,rt=[];S=Ne[0].bandwidth,Ne.forEach(function(Ye){rt.push(Ye.bandwidth),Ye.bandwidth<S&&(S=Ye.bandwidth)}),Oe=rt.map(function(Ye){return Math.pow(Ye,2)}).reduce(function(Ye,we){return Ye+we}),m=Math.sqrt(Oe);for(var He=0;He<Ne.length;He++){var Ze={qualityIndex:He,bitrate:Ne[He].bandwidth,state:{throughput:Ne[He].bandwidth/m,latency:0,rebuffer:0,switch:0}};E.push(Ze)}v=function(Ye){var we=[],Le=function(Al){for(var Pt=[],Mt=0;Mt<Al;Mt++){var Nt=[Math.random()*q(),Math.random(),Math.random(),Math.random()];Pt.push(Nt)}return Pt}(Math.pow(Ye.length,2));we.push(Le[0]);for(var Pe=[1,1,1,1],ut=1;ut<Ye.length;ut++){for(var at=null,Bt=null,Tt=0;Tt<Le.length;Tt++){for(var Jt=Le[Tt],an=null,In=0;In<we.length;In++){var Cn=V(Jt,we[In],Pe);(an===null||Cn<an)&&(an=Cn)}(Bt===null||an>Bt)&&(at=Jt,Bt=an)}we.push(at)}for(var or=null,ti=null,gr=0;gr<we.length;gr++){for(var Hi=0,ni=0;ni<we.length;ni++)gr!==ni&&(Hi+=V(we[gr],we[ni],Pe));(or===null||Hi>or)&&(or=Hi,ti=gr)}var Si=[];for(Si.push(we[ti]),we.splice(ti,1);we.length>0;){for(var ho=null,Ci=null,So=0;So<we.length;So++){var Co=V(Si[0],we[So],Pe);(ho===null||Co<ho)&&(ho=Co,Ci=So)}Si.push(we[Ci]),we.splice(Ci,1)}return Si}(E)}var Oe;return E}(le),qe=Q/m;qe>1&&(qe=q()),se/=C,p.debug("getNextQuality called throughput:".concat(qe," latency:").concat(se," bufferSize:").concat(he," currentQualityIndex:").concat(ie," playbackRate:").concat(De));var Je=Fe[ie],Ie=Je.bitrate*Se.getSegmentDuration()/Te,Me=Math.max(0,Ie-je);if(je-Ie<Se.getMinBuffer())return p.debug("Buffer is low for bitrate= ".concat(Je.bitrate," downloadTime=").concat(Ie," currentBuffer=").concat(je," rebuffer=").concat(Me)),function(J,Ne){var rt=0,He=J;if(E)for(var Ze=0;Ze<E.length;Ze++){var Oe=E[Ze];Oe.bitrate<J.bitrate&&Oe.bitrate>rt&&Ne>Oe.bitrate&&(rt=Oe.bitrate,He=Oe)}return He}(Je,Te).qualityIndex;switch(w){case"manual_weight_selection":h=[.4,.4,.4,.4];break;case"random_weight_selection":(function(J){h=function(Ne,rt){for(var He=[],Ze=Math.sqrt(2/Ne),Oe=0;Oe<4;Oe++)He.push(Math.random()*Ze);return h=He}(J.length)})(Fe);break;default:(function(J,Ne,rt,He,Ze,Oe,Ye){h||(h=v[v.length-1]);var we=J.findWeightVector(Ne,rt,He,Ze,Oe,Ye);we!==null&&we!==-1&&(h=we)})(Se,Fe,xe,je,Me,Te,De)}for(var At=null,vt=null,ze=null,it=0;it<Fe.length;it++){var me=Fe[it],Ee=me.state,$e=[Ee.throughput,Ee.latency,Ee.rebuffer,Ee.switch],T=h.slice(),y=Se.getNextBufferWithBitrate(me.bitrate,je,Te),x=y<Se.getMinBuffer();x&&p.debug("Buffer is low for bitrate=".concat(me.bitrate," downloadTime=").concat(Ie," currentBuffer=").concat(je," nextBuffer=").concat(y)),(me.bitrate>Q-1e4||x)&&me.bitrate!==S&&(T[0]=100);var R=V($e,[qe,0,0,0],T);(At===null||R<At)&&(At=R,vt=me.qualityIndex,ze=me)}var ne=Math.abs(Je.bitrate-ze.bitrate)/m;return B(Je,Fe,[qe,se,Me,ne]),B(ze,Fe,[qe,0,0,ne]),vt},reset:function(){j()}},p=(0,u.Z)(M).getInstance().getLogger(d),j(),d}c.__dashjs_factory_name="LearningAbrController",o.Z=f.Z.getClassFactory(c)},5317:function(i,o,l){"use strict";var f=l(5448),u=l(2298);function c(){var d,p,E,m,C;function S(){p=null,E=null,m=null,C=null}function h(w,M,j,q){var V=new u.Z;return V.type=w,V.weights.bitrateReward=M||1,V.weights.bitrateSwitchPenalty=1,V.weights.rebufferPenalty=j||1e3,V.weights.latencyPenalty=[],V.weights.latencyPenalty.push({threshold:1.1,penalty:.05*q}),V.weights.latencyPenalty.push({threshold:1e8,penalty:.1*j}),V.weights.playbackSpeedPenalty=q||200,V}function v(w,M,j,q,V){V.bitrateWSum+=V.weights.bitrateReward*w,V.lastBitrate&&(V.bitrateSwitchWSum+=V.weights.bitrateSwitchPenalty*Math.abs(w-V.lastBitrate)),V.lastBitrate=w,V.rebufferWSum+=V.weights.rebufferPenalty*M;for(var re=0;re<V.weights.latencyPenalty.length;re++){var B=V.weights.latencyPenalty[re];if(j<=B.threshold){V.latencyWSum+=B.penalty*j;break}}V.playbackSpeedWSum+=V.weights.playbackSpeedPenalty*Math.abs(1-q),V.totalQoe=V.bitrateWSum-V.bitrateSwitchWSum-V.rebufferWSum-V.latencyWSum-V.playbackSpeedWSum}return d={setupPerSegmentQoe:function(w,M,j){p=h("segment",w,M,j),E=w,m=M,C=j},logSegmentMetrics:function(w,M,j,q){p&&v(w,M,j,q,p)},getPerSegmentQoe:function(){return p},calculateSingleUseQoe:function(w,M,j,q){var V=null;return E&&m&&C&&(V=h("segment",E,m,C)),V?(v(w,M,j,q,V),V.totalQoe):0},reset:function(){S()}},S(),d}c.__dashjs_factory_name="LoLpQoeEvaluator",o.Z=f.Z.getClassFactory(c)},5435:function(i,o,l){"use strict";var f=l(6398),u=l(5448),c=l(4722),d=l(5317),p=l(2068),E=l(3860),m=l(6523),C=l(3393);function S(h){var v,w,M,j,q=(h=h||{}).dashMetrics,V=this.context;return w={getMaxIndex:function(re){try{var B=(0,p.Z)(V).create(),ee=re.getMediaInfo().type,le=re.getAbrController(),Q=re.getStreamInfo(),se=le.getQualityFor(ee,Q.id),he=re.getMediaInfo(),De=q.getCurrentBufferState(ee),ie=re.getScheduleController(),Se=q.getCurrentBufferLevel(ee,!0),xe=Q&&Q.manifestInfo?Q.manifestInfo.isDynamic:null,je=ie.getPlaybackController(),Te=je.getCurrentLiveLatency();if(!re.useLoLPABR()||ee===C.Z.AUDIO)return B;Te||(Te=0);var Fe=je.getPlaybackRate(),qe=le.getThroughputHistory().getSafeAverageThroughput(ee,xe);if(v.debug("Throughput ".concat(Math.round(qe)," kbps")),isNaN(qe)||!De||le.getAbandonmentStateFor(Q.id,ee)===E.Z.ABANDON_LOAD)return B;for(var Je=he.bitrateList,Ie=re.getRepresentationInfo().fragmentDuration,Me=Je[0].bandwidth/1e3,At=Je[Je.length-1].bandwidth/1e3,vt=0;vt<Je.length;vt++){var ze=Je[vt].bandwidth/1e3;ze>At?At=ze:ze<Me&&(Me=ze)}var it=Je[se].bandwidth/1e3,me=q.getCurrentHttpRequest(ee,!0),Ee=(me.tresponse.getTime()-me.trequest.getTime())/1e3,$e=Ee>Ie?Ee-Ie:0;j.setupPerSegmentQoe(Ie,At,Me),j.logSegmentMetrics(it,$e,Te,Fe);var T=(0,m.Z)(V).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Ie,qoeEvaluator:j});return B.quality=M.getNextQuality(he,1e3*qe,Te,Se,Fe,se,T),B.reason={throughput:qe,latency:Te},B.priority=p.Z.PRIORITY.STRONG,ie.setTimeToLoadDelay(0),B.quality!==se&&v.debug("[TgcLearningRule]["+ee+"] requesting switch to index: ",B.quality,"Average throughput",Math.round(qe),"kbps"),B}catch(y){throw y}},reset:function(){M.reset(),j.reset()}},v=(0,f.Z)(V).getInstance().getLogger(w),M=(0,c.Z)(V).create(),j=(0,d.Z)(V).create(),w}S.__dashjs_factory_name="LoLPRule",o.Z=u.Z.getClassFactory(S)},6523:function(i,o,l){"use strict";var f=l(5448);function u(c){var d,p,E,m,C=c.targetLatency,S=c.bufferMin,h=c.segmentDuration,v=c.qoeEvaluator;function w(){return h}function M(j,q){var V=w();return q>V?j-V:j+V-q}return d={getMinBuffer:function(){return S},getSegmentDuration:w,getNextBufferWithBitrate:function(j,q,V){return M(q,j*h/V)},getNextBuffer:M,findWeightVector:function(j,q,V,re,B,ee){var le=null,Q=null,se=null,he=Math.abs(q-E);return j.forEach(function(De){p.forEach(function(ie){ie[0];var Se=ie[1],xe=ie[2],je=(ie[3],De.bitrate*h/B),Te=M(V,je),Fe=(xe===0?10:1/xe)*Math.max(1e-5,je-Te),qe=(Se===0?10:1/Se)*De.state.latency,Je=v.calculateSingleUseQoe(De.bitrate,Fe,qe,ee);(le===null||Je>le)&&function(Ie,Me,At){return!(Ie>C+At)&&Me>=S}(q,Te,he)&&(le=Je,Q=ie,se=De.bitrate)})}),Q===null&&se===null&&(Q=-1),E=q,Q}},p=function j(q,V,re){if(re===V)return q;for(var B=q.length,ee=0;ee<B;ee++)for(var le=q.shift(),Q=0;Q<m.length;Q++)q.push(le.concat(m[Q]));return j(q,V,re+1)}((m=[.2,.4,.6,.8,1]).map(function(j){return[j]}),4,1),E=0,d}u.__dashjs_factory_name="LoLpWeightSelector",o.Z=f.Z.getClassFactory(u)},2298:function(i,o){"use strict";o.Z=function l(){(function(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")})(this,l),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:function(i,o,l){"use strict";l.d(o,{Y:function(){return v}});var f=l(3393),u=l(1553),c=l(5448),d=l(2128),p=l(2594),E=l(7387),m=l(7417),C=l(9032),S=l(9326),h=l(7802),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function w(M){var j,q,V,re,B,ee,le,Q,se=this.context,he=M.adapter,De=M.baseURLController,ie=M.streamInfo,Se=M.timelineConverter,xe=M.debug,je=M.eventBus,Te=M.events,Fe=M.dashConstants,qe=(0,p.Z)(se).getInstance();function Je(Me,At){var vt=new d.Z;vt.id=Me.id,vt.bitrate=Me.bandwidth,vt.width=Me.width,vt.height=Me.height,vt.tilesHor=1,vt.tilesVert=1,Me.essentialProperties&&Me.essentialProperties.forEach(function(ze){if(v.indexOf(ze.schemeIdUri)>=0&&ze.value){var it=ze.value.split("x");it.length!==2||isNaN(it[0])||isNaN(it[1])||(vt.tilesHor=parseInt(it[0],10),vt.tilesVert=parseInt(it[1],10))}}),At?ee.updateSegmentData(Me).then(function(ze){(function(it,me,Ee){var $e=[],T=function(y,x){var R,ne,J,Ne,rt=[],He=0;for(R=0,ne=y.segments.length;R<ne;R++)J=y.segments[R],(Ne=(0,E.TJ)(Se,he.getIsDynamic(),x,J.startTime,J.duration,J.timescale,J.media,J.mediaRange,He))&&(rt.push(Ne),Ne=null,He++);return rt}(Ee,me);me.segments=T,it.segmentDuration=me.segments[0].duration,it.readThumbnail=function(y,x){var R=null;$e.some(function(ne){if(ne.start<=y&&ne.end>y)return R=ne.url,!0}),R?x(R):me.segments.some(function(ne){if(ne.mediaStartTime<=y&&ne.mediaStartTime+ne.duration>y){var J=De.resolve(me.path);return le.load({method:"get",url:J.url,request:{range:ne.mediaRange,responseType:"arraybuffer"},onload:function(Ne){var rt=Q.getSamplesInfo(Ne.target.response),He=new Blob([Ne.target.response.slice(rt.sampleList[0].offset,rt.sampleList[0].offset+rt.sampleList[0].size)],{type:"image/jpeg"}),Ze=window.URL.createObjectURL(He);$e.push({start:ne.mediaStartTime,end:ne.mediaStartTime+ne.duration,url:Ze}),x&&x(Ze)}}),!0}})}})(vt,Me,ze)}):(vt.startNumber=Me.startNumber,vt.segmentDuration=Me.segmentDuration,vt.timescale=Me.timescale,vt.templateUrl=function(ze){var it=qe.isRelative(ze.media)?qe.resolve(ze.media,De.resolve(ze.path).url):ze.media;return it?(0,E.Aj)(it,ze.id):""}(Me)),vt.tilesHor>0&&vt.tilesVert>0&&(vt.widthPerTile=vt.width/vt.tilesHor,vt.heightPerTile=vt.height/vt.tilesVert,q.push(vt))}function Ie(){q=[],re=-1,B=null}return j={getTracks:function(){return q},addTracks:function(){if(ie&&he&&(B=he.getMediaInfoForType(ie,f.Z.IMAGE))){var Me=he.getVoRepresentations(B);Me&&Me.length>0&&Me.forEach(function(At){(At.segmentInfoType===u.Z.SEGMENT_TEMPLATE&&At.segmentDuration>0&&At.media||At.segmentInfoType===u.Z.SEGMENT_TIMELINE)&&Je(At),At.segmentInfoType===u.Z.SEGMENT_BASE&&Je(At,!0)}),q.length>0&&q.sort(function(At,vt){return At.bitrate-vt.bitrate})}},reset:Ie,setTrackByIndex:function(Me){q&&q.length!==0&&(Me>=q.length&&(Me=q.length-1),re=Me)},getCurrentTrack:function(){return re<0?null:q[re]},getCurrentTrackIndex:function(){return re},getThumbnailRequestForTime:function(Me){for(var At,vt=he.getVoRepresentations(B),ze=0;ze<vt.length;ze++)if(q[re].id===vt[ze].id){At=vt[ze];break}return V.getSegmentRequestForTime(B,At,Me)}},Ie(),le=(0,C.Z)(se).create({}),Q=(0,m.Z)(se).getInstance(),ee=(0,h.Z)(se).create({events:Te,eventBus:je,streamInfo:ie,timelineConverter:Se,dashConstants:Fe,dashMetrics:M.dashMetrics,segmentBaseController:M.segmentBaseController,type:f.Z.IMAGE}),(V=(0,S.Z)(se).create({streamInfo:ie,type:f.Z.IMAGE,timelineConverter:Se,segmentsController:ee,baseURLController:De,debug:xe,eventBus:je,events:Te,dashConstants:Fe,urlUtils:qe})).initialize(!!he&&he.getIsDynamic()),j}w.__dashjs_factory_name="ThumbnailTracks",o.Z=c.Z.getClassFactory(w)},7417:function(i,o,l){"use strict";var f=l(6398),u=l(8260),c=l(5448),d=l(6934),p=l(9597);function E(){var m,C,S=this.context;function h(M){if(!M)return null;M.fileStart===void 0&&(M.fileStart=0);var j=d.parseBuffer(M),q=(0,u.Z)(S).create();return q.setData(j),q}function v(M,j){return M[j+3]>>>0|M[j+2]<<8>>>0|M[j+1]<<16>>>0|M[j]<<24>>>0}function w(M,j){return String.fromCharCode(M[j++])+String.fromCharCode(M[j++])+String.fromCharCode(M[j++])+String.fromCharCode(M[j])}return C={parse:h,findLastTopIsoBoxCompleted:function(M,j,q){if(q===void 0&&(q=0),!j||q+8>=j.byteLength)return new p.Z(0,!1);for(var V,re=j instanceof ArrayBuffer?new Uint8Array(j):j,B=0;q<re.byteLength;){var ee=v(re,q),le=w(re,q+4);if(ee===0)break;q+ee<=re.byteLength&&(M.indexOf(le)>=0?V=new p.Z(q,!0,ee):B=q+ee),q+=ee}return V||new p.Z(B,!1)},getMediaTimescaleFromMoov:function(M){var j=h(M),q=j?j.getBox("mdhd"):void 0;return q?q.timescale:NaN},getSamplesInfo:function(M){if(!M||M.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var j,q,V,re,B,ee,le,Q,se,he,De,ie,Se,xe,je,Te,Fe=h(M),qe=Fe.getBoxes("moof"),Je=Fe.getBoxes("mfhd");je=Fe.getBoxes("moof").length,xe=Je[Je.length-1].sequence_number,q=0,B=[];var Ie=-1,Me=-1;for(he=0;he<qe.length;he++){var At=qe[he],vt=At.getChildBoxes("traf");for(Q=0;Q<vt.length;Q++){var ze=vt[Q],it=ze.getChildBox("tfhd"),me=ze.getChildBox("tfdt");re=me.baseMediaDecodeTime;var Ee=ze.getChildBoxes("trun"),$e=ze.getChildBoxes("subs");for(se=0;se<Ee.length;se++){var T=Ee[se];for(q=T.sample_count,Se=(it.base_data_offset||0)+(T.data_offset||0),le=0;le<q;le++){j=(ee=T.samples[le]).sample_duration!==void 0?ee.sample_duration:it.default_sample_duration,V=ee.sample_size!==void 0?ee.sample_size:it.default_sample_size;var y={dts:re,cts:re+(ee.sample_composition_time_offset!==void 0?ee.sample_composition_time_offset:0),duration:j,offset:At.offset+Se,size:V,subSizes:[V]};if($e)for(De=0;De<$e.length;De++){var x=$e[De];if(Ie<x.entry_count-1&&le>Me&&(Ie++,Me+=x.entries[Ie].sample_delta),le==Me){y.subSizes=[];var R=x.entries[Ie];for(ie=0;ie<R.subsample_count;ie++)y.subSizes.push(R.subsamples[ie].subsample_size)}}B.push(y),Se+=V,re+=j}}Te=re-me.baseMediaDecodeTime}}return{sampleList:B,lastSequenceNumber:xe,totalDuration:Te,numSequences:je}},findInitRange:function(M){var j=null,q=h(M);if(!q)return j;var V=q.getBox("ftyp"),re=q.getBox("moov");return m.debug("Searching for initialization."),re&&re.isComplete&&(j=(V?V.offset:re.offset)+"-"+(re.offset+re.size-1),m.debug("Found the initialization.  Range: "+j)),j},parsePayload:function(M,j,q){if(q===void 0&&(q=0),!j||q+8>=j.byteLength)return new p.Z(0,!1);for(var V,re=j instanceof ArrayBuffer?new Uint8Array(j):j,B=0;q<re.byteLength;){var ee=v(re,q),le=w(re,q+4);if(ee===0)break;q+ee<=re.byteLength&&(M.indexOf(le)>=0?V=new p.Z(q,!0,ee,le):B=q+ee),q+=ee}return V||new p.Z(B,!1)}},m=(0,f.Z)(S).getInstance().getLogger(C),C}E.__dashjs_factory_name="BoxParser",o.Z=c.Z.getSingletonFactory(E)},1715:function(i,o,l){"use strict";l.d(o,{B:function(){return p}});var f=l(5448),u=l(7803),c=l(3393),d=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function p(){var m="ManagedMediaSource"in window,C="WebKitMediaSource"in window,S="MediaSource"in window;return m||C||S}function E(){var m,C,S;return m={setConfig:function(h){h&&h.settings&&(C=h.settings)},supportsMediaSource:p,supportsEncryptedMedia:function(){return S},supportsCodec:function(h,v){return v!==c.Z.AUDIO&&v!==c.Z.VIDEO?Promise.resolve(!0):function(w,M){return C.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(w.codec&&M===c.Z.AUDIO||M===c.Z.VIDEO&&w.codec&&w.width&&w.height&&w.bitrate&&w.framerate)}(h,v)?function(w,M){return new Promise(function(j){if(w&&w.codec){var q={type:"media-source"};q[M]={},q[M].contentType=w.codec,q[M].width=w.width,q[M].height=w.height,q[M].bitrate=parseInt(w.bitrate),q[M].framerate=parseFloat(w.framerate),navigator.mediaCapabilities.decodingInfo(q).then(function(V){j(V.supported)}).catch(function(){j(!1)})}else j(!1)})}(h,v):function(w){return new Promise(function(M){if(w&&w.codec){var j=w.codec;w.width&&w.height&&(j+=';width="'+w.width+'";height="'+w.height+'"'),"ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(j)||"MediaSource"in window&&MediaSource.isTypeSupported(j)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(j)?M(!0):M(!1)}else M(!1)})}(h)},setEncryptedMediaSupported:function(h){S=h},supportsEssentialProperty:function(h){try{return u.Y.indexOf(h.schemeIdUri)!==-1||c.Z.FONT_DOWNLOAD_DVB_SCHEME===h.schemeIdUri}catch{return!0}},codecRootCompatibleWithCodec:function(h,v){for(var w,M=h.split(".")[0],j=v.indexOf(M)===0,q=0;q<d.length;q++)if(d[q].codec===M){w=d[q];break}return w?j||w.compatibleCodecs.some(function(V){return v.indexOf(V)===0}):j}},S=!1,m}E.__dashjs_factory_name="Capabilities",o.Z=f.Z.getSingletonFactory(E)},2295:function(i,o,l){"use strict";var f=l(5448),u=l(3106);function c(){return{customTimeRangeArray:[],length:0,add:function(d,p){var E;for(E=0;E<this.customTimeRangeArray.length&&d>this.customTimeRangeArray[E].start;E++);for(this.customTimeRangeArray.splice(E,0,{start:d,end:p}),E=0;E<this.customTimeRangeArray.length-1;E++)this.mergeRanges(E,E+1)&&E--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(d,p){for(var E=0;E<this.customTimeRangeArray.length;E++)if(d<=this.customTimeRangeArray[E].start&&p>=this.customTimeRangeArray[E].end)this.customTimeRangeArray.splice(E,1),E--;else{if(d>this.customTimeRangeArray[E].start&&p<this.customTimeRangeArray[E].end){this.customTimeRangeArray.splice(E+1,0,{start:p,end:this.customTimeRangeArray[E].end}),this.customTimeRangeArray[E].end=d;break}d>this.customTimeRangeArray[E].start&&d<this.customTimeRangeArray[E].end?this.customTimeRangeArray[E].end=d:p>this.customTimeRangeArray[E].start&&p<this.customTimeRangeArray[E].end&&(this.customTimeRangeArray[E].start=p)}this.length=this.customTimeRangeArray.length},mergeRanges:function(d,p){var E=this.customTimeRangeArray[d],m=this.customTimeRangeArray[p];return E.start<=m.start&&m.start<=E.end&&E.end<=m.end?(E.end=m.end,this.customTimeRangeArray.splice(p,1),!0):m.start<=E.start&&E.start<=m.end&&m.end<=E.end?(E.start=m.start,this.customTimeRangeArray.splice(p,1),!0):m.start<=E.start&&E.start<=m.end&&E.end<=m.end?(this.customTimeRangeArray.splice(d,1),!0):E.start<=m.start&&m.start<=E.end&&m.end<=E.end&&(this.customTimeRangeArray.splice(p,1),!0)},start:function(d){return(0,u.SE)(d),d>=this.customTimeRangeArray.length||d<0?NaN:this.customTimeRangeArray[d].start},end:function(d){return(0,u.SE)(d),d>=this.customTimeRangeArray.length||d<0?NaN:this.customTimeRangeArray[d].end}}}c.__dashjs_factory_name="CustomTimeRanges",o.Z=f.Z.getClassFactory(c)},5:function(i,o,l){"use strict";var f=l(5448);function u(){var c,d=/^[a-z][a-z0-9+\-_.]*:/i,p=/^https?:\/\//i,E=/^https:\/\//i,m=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,C=function(V,re){try{return new window.URL(V,re).toString()}catch{return V}},S=function(V,re){var B=h;if(!re||!M(V))return V;j(V)&&(B=v),q(V)&&(B=w);var ee=B(re),le=ee.charAt(ee.length-1)!=="/"&&V.charAt(0)!=="/"?"/":"";return[ee,V].join(le)};function h(V){var re=V.indexOf("/"),B=V.lastIndexOf("/");return re!==-1?B===re+1?V:(V.indexOf("?")!==-1&&(V=V.substring(0,V.indexOf("?"))),V.substring(0,B+1)):""}function v(V){var re=V.match(m);return re?re[1]:""}function w(V){var re=V.match(d);return re?re[0]:""}function M(V){return!d.test(V)}function j(V){return M(V)&&V.charAt(0)==="/"}function q(V){return V.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),c=C}catch{}finally{c=c||S}}(),{parseBaseUrl:h,parseOrigin:v,parseScheme:w,isRelative:M,isPathAbsolute:j,isSchemeRelative:q,isHTTPURL:function(V){return p.test(V)},isHTTPS:function(V){return E.test(V)},removeHostname:function(V){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(V)[2].substring(1)},resolve:function(V,re){return c(V,re)}}}u.__dashjs_factory_name="DefaultURLUtils",o.Z=f.Z.getSingletonFactory(u)},8260:function(i,o,l){"use strict";var f=l(2839),u=l(5448);function c(){var d;function p(m){var C=[];if(!m||!d||typeof d.fetchAll!="function")return C;for(var S,h=d.fetchAll(m),v=0,w=h.length;v<w;v++)(S=E(h[v]))&&C.push(S);return C}function E(m){if(!m)return null;var C=new f.Z(m);return m.hasOwnProperty("_incomplete")&&(C.isComplete=!m._incomplete),C}return{getBox:function(m){return m&&d&&d.boxes&&d.boxes.length!==0&&typeof d.fetch=="function"?E(d.fetch(m)):null},getBoxes:p,setData:function(m){d=m},getLastBox:function(){if(!d||!d.boxes||!d.boxes.length)return null;var m=p(d.boxes[d.boxes.length-1].type);return m.length>0?m[m.length-1]:null}}}c.__dashjs_factory_name="IsoFile",o.Z=u.Z.getClassFactory(c)},7473:function(i,o,l){"use strict";l.d(o,{k:function(){return u}});var f=l(5448);function u(d,p){var E={url:d.url,method:d.method,headers:Object.assign({},d.headers),credentials:d.withCredentials?"include":void 0,range:d.request.range};return Promise.resolve(p.modifyRequest(E)).then(function(){return Object.assign(d,E,{withCredentials:E.credentials==="include"})})}function c(){return{modifyRequest:null,modifyRequestURL:function(d){return d},modifyRequestHeader:function(d,p){return p.url,d}}}c.__dashjs_factory_name="RequestModifier",o.Z=f.Z.getSingletonFactory(c)},3106:function(i,o,l){"use strict";l.d(o,{PS:function(){return c},SE:function(){return d}});var f=l(3393);function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(p)}function c(p,E){if(u(p)!==E)throw f.Z.BAD_ARGUMENT_ERROR}function d(p){if(p===null||isNaN(p)||p%1!=0)throw f.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:function(i,o,l){"use strict";var f=l(5448),u=l(5);function c(){var p,E=[],m=this.context;function C(S,h,v){var w=function(M){var j;for(j=0;j<E.length;j++)if(E[j].regex.test(M))return E[j].utils;return p}(v||h);return w&&typeof w[S]=="function"?w[S](h,v):p[S](h,v)}return p=(0,u.Z)(m).getInstance(),{registerUrlRegex:function(S,h){E.push({regex:S,utils:h})},parseBaseUrl:function(S){return C("parseBaseUrl",S)},parseOrigin:function(S){return C("parseOrigin",S)},parseScheme:function(S){return C("parseScheme",S)},isRelative:function(S){return C("isRelative",S)},isPathAbsolute:function(S){return C("isPathAbsolute",S)},isSchemeRelative:function(S){return C("isSchemeRelative",S)},isHTTPURL:function(S){return C("isHTTPURL",S)},isHTTPS:function(S){return C("isHTTPS",S)},removeHostname:function(S){return C("removeHostname",S)},resolve:function(S,h){return C("resolve",S,h)}}}c.__dashjs_factory_name="URLUtils";var d=f.Z.getSingletonFactory(c);o.Z=d},5459:function(i,o){"use strict";o.Z=function l(f,u,c){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l),this.code=f||null,this.message=u||null,this.data=c||null}},3186:function(i,o,l){"use strict";var f=l(7855);function u(d,p){for(var E=0;E<p.length;E++){var m=p[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}var c=function(){function d(m){(function(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,d),this.action=d.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=m||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var p,E;return p=d,(E=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===f.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(m){this.type=m&&m.init?f.w.INIT_SEGMENT_TYPE:f.w.MEDIA_SEGMENT_TYPE,this.url=m&&m.url?m.url:null,this.range=m&&m.range?m.range.start+"-"+m.range.end:null,this.mediaType=m&&m.mediaType?m.mediaType:null}}])&&u(p.prototype,E),d}();c.ACTION_DOWNLOAD="download",c.ACTION_COMPLETE="complete",o.Z=c},2839:function(i,o){"use strict";function l(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var f=function(){function u(p){if(function(w,M){if(!(w instanceof M))throw new TypeError("Cannot call a class as a function")}(this,u),this.offset=p._offset,this.type=p.type,this.size=p.size,this.boxes=[],p.boxes)for(var E=0;E<p.boxes.length;E++)this.boxes.push(new u(p.boxes[E]));switch(this.isComplete=!0,p.type){case"sidx":if(this.timescale=p.timescale,this.earliest_presentation_time=p.earliest_presentation_time,this.first_offset=p.first_offset,this.references=p.references,p.references){this.references=[];for(var m=0;m<p.references.length;m++){var C={reference_type:p.references[m].reference_type,referenced_size:p.references[m].referenced_size,subsegment_duration:p.references[m].subsegment_duration};this.references.push(C)}}break;case"emsg":this.id=p.id,this.version=p.version===1?1:0,this.value=p.value,this.timescale=p.timescale,this.scheme_id_uri=p.scheme_id_uri,this.presentation_time_delta=p.version===1?p.presentation_time:p.presentation_time_delta,this.event_duration=p.event_duration,this.message_data=p.message_data;break;case"mdhd":this.timescale=p.timescale;break;case"mfhd":this.sequence_number=p.sequence_number;break;case"subs":this.entry_count=p.entry_count,this.entries=p.entries;break;case"tfhd":this.base_data_offset=p.base_data_offset,this.sample_description_index=p.sample_description_index,this.default_sample_duration=p.default_sample_duration,this.default_sample_size=p.default_sample_size,this.default_sample_flags=p.default_sample_flags,this.flags=p.flags;break;case"tfdt":this.version=p.version,this.baseMediaDecodeTime=p.baseMediaDecodeTime,this.flags=p.flags;break;case"trun":if(this.sample_count=p.sample_count,this.first_sample_flags=p.first_sample_flags,this.data_offset=p.data_offset,this.flags=p.flags,this.samples=p.samples,p.samples){this.samples=[];for(var S=0,h=p.samples.length;S<h;S++){var v={sample_size:p.samples[S].sample_size,sample_duration:p.samples[S].sample_duration,sample_composition_time_offset:p.samples[S].sample_composition_time_offset};this.samples.push(v)}}break;case"prft":this.version=p.version,this.reference_track_ID=p.reference_track_ID,this.ntp_timestamp_sec=p.ntp_timestamp_sec,this.ntp_timestamp_frac=p.ntp_timestamp_frac,this.media_time=p.media_time,this.flags=p.flags}}var c,d;return c=u,(d=[{key:"getChildBox",value:function(p){for(var E=0;E<this.boxes.length;E++)if(this.boxes[E].type===p)return this.boxes[E]}},{key:"getChildBoxes",value:function(p){for(var E=[],m=0;m<this.boxes.length;m++)this.boxes[m].type===p&&E.push(this.boxes[m]);return E}}])&&l(c.prototype,d),u}();o.Z=f},9597:function(i,o){"use strict";o.Z=function l(f,u,c){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l),this.lastCompletedOffset=f,this.found=u,this.size=c}},2128:function(i,o){"use strict";o.Z=function l(){(function(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")})(this,l),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:function(i,o,l){"use strict";function f(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}l.d(o,{O:function(){return c},w:function(){return u}});var u=function d(){f(this,d),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},c=function d(){f(this,d),this.s=null,this.d=null,this.b=[]};u.GET="GET",u.HEAD="HEAD",u.MPD_TYPE="MPD",u.XLINK_EXPANSION_TYPE="XLinkExpansion",u.INIT_SEGMENT_TYPE="InitializationSegment",u.INDEX_SEGMENT_TYPE="IndexSegment",u.MEDIA_SEGMENT_TYPE="MediaSegment",u.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",u.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",u.DVB_REPORTING_TYPE="DVBReporting",u.LICENSE="license",u.CONTENT_STEERING_TYPE="ContentSteering",u.OTHER_TYPE="other"},3039:function(i,o){"use strict";function l(u,c){return function(d,p){for(var E,m,C,S=f(d,"tag"),h=f(p??"*","range"),v=[],w=-1;++w<h.length;)if(E=h[w].toLowerCase(),c||E!=="*"){for(m=-1,C=[];++m<S.length;)if(u(S[m].toLowerCase(),E)){if(!c)return S[m];v.push(S[m])}else C.push(S[m]);S=C}return c?v:void 0}}function f(u,c){var d=u&&typeof u=="string"?[u]:u;if(!d||typeof d!="object"||!("length"in d))throw new Error("Invalid "+c+" `"+d+"`, expected non-empty string");return d}o.basicFilter=l(function(u,c){return c==="*"||u===c||u.indexOf(c+"-")>-1},!0),o.extendedFilter=l(function(u,c){var d=u.split("-"),p=c.split("-"),E=0,m=0;if(p[m]!=="*"&&d[E]!==p[m])return!1;for(E++,m++;m<p.length;)if(p[m]!=="*"){if(!d[E])return!1;if(d[E]!==p[m]){if(d[E].length===1)return!1;E++}else E++,m++}else m++;return!0},!0),o.lookup=l(function(u,c){for(var d,p=c;;){if(p==="*"||u===p)return!0;if((d=p.lastIndexOf("-"))<0)return!1;p.charAt(d-2)==="-"&&(d-=2),p=p.slice(0,d)}})},3973:function(i,o,l){"use strict";i.exports=l(3854)},3854:function(i,o,l){"use strict";var f=l(2415),u=l(3039),c=l(7778),d=l(5813),p=l(3165),E=l(9460);i.exports=function(j,q){var V,re=q||{},B=f.parse(String(j||"").toLowerCase(),re),ee=f.stringify(B),le=-1;if(!ee)return ee;for(;++le<c.length;)u.extendedFilter(ee,c[le].from).length&&(h(B,c[le].from,c[le].to),ee=f.stringify(B));for(le=-1;++le<d.length;)v(B,d[le].from.field,d[le].from.value)&&w(B,d[le].to.field,d[le].to.value);for(ee=f.stringify(Object.assign({},B,S)),le=-1;++le<p.length;)ee===p[le]&&(h(B,p[le],p[le].split("-").slice(0,-1).join("-")),ee=f.stringify(Object.assign({},B,S)));if(B.extensions.sort(M),re.warning)for(V in E)m.call(E[V],B[V])&&re.warning("Deprecated "+V+" `"+B[V]+"`, expected one of `"+E[V][B[V]].join("`, `")+"`",null,7);return B.script&&(B.script=B.script.charAt(0).toUpperCase()+B.script.slice(1)),B.region&&(B.region=B.region.toUpperCase()),f.stringify(B)};var m={}.hasOwnProperty,C=new Intl.Collator,S={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function h(j,q,V){var re,B=f.parse(q),ee=f.parse(V),le=[];for(re in B)B[re]&&B[re].length&&v(j,re,B[re])&&le.push(re);for(re in ee)ee[re]&&ee[re].length&&(le.indexOf(re)>-1||!j[re]||!j[re].length)&&w(j,re,ee[re])}function v(j,q,V){var re,B,ee,le,Q=!1;if(V){if(B=re=j[q],re&&typeof re=="object")for(B=[],ee=-1;++ee<re.length;)le=re[ee],V.indexOf(le)<0?B.push(le):Q=!0;else re===V&&(B=null,Q=!0);j[q]=B}return Q}function w(j,q,V){var re,B,ee,le=j[q];if(le&&typeof le=="object")for(re=[].concat(V),B=-1;++B<re.length;)ee=re[B],le.indexOf(ee)<0&&le.push(ee);else j[q]=V}function M(j,q){return C.compare(j.singleton,q.singleton)}},2415:function(i,o,l){"use strict";o.parse=l(6903),o.stringify=l(6713)},6903:function(i,o,l){"use strict";var f=l(2219),u=l(3516),c=l(395),d=l(858),p=l(8589);i.exports=function m(C,S){var h,v,w,M=S||{},j={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},q=String(C),V=q.toLowerCase(),re=0;if(C==null)throw new Error("Expected string, got `"+C+"`");if(E.call(p,V))return(M.normalize==null||M.normalize)&&p[V]?m(p[V]):(j[d.indexOf(V)===-1?"irregular":"regular"]=q,j);for(;u(V.charCodeAt(re))&&re<9;)re++;if(re>1&&re<9){if(j.language=q.slice(0,re),re<4)for(v=0;V.charCodeAt(re)===45&&u(V.charCodeAt(re+1))&&u(V.charCodeAt(re+2))&&u(V.charCodeAt(re+3))&&!u(V.charCodeAt(re+4));){if(v>2)return B(re,3,"Too many extended language subtags, expected at most 3 subtags");j.extendedLanguageSubtags.push(q.slice(re+1,re+4)),re+=4,v++}for(V.charCodeAt(re)===45&&u(V.charCodeAt(re+1))&&u(V.charCodeAt(re+2))&&u(V.charCodeAt(re+3))&&u(V.charCodeAt(re+4))&&!u(V.charCodeAt(re+5))&&(j.script=q.slice(re+1,re+5),re+=5),V.charCodeAt(re)===45&&(u(V.charCodeAt(re+1))&&u(V.charCodeAt(re+2))&&!u(V.charCodeAt(re+3))?(j.region=q.slice(re+1,re+3),re+=3):c(V.charCodeAt(re+1))&&c(V.charCodeAt(re+2))&&c(V.charCodeAt(re+3))&&!c(V.charCodeAt(re+4))&&(j.region=q.slice(re+1,re+4),re+=4));V.charCodeAt(re)===45;){for(w=h=re+1;f(V.charCodeAt(w));){if(w-h>7)return B(w,1,"Too long variant, expected at most 8 characters");w++}if(!(w-h>4||w-h>3&&c(V.charCodeAt(h))))break;j.variants.push(q.slice(h,w)),re=w}for(;V.charCodeAt(re)===45&&V.charCodeAt(re+1)!==120&&f(V.charCodeAt(re+1))&&V.charCodeAt(re+2)===45&&f(V.charCodeAt(re+3));){for(w=re+2,v=0;V.charCodeAt(w)===45&&f(V.charCodeAt(w+1))&&f(V.charCodeAt(w+2));)for(w=(h=w+1)+2,v++;f(V.charCodeAt(w));){if(w-h>7)return B(w,2,"Too long extension, expected at most 8 characters");w++}if(!v)return B(w,4,"Empty extension, extensions must have at least 2 characters of content");j.extensions.push({singleton:q.charAt(re+1),extensions:q.slice(re+3,w).split("-")}),re=w}}else re=0;if(re===0&&V.charCodeAt(re)===120||V.charCodeAt(re)===45&&V.charCodeAt(re+1)===120)for(w=re=re?re+2:1;V.charCodeAt(w)===45&&f(V.charCodeAt(w+1));){for(w=h=re+1;f(V.charCodeAt(w));){if(w-h>7)return B(w,5,"Too long private-use area, expected at most 8 characters");w++}j.privateuse.push(q.slice(re+1,w)),re=w}return re!==q.length?B(re,6,"Found superfluous content after tag"):j;function B(ee,le,Q){return M.warning&&M.warning(Q,le,ee),M.forgiving?j:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var E={}.hasOwnProperty},6713:function(i){"use strict";i.exports=function(o){var l,f,u,c=o||{},d=[];if(c.irregular||c.regular)return c.irregular||c.regular;if(c.language)for(d=d.concat(c.language,c.extendedLanguageSubtags||[],c.script||[],c.region||[],c.variants||[]),l=c.extensions||[],f=-1;++f<l.length;)(u=l[f]).singleton&&u.extensions&&u.extensions.length&&(d=d.concat(u.singleton,u.extensions));return c.privateuse&&c.privateuse.length&&(d=d.concat("x",c.privateuse)),d.join("-")}},1549:function(i,o,l){"use strict";var f=l(6693),u=l(2165),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=E,o.SlowBuffer=function(T){return+T!=T&&(T=0),E.alloc(+T)},o.INSPECT_MAX_BYTES=50;var d=2147483647;function p(T){if(T>d)throw new RangeError('The value "'+T+'" is invalid for option "size"');var y=new Uint8Array(T);return Object.setPrototypeOf(y,E.prototype),y}function E(T,y,x){if(typeof T=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(T)}return m(T,y,x)}function m(T,y,x){if(typeof T=="string")return function(J,Ne){if(typeof Ne=="string"&&Ne!==""||(Ne="utf8"),!E.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);var rt=0|M(J,Ne),He=p(rt),Ze=He.write(J,Ne);return Ze!==rt&&(He=He.slice(0,Ze)),He}(T,y);if(ArrayBuffer.isView(T))return function(J){if(me(J,Uint8Array)){var Ne=new Uint8Array(J);return v(Ne.buffer,Ne.byteOffset,Ne.byteLength)}return h(J)}(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(me(T,ArrayBuffer)||T&&me(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(T,SharedArrayBuffer)||T&&me(T.buffer,SharedArrayBuffer)))return v(T,y,x);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var R=T.valueOf&&T.valueOf();if(R!=null&&R!==T)return E.from(R,y,x);var ne=function(J){if(E.isBuffer(J)){var Ne=0|w(J.length),rt=p(Ne);return rt.length===0||J.copy(rt,0,0,Ne),rt}return J.length!==void 0?typeof J.length!="number"||Ee(J.length)?p(0):h(J):J.type==="Buffer"&&Array.isArray(J.data)?h(J.data):void 0}(T);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return E.from(T[Symbol.toPrimitive]("string"),y,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}function C(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function S(T){return C(T),p(T<0?0:0|w(T))}function h(T){for(var y=T.length<0?0:0|w(T.length),x=p(y),R=0;R<y;R+=1)x[R]=255&T[R];return x}function v(T,y,x){if(y<0||T.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<y+(x||0))throw new RangeError('"length" is outside of buffer bounds');var R;return R=y===void 0&&x===void 0?new Uint8Array(T):x===void 0?new Uint8Array(T,y):new Uint8Array(T,y,x),Object.setPrototypeOf(R,E.prototype),R}function w(T){if(T>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|T}function M(T,y){if(E.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||me(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var x=T.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&x===0)return 0;for(var ne=!1;;)switch(y){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return vt(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*x;case"hex":return x>>>1;case"base64":return ze(T).length;default:if(ne)return R?-1:vt(T).length;y=(""+y).toLowerCase(),ne=!0}}function j(T,y,x){var R=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0)<=(y>>>=0))return"";for(T||(T="utf8");;)switch(T){case"hex":return je(this,y,x);case"utf8":case"utf-8":return De(this,y,x);case"ascii":return Se(this,y,x);case"latin1":case"binary":return xe(this,y,x);case"base64":return he(this,y,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,y,x);default:if(R)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),R=!0}}function q(T,y,x){var R=T[y];T[y]=T[x],T[x]=R}function V(T,y,x,R,ne){if(T.length===0)return-1;if(typeof x=="string"?(R=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),Ee(x=+x)&&(x=ne?0:T.length-1),x<0&&(x=T.length+x),x>=T.length){if(ne)return-1;x=T.length-1}else if(x<0){if(!ne)return-1;x=0}if(typeof y=="string"&&(y=E.from(y,R)),E.isBuffer(y))return y.length===0?-1:re(T,y,x,R,ne);if(typeof y=="number")return y&=255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(T,y,x):Uint8Array.prototype.lastIndexOf.call(T,y,x):re(T,[y],x,R,ne);throw new TypeError("val must be string, number or Buffer")}function re(T,y,x,R,ne){var J,Ne=1,rt=T.length,He=y.length;if(R!==void 0&&((R=String(R).toLowerCase())==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(T.length<2||y.length<2)return-1;Ne=2,rt/=2,He/=2,x/=2}function Ze(Le,Pe){return Ne===1?Le[Pe]:Le.readUInt16BE(Pe*Ne)}if(ne){var Oe=-1;for(J=x;J<rt;J++)if(Ze(T,J)===Ze(y,Oe===-1?0:J-Oe)){if(Oe===-1&&(Oe=J),J-Oe+1===He)return Oe*Ne}else Oe!==-1&&(J-=J-Oe),Oe=-1}else for(x+He>rt&&(x=rt-He),J=x;J>=0;J--){for(var Ye=!0,we=0;we<He;we++)if(Ze(T,J+we)!==Ze(y,we)){Ye=!1;break}if(Ye)return J}return-1}function B(T,y,x,R){x=Number(x)||0;var ne=T.length-x;R?(R=Number(R))>ne&&(R=ne):R=ne;var J=y.length;R>J/2&&(R=J/2);for(var Ne=0;Ne<R;++Ne){var rt=parseInt(y.substr(2*Ne,2),16);if(Ee(rt))return Ne;T[x+Ne]=rt}return Ne}function ee(T,y,x,R){return it(vt(y,T.length-x),T,x,R)}function le(T,y,x,R){return it(function(ne){for(var J=[],Ne=0;Ne<ne.length;++Ne)J.push(255&ne.charCodeAt(Ne));return J}(y),T,x,R)}function Q(T,y,x,R){return it(ze(y),T,x,R)}function se(T,y,x,R){return it(function(ne,J){for(var Ne,rt,He,Ze=[],Oe=0;Oe<ne.length&&!((J-=2)<0);++Oe)rt=(Ne=ne.charCodeAt(Oe))>>8,He=Ne%256,Ze.push(He),Ze.push(rt);return Ze}(y,T.length-x),T,x,R)}function he(T,y,x){return y===0&&x===T.length?f.fromByteArray(T):f.fromByteArray(T.slice(y,x))}function De(T,y,x){x=Math.min(T.length,x);for(var R=[],ne=y;ne<x;){var J,Ne,rt,He,Ze=T[ne],Oe=null,Ye=Ze>239?4:Ze>223?3:Ze>191?2:1;if(ne+Ye<=x)switch(Ye){case 1:Ze<128&&(Oe=Ze);break;case 2:(192&(J=T[ne+1]))==128&&(He=(31&Ze)<<6|63&J)>127&&(Oe=He);break;case 3:J=T[ne+1],Ne=T[ne+2],(192&J)==128&&(192&Ne)==128&&(He=(15&Ze)<<12|(63&J)<<6|63&Ne)>2047&&(He<55296||He>57343)&&(Oe=He);break;case 4:J=T[ne+1],Ne=T[ne+2],rt=T[ne+3],(192&J)==128&&(192&Ne)==128&&(192&rt)==128&&(He=(15&Ze)<<18|(63&J)<<12|(63&Ne)<<6|63&rt)>65535&&He<1114112&&(Oe=He)}Oe===null?(Oe=65533,Ye=1):Oe>65535&&(Oe-=65536,R.push(Oe>>>10&1023|55296),Oe=56320|1023&Oe),R.push(Oe),ne+=Ye}return function(we){var Le=we.length;if(Le<=ie)return String.fromCharCode.apply(String,we);for(var Pe="",ut=0;ut<Le;)Pe+=String.fromCharCode.apply(String,we.slice(ut,ut+=ie));return Pe}(R)}o.kMaxLength=d,E.TYPED_ARRAY_SUPPORT=function(){try{var T=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(T,y),T.foo()===42}catch{return!1}}(),E.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}}),E.poolSize=8192,E.from=function(T,y,x){return m(T,y,x)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array),E.alloc=function(T,y,x){return function(R,ne,J){return C(R),R<=0?p(R):ne!==void 0?typeof J=="string"?p(R).fill(ne,J):p(R).fill(ne):p(R)}(T,y,x)},E.allocUnsafe=function(T){return S(T)},E.allocUnsafeSlow=function(T){return S(T)},E.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==E.prototype},E.compare=function(T,y){if(me(T,Uint8Array)&&(T=E.from(T,T.offset,T.byteLength)),me(y,Uint8Array)&&(y=E.from(y,y.offset,y.byteLength)),!E.isBuffer(T)||!E.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===y)return 0;for(var x=T.length,R=y.length,ne=0,J=Math.min(x,R);ne<J;++ne)if(T[ne]!==y[ne]){x=T[ne],R=y[ne];break}return x<R?-1:R<x?1:0},E.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(T,y){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return E.alloc(0);var x;if(y===void 0)for(y=0,x=0;x<T.length;++x)y+=T[x].length;var R=E.allocUnsafe(y),ne=0;for(x=0;x<T.length;++x){var J=T[x];if(me(J,Uint8Array))ne+J.length>R.length?E.from(J).copy(R,ne):Uint8Array.prototype.set.call(R,J,ne);else{if(!E.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy(R,ne)}ne+=J.length}return R},E.byteLength=M,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<T;y+=2)q(this,y,y+1);return this},E.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<T;y+=4)q(this,y,y+3),q(this,y+1,y+2);return this},E.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<T;y+=8)q(this,y,y+7),q(this,y+1,y+6),q(this,y+2,y+5),q(this,y+3,y+4);return this},E.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?De(this,0,T):j.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(T){if(!E.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||E.compare(this,T)===0},E.prototype.inspect=function(){var T="",y=o.INSPECT_MAX_BYTES;return T=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(T+=" ... "),"<Buffer "+T+">"},c&&(E.prototype[c]=E.prototype.inspect),E.prototype.compare=function(T,y,x,R,ne){if(me(T,Uint8Array)&&(T=E.from(T,T.offset,T.byteLength)),!E.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(y===void 0&&(y=0),x===void 0&&(x=T?T.length:0),R===void 0&&(R=0),ne===void 0&&(ne=this.length),y<0||x>T.length||R<0||ne>this.length)throw new RangeError("out of range index");if(R>=ne&&y>=x)return 0;if(R>=ne)return-1;if(y>=x)return 1;if(this===T)return 0;for(var J=(ne>>>=0)-(R>>>=0),Ne=(x>>>=0)-(y>>>=0),rt=Math.min(J,Ne),He=this.slice(R,ne),Ze=T.slice(y,x),Oe=0;Oe<rt;++Oe)if(He[Oe]!==Ze[Oe]){J=He[Oe],Ne=Ze[Oe];break}return J<Ne?-1:Ne<J?1:0},E.prototype.includes=function(T,y,x){return this.indexOf(T,y,x)!==-1},E.prototype.indexOf=function(T,y,x){return V(this,T,y,x,!0)},E.prototype.lastIndexOf=function(T,y,x){return V(this,T,y,x,!1)},E.prototype.write=function(T,y,x,R){if(y===void 0)R="utf8",x=this.length,y=0;else if(x===void 0&&typeof y=="string")R=y,x=this.length,y=0;else{if(!isFinite(y))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");y>>>=0,isFinite(x)?(x>>>=0,R===void 0&&(R="utf8")):(R=x,x=void 0)}var ne=this.length-y;if((x===void 0||x>ne)&&(x=ne),T.length>0&&(x<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");for(var J=!1;;)switch(R){case"hex":return B(this,T,y,x);case"utf8":case"utf-8":return ee(this,T,y,x);case"ascii":case"latin1":case"binary":return le(this,T,y,x);case"base64":return Q(this,T,y,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,T,y,x);default:if(J)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),J=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ie=4096;function Se(T,y,x){var R="";x=Math.min(T.length,x);for(var ne=y;ne<x;++ne)R+=String.fromCharCode(127&T[ne]);return R}function xe(T,y,x){var R="";x=Math.min(T.length,x);for(var ne=y;ne<x;++ne)R+=String.fromCharCode(T[ne]);return R}function je(T,y,x){var R=T.length;(!y||y<0)&&(y=0),(!x||x<0||x>R)&&(x=R);for(var ne="",J=y;J<x;++J)ne+=$e[T[J]];return ne}function Te(T,y,x){for(var R=T.slice(y,x),ne="",J=0;J<R.length-1;J+=2)ne+=String.fromCharCode(R[J]+256*R[J+1]);return ne}function Fe(T,y,x){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(T+y>x)throw new RangeError("Trying to access beyond buffer length")}function qe(T,y,x,R,ne,J){if(!E.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>ne||y<J)throw new RangeError('"value" argument is out of bounds');if(x+R>T.length)throw new RangeError("Index out of range")}function Je(T,y,x,R,ne,J){if(x+R>T.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function Ie(T,y,x,R,ne){return y=+y,x>>>=0,ne||Je(T,0,x,4),u.write(T,y,x,R,23,4),x+4}function Me(T,y,x,R,ne){return y=+y,x>>>=0,ne||Je(T,0,x,8),u.write(T,y,x,R,52,8),x+8}E.prototype.slice=function(T,y){var x=this.length;(T=~~T)<0?(T+=x)<0&&(T=0):T>x&&(T=x),(y=y===void 0?x:~~y)<0?(y+=x)<0&&(y=0):y>x&&(y=x),y<T&&(y=T);var R=this.subarray(T,y);return Object.setPrototypeOf(R,E.prototype),R},E.prototype.readUintLE=E.prototype.readUIntLE=function(T,y,x){T>>>=0,y>>>=0,x||Fe(T,y,this.length);for(var R=this[T],ne=1,J=0;++J<y&&(ne*=256);)R+=this[T+J]*ne;return R},E.prototype.readUintBE=E.prototype.readUIntBE=function(T,y,x){T>>>=0,y>>>=0,x||Fe(T,y,this.length);for(var R=this[T+--y],ne=1;y>0&&(ne*=256);)R+=this[T+--y]*ne;return R},E.prototype.readUint8=E.prototype.readUInt8=function(T,y){return T>>>=0,y||Fe(T,1,this.length),this[T]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(T,y){return T>>>=0,y||Fe(T,2,this.length),this[T]|this[T+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(T,y){return T>>>=0,y||Fe(T,2,this.length),this[T]<<8|this[T+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(T,y){return T>>>=0,y||Fe(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(T,y){return T>>>=0,y||Fe(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},E.prototype.readIntLE=function(T,y,x){T>>>=0,y>>>=0,x||Fe(T,y,this.length);for(var R=this[T],ne=1,J=0;++J<y&&(ne*=256);)R+=this[T+J]*ne;return R>=(ne*=128)&&(R-=Math.pow(2,8*y)),R},E.prototype.readIntBE=function(T,y,x){T>>>=0,y>>>=0,x||Fe(T,y,this.length);for(var R=y,ne=1,J=this[T+--R];R>0&&(ne*=256);)J+=this[T+--R]*ne;return J>=(ne*=128)&&(J-=Math.pow(2,8*y)),J},E.prototype.readInt8=function(T,y){return T>>>=0,y||Fe(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},E.prototype.readInt16LE=function(T,y){T>>>=0,y||Fe(T,2,this.length);var x=this[T]|this[T+1]<<8;return 32768&x?4294901760|x:x},E.prototype.readInt16BE=function(T,y){T>>>=0,y||Fe(T,2,this.length);var x=this[T+1]|this[T]<<8;return 32768&x?4294901760|x:x},E.prototype.readInt32LE=function(T,y){return T>>>=0,y||Fe(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},E.prototype.readInt32BE=function(T,y){return T>>>=0,y||Fe(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},E.prototype.readFloatLE=function(T,y){return T>>>=0,y||Fe(T,4,this.length),u.read(this,T,!0,23,4)},E.prototype.readFloatBE=function(T,y){return T>>>=0,y||Fe(T,4,this.length),u.read(this,T,!1,23,4)},E.prototype.readDoubleLE=function(T,y){return T>>>=0,y||Fe(T,8,this.length),u.read(this,T,!0,52,8)},E.prototype.readDoubleBE=function(T,y){return T>>>=0,y||Fe(T,8,this.length),u.read(this,T,!1,52,8)},E.prototype.writeUintLE=E.prototype.writeUIntLE=function(T,y,x,R){T=+T,y>>>=0,x>>>=0,R||qe(this,T,y,x,Math.pow(2,8*x)-1,0);var ne=1,J=0;for(this[y]=255&T;++J<x&&(ne*=256);)this[y+J]=T/ne&255;return y+x},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(T,y,x,R){T=+T,y>>>=0,x>>>=0,R||qe(this,T,y,x,Math.pow(2,8*x)-1,0);var ne=x-1,J=1;for(this[y+ne]=255&T;--ne>=0&&(J*=256);)this[y+ne]=T/J&255;return y+x},E.prototype.writeUint8=E.prototype.writeUInt8=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,1,255,0),this[y]=255&T,y+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,2,65535,0),this[y]=255&T,this[y+1]=T>>>8,y+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,2,65535,0),this[y]=T>>>8,this[y+1]=255&T,y+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,4,4294967295,0),this[y+3]=T>>>24,this[y+2]=T>>>16,this[y+1]=T>>>8,this[y]=255&T,y+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,4,4294967295,0),this[y]=T>>>24,this[y+1]=T>>>16,this[y+2]=T>>>8,this[y+3]=255&T,y+4},E.prototype.writeIntLE=function(T,y,x,R){if(T=+T,y>>>=0,!R){var ne=Math.pow(2,8*x-1);qe(this,T,y,x,ne-1,-ne)}var J=0,Ne=1,rt=0;for(this[y]=255&T;++J<x&&(Ne*=256);)T<0&&rt===0&&this[y+J-1]!==0&&(rt=1),this[y+J]=(T/Ne>>0)-rt&255;return y+x},E.prototype.writeIntBE=function(T,y,x,R){if(T=+T,y>>>=0,!R){var ne=Math.pow(2,8*x-1);qe(this,T,y,x,ne-1,-ne)}var J=x-1,Ne=1,rt=0;for(this[y+J]=255&T;--J>=0&&(Ne*=256);)T<0&&rt===0&&this[y+J+1]!==0&&(rt=1),this[y+J]=(T/Ne>>0)-rt&255;return y+x},E.prototype.writeInt8=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,1,127,-128),T<0&&(T=255+T+1),this[y]=255&T,y+1},E.prototype.writeInt16LE=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,2,32767,-32768),this[y]=255&T,this[y+1]=T>>>8,y+2},E.prototype.writeInt16BE=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,2,32767,-32768),this[y]=T>>>8,this[y+1]=255&T,y+2},E.prototype.writeInt32LE=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,4,2147483647,-2147483648),this[y]=255&T,this[y+1]=T>>>8,this[y+2]=T>>>16,this[y+3]=T>>>24,y+4},E.prototype.writeInt32BE=function(T,y,x){return T=+T,y>>>=0,x||qe(this,T,y,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[y]=T>>>24,this[y+1]=T>>>16,this[y+2]=T>>>8,this[y+3]=255&T,y+4},E.prototype.writeFloatLE=function(T,y,x){return Ie(this,T,y,!0,x)},E.prototype.writeFloatBE=function(T,y,x){return Ie(this,T,y,!1,x)},E.prototype.writeDoubleLE=function(T,y,x){return Me(this,T,y,!0,x)},E.prototype.writeDoubleBE=function(T,y,x){return Me(this,T,y,!1,x)},E.prototype.copy=function(T,y,x,R){if(!E.isBuffer(T))throw new TypeError("argument should be a Buffer");if(x||(x=0),R||R===0||(R=this.length),y>=T.length&&(y=T.length),y||(y=0),R>0&&R<x&&(R=x),R===x||T.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),T.length-y<R-x&&(R=T.length-y+x);var ne=R-x;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,x,R):Uint8Array.prototype.set.call(T,this.subarray(x,R),y),ne},E.prototype.fill=function(T,y,x,R){if(typeof T=="string"){if(typeof y=="string"?(R=y,y=0,x=this.length):typeof x=="string"&&(R=x,x=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!E.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(T.length===1){var ne=T.charCodeAt(0);(R==="utf8"&&ne<128||R==="latin1")&&(T=ne)}}else typeof T=="number"?T&=255:typeof T=="boolean"&&(T=Number(T));if(y<0||this.length<y||this.length<x)throw new RangeError("Out of range index");if(x<=y)return this;var J;if(y>>>=0,x=x===void 0?this.length:x>>>0,T||(T=0),typeof T=="number")for(J=y;J<x;++J)this[J]=T;else{var Ne=E.isBuffer(T)?T:E.from(T,R),rt=Ne.length;if(rt===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(J=0;J<x-y;++J)this[J+y]=Ne[J%rt]}return this};var At=/[^+/0-9A-Za-z-_]/g;function vt(T,y){var x;y=y||1/0;for(var R=T.length,ne=null,J=[],Ne=0;Ne<R;++Ne){if((x=T.charCodeAt(Ne))>55295&&x<57344){if(!ne){if(x>56319){(y-=3)>-1&&J.push(239,191,189);continue}if(Ne+1===R){(y-=3)>-1&&J.push(239,191,189);continue}ne=x;continue}if(x<56320){(y-=3)>-1&&J.push(239,191,189),ne=x;continue}x=65536+(ne-55296<<10|x-56320)}else ne&&(y-=3)>-1&&J.push(239,191,189);if(ne=null,x<128){if((y-=1)<0)break;J.push(x)}else if(x<2048){if((y-=2)<0)break;J.push(x>>6|192,63&x|128)}else if(x<65536){if((y-=3)<0)break;J.push(x>>12|224,x>>6&63|128,63&x|128)}else{if(!(x<1114112))throw new Error("Invalid code point");if((y-=4)<0)break;J.push(x>>18|240,x>>12&63|128,x>>6&63|128,63&x|128)}}return J}function ze(T){return f.toByteArray(function(y){if((y=(y=y.split("=")[0]).trim().replace(At,"")).length<2)return"";for(;y.length%4!=0;)y+="=";return y}(T))}function it(T,y,x,R){for(var ne=0;ne<R&&!(ne+x>=y.length||ne>=T.length);++ne)y[ne+x]=T[ne];return ne}function me(T,y){return T instanceof y||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===y.name}function Ee(T){return T!=T}var $e=function(){for(var T="0123456789abcdef",y=new Array(256),x=0;x<16;++x)for(var R=16*x,ne=0;ne<16;++ne)y[R+ne]=T[x]+T[ne];return y}()},6693:function(i,o){"use strict";o.byteLength=function(C){var S=E(C),h=S[0],v=S[1];return 3*(h+v)/4-v},o.toByteArray=function(C){var S,h,v=E(C),w=v[0],M=v[1],j=new u(function(re,B,ee){return 3*(B+ee)/4-ee}(0,w,M)),q=0,V=M>0?w-4:w;for(h=0;h<V;h+=4)S=f[C.charCodeAt(h)]<<18|f[C.charCodeAt(h+1)]<<12|f[C.charCodeAt(h+2)]<<6|f[C.charCodeAt(h+3)],j[q++]=S>>16&255,j[q++]=S>>8&255,j[q++]=255&S;return M===2&&(S=f[C.charCodeAt(h)]<<2|f[C.charCodeAt(h+1)]>>4,j[q++]=255&S),M===1&&(S=f[C.charCodeAt(h)]<<10|f[C.charCodeAt(h+1)]<<4|f[C.charCodeAt(h+2)]>>2,j[q++]=S>>8&255,j[q++]=255&S),j},o.fromByteArray=function(C){for(var S,h=C.length,v=h%3,w=[],M=16383,j=0,q=h-v;j<q;j+=M)w.push(m(C,j,j+M>q?q:j+M));return v===1?(S=C[h-1],w.push(l[S>>2]+l[S<<4&63]+"==")):v===2&&(S=(C[h-2]<<8)+C[h-1],w.push(l[S>>10]+l[S>>4&63]+l[S<<2&63]+"=")),w.join("")};for(var l=[],f=[],u=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=c.length;d<p;++d)l[d]=c[d],f[c.charCodeAt(d)]=d;function E(C){var S=C.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=C.indexOf("=");return h===-1&&(h=S),[h,h===S?0:4-h%4]}function m(C,S,h){for(var v,w,M=[],j=S;j<h;j+=3)v=(C[j]<<16&16711680)+(C[j+1]<<8&65280)+(255&C[j+2]),M.push(l[(w=v)>>18&63]+l[w>>12&63]+l[w>>6&63]+l[63&w]);return M.join("")}f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},2165:function(i,o){o.read=function(l,f,u,c,d){var p,E,m=8*d-c-1,C=(1<<m)-1,S=C>>1,h=-7,v=u?d-1:0,w=u?-1:1,M=l[f+v];for(v+=w,p=M&(1<<-h)-1,M>>=-h,h+=m;h>0;p=256*p+l[f+v],v+=w,h-=8);for(E=p&(1<<-h)-1,p>>=-h,h+=c;h>0;E=256*E+l[f+v],v+=w,h-=8);if(p===0)p=1-S;else{if(p===C)return E?NaN:1/0*(M?-1:1);E+=Math.pow(2,c),p-=S}return(M?-1:1)*E*Math.pow(2,p-c)},o.write=function(l,f,u,c,d,p){var E,m,C,S=8*p-d-1,h=(1<<S)-1,v=h>>1,w=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=c?0:p-1,j=c?1:-1,q=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(m=isNaN(f)?1:0,E=h):(E=Math.floor(Math.log(f)/Math.LN2),f*(C=Math.pow(2,-E))<1&&(E--,C*=2),(f+=E+v>=1?w/C:w*Math.pow(2,1-v))*C>=2&&(E++,C/=2),E+v>=h?(m=0,E=h):E+v>=1?(m=(f*C-1)*Math.pow(2,d),E+=v):(m=f*Math.pow(2,v-1)*Math.pow(2,d),E=0));d>=8;l[u+M]=255&m,M+=j,m/=256,d-=8);for(E=E<<d|m,S+=d;S>0;l[u+M]=255&E,M+=j,E/=256,S-=8);l[u+M-j]|=128*q}},6934:function(i,o){var l={parseBuffer:function(c){return new f(c).parse()},addBoxProcessor:function(c,d){typeof c=="string"&&typeof d=="function"&&(u.prototype._boxProcessors[c]=d)},createFile:function(){return new f},createBox:function(c,d,p){var E=u.create(c);return d&&d.append(E,p),E},createFullBox:function(c,d,p){var E=l.createBox(c,d,p);return E.version=0,E.flags=0,E},Utils:{}};l.Utils.dataViewToString=function(c,d){var p=d||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(p).decode(c);var E=[],m=0;if(p==="utf-8")for(;m<c.byteLength;){var C=c.getUint8(m++);C<128||(C<224?(C=(31&C)<<6,C|=63&c.getUint8(m++)):C<240?(C=(15&C)<<12,C|=(63&c.getUint8(m++))<<6,C|=63&c.getUint8(m++)):(C=(7&C)<<18,C|=(63&c.getUint8(m++))<<12,C|=(63&c.getUint8(m++))<<6,C|=63&c.getUint8(m++))),E.push(String.fromCharCode(C))}else for(;m<c.byteLength;)E.push(String.fromCharCode(c.getUint8(m++)));return E.join("")},l.Utils.utf8ToByteArray=function(c){var d,p;if(typeof TextEncoder<"u")d=new TextEncoder().encode(c);else for(d=[],p=0;p<c.length;++p){var E=c.charCodeAt(p);E<128?d.push(E):E<2048?(d.push(192|E>>6),d.push(128|63&E)):E<65536?(d.push(224|E>>12),d.push(128|63&E>>6),d.push(128|63&E)):(d.push(240|E>>18),d.push(128|63&E>>12),d.push(128|63&E>>6),d.push(128|63&E))}return d},l.Utils.appendBox=function(c,d,p){if(d._offset=c._cursor.offset,d._root=c._root?c._root:c,d._raw=c._raw,d._parent=c,p!==-1)if(p!=null){var E,m=-1;if(typeof p=="number")m=p;else{if(typeof p=="string")E=p;else{if(typeof p!="object"||!p.type)return void c.boxes.push(d);E=p.type}for(var C=0;C<c.boxes.length;C++)if(E===c.boxes[C].type){m=C+1;break}}c.boxes.splice(m,0,d)}else c.boxes.push(d)},o.parseBuffer=l.parseBuffer,o.addBoxProcessor=l.addBoxProcessor,o.createFile=l.createFile,o.createBox=l.createBox,o.createFullBox=l.createFullBox,o.Utils=l.Utils,l.Cursor=function(c){this.offset=c===void 0?0:c};var f=function(c){this._cursor=new l.Cursor,this.boxes=[],c&&(this._raw=new DataView(c))};f.prototype.fetch=function(c){var d=this.fetchAll(c,!0);return d.length?d[0]:null},f.prototype.fetchAll=function(c,d){var p=[];return f._sweep.call(this,c,p,d),p},f.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var c=u.parse(this);if(c.type===void 0)break;this.boxes.push(c)}return this},f._sweep=function(c,d,p){for(var E in this.type&&this.type==c&&d.push(this),this.boxes){if(d.length&&p)return;f._sweep.call(this.boxes[E],c,d,p)}},f.prototype.write=function(){var c,d=0;for(c=0;c<this.boxes.length;c++)d+=this.boxes[c].getLength(!1);var p=new Uint8Array(d);for(this._rawo=new DataView(p.buffer),this.bytes=p,this._cursor.offset=0,c=0;c<this.boxes.length;c++)this.boxes[c].write();return p.buffer},f.prototype.append=function(c,d){l.Utils.appendBox(this,c,d)};var u=function(){this._cursor=new l.Cursor};u.parse=function(c){var d=new u;return d._offset=c._cursor.offset,d._root=c._root?c._root:c,d._raw=c._raw,d._parent=c,d._parseBox(),c._cursor.offset=d._raw.byteOffset+d._raw.byteLength,d},u.create=function(c){var d=new u;return d.type=c,d.boxes=[],d},u.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],u.prototype._boxProcessors={},u.prototype._procField=function(c,d,p){this._parsing?this[c]=this._readField(d,p):this._writeField(d,p,this[c])},u.prototype._procFieldArray=function(c,d,p,E){var m;if(this._parsing)for(this[c]=[],m=0;m<d;m++)this[c][m]=this._readField(p,E);else for(m=0;m<this[c].length;m++)this._writeField(p,E,this[c][m])},u.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},u.prototype._procEntries=function(c,d,p){var E;if(this._parsing)for(this[c]=[],E=0;E<d;E++)this[c].push({}),p.call(this,this[c][E]);else for(E=0;E<d;E++)p.call(this,this[c][E])},u.prototype._procSubEntries=function(c,d,p,E){var m;if(this._parsing)for(c[d]=[],m=0;m<p;m++)c[d].push({}),E.call(this,c[d][m]);else for(m=0;m<p;m++)E.call(this,c[d][m])},u.prototype._procEntryField=function(c,d,p,E){this._parsing?c[d]=this._readField(p,E):this._writeField(p,E,c[d])},u.prototype._procSubBoxes=function(c,d){var p;if(this._parsing)for(this[c]=[],p=0;p<d;p++)this[c].push(u.parse(this));else for(p=0;p<d;p++)this._rawo?this[c][p].write():this.size+=this[c][p].getLength()},u.prototype._readField=function(c,d){switch(c){case"uint":return this._readUint(d);case"int":return this._readInt(d);case"template":return this._readTemplate(d);case"string":return d===-1?this._readTerminatedString():this._readString(d);case"data":return this._readData(d);case"utf8":return this._readUTF8String();default:return-1}},u.prototype._readInt=function(c){var d=null,p=this._cursor.offset-this._raw.byteOffset;switch(c){case 8:d=this._raw.getInt8(p);break;case 16:d=this._raw.getInt16(p);break;case 32:d=this._raw.getInt32(p);break;case 64:var E=this._raw.getInt32(p),m=this._raw.getInt32(p+4);d=E*Math.pow(2,32)+m}return this._cursor.offset+=c>>3,d},u.prototype._readUint=function(c){var d,p,E=null,m=this._cursor.offset-this._raw.byteOffset;switch(c){case 8:E=this._raw.getUint8(m);break;case 16:E=this._raw.getUint16(m);break;case 24:E=((d=this._raw.getUint16(m))<<8)+(p=this._raw.getUint8(m+2));break;case 32:E=this._raw.getUint32(m);break;case 64:d=this._raw.getUint32(m),p=this._raw.getUint32(m+4),E=d*Math.pow(2,32)+p}return this._cursor.offset+=c>>3,E},u.prototype._readString=function(c){for(var d="",p=0;p<c;p++){var E=this._readUint(8);d+=String.fromCharCode(E)}return d},u.prototype._readTemplate=function(c){return this._readUint(c/2)+this._readUint(c/2)/Math.pow(2,c/2)},u.prototype._readTerminatedString=function(){for(var c="";this._cursor.offset-this._offset<this._raw.byteLength;){var d=this._readUint(8);if(d===0)break;c+=String.fromCharCode(d)}return c},u.prototype._readData=function(c){var d=c>0?c:this._raw.byteLength-(this._cursor.offset-this._offset);if(d>0){var p=new Uint8Array(this._raw.buffer,this._cursor.offset,d);return this._cursor.offset+=d,p}return null},u.prototype._readUTF8String=function(){var c=this._raw.byteLength-(this._cursor.offset-this._offset),d=null;return c>0&&(d=new DataView(this._raw.buffer,this._cursor.offset,c),this._cursor.offset+=c),d&&l.Utils.dataViewToString(d)},u.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},u.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},u.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(u.parse(this))},u.prototype.append=function(c,d){l.Utils.appendBox(this,c,d)},u.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var c=0;c<this.boxes.length;c++)this.size+=this.boxes[c].getLength();return this._data&&this._writeData(this._data),this.size},u.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var c=0;c<this.boxes.length;c++)this.boxes[c].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},u.prototype._writeInt=function(c,d){if(this._rawo){var p=this._cursor.offset-this._rawo.byteOffset;switch(c){case 8:this._rawo.setInt8(p,d);break;case 16:this._rawo.setInt16(p,d);break;case 32:this._rawo.setInt32(p,d);break;case 64:var E=Math.floor(d/Math.pow(2,32)),m=d-E*Math.pow(2,32);this._rawo.setUint32(p,E),this._rawo.setUint32(p+4,m)}this._cursor.offset+=c>>3}else this.size+=c>>3},u.prototype._writeUint=function(c,d){if(this._rawo){var p,E,m=this._cursor.offset-this._rawo.byteOffset;switch(c){case 8:this._rawo.setUint8(m,d);break;case 16:this._rawo.setUint16(m,d);break;case 24:p=(16776960&d)>>8,E=255&d,this._rawo.setUint16(m,p),this._rawo.setUint8(m+2,E);break;case 32:this._rawo.setUint32(m,d);break;case 64:E=d-(p=Math.floor(d/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(m,p),this._rawo.setUint32(m+4,E)}this._cursor.offset+=c>>3}else this.size+=c>>3},u.prototype._writeString=function(c,d){for(var p=0;p<c;p++)this._writeUint(8,d.charCodeAt(p))},u.prototype._writeTerminatedString=function(c){if(c.length!==0){for(var d=0;d<c.length;d++)this._writeUint(8,c.charCodeAt(d));this._writeUint(8,0)}},u.prototype._writeTemplate=function(c,d){var p=Math.floor(d),E=(d-p)*Math.pow(2,c/2);this._writeUint(c/2,p),this._writeUint(c/2,E)},u.prototype._writeData=function(c){if(c)if(this._rawo){if(c instanceof Array){for(var d=this._cursor.offset-this._rawo.byteOffset,p=0;p<c.length;p++)this._rawo.setInt8(d+p,c[p]);this._cursor.offset+=c.length}c instanceof Uint8Array&&(this._root.bytes.set(c,this._cursor.offset),this._cursor.offset+=c.length)}else this.size+=c.length},u.prototype._writeUTF8String=function(c){var d=l.Utils.utf8ToByteArray(c);if(this._rawo)for(var p=new DataView(this._rawo.buffer,this._cursor.offset,d.length),E=0;E<d.length;E++)p.setUint8(E,d[E]);else this.size+=d.length},u.prototype._writeField=function(c,d,p){switch(c){case"uint":this._writeUint(d,p);break;case"int":this._writeInt(d,p);break;case"template":this._writeTemplate(d,p);break;case"string":d==-1?this._writeTerminatedString(p):this._writeString(d,p);break;case"data":this._writeData(p);break;case"utf8":this._writeUTF8String(p)}},u.prototype._boxProcessors.avc1=u.prototype._boxProcessors.avc2=u.prototype._boxProcessors.avc3=u.prototype._boxProcessors.avc4=u.prototype._boxProcessors.hvc1=u.prototype._boxProcessors.hev1=u.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},u.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(c){this._procEntryField(c,"sample_count","uint",32),this._procEntryField(c,"sample_offset",this.version===1?"int":"uint",32)})},u.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},u.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(c){this._procEntryField(c,"segment_duration","uint",this.version===1?64:32),this._procEntryField(c,"media_time","int",this.version===1?64:32),this._procEntryField(c,"media_rate_integer","int",16),this._procEntryField(c,"media_rate_fraction","int",16)})},u.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},u.prototype._boxProcessors.free=u.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},u.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},u.prototype._boxProcessors.ftyp=u.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var c=-1;this._parsing&&(c=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",c,"string",4)},u.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},u.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},u.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},u.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},u.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},u.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},u.prototype._boxProcessors.mp4a=u.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},u.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},u.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},u.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},u.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},u.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},u.prototype._boxProcessors.sdtp=function(){this._procFullBox();var c=-1;this._parsing&&(c=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",c,"uint",8)},u.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(c){this._parsing||(c.reference=(1&c.reference_type)<<31,c.reference|=2147483647&c.referenced_size,c.sap=(1&c.starts_with_SAP)<<31,c.sap|=(3&c.SAP_type)<<28,c.sap|=268435455&c.SAP_delta_time),this._procEntryField(c,"reference","uint",32),this._procEntryField(c,"subsegment_duration","uint",32),this._procEntryField(c,"sap","uint",32),this._parsing&&(c.reference_type=c.reference>>31&1,c.referenced_size=2147483647&c.reference,c.starts_with_SAP=c.sap>>31&1,c.SAP_type=c.sap>>28&7,c.SAP_delta_time=268435455&c.sap)})},u.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},u.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(c){this._procEntryField(c,"ranges_count","uint",32),this._procSubEntries(c,"ranges",c.ranges_count,function(d){this._procEntryField(d,"level","uint",8),this._procEntryField(d,"range_size","uint",24)})})},u.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},u.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},u.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(c){this._procEntryField(c,"sample_count","uint",32),this._procEntryField(c,"sample_delta","uint",32)})},u.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(c){this._procEntryField(c,"sample_delta","uint",32),this._procEntryField(c,"subsample_count","uint",16),this._procSubEntries(c,"subsamples",c.subsample_count,function(d){this._procEntryField(d,"subsample_size","uint",this.version===1?32:16),this._procEntryField(d,"subsample_priority","uint",8),this._procEntryField(d,"discardable","uint",8),this._procEntryField(d,"codec_specific_parameters","uint",32)})})},u.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},u.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},u.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},u.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(c){this._procEntryField(c,"time","uint",this.version===1?64:32),this._procEntryField(c,"moof_offset","uint",this.version===1?64:32),this._procEntryField(c,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(c,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(c,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},u.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},u.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},u.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(c){256&this.flags&&this._procEntryField(c,"sample_duration","uint",32),512&this.flags&&this._procEntryField(c,"sample_size","uint",32),1024&this.flags&&this._procEntryField(c,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(c,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},u.prototype._boxProcessors["url "]=u.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},u.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},u.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},u.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},u.prototype._boxProcessors.vtte=function(){}},5530:function(i,o,l){"use strict";i.exports=l(6146).polyfill()},6146:function(i,o,l){i.exports=function(){"use strict";function f(ze){return typeof ze=="function"}var u=Array.isArray?Array.isArray:function(ze){return Object.prototype.toString.call(ze)==="[object Array]"},c=0,d=void 0,p=void 0,E=function(ze,it){M[c]=ze,M[c+1]=it,(c+=2)===2&&(p?p(j):ee())},m=typeof window<"u"?window:void 0,C=m||{},S=C.MutationObserver||C.WebKitMutationObserver,h=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var ze=setTimeout;return function(){return ze(j,1)}}var M=new Array(1e3);function j(){for(var ze=0;ze<c;ze+=2)(0,M[ze])(M[ze+1]),M[ze]=void 0,M[ze+1]=void 0;c=0}var q,V,re,B,ee=void 0;function le(ze,it){var me=this,Ee=new this.constructor(he);Ee[se]===void 0&&Me(Ee);var $e=me._state;if($e){var T=arguments[$e-1];E(function(){return Je($e,Ee,T,me._result)})}else Fe(me,Ee,ze,it);return Ee}function Q(ze){if(ze&&typeof ze=="object"&&ze.constructor===this)return ze;var it=new this(he);return Se(it,ze),it}ee=h?function(){return process.nextTick(j)}:S?(V=0,re=new S(j),B=document.createTextNode(""),re.observe(B,{characterData:!0}),function(){B.data=V=++V%2}):v?((q=new MessageChannel).port1.onmessage=j,function(){return q.port2.postMessage(0)}):m===void 0?function(){try{var ze=Function("return this")().require("vertx");return(d=ze.runOnLoop||ze.runOnContext)!==void 0?function(){d(j)}:w()}catch{return w()}}():w();var se=Math.random().toString(36).substring(2);function he(){}var De=void 0;function ie(ze,it,me){it.constructor===ze.constructor&&me===le&&it.constructor.resolve===Q?function(Ee,$e){$e._state===1?je(Ee,$e._result):$e._state===2?Te(Ee,$e._result):Fe($e,void 0,function(T){return Se(Ee,T)},function(T){return Te(Ee,T)})}(ze,it):me===void 0?je(ze,it):f(me)?function(Ee,$e,T){E(function(y){var x=!1,R=function(ne,J,Ne,rt){try{ne.call(J,Ne,rt)}catch(He){return He}}(T,$e,function(ne){x||(x=!0,$e!==ne?Se(y,ne):je(y,ne))},function(ne){x||(x=!0,Te(y,ne))},y._label);!x&&R&&(x=!0,Te(y,R))},Ee)}(ze,it,me):je(ze,it)}function Se(ze,it){if(ze===it)Te(ze,new TypeError("You cannot resolve a promise with itself"));else if($e=typeof(Ee=it),Ee===null||$e!=="object"&&$e!=="function")je(ze,it);else{var me=void 0;try{me=it.then}catch(T){return void Te(ze,T)}ie(ze,it,me)}var Ee,$e}function xe(ze){ze._onerror&&ze._onerror(ze._result),qe(ze)}function je(ze,it){ze._state===De&&(ze._result=it,ze._state=1,ze._subscribers.length!==0&&E(qe,ze))}function Te(ze,it){ze._state===De&&(ze._state=2,ze._result=it,E(xe,ze))}function Fe(ze,it,me,Ee){var $e=ze._subscribers,T=$e.length;ze._onerror=null,$e[T]=it,$e[T+1]=me,$e[T+2]=Ee,T===0&&ze._state&&E(qe,ze)}function qe(ze){var it=ze._subscribers,me=ze._state;if(it.length!==0){for(var Ee=void 0,$e=void 0,T=ze._result,y=0;y<it.length;y+=3)Ee=it[y],$e=it[y+me],Ee?Je(me,Ee,$e,T):$e(T);ze._subscribers.length=0}}function Je(ze,it,me,Ee){var $e=f(me),T=void 0,y=void 0,x=!0;if($e){try{T=me(Ee)}catch(R){x=!1,y=R}if(it===T)return void Te(it,new TypeError("A promises callback cannot return that same promise."))}else T=Ee;it._state!==De||($e&&x?Se(it,T):x===!1?Te(it,y):ze===1?je(it,T):ze===2&&Te(it,T))}var Ie=0;function Me(ze){ze[se]=Ie++,ze._state=void 0,ze._result=void 0,ze._subscribers=[]}var At=function(){function ze(it,me){this._instanceConstructor=it,this.promise=new it(he),this.promise[se]||Me(this.promise),u(me)?(this.length=me.length,this._remaining=me.length,this._result=new Array(this.length),this.length===0?je(this.promise,this._result):(this.length=this.length||0,this._enumerate(me),this._remaining===0&&je(this.promise,this._result))):Te(this.promise,new Error("Array Methods must be provided an Array"))}return ze.prototype._enumerate=function(it){for(var me=0;this._state===De&&me<it.length;me++)this._eachEntry(it[me],me)},ze.prototype._eachEntry=function(it,me){var Ee=this._instanceConstructor,$e=Ee.resolve;if($e===Q){var T=void 0,y=void 0,x=!1;try{T=it.then}catch(ne){x=!0,y=ne}if(T===le&&it._state!==De)this._settledAt(it._state,me,it._result);else if(typeof T!="function")this._remaining--,this._result[me]=it;else if(Ee===vt){var R=new Ee(he);x?Te(R,y):ie(R,it,T),this._willSettleAt(R,me)}else this._willSettleAt(new Ee(function(ne){return ne(it)}),me)}else this._willSettleAt($e(it),me)},ze.prototype._settledAt=function(it,me,Ee){var $e=this.promise;$e._state===De&&(this._remaining--,it===2?Te($e,Ee):this._result[me]=Ee),this._remaining===0&&je($e,this._result)},ze.prototype._willSettleAt=function(it,me){var Ee=this;Fe(it,void 0,function($e){return Ee._settledAt(1,me,$e)},function($e){return Ee._settledAt(2,me,$e)})},ze}(),vt=function(){function ze(it){this[se]=Ie++,this._result=this._state=void 0,this._subscribers=[],he!==it&&(typeof it!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ze?function(me,Ee){try{Ee(function($e){Se(me,$e)},function($e){Te(me,$e)})}catch($e){Te(me,$e)}}(this,it):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ze.prototype.catch=function(it){return this.then(null,it)},ze.prototype.finally=function(it){var me=this,Ee=me.constructor;return f(it)?me.then(function($e){return Ee.resolve(it()).then(function(){return $e})},function($e){return Ee.resolve(it()).then(function(){throw $e})}):me.then(it,it)},ze}();return vt.prototype.then=le,vt.all=function(ze){return new At(this,ze).promise},vt.race=function(ze){var it=this;return u(ze)?new it(function(me,Ee){for(var $e=ze.length,T=0;T<$e;T++)it.resolve(ze[T]).then(me,Ee)}):new it(function(me,Ee){return Ee(new TypeError("You must pass an array to race."))})},vt.resolve=Q,vt.reject=function(ze){var it=new this(he);return Te(it,ze),it},vt._setScheduler=function(ze){p=ze},vt._setAsap=function(ze){E=ze},vt._asap=E,vt.polyfill=function(){var ze=void 0;if(l.g!==void 0)ze=l.g;else if(typeof self<"u")ze=self;else try{ze=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var it=ze.Promise;if(it){var me=null;try{me=Object.prototype.toString.call(it.resolve())}catch{}if(me==="[object Promise]"&&!it.cast)return}ze.Promise=vt},vt.Promise=vt,vt}()},1159:function(i){"use strict";var o,l=typeof Reflect=="object"?Reflect:null,f=l&&typeof l.apply=="function"?l.apply:function(j,q,V){return Function.prototype.apply.call(j,q,V)};o=l&&typeof l.ownKeys=="function"?l.ownKeys:Object.getOwnPropertySymbols?function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:function(j){return Object.getOwnPropertyNames(j)};var u=Number.isNaN||function(j){return j!=j};function c(){c.init.call(this)}i.exports=c,i.exports.once=function(j,q){return new Promise(function(V,re){function B(le){j.removeListener(q,ee),re(le)}function ee(){typeof j.removeListener=="function"&&j.removeListener("error",B),V([].slice.call(arguments))}M(j,q,ee,{once:!0}),q!=="error"&&function(le,Q,se){typeof le.on=="function"&&M(le,"error",Q,{once:!0})}(j,B)})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var d=10;function p(j){if(typeof j!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}function E(j){return j._maxListeners===void 0?c.defaultMaxListeners:j._maxListeners}function m(j,q,V,re){var B,ee,le,Q;if(p(V),(ee=j._events)===void 0?(ee=j._events=Object.create(null),j._eventsCount=0):(ee.newListener!==void 0&&(j.emit("newListener",q,V.listener?V.listener:V),ee=j._events),le=ee[q]),le===void 0)le=ee[q]=V,++j._eventsCount;else if(typeof le=="function"?le=ee[q]=re?[V,le]:[le,V]:re?le.unshift(V):le.push(V),(B=E(j))>0&&le.length>B&&!le.warned){le.warned=!0;var se=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(q)+" listeners added. Use emitter.setMaxListeners() to increase limit");se.name="MaxListenersExceededWarning",se.emitter=j,se.type=q,se.count=le.length,Q=se,console&&console.warn&&console.warn(Q)}return j}function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(j,q,V){var re={fired:!1,wrapFn:void 0,target:j,type:q,listener:V},B=C.bind(re);return B.listener=V,re.wrapFn=B,B}function h(j,q,V){var re=j._events;if(re===void 0)return[];var B=re[q];return B===void 0?[]:typeof B=="function"?V?[B.listener||B]:[B]:V?function(ee){for(var le=new Array(ee.length),Q=0;Q<le.length;++Q)le[Q]=ee[Q].listener||ee[Q];return le}(B):w(B,B.length)}function v(j){var q=this._events;if(q!==void 0){var V=q[j];if(typeof V=="function")return 1;if(V!==void 0)return V.length}return 0}function w(j,q){for(var V=new Array(q),re=0;re<q;++re)V[re]=j[re];return V}function M(j,q,V,re){if(typeof j.on=="function")re.once?j.once(q,V):j.on(q,V);else{if(typeof j.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j);j.addEventListener(q,function B(ee){re.once&&j.removeEventListener(q,B),V(ee)})}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(j){if(typeof j!="number"||j<0||u(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");d=j}}),c.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||u(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this},c.prototype.getMaxListeners=function(){return E(this)},c.prototype.emit=function(j){for(var q=[],V=1;V<arguments.length;V++)q.push(arguments[V]);var re=j==="error",B=this._events;if(B!==void 0)re=re&&B.error===void 0;else if(!re)return!1;if(re){var ee;if(q.length>0&&(ee=q[0]),ee instanceof Error)throw ee;var le=new Error("Unhandled error."+(ee?" ("+ee.message+")":""));throw le.context=ee,le}var Q=B[j];if(Q===void 0)return!1;if(typeof Q=="function")f(Q,this,q);else{var se=Q.length,he=w(Q,se);for(V=0;V<se;++V)f(he[V],this,q)}return!0},c.prototype.addListener=function(j,q){return m(this,j,q,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(j,q){return m(this,j,q,!0)},c.prototype.once=function(j,q){return p(q),this.on(j,S(this,j,q)),this},c.prototype.prependOnceListener=function(j,q){return p(q),this.prependListener(j,S(this,j,q)),this},c.prototype.removeListener=function(j,q){var V,re,B,ee,le;if(p(q),(re=this._events)===void 0)return this;if((V=re[j])===void 0)return this;if(V===q||V.listener===q)--this._eventsCount==0?this._events=Object.create(null):(delete re[j],re.removeListener&&this.emit("removeListener",j,V.listener||q));else if(typeof V!="function"){for(B=-1,ee=V.length-1;ee>=0;ee--)if(V[ee]===q||V[ee].listener===q){le=V[ee].listener,B=ee;break}if(B<0)return this;B===0?V.shift():function(Q,se){for(;se+1<Q.length;se++)Q[se]=Q[se+1];Q.pop()}(V,B),V.length===1&&(re[j]=V[0]),re.removeListener!==void 0&&this.emit("removeListener",j,le||q)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(j){var q,V,re;if((V=this._events)===void 0)return this;if(V.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):V[j]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete V[j]),this;if(arguments.length===0){var B,ee=Object.keys(V);for(re=0;re<ee.length;++re)(B=ee[re])!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(q=V[j])=="function")this.removeListener(j,q);else if(q!==void 0)for(re=q.length-1;re>=0;re--)this.removeListener(j,q[re]);return this},c.prototype.listeners=function(j){return h(this,j,!0)},c.prototype.rawListeners=function(j){return h(this,j,!1)},c.listenerCount=function(j,q){return typeof j.listenerCount=="function"?j.listenerCount(q):v.call(j,q)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},3101:function(i){"use strict";var o=Array.isArray,l=Object.keys,f=Object.prototype.hasOwnProperty;i.exports=function u(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){var p,E,m,C=o(c),S=o(d);if(C&&S){if((E=c.length)!=d.length)return!1;for(p=E;p--!=0;)if(!u(c[p],d[p]))return!1;return!0}if(C!=S)return!1;var h=c instanceof Date,v=d instanceof Date;if(h!=v)return!1;if(h&&v)return c.getTime()==d.getTime();var w=c instanceof RegExp,M=d instanceof RegExp;if(w!=M)return!1;if(w&&M)return c.toString()==d.toString();var j=l(c);if((E=j.length)!==l(d).length)return!1;for(p=E;p--!=0;)if(!f.call(d,j[p]))return!1;for(p=E;p--!=0;)if(!u(c[m=j[p]],d[m]))return!1;return!0}return c!=c&&d!=d}},3362:function(i,o,l){(function(f,u,c,d,p){function E(y){if("contents"in y)for(var x=("styleAttrs"in y)?y.styleAttrs[d.byName.ruby.qname]:null,R=y.kind==="span"&&(x==="container"||x==="textContainer"||x==="baseContainer"),ne=y.contents.length-1;ne>=0;ne--)!R||"styleAttrs"in y.contents[ne]&&d.byName.ruby.qname in y.contents[ne].styleAttrs?E(y.contents[ne]):delete y.contents[ne]}function m(y,x,R,ne){var J=ne&&ne.timeContainer==="seq",Ne=0;ne&&(Ne=J&&R?R.end:ne.begin),x.begin=x.explicit_begin?x.explicit_begin+Ne:Ne;var rt=x.begin,He=null;if("sets"in x)for(var Ze=0;Ze<x.sets.length;Ze++)m(y,x.sets[Ze],He,x),rt=x.timeContainer==="seq"?x.sets[Ze].end:Math.max(rt,x.sets[Ze].end),He=x.sets[Ze];if("contents"in x){if("contents"in x)for(var Oe=0;Oe<x.contents.length;Oe++)m(y,x.contents[Oe],He,x),rt=x.timeContainer==="seq"?x.contents[Oe].end:Math.max(rt,x.contents[Oe].end),He=x.contents[Oe]}else rt=J?x.begin:Number.POSITIVE_INFINITY;x.explicit_end!==null&&x.explicit_dur!==null?x.end=Math.min(x.begin+x.explicit_dur,Ne+x.explicit_end):x.explicit_end===null&&x.explicit_dur!==null?x.end=x.begin+x.explicit_dur:x.explicit_end!==null&&x.explicit_dur===null?x.end=Ne+x.explicit_end:x.end=rt,delete x.explicit_begin,delete x.explicit_dur,delete x.explicit_end,y._registerEvent(x)}function C(y){this.node=y}function S(){this.events=[],this.head=new h,this.body=null}function h(){this.styling=new v,this.layout=new j}function v(){this.styles={},this.initials={}}function w(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function M(){this.styleAttrs=null}function j(){this.regions={}}function q(y,x){V.call(this,"image"),this.src=y,this.type=x}function V(y){this.kind=y}function re(y){this.id=y}function B(y){this.regionID=y}function ee(y){this.styleAttrs=y}function le(y){this.sets=y}function Q(y){this.contents=y}function se(y,x,R){this.explicit_begin=y,this.explicit_end=x,this.explicit_dur=R}function he(){V.call(this,"body")}function De(){V.call(this,"div")}function ie(){V.call(this,"p")}function Se(){V.call(this,"span")}function xe(){V.call(this,"span")}function je(){V.call(this,"br")}function Te(){}function Fe(){}function qe(y){return y&&"xml:id"in y.attributes&&y.attributes["xml:id"].value||null}function Je(y){return y&&"style"in y.attributes?y.attributes.style.value.split(" "):[]}function Ie(y,x){var R={};if(y!==null)for(var ne in y.attributes){var J=y.attributes[ne].uri+" "+y.attributes[ne].local,Ne=d.byQName[J];if(Ne!==void 0){var rt=Ne.parse(y.attributes[ne].value);rt!==null?(R[J]=rt,Ne===d.byName.zIndex&&me(x,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ee(x,"Cannot parse styling attribute "+J+" --> "+y.attributes[ne].value)}}return R}function Me(y,x,R){for(var ne in y.attributes)if(y.attributes[ne].uri===x&&y.attributes[ne].local===R)return y.attributes[ne].value;return null}function At(y,x,R){var ne,J=null;return(ne=/^(\d+(?:\.\d+)?)f$/.exec(R))!==null?x!==null&&(J=parseFloat(ne[1])/x):(ne=/^(\d+(?:\.\d+)?)t$/.exec(R))!==null?y!==null&&(J=parseFloat(ne[1])/y):(ne=/^(\d+(?:\.\d+)?)ms$/.exec(R))!==null?J=parseFloat(ne[1])/1e3:(ne=/^(\d+(?:\.\d+)?)s$/.exec(R))!==null?J=parseFloat(ne[1]):(ne=/^(\d+(?:\.\d+)?)h$/.exec(R))!==null?J=3600*parseFloat(ne[1]):(ne=/^(\d+(?:\.\d+)?)m$/.exec(R))!==null?J=60*parseFloat(ne[1]):(ne=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(R))!==null?J=3600*parseInt(ne[1])+60*parseInt(ne[2])+parseFloat(ne[3]):(ne=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(R))!==null&&x!==null&&(J=3600*parseInt(ne[1])+60*parseInt(ne[2])+parseInt(ne[3])+(ne[4]===null?0:parseInt(ne[4])/x)),J}function vt(y,x,R){for(;x.styleRefs.length>0;){var ne=x.styleRefs.pop();ne in y.styles?(vt(y,y.styles[ne],R),it(y.styles[ne].styleAttrs,x.styleAttrs)):Ee(R,"Non-existant style id referenced")}}function ze(y,x,R,ne){for(var J=x.length-1;J>=0;J--){var Ne=x[J];Ne in y.styles?it(y.styles[Ne].styleAttrs,R):Ee(ne,"Non-existant style id referenced")}}function it(y,x){for(var R in y)y.hasOwnProperty(R)&&(R in x||(x[R]=y[R]))}function me(y,x){if(y&&y.warn&&y.warn(x))throw x}function Ee(y,x){if(y&&y.error&&y.error(x))throw x}function $e(y,x){throw y&&y.fatal&&y.fatal(x),x}function T(y,x){for(var R,ne=0,J=y.length-1;ne<=J;){var Ne=y[R=Math.floor((ne+J)/2)];if(Ne<x)ne=R+1;else{if(!(Ne>x))return{found:!0,index:R};J=R-1}}return{found:!1,index:ne}}f.fromXML=function(y,x,R){var ne=u.parser(!0,{xmlns:!0}),J=[],Ne=[],rt=[],He=0,Ze=null;ne.onclosetag=function(Pe){if(J[0]instanceof Te)Ze.head!==null&&Ze.head.styling!==null&&ze(Ze.head.styling,J[0].styleRefs,J[0].styleAttrs,x),delete J[0].styleRefs;else if(J[0]instanceof v)for(var ut in J[0].styles)J[0].styles.hasOwnProperty(ut)&&vt(J[0],J[0].styles[ut],x);else if(J[0]instanceof ie||J[0]instanceof Se){if(J[0].contents.length>1){var at,Bt=[J[0].contents[0]];for(at=1;at<J[0].contents.length;at++)J[0].contents[at]instanceof xe&&Bt[Bt.length-1]instanceof xe?Bt[Bt.length-1].text+=J[0].contents[at].text:Bt.push(J[0].contents[at]);J[0].contents=Bt}J[0]instanceof Se&&J[0].contents.length===1&&J[0].contents[0]instanceof xe&&(J[0].text=J[0].contents[0].text,delete J[0].contents)}else J[0]instanceof C&&(J[0].node.uri===c.ns_tt&&J[0].node.local==="metadata"?He--:He>0&&R&&"onCloseTag"in R&&R.onCloseTag());rt.shift(),Ne.shift(),J.shift()},ne.ontext=function(Pe){if(J[0]!==void 0)if(J[0]instanceof Se||J[0]instanceof ie){if(J[0]instanceof Se){var ut=J[0].styleAttrs[d.byName.ruby.qname];if(ut==="container"||ut==="textContainer"||ut==="baseContainer")return}var at=new xe;at.initFromText(Ze,J[0],Pe,Ne[0],rt[0],x),J[0].contents.push(at)}else J[0]instanceof C&&He>0&&R&&"onText"in R&&R.onText(Pe)},ne.onopentag=function(Pe){var ut=Pe.attributes["xml:space"];ut?rt.unshift(ut.value):rt.length===0?rt.unshift("default"):rt.unshift(rt[0]);var at=Pe.attributes["xml:lang"];if(at?Ne.unshift(at.value):Ne.length===0?Ne.unshift(""):Ne.unshift(Ne[0]),Pe.uri===c.ns_tt)if(Pe.local==="tt")Ze!==null&&$e(x,"Two <tt> elements at ("+this.line+","+this.column+")"),(Ze=new S).initFromNode(Pe,Ne[0],x),J.unshift(Ze);else if(Pe.local==="head")J[0]instanceof S||$e(x,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),J.unshift(Ze.head);else if(Pe.local==="styling")J[0]instanceof h||$e(x,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),J.unshift(Ze.head.styling);else if(Pe.local==="style"){var Bt;J[0]instanceof v?((Bt=new w).initFromNode(Pe,x),Bt.id?Ze.head.styling.styles[Bt.id]=Bt:Ee(x,"<style> element missing @id attribute"),J.unshift(Bt)):J[0]instanceof Te?((Bt=new w).initFromNode(Pe,x),it(Bt.styleAttrs,J[0].styleAttrs),J.unshift(Bt)):$e(x,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(Pe.local==="initial"){var Tt;if(J[0]instanceof v){for(var Jt in(Tt=new M).initFromNode(Pe,x),Tt.styleAttrs)Tt.styleAttrs.hasOwnProperty(Jt)&&(Ze.head.styling.initials[Jt]=Tt.styleAttrs[Jt]);J.unshift(Tt)}else $e(x,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(Pe.local==="layout")J[0]instanceof h||$e(x,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),J.unshift(Ze.head.layout);else if(Pe.local==="region"){J[0]instanceof j||$e(x,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var an=new Te;an.initFromNode(Ze,Pe,Ne[0],x),!an.id||an.id in Ze.head.layout.regions?Ee(x,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Ze.head.layout.regions[an.id]=an,J.unshift(an)}else if(Pe.local==="body"){J[0]instanceof S||$e(x,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Ze.body!==null&&$e(x,"Second <body> element at "+this.line+","+this.column+")");var In=new he;In.initFromNode(Ze,Pe,Ne[0],x),Ze.body=In,J.unshift(In)}else if(Pe.local==="div"){J[0]instanceof De||J[0]instanceof he||$e(x,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Cn=new De;Cn.initFromNode(Ze,J[0],Pe,Ne[0],x);var or=Cn.styleAttrs[d.byName.backgroundImage.qname];or&&(Cn.contents.push(new q(or)),delete Cn.styleAttrs[d.byName.backgroundImage.qname]),J[0].contents.push(Cn),J.unshift(Cn)}else if(Pe.local==="image"){J[0]instanceof De||$e(x,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var ti=new q;ti.initFromNode(Ze,J[0],Pe,Ne[0],x),J[0].contents.push(ti),J.unshift(ti)}else if(Pe.local==="p"){J[0]instanceof De||$e(x,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var gr=new ie;gr.initFromNode(Ze,J[0],Pe,Ne[0],x),J[0].contents.push(gr),J.unshift(gr)}else if(Pe.local==="span"){J[0]instanceof Se||J[0]instanceof ie||$e(x,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Hi=new Se;Hi.initFromNode(Ze,J[0],Pe,Ne[0],rt[0],x),J[0].contents.push(Hi),J.unshift(Hi)}else if(Pe.local==="br"){J[0]instanceof Se||J[0]instanceof ie||$e(x,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var ni=new je;ni.initFromNode(Ze,J[0],Pe,Ne[0],x),J[0].contents.push(ni),J.unshift(ni)}else if(Pe.local==="set"){J[0]instanceof Se||J[0]instanceof ie||J[0]instanceof De||J[0]instanceof he||J[0]instanceof Te||J[0]instanceof je||$e(x,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Si=new Fe;Si.initFromNode(Ze,J[0],Pe,x),J[0].sets.push(Si),J.unshift(Si)}else J.unshift(new C(Pe));else J.unshift(new C(Pe));if(J[0]instanceof C){if(Pe.uri===c.ns_tt&&Pe.local==="metadata")He++;else if(He>0&&R&&"onOpenTag"in R){var ho=[];for(var Ci in Pe.attributes)ho[Pe.attributes[Ci].uri+" "+Pe.attributes[Ci].local]={uri:Pe.attributes[Ci].uri,local:Pe.attributes[Ci].local,value:Pe.attributes[Ci].value};R.onOpenTag(Pe.uri,Pe.local,ho)}}},ne.write(y).close(),delete Ze.head.styling.styles;var Oe=!1;for(var Ye in Ze.head.layout.regions)if(Ze.head.layout.regions.hasOwnProperty(Ye)){Oe=!0;break}if(!Oe){var we=Te.prototype.createDefaultRegion(Ze.lang);Ze.head.layout.regions[we.id]=we}for(var Le in Ze.head.layout.regions)Ze.head.layout.regions.hasOwnProperty(Le)&&m(Ze,Ze.head.layout.regions[Le],null,null);return Ze.body&&m(Ze,Ze.body,null,null),Ze.body&&E(Ze.body),Ze},S.prototype.initFromNode=function(y,x,R){var ne=function(He,Ze){var Oe=Me(He,c.ns_ttp,"cellResolution"),Ye=15,we=32;if(Oe!==null){var Le=/(\d+) (\d+)/.exec(Oe);Le!==null?(we=parseInt(Le[1]),Ye=parseInt(Le[2])):me(Ze,"Malformed cellResolution value (using initial value instead)")}return{w:we,h:Ye}}(y,R);this.cellLength={h:new p.ComputedLength(0,1/ne.h),w:new p.ComputedLength(1/ne.w,0)};var J=function(He,Ze){var Oe,Ye=Me(He,c.ns_ttp,"frameRate"),we=30;Ye!==null&&((Oe=/(\d+)/.exec(Ye))!==null?we=parseInt(Oe[1]):me(Ze,"Malformed frame rate attribute (using initial value instead)"));var Le=Me(He,c.ns_ttp,"frameRateMultiplier"),Pe=1;Le!==null&&((Oe=/(\d+) (\d+)/.exec(Le))!==null?Pe=parseInt(Oe[1])/parseInt(Oe[2]):me(Ze,"Malformed frame rate multiplier attribute (using initial value instead)"));var ut=Pe*we,at=1,Bt=Me(He,c.ns_ttp,"tickRate");return Bt===null?Ye!==null&&(at=ut):(Oe=/(\d+)/.exec(Bt))!==null?at=parseInt(Oe[1]):me(Ze,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ut,tickRate:at}}(y,R);this.effectiveFrameRate=J.effectiveFrameRate,this.tickRate=J.tickRate,this.aspectRatio=function(He,Ze){var Oe=Me(He,c.ns_ittp,"aspectRatio");Oe===null&&(Oe=Me(He,c.ns_ttp,"displayAspectRatio"));var Ye=null;if(Oe!==null){var we=/(\d+)\s+(\d+)/.exec(Oe);if(we!==null){var Le=parseInt(we[1]),Pe=parseInt(we[2]);Le!==0&&Pe!==0?Ye=Le/Pe:Ee(Ze,"Illegal aspectRatio values (ignoring)")}else Ee(Ze,"Malformed aspectRatio attribute (ignoring)")}return Ye}(y,R);var Ne=Me(y,c.ns_ttp,"timeBase");Ne!==null&&Ne!=="media"&&$e(R,"Unsupported time base");var rt=function(He,Ze){var Oe=Me(He,c.ns_tts,"extent");if(Oe===null)return null;var Ye=Oe.split(" ");if(Ye.length!==2)return me(Ze,"Malformed extent (ignoring)"),null;var we=p.parseLength(Ye[0]),Le=p.parseLength(Ye[1]);return Le&&we?{h:Le,w:we}:(me(Ze,"Malformed extent values (ignoring)"),null)}(y,R);rt===null?this.pxLength={h:null,w:null}:(rt.h.unit==="px"&&rt.w.unit==="px"||$e(R,"Extent on TT must be in px or absent"),this.pxLength={h:new p.ComputedLength(0,1/rt.h.value),w:new p.ComputedLength(1/rt.w.value,0)}),this.dimensions={h:new p.ComputedLength(0,1),w:new p.ComputedLength(1,0)},this.lang=x},S.prototype._registerEvent=function(y){if(!(y.end<=y.begin)){var x=T(this.events,y.begin);if(x.found||this.events.splice(x.index,0,y.begin),y.end!==Number.POSITIVE_INFINITY){var R=T(this.events,y.end);R.found||this.events.splice(R.index,0,y.end)}}},S.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},S.prototype.getMediaTimeEvents=function(){return this.events},w.prototype.initFromNode=function(y,x){this.id=qe(y),this.styleAttrs=Ie(y,x),this.styleRefs=Je(y)},M.prototype.initFromNode=function(y,x){for(var R in this.styleAttrs={},y.attributes)if(y.attributes[R].uri===c.ns_itts||y.attributes[R].uri===c.ns_ebutts||y.attributes[R].uri===c.ns_tts){var ne=y.attributes[R].uri+" "+y.attributes[R].local;this.styleAttrs[ne]=y.attributes[R].value}},q.prototype.initFromNode=function(y,x,R,ne,J){this.src="src"in R.attributes?R.attributes.src.value:null,this.src||Ee(J,"Invalid image@src attribute"),this.type="type"in R.attributes?R.attributes.type.value:null,this.type||Ee(J,"Invalid image@type attribute"),ee.prototype.initFromNode.call(this,y,x,R,J),se.prototype.initFromNode.call(this,y,x,R,J),le.prototype.initFromNode.call(this,y,x,R,J),B.prototype.initFromNode.call(this,y,x,R,J),this.lang=ne},re.prototype.initFromNode=function(y,x,R,ne){this.id=qe(R)},B.prototype.initFromNode=function(y,x,R,ne){this.regionID=function(J){return J&&"region"in J.attributes?J.attributes.region.value:""}(R)},ee.prototype.initFromNode=function(y,x,R,ne){this.styleAttrs=Ie(R,ne),y.head!==null&&y.head.styling!==null&&ze(y.head.styling,Je(R),this.styleAttrs,ne)},le.prototype.initFromNode=function(y,x,R,ne){this.sets=[]},Q.prototype.initFromNode=function(y,x,R,ne){this.contents=[]},se.prototype.initFromNode=function(y,x,R,ne){var J=function(Ne,rt,He,Ze){var Oe=null;He&&"begin"in He.attributes&&(Oe=At(Ne.tickRate,Ne.effectiveFrameRate,He.attributes.begin.value))===null&&me(Ze,"Malformed begin value "+He.attributes.begin.value+" (using 0)");var Ye=null;He&&"dur"in He.attributes&&(Ye=At(Ne.tickRate,Ne.effectiveFrameRate,He.attributes.dur.value))===null&&me(Ze,"Malformed dur value "+He.attributes.dur.value+" (ignoring)");var we=null;return He&&"end"in He.attributes&&(we=At(Ne.tickRate,Ne.effectiveFrameRate,He.attributes.end.value))===null&&me(Ze,"Malformed end value (ignoring)"),{explicit_begin:Oe,explicit_end:we,explicit_dur:Ye}}(y,0,R,ne);this.explicit_begin=J.explicit_begin,this.explicit_end=J.explicit_end,this.explicit_dur=J.explicit_dur,this.timeContainer=function(Ne,rt){var He=Ne&&"timeContainer"in Ne.attributes?Ne.attributes.timeContainer.value:null;return He&&He!=="par"?He==="seq"?"seq":(Ee(rt,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(R,ne)},he.prototype.initFromNode=function(y,x,R,ne){ee.prototype.initFromNode.call(this,y,null,x,ne),se.prototype.initFromNode.call(this,y,null,x,ne),le.prototype.initFromNode.call(this,y,null,x,ne),B.prototype.initFromNode.call(this,y,null,x,ne),Q.prototype.initFromNode.call(this,y,null,x,ne),this.lang=R},De.prototype.initFromNode=function(y,x,R,ne,J){ee.prototype.initFromNode.call(this,y,x,R,J),se.prototype.initFromNode.call(this,y,x,R,J),le.prototype.initFromNode.call(this,y,x,R,J),B.prototype.initFromNode.call(this,y,x,R,J),Q.prototype.initFromNode.call(this,y,x,R,J),this.lang=ne},ie.prototype.initFromNode=function(y,x,R,ne,J){ee.prototype.initFromNode.call(this,y,x,R,J),se.prototype.initFromNode.call(this,y,x,R,J),le.prototype.initFromNode.call(this,y,x,R,J),B.prototype.initFromNode.call(this,y,x,R,J),Q.prototype.initFromNode.call(this,y,x,R,J),this.lang=ne},Se.prototype.initFromNode=function(y,x,R,ne,J,Ne){ee.prototype.initFromNode.call(this,y,x,R,Ne),se.prototype.initFromNode.call(this,y,x,R,Ne),le.prototype.initFromNode.call(this,y,x,R,Ne),B.prototype.initFromNode.call(this,y,x,R,Ne),Q.prototype.initFromNode.call(this,y,x,R,Ne),this.space=J,this.lang=ne},xe.prototype.initFromText=function(y,x,R,ne,J,Ne){se.prototype.initFromNode.call(this,y,x,null,Ne),this.text=R,this.space=J,this.lang=ne},je.prototype.initFromNode=function(y,x,R,ne,J){B.prototype.initFromNode.call(this,y,x,R,J),se.prototype.initFromNode.call(this,y,x,R,J),this.lang=ne},Te.prototype.createDefaultRegion=function(y){var x=new Te;return re.call(x,""),ee.call(x,{}),le.call(x,[]),se.call(x,0,Number.POSITIVE_INFINITY,null),this.lang=y,x},Te.prototype.initFromNode=function(y,x,R,ne){re.prototype.initFromNode.call(this,y,null,x,ne),se.prototype.initFromNode.call(this,y,null,x,ne),le.prototype.initFromNode.call(this,y,null,x,ne),this.styleAttrs=Ie(x,ne),this.styleRefs=Je(x),this.lang=R},Fe.prototype.initFromNode=function(y,x,R,ne){se.prototype.initFromNode.call(this,y,x,R,ne);var J=Ie(R,ne);for(var Ne in this.qname=null,this.value=null,J)if(J.hasOwnProperty(Ne)){if(this.qname){Ee(ne,"More than one style specified on set");break}this.qname=Ne,this.value=J[Ne]}}})(o,typeof sax>"u"?l(5378):sax,typeof imscNames>"u"?l(210):imscNames,typeof imscStyles>"u"?l(6811):imscStyles,typeof imscUtils>"u"?l(5926):imscUtils)},506:function(i,o,l){var f=/firefox/i.test(navigator.userAgent);(function(u,c,d){function p(Q,se,he,De){var ie;if(he.kind==="region")(ie=document.createElement("div")).style.position="absolute";else if(he.kind==="body")ie=document.createElement("div");else if(he.kind==="div")ie=document.createElement("div");else if(he.kind==="image"){if(ie=document.createElement("img"),Q.imgResolver!==null&&he.src!==null){var Se=Q.imgResolver(he.src,ie);Se&&(ie.src=Se),ie.height=Q.regionH,ie.width=Q.regionW}}else if(he.kind==="p")ie=document.createElement("p");else if(he.kind==="span")if(he.styleAttrs[d.byName.ruby.qname]==="container")ie=document.createElement("ruby"),Q.ruby=!0;else if(he.styleAttrs[d.byName.ruby.qname]==="base")ie=document.createElement("span");else if(he.styleAttrs[d.byName.ruby.qname]==="text")ie=document.createElement("rt");else if(he.styleAttrs[d.byName.ruby.qname]==="baseContainer")ie=document.createElement("rbc");else if(he.styleAttrs[d.byName.ruby.qname]==="textContainer")ie=document.createElement("rtc");else{if(he.styleAttrs[d.byName.ruby.qname]==="delimiter")return;ie=document.createElement("span")}else he.kind==="br"&&(ie=document.createElement("br"));if(ie){if(he.lang&&(he.kind!=="region"&&he.lang===De.lang||(ie.lang=he.lang)),se.appendChild(ie),ie.style.margin="0",he.kind==="region"){var xe=he.styleAttrs[d.byName.writingMode.qname];xe==="lrtb"||xe==="lr"?(Q.ipd="lr",Q.bpd="tb"):xe==="rltb"||xe==="rl"?(Q.ipd="rl",Q.bpd="tb"):xe==="tblr"?(Q.ipd="tb",Q.bpd="lr"):xe!=="tbrl"&&xe!=="tb"||(Q.ipd="tb",Q.bpd="rl")}else if(he.kind==="p"&&Q.bpd==="tb"){var je=he.styleAttrs[d.byName.direction.qname];Q.ipd=je==="ltr"?"lr":"rl"}for(var Te=0;Te<M.length;Te++){var Fe=M[Te],qe=he.styleAttrs[Fe.qname];qe!==void 0&&Fe.map!==null&&Fe.map(Q,ie,he,qe)}var Je=ie,Ie=he.styleAttrs[d.byName.linePadding.qname];if(Ie&&!Ie.isZero()){var Me=Ie.toUsedLength(Q.w,Q.h);if(Me>0){var At=Math.ceil(Me)+"px";Q.bpd==="tb"?(Je.style.paddingLeft=At,Je.style.paddingRight=At):(Je.style.paddingTop=At,Je.style.paddingBottom=At),Q.lp=Ie}}var vt=he.styleAttrs[d.byName.multiRowAlign.qname];if(vt&&vt!=="auto"){var ze=document.createElement("span");ze.style.display="inline-block",ze.style.textAlign=vt,ie.appendChild(ze),Je=ze,Q.mra=vt}var it=he.styleAttrs[d.byName.rubyReserve.qname];if(it&&it[0]!=="none"&&(Q.rubyReserve=it),he.styleAttrs[d.byName.fillLineGap.qname]&&(Q.flg=!0),he.kind==="span"&&he.text){var me=he.styleAttrs[d.byName.textEmphasis.qname];if(me&&me.style!=="none"&&(Q.textEmphasis=!0),d.byName.textCombine.qname in he.styleAttrs&&he.styleAttrs[d.byName.textCombine.qname]==="all")ie.textContent=he.text,ie._isd_element=he,me&&v(Q,ie,0,me);else for(var Ee="",$e=0;$e<he.text.length;$e++){Ee+=he.text.charAt($e);var T=he.text.charCodeAt($e);if(T<55296||T>56319||$e===he.text.length-1){var y=document.createElement("span");y.textContent=Ee,me&&v(Q,y,0,me),ie.appendChild(y),Ee="",y._isd_element=he}}}if("contents"in he)for(var x=0;x<he.contents.length;x++)p(Q,Je,he.contents[x],he);var R=[];if(he.kind==="p"&&(h(Q,Je,R,null),Q.rubyReserve&&(function(He,Ze){for(var Oe=0;Oe<He.length;Oe++){var Ye,we,Le=document.createElement("ruby"),Pe=document.createElement("span");Pe.textContent="\u200B",Le.appendChild(Pe);var ut,at=Ze.rubyReserve[1].toUsedLength(Ze.w,Ze.h)+"px";Ze.rubyReserve[0]==="both"||Ze.rubyReserve[0]==="outside"&&He.length==1?((Ye=document.createElement("rtc")).style[re]=V?"after":"under",Ye.textContent="\u200B",Ye.style.fontSize=at,(we=document.createElement("rtc")).style[re]=V?"before":"over",we.textContent="\u200B",we.style.fontSize=at,Le.appendChild(Ye),Le.appendChild(we)):((Ye=document.createElement("rtc")).textContent="\u200B",Ye.style.fontSize=at,ut=Ze.rubyReserve[0]==="after"||Ze.rubyReserve[0]==="outside"&&Oe>0?V?"after":Ze.bpd==="tb"||Ze.bpd==="rl"?"under":"over":V?"before":Ze.bpd==="tb"||Ze.bpd==="rl"?"over":"under",Ye.style[re]=ut,Le.appendChild(Ye));for(var Bt=null,Tt=0;Tt<He[Oe].rbc.length;Tt++)if(He[Oe].rbc[Tt].localName==="ruby"){Bt=He[Oe].rbc[Tt];for(var Jt=0;Jt<Bt.style.length;Jt++)Le.style.setProperty(Bt.style.item(Jt),Bt.style.getPropertyValue(Bt.style.item(Jt)));break}(Bt=Bt||He[Oe].elements[0].node).parentElement.insertBefore(Le,Bt)}}(R,Q),Q.rubyReserve=null),(Q.ruby||Q.rubyReserve)&&(function(He,Ze){for(var Oe=0;Oe<He.length;Oe++)for(var Ye=0;Ye<He[Oe].rbc.length;Ye++){var we;He[Oe].rbc[Ye].style[re]||(we=V?Oe===0?"before":"after":Ze.bpd==="tb"||Ze.bpd==="rl"?Oe===0?"over":"under":Oe===0?"under":"over",He[Oe].rbc[Ye].style[re]=we)}}(R,Q),Q.ruby=null),Q.textEmphasis&&(function(He,Ze){for(var Oe=0;Oe<He.length;Oe++)for(var Ye=0;Ye<He[Oe].te.length;Ye++){var we;He[Oe].te[Ye].style[ee]&&He[Oe].te[Ye].style[ee]!=="none"||(we=Ze.bpd==="tb"?Oe===0?"left over":"left under":Ze.bpd==="rl"?Oe===0?"right under":"left under":Oe===0?"left under":"right under",He[Oe].te[Ye].style[ee]=we)}}(R,Q),Q.textEmphasis=null),Q.mra&&(function(He){for(var Ze=0;Ze<He.length-1;Ze++){var Oe=He[Ze].elements.length;if(Oe!==0&&He[Ze].br===!1){var Ye=document.createElement("br"),we=He[Ze].elements[Oe-1].node;we.parentElement.insertBefore(Ye,we.nextSibling)}}}(R),Q.mra=null),Q.lp&&(function(He,Ze,Oe){if(He!==null)for(var Ye=0;Ye<He.length;Ye++){var we=He[Ye].elements.length,Le=Math.ceil(Ze)+"px",Pe="-"+Math.ceil(Ze)+"px";if(we!==0){var ut=He[Ye].elements[He[Ye].start_elem],at=He[Ye].elements[He[Ye].end_elem];if(ut===at){var Bt=ut.node.getBoundingClientRect();if(Bt.width==0||Bt.height==0)continue}Oe.ipd==="lr"?(ut.node.style.marginLeft=Pe,ut.node.style.paddingLeft=Le):Oe.ipd==="rl"?(ut.node.style.paddingRight=Le,ut.node.style.marginRight=Pe):Oe.ipd==="tb"&&(ut.node.style.paddingTop=Le,ut.node.style.marginTop=Pe),Oe.ipd==="lr"?(f||(at.node.style.marginRight=Pe),at.node.style.paddingRight=Le):Oe.ipd==="rl"?(at.node.style.paddingLeft=Le,f||(at.node.style.marginLeft=Pe)):Oe.ipd==="tb"&&(at.node.style.paddingBottom=Le,at.node.style.marginBottom=Pe)}}}(R,Q.lp.toUsedLength(Q.w,Q.h),Q),Q.lp=null),function(He,Ze){for(var Oe=0;Oe<He.length;Oe++)for(var Ye=He[Oe],we=1;we<Ye.elements.length;){var Le=Ye.elements[we-1],Pe=Ye.elements[we];m(Le.node,Pe.node,Ze)?Ye.elements.splice(we,1):we++}for(var ut,at,Bt=[],Tt=0;Tt<He.length;Tt++)for(var Jt=0;Jt<He[Tt].elements.length;Jt++)(at=E(ut=He[Tt].elements[Jt].node,Bt,!1))&&(ut.style.backgroundColor=at);for(var an=0;an<Bt.length;an++)Bt[an].style.backgroundColor=""}(R,Q),Q.flg)){var ne=S(Je.getBoundingClientRect(),Q);(function(He,Ze,Oe,Ye,we){for(var Le=Math.sign(Oe-Ze),Pe=0;Pe<=He.length;Pe++){var ut,at,Bt,Tt;if(ut=Pe===0?Math.round(Ze):Pe===He.length?Math.round(Oe):Math.round((He[Pe-1].after+He[Pe].before)/2),Pe>0&&He[Pe-1])for(Bt=0;Bt<He[Pe-1].elements.length;Bt++)at=Le*(ut-(Tt=He[Pe-1].elements[Bt]).after)+"px",Ye.bpd==="lr"?Tt.node.style.paddingRight=at:Ye.bpd==="rl"?Tt.node.style.paddingLeft=at:Ye.bpd==="tb"&&(Tt.node.style.paddingBottom=at);if(Pe<He.length)for(Bt=0;Bt<He[Pe].elements.length;Bt++)at=Le*((Tt=He[Pe].elements[Bt]).before-ut)+"px",Ye.bpd==="lr"?Tt.node.style.paddingLeft=at:Ye.bpd==="rl"?Tt.node.style.paddingRight=at:Ye.bpd==="tb"&&(Tt.node.style.paddingTop=at)}})(R,ne.before,ne.after,Q),Q.flg=null}if(he.kind==="region"&&Q.bpd==="tb"&&Q.enableRollUp&&he.contents.length>0&&he.styleAttrs[d.byName.displayAlign.qname]==="after"){h(Q,Je,R,null);var J=new C(he.id===""?"_":he.id,R);if(Q.currentISDState[J.id]=J,Q.previousISDState&&J.id in Q.previousISDState&&Q.previousISDState[J.id].plist.length>0&&J.plist.length>1&&J.plist[J.plist.length-2].text===Q.previousISDState[J.id].plist[Q.previousISDState[J.id].plist.length-1].text){var Ne=ie.firstElementChild,rt=J.plist[J.plist.length-1].after-J.plist[J.plist.length-1].before;Ne.style.bottom="-"+rt+"px",Ne.style.transition="transform 0.4s",Ne.style.position="relative",Ne.style.transform="translateY(-"+rt+"px)"}}}else le(Q.errorHandler,"Error processing ISD element kind: "+he.kind)}function E(Q,se,he){return Q.style.backgroundColor?(he&&!se.includes(Q)&&se.push(Q),Q.style.backgroundColor):Q.parentElement.nodeName==="SPAN"||Q.parentElement.nodeName==="RUBY"||Q.parentElement.nodeName==="RBC"||Q.parentElement.nodeName==="RTC"||Q.parentElement.nodeName==="RT"?E(Q.parentElement,se,!0):void 0}function m(Q,se,he){if(Q.tagName==="SPAN"&&se.tagName==="SPAN"&&Q._isd_element===se._isd_element){if(!Q._isd_element)return le(he.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;Q.textContent+=se.textContent;for(var De=0;De<se.style.length;De++){var ie=se.style[De];(ie.indexOf("border")>=0||ie.indexOf("padding")>=0||ie.indexOf("margin")>=0)&&(Q.style[ie]=se.style[ie])}return se.parentElement.removeChild(se),!0}return!1}function C(Q,se){this.id=Q,this.plist=se}function S(Q,se){var he={before:null,after:null,start:null,end:null};return se.bpd==="tb"?(he.before=Q.top,he.after=Q.bottom,se.ipd==="lr"?(he.start=Q.left,he.end=Q.right):(he.start=Q.right,he.end=Q.left)):se.bpd==="lr"?(he.before=Q.left,he.after=Q.right,he.start=Q.top,he.end=Q.bottom):se.bpd==="rl"&&(he.before=Q.right,he.after=Q.left,he.start=Q.top,he.end=Q.bottom),he}function h(Q,se,he,De){if(se.localName!=="rt"&&se.localName!=="rtc"){var ie,Se,xe,je,Te=se.style.backgroundColor||De;if(se.childElementCount===0)if(se.localName==="span"||se.localName==="rb"){var Fe=S(se.getBoundingClientRect(),Q);if(he.length!==0&&(ie=Fe.before,Se=Fe.after,xe=he[he.length-1].before,Se<(je=he[he.length-1].after)&&ie>xe||je<=Se&&xe>=ie)){var qe=Math.sign(Fe.after-Fe.before),Je=Math.sign(Fe.end-Fe.start);qe*(Fe.before-he[he.length-1].before)<0&&(he[he.length-1].before=Fe.before),qe*(Fe.after-he[he.length-1].after)>0&&(he[he.length-1].after=Fe.after),Je*(Fe.start-he[he.length-1].start)<0&&(he[he.length-1].start=Fe.start,he[he.length-1].start_elem=he[he.length-1].elements.length),Je*(Fe.end-he[he.length-1].end)>0&&(he[he.length-1].end=Fe.end,he[he.length-1].end_elem=he[he.length-1].elements.length)}else he.push({before:Fe.before,after:Fe.after,start:Fe.start,end:Fe.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});he[he.length-1].text+=se.textContent,he[he.length-1].elements.push({node:se,bgcolor:Te,before:Fe.before,after:Fe.after})}else se.localName==="br"&&he.length!==0&&(he[he.length-1].br=!0);else for(var Ie=se.firstChild;Ie;)Ie.nodeType===Node.ELEMENT_NODE&&(h(Q,Ie,he,Te),Ie.localName==="ruby"||Ie.localName==="rtc"?he.length>0&&he[he.length-1].rbc.push(Ie):Ie.localName==="span"&&Ie.style[B]&&Ie.style[B]!=="none"&&he.length>0&&he[he.length-1].te.push(Ie)),Ie=Ie.nextSibling}}function v(Q,se,he,De){var ie;De.style!=="none"&&(De.style==="auto"?se.style[B]="filled":se.style[B]=De.style+" "+De.symbol,(De.position==="before"||De.position==="after")&&(ie=Q.bpd==="tb"?De.position==="before"?"left over":"left under":Q.bpd==="rl"?De.position==="before"?"right under":"left under":De.position==="before"?"left under":"right under",se.style[ee]=ie))}function w(Q,se){this.qname=Q,this.map=se}u.render=function(Q,se,he,De,ie,Se,xe,je,Te){var Fe=De||se.clientHeight,qe=ie||se.clientWidth;if(Q.aspectRatio!==null){var Je=Fe*Q.aspectRatio;Je>qe?Fe=Math.round(qe/Q.aspectRatio):qe=Je}var Ie=document.createElement("div");Ie.style.position="relative",Ie.style.width=qe+"px",Ie.style.height=Fe+"px",Ie.style.margin="auto",Ie.style.top=0,Ie.style.bottom=0,Ie.style.left=0,Ie.style.right=0,Ie.style.zIndex=0;var Me={h:Fe,w:qe,regionH:null,regionW:null,imgResolver:he,displayForcedOnlyMode:Se||!1,isd:Q,errorHandler:xe,previousISDState:je,enableRollUp:Te||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(se.appendChild(Ie),"contents"in Q)for(var At=0;At<Q.contents.length;At++)p(Me,Ie,Q.contents[At],Q);return Me.currentISDState};for(var M=[new w("http://www.w3.org/ns/ttml#styling backgroundColor",function(Q,se,he,De){De[3]!==0&&(se.style.backgroundColor="rgba("+De[0].toString()+","+De[1].toString()+","+De[2].toString()+","+(De[3]/255).toString()+")")}),new w("http://www.w3.org/ns/ttml#styling color",function(Q,se,he,De){se.style.color="rgba("+De[0].toString()+","+De[1].toString()+","+De[2].toString()+","+(De[3]/255).toString()+")"}),new w("http://www.w3.org/ns/ttml#styling direction",function(Q,se,he,De){se.style.direction=De}),new w("http://www.w3.org/ns/ttml#styling display",function(Q,se,he,De){}),new w("http://www.w3.org/ns/ttml#styling displayAlign",function(Q,se,he,De){se.style.display="flex",se.style.flexDirection="column",De==="before"?se.style.justifyContent="flex-start":De==="center"?se.style.justifyContent="center":De==="after"&&(se.style.justifyContent="flex-end")}),new w("http://www.w3.org/ns/ttml#styling extent",function(Q,se,he,De){Q.regionH=De.h.toUsedLength(Q.w,Q.h),Q.regionW=De.w.toUsedLength(Q.w,Q.h);var ie=0,Se=0,xe=he.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];xe&&(ie=xe[0].toUsedLength(Q.w,Q.h)+xe[2].toUsedLength(Q.w,Q.h),Se=xe[1].toUsedLength(Q.w,Q.h)+xe[3].toUsedLength(Q.w,Q.h)),se.style.height=Q.regionH-ie+"px",se.style.width=Q.regionW-Se+"px"}),new w("http://www.w3.org/ns/ttml#styling fontFamily",function(Q,se,he,De){for(var ie=[],Se=0;Se<De.length;Se++)De[Se]=De[Se].trim(),De[Se]==="monospaceSerif"?(ie.push("Courier New"),ie.push('"Liberation Mono"'),ie.push("Courier"),ie.push("monospace")):De[Se]==="proportionalSansSerif"?(ie.push("Arial"),ie.push("Helvetica"),ie.push('"Liberation Sans"'),ie.push("sans-serif")):De[Se]==="monospace"?ie.push("monospace"):De[Se]==="sansSerif"?ie.push("sans-serif"):De[Se]==="serif"?ie.push("serif"):De[Se]==="monospaceSansSerif"?(ie.push("Consolas"),ie.push("monospace")):De[Se]==="proportionalSerif"?ie.push("serif"):ie.push(De[Se]);if(ie.length>0){for(var xe=[ie[0]],je=1;je<ie.length;je++)xe.indexOf(ie[je])==-1&&xe.push(ie[je]);ie=xe}se.style.fontFamily=ie.join(",")}),new w("http://www.w3.org/ns/ttml#styling shear",function(Q,se,he,De){if(De!==0){var ie=-.9*De;Q.bpd==="tb"?se.style.transform="skewX("+ie+"deg)":se.style.transform="skewY("+ie+"deg)"}}),new w("http://www.w3.org/ns/ttml#styling fontSize",function(Q,se,he,De){se.style.fontSize=De.toUsedLength(Q.w,Q.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling fontStyle",function(Q,se,he,De){se.style.fontStyle=De}),new w("http://www.w3.org/ns/ttml#styling fontWeight",function(Q,se,he,De){se.style.fontWeight=De}),new w("http://www.w3.org/ns/ttml#styling lineHeight",function(Q,se,he,De){se.style.lineHeight=De==="normal"?"normal":De.toUsedLength(Q.w,Q.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling opacity",function(Q,se,he,De){se.style.opacity=De}),new w("http://www.w3.org/ns/ttml#styling origin",function(Q,se,he,De){se.style.top=De.h.toUsedLength(Q.w,Q.h)+"px",se.style.left=De.w.toUsedLength(Q.w,Q.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling overflow",function(Q,se,he,De){se.style.overflow=De}),new w("http://www.w3.org/ns/ttml#styling padding",function(Q,se,he,De){var ie=[];ie[0]=De[0].toUsedLength(Q.w,Q.h)+"px",ie[1]=De[3].toUsedLength(Q.w,Q.h)+"px",ie[2]=De[2].toUsedLength(Q.w,Q.h)+"px",ie[3]=De[1].toUsedLength(Q.w,Q.h)+"px",se.style.padding=ie.join(" ")}),new w("http://www.w3.org/ns/ttml#styling position",function(Q,se,he,De){se.style.top=De.h.toUsedLength(Q.w,Q.h)+"px",se.style.left=De.w.toUsedLength(Q.w,Q.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling rubyAlign",function(Q,se,he,De){se.style.rubyAlign=De==="spaceAround"?"space-around":"center"}),new w("http://www.w3.org/ns/ttml#styling rubyPosition",function(Q,se,he,De){var ie;De!=="before"&&De!=="after"||(ie=V?De:Q.bpd==="tb"||Q.bpd==="rl"?De==="before"?"over":"under":De==="before"?"under":"over",se.parentElement.style[re]=ie)}),new w("http://www.w3.org/ns/ttml#styling showBackground",null),new w("http://www.w3.org/ns/ttml#styling textAlign",function(Q,se,he,De){var ie;ie=De==="start"?Q.ipd==="rl"?"right":"left":De==="end"?Q.ipd==="rl"?"left":"right":De,se.style.textAlign=ie}),new w("http://www.w3.org/ns/ttml#styling textDecoration",function(Q,se,he,De){se.style.textDecoration=De.join(" ").replace("lineThrough","line-through")}),new w("http://www.w3.org/ns/ttml#styling textOutline",function(Q,se,he,De){}),new w("http://www.w3.org/ns/ttml#styling textShadow",function(Q,se,he,De){var ie=he.styleAttrs[d.byName.textOutline.qname];if(De==="none"&&ie==="none")se.style.textShadow="";else{var Se=[];if(ie!=="none"){var xe="rgba("+ie.color[0].toString()+","+ie.color[1].toString()+","+ie.color[2].toString()+","+(ie.color[3]/255).toString()+")";Se.push("1px 1px 1px "+xe),Se.push("-1px 1px 1px "+xe),Se.push("1px -1px 1px "+xe),Se.push("-1px -1px 1px "+xe)}if(De!=="none")for(var je=0;je<De.length;je++)Se.push(De[je].x_off.toUsedLength(Q.w,Q.h)+"px "+De[je].y_off.toUsedLength(Q.w,Q.h)+"px "+De[je].b_radius.toUsedLength(Q.w,Q.h)+"px rgba("+De[je].color[0].toString()+","+De[je].color[1].toString()+","+De[je].color[2].toString()+","+(De[je].color[3]/255).toString()+")");se.style.textShadow=Se.join(",")}}),new w("http://www.w3.org/ns/ttml#styling textCombine",function(Q,se,he,De){se.style.textCombineUpright=De}),new w("http://www.w3.org/ns/ttml#styling textEmphasis",function(Q,se,he,De){}),new w("http://www.w3.org/ns/ttml#styling unicodeBidi",function(Q,se,he,De){var ie;ie=De==="bidiOverride"?"bidi-override":De,se.style.unicodeBidi=ie}),new w("http://www.w3.org/ns/ttml#styling visibility",function(Q,se,he,De){se.style.visibility=De}),new w("http://www.w3.org/ns/ttml#styling wrapOption",function(Q,se,he,De){De==="wrap"?he.space==="preserve"?se.style.whiteSpace="pre-wrap":se.style.whiteSpace="normal":he.space==="preserve"?se.style.whiteSpace="pre":se.style.whiteSpace="noWrap"}),new w("http://www.w3.org/ns/ttml#styling writingMode",function(Q,se,he,De){De==="lrtb"||De==="lr"||De==="rltb"||De==="rl"?se.style.writingMode="horizontal-tb":De==="tblr"?se.style.writingMode="vertical-lr":De!=="tbrl"&&De!=="tb"||(se.style.writingMode="vertical-rl")}),new w("http://www.w3.org/ns/ttml#styling zIndex",function(Q,se,he,De){se.style.zIndex=De}),new w("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(Q,se,he,De){Q.displayForcedOnlyMode&&De===!1&&(se.style.visibility="hidden")})],j={},q=0;q<M.length;q++)j[M[q].qname]=M[q];var V="webkitRubyPosition"in window.getComputedStyle(document.documentElement),re=V?"webkitRubyPosition":"rubyPosition",B="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ee="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function le(Q,se){if(Q&&Q.error&&Q.error(se))throw se}})(o,typeof imscNames>"u"?l(210):imscNames,typeof imscStyles>"u"?l(6811):imscStyles,typeof imscUtils>"u"?l(5926):imscUtils)},4080:function(i,o,l){(function(f,u,c,d){f.generateISD=function(w,M,j){var q,V=new S(w),re={},B={},ee=w.head.styling.initials[c.byName.showBackground.qname],le=w.head.styling.initials[c.byName.backgroundColor.qname];for(var Q in w.head.layout.regions)if(w.head.layout.regions.hasOwnProperty(Q)){var se=w.head.layout.regions[Q],he=se.styleAttrs[c.byName.showBackground.qname]||ee,De=se.styleAttrs[c.byName.backgroundColor.qname]||le;B[se.id]=(he==="always"||he===void 0)&&De!==void 0&&!(M<se.begin||M>=se.end)}for(var ie in w.body&&w.body.regionID&&(B[w.body.regionID]=!0),q=w.body!==null?function xe(je,Te){if(Te.contents){var Fe={};for(var qe in Te)Te.hasOwnProperty(qe)&&(Fe[qe]=Te[qe]);return Fe.contents=[],Te.contents.filter(function(Je){return!(je<Je.begin||je>=Je.end)}).forEach(function(Je){var Ie=xe(je,Je);Ie.regionID&&(B[Ie.regionID]=!0),Ie!==null&&Fe.contents.push(Ie)}),Fe}return Te}(M,w.body):null,B[""]!==void 0&&(B[""]=!0),B)if(B[ie]){var Se=E(w,M,w.head.layout.regions[ie],q,null,"",w.head.layout.regions[ie],j,re);Se!==null&&V.contents.push(Se.element)}return V};var p=[c.byName.color.qname,c.byName.textCombine.qname,c.byName.textDecoration.qname,c.byName.textEmphasis.qname,c.byName.textOutline.qname,c.byName.textShadow.qname];function E(w,M,j,q,V,re,B,ee,le){if(M<B.begin||M>=B.end)return null;var Q="regionID"in B&&B.regionID!==""?B.regionID:re;if(V!==null&&Q!==j.id&&(!("contents"in B)||"contents"in B&&B.contents.length===0||Q!==""))return null;var se=new h(B);if("sets"in B)for(var he=0;he<B.sets.length;he++)M<B.sets[he].begin||M>=B.sets[he].end||(se.styleAttrs[B.sets[he].qname]=B.sets[he].value);var De={};for(var ie in se.styleAttrs)if(se.styleAttrs.hasOwnProperty(ie)&&(De[ie]=!0,se.kind==="region"&&ie===c.byName.writingMode.qname&&!(c.byName.direction.qname in se.styleAttrs))){var Se=se.styleAttrs[ie];Se==="lrtb"||Se==="lr"?se.styleAttrs[c.byName.direction.qname]="ltr":Se!=="rltb"&&Se!=="rl"||(se.styleAttrs[c.byName.direction.qname]="rtl")}if(V!==null)for(var xe=0;xe<c.all.length;xe++){var je=c.all[xe];if(je.qname===c.byName.textDecoration.qname){var Te=V.styleAttrs[je.qname],Fe=se.styleAttrs[je.qname],qe=[];Fe===void 0?qe=Te:Fe.indexOf("none")===-1?((Fe.indexOf("noUnderline")===-1&&Te.indexOf("underline")!==-1||Fe.indexOf("underline")!==-1)&&qe.push("underline"),(Fe.indexOf("noLineThrough")===-1&&Te.indexOf("lineThrough")!==-1||Fe.indexOf("lineThrough")!==-1)&&qe.push("lineThrough"),(Fe.indexOf("noOverline")===-1&&Te.indexOf("overline")!==-1||Fe.indexOf("overline")!==-1)&&qe.push("overline")):qe.push("none"),se.styleAttrs[je.qname]=qe}else if(je.qname!==c.byName.fontSize.qname||je.qname in se.styleAttrs||se.kind!=="span"||se.styleAttrs[c.byName.ruby.qname]!=="textContainer")if(je.qname!==c.byName.fontSize.qname||je.qname in se.styleAttrs||se.kind!=="span"||se.styleAttrs[c.byName.ruby.qname]!=="text")je.inherit&&je.qname in V.styleAttrs&&!(je.qname in se.styleAttrs)&&(se.styleAttrs[je.qname]=V.styleAttrs[je.qname]);else{var Je=V.styleAttrs[c.byName.fontSize.qname];V.styleAttrs[c.byName.ruby.qname]==="textContainer"?se.styleAttrs[je.qname]=Je:se.styleAttrs[je.qname]=new d.ComputedLength(.5*Je.rw,.5*Je.rh)}else{var Ie=V.styleAttrs[c.byName.fontSize.qname];se.styleAttrs[je.qname]=new d.ComputedLength(.5*Ie.rw,.5*Ie.rh)}}for(var Me=0;Me<c.all.length;Me++){var At=c.all[Me];if(!(At.qname in se.styleAttrs)&&!(At.qname===c.byName.position.qname&&c.byName.origin.qname in se.styleAttrs||At.qname===c.byName.origin.qname&&c.byName.position.qname in se.styleAttrs)){var vt=w.head.styling.initials[At.qname]||At.initial;if(vt!==null&&(se.kind==="region"||At.inherit===!1&&vt!==null)){var ze=At.parse(vt);ze!==null?(se.styleAttrs[At.qname]=ze,De[At.qname]=!0):v(ee,"Invalid initial value for '"+At.qname+"' on element '"+se.kind)}}}for(var it=0;it<c.all.length;it++){var me=c.all[it];if(me.qname in De&&me.compute!==null){var Ee=me.compute(w,V,se,se.styleAttrs[me.qname],le);Ee!==null?se.styleAttrs[me.qname]=Ee:(se.styleAttrs[me.qname]=me.compute(w,V,se,me.parse(me.initial),le),v(ee,"Style '"+me.qname+"' on element '"+se.kind+"' cannot be computed"))}}if(se.styleAttrs[c.byName.display.qname]==="none")return null;var $e=null;V===null?$e=q===null?[]:[q]:"contents"in B&&($e=B.contents);for(var T=0;$e!==null&&T<$e.length;T++){var y=E(w,M,j,q,se,Q,$e[T],ee,le);y!==null&&se.contents.push(y.element)}for(var x in se.styleAttrs)if(se.styleAttrs.hasOwnProperty(x)){var R=!1;if(se.kind==="span"){var ne=se.styleAttrs[c.byName.ruby.qname];(R=(ne==="container"||ne==="textContainer"||ne==="baseContainer")&&p.indexOf(x)!==-1)||(R=ne!=="container"&&x===c.byName.rubyAlign.qname),R||(R=!(ne==="textContainer"||ne==="text")&&x===c.byName.rubyPosition.qname)}if(!R){var J=c.byQName[x];"applies"in J&&(R=J.applies.indexOf(se.kind)===-1)}R&&delete se.styleAttrs[x]}var Ne=se.styleAttrs[c.byName.ruby.qname];if(se.kind==="p"||se.kind==="span"&&(Ne==="textContainer"||Ne==="text")){var rt=[];m(se,rt),function(He){for(var Ze,Oe=0;Oe<He.length;)if((Ze=He[Oe]).kind!=="br"&&Ze.space!=="preserve"){var Ye=Ze.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(Ye)&&(Oe===0||(we=He[Oe-1]).kind==="br"||/[\r\n\t ]$/.test(we.text))&&(Ye=Ye.substring(1)),Ze.text=Ye,Ye.length===0?He.splice(Oe,1):Oe++}else Oe++;var we,Le;for(Oe=0;Oe<He.length;Oe++)(Ze=He[Oe]).kind!=="br"&&Ze.space!=="preserve"?/[ ]$/.test(Ze.text)&&(Oe===He.length-1||(Le=He[Oe+1]).kind==="br"||Le.space==="preserve"&&/^[\r\n]/.test(Le.text))&&(Ze.text=Ze.text.slice(0,-1)):Oe++}(rt),C(se)}return se.kind==="div"&&c.byName.backgroundImage.qname in se.styleAttrs||se.kind==="br"||se.kind==="image"||"contents"in se&&se.contents.length>0||se.kind==="span"&&se.text!==null||se.kind==="region"&&se.styleAttrs[c.byName.showBackground.qname]==="always"?{region_id:Q,element:se}:null}function m(w,M){if("contents"in w)for(var j=0;j<w.contents.length;j++){var q=w.contents[j],V=q.styleAttrs[c.byName.ruby.qname];(q.kind!=="span"||V!=="textContainer"&&V!=="text")&&("contents"in q?m(q,M):(q.kind==="span"&&q.text.length!==0||q.kind==="br")&&M.push(q))}}function C(w){if(w.kind==="br")return!1;if("text"in w)return w.text.length===0;if("contents"in w){for(var M=w.contents.length;M--;)C(w.contents[M])&&w.contents.splice(M,1);return w.contents.length===0}}function S(w){this.contents=[],this.aspectRatio=w.aspectRatio,this.lang=w.lang}function h(w){for(var M in this.kind=w.kind||"region",this.lang=w.lang,w.id&&(this.id=w.id),this.styleAttrs={},w.styleAttrs)w.styleAttrs.hasOwnProperty(M)&&(this.styleAttrs[M]=w.styleAttrs[M]);"src"in w&&(this.src=w.src),"type"in w&&(this.type=w.type),"text"in w?this.text=w.text:(this.kind==="region"||"contents"in w)&&(this.contents=[]),"space"in w&&(this.space=w.space)}function v(w,M){if(w&&w.error&&w.error(M))throw M}})(o,typeof imscNames>"u"?l(210):imscNames,typeof imscStyles>"u"?l(6811):imscStyles,typeof imscUtils>"u"?l(5926):imscUtils)},4403:function(i,o,l){o.generateISD=l(4080).generateISD,o.fromXML=l(3362).fromXML,o.renderHTML=l(506).render},210:function(i,o){(function(l){l.ns_tt="http://www.w3.org/ns/ttml",l.ns_tts="http://www.w3.org/ns/ttml#styling",l.ns_ttp="http://www.w3.org/ns/ttml#parameter",l.ns_xml="http://www.w3.org/XML/1998/namespace",l.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",l.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",l.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",l.ns_ebutts="urn:ebu:tt:style"})(o)},6811:function(i,o,l){(function(f,u,c){function d(m,C,S,h,v,w,M,j){this.name=C,this.ns=m,this.qname=m+" "+C,this.inherit=v,this.animatable=w,this.initial=S,this.applies=h,this.parse=M,this.compute=j}for(var p in f.all=[new d(u.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,c.parseColor,null),new d(u.ns_tts,"color","white",["span"],!0,!0,c.parseColor,null),new d(u.ns_tts,"direction","ltr",["p","span"],!0,!0,function(m){return m},null),new d(u.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(m){return m},null),new d(u.ns_tts,"displayAlign","before",["region"],!1,!0,function(m){return m},null),new d(u.ns_tts,"extent","auto",["tt","region"],!1,!0,function(m){if(m==="auto")return m;var C=m.split(" ");if(C.length!==2)return null;var S=c.parseLength(C[0]),h=c.parseLength(C[1]);return h&&S?{h,w:S}:null},function(m,C,S,h,v){var w,M;if(h==="auto")w=new c.ComputedLength(0,1);else if((w=c.toComputedLength(h.h.value,h.h.unit,null,m.dimensions.h,null,m.pxLength.h))===null)return null;if(h==="auto")M=new c.ComputedLength(1,0);else if((M=c.toComputedLength(h.w.value,h.w.unit,null,m.dimensions.w,null,m.pxLength.w))===null)return null;return{h:w,w:M}}),new d(u.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(m){for(var C=m.split(","),S=[],h=0;h<C.length;h++)C[h]=C[h].trim(),C[h].charAt(0)!=="'"&&C[h].charAt(0)!=='"'&&C[h]==="default"?S.push("monospaceSerif"):S.push(C[h]);return S},null),new d(u.ns_tts,"shear","0%",["p"],!0,!0,c.parseLength,function(m,C,S,h){return h.unit!=="%"?null:Math.abs(h.value)>100?100*Math.sign(h.value):h.value}),new d(u.ns_tts,"fontSize","1c",["span","p"],!0,!0,c.parseLength,function(m,C,S,h,v){return c.toComputedLength(h.value,h.unit,C!==null?C.styleAttrs[f.byName.fontSize.qname]:m.cellLength.h,C!==null?C.styleAttrs[f.byName.fontSize.qname]:m.cellLength.h,m.cellLength.h,m.pxLength.h)}),new d(u.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(m){return m},null),new d(u.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(m){return m},null),new d(u.ns_tts,"lineHeight","normal",["p"],!0,!0,function(m){return m==="normal"?m:c.parseLength(m)},function(m,C,S,h,v){var w;if(h==="normal")w=h;else if((w=c.toComputedLength(h.value,h.unit,S.styleAttrs[f.byName.fontSize.qname],S.styleAttrs[f.byName.fontSize.qname],m.cellLength.h,m.pxLength.h))===null)return null;return w}),new d(u.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new d(u.ns_tts,"origin","auto",["region"],!1,!0,function(m){if(m==="auto")return m;var C=m.split(" ");if(C.length!==2)return null;var S=c.parseLength(C[0]),h=c.parseLength(C[1]);return h&&S?{h,w:S}:null},function(m,C,S,h,v){var w,M;if(h==="auto")w=new c.ComputedLength(0,0);else if((w=c.toComputedLength(h.h.value,h.h.unit,null,m.dimensions.h,null,m.pxLength.h))===null)return null;if(h==="auto")M=new c.ComputedLength(0,0);else if((M=c.toComputedLength(h.w.value,h.w.unit,null,m.dimensions.w,null,m.pxLength.w))===null)return null;return{h:w,w:M}}),new d(u.ns_tts,"overflow","hidden",["region"],!1,!0,function(m){return m},null),new d(u.ns_tts,"padding","0px",["region"],!1,!0,function(m){var C=m.split(" ");if(C.length>4)return null;for(var S=[],h=0;h<C.length;h++){var v=c.parseLength(C[h]);if(!v)return null;S.push(v)}return S},function(m,C,S,h,v){var w;if(h.length===1)w=[h[0],h[0],h[0],h[0]];else if(h.length===2)w=[h[0],h[1],h[0],h[1]];else if(h.length===3)w=[h[0],h[1],h[2],h[1]];else{if(h.length!==4)return null;w=[h[0],h[1],h[2],h[3]]}var M=S.styleAttrs[f.byName.writingMode.qname];if(M==="lrtb"||M==="lr")w=[w[0],w[3],w[2],w[1]];else if(M==="rltb"||M==="rl")w=[w[0],w[1],w[2],w[3]];else if(M==="tblr")w=[w[3],w[0],w[1],w[2]];else{if(M!=="tbrl"&&M!=="tb")return null;w=[w[3],w[2],w[1],w[0]]}for(var j=[],q=0;q<w.length;q++)if(w[q].value===0)j[q]=new c.ComputedLength(0,0);else if(j[q]=c.toComputedLength(w[q].value,w[q].unit,S.styleAttrs[f.byName.fontSize.qname],q===0||q===2?S.styleAttrs[f.byName.extent.qname].h:S.styleAttrs[f.byName.extent.qname].w,q===0||q===2?m.cellLength.h:m.cellLength.w,q===0||q===2?m.pxLength.h:m.pxLength.w),j[q]===null)return null;return j}),new d(u.ns_tts,"position","top left",["region"],!1,!0,function(m){return c.parsePosition(m)},function(m,C,S,h){var v,w;return(v=c.toComputedLength(h.v.offset.value,h.v.offset.unit,null,new c.ComputedLength(-S.styleAttrs[f.byName.extent.qname].h.rw,m.dimensions.h.rh-S.styleAttrs[f.byName.extent.qname].h.rh),null,m.pxLength.h))===null?null:(h.v.edge==="bottom"&&(v=new c.ComputedLength(-v.rw-S.styleAttrs[f.byName.extent.qname].h.rw,m.dimensions.h.rh-v.rh-S.styleAttrs[f.byName.extent.qname].h.rh)),w=c.toComputedLength(h.h.offset.value,h.h.offset.unit,null,new c.ComputedLength(m.dimensions.w.rw-S.styleAttrs[f.byName.extent.qname].w.rw,-S.styleAttrs[f.byName.extent.qname].w.rh),null,m.pxLength.w),v===null?null:(h.h.edge==="right"&&(w=new c.ComputedLength(m.dimensions.w.rw-w.rw-S.styleAttrs[f.byName.extent.qname].w.rw,-w.rh-S.styleAttrs[f.byName.extent.qname].w.rh)),{h:v,w}))}),new d(u.ns_tts,"ruby","none",["span"],!1,!0,function(m){return m},null),new d(u.ns_tts,"rubyAlign","center",["span"],!0,!0,function(m){return m!=="center"&&m!=="spaceAround"?null:m},null),new d(u.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(m){return m},null),new d(u.ns_tts,"rubyReserve","none",["p"],!0,!0,function(m){var C=m.split(" "),S=[null,null];if(C.length===0||C.length>2||C[0]!=="none"&&C[0]!=="both"&&C[0]!=="after"&&C[0]!=="before"&&C[0]!=="outside")return null;if(S[0]=C[0],C.length===2&&C[0]!=="none"){var h=c.parseLength(C[1]);if(!h)return null;S[1]=h}return S},function(m,C,S,h,v){if(h[0]==="none")return h;var w;return(w=h[1]===null?new c.ComputedLength(.5*S.styleAttrs[f.byName.fontSize.qname].rw,.5*S.styleAttrs[f.byName.fontSize.qname].rh):c.toComputedLength(h[1].value,h[1].unit,S.styleAttrs[f.byName.fontSize.qname],S.styleAttrs[f.byName.fontSize.qname],m.cellLength.h,m.pxLength.h))===null?null:[h[0],w]}),new d(u.ns_tts,"showBackground","always",["region"],!1,!0,function(m){return m},null),new d(u.ns_tts,"textAlign","start",["p"],!0,!0,function(m){return m},function(m,C,S,h,v){return h==="left"?"start":h==="right"?"end":h}),new d(u.ns_tts,"textCombine","none",["span"],!0,!0,function(m){return m==="none"||m==="all"?m:null},null),new d(u.ns_tts,"textDecoration","none",["span"],!0,!0,function(m){return m.split(" ")},null),new d(u.ns_tts,"textEmphasis","none",["span"],!0,!0,function(m){for(var C=m.split(" "),S={style:null,symbol:null,color:null,position:null},h=0;h<C.length;h++)if(C[h]==="none"||C[h]==="auto")S.style=C[h];else if(C[h]==="filled"||C[h]==="open")S.style=C[h];else if(C[h]==="circle"||C[h]==="dot"||C[h]==="sesame")S.symbol=C[h];else if(C[h]==="current")S.color=C[h];else if(C[h]==="outside"||C[h]==="before"||C[h]==="after")S.position=C[h];else if(S.color=c.parseColor(C[h]),S.color===null)return null;return S.style==null&&S.symbol==null?S.style="auto":(S.symbol=S.symbol||"circle",S.style=S.style||"filled"),S.position=S.position||"outside",S.color=S.color||"current",S},null),new d(u.ns_tts,"textOutline","none",["span"],!0,!0,function(m){if(m==="none")return m;var C={},S=m.split(" ");if(S.length===0||S.length>2)return null;var h=c.parseColor(S[0]);if(C.color=h,h!==null&&S.shift(),S.length!==1)return null;var v=c.parseLength(S[0]);return v?(C.thickness=v,C):null},function(m,C,S,h,v){if(h==="none")return h;var w={};return h.color===null?w.color=S.styleAttrs[f.byName.color.qname]:w.color=h.color,w.thickness=c.toComputedLength(h.thickness.value,h.thickness.unit,S.styleAttrs[f.byName.fontSize.qname],S.styleAttrs[f.byName.fontSize.qname],m.cellLength.h,m.pxLength.h),w.thickness===null?null:w}),new d(u.ns_tts,"textShadow","none",["span"],!0,!0,c.parseTextShadow,function(m,C,S,h){if(h==="none")return h;for(var v=[],w=0;w<h.length;w++){var M={};if(M.x_off=c.toComputedLength(h[w][0].value,h[w][0].unit,null,S.styleAttrs[f.byName.fontSize.qname],null,m.pxLength.w),M.x_off===null||(M.y_off=c.toComputedLength(h[w][1].value,h[w][1].unit,null,S.styleAttrs[f.byName.fontSize.qname],null,m.pxLength.h),M.y_off===null))return null;if(h[w][2]===null)M.b_radius=0;else if(M.b_radius=c.toComputedLength(h[w][2].value,h[w][2].unit,null,S.styleAttrs[f.byName.fontSize.qname],null,m.pxLength.h),M.b_radius===null)return null;h[w][3]===null?M.color=S.styleAttrs[f.byName.color.qname]:M.color=h[w][3],v.push(M)}return v}),new d(u.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(m){return m},null),new d(u.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(m){return m},null),new d(u.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(m){return m},null),new d(u.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(m){return m},null),new d(u.ns_tts,"zIndex","auto",["region"],!1,!0,function(m){var C;return m==="auto"?C=m:(C=parseInt(m),isNaN(C)&&(C=null)),C},null),new d(u.ns_ebutts,"linePadding","0c",["p"],!0,!1,c.parseLength,function(m,C,S,h,v){return c.toComputedLength(h.value,h.unit,null,null,m.cellLength.w,null)}),new d(u.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(m){return m},null),new d(u.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(m){return m},null),new d(u.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(m){return m==="true"},null),new d(u.ns_itts,"fillLineGap","false",["p"],!0,!0,function(m){return m==="true"},null)],f.byQName={},f.all)f.byQName[f.all[p].qname]=f.all[p];for(var E in f.byName={},f.all)f.byName[f.all[E].name]=f.all[E]})(o,typeof imscNames>"u"?l(210):imscNames,typeof imscUtils>"u"?l(5926):imscUtils)},5926:function(i,o){(function(l){var f=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,u=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,c=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,d={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};l.parseColor=function(E){var m,C=null,S=d[E.toLowerCase()];return S!==void 0?C=S:(m=f.exec(E))!==null?C=[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),m[4]!==void 0?parseInt(m[4],16):255]:(m=u.exec(E))!==null?C=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),255]:(m=c.exec(E))!==null&&(C=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseInt(m[4])]),C};var p=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;l.parseLength=function(E){var m,C=null;return(m=p.exec(E))!==null&&(C={value:parseFloat(m[1]),unit:m[2]}),C},l.parseTextShadow=function(E){for(var m=E.match(/([^\(,\)]|\([^\)]+\))+/g),C=[],S=0;S<m.length;S++){var h=m[S].split(" ");if(h.length===1&&h[0]==="none")return"none";if(h.length>1&&h.length<5){var v=[null,null,null,null],w=l.parseLength(h.shift());if(w===null||(v[0]=w,(w=l.parseLength(h.shift()))===null))return null;if(v[1]=w,h.length===0){C.push(v);continue}if((w=l.parseLength(h[0]))!==null&&(v[2]=w,h.shift()),h.length===0){C.push(v);continue}var M=l.parseColor(h[0]);if(M===null)return null;v[3]=M,C.push(v)}}return C},l.parsePosition=function(E){var m=E.split(" "),C=function(q){return q==="center"||q==="left"||q==="top"||q==="bottom"||q==="right"};if(m.length>4)return null;for(var S=0;S<m.length;S++)if(!C(m[S])){var h=l.parseLength(m[S]);if(h===null)return null;m[S]=h}for(var v={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},w=0;w<m.length;){var M=m[w++];if(C(M)){var j={value:0,unit:"%"};m.length!==2&&w<m.length&&!C(m[w])&&(j=m[w++]),M==="right"?(v.h.edge=M,v.h.offset=j):M==="bottom"?(v.v.edge=M,v.v.offset=j):M==="left"?v.h.offset=j:M==="top"&&(v.v.offset=j)}else{if(m.length!==1&&m.length!==2)return null;w===1?v.h.offset=M:v.v.offset=M}}return v},l.ComputedLength=function(E,m){this.rw=E,this.rh=m},l.ComputedLength.prototype.toUsedLength=function(E,m){return E*this.rw+m*this.rh},l.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},l.toComputedLength=function(E,m,C,S,h,v){return m==="%"&&S?new l.ComputedLength(S.rw*E/100,S.rh*E/100):m==="em"&&C?new l.ComputedLength(C.rw*E,C.rh*E):m==="c"&&h?new l.ComputedLength(E*h.rw,E*h.rh):m==="px"&&v?new l.ComputedLength(E*v.rw,E*v.rh):m==="rh"?new l.ComputedLength(0,E/100):m==="rw"?new l.ComputedLength(E/100,0):null}})(o)},3516:function(i){"use strict";i.exports=function(o){var l=typeof o=="string"?o.charCodeAt(0):o;return l>=97&&l<=122||l>=65&&l<=90}},2219:function(i,o,l){"use strict";var f=l(3516),u=l(395);i.exports=function(c){return f(c)||u(c)}},395:function(i){"use strict";i.exports=function(o){var l=typeof o=="string"?o.charCodeAt(0):o;return l>=48&&l<=57}},3875:function(i){"use strict";function o(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function l(u,c){for(var d,p="",E=0,m=-1,C=0,S=0;S<=u.length;++S){if(S<u.length)d=u.charCodeAt(S);else{if(d===47)break;d=47}if(d===47){if(!(m===S-1||C===1))if(m!==S-1&&C===2){if(p.length<2||E!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var h=p.lastIndexOf("/");if(h!==p.length-1){h===-1?(p="",E=0):E=(p=p.slice(0,h)).length-1-p.lastIndexOf("/"),m=S,C=0;continue}}else if(p.length===2||p.length===1){p="",E=0,m=S,C=0;continue}}c&&(p.length>0?p+="/..":p="..",E=2)}else p.length>0?p+="/"+u.slice(m+1,S):p=u.slice(m+1,S),E=S-m-1;m=S,C=0}else d===46&&C!==-1?++C:C=-1}return p}var f={resolve:function(){for(var u,c="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var E;p>=0?E=arguments[p]:(u===void 0&&(u=process.cwd()),E=u),o(E),E.length!==0&&(c=E+"/"+c,d=E.charCodeAt(0)===47)}return c=l(c,!d),d?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(u){if(o(u),u.length===0)return".";var c=u.charCodeAt(0)===47,d=u.charCodeAt(u.length-1)===47;return(u=l(u,!c)).length!==0||c||(u="."),u.length>0&&d&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return o(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var d=arguments[c];o(d),d.length>0&&(u===void 0?u=d:u+="/"+d)}return u===void 0?".":f.normalize(u)},relative:function(u,c){if(o(u),o(c),u===c||(u=f.resolve(u))===(c=f.resolve(c)))return"";for(var d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var p=u.length,E=p-d,m=1;m<c.length&&c.charCodeAt(m)===47;++m);for(var C=c.length-m,S=E<C?E:C,h=-1,v=0;v<=S;++v){if(v===S){if(C>S){if(c.charCodeAt(m+v)===47)return c.slice(m+v+1);if(v===0)return c.slice(m+v)}else E>S&&(u.charCodeAt(d+v)===47?h=v:v===0&&(h=0));break}var w=u.charCodeAt(d+v);if(w!==c.charCodeAt(m+v))break;w===47&&(h=v)}var M="";for(v=d+h+1;v<=p;++v)v!==p&&u.charCodeAt(v)!==47||(M.length===0?M+="..":M+="/..");return M.length>0?M+c.slice(m+h):(m+=h,c.charCodeAt(m)===47&&++m,c.slice(m))},_makeLong:function(u){return u},dirname:function(u){if(o(u),u.length===0)return".";for(var c=u.charCodeAt(0),d=c===47,p=-1,E=!0,m=u.length-1;m>=1;--m)if((c=u.charCodeAt(m))===47){if(!E){p=m;break}}else E=!1;return p===-1?d?"/":".":d&&p===1?"//":u.slice(0,p)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(u);var d,p=0,E=-1,m=!0;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var C=c.length-1,S=-1;for(d=u.length-1;d>=0;--d){var h=u.charCodeAt(d);if(h===47){if(!m){p=d+1;break}}else S===-1&&(m=!1,S=d+1),C>=0&&(h===c.charCodeAt(C)?--C==-1&&(E=d):(C=-1,E=S))}return p===E?E=S:E===-1&&(E=u.length),u.slice(p,E)}for(d=u.length-1;d>=0;--d)if(u.charCodeAt(d)===47){if(!m){p=d+1;break}}else E===-1&&(m=!1,E=d+1);return E===-1?"":u.slice(p,E)},extname:function(u){o(u);for(var c=-1,d=0,p=-1,E=!0,m=0,C=u.length-1;C>=0;--C){var S=u.charCodeAt(C);if(S!==47)p===-1&&(E=!1,p=C+1),S===46?c===-1?c=C:m!==1&&(m=1):c!==-1&&(m=-1);else if(!E){d=C+1;break}}return c===-1||p===-1||m===0||m===1&&c===p-1&&c===d+1?"":u.slice(c,p)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(c,d){var p=d.dir||d.root,E=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+E:p+"/"+E:E}(0,u)},parse:function(u){o(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var d,p=u.charCodeAt(0),E=p===47;E?(c.root="/",d=1):d=0;for(var m=-1,C=0,S=-1,h=!0,v=u.length-1,w=0;v>=d;--v)if((p=u.charCodeAt(v))!==47)S===-1&&(h=!1,S=v+1),p===46?m===-1?m=v:w!==1&&(w=1):m!==-1&&(w=-1);else if(!h){C=v+1;break}return m===-1||S===-1||w===0||w===1&&m===S-1&&m===C+1?S!==-1&&(c.base=c.name=C===0&&E?u.slice(1,S):u.slice(C,S)):(C===0&&E?(c.name=u.slice(1,m),c.base=u.slice(1,S)):(c.name=u.slice(C,m),c.base=u.slice(C,S)),c.ext=u.slice(m,S)),C>0?c.dir=u.slice(0,C-1):E&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,i.exports=f},8387:function(i,o,l){var f=l(1549),u=f.Buffer;function c(p,E){for(var m in p)E[m]=p[m]}function d(p,E,m){return u(p,E,m)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?i.exports=f:(c(f,o),o.Buffer=d),c(u,d),d.from=function(p,E,m){if(typeof p=="number")throw new TypeError("Argument must not be a number");return u(p,E,m)},d.alloc=function(p,E,m){if(typeof p!="number")throw new TypeError("Argument must be a number");var C=u(p);return E!==void 0?typeof m=="string"?C.fill(E,m):C.fill(E):C.fill(0),C},d.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return u(p)},d.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(p)}},5378:function(i,o,l){(function(f){f.parser=function(T,y){return new d(T,y)},f.SAXParser=d,f.SAXStream=E,f.createStream=function(T,y){return new E(T,y)},f.MAX_BUFFER_LENGTH=65536;var u,c=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function d(T,y){if(!(this instanceof d))return new d(T,y);var x=this;(function(R){for(var ne=0,J=c.length;ne<J;ne++)R[c[ne]]=""})(x),x.q=x.c="",x.bufferCheckPosition=f.MAX_BUFFER_LENGTH,x.opt=y||{},x.opt.lowercase=x.opt.lowercase||x.opt.lowercasetags,x.looseCase=x.opt.lowercase?"toLowerCase":"toUpperCase",x.tags=[],x.closed=x.closedRoot=x.sawRoot=!1,x.tag=x.error=null,x.strict=!!T,x.noscript=!(!T&&!x.opt.noscript),x.state=ie.BEGIN,x.strictEntities=x.opt.strictEntities,x.ENTITIES=x.strictEntities?Object.create(f.XML_ENTITIES):Object.create(f.ENTITIES),x.attribList=[],x.opt.xmlns&&(x.ns=Object.create(j)),x.trackPosition=x.opt.position!==!1,x.trackPosition&&(x.position=x.line=x.column=0),xe(x,"onready")}f.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(T){function y(){}return y.prototype=T,new y}),Object.keys||(Object.keys=function(T){var y=[];for(var x in T)T.hasOwnProperty(x)&&y.push(x);return y}),d.prototype={end:function(){Je(this)},write:function(T){var y=this;if(this.error)throw this.error;if(y.closed)return qe(y,"Cannot write after close. Assign an onready handler.");if(T===null)return Je(y);typeof T=="object"&&(T=T.toString());for(var x=0,R="";R=$e(T,x++),y.c=R,R;)switch(y.trackPosition&&(y.position++,R===`
`?(y.line++,y.column=0):y.column++),y.state){case ie.BEGIN:if(y.state=ie.BEGIN_WHITESPACE,R==="\uFEFF")continue;Ee(y,R);continue;case ie.BEGIN_WHITESPACE:Ee(y,R);continue;case ie.TEXT:if(y.sawRoot&&!y.closedRoot){for(var ne=x-1;R&&R!=="<"&&R!=="&";)(R=$e(T,x++))&&y.trackPosition&&(y.position++,R===`
`?(y.line++,y.column=0):y.column++);y.textNode+=T.substring(ne,x-1)}R!=="<"||y.sawRoot&&y.closedRoot&&!y.strict?(!Q(m,R)||y.sawRoot&&!y.closedRoot||Ie(y,"Text data outside of root node."),R==="&"?y.state=ie.TEXT_ENTITY:y.textNode+=R):(y.state=ie.OPEN_WAKA,y.startTagPosition=y.position);continue;case ie.SCRIPT:R==="<"?y.state=ie.SCRIPT_ENDING:y.script+=R;continue;case ie.SCRIPT_ENDING:R==="/"?y.state=ie.CLOSE_TAG:(y.script+="<"+R,y.state=ie.SCRIPT);continue;case ie.OPEN_WAKA:if(R==="!")y.state=ie.SGML_DECL,y.sgmlDecl="";else if(!le(m,R))if(le(q,R))y.state=ie.OPEN_TAG,y.tagName=R;else if(R==="/")y.state=ie.CLOSE_TAG,y.tagName="";else if(R==="?")y.state=ie.PROC_INST,y.procInstName=y.procInstBody="";else{if(Ie(y,"Unencoded <"),y.startTagPosition+1<y.position){var J=y.position-y.startTagPosition;R=new Array(J).join(" ")+R}y.textNode+="<"+R,y.state=ie.TEXT}continue;case ie.SGML_DECL:(y.sgmlDecl+R).toUpperCase()==="[CDATA["?(je(y,"onopencdata"),y.state=ie.CDATA,y.sgmlDecl="",y.cdata=""):y.sgmlDecl+R==="--"?(y.state=ie.COMMENT,y.comment="",y.sgmlDecl=""):(y.sgmlDecl+R).toUpperCase()==="DOCTYPE"?(y.state=ie.DOCTYPE,(y.doctype||y.sawRoot)&&Ie(y,"Inappropriately located doctype declaration"),y.doctype="",y.sgmlDecl=""):R===">"?(je(y,"onsgmldeclaration",y.sgmlDecl),y.sgmlDecl="",y.state=ie.TEXT):(le(h,R)&&(y.state=ie.SGML_DECL_QUOTED),y.sgmlDecl+=R);continue;case ie.SGML_DECL_QUOTED:R===y.q&&(y.state=ie.SGML_DECL,y.q=""),y.sgmlDecl+=R;continue;case ie.DOCTYPE:R===">"?(y.state=ie.TEXT,je(y,"ondoctype",y.doctype),y.doctype=!0):(y.doctype+=R,R==="["?y.state=ie.DOCTYPE_DTD:le(h,R)&&(y.state=ie.DOCTYPE_QUOTED,y.q=R));continue;case ie.DOCTYPE_QUOTED:y.doctype+=R,R===y.q&&(y.q="",y.state=ie.DOCTYPE);continue;case ie.DOCTYPE_DTD:y.doctype+=R,R==="]"?y.state=ie.DOCTYPE:le(h,R)&&(y.state=ie.DOCTYPE_DTD_QUOTED,y.q=R);continue;case ie.DOCTYPE_DTD_QUOTED:y.doctype+=R,R===y.q&&(y.state=ie.DOCTYPE_DTD,y.q="");continue;case ie.COMMENT:R==="-"?y.state=ie.COMMENT_ENDING:y.comment+=R;continue;case ie.COMMENT_ENDING:R==="-"?(y.state=ie.COMMENT_ENDED,y.comment=Fe(y.opt,y.comment),y.comment&&je(y,"oncomment",y.comment),y.comment=""):(y.comment+="-"+R,y.state=ie.COMMENT);continue;case ie.COMMENT_ENDED:R!==">"?(Ie(y,"Malformed comment"),y.comment+="--"+R,y.state=ie.COMMENT):y.state=ie.TEXT;continue;case ie.CDATA:R==="]"?y.state=ie.CDATA_ENDING:y.cdata+=R;continue;case ie.CDATA_ENDING:R==="]"?y.state=ie.CDATA_ENDING_2:(y.cdata+="]"+R,y.state=ie.CDATA);continue;case ie.CDATA_ENDING_2:R===">"?(y.cdata&&je(y,"oncdata",y.cdata),je(y,"onclosecdata"),y.cdata="",y.state=ie.TEXT):R==="]"?y.cdata+="]":(y.cdata+="]]"+R,y.state=ie.CDATA);continue;case ie.PROC_INST:R==="?"?y.state=ie.PROC_INST_ENDING:le(m,R)?y.state=ie.PROC_INST_BODY:y.procInstName+=R;continue;case ie.PROC_INST_BODY:if(!y.procInstBody&&le(m,R))continue;R==="?"?y.state=ie.PROC_INST_ENDING:y.procInstBody+=R;continue;case ie.PROC_INST_ENDING:R===">"?(je(y,"onprocessinginstruction",{name:y.procInstName,body:y.procInstBody}),y.procInstName=y.procInstBody="",y.state=ie.TEXT):(y.procInstBody+="?"+R,y.state=ie.PROC_INST_BODY);continue;case ie.OPEN_TAG:le(V,R)?y.tagName+=R:(Me(y),R===">"?ze(y):R==="/"?y.state=ie.OPEN_TAG_SLASH:(Q(m,R)&&Ie(y,"Invalid character in tag name"),y.state=ie.ATTRIB));continue;case ie.OPEN_TAG_SLASH:R===">"?(ze(y,!0),it(y)):(Ie(y,"Forward-slash in opening tag not followed by >"),y.state=ie.ATTRIB);continue;case ie.ATTRIB:if(le(m,R))continue;R===">"?ze(y):R==="/"?y.state=ie.OPEN_TAG_SLASH:le(q,R)?(y.attribName=R,y.attribValue="",y.state=ie.ATTRIB_NAME):Ie(y,"Invalid attribute name");continue;case ie.ATTRIB_NAME:R==="="?y.state=ie.ATTRIB_VALUE:R===">"?(Ie(y,"Attribute without value"),y.attribValue=y.attribName,vt(y),ze(y)):le(m,R)?y.state=ie.ATTRIB_NAME_SAW_WHITE:le(V,R)?y.attribName+=R:Ie(y,"Invalid attribute name");continue;case ie.ATTRIB_NAME_SAW_WHITE:if(R==="=")y.state=ie.ATTRIB_VALUE;else{if(le(m,R))continue;Ie(y,"Attribute without value"),y.tag.attributes[y.attribName]="",y.attribValue="",je(y,"onattribute",{name:y.attribName,value:""}),y.attribName="",R===">"?ze(y):le(q,R)?(y.attribName=R,y.state=ie.ATTRIB_NAME):(Ie(y,"Invalid attribute name"),y.state=ie.ATTRIB)}continue;case ie.ATTRIB_VALUE:if(le(m,R))continue;le(h,R)?(y.q=R,y.state=ie.ATTRIB_VALUE_QUOTED):(Ie(y,"Unquoted attribute value"),y.state=ie.ATTRIB_VALUE_UNQUOTED,y.attribValue=R);continue;case ie.ATTRIB_VALUE_QUOTED:if(R!==y.q){R==="&"?y.state=ie.ATTRIB_VALUE_ENTITY_Q:y.attribValue+=R;continue}vt(y),y.q="",y.state=ie.ATTRIB_VALUE_CLOSED;continue;case ie.ATTRIB_VALUE_CLOSED:le(m,R)?y.state=ie.ATTRIB:R===">"?ze(y):R==="/"?y.state=ie.OPEN_TAG_SLASH:le(q,R)?(Ie(y,"No whitespace between attributes"),y.attribName=R,y.attribValue="",y.state=ie.ATTRIB_NAME):Ie(y,"Invalid attribute name");continue;case ie.ATTRIB_VALUE_UNQUOTED:if(Q(v,R)){R==="&"?y.state=ie.ATTRIB_VALUE_ENTITY_U:y.attribValue+=R;continue}vt(y),R===">"?ze(y):y.state=ie.ATTRIB;continue;case ie.CLOSE_TAG:if(y.tagName)R===">"?it(y):le(V,R)?y.tagName+=R:y.script?(y.script+="</"+y.tagName,y.tagName="",y.state=ie.SCRIPT):(Q(m,R)&&Ie(y,"Invalid tagname in closing tag"),y.state=ie.CLOSE_TAG_SAW_WHITE);else{if(le(m,R))continue;Q(q,R)?y.script?(y.script+="</"+R,y.state=ie.SCRIPT):Ie(y,"Invalid tagname in closing tag."):y.tagName=R}continue;case ie.CLOSE_TAG_SAW_WHITE:if(le(m,R))continue;R===">"?it(y):Ie(y,"Invalid characters in closing tag");continue;case ie.TEXT_ENTITY:case ie.ATTRIB_VALUE_ENTITY_Q:case ie.ATTRIB_VALUE_ENTITY_U:var Ne,rt;switch(y.state){case ie.TEXT_ENTITY:Ne=ie.TEXT,rt="textNode";break;case ie.ATTRIB_VALUE_ENTITY_Q:Ne=ie.ATTRIB_VALUE_QUOTED,rt="attribValue";break;case ie.ATTRIB_VALUE_ENTITY_U:Ne=ie.ATTRIB_VALUE_UNQUOTED,rt="attribValue"}R===";"?(y[rt]+=me(y),y.entity="",y.state=Ne):le(y.entity.length?B:re,R)?y.entity+=R:(Ie(y,"Invalid character in entity name"),y[rt]+="&"+y.entity+R,y.entity="",y.state=Ne);continue;default:throw new Error(y,"Unknown state: "+y.state)}return y.position>=y.bufferCheckPosition&&function(He){for(var Ze=Math.max(f.MAX_BUFFER_LENGTH,10),Oe=0,Ye=0,we=c.length;Ye<we;Ye++){var Le=He[c[Ye]].length;if(Le>Ze)switch(c[Ye]){case"textNode":Te(He);break;case"cdata":je(He,"oncdata",He.cdata),He.cdata="";break;case"script":je(He,"onscript",He.script),He.script="";break;default:qe(He,"Max buffer length exceeded: "+c[Ye])}Oe=Math.max(Oe,Le)}var Pe=f.MAX_BUFFER_LENGTH-Oe;He.bufferCheckPosition=Pe+He.position}(y),y},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var T;Te(T=this),T.cdata!==""&&(je(T,"oncdata",T.cdata),T.cdata=""),T.script!==""&&(je(T,"onscript",T.script),T.script="")}};try{u=l(182).Stream}catch{u=function(){}}var p=f.EVENTS.filter(function(T){return T!=="error"&&T!=="end"});function E(T,y){if(!(this instanceof E))return new E(T,y);u.apply(this),this._parser=new d(T,y),this.writable=!0,this.readable=!0;var x=this;this._parser.onend=function(){x.emit("end")},this._parser.onerror=function(R){x.emit("error",R),x._parser.error=null},this._decoder=null,p.forEach(function(R){Object.defineProperty(x,"on"+R,{get:function(){return x._parser["on"+R]},set:function(ne){if(!ne)return x.removeAllListeners(R),x._parser["on"+R]=ne,ne;x.on(R,ne)},enumerable:!0,configurable:!1})})}E.prototype=Object.create(u.prototype,{constructor:{value:E}}),E.prototype.write=function(T){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(T)){if(!this._decoder){var y=l(7503).s;this._decoder=new y("utf8")}T=this._decoder.write(T)}return this._parser.write(T.toString()),this.emit("data",T),!0},E.prototype.end=function(T){return T&&T.length&&this.write(T),this._parser.end(),!0},E.prototype.on=function(T,y){var x=this;return x._parser["on"+T]||p.indexOf(T)===-1||(x._parser["on"+T]=function(){var R=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,T),x.emit.apply(x,R)}),u.prototype.on.call(x,T,y)};var m=`\r
	 `,C="0124356789",S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",h=`'"`,v=m+">",w="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/2000/xmlns/",j={xml:w,xmlns:M};m=ee(m),C=ee(C),S=ee(S);var q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,V=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,re=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ee(T){return T.split("").reduce(function(y,x){return y[x]=!0,y},{})}function le(T,y){return function(x){return Object.prototype.toString.call(x)==="[object RegExp]"}(T)?!!y.match(T):T[y]}function Q(T,y){return!le(T,y)}h=ee(h),v=ee(v);var se,he,De,ie=0;for(var Se in f.STATE={BEGIN:ie++,BEGIN_WHITESPACE:ie++,TEXT:ie++,TEXT_ENTITY:ie++,OPEN_WAKA:ie++,SGML_DECL:ie++,SGML_DECL_QUOTED:ie++,DOCTYPE:ie++,DOCTYPE_QUOTED:ie++,DOCTYPE_DTD:ie++,DOCTYPE_DTD_QUOTED:ie++,COMMENT_STARTING:ie++,COMMENT:ie++,COMMENT_ENDING:ie++,COMMENT_ENDED:ie++,CDATA:ie++,CDATA_ENDING:ie++,CDATA_ENDING_2:ie++,PROC_INST:ie++,PROC_INST_BODY:ie++,PROC_INST_ENDING:ie++,OPEN_TAG:ie++,OPEN_TAG_SLASH:ie++,ATTRIB:ie++,ATTRIB_NAME:ie++,ATTRIB_NAME_SAW_WHITE:ie++,ATTRIB_VALUE:ie++,ATTRIB_VALUE_QUOTED:ie++,ATTRIB_VALUE_CLOSED:ie++,ATTRIB_VALUE_UNQUOTED:ie++,ATTRIB_VALUE_ENTITY_Q:ie++,ATTRIB_VALUE_ENTITY_U:ie++,CLOSE_TAG:ie++,CLOSE_TAG_SAW_WHITE:ie++,SCRIPT:ie++,SCRIPT_ENDING:ie++},f.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},f.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(f.ENTITIES).forEach(function(T){var y=f.ENTITIES[T],x=typeof y=="number"?String.fromCharCode(y):y;f.ENTITIES[T]=x}),f.STATE)f.STATE[f.STATE[Se]]=Se;function xe(T,y,x){T[y]&&T[y](x)}function je(T,y,x){T.textNode&&Te(T),xe(T,y,x)}function Te(T){T.textNode=Fe(T.opt,T.textNode),T.textNode&&xe(T,"ontext",T.textNode),T.textNode=""}function Fe(T,y){return T.trim&&(y=y.trim()),T.normalize&&(y=y.replace(/\s+/g," ")),y}function qe(T,y){return Te(T),T.trackPosition&&(y+=`
Line: `+T.line+`
Column: `+T.column+`
Char: `+T.c),y=new Error(y),T.error=y,xe(T,"onerror",y),T}function Je(T){return T.sawRoot&&!T.closedRoot&&Ie(T,"Unclosed root tag"),T.state!==ie.BEGIN&&T.state!==ie.BEGIN_WHITESPACE&&T.state!==ie.TEXT&&qe(T,"Unexpected end"),Te(T),T.c="",T.closed=!0,xe(T,"onend"),d.call(T,T.strict,T.opt),T}function Ie(T,y){if(typeof T!="object"||!(T instanceof d))throw new Error("bad call to strictFail");T.strict&&qe(T,y)}function Me(T){T.strict||(T.tagName=T.tagName[T.looseCase]());var y=T.tags[T.tags.length-1]||T,x=T.tag={name:T.tagName,attributes:{}};T.opt.xmlns&&(x.ns=y.ns),T.attribList.length=0,je(T,"onopentagstart",x)}function At(T,y){var x=T.indexOf(":")<0?["",T]:T.split(":"),R=x[0],ne=x[1];return y&&T==="xmlns"&&(R="xmlns",ne=""),{prefix:R,local:ne}}function vt(T){if(T.strict||(T.attribName=T.attribName[T.looseCase]()),T.attribList.indexOf(T.attribName)!==-1||T.tag.attributes.hasOwnProperty(T.attribName))T.attribName=T.attribValue="";else{if(T.opt.xmlns){var y=At(T.attribName,!0),x=y.prefix,R=y.local;if(x==="xmlns")if(R==="xml"&&T.attribValue!==w)Ie(T,"xml: prefix must be bound to "+w+`
Actual: `+T.attribValue);else if(R==="xmlns"&&T.attribValue!==M)Ie(T,"xmlns: prefix must be bound to "+M+`
Actual: `+T.attribValue);else{var ne=T.tag,J=T.tags[T.tags.length-1]||T;ne.ns===J.ns&&(ne.ns=Object.create(J.ns)),ne.ns[R]=T.attribValue}T.attribList.push([T.attribName,T.attribValue])}else T.tag.attributes[T.attribName]=T.attribValue,je(T,"onattribute",{name:T.attribName,value:T.attribValue});T.attribName=T.attribValue=""}}function ze(T,y){if(T.opt.xmlns){var x=T.tag,R=At(T.tagName);x.prefix=R.prefix,x.local=R.local,x.uri=x.ns[R.prefix]||"",x.prefix&&!x.uri&&(Ie(T,"Unbound namespace prefix: "+JSON.stringify(T.tagName)),x.uri=R.prefix);var ne=T.tags[T.tags.length-1]||T;x.ns&&ne.ns!==x.ns&&Object.keys(x.ns).forEach(function(ut){je(T,"onopennamespace",{prefix:ut,uri:x.ns[ut]})});for(var J=0,Ne=T.attribList.length;J<Ne;J++){var rt=T.attribList[J],He=rt[0],Ze=rt[1],Oe=At(He,!0),Ye=Oe.prefix,we=Oe.local,Le=Ye===""?"":x.ns[Ye]||"",Pe={name:He,value:Ze,prefix:Ye,local:we,uri:Le};Ye&&Ye!=="xmlns"&&!Le&&(Ie(T,"Unbound namespace prefix: "+JSON.stringify(Ye)),Pe.uri=Ye),T.tag.attributes[He]=Pe,je(T,"onattribute",Pe)}T.attribList.length=0}T.tag.isSelfClosing=!!y,T.sawRoot=!0,T.tags.push(T.tag),je(T,"onopentag",T.tag),y||(T.noscript||T.tagName.toLowerCase()!=="script"?T.state=ie.TEXT:T.state=ie.SCRIPT,T.tag=null,T.tagName=""),T.attribName=T.attribValue="",T.attribList.length=0}function it(T){if(!T.tagName)return Ie(T,"Weird empty close tag."),T.textNode+="</>",void(T.state=ie.TEXT);if(T.script){if(T.tagName!=="script")return T.script+="</"+T.tagName+">",T.tagName="",void(T.state=ie.SCRIPT);je(T,"onscript",T.script),T.script=""}var y=T.tags.length,x=T.tagName;T.strict||(x=x[T.looseCase]());for(var R=x;y--&&T.tags[y].name!==R;)Ie(T,"Unexpected close tag");if(y<0)return Ie(T,"Unmatched closing tag: "+T.tagName),T.textNode+="</"+T.tagName+">",void(T.state=ie.TEXT);T.tagName=x;for(var ne=T.tags.length;ne-- >y;){var J=T.tag=T.tags.pop();T.tagName=T.tag.name,je(T,"onclosetag",T.tagName);var Ne={};for(var rt in J.ns)Ne[rt]=J.ns[rt];var He=T.tags[T.tags.length-1]||T;T.opt.xmlns&&J.ns!==He.ns&&Object.keys(J.ns).forEach(function(Ze){var Oe=J.ns[Ze];je(T,"onclosenamespace",{prefix:Ze,uri:Oe})})}y===0&&(T.closedRoot=!0),T.tagName=T.attribValue=T.attribName="",T.attribList.length=0,T.state=ie.TEXT}function me(T){var y,x=T.entity,R=x.toLowerCase(),ne="";return T.ENTITIES[x]?T.ENTITIES[x]:T.ENTITIES[R]?T.ENTITIES[R]:((x=R).charAt(0)==="#"&&(x.charAt(1)==="x"?(x=x.slice(2),ne=(y=parseInt(x,16)).toString(16)):(x=x.slice(1),ne=(y=parseInt(x,10)).toString(10))),x=x.replace(/^0+/,""),ne.toLowerCase()!==x?(Ie(T,"Invalid character entity"),"&"+T.entity+";"):String.fromCodePoint(y))}function Ee(T,y){y==="<"?(T.state=ie.OPEN_WAKA,T.startTagPosition=T.position):Q(m,y)&&(Ie(T,"Non-whitespace before first tag."),T.textNode=y,T.state=ie.TEXT)}function $e(T,y){var x="";return y<T.length&&(x=T.charAt(y)),x}ie=f.STATE,String.fromCodePoint||(se=String.fromCharCode,he=Math.floor,De=function(){var T,y,x=16384,R=[],ne=-1,J=arguments.length;if(!J)return"";for(var Ne="";++ne<J;){var rt=Number(arguments[ne]);if(!isFinite(rt)||rt<0||rt>1114111||he(rt)!==rt)throw RangeError("Invalid code point: "+rt);rt<=65535?R.push(rt):(T=55296+((rt-=65536)>>10),y=rt%1024+56320,R.push(T,y)),(ne+1===J||R.length>x)&&(Ne+=se.apply(null,R),R.length=0)}return Ne},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:De,configurable:!0,writable:!0}):String.fromCodePoint=De)})(o)},182:function(i,o,l){i.exports=u;var f=l(1159).EventEmitter;function u(){f.call(this)}l(1765)(u,f),u.Readable=l(2846),u.Writable=l(8318),u.Duplex=l(6138),u.Transform=l(9798),u.PassThrough=l(5472),u.finished=l(8800),u.pipeline=l(7295),u.Stream=u,u.prototype.pipe=function(c,d){var p=this;function E(M){c.writable&&c.write(M)===!1&&p.pause&&p.pause()}function m(){p.readable&&p.resume&&p.resume()}p.on("data",E),c.on("drain",m),c._isStdio||d&&d.end===!1||(p.on("end",S),p.on("close",h));var C=!1;function S(){C||(C=!0,c.end())}function h(){C||(C=!0,typeof c.destroy=="function"&&c.destroy())}function v(M){if(w(),f.listenerCount(this,"error")===0)throw M}function w(){p.removeListener("data",E),c.removeListener("drain",m),p.removeListener("end",S),p.removeListener("close",h),p.removeListener("error",v),c.removeListener("error",v),p.removeListener("end",w),p.removeListener("close",w),c.removeListener("close",w)}return p.on("error",v),c.on("error",v),p.on("end",w),p.on("close",w),c.on("close",w),c.emit("pipe",p),c}},1765:function(i){typeof Object.create=="function"?i.exports=function(o,l){l&&(o.super_=l,o.prototype=Object.create(l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(o,l){if(l){o.super_=l;var f=function(){};f.prototype=l.prototype,o.prototype=new f,o.prototype.constructor=o}}},3690:function(i){"use strict";var o={};function l(u,c,d){d||(d=Error);var p=function(E){var m,C;function S(h,v,w){return E.call(this,function(M,j,q){return typeof c=="string"?c:c(M,j,q)}(h,v,w))||this}return C=E,(m=S).prototype=Object.create(C.prototype),m.prototype.constructor=m,m.__proto__=C,S}(d);p.prototype.name=d.name,p.prototype.code=u,o[u]=p}function f(u,c){if(Array.isArray(u)){var d=u.length;return u=u.map(function(p){return String(p)}),d>2?"one of ".concat(c," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}return"of ".concat(c," ").concat(String(u))}l("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),l("ERR_INVALID_ARG_TYPE",function(u,c,d){var p,E,m,C,S;if(typeof c=="string"&&(E="not ",c.substr(0,E.length)===E)?(p="must not be",c=c.replace(/^not /,"")):p="must be",function(v,w,M){return(M===void 0||M>v.length)&&(M=v.length),v.substring(M-w.length,M)===w}(u," argument"))m="The ".concat(u," ").concat(p," ").concat(f(c,"type"));else{var h=(typeof S!="number"&&(S=0),S+1>(C=u).length||C.indexOf(".",S)===-1?"argument":"property");m='The "'.concat(u,'" ').concat(h," ").concat(p," ").concat(f(c,"type"))}return m+". Received type ".concat(typeof d)},TypeError),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),l("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l("ERR_STREAM_WRITE_AFTER_END","write after end"),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.q=o},6138:function(i,o,l){"use strict";var f=Object.keys||function(h){var v=[];for(var w in h)v.push(w);return v};i.exports=m;var u=l(2846),c=l(8318);l(1765)(m,u);for(var d=f(c.prototype),p=0;p<d.length;p++){var E=d[p];m.prototype[E]||(m.prototype[E]=c.prototype[E])}function m(h){if(!(this instanceof m))return new m(h);u.call(this,h),c.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",C)))}function C(){this._writableState.ended||process.nextTick(S,this)}function S(h){h.end()}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},5472:function(i,o,l){"use strict";i.exports=u;var f=l(9798);function u(c){if(!(this instanceof u))return new u(c);f.call(this,c)}l(1765)(u,f),u.prototype._transform=function(c,d,p){p(null,c)}},2846:function(i,o,l){"use strict";var f;i.exports=se,se.ReadableState=Q,l(1159).EventEmitter;var u,c=function(me,Ee){return me.listeners(Ee).length},d=l(9299),p=l(1549).Buffer,E=l.g.Uint8Array||function(){},m=l(964);u=m&&m.debuglog?m.debuglog("stream"):function(){};var C,S,h,v=l(8393),w=l(6163),M=l(7269).getHighWaterMark,j=l(3690).q,q=j.ERR_INVALID_ARG_TYPE,V=j.ERR_STREAM_PUSH_AFTER_EOF,re=j.ERR_METHOD_NOT_IMPLEMENTED,B=j.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;l(1765)(se,d);var ee=w.errorOrDestroy,le=["error","close","destroy","pause","resume"];function Q(me,Ee,$e){f=f||l(6138),me=me||{},typeof $e!="boolean"&&($e=Ee instanceof f),this.objectMode=!!me.objectMode,$e&&(this.objectMode=this.objectMode||!!me.readableObjectMode),this.highWaterMark=M(this,me,"readableHighWaterMark",$e),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=me.emitClose!==!1,this.autoDestroy=!!me.autoDestroy,this.destroyed=!1,this.defaultEncoding=me.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,me.encoding&&(C||(C=l(7503).s),this.decoder=new C(me.encoding),this.encoding=me.encoding)}function se(me){if(f=f||l(6138),!(this instanceof se))return new se(me);var Ee=this instanceof f;this._readableState=new Q(me,this,Ee),this.readable=!0,me&&(typeof me.read=="function"&&(this._read=me.read),typeof me.destroy=="function"&&(this._destroy=me.destroy)),d.call(this)}function he(me,Ee,$e,T,y){u("readableAddChunk",Ee);var x,R=me._readableState;if(Ee===null)R.reading=!1,function(ne,J){if(u("onEofChunk"),!J.ended){if(J.decoder){var Ne=J.decoder.end();Ne&&Ne.length&&(J.buffer.push(Ne),J.length+=J.objectMode?1:Ne.length)}J.ended=!0,J.sync?xe(ne):(J.needReadable=!1,J.emittedReadable||(J.emittedReadable=!0,je(ne)))}}(me,R);else if(y||(x=function(ne,J){var Ne,rt;return rt=J,p.isBuffer(rt)||rt instanceof E||typeof J=="string"||J===void 0||ne.objectMode||(Ne=new q("chunk",["string","Buffer","Uint8Array"],J)),Ne}(R,Ee)),x)ee(me,x);else if(R.objectMode||Ee&&Ee.length>0)if(typeof Ee=="string"||R.objectMode||Object.getPrototypeOf(Ee)===p.prototype||(Ee=function(ne){return p.from(ne)}(Ee)),T)R.endEmitted?ee(me,new B):De(me,R,Ee,!0);else if(R.ended)ee(me,new V);else{if(R.destroyed)return!1;R.reading=!1,R.decoder&&!$e?(Ee=R.decoder.write(Ee),R.objectMode||Ee.length!==0?De(me,R,Ee,!1):Te(me,R)):De(me,R,Ee,!1)}else T||(R.reading=!1,Te(me,R));return!R.ended&&(R.length<R.highWaterMark||R.length===0)}function De(me,Ee,$e,T){Ee.flowing&&Ee.length===0&&!Ee.sync?(Ee.awaitDrain=0,me.emit("data",$e)):(Ee.length+=Ee.objectMode?1:$e.length,T?Ee.buffer.unshift($e):Ee.buffer.push($e),Ee.needReadable&&xe(me)),Te(me,Ee)}Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(me){this._readableState&&(this._readableState.destroyed=me)}}),se.prototype.destroy=w.destroy,se.prototype._undestroy=w.undestroy,se.prototype._destroy=function(me,Ee){Ee(me)},se.prototype.push=function(me,Ee){var $e,T=this._readableState;return T.objectMode?$e=!0:typeof me=="string"&&((Ee=Ee||T.defaultEncoding)!==T.encoding&&(me=p.from(me,Ee),Ee=""),$e=!0),he(this,me,Ee,!1,$e)},se.prototype.unshift=function(me){return he(this,me,null,!0,!1)},se.prototype.isPaused=function(){return this._readableState.flowing===!1},se.prototype.setEncoding=function(me){C||(C=l(7503).s);var Ee=new C(me);this._readableState.decoder=Ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var $e=this._readableState.buffer.head,T="";$e!==null;)T+=Ee.write($e.data),$e=$e.next;return this._readableState.buffer.clear(),T!==""&&this._readableState.buffer.push(T),this._readableState.length=T.length,this};var ie=1073741824;function Se(me,Ee){return me<=0||Ee.length===0&&Ee.ended?0:Ee.objectMode?1:me!=me?Ee.flowing&&Ee.length?Ee.buffer.head.data.length:Ee.length:(me>Ee.highWaterMark&&(Ee.highWaterMark=function($e){return $e>=ie?$e=ie:($e--,$e|=$e>>>1,$e|=$e>>>2,$e|=$e>>>4,$e|=$e>>>8,$e|=$e>>>16,$e++),$e}(me)),me<=Ee.length?me:Ee.ended?Ee.length:(Ee.needReadable=!0,0))}function xe(me){var Ee=me._readableState;u("emitReadable",Ee.needReadable,Ee.emittedReadable),Ee.needReadable=!1,Ee.emittedReadable||(u("emitReadable",Ee.flowing),Ee.emittedReadable=!0,process.nextTick(je,me))}function je(me){var Ee=me._readableState;u("emitReadable_",Ee.destroyed,Ee.length,Ee.ended),Ee.destroyed||!Ee.length&&!Ee.ended||(me.emit("readable"),Ee.emittedReadable=!1),Ee.needReadable=!Ee.flowing&&!Ee.ended&&Ee.length<=Ee.highWaterMark,Me(me)}function Te(me,Ee){Ee.readingMore||(Ee.readingMore=!0,process.nextTick(Fe,me,Ee))}function Fe(me,Ee){for(;!Ee.reading&&!Ee.ended&&(Ee.length<Ee.highWaterMark||Ee.flowing&&Ee.length===0);){var $e=Ee.length;if(u("maybeReadMore read 0"),me.read(0),$e===Ee.length)break}Ee.readingMore=!1}function qe(me){var Ee=me._readableState;Ee.readableListening=me.listenerCount("readable")>0,Ee.resumeScheduled&&!Ee.paused?Ee.flowing=!0:me.listenerCount("data")>0&&me.resume()}function Je(me){u("readable nexttick read 0"),me.read(0)}function Ie(me,Ee){u("resume",Ee.reading),Ee.reading||me.read(0),Ee.resumeScheduled=!1,me.emit("resume"),Me(me),Ee.flowing&&!Ee.reading&&me.read(0)}function Me(me){var Ee=me._readableState;for(u("flow",Ee.flowing);Ee.flowing&&me.read()!==null;);}function At(me,Ee){return Ee.length===0?null:(Ee.objectMode?$e=Ee.buffer.shift():!me||me>=Ee.length?($e=Ee.decoder?Ee.buffer.join(""):Ee.buffer.length===1?Ee.buffer.first():Ee.buffer.concat(Ee.length),Ee.buffer.clear()):$e=Ee.buffer.consume(me,Ee.decoder),$e);var $e}function vt(me){var Ee=me._readableState;u("endReadable",Ee.endEmitted),Ee.endEmitted||(Ee.ended=!0,process.nextTick(ze,Ee,me))}function ze(me,Ee){if(u("endReadableNT",me.endEmitted,me.length),!me.endEmitted&&me.length===0&&(me.endEmitted=!0,Ee.readable=!1,Ee.emit("end"),me.autoDestroy)){var $e=Ee._writableState;(!$e||$e.autoDestroy&&$e.finished)&&Ee.destroy()}}function it(me,Ee){for(var $e=0,T=me.length;$e<T;$e++)if(me[$e]===Ee)return $e;return-1}se.prototype.read=function(me){u("read",me),me=parseInt(me,10);var Ee=this._readableState,$e=me;if(me!==0&&(Ee.emittedReadable=!1),me===0&&Ee.needReadable&&((Ee.highWaterMark!==0?Ee.length>=Ee.highWaterMark:Ee.length>0)||Ee.ended))return u("read: emitReadable",Ee.length,Ee.ended),Ee.length===0&&Ee.ended?vt(this):xe(this),null;if((me=Se(me,Ee))===0&&Ee.ended)return Ee.length===0&&vt(this),null;var T,y=Ee.needReadable;return u("need readable",y),(Ee.length===0||Ee.length-me<Ee.highWaterMark)&&u("length less than watermark",y=!0),Ee.ended||Ee.reading?u("reading or ended",y=!1):y&&(u("do read"),Ee.reading=!0,Ee.sync=!0,Ee.length===0&&(Ee.needReadable=!0),this._read(Ee.highWaterMark),Ee.sync=!1,Ee.reading||(me=Se($e,Ee))),(T=me>0?At(me,Ee):null)===null?(Ee.needReadable=Ee.length<=Ee.highWaterMark,me=0):(Ee.length-=me,Ee.awaitDrain=0),Ee.length===0&&(Ee.ended||(Ee.needReadable=!0),$e!==me&&Ee.ended&&vt(this)),T!==null&&this.emit("data",T),T},se.prototype._read=function(me){ee(this,new re("_read()"))},se.prototype.pipe=function(me,Ee){var $e=this,T=this._readableState;switch(T.pipesCount){case 0:T.pipes=me;break;case 1:T.pipes=[T.pipes,me];break;default:T.pipes.push(me)}T.pipesCount+=1,u("pipe count=%d opts=%j",T.pipesCount,Ee);var y=Ee&&Ee.end===!1||me===process.stdout||me===process.stderr?Ze:x;function x(){u("onend"),me.end()}T.endEmitted?process.nextTick(y):$e.once("end",y),me.on("unpipe",function Oe(Ye,we){u("onunpipe"),Ye===$e&&we&&we.hasUnpiped===!1&&(we.hasUnpiped=!0,u("cleanup"),me.removeListener("close",rt),me.removeListener("finish",He),me.removeListener("drain",R),me.removeListener("error",Ne),me.removeListener("unpipe",Oe),$e.removeListener("end",x),$e.removeListener("end",Ze),$e.removeListener("data",J),ne=!0,!T.awaitDrain||me._writableState&&!me._writableState.needDrain||R())});var R=function(Oe){return function(){var Ye=Oe._readableState;u("pipeOnDrain",Ye.awaitDrain),Ye.awaitDrain&&Ye.awaitDrain--,Ye.awaitDrain===0&&c(Oe,"data")&&(Ye.flowing=!0,Me(Oe))}}($e);me.on("drain",R);var ne=!1;function J(Oe){u("ondata");var Ye=me.write(Oe);u("dest.write",Ye),Ye===!1&&((T.pipesCount===1&&T.pipes===me||T.pipesCount>1&&it(T.pipes,me)!==-1)&&!ne&&(u("false write response, pause",T.awaitDrain),T.awaitDrain++),$e.pause())}function Ne(Oe){u("onerror",Oe),Ze(),me.removeListener("error",Ne),c(me,"error")===0&&ee(me,Oe)}function rt(){me.removeListener("finish",He),Ze()}function He(){u("onfinish"),me.removeListener("close",rt),Ze()}function Ze(){u("unpipe"),$e.unpipe(me)}return $e.on("data",J),function(Oe,Ye,we){if(typeof Oe.prependListener=="function")return Oe.prependListener(Ye,we);Oe._events&&Oe._events[Ye]?Array.isArray(Oe._events[Ye])?Oe._events[Ye].unshift(we):Oe._events[Ye]=[we,Oe._events[Ye]]:Oe.on(Ye,we)}(me,"error",Ne),me.once("close",rt),me.once("finish",He),me.emit("pipe",$e),T.flowing||(u("pipe resume"),$e.resume()),me},se.prototype.unpipe=function(me){var Ee=this._readableState,$e={hasUnpiped:!1};if(Ee.pipesCount===0)return this;if(Ee.pipesCount===1)return me&&me!==Ee.pipes||(me||(me=Ee.pipes),Ee.pipes=null,Ee.pipesCount=0,Ee.flowing=!1,me&&me.emit("unpipe",this,$e)),this;if(!me){var T=Ee.pipes,y=Ee.pipesCount;Ee.pipes=null,Ee.pipesCount=0,Ee.flowing=!1;for(var x=0;x<y;x++)T[x].emit("unpipe",this,{hasUnpiped:!1});return this}var R=it(Ee.pipes,me);return R===-1||(Ee.pipes.splice(R,1),Ee.pipesCount-=1,Ee.pipesCount===1&&(Ee.pipes=Ee.pipes[0]),me.emit("unpipe",this,$e)),this},se.prototype.on=function(me,Ee){var $e=d.prototype.on.call(this,me,Ee),T=this._readableState;return me==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):me==="readable"&&(T.endEmitted||T.readableListening||(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,u("on readable",T.length,T.reading),T.length?xe(this):T.reading||process.nextTick(Je,this))),$e},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(me,Ee){var $e=d.prototype.removeListener.call(this,me,Ee);return me==="readable"&&process.nextTick(qe,this),$e},se.prototype.removeAllListeners=function(me){var Ee=d.prototype.removeAllListeners.apply(this,arguments);return me!=="readable"&&me!==void 0||process.nextTick(qe,this),Ee},se.prototype.resume=function(){var me=this._readableState;return me.flowing||(u("resume"),me.flowing=!me.readableListening,function(Ee,$e){$e.resumeScheduled||($e.resumeScheduled=!0,process.nextTick(Ie,Ee,$e))}(this,me)),me.paused=!1,this},se.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},se.prototype.wrap=function(me){var Ee=this,$e=this._readableState,T=!1;for(var y in me.on("end",function(){if(u("wrapped end"),$e.decoder&&!$e.ended){var R=$e.decoder.end();R&&R.length&&Ee.push(R)}Ee.push(null)}),me.on("data",function(R){u("wrapped data"),$e.decoder&&(R=$e.decoder.write(R)),$e.objectMode&&R==null||($e.objectMode||R&&R.length)&&(Ee.push(R)||(T=!0,me.pause()))}),me)this[y]===void 0&&typeof me[y]=="function"&&(this[y]=function(R){return function(){return me[R].apply(me,arguments)}}(y));for(var x=0;x<le.length;x++)me.on(le[x],this.emit.bind(this,le[x]));return this._read=function(R){u("wrapped _read",R),T&&(T=!1,me.resume())},this},typeof Symbol=="function"&&(se.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=l(7299)),S(this)}),Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(se.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(se.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(me){this._readableState&&(this._readableState.flowing=me)}}),se._fromList=At,Object.defineProperty(se.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(se.from=function(me,Ee){return h===void 0&&(h=l(6233)),h(se,me,Ee)})},9798:function(i,o,l){"use strict";i.exports=C;var f=l(3690).q,u=f.ERR_METHOD_NOT_IMPLEMENTED,c=f.ERR_MULTIPLE_CALLBACK,d=f.ERR_TRANSFORM_ALREADY_TRANSFORMING,p=f.ERR_TRANSFORM_WITH_LENGTH_0,E=l(6138);function m(v,w){var M=this._transformState;M.transforming=!1;var j=M.writecb;if(j===null)return this.emit("error",new c);M.writechunk=null,M.writecb=null,w!=null&&this.push(w),j(v);var q=this._readableState;q.reading=!1,(q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}function C(v){if(!(this instanceof C))return new C(v);E.call(this,v),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",S)}function S(){var v=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(w,M){h(v,w,M)})}function h(v,w,M){if(w)return v.emit("error",w);if(M!=null&&v.push(M),v._writableState.length)throw new p;if(v._transformState.transforming)throw new d;return v.push(null)}l(1765)(C,E),C.prototype.push=function(v,w){return this._transformState.needTransform=!1,E.prototype.push.call(this,v,w)},C.prototype._transform=function(v,w,M){M(new u("_transform()"))},C.prototype._write=function(v,w,M){var j=this._transformState;if(j.writecb=M,j.writechunk=v,j.writeencoding=w,!j.transforming){var q=this._readableState;(j.needTransform||q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}},C.prototype._read=function(v){var w=this._transformState;w.writechunk===null||w.transforming?w.needTransform=!0:(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform))},C.prototype._destroy=function(v,w){E.prototype._destroy.call(this,v,function(M){w(M)})}},8318:function(i,o,l){"use strict";function f(Te){var Fe=this;this.next=null,this.entry=null,this.finish=function(){(function(qe,Je,Ie){var Me=qe.entry;for(qe.entry=null;Me;){var At=Me.callback;Je.pendingcb--,At(void 0),Me=Me.next}Je.corkedRequestsFree.next=qe})(Fe,Te)}}var u;i.exports=se,se.WritableState=Q;var c,d={deprecate:l(7839)},p=l(9299),E=l(1549).Buffer,m=l.g.Uint8Array||function(){},C=l(6163),S=l(7269).getHighWaterMark,h=l(3690).q,v=h.ERR_INVALID_ARG_TYPE,w=h.ERR_METHOD_NOT_IMPLEMENTED,M=h.ERR_MULTIPLE_CALLBACK,j=h.ERR_STREAM_CANNOT_PIPE,q=h.ERR_STREAM_DESTROYED,V=h.ERR_STREAM_NULL_VALUES,re=h.ERR_STREAM_WRITE_AFTER_END,B=h.ERR_UNKNOWN_ENCODING,ee=C.errorOrDestroy;function le(){}function Q(Te,Fe,qe){u=u||l(6138),Te=Te||{},typeof qe!="boolean"&&(qe=Fe instanceof u),this.objectMode=!!Te.objectMode,qe&&(this.objectMode=this.objectMode||!!Te.writableObjectMode),this.highWaterMark=S(this,Te,"writableHighWaterMark",qe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Je=Te.decodeStrings===!1;this.decodeStrings=!Je,this.defaultEncoding=Te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ie){(function(Me,At){var vt=Me._writableState,ze=vt.sync,it=vt.writecb;if(typeof it!="function")throw new M;if(function(Ee){Ee.writing=!1,Ee.writecb=null,Ee.length-=Ee.writelen,Ee.writelen=0}(vt),At)(function(Ee,$e,T,y,x){--$e.pendingcb,T?(process.nextTick(x,y),process.nextTick(je,Ee,$e),Ee._writableState.errorEmitted=!0,ee(Ee,y)):(x(y),Ee._writableState.errorEmitted=!0,ee(Ee,y),je(Ee,$e))})(Me,vt,ze,At,it);else{var me=Se(vt)||Me.destroyed;me||vt.corked||vt.bufferProcessing||!vt.bufferedRequest||ie(Me,vt),ze?process.nextTick(De,Me,vt,me,it):De(Me,vt,me,it)}})(Fe,Ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Te.emitClose!==!1,this.autoDestroy=!!Te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function se(Te){var Fe=this instanceof(u=u||l(6138));if(!Fe&&!c.call(se,this))return new se(Te);this._writableState=new Q(Te,this,Fe),this.writable=!0,Te&&(typeof Te.write=="function"&&(this._write=Te.write),typeof Te.writev=="function"&&(this._writev=Te.writev),typeof Te.destroy=="function"&&(this._destroy=Te.destroy),typeof Te.final=="function"&&(this._final=Te.final)),p.call(this)}function he(Te,Fe,qe,Je,Ie,Me,At){Fe.writelen=Je,Fe.writecb=At,Fe.writing=!0,Fe.sync=!0,Fe.destroyed?Fe.onwrite(new q("write")):qe?Te._writev(Ie,Fe.onwrite):Te._write(Ie,Me,Fe.onwrite),Fe.sync=!1}function De(Te,Fe,qe,Je){qe||function(Ie,Me){Me.length===0&&Me.needDrain&&(Me.needDrain=!1,Ie.emit("drain"))}(Te,Fe),Fe.pendingcb--,Je(),je(Te,Fe)}function ie(Te,Fe){Fe.bufferProcessing=!0;var qe=Fe.bufferedRequest;if(Te._writev&&qe&&qe.next){var Je=Fe.bufferedRequestCount,Ie=new Array(Je),Me=Fe.corkedRequestsFree;Me.entry=qe;for(var At=0,vt=!0;qe;)Ie[At]=qe,qe.isBuf||(vt=!1),qe=qe.next,At+=1;Ie.allBuffers=vt,he(Te,Fe,!0,Fe.length,Ie,"",Me.finish),Fe.pendingcb++,Fe.lastBufferedRequest=null,Me.next?(Fe.corkedRequestsFree=Me.next,Me.next=null):Fe.corkedRequestsFree=new f(Fe),Fe.bufferedRequestCount=0}else{for(;qe;){var ze=qe.chunk,it=qe.encoding,me=qe.callback;if(he(Te,Fe,!1,Fe.objectMode?1:ze.length,ze,it,me),qe=qe.next,Fe.bufferedRequestCount--,Fe.writing)break}qe===null&&(Fe.lastBufferedRequest=null)}Fe.bufferedRequest=qe,Fe.bufferProcessing=!1}function Se(Te){return Te.ending&&Te.length===0&&Te.bufferedRequest===null&&!Te.finished&&!Te.writing}function xe(Te,Fe){Te._final(function(qe){Fe.pendingcb--,qe&&ee(Te,qe),Fe.prefinished=!0,Te.emit("prefinish"),je(Te,Fe)})}function je(Te,Fe){var qe=Se(Fe);if(qe&&(function(Ie,Me){Me.prefinished||Me.finalCalled||(typeof Ie._final!="function"||Me.destroyed?(Me.prefinished=!0,Ie.emit("prefinish")):(Me.pendingcb++,Me.finalCalled=!0,process.nextTick(xe,Ie,Me)))}(Te,Fe),Fe.pendingcb===0&&(Fe.finished=!0,Te.emit("finish"),Fe.autoDestroy))){var Je=Te._readableState;(!Je||Je.autoDestroy&&Je.endEmitted)&&Te.destroy()}return qe}l(1765)(se,p),Q.prototype.getBuffer=function(){for(var Te=this.bufferedRequest,Fe=[];Te;)Fe.push(Te),Te=Te.next;return Fe},function(){try{Object.defineProperty(Q.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(se,Symbol.hasInstance,{value:function(Te){return!!c.call(this,Te)||this===se&&Te&&Te._writableState instanceof Q}})):c=function(Te){return Te instanceof this},se.prototype.pipe=function(){ee(this,new j)},se.prototype.write=function(Te,Fe,qe){var Je,Ie=this._writableState,Me=!1,At=!Ie.objectMode&&(Je=Te,E.isBuffer(Je)||Je instanceof m);return At&&!E.isBuffer(Te)&&(Te=function(vt){return E.from(vt)}(Te)),typeof Fe=="function"&&(qe=Fe,Fe=null),At?Fe="buffer":Fe||(Fe=Ie.defaultEncoding),typeof qe!="function"&&(qe=le),Ie.ending?function(vt,ze){var it=new re;ee(vt,it),process.nextTick(ze,it)}(this,qe):(At||function(vt,ze,it,me){var Ee;return it===null?Ee=new V:typeof it=="string"||ze.objectMode||(Ee=new v("chunk",["string","Buffer"],it)),!Ee||(ee(vt,Ee),process.nextTick(me,Ee),!1)}(this,Ie,Te,qe))&&(Ie.pendingcb++,Me=function(vt,ze,it,me,Ee,$e){if(!it){var T=function(ne,J,Ne){return ne.objectMode||ne.decodeStrings===!1||typeof J!="string"||(J=E.from(J,Ne)),J}(ze,me,Ee);me!==T&&(it=!0,Ee="buffer",me=T)}var y=ze.objectMode?1:me.length;ze.length+=y;var x=ze.length<ze.highWaterMark;if(x||(ze.needDrain=!0),ze.writing||ze.corked){var R=ze.lastBufferedRequest;ze.lastBufferedRequest={chunk:me,encoding:Ee,isBuf:it,callback:$e,next:null},R?R.next=ze.lastBufferedRequest:ze.bufferedRequest=ze.lastBufferedRequest,ze.bufferedRequestCount+=1}else he(vt,ze,!1,y,me,Ee,$e);return x}(this,Ie,At,Te,Fe,qe)),Me},se.prototype.cork=function(){this._writableState.corked++},se.prototype.uncork=function(){var Te=this._writableState;Te.corked&&(Te.corked--,Te.writing||Te.corked||Te.bufferProcessing||!Te.bufferedRequest||ie(this,Te))},se.prototype.setDefaultEncoding=function(Te){if(typeof Te=="string"&&(Te=Te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Te+"").toLowerCase())>-1))throw new B(Te);return this._writableState.defaultEncoding=Te,this},Object.defineProperty(se.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(se.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),se.prototype._write=function(Te,Fe,qe){qe(new w("_write()"))},se.prototype._writev=null,se.prototype.end=function(Te,Fe,qe){var Je=this._writableState;return typeof Te=="function"?(qe=Te,Te=null,Fe=null):typeof Fe=="function"&&(qe=Fe,Fe=null),Te!=null&&this.write(Te,Fe),Je.corked&&(Je.corked=1,this.uncork()),Je.ending||function(Ie,Me,At){Me.ending=!0,je(Ie,Me),At&&(Me.finished?process.nextTick(At):Ie.once("finish",At)),Me.ended=!0,Ie.writable=!1}(this,Je,qe),this},Object.defineProperty(se.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Te){this._writableState&&(this._writableState.destroyed=Te)}}),se.prototype.destroy=C.destroy,se.prototype._undestroy=C.undestroy,se.prototype._destroy=function(Te,Fe){Fe(Te)}},7299:function(i,o,l){"use strict";var f;function u(V,re,B){return re in V?Object.defineProperty(V,re,{value:B,enumerable:!0,configurable:!0,writable:!0}):V[re]=B,V}var c=l(8800),d=Symbol("lastResolve"),p=Symbol("lastReject"),E=Symbol("error"),m=Symbol("ended"),C=Symbol("lastPromise"),S=Symbol("handlePromise"),h=Symbol("stream");function v(V,re){return{value:V,done:re}}function w(V){var re=V[d];if(re!==null){var B=V[h].read();B!==null&&(V[C]=null,V[d]=null,V[p]=null,re(v(B,!1)))}}function M(V){process.nextTick(w,V)}var j=Object.getPrototypeOf(function(){}),q=Object.setPrototypeOf((u(f={get stream(){return this[h]},next:function(){var V=this,re=this[E];if(re!==null)return Promise.reject(re);if(this[m])return Promise.resolve(v(void 0,!0));if(this[h].destroyed)return new Promise(function(Q,se){process.nextTick(function(){V[E]?se(V[E]):Q(v(void 0,!0))})});var B,ee=this[C];if(ee)B=new Promise(function(Q,se){return function(he,De){Q.then(function(){se[m]?he(v(void 0,!0)):se[S](he,De)},De)}}(ee,this));else{var le=this[h].read();if(le!==null)return Promise.resolve(v(le,!1));B=new Promise(this[S])}return this[C]=B,B}},Symbol.asyncIterator,function(){return this}),u(f,"return",function(){var V=this;return new Promise(function(re,B){V[h].destroy(null,function(ee){ee?B(ee):re(v(void 0,!0))})})}),f),j);i.exports=function(V){var re,B=Object.create(q,(u(re={},h,{value:V,writable:!0}),u(re,d,{value:null,writable:!0}),u(re,p,{value:null,writable:!0}),u(re,E,{value:null,writable:!0}),u(re,m,{value:V._readableState.endEmitted,writable:!0}),u(re,S,{value:function(ee,le){var Q=B[h].read();Q?(B[C]=null,B[d]=null,B[p]=null,ee(v(Q,!1))):(B[d]=ee,B[p]=le)},writable:!0}),re));return B[C]=null,c(V,function(ee){if(ee&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var le=B[p];return le!==null&&(B[C]=null,B[d]=null,B[p]=null,le(ee)),void(B[E]=ee)}var Q=B[d];Q!==null&&(B[C]=null,B[d]=null,B[p]=null,Q(v(void 0,!0))),B[m]=!0}),V.on("readable",M.bind(null,B)),B}},8393:function(i,o,l){"use strict";function f(m,C){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(m);C&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(m,v).enumerable})),S.push.apply(S,h)}return S}function u(m,C,S){return C in m?Object.defineProperty(m,C,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[C]=S,m}function c(m,C){for(var S=0;S<C.length;S++){var h=C[S];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}var d=l(1549).Buffer,p=l(9862).inspect,E=p&&p.custom||"inspect";i.exports=function(){function m(){(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var C,S;return C=m,S=[{key:"push",value:function(h){var v={data:h,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(h){var v={data:h,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(this.length===0)return"";for(var v=this.head,w=""+v.data;v=v.next;)w+=h+v.data;return w}},{key:"concat",value:function(h){if(this.length===0)return d.alloc(0);for(var v,w,M,j=d.allocUnsafe(h>>>0),q=this.head,V=0;q;)v=q.data,w=j,M=V,d.prototype.copy.call(v,w,M),V+=q.data.length,q=q.next;return j}},{key:"consume",value:function(h,v){var w;return h<this.head.data.length?(w=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):w=h===this.head.data.length?this.shift():v?this._getString(h):this._getBuffer(h),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var v=this.head,w=1,M=v.data;for(h-=M.length;v=v.next;){var j=v.data,q=h>j.length?j.length:h;if(q===j.length?M+=j:M+=j.slice(0,h),(h-=q)==0){q===j.length?(++w,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=j.slice(q));break}++w}return this.length-=w,M}},{key:"_getBuffer",value:function(h){var v=d.allocUnsafe(h),w=this.head,M=1;for(w.data.copy(v),h-=w.data.length;w=w.next;){var j=w.data,q=h>j.length?j.length:h;if(j.copy(v,v.length-h,0,q),(h-=q)==0){q===j.length?(++M,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=j.slice(q));break}++M}return this.length-=M,v}},{key:E,value:function(h,v){return p(this,function(w){for(var M=1;M<arguments.length;M++){var j=arguments[M]!=null?arguments[M]:{};M%2?f(Object(j),!0).forEach(function(q){u(w,q,j[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(j)):f(Object(j)).forEach(function(q){Object.defineProperty(w,q,Object.getOwnPropertyDescriptor(j,q))})}return w}({},v,{depth:0,customInspect:!1}))}}],S&&c(C.prototype,S),m}()},6163:function(i){"use strict";function o(u,c){f(u,c),l(u)}function l(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function f(u,c){u.emit("error",c)}i.exports={destroy:function(u,c){var d=this,p=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return p||E?(c?c(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(f,this,u)):process.nextTick(f,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(m){!c&&m?d._writableState?d._writableState.errorEmitted?process.nextTick(l,d):(d._writableState.errorEmitted=!0,process.nextTick(o,d,m)):process.nextTick(o,d,m):c?(process.nextTick(l,d),c(m)):process.nextTick(l,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,c){var d=u._readableState,p=u._writableState;d&&d.autoDestroy||p&&p.autoDestroy?u.destroy(c):u.emit("error",c)}}},8800:function(i,o,l){"use strict";var f=l(3690).q.ERR_STREAM_PREMATURE_CLOSE;function u(){}i.exports=function c(d,p,E){if(typeof p=="function")return c(d,null,p);p||(p={}),E=function(re){var B=!1;return function(){if(!B){B=!0;for(var ee=arguments.length,le=new Array(ee),Q=0;Q<ee;Q++)le[Q]=arguments[Q];re.apply(this,le)}}}(E||u);var m=p.readable||p.readable!==!1&&d.readable,C=p.writable||p.writable!==!1&&d.writable,S=function(){d.writable||v()},h=d._writableState&&d._writableState.finished,v=function(){C=!1,h=!0,m||E.call(d)},w=d._readableState&&d._readableState.endEmitted,M=function(){m=!1,w=!0,C||E.call(d)},j=function(re){E.call(d,re)},q=function(){var re;return m&&!w?(d._readableState&&d._readableState.ended||(re=new f),E.call(d,re)):C&&!h?(d._writableState&&d._writableState.ended||(re=new f),E.call(d,re)):void 0},V=function(){d.req.on("finish",v)};return function(re){return re.setHeader&&typeof re.abort=="function"}(d)?(d.on("complete",v),d.on("abort",q),d.req?V():d.on("request",V)):C&&!d._writableState&&(d.on("end",S),d.on("close",S)),d.on("end",M),d.on("finish",v),p.error!==!1&&d.on("error",j),d.on("close",q),function(){d.removeListener("complete",v),d.removeListener("abort",q),d.removeListener("request",V),d.req&&d.req.removeListener("finish",v),d.removeListener("end",S),d.removeListener("close",S),d.removeListener("finish",v),d.removeListener("end",M),d.removeListener("error",j),d.removeListener("close",q)}}},6233:function(i){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:function(i,o,l){"use strict";var f,u=l(3690).q,c=u.ERR_MISSING_ARGS,d=u.ERR_STREAM_DESTROYED;function p(h){if(h)throw h}function E(h,v,w,M){M=function(V){var re=!1;return function(){re||(re=!0,V.apply(void 0,arguments))}}(M);var j=!1;h.on("close",function(){j=!0}),f===void 0&&(f=l(8800)),f(h,{readable:v,writable:w},function(V){if(V)return M(V);j=!0,M()});var q=!1;return function(V){if(!j&&!q)return q=!0,function(re){return re.setHeader&&typeof re.abort=="function"}(h)?h.abort():typeof h.destroy=="function"?h.destroy():void M(V||new d("pipe"))}}function m(h){h()}function C(h,v){return h.pipe(v)}function S(h){return h.length?typeof h[h.length-1]!="function"?p:h.pop():p}i.exports=function(){for(var h=arguments.length,v=new Array(h),w=0;w<h;w++)v[w]=arguments[w];var M,j=S(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new c("streams");var q=v.map(function(V,re){var B=re<v.length-1;return E(V,B,re>0,function(ee){M||(M=ee),ee&&q.forEach(m),B||(q.forEach(m),j(M))})});return v.reduce(C)}},7269:function(i,o,l){"use strict";var f=l(3690).q.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function(u,c,d,p){var E=function(m,C,S){return m.highWaterMark!=null?m.highWaterMark:C?m[S]:null}(c,p,d);if(E!=null){if(!isFinite(E)||Math.floor(E)!==E||E<0)throw new f(p?d:"highWaterMark",E);return Math.floor(E)}return u.objectMode?16:16384}}},9299:function(i,o,l){i.exports=l(1159).EventEmitter},7503:function(i,o,l){"use strict";var f=l(8387).Buffer,u=f.isEncoding||function(w){switch((w=""+w)&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(w){var M;switch(this.encoding=function(j){var q=function(V){if(!V)return"utf8";for(var re;;)switch(V){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return V;default:if(re)return;V=(""+V).toLowerCase(),re=!0}}(j);if(typeof q!="string"&&(f.isEncoding===u||!u(j)))throw new Error("Unknown encoding: "+j);return q||j}(w),this.encoding){case"utf16le":this.text=E,this.end=m,M=4;break;case"utf8":this.fillLast=p,M=4;break;case"base64":this.text=C,this.end=S,M=3;break;default:return this.write=h,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(M)}function d(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function p(w){var M=this.lastTotal-this.lastNeed,j=function(q,V,re){if((192&V[0])!=128)return q.lastNeed=0,"\uFFFD";if(q.lastNeed>1&&V.length>1){if((192&V[1])!=128)return q.lastNeed=1,"\uFFFD";if(q.lastNeed>2&&V.length>2&&(192&V[2])!=128)return q.lastNeed=2,"\uFFFD"}}(this,w);return j!==void 0?j:this.lastNeed<=w.length?(w.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(w.copy(this.lastChar,M,0,w.length),void(this.lastNeed-=w.length))}function E(w,M){if((w.length-M)%2==0){var j=w.toString("utf16le",M);if(j){var q=j.charCodeAt(j.length-1);if(q>=55296&&q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",M,w.length-1)}function m(w){var M=w&&w.length?this.write(w):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,j)}return M}function C(w,M){var j=(w.length-M)%3;return j===0?w.toString("base64",M):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",M,w.length-j))}function S(w){var M=w&&w.length?this.write(w):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function h(w){return w.toString(this.encoding)}function v(w){return w&&w.length?this.write(w):""}o.s=c,c.prototype.write=function(w){if(w.length===0)return"";var M,j;if(this.lastNeed){if((M=this.fillLast(w))===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<w.length?M?M+this.text(w,j):this.text(w,j):M||""},c.prototype.end=function(w){var M=w&&w.length?this.write(w):"";return this.lastNeed?M+"\uFFFD":M},c.prototype.text=function(w,M){var j=function(V,re,B){var ee=re.length-1;if(ee<B)return 0;var le=d(re[ee]);return le>=0?(le>0&&(V.lastNeed=le-1),le):--ee<B||le===-2?0:(le=d(re[ee]))>=0?(le>0&&(V.lastNeed=le-2),le):--ee<B||le===-2?0:(le=d(re[ee]))>=0?(le>0&&(le===2?le=0:V.lastNeed=le-3),le):0}(this,w,M);if(!this.lastNeed)return w.toString("utf8",M);this.lastTotal=j;var q=w.length-(j-this.lastNeed);return w.copy(this.lastChar,0,q),w.toString("utf8",M,q)},c.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length}},1067:function(i,o,l){var f;(function(u,c){"use strict";var d="function",p="undefined",E="object",m="string",C="major",S="model",h="name",v="type",w="vendor",M="version",j="architecture",q="console",V="mobile",re="tablet",B="smarttv",ee="wearable",le="embedded",Q="Amazon",se="Apple",he="ASUS",De="BlackBerry",ie="Browser",Se="Chrome",xe="Firefox",je="Google",Te="Huawei",Fe="LG",qe="Microsoft",Je="Motorola",Ie="Opera",Me="Samsung",At="Sharp",vt="Sony",ze="Xiaomi",it="Zebra",me="Facebook",Ee="Chromium OS",$e="Mac OS",T=function(Ye){for(var we={},Le=0;Le<Ye.length;Le++)we[Ye[Le].toUpperCase()]=Ye[Le];return we},y=function(Ye,we){return typeof Ye===m&&x(we).indexOf(x(Ye))!==-1},x=function(Ye){return Ye.toLowerCase()},R=function(Ye,we){if(typeof Ye===m)return Ye=Ye.replace(/^\s\s*/,""),typeof we===p?Ye:Ye.substring(0,500)},ne=function(Ye,we){for(var Le,Pe,ut,at,Bt,Tt,Jt=0;Jt<we.length&&!Bt;){var an=we[Jt],In=we[Jt+1];for(Le=Pe=0;Le<an.length&&!Bt&&an[Le];)if(Bt=an[Le++].exec(Ye))for(ut=0;ut<In.length;ut++)Tt=Bt[++Pe],typeof(at=In[ut])===E&&at.length>0?at.length===2?typeof at[1]==d?this[at[0]]=at[1].call(this,Tt):this[at[0]]=at[1]:at.length===3?typeof at[1]!==d||at[1].exec&&at[1].test?this[at[0]]=Tt?Tt.replace(at[1],at[2]):c:this[at[0]]=Tt?at[1].call(this,Tt,at[2]):c:at.length===4&&(this[at[0]]=Tt?at[3].call(this,Tt.replace(at[1],at[2])):c):this[at]=Tt||c;Jt+=2}},J=function(Ye,we){for(var Le in we)if(typeof we[Le]===E&&we[Le].length>0){for(var Pe=0;Pe<we[Le].length;Pe++)if(y(we[Le][Pe],Ye))return Le==="?"?c:Le}else if(y(we[Le],Ye))return Le==="?"?c:Le;return Ye},Ne={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},rt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[M,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[M,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,M],[/opios[\/ ]+([\w\.]+)/i],[M,[h,Ie+" Mini"]],[/\bopr\/([\w\.]+)/i],[M,[h,Ie]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[M,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,M],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[M,[h,"UC"+ie]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[M,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[M,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[M,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[M,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[M,[h,"Smart Lenovo "+ie]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+ie],M],[/\bfocus\/([\w\.]+)/i],[M,[h,xe+" Focus"]],[/\bopt\/([\w\.]+)/i],[M,[h,Ie+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[M,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[M,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[M,[h,Ie+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[M,[h,"MIUI "+ie]],[/fxios\/([-\w\.]+)/i],[M,[h,xe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+ie]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+ie],M],[/samsungbrowser\/([\w\.]+)/i],[M,[h,Me+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],M],[/metasr[\/ ]?([\d\.]+)/i],[M,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],M],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,M],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,me],M],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,M],[/\bgsa\/([\w\.]+) .*safari\//i],[M,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[M,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[M,[h,Se+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,Se+" WebView"],M],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[M,[h,"Android "+ie]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,M],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[M,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[M,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[M,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,M],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],M],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[M,[h,xe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,M],[/(cobalt)\/([\w\.]+)/i],[h,[M,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[j,"amd64"]],[/(ia32(?=;))/i],[[j,x]],[/((?:i[346]|x)86)[;\)]/i],[[j,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[j,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[j,"armhf"]],[/windows (ce|mobile); ppc;/i],[[j,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[j,/ower/,"",x]],[/(sun4\w)[;\)]/i],[[j,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[j,x]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[S,[w,Me],[v,re]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[S,[w,Me],[v,V]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[S,[w,se],[v,V]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[S,[w,se],[v,re]],[/(macintosh);/i],[S,[w,se]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[S,[w,At],[v,V]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[S,[w,Te],[v,re]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[S,[w,Te],[v,V]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[S,/_/g," "],[w,ze],[v,V]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[S,/_/g," "],[w,ze],[v,re]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[S,[w,"OPPO"],[v,V]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[S,[w,"Vivo"],[v,V]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[S,[w,"Realme"],[v,V]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[S,[w,Je],[v,V]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[S,[w,Je],[v,re]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[S,[w,Fe],[v,re]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[S,[w,Fe],[v,V]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[S,[w,"Lenovo"],[v,re]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[S,/_/g," "],[w,"Nokia"],[v,V]],[/(pixel c)\b/i],[S,[w,je],[v,re]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[S,[w,je],[v,V]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[S,[w,vt],[v,V]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[S,"Xperia Tablet"],[w,vt],[v,re]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[S,[w,"OnePlus"],[v,V]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[S,[w,Q],[v,re]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[S,/(.+)/g,"Fire Phone $1"],[w,Q],[v,V]],[/(playbook);[-\w\),; ]+(rim)/i],[S,w,[v,re]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[S,[w,De],[v,V]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[S,[w,he],[v,re]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[S,[w,he],[v,V]],[/(nexus 9)/i],[S,[w,"HTC"],[v,re]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[S,/_/g," "],[v,V]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[S,[w,"Acer"],[v,re]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[S,[w,"Meizu"],[v,V]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[S,[w,"Ulefone"],[v,V]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[w,S,[v,V]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,S,[v,re]],[/(surface duo)/i],[S,[w,qe],[v,re]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[S,[w,"Fairphone"],[v,V]],[/(u304aa)/i],[S,[w,"AT&T"],[v,V]],[/\bsie-(\w*)/i],[S,[w,"Siemens"],[v,V]],[/\b(rct\w+) b/i],[S,[w,"RCA"],[v,re]],[/\b(venue[\d ]{2,7}) b/i],[S,[w,"Dell"],[v,re]],[/\b(q(?:mv|ta)\w+) b/i],[S,[w,"Verizon"],[v,re]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[S,[w,"Barnes & Noble"],[v,re]],[/\b(tm\d{3}\w+) b/i],[S,[w,"NuVision"],[v,re]],[/\b(k88) b/i],[S,[w,"ZTE"],[v,re]],[/\b(nx\d{3}j) b/i],[S,[w,"ZTE"],[v,V]],[/\b(gen\d{3}) b.+49h/i],[S,[w,"Swiss"],[v,V]],[/\b(zur\d{3}) b/i],[S,[w,"Swiss"],[v,re]],[/\b((zeki)?tb.*\b) b/i],[S,[w,"Zeki"],[v,re]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],S,[v,re]],[/\b(ns-?\w{0,9}) b/i],[S,[w,"Insignia"],[v,re]],[/\b((nxa|next)-?\w{0,9}) b/i],[S,[w,"NextBook"],[v,re]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],S,[v,V]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],S,[v,V]],[/\b(ph-1) /i],[S,[w,"Essential"],[v,V]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[S,[w,"Envizen"],[v,re]],[/\b(trio[-\w\. ]+) b/i],[S,[w,"MachSpeed"],[v,re]],[/\btu_(1491) b/i],[S,[w,"Rotor"],[v,re]],[/(shield[\w ]+) b/i],[S,[w,"Nvidia"],[v,re]],[/(sprint) (\w+)/i],[w,S,[v,V]],[/(kin\.[onetw]{3})/i],[[S,/\./g," "],[w,qe],[v,V]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[S,[w,it],[v,re]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[S,[w,it],[v,V]],[/smart-tv.+(samsung)/i],[w,[v,B]],[/hbbtv.+maple;(\d+)/i],[[S,/^/,"SmartTV"],[w,Me],[v,B]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,Fe],[v,B]],[/(apple) ?tv/i],[w,[S,se+" TV"],[v,B]],[/crkey/i],[[S,Se+"cast"],[w,je],[v,B]],[/droid.+aft(\w+)( bui|\))/i],[S,[w,Q],[v,B]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[S,[w,At],[v,B]],[/(bravia[\w ]+)( bui|\))/i],[S,[w,vt],[v,B]],[/(mitv-\w{5}) bui/i],[S,[w,ze],[v,B]],[/Hbbtv.*(technisat) (.*);/i],[w,S,[v,B]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,R],[S,R],[v,B]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,B]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,S,[v,q]],[/droid.+; (shield) bui/i],[S,[w,"Nvidia"],[v,q]],[/(playstation [345portablevi]+)/i],[S,[w,vt],[v,q]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[S,[w,qe],[v,q]],[/((pebble))app/i],[w,S,[v,ee]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[S,[w,se],[v,ee]],[/droid.+; (glass) \d/i],[S,[w,je],[v,ee]],[/droid.+; (wt63?0{2,3})\)/i],[S,[w,it],[v,ee]],[/(quest( 2| pro)?)/i],[S,[w,me],[v,ee]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[v,le]],[/(aeobc)\b/i],[S,[w,Q],[v,le]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[S,[v,V]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[S,[v,re]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,re]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,V]],[/(android[-\w\. ]{0,9});.+buil/i],[S,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[M,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[M,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,M],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[M,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,M],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[M,J,Ne]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[M,J,Ne],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[M,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,$e],[M,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[M,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,M],[/\(bb(10);/i],[M,[h,De]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[M,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[M,[h,xe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[M,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[M,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[M,[h,Se+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,Ee],M],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,M],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],M],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,M]]},He=function(Ye,we){if(typeof Ye===E&&(we=Ye,Ye=c),!(this instanceof He))return new He(Ye,we).getResult();var Le=typeof u!==p&&u.navigator?u.navigator:c,Pe=Ye||(Le&&Le.userAgent?Le.userAgent:""),ut=Le&&Le.userAgentData?Le.userAgentData:c,at=we?function(Tt,Jt){var an={};for(var In in Tt)Jt[In]&&Jt[In].length%2==0?an[In]=Jt[In].concat(Tt[In]):an[In]=Tt[In];return an}(rt,we):rt,Bt=Le&&Le.userAgent==Pe;return this.getBrowser=function(){var Tt,Jt={};return Jt[h]=c,Jt[M]=c,ne.call(Jt,Pe,at.browser),Jt[C]=typeof(Tt=Jt[M])===m?Tt.replace(/[^\d\.]/g,"").split(".")[0]:c,Bt&&Le&&Le.brave&&typeof Le.brave.isBrave==d&&(Jt[h]="Brave"),Jt},this.getCPU=function(){var Tt={};return Tt[j]=c,ne.call(Tt,Pe,at.cpu),Tt},this.getDevice=function(){var Tt={};return Tt[w]=c,Tt[S]=c,Tt[v]=c,ne.call(Tt,Pe,at.device),Bt&&!Tt[v]&&ut&&ut.mobile&&(Tt[v]=V),Bt&&Tt[S]=="Macintosh"&&Le&&typeof Le.standalone!==p&&Le.maxTouchPoints&&Le.maxTouchPoints>2&&(Tt[S]="iPad",Tt[v]=re),Tt},this.getEngine=function(){var Tt={};return Tt[h]=c,Tt[M]=c,ne.call(Tt,Pe,at.engine),Tt},this.getOS=function(){var Tt={};return Tt[h]=c,Tt[M]=c,ne.call(Tt,Pe,at.os),Bt&&!Tt[h]&&ut&&ut.platform!="Unknown"&&(Tt[h]=ut.platform.replace(/chrome os/i,Ee).replace(/macos/i,$e)),Tt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Pe},this.setUA=function(Tt){return Pe=typeof Tt===m&&Tt.length>500?R(Tt,500):Tt,this},this.setUA(Pe),this};He.VERSION="1.0.37",He.BROWSER=T([h,M,C]),He.CPU=T([j]),He.DEVICE=T([S,w,v,q,V,B,re,ee,le]),He.ENGINE=He.OS=T([h,M]),typeof o!==p?(i.exports&&(o=i.exports=He),o.UAParser=He):l.amdO?(f=function(){return He}.call(o,l,o,i))===c||(i.exports=f):typeof u!==p&&(u.UAParser=He);var Ze=typeof u!==p&&(u.jQuery||u.Zepto);if(Ze&&!Ze.ua){var Oe=new He;Ze.ua=Oe.getResult(),Ze.ua.get=function(){return Oe.getUA()},Ze.ua.set=function(Ye){Oe.setUA(Ye);var we=Oe.getResult();for(var Le in we)Ze.ua[Le]=we[Le]}}})(typeof window=="object"?window:this)},7839:function(i,o,l){function f(u){try{if(!l.g.localStorage)return!1}catch{return!1}var c=l.g.localStorage[u];return c!=null&&String(c).toLowerCase()==="true"}i.exports=function(u,c){if(f("noDeprecation"))return u;var d=!1;return function(){if(!d){if(f("throwDeprecation"))throw new Error(c);f("traceDeprecation")?console.trace(c):console.warn(c),d=!0}return u.apply(this,arguments)}}},9862:function(){},964:function(){},3165:function(i){"use strict";i.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:function(i){"use strict";i.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:function(i){"use strict";i.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:function(i){"use strict";i.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:function(i){"use strict";i.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:function(i){"use strict";i.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},t={};function e(i){var o=t[i];if(o!==void 0)return o.exports;var l=t[i]={exports:{}};return n[i].call(l.exports,l,l.exports,e),l.exports}e.amdO={},e.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(o,{a:o}),o},e.d=function(i,o){for(var l in o)e.o(o,l)&&!e.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:o[l]})},e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),e.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)};var r={};return function(){"use strict";e.d(r,{default:function(){return E}}),e(8416);var i,o=e(1715),l=e(8080),f=e(1737),u=e(1139),c=function(){var m,C="application/dash+xml";function S(v,w,M){if(!v||!/^VIDEO$/i.test(v.nodeName))return null;if(v._dashjs_player)return v._dashjs_player;var j,q=v.id||v.name||"video element";if(!(w=w||[].slice.call(v.querySelectorAll("source")).filter(function(V){return V.type==C})[0])&&v.src)(w=document.createElement("source")).src=v.src;else if(!w&&!v.src)return null;return M=M||{},(j=(0,u.Z)(M).create()).initialize(v,w.src,v.autoplay),m||(m=j.getDebug().getLogger()),m.debug("Converted "+q+" to dash.js player and added content: "+w.src),v._dashjs_player=j,j}function h(v){return/^VIDEO$/i.test(v.nodeName)?v:h(v.parentNode)}return{create:S,createAll:function(v,w){var M=[];v=v||"[data-dashjs-player]";for(var j=(w=w||document).querySelectorAll(v),q=0;q<j.length;q++){var V=S(j[q],null);M.push(V)}for(var re=w.querySelectorAll('source[type="'+C+'"]'),B=0;B<re.length;B++){var ee=S(h(re[B]),null);M.push(ee)}return M}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?c.createAll():i=window.setInterval(function(){window.dashjs&&(window.clearInterval(i),c.createAll())},500):window.addEventListener("load",function m(){window.removeEventListener("load",m),c.createAll()}));var d=c,p=e(6398);dashjs.Protection=f.default,dashjs.MetricsReporting=l.default,dashjs.MediaPlayerFactory=d,dashjs.Debug=p.Z,dashjs.supportsMediaSource=o.B;var E=dashjs}(),r.default}()})});function $E(n,t){return Object.is(n,t)}var wi=null,ru=!1,df=1,ea=Symbol("SIGNAL");function Ii(n){let t=wi;return wi=n,t}function D1(){return ru}var ou={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function WE(n){if(ru)throw new Error("");if(wi===null)return;wi.consumerOnSignalRead(n);let t=wi.nextProducerIndex++;if(jl(wi),t<wi.producerNode.length&&wi.producerNode[t]!==n&&iu(wi)){let e=wi.producerNode[t];gf(e,wi.producerIndexOfThis[t])}wi.producerNode[t]!==n&&(wi.producerNode[t]=n,wi.producerIndexOfThis[t]=iu(wi)?ew(n,wi,t):0),wi.producerLastReadVersion[t]=n.version}function A1(){df++}function KE(n){if(!(iu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===df)){if(!n.producerMustRecompute(n)&&!pf(n)){n.dirty=!1,n.lastCleanEpoch=df;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=df}}function QE(n){if(n.liveConsumerNode===void 0)return;let t=ru;ru=!0;try{for(let e of n.liveConsumerNode)e.dirty||JE(e)}finally{ru=t}}function XE(){return wi?.consumerAllowSignalWrites!==!1}function JE(n){n.dirty=!0,QE(n),n.consumerMarkedDirty?.(n)}function hf(n){return n&&(n.nextProducerIndex=0),Ii(n)}function mf(n,t){if(Ii(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(iu(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)gf(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function pf(n){jl(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(KE(e),r!==e.version))return!0}return!1}function Eg(n){if(jl(n),iu(n))for(let t=0;t<n.producerNode.length;t++)gf(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ew(n,t,e){if(tw(n),jl(n),n.liveConsumerNode.length===0)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=ew(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function gf(n,t){if(tw(n),jl(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)gf(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];jl(i),i.producerIndexOfThis[r]=t}}function iu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function jl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function tw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function nw(n){let t=Object.create(x1);t.computation=n;let e=()=>{if(KE(t),WE(t),t.value===ff)throw t.error;return t.value};return e[ea]=t,e}var vg=Symbol("UNSET"),yg=Symbol("COMPUTING"),ff=Symbol("ERRORED"),x1=(()=>Sr(on({},ou),{value:vg,dirty:!0,error:null,equal:$E,producerMustRecompute(n){return n.value===vg||n.value===yg},producerRecomputeValue(n){if(n.value===yg)throw new Error("Detected cycle in computations.");let t=n.value;n.value=yg;let e=hf(n),r;try{r=n.computation()}catch(i){r=ff,n.error=i}finally{mf(n,e)}if(t!==vg&&t!==ff&&r!==ff&&n.equal(t,r)){n.value=t;return}n.value=r,n.version++}}))();function M1(){throw new Error}var rw=M1;function iw(){rw()}function ow(n){rw=n}var R1=null;function sw(n){let t=Object.create(N1);t.value=n;let e=()=>(WE(t),t.value);return e[ea]=t,e}function wg(n,t){XE()||iw(),n.equal(n.value,t)||(n.value=t,O1(n))}function aw(n,t){XE()||iw(),wg(n,t(n.value))}var N1=(()=>Sr(on({},ou),{equal:$E,value:void 0}))();function O1(n){n.version++,A1(),QE(n),R1?.()}function lw(n,t,e){let r=Object.create(P1);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;let i=u=>{r.cleanupFn=u};function o(u){return u.fn===null&&u.schedule===null}function l(u){o(u)||(Eg(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=bg)}let f=()=>{if(r.fn===null)return;if(D1())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!pf(r))return;r.hasRun=!0;let u=hf(r);try{r.cleanupFn(),r.cleanupFn=bg,r.fn(i)}finally{mf(r,u)}};return r.ref={notify:()=>JE(r),run:f,cleanup:()=>r.cleanupFn(),destroy:()=>l(r),[ea]:r},r.ref}var bg=()=>{},P1=(()=>Sr(on({},ou),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:bg}))();function Vn(n){return typeof n=="function"}function Vl(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var _f=Vl(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Va(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var pr=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Vn(r))try{r()}catch(o){t=o instanceof _f?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cw(o)}catch(l){t=t??[],l instanceof _f?t=[...t,...l.errors]:t.push(l)}}if(t)throw new _f(t)}}add(t){var e;if(t&&t!==this)if(this.closed)cw(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Va(e,t)}remove(t){let{_finalizers:e}=this;e&&Va(e,t),t instanceof n&&t._removeParent(this)}};pr.EMPTY=(()=>{let n=new pr;return n.closed=!0,n})();var Tg=pr.EMPTY;function vf(n){return n instanceof pr||n&&"closed"in n&&Vn(n.remove)&&Vn(n.add)&&Vn(n.unsubscribe)}function cw(n){Vn(n)?n():n.unsubscribe()}var zo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zl={setTimeout(n,t,...e){let{delegate:r}=Zl;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Zl;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yf(n){Zl.setTimeout(()=>{let{onUnhandledError:t}=zo;if(t)t(n);else throw n})}function Za(){}var uw=(()=>Sg("C",void 0,void 0))();function dw(n){return Sg("E",void 0,n)}function fw(n){return Sg("N",n,void 0)}function Sg(n,t,e){return{kind:n,value:t,error:e}}var Ha=null;function Hl(n){if(zo.useDeprecatedSynchronousErrorHandling){let t=!Ha;if(t&&(Ha={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Ha;if(Ha=null,e)throw r}}else n()}function hw(n){zo.useDeprecatedSynchronousErrorHandling&&Ha&&(Ha.errorThrown=!0,Ha.error=n)}var za=class extends pr{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,vf(t)&&t.add(this)):this.destination=L1}static create(t,e,r){return new Ps(t,e,r)}next(t){this.isStopped?Ig(fw(t),this):this._next(t)}error(t){this.isStopped?Ig(dw(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ig(uw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},k1=Function.prototype.bind;function Cg(n,t){return k1.call(n,t)}var Dg=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){bf(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){bf(r)}else bf(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){bf(e)}}},Ps=class extends za{constructor(t,e,r){super();let i;if(Vn(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&zo.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Cg(t.next,o),error:t.error&&Cg(t.error,o),complete:t.complete&&Cg(t.complete,o)}):i=t}this.destination=new Dg(i)}};function bf(n){zo.useDeprecatedSynchronousErrorHandling?hw(n):yf(n)}function F1(n){throw n}function Ig(n,t){let{onStoppedNotification:e}=zo;e&&Zl.setTimeout(()=>e(n,t))}var L1={closed:!0,next:Za,error:F1,complete:Za};var zl=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function qi(n){return n}function Ag(...n){return xg(n)}function xg(n){return n.length===0?qi:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var Qn=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=U1(e)?e:new Ps(e,r,i);return Hl(()=>{let{operator:l,source:f}=this;o.add(l?l.call(o,f):f?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=mw(r),new r((i,o)=>{let l=new Ps({next:f=>{try{e(f)}catch(u){o(u),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[zl](){return this}pipe(...e){return xg(e)(this)}toPromise(e){return e=mw(e),new e((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return n.create=t=>new n(t),n})();function mw(n){var t;return(t=n??zo.Promise)!==null&&t!==void 0?t:Promise}function B1(n){return n&&Vn(n.next)&&Vn(n.error)&&Vn(n.complete)}function U1(n){return n&&n instanceof za||B1(n)&&vf(n)}function Mg(n){return Vn(n?.lift)}function Xn(n){return t=>{if(Mg(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Kn(n,t,e,r,i){return new Rg(n,t,e,r,i)}var Rg=class extends za{constructor(t,e,r,i,o,l){super(t),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=e?function(f){try{e(f)}catch(u){t.error(u)}}:super._next,this._error=i?function(f){try{i(f)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Gl(){return Xn((n,t)=>{let e=null;n._refCount++;let r=Kn(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var ql=class extends Qn{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Mg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pr;let e=this.getSubject();t.add(this.source.subscribe(Kn(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pr.EMPTY)}return t}refCount(){return Gl()(this)}};var pw=Vl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var kn=(()=>{class n extends Qn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Ef(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new pw}next(e){Hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tg:(this.currentObservers=null,o.push(e),new pr(()=>{this.currentObservers=null,Va(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new Qn;return e.source=this,e}}return n.create=(t,e)=>new Ef(t,e),n})(),Ef=class extends kn{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:Tg}};var mi=class extends kn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var su={now(){return(su.delegate||Date).now()},delegate:void 0};var au=class extends kn{constructor(t=1/0,e=1/0,r=su){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:l}=this;e||(r.push(t),!i&&r.push(o.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let l=0;l<o.length&&!t.closed;l+=r?1:2)t.next(o[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let l=e.now(),f=0;for(let u=1;u<r.length&&r[u]<=l;u+=2)f=u;f&&r.splice(0,f+1)}}};var wf=class extends pr{constructor(t,e){super()}schedule(t,e=0){return this}};var lu={setInterval(n,t,...e){let{delegate:r}=lu;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=lu;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Yl=class extends wf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return lu.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&lu.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Va(r,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var j1=1,Ng,Og={};function gw(n){return n in Og?(delete Og[n],!0):!1}var _w={setImmediate(n){let t=j1++;return Og[t]=!0,Ng||(Ng=Promise.resolve()),Ng.then(()=>gw(t)&&n()),t},clearImmediate(n){gw(n)}};var{setImmediate:V1,clearImmediate:Z1}=_w,cu={setImmediate(...n){let{delegate:t}=cu;return(t?.setImmediate||V1)(...n)},clearImmediate(n){let{delegate:t}=cu;return(t?.clearImmediate||Z1)(n)},delegate:void 0};var Tf=class extends Yl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return r!==null&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=cu.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);let{actions:o}=t;e!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==e&&(cu.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}};var $l=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}};$l.now=su.now;var Wl=class extends $l{constructor(t,e=$l.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}};var Sf=class extends Wl{flush(t){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}};var uu=new Sf(Tf);var Ga=new Wl(Yl),vw=Ga;var Fi=new Qn(n=>n.complete());function Cf(n){return n&&Vn(n.schedule)}function Pg(n){return n[n.length-1]}function If(n){return Vn(Pg(n))?n.pop():void 0}function is(n){return Cf(Pg(n))?n.pop():void 0}function yw(n,t){return typeof Pg(n)=="number"?n.pop():t}function Ew(n,t,e,r){function i(o){return o instanceof e?o:new e(function(l){l(o)})}return new(e||(e=Promise))(function(o,l){function f(d){try{c(r.next(d))}catch(p){l(p)}}function u(d){try{c(r.throw(d))}catch(p){l(p)}}function c(d){d.done?o(d.value):i(d.value).then(f,u)}c((r=r.apply(n,t||[])).next())})}function bw(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qa(n){return this instanceof qa?(this.v=n,this):new qa(n)}function ww(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(C){return Promise.resolve(C).then(m,p)}}function f(m,C){r[m]&&(i[m]=function(S){return new Promise(function(h,v){o.push([m,S,h,v])>1||u(m,S)})},C&&(i[m]=C(i[m])))}function u(m,C){try{c(r[m](C))}catch(S){E(o[0][3],S)}}function c(m){m.value instanceof qa?Promise.resolve(m.value.v).then(d,p):E(o[0][2],m)}function d(m){u("next",m)}function p(m){u("throw",m)}function E(m,C){m(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Tw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof bw=="function"?bw(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(l){return new Promise(function(f,u){l=n[o](l),i(f,u,l.done,l.value)})}}function i(o,l,f,u){Promise.resolve(u).then(function(c){o({value:c,done:f})},l)}}var Kl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Df(n){return Vn(n?.then)}function Af(n){return Vn(n[zl])}function xf(n){return Symbol.asyncIterator&&Vn(n?.[Symbol.asyncIterator])}function Mf(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function H1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rf=H1();function Nf(n){return Vn(n?.[Rf])}function Of(n){return ww(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield qa(e.read());if(i)return yield qa(void 0);yield yield qa(r)}}finally{e.releaseLock()}})}function Pf(n){return Vn(n?.getReader)}function Ar(n){if(n instanceof Qn)return n;if(n!=null){if(Af(n))return z1(n);if(Kl(n))return G1(n);if(Df(n))return q1(n);if(xf(n))return Sw(n);if(Nf(n))return Y1(n);if(Pf(n))return $1(n)}throw Mf(n)}function z1(n){return new Qn(t=>{let e=n[zl]();if(Vn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function G1(n){return new Qn(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function q1(n){return new Qn(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,yf)})}function Y1(n){return new Qn(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function Sw(n){return new Qn(t=>{W1(n,t).catch(e=>t.error(e))})}function $1(n){return Sw(Of(n))}function W1(n,t){var e,r,i,o;return Ew(this,void 0,void 0,function*(){try{for(e=Tw(n);r=yield e.next(),!r.done;){let l=r.value;if(t.next(l),t.closed)return}}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function io(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function kf(n,t=0){return Xn((e,r)=>{e.subscribe(Kn(r,i=>io(r,n,()=>r.next(i),t),()=>io(r,n,()=>r.complete(),t),i=>io(r,n,()=>r.error(i),t)))})}function Ff(n,t=0){return Xn((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Cw(n,t){return Ar(n).pipe(Ff(t),kf(t))}function Iw(n,t){return Ar(n).pipe(Ff(t),kf(t))}function Dw(n,t){return new Qn(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function Aw(n,t){return new Qn(e=>{let r;return io(e,t,()=>{r=n[Rf](),io(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){e.error(l);return}o?e.complete():e.next(i)},0,!0)}),()=>Vn(r?.return)&&r.return()})}function Lf(n,t){if(!n)throw new Error("Iterable cannot be null");return new Qn(e=>{io(e,t,()=>{let r=n[Symbol.asyncIterator]();io(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function xw(n,t){return Lf(Of(n),t)}function Mw(n,t){if(n!=null){if(Af(n))return Cw(n,t);if(Kl(n))return Dw(n,t);if(Df(n))return Iw(n,t);if(xf(n))return Lf(n,t);if(Nf(n))return Aw(n,t);if(Pf(n))return xw(n,t)}throw Mf(n)}function $r(n,t){return t?Mw(n,t):Ar(n)}function Fn(...n){let t=is(n);return $r(n,t)}function ta(n,t){let e=Vn(n)?n:()=>n,r=i=>i.error(e());return new Qn(t?i=>t.schedule(r,0,i):r)}function Bf(n){return!!n&&(n instanceof Qn||Vn(n.lift)&&Vn(n.subscribe))}var ks=Vl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Rw(n){return n instanceof Date&&!isNaN(n)}function jn(n,t){return Xn((e,r)=>{let i=0;e.subscribe(Kn(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:K1}=Array;function Q1(n,t){return K1(t)?n(...t):n(t)}function Ql(n){return jn(t=>Q1(n,t))}var{isArray:X1}=Array,{getPrototypeOf:J1,prototype:eN,keys:tN}=Object;function Uf(n){if(n.length===1){let t=n[0];if(X1(t))return{args:t,keys:null};if(nN(t)){let e=tN(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function nN(n){return n&&typeof n=="object"&&J1(n)===eN}function jf(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Xl(...n){let t=is(n),e=If(n),{args:r,keys:i}=Uf(n);if(r.length===0)return $r([],t);let o=new Qn(rN(r,t,i?l=>jf(i,l):qi));return e?o.pipe(Ql(e)):o}function rN(n,t,e=qi){return r=>{Nw(t,()=>{let{length:i}=n,o=new Array(i),l=i,f=i;for(let u=0;u<i;u++)Nw(t,()=>{let c=$r(n[u],t),d=!1;c.subscribe(Kn(r,p=>{o[u]=p,d||(d=!0,f--),f||r.next(e(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}function Nw(n,t,e){n?io(e,n,t):t()}function Ow(n,t,e,r,i,o,l,f){let u=[],c=0,d=0,p=!1,E=()=>{p&&!u.length&&!c&&t.complete()},m=S=>c<r?C(S):u.push(S),C=S=>{o&&t.next(S),c++;let h=!1;Ar(e(S,d++)).subscribe(Kn(t,v=>{i?.(v),o?m(v):t.next(v)},()=>{h=!0},void 0,()=>{if(h)try{for(c--;u.length&&c<r;){let v=u.shift();l?io(t,l,()=>C(v)):C(v)}E()}catch(v){t.error(v)}}))};return n.subscribe(Kn(t,m,()=>{p=!0,E()})),()=>{f?.()}}function Jr(n,t,e=1/0){return Vn(t)?Jr((r,i)=>jn((o,l)=>t(r,o,i,l))(Ar(n(r,i))),e):(typeof t=="number"&&(e=t),Xn((r,i)=>Ow(r,i,n,e)))}function du(n=1/0){return Jr(qi,n)}function Pw(){return du(1)}function os(...n){return Pw()($r(n,is(n)))}function Vf(n){return new Qn(t=>{Ar(n()).subscribe(t)})}function fu(...n){let t=If(n),{args:e,keys:r}=Uf(n),i=new Qn(o=>{let{length:l}=e;if(!l){o.complete();return}let f=new Array(l),u=l,c=l;for(let d=0;d<l;d++){let p=!1;Ar(e[d]).subscribe(Kn(o,E=>{p||(p=!0,c--),f[d]=E},()=>u--,void 0,()=>{(!u||!p)&&(c||o.next(r?jf(r,f):f),o.complete())}))}});return t?i.pipe(Ql(t)):i}var iN=["addListener","removeListener"],oN=["addEventListener","removeEventListener"],sN=["on","off"];function Jl(n,t,e,r){if(Vn(e)&&(r=e,e=void 0),r)return Jl(n,t,e).pipe(Ql(r));let[i,o]=cN(n)?oN.map(l=>f=>n[l](t,f,e)):aN(n)?iN.map(kw(n,t)):lN(n)?sN.map(kw(n,t)):[];if(!i&&Kl(n))return Jr(l=>Jl(l,t,e))(Ar(n));if(!i)throw new TypeError("Invalid event target");return new Qn(l=>{let f=(...u)=>l.next(1<u.length?u:u[0]);return i(f),()=>o(f)})}function kw(n,t){return e=>r=>n[e](t,r)}function aN(n){return Vn(n.addListener)&&Vn(n.removeListener)}function lN(n){return Vn(n.on)&&Vn(n.off)}function cN(n){return Vn(n.addEventListener)&&Vn(n.removeEventListener)}function Zf(n=0,t,e=vw){let r=-1;return t!=null&&(Cf(t)?e=t:r=t),new Qn(i=>{let o=Rw(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Yi(...n){let t=is(n),e=yw(n,1/0),r=n;return r.length?r.length===1?Ar(r[0]):du(e)($r(r,t)):Fi}function Rr(n,t){return Xn((e,r)=>{let i=0;e.subscribe(Kn(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Fw(n){return Xn((t,e)=>{let r=!1,i=null,o=null,l=!1,f=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,e.next(c)}l&&e.complete()},u=()=>{o=null,l&&e.complete()};t.subscribe(Kn(e,c=>{r=!0,i=c,o||Ar(n(c)).subscribe(o=Kn(e,f,u))},()=>{l=!0,(!r||!o||o.closed)&&e.complete()}))})}function Hf(n,t=Ga){return Fw(()=>Zf(n,t))}function ss(n){return Xn((t,e)=>{let r=null,i=!1,o;r=t.subscribe(Kn(e,void 0,void 0,l=>{o=Ar(n(l,ss(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Lw(n,t,e,r,i){return(o,l)=>{let f=e,u=t,c=0;o.subscribe(Kn(l,d=>{let p=c++;u=f?n(u,d,p):(f=!0,d),r&&l.next(u)},i&&(()=>{f&&l.next(u),l.complete()})))}}function na(n,t){return Vn(t)?Jr(n,t,1):Jr(n,1)}function Ya(n,t=Ga){return Xn((e,r)=>{let i=null,o=null,l=null,f=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,r.next(c)}};function u(){let c=l+n,d=t.now();if(d<c){i=this.schedule(void 0,c-d),r.add(i);return}f()}e.subscribe(Kn(r,c=>{o=c,l=t.now(),i||(i=t.schedule(u,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{o=i=null}))})}function ra(n){return Xn((t,e)=>{let r=!1;t.subscribe(Kn(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function qr(n){return n<=0?()=>Fi:Xn((t,e)=>{let r=0;t.subscribe(Kn(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Bw(){return Xn((n,t)=>{n.subscribe(Kn(t,Za))})}function hu(n){return jn(()=>n)}function kg(n,t){return t?e=>os(t.pipe(qr(1),Bw()),e.pipe(kg(n))):Jr((e,r)=>Ar(n(e,r)).pipe(qr(1),hu(e)))}function zf(n,t=Ga){let e=Zf(n,t);return kg(()=>e)}function Gf(n,t=qi){return n=n??uN,Xn((e,r)=>{let i,o=!0;e.subscribe(Kn(r,l=>{let f=t(l);(o||!n(i,f))&&(o=!1,i=f,r.next(l))}))})}function uN(n,t){return n===t}function qf(n=dN){return Xn((t,e)=>{let r=!1;t.subscribe(Kn(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function dN(){return new ks}function ia(n){return Xn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function as(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Rr((i,o)=>n(i,o,r)):qi,qr(1),e?ra(t):qf(()=>new ks))}function ec(n){return n<=0?()=>Fi:Xn((t,e)=>{let r=[];t.subscribe(Kn(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Fg(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Rr((i,o)=>n(i,o,r)):qi,ec(1),e?ra(t):qf(()=>new ks))}function Lg(n,t){return Xn(Lw(n,t,arguments.length>=2,!0))}function mu(n={}){let{connector:t=()=>new kn,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let l,f,u,c=0,d=!1,p=!1,E=()=>{f?.unsubscribe(),f=void 0},m=()=>{E(),l=u=void 0,d=p=!1},C=()=>{let S=l;m(),S?.unsubscribe()};return Xn((S,h)=>{c++,!p&&!d&&E();let v=u=u??t();h.add(()=>{c--,c===0&&!p&&!d&&(f=Bg(C,i))}),v.subscribe(h),!l&&c>0&&(l=new Ps({next:w=>v.next(w),error:w=>{p=!0,E(),f=Bg(m,e,w),v.error(w)},complete:()=>{d=!0,E(),f=Bg(m,r),v.complete()}}),Ar(S).subscribe(l))})(o)}}function Bg(n,t,...e){if(t===!0){n();return}if(t===!1)return;let r=new Ps({next:()=>{r.unsubscribe(),n()}});return Ar(t(...e)).subscribe(r)}function Yf(n,t,e){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n:r=n??1/0,mu({connector:()=>new au(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function pu(n){return Rr((t,e)=>n<=e)}function ls(...n){let t=is(n);return Xn((e,r)=>{(t?os(n,e,t):os(n,e)).subscribe(r)})}function Li(n,t){return Xn((e,r)=>{let i=null,o=0,l=!1,f=()=>l&&!i&&r.complete();e.subscribe(Kn(r,u=>{i?.unsubscribe();let c=0,d=o++;Ar(n(u,d)).subscribe(i=Kn(r,p=>r.next(t?t(u,p,d,c++):p),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function xr(n){return Xn((t,e)=>{Ar(n).subscribe(Kn(e,()=>e.complete(),Za)),!e.closed&&t.subscribe(e)})}function ar(n,t,e){let r=Vn(n)||t||e?{next:n,error:t,complete:e}:n;return r?Xn((i,o)=>{var l;(l=r.subscribe)===null||l===void 0||l.call(r);let f=!0;i.subscribe(Kn(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;f=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;f=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;f&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):qi}function Vr(n){for(let t in n)if(n[t]===Vr)return t;throw Error("Could not find renamed property on target object.")}function $f(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Wi(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Wi).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Jg(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var fN=Vr({__forward_ref__:Vr});function _s(n){return n.__forward_ref__=_s,n.toString=function(){return Wi(this())},n}function $i(n){return TT(n)?n():n}function TT(n){return typeof n=="function"&&n.hasOwnProperty(fN)&&n.__forward_ref__===_s}function ST(n){return n&&!!n.\u0275providers}var CT="https://g.co/ng/security#xss",dn=class extends Error{constructor(t,e){super(iv(t,e)),this.code=t}};function iv(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var hN=Vr({\u0275cmp:Vr}),mN=Vr({\u0275dir:Vr}),pN=Vr({\u0275pipe:Vr}),gN=Vr({\u0275mod:Vr}),lh=Vr({\u0275fac:Vr}),gu=Vr({__NG_ELEMENT_ID__:Vr}),Uw=Vr({__NG_ENV_ID__:Vr});function aa(n){return typeof n=="string"?n:n==null?"":String(n)}function _N(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():aa(n)}function vN(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new dn(-200,`Circular dependency in DI detected for ${n}${e}`)}function ov(n,t){throw new dn(-201,!1)}function yN(n,t){n==null&&bN(t,n,null,"!=")}function bN(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}function Gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ah(n){return jw(n,DT)||jw(n,AT)}function IT(n){return Ah(n)!==null}function jw(n,t){return n.hasOwnProperty(t)?n[t]:null}function EN(n){let t=n&&(n[DT]||n[AT]);return t||null}function Vw(n){return n&&(n.hasOwnProperty(Zw)||n.hasOwnProperty(wN))?n[Zw]:null}var DT=Vr({\u0275prov:Vr}),Zw=Vr({\u0275inj:Vr}),AT=Vr({ngInjectableDef:Vr}),wN=Vr({ngInjectorDef:Vr}),lr=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(lr||{}),e_;function xT(){return e_}function oo(n){let t=e_;return e_=n,t}function MT(n,t,e){let r=Ah(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&lr.Optional)return null;if(t!==void 0)return t;ov(n,"Injector")}var Fs=globalThis;var pn=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Gt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var TN={},_u=TN,t_="__NG_DI_FLAG__",ch="ngTempTokenPath",SN="ngTokenPath",CN=/\n/gm,IN="\u0275",Hw="__source",ic;function DN(){return ic}function oa(n){let t=ic;return ic=n,t}function AN(n,t=lr.Default){if(ic===void 0)throw new dn(-203,!1);return ic===null?MT(n,void 0,t):ic.get(n,t&lr.Optional?null:void 0,t)}function Ut(n,t=lr.Default){return(xT()||AN)($i(n),t)}function pt(n,t=lr.Default){return Ut(n,xh(t))}function xh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function n_(n){let t=[];for(let e=0;e<n.length;e++){let r=$i(n[e]);if(Array.isArray(r)){if(r.length===0)throw new dn(900,!1);let i,o=lr.Default;for(let l=0;l<r.length;l++){let f=r[l],u=xN(f);typeof u=="number"?u===-1?i=f.token:o|=u:i=f}t.push(Ut(i,o))}else t.push(Ut(r))}return t}function RT(n,t){return n[t_]=t,n.prototype[t_]=t,n}function xN(n){return n[t_]}function MN(n,t,e,r){let i=n[ch];throw t[Hw]&&i.unshift(t[Hw]),n.message=RN(`
`+n.message,i,e,r),n[SN]=i,n[ch]=null,n}function RN(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==IN?n.slice(2):n;let i=Wi(t);if(Array.isArray(t))i=t.map(Wi).join(" -> ");else if(typeof t=="object"){let o=[];for(let l in t)if(t.hasOwnProperty(l)){let f=t[l];o.push(l+":"+(typeof f=="string"?JSON.stringify(f):Wi(f)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(CN,`
  `)}`}function Au(n){return{toString:n}.toString()}var NT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(NT||{}),fs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(fs||{}),sc={},so=[];function OT(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}function r_(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],l=e[r++],f=e[r++];n.setAttribute(t,l,f,o)}else{let o=i,l=e[++r];NN(o)?n.setProperty(t,o,l):n.setAttribute(t,o,l),r++}}return r}function PT(n){return n===3||n===4||n===6}function NN(n){return n.charCodeAt(0)===64}function vu(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?zw(n,e,i,null,t[++r]):zw(n,e,i,null,null))}}return n}function zw(n,t,e,r,i){let o=0,l=n.length;if(t===-1)l=-1;else for(;o<n.length;){let f=n[o++];if(typeof f=="number"){if(f===t){l=-1;break}else if(f>t){l=o-1;break}}}for(;o<n.length;){let f=n[o];if(typeof f=="number")break;if(f===e){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}l!==-1&&(n.splice(l,0,t),o=l+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var kT="ng-template";function ON(n,t,e){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if(typeof o=="string"&&i){let l=n[r++];if(e&&o==="class"&&OT(l.toLowerCase(),t,0)!==-1)return!0}else if(o===1){for(;r<n.length&&typeof(o=n[r++])=="string";)if(o.toLowerCase()===t)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function FT(n){return n.type===4&&n.value!==kT}function PN(n,t,e){let r=n.type===4&&!e?kT:n.value;return t===r}function kN(n,t,e){let r=4,i=n.attrs||[],o=BN(i),l=!1;for(let f=0;f<t.length;f++){let u=t[f];if(typeof u=="number"){if(!l&&!Go(r)&&!Go(u))return!1;if(l&&Go(u))continue;l=!1,r=u|r&1;continue}if(!l)if(r&4){if(r=2|r&1,u!==""&&!PN(n,u,e)||u===""&&t.length===1){if(Go(r))return!1;l=!0}}else{let c=r&8?u:t[++f];if(r&8&&n.attrs!==null){if(!ON(n.attrs,c,e)){if(Go(r))return!1;l=!0}continue}let d=r&8?"class":u,p=FN(d,i,FT(n),e);if(p===-1){if(Go(r))return!1;l=!0;continue}if(c!==""){let E;p>o?E="":E=i[p+1].toLowerCase();let m=r&8?E:null;if(m&&OT(m,c,0)!==-1||r&2&&c!==E){if(Go(r))return!1;l=!0}}}}return Go(r)||l}function Go(n){return(n&1)===0}function FN(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let l=t[i];if(l===n)return i;if(l===3||l===6)o=!0;else if(l===1||l===2){let f=t[++i];for(;typeof f=="string";)f=t[++i];continue}else{if(l===4)break;if(l===0){i+=4;continue}}i+=o?1:2}return-1}else return UN(t,n)}function LT(n,t,e=!1){for(let r=0;r<t.length;r++)if(kN(n,t[r],e))return!0;return!1}function LN(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function BN(n){for(let t=0;t<n.length;t++){let e=n[t];if(PT(e))return t}return n.length}function UN(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function jN(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Gw(n,t){return n?":not("+t.trim()+")":t}function VN(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let l=n[e];if(typeof l=="string")if(r&2){let f=n[++e];i+="["+l+(f.length>0?'="'+f+'"':"")+"]"}else r&8?i+="."+l:r&4&&(i+=" "+l);else i!==""&&!Go(l)&&(t+=Gw(o,i),i=""),r=l,o=o||!Go(r);e++}return i!==""&&(t+=Gw(o,i)),t}function ZN(n){return n.map(VN).join(",")}function HN(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!Go(i))break;i=o}r++}return{attrs:t,classes:e}}function _n(n){return Au(()=>{let t=ZT(n),e=Sr(on({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===NT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fs.Emulated,styles:n.styles||so,_:null,schemas:n.schemas||null,tView:null,id:""});HT(e);let r=n.dependencies;return e.directiveDefs=Yw(r,!1),e.pipeDefs=Yw(r,!0),e.id=qN(e),e})}function zN(n){return Ka(n)||BT(n)}function GN(n){return n!==null}function qn(n){return Au(()=>({type:n.type,bootstrap:n.bootstrap||so,declarations:n.declarations||so,imports:n.imports||so,exports:n.exports||so,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qw(n,t){if(n==null)return sc;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}function Yn(n){return Au(()=>{let t=ZT(n);return HT(t),t})}function sl(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ka(n){return n[hN]||null}function BT(n){return n[mN]||null}function UT(n){return n[pN]||null}function jT(n){let t=Ka(n)||BT(n)||UT(n);return t!==null?t.standalone:!1}function VT(n,t){let e=n[gN]||null;if(!e&&t===!0)throw new Error(`Type ${Wi(n)} does not have '\u0275mod' property.`);return e}function ZT(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||sc,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||so,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qw(n.inputs,t),outputs:qw(n.outputs),debugInfo:null}}function HT(n){n.features?.forEach(t=>t(n))}function Yw(n,t){if(!n)return null;let e=t?UT:zN;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter(GN)}function qN(n){let t=0,e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483647+1,"c"+t}var Bs=0,nr=1,Wn=2,Di=3,Yo=4,go=5,yu=6,bu=7,Mo=8,ac=9,hs=10,li=11,Eu=12,$w=13,hc=14,$o=15,xu=16,tc=17,ds=18,Mh=19,zT=20,sa=21,th=22,Qa=23,Ki=25,GT=1;var Xa=7,uh=8,lc=9,ao=10,sv=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(sv||{});function $a(n){return Array.isArray(n)&&typeof n[GT]=="object"}function Us(n){return Array.isArray(n)&&n[GT]===!0}function av(n){return(n.flags&4)!==0}function Rh(n){return n.componentOffset>-1}function Nh(n){return(n.flags&1)===1}function la(n){return!!n.template}function YN(n){return(n[Wn]&512)!==0}function Ja(n,t){let e=n.hasOwnProperty(lh);return e?n[lh]:null}var i_=class{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Qi(){return qT}function qT(n){return n.type.prototype.ngOnChanges&&(n.setInput=WN),$N}Qi.ngInherit=!0;function $N(){let n=$T(this),t=n?.current;if(t){let e=n.previous;if(e===sc)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function WN(n,t,e,r){let i=this.declaredInputs[e],o=$T(n)||KN(n,{previous:sc,current:null}),l=o.current||(o.current={}),f=o.previous,u=f[i];l[i]=new i_(u&&u.currentValue,t,f===sc),n[r]=t}var YT="__ngSimpleChanges__";function $T(n){return n[YT]||null}function KN(n,t){return n[YT]=t}var Ww=null;var cs=function(n,t,e){Ww?.(n,t,e)},WT="svg",QN="math",XN=!1;function JN(){return XN}function ms(n){for(;Array.isArray(n);)n=n[Bs];return n}function KT(n,t){return ms(t[n])}function Ro(n,t){return ms(t[n.index])}function lv(n,t){return n.data[t]}function QT(n,t){return n[t]}function fa(n,t){let e=t[n];return $a(e)?e:e[Bs]}function eO(n){return(n[Wn]&4)===4}function cv(n){return(n[Wn]&128)===128}function tO(n){return Us(n[Di])}function cc(n,t){return t==null?null:n[t]}function XT(n){n[tc]=0}function nO(n){n[Wn]&1024||(n[Wn]|=1024,cv(n)&&wu(n))}function rO(n,t){for(;n>0;)t=t[hc],n--;return t}function JT(n){return n[Wn]&9216||n[Qa]?.dirty}function o_(n){JT(n)?wu(n):n[Wn]&64&&(JN()?(n[Wn]|=1024,wu(n)):n[hs].changeDetectionScheduler?.notify())}function wu(n){n[hs].changeDetectionScheduler?.notify();let t=Tu(n);for(;t!==null&&!(t[Wn]&8192||(t[Wn]|=8192,!cv(t)));)t=Tu(t)}function eS(n,t){if((n[Wn]&256)===256)throw new dn(911,!1);n[sa]===null&&(n[sa]=[]),n[sa].push(t)}function iO(n,t){if(n[sa]===null)return;let e=n[sa].indexOf(t);e!==-1&&n[sa].splice(e,1)}function Tu(n){let t=n[Di];return Us(t)?t[Di]:t}var tr={lFrame:aS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oO(){return tr.lFrame.elementDepthCount}function sO(){tr.lFrame.elementDepthCount++}function aO(){tr.lFrame.elementDepthCount--}function tS(){return tr.bindingsEnabled}function nS(){return tr.skipHydrationRootTNode!==null}function lO(n){return tr.skipHydrationRootTNode===n}function cO(){tr.skipHydrationRootTNode=null}function cr(){return tr.lFrame.lView}function fi(){return tr.lFrame.tView}function ur(n){return tr.lFrame.contextLView=n,n[Mo]}function dr(n){return tr.lFrame.contextLView=null,n}function Xi(){let n=rS();for(;n!==null&&n.type===64;)n=n.parent;return n}function rS(){return tr.lFrame.currentTNode}function uO(){let n=tr.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function al(n,t){let e=tr.lFrame;e.currentTNode=n,e.isParent=t}function uv(){return tr.lFrame.isParent}function dv(){tr.lFrame.isParent=!1}function dO(){return tr.lFrame.contextLView}function fv(){let n=tr.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function fO(){return tr.lFrame.bindingIndex}function hO(n){return tr.lFrame.bindingIndex=n}function Mu(){return tr.lFrame.bindingIndex++}function hv(n){let t=tr.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function mO(){return tr.lFrame.inI18n}function pO(n,t){let e=tr.lFrame;e.bindingIndex=e.bindingRootIndex=n,s_(t)}function gO(){return tr.lFrame.currentDirectiveIndex}function s_(n){tr.lFrame.currentDirectiveIndex=n}function _O(n){let t=tr.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function iS(){return tr.lFrame.currentQueryIndex}function mv(n){tr.lFrame.currentQueryIndex=n}function vO(n){let t=n[nr];return t.type===2?t.declTNode:t.type===1?n[go]:null}function oS(n,t,e){if(e&lr.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&lr.Host);)if(i=vO(o),i===null||(o=o[hc],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=tr.lFrame=sS();return r.currentTNode=t,r.lView=n,!0}function pv(n){let t=sS(),e=n[nr];tr.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function sS(){let n=tr.lFrame,t=n===null?null:n.child;return t===null?aS(n):t}function aS(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function lS(){let n=tr.lFrame;return tr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cS=lS;function gv(){let n=lS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function yO(n){return(tr.lFrame.contextLView=rO(n,tr.lFrame.contextLView))[Mo]}function ha(){return tr.lFrame.selectedIndex}function el(n){tr.lFrame.selectedIndex=n}function _v(){let n=tr.lFrame;return lv(n.tView,n.selectedIndex)}function Ru(){tr.lFrame.currentNamespace=WT}function uS(){bO()}function bO(){tr.lFrame.currentNamespace=null}function EO(){return tr.lFrame.currentNamespace}var dS=!0;function Oh(){return dS}function Ph(n){dS=n}function wO(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let l=qT(t);(e.preOrderHooks??=[]).push(n,l),(e.preOrderCheckHooks??=[]).push(n,l)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function kh(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:f,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;l&&(n.contentHooks??=[]).push(-e,l),f&&((n.contentHooks??=[]).push(e,f),(n.contentCheckHooks??=[]).push(e,f)),u&&(n.viewHooks??=[]).push(-e,u),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),d!=null&&(n.destroyHooks??=[]).push(e,d)}}function nh(n,t,e){fS(n,t,3,e)}function rh(n,t,e,r){(n[Wn]&3)===e&&fS(n,t,e,r)}function Ug(n,t){let e=n[Wn];(e&3)===t&&(e&=16383,e+=1,n[Wn]=e)}function fS(n,t,e,r){let i=r!==void 0?n[tc]&65535:0,o=r??-1,l=t.length-1,f=0;for(let u=i;u<l;u++)if(typeof t[u+1]=="number"){if(f=t[u],r!=null&&f>=r)break}else t[u]<0&&(n[tc]+=65536),(f<o||o==-1)&&(TO(n,e,t,u),n[tc]=(n[tc]&4294901760)+u+2),u++}function Kw(n,t){cs(4,n,t);let e=Ii(null);try{t.call(n)}finally{Ii(e),cs(5,n,t)}}function TO(n,t,e,r){let i=e[r]<0,o=e[r+1],l=i?-e[r]:e[r],f=n[l];i?n[Wn]>>14<n[tc]>>16&&(n[Wn]&3)===t&&(n[Wn]+=16384,Kw(f,o)):Kw(f,o)}var oc=-1,tl=class{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}};function SO(n){return n instanceof tl}function CO(n){return(n.flags&8)!==0}function IO(n){return(n.flags&16)!==0}function hS(n){return n!==oc}function dh(n){return n&32767}function DO(n){return n>>16}function fh(n,t){let e=DO(n),r=t;for(;e>0;)r=r[hc],e--;return r}var a_=!0;function hh(n){let t=a_;return a_=n,t}var AO=256,mS=AO-1,pS=5,xO=0,us={};function MO(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(gu)&&(r=e[gu]),r==null&&(r=e[gu]=xO++);let i=r&mS,o=1<<i;t.data[n+(i>>pS)]|=o}function mh(n,t){let e=gS(n,t);if(e!==-1)return e;let r=t[nr];r.firstCreatePass&&(n.injectorIndex=t.length,jg(r.data,n),jg(t,null),jg(r.blueprint,null));let i=vv(n,t),o=n.injectorIndex;if(hS(i)){let l=dh(i),f=fh(i,t),u=f[nr].data;for(let c=0;c<8;c++)t[o+c]=f[l+c]|u[l+c]}return t[o+8]=i,o}function jg(n,t){n.push(0,0,0,0,0,0,0,0,t)}function gS(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function vv(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=ES(i),r===null)return oc;if(e++,i=i[hc],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return oc}function l_(n,t,e){MO(n,t,e)}function RO(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(PT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function _S(n,t,e){if(e&lr.Optional||n!==void 0)return n;ov(t,"NodeInjector")}function vS(n,t,e,r){if(e&lr.Optional&&r===void 0&&(r=null),!(e&(lr.Self|lr.Host))){let i=n[ac],o=oo(void 0);try{return i?i.get(t,r,e&lr.Optional):MT(t,r,e&lr.Optional)}finally{oo(o)}}return _S(r,t,e)}function yS(n,t,e,r=lr.Default,i){if(n!==null){if(t[Wn]&2048&&!(r&lr.Self)){let l=kO(n,t,e,r,us);if(l!==us)return l}let o=bS(n,t,e,r,us);if(o!==us)return o}return vS(t,e,r,i)}function bS(n,t,e,r,i){let o=OO(e);if(typeof o=="function"){if(!oS(t,n,r))return r&lr.Host?_S(i,e,r):vS(t,e,r,i);try{let l;if(l=o(r),l==null&&!(r&lr.Optional))ov(e);else return l}finally{cS()}}else if(typeof o=="number"){let l=null,f=gS(n,t),u=oc,c=r&lr.Host?t[$o][go]:null;for((f===-1||r&lr.SkipSelf)&&(u=f===-1?vv(n,t):t[f+8],u===oc||!Xw(r,!1)?f=-1:(l=t[nr],f=dh(u),t=fh(u,t)));f!==-1;){let d=t[nr];if(Qw(o,f,d.data)){let p=NO(f,t,e,l,r,c);if(p!==us)return p}u=t[f+8],u!==oc&&Xw(r,t[nr].data[f+8]===c)&&Qw(o,f,t)?(l=d,f=dh(u),t=fh(u,t)):f=-1}}return i}function NO(n,t,e,r,i,o){let l=t[nr],f=l.data[n+8],u=r==null?Rh(f)&&a_:r!=l&&(f.type&3)!==0,c=i&lr.Host&&o===f,d=ih(f,l,e,u,c);return d!==null?nl(t,l,d,f):us}function ih(n,t,e,r,i){let o=n.providerIndexes,l=t.data,f=o&1048575,u=n.directiveStart,c=n.directiveEnd,d=o>>20,p=r?f:f+d,E=i?f+d:c;for(let m=p;m<E;m++){let C=l[m];if(m<u&&e===C||m>=u&&C.type===e)return m}if(i){let m=l[u];if(m&&la(m)&&m.type===e)return u}return null}function nl(n,t,e,r){let i=n[e],o=t.data;if(SO(i)){let l=i;l.resolving&&vN(_N(o[e]));let f=hh(l.canSeeViewProviders);l.resolving=!0;let u,c=l.injectImpl?oo(l.injectImpl):null,d=oS(n,r,lr.Default);try{i=n[e]=l.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&wO(e,o[e],t)}finally{c!==null&&oo(c),hh(f),l.resolving=!1,cS()}}return i}function OO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(gu)?n[gu]:void 0;return typeof t=="number"?t>=0?t&mS:PO:t}function Qw(n,t,e){let r=1<<n;return!!(e[t+(n>>pS)]&r)}function Xw(n,t){return!(n&lr.Self)&&!(n&lr.Host&&t)}var Wa=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return yS(this._tNode,this._lView,t,xh(r),e)}};function PO(){return new Wa(Xi(),cr())}function ll(n){return Au(()=>{let t=n.prototype.constructor,e=t[lh]||c_(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[lh]||c_(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function c_(n){return TT(n)?()=>{let t=c_($i(n));return t&&t()}:Ja(n)}function kO(n,t,e,r,i){let o=n,l=t;for(;o!==null&&l!==null&&l[Wn]&2048&&!(l[Wn]&512);){let f=bS(o,l,e,r|lr.Self,us);if(f!==us)return f;let u=o.parent;if(!u){let c=l[zT];if(c){let d=c.get(e,us,r);if(d!==us)return d}u=ES(l),l=l[hc]}o=u}return i}function ES(n){let t=n[nr],e=t.type;return e===2?t.declTNode:e===1?n[go]:null}function js(n){return RO(Xi(),n)}var Wf="__parameters__";function FO(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function wS(n,t,e){return Au(()=>{let r=FO(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let l=new i(...o);return f.annotation=l,f;function f(u,c,d){let p=u.hasOwnProperty(Wf)?u[Wf]:Object.defineProperty(u,Wf,{value:[]})[Wf];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(l),u}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function LO(n){return typeof n=="function"}function BO(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function UO(n){return n.flat(Number.POSITIVE_INFINITY)}function yv(n,t){n.forEach(e=>Array.isArray(e)?yv(e,t):t(e))}function TS(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ph(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function jO(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function VO(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function bv(n,t,e){let r=Nu(n,t);return r>=0?n[r|1]=e:(r=~r,VO(n,r,t,e)),r}function Vg(n,t){let e=Nu(n,t);if(e>=0)return n[e|1]}function Nu(n,t){return ZO(n,t,1)}function ZO(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),l=n[o<<e];if(t===l)return o<<e;l>t?i=o:r=o+1}return~(i<<e)}var Ou=RT(wS("Optional"),8);var Fh=RT(wS("SkipSelf"),4);var uc=new pn("ENVIRONMENT_INITIALIZER"),SS=new pn("INJECTOR",-1),CS=new pn("INJECTOR_DEF_TYPES"),gh=class{get(t,e=_u){if(e===_u){let r=new Error(`NullInjectorError: No provider for ${Wi(t)}!`);throw r.name="NullInjectorError",r}return e}};function Lh(n){return{\u0275providers:n}}function HO(...n){return{\u0275providers:IS(!0,n),\u0275fromNgModule:!0}}function IS(n,...t){let e=[],r=new Set,i,o=l=>{e.push(l)};return yv(t,l=>{let f=l;u_(f,o,[],r)&&(i||=[],i.push(f))}),i!==void 0&&DS(i,o),e}function DS(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];Ev(i,o=>{t(o,r)})}}function u_(n,t,e,r){if(n=$i(n),!n)return!1;let i=null,o=Vw(n),l=!o&&Ka(n);if(!o&&!l){let u=n.ngModule;if(o=Vw(u),o)i=u;else return!1}else{if(l&&!l.standalone)return!1;i=n}let f=r.has(i);if(l){if(f)return!1;if(r.add(i),l.dependencies){let u=typeof l.dependencies=="function"?l.dependencies():l.dependencies;for(let c of u)u_(c,t,e,r)}}else if(o){if(o.imports!=null&&!f){r.add(i);let c;try{yv(o.imports,d=>{u_(d,t,e,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&DS(c,t)}if(!f){let c=Ja(i)||(()=>new i);t({provide:i,useFactory:c,deps:so},i),t({provide:CS,useValue:i,multi:!0},i),t({provide:uc,useValue:()=>Ut(i),multi:!0},i)}let u=o.providers;if(u!=null&&!f){let c=n;Ev(u,d=>{t(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Ev(n,t){for(let e of n)ST(e)&&(e=e.\u0275providers),Array.isArray(e)?Ev(e,t):t(e)}var zO=Vr({provide:String,useValue:Vr});function AS(n){return n!==null&&typeof n=="object"&&zO in n}function GO(n){return!!(n&&n.useExisting)}function qO(n){return!!(n&&n.useFactory)}function dc(n){return typeof n=="function"}function YO(n){return!!n.useClass}var Bh=new pn("Set Injector scope."),oh={},$O={},Zg;function wv(){return Zg===void 0&&(Zg=new gh),Zg}var po=class{},Su=class extends po{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f_(t,l=>this.processProvider(l)),this.records.set(SS,nc(void 0,this)),i.has("environment")&&this.records.set(po,nc(void 0,this));let o=this.records.get(Bh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(CS,so,lr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let e of this._ngOnDestroyHooks)e.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=oa(this),r=oo(void 0),i;try{return t()}finally{oa(e),oo(r)}}get(t,e=_u,r=lr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Uw))return t[Uw](this);r=xh(r);let i,o=oa(this),l=oo(void 0);try{if(!(r&lr.SkipSelf)){let u=this.records.get(t);if(u===void 0){let c=JO(t)&&Ah(t);c&&this.injectableDefInScope(c)?u=nc(d_(t),oh):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u)}let f=r&lr.Self?wv():this.parent;return e=r&lr.Optional&&e===_u?null:e,f.get(t,e)}catch(f){if(f.name==="NullInjectorError"){if((f[ch]=f[ch]||[]).unshift(Wi(t)),o)throw f;return MN(f,t,"R3InjectorError",this.source)}else throw f}finally{oo(l),oa(o)}}resolveInjectorInitializers(){let t=oa(this),e=oo(void 0),r;try{let i=this.get(uc,so,lr.Self);for(let o of i)o()}finally{oa(t),oo(e)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Wi(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dn(205,!1)}processProvider(t){t=$i(t);let e=dc(t)?t:$i(t&&t.provide),r=KO(t);if(!dc(t)&&t.multi===!0){let i=this.records.get(e);i||(i=nc(void 0,oh,!0),i.factory=()=>n_(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===oh&&(e.value=$O,e.value=e.factory()),typeof e.value=="object"&&e.value&&XO(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;let e=$i(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function d_(n){let t=Ah(n),e=t!==null?t.factory:Ja(n);if(e!==null)return e;if(n instanceof pn)throw new dn(204,!1);if(n instanceof Function)return WO(n);throw new dn(204,!1)}function WO(n){if(n.length>0)throw new dn(204,!1);let e=EN(n);return e!==null?()=>e.factory(n):()=>new n}function KO(n){if(AS(n))return nc(void 0,n.useValue);{let t=xS(n);return nc(t,oh)}}function xS(n,t,e){let r;if(dc(n)){let i=$i(n);return Ja(i)||d_(i)}else if(AS(n))r=()=>$i(n.useValue);else if(qO(n))r=()=>n.useFactory(...n_(n.deps||[]));else if(GO(n))r=()=>Ut($i(n.useExisting));else{let i=$i(n&&(n.useClass||n.provide));if(QO(n))r=()=>new i(...n_(n.deps));else return Ja(i)||d_(i)}return r}function nc(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function QO(n){return!!n.deps}function XO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function JO(n){return typeof n=="function"||typeof n=="object"&&n instanceof pn}function f_(n,t){for(let e of n)Array.isArray(e)?f_(e,t):e&&ST(e)?f_(e.\u0275providers,t):t(e)}function cl(n,t){n instanceof Su&&n.assertNotDestroyed();let e,r=oa(n),i=oo(void 0);try{return t()}finally{oa(r),oo(i)}}function Tv(n){if(!xT()&&!DN())throw new dn(-203,!1)}function Jw(n,t=null,e=null,r){let i=MS(n,t,e,r);return i.resolveInjectorInitializers(),i}function MS(n,t=null,e=null,r,i=new Set){let o=[e||so,HO(n)];return r=r||(typeof n=="object"?void 0:Wi(n)),new Su(o,t||wv(),r||null,i)}var Bi=(()=>{class n{static{this.THROW_IF_NOT_FOUND=_u}static{this.NULL=new gh}static create(e,r){if(Array.isArray(e))return Jw({name:""},r,e,"");{let i=e.name??"";return Jw({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=Gt({token:n,providedIn:"any",factory:()=>Ut(SS)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var h_;function RS(n){h_=n}function NS(){if(h_!==void 0)return h_;if(typeof document<"u")return document;throw new dn(210,!1)}var Pu=new pn("AppId",{providedIn:"root",factory:()=>eP}),eP="ng",Sv=new pn("Platform Initializer"),ma=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var ci=new pn("AnimationModuleType"),ku=new pn("CSP nonce",{providedIn:"root",factory:()=>NS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function OS(n){return n instanceof Function?n():n}function PS(n){return(n.flags&128)===128}var ps=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ps||{}),tP=/^>|^->|<!--|-->|--!>|<!-$/g,nP=/(<|>)/g,rP="\u200B$1\u200B";function iP(n){return n.replace(tP,t=>t.replace(nP,rP))}var kS=new Map,oP=0;function sP(){return oP++}function aP(n){kS.set(n[Mh],n)}function lP(n){kS.delete(n[Mh])}var eT="__ngContext__";function ca(n,t){$a(t)?(n[eT]=t[Mh],aP(t)):n[eT]=t}var cP;function Cv(n,t){return cP(n,t)}function rc(n,t,e,r,i){if(r!=null){let o,l=!1;Us(r)?o=r:$a(r)&&(l=!0,r=r[Bs]);let f=ms(r);n===0&&e!==null?i==null?jS(t,e,f):vh(t,e,f,i||null,!0):n===1&&e!==null?vh(t,e,f,i||null,!0):n===2?CP(t,f,l):n===3&&t.destroyNode(f),o!=null&&DP(t,n,o,e,i)}}function uP(n,t){return n.createText(t)}function dP(n,t,e){n.setValue(t,e)}function fP(n,t){return n.createComment(iP(t))}function FS(n,t,e){return n.createElement(t,e)}function hP(n,t){LS(n,t),t[Bs]=null,t[go]=null}function mP(n,t,e,r,i,o){r[Bs]=i,r[go]=t,jh(n,r,e,1,i,o)}function LS(n,t){t[hs].changeDetectionScheduler?.notify(),jh(n,t,t[li],2,null,null)}function pP(n){let t=n[Eu];if(!t)return Hg(n[nr],n);for(;t;){let e=null;if($a(t))e=t[Eu];else{let r=t[ao];r&&(e=r)}if(!e){for(;t&&!t[Yo]&&t!==n;)$a(t)&&Hg(t[nr],t),t=t[Di];t===null&&(t=n),$a(t)&&Hg(t[nr],t),e=t&&t[Yo]}t=e}}function gP(n,t,e,r){let i=ao+r,o=e.length;r>0&&(e[i-1][Yo]=t),r<o-ao?(t[Yo]=e[i],TS(e,ao+r,t)):(e.push(t),t[Yo]=null),t[Di]=e;let l=t[xu];l!==null&&e!==l&&_P(l,t);let f=t[ds];f!==null&&f.insertView(n),o_(t),t[Wn]|=128}function _P(n,t){let e=n[lc],i=t[Di][Di][$o];t[$o]!==i&&(n[Wn]|=sv.HasTransplantedViews),e===null?n[lc]=[t]:e.push(t)}function BS(n,t){let e=n[lc],r=e.indexOf(t);e.splice(r,1)}function _h(n,t){if(n.length<=ao)return;let e=ao+t,r=n[e];if(r){let i=r[xu];i!==null&&i!==n&&BS(i,r),t>0&&(n[e-1][Yo]=r[Yo]);let o=ph(n,ao+t);hP(r[nr],r);let l=o[ds];l!==null&&l.detachView(o[nr]),r[Di]=null,r[Yo]=null,r[Wn]&=-129}return r}function Iv(n,t){if(!(t[Wn]&256)){let e=t[li];e.destroyNode&&jh(n,t,e,3,null,null),pP(t)}}function Hg(n,t){if(!(t[Wn]&256)){t[Wn]&=-129,t[Wn]|=256,t[Qa]&&Eg(t[Qa]),yP(n,t),vP(n,t),t[nr].type===1&&t[li].destroy();let e=t[xu];if(e!==null&&Us(t[Di])){e!==t[Di]&&BS(e,t);let r=t[ds];r!==null&&r.detachView(n)}lP(t)}}function vP(n,t){let e=n.cleanup,r=t[bu];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let l=e[o+3];l>=0?r[l]():r[-l].unsubscribe(),o+=2}else{let l=r[e[o+1]];e[o].call(l)}r!==null&&(t[bu]=null);let i=t[sa];if(i!==null){t[sa]=null;for(let o=0;o<i.length;o++){let l=i[o];l()}}}function yP(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof tl)){let o=e[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){let f=i[o[l]],u=o[l+1];cs(4,f,u);try{u.call(f)}finally{cs(5,f,u)}}else{cs(4,i,o);try{o.call(i)}finally{cs(5,i,o)}}}}}function US(n,t,e){return bP(n,t.parent,e)}function bP(n,t,e){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return e[Bs];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===fs.None||o===fs.Emulated)return null}return Ro(r,e)}}function vh(n,t,e,r,i){n.insertBefore(t,e,r,i)}function jS(n,t,e){n.appendChild(t,e)}function tT(n,t,e,r,i){r!==null?vh(n,t,e,r,i):jS(n,t,e)}function EP(n,t,e,r){n.removeChild(t,e,r)}function Dv(n,t){return n.parentNode(t)}function wP(n,t){return n.nextSibling(t)}function VS(n,t,e){return SP(n,t,e)}function TP(n,t,e){return n.type&40?Ro(n,e):null}var SP=TP,nT;function Uh(n,t,e,r){let i=US(n,r,t),o=t[li],l=r.parent||t[go],f=VS(l,r,t);if(i!=null)if(Array.isArray(e))for(let u=0;u<e.length;u++)tT(o,i,e[u],f,!1);else tT(o,i,e,f,!1);nT!==void 0&&nT(o,r,t,e,i)}function sh(n,t){if(t!==null){let e=t.type;if(e&3)return Ro(t,n);if(e&4)return m_(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return sh(n,r);{let i=n[t.index];return Us(i)?m_(-1,i):ms(i)}}else{if(e&32)return Cv(t,n)()||ms(n[t.index]);{let r=ZS(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Tu(n[$o]);return sh(i,r)}else return sh(n,t.next)}}}return null}function ZS(n,t){if(t!==null){let r=n[$o][go],i=t.projection;return r.projection[i]}return null}function m_(n,t){let e=ao+n+1;if(e<t.length){let r=t[e],i=r[nr].firstChild;if(i!==null)return sh(r,i)}return t[Xa]}function CP(n,t,e){let r=Dv(n,t);r&&EP(n,r,t,e)}function Av(n,t,e,r,i,o,l){for(;e!=null;){let f=r[e.index],u=e.type;if(l&&t===0&&(f&&ca(ms(f),r),e.flags|=2),(e.flags&32)!==32)if(u&8)Av(n,t,e.child,r,i,o,!1),rc(t,n,i,f,o);else if(u&32){let c=Cv(e,r),d;for(;d=c();)rc(t,n,i,d,o);rc(t,n,i,f,o)}else u&16?HS(n,t,r,e,i,o):rc(t,n,i,f,o);e=l?e.projectionNext:e.next}}function jh(n,t,e,r,i,o){Av(e,r,n.firstChild,t,i,o,!1)}function IP(n,t,e){let r=t[li],i=US(n,e,t),o=e.parent||t[go],l=VS(o,e,t);HS(r,0,t,e,i,l)}function HS(n,t,e,r,i,o){let l=e[$o],u=l[go].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let d=u[c];rc(t,n,i,d,o)}else{let c=u,d=l[Di];PS(r)&&(c.flags|=128),Av(n,t,c,d,i,o,!0)}}function DP(n,t,e,r,i){let o=e[Xa],l=ms(e);o!==l&&rc(t,n,r,o,i);for(let f=ao;f<e.length;f++){let u=e[f];jh(u[nr],u,n,t,r,o)}}function AP(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:ps.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ps.Important),n.setStyle(e,r,i,o))}}function xP(n,t,e){n.setAttribute(t,"style",e)}function zS(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function GS(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&r_(n,t,r),i!==null&&zS(n,t,i),o!==null&&xP(n,t,o)}var Kf;function MP(){if(Kf===void 0&&(Kf=null,Fs.trustedTypes))try{Kf=Fs.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kf}function Vh(n){return MP()?.createHTML(n)||n}var Qf;function qS(){if(Qf===void 0&&(Qf=null,Fs.trustedTypes))try{Qf=Fs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qf}function rT(n){return qS()?.createHTML(n)||n}function iT(n){return qS()?.createScriptURL(n)||n}var Ls=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CT})`}},p_=class extends Ls{getTypeName(){return"HTML"}},g_=class extends Ls{getTypeName(){return"Style"}},__=class extends Ls{getTypeName(){return"Script"}},v_=class extends Ls{getTypeName(){return"URL"}},y_=class extends Ls{getTypeName(){return"ResourceURL"}};function _o(n){return n instanceof Ls?n.changingThisBreaksApplicationSecurity:n}function vs(n,t){let e=RP(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${CT})`)}return e===t}function RP(n){return n instanceof Ls&&n.getTypeName()||null}function YS(n){return new p_(n)}function $S(n){return new g_(n)}function WS(n){return new __(n)}function KS(n){return new v_(n)}function QS(n){return new y_(n)}function NP(n){let t=new E_(n);return OP()?new b_(t):t}var b_=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Vh(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}},E_=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Vh(t),e}};function OP(){try{return!!new window.DOMParser().parseFromString(Vh(""),"text/html")}catch{return!1}}var PP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zh(n){return n=String(n),n.match(PP)?n:"unsafe:"+n}function Vs(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function Fu(...n){let t={};for(let e of n)for(let r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}var XS=Vs("area,br,col,hr,img,wbr"),JS=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eC=Vs("rp,rt"),kP=Fu(eC,JS),FP=Fu(JS,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),LP=Fu(eC,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oT=Fu(XS,FP,LP,kP),tC=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),BP=Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),UP=Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),jP=Fu(tC,BP,UP),VP=Vs("script,style,template"),w_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){e=e.firstChild;continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}}return this.buf.join("")}startElement(t){let e=t.nodeName.toLowerCase();if(!oT.hasOwnProperty(e))return this.sanitizedSomething=!0,!VP.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),l=o.name,f=l.toLowerCase();if(!jP.hasOwnProperty(f)){this.sanitizedSomething=!0;continue}let u=o.value;tC[f]&&(u=Zh(u)),this.buf.push(" ",l,'="',sT(u),'"')}return this.buf.push(">"),!0}endElement(t){let e=t.nodeName.toLowerCase();oT.hasOwnProperty(e)&&!XS.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sT(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}},ZP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HP=/([^\#-~ |!])/g;function sT(n){return n.replace(/&/g,"&amp;").replace(ZP,function(t){let e=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(HP,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Xf;function xv(n,t){let e=null;try{Xf=Xf||NP(n);let r=t?String(t):"";e=Xf.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Xf.getInertBodyElement(r)}while(r!==o);let f=new w_().sanitizeChildren(aT(e)||e);return Vh(f)}finally{if(e){let r=aT(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function aT(n){return"content"in n&&zP(n)?n.content:null}function zP(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Wr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Wr||{});function Hh(n){let t=zh();return t?rT(t.sanitize(Wr.HTML,n)||""):vs(n,"HTML")?rT(_o(n)):xv(NS(),aa(n))}function nC(n){let t=zh();return t?t.sanitize(Wr.STYLE,n)||"":vs(n,"Style")?_o(n):aa(n)}function Wo(n){let t=zh();return t?t.sanitize(Wr.URL,n)||"":vs(n,"URL")?_o(n):Zh(aa(n))}function GP(n){let t=zh();if(t)return iT(t.sanitize(Wr.RESOURCE_URL,n)||"");if(vs(n,"ResourceURL"))return iT(_o(n));throw new dn(904,!1)}function qP(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?GP:Wo}function rC(n,t,e){return qP(t,e)(n)}function zh(){let n=cr();return n&&n[hs].sanitizer}var T_=class{};var YP="h",$P="b";var WP=()=>null;function Mv(n,t,e=!1){return WP(n,t,e)}var S_=class{},yh=class{};function KP(n){let t=Error(`No component factory found for ${Wi(n)}.`);return t[QP]=n,t}var QP="ngComponent";var C_=class{resolveComponentFactory(t){throw KP(t)}},pa=(()=>{class n{static{this.NULL=new C_}}return n})();function XP(){return mc(Xi(),cr())}function mc(n,t){return new Un(Ro(n,t))}var Un=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=XP}}return n})();function JP(n){return n instanceof Un?n.nativeElement:n}var rl=class{},Zs=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ek()}}return n})();function ek(){let n=cr(),t=Xi(),e=fa(t.index,n);return($a(e)?e:n)[li]}var tk=(()=>{class n{static{this.\u0275prov=Gt({token:n,providedIn:"root",factory:()=>null})}}return n})(),zg={};function Ko(n,t){let e=nw(n);return t?.equal&&(e[ea].equal=t.equal),e}function Ji(n,t){let e=sw(n),r=e[ea];return t?.equal&&(r.equal=t.equal),e.set=i=>wg(r,i),e.update=i=>aw(r,i),e.asReadonly=nk.bind(e),e}function nk(){let n=this[ea];if(n.readonlyFn===void 0){let t=()=>this();t[ea]=n,n.readonlyFn=t}return n.readonlyFn}function Ai(n){let t=Ii(null);try{return n()}finally{Ii(t)}}function iC(n){return Rv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function rk(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function Rv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}var I_=class{constructor(){}supports(t){return iC(t)}create(t){return new D_(t)}},ik=(n,t)=>t,D_=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ik}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let l=!r||e&&e.currentIndex<lT(r,i,o)?e:r,f=lT(l,i,o),u=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,l.previousIndex==null)i++;else{o||(o=[]);let c=f-i,d=u-i;if(c!=d){for(let E=0;E<c;E++){let m=E<o.length?o[E]:o[E]=0,C=m+E;d<=C&&C<c&&(o[E]=m+1)}let p=l.previousIndex;o[p]=d-c}}f!==u&&t(l,f,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!iC(t))throw new dn(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,l;if(Array.isArray(t)){this.length=t.length;for(let f=0;f<this.length;f++)o=t[f],l=this._trackByFn(f,o),e===null||!Object.is(e.trackById,l)?(e=this._mismatch(e,o,l,f),r=!0):(r&&(e=this._verifyReinsertion(e,o,l,f)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,rk(t,f=>{l=this._trackByFn(i,f),e===null||!Object.is(e.trackById,l)?(e=this._mismatch(e,f,l,i),r=!0):(r&&(e=this._verifyReinsertion(e,f,l,i)),Object.is(e.item,f)||this._addIdentityChange(e,f)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new A_(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new bh),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},A_=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},x_=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},bh=class{constructor(){this.map=new Map}put(t){let e=t.trackById,r=this.map.get(e);r||(r=new x_,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function lT(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}var M_=class{constructor(){}supports(t){return t instanceof Map||Rv(t)}create(){return new R_}},R_=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Rv(t)))throw new dn(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,e);let o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}let r=new N_(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}},N_=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function cT(){return new Gh([new I_])}var Gh=(()=>{class n{static{this.\u0275prov=Gt({token:n,providedIn:"root",factory:cT})}constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||cT()),deps:[[n,new Fh,new Ou]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new dn(901,!1)}}return n})();function uT(){return new Nv([new M_])}var Nv=(()=>{class n{static{this.\u0275prov=Gt({token:n,providedIn:"root",factory:uT})}constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||uT()),deps:[[n,new Fh,new Ou]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new dn(901,!1)}}return n})();function Eh(n,t,e,r,i=!1){for(;e!==null;){let o=t[e.index];o!==null&&r.push(ms(o)),Us(o)&&ok(o,r);let l=e.type;if(l&8)Eh(n,t,e.child,r);else if(l&32){let f=Cv(e,t),u;for(;u=f();)r.push(u)}else if(l&16){let f=ZS(t,e);if(Array.isArray(f))r.push(...f);else{let u=Tu(t[$o]);Eh(u[nr],u,f,r,!0)}}e=i?e.projectionNext:e.next}return r}function ok(n,t){for(let e=ao;e<n.length;e++){let r=n[e],i=r[nr].firstChild;i!==null&&Eh(r[nr],r,i,t)}n[Xa]!==n[Bs]&&t.push(n[Xa])}var oC=[];function sk(n){return n[Qa]??ak(n)}function ak(n){let t=oC.pop()??Object.create(ck);return t.lView=n,t}function lk(n){n.lView[Qa]!==n&&(n.lView=null,oC.push(n))}var ck=Sr(on({},ou),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{wu(n.lView)},consumerOnSignalRead(){this.lView[Qa]=this}});function sC(n){return lC(n[Eu])}function aC(n){return lC(n[Yo])}function lC(n){for(;n!==null&&!Us(n);)n=n[Yo];return n}var uk="ngOriginalError";function Gg(n){return n[uk]}var lo=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Gg(t);for(;e&&Gg(e);)e=Gg(e);return e||null}},cC=new pn("",{providedIn:"root",factory:()=>pt(lo).handleError.bind(void 0)});var uC=!1,dk=new pn("",{providedIn:"root",factory:()=>uC});var Qo={};function It(n=1){dC(fi(),cr(),ha()+n,!1)}function dC(n,t,e,r){if(!r)if((t[Wn]&3)===3){let o=n.preOrderCheckHooks;o!==null&&nh(t,o,e)}else{let o=n.preOrderHooks;o!==null&&rh(t,o,0,e)}el(e)}function Et(n,t=lr.Default){let e=cr();if(e===null)return Ut(n,t);let r=Xi();return yS(r,e,$i(n),t)}function Ov(){let n="invalid";throw new Error(n)}function fk(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)el(~i);else{let o=i,l=e[++r],f=e[++r];pO(l,o);let u=t[o];f(2,u)}}}finally{el(-1)}}function qh(n,t,e,r,i,o,l,f,u,c,d){let p=t.blueprint.slice();return p[Bs]=i,p[Wn]=r|4|128|8|64,(c!==null||n&&n[Wn]&2048)&&(p[Wn]|=2048),XT(p),p[Di]=p[hc]=n,p[Mo]=e,p[hs]=l||n&&n[hs],p[li]=f||n&&n[li],p[ac]=u||n&&n[ac]||null,p[go]=o,p[Mh]=sP(),p[yu]=d,p[zT]=c,p[$o]=t.type==2?n[$o]:p,p}function pc(n,t,e,r,i){let o=n.data[t];if(o===null)o=hk(n,t,e,r,i),mO()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let l=uO();o.injectorIndex=l===null?-1:l.injectorIndex}return al(o,!0),o}function hk(n,t,e,r,i){let o=rS(),l=uv(),f=l?o:o&&o.parent,u=n.data[t]=yk(n,f,e,t,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(l?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function fC(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function hC(n,t,e,r,i){let o=ha(),l=r&2;try{el(-1),l&&t.length>Ki&&dC(n,t,Ki,!1),cs(l?2:0,i),e(r,i)}finally{el(o),cs(l?3:1,i)}}function Pv(n,t,e){if(av(t)){let r=Ii(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let l=i;l<o;l++){let f=n.data[l];f.contentQueries&&f.contentQueries(1,e[l],l)}}finally{Ii(r)}}}function kv(n,t,e){tS()&&(Ck(n,t,e,Ro(e,t)),(e.flags&64)===64&&_C(n,t,e))}function Fv(n,t,e=Ro){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let l=r[o+1],f=l===-1?e(t,n):n[l];n[i++]=f}}}function mC(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Lv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Lv(n,t,e,r,i,o,l,f,u,c,d){let p=Ki+r,E=p+i,m=mk(p,E),C=typeof c=="function"?c():c;return m[nr]={type:n,blueprint:m,template:e,queries:null,viewQuery:f,declTNode:t,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof l=="function"?l():l,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:d}}function mk(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Qo);return e}function pk(n,t,e,r){let o=r.get(dk,uC)||e===fs.ShadowDom,l=n.selectRootElement(t,o);return gk(l),l}function gk(n){_k(n)}var _k=()=>null;function vk(n,t,e,r){let i=EC(t);i.push(e),n.firstCreatePass&&wC(n).push(r,i.length-1)}function yk(n,t,e,r,i,o){let l=t?t.injectorIndex:-1,f=0;return nS()&&(f|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:f,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dT(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=e===null?{}:e;let o=n[i];r===null?fT(e,t,i,o):r.hasOwnProperty(i)&&fT(e,t,r[i],o)}return e}function fT(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function bk(n,t,e){let r=t.directiveStart,i=t.directiveEnd,o=n.data,l=t.attrs,f=[],u=null,c=null;for(let d=r;d<i;d++){let p=o[d],E=e?e.get(p):null,m=E?E.inputs:null,C=E?E.outputs:null;u=dT(p.inputs,d,u,m),c=dT(p.outputs,d,c,C);let S=u!==null&&l!==null&&!FT(t)?Fk(u,d,l):null;f.push(S)}u!==null&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=f,t.inputs=u,t.outputs=c}function Ek(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function pC(n,t,e,r,i,o,l,f){let u=Ro(t,e),c=t.inputs,d;!f&&c!=null&&(d=c[r])?(Uv(n,e,d,r,i),Rh(t)&&wk(e,t.index)):t.type&3?(r=Ek(r),i=l!=null?l(i,t.value||"",r):i,o.setProperty(u,r,i)):t.type&12}function wk(n,t){let e=fa(t,n);e[Wn]&16||(e[Wn]|=64)}function Bv(n,t,e,r){if(tS()){let i=r===null?null:{"":-1},o=Dk(n,e),l,f;o===null?l=f=null:[l,f]=o,l!==null&&gC(n,t,e,l,i,f),i&&Ak(e,r,i)}e.mergedAttrs=vu(e.mergedAttrs,e.attrs)}function gC(n,t,e,r,i,o){for(let c=0;c<r.length;c++)l_(mh(e,t),n,r[c].type);Mk(e,n.data.length,r.length);for(let c=0;c<r.length;c++){let d=r[c];d.providersResolver&&d.providersResolver(d)}let l=!1,f=!1,u=fC(n,t,r.length,null);for(let c=0;c<r.length;c++){let d=r[c];e.mergedAttrs=vu(e.mergedAttrs,d.hostAttrs),Rk(n,e,t,u,d),xk(u,d,i),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!f&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),f=!0),u++}bk(n,e,o)}function Tk(n,t,e,r,i){let o=i.hostBindings;if(o){let l=n.hostBindingOpCodes;l===null&&(l=n.hostBindingOpCodes=[]);let f=~t.index;Sk(l)!=f&&l.push(f),l.push(e,r,o)}}function Sk(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function Ck(n,t,e,r){let i=e.directiveStart,o=e.directiveEnd;Rh(e)&&Nk(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||mh(e,t),ca(r,t);let l=e.initialInputs;for(let f=i;f<o;f++){let u=n.data[f],c=nl(t,n,f,e);if(ca(c,t),l!==null&&kk(t,f-i,c,u,e,l),la(u)){let d=fa(e.index,t);d[Mo]=nl(t,n,f,e)}}}function _C(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,l=gO();try{el(o);for(let f=r;f<i;f++){let u=n.data[f],c=t[f];s_(f),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ik(u,c)}}finally{el(-1),s_(l)}}function Ik(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function Dk(n,t){let e=n.directiveRegistry,r=null,i=null;if(e)for(let o=0;o<e.length;o++){let l=e[o];if(LT(t,l.selectors,!1))if(r||(r=[]),la(l))if(l.findHostDirectiveDefs!==null){let f=[];i=i||new Map,l.findHostDirectiveDefs(l,f,i),r.unshift(...f,l);let u=f.length;O_(n,t,u)}else r.unshift(l),O_(n,t,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,r,i),r.push(l)}return r===null?null:[r,i]}function O_(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Ak(n,t,e){if(t){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new dn(-301,!1);r.push(t[i],o)}}}function xk(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;la(t)&&(e[""]=n)}}function Mk(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Rk(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ja(i.type,!0)),l=new tl(o,la(i),Et);n.blueprint[r]=l,e[r]=l,Tk(n,t,r,fC(n,e,i.hostVars,Qo),i)}function Nk(n,t,e){let r=Ro(t,n),i=mC(e),o=n[hs].rendererFactory,l=16;e.signals?l=4096:e.onPush&&(l=64);let f=Yh(n,qh(n,i,null,l,r,t,null,o.createRenderer(r,e),null,null,null));n[t.index]=f}function Ok(n,t,e,r,i,o){let l=Ro(n,t);Pk(t[li],l,o,n.value,e,r,i)}function Pk(n,t,e,r,i,o,l){if(o==null)n.removeAttribute(t,i,e);else{let f=l==null?aa(o):l(o,r||"",i);n.setAttribute(t,i,f,e)}}function kk(n,t,e,r,i,o){let l=o[t];if(l!==null)for(let f=0;f<l.length;){let u=l[f++],c=l[f++],d=l[f++];vC(r,e,u,c,d)}}function vC(n,t,e,r,i){let o=Ii(null);try{let l=n.inputTransforms;l!==null&&l.hasOwnProperty(r)&&(i=l[r].call(t,i)),n.setInput!==null?n.setInput(t,i,e,r):t[r]=i}finally{Ii(o)}}function Fk(n,t,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let l=n[o];for(let f=0;f<l.length;f+=2)if(l[f]===t){r.push(o,l[f+1],e[i+1]);break}}i+=2}return r}function yC(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function bC(n,t){let e=n.contentQueries;if(e!==null){let r=Ii(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],l=e[i+1];if(l!==-1){let f=n.data[l];mv(o),f.contentQueries(2,t[l],l)}}}finally{Ii(r)}}}function Yh(n,t){return n[Eu]?n[$w][Yo]=t:n[Eu]=t,n[$w]=t,t}function P_(n,t,e){mv(0);let r=Ii(null);try{t(n,e)}finally{Ii(r)}}function EC(n){return n[bu]||(n[bu]=[])}function wC(n){return n.cleanup||(n.cleanup=[])}function TC(n,t){let e=n[ac],r=e?e.get(lo,null):null;r&&r.handleError(t)}function Uv(n,t,e,r,i){for(let o=0;o<e.length;){let l=e[o++],f=e[o++],u=t[l],c=n.data[l];vC(c,u,r,f,i)}}function SC(n,t,e){let r=KT(t,n);dP(n[li],r,e)}var Lk=100;function Bk(n,t=!0){let e=n[hs],r=e.rendererFactory,i=!1;i||r.begin?.();try{Uk(n)}catch(o){throw t&&TC(n,o),o}finally{i||(r.end?.(),e.inlineEffectRunner?.flush())}}function Uk(n){k_(n,0);let t=0;for(;JT(n);){if(t===Lk)throw new dn(103,!1);t++,k_(n,1)}}function jk(n,t,e,r){let i=t[Wn];if((i&256)===256)return;let o=!1;!o&&t[hs].inlineEffectRunner?.flush(),pv(t);let l=null,f=null;!o&&Vk(n)&&(f=sk(t),l=hf(f));try{XT(t),hO(n.bindingStartIndex),e!==null&&hC(n,t,e,2,r);let u=(i&3)===3;if(!o)if(u){let p=n.preOrderCheckHooks;p!==null&&nh(t,p,null)}else{let p=n.preOrderHooks;p!==null&&rh(t,p,0,null),Ug(t,0)}if(Zk(t),CC(t,0),n.contentQueries!==null&&bC(n,t),!o)if(u){let p=n.contentCheckHooks;p!==null&&nh(t,p)}else{let p=n.contentHooks;p!==null&&rh(t,p,1),Ug(t,1)}fk(n,t);let c=n.components;c!==null&&DC(t,c,0);let d=n.viewQuery;if(d!==null&&P_(2,d,r),!o)if(u){let p=n.viewCheckHooks;p!==null&&nh(t,p)}else{let p=n.viewHooks;p!==null&&rh(t,p,2),Ug(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[th]){for(let p of t[th])p();t[th]=null}o||(t[Wn]&=-73)}catch(u){throw wu(t),u}finally{f!==null&&(mf(f,l),lk(f)),gv()}}function Vk(n){return n.type!==2}function CC(n,t){for(let e=sC(n);e!==null;e=aC(e))for(let r=ao;r<e.length;r++){let i=e[r];IC(i,t)}}function Zk(n){for(let t=sC(n);t!==null;t=aC(t)){if(!(t[Wn]&sv.HasTransplantedViews))continue;let e=t[lc];for(let r=0;r<e.length;r++){let i=e[r],o=i[Di];nO(i)}}}function Hk(n,t,e){let r=fa(t,n);IC(r,e)}function IC(n,t){cv(n)&&k_(n,t)}function k_(n,t){let r=n[nr],i=n[Wn],o=n[Qa],l=!!(t===0&&i&16);if(l||=!!(i&64&&t===0),l||=!!(i&1024),l||=!!(o?.dirty&&pf(o)),o&&(o.dirty=!1),n[Wn]&=-9217,l)jk(r,n,r.template,n[Mo]);else if(i&8192){CC(n,1);let f=r.components;f!==null&&DC(n,f,1)}}function DC(n,t,e){for(let r=0;r<t.length;r++)Hk(n,t[r],e)}function jv(n){for(n[hs].changeDetectionScheduler?.notify();n;){n[Wn]|=64;let t=Tu(n);if(YN(n)&&!t)return n;n=t}return null}var il=class{get rootNodes(){let t=this._lView,e=t[nr];return Eh(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mo]}set context(t){this._lView[Mo]=t}get destroyed(){return(this._lView[Wn]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Di];if(Us(t)){let e=t[uh],r=e?e.indexOf(this):-1;r>-1&&(_h(t,r),ph(e,r))}this._attachedToViewContainer=!1}Iv(this._lView[nr],this._lView)}onDestroy(t){eS(this._lView,t)}markForCheck(){jv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){o_(this._lView),this._lView[Wn]|=128}detectChanges(){this._lView[Wn]|=1024,Bk(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,LS(this._lView[nr],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new dn(902,!1);this._appRef=t,o_(this._lView)}},Yr=(()=>{class n{static{this.__NG_ELEMENT_ID__=zk}}return n})();function zk(n){return Gk(Xi(),cr(),(n&16)===16)}function Gk(n,t,e){if(Rh(n)&&!e){let r=fa(n.index,t);return new il(r,r)}else if(n.type&47){let r=t[$o];return new il(r,t)}return null}var $h=(()=>{class n{static{this.__NG_ELEMENT_ID__=qk}static{this.__NG_ENV_ID__=e=>e}}return n})(),F_=class extends $h{constructor(t){super(),this._lView=t}onDestroy(t){return eS(this._lView,t),()=>iO(this._lView,t)}};function qk(){return new F_(cr())}var Yk=new pn("",{providedIn:"root",factory:()=>pt($k)}),$k=(()=>{class n{static{this.\u0275prov=Gt({token:n,providedIn:"root",factory:()=>new L_})}}return n})(),Wk=(()=>{class n{constructor(){this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(e){let r=e.creationZone;this.queues.has(r)||this.queues.set(r,new Set);let i=this.queues.get(r);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,r]of this.queues)e===null?this.flushQueue(r):e.run(()=>this.flushQueue(r))}flushQueue(e){for(let r of e)e.delete(r),this.queuedEffectCount--,r.run()}static{this.\u0275prov=Gt({token:n,providedIn:"root",factory:()=>new n})}}return n})(),L_=class{constructor(){this.hasQueuedFlush=!1,this.delegate=new Wk,this.flushTask=()=>{this.delegate.flush(),this.hasQueuedFlush=!1}}scheduleEffect(t){this.delegate.scheduleEffect(t),this.hasQueuedFlush||(queueMicrotask(this.flushTask),this.hasQueuedFlush=!0)}},B_=class{constructor(t,e,r,i,o,l){this.scheduler=t,this.effectFn=e,this.creationZone=r,this.injector=o,this.watcher=lw(f=>this.runEffect(f),()=>this.schedule(),l),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(lo,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ul(n,t){!t?.injector&&Tv(ul);let e=t?.injector??pt(Bi),r=t?.manualCleanup!==!0?e.get($h):null,i=new B_(e.get(Yk),n,typeof Zone>"u"?null:Zone.current,r,e,t?.allowSignalWrites??!1),o=e.get(Yr,null,{optional:!0});return!o||!(o._lView[Wn]&8)?i.watcher.notify():(o._lView[th]??=[]).push(i.watcher.notify),i}var hT=new Set;function Vv(n){hT.has(n)||(hT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var U_=class extends kn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),l=r;if(t&&typeof t=="object"){let u=t;i=u.next?.bind(u),o=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(o=qg(o),i&&(i=qg(i)),l&&(l=qg(l)));let f=super.subscribe({next:i,error:o,complete:l});return t instanceof pr&&t.add(f),f}};function qg(n){return t=>{setTimeout(n,void 0,t)}}var mr=U_;function mT(...n){}function Kk(){let n=typeof Fs.requestAnimationFrame=="function",t=Fs[n?"requestAnimationFrame":"setTimeout"],e=Fs[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}var Pn=class n{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mr(!1),this.onMicrotaskEmpty=new mr(!1),this.onStable=new mr(!1),this.onError=new mr(!1),typeof Zone>"u")throw new dn(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Kk().nativeRequestAnimationFrame,Jk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new dn(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new dn(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,t,Qk,mT,mT);try{return o.runTask(l,e,r)}finally{o.cancelTask(l)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},Qk={};function Zv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Xk(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fs,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,j_(n),n.isCheckStableRunning=!0,Zv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),j_(n))}function Jk(n){let t=()=>{Xk(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,l,f)=>{if(eF(f))return e.invokeTask(i,o,l,f);try{return pT(n),e.invokeTask(i,o,l,f)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),gT(n)}},onInvoke:(e,r,i,o,l,f,u)=>{try{return pT(n),e.invoke(i,o,l,f,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),gT(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,j_(n),Zv(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function j_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function pT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gT(n){n._nesting--,Zv(n)}function eF(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var AC=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of e)i();return!!this.handler?.execute()||e.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Gt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function tF(n,t){let e=fa(t,n),r=e[nr];nF(r,e);let i=e[Bs];i!==null&&e[yu]===null&&(e[yu]=Mv(i,e[ac])),Hv(r,e,e[Mo])}function nF(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Hv(n,t,e){pv(t);try{let r=n.viewQuery;r!==null&&P_(1,r,e);let i=n.template;i!==null&&hC(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&bC(n,t),n.staticViewQueries&&P_(2,n.viewQuery,e);let o=n.components;o!==null&&rF(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[Wn]&=-5,gv()}}function rF(n,t){for(let e=0;e<t.length;e++)tF(n,t[e])}function wh(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let l=0;l<t.length;l++){let f=t[l];if(typeof f=="number")o=f;else if(o==1)i=Jg(i,f);else if(o==2){let u=f,c=t[++l];r=Jg(r,u+": "+c+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}var Th=class extends pa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Ka(t);return new Cu(e,this.ngModule)}};function _T(n){let t=[];for(let e in n)if(n.hasOwnProperty(e)){let r=n[e];t.push({propName:r,templateName:e})}return t}function iF(n){let t=n.toLowerCase();return t==="svg"?WT:t==="math"?QN:null}var V_=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=xh(r);let i=this.injector.get(t,zg,r);return i!==zg||e===zg?i:this.parentInjector.get(t,e,r)}},Cu=class extends yh{get inputs(){let t=this.componentDef,e=t.inputTransforms,r=_T(t.inputs);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return _T(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=ZN(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){i=i||this.ngModule;let o=i instanceof po?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let l=o?new V_(t,o):t,f=l.get(rl,null);if(f===null)throw new dn(407,!1);let u=l.get(tk,null),c=l.get(AC,null),d=l.get(T_,null),p={rendererFactory:f,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:d},E=f.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",C=r?pk(E,r,this.componentDef.encapsulation,l):FS(E,m,iF(m)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let h=null;C!==null&&(h=Mv(C,l,!0));let v=Lv(0,null,null,1,0,null,null,null,null,null,null),w=qh(null,v,null,S,null,null,p,E,l,null,h);pv(w);let M,j;try{let q=this.componentDef,V,re=null;q.findHostDirectiveDefs?(V=[],re=new Map,q.findHostDirectiveDefs(q,V,re),V.push(q)):V=[q];let B=oF(w,C),ee=sF(B,C,q,V,w,p,E);j=lv(v,Ki),C&&cF(E,q,C,r),e!==void 0&&uF(j,this.ngContentSelectors,e),M=lF(ee,q,V,re,w,[dF]),Hv(v,w,null)}finally{gv()}return new Z_(this.componentType,M,mc(j,w),w,j)}},Z_=class extends S_{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new il(i,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;Uv(o[nr],o,i,t,e),this.previousInputValues.set(t,e);let l=fa(this._tNode.index,o);jv(l)}}get injector(){return new Wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function oF(n,t){let e=n[nr],r=Ki;return n[r]=t,pc(e,r,2,"#host",null)}function sF(n,t,e,r,i,o,l){let f=i[nr];aF(r,n,t,l);let u=null;t!==null&&(u=Mv(t,i[ac]));let c=o.rendererFactory.createRenderer(t,e),d=16;e.signals?d=4096:e.onPush&&(d=64);let p=qh(i,mC(e),null,d,i[n.index],n,o,c,null,null,u);return f.firstCreatePass&&O_(f,n,r.length-1),Yh(i,p),i[n.index]=p}function aF(n,t,e,r){for(let i of n)t.mergedAttrs=vu(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(wh(t,t.mergedAttrs,!0),e!==null&&GS(r,e,t))}function lF(n,t,e,r,i,o){let l=Xi(),f=i[nr],u=Ro(l,i);gC(f,i,l,e,null,r);for(let d=0;d<e.length;d++){let p=l.directiveStart+d,E=nl(i,f,p,l);ca(E,i)}_C(f,i,l),u&&ca(u,i);let c=nl(i,f,l.directiveStart+l.componentOffset,l);if(n[Mo]=i[Mo]=c,o!==null)for(let d of o)d(c,t);return Pv(f,l,n),c}function cF(n,t,e,r){if(r)r_(n,e,["ng-version","17.0.9"]);else{let{attrs:i,classes:o}=HN(t.selectors[0]);i&&r_(n,e,i),o&&o.length>0&&zS(n,e,o.join(" "))}}function uF(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null?Array.from(o):null)}}function dF(){let n=Xi();kh(cr()[nr],n)}function fF(n){return Object.getPrototypeOf(n.prototype).constructor}function Kr(n){let t=fF(n.type),e=!0,r=[n];for(;t;){let i;if(la(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new dn(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let l=n;l.inputs=Jf(n.inputs),l.inputTransforms=Jf(n.inputTransforms),l.declaredInputs=Jf(n.declaredInputs),l.outputs=Jf(n.outputs);let f=i.hostBindings;f&&gF(n,f);let u=i.viewQuery,c=i.contentQueries;if(u&&mF(n,u),c&&pF(n,c),$f(n.inputs,i.inputs),$f(n.declaredInputs,i.declaredInputs),$f(n.outputs,i.outputs),i.inputTransforms!==null&&(l.inputTransforms===null&&(l.inputTransforms={}),$f(l.inputTransforms,i.inputTransforms)),la(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let l=0;l<o.length;l++){let f=o[l];f&&f.ngInherit&&f(n),f===Kr&&(e=!1)}}t=Object.getPrototypeOf(t)}hF(r)}function hF(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=vu(i.hostAttrs,e=vu(e,i.hostAttrs))}}function Jf(n){return n===sc?{}:n===so?[]:n}function mF(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function pF(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function gF(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function uo(n){let t=n.inputConfig,e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}n.inputTransforms=e}function xC(n,t,e){return n[t]=e}function gs(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function MC(n,t,e,r){let i=gs(n,t,e);return gs(n,t+1,r)||i}function br(n,t,e,r){let i=cr(),o=Mu();if(gs(i,o,t)){let l=fi(),f=_v();Ok(f,i,n,t,e,r)}return br}function _F(n,t,e,r){return gs(n,Mu(),e)?t+aa(e)+r:Qo}function vF(n,t,e,r,i,o){let l=fO(),f=MC(n,l,e,i);return hv(2),f?t+aa(e)+r+aa(i)+o:Qo}function eh(n,t){return n<<17|t<<2}function ol(n){return n>>17&32767}function yF(n){return(n&2)==2}function bF(n,t){return n&131071|t<<17}function H_(n){return n|2}function fc(n){return(n&131068)>>2}function Yg(n,t){return n&-131069|t<<2}function EF(n){return(n&1)===1}function z_(n){return n|1}function wF(n,t,e,r,i,o){let l=o?t.classBindings:t.styleBindings,f=ol(l),u=fc(l);n[r]=e;let c=!1,d;if(Array.isArray(e)){let p=e;d=p[1],(d===null||Nu(p,d)>0)&&(c=!0)}else d=e;if(i)if(u!==0){let E=ol(n[f+1]);n[r+1]=eh(E,f),E!==0&&(n[E+1]=Yg(n[E+1],r)),n[f+1]=bF(n[f+1],r)}else n[r+1]=eh(f,0),f!==0&&(n[f+1]=Yg(n[f+1],r)),f=r;else n[r+1]=eh(u,0),f===0?f=r:n[u+1]=Yg(n[u+1],r),u=r;c&&(n[r+1]=H_(n[r+1])),vT(n,d,r,!0),vT(n,d,r,!1),TF(t,d,n,r,o),l=eh(f,u),o?t.classBindings=l:t.styleBindings=l}function TF(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Nu(o,t)>=0&&(e[r+1]=z_(e[r+1]))}function vT(n,t,e,r){let i=n[e+1],o=t===null,l=r?ol(i):fc(i),f=!1;for(;l!==0&&(f===!1||o);){let u=n[l],c=n[l+1];SF(u,t)&&(f=!0,n[l+1]=r?z_(c):H_(c)),l=r?ol(c):fc(c)}f&&(n[e+1]=r?H_(i):z_(i))}function SF(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Nu(n,t)>=0:!1}var qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CF(n){return n.substring(qo.key,qo.keyEnd)}function IF(n){return DF(n),RC(n,NC(n,0,qo.textEnd))}function RC(n,t){let e=qo.textEnd;return e===t?-1:(t=qo.keyEnd=AF(n,qo.key=t,e),NC(n,t,e))}function DF(n){qo.key=0,qo.keyEnd=0,qo.value=0,qo.valueEnd=0,qo.textEnd=n.length}function NC(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function AF(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function Ct(n,t,e){let r=cr(),i=Mu();if(gs(r,i,t)){let o=fi(),l=_v();pC(o,l,r,n,t,r[li],e,!1)}return Ct}function G_(n,t,e,r,i){let o=t.inputs,l=i?"class":"style";Uv(n,e,o[l],l,r)}function Hs(n,t,e){return OC(n,t,e,!1),Hs}function vr(n,t){return OC(n,t,null,!0),vr}function zv(n){MF(FF,xF,n,!0)}function xF(n,t){for(let e=IF(t);e>=0;e=RC(t,e))bv(n,CF(t),!0)}function OC(n,t,e,r){let i=cr(),o=fi(),l=hv(2);if(o.firstUpdatePass&&kC(o,n,l,r),t!==Qo&&gs(i,l,t)){let f=o.data[ha()];FC(o,f,i,i[li],n,i[l+1]=BF(t,e),r,l)}}function MF(n,t,e,r){let i=fi(),o=hv(2);i.firstUpdatePass&&kC(i,null,o,r);let l=cr();if(e!==Qo&&gs(l,o,e)){let f=i.data[ha()];if(LC(f,r)&&!PC(i,o)){let u=r?f.classesWithoutHost:f.stylesWithoutHost;u!==null&&(e=Jg(u,e||"")),G_(i,f,l,e,r)}else LF(i,f,l,l[li],l[o+1],l[o+1]=kF(n,t,e),r,o)}}function PC(n,t){return t>=n.expandoStartIndex}function kC(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[ha()],l=PC(n,e);LC(o,r)&&t===null&&!l&&(t=!1),t=RF(i,o,t,r),wF(i,o,t,e,l,r)}}function RF(n,t,e,r){let i=_O(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=$g(null,n,t,e,r),e=Iu(e,t.attrs,r),o=null);else{let l=t.directiveStylingLast;if(l===-1||n[l]!==i)if(e=$g(i,n,t,e,r),o===null){let u=NF(n,t,r);u!==void 0&&Array.isArray(u)&&(u=$g(null,n,t,u[1],r),u=Iu(u,t.attrs,r),OF(n,t,r,u))}else o=PF(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function NF(n,t,e){let r=e?t.classBindings:t.styleBindings;if(fc(r)!==0)return n[ol(r)]}function OF(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[ol(i)]=r}function PF(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let l=n[o].hostAttrs;r=Iu(r,l,e)}return Iu(r,t.attrs,e)}function $g(n,t,e,r,i){let o=null,l=e.directiveEnd,f=e.directiveStylingLast;for(f===-1?f=e.directiveStart:f++;f<l&&(o=t[f],r=Iu(r,o.hostAttrs,i),o!==n);)f++;return n!==null&&(e.directiveStylingLast=f),r}function Iu(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let l=t[o];typeof l=="number"?i=l:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),bv(n,l,e?!0:t[++o]))}return n===void 0?null:n}function kF(n,t,e){if(e==null||e==="")return so;let r=[],i=_o(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function FF(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&bv(n,r,e)}function LF(n,t,e,r,i,o,l,f){i===Qo&&(i=so);let u=0,c=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let E=u<i.length?i[u+1]:void 0,m=c<o.length?o[c+1]:void 0,C=null,S;d===p?(u+=2,c+=2,E!==m&&(C=p,S=m)):p===null||d!==null&&d<p?(u+=2,C=d):(c+=2,C=p,S=m),C!==null&&FC(n,t,e,r,C,S,l,f),d=u<i.length?i[u]:null,p=c<o.length?o[c]:null}}function FC(n,t,e,r,i,o,l,f){if(!(t.type&3))return;let u=n.data,c=u[f+1],d=EF(c)?yT(u,t,e,i,fc(c),l):void 0;if(!Sh(d)){Sh(o)||yF(c)&&(o=yT(u,null,e,i,f,l));let p=KT(ha(),e);AP(r,l,p,i,o)}}function yT(n,t,e,r,i,o){let l=t===null,f;for(;i>0;){let u=n[i],c=Array.isArray(u),d=c?u[1]:u,p=d===null,E=e[i+1];E===Qo&&(E=p?so:void 0);let m=p?Vg(E,r):d===r?E:void 0;if(c&&!Sh(m)&&(m=Vg(u,r)),Sh(m)&&(f=m,l))return f;let C=n[i+1];i=l?ol(C):fc(C)}if(t!==null){let u=o?t.residualClasses:t.residualStyles;u!=null&&(f=Vg(u,r))}return f}function Sh(n){return n!==void 0}function BF(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Wi(_o(n)))),n}function LC(n,t){return(n.flags&(t?8:16))!==0}var Z$=new RegExp(`^(\\d+)*(${$P}|${YP})*(.*)`);var UF=()=>null;function q_(n,t){return UF(n,t)}function BC(n,t,e,r){let i=t.tView,l=n[Wn]&4096?4096:16,f=qh(n,i,e,l,null,t,null,null,null,r?.injector??null,r?.dehydratedView??null),u=n[t.index];f[xu]=u;let c=n[ds];return c!==null&&(f[ds]=c.createEmbeddedView(i)),Hv(i,f,e),f}function jF(n,t){let e=ao+t;if(e<n.length)return n[e]}function Y_(n,t){return!t||t.firstChild===null||PS(n)}function UC(n,t,e,r=!0){let i=t[nr];if(gP(i,t,n,e),r){let l=m_(e,n),f=t[li],u=Dv(f,n[Xa]);u!==null&&mP(i,n[go],f,t,u,l)}let o=t[yu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function VF(n,t){let e=_h(n,t);return e!==void 0&&Iv(e[nr],e),e}var Ui=(()=>{class n{static{this.__NG_ELEMENT_ID__=ZF}}return n})();function ZF(){let n=Xi();return VC(n,cr())}var HF=Ui,jC=class extends HF{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return mc(this._hostTNode,this._hostLView)}get injector(){return new Wa(this._hostTNode,this._hostLView)}get parentInjector(){let t=vv(this._hostTNode,this._hostLView);if(hS(t)){let e=fh(t,this._hostLView),r=dh(t),i=e[nr].data[r+8];return new Wa(i,e)}else return new Wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=bT(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-ao}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let l=q_(this._lContainer,t.ssrId),f=t.createEmbeddedViewImpl(e||{},o,l);return this.insertImpl(f,i,Y_(this._hostTNode,l)),f}createComponent(t,e,r,i,o){let l=t&&!LO(t),f;if(l)f=e;else{let C=e||{};f=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=l?t:new Cu(Ka(t)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let S=(l?c:this.parentInjector).get(po,null);S&&(o=S)}let d=Ka(u.componentType??{}),p=q_(this._lContainer,d?.id??null),E=p?.firstChild??null,m=u.create(c,i,E,o);return this.insertImpl(m.hostView,f,Y_(this._hostTNode,p)),m}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(tO(i)){let f=this.indexOf(t);if(f!==-1)this.detach(f);else{let u=i[Di],c=new jC(u,u[go],u[Di]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),l=this._lContainer;return UC(l,i,o,r),t.attachToViewContainerRef(),TS(Wg(l),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=bT(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=_h(this._lContainer,e);r&&(ph(Wg(this._lContainer),e),Iv(r[nr],r))}detach(t){let e=this._adjustIndex(t,-1),r=_h(this._lContainer,e);return r&&ph(Wg(this._lContainer),e)!=null?new il(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function bT(n){return n[uh]}function Wg(n){return n[uh]||(n[uh]=[])}function VC(n,t){let e,r=t[n.index];return Us(r)?e=r:(e=yC(r,t,null,n),t[n.index]=e,Yh(t,e)),GF(e,t,n,r),new jC(e,n,t)}function zF(n,t){let e=n[li],r=e.createComment(""),i=Ro(t,n),o=Dv(e,i);return vh(e,o,r,wP(e,i),!1),r}var GF=$F,qF=()=>!1;function YF(n,t,e){return qF(n,t,e)}function $F(n,t,e,r){if(n[Xa])return;let i;e.type&8?i=ms(r):i=zF(t,e),n[Xa]=i}function WF(n,t,e,r,i,o,l,f,u){let c=t.consts,d=pc(t,n,4,l||null,cc(c,f));Bv(t,e,d,cc(c,u)),kh(t,d);let p=d.tView=Lv(2,d,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),p.queries=t.queries.embeddedTView(d)),d}function bn(n,t,e,r,i,o,l,f){let u=cr(),c=fi(),d=n+Ki,p=c.firstCreatePass?WF(d,c,u,t,e,r,i,o,l):c.data[d];al(p,!1);let E=KF(c,u,p,n);Oh()&&Uh(c,u,E,p),ca(E,u);let m=yC(E,u,E,p);return u[d]=m,Yh(u,m),YF(m,p,u),Nh(p)&&kv(c,u,p),l!=null&&Fv(u,p,f),bn}var KF=QF;function QF(n,t,e,r){return Ph(!0),t[li].createComment("")}function xi(n,t,e){Vv("NgControlFlow");let r=cr(),i=Mu(),o=XF(r,Ki+n),l=0;if(gs(r,i,t)){let f=Ii(null);try{if(VF(o,l),t!==-1){let u=JF(r[nr],Ki+t),c=q_(o,u.tView.ssrId),d=BC(r,u,e,{dehydratedView:c});UC(o,d,l,Y_(u,c))}}finally{Ii(f)}}else{let f=jF(o,l);f!==void 0&&(f[Mo]=e)}}function XF(n,t){return n[t]}function JF(n,t){return lv(n,t)}function eL(n,t,e,r,i,o){let l=t.consts,f=cc(l,i),u=pc(t,n,2,r,f);return Bv(t,e,u,cc(l,o)),u.attrs!==null&&wh(u,u.attrs,!1),u.mergedAttrs!==null&&wh(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function Ft(n,t,e,r){let i=cr(),o=fi(),l=Ki+n,f=i[li],u=o.firstCreatePass?eL(l,o,i,t,e,r):o.data[l],c=tL(o,i,u,f,t,n);i[l]=c;let d=Nh(u);return al(u,!0),GS(f,c,u),(u.flags&32)!==32&&Oh()&&Uh(o,i,c,u),oO()===0&&ca(c,i),sO(),d&&(kv(o,i,u),Pv(o,u,i)),r!==null&&Fv(i,u),Ft}function Lt(){let n=Xi();uv()?dv():(n=n.parent,al(n,!1));let t=n;lO(t)&&cO(),aO();let e=fi();return e.firstCreatePass&&(kh(e,n),av(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&CO(t)&&G_(e,t,cr(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&IO(t)&&G_(e,t,cr(),t.stylesWithoutHost,!1),Lt}function mn(n,t,e,r){return Ft(n,t,e,r),Lt(),mn}var tL=(n,t,e,r,i,o)=>(Ph(!0),FS(r,i,EO()));function nL(n,t,e,r,i){let o=t.consts,l=cc(o,r),f=pc(t,n,8,"ng-container",l);l!==null&&wh(f,l,!0);let u=cc(o,i);return Bv(t,e,f,u),t.queries!==null&&t.queries.elementStart(t,f),f}function eo(n,t,e){let r=cr(),i=fi(),o=n+Ki,l=i.firstCreatePass?nL(o,i,r,t,e):i.data[o];al(l,!0);let f=rL(i,r,l,n);return r[o]=f,Oh()&&Uh(i,r,f,l),ca(f,r),Nh(l)&&(kv(i,r,l),Pv(i,l,r)),e!=null&&Fv(r,l),eo}function to(){let n=Xi(),t=fi();return uv()?dv():(n=n.parent,al(n,!1)),t.firstCreatePass&&(kh(t,n),av(n)&&t.queries.elementEnd(n)),to}function Lu(n,t,e){return eo(n,t,e),to(),Lu}var rL=(n,t,e,r)=>(Ph(!0),fP(t[li],""));function Er(){return cr()}function dl(n,t,e){let r=cr(),i=Mu();if(gs(r,i,t)){let o=fi(),l=_v();pC(o,l,r,n,t,r[li],e,!0)}return dl}var Ch="en-US";var iL=Ch;function oL(n){yN(n,"Expected localeId to be defined"),typeof n=="string"&&(iL=n.toLowerCase().replace(/_/g,"-"))}function fl(n){return!!n&&typeof n.then=="function"}function ZC(n){return!!n&&typeof n.subscribe=="function"}function Tn(n,t,e,r){let i=cr(),o=fi(),l=Xi();return aL(o,i,i[li],l,n,t,r),Tn}function sL(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let l=i[o];if(l===e&&i[o+1]===r){let f=t[bu],u=i[o+2];return f.length>u?f[u]:null}typeof l=="string"&&(o+=2)}return null}function aL(n,t,e,r,i,o,l){let f=Nh(r),c=n.firstCreatePass&&wC(n),d=t[Mo],p=EC(t),E=!0;if(r.type&3||l){let S=Ro(r,t),h=l?l(S):S,v=p.length,w=l?j=>l(ms(j[r.index])):r.index,M=null;if(!l&&f&&(M=sL(n,t,i,r.index)),M!==null){let j=M.__ngLastListenerFn__||M;j.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,E=!1}else{o=wT(r,t,d,o,!1);let j=e.listen(h,i,o);p.push(o,j),c&&c.push(i,w,v,v+1)}}else o=wT(r,t,d,o,!1);let m=r.outputs,C;if(E&&m!==null&&(C=m[i])){let S=C.length;if(S)for(let h=0;h<S;h+=2){let v=C[h],w=C[h+1],q=t[v][w].subscribe(o),V=p.length;p.push(o,q),c&&c.push(i,r.index,V,-(V+1))}}}function ET(n,t,e,r){try{return cs(6,t,e),e(r)!==!1}catch(i){return TC(n,i),!1}finally{cs(7,t,e)}}function wT(n,t,e,r,i){return function o(l){if(l===Function)return r;let f=n.componentOffset>-1?fa(n.index,t):t;jv(f);let u=ET(t,e,r,l),c=o.__ngNextListenerFn__;for(;c;)u=ET(t,e,c,l)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&l.preventDefault(),u}}function un(n=1){return yO(n)}function lL(n,t){let e=null,r=LN(n);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(r===null?LT(n,o,!0):jN(r,o))return i}return e}function Mi(n){let t=cr()[$o][go];if(!t.projection){let e=n?n.length:1,r=t.projection=jO(e,null),i=r.slice(),o=t.child;for(;o!==null;){let l=n?lL(o,n):0;l!==null&&(i[l]?i[l].projectionNext=o:r[l]=o,i[l]=o),o=o.next}}}function kr(n,t=0,e){let r=cr(),i=fi(),o=pc(i,Ki+n,16,null,e||null);o.projection===null&&(o.projection=t),dv(),(!r[yu]||nS())&&(o.flags&32)!==32&&IP(i,r,o)}function cL(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Zr(n){let t=dO();return QT(t,Ki+n)}function Zn(n,t=""){let e=cr(),r=fi(),i=n+Ki,o=r.firstCreatePass?pc(r,i,1,t,null):r.data[i],l=uL(r,e,o,t,n);e[i]=l,Oh()&&Uh(r,e,l,o),al(o,!1)}var uL=(n,t,e,r,i)=>(Ph(!0),uP(t[li],r));function ei(n){return pi("",n,""),ei}function pi(n,t,e){let r=cr(),i=_F(r,n,t,e);return i!==Qo&&SC(r,ha(),i),pi}function Bu(n,t,e,r,i){let o=cr(),l=vF(o,n,t,e,r,i);return l!==Qo&&SC(o,ha(),l),Bu}function dL(n,t,e){let r=fi();if(r.firstCreatePass){let i=la(n);$_(e,r.data,r.blueprint,i,!0),$_(t,r.data,r.blueprint,i,!1)}}function $_(n,t,e,r,i){if(n=$i(n),Array.isArray(n))for(let o=0;o<n.length;o++)$_(n[o],t,e,r,i);else{let o=fi(),l=cr(),f=Xi(),u=dc(n)?n:$i(n.provide),c=xS(n),d=f.providerIndexes&1048575,p=f.directiveStart,E=f.providerIndexes>>20;if(dc(n)||!n.multi){let m=new tl(c,i,Et),C=Qg(u,t,i?d:d+E,p);C===-1?(l_(mh(f,l),o,u),Kg(o,n,t.length),t.push(u),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),e.push(m),l.push(m)):(e[C]=m,l[C]=m)}else{let m=Qg(u,t,d+E,p),C=Qg(u,t,d,d+E),S=m>=0&&e[m],h=C>=0&&e[C];if(i&&!h||!i&&!S){l_(mh(f,l),o,u);let v=mL(i?hL:fL,e.length,i,r,c);!i&&h&&(e[C].providerFactory=v),Kg(o,n,t.length,0),t.push(u),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),e.push(v),l.push(v)}else{let v=HC(e[i?C:m],c,!i&&r);Kg(o,n,m>-1?m:C,v)}!i&&r&&h&&e[C].componentProviders++}}}function Kg(n,t,e,r){let i=dc(t),o=YO(t);if(i||o){let u=(o?$i(t.useClass):t).prototype.ngOnDestroy;if(u){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let d=c.indexOf(e);d===-1?c.push(e,[r,u]):c[d+1].push(r,u)}else c.push(e,u)}}}function HC(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Qg(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function fL(n,t,e,r){return W_(this.multi,[])}function hL(n,t,e,r){let i=this.multi,o;if(this.providerFactory){let l=this.providerFactory.componentProviders,f=nl(e,e[nr],this.providerFactory.index,r);o=f.slice(0,l),W_(i,o);for(let u=l;u<f.length;u++)o.push(f[u])}else o=[],W_(i,o);return o}function W_(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function mL(n,t,e,r,i){let o=new tl(n,e,Et);return o.multi=[],o.index=t,o.componentProviders=0,HC(o,i,r&&!e),o}function hi(n,t=[]){return e=>{e.providersResolver=(r,i)=>dL(r,i?i(n):n,t)}}var ua=class{},Du=class{};var K_=class extends ua{constructor(t,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Th(this);let i=VT(t);this._bootstrapComponents=OS(i.bootstrap),this._r3Injector=MS(t,e,[{provide:ua,useValue:this},{provide:pa,useValue:this.componentFactoryResolver},...r],Wi(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Q_=class extends Du{constructor(t){super(),this.moduleType=t}create(t){return new K_(this.moduleType,t,[])}};var Ih=class extends ua{constructor(t){super(),this.componentFactoryResolver=new Th(this),this.instance=null;let e=new Su([...t.providers,{provide:ua,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],t.parent||wv(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Gv(n,t,e=null){return new Ih({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var pL=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=IS(!1,e.type),i=r.length>0?Gv([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Gt({token:n,providedIn:"environment",factory:()=>new n(Ut(po))})}}return n})();function Ln(n){Vv("NgStandalone"),n.getStandaloneInjector=t=>t.get(pL).getOrCreateStandaloneInjector(n)}function Ti(n,t,e,r){return GC(cr(),fv(),n,t,e,r)}function Wh(n,t,e,r,i){return gL(cr(),fv(),n,t,e,r,i)}function zC(n,t){let e=n[t];return e===Qo?void 0:e}function GC(n,t,e,r,i,o){let l=t+e;return gs(n,l,i)?xC(n,l+1,o?r.call(o,i):r(i)):zC(n,l+1)}function gL(n,t,e,r,i,o,l){let f=t+e;return MC(n,f,i,o)?xC(n,f+2,l?r.call(l,i,o):r(i,o)):zC(n,f+2)}function Xo(n,t){let e=fi(),r,i=n+Ki;e.firstCreatePass?(r=_L(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Ja(r.type,!0)),l,f=oo(Et);try{let u=hh(!1),c=o();return hh(u),cL(e,cr(),i,c),c}finally{oo(f)}}function _L(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function Jo(n,t,e){let r=n+Ki,i=cr(),o=QT(i,r);return vL(i,r)?GC(i,fv(),t,o.transform,e,o):o.transform(e)}function vL(n,t){return n[nr].data[t].pure}function yL(){return this._results[Symbol.iterator]()}var da=class n{get changes(){return this._changes??=new mr}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=n.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=yL)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=UO(t);(this._changesDetected=!BO(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},co=(()=>{class n{static{this.__NG_ELEMENT_ID__=wL}}return n})(),bL=co,EL=class extends bL{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=BC(this._declarationLView,this._declarationTContainer,t,{injector:e,dehydratedView:r});return new il(i)}};function wL(){return Kh(Xi(),cr())}function Kh(n,t){return n.type&4?new EL(t,n,mc(n,t)):null}var X_=class n{constructor(t){this.queryList=t,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},J_=class n{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let l=e.getByIndex(o),f=this.queries[l.indexInDeclarationView];i.push(f.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)WC(t,e).matches!==null&&this.queries[e].setDirty()}},Dh=class{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}},ev=class n{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},tv=class n{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,TL(e,o)),this.matchTNodeWithReadOption(t,e,ih(e,t,o,!1,!1))}else r===co?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ih(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Un||i===Ui||i===co&&e.type&4)this.addMatch(e.index,-2);else{let o=ih(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function TL(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function SL(n,t){return n.type&11?mc(n,t):n.type&4?Kh(n,t):null}function CL(n,t,e,r){return e===-1?SL(t,n):e===-2?IL(n,t,r):nl(n,n[nr],e,t)}function IL(n,t,e){if(e===Un)return mc(t,n);if(e===co)return Kh(t,n);if(e===Ui)return VC(t,n)}function qC(n,t,e,r){let i=t[ds].queries[r];if(i.matches===null){let o=n.data,l=e.matches,f=[];for(let u=0;u<l.length;u+=2){let c=l[u];if(c<0)f.push(null);else{let d=o[c];f.push(CL(t,d,l[u+1],e.metadata.read))}}i.matches=f}return i.matches}function nv(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let l=qC(n,t,i,e);for(let f=0;f<o.length;f+=2){let u=o[f];if(u>0)r.push(l[f/2]);else{let c=o[f+1],d=t[-u];for(let p=ao;p<d.length;p++){let E=d[p];E[xu]===E[Di]&&nv(E[nr],E,c,r)}if(d[lc]!==null){let p=d[lc];for(let E=0;E<p.length;E++){let m=p[E];nv(m[nr],m,c,r)}}}}}return r}function fr(n){let t=cr(),e=fi(),r=iS();mv(r+1);let i=WC(e,r);if(n.dirty&&eO(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=i.crossesNgTemplate?nv(e,t,r,[]):qC(e,t,i,r);n.reset(o,JP),n.notifyOnChanges()}return!0}return!1}function Qr(n,t,e){let r=fi();r.firstCreatePass&&($C(r,new Dh(n,t,e),-1),(t&2)===2&&(r.staticViewQueries=!0)),YC(r,cr(),t)}function Ri(n,t,e,r){let i=fi();if(i.firstCreatePass){let o=Xi();$C(i,new Dh(t,e,r),o.index),AL(i,n),(e&2)===2&&(i.staticContentQueries=!0)}YC(i,cr(),e)}function hr(){return DL(cr(),iS())}function DL(n,t){return n[ds].queries[t].queryList}function YC(n,t,e){let r=new da((e&4)===4);vk(n,t,r,r.destroy),t[ds]===null&&(t[ds]=new J_),t[ds].queries.push(new X_(r))}function $C(n,t,e){n.queries===null&&(n.queries=new ev),n.queries.track(new tv(t,e))}function AL(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function WC(n,t){return n.queries.getByIndex(t)}function Qh(n,t){return Kh(n,t)}var Xh=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),rv=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},qv=(()=>{class n{compileModuleSync(e){return new Q_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=VT(e),o=OS(i.declarations).reduce((l,f)=>{let u=Ka(f);return u&&l.push(new Cu(u)),l},[]);return new rv(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Jh=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mi(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var KC=new pn("");var em=new pn("Application Initializer"),QC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=pt(em,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=i();if(fl(o))e.push(o);else if(ZC(o)){let l=new Promise((f,u)=>{o.subscribe({complete:f,error:u})});e.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yv=new pn("appBootstrapListener");function xL(){ow(()=>{throw new dn(600,!1)})}function ML(n){return n.isBoundToModule}function RL(n,t,e){try{let r=e();return fl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var ys=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pt(cC),this.afterRenderEffectManager=pt(AC),this.componentTypes=[],this.components=[],this.isStable=pt(Jh).hasPendingTasks.pipe(jn(e=>!e)),this._injector=pt(po)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){let i=e instanceof yh;if(!this._injector.get(QC).done){let E=!i&&jT(e),m=!1;throw new dn(405,m)}let l;i?l=e:l=this._injector.get(pa).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let f=ML(l)?void 0:this._injector.get(ua),u=r||l.selector,c=l.create(Bi.NULL,[],u,f),d=c.location.nativeElement,p=c.injector.get(KC,null);return p?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Xg(this.components,c),p?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new dn(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{try{let e=this.afterRenderEffectManager.execute()}catch(e){this.internalErrorHandler(e)}this._runningTick=!1}}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Xg(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let r=this._injector.get(Yv,[]);[...this._bootstrapListeners,...r].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Xg(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new dn(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Xg(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var NL=(()=>{class n{constructor(){this.zone=pt(Pn),this.applicationRef=pt(ys)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function OL(n){return[{provide:Pn,useFactory:n},{provide:uc,multi:!0,useFactory:()=>{let t=pt(NL,{optional:!0});return()=>t.initialize()}},{provide:uc,multi:!0,useFactory:()=>{let t=pt(LL);return()=>{t.initialize()}}},{provide:cC,useFactory:PL}]}function PL(){let n=pt(Pn),t=pt(lo);return e=>n.runOutsideAngular(()=>t.handleError(e))}function kL(n){let t=OL(()=>new Pn(FL(n)));return Lh([[],t])}function FL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var LL=(()=>{class n{constructor(){this.subscription=new pr,this.initialized=!1,this.zone=pt(Pn),this.pendingTasks=pt(Jh)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function BL(){return typeof $localize<"u"&&$localize.locale||Ch}var tm=new pn("LocaleId",{providedIn:"root",factory:()=>pt(tm,lr.Optional|lr.SkipSelf)||BL()});var XC=new pn("PlatformDestroyListeners");var ah=null;function UL(n=[],t){return Bi.create({name:t,providers:[{provide:Bh,useValue:"platform"},{provide:XC,useValue:new Set([()=>ah=null])},...n]})}function jL(n=[]){if(ah)return ah;let t=UL(n);return ah=t,xL(),VL(t),t}function VL(n){n.get(Sv,null)?.forEach(e=>e())}function JC(n){try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,i=jL(r),o=[kL(),...e||[]],f=new Ih({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=f.get(Pn);return u.run(()=>{f.resolveInjectorInitializers();let c=f.get(lo,null),d;u.runOutsideAngular(()=>{d=u.onError.subscribe({next:m=>{c.handleError(m)}})});let p=()=>f.destroy(),E=i.get(XC);return E.add(p),f.onDestroy(()=>{d.unsubscribe(),E.delete(p)}),RL(c,u,()=>{let m=f.get(QC);return m.runInitializers(),m.donePromise.then(()=>{let C=f.get(tm,Ch);oL(C||Ch);let S=f.get(ys);return t!==void 0&&S.bootstrap(t),S})})})}catch(t){return Promise.reject(t)}}function gi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var Wv=null;function zs(){return Wv}function oI(n){Wv||(Wv=n)}var nm=class{},Hn=new pn("DocumentToken"),sI=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:()=>(()=>pt(HL))(),providedIn:"platform"})}}return n})();var HL=(()=>{class n extends sI{constructor(){super(),this._doc=pt(Hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zs().getBaseHref(this._doc)}onPopState(e){let r=zs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=zs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:()=>(()=>new n)(),providedIn:"platform"})}}return n})();function aI(n,t){if(n.length==0)return t;if(t.length==0)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?n+t.substring(1):e==1?n+t:n+"/"+t}function eI(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,r=e-(n[e-1]==="/"?1:0);return n.slice(0,r)+n.slice(e)}function hl(n){return n&&n[0]!=="?"?"?"+n:n}var gc=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:()=>(()=>pt(lI))(),providedIn:"root"})}}return n})(),zL=new pn("appBaseHref"),lI=(()=>{class n extends gc{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pt(Hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return aI(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+hl(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let l=this.prepareExternalUrl(i+hl(o));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){let l=this.prepareExternalUrl(i+hl(o));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||n)(Ut(sI),Ut(zL,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ml=(()=>{class n{constructor(e){this._subject=new mr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=YL(eI(tI(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+hl(r))}normalize(e){return n.stripTrailingSlash(qL(this._basePath,tI(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hl(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hl(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static{this.normalizeQueryParams=hl}static{this.joinWithSlash=aI}static{this.stripTrailingSlash=eI}static{this.\u0275fac=function(r){return new(r||n)(Ut(gc))}}static{this.\u0275prov=Gt({token:n,factory:()=>GL(),providedIn:"root"})}}return n})();function GL(){return new ml(Ut(gc))}function qL(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function tI(n){return n.replace(/\/index.html$/,"")}function YL(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}function cI(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var $v=/\s+/,nI=[],bs=(()=>{class n{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=nI,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split($v):nI}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split($v):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split($v).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Zs))}}static{this.\u0275dir=Yn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Kv=class{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fo=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(!1)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,l)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Kv(i.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(o===null?void 0:o);else if(o!==null){let f=r.get(o);r.move(f,l),rI(f,i)}});for(let i=0,o=r.length;i<o;i++){let f=r.get(i).context;f.index=i,f.count=o,f.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);rI(o,i)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Et(Ui),Et(co),Et(Gh))}}static{this.\u0275dir=Yn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function rI(n,t){n.context.$implicit=t.item}var Cr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Qv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){iI("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){iI("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Et(Ui),Et(co))}}static{this.\u0275dir=Yn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Qv=class{constructor(){this.$implicit=null,this.ngIf=null}};function iI(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Wi(t)}'.`)}var _c=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),l=i.indexOf("-")===-1?void 0:ps.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Nv),Et(Zs))}}static{this.\u0275dir=Yn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),om=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(Et(Ui))}}static{this.\u0275dir=Yn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Qi]})}}return n})();var es=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({})}}return n})(),Xv="browser",$L="server";function uI(n){return n===Xv}function Jv(n){return n===$L}var rm=class{};var ty=class{};var yc=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let l=this.headers.get(e);if(!l)return;l=l.filter(f=>o.indexOf(f)===-1),l.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}break}}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ny=class{encodeKey(t){return dI(t)}encodeValue(t){return dI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function WL(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[l,f]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],u=e.get(l)||[];u.push(f),e.set(l,u)}),e}var KL=/%(\d[a-f0-9])/gi,QL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dI(n){return encodeURIComponent(n).replace(KL,(t,e)=>QL[e]??t)}function sm(n){return`${n}`}var ga=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ny,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=WL(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(sm):[sm(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(sm(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(sm(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var ry=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function XL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hI(n){return typeof Blob<"u"&&n instanceof Blob}function mI(n){return typeof FormData<"u"&&n instanceof FormData}function JL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Uu=class n{constructor(t,e,r,i){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(XL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new yc),this.context||(this.context=new ry),!this.params)this.params=new ga,this.urlWithParams=e;else{let l=this.params.toString();if(l.length===0)this.urlWithParams=e;else{let f=e.indexOf("?"),u=f===-1?"?":f<e.length-1?"&":"";this.urlWithParams=e+u+l}}}serializeBody(){return this.body===null?null:fI(this.body)||hI(this.body)||mI(this.body)||JL(this.body)||typeof this.body=="string"?this.body:this.body instanceof ga?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mI(this.body)?null:hI(this.body)?this.body.type||null:fI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ga?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.body!==void 0?t.body:this.body,l=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,f=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((p,E)=>p.set(E,t.setHeaders[E]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((p,E)=>p.set(E,t.setParams[E]),c)),new n(e,r,o,{params:c,headers:u,context:d,reportProgress:f,responseType:i,withCredentials:l})}},pI=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(pI||{}),iy=class{constructor(t,e=200,r="OK"){this.headers=t.headers||new yc,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var oy=class n extends iy{constructor(t={}){super(t),this.type=pI.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};function ey(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var gI=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Uu)o=e;else{let u;i.headers instanceof yc?u=i.headers:u=new yc(i.headers);let c;i.params&&(i.params instanceof ga?c=i.params:c=new ga({fromObject:i.params})),o=new Uu(e,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let l=Fn(o).pipe(na(u=>this.handler.handle(u)));if(e instanceof Uu||i.observe==="events")return l;let f=l.pipe(Rr(u=>u instanceof oy));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe(jn(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return f.pipe(jn(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return f.pipe(jn(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return f.pipe(jn(u=>u.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new ga().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,ey(i,r))}post(e,r,i={}){return this.request("POST",e,ey(i,r))}put(e,r,i={}){return this.request("PUT",e,ey(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Ut(ty))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})();var ly=class extends nm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},cy=class n extends ly{static makeCurrent(){oI(new n)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=t2();return e==null?null:n2(e)}resetBaseElement(){ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return cI(document.cookie,t)}},ju=null;function t2(){return ju=ju||document.querySelector("base"),ju?ju.getAttribute("href"):null}function n2(n){return new URL(n,document.baseURI).pathname}var r2=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})(),uy=new pn("EventManagerPlugins"),yI=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new dn(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||n)(Ut(uy),Ut(Pn))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})(),am=class{constructor(t){this._doc=t}},sy="ng-app-id",bI=(()=>{class n{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jv(o),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${sy}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){let i=this.styleRef;if(i.has(e)){let o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(sy),o;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(sy,this.appId),e.appendChild(l),l}}addStyleToHost(e,r){let i=this.getStyleElement(e,r),o=this.styleRef,l=o.get(r)?.elements;l?l.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn),Ut(Pu),Ut(ku,8),Ut(ma))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})(),ay={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fy=/%COMP%/g,EI="%COMP%",i2=`_nghost-${EI}`,o2=`_ngcontent-${EI}`,s2=!0,a2=new pn("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>s2});function l2(n){return o2.replace(fy,n)}function c2(n){return i2.replace(fy,n)}function wI(n,t){return t.map(e=>e.replace(fy,n))}var lm=(()=>{class n{constructor(e,r,i,o,l,f,u,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=f,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Jv(f),this.defaultRenderer=new Vu(e,l,u,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fs.ShadowDom&&(r=Sr(on({},r),{encapsulation:fs.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof cm?i.applyToHost(e):i instanceof Zu&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let l=this.doc,f=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case fs.Emulated:o=new cm(u,c,r,this.appId,d,l,f,p);break;case fs.ShadowDom:return new dy(u,c,e,r,l,f,this.nonce,p);default:o=new Zu(u,c,r,d,l,f,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Ut(yI),Ut(bI),Ut(Pu),Ut(a2),Ut(Hn),Ut(ma),Ut(Pn),Ut(ku))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})(),Vu=class{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ay[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(_I(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(_I(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new dn(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=ay[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=ay[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(ps.DashCase|ps.Important)?t.style.setProperty(e,r,i&ps.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&ps.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if(typeof t=="string"&&(t=zs().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function _I(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var dy=class extends Vu{constructor(t,e,r,i,o,l,f,u){super(t,o,l,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=wI(i.id,i.styles);for(let d of c){let p=document.createElement("style");f&&p.setAttribute("nonce",f),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zu=class extends Vu{constructor(t,e,r,i,o,l,f,u){super(t,o,l,f),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=u?wI(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cm=class extends Zu{constructor(t,e,r,i,o,l,f,u){let c=i+"-"+r.id;super(t,e,r,o,l,f,u,c),this.contentAttr=l2(c),this.hostAttr=c2(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},u2=(()=>{class n extends am{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})(),vI=["alt","control","meta","shift"],d2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},h2=(()=>{class n extends am{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i){let o=n.parseEventName(r),l=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zs().onAndCancel(e,o.domEventName,l))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),vI.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),l+=c+".")}),l+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=l,u}static matchEventFullKeyCode(e,r){let i=d2[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),vI.forEach(l=>{if(l!==i){let f=f2[l];f(e)&&(o+=l+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})();function TI(n,t){return JC(on({rootComponent:n},m2(t)))}function m2(n){return{appProviders:[...y2,...n?.providers??[]],platformProviders:v2}}function p2(){cy.makeCurrent()}function g2(){return new lo}function _2(){return RS(document),document}var v2=[{provide:ma,useValue:Xv},{provide:Sv,useValue:p2,multi:!0},{provide:Hn,useFactory:_2,deps:[]}];var y2=[{provide:Bh,useValue:"root"},{provide:lo,useFactory:g2,deps:[]},{provide:uy,useClass:u2,multi:!0,deps:[Hn,Pn,ma]},{provide:uy,useClass:h2,multi:!0,deps:[Hn]},lm,bI,yI,{provide:rl,useExisting:lm},{provide:rm,useClass:r2,deps:[]},[]];function b2(){return new hy(Ut(Hn))}var hy=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn))}}static{this.\u0275prov=Gt({token:n,factory:function(r){let i=null;return r?i=new r:i=b2(),i},providedIn:"root"})}}return n})();var _i=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Ut(SI),i},providedIn:"root"})}}return n})();function E2(n){return new SI(n.get(Hn))}var SI=(()=>{class n extends _i{constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case Wr.NONE:return r;case Wr.HTML:return vs(r,"HTML")?_o(r):xv(this._doc,String(r)).toString();case Wr.STYLE:return vs(r,"Style")?_o(r):r;case Wr.SCRIPT:if(vs(r,"Script"))return _o(r);throw new dn(5200,!1);case Wr.URL:return vs(r,"URL")?_o(r):Zh(String(r));case Wr.RESOURCE_URL:if(vs(r,"ResourceURL"))return _o(r);throw new dn(5201,!1);default:throw new dn(5202,!1)}}bypassSecurityTrustHtml(e){return YS(e)}bypassSecurityTrustStyle(e){return $S(e)}bypassSecurityTrustScript(e){return WS(e)}bypassSecurityTrustUrl(e){return KS(e)}bypassSecurityTrustResourceUrl(e){return QS(e)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn))}}static{this.\u0275prov=Gt({token:n,factory:function(r){let i=null;return r?i=new r:i=E2(Ut(Bi)),i},providedIn:"root"})}}return n})();var rr="primary",rd=Symbol("RouteTitle"),vy=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Sc(n){return new vy(n)}function w2(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let l=r[o],f=n[o];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function T2(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Es(n[e],t[e]))return!1;return!0}function Es(n,t){let e=n?yy(n):void 0,r=t?yy(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!MI(n[i],t[i]))return!1;return!0}function yy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function MI(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function ba(n){return Bf(n)?n:fl(n)?$r(Promise.resolve(n)):Fn(n)}var S2={exact:NI,subset:OI},RI={exact:C2,subset:I2,ignored:()=>!0};function CI(n,t,e){return S2[e.paths](n.root,t.root,e.matrixParams)&&RI[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function C2(n,t){return Es(n,t)}function NI(n,t,e){if(!gl(n.segments,t.segments)||!hm(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!NI(n.children[r],t.children[r],e))return!1;return!0}function I2(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>MI(n[e],t[e]))}function OI(n,t,e){return PI(n,t,t.segments,e)}function PI(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!gl(i,e)||t.hasChildren()||!hm(i,e,r))}else if(n.segments.length===e.length){if(!gl(n.segments,e)||!hm(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!OI(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!gl(n.segments,i)||!hm(n.segments,i,r)||!n.children[rr]?!1:PI(n.children[rr],t,o,r)}}function hm(n,t,e){return t.every((r,i)=>RI[e](n[i].parameters,r.parameters))}var _a=class{constructor(t=new Nr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sc(this.queryParams)),this._queryParamMap}toString(){return x2.serialize(this)}},Nr=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mm(this)}},pl=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Sc(this.parameters)),this._parameterMap}toString(){return FI(this)}};function D2(n,t){return gl(n,t)&&n.every((e,r)=>Es(e.parameters,t[r].parameters))}function gl(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function A2(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===rr&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==rr&&(e=e.concat(t(i,r)))}),e}var zy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:()=>(()=>new gm)(),providedIn:"root"})}}return n})(),gm=class{parse(t){let e=new Ey(t);return new _a(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Hu(t.root,!0)}`,r=N2(t.queryParams),i=typeof t.fragment=="string"?`#${M2(t.fragment)}`:"";return`${e}${r}${i}`}},x2=new gm;function mm(n){return n.segments.map(t=>FI(t)).join("/")}function Hu(n,t){if(!n.hasChildren())return mm(n);if(t){let e=n.children[rr]?Hu(n.children[rr],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==rr&&r.push(`${i}:${Hu(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=A2(n,(r,i)=>i===rr?[Hu(n.children[rr],!1)]:[`${i}:${Hu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[rr]!=null?`${mm(n)}/${e[0]}`:`${mm(n)}/(${e.join("//")})`}}function kI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dm(n){return kI(n).replace(/%3B/gi,";")}function M2(n){return encodeURI(n)}function by(n){return kI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pm(n){return decodeURIComponent(n)}function II(n){return pm(n.replace(/\+/g,"%20"))}function FI(n){return`${by(n.path)}${R2(n.parameters)}`}function R2(n){return Object.entries(n).map(([t,e])=>`;${by(t)}=${by(e)}`).join("")}function N2(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${dm(e)}=${dm(i)}`).join("&"):`${dm(e)}=${dm(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var O2=/^[^\/()?;#]+/;function my(n){let t=n.match(O2);return t?t[0]:""}var P2=/^[^\/()?;=#]+/;function k2(n){let t=n.match(P2);return t?t[0]:""}var F2=/^[^=?&#]+/;function L2(n){let t=n.match(F2);return t?t[0]:""}var B2=/^[^&#]+/;function U2(n){let t=n.match(B2);return t?t[0]:""}var Ey=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nr([],{}):new Nr([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[rr]=new Nr(t,e)),r}parseSegment(){let t=my(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new dn(4009,!1);return this.capture(t),new pl(pm(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=k2(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=my(this.remaining);i&&(r=i,this.capture(r))}t[pm(e)]=pm(r)}parseQueryParam(t){let e=L2(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let l=U2(this.remaining);l&&(r=l,this.capture(r))}let i=II(e),o=II(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=my(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new dn(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=rr);let l=this.parseChildren();e[o]=Object.keys(l).length===1?l[rr]:new Nr([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new dn(4011,!1)}};function LI(n){return n.segments.length>0?new Nr([],{[rr]:n}):n}function BI(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=BI(i);if(r===rr&&o.segments.length===0&&o.hasChildren())for(let[l,f]of Object.entries(o.children))t[l]=f;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new Nr(n.segments,t);return j2(e)}function j2(n){if(n.numberOfChildren===1&&n.children[rr]){let t=n.children[rr];return new Nr(n.segments.concat(t.segments),t.children)}return n}function Cc(n){return n instanceof _a}function V2(n,t,e=null,r=null){let i=UI(n);return jI(i,t,e,r)}function UI(n){let t;function e(o){let l={};for(let u of o.children){let c=e(u);l[u.outlet]=c}let f=new Nr(o.url,l);return o===n&&(t=f),f}let r=e(n.root),i=LI(r);return t??i}function jI(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return py(i,i,i,e,r);let o=Z2(t);if(o.toRoot())return py(i,i,new Nr([],{}),e,r);let l=H2(o,i,n),f=l.processChildren?qu(l.segmentGroup,l.index,o.commands):ZI(l.segmentGroup,l.index,o.commands);return py(i,l.segmentGroup,f,e,r)}function _m(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Wu(n){return typeof n=="object"&&n!=null&&n.outlets}function py(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let l;n===t?l=e:l=VI(n,t,e);let f=LI(BI(l));return new _a(f,o,i)}function VI(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=VI(o,t,e)}),new Nr(n.segments,r)}var vm=class{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&_m(r[0]))throw new dn(4003,!1);let i=r.find(Wu);if(i&&i!==r.at(-1))throw new dn(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Z2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new vm(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,l)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let f={};return Object.entries(o.outlets).forEach(([u,c])=>{f[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:l===0?(o.split("/").forEach((f,u)=>{u==0&&f==="."||(u==0&&f===""?e=!0:f===".."?t++:f!=""&&i.push(f))}),i):[...i,o]},[]);return new vm(e,t,r)}var wc=class{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function H2(n,t,e){if(n.isAbsolute)return new wc(t,!0,0);if(!e)return new wc(t,!1,NaN);if(e.parent===null)return new wc(e,!0,0);let r=_m(n.commands[0])?0:1,i=e.segments.length-1+r;return z2(e,i,n.numberOfDoubleDots)}function z2(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new dn(4005,!1);i=r.segments.length}return new wc(r,!1,i-o)}function G2(n){return Wu(n[0])?n[0].outlets:{[rr]:n}}function ZI(n,t,e){if(n||(n=new Nr([],{})),n.segments.length===0&&n.hasChildren())return qu(n,t,e);let r=q2(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Nr(n.segments.slice(0,r.pathIndex),{});return o.children[rr]=new Nr(n.segments.slice(r.pathIndex),n.children),qu(o,0,i)}else return r.match&&i.length===0?new Nr(n.segments,{}):r.match&&!n.hasChildren()?wy(n,t,e):r.match?qu(n,0,i):wy(n,t,e)}function qu(n,t,e){if(e.length===0)return new Nr(n.segments,{});{let r=G2(e),i={};if(Object.keys(r).some(o=>o!==rr)&&n.children[rr]&&n.numberOfChildren===1&&n.children[rr].segments.length===0){let o=qu(n.children[rr],t,e);return new Nr(n.segments,o.children)}return Object.entries(r).forEach(([o,l])=>{typeof l=="string"&&(l=[l]),l!==null&&(i[o]=ZI(n.children[o],t,l))}),Object.entries(n.children).forEach(([o,l])=>{r[o]===void 0&&(i[o]=l)}),new Nr(n.segments,i)}}function q2(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let l=n.segments[i],f=e[r];if(Wu(f))break;let u=`${f}`,c=r<e.length-1?e[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!AI(u,c,l))return o;r+=2}else{if(!AI(u,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wy(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(Wu(o)){let u=Y2(o.outlets);return new Nr(r,u)}if(i===0&&_m(e[0])){let u=n.segments[t];r.push(new pl(u.path,DI(e[0]))),i++;continue}let l=Wu(o)?o.outlets[rr]:`${o}`,f=i<e.length-1?e[i+1]:null;l&&f&&_m(f)?(r.push(new pl(l,DI(f))),i+=2):(r.push(new pl(l,{})),i++)}return new Nr(r,{})}function Y2(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=wy(new Nr([],{}),0,r))}),t}function DI(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function AI(n,t,e){return n==e.path&&Es(t,e.parameters)}var Yu="imperative",No=class{constructor(t,e){this.id=t,this.url=e}},Ku=class extends No{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},va=class extends No{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ya=class extends No{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_l=class extends No{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}},Qu=class extends No{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ym=class extends No{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ty=class extends No{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sy=class extends No{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cy=class extends No{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iy=class extends No{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dy=class{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ay=class{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xy=class{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},My=class{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ry=class{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ny=class{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xu=class{},Ju=class{constructor(t){this.url=t}};var Oy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cm,this.attachRef=null}},Cm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Oy,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bm=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Py(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Py(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=ky(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return ky(t,this._root).map(e=>e.value)}};function Py(n,t){if(n===t.value)return t;for(let e of t.children){let r=Py(n,e);if(r)return r}return null}function ky(n,t){if(n===t.value)return[t];for(let e of t.children){let r=ky(n,e);if(r.length)return r.unshift(t),r}return[]}var vo=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ec(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Em=class extends bm{constructor(t,e){super(t),this.snapshot=e,qy(this,t)}toString(){return this.snapshot.toString()}};function HI(n){let t=$2(n),e=new mi([new pl("",{})]),r=new mi({}),i=new mi({}),o=new mi({}),l=new mi(""),f=new no(e,r,o,l,i,rr,n,t.root);return f.snapshot=t.root,new Em(new vo(f,[]),t)}function $2(n){let t={},e={},r={},i="",o=new ed([],t,r,i,e,rr,n,null,{});return new wm("",new vo(o,[]))}var no=class{constructor(t,e,r,i,o,l,f,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=f,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(jn(c=>c[rd]))??Fn(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(jn(t=>Sc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(jn(t=>Sc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gy(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:on(on({},t.params),n.params),data:on(on({},t.data),n.data),resolve:on(on(on(on({},n.data),t.data),i?.data),n._resolvedData)}:r={params:on({},n.params),data:on({},n.data),resolve:on(on({},n.data),n._resolvedData??{})},i&&GI(i)&&(r.resolve[rd]=i.title),r}var ed=class{get title(){return this.data?.[rd]}constructor(t,e,r,i,o,l,f,u,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=f,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sc(this.queryParams)),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},wm=class extends bm{constructor(t,e){super(e),this.url=t,qy(this,e)}toString(){return zI(this._root)}};function qy(n,t){t.value._routerState=n,t.children.forEach(e=>qy(n,e))}function zI(n){let t=n.children.length>0?` { ${n.children.map(zI).join(", ")} } `:"";return`${n.value}${t}`}function gy(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Es(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Es(t.params,e.params)||n.paramsSubject.next(e.params),T2(t.url,e.url)||n.urlSubject.next(e.url),Es(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fy(n,t){let e=Es(n.params,t.params)&&D2(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Fy(n.parent,t.parent))}function GI(n){return typeof n.title=="string"||n.title===null}var Yy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=rr,this.activateEvents=new mr,this.deactivateEvents=new mr,this.attachEvents=new mr,this.detachEvents=new mr,this.parentContexts=pt(Cm),this.location=pt(Ui),this.changeDetector=pt(Yr),this.environmentInjector=pt(po),this.inputBinder=pt($y,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dn(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new dn(4013,!1);this._activatedRoute=e;let i=this.location,l=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,u=new Ly(e,f,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Yn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qi]})}}return n})(),Ly=class{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===no?this.route:t===Cm?this.childContexts:this.parent.get(t,e)}},$y=new pn("");function W2(n,t,e){let r=td(n,t._root,e?e._root:void 0);return new Em(r,t)}function td(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=K2(n,t,e);return new vo(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(f=>td(n,f)),l}}let r=Q2(t.value),i=t.children.map(o=>td(n,o));return new vo(r,i)}}function K2(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return td(n,r,i);return td(n,r)})}function Q2(n){return new no(new mi(n.url),new mi(n.params),new mi(n.queryParams),new mi(n.fragment),new mi(n.data),n.outlet,n.component,n)}var qI="ngNavigationCancelingError";function YI(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=Cc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=$I(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function $I(n,t,e){let r=new Error("NavigationCancelingError: "+(n||""));return r[qI]=!0,r.cancellationCode=t,e&&(r.url=e),r}function X2(n){return WI(n)&&Cc(n.url)}function WI(n){return n&&n[qI]}var J2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ln],decls:1,vars:0,template:function(r,i){r&1&&mn(0,"router-outlet")},dependencies:[Yy],encapsulation:2})}}return n})();function eB(n,t){return n.providers&&!n._injector&&(n._injector=Gv(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Wy(n){let t=n.children&&n.children.map(Wy),e=t?Sr(on({},n),{children:t}):on({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==rr&&(e.component=J2),e}function ws(n){return n.outlet||rr}function tB(n,t){let e=n.filter(r=>ws(r)===t);return e.push(...n.filter(r=>ws(r)!==t)),e}function id(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var nB=(n,t,e,r)=>jn(i=>(new By(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),By=class{constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),gy(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Ec(e);t.children.forEach(o=>{let l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ec(t);for(let l of Object.values(o))this.deactivateRouteAndItsChildren(l,i);if(r&&r.outlet){let l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ec(t);for(let l of Object.values(o))this.deactivateRouteAndItsChildren(l,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Ec(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ny(o.value.snapshot))}),t.children.length&&this.forwardEvent(new My(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(gy(i),i===o)if(i.component){let l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),gy(f.route.value),this.activateChildRoutes(t,null,l.children)}else{let f=id(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}},Tm=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Tc=class{constructor(t,e){this.component=t,this.route=e}};function rB(n,t,e){let r=n._root,i=t?t._root:null;return zu(r,i,e,[r.value])}function iB(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Dc(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!IT(n)?n:t.get(n):r}function zu(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ec(t);return n.children.forEach(l=>{oB(l,o[l.value.outlet],e,r.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,f])=>$u(f,e.getContext(l),i)),i}function oB(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,l=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){let u=sB(l,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Tm(r)):(o.data=l.data,o._resolvedData=l._resolvedData),o.component?zu(n,t,f?f.children:null,r,i):zu(n,t,e,r,i),u&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Tc(f.outlet.component,l))}else l&&$u(t,f,i),i.canActivateChecks.push(new Tm(r)),o.component?zu(n,null,f?f.children:null,r,i):zu(n,null,e,r,i);return i}function sB(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!gl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!gl(n.url,t.url)||!Es(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fy(n,t)||!Es(n.queryParams,t.queryParams);case"paramsChange":default:return!Fy(n,t)}}function $u(n,t,e){let r=Ec(n),i=n.value;Object.entries(r).forEach(([o,l])=>{i.component?t?$u(l,t.children.getContext(o),e):$u(l,null,e):$u(l,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Tc(t.outlet.component,i)):e.canDeactivateChecks.push(new Tc(null,i)):e.canDeactivateChecks.push(new Tc(null,i))}function od(n){return typeof n=="function"}function aB(n){return typeof n=="boolean"}function lB(n){return n&&od(n.canLoad)}function cB(n){return n&&od(n.canActivate)}function uB(n){return n&&od(n.canActivateChild)}function dB(n){return n&&od(n.canDeactivate)}function fB(n){return n&&od(n.canMatch)}function KI(n){return n instanceof ks||n?.name==="EmptyError"}var fm=Symbol("INITIAL_VALUE");function Ic(){return Li(n=>Xl(n.map(t=>t.pipe(qr(1),ls(fm)))).pipe(jn(t=>{for(let e of t)if(e!==!0){if(e===fm)return fm;if(e===!1||e instanceof _a)return e}return!0}),Rr(t=>t!==fm),qr(1)))}function hB(n,t){return Jr(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return l.length===0&&o.length===0?Fn(Sr(on({},e),{guardsResult:!0})):mB(l,r,i,n).pipe(Jr(f=>f&&aB(f)?pB(r,o,n,t):Fn(f)),jn(f=>Sr(on({},e),{guardsResult:f})))})}function mB(n,t,e,r){return $r(n).pipe(Jr(i=>bB(i.component,i.route,e,t,r)),as(i=>i!==!0,!0))}function pB(n,t,e,r){return $r(t).pipe(na(i=>os(_B(i.route.parent,r),gB(i.route,r),yB(n,i.path,e),vB(n,i.route,e))),as(i=>i!==!0,!0))}function gB(n,t){return n!==null&&t&&t(new Ry(n)),Fn(!0)}function _B(n,t){return n!==null&&t&&t(new xy(n)),Fn(!0)}function vB(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Fn(!0);let i=r.map(o=>Vf(()=>{let l=id(t)??e,f=Dc(o,l),u=cB(f)?f.canActivate(t,n):cl(l,()=>f(t,n));return ba(u).pipe(as())}));return Fn(i).pipe(Ic())}function yB(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>iB(l)).filter(l=>l!==null).map(l=>Vf(()=>{let f=l.guards.map(u=>{let c=id(l.node)??e,d=Dc(u,c),p=uB(d)?d.canActivateChild(r,n):cl(c,()=>d(r,n));return ba(p).pipe(as())});return Fn(f).pipe(Ic())}));return Fn(o).pipe(Ic())}function bB(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Fn(!0);let l=o.map(f=>{let u=id(t)??i,c=Dc(f,u),d=dB(c)?c.canDeactivate(n,t,e,r):cl(u,()=>c(n,t,e,r));return ba(d).pipe(as())});return Fn(l).pipe(Ic())}function EB(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return Fn(!0);let o=i.map(l=>{let f=Dc(l,n),u=lB(f)?f.canLoad(t,e):cl(n,()=>f(t,e));return ba(u)});return Fn(o).pipe(Ic(),QI(r))}function QI(n){return Ag(ar(t=>{if(Cc(t))throw YI(n,t)}),jn(t=>t===!0))}function wB(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return Fn(!0);let o=i.map(l=>{let f=Dc(l,n),u=fB(f)?f.canMatch(t,e):cl(n,()=>f(t,e));return ba(u)});return Fn(o).pipe(Ic(),QI(r))}var nd=class{constructor(t){this.segmentGroup=t||null}},Sm=class extends Error{constructor(t){super(),this.urlTree=t}};function bc(n){return ta(new nd(n))}function TB(n){return ta(new dn(4e3,!1))}function SB(n){return ta($I(!1,3))}var Uy=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Fn(r);if(i.numberOfChildren>1||!i.children[rr])return TB(t.redirectTo);i=i.children[rr]}}applyRedirectCommands(t,e,r){let i=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e.startsWith("/"))throw new Sm(i);return i}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new _a(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let f=o.substring(1);r[i]=e[f]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),l={};return Object.entries(e.children).forEach(([f,u])=>{l[f]=this.createSegmentGroup(t,u,r,i)}),new Nr(o,l)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new dn(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},jy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CB(n,t,e,r,i){let o=Ky(n,t,e);return o.matched?(r=eB(t,r),wB(r,t,e,i).pipe(jn(l=>l===!0?o:on({},jy)))):Fn(o)}function Ky(n,t,e){if(t.path==="**")return IB(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?on({},jy):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||w2)(e,n,t);if(!i)return on({},jy);let o={};Object.entries(i.posParams??{}).forEach(([f,u])=>{o[f]=u.path});let l=i.consumed.length>0?on(on({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function IB(n){return{matched:!0,parameters:n.at(-1)?.parameters??{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function xI(n,t,e,r){return e.length>0&&xB(n,e,r)?{segmentGroup:new Nr(t,AB(r,new Nr(e,n.children))),slicedSegments:[]}:e.length===0&&MB(n,e,r)?{segmentGroup:new Nr(n.segments,DB(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Nr(n.segments,n.children),slicedSegments:e}}function DB(n,t,e,r){let i={};for(let o of e)if(Im(n,t,o)&&!r[ws(o)]){let l=new Nr([],{});i[ws(o)]=l}return on(on({},r),i)}function AB(n,t){let e={};e[rr]=t;for(let r of n)if(r.path===""&&ws(r)!==rr){let i=new Nr([],{});e[ws(r)]=i}return e}function xB(n,t,e){return e.some(r=>Im(n,t,r)&&ws(r)!==rr)}function MB(n,t,e){return e.some(r=>Im(n,t,r))}function Im(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function RB(n,t,e,r){return ws(n)!==r&&(r===rr||!Im(t,e,n))?!1:Ky(t,n,e).matched}function NB(n,t,e){return t.length===0&&!n.children[e]}var Vy=class{};function OB(n,t,e,r,i,o,l="emptyOnly"){return new Zy(n,t,e,r,i,l,o).recognize()}var PB=31,Zy=class{constructor(t,e,r,i,o,l,f){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.applyRedirects=new Uy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new dn(4002,`'${t.segmentGroup}'`)}recognize(){let t=xI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(jn(e=>{let r=new ed([],Object.freeze({}),Object.freeze(on({},this.urlTree.queryParams)),this.urlTree.fragment,{},rr,this.rootComponentType,null,{}),i=new vo(r,e),o=new wm("",i),l=V2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root,null),{state:o,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,rr).pipe(ss(r=>{if(r instanceof Sm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nd?this.noMatchError(r):r}))}inheritParamsAndData(t,e){let r=t.value,i=Gy(r,e,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,e,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i,!0).pipe(jn(o=>o instanceof vo?[o]:[]))}processChildren(t,e,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return $r(i).pipe(na(o=>{let l=r.children[o],f=tB(e,o);return this.processSegmentGroup(t,f,l,o)}),Lg((o,l)=>(o.push(...l),o)),ra(null),Fg(),Jr(o=>{if(o===null)return bc(r);let l=XI(o);return kB(l),Fn(l)}))}processSegment(t,e,r,i,o,l){return $r(e).pipe(na(f=>this.processSegmentAgainstRoute(f._injector??t,e,f,r,i,o,l).pipe(ss(u=>{if(u instanceof nd)return Fn(null);throw u}))),as(f=>!!f),ss(f=>{if(KI(f))return NB(r,i,o)?Fn(new Vy):bc(r);throw f}))}processSegmentAgainstRoute(t,e,r,i,o,l,f){return RB(r,i,o,l)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,l):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,l):bc(i):bc(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){let{matched:f,consumedSegments:u,positionalParamSegments:c,remainingSegments:d}=Ky(e,i,o);if(!f)return bc(e);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>PB&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,p).pipe(Jr(E=>this.processSegment(t,r,e,E.concat(d),l,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){let l=CB(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),l.pipe(Li(f=>f.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Li(({routes:u})=>{let c=r._loadedInjector??t,{consumedSegments:d,remainingSegments:p,parameters:E}=f,m=new ed(d,E,Object.freeze(on({},this.urlTree.queryParams)),this.urlTree.fragment,LB(r),ws(r),r.component??r._loadedComponent??null,r,BB(r)),{segmentGroup:C,slicedSegments:S}=xI(e,d,p,u);if(S.length===0&&C.hasChildren())return this.processChildren(c,u,C).pipe(jn(v=>v===null?null:new vo(m,v)));if(u.length===0&&S.length===0)return Fn(new vo(m,[]));let h=ws(r)===o;return this.processSegment(c,u,C,S,h?rr:o,!0).pipe(jn(v=>new vo(m,v instanceof vo?[v]:[])))}))):bc(e)))}getChildConfig(t,e,r){return e.children?Fn({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Fn({routes:e._loadedRoutes,injector:e._loadedInjector}):EB(t,e,r,this.urlSerializer).pipe(Jr(i=>i?this.configLoader.loadChildren(t,e).pipe(ar(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):SB(e))):Fn({routes:[],injector:t})}};function kB(n){n.sort((t,e)=>t.value.outlet===rr?-1:e.value.outlet===rr?1:t.value.outlet.localeCompare(e.value.outlet))}function FB(n){let t=n.value.routeConfig;return t&&t.path===""}function XI(n){let t=[],e=new Set;for(let r of n){if(!FB(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=XI(r.children);t.push(new vo(r.value,i))}return t.filter(r=>!e.has(r))}function LB(n){return n.data||{}}function BB(n){return n.resolve||{}}function UB(n,t,e,r,i,o){return Jr(l=>OB(n,t,e,r,l.extractedUrl,i,o).pipe(jn(({state:f,tree:u})=>Sr(on({},l),{targetSnapshot:f,urlAfterRedirects:u}))))}function jB(n,t){return Jr(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Fn(e);let o=new Set(i.map(u=>u.route)),l=new Set;for(let u of o)if(!l.has(u))for(let c of JI(u))l.add(c);let f=0;return $r(l).pipe(na(u=>o.has(u)?VB(u,r,n,t):(u.data=Gy(u,u.parent,n).resolve,Fn(void 0))),ar(()=>f++),ec(1),Jr(u=>f===l.size?Fn(e):Fi))})}function JI(n){let t=n.children.map(e=>JI(e)).flat();return[n,...t]}function VB(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!GI(i)&&(o[rd]=i.title),ZB(o,n,t,r).pipe(jn(l=>(n._resolvedData=l,n.data=Gy(n,n.parent,e).resolve,null)))}function ZB(n,t,e,r){let i=yy(n);if(i.length===0)return Fn({});let o={};return $r(i).pipe(Jr(l=>HB(n[l],t,e,r).pipe(as(),ar(f=>{o[l]=f}))),ec(1),hu(o),ss(l=>KI(l)?Fi:ta(l)))}function HB(n,t,e,r){let i=id(t)??r,o=Dc(n,i),l=o.resolve?o.resolve(t,e):cl(i,()=>o(t,e));return ba(l)}function _y(n){return Li(t=>{let e=n(t);return e?$r(e).pipe(jn(()=>t)):Fn(t)})}var eD=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===rr);return r}getResolvedTitleForRoute(e){return e.data[rd]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:()=>(()=>pt(zB))(),providedIn:"root"})}}return n})(),zB=(()=>{class n extends eD{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Ut(hy))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qy=new pn("",{providedIn:"root",factory:()=>({})}),Xy=new pn("ROUTES"),GB=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=pt(qv)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Fn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=ba(e.loadComponent()).pipe(jn(tD),ar(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ia(()=>{this.componentLoaders.delete(e)})),i=new ql(r,()=>new kn).pipe(Gl());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Fn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qB(r,this.compiler,e,this.onLoadEndListener).pipe(ia(()=>{this.childrenLoaders.delete(r)})),l=new ql(o,()=>new kn).pipe(Gl());return this.childrenLoaders.set(r,l),l}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qB(n,t,e,r){return ba(n.loadChildren()).pipe(jn(tD),Jr(i=>i instanceof Du||Array.isArray(i)?Fn(i):$r(t.compileModuleAsync(i))),jn(i=>{r&&r(n);let o,l,f=!1;return Array.isArray(i)?(l=i,f=!0):(o=i.create(e).injector,l=o.get(Xy,[],{optional:!0,self:!0}).flat()),{routes:l.map(Wy),injector:o}}))}function YB(n){return n&&typeof n=="object"&&"default"in n}function tD(n){return YB(n)?n.default:n}var Jy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:()=>(()=>pt($B))(),providedIn:"root"})}}return n})(),$B=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WB=new pn("");var KB=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kn,this.transitionAbortSubject=new kn,this.configLoader=pt(GB),this.environmentInjector=pt(po),this.urlSerializer=pt(zy),this.rootContexts=pt(Cm),this.location=pt(ml),this.inputBindingEnabled=pt($y,{optional:!0})!==null,this.titleStrategy=pt(eD),this.options=pt(Qy,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=pt(Jy),this.createViewTransition=pt(WB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Fn(void 0),this.rootComponentType=null;let e=i=>this.events.next(new Dy(i)),r=i=>this.events.next(new Ay(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(Sr(on(on({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new mi({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rr(o=>o.id!==0),jn(o=>Sr(on({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Li(o=>{this.currentTransition=o;let l=!1,f=!1;return Fn(o).pipe(ar(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Sr(on({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Li(u=>{let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let p="";return this.events.next(new _l(u.id,this.urlSerializer.serialize(u.rawUrl),p,0)),u.resolve(null),Fi}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Fn(u).pipe(Li(p=>{let E=this.transitions?.getValue();return this.events.next(new Ku(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),E!==this.transitions?.getValue()?Fi:Promise.resolve(p)}),UB(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ar(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Sr(on({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let E=new ym(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(E)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:E,source:m,restoredState:C,extras:S}=u,h=new Ku(p,this.urlSerializer.serialize(E),m,C);this.events.next(h);let v=HI(this.rootComponentType).snapshot;return this.currentTransition=o=Sr(on({},u),{targetSnapshot:v,urlAfterRedirects:E,extras:Sr(on({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,Fn(o)}else{let p="";return this.events.next(new _l(u.id,this.urlSerializer.serialize(u.extractedUrl),p,1)),u.resolve(null),Fi}}),ar(u=>{let c=new Ty(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),jn(u=>(this.currentTransition=o=Sr(on({},u),{guards:rB(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),hB(this.environmentInjector,u=>this.events.next(u)),ar(u=>{if(o.guardsResult=u.guardsResult,Cc(u.guardsResult))throw YI(this.urlSerializer,u.guardsResult);let c=new Sy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Rr(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),_y(u=>{if(u.guards.canActivateChecks.length)return Fn(u).pipe(ar(c=>{let d=new Cy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Li(c=>{let d=!1;return Fn(c).pipe(jB(this.paramsInheritanceStrategy,this.environmentInjector),ar({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),ar(c=>{let d=new Iy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),_y(u=>{let c=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(ar(E=>{d.component=E}),jn(()=>{})));for(let E of d.children)p.push(...c(E));return p};return Xl(c(u.targetSnapshot.root)).pipe(ra(null),qr(1))}),_y(()=>this.afterPreactivation()),Li(()=>{let{currentSnapshot:u,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return d?$r(d).pipe(jn(()=>o)):Fn(o)}),jn(u=>{let c=W2(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Sr(on({},u),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),ar(()=>{this.events.next(new Xu)}),nB(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),qr(1),ar({next:u=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new va(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{l=!0}}),xr(this.transitionAbortSubject.pipe(ar(u=>{throw u}))),ia(()=>{if(!l&&!f){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ss(u=>{if(f=!0,WI(u))this.events.next(new ya(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),X2(u)?this.events.next(new Ju(u.url)):o.resolve(!1);else{this.events.next(new Qu(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(u))}catch(c){o.reject(c)}}return Fi}))}))}cancelNavigationTransition(e,r,i){let o=new ya(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QB(n){return n!==Yu}var XB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:()=>(()=>pt(JB))(),providedIn:"root"})}}return n})(),Hy=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},JB=(()=>{class n extends Hy{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=ll(n)))(i||n)}})()}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:()=>(()=>pt(eU))(),providedIn:"root"})}}return n})(),eU=(()=>{class n extends nD{constructor(){super(...arguments),this.location=pt(ml),this.urlSerializer=pt(zy),this.options=pt(Qy,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=pt(Jy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _a,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=HI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Ku)this.stateMemento=this.createStateMemento();else if(e instanceof _l)this.rawUrlTree=r.initialUrl;else if(e instanceof ym){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else e instanceof Xu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):e instanceof ya&&(e.code===3||e.code===2)?this.restoreHistory(r):e instanceof Qu?this.restoreHistory(r,!0):e instanceof va&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,l=on(on({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",l)}else{let o=on(on({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=ll(n)))(i||n)}})()}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Gu||{});function tU(n,t){n.events.pipe(Rr(e=>e instanceof va||e instanceof ya||e instanceof Qu||e instanceof _l),jn(e=>e instanceof va||e instanceof _l?Gu.COMPLETE:(e instanceof ya?e.code===0||e.code===1:!1)?Gu.REDIRECTING:Gu.FAILED),Rr(e=>e!==Gu.REDIRECTING),qr(1)).subscribe(()=>{t()})}function nU(n){throw n}var rU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yo=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=pt(Xh),this.stateManager=pt(nD),this.options=pt(Qy,{optional:!0})||{},this.pendingTasks=pt(Jh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=pt(KB),this.urlSerializer=pt(zy),this.location=pt(ml),this.urlHandlingStrategy=pt(Jy),this._events=new kn,this.errorHandler=this.options.errorHandler||nU,this.navigated=!1,this.routeReuseStrategy=pt(XB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=pt(Xy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!pt($y,{optional:!0}),this.eventsSubscription=new pr,this.isNgZoneEnabled=pt(Pn)instanceof Pn&&Pn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ya&&r.code!==0&&r.code!==1)this.navigated=!0;else if(r instanceof va)this.navigated=!0;else if(r instanceof Ju){let l=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||QB(i.source)};this.scheduleNavigation(l,Yu,null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)}))}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},l=i?.navigationId?i:null;if(i){let u=on({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let f=this.parseUrl(e);this.scheduleNavigation(f,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Wy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:f,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:l,d=null;switch(f){case"merge":d=on(on({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let E=i?i.snapshot:this.routerState.snapshot.root;p=UI(E)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),p=this.currentUrlTree.root}return jI(p,e,d,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Cc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Yu,null,r)}navigate(e,r={skipLocationChange:!1}){return oU(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=on({},rU):r===!1?i=on({},iU):i=r,Cc(e))return CI(this.currentUrlTree,e,i);let o=this.parseUrl(e);return CI(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let f,u,c;l?(f=l.resolve,u=l.reject,c=l.promise):c=new Promise((p,E)=>{f=p,u=E});let d=this.pendingTasks.add();return tU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:f,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oU(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new dn(4008,!1)}function sU(n){return!(n instanceof Xu)&&!(n instanceof Ju)}var Oo=(()=>{class n{constructor(e,r,i,o,l,f){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new kn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof va&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,l){if(this.urlTree===null||this.isAnchorElement&&(e!==0||r||i||o||l||typeof this.target=="string"&&this.target!="_self"))return!0;let f={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,f),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let e=this.href===null?null:rC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Et(yo),Et(no),js("tabindex"),Et(Zs),Et(Un),Et(gc))}}static{this.\u0275dir=Yn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Tn("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),r&2&&br("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",gi],skipLocationChange:["skipLocationChange","skipLocationChange",gi],replaceUrl:["replaceUrl","replaceUrl",gi],routerLink:"routerLink"},standalone:!0,features:[uo,Qi]})}}return n})();var aU=new pn("");function rD(n,...t){return Lh([{provide:Xy,multi:!0,useValue:n},[],{provide:no,useFactory:lU,deps:[yo]},{provide:Yv,multi:!0,useFactory:cU},t.map(e=>e.\u0275providers)])}function lU(n){return n.routerState.root}function cU(){let n=pt(Bi);return t=>{let e=n.get(ys);if(t!==e.components[0])return;let r=n.get(yo),i=n.get(uU);n.get(dU)===1&&r.initialNavigation(),n.get(fU,null,lr.Optional)?.setUpPreloading(),n.get(aU,null,lr.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var uU=new pn("",{factory:()=>new kn}),dU=new pn("",{providedIn:"root",factory:()=>1});var fU=new pn("");var iD=(()=>{class n{#e=pt(_i);set data(e){this._data=e,this.#t()}#t(){let e=document.implementation.createHTMLDocument().createElement("p");e.innerHTML=this._data.embed,Array.from(e.getElementsByTagName("iframe")).forEach(r=>{r.setAttribute("loading","lazy"),r.style.position="relative",r.style.maxWidth="100vw"}),this._embed=this.#e.bypassSecurityTrustHtml(e.innerHTML)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(r,i){r&1&&mn(0,"div",0),r&2&&Ct("innerHTML",i._embed,Hh)},changeDetection:0})}}return n})();var mU=["gallery"];function pU(n,t){if(n&1){let e=Er();Ft(0,"figure")(1,"img",3),Tn("load",function(){ur(e);let i=un();return dr(i.onLoad())})("click",function(){let o=ur(e).$implicit,l=un();return dr(l.onClick(o.href))}),Lt()()}if(n&2){let e=t.$implicit,r=un();It(),Ct("src",e.src,Wo)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}var gU=n=>({"set-scrollbar":n}),oD=(()=>{class n{#e;set fig(e){e&&e.nativeElement&&(this.#e=e.nativeElement)}onLoad(){this.#e&&(this.#e.scrollLeft=0)}onClick(e){String.isNullOrWhitespace(e)||window.open(e,"_blank","noopener,noreferrer")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-body-image"]],viewQuery:function(r,i){if(r&1&&Qr(mU,5),r&2){let o;fr(o=hr())&&(i.fig=o.first)}},inputs:{data:"data"},standalone:!0,features:[Ln],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(r,i){r&1&&(Ft(0,"div",0,1),bn(2,pU,2,3,"figure",2),Lt()),r&2&&(Ct("ngClass",Ti(2,gU,i.data.images.length>1)),It(2),Ct("ngForOf",i.data.images))},dependencies:[bs,fo],changeDetection:0})}}return n})();var Dm=class{};var sD;(function(n){(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(n);typeof e.Reflect>"u"?e.Reflect=n:r=i(e.Reflect,r),t(r);function i(o,l){return function(f,u){typeof o[f]!="function"&&Object.defineProperty(o,f,{configurable:!0,writable:!0,value:u}),l&&l(f,u)}}})(function(t){var e=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",l=typeof Object.create=="function",f={__proto__:[]}instanceof Array,u=!l&&!f,c={create:l?function(){return Ye(Object.create(null))}:f?function(){return Ye({__proto__:null})}:function(){return Ye({})},has:u?function(we,Le){return e.call(we,Le)}:function(we,Le){return Le in we},get:u?function(we,Le){return e.call(we,Le)?we[Le]:void 0}:function(we,Le){return we[Le]}},d=Object.getPrototypeOf(Function),p=typeof process=="object"&&process["env"]&&process["env"].REFLECT_METADATA_USE_MAP_POLYFILL==="true",E=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:He(),m=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Ze(),C=!p&&typeof WeakMap=="function"?WeakMap:Oe(),S=new C;function h(we,Le,Pe,ut){if(qe(Pe)){if(!Ee(we))throw new TypeError;if(!T(Le))throw new TypeError;return le(we,Le)}else{if(!Ee(we))throw new TypeError;if(!Me(Le))throw new TypeError;if(!Me(ut)&&!qe(ut)&&!Je(ut))throw new TypeError;return Je(ut)&&(ut=void 0),Pe=me(Pe),Q(we,Le,Pe,ut)}}t("decorate",h);function v(we,Le){function Pe(ut,at){if(!Me(ut))throw new TypeError;if(!qe(at)&&!y(at))throw new TypeError;xe(we,Le,ut,at)}return Pe}t("metadata",v);function w(we,Le,Pe,ut){if(!Me(Pe))throw new TypeError;return qe(ut)||(ut=me(ut)),xe(we,Le,Pe,ut)}t("defineMetadata",w);function M(we,Le,Pe){if(!Me(Le))throw new TypeError;return qe(Pe)||(Pe=me(Pe)),he(we,Le,Pe)}t("hasMetadata",M);function j(we,Le,Pe){if(!Me(Le))throw new TypeError;return qe(Pe)||(Pe=me(Pe)),De(we,Le,Pe)}t("hasOwnMetadata",j);function q(we,Le,Pe){if(!Me(Le))throw new TypeError;return qe(Pe)||(Pe=me(Pe)),ie(we,Le,Pe)}t("getMetadata",q);function V(we,Le,Pe){if(!Me(Le))throw new TypeError;return qe(Pe)||(Pe=me(Pe)),Se(we,Le,Pe)}t("getOwnMetadata",V);function re(we,Le){if(!Me(we))throw new TypeError;return qe(Le)||(Le=me(Le)),je(we,Le)}t("getMetadataKeys",re);function B(we,Le){if(!Me(we))throw new TypeError;return qe(Le)||(Le=me(Le)),Te(we,Le)}t("getOwnMetadataKeys",B);function ee(we,Le,Pe){if(!Me(Le))throw new TypeError;qe(Pe)||(Pe=me(Pe));var ut=se(Le,Pe,!1);if(qe(ut)||!ut.delete(we))return!1;if(ut.size>0)return!0;var at=S.get(Le);return at.delete(Pe),at.size>0||S.delete(Le),!0}t("deleteMetadata",ee);function le(we,Le){for(var Pe=we.length-1;Pe>=0;--Pe){var ut=we[Pe],at=ut(Le);if(!qe(at)&&!Je(at)){if(!T(at))throw new TypeError;Le=at}}return Le}function Q(we,Le,Pe,ut){for(var at=we.length-1;at>=0;--at){var Bt=we[at],Tt=Bt(Le,Pe,ut);if(!qe(Tt)&&!Je(Tt)){if(!Me(Tt))throw new TypeError;ut=Tt}}return ut}function se(we,Le,Pe){var ut=S.get(we);if(qe(ut)){if(!Pe)return;ut=new E,S.set(we,ut)}var at=ut.get(Le);if(qe(at)){if(!Pe)return;at=new E,ut.set(Le,at)}return at}function he(we,Le,Pe){var ut=De(we,Le,Pe);if(ut)return!0;var at=rt(Le);return Je(at)?!1:he(we,at,Pe)}function De(we,Le,Pe){var ut=se(Le,Pe,!1);return qe(ut)?!1:ze(ut.has(we))}function ie(we,Le,Pe){var ut=De(we,Le,Pe);if(ut)return Se(we,Le,Pe);var at=rt(Le);if(!Je(at))return ie(we,at,Pe)}function Se(we,Le,Pe){var ut=se(Le,Pe,!1);if(!qe(ut))return ut.get(we)}function xe(we,Le,Pe,ut){var at=se(Pe,ut,!0);at.set(we,Le)}function je(we,Le){var Pe=Te(we,Le),ut=rt(we);if(ut===null)return Pe;var at=je(ut,Le);if(at.length<=0)return Pe;if(Pe.length<=0)return at;for(var Bt=new m,Tt=[],Jt=0,an=Pe;Jt<an.length;Jt++){var In=an[Jt],Cn=Bt.has(In);Cn||(Bt.add(In),Tt.push(In))}for(var or=0,ti=at;or<ti.length;or++){var In=ti[or],Cn=Bt.has(In);Cn||(Bt.add(In),Tt.push(In))}return Tt}function Te(we,Le){var Pe=[],ut=se(we,Le,!1);if(qe(ut))return Pe;for(var at=ut.keys(),Bt=R(at),Tt=0;;){var Jt=J(Bt);if(!Jt)return Pe.length=Tt,Pe;var an=ne(Jt);try{Pe[Tt]=an}catch(In){try{Ne(Bt)}finally{throw In}}Tt++}}function Fe(we){if(we===null)return 1;switch(typeof we){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return we===null?1:6;default:return 6}}function qe(we){return we===void 0}function Je(we){return we===null}function Ie(we){return typeof we=="symbol"}function Me(we){return typeof we=="object"?we!==null:typeof we=="function"}function At(we,Le){switch(Fe(we)){case 0:return we;case 1:return we;case 2:return we;case 3:return we;case 4:return we;case 5:return we}var Pe=Le===3?"string":Le===5?"number":"default",ut=x(we,i);if(ut!==void 0){var at=ut.call(we,Pe);if(Me(at))throw new TypeError;return at}return vt(we,Pe==="default"?"number":Pe)}function vt(we,Le){if(Le==="string"){var Pe=we.toString;if($e(Pe)){var ut=Pe.call(we);if(!Me(ut))return ut}var at=we.valueOf;if($e(at)){var ut=at.call(we);if(!Me(ut))return ut}}else{var at=we.valueOf;if($e(at)){var ut=at.call(we);if(!Me(ut))return ut}var Bt=we.toString;if($e(Bt)){var ut=Bt.call(we);if(!Me(ut))return ut}}throw new TypeError}function ze(we){return!!we}function it(we){return""+we}function me(we){var Le=At(we,3);return Ie(Le)?Le:it(Le)}function Ee(we){return Array.isArray?Array.isArray(we):we instanceof Object?we instanceof Array:Object.prototype.toString.call(we)==="[object Array]"}function $e(we){return typeof we=="function"}function T(we){return typeof we=="function"}function y(we){switch(Fe(we)){case 3:return!0;case 4:return!0;default:return!1}}function x(we,Le){var Pe=we[Le];if(Pe!=null){if(!$e(Pe))throw new TypeError;return Pe}}function R(we){var Le=x(we,o);if(!$e(Le))throw new TypeError;var Pe=Le.call(we);if(!Me(Pe))throw new TypeError;return Pe}function ne(we){return we.value}function J(we){var Le=we.next();return Le.done?!1:Le}function Ne(we){var Le=we.return;Le&&Le.call(we)}function rt(we){var Le=Object.getPrototypeOf(we);if(typeof we!="function"||we===d||Le!==d)return Le;var Pe=we.prototype,ut=Pe&&Object.getPrototypeOf(Pe);if(ut==null||ut===Object.prototype)return Le;var at=ut.constructor;return typeof at!="function"||at===we?Le:at}function He(){var we={},Le=[],Pe=function(){function Tt(Jt,an,In){this._index=0,this._keys=Jt,this._values=an,this._selector=In}return Tt.prototype["@@iterator"]=function(){return this},Tt.prototype[o]=function(){return this},Tt.prototype.next=function(){var Jt=this._index;if(Jt>=0&&Jt<this._keys.length){var an=this._selector(this._keys[Jt],this._values[Jt]);return Jt+1>=this._keys.length?(this._index=-1,this._keys=Le,this._values=Le):this._index++,{value:an,done:!1}}return{value:void 0,done:!0}},Tt.prototype.throw=function(Jt){throw this._index>=0&&(this._index=-1,this._keys=Le,this._values=Le),Jt},Tt.prototype.return=function(Jt){return this._index>=0&&(this._index=-1,this._keys=Le,this._values=Le),{value:Jt,done:!0}},Tt}();return function(){function Tt(){this._keys=[],this._values=[],this._cacheKey=we,this._cacheIndex=-2}return Object.defineProperty(Tt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Tt.prototype.has=function(Jt){return this._find(Jt,!1)>=0},Tt.prototype.get=function(Jt){var an=this._find(Jt,!1);return an>=0?this._values[an]:void 0},Tt.prototype.set=function(Jt,an){var In=this._find(Jt,!0);return this._values[In]=an,this},Tt.prototype.delete=function(Jt){var an=this._find(Jt,!1);if(an>=0){for(var In=this._keys.length,Cn=an+1;Cn<In;Cn++)this._keys[Cn-1]=this._keys[Cn],this._values[Cn-1]=this._values[Cn];return this._keys.length--,this._values.length--,Jt===this._cacheKey&&(this._cacheKey=we,this._cacheIndex=-2),!0}return!1},Tt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=we,this._cacheIndex=-2},Tt.prototype.keys=function(){return new Pe(this._keys,this._values,ut)},Tt.prototype.values=function(){return new Pe(this._keys,this._values,at)},Tt.prototype.entries=function(){return new Pe(this._keys,this._values,Bt)},Tt.prototype["@@iterator"]=function(){return this.entries()},Tt.prototype[o]=function(){return this.entries()},Tt.prototype._find=function(Jt,an){return this._cacheKey!==Jt&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Jt)),this._cacheIndex<0&&an&&(this._cacheIndex=this._keys.length,this._keys.push(Jt),this._values.push(void 0)),this._cacheIndex},Tt}();function ut(Tt,Jt){return Tt}function at(Tt,Jt){return Jt}function Bt(Tt,Jt){return[Tt,Jt]}}function Ze(){return function(){function we(){this._map=new E}return Object.defineProperty(we.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),we.prototype.has=function(Le){return this._map.has(Le)},we.prototype.add=function(Le){return this._map.set(Le,Le),this},we.prototype.delete=function(Le){return this._map.delete(Le)},we.prototype.clear=function(){this._map.clear()},we.prototype.keys=function(){return this._map.keys()},we.prototype.values=function(){return this._map.values()},we.prototype.entries=function(){return this._map.entries()},we.prototype["@@iterator"]=function(){return this.keys()},we.prototype[o]=function(){return this.keys()},we}()}function Oe(){var we=16,Le=c.create(),Pe=ut();return function(){function an(){this._key=ut()}return an.prototype.has=function(In){var Cn=at(In,!1);return Cn!==void 0?c.has(Cn,this._key):!1},an.prototype.get=function(In){var Cn=at(In,!1);return Cn!==void 0?c.get(Cn,this._key):void 0},an.prototype.set=function(In,Cn){var or=at(In,!0);return or[this._key]=Cn,this},an.prototype.delete=function(In){var Cn=at(In,!1);return Cn!==void 0?delete Cn[this._key]:!1},an.prototype.clear=function(){this._key=ut()},an}();function ut(){var an;do an="@@WeakMap@@"+Jt();while(c.has(Le,an));return Le[an]=!0,an}function at(an,In){if(!e.call(an,Pe)){if(!In)return;Object.defineProperty(an,Pe,{value:c.create()})}return an[Pe]}function Bt(an,In){for(var Cn=0;Cn<In;++Cn)an[Cn]=Math.random()*255|0;return an}function Tt(an){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(an)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(an)):Bt(new Uint8Array(an),an):Bt(new Array(an),an)}function Jt(){var an=Tt(we);an[6]=an[6]&79|64,an[8]=an[8]&191|128;for(var In="",Cn=0;Cn<we;++Cn){var or=an[Cn];(Cn===4||Cn===6||Cn===8)&&(In+="-"),or<16&&(In+="0"),In+=or.toString(16).toLowerCase()}return In}}function Ye(we){return we.__=void 0,delete we.__,we}})})(sD||(sD={}));var Ea=class n{static sort(t,e,r){let i;t.sort((o,l)=>{let f=0,u=o[e],c=l[e];return u==null&&c==null?0:(u==null&&(i===void 0&&(i=this.#e(c)),u=i),c==null&&(i===void 0&&(i=this.#e(u)),c=i),typeof u=="string"&&(f=u.localeCompare(c)),typeof u=="number"&&(f=u-c),typeof u=="boolean"&&(f=u===c?0:u?1:-1),u instanceof Date&&(f=u.valueOf()-c.valueOf()),r==="desc"&&(f=-f),f)})}static#e(t){switch(typeof t){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return t instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}static fromParamMap(t,e){let r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);let i=n.adapt(t,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;let l=e.getAll(o);if(typeof l=="string"){i[o]=l.split(",");return}if(l.length===1){i[o]=l[0].split(",");return}i[o]=l}),i}static adapt(t,e){if(t==null)return null;typeof t=="function"&&(t=new t);let r=typeof e=="string"?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{let l=o[0].toLowerCase()+o.slice(1);i[l]=r[o]}),this.#t(t,i),Object.keys(t).filter(o=>typeof t[o]=="object"&&t[o]instanceof Dm).forEach(o=>this.adapt(t[o],o in i?i[o]:this.#r(i,`${o}_`))),t}static#t(t,e){t==null||e===void 0||e===null||this.#i(t).forEach(r=>{if(e[r]===void 0)return;let i=typeof t[r];if(i==="object")switch(Reflect.getMetadata("design:type",t,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number";break;default:break}switch(i){case"string":t[r]=e[r]===null?t[r]:typeof e[r]=="string"?e[r]:e[r].toString();break;case"boolean":t[r]=e[r]===null?t[r]:this.#n(e[r]);break;case"number":t[r]=e[r]===null?t[r]:typeof e[r]=="number"?e[r]:Number(e[r]);break;case"object":if((t[r]instanceof Date||Reflect.getMetadata("design:type",t,r)===Date)&&(t[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(t[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",t,r)){let o=Reflect.getMetadata("design:type",t,r);e[r].forEach(l=>t[r].push(n.adapt(o,l)))}break}})}static#n(t){let e=typeof t;return e==="boolean"?t:e==="string"?t.toLowerCase()==="true":!!t}static#i(t){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype],r=[];do Object.getOwnPropertyNames(t).forEach(i=>!r.includes(i)&&r.push(i));while((t=Object.getPrototypeOf(t))&&!e.includes(t));return r}static#r(t,e){let r={};return Object.keys(t).filter(i=>i.startsWith(e)).forEach(i=>r[i.replace(e,"")]=t[i]),r}};var Ni=class{};var Xr=(()=>{class n{#e=new kn;constructor(){}raise(e){if(e==null)throw new Error("domainEvent missing");let r=typeof e=="function"?new e:typeof e=="object"?e:null;if(!r||!(r instanceof Ni))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");this.#e.next(r)}handle(e){return this.#e.pipe(Rr(r=>r instanceof e),jn(r=>r))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ji=class extends Ni{},Vi=class extends Ni{#e;get kill(){return this.#e}constructor(t=!1){super(),this.#e=t}};String.isNullOrWhitespace||(String.isNullOrWhitespace=function(n){return n==null?!0:n.trim().length<1});String.hasData||(String.hasData=n=>!String.isNullOrWhitespace(n));String.toDate||(String.toDate=function(n){if(n==null||n==="")return null;if(n instanceof Date)return n;if(!(n instanceof String))return null;let t=n.split("/");if(t.length!==3)return null;let e=Number(t[0]),r=Number(t[1]),i=Number(t[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);let o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o});var wa=class{};Object.trimUnusedProperties||(Object.trimUnusedProperties=function(n){if(n==null)return;if(n==null)return null;let t=on({},n);for(var e in t){let r=t[e];(r==null||Array.isArray(r)&&r.length===0)&&delete t[e],typeof r=="string"&&String.isNullOrWhitespace(r)&&delete t[e],typeof r=="number"&&r===0&&delete t[e]}return t});var Ta=class{};var Ac=class{constructor(t,e){this.storage=t,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(t,e,r){let i=this.createItemKey(t),o=new eb;o.value=e,r!=null&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(t){let e=this.createItemKey(t),r=this.storage.getItem(e);return r===null?null:JSON.parse(r).value}remove(t){this.storage.removeItem(this.createItemKey(t))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;let t=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){let o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;let l=this.storage.getItem(o);if(!l)continue;let f=JSON.parse(l);f.expiresOn&&e>f.expiresOn&&t.push(o)}t.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(t){return`${this.keyPrefix}.${t}`}},eb=class{};var Sa=class{constructor(){this.keyPrefix=""}};var lD=(()=>{class n extends Ac{constructor(e){if(!e||!e.keyPrefix||e.keyPrefix.trim().length===0)throw new Error("Must configure.");super(window.sessionStorage,e.keyPrefix)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Sa))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xc=class n{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(t,e){let r=new n;return r.addError(t,e),r}addError(t,e){if(e&&String.hasData(e)){let i=e.split("."),o=this.errors;for(let l=0;l<i.length;l++){let f=i[l],u=f[0].toLowerCase()+f.slice(1);if(l<i.length-1){o[u]={},o=o[u];continue}o[u]=t}this.hasErrors=!0;return}if("general"in this.errors||(this.errors.general={}),t.includes(" ")){"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(t),this.hasErrors=!0;return}let r=t[0].toLowerCase()+t.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}};var cD=(()=>{class n{#e='input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select';focusFirst(){window.setTimeout(()=>{let e=document.querySelectorAll(this.#e);e.length!==0&&e[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{let e=Array.from(document.querySelectorAll(this.#e)).filter(r=>this.#t(r));e.length!==0&&e[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{let e=Array.from(document.querySelectorAll(this.#e));if(e.length===0)return;let r=e.findIndex(i=>i===document.activeElement);for(r<0&&(r=0);r<e.length;){if(this.#t(e[r])){e[r].focus();return}r++}},50)}#t(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?!e.disabled&&String.isNullOrWhitespace(e.value):e.nodeName==="MAT-SELECT"?String.isNullOrWhitespace(e.innerText):!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uD=(()=>{class n{scrollIntoView(){window.setTimeout(()=>{let e=document.querySelector(".generalError");if(e){e.scrollIntoView({behavior:"smooth"});return}if(e=document.querySelector(".mat-form-field-invalid,.has-error"),!e)return;e.scrollIntoView({behavior:"smooth",block:"nearest"});let r=e.querySelector("input");if(r){r.select(),r.focus();return}let i=e.querySelector("select,mat-select");if(i){i.focus();return}},50)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var dD=(()=>{class n extends Ac{constructor(e){if(!e||!e.keyPrefix||e.keyPrefix.trim().length===0)throw new Error("Must configure.");super(window.localStorage,e.keyPrefix)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Sa))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Mc=(()=>{class n{constructor(e){this.sessionStorageService=e,this.key="UniqueId"}getUniqueId(){let e=this.sessionStorageService.get(this.key);return e==null&&(e=0),this.sessionStorageService.set(this.key,++e),e}static{this.\u0275fac=function(r){return new(r||n)(Ut(lD))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Am=class{static debounce(t,e=300){let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>t(...o),e)}}};var fD=(()=>{class n{#e="profile";#t=pt(dD);#n={};#i=JSON.stringify(this.#n);#r=new kn;#s=this.#r.pipe(Ya(300)).subscribe(()=>this.#a());#o=!1;get(e){return this.#n[e]}set(e,r){this.#n[e]=r,this.#r.next("")}load(){return $n(this,null,function*(){if(this.#o)return;let e=this.#t.get(this.#e);e!=null&&(this.#n=e,this.#i=JSON.stringify(this.#n),this.#o=!0)})}#a(){let e=JSON.stringify(this.#n);e!==this.#i&&(this.#i=e,this.#t.set(this.#e,this.#n))}ngOnDestroy(){this.#s.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xm=(()=>{class n{#e="";#t=pt(_i);constructor(){this.#e=document.baseURI.replace(window.location.origin,""),this.#e.endsWith("/")&&(this.#e=this.#e.slice(0,-1))}sanitizeHTML(e){if(String.isNullOrWhitespace(e))return"";let r=document.implementation.createHTMLDocument().createElement("p");return r.innerHTML=this.#t.sanitize(Wr.HTML,e),this.#n(r),r.innerHTML}sanitizeLink(e){if(String.isNullOrWhitespace(e))return{href:"",text:"",external:!1};let r=e;r.startsWith("/")&&(r=`${window.location.origin}${r}`),r=r.replace(window.location.origin,`${this.#e}`).replace("http://www.reddit.com/",`${this.#e}/`).replace("https://www.reddit.com/",`${this.#e}/`).replace("http://np.reddit.com/",`${this.#e}/`).replace("https://np.reddit.com/",`${this.#e}/`).replace("http://reddit.com/",`${this.#e}/`).replace("https://reddit.com/",`${this.#e}/`).replace("http://old.reddit.com/",`${this.#e}/`).replace("https://old.reddit.com/",`${this.#e}/`);let i=!r.startsWith(this.#e);if(!i){let f=r.indexOf("?");f>-1&&(r=r.slice(0,f)),r.endsWith("/")&&(r=r.slice(0,-1))}let o=r.replace(this.#e,""),l=document.createElement("a");return l.href=r,l.innerText=o,i&&(l.setAttribute("target","_blank"),l.setAttribute("rel","noopener noreferrer nofollow")),{href:r,text:o,external:i,el:l}}#n(e){let r=Array.from(e.getElementsByTagName("a"));r.length!==0&&r.forEach(i=>{let o=this.sanitizeLink(i.href);i.replaceWith(o.el)})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ts=(()=>{class n{#e={};save(e="",r=""){this.#e[window.location.href]={yScroll:window.scrollY},this.#t(e,r,this.#e[window.location.href])}#t(e,r,i){if(i.tag_name=e,i.element_id=r,i.element_heights=[],String.isNullOrWhitespace(r)||String.isNullOrWhitespace(e))return;let o=document.querySelectorAll(e);for(let l=0;l<o.length;l++){let f=o[l];if(i.element_heights.push({id:f.id,height:f.getBoundingClientRect().height}),f.id===r)break}}restore(){setTimeout(()=>{let e=this.#e[window.location.href];if(!e){window.scrollTo(0,0);return}this.#n(e),window.scrollTo(0,e.yScroll||0),delete this.#e[window.location.href]},50)}#n(e){if(String.isNullOrWhitespace(e.element_id)||String.isNullOrWhitespace(e.tag_name)||e.element_heights?.length===0){e.element_id="",e.tag_name="",e.element_heights=[];return}let r=document.querySelectorAll(e.tag_name);for(let i=0;i<r.length;i++){let o=r[i],l=e.element_heights.find(f=>f.id===o.id);if(l!=null&&(o.style.height=`${l.height}px`,o.id===e.element_id))break}e.element_id="",e.tag_name="",e.element_heights=[]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Mm=(()=>{class n{#e="subreddits";#t=[];#n=pt(fD);add(e){String.isNullOrWhitespace(e)||this.#t.includes(e)||(this.#t.push(e),this.#t.sort(),this.#n.set(this.#e,this.#t))}get(){return[...this.#t]}remove(e){String.isNullOrWhitespace(e)||(this.#t=this.#t.filter(r=>r!==e),this.#n.set(this.#e,this.#t))}loadAsync(){return $n(this,null,function*(){yield this.#n.load(),this.#t=["algotrading","android","angular","angular2","angularjs","artificial","askreddit","askscience","bestof","ChatGPT","ChatGPTCoding","ChatGPTPromptGenius","coding","computing","csharp","deeplearning","desmoines","dotnet","funny","futurology","GooglePixel","interestingasfuck","javascript","mademesmile","microsoft","nextfuckinglevel","personalfinance","pixel_phones","programming","science","space","starshipporn","startrek","technology","typescript","web_design","worldnews"]})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yU(n,t){if(n&1&&(Ft(0,"a",4),Zn(1),Lt()),n&2){let e=un(2);Ct("href",e.href,Wo),It(),ei(e.text)}}function bU(n,t){if(n&1){let e=Er();Ft(0,"a",5),Tn("click",function(){ur(e);let i=un(2);return dr(i.on_internal_click())}),Zn(1),Lt()}if(n&2){let e=un(2);Ct("routerLink",e.text),It(),ei(e.text)}}function EU(n,t){if(n&1&&(Ft(0,"p",1),bn(1,yU,2,2,"a",2)(2,bU,2,2,"a",3),Lt()),n&2){let e=un();It(),Ct("ngIf",e.is_external),It(),Ct("ngIf",!e.is_external&&e.show_internal)}}var hD=(()=>{class n{#e;#t;#n;#i;set data(e){this.#i=e,this.#r()}constructor(){this.#e="",this.#t=pt(xm),this.#n=pt(Ts),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,this.#e=document.baseURI,this.#e.endsWith("/")&&(this.#e=this.#e.slice(0,-1))}#r(){let e=this.#t.sanitizeLink(this.#i.url);if(this.href=e.href,this.is_external=e.external,this.is_external){this.text=this.href;return}this.text=e.text;let r=this.text.indexOf("/r/")+3,i=this.text.indexOf("/",r),o=this.text.slice(r,i);this.show_internal=o.toLowerCase()!==this.#i.subreddit.toLowerCase()}on_internal_click(){this.#n.save("post",this.#i.id)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(r,i){r&1&&bn(0,EU,3,2,"p",0),r&2&&Ct("ngIf",i.is_external||i.show_internal)},dependencies:[Cr,Oo],changeDetection:0})}}return n})();var wU=["textPost"],TU=n=>({masked:n}),Rc=(()=>{class n{#e;#t;#n;#i;#r;#s;#o;#a;set data(e){e!=null&&(this.#a=e,this.#c())}#l;set post(e){e&&e.nativeElement&&(this.#l=e.nativeElement)}constructor(e,r,i,o,l){this.#e=!0,this._truncated=!0,this.#o="",this.#a="",this.#t=e,this.#n=r,this.#i=i,this.#r=o,this.#s=l,this.#o=document.baseURI,this.#o.endsWith("/")&&(this.#o=this.#o.slice(0,-1))}#c(){this._text=this.#n.bypassSecurityTrustHtml(this.#r.sanitizeHTML(this.#a)),setTimeout(()=>{this._truncated=this.#l.scrollHeight>this.#l.clientHeight,this.#e=this._truncated,this.#t.detectChanges()},0)}onClick(e){let r=e.target;if(r&&r.tagName==="A"){let i=r.href;i.startsWith(this.#o)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),this.#i.navigateByUrl(i.replace(this.#o,"")));return}if(this.#e){if(this._truncated){this._truncated=!1,this.#s.save();return}this._truncated=!0,this.#s.restore()}}static{this.\u0275fac=function(r){return new(r||n)(Et(Yr),Et(_i),Et(yo),Et(xm),Et(Ts))}}static{this.\u0275cmp=_n({type:n,selectors:[["text-block"]],viewQuery:function(r,i){if(r&1&&Qr(wU,5),r&2){let o;fr(o=hr())&&(i.post=o.first)}},inputs:{data:"data"},standalone:!0,features:[Ln],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(r,i){r&1&&(Ft(0,"p",0,1),Tn("click",function(l){return i.onClick(l)}),Lt()),r&2&&Ct("ngClass",Ti(2,TU,i._truncated))("innerHTML",i._text,Hh)},dependencies:[bs],changeDetection:0})}}return n})();var mD=(()=>{class n{constructor(){this.data=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:1,vars:1,consts:[[3,"data"]],template:function(r,i){r&1&&mn(0,"text-block",0),r&2&&Ct("data",i.data==null?null:i.data.selftext_html)},dependencies:[Rc],changeDetection:0})}}return n})();var nb;try{nb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nb=!1}var Ir=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?uI(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||nb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(Ut(ma))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Nc,pD=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rb(){if(Nc)return Nc;if(typeof document!="object"||!document)return Nc=new Set(pD),Nc;let n=document.createElement("input");return Nc=new Set(pD.filter(t=>(n.setAttribute("type",t),n.type===t))),Nc}var sd;function SU(){if(sd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sd=!0}))}finally{sd=sd||!1}return sd}function Po(n){return SU()?n:!!n.capture}var vl;function gD(){if(vl==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return vl=!1,vl;if("scrollBehavior"in document.documentElement.style)vl=!0;else{let n=Element.prototype.scrollTo;n?vl=!/\{\s*\[native code\]\s*\}/.test(n.toString()):vl=!1}}return vl}var tb;function CU(){if(tb==null){let n=typeof document<"u"?document.head:null;tb=!!(n&&(n.createShadowRoot||n.attachShadow))}return tb}function _D(n){if(CU()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ts(n){return n.composedPath?n.composedPath()[0]:n.target}function ad(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Oc(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function vi(n){return n!=null&&`${n}`!="false"}function bo(n,t=0){return IU(n)?Number(n):t}function IU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Pc(n){return Array.isArray(n)?n:[n]}function ui(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ko(n){return n instanceof Un?n.nativeElement:n}var DU=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Rm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({providers:[DU]})}}return n})();var vD=new Set,yl,AU=(()=>{class n{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):MU}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&xU(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Ir),Ut(ku,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xU(n,t){if(!vD.has(n))try{yl||(yl=document.createElement("style"),t&&(yl.nonce=t),yl.setAttribute("type","text/css"),document.head.appendChild(yl)),yl.sheet&&(yl.sheet.insertRule(`@media ${n} {body{ }}`,0),vD.add(n))}catch(e){console.error(e)}}function MU(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var bD=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new kn}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return yD(Pc(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=yD(Pc(e)).map(l=>this._registerQuery(l).observable),o=Xl(i);return o=os(o.pipe(qr(1)),o.pipe(pu(1),Ya(0))),o.pipe(jn(l=>{let f={matches:!1,breakpoints:{}};return l.forEach(({matches:u,query:c})=>{f.matches=f.matches||u,f.breakpoints[c]=u}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),o={observable:new Qn(l=>{let f=u=>this._zone.run(()=>l.next(u));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(ls(r),jn(({matches:l})=>({query:e,matches:l})),xr(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static{this.\u0275fac=function(r){return new(r||n)(Ut(AU),Ut(Pn))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yD(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var SD=" ";function GU(n,t,e){let r=Pm(n,t);e=e.trim(),!r.some(i=>i.trim()===e)&&(r.push(e),n.setAttribute(t,r.join(SD)))}function qU(n,t,e){let r=Pm(n,t);e=e.trim();let i=r.filter(o=>o!==e);i.length?n.setAttribute(t,i.join(SD)):n.removeAttribute(t)}function Pm(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var CD="cdk-describedby-message",Nm="cdk-describedby-host",sb=0,ID=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${sb++}`,this._document=e,this._id=pt(Pu)+"-"+sb++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;let o=ib(r,i);typeof r!="string"?(ED(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;let o=ib(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof r=="string"){let l=this._messageRegistry.get(o);l&&l.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${Nm}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(Nm);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){let i=this._document.createElement("div");ED(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(ib(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){let r=Pm(e,"aria-describedby").filter(i=>i.indexOf(CD)!=0);e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){let i=this._messageRegistry.get(r);GU(e,"aria-describedby",i.messageElement.id),e.setAttribute(Nm,this._id),i.referenceCount++}_removeMessageReference(e,r){let i=this._messageRegistry.get(r);i.referenceCount--,qU(e,"aria-describedby",i.messageElement.id),e.removeAttribute(Nm)}_isElementDescribedByMessage(e,r){let i=Pm(e,"aria-describedby"),o=this._messageRegistry.get(r),l=o&&o.messageElement.id;return!!l&&i.indexOf(l)!=-1}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),o=e.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn),Ut(Ir))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ib(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function ED(n,t){n.id||(n.id=`${CD}-${t}-${sb++}`)}var ab=class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new kn,this._typeaheadSubscription=pr.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new kn,this.change=new kn,t instanceof da&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){let i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ar(e=>this._pressedLetters.push(e)),Ya(t),Rr(()=>this._pressedLetters.length>0),jn(()=>this._pressedLetters.join(""))).subscribe(e=>{let r=this._getItemsArray();for(let i=1;i<r.length+1;i++){let o=(this._activeItemIndex+i)%r.length,l=r[o];if(!this._skipPredicateFn(l)&&l.getLabel().toUpperCase().trim().indexOf(e)===0){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}else return;default:(i||Oc(t,"shiftKey"))&&(t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e)));return}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),r=typeof t=="number"?t:e.indexOf(t),i=e[r];this._activeItem=i??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let r=1;r<=e.length;r++){let i=(this._activeItemIndex+t*r+e.length)%e.length,o=e[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(t+=e,!r[t])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof da?this._items.toArray():this._items}};var km=class extends ab{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};function ld(n){return n.buttons===0||n.detail===0}function cd(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var YU=new pn("cdk-input-modality-detector-options"),$U={ignoreKeys:[18,17,224,91,16]},DD=650,kc=Po({passive:!0,capture:!0}),WU=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new mi(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ts(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<DD||(this._modality.next(ld(l)?"keyboard":"mouse"),this._mostRecentTarget=ts(l))},this._onTouchstart=l=>{if(cd(l)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ts(l)},this._options=on(on({},$U),o),this.modalityDetected=this._modality.pipe(pu(1)),this.modalityChanged=this.modalityDetected.pipe(Gf()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,kc),i.addEventListener("mousedown",this._onMousedown,kc),i.addEventListener("touchstart",this._onTouchstart,kc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kc),document.removeEventListener("mousedown",this._onMousedown,kc),document.removeEventListener("touchstart",this._onTouchstart,kc))}static{this.\u0275fac=function(r){return new(r||n)(Ut(Ir),Ut(Pn),Ut(Hn),Ut(YU,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var KU=new pn("cdk-focus-monitor-default-options"),Om=Po({passive:!0,capture:!0}),Gs=(()=>{class n{constructor(e,r,i,o,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kn,this._rootNodeFocusAndBlurListener=f=>{let u=ts(f);for(let c=u;c;c=c.parentElement)f.type==="focus"?this._onFocus(f,c):this._onBlur(f,c)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){let i=ko(e);if(!this._platform.isBrowser||i.nodeType!==1)return Fn();let o=_D(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;let f={checkChildren:r,subject:new kn,rootNode:o};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){let r=ko(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){let o=ko(e),l=this._getDocument().activeElement;o===l?this._getClosestElementsInfo(o).forEach(([f,u])=>this._originChanged(f,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===1||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused",r==="touch"),e.classList.toggle("cdk-keyboard-focused",r==="keyboard"),e.classList.toggle("cdk-mouse-focused",r==="mouse"),e.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&r,this._detectionMode===0){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?DD:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(e,r){let i=this._elementInfo.get(r),o=ts(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Om),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Om)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Om),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Om),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){let r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let l=0;l<o.length;l++)if(o[l].contains(r))return!0}return!1}static{this.\u0275fac=function(r){return new(r||n)(Ut(Pn),Ut(Ir),Ut(WU),Ut(Hn,8),Ut(KU,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var wD="cdk-high-contrast-black-on-white",TD="cdk-high-contrast-white-on-black",ob="cdk-high-contrast-active",ub=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=pt(bD).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(ob,wD,TD),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===1?e.add(ob,wD):r===2&&e.add(ob,TD)}}static{this.\u0275fac=function(r){return new(r||n)(Ut(Ir),Ut(Hn))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),AD=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(r){return new(r||n)(Ut(ub))}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[Rm]})}}return n})();var QU=new pn("cdk-dir-doc",{providedIn:"root",factory:XU});function XU(){return pt(Hn)}var JU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ej(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?JU.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ca=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new mr,e){let r=e.body?e.body.dir:null,i=e.documentElement?e.documentElement.dir:null;this.value=ej(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(Ut(QU,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ia=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({})}}return n})();var Ss="*";function dd(n,t){return{type:7,name:n,definitions:t,options:{}}}function Fc(n,t=null){return{type:4,styles:t,timings:n}}function xD(n,t=null){return{type:2,steps:n,options:t}}function Fo(n){return{type:6,styles:n,offset:null}}function fd(n,t,e){return{type:0,name:n,styles:t,options:e}}function Lc(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}var Da=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},ud=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++r==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((e,r)=>e===null||r.totalTime>e.totalTime?r:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},jm="!";function MD(n){return new dn(3e3,!1)}function tj(){return new dn(3100,!1)}function nj(){return new dn(3101,!1)}function rj(n){return new dn(3001,!1)}function ij(n){return new dn(3003,!1)}function oj(n){return new dn(3004,!1)}function sj(n,t){return new dn(3005,!1)}function aj(){return new dn(3006,!1)}function lj(){return new dn(3007,!1)}function cj(n,t){return new dn(3008,!1)}function uj(n){return new dn(3002,!1)}function dj(n,t,e,r,i){return new dn(3010,!1)}function fj(){return new dn(3011,!1)}function hj(){return new dn(3012,!1)}function mj(){return new dn(3200,!1)}function pj(){return new dn(3202,!1)}function gj(){return new dn(3013,!1)}function _j(n){return new dn(3014,!1)}function vj(n){return new dn(3015,!1)}function yj(n){return new dn(3016,!1)}function bj(n,t){return new dn(3404,!1)}function Ej(n){return new dn(3502,!1)}function wj(n){return new dn(3503,!1)}function Tj(){return new dn(3300,!1)}function Sj(n){return new dn(3504,!1)}function Cj(n){return new dn(3301,!1)}function Ij(n,t){return new dn(3302,!1)}function Dj(n){return new dn(3303,!1)}function Aj(n,t){return new dn(3400,!1)}function xj(n){return new dn(3401,!1)}function Mj(n){return new dn(3402,!1)}function Rj(n,t){return new dn(3505,!1)}function Aa(n){switch(n.length){case 0:return new Da;case 1:return n[0];default:return new ud(n)}}function zD(n,t,e=new Map,r=new Map){let i=[],o=[],l=-1,f=null;if(t.forEach(u=>{let c=u.get("offset"),d=c==l,p=d&&f||new Map;u.forEach((E,m)=>{let C=m,S=E;if(m!=="offset")switch(C=n.normalizePropertyName(C,i),S){case jm:S=e.get(m);break;case Ss:S=r.get(m);break;default:S=n.normalizeStyleValue(m,C,S,i);break}p.set(C,S)}),d||o.push(p),f=p,l=c}),i.length)throw Ej(i);return o}function Nb(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&db(e,"start",n)));break;case"done":n.onDone(()=>r(e&&db(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&db(e,"destroy",n)));break}}function db(n,t,e){let r=e.totalTime,i=!!e.disabled,o=Ob(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,r??n.totalTime,i),l=n._data;return l!=null&&(o._data=l),o}function Ob(n,t,e,r,i="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function wo(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function RD(n){let t=n.indexOf(":"),e=n.substring(1,t),r=n.slice(t+1);return[e,r]}var Nj=(()=>typeof document>"u"?null:document.documentElement)();function Pb(n){let t=n.parentNode||n.host||null;return t===Nj?null:t}function Oj(n){return n.substring(1,6)=="ebkit"}var bl=null,ND=!1;function Pj(n){bl||(bl=kj()||{},ND=bl.style?"WebkitAppearance"in bl.style:!1);let t=!0;return bl.style&&!Oj(n)&&(t=n in bl.style,!t&&ND&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bl.style)),t}function kj(){return typeof document<"u"?document.body:null}function GD(n,t){for(;t;){if(t===n)return!0;t=Pb(t)}return!1}function qD(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let r=n.querySelector(t);return r?[r]:[]}var kb=(()=>{class n{validateStyleProperty(e){return Pj(e)}matchesElement(e,r){return!1}containsElement(e,r){return GD(e,r)}getParentElement(e){return Pb(e)}query(e,r,i){return qD(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,l,f=[],u){return new Da(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})(),yd=(()=>{class n{static{this.NOOP=new kb}}return n})(),Tl=class{};var Fj=1e3,YD="{{",Lj="}}",$D="ng-enter",_b="ng-leave",Vm="ng-trigger",qm=".ng-trigger",OD="ng-animating",vb=".ng-animating";function qs(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yb(parseFloat(t[1]),t[2])}function yb(n,t){switch(t){case"s":return n*Fj;default:return n}}function Ym(n,t,e){return n.hasOwnProperty("duration")?n:Bj(n,t,e)}function Bj(n,t,e){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,l="";if(typeof n=="string"){let f=n.match(r);if(f===null)return t.push(MD(n)),{duration:0,delay:0,easing:""};i=yb(parseFloat(f[1]),f[2]);let u=f[3];u!=null&&(o=yb(parseFloat(u),f[4]));let c=f[5];c&&(l=c)}else i=n;if(!e){let f=!1,u=t.length;i<0&&(t.push(tj()),f=!0),o<0&&(t.push(nj()),f=!0),f&&t.splice(u,0,MD(n))}return{duration:i,delay:o,easing:l}}function bd(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function WD(n){let t=new Map;return Object.keys(n).forEach(e=>{let r=n[e];t.set(e,r)}),t}function Uj(n){return n.length?n[0]instanceof Map?n:n.map(t=>WD(t)):[]}function Uc(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function Cs(n,t,e){t.forEach((r,i)=>{let o=Fb(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function wl(n,t){t.forEach((e,r)=>{let i=Fb(r);n.style[i]=""})}function hd(n){return Array.isArray(n)?n.length==1?n[0]:xD(n):n}function jj(n,t,e){let r=t.params||{},i=KD(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(rj(o))})}var bb=new RegExp(`${YD}\\s*(.+?)\\s*${Lj}`,"g");function KD(n){let t=[];if(typeof n=="string"){let e;for(;e=bb.exec(n);)t.push(e[1]);bb.lastIndex=0}return t}function pd(n,t,e){let r=n.toString(),i=r.replace(bb,(o,l)=>{let f=t[l];return f==null&&(e.push(ij(l)),f=""),f.toString()});return i==r?n:i}function $m(n){let t=[],e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}var Vj=/-+([a-z0-9])/g;function Fb(n){return n.replace(Vj,(...t)=>t[1].toUpperCase())}function Zj(n,t){return n===0||t===0}function Hj(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<t.length;o++){let l=t[o];i.forEach(f=>l.set(f,QD(n,f)))}}return t}function Eo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw oj(t.type)}}function QD(n,t){return window.getComputedStyle(n)[t]}var zj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Wm=class extends Tl{normalizePropertyName(t,e){return Fb(t)}normalizeStyleValue(t,e,r,i){let o="",l=r.toString().trim();if(zj.has(e)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&f[1].length==0&&i.push(sj(t,r))}return l+o}};var Km="*";function Gj(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>qj(r,e,t)):e.push(n),e}function qj(n,t,e){if(n[0]==":"){let u=Yj(n,e);if(typeof u=="function"){t.push(u);return}n=u}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return e.push(vj(n)),t;let i=r[1],o=r[2],l=r[3];t.push(PD(i,l));let f=i==Km&&l==Km;o[0]=="<"&&!f&&t.push(PD(l,i))}function Yj(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(yj(n)),"* => *"}}var Zm=new Set(["true","1"]),Hm=new Set(["false","0"]);function PD(n,t){let e=Zm.has(n)||Hm.has(n),r=Zm.has(t)||Hm.has(t);return(i,o)=>{let l=n==Km||n==i,f=t==Km||t==o;return!l&&e&&typeof i=="boolean"&&(l=i?Zm.has(n):Hm.has(n)),!f&&r&&typeof o=="boolean"&&(f=o?Zm.has(t):Hm.has(t)),l&&f}}var XD=":self",$j=new RegExp(`s*${XD}s*,?`,"g");function JD(n,t,e,r){return new Eb(n).build(t,e,r)}var kD="",Eb=class{constructor(t){this._driver=t}build(t,e,r){let i=new wb(e);return this._resetContextStyleTimingState(i),Eo(this,hd(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=kD,t.collectedStyles=new Map,t.collectedStyles.set(kD,new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0,o=[],l=[];return t.name.charAt(0)=="@"&&e.errors.push(aj()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),f.type==0){let u=f,c=u.name;c.toString().split(/\s*,\s*/).forEach(d=>{u.name=d,o.push(this.visitState(u,e))}),u.name=c}else if(f.type==1){let u=this.visitTransition(f,e);r+=u.queryCount,i+=u.depCount,l.push(u)}else e.errors.push(lj())}),{type:7,name:t.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(t,e){let r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){let o=new Set,l=i||{};if(r.styles.forEach(f=>{f instanceof Map&&f.forEach(u=>{KD(u).forEach(c=>{l.hasOwnProperty(c)||o.add(c)})})}),o.size){let f=$m(o.values());e.errors.push(cj(t.name,f))}}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let r=Eo(this,hd(t.animation),e);return{type:1,matchers:Gj(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:El(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Eo(this,r,e)),options:El(t.options)}}visitGroup(t,e){let r=e.currentTime,i=0,o=t.steps.map(l=>{e.currentTime=r;let f=Eo(this,l,e);return i=Math.max(i,e.currentTime),f});return e.currentTime=i,{type:3,steps:o,options:El(t.options)}}visitAnimate(t,e){let r=Xj(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Fo({});if(o.type==5)i=this.visitKeyframes(o,e);else{let l=t.styles,f=!1;if(!l){f=!0;let c={};r.easing&&(c.easing=r.easing),l=Fo(c)}e.currentTime+=r.duration+r.delay;let u=this.visitStyle(l,e);u.isEmptyStep=f,i=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){let r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){let r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let f of i)typeof f=="string"?f===Ss?r.push(f):e.errors.push(uj(f)):r.push(WD(f));let o=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!o)){for(let u of f.values())if(u.toString().indexOf(YD)>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(l=>{typeof l!="string"&&l.forEach((f,u)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(u),p=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(e.errors.push(dj(u,d.startTime,d.endTime,o,i)),p=!1),o=d.startTime),p&&c.set(u,{startTime:o,endTime:i}),e.options&&jj(f,e.options,e.errors)})})}visitKeyframes(t,e){let r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(fj()),r;let i=1,o=0,l=[],f=!1,u=!1,c=0,d=t.steps.map(v=>{let w=this._makeStyleAst(v,e),M=w.offset!=null?w.offset:Qj(w.styles),j=0;return M!=null&&(o++,j=w.offset=M),u=u||j<0||j>1,f=f||j<c,c=j,l.push(j),w});u&&e.errors.push(hj()),f&&e.errors.push(mj());let p=t.steps.length,E=0;o>0&&o<p?e.errors.push(pj()):o==0&&(E=i/(p-1));let m=p-1,C=e.currentTime,S=e.currentAnimateTimings,h=S.duration;return d.forEach((v,w)=>{let M=E>0?w==m?1:E*w:l[w],j=M*h;e.currentTime=C+S.delay+j,S.duration=j,this._validateStyleAst(v,e),v.offset=M,r.styles.push(v)}),r}visitReference(t,e){return{type:8,animation:Eo(this,hd(t.animation),e),options:El(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:El(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:El(t.options)}}visitQuery(t,e){let r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,l]=Wj(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,wo(e.collectedStyles,e.currentQuerySelector,new Map);let f=Eo(this,hd(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:t.selector,options:El(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(gj());let r=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Ym(t.timings,e.errors,!0);return{type:12,animation:Eo(this,hd(t.animation),e),timings:r,options:null}}};function Wj(n){let t=!!n.split(/\s*,\s*/).find(e=>e==XD);return t&&(n=n.replace($j,"")),n=n.replace(/@\*/g,qm).replace(/@\w+/g,e=>qm+"-"+e.slice(1)).replace(/:animating/g,vb),[n,t]}function Kj(n){return n?bd(n):null}var wb=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Qj(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Xj(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Ym(n,t).duration;return fb(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=fb(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=Ym(e,t);return fb(i.duration,i.delay,i.easing)}function El(n){return n?(n=bd(n),n.params&&(n.params=Kj(n.params))):n={},n}function fb(n,t,e){return{duration:n,delay:t,easing:e}}function Lb(n,t,e,r,i,o,l=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:f}}var gd=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Jj=1,eV=":enter",tV=new RegExp(eV,"g"),nV=":leave",rV=new RegExp(nV,"g");function eA(n,t,e,r,i,o=new Map,l=new Map,f,u,c=[]){return new Tb().buildKeyframes(n,t,e,r,i,o,l,f,u,c)}var Tb=class{buildKeyframes(t,e,r,i,o,l,f,u,c,d=[]){c=c||new gd;let p=new Sb(t,e,c,i,o,d,[]);p.options=u;let E=u.delay?qs(u.delay):0;p.currentTimeline.delayNextStep(E),p.currentTimeline.setStyles([l],null,p.errors,u),Eo(this,r,p);let m=p.timelines.filter(C=>C.containsAnimation());if(m.length&&f.size){let C;for(let S=m.length-1;S>=0;S--){let h=m[S];if(h.element===e){C=h;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([f],null,p.errors,u)}return m.length?m.map(C=>C.buildKeyframes()):[Lb(e,[],[],[],0,E,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let r=e.subInstructions.get(e.element);if(r){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){let r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(let i of t){let o=i?.delay;if(o){let l=typeof o=="number"?o:qs(pd(o,i?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime,l=r.duration!=null?qs(r.duration):null,f=r.delay!=null?qs(r.delay):null;return l!==0&&t.forEach(u=>{let c=e.appendInstructionToTimeline(u,l,f);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Eo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==6&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Qm);let l=qs(o.delay);i.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Eo(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?qs(t.options.delay):0;t.steps.forEach(l=>{let f=e.createSubContext(t.options);o&&f.delayNextStep(o),Eo(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let r=t.strValue,i=e.params?pd(r,e.params,e.errors):r;return Ym(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());let o=t.style;o.type==5?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(u=>{let c=u.offset||0;f.forwardTime(c*o),f.setStyles(u.styles,u.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?qs(i.delay):0;o&&(e.previousNode.type===6||r==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qm);let l=r,f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=f.length;let u=null;f.forEach((c,d)=>{e.currentQueryIndex=d;let p=e.createSubContext(t.options,c);o&&p.delayNextStep(o),c===e.element&&(u=p.currentTimeline),Eo(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe();let E=p.currentTimeline.currentTime;l=Math.max(l,E)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let r=e.parentContext,i=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),f=l*(e.currentQueryTotal-1),u=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=f-u;break;case"full":u=r.currentStaggerTime;break}let d=e.currentTimeline;u&&d.delayNextStep(u);let p=d.currentTime;Eo(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},Qm={},Sb=class n{constructor(t,e,r,i,o,l,f,u){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Xm(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let r=t,i=this.options;r.duration!=null&&(i.duration=qs(r.duration)),r.delay!=null&&(i.delay=qs(r.delay));let o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(f=>{(!e||!l.hasOwnProperty(f))&&(l[f]=pd(o[f],l,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){let i=e||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Qm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new Cb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,l){let f=[];if(i&&f.push(this.element),t.length>0){t=t.replace(tV,"."+this._enterClassName),t=t.replace(rV,"."+this._leaveClassName);let u=r!=1,c=this._driver.query(this.element,t,u);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),f.push(...c)}return!o&&f.length==0&&l.push(_j(e)),f}},Xm=class n{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Jj,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Ss),this._currentKeyframe.set(e,Ss);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},l=iV(t,this._globalTimelineStyles);for(let[f,u]of l){let c=pd(u,o,r);this._pendingStyles.set(f,c),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Ss),this._updateStyle(f,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{let i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((f,u)=>{let c=Uc(f,new Map,this._backFill);c.forEach((d,p)=>{d===jm?t.add(p):d===Ss&&e.add(p)}),r||c.set("offset",u/this.duration),i.push(c)});let o=t.size?$m(t.values()):[],l=e.size?$m(e.values()):[];if(r){let f=i[0],u=new Map(f);f.set("offset",0),u.set("offset",1),i=[f,u]}return Lb(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}},Cb=class extends Xm{constructor(t,e,r,i,o,l,f=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],l=r+e,f=e/l,u=Uc(t[0]);u.set("offset",0),o.push(u);let c=Uc(t[0]);c.set("offset",FD(f)),o.push(c);let d=t.length-1;for(let p=1;p<=d;p++){let E=Uc(t[p]),m=E.get("offset"),C=e+m*r;E.set("offset",FD(C/l)),o.push(E)}r=l,e=0,i="",t=o}return Lb(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}};function FD(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function iV(n,t){let e=new Map,r;return n.forEach(i=>{if(i==="*"){r=r||t.keys();for(let o of r)e.set(o,Ss)}else Uc(i,e)}),e}function LD(n,t,e,r,i,o,l,f,u,c,d,p,E){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:l,timelines:f,queriedElements:u,preStyleProps:c,postStyleProps:d,totalTime:p,errors:E}}var hb={},Jm=class{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return oV(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,l,f,u,c,d){let p=[],E=this.ast.options&&this.ast.options.params||hb,m=f&&f.params||hb,C=this.buildStyles(r,m,p),S=u&&u.params||hb,h=this.buildStyles(i,S,p),v=new Set,w=new Map,M=new Map,j=i==="void",q={params:sV(S,E),delay:this.ast.options?.delay},V=d?[]:eA(t,e,this.ast.animation,o,l,C,h,q,c,p),re=0;if(V.forEach(ee=>{re=Math.max(ee.duration+ee.delay,re)}),p.length)return LD(e,this._triggerName,r,i,j,C,h,[],[],w,M,re,p);V.forEach(ee=>{let le=ee.element,Q=wo(w,le,new Set);ee.preStyleProps.forEach(he=>Q.add(he));let se=wo(M,le,new Set);ee.postStyleProps.forEach(he=>se.add(he)),le!==e&&v.add(le)});let B=$m(v.values());return LD(e,this._triggerName,r,i,j,C,h,V,B,w,M,re)}};function oV(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}function sV(n,t){let e=bd(t);for(let r in n)n.hasOwnProperty(r)&&n[r]!=null&&(e[r]=n[r]);return e}var Ib=class{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){let r=new Map,i=bd(this.defaultParams);return Object.keys(t).forEach(o=>{let l=t[o];l!==null&&(i[o]=l)}),this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((l,f)=>{l&&(l=pd(l,i,e));let u=this.normalizer.normalizePropertyName(f,e);l=this.normalizer.normalizeStyleValue(f,u,l,e),r.set(f,l)})}),r}};function aV(n,t,e){return new Db(n,t,e)}var Db=class{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Ib(i.style,o,r))}),BD(this.states,"true","1"),BD(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Jm(t,i,this.states))}),this.fallbackTransition=lV(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(l=>l.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}};function lV(n,t,e){let o={type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0};return new Jm(n,o,t)}function BD(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var cV=new gd,Ab=class{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let r=[],i=[],o=JD(this._driver,e,r,i);if(r.length)throw wj(r);i.length&&void 0,this._animations.set(t,o)}_buildPlayer(t,e,r){let i=t.element,o=zD(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){let i=[],o=this._animations.get(t),l,f=new Map;if(o?(l=eA(this._driver,e,o,$D,_b,new Map,new Map,r,cV,i),l.forEach(d=>{let p=wo(f,d.element,new Map);d.postStyleProps.forEach(E=>p.set(E,null))})):(i.push(Tj()),l=[]),i.length)throw Sj(i);f.forEach((d,p)=>{d.forEach((E,m)=>{d.set(m,this._driver.computeStyle(p,m,Ss))})});let u=l.map(d=>{let p=f.get(d.element);return this._buildPlayer(d,new Map,p)}),c=Aa(u);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Cj(t);return e}listen(t,e,r,i){let o=Ob(e,"","","");return Nb(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if(r=="register"){this.register(t,i[0]);return}if(r=="create"){let l=i[0]||{};this.create(t,e,l);return}let o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},UD="ng-animate-queued",uV=".ng-animate-queued",mb="ng-animate-disabled",dV=".ng-animate-disabled",fV="ng-star-inserted",hV=".ng-star-inserted",mV=[],tA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rs="__ng_removed",_d=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=_V(i),r){let o=bd(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let r=this.options.params;Object.keys(e).forEach(i=>{r[i]==null&&(r[i]=e[i])})}}},md="void",pb=new _d(md),xb=class{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Lo(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw Ij(r,e);if(r==null||r.length==0)throw Dj(e);if(!vV(r))throw Aj(r,e);let o=wo(this._elementListeners,t,[]),l={name:e,phase:r,callback:i};o.push(l);let f=wo(this._engine.statesByElement,t,new Map);return f.has(e)||(Lo(t,Vm),Lo(t,Vm+"-"+e),f.set(e,pb)),()=>{this._engine.afterFlush(()=>{let u=o.indexOf(l);u>=0&&o.splice(u,1),this._triggers.has(e)||f.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw xj(t);return e}trigger(t,e,r,i=!0){let o=this._getTrigger(e),l=new vd(this.id,e,t),f=this._engine.statesByElement.get(t);f||(Lo(t,Vm),Lo(t,Vm+"-"+e),this._engine.statesByElement.set(t,f=new Map));let u=f.get(e),c=new _d(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),f.set(e,c),u||(u=pb),!(c.value===md)&&u.value===c.value){if(!EV(u.params,c.params)){let S=[],h=o.matchStyles(u.value,u.params,S),v=o.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{wl(t,h),Cs(t,v)})}return}let E=wo(this._engine.playersByElement,t,[]);E.forEach(S=>{S.namespaceId==this.id&&S.triggerName==e&&S.queued&&S.destroy()});let m=o.matchTransition(u.value,c.value,t,c.params),C=!1;if(!m){if(!i)return;m=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:m,fromState:u,toState:c,player:l,isFallbackTransition:C}),C||(Lo(t,UD),l.onStart(()=>{Bc(t,UD)})),l.onDone(()=>{let S=this.players.indexOf(l);S>=0&&this.players.splice(S,1);let h=this._engine.playersByElement.get(t);if(h){let v=h.indexOf(l);v>=0&&h.splice(v,1)}}),this.players.push(l),E.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let r=this._engine.driver.query(t,qm,!0);r.forEach(i=>{if(i[rs])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){let o=this._engine.statesByElement.get(t),l=new Map;if(o){let f=[];if(o.forEach((u,c)=>{if(l.set(c,u.value),this._triggers.has(c)){let d=this.trigger(t,c,md,i);d&&f.push(d)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),r&&Aa(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){let i=new Set;e.forEach(o=>{let l=o.name;if(i.has(l))return;i.add(l);let u=this._triggers.get(l).fallbackTransition,c=r.get(l)||pb,d=new _d(md),p=new vd(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:u,fromState:c,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(t,e){let r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{let o=t[rs];(!o||o===tA)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Lo(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,l=this._elementListeners.get(o);l&&l.forEach(f=>{if(f.name==r.triggerName){let u=Ob(o,r.triggerName,r.fromState.value,r.toState.value);u._data=t,Nb(r.player,f.phase,u,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{let o=r.transition.ast.depCount,l=i.transition.ast.depCount;return o==0||l==0?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Mb=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){let r=new xb(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(e);for(;f;){let u=i.get(f);if(u){let c=r.indexOf(u);r.splice(c+1,0,t),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,r=this.statesByElement.get(t);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,r,i){if(zm(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!zm(e))return;let o=e[rs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){let l=this._fetchNamespace(t);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Lo(t,mb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bc(t,mb))}removeNode(t,e,r){if(zm(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[rs]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return zm(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,qm,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,vb,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Aa(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[rs];if(e&&e.setForRemoval){if(t[rs]=tA,e.namespaceId){this.destroyInnerAnimations(t);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(mb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,dV,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Lo(i,fV)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],e.length?Aa(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw Mj(t)}_flushAnimations(t,e){let r=new gd,i=[],o=new Map,l=[],f=new Map,u=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Se=>{d.add(Se);let xe=this.driver.query(Se,uV,!0);for(let je=0;je<xe.length;je++)d.add(xe[je])});let p=this.bodyNode,E=Array.from(this.statesByElement.keys()),m=ZD(E,this.collectedEnterElements),C=new Map,S=0;m.forEach((Se,xe)=>{let je=$D+S++;C.set(xe,je),Se.forEach(Te=>Lo(Te,je))});let h=[],v=new Set,w=new Set;for(let Se=0;Se<this.collectedLeaveElements.length;Se++){let xe=this.collectedLeaveElements[Se],je=xe[rs];je&&je.setForRemoval&&(h.push(xe),v.add(xe),je.hasAnimation?this.driver.query(xe,hV,!0).forEach(Te=>v.add(Te)):w.add(xe))}let M=new Map,j=ZD(E,Array.from(v));j.forEach((Se,xe)=>{let je=_b+S++;M.set(xe,je),Se.forEach(Te=>Lo(Te,je))}),t.push(()=>{m.forEach((Se,xe)=>{let je=C.get(xe);Se.forEach(Te=>Bc(Te,je))}),j.forEach((Se,xe)=>{let je=M.get(xe);Se.forEach(Te=>Bc(Te,je))}),h.forEach(Se=>{this.processLeaveNode(Se)})});let q=[],V=[];for(let Se=this._namespaceList.length-1;Se>=0;Se--)this._namespaceList[Se].drainQueuedTransitions(e).forEach(je=>{let Te=je.player,Fe=je.element;if(q.push(Te),this.collectedEnterElements.length){let ze=Fe[rs];if(ze&&ze.setForMove){if(ze.previousTriggersValues&&ze.previousTriggersValues.has(je.triggerName)){let it=ze.previousTriggersValues.get(je.triggerName),me=this.statesByElement.get(je.element);if(me&&me.has(je.triggerName)){let Ee=me.get(je.triggerName);Ee.value=it,me.set(je.triggerName,Ee)}}Te.destroy();return}}let qe=!p||!this.driver.containsElement(p,Fe),Je=M.get(Fe),Ie=C.get(Fe),Me=this._buildInstruction(je,r,Ie,Je,qe);if(Me.errors&&Me.errors.length){V.push(Me);return}if(qe){Te.onStart(()=>wl(Fe,Me.fromStyles)),Te.onDestroy(()=>Cs(Fe,Me.toStyles)),i.push(Te);return}if(je.isFallbackTransition){Te.onStart(()=>wl(Fe,Me.fromStyles)),Te.onDestroy(()=>Cs(Fe,Me.toStyles)),i.push(Te);return}let At=[];Me.timelines.forEach(ze=>{ze.stretchStartingKeyframe=!0,this.disabledNodes.has(ze.element)||At.push(ze)}),Me.timelines=At,r.append(Fe,Me.timelines);let vt={instruction:Me,player:Te,element:Fe};l.push(vt),Me.queriedElements.forEach(ze=>wo(f,ze,[]).push(Te)),Me.preStyleProps.forEach((ze,it)=>{if(ze.size){let me=u.get(it);me||u.set(it,me=new Set),ze.forEach((Ee,$e)=>me.add($e))}}),Me.postStyleProps.forEach((ze,it)=>{let me=c.get(it);me||c.set(it,me=new Set),ze.forEach((Ee,$e)=>me.add($e))})});if(V.length){let Se=[];V.forEach(xe=>{Se.push(Rj(xe.triggerName,xe.errors))}),q.forEach(xe=>xe.destroy()),this.reportError(Se)}let re=new Map,B=new Map;l.forEach(Se=>{let xe=Se.element;r.has(xe)&&(B.set(xe,xe),this._beforeAnimationBuild(Se.player.namespaceId,Se.instruction,re))}),i.forEach(Se=>{let xe=Se.element;this._getPreviousPlayers(xe,!1,Se.namespaceId,Se.triggerName,null).forEach(Te=>{wo(re,xe,[]).push(Te),Te.destroy()})});let ee=h.filter(Se=>HD(Se,u,c)),le=new Map;VD(le,this.driver,w,c,Ss).forEach(Se=>{HD(Se,u,c)&&ee.push(Se)});let se=new Map;m.forEach((Se,xe)=>{VD(se,this.driver,new Set(Se),u,jm)}),ee.forEach(Se=>{let xe=le.get(Se),je=se.get(Se);le.set(Se,new Map([...xe?.entries()??[],...je?.entries()??[]]))});let he=[],De=[],ie={};l.forEach(Se=>{let{element:xe,player:je,instruction:Te}=Se;if(r.has(xe)){if(d.has(xe)){je.onDestroy(()=>Cs(xe,Te.toStyles)),je.disabled=!0,je.overrideTotalTime(Te.totalTime),i.push(je);return}let Fe=ie;if(B.size>1){let Je=xe,Ie=[];for(;Je=Je.parentNode;){let Me=B.get(Je);if(Me){Fe=Me;break}Ie.push(Je)}Ie.forEach(Me=>B.set(Me,Fe))}let qe=this._buildAnimation(je.namespaceId,Te,re,o,se,le);if(je.setRealPlayer(qe),Fe===ie)he.push(je);else{let Je=this.playersByElement.get(Fe);Je&&Je.length&&(je.parentPlayer=Aa(Je)),i.push(je)}}else wl(xe,Te.fromStyles),je.onDestroy(()=>Cs(xe,Te.toStyles)),De.push(je),d.has(xe)&&i.push(je)}),De.forEach(Se=>{let xe=o.get(Se.element);if(xe&&xe.length){let je=Aa(xe);Se.setRealPlayer(je)}}),i.forEach(Se=>{Se.parentPlayer?Se.syncPlayerEvents(Se.parentPlayer):Se.destroy()});for(let Se=0;Se<h.length;Se++){let xe=h[Se],je=xe[rs];if(Bc(xe,_b),je&&je.hasAnimation)continue;let Te=[];if(f.size){let qe=f.get(xe);qe&&qe.length&&Te.push(...qe);let Je=this.driver.query(xe,vb,!0);for(let Ie=0;Ie<Je.length;Ie++){let Me=f.get(Je[Ie]);Me&&Me.length&&Te.push(...Me)}}let Fe=Te.filter(qe=>!qe.destroyed);Fe.length?yV(this,xe,Fe):this.processLeaveNode(xe)}return h.length=0,he.forEach(Se=>{this.players.push(Se),Se.onDone(()=>{Se.destroy();let xe=this.players.indexOf(Se);this.players.splice(xe,1)}),Se.play()}),he}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let l=[];if(e){let f=this.playersByQueriedElement.get(t);f&&(l=f)}else{let f=this.playersByElement.get(t);if(f){let u=!o||o==md;f.forEach(c=>{c.queued||!u&&c.triggerName!=i||l.push(c)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(t,e,r){let i=e.triggerName,o=e.element,l=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:i;for(let u of e.timelines){let c=u.element,d=c!==o,p=wo(r,c,[]);this._getPreviousPlayers(c,d,l,f,e.toState).forEach(m=>{let C=m.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),m.destroy(),p.push(m)})}wl(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,l){let f=e.triggerName,u=e.element,c=[],d=new Set,p=new Set,E=e.timelines.map(C=>{let S=C.element;d.add(S);let h=S[rs];if(h&&h.removedBeforeQueried)return new Da(C.duration,C.delay);let v=S!==u,w=bV((r.get(S)||mV).map(re=>re.getRealPlayer())).filter(re=>{let B=re;return B.element?B.element===S:!1}),M=o.get(S),j=l.get(S),q=zD(this._normalizer,C.keyframes,M,j),V=this._buildPlayer(C,q,w);if(C.subTimeline&&i&&p.add(S),v){let re=new vd(t,f,S);re.setRealPlayer(V),c.push(re)}return V});c.forEach(C=>{wo(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>gV(this.playersByQueriedElement,C.element,C))}),d.forEach(C=>Lo(C,OD));let m=Aa(E);return m.onDestroy(()=>{d.forEach(C=>Bc(C,OD)),Cs(u,e.toStyles)}),p.forEach(C=>{wo(i,C,[]).push(m)}),m}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Da(t.duration,t.delay)}},vd=class{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Da,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Nb(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){wo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function gV(n,t,e){let r=n.get(t);if(r){if(r.length){let i=r.indexOf(e);r.splice(i,1)}r.length==0&&n.delete(t)}return r}function _V(n){return n??null}function zm(n){return n&&n.nodeType===1}function vV(n){return n=="start"||n=="done"}function jD(n,t){let e=n.style.display;return n.style.display=t??"none",e}function VD(n,t,e,r,i){let o=[];e.forEach(u=>o.push(jD(u)));let l=[];r.forEach((u,c)=>{let d=new Map;u.forEach(p=>{let E=t.computeStyle(c,p,i);d.set(p,E),(!E||E.length==0)&&(c[rs]=pV,l.push(c))}),n.set(c,d)});let f=0;return e.forEach(u=>jD(u,o[f++])),l}function ZD(n,t){let e=new Map;if(n.forEach(f=>e.set(f,[])),t.length==0)return e;let r=1,i=new Set(t),o=new Map;function l(f){if(!f)return r;let u=o.get(f);if(u)return u;let c=f.parentNode;return e.has(c)?u=c:i.has(c)?u=r:u=l(c),o.set(f,u),u}return t.forEach(f=>{let u=l(f);u!==r&&e.get(u).push(f)}),e}function Lo(n,t){n.classList?.add(t)}function Bc(n,t){n.classList?.remove(t)}function yV(n,t,e){Aa(e).onDone(()=>n.processLeaveNode(t))}function bV(n){let t=[];return nA(n,t),t}function nA(n,t){for(let e=0;e<n.length;e++){let r=n[e];r instanceof ud?nA(r.players,t):t.push(r)}}function EV(n,t){let e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function HD(n,t,e){let r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}var jc=class{constructor(t,e,r){this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Mb(t.body,e,r),this._timelineEngine=new Ab(t.body,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){let l=t+"-"+i,f=this._triggerCache[l];if(!f){let u=[],c=[],d=JD(this._driver,o,u,c);if(u.length)throw bj(i,u);c.length&&void 0,f=aV(i,d,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(e,i,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if(r.charAt(0)=="@"){let[o,l]=RD(r),f=i;this._timelineEngine.command(o,e,l,f)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if(r.charAt(0)=="@"){let[l,f]=RD(r);return this._timelineEngine.listen(l,e,f,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function wV(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=gb(t[0]),t.length>1&&(r=gb(t[t.length-1]))):t instanceof Map&&(e=gb(t)),e||r?new TV(n,e,r):null}var TV=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Cs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cs(this._element,this._initialStyles),this._endStyles&&(Cs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wl(this._element,this._endStyles),this._endStyles=null),Cs(this._element,this._initialStyles),this._state=3)}}return n})();function gb(n){let t=null;return n.forEach((e,r)=>{SV(r)&&(t=t||new Map,t.set(r,e))}),t}function SV(n){return n==="display"||n==="position"}var ep=class{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&t.set(i,this._finished?r:QD(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},tp=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return GD(t,e)}getParentElement(t){return Pb(t)}query(t,e,r){return qD(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,l=[]){let f=i==0?"both":"forwards",u={duration:r,delay:i,fill:f};o&&(u.easing=o);let c=new Map,d=l.filter(m=>m instanceof ep);Zj(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((C,S)=>c.set(S,C))});let p=Uj(e).map(m=>Uc(m));p=Hj(t,p,c);let E=wV(t,p);return new ep(t,p,u,E)}};var Gm="@",rA="@.disabled",np=class{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){e.charAt(0)==Gm&&e==rA?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Rb=class extends np{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){e.charAt(0)==Gm?e.charAt(1)=="."&&e==rA?(r=r===void 0?!0:!!r,this.disableAnimations(t,r)):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if(e.charAt(0)==Gm){let i=CV(t),o=e.slice(1),l="";return o.charAt(0)!=Gm&&([o,l]=IV(o)),this.engine.listen(this.namespaceId,i,o,l,f=>{let u=f._data||-1;this.factory.scheduleListenerCallback(u,r,f)})}return this.delegate.listen(t,e,r)}};function CV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function IV(n){let t=n.indexOf("."),e=n.substring(0,t),r=n.slice(t+1);return[e,r]}var rp=class{constructor(t,e,r){this.delegate=t,this.engine=e,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(i,o)=>{let l=o?.parentNode(i);l&&o.removeChild(l,i)}}createRenderer(t,e){let r="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,d=c.get(i);if(!d){let p=()=>c.delete(i);d=new np(r,i,this.engine,p),c.set(i,d)}return d}let o=e.id,l=e.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);let f=c=>{Array.isArray(c)?c.forEach(f):this.engine.registerTrigger(o,l,t,c.name,c)};return e.data.animation.forEach(f),new Rb(this,l,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,r){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[l,f]=o;l(f)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var AV=(()=>{class n extends jc{constructor(e,r,i,o){super(e,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn),Ut(yd),Ut(Tl),Ut(ys))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac})}}return n})();function xV(){return new Wm}function MV(n,t,e){return new rp(n,t,e)}var iA=[{provide:Tl,useFactory:xV},{provide:jc,useClass:AV},{provide:rl,useFactory:MV,deps:[lm,jc,Pn]}],RV=[{provide:yd,useFactory:()=>new tp},{provide:ci,useValue:"BrowserAnimations"},...iA],pK=[{provide:yd,useClass:kb},{provide:ci,useValue:"NoopAnimations"},...iA];function oA(){return[...RV]}function NV(){return!0}var OV=new pn("mat-sanity-checks",{providedIn:"root",factory:NV}),jr=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return ad()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(r){return new(r||n)(Ut(ub),Ut(OV,8),Ut(Hn))}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[Ia,Ia]})}}return n})();function Vc(n,t){return class extends n{get color(){return this._color}set color(e){let r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function mA(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=vi(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function pA(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e!=null?bo(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function gA(n){return class extends n{updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,r=this.errorStateMatcher||this._defaultErrorStateMatcher,i=this.ngControl?this.ngControl.control:null,o=r.isErrorState(i,e);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}var op=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jb=class{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},sA=Po({passive:!0,capture:!0}),Vb=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=ts(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,r,i){let o=this._events.get(e);if(o){let l=o.get(r);l?l.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,sA)})}removeHandler(t,e,r){let i=this._events.get(t);if(!i)return;let o=i.get(e);o&&(o.delete(r),o.size===0&&i.delete(e),i.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,sA)))}},aA={enterDuration:225,exitDuration:150},PV=800,lA=Po({passive:!0,capture:!0}),cA=["mousedown","touchstart"],uA=["mouseup","mouseleave","touchend","touchcancel"],Zb=class n{static{this._eventManager=new Vb}constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ko(r))}fadeInRipple(t,e,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=on(on({},aA),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);let l=r.radius||kV(t,e,i),f=t-i.left,u=e-i.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${f-l}px`,d.style.top=`${u-l}px`,d.style.height=`${l*2}px`,d.style.width=`${l*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),E=p.transitionProperty,m=p.transitionDuration,C=E==="none"||m==="0s"||m==="0s, 0s"||i.width===0&&i.height===0,S=new jb(this,d,r,C);d.style.transform="scale3d(1, 1, 1)",S.state=0,r.persistent||(this._mostRecentTransientRipple=S);let h=null;return!C&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>this._finishRippleTransition(S),w=()=>this._destroyRipple(S);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",w),h={onTransitionEnd:v,onTransitionCancel:w}}),this._activeRipples.set(S,h),(C||!c)&&this._finishRippleTransition(S),S}fadeOutRipple(t){if(t.state===2||t.state===3)return;let e=t.element,r=on(on({},aA),t.config.animation);e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=ko(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,cA.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uA.forEach(e=>{this._triggerElement.addEventListener(e,this,lA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===0?this._startFadeOutTransition(t):t.state===2&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){let e=ld(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+PV;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!cd(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===1||t.config.terminateOnPointerUp&&t.state===0;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(cA.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&uA.forEach(e=>t.removeEventListener(e,this,lA)))}};function kV(n,t,e){let r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}var _A=new pn("mat-ripple-global-options"),Ed=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Zb(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:on(on(on({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,r,on(on({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,on(on({},this.rippleConfig),e))}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Pn),Et(Ir),Et(_A,8),Et(ci,8))}}static{this.\u0275dir=Yn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&vr("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),Is=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[jr,jr]})}}return n})();var dA={capture:!0},fA=["focus","click","mouseenter","touchstart"],Bb="mat-ripple-loader-uninitialized",Ub="mat-ripple-loader-class-name",hA="mat-ripple-loader-centered",ip="mat-ripple-loader-disabled",vA=(()=>{class n{constructor(){this._document=pt(Hn,{optional:!0}),this._animationMode=pt(ci,{optional:!0}),this._globalRippleOptions=pt(_A,{optional:!0}),this._platform=pt(Ir),this._ngZone=pt(Pn),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;let i=e.target.closest(`[${Bb}]`);i&&this._createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(let e of fA)this._document?.addEventListener(e,this._onInteraction,dA)})}ngOnDestroy(){let e=this._hosts.keys();for(let r of e)this.destroyRipple(r);for(let r of fA)this._document?.removeEventListener(r,this._onInteraction,dA)}configureRipple(e,r){e.setAttribute(Bb,""),(r.className||!e.hasAttribute(Ub))&&e.setAttribute(Ub,r.className||""),r.centered&&e.setAttribute(hA,""),r.disabled&&e.setAttribute(ip,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,r){let i=this._hosts.get(e);if(i){i.disabled=r;return}r?e.setAttribute(ip,""):e.removeAttribute(ip)}_createRipple(e){if(!this._document)return;let r=this._hosts.get(e);if(r)return r;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(Ub)),e.append(i);let o=new Ed(new Un(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(hA),o.disabled=e.hasAttribute(ip),this.attachRipple(e,o),o}attachRipple(e,r){e.removeAttribute(Bb),this._hosts.set(e,r)}destroyRipple(e){let r=this._hosts.get(e);r&&(r.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var FV=["*"],sp;function LV(){if(sp===void 0&&(sp=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(sp=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return sp}function wd(n){return LV()?.createHTML(n)||n}function yA(n){return Error(`Unable to find icon with the name "${n}"`)}function BV(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function bA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function EA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Ys=class{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}},zb=(()=>{class n{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Ys(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){let l=this._sanitizer.sanitize(Wr.HTML,i);if(!l)throw EA(i);let f=wd(l);return this._addSvgIconConfig(e,r,new Ys("",f,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Ys(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let o=this._sanitizer.sanitize(Wr.HTML,r);if(!o)throw EA(r);let l=wd(o);return this._addSvgIconSetConfig(e,new Ys("",l,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(Wr.RESOURCE_URL,e);if(!r)throw bA(e);let i=this._cachedIconsByUrl.get(r);return i?Fn(ap(i)):this._loadSvgIconFromConfig(new Ys(e,null)).pipe(ar(o=>this._cachedIconsByUrl.set(r,o)),jn(o=>ap(o)))}getNamedSvgIcon(e,r=""){let i=wA(r,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):ta(yA(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Fn(ap(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(jn(r=>ap(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return Fn(i);let o=r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(ss(f=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Wr.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(c)),Fn(null)})));return fu(o).pipe(jn(()=>{let l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw yA(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let l=this._svgElementFromConfig(o),f=this._extractSvgIconFromSet(l,e,o.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ar(r=>e.svgText=r),jn(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Fn(null):this._fetchIcon(e).pipe(ar(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let o=e.querySelector(`[id="${r}"]`);if(!o)return null;let l=o.cloneNode(!0);if(l.removeAttribute("id"),l.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(l,i);if(l.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(l),i);let f=this._svgElementFromString(wd("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(wd("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:l,value:f}=i[o];l!=="id"&&r.setAttribute(l,f)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw BV();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let l=this._sanitizer.sanitize(Wr.RESOURCE_URL,r);if(!l)throw bA(r);let f=this._inProgressUrlFetches.get(l);if(f)return f;let u=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe(jn(c=>wd(c)),ia(()=>this._inProgressUrlFetches.delete(l)),mu());return this._inProgressUrlFetches.set(l,u),u}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(wA(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,e);if(o)return UV(o)?new Ys(o.url,null,o.options):new Ys(o,null)}}static{this.\u0275fac=function(r){return new(r||n)(Ut(gI,8),Ut(_i),Ut(Hn,8),Ut(lo))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ap(n){return n.cloneNode(!0)}function wA(n,t){return n+":"+t}function UV(n){return!!(n.url&&n.options)}var jV=Vc(class{constructor(n){this._elementRef=n}}),VV=new pn("MAT_ICON_DEFAULT_OPTIONS"),ZV=new pn("mat-icon-location",{providedIn:"root",factory:HV});function HV(){let n=pt(Hn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var TA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zV=TA.map(n=>`[${n}]`).join(", "),GV=/^url\(['"]?#(.*?)['"]?\)$/,Zi=(()=>{class n extends jV{get inline(){return this._inline}set inline(e){this._inline=vi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,o,l,f){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=pr.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(zV),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)TA.forEach(l=>{let f=r[o],u=f.getAttribute(l),c=u?u.match(GV):null;if(c){let d=i.get(f);d||(d=[],i.set(f,d)),d.push({name:l,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(qr(1)).subscribe(o=>this._setSvgElement(o),o=>{let l=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(l))})}}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(zb),js("aria-hidden"),Et(ZV),Et(lo),Et(VV,8))}}static{this.\u0275cmp=_n({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(r,i){r&2&&(br("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),vr("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Kr],ngContentSelectors:FV,decls:1,vars:0,template:function(r,i){r&1&&(Mi(),kr(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),Hr=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[jr,jr]})}}return n})();var lp=(()=>{class n{transform(e){if(e==null)return"-";let r=new Date(Date.now()-e*1e3);return r.getUTCFullYear()>1970?`${r.getUTCFullYear()-1970}y`:r.getUTCMonth()>0?`${r.getUTCMonth()}mo`:r.getUTCDate()>1?`${r.getUTCDate()-1}d`:r.getUTCHours()>0?`${r.getUTCHours()}h`:`${r.getUTCMinutes()}m`}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=sl({name:"age",type:n,pure:!0,standalone:!0})}}return n})();var Gb=(()=>{class n{transform(e){if(isNaN(+`${e}`)||e===0)return"0";let r=Math.log10(e);return r<3?`${e}`:r<6?`${Math.floor(e/1e3)}K`:r<9?`${Math.floor(e/1e6)}M`:"lots"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=sl({name:"count",type:n,pure:!0,standalone:!0})}}return n})();var SA=(()=>{class n{transform(e){let r=new Date(0);r.setUTCSeconds(e||0);let i=r.toISOString().substring(11,19);return r.getUTCHours()>0?i:r.getUTCMinutes()>0?i.substring(3):i.substring(4)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=sl({name:"time",type:n,pure:!0,standalone:!0})}}return n})();var IA=I1(CA());var qV=["video"];function YV(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",12),Tn("click",function(){ur(e),un();let i=Zr(4);return dr(i.play())}),Lt()}}function $V(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",13),Tn("click",function(){ur(e),un();let i=Zr(4);return dr(i.pause())}),Lt()}}function WV(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",16),Tn("click",function(){ur(e),un(2);let i=Zr(4);return dr(i.muted=!i.muted)}),Lt()}}function KV(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",17),Tn("click",function(){ur(e),un(2);let i=Zr(4);return dr(i.muted=!i.muted)}),Lt()}}function QV(n,t){if(n&1&&(eo(0),bn(1,WV,1,0,"mat-icon",14)(2,KV,1,0,"mat-icon",15),to()),n&2){un();let e=Zr(4);It(),Ct("ngIf",e.muted),It(),Ct("ngIf",!e.muted)}}var XV=n=>({"--p":n}),DA=(()=>{class n{constructor(){this.#e=new IntersectionObserver((e,r)=>this.#a(e,r),{root:null,rootMargin:"32px",threshold:0}),this.#n=!1,this.#i=0,this.#r=!1,this.#s="",this.has_audio=!0,this.cd=pt(Yr)}#e;#t;#n;#i;#r;#s;#o;set value(e){e&&e.nativeElement&&(this.#o=e.nativeElement)}#a(e,r){if(e[0].isIntersecting){this.#n||(this.#r?this.#t.attachSource(this.#s):this.#o.src=this.#s,this.#n=!0);return}this.#n&&(this.#o.paused||this.#o.ended||this.#o.pause())}ngOnInit(){return $n(this,null,function*(){let e=this.data.videos.find(r=>r.type==="application/dash+xml");if(this.#s=e?.url||this.data.videos[this.data.videos.length-1].url,e==null){this.#e.observe(this.#o);return}this.#r=!0,yield this.#l(this.#s),this.#t=(0,IA.MediaPlayer)().create(),this.#t.initialize(this.#o,"",!1),this.#t.setMute(!0),this.#t.updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:this.#i-1}}}}),this.#e.observe(this.#o)})}ngOnDestroy(){this.#t?.destroy()}onLoadeddata(){this.#r||(this.has_audio="mozHasAudio"in this.#o&&this.#o.mozHasAudio||"webkitAudioDecodedByteCount"in this.#o&&this.#o.webkitAudioDecodedByteCount>0||"audioTracks"in this.#o&&this.#o.audioTracks.length>0,this.#o.muted=!0)}skip(e,r,i){let o=r.getBoundingClientRect(),l=(e.pageX-o.left)/r.offsetWidth;i.currentTime=l*i.duration}#l(e){return $n(this,null,function*(){try{let r=yield fetch(e);if(!r.ok)return;let i=yield r.text();if(String.isNullOrWhitespace(i))return;let o=new DOMParser().parseFromString(i,"application/xml");if(o==null)return;let l=o.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=l!=null;let f=o.querySelector('AdaptationSet[contentType="video"]');if(f==null)return;let u=f.querySelectorAll("Representation");if(u==null||u.length===0)return;let c=Array.from(u).map(d=>Number(d.getAttribute("bandwidth"))).filter(d=>!isNaN(d));if(c==null||c.length===0)return;this.#i=Math.max(...c)}catch{return}})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-body-video"]],viewQuery:function(r,i){if(r&1&&Qr(qV,7),r&2){let o;fr(o=hr())&&(i.value=o.first)}},inputs:{data:"data"},standalone:!0,features:[Ln],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(r,i){if(r&1){let o=Er();Ft(0,"div",0),mn(1,"mat-icon",1)(2,"mat-icon",2),Lt(),Ft(3,"video",3,4),Tn("loadeddata",function(){return i.onLoadeddata()})("click",function(){ur(o);let f=Zr(4);return dr(f.paused||f.ended?f.play():f.pause())})("timeupdate",function(){return i.cd.detectChanges()}),Lt(),Ft(5,"div",5),bn(6,YV,1,0,"mat-icon",6)(7,$V,1,0,"mat-icon",7),Ft(8,"div",8,9),Tn("click",function(f){ur(o);let u=Zr(9),c=Zr(4);return dr(i.skip(f,u,c))}),Ft(10,"div",10),Zn(11),Xo(12,"time"),Xo(13,"time"),Lt()(),bn(14,QV,3,2,"ng-container",11),Lt()}if(r&2){let o=Zr(4);It(6),Ct("ngIf",o.paused||o.ended),It(),Ct("ngIf",!o.paused&&!o.ended),It(),Ct("ngStyle",Ti(10,XV,((o==null?null:o.currentTime)||0)*100/o.duration+"%")),It(3),Bu("",Jo(12,6,o.currentTime)," / ",Jo(13,8,o.duration)," "),It(3),Ct("ngIf",i.has_audio)}},dependencies:[Hr,Zi,Cr,_c,SA],changeDetection:0})}}return n})();function JV(n,t){if(n&1&&mn(0,"post-body-embed",1),n&2){let e=un();Ct("data",e._data)}}function e3(n,t){if(n&1&&mn(0,"post-body-image",1),n&2){let e=un();Ct("data",e._data)}}function t3(n,t){if(n&1&&mn(0,"post-body-text",1),n&2){let e=un();Ct("data",e._data)}}function n3(n,t){if(n&1&&mn(0,"post-body-video",1),n&2){let e=un();Ct("data",e._data)}}function r3(n,t){if(n&1&&mn(0,"post-body-link",1),n&2){let e=un();Ct("data",e._data)}}var AA=(()=>{class n{set data(e){this._data=e.is_crosspost?e.crosspost:e}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(r,i){r&1&&bn(0,JV,1,1,"post-body-embed",0)(1,e3,1,1,"post-body-image",0)(2,t3,1,1,"post-body-text",0)(3,n3,1,1,"post-body-video",0)(4,r3,1,1,"post-body-link",0),r&2&&(Ct("ngIf",i._data==null?null:i._data.has_embed),It(),Ct("ngIf",i._data==null?null:i._data.has_image),It(),Ct("ngIf",i._data==null?null:i._data.has_text),It(),Ct("ngIf",i._data==null?null:i._data.has_video),It(),Ct("ngIf",i._data==null?null:i._data.has_link))},dependencies:[Cr,iD,oD,hD,mD,DA],changeDetection:0})}}return n})();var Zc=class extends Ni{};var ro=function(n){return n.Listing="Listing",n.Comment="t1",n.Account="t2",n.Link="t3",n.Message="t4",n.Subreddit="t5",n.Award="t6",n.More="more",n}(ro||{});var i3=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function Td(n,t){let e={};return o3(n,e),s3(n,e),a3(n,e,t),l3(n,e),c3(n,e),_3(n,e),v3(n,e),h3(n,e,t),e}function o3(n,t){if(t.is_crosspost=String.hasData(n.crosspost_parent)&&Array.isArray(n.crosspost_parent_list)&&n.crosspost_parent_list.length>0,n.media?.reddit_video){t.has_video=!0;return}if(n.preview?.reddit_video_preview){t.has_video=!0;return}if(n.preview&&Array.isArray(n.preview.images)&&n.preview.images[0].variants&&"mp4"in n.preview.images[0].variants){t.has_video=!0;return}if(n.media_embed?.content){t.has_embed=!0;return}if(String.hasData(n.selftext_html)&&(t.has_text=!0),n.thumbnail&&n.thumbnail==="default"&&(t.has_link=!0),n.post_hint&&n.post_hint==="link"&&n.domain!=="imgur.com"&&(t.has_link=!0),n.preview&&Array.isArray(n.preview.images)){t.has_image=!0;return}if(n.gallery_data){t.has_image=!0,t.has_image_gallery=!0;return}if(i3.some(e=>n.url.endsWith(e))){t.has_image=!0;return}!t.has_image&&!t.has_text&&(t.has_link=!0)}function s3(n,t){t.author=n.author,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.num_comments=n.num_comments,t.stickied=n.stickied,t.subreddit=n.subreddit,t.title=n.title,t.ups=n.ups,t.url=n.url}function a3(n,t,e){t.is_crosspost&&(t.crosspost=Td(n.crosspost_parent_list[0],e))}function l3(n,t){t.has_embed&&(t.embed=n.media_embed.content)}function c3(n,t){t.has_image&&(t.images=n.gallery_data!=null?u3(n):n.preview!=null?d3(n):f3(n))}function u3(n){return n.gallery_data.items.map(t=>{let e=n.media_metadata[t.media_id];return e.status!=="valid"?{src:"",srcset:"",href:n.url}:{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:n.url}})}function d3(n){let t=n.preview.images[0];return[{src:t.source.url,srcset:t.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:n.url}]}function f3(n){return[{src:n.url,srcset:n.url,href:n.url}]}function h3(n,t,e){t.has_video&&(t.videos=n.media&&n.media.reddit_video?m3(n):n.preview&&n.preview.reddit_video_preview?p3(n):g3(n),!e&&(t.videos=t.videos.filter(r=>r.type=="video/mp4")))}function m3(n){return[{url:n.media.reddit_video.dash_url,type:"application/dash+xml"},{url:n.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:n.media.reddit_video.fallback_url,type:"video/mp4"}]}function p3(n){return[{url:n.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:n.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:n.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}function g3(n){return[{url:n.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}function _3(n,t){t.has_link&&(t.url=n.url)}function v3(n,t){t.has_text&&(t.selftext_html=n.selftext_html)}function Ds(n){n||(Tv(Ds),n=pt($h));let t=new Qn(e=>n.onDestroy(e.next.bind(e)));return e=>e.pipe(xr(t))}var y3=["determinateSpinner"];function b3(n,t){if(n&1&&(Ru(),Ft(0,"svg",11),mn(1,"circle",12),Lt()),n&2){let e=un();br("viewBox",e._viewBox()),It(),Hs("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),br("r",e._circleRadius())}}var E3=Vc(class{constructor(n){this._elementRef=n}},"primary"),w3=new pn("mat-progress-spinner-default-options",{providedIn:"root",factory:T3});function T3(){return{diameter:xA}}var xA=100,S3=10,MA=(()=>{class n extends E3{constructor(e,r,i){super(e),this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",this._value=0,this._diameter=xA,this._noopAnimations=r==="NoopAnimations"&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,bo(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=bo(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=bo(e)}_circleRadius(){return(this.diameter-S3)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(ci,8),Et(w3))}}static{this.\u0275cmp=_n({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(r&1&&Qr(y3,5),r&2){let o;fr(o=hr())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(r,i){r&2&&(br("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),Hs("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),vr("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[Kr],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(r&1&&(bn(0,b3,2,8,"ng-template",null,0,Qh),Ft(2,"div",1,2),Ru(),Ft(4,"svg",3),mn(5,"circle",4),Lt()(),uS(),Ft(6,"div",5)(7,"div",6)(8,"div",7),Lu(9,8),Lt(),Ft(10,"div",9),Lu(11,8),Lt(),Ft(12,"div",10),Lu(13,8),Lt()()()),r&2){let o=Zr(1);It(4),br("viewBox",i._viewBox()),It(),Hs("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),br("r",i._circleRadius()),It(4),Ct("ngTemplateOutlet",o),It(2),Ct("ngTemplateOutlet",o),It(2),Ct("ngTemplateOutlet",o)}},dependencies:[om],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}}return n})();var RA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[es,jr]})}}return n})();function D3(n,t){n&1&&(Ft(0,"div",1),mn(1,"mat-spinner",2),Lt())}var NA=(()=>{class n{#e;#t;constructor(e){this.#e=0,this.#t=250,this.show=Ji(!1),e.handle(ji).pipe(Ds()).subscribe(r=>this.#n()),e.handle(Vi).pipe(Ds()).subscribe(r=>this.#i(r))}#n(){this.#e++,window.setTimeout(()=>{this.#e!==0&&this.show.set(!0)},this.#t)}#i(e){e.kill?this.#e=0:this.#e>0&&this.#e--,this.#e===0&&this.show.set(!1)}static{this.\u0275fac=function(r){return new(r||n)(Et(Xr))}}static{this.\u0275cmp=_n({type:n,selectors:[["throbber"]],standalone:!0,features:[Ln],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(r,i){r&1&&bn(0,D3,2,0,"div",0),r&2&&Ct("ngIf",i.show())},dependencies:[RA,MA,Cr],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"],changeDetection:0})}}return n})();var OA=(()=>{class n{#e=pt(Xr);#t=pt(Mm);ngOnInit(){return $n(this,null,function*(){let e=[this.#t.loadAsync()];this.#e.raise(ji);try{yield Promise.allSettled(e)}finally{this.#e.raise(Vi)}})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["app-root"]],standalone:!0,features:[Ln],decls:2,vars:0,template:function(r,i){r&1&&mn(0,"throbber")(1,"router-outlet")},dependencies:[Yy,NA],encapsulation:2})}}return n})();function A3(n,t){return()=>$n(this,null,function*(){let r=[{name:"arrow_downward",url:"assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"arrow_upward",url:"assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"clear",url:"assets/cancel_FILL0_wght400_GRAD0_opsz24.svg"},{name:"comment",url:"assets/comment_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_less",url:"assets/expand_less_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_more",url:"assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg"},{name:"favorite_filled",url:"assets/favorite_FILL1_wght400_GRAD0_opsz24.svg"},{name:"favorite",url:"assets/favorite_FILL0_wght400_GRAD0_opsz24.svg"},{name:"groups",url:"assets/groups_FILL0_wght400_GRAD0_opsz24.svg"},{name:"home",url:"assets/home_FILL0_wght400_GRAD0_opsz24.svg"},{name:"more_vert",url:"assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg"},{name:"pause",url:"assets/pause_FILL0_wght400_GRAD0_opsz24.svg"},{name:"person",url:"assets/person_FILL0_wght400_GRAD0_opsz24.svg"},{name:"photo_library",url:"assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg"},{name:"play_arrow",url:"assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg"},{name:"push_pin",url:"assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg"},{name:"search",url:"assets/search_FILL0_wght400_GRAD0_opsz24.svg"},{name:"share",url:"assets/share_FILL0_wght400_GRAD0_opsz24.svg"},{name:"trending_up",url:"assets/trending_up_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_mute",url:"assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_off",url:"assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"}].map(i=>x3(i.url).then(o=>n.addSvgIconLiteral(i.name,t.bypassSecurityTrustHtml(o))));yield Promise.allSettled(r)})}function x3(n){return $n(this,null,function*(){let t=document.baseURI.includes("localhost")?"https://localhost:4200/":document.baseURI,e=yield fetch(new URL(`${t}${n}`));return e.ok?yield e.text():""})}var PA=()=>[{provide:em,useFactory:A3,multi:!0,deps:[zb,_i]}];var Yb=class{constructor(t){this._box=t,this._destroyed=new kn,this._resizeSubject=new kn,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Qn(e=>{let r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Rr(e=>e.some(r=>r.target===t)),Yf({bufferSize:1,refCount:!0}),xr(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},kA=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=pt(Pn),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new Yb(i)),this._observers.get(i).observe(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var M3=["notch"],R3=["matFormFieldNotchedOutline",""],N3=["*"],O3=["textField"],P3=["iconPrefixContainer"],k3=["textPrefixContainer"];function F3(n,t){n&1&&mn(0,"span",16)}function L3(n,t){if(n&1&&(Ft(0,"label",14),kr(1,1),bn(2,F3,1,0,"span",15),Lt()),n&2){let e=un(2);Ct("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),br("for",e._control.id),It(2),xi(2,!e.hideRequiredMarker&&e._control.required?2:-1)}}function B3(n,t){if(n&1&&bn(0,L3,3,5,"label",14),n&2){let e=un();xi(0,e._hasFloatingLabel()?0:-1)}}function U3(n,t){n&1&&mn(0,"div",17)}function j3(n,t){}function V3(n,t){if(n&1&&bn(0,j3,0,0,"ng-template",9),n&2){un(2);let e=Zr(1);Ct("ngTemplateOutlet",e)}}function Z3(n,t){if(n&1&&(Ft(0,"div",5),bn(1,V3,1,1,null,9),Lt()),n&2){let e=un();Ct("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),It(),xi(1,e._forceDisplayInfixLabel()?-1:1)}}function H3(n,t){n&1&&(Ft(0,"div",18,19),kr(2,2),Lt())}function z3(n,t){n&1&&(Ft(0,"div",20,21),kr(2,3),Lt())}function G3(n,t){}function q3(n,t){if(n&1&&bn(0,G3,0,0,"ng-template",9),n&2){un();let e=Zr(1);Ct("ngTemplateOutlet",e)}}function Y3(n,t){n&1&&(Ft(0,"div",22),kr(1,4),Lt())}function $3(n,t){n&1&&(Ft(0,"div",23),kr(1,5),Lt())}function W3(n,t){n&1&&mn(0,"div",12)}function K3(n,t){if(n&1&&(Ft(0,"div",24),kr(1,6),Lt()),n&2){let e=un();Ct("@transitionMessages",e._subscriptAnimationState)}}function Q3(n,t){if(n&1&&(Ft(0,"mat-hint",26),Zn(1),Lt()),n&2){let e=un(2);Ct("id",e._hintLabelId),It(),ei(e.hintLabel)}}function X3(n,t){if(n&1&&(Ft(0,"div",25),bn(1,Q3,2,2,"mat-hint",26),kr(2,7),mn(3,"div",27),kr(4,8),Lt()),n&2){let e=un();Ct("@transitionMessages",e._subscriptAnimationState),It(),xi(1,e.hintLabel?1:-1)}}var J3=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],eZ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"],dp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Yn({type:n,selectors:[["mat-label"]]})}}return n})(),tZ=0,HA=new pn("MatError"),zA=(()=>{class n{constructor(e,r){this.id=`mat-mdc-error-${tZ++}`,e||r.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(r){return new(r||n)(js("aria-live"),Et(Un))}}static{this.\u0275dir=Yn({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){r&2&&dl("id",i.id)},inputs:{id:"id"},features:[hi([{provide:HA,useExisting:n}])]})}}return n})(),nZ=0,fp=(()=>{class n{constructor(){this.align="start",this.id=`mat-mdc-hint-${nZ++}`}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Yn({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(dl("id",i.id),br("align",null),vr("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"}})}}return n})(),rZ=new pn("MatPrefix");var GA=new pn("MatSuffix"),qA=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Yn({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[hi([{provide:GA,useExisting:n}])]})}}return n})(),YA=new pn("FloatingLabelParent"),FA=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=pt(kA),this._ngZone=pt(Pn),this._parent=pt(YA),this._resizeSubscription=new pr}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return iZ(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(r){return new(r||n)(Et(Un))}}static{this.\u0275dir=Yn({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&vr("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return n})();function iZ(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let r=e.scrollWidth;return e.remove(),r}var LA="mdc-line-ripple--active",up="mdc-line-ripple--deactivating",BA=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{let o=this._elementRef.nativeElement.classList,l=o.contains(up);i.propertyName==="opacity"&&l&&o.remove(LA,up)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(up),e.add(LA)}deactivate(){this._elementRef.nativeElement.classList.add(up)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Pn))}}static{this.\u0275dir=Yn({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return n})(),UA=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + ${8+1}px)`}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Pn))}}static{this.\u0275cmp=_n({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&Qr(M3,5),r&2){let o;fr(o=hr())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&vr("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:R3,ngContentSelectors:N3,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(Mi(),mn(0,"div",0),Ft(1,"div",1,2),kr(3),Lt(),mn(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})(),oZ={transitionMessages:dd("transitionMessages",[fd("enter",Fo({opacity:1,transform:"translateY(0%)"})),Lc("void => enter",[Fo({opacity:0,transform:"translateY(-5px)"}),Fc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},$b=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Yn({type:n})}}return n})();var Wb=new pn("MatFormField"),Kb=new pn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),jA=0,VA="fill",sZ="auto",ZA="fixed",aZ="translateY(-50%)",$A=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=vi(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||sZ}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let r=this._appearance,i=e||this._defaults?.appearance||VA;this._appearance=i,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||ZA}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||ZA}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,o,l,f,u,c){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=l,this._defaults=f,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance=VA,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${jA++}`,this._hintLabelId=`mat-mdc-hint-${jA++}`,this._subscriptAnimationState="",this._destroyed=new kn,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(xr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Yi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(xr(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(xr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){let r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,i=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0,f=this._dir.value==="rtl"?"-1":"1",u=`${o+l}px`,d=`calc(${f} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${aZ} translateX(${d})
    )`}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Yr),Et(Pn),Et(Ca),Et(Ir),Et(Kb,8),Et(ci,8),Et(Hn))}}static{this.\u0275cmp=_n({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(r&1&&(Ri(o,dp,5),Ri(o,dp,7),Ri(o,$b,5),Ri(o,rZ,5),Ri(o,GA,5),Ri(o,HA,5),Ri(o,fp,5)),r&2){let l;fr(l=hr())&&(i._labelChildNonStatic=l.first),fr(l=hr())&&(i._labelChildStatic=l.first),fr(l=hr())&&(i._formFieldControl=l.first),fr(l=hr())&&(i._prefixChildren=l),fr(l=hr())&&(i._suffixChildren=l),fr(l=hr())&&(i._errorChildren=l),fr(l=hr())&&(i._hintChildren=l)}},viewQuery:function(r,i){if(r&1&&(Qr(O3,5),Qr(P3,5),Qr(k3,5),Qr(FA,5),Qr(UA,5),Qr(BA,5)),r&2){let o;fr(o=hr())&&(i._textField=o.first),fr(o=hr())&&(i._iconPrefixContainer=o.first),fr(o=hr())&&(i._textPrefixContainer=o.first),fr(o=hr())&&(i._floatingLabel=o.first),fr(o=hr())&&(i._notchedOutline=o.first),fr(o=hr())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){r&2&&vr("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations",i._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[hi([{provide:Wb,useExisting:n},{provide:YA,useExisting:n}])],ngContentSelectors:eZ,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1&&(Mi(J3),bn(0,B3,1,1,"ng-template",null,0,Qh),Ft(2,"div",1,2),Tn("click",function(l){return i._control.onContainerClick(l)}),bn(4,U3,1,0,"div",3),Ft(5,"div",4),bn(6,Z3,2,2,"div",5)(7,H3,3,0,"div",6)(8,z3,3,0,"div",7),Ft(9,"div",8),bn(10,q3,1,1,null,9),kr(11),Lt(),bn(12,Y3,2,0,"div",10)(13,$3,2,0,"div",11),Lt(),bn(14,W3,1,0,"div",12),Lt(),Ft(15,"div",13),bn(16,K3,2,1)(17,X3,5,2),Lt()),r&2){let o;It(2),vr("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),It(2),xi(4,!i._hasOutline()&&!i._control.disabled?4:-1),It(2),xi(6,i._hasOutline()?6:-1),It(),xi(7,i._hasIconPrefix?7:-1),It(),xi(8,i._hasTextPrefix?8:-1),It(2),xi(10,!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),It(2),xi(12,i._hasTextSuffix?12:-1),It(),xi(13,i._hasIconSuffix?13:-1),It(),xi(14,i._hasOutline()?-1:14),It(),vr("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic"),It(),xi(16,(o=i._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[om,fp,FA,UA,BA],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[oZ.transitionMessages]},changeDetection:0})}}return n})(),Sd=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[jr,es,Rm,jr]})}}return n})();var cZ=["mat-button",""],uZ=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],dZ=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var fZ=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var hZ=["mat-icon-button",""],mZ=["*"];var pZ=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],WA=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,r,i,o){this._elementRef=e,this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=pt(Gs),this._rippleLoader=pt(vA),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let l=this._elementRef.nativeElement,f=l.classList;for(let{attribute:u,mdcClasses:c}of pZ)l.hasAttribute(u)&&f.add(...c)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(r){Ov()}}static{this.\u0275dir=Yn({type:n,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",gi],disabled:["disabled","disabled",gi]},features:[uo]})}}return n})();var Ma=(()=>{class n extends WA{constructor(e,r,i,o){super(e,r,i,o)}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Ir),Et(Pn),Et(ci,8))}}static{this.\u0275cmp=_n({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(r,i){r&2&&(br("disabled",i.disabled||null),zv(i.color?"mat-"+i.color:""),vr("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Kr],attrs:cZ,ngContentSelectors:dZ,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Mi(uZ),mn(0,"span",0),kr(1),Ft(2,"span",1),kr(3,1),Lt(),kr(4,2),mn(5,"span",2)(6,"span",3)),r&2&&vr("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();var Ra=(()=>{class n extends WA{constructor(e,r,i,o){super(e,r,i,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Ir),Et(Pn),Et(ci,8))}}static{this.\u0275cmp=_n({type:n,selectors:[["button","mat-icon-button",""]],hostVars:9,hostBindings:function(r,i){r&2&&(br("disabled",i.disabled||null),zv(i.color?"mat-"+i.color:""),vr("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Kr],attrs:hZ,ngContentSelectors:mZ,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Mi(),mn(0,"span",0),kr(1),mn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;border-radius:50%;flex-shrink:0;text-align:center;font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',fZ],encapsulation:2,changeDetection:0})}}return n})();var oi=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[jr,Is,jr]})}}return n})();var Id=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Dd=class extends Id{constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}},Hc=class extends Id{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Qb=class extends Id{constructor(t){super(),this.element=t instanceof Un?t.nativeElement:t}},Xb=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Dd)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Hc)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Qb)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ad=class extends Xb{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{this._document;let f=l.element;f.parentNode;let u=this._document.createComment("dom-portal");f.parentNode.insertBefore(u,f),this.outletElement.appendChild(f),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(f,u)})},this._document=o}attachComponentPortal(t){let r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Bi.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);i!==-1&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var KA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({})}}return n})();var QA=(()=>{class n{constructor(){this._listeners=[]}notify(e,r){for(let i of this._listeners)i(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _Z=20,xd=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new kn,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=_Z){return this._platform.isBrowser?new Qn(r=>{this._globalSubscription||this._addGlobalListener();let i=e>0?this._scrolled.pipe(Hf(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Rr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=ko(r),o=e.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Jl(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Pn),Ut(Ir),Ut(Hn,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var vZ=20,hp=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new kn,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect(),l=-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,f=-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:l,left:f}}change(e=vZ){return e>0?this._change.pipe(Hf(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(Ut(Ir),Ut(Pn),Ut(Hn,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var zc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({})}}return n})(),Jb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[Ia,zc,Ia,zc]})}}return n})();var XA=gD(),e0=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ui(-this._previousScrollPosition.left),t.style.top=ui(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,r=t.style,i=e.style,o=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),XA&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XA&&(r.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}};var t0=class{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Rr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},mp=class{enable(){}disable(){}attach(){}};function n0(n,t){return t.some(e=>{let r=n.bottom<e.top,i=n.top>e.bottom,o=n.right<e.left,l=n.left>e.right;return r||i||o||l})}function JA(n,t){return t.some(e=>{let r=n.top<e.top,i=n.bottom>e.bottom,o=n.left<e.left,l=n.right>e.right;return r||i||o||l})}var r0=class{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();n0(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},bZ=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new mp,this.close=l=>new t0(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new e0(this._viewportRuler,this._document),this.reposition=l=>new r0(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}static{this.\u0275fac=function(r){return new(r||n)(Ut(xd),Ut(hp),Ut(Pn),Ut(Hn))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Md=class{constructor(t){if(this.scrollStrategy=new mp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let r of e)t[r]!==void 0&&(this[r]=t[r])}}};var i0=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var ix=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),EZ=(()=>{class n extends ix{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{let o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){let f=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn),Ut(Pn,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wZ=(()=>{class n extends ix{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=ts(o)},this._clickListener=o=>{let l=ts(o),f=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let c=u.length-1;c>-1;c--){let d=u[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(l)||d.overlayElement.contains(f))break;let p=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(e){if(super.add(e),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn),Ut(Ir),Ut(Pn,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ox=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||ad()){let i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(e),ad()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hn),Ut(Ir))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),o0=class{constructor(t,e,r,i,o,l,f,u,c,d=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=f,this._location=u,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new kn,this._attachments=new kn,this._detachments=new kn,this._locationChanges=pr.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new kn,this._outsidePointerEvents=new kn,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=on(on({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Sr(on({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ui(this._config.width),t.height=ui(this._config.height),t.minWidth=ui(this._config.minWidth),t.minHeight=ui(this._config.minHeight),t.maxWidth=ui(this._config.maxWidth),t.maxHeight=ui(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){let i=Pc(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(xr(Yi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},ex="cdk-overlay-connected-position-bounding-box",TZ=/([A-Za-z%]+)$/,s0=class{get positions(){return this._preferredPositions}constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kn,this._resizeSubscription=pr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(ex),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],l;for(let f of this._preferredPositions){let u=this._getOriginPoint(t,i,f),c=this._getOverlayPoint(u,e,f),d=this._getOverlayFit(c,e,r,f);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(f,u);return}if(this._canFitWithFlexibleDimensions(d,c,r)){o.push({position:f,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,f)});continue}(!l||l.overlayFit.visibleArea<d.visibleArea)&&(l={overlayFit:d,overlayPoint:c,originPoint:u,position:f,overlayRect:e})}if(o.length){let f=null,u=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>u&&(u=d,f=c)}this._isPushed=!1,this._applyPosition(f.position,f.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(l.position,l.originPoint);return}this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Sl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ex),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i;if(r.originX=="center")i=t.left+t.width/2;else{let l=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;i=r.originX=="start"?l:f}e.left<0&&(i-=e.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i;r.overlayX=="center"?i=-e.width/2:r.overlayX==="start"?i=this._isRtl()?-e.width:0:i=this._isRtl()?0:-e.width;let o;return r.overlayY=="center"?o=-e.height/2:o=r.overlayY=="top"?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){let o=nx(e),{x:l,y:f}=t,u=this._getOffset(i,"x"),c=this._getOffset(i,"y");u&&(l+=u),c&&(f+=c);let d=0-l,p=l+o.width-r.width,E=0-f,m=f+o.height-r.height,C=this._subtractOverflows(o.width,d,p),S=this._subtractOverflows(o.height,E,m),h=C*S;return{visibleArea:h,isCompletelyWithinViewport:o.width*o.height===h,fitsInViewportVertically:S===o.height,fitsInViewportHorizontally:C==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){let i=r.bottom-e.y,o=r.right-e.x,l=tx(this._overlayRef.getConfig().minHeight),f=tx(this._overlayRef.getConfig().minWidth),u=t.fitsInViewportVertically||l!=null&&l<=i,c=t.fitsInViewportHorizontally||f!=null&&f<=o;return u&&c}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=nx(e),o=this._viewportRect,l=Math.max(t.x+i.width-o.width,0),f=Math.max(t.y+i.height-o.height,0),u=Math.max(o.top-r.top-t.y,0),c=Math.max(o.left-r.left-t.x,0),d=0,p=0;return i.width<=o.width?d=c||-l:d=t.x<this._viewportMargin?o.left-r.left-t.x:0,i.height<=o.height?p=u||-f:p=t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:d,y:p},{x:t.x+d,y:t.y+p}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){let r=this._getScrollVisibility(),i=new i0(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){let r=this._viewportRect,i=this._isRtl(),o,l,f;if(e.overlayY==="top")l=t.y,o=r.height-l+this._viewportMargin;else if(e.overlayY==="bottom")f=r.height-t.y+this._viewportMargin*2,o=r.height-f+this._viewportMargin;else{let m=Math.min(r.bottom-t.y+r.top,t.y),C=this._lastBoundingBoxSize.height;o=m*2,l=t.y-m,o>C&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-C/2)}let u=e.overlayX==="start"&&!i||e.overlayX==="end"&&i,c=e.overlayX==="end"&&!i||e.overlayX==="start"&&i,d,p,E;if(c)E=r.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if(u)p=t.x,d=r.right-t.x;else{let m=Math.min(r.right-t.x+r.left,t.x),C=this._lastBoundingBoxSize.width;d=m*2,p=t.x-m,d>C&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-C/2)}return{top:l,left:p,bottom:f,right:E,width:d,height:o}}_setBoundingBoxStyles(t,e){let r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=ui(r.height),i.top=ui(r.top),i.bottom=ui(r.bottom),i.width=ui(r.width),i.left=ui(r.left),i.right=ui(r.right),e.overlayX==="center"?i.alignItems="center":i.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?i.justifyContent="center":i.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=ui(o)),l&&(i.maxWidth=ui(l))}this._lastBoundingBoxSize=r,Sl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Sl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Sl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();Sl(r,this._getExactOverlayY(e,t,d)),Sl(r,this._getExactOverlayX(e,t,d))}else r.position="static";let f="",u=this._getOffset(e,"x"),c=this._getOffset(e,"y");u&&(f+=`translateX(${u}px) `),c&&(f+=`translateY(${c}px)`),r.transform=f.trim(),l.maxHeight&&(i?r.maxHeight=ui(l.maxHeight):o&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=ui(l.maxWidth):o&&(r.maxWidth="")),Sl(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let l=this._document.documentElement.clientHeight;i.bottom=`${l-(o.y+this._overlayRect.height)}px`}else i.top=ui(o.y);return i}_getExactOverlayX(t,e,r){let i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let l;if(this._isRtl()?l=t.overlayX==="end"?"left":"right":l=t.overlayX==="end"?"right":"left",l==="right"){let f=this._document.documentElement.clientWidth;i.right=`${f-(o.x+this._overlayRect.width)}px`}else i.left=ui(o.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JA(t,r),isOriginOutsideView:n0(t,r),isOverlayClipped:JA(e,r),isOverlayOutsideView:n0(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Pc(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Un)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}};function Sl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function tx(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(TZ);return!e||e==="px"?parseFloat(t):null}return n||null}function nx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}var rx="cdk-global-overlay-wrapper",a0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(rx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:f}=r,u=(i==="100%"||i==="100vw")&&(!l||l==="100%"||l==="100vw"),c=(o==="100%"||o==="100vh")&&(!f||f==="100%"||f==="100vh"),d=this._xPosition,p=this._xOffset,E=this._overlayRef.getConfig().direction==="rtl",m="",C="",S="";u?S="flex-start":d==="center"?(S="center",E?C=p:m=p):E?d==="left"||d==="end"?(S="flex-end",m=p):(d==="right"||d==="start")&&(S="flex-start",C=p):d==="left"||d==="start"?(S="flex-start",m=p):(d==="right"||d==="end")&&(S="flex-end",C=p),t.position=this._cssPosition,t.marginLeft=u?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=u?"0":C,e.justifyContent=S,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(rx),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},SZ=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new a0}flexibleConnectedTo(e){return new s0(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(Ut(hp),Ut(Hn),Ut(Ir),Ut(ox))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CZ=0,To=(()=>{class n{constructor(e,r,i,o,l,f,u,c,d,p,E,m){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=f,this._ngZone=u,this._document=c,this._directionality=d,this._location=p,this._outsideClickDispatcher=E,this._animationsModuleType=m}create(e){let r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),l=new Md(e);return l.direction=l.direction||this._directionality.value,new o0(o,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let r=this._document.createElement("div");return r.id=`cdk-overlay-${CZ++}`,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ys)),new Ad(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(Ut(bZ),Ut(ox),Ut(pa),Ut(SZ),Ut(EZ),Ut(Bi),Ut(Pn),Ut(Hn),Ut(Ca),Ut(ml),Ut(wZ),Ut(ci,8))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var IZ=new pn("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=pt(To);return()=>n.scrollStrategies.reposition()}});function DZ(n){return()=>n.scrollStrategies.reposition()}var AZ={provide:IZ,deps:[To],useFactory:DZ},pp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({providers:[To,AZ],imports:[Ia,KA,Jb,Jb]})}}return n})();var _ee=Math.pow(2,31)-1;var l0=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}};function xZ(){return new l0}var ax=new pn("mat-snack-bar-default-options",{providedIn:"root",factory:xZ});var lx=()=>[{provide:Kb,useValue:{subscriptSizing:"dynamic"}},{provide:ax,useValue:{duration:3e3}}];var NZ=["mat-menu-item",""];function OZ(n,t){n&1&&(Ru(),Ft(0,"svg",3),mn(1,"polygon",4),Lt())}var PZ=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],kZ=["mat-icon, [matMenuItemIcon]","*"];function FZ(n,t){if(n&1){let e=Er();Ft(0,"div",0),Tn("keydown",function(i){ur(e);let o=un();return dr(o._handleKeydown(i))})("click",function(){ur(e);let i=un();return dr(i.closed.emit("click"))})("@transformMenu.start",function(i){ur(e);let o=un();return dr(o._onAnimationStart(i))})("@transformMenu.done",function(i){ur(e);let o=un();return dr(o._onAnimationDone(i))}),Ft(1,"div",1),kr(2),Lt()()}if(n&2){let e=un();Ct("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),br("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var LZ=["*"],u0=new pn("MAT_MENU_PANEL"),Cl=(()=>{class n{constructor(e,r,i,o,l){this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=l,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new kn,this._focused=new kn,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Hn),Et(Gs),Et(u0,8),Et(Yr))}}static{this.\u0275cmp=_n({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,i){r&1&&Tn("click",function(l){return i._checkDisabled(l)})("mouseenter",function(){return i._handleMouseEnter()}),r&2&&(br("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),vr("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:["disabled","disabled",gi],disableRipple:["disableRipple","disableRipple",gi]},exportAs:["matMenuItem"],features:[uo],attrs:NZ,ngContentSelectors:kZ,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,i){r&1&&(Mi(PZ),kr(0),Ft(1,"span",0),kr(2,1),Lt(),mn(3,"div",1),bn(4,OZ,2,0,":svg:svg",2)),r&2&&(It(3),Ct("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),It(),xi(4,i._triggersSubmenu?4:-1))},dependencies:[Ed],encapsulation:2,changeDetection:0})}}return n})();var BZ=new pn("MatMenuContent");var gp={transformMenu:dd("transformMenu",[fd("void",Fo({opacity:0,transform:"scale(0.8)"})),Lc("void => enter",Fc("120ms cubic-bezier(0, 0, 0.2, 1)",Fo({opacity:1,transform:"scale(1)"}))),Lc("* => void",Fc("100ms 25ms linear",Fo({opacity:0})))]),fadeInItems:dd("fadeInItems",[fd("showing",Fo({opacity:1})),Lc("void => *",[Fo({opacity:0}),Fc("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},$ee=gp.fadeInItems,Wee=gp.transformMenu,UZ=0,jZ=new pn("mat-menu-default-options",{providedIn:"root",factory:VZ});function VZ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var As=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new da,this._classList={},this._panelAnimationState="void",this._animationDone=new kn,this.closed=new mr,this.close=this.closed,this.panelId=`mat-menu-panel-${UZ++}`,this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new km(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ls(this._directDescendantItems),Li(e=>Yi(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(ls(this._directDescendantItems),Li(r=>Yi(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let r=e.keyCode,i=this._keyManager;switch(r){case 27:Oc(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(qr(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){let r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){let i=this._classList;i["mat-menu-before"]=e==="before",i["mat-menu-after"]=e==="after",i["mat-menu-above"]=r==="above",i["mat-menu-below"]=r==="below",this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ls(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Pn),Et(jZ),Et(Yr))}}static{this.\u0275cmp=_n({type:n,selectors:[["mat-menu"]],contentQueries:function(r,i,o){if(r&1&&(Ri(o,BZ,5),Ri(o,Cl,5),Ri(o,Cl,4)),r&2){let l;fr(l=hr())&&(i.lazyContent=l.first),fr(l=hr())&&(i._allItems=l),fr(l=hr())&&(i.items=l)}},viewQuery:function(r,i){if(r&1&&Qr(co,5),r&2){let o;fr(o=hr())&&(i.templateRef=o.first)}},hostVars:3,hostBindings:function(r,i){r&2&&br("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:["overlapTrigger","overlapTrigger",gi],hasBackdrop:["hasBackdrop","hasBackdrop",e=>e==null?null:gi(e)],panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[hi([{provide:u0,useExisting:n}]),uo],ngContentSelectors:LZ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(r,i){r&1&&(Mi(),bn(0,FZ,3,6,"ng-template"))},dependencies:[bs],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[gp.transformMenu,gp.fadeInItems]},changeDetection:0})}}return n})(),ux=new pn("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=pt(To);return()=>n.scrollStrategies.reposition()}});function ZZ(n){return()=>n.scrollStrategies.reposition()}var HZ={provide:ux,deps:[To],useFactory:ZZ},cx=Po({passive:!0});var Gc=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,o,l,f,u,c,d){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=f,this._dir=u,this._focusMonitor=c,this._ngZone=d,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=pr.EMPTY,this._hoverSubscription=pr.EMPTY,this._menuCloseSubscription=pr.EMPTY,this._changeDetectorRef=pt(Yr),this._handleTouchStart=p=>{cd(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new mr,this.onMenuOpen=this.menuOpened,this.menuClosed=new mr,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=l instanceof As?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,cx)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,cx),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof As&&(e._startAnimation(),e._directDescendantItems.changes.pipe(xr(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof As?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Rr(i=>i.toState==="void"),qr(1),xr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Md({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{let o=i.connectionPair.overlayX==="start"?"after":"before",l=i.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,l)):e.setPositionClasses(o,l)})}_setPosition(e,r){let[i,o]=e.xPosition==="before"?["end","start"]:["start","end"],[l,f]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[u,c]=[l,f],[d,p]=[i,o],E=0;if(this.triggersSubmenu()){if(p=i=e.xPosition==="before"?"start":"end",o=d=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let m=this._parentMaterialMenu.items.first;this._parentInnerPadding=m?m._getHostElement().offsetTop:0}E=l==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(u=l==="top"?"bottom":"top",c=f==="top"?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:d,overlayY:l,offsetY:E},{originX:o,originY:u,overlayX:p,overlayY:l,offsetY:E},{originX:i,originY:c,overlayX:d,overlayY:f,offsetY:-E},{originX:o,originY:c,overlayX:p,overlayY:f,offsetY:-E}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:Fn(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Rr(l=>l!==this._menuItemInstance),Rr(()=>this._menuOpen)):Fn();return Yi(e,i,o,r)}_handleMousedown(e){ld(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let r=e.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Rr(e=>e===this._menuItemInstance&&!e.disabled),zf(0,uu)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof As&&this.menu._isAnimating?this.menu._animationDone.pipe(qr(1),zf(0,uu),xr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Hc(e.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(r){return new(r||n)(Et(To),Et(Un),Et(Ui),Et(ux),Et(u0,8),Et(Cl,10),Et(Ca,8),Et(Gs),Et(Pn))}}static{this.\u0275dir=Yn({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,i){r&1&&Tn("click",function(l){return i._handleClick(l)})("mousedown",function(l){return i._handleMousedown(l)})("keydown",function(l){return i._handleKeydown(l)}),r&2&&br("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}}return n})(),Bo=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({providers:[HZ],imports:[es,Is,jr,pp,zc,jr]})}}return n})();var qc=class extends Ni{constructor(t){super(),this.sort_requested=t}};var dx=["hot","top","new","controversial","rising"];function fx(n,t,e,r){return $n(this,null,function*(){this.set_posts({items:[],subreddit:""}),this.set_errors({});let i=this.subscriptionService.get(),o=r;o.toLowerCase()==="frontpage"&&(i.length>0?o=i.join("+"):o="popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(n)&&l.set("after",n),String.hasData(t)&&l.set("modhash",t);let f=new URL(`https://api.reddit.com/r/${o}/${e}.json`);f.search=`${l}`;try{let u=yield fetch(f);if(!u.ok){let E=u.statusText||"Not Found";try{let m=yield u.json();m&&"reason"in m&&(E=m.reason)}catch{}this.set_errors(E);return}let c=yield u.json();if(c.kind!==ro.Listing){this.set_errors(`Listing's kind isn't ${ro.Listing}, its ${c.kind} instead`);return}if(c.data?.children.some(E=>E.kind!==ro.Link)){this.set_errors(`Not all of Listing's children are of kind ${ro.Link}`);return}let d=c.data,p=d.children.filter(E=>E.data!=null).map(E=>Td(E.data,this.is_MSE_supported()));p.forEach(E=>E.subreddit_subscribed=i.includes(E.subreddit)),this.set_posts({after:d.after,items:p,modhash:d.modhash,sort:e,subreddit:o})}catch(u){this.set_errors(u)}})}function hx(n){return $n(this,null,function*(){this.subscriptionService.add(n);let t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})}function mx(n){return $n(this,null,function*(){this.subscriptionService.remove(n);let t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})}var Na=(()=>{class n{constructor(){this.domSanitizer=pt(_i),this.subscriptionService=pt(Mm),this.uniqueIdService=pt(Mc),this.#e=new wa,this.#t=new Ta,this.#n=Ji({posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""}}),this.#i=Ji({}),this.errors=this.#i.asReadonly(),this.#r="MediaSource"in window&&typeof window.MediaSource.isTypeSupported=="function",this.posts=Ko(()=>{let e=this.#n().posts;return e==null?null:{after:e.after,items:e.items?.map(r=>this.#s(r)),modhash:e.modhash,sort:e.sort,subreddit:e.subreddit}}),this.actions={listPostAsync:fx.bind(this),subscribe:hx.bind(this),unsubscribe:mx.bind(this)}}#e;#t;#n;#i;set_errors(e){e!=null&&this.#i.set(e||{})}#r;is_MSE_supported(){return this.#r}#s(e){let r=JSON.parse(JSON.stringify(e));return r.images&&(r.images=r.images.map(i=>Object.freeze(i))),r.videos&&(r.videos=r.videos.map(i=>Object.freeze(i))),Object.freeze(r)}get_posts(){return Ai(this.#n).posts}set_posts(e){this.#n.update(r=>{let i=r.posts;return i.after=String.hasData(e.after)?e.after:"",e.items!=null&&(i.items=e.items),i.modhash=String.hasData(e.modhash)?e.modhash:"",e.sort!=null&&(i.sort=e.sort),e.subreddit!=null&&(i.subreddit=e.subreddit),on({},r)}),this.set_errors(null)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var GZ=n=>({display:n});function qZ(n,t){if(n&1){let e=Er();Ft(0,"a",14),Tn("click",function(){let o=ur(e).$implicit,l=un(2);return dr(l.change_sort(o))}),Zn(1),Lt()}if(n&2){let e=t.$implicit,r=un().ngIf;Ct("ngStyle",Ti(2,GZ,r.sort===e?"none":"inherit")),It(),pi(" ",e," ")}}function YZ(n,t){if(n&1){let e=Er();eo(0),Ft(1,"div",1)(2,"div",2),Zn(3),Lt(),Ft(4,"button",3),Zn(5),mn(6,"mat-icon",4),Lt(),Ft(7,"button",5),mn(8,"mat-icon",6),Lt()(),Ft(9,"mat-menu",null,7),bn(11,qZ,2,4,"a",8),Lt(),Ft(12,"mat-menu",9,10)(14,"mat-icon",11),Tn("click",function(){ur(e);let i=un();return dr(i.back_to_home())}),Lt(),mn(15,"mat-icon",12)(16,"mat-icon",13),Lt(),to()}if(n&2){let e=t.ngIf,r=Zr(10),i=Zr(13),o=un();It(3),pi(" ",e.subreddit.includes("+")?"multi":e.subreddit," "),It(),Ct("matMenuTriggerFor",r),It(),pi(" ",e.sort," "),It(2),Ct("matMenuTriggerFor",i),It(4),Ct("ngForOf",o.POST_SORT)}}var px=(()=>{class n{constructor(){this.#e=pt(Xr),this.POST_SORT=dx,this.controller=pt(Na)}#e;change_sort(e){return $n(this,null,function*(){this.#e.raise(new qc(e))})}back_to_home(){this.#e.raise(Zc)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["page-header"]],standalone:!0,features:[Ln],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){r&1&&bn(0,YZ,17,5,"ng-container",0),r&2&&Ct("ngIf",i.controller.posts())},dependencies:[Cr,fo,_c,oi,Ma,Ra,Hr,Zi,Bo,As,Cl,Gc,Oo],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0})}}return n})();var $Z=["*",[["mat-toolbar-row"]]],WZ=["*","mat-toolbar-row"],KZ=Vc(class{constructor(n){this._elementRef=n}}),f0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Yn({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}}return n})(),gx=(()=>{class n extends KZ{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Ir),Et(Hn))}}static{this.\u0275cmp=_n({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(r&1&&Ri(o,f0,5),r&2){let l;fr(l=hr())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,i){r&2&&vr("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Kr],ngContentSelectors:WZ,decls:2,vars:0,template:function(r,i){r&1&&(Mi($Z),kr(0),kr(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var Oa=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[jr,jr]})}}return n})();var Yc=class extends Ni{constructor(t){super(),this.article=t}};function XZ(n,t){if(n&1){let e=Er();Ft(0,"button",4),Tn("click",function(){ur(e);let i=un();return dr(i.on_share_click())}),mn(1,"mat-icon",5),Lt()}}function JZ(n,t){if(n&1&&(Ft(0,"button",6),mn(1,"mat-icon",7),Zn(2),Xo(3,"count"),Lt()),n&2){let e=un();It(2),pi(" ",Jo(3,1,e.data.ups),`
`)}}function eH(n,t){if(n&1&&(Ft(0,"button",6),mn(1,"mat-icon",8),Zn(2),Xo(3,"count"),Lt()),n&2){let e=un();It(2),pi(" ",Jo(3,1,e.data.downs),`
`)}}var _x=(()=>{class n{#e;#t;constructor(){this.#e=pt(Xr),this.#t="",this._can_share="share"in window.navigator,this.controller=pt(Na),this.#t=document.baseURI,this.#t.endsWith("/")&&(this.#t=this.#t.slice(0,-1))}on_share_click(){let e=`${this.#t}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`

${this.data.title}`,url:e})}on_comment_click(){this.#e.raise(new Yc(this.data.id))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(r,i){r&1&&(bn(0,XZ,2,0,"button",0),Ft(1,"button",1),Tn("click",function(){return i.on_comment_click()}),mn(2,"mat-icon",2),Zn(3),Xo(4,"count"),Lt(),bn(5,JZ,4,3,"button",3)(6,eH,4,3,"button",3)),r&2&&(Ct("ngIf",i._can_share),It(3),pi(" ",Jo(4,4,i.data.num_comments),`
`),It(2),Ct("ngIf",i.data.ups>0),It(),Ct("ngIf",i.data.downs>0))},dependencies:[Gb,oi,Ma,Ra,Hr,Zi,Bo,Is,Oa,Cr],changeDetection:0})}}return n})();var Uo=class extends Ni{constructor(t){super(),this.subreddit_requested=t}};function tH(n,t){if(n&1){let e=Er();Ft(0,"a",9),Tn("click",function(i){ur(e);let o=un();return dr(o.change_subreddit(i,o.post.subreddit))}),Zn(1),Lt()}if(n&2){let e=un();Ct("href","/r/"+e.post.subreddit,Wo),It(),pi(" r/",e.post.subreddit," ")}}function nH(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",12),Tn("click",function(){ur(e);let i=un(2);return dr(i.controller.actions.subscribe(i.post.subreddit))}),Lt()}}function rH(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",13),Tn("click",function(){ur(e);let i=un(2);return dr(i.controller.actions.unsubscribe(i.post.subreddit))}),Lt()}}function iH(n,t){if(n&1&&(eo(0),bn(1,nH,1,0,"mat-icon",10)(2,rH,1,0,"mat-icon",11),to()),n&2){let e=un();It(),Ct("ngIf",!e.post.subreddit_subscribed),It(),Ct("ngIf",e.post.subreddit_subscribed)}}function oH(n,t){n&1&&mn(0,"mat-icon",14)}function sH(n,t){n&1&&mn(0,"mat-icon",15)}function aH(n,t){n&1&&(Ft(0,"a",16),Zn(1,"x-post"),Lt())}var lH=n=>["/u",n],vx=(()=>{class n{constructor(){this.#e=pt(Xr),this.controller=pt(Na),this.has_image_gallery=!1,this.part_of_multi=!1}#e;set data(e){this.post=e.post,this.#t(e.subreddit)}#t(e){this.part_of_multi=this.post.subreddit.toLowerCase()!==e.toLowerCase();let r=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=r.has_image&&r.has_image_gallery}change_subreddit(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#e.raise(new Uo(r))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(r,i){r&1&&(Ft(0,"section",0)(1,"div",1),Zn(2),Lt(),Ft(3,"section",2),bn(4,tH,2,2,"a",3),Ft(5,"a",4),Zn(6),Lt(),Ft(7,"span"),Zn(8),Xo(9,"age"),Lt(),bn(10,iH,3,2,"ng-container",5)(11,oH,1,0,"mat-icon",6)(12,sH,1,0,"mat-icon",7)(13,aH,2,0,"a",8),Lt()()),r&2&&(It(2),ei(i.post.title),It(2),Ct("ngIf",i.part_of_multi),It(),Ct("routerLink",Ti(11,lH,i.post.author)),It(),pi("u/",i.post.author,""),It(2),ei(Jo(9,9,i.post.created_utc)),It(2),Ct("ngIf",i.part_of_multi),It(),Ct("ngIf",!i.part_of_multi&&i.post.stickied),It(),Ct("ngIf",i.has_image_gallery),It(),Ct("ngIf",i.post.is_crosspost))},dependencies:[lp,oi,Hr,Zi,Bo,Is,Oa,Cr,Oo],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0})}}return n})();function cH(n,t){if(n&1&&mn(0,"post-body",0),n&2){let e=un();Ct("data",e.post)}}var uH=(n,t)=>({post:n,subreddit:t}),_p=(()=>{class n{constructor(){this.subreddit="",this.show_body=!0}set data(e){this.post=e.item,this.subreddit=e.subreddit,this.show_body=!e.item.stickied||!e.hide_stickied}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(r,i){r&1&&(mn(0,"post-header",0),bn(1,cH,1,1,"post-body",1),mn(2,"post-footer",0)),r&2&&(Ct("data",Wh(3,uH,i.post,i.subreddit)),It(),Ct("ngIf",i.show_body),It(),Ct("data",i.post))},dependencies:[Cr,AA,_x,vx],changeDetection:0})}}return n})();function dH(n,t){n&1&&(Ft(0,"mat-toolbar-row")(1,"span"),Zn(2,"You are not authorized."),Lt()())}function fH(n,t){n&1&&(Ft(0,"mat-toolbar-row")(1,"span"),Zn(2,"Not found."),Lt()())}function hH(n,t){if(n&1&&(Ft(0,"mat-toolbar-row")(1,"span",4),Zn(2),Lt()()),n&2){let e=t.$implicit;It(2),ei(e)}}function mH(n,t){if(n&1&&(Ft(0,"mat-toolbar",1),bn(1,dH,3,0,"mat-toolbar-row",2)(2,fH,3,0,"mat-toolbar-row",2)(3,hH,3,1,"mat-toolbar-row",3),Lt()),n&2){let e=un();It(),Ct("ngIf",e._errors.general==null?null:e._errors.general.forbidden),It(),Ct("ngIf",e._errors.general==null?null:e._errors.general.notFound),It(),Ct("ngForOf",e._errors.general==null?null:e._errors.general.default)}}var $c=(()=>{class n{set errors(e){if(e instanceof Error){this._errors=xc.CreateErrorResult(`${e.message} `).errors;return}if(e instanceof xc){this._errors=e.errors;return}if(typeof e=="string"||typeof e=="number"){this._errors=xc.CreateErrorResult(`${e} `).errors;return}this._errors=e}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[Ln],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(r,i){r&1&&bn(0,mH,4,3,"mat-toolbar",0),r&2&&Ct("ngIf",i._errors==null?null:i._errors.general)},dependencies:[Oa,gx,f0,fo,Cr],styles:["[_nghost-%COMP%]{width:100%}"]})}}return n})();var Wc=class extends Ni{constructor(t){super(),this.sort_requested=t}};var yx=["best","confidence","top","new","controversial","old"];function bx(n){let t={};return pH(n,t),t}function pH(n,t){t.author=n.author,t.body_html=n.body_html,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.stickied=n.stickied,t.ups=n.ups,t.parent_id=n.parent_id}function Ex(n){let t=[],e;for(let r=0;r<n.length;r++){let i=n[r];if(i.parent_id.startsWith("t3_")){t.push(i);continue}if(!i.parent_id.startsWith("t1_"))continue;let o=i.parent_id.replace("t1_",""),l=t.find(f=>f.id===o);l&&(e=l,e.children??=[]),e&&e.children.push(i)}return t}function wx(n,t,e=""){return $n(this,null,function*(){this.set_post_comments({items:[],post:null});let r=new URL(`https://www.reddit.com/comments/${n}.json`);r.searchParams.set("sort",`${t}`),r.searchParams.set("limit","100"),r.searchParams.set("raw_json","1"),r.searchParams.set("threaded","false"),String.hasData(e)&&r.searchParams.set("comment",e);try{let i=yield fetch(r);if(!i.ok){this.set_errors(i.statusText);return}let o=yield i.json(),l=o[0],f=o[1];if(f.kind!==ro.Listing){this.set_errors(`Comment listing's kind isn't ${ro.Listing}, its ${f.kind} instead`);return}if(f.data?.children.some(d=>d.kind!==ro.Comment&&d.kind!==ro.More)){this.set_errors(`Not all of comment listing's children are of kind ${ro.Comment} or ${ro.More}`);return}let u=Ex(f.data.children.filter(d=>d.kind==ro.Comment&&d.data!=null).map(d=>bx(d.data))),c=Td(l.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:n,items:u,sort:t,post:c})}catch(i){this.set_errors(i)}})}var vp=(()=>{class n{constructor(){this.domSanitizer=pt(_i),this.uniqueIdService=pt(Mc),this.#e=new wa,this.#t=new Ta,this.#n=Ji({post_comments:{article:"",items:null,sort:"best",post:null}}),this.#i=Ji({}),this.errors=this.#i.asReadonly(),this.#r="MediaSource"in window&&typeof window.MediaSource.isTypeSupported=="function",this.post_comments=Ko(()=>{let e=this.#n().post_comments;return e==null||e.items==null?null:{items:e.items?.map(r=>this.#s(r)),sort:e.sort,post:e.post}}),this.actions={listCommentAsync:wx.bind(this)}}#e;#t;#n;#i;set_errors(e){e!=null&&this.#i.set(e||{})}#r;is_MSE_supported(){return this.#r}#s(e){let r=JSON.parse(JSON.stringify(e));return Object.freeze(r)}set_post_comments(e){this.#n.update(r=>{let i=r.post_comments;return i.article=String.hasData(e.article)?e.article:"",e.items!==void 0&&(i.items=e.items),e.sort!=null&&(i.sort=e.sort),e.post!==void 0&&(i.post=e.post),on({},r)}),this.set_errors(null)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _H=n=>({display:n});function vH(n,t){if(n&1){let e=Er();Ft(0,"a",13),Tn("click",function(){let o=ur(e).$implicit,l=un(2);return dr(l.change_sort(o))}),Zn(1),Lt()}if(n&2){let e=t.$implicit,r=un().ngIf;Ct("ngStyle",Ti(2,_H,r.sort===e?"none":"inherit")),It(),pi(" ",e," ")}}function yH(n,t){if(n&1&&(eo(0),Ft(1,"div",1)(2,"span"),Zn(3,"Comments"),Lt(),Ft(4,"button",2),Zn(5),mn(6,"mat-icon",3),Lt(),Ft(7,"button",4),mn(8,"mat-icon",5),Lt()(),Ft(9,"mat-menu",null,6),bn(11,vH,2,4,"a",7),Lt(),Ft(12,"mat-menu",8,9),mn(14,"mat-icon",10)(15,"mat-icon",11)(16,"mat-icon",12),Lt(),to()),n&2){let e=t.ngIf,r=Zr(10),i=Zr(13),o=un();It(4),Ct("matMenuTriggerFor",r),It(),pi(" ",e.sort," "),It(2),Ct("matMenuTriggerFor",i),It(4),Ct("ngForOf",o.POST_COMMENT_SORT)}}var Tx=(()=>{class n{constructor(){this.#e=pt(Xr),this.POST_COMMENT_SORT=yx,this.controller=pt(vp)}#e;change_sort(e){return $n(this,null,function*(){this.#e.raise(new Wc(e))})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["page-header"]],standalone:!0,features:[Ln],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){r&1&&bn(0,yH,17,4,"ng-container",0),r&2&&Ct("ngIf",i.controller.post_comments())},dependencies:[oi,Ma,Ra,Hr,Zi,Bo,As,Cl,Gc,fo,Cr,_c,Oo],changeDetection:0})}}return n})();var Sx=(()=>{class n{constructor(){this.data=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:1,vars:1,consts:[[3,"data"]],template:function(r,i){r&1&&mn(0,"text-block",0),r&2&&Ct("data",i.data==null?null:i.data.body_html)},dependencies:[Rc],changeDetection:0})}}return n})();function bH(n,t){n&1&&mn(0,"mat-icon",4)}function EH(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",7),Tn("click",function(){ur(e);let i=un(2);return dr(i.collapseClick.emit(i.data.id))}),Lt()}}function wH(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",8),Tn("click",function(){ur(e);let i=un(2);return dr(i.collapseClick.emit(i.data.id))}),Lt()}}function TH(n,t){if(n&1&&(eo(0),bn(1,EH,1,0,"mat-icon",5)(2,wH,1,0,"mat-icon",6),to()),n&2){let e=un();It(),Ct("ngIf",!e.isCollapsed),It(),Ct("ngIf",e.isCollapsed)}}var SH=n=>["/u",n],Cx=(()=>{class n{constructor(){this.canCollapse=!0,this.isCollapsed=!1,this.collapseClick=new mr}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-comment-header"]],inputs:{data:"data",canCollapse:"canCollapse",isCollapsed:"isCollapsed"},outputs:{collapseClick:"collapseClick"},standalone:!0,features:[Ln],decls:8,vars:9,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],[4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","expand_more","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","expand_less","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","expand_more",2,"transform","scale(.75)",3,"click"],["svgIcon","expand_less",2,"transform","scale(.75)",3,"click"]],template:function(r,i){r&1&&(Ft(0,"section",0)(1,"a",1),Zn(2),Lt(),Ft(3,"span"),Zn(4),Xo(5,"age"),Lt(),bn(6,bH,1,0,"mat-icon",2)(7,TH,3,2,"ng-container",3),Lt()),r&2&&(It(),Ct("routerLink",Ti(7,SH,i.data.author)),It(),pi("u/",i.data.author,""),It(2),ei(Jo(5,5,i.data.created_utc)),It(2),Ct("ngIf",i.data.stickied),It(),Ct("ngIf",i.canCollapse))},dependencies:[lp,Hr,Zi,Cr,Oo],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0})}}return n})();function CH(n,t){if(n&1&&mn(0,"post-comment-body",2),n&2){let e=un();Ct("data",e.data)}}var Ix=(()=>{class n{constructor(){this.canCollapse=!1,this.isCollapsed=!1,this.collapseClick=new mr}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["post-comment"]],inputs:{data:"data",canCollapse:"canCollapse",isCollapsed:"isCollapsed"},outputs:{collapseClick:"collapseClick"},standalone:!0,features:[Ln],decls:2,vars:4,consts:[[3,"data","canCollapse","isCollapsed","collapseClick"],[3,"data",4,"ngIf"],[3,"data"]],template:function(r,i){r&1&&(Ft(0,"post-comment-header",0),Tn("collapseClick",function(l){return i.collapseClick.emit(l)}),Lt(),bn(1,CH,1,1,"post-comment-body",1)),r&2&&(Ct("data",i.data)("canCollapse",i.canCollapse)("isCollapsed",i.isCollapsed),It(),Ct("ngIf",!i.isCollapsed))},dependencies:[Cr,Cx,Sx],changeDetection:0})}}return n})();var IH=n=>({item:n,subreddit:"",hide_stickied:!1,show_comments:!1});function DH(n,t){if(n&1&&mn(0,"post",5),n&2){let e=un().ngIf;Ct("data",Ti(1,IH,e.post))}}function AH(n,t){if(n&1){let e=Er();Ft(0,"post-comment",13),Tn("collapseClick",function(){ur(e);let i=un(3).$implicit,o=un(2);return dr(o.onCollapseClick(i.id))}),Lt()}if(n&2){let e=t.$implicit;Ct("data",e)("canCollapse",!0)}}function xH(n,t){if(n&1&&(Ft(0,"div"),bn(1,AH,1,2,"post-comment",12),Lt()),n&2){let e=un(2).$implicit,r=un(2);It(),Ct("ngForOf",e.children)("ngForTrackBy",r.trackByFn)}}function MH(n,t){if(n&1&&(Ft(0,"div",9),mn(1,"div",10),bn(2,xH,2,2,"div",11),Lt()),n&2){let e=un().$implicit,r=un(2);It(2),Ct("ngIf",!r.collapsed[e.id])}}function RH(n,t){if(n&1){let e=Er();Ft(0,"section",6)(1,"post-comment",7),Tn("collapseClick",function(i){ur(e);let o=un(2);return dr(o.onCollapseClick(i))}),Lt(),bn(2,MH,3,1,"div",8),Lt()}if(n&2){let e=t.$implicit,r=un(2);It(),Ct("data",e)("id",e.id)("canCollapse",!0)("isCollapsed",r.collapsed[e.id]),It(),Ct("ngIf",e.children)}}function NH(n,t){if(n&1&&(Ft(0,"div",2),bn(1,DH,1,3,"post",3)(2,RH,3,5,"section",4),Lt()),n&2){let e=t.ngIf,r=un();It(),Ct("ngIf",e.post),It(),Ct("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}var h0=(()=>{class n{#e;#t;#n;#i;constructor(){this.#e=pt(Xr),this.#t=pt(yo),this.#n=pt(no),this.#i={a:"",i:"",so:"best"},this.controller=pt(vp),this.showHideReplies={},this.collapsed={},Yi(this.#e.handle(Wc).pipe(ar(e=>this.#r(e))),this.#e.handle(Uo).pipe(ar(e=>this.#s(e))),this.#n.paramMap.pipe(ar(e=>$n(this,null,function*(){return yield this.#a(e)})))).pipe(Ds()).subscribe(),ul(()=>{let e=this.controller.post_comments();!e||!e.items||e.items.length===0||e.items.forEach(r=>this.collapsed[r.id]=r.stickied)})}trackByFn(e,r){return r.id}onCollapseClick(e){this.collapsed[e]=!this.collapsed[e],setTimeout(()=>{let r=document.getElementById(e);r&&r.scrollIntoView({block:"nearest"})},0)}#r(e){this.#i.so=e.sort_requested,this.#o(!0)}#s(e){this.#t.navigate(["r",e.subreddit_requested])}#o(e=!1){let r=Object.trimUnusedProperties(this.#i);delete r.a,this.#t.navigate(["comments",this.#i.a,r],{replaceUrl:e})}#a(e){return $n(this,null,function*(){try{this.#e.raise(ji),this.#i={a:"",i:"",so:"best"},Ea.fromParamMap(this.#i,e),yield this.controller.actions.listCommentAsync(this.#i.a,this.#i.so,this.#i.i),setTimeout(()=>window.scrollTo(0,0),100)}finally{this.#e.raise(Vi)}})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ln],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"],[1,"mat-elevation-z5"],[3,"data","id","canCollapse","isCollapsed","collapseClick"],["style","display: flex;",4,"ngIf"],[2,"display","flex"],[2,"border-left",".25em var(--primary-color) solid"],[4,"ngIf"],[3,"data","canCollapse","collapseClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"data","canCollapse","collapseClick"]],template:function(r,i){r&1&&(mn(0,"page-header")(1,"general-error",0),bn(2,NH,3,3,"div",1)),r&2&&(It(),Ct("errors",i.controller.errors()),It(),Ct("ngIf",i.controller.post_comments()))},dependencies:[$c,oi,Hr,fo,Cr,Ix,Tx,_p],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0})}}return n})();var OH=(n,t)=>({item:n,subreddit:t,hide_stickied:!0,show_comments:!0});function PH(n,t){if(n&1&&mn(0,"post",6),n&2){let e=t.$implicit,r=un().ngIf;Ct("id",e.id)("data",Wh(2,OH,e,r.subreddit))}}function kH(n,t){if(n&1){let e=Er();Ft(0,"div",2),bn(1,PH,1,5,"post",3),Ft(2,"div",4)(3,"button",5),Tn("click",function(){let o=ur(e).ngIf,l=un();return dr(l.next_page(o.after,o.modhash))}),Zn(4,"Next"),Lt()()()}if(n&2){let e=t.ngIf,r=un();It(),Ct("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}var Dx=(()=>{class n{#e;#t;#n;#i;#r;constructor(){this.#e=pt(Xr),this.#t=pt(yo),this.#n=pt(no),this.#i=pt(Ts),this.#r={a:"",m:"",so:"hot",su:""},this.controller=pt(Na),this.id="",Yi(this.#e.handle(Zc).pipe(ar(e=>this.#s())),this.#e.handle(qc).pipe(ar(e=>this.#o(e))),this.#e.handle(Uo).pipe(ar(e=>this.#a(e))),this.#e.handle(Yc).pipe(ar(e=>this.#l(e))),this.#n.paramMap.pipe(ar(e=>$n(this,null,function*(){return yield this.#u(e)})))).pipe(Ds()).subscribe()}trackByFn(e,r){return`${r.id}${r.subreddit_subscribed}`}#s(){this.#r.a="",this.#r.m="",this.#r.so="hot",this.#r.su="frontpage",this.#c()}#o(e){this.#r.a="",this.#r.m="",this.#r.so=e.sort_requested,this.#c()}#a(e){this.#r.a="",this.#r.m="",this.#r.su=e.subreddit_requested,this.#c()}#l(e){this.id=e.article,this.#i.save("post",e.article),this.#t.navigate(["comments",e.article])}#c(){let e=Object.trimUnusedProperties(this.#r);delete e.su,this.#t.navigate(["r",this.#r.su,e])}next_page(e,r){this.#r.a=e,this.#r.m=r,this.go_to_top(),setTimeout(()=>{this.#i.save(),this.#c()},0)}go_to_top(){window.scrollTo(0,0)}#u(e){return $n(this,null,function*(){this.#e.raise(ji),this.#r={a:"",m:"",so:"hot",su:""},Ea.fromParamMap(this.#r,e),yield this.controller.actions.listPostAsync(this.#r.a,this.#r.m,this.#r.so,this.#r.su),this.#i.restore(),this.#e.raise(Vi)})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ln],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],[1,"mat-elevation-z5",3,"id","data"]],template:function(r,i){r&1&&(mn(0,"page-header")(1,"general-error",0),bn(2,kH,5,2,"div",1)),r&2&&(It(),Ct("errors",i.controller.errors()),It(),Ct("ngIf",i.controller.posts()))},dependencies:[$c,oi,Ma,Hr,fo,Cr,_p,px],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0})}}return n})();var kx=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||n)(Et(Zs),Et(Un))}}static{this.\u0275dir=Yn({type:n})}}return n})(),FH=(()=>{class n extends kx{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=ll(n)))(i||n)}})()}static{this.\u0275dir=Yn({type:n,features:[Kr]})}}return n})(),xp=new pn("NgValueAccessor");var LH={provide:xp,useExisting:_s(()=>Mp),multi:!0};function BH(){let n=zs()?zs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var UH=new pn("CompositionEventMode"),Mp=(()=>{class n extends kx{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BH())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||n)(Et(Zs),Et(Un),Et(UH,8))}}static{this.\u0275dir=Yn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Tn("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[hi([LH]),Kr]})}}return n})();function Pa(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Fx(n){return n!=null&&typeof n.length=="number"}var Rp=new pn("NgValidators"),g0=new pn("NgAsyncValidators"),jH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,bp=class{static min(t){return VH(t)}static max(t){return ZH(t)}static required(t){return Lx(t)}static requiredTrue(t){return HH(t)}static email(t){return zH(t)}static minLength(t){return GH(t)}static maxLength(t){return qH(t)}static pattern(t){return YH(t)}static nullValidator(t){return Ep(t)}static compose(t){return Hx(t)}static composeAsync(t){return zx(t)}};function VH(n){return t=>{if(Pa(t.value)||Pa(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function ZH(n){return t=>{if(Pa(t.value)||Pa(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Lx(n){return Pa(n.value)?{required:!0}:null}function HH(n){return n.value===!0?null:{required:!0}}function zH(n){return Pa(n.value)||jH.test(n.value)?null:{email:!0}}function GH(n){return t=>Pa(t.value)||!Fx(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function qH(n){return t=>Fx(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function YH(n){if(!n)return Ep;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Pa(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Ep(n){return null}function Bx(n){return n!=null}function Ux(n){return fl(n)?$r(n):n}function jx(n){let t={};return n.forEach(e=>{t=e!=null?on(on({},t),e):t}),Object.keys(t).length===0?null:t}function Vx(n,t){return t.map(e=>e(n))}function $H(n){return!n.validate}function Zx(n){return n.map(t=>$H(t)?t:e=>t.validate(e))}function Hx(n){if(!n)return null;let t=n.filter(Bx);return t.length==0?null:function(e){return jx(Vx(e,t))}}function _0(n){return n!=null?Hx(Zx(n)):null}function zx(n){if(!n)return null;let t=n.filter(Bx);return t.length==0?null:function(e){let r=Vx(e,t).map(Ux);return fu(r).pipe(jn(jx))}}function v0(n){return n!=null?zx(Zx(n)):null}function Ax(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Gx(n){return n._rawValidators}function qx(n){return n._rawAsyncValidators}function m0(n){return n?Array.isArray(n)?n:[n]:[]}function wp(n,t){return Array.isArray(n)?n.includes(t):n===t}function xx(n,t){let e=m0(t);return m0(n).forEach(i=>{wp(e,i)||e.push(i)}),e}function Mx(n,t){return m0(t).filter(e=>!wp(n,e))}var Tp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=v0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Il=class extends Tp{get formDirective(){return null}get path(){return null}},Dl=class extends Tp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},p0=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},WH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},soe=Sr(on({},WH),{"[class.ng-submitted]":"isSubmitted"}),Np=(()=>{class n extends p0{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||n)(Et(Dl,2))}}static{this.\u0275dir=Yn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Kr]})}}return n})();var Rd="VALID",yp="INVALID",Kc="PENDING",Nd="DISABLED";function Yx(n){return(Op(n)?n.validators:n)||null}function KH(n){return Array.isArray(n)?_0(n):n||null}function $x(n,t){return(Op(t)?t.asyncValidators:n)||null}function QH(n){return Array.isArray(n)?v0(n):n||null}function Op(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function XH(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new dn(1e3,"");if(!r[e])throw new dn(1001,"")}function JH(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new dn(1002,"")})}var Sp=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rd}get invalid(){return this.status===yp}get pending(){return this.status==Kc}get disabled(){return this.status===Nd}get enabled(){return this.status!==Nd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(xx(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xx(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Mx(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Mx(t,this._rawAsyncValidators))}hasValidator(t){return wp(this._rawValidators,t)}hasAsyncValidator(t){return wp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Kc,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Nd,this.errors=null,this._forEachChild(r=>{r.disable(Sr(on({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Sr(on({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Rd,this._forEachChild(r=>{r.enable(Sr(on({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Sr(on({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rd||this.status===Kc)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nd:Rd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Kc,this._hasOwnPendingAsyncValidator=!0;let e=Ux(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new mr,this.statusChanges=new mr}_calculateStatus(){return this._allControlsDisabled()?Nd:this.errors?yp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kc)?Kc:this._anyControlsHaveStatus(yp)?yp:Rd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Op(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=KH(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=QH(this._rawAsyncValidators)}},Cp=class extends Sp{constructor(t,e,r){super(Yx(e),$x(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){JH(this,!0,t),Object.keys(t).forEach(r=>{XH(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Pp=new pn("CallSetDisabledState",{providedIn:"root",factory:()=>y0}),y0="always";function e4(n,t){return[...t.path,n]}function Ip(n,t,e=y0){b0(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),n4(n,t),i4(n,t),r4(n,t),t4(n,t)}function Rx(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ap(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Dp(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function t4(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function b0(n,t){let e=Gx(n);t.validator!==null?n.setValidators(Ax(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=qx(n);t.asyncValidator!==null?n.setAsyncValidators(Ax(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Dp(t._rawValidators,i),Dp(t._rawAsyncValidators,i)}function Ap(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=Gx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(l=>l!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=qx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(l=>l!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Dp(t._rawValidators,r),Dp(t._rawAsyncValidators,r),e}function n4(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Wx(n,t)})}function r4(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Wx(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Wx(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function i4(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Kx(n,t){n==null,b0(n,t)}function o4(n,t){return Ap(n,t)}function s4(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function a4(n){return Object.getPrototypeOf(n.constructor)===FH}function Qx(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function l4(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===Mp?e=o:a4(o)?r=o:i=o}),i||r||e||null}function c4(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var u4={provide:Il,useExisting:_s(()=>E0)},Od=(()=>Promise.resolve())(),E0=(()=>{class n extends Il{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new mr,this.form=new Cp({},_0(e),v0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Od.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Ip(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Od.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Od.then(()=>{let r=this._findContainer(e.path),i=new Cp({});Kx(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Od.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Od.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Qx(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(r){return new(r||n)(Et(Rp,10),Et(g0,10),Et(Pp,8))}}static{this.\u0275dir=Yn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Tn("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hi([u4]),Kr]})}}return n})();function Nx(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Ox(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Xx=class extends Sp{constructor(t=null,e,r){super(Yx(e),$x(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Op(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Ox(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Nx(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Nx(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Ox(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var d4=n=>n instanceof Xx;var f4={provide:Dl,useExisting:_s(()=>Pd)},Px=(()=>Promise.resolve())(),Pd=(()=>{class n extends Dl{constructor(e,r,i,o,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new Xx,this._registered=!1,this.name="",this.update=new mr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=l4(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),s4(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ip(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Px.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&gi(r);Px.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?e4(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||n)(Et(Il,9),Et(Rp,10),Et(g0,10),Et(xp,10),Et(Yr,8),Et(Pp,8))}}static{this.\u0275dir=Yn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[hi([f4]),Kr,Qi]})}}return n})();var h4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({})}}return n})();var m4={provide:Il,useExisting:_s(()=>w0)},w0=(()=>{class n extends Il{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new mr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ap(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Ip(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Rx(e.control||null,e,!1),c4(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,Qx(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(Rx(r||null,e),d4(i)&&(Ip(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);Kx(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&o4(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b0(this.form,this),this._oldForm&&Ap(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(Et(Rp,10),Et(g0,10),Et(Pp,8))}}static{this.\u0275dir=Yn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Tn("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hi([m4]),Kr,Qi]})}}return n})();var p4=(()=>{class n{constructor(){this._validator=Ep}ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ep,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Yn({type:n,features:[Qi]})}}return n})();var g4={provide:Rp,useExisting:_s(()=>T0),multi:!0};var T0=(()=>{class n extends p4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gi,this.createValidator=e=>Lx}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=ll(n)))(i||n)}})()}static{this.\u0275dir=Yn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&br("required",i._enabled?"":null)},inputs:{required:"required"},features:[hi([g4]),Kr]})}}return n})();var _4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[h4]})}}return n})();var kp=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Pp,useValue:e.callSetDisabledState??y0}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[_4]})}}return n})();var v4=["input"],y4=["*"],Jx=0,Fp=class{constructor(t,e){this.source=t,this.value=e}},b4={provide:xp,useExisting:_s(()=>I0),multi:!0},eM=new pn("MatRadioGroup"),E4=new pn("mat-radio-default-options",{providedIn:"root",factory:w4});function w4(){return{color:"accent"}}var I0=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=vi(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=vi(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${Jx++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new mr}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Fp(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static{this.\u0275fac=function(r){return new(r||n)(Et(Yr))}}static{this.\u0275dir=Yn({type:n,selectors:[["mat-radio-group"]],contentQueries:function(r,i,o){if(r&1&&Ri(o,D0,5),r&2){let l;fr(l=hr())&&(i._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[hi([b4,{provide:eM,useExisting:n}])]})}}return n})(),C0=class{constructor(t){this._elementRef=t}},T4=mA(pA(C0)),D0=(()=>{class n extends T4{get checked(){return this._checked}set checked(e){let r=vi(e);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(vi(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=vi(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,r,i,o,l,f,u,c){super(r),this._changeDetector=i,this._focusMonitor=o,this._radioDispatcher=l,this._providerOverride=u,this._uniqueId=`mat-radio-${++Jx}`,this.id=this._uniqueId,this.change=new mr,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations=f==="NoopAnimations",c&&(this.tabIndex=bo(c,0))}focus(e,r){r?this._focusMonitor.focusVia(this._inputElement,r,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,r)=>{e!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Fp(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){let e=this.radioGroup,r;if(!e||!e.selected||this.disabled?r=this.tabIndex:r=e.selected===this?this.tabIndex:-1,r!==this._previousTabIndex){let i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}static{this.\u0275fac=function(r){return new(r||n)(Et(eM,8),Et(Un),Et(Yr),Et(Gs),Et(QA),Et(ci,8),Et(E4,8),js("tabindex"))}}static{this.\u0275cmp=_n({type:n,selectors:[["mat-radio-button"]],viewQuery:function(r,i){if(r&1&&Qr(v4,5),r&2){let o;fr(o=hr())&&(i._inputElement=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(r,i){r&1&&Tn("focus",function(){return i._inputElement.nativeElement.focus()}),r&2&&(br("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),vr("mat-primary",i.color==="primary")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],features:[Kr],ngContentSelectors:y4,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,i){if(r&1&&(Mi(),Ft(0,"div",0,1)(2,"div",2)(3,"div",3),Tn("click",function(l){return i._onTouchTargetClick(l)}),Lt(),Ft(4,"input",4,5),Tn("change",function(l){return i._onInputInteraction(l)}),Lt(),Ft(6,"div",6),mn(7,"div",7)(8,"div",8),Lt(),Ft(9,"div",9),mn(10,"div",10),Lt()(),Ft(11,"label",11),kr(12),Lt()()),r&2){let o=Zr(1);vr("mdc-form-field--align-end",i.labelPosition=="before"),It(2),vr("mdc-radio--disabled",i.disabled),It(2),Ct("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),br("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),It(5),Ct("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),It(2),Ct("for",i.inputId)}},dependencies:[Ed],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}}return n})(),tM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[jr,es,Is,jr]})}}return n})();function nM(n){Ai(this.request)!=n&&this.update_state({request:n,search_result_reddit:null,search_result_reddit_names:null})}function rM(n){Ai(this.search_kind)!=n&&this.update_state({search_kind:n})}function iM(){return $n(this,null,function*(){let n=Ai(this.request);try{let t=yield C4.call(this,n);this.update_state({request:n,search_result_reddit:t})}catch(t){this.update_state({errors:t})}})}function C4(n){return $n(this,null,function*(){let r=`https://cors-anywhere.herokuapp.com/${`https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -wiki`)}&num=60`}`,i=new Headers;i.append("User-Agent",I4());let o=yield fetch(r,{headers:i});if(!o.ok){if(o.status===403&&o.type==="cors"){window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");return}throw new Error(o.statusText)}let l=yield o.text();var f=document.implementation.createHTMLDocument().body;f.innerHTML=this.domSanitizer.sanitize(Wr.HTML,l);let u=[],c=f.querySelectorAll('a[href*="reddit.com/r/"]');for(let d=0;d<c.length;d++){let p=c[d];if(!p.hasChildNodes()||!Array.from(p.childNodes).some(V=>V.textContent?.includes("reddit.com")))continue;let E=p.href.indexOf("reddit.com/r/")+13,m=p.href.indexOf("?",E),C=p.href.slice(E,m);if(C.endsWith("/")&&(C=C.slice(0,-1)),u.find(V=>V.url==C)!=null)continue;let h=p.href.indexOf("/",E),v=p.querySelector(".MBeuO, .BNeawe")?.innerText||p.href.slice(E,h),w=p.childNodes.length-1,M=p.childNodes[w].textContent?.split(" : r/")[0]||"",j=p.parentElement;for(;j&&!j.querySelector(".r0bn4c, .VwiC3b");)j=j.parentElement;let q=j?.querySelector(".r0bn4c, .VwiC3b")?.parentElement?.innerText;u.push({text:q||M,display_name:v,url:C})}return u})}function I4(){let n=`Lynx/${xs(2,3)}.${xs(8,9)}.${xs(0,2)}`,t=`libwww-FM/${xs(2,3)}.${xs(13,15)}`,e=`SSL-MM/${xs(1,2)}.${xs(3,5)}`,r=`OpenSSL/${xs(1,3)}.${xs(0,4)}.${xs(0,9)}`;return`${n} ${t} ${e} ${r}`}function xs(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function oM(){return $n(this,null,function*(){let n=Ai(this.request);try{let e=(yield D4.call(this,n)).filter(r=>r!=null).map(r=>({accounts_active:0,display_name:r,public_description_html:"",subscribers:0,title:"",url:"",id:""}));this.update_state({request:n,search_result_reddit_names:e})}catch(t){this.update_state({errors:t})}})}function D4(n){return $n(this,null,function*(){let t=[A4.call(this,n),x4.call(this,n)],r=(yield Promise.allSettled(t)).filter(i=>i.status==="fulfilled").map(i=>i.value).filter(i=>i!=null).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>i!=null).map(i=>i.toLowerCase());return[...new Set(r)]})}function A4(n){return $n(this,null,function*(){let t=new URLSearchParams;t.set("query",n),t.set("exact","false"),t.set("include_over_18","true"),t.set("typeahead_active","false"),t.set("include_unadvertisable","true");let e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${t}`;try{let r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})}function x4(n){return $n(this,null,function*(){let r=`https://cors-anywhere.herokuapp.com/${`https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -comments -wiki`)}&num=60`}`,i=new Headers;i.append("User-Agent",M4());let o=yield fetch(r,{headers:i});if(!o.ok){if(o.status===403&&o.type==="cors"){window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");return}throw new Error(o.statusText)}let l=yield o.text();var f=document.implementation.createHTMLDocument().body;if("setHTML"in f){let c=new Sanitizer({allowElements:["a"]});f.setHTML(l,{sanitizer:c})}else f.innerHTML=this.domSanitizer.sanitize(Wr.HTML,l);let u=[];return f.querySelectorAll('a[href*="reddit.com/r/"]').forEach(c=>{let d=c,p=d.href.indexOf("reddit.com/r/")+13,E=d.href.indexOf("&",p),m=d.href.indexOf("/",p),C=E>-1&&m>-1?Math.min(E,m):E>-1?E:m,S=decodeURIComponent(d.href.slice(p,C));if(!S.includes("+")){!u.includes(S)&&u.push(S);return}S.split("+").forEach(h=>!u.includes(h)&&u.push(h))}),u})}function M4(){let n=`Lynx/${Ms(2,3)}.${Ms(8,9)}.${Ms(0,2)}`,t=`libwww-FM/${Ms(2,3)}.${Ms(13,15)}`,e=`SSL-MM/${Ms(1,2)}.${Ms(3,5)}`,r=`OpenSSL/${Ms(1,3)}.${Ms(0,4)}.${Ms(0,9)}`;return`${n} ${t} ${e} ${r}`}function Ms(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function sM(){return $n(this,null,function*(){let n=Ai(this.request);if(String.isNullOrWhitespace(n))return;let t=Ai(this.search_kind);if(t=="Reddit"){Ai(this.search_result_reddit)==null&&(yield iM.call(this));return}if(t=="RedditNames"){Ai(this.search_result_reddit_names)==null&&(yield oM.call(this));return}})}var Rs=(()=>{class n{constructor(){this.domSanitizer=pt(_i),this.#e=new wa,this.#t=new Ta,this.#n={errors:Ji({}),request:Ji(""),search_kind:Ji("RedditNames"),search_result_reddit_names:Ji(null),search_result_reddit:Ji(null)},this.errors=Ko(()=>Object.freeze(structuredClone(this.#n.errors()))),this.request=Ko(()=>this.#n.request()),this.search_kind=Ko(()=>this.#n.search_kind()),this.search_result_reddit_names=Ko(()=>this.#n.search_result_reddit_names()),this.search_result_reddit=Ko(()=>this.#n.search_result_reddit()),this.actions={updateSearchKind:rM.bind(this),updateRequest:nM.bind(this),searchAsync:sM.bind(this)}}#e;#t;#n;update_state(e){e.errors!==void 0&&this.#n.errors.set(e.errors||{}),e.request!==void 0&&this.#n.request.set(e.request||""),e.search_kind!==void 0&&this.#n.search_kind.set(e.search_kind||"RedditNames"),e.search_result_reddit!==void 0&&this.#n.search_result_reddit.set(e.search_result_reddit),e.search_result_reddit_names!==void 0&&this.#n.search_result_reddit_names.set(e.search_result_reddit_names)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var aM=(()=>{class n{constructor(){this.#e=pt(Xr),this.store=pt(Rs)}#e;onSearchKindChangeAsync(e){return $n(this,null,function*(){this.#e.raise(ji),this.store.actions.updateSearchKind(e.value),yield this.store.actions.searchAsync(),this.#e.raise(Vi)})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["page-header"]],standalone:!0,features:[Ln],decls:14,vars:2,consts:[[1,"toolbar"],[3,"ngModel","change"],["value","RedditNames"],["value","Reddit"],["type","button","mat-icon-button","","aria-label","menu",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"]],template:function(r,i){if(r&1&&(Ft(0,"div",0),Zn(1," Search "),Ft(2,"mat-radio-group",1),Tn("change",function(l){return i.onSearchKindChangeAsync(l)}),Ft(3,"mat-radio-button",2),Zn(4,"Reddit Names"),Lt(),Ft(5,"mat-radio-button",3),Zn(6,"Reddit"),Lt()(),Ft(7,"button",4),mn(8,"mat-icon",5),Lt()(),Ft(9,"mat-menu",6,7),mn(11,"mat-icon",8)(12,"mat-icon",9)(13,"mat-icon",10),Lt()),r&2){let o=Zr(10);It(2),Ct("ngModel",i.store.search_kind()),It(5),Ct("matMenuTriggerFor",o)}},dependencies:[kp,Np,Pd,oi,Ra,Hr,Zi,Bo,As,Gc,tM,I0,D0,Oo],changeDetection:0})}}return n})();var lM=Po({passive:!0}),cM=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Fi;let r=ko(e),i=this._monitoredElements.get(r);if(i)return i.subject;let o=new kn,l="cdk-text-field-autofilled",f=u=>{u.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(l)?(r.classList.add(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,lM),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",f,lM)}}),o}stopMonitoring(e){let r=ko(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static{this.\u0275fac=function(r){return new(r||n)(Ut(Ir),Ut(Pn))}}static{this.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({})}}return n})();var O4=new pn("MAT_INPUT_VALUE_ACCESSOR"),P4=["button","checkbox","file","hidden","image","radio","range","reset","submit"],k4=0,F4=gA(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new kn}}),dM=(()=>{class n extends F4{get disabled(){return this._disabled}set disabled(e){this._disabled=vi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(bp.required)??!1}set required(e){this._required=vi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&rb().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=vi(e)}constructor(e,r,i,o,l,f,u,c,d,p){super(f,o,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=c,this._formField=p,this._uid=`mat-input-${k4++}`,this.focused=!1,this.stateChanges=new kn,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(C=>rb().has(C)),this._iOSKeyupListener=C=>{let S=C.target;!S.value&&S.selectionStart===0&&S.selectionEnd===0&&(S.setSelectionRange(1,1),S.setSelectionRange(0,0))};let E=this._elementRef.nativeElement,m=E.nodeName.toLowerCase();this._inputValueAccessor=u||E,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect=m==="select",this._isTextarea=m==="textarea",this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){P4.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static{this.\u0275fac=function(r){return new(r||n)(Et(Un),Et(Ir),Et(Dl,10),Et(E0,8),Et(w0,8),Et(op),Et(O4,10),Et(cM),Et(Pn),Et(Wb,8))}}static{this.\u0275dir=Yn({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){r&1&&Tn("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),r&2&&(dl("id",i.id)("disabled",i.disabled)("required",i.required),br("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),vr("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[hi([{provide:$b,useExisting:n}]),Kr,Qi]})}}return n})(),fM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({imports:[jr,Sd,Sd,uM,jr]})}}return n})();var B4=["tooltip"],pM=20;var gM=new pn("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=pt(To);return()=>n.scrollStrategies.reposition({scrollThrottle:pM})}});function U4(n){return()=>n.scrollStrategies.reposition({scrollThrottle:pM})}var j4={provide:gM,deps:[To],useFactory:U4};function V4(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Z4=new pn("mat-tooltip-default-options",{providedIn:"root",factory:V4});var hM="tooltip-panel",mM=Po({passive:!0}),H4=500,z4=8,G4=8,q4=24,Y4=200,_M=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=vi(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=vi(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=bo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=bo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,i,o,l,f,u,c,d,p,E,m){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=l,this._platform=f,this._ariaDescriber=u,this._focusMonitor=c,this._dir=p,this._defaultOptions=E,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=$4,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new kn,this._scrollStrategy=d,this._document=m,E&&(this._showDelay=E.showDelay,this._hideDelay=E.hideDelay,E.position&&(this.position=E.position),E.positionAtOrigin&&(this.positionAtOrigin=E.positionAtOrigin),E.touchGestures&&(this.touchGestures=E.touchGestures)),p.change.pipe(xr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=z4}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(xr(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,mM)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(r);this._detach(),this._portal=this._portal||new Dd(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(xr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Un)return this._overlayRef;this._detach()}let r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(xr(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${hM}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(xr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(xr(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(xr(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!Oc(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset(on(on({},i.main),o.main)),this._addOffset(on(on({},i.fallback),o.fallback))])}_addOffset(e){let r=G4,i=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-r:e.originY==="bottom"?e.offsetY=r:e.originX==="start"?e.offsetX=i?-r:r:e.originX==="end"&&(e.offsetX=i?r:-r),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",r=this.position,i;r=="above"||r=="below"?i={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&e||r=="right"&&!e?i={originX:"start",originY:"center"}:(r=="after"||r=="right"&&e||r=="left"&&!e)&&(i={originX:"end",originY:"center"});let{x:o,y:l}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:l}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",r=this.position,i;r=="above"?i={overlayX:"center",overlayY:"bottom"}:r=="below"?i={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&e||r=="right"&&!e?i={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&e||r=="left"&&!e)&&(i={overlayX:"start",overlayY:"center"});let{x:o,y:l}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(qr(1),xr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){let{overlayY:r,originX:i,originY:o}=e,l;if(r==="center"?this._dir&&this._dir.value==="rtl"?l=i==="end"?"left":"right":l=i==="start"?"left":"right":l=r==="bottom"&&o==="top"?"above":"below",l!==this._currentPosition){let f=this._overlayRef;if(f){let u=`${this._cssClassPrefix}-${hM}-`;f.removePanelClass(u+this._currentPosition),f.addPanelClass(u+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let r;e.x!==void 0&&e.y!==void 0&&(r=e),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let r=e.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),H4)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{let i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,mM)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let r=this._elementRef.nativeElement,i=r.style;(e==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(e==="on"||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}static{this.\u0275fac=function(r){return new(r||n)(Et(To),Et(Un),Et(xd),Et(Ui),Et(Pn),Et(Ir),Et(ID),Et(Gs),Et(gM),Et(Ca),Et(Z4,8),Et(Hn))}}static{this.\u0275dir=Yn({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){r&2&&vr("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}}return n})(),$4=(()=>{class n{constructor(e,r,i){this._changeDetectorRef=e,this._elementRef=r,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new kn,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=i==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>q4&&e.width>=Y4}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let l=getComputedStyle(r);(l.getPropertyValue("animation-duration")==="0s"||l.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(r){return new(r||n)(Et(Yr),Et(Un),Et(ci,8))}}static{this.\u0275cmp=_n({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(r,i){if(r&1&&Qr(B4,7),r&2){let o;fr(o=hr())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,i){r&1&&Tn("mouseleave",function(l){return i._handleMouseLeave(l)}),r&2&&Hs("zoom",i.isVisible()?1:null)},decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(r,i){r&1&&(Ft(0,"div",0,1),Tn("animationend",function(l){return i._handleAnimationEnd(l)}),Ft(2,"div",2),Zn(3),Lt()()),r&2&&(vr("mdc-tooltip--multiline",i._isMultiline),Ct("ngClass",i.tooltipClass),It(3),ei(i.message))},dependencies:[bs],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return n})();var vM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Gn({providers:[j4],imports:[AD,es,pp,jr,jr,zc]})}}return n})();function K4(n,t){if(n&1){let e=Er();Ft(0,"mat-icon",7),Tn("click",function(){ur(e);let i=un();return dr(i.onClear())}),Lt()}}function Q4(n,t){if(n&1&&(Ft(0,"mat-hint",8),Zn(1),Lt()),n&2){let e=un();It(),ei(e.hint)}}function X4(n,t){if(n&1&&(Ft(0,"mat-hint",9),Zn(1),Lt()),n&2){let e=un(),r=Zr(4);It(),Bu("",r.value.length," / ",e._maxlength," ")}}function J4(n,t){if(n&1&&(Ft(0,"mat-error"),Zn(1),Lt()),n&2){let e=un();It(),ei(e.errMsg)}}var e5=n=>({readonly:n}),yM=(()=>{class n{set model(e){this._model=e??""}set maxlength(e){!isNaN(e)&&e>0&&(this._maxlength=e)}set style(e){this._style=this.sanitizer.bypassSecurityTrustStyle(e)}#e;constructor(e,r){this.sanitizer=e,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.updateOnInput=!1,this._model="",this._maxlength=256,this.inputName=r.getUniqueId().toString(),this.modelChange=new mr,this.errorStateMatcher=new op,this.errorStateMatcher.isErrorState=()=>!this.disabled&&!this.readonly&&String.hasData(this.errMsg),this.#e=Am.debounce(()=>this.#t())}onClear(){this._model="",this.#t()}onChange(){!this.updateOnInput&&this.#t()}onInput(){this.updateOnInput&&this.#e()}#t(){if(String.isNullOrWhitespace(this._model)){this.modelChange.emit("");return}this.modelChange.emit(this._model.trim())}static{this.\u0275fac=function(r){return new(r||n)(Et(_i),Et(Mc))}}static{this.\u0275cmp=_n({type:n,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",updateOnInput:"updateOnInput",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[Ln],decls:9,vars:17,consts:[[2,"width","100%",3,"ngClass"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","input"],["inp",""],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start",4,"ngIf"],["align","end",4,"ngIf"],[4,"ngIf"],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click"],["align","start"],["align","end"]],template:function(r,i){r&1&&(Ft(0,"mat-form-field",0)(1,"mat-label"),Zn(2),Lt(),Ft(3,"input",1,2),Tn("ngModelChange",function(l){return i._model=l})("change",function(){return i.onChange()})("input",function(){return i.onInput()}),Lt(),bn(5,K4,1,0,"mat-icon",3)(6,Q4,2,1,"mat-hint",4)(7,X4,2,2,"mat-hint",5)(8,J4,2,1,"mat-error",6),Lt()),r&2&&(Ct("ngClass",Ti(15,e5,i.readonly)),It(2),ei(i.label),It(),Ct("placeholder",i.placeholder)("readonly",i.readonly)("disabled",i.disabled)("required",i.required)("ngModel",i._model)("errorStateMatcher",i.errorStateMatcher),br("name",i.inputName)("maxlength",i._maxlength)("style",i._style,nC),It(2),Ct("ngIf",!i.readonly&&!i.disabled),It(),Ct("ngIf",!i.readonly&&!i.disabled),It(),Ct("ngIf",!i.readonly&&!i.disabled&&i._maxlength),It(),Ct("ngIf",!i.readonly&&!i.disabled))},dependencies:[kp,Mp,Np,T0,Pd,Hr,Zi,Sd,$A,dp,fp,zA,qA,fM,dM,vM,_M,bs,Cr],encapsulation:2})}}return n})();var bM=(()=>{class n{constructor(){this.#e=pt(Xr),this.store=pt(Rs)}#e;ngOnInit(){}onModelChange(e){return $n(this,null,function*(){this.#e.raise(ji),this.store.actions.updateRequest(e),yield this.store.actions.searchAsync(),this.#e.raise(Vi)})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["search-input"]],standalone:!0,features:[Ln],decls:3,vars:1,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10","top","50px"],[3,"model","modelChange"],["inp",""]],template:function(r,i){r&1&&(Ft(0,"div",0)(1,"input-text",1,2),Tn("modelChange",function(l){return i.onModelChange(l)}),Lt()()),r&2&&(It(),Ct("model",i.store.request()))},dependencies:[yM,oi,Hr,Bo,Oa],changeDetection:0})}}return n})();var EM=(()=>{class n{#e=pt(no);#t=pt(yo);#n=pt(Ts);on_click(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#n.save(),this.#t.navigate(["/r"].concat(r.url.split("/")),{relativeTo:this.#e})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["search-result-reddit"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:4,vars:3,consts:[[3,"href","click"],[3,"data"]],template:function(r,i){r&1&&(Ft(0,"header")(1,"a",0),Tn("click",function(l){return i.on_click(l,i.data)}),Zn(2),Lt()(),mn(3,"text-block",1)),r&2&&(It(),Ct("href",i.data.display_name,Wo),It(),ei(i.data.display_name),It(),Ct("data",i.data.text))},dependencies:[oi,Hr,Rc],changeDetection:0})}}return n})();var wM=(()=>{class n{constructor(){this.#e=pt(Xr),this.store=pt(Rs)}#e;change_subreddit(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#e.raise(new Uo(r))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["search-result-reddit-names"]],inputs:{data:"data"},standalone:!0,features:[Ln],decls:3,vars:2,consts:[[3,"href","click"]],template:function(r,i){r&1&&(Ft(0,"header")(1,"a",0),Tn("click",function(l){return i.change_subreddit(l,i.data.display_name)}),Zn(2),Lt()()),r&2&&(It(),Ct("href","/r"+i.data.display_name,Wo),It(),ei(i.data.display_name))},dependencies:[oi,Hr],changeDetection:0})}}return n})();function t5(n,t){if(n&1&&mn(0,"search-result-reddit-names",4),n&2){let e=t.$implicit;Ct("id",e.display_name)("data",e)}}function n5(n,t){if(n&1&&(Ft(0,"div",2),bn(1,t5,1,2,"search-result-reddit-names",3),Lt()),n&2){let e=t.ngIf,r=un(2);It(),Ct("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function r5(n,t){if(n&1&&(eo(0),bn(1,n5,2,2,"div",1),to()),n&2){let e=un();It(),Ct("ngIf",e.store.search_result_reddit_names())}}function i5(n,t){if(n&1&&mn(0,"search-result-reddit",6),n&2){let e=t.$implicit;Ct("id",e.display_name)("data",e)}}function o5(n,t){if(n&1&&(Ft(0,"div",2),bn(1,i5,1,2,"search-result-reddit",5),Lt()),n&2){let e=t.ngIf,r=un(2);It(),Ct("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function s5(n,t){if(n&1&&(eo(0),bn(1,o5,2,2,"div",1),to()),n&2){let e=un();It(),Ct("ngIf",e.store.search_result_reddit())}}var TM=(()=>{class n{constructor(){this.store=pt(Rs)}trackByFn(e,r){return r.display_name}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["search-result"]],standalone:!0,features:[Ln],decls:2,vars:2,consts:[[4,"ngIf"],["class","layout",4,"ngIf"],[1,"layout"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","data"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(r,i){r&1&&bn(0,r5,2,1,"ng-container",0)(1,s5,2,1,"ng-container",0),r&2&&(Ct("ngIf",i.store.search_kind()==="RedditNames"),It(),Ct("ngIf",i.store.search_kind()==="Reddit"))},dependencies:[fo,Cr,EM,wM],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0})}}return n})();var A0=class{constructor(){this.q="",this.k=0}},SM=(()=>{class n{#e;#t;#n;#i;#r;#s;#o;constructor(){this.#e=pt(cD),this.#t=pt(uD),this.#n=pt(Xr),this.#i=!0,this.#r=pt(no),this.#s=pt(yo),this.#o=pt(Ts),this.pageState=new A0,this.store=pt(Rs),ul(()=>{let e=this.store.errors();Object.keys(e).length>0&&this.#t.scrollIntoView()}),ul(()=>{let e=this.store.request(),r=this.store.search_kind();if(this.#i){this.#i=!1;return}this.#c(e,r),this.#u()}),Yi(this.#n.handle(Uo).pipe(ar(e=>this.#a(e)))).pipe(Ds()).subscribe()}ngOnInit(){return $n(this,null,function*(){this.#n.raise(ji),Ea.adapt(this.pageState,this.#r.snapshot.queryParams),this.#l(),yield this.store.actions.searchAsync(),this.#o.restore(),this.#e.focusFirst(),this.#n.raise(Vi)})}#a(e){this.#o.save(),this.#s.navigate(["r",e.subreddit_requested])}#l(){this.store.actions.updateRequest(this.pageState.q),this.store.actions.updateSearchKind(this.pageState.k==1?"Reddit":"RedditNames")}#c(e,r){this.pageState.k=r==="Reddit"?1:0,this.pageState.q=e}#u(){let e=Object.trimUnusedProperties(Object.assign({},this.pageState));this.#s.navigate([],{queryParams:e,replaceUrl:!0})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=_n({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ln],decls:4,vars:1,consts:[[3,"errors"]],template:function(r,i){r&1&&mn(0,"page-header")(1,"general-error",0)(2,"search-input")(3,"search-result"),r&2&&(It(),Ct("errors",i.store.errors()))},dependencies:[$c,oi,bM,aM,TM],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0})}}return n})();var CM=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:Dx},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a",component:h0},{path:"comments/:a/:i",component:h0},{path:"s",component:SM}];var IM=()=>[{provide:Sa,useValue:{keyPrefix:"RedditReader"}}];var DM={providers:[PA(),IM(),lx(),oA(),rD(CM)]};var AM={production:!0};AM.production&&void 0;TI(OA,DM).catch(n=>console.error(n));
